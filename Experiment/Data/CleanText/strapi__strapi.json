{
    "lauriejim": "LGTM\n. Thank you for this feedback.\nThis function is now ready to use in login page.\n. Hello @sskyy ! Happy to see you on Strapi.\nAbout the v2 we made a blog post to explain what are next steps of Strapi - http://strapi.io/blog/the-future-of-strapi\nYou will find more information about the Strapi v2.\n. It's not plan to create it now. Javascript SDK is available https://github.com/strapi/strapi-sdk-javascript. I update the name of this issue because we can search by attributes. See filters documentation. Mode information here https://github.com/strapi/strapi/issues/1292. LGTM.\n. LGTM. LGTM. LGTM. LGTM. LGTM. LGTM. LGTM. LGTM. LGTM. LGTM. LGTM. I don't really understand changes you did to have this issue. Can you explain more precisely what you did?. Try with npm please.. In this case (for non global installation), you can use npx\n. If you are using Yarn, it's not supported by Strapi so switch to npm.\nMore information here https://github.com/strapi/strapi/wiki/Frequently-Asked-Questions. Hum there is no configuration cache in Strapi. . Okay thank you for this issue, generated code is not completely correct.\nThe global model have to be Strapiapi or Testapi instead of StrapiApi\nAnd in strapi object it's strapi.services.strapiapi or strapi.models.strapiapi instead of strapi.models.strapiApi.. Hi @kmathy your bugs have been fixed in our last alpha version. Can you install it and tell me if it work fine now.. Okay, actually you can update the settings of the default connection but you can't have two mongo connections in the same time. But you can have one on mongo and one other for postgres. \nWe will fix it soon.. It's fix on strapi@3.0.0-alpha.7.2 - to update to this version, change the strapi version in your package.json. Install strapi@3.0.0-alpha.7.2 in global and generate a new project. Then copy and past the new plugins and admin folder in your application.. Thank you for your contribution.. You will be able to find information in the documentation https://strapi.io/documentation/migration/migration-guide.html. Yes we know about thats, it's in our roadmap to have a better workflow using content type builder with SQL database.. With this two new features https://github.com/strapi/strapi/pull/420 and https://github.com/strapi/strapi/pull/416 we improved the user experience for SQL database project.\nWill be available in version alpha.8. Hello, you have to create manually your user table.\nCREATE TABLE \"user\" (\n    id integer NOT NULL,\n    username text,\n    email text,\n    created_at timestamp with time zone,\n    updated_at timestamp with time zone,\n    role text,\n    provider text,\n    \"resetPasswordToken\" text,\n    password text\n);\nWe are working to improve the user experience with SQL databases to make it easier to use.\nIf you want fake data in your application, you can create data using content manager plugin in some clicks.. Hi @dyunggertrude, thank you for this report. It will be fix in strapi@3.0.0-alpha.6.7 today or monday.\nBut if you want, you just have to replace source url attribute by users-permissions when you try to list your users in the content manager.. Fix in this commit https://github.com/strapi/strapi/pull/381/commits/5b542cff2059b7a68fcceab638436e4684be34d7 and publish in strapi@3.0.0-alpha.7.2 version. Hello @nickngqs. The documentation about that will be publish today.\nActually you have to go in your admin dashboard, then in the user and permissions plugin and update Guest role and allow in application section find and findOne actions.. It looks like it not coming from thepost install script.\nCan you remove your node_modules folder and try again your npm install.. You are write, we are working on it. You receive data of your document object. So you have _id and __v keys.. This PR will be merged in few days https://github.com/strapi/strapi/pull/831. There is already an open issue about that.\n. You can check how our users-permissions plugin work and custom it to work with Auth0. Hello @futbotism , thank you for this issue.\nIf you upgrade to node 8 and npm 5 it will fix this problem.\nCan you make a PR with your changes please. It will help users who use node 7. Hello @alexbigapps23 can you give me more information about your problem.\nWhen this problem happens?. @dakuenjery you have to execute your npm start in the admin folder of your project and not in the strapi-admin folder of your strapi clone.. Yes it's a symlink but I don't know why your pwd change to your strapi folder when you go in the admin folder.\nIn my computer : \n\u279c  projects > strapi new myApp --dev\nINFO (10929 on jim-strapi.local): Creating your application... It might take a few seconds.\nINFO (10929 on jim-strapi.local): Copying the dashboard...\nINFO (10929 on jim-strapi.local): Installing dependencies...\nINFO (10929 on jim-strapi.local): The plugin settings-manager has been successfully installed.\nINFO (10929 on jim-strapi.local): The plugin content-type-builder has been successfully installed.\nINFO (10929 on jim-strapi.local): The plugin content-manager has been successfully installed.\nINFO (10929 on jim-strapi.local): The plugin users-permissions has been successfully installed.\nINFO (10929 on jim-strapi.local): The plugin email has been successfully installed.\nINFO (10929 on jim-strapi.local): Linking `strapi` dependency to the project...\nINFO (10929 on jim-strapi.local): Linking `strapi-mongoose` dependency to the project...\nINFO (10929 on jim-strapi.local): Your new application `myApp` is ready at `/Users/jimlaurie/Documents/WORKSPACE/Strapi/projects/myApp`.\n\u279c  projects > cd myApp\n\u279c  myApp > pwd\n/Users/jimlaurie/Documents/WORKSPACE/Strapi/projects/myApp\n\u279c  myApp > cd admin\n\u279c  admin git:(master) > pwd\n/Users/jimlaurie/Documents/WORKSPACE/Strapi/projects/myApp/admin. Hello @gyan009 , please update your issue with detail of your issue.. Create new project with 7.3 version and replace the admin folder of your application with the new one.\n  . Can you update the postinstall in your package.json to : \"postinstall\": \"node node_modules/strapi/lib/utils/post-install.js\" and try again please.. @blondie63 Yes you can. Set your database connection informations in /config/environments/development/database.json or via the settings manager plugin in your admin dashboard\n  . Are you able to connect to these mongodb cloud database with a tiers software as robomongo (https://robomongo.org)?. This issue come from Strapi not handle cluster connection I think.\nIf you fixed it to use your mongodb cloud database, you can submit a PR to improve the project \ud83d\udc4d . @seleckis can you try to update in /config/hook.json the timeout time.. This issue still exits.\nMongoDB client is earlier than 3.4 version. So it need replica set servers to connect to the database. And Strapi not accept replica set.. You will have to use uri params in database.json file (check production env file). Hi @andyjessop , I will investigate this point. \nFor now make $ npm install strapi-bookshelf@alpha strapi-knex@alpha knex mysql --save it's have to work with that.. Hi @gongchao and @ArkhipovK.\nWe will add a warn log in the next version to tell you to create user table. https://github.com/strapi/strapi/pull/416. Hello @etx thank you for your issue.\nIt seems looks like to this issue (https://github.com/strapi/strapi/issues/328). Hello @acifer can you be more precise. What do you mean by \"User created API\" ?\nDon't really understand your problem.. We fix it in alpha.8 all new controller's actions are disable for guest users and other groups you have created. To available it you have to use you admin dashboard.\nTo move to alpha.8 you can use this guide https://strapi.io/documentation/migration/migration-guide-alpha-7-4-to-alpha-8.html . Please check this issue https://github.com/strapi/strapi/issues/2013\nWe will update the article. Hello @Amurmurmur thank you for this issue. \nWe are actually moving it on MongoDB, it's will be available in few weeks.. Hi @storm1er.\nCan you try to do same actions (without dev mode), but after you test model creation, wait the server restart. It has to restart 2 times (it's actually normale). And tell me if the problem is persistent.\nWe are working on a \"waiting\" loader after you make actions which need a server restart to avoid you to have this issue.. You will find the answer here https://stackoverflow.com/questions/48254489/strapi-responsive-ui. Hi @Nsbx thank you for this PR.\nTo remove files, we will prefere use shelljs node modules which is already used in setup.js script.\nhttps://github.com/strapi/strapi/blob/master/scripts/setup.js#L30\nCan you update your PR with this node modules and confirm me it works ?. Well done @Nsbx  !. Hi @ayadav.\nIf you do that, plugins models will never be loaded, see https://github.com/joshtechnologygroup/strapi/blob/5d9a49256a612181dec6f731d59854a546787dd5/packages/strapi-bookshelf/lib/index.js#L397\nYou can update this line with your condition https://github.com/joshtechnologygroup/strapi/blob/5d9a49256a612181dec6f731d59854a546787dd5/packages/strapi-bookshelf/lib/index.js#L394 \nThanks for your contribution !. Hi @lucaperret , thank you for you contribution.\nCan you update if conditions to allow connection with a username and an empty password please.. Hi @lucasdu4rte thank your for this issue.\nA pull request have been submitted to fix it https://github.com/strapi/strapi/pull/497 . Fixed here https://github.com/strapi/strapi/pull/507/commits/462b44a759caef15ebf3239a84e912b3c057b897. Hi @edimitchel thank for this issue.\nReally low impact on Strapi so it's not in our priority.. If you still need it, submit a PR with this little check :)\nWill appreciate your contribution !. Hi @radmen can you update then version of  Strapi to alpha.10.x and tell me if you still have your issue please.. Good catch, miss to re-open it. We are stoping sqlite support.. Yes you are right ! But actually the experience si not good with sqlite and it's not our priority to fix this connector.\nWe will work on a great experience with MySQL and Postgres and don't focus on sqlite.\nRemove it is the best way to omit bugs on this part.. Hello @moeinrahimi , can you try again. But wait the server restart (2 times) before going on the content type page.. @storm1er Can you open an other issue for your case please.. Hello @DrChills, can you try to create postcategories content type instead of postCategories.. @Globerada what is the Strapi version you use please\n. Done https://github.com/strapi/strapi/pull/1199. I close this issue. We will not do it. \nMaybe in a long futur with a custom configuration for which data display in this table.. The generated request does't work with postgres now.\n`` is not recognized by postgres. In fact you just have to make a condition like this line https://github.com/strapi/strapi/pull/497/files#diff-0c0ec60e7cc771f905ecac28620fe70fR286 to apply\"if necessary.. Will be fixed in this PR https://github.com/strapi/strapi/pull/903. It was wrote in the migration / change log. I think it's this issue https://github.com/strapi/strapi/issues/328 ?\nCan you try with a content type without space or camelcase ?. Hello @niallobrien Can you give me the process you did to have this issue (be more precise as you can please). Okay I understand your needs. I close this issue but still #661 open.. @lucaperret Can you give us an update about this issue please. Hi @lucasdu4rte can you give us an update about this issue please. @derrickmehaffy Impossible to reproduce your issue...where are stored your Strapi node module when you make anpm run setup?\n. Hey guys some news about this issue ?. It's fixed here on master https://github.com/strapi/strapi/pull/469, will be published soon.. Hi @lucasdu4rte Can you update to last version on Strapi and tell me if it still happen ?. Thank you for this issue. It's could be awesome if you can fix it and submit a pull request to the project.. Visit our [Contributing Guide](https://github.com/strapi/strapi/blob/master/CONTRIBUTING.md) to start your development.. Yes that's a good PR. Thank you for your contribution.. Can you tell me the database you use please. It's fix in our last release https://github.com/strapi/strapi/releases/tag/v3.0.0-alpha.9.2 . Checkoutalpha.11.1` and on master branch for last users fixes.. Hello @hansemannn what did you want do, one user can update his profile with this route ?. I link a screen about a discussion of this topic.\nYou just have to update to your use case (User api routes)\n\n. That's good point. \nActually you can fix it by creating a new Registered role and update the register function to apply to your new users the Register role.. I'm agree with you @storm1er.. UI to update default role on register is coming https://github.com/strapi/strapi/pull/773. Yes you are right. I think it's have to be moved on email template settings of the plugins users and permissions.. Actually to fix it, you will have to change the forgot password template and replace HOST variable by a static url.. Will have to use this advanced setting input for confirmation and forgot password redirection - https://github.com/strapi/strapi/pull/1733/files. Can you tell me the database you use please. @storm1er Your issue is related to required settings on you models. To hot fix it, just delete \"required\": true in your models.. Can you give me the PUT request parameters you send and the error message you receive.\nYou will have to inspect you browser network. . @dareksob Can you give us an update about your issue please.. It's fix in this release https://github.com/strapi/strapi/releases/tag/v3.0.0-alpha.9.2. @harshilsharma63 can you tell me if this issue still happen with last version of Strapi ?. I am closing this issue because we don\u2019t have any update/needed informations about it.. LGTM, I would like a review by @Aurelsicoko before merging this PR.. Hi @mittalyashu, you have to update your node version to node 9 and npm 4.. You change your node version and install strapi again and generate a new project ?. @Yobikap there is any errors displayed ? . Okay, are you able to try with one of these terminal ? https://github.com/SBoudrias/Inquirer.js#support-os-terminals\n. @Yobikap can you update to node 9.\nBut not sure it will solved this issue.. Hello @derrickmehaffy can you please give us an update about this issue.\n@soupette message helped you ?. Hi @sachin-rajput can you give us an update if the @Aurelsicoko message helped you.. No news after my last message, I close this issue.. Hello @illoRocks ! Thank you for this issue.\nBut I can't reproduce this issue. Your error message come from this line :https://github.com/strapi/strapi/blob/master/packages/strapi-plugin-email/services/Email.js#L33\nCan you log and give me the err content please.. @Yobikap CAn you give me your arealocation model please.\n@storm1er Can you give me a .zip of you models please (easier to try to help you to reproduce your bug). @Yobikap I have reproduce your model, then play with content manager and don't have any problems.\nCan you tell me steps to reproduce your issue please. Okay thank you for this video, it's really clear now. \nI think it's come from the type of the relation.\n. I don't know right now, I have to investigate on it.. Work on alpha.12.1.3 since the work we did on relations stabilization.. Can you be more precise please.\nYou create a new content type via the content type builder ?\nAnd then using the generated routes you can't get a specific entry ?. Hi @bogdancrisu and @mukeshmaurya91 please update to the last version of Strapi.. @T-Zahil Can you please open a new issue, following the issue template.. Hi @lucaperret thank you for this PR.\nCan you also add some documentation about your additional options for this page https://strapi.io/documentation/cli/CLI.html#strapi-new. The file to update is https://github.com/strapi/strapi/blob/master/docs/3.x.x/en/cli/CLI.md. @lucaperret just to let you know but now we are not able to create new project with --dev option (without db options).\nI will fix it.. We choose an other way to make a link between the community and the project.\nHere is https://strapi.io/shop to support the project by buying a Strapi t-shirt.\nhttps://twitter.com/edimitchel/status/937770654941765632\nhttps://twitter.com/yakovlevyuri/status/931603318551601152. Not for now. But maybe in the futur so we want to still have our account.. Hello @JoshuaYang.\nI tried with pm2@2.1.5 and strapi@3.0.0-alpha.10.2 and I have no errors in the terminal.\nBut if you don't start you project with strapi start the auto restart when new content type is created is not available. So if you refresh your page, the content-type is created but not mount in your project.\nTo use correctly the content-type-builder please launch with strapi start.\nLet me know if it works fine.. Hello @BransonGitomeh I don't understand you issue. Can you please open an issue following the issue template. Appreciate !. Hi @rroblik can you be more precise about what you want with --poll tag please.\nAnd what do you suggest to watch files for Strapi restart ?. @rroblik Can you give us an update please. Thank you for this proposition @padupuy . Hi @padupuy thank your for this issue. \nYour issue is really specific to your configuration. I let this issue open but we will not investigate soon for this issue. \nBut if you want you can contribute to improve Strapi documentation making a pull request to add your point in the doc.. A part of this issue here https://github.com/strapi/strapi/issues/767. @wingsiu can you give us some update about your issue please.. I close this issue, no news.. Can you just check if you update your database connection with the settings manager, your uri config will not be deleted your database.json fils. Hi @akwatra, please follow this issue https://github.com/strapi/strapi/issues/616 please.. Hello @akwatra .\nCan you try with https://github.com/zeit/ms format. '2m' for 2 minutes and tell me if it works.\nIt works fine on my computer with number and string format.. Hello @rroblik , did you try the gist you linked ? It works ?. @abrakadobr you don't have the same issue.\nPlease be sure the application you launch has been created with the Strapi version you have on your computer and if it's persistant open a new issue.\n. @mittalyashu any update about your issue ?. Can you update you Strapi version. And test again with new project.. That is a good new :)\n. The difference between your 30 websites is just about the front-end part ? But have the same API and data ?. Hi @henriollik your problem looks come from you server config. \nSo I hope the Strapi community will help you to solve your problem :). @henriollik Do you have update about your issue ?. @henriollik As we can see, it's not an issue from Strapi that's why we set help wanted label. If you are not working on it I close this issue.. Can you be more precise with your models definition. The best wait to be able to help you is to share your 4 models. It's will be more easy to reproduce your issue.. No news about that, I close this issue :). Hey @lucaperret thank you for this proposition.\nWe plan to make it but not now, it's not in our high priority.\nIt's possible to create your own policies https://strapi.io/documentation/guides/policies.html to handle your case.. Sadly nop, because your controller can call many different models in the same action.\nBut if you use the REST url format, you can detect the model that will be called [action] /[model]/[ressource] for GET /article/1337\nIt's not 100% perfect but can work I think.. At the bottom of the page you have a form to submit you proposal.\nYes \ud83d\udc4d is a good option too but submit also the feature you want please.. Thank you for this point @abdonrd . Thank you @feat7 for these details. It will be a part of this card https://portal.productboard.com/strapi/c/8-administrators-roles-permissions. Hi @mikedevita. You just have to remove your space and it will work.\nIf you want you can try to fix it and submit a PR to help the community :). Hello @lucaperret , yes it's testable before release a new version of strapi.\n@Aurelsicoko published an article about it https://blog.strapi.io/testing-npm-package-before-releasing-it-using-verdaccio-and-ngrok/. Hi @faebeee , same as @e2o , I can't reproduce your issue.\nDid you change you npm registry ?. Hi @fabiomig if your user provide an Authorization header you will have access to his user.id (https://github.com/strapi/strapi/blob/master/packages/strapi-plugin-users-permissions/config/policies/permissions.js)\nSo you can customize your API controller for you use case. I close this issue, follow this one. It's really similar https://github.com/strapi/strapi/issues/624. Hello @denislutz. Please update your Strapi version, it works fine on strapi@alpha.10.x.\nYou will be able to fine migration guides in our documentation.. Can you please try to create new project with last version of Strapi.\nCreate in some clicks your model and try again. \nOr try to start your app with the same version of Strapi as your app.. Hello @mrksohag can you be more precise on the steps to reproduce the problem please. @mrksohag I can't reproduce your issue. Can you try to log and debug this file https://github.com/strapi/strapi/blob/master/packages/strapi-mongoose/lib/utils/connectivity.js. I think it's here something is wrong for your mongo configuration. . We had authenticationDatabase option here https://github.com/strapi/strapi/pull/753. Hi @luisnomad you can also upvote your feature on https://strapi.io/vote page . WYSIWYG is coming soon ! https://github.com/strapi/strapi/tree/wysiwyg\nAnd you can find the roadmap here https://github.com/strapi/strapi/blob/wysiwyg/ROADMAP.md. Hi @nguyenhoangsin and @Freakspot ! Thank you for this issue.\nWe will not fix it soon, so to bypass this issue you will have to create new api (strapi generate:api) and move generated controller and model and update naming variables and files name.. @nborko Yes you are right !. Hello @ultmatedev I can't reproduce your issue.\nCan you send me the error response you get in your browser network please.. Can you delete your root user in database. Register new root admin account (http://localhost:1337/admin, the register form will be displayed) and then make sure, your Guest role have all Users and Permission Auth action available.\nIt works fine on my computer. Can't reproduce this issue.\nWhat if you use a new clean project and database ?. The migration PR https://github.com/strapi/strapi/pull/651 has been merge. Will be available in few minutes. This branch has been released on npm npm i strapi@3.0.0-alpha.10.2. Hi @derrickmehaffy Yes it's a good issue. It's could be super cool to handle it. . Thank you for these details.. Will move it in content manager settings. https://github.com/strapi/strapi/issues/1359\nTwo issues are linked. I close this one.. Merge is coming @lucaperret  ! . Thank you @denislutz  and @Freakspot for your participation \ud83d\udc4d . Welcome in the Strapi contributors group. Keep an eye on the next Strapi release change log :). Please use node 9. Thi issue is related to this one https://github.com/strapi/strapi/issues/661. Hi ! Yes it's a useful feature. It's implemented in SQL database with strapi-bookshelf but not actually for mongoose.. It's in alpha.11 add \n\"options\": {\n     \"timestamps\": true\n   },\nin your model files. @tienthinhturbo Can you update you nodejs version to node 9 please and tell me if it works.. @keyus4 To create a project with --dev you have to install Strapi following the contribute guide https://github.com/strapi/strapi/blob/master/CONTRIBUTING.md\nIt's what you did ?. Okay can you replace rm -rf with rmdir /s /q and test again.\nWe will have to move it in a script to be more os agnostic.. I close this issue. Resolved with https://github.com/strapi/strapi/issues/680#issuecomment-381018295\nWe will work on windows improvement in fews weeks.. Can you give me your model and the body of your PUT request to try to reproduce your issue.\nIt works fine on my side.. Don't really understand:\n\nbut I don't actually still have the record of it \n\nWhat is the body of your request ? \nSomething like that ?\n{\n  \"seen\": [\n    \"123\",\n    \"456\"\n  ] \n}. Hi @joeinnes can you give me more details please.. In this case we force to populate just role relation. If we inspect findOne query of mongoose https://github.com/strapi/strapi/blob/master/packages/strapi-plugin-users-permissions/config/queries/mongoose.js#L19 we can see, if we remove ['role'] as second argument, the query with populate with all relation.\nSo you can remove ['role'] and it will works. \nCan you make this change and submit a pull request please.. @TheWebsDoor Thank you for this issue.\nTo give you more info about this issue. This case happen just where a relation is made with a plugin model (User of Users and Permission in this case). It will works fine with api relations. After pulling master I tried to reproduce the issue but it works fine. I think @Aurelsicoko fixed it working on polymorphic relations. \nMaybe you will confirm it work on your side too.. I close this issue, please follow this issue https://github.com/strapi/strapi/issues/496. LGTM\nBut before validate this PR, you comment many lines of code.\nIs it useful to kept them ?. Hello @abdonrd thank you for this issue.\nBug ? yes and no, it's actually not implemented in Strapi.\nIf you want to help us on this point.\nYou can investigate on how work the database form here https://github.com/strapi/strapi/blob/master/packages/strapi-generate-new/lib/before.js#L63\nand how we test the database connection for mongoose here https://github.com/strapi/strapi/blob/master/packages/strapi-mongoose/lib/utils/connectivity.js. Hey @abdonrd ! @mtringuyen make some update to get ssl option, maybe you can help him for this PR and add authoSource https://github.com/strapi/strapi/pull/738\n. Please use node 9. I have updated the website and the documentation. Thank you for this issue.. Can you please guys try again with clean install of the last Strapi version please.. Hi @tapvt !\nTo follow the loading process it's here https://github.com/strapi/strapi/blob/master/packages/strapi/lib/Strapi.js\nAnd for the store setup it's here https://github.com/strapi/strapi/blob/master/packages/strapi/lib/core/store.js\n. Hi @kis ! We can't reproduce (see the label) so difficult for us to fix it if it's not happen in our machine.\nIt's why we need your help to fix it. Please see my last message to investigate on.. Thank you @tapvt for your update ! Waiting @kis update before moving this issue to feature-request and rename it.. Can you guys give us an update about this issue and logs of .orm value.. A PR will be rewrite about this point - https://github.com/strapi/strapi/pull/793. @derrickmehaffy did you upvote your feature on https://strapi.io/vote ?. You will have to remove the jwt from your user session to logout your users. \nIf you don't store your users's jwt (in a redis database for exemple), you will not be able to reject them to logout your user.. Look really really nice ! I have to try it for npm publish. If every thing I want still published.. @abdonrd I have to test it with our deployment process cause these files are critical for publishing on npm.\nTest is take many times and I'm actually working on wysiwig with @soupette . \nI will try it before the end of the week.. Hey @abdonrd today I took time to test your code and that confirm my doubts.\nYour update remove admin build folders on npm. Where there is a gitignore, npm use it as npmignore file so it's ignore admin build in strapi-admin/admin for example.\nSo you have to create empty npmignore file where you have a gitignore to not omit build.\nWe have to send it on npm to not make the entire build when someone install strapi.\nTo be sure your code work as expected I use this process to test https://blog.strapi.io/testing-npm-package-before-releasing-it-using-verdaccio-and-ngrok/ (without ngrock in first time)\nPublish process of Strapi:\n1. run npm run setup to be sure the local setup is ok\n2. update package.json version to 11.2 and run npm run clean (to apply the new version to all packages)\n3. run TAG=alpha npm run release\n4. Then install the strapi version you just publish npm i strapi@alpha -g and test strapi -v is alpha.11.2\n5. Play with the admin and each plugins to be sure all build works fine.. If we don't send build, we have to did it on npm installation and it's not really cool to run npm install strapi and wait a long time for the build.\nThat is why. The experience is more fluent if we send build on npm.\n. Nop, but as you said in your issue, you have to rebuild admins after a git pull.\nHave to discuss with @Aurelsicoko about this point.. Hello @UserGalileo , thanks for this issue.\nActually not planned to implement and UI in admin for that but you already use i18n with strapi https://strapi.io/documentation/guides/i18n.html\nWe are drive by the community for next feature, submit or upvote yours here https://strapi.io/vote. Ho okay I see. \nCan you upvote Plugin - Content Internalization on https://strapi.io/vote page please. @lancevo Yes you are right ! We have to update it.. Hi guys ! Can you help us by submit a PR to fix this issue.. LGTM but want a review from @Aurelsicoko \nCan you also write documentation about that. https://strapi.io/documentation/advanced/logging.html. Can you be more precise on your issue please. I don't understand.. Okay, on entry creation the content manager can detect the category by its id and make the relation but fail on update and add null for the relation.. After pulling master I tried to reproduce the issue but it works fine. I think @Aurelsicoko fixed it working on polymorphic relations.\nMaybe you will confirm it work on your side too.. @pedrosimao @Aurelsicoko will answer you on your issue https://github.com/strapi/strapi/issues/750. Hi @rockmandash You want submit new PRs for plugins translation or add new commits on this one ?. Great, I'm gonna wait your GO when you have finish with that to merge this PR.. I close this issue, duplicate of https://github.com/strapi/strapi/issues/496. Hello @christroutner !\nYour sample-strapi-app repo is a fork of this one https://github.com/strapi/sample-strapi-app ?\nCan you please try with node 9 and test with last version of Strapi.\nSame for this issue https://github.com/strapi/strapi/issues/728 . You are in dev mod (local installation from github) ?\nCan you give us steps you did to have this issue.. There is no white space to the @lamarena path. So I don't think it's related.. @lamarena I close this issue, cause it's probably come from node version, please update your strapi version too. And if the issue still happen, I will re-open it.. Are you in dev mode ?\nI can't reproduce it on the last version of Strapi.. Can you tell me if the plugin is successfully deleted ?\nHum both of you are on ubuntu, it's maybe coming from your OS.\nCan you help me with try to find here https://github.com/strapi/strapi/blob/master/packages/strapi-admin/controllers/Admin.js#L54 where the function break on you computer.. strapiBin is just require to execute strapi uninstall ... if strapi is not installed globally.\nIn your case can you test with a try catch the require of strapiBin and tell me what is the error in the catch.. @Moomboh Can you give me an update about my last message please.. I close this issue. This is the same issue as https://github.com/strapi/strapi/issues/785 but for uninstall plugin.. You have to check if your user can make this action. Update the role permissions he has in the admin pannel. By default guest user can't update an user.\nisOwner policy to be able to update his own entries is coming.. Hi @daominhsangvn do you try to follow this article to did it ?\nhttps://blog.strapi.io/how-to-deploy-a-strapi-application/. You can actually let an empty string in username and password input if you don't require authentication. It should work.. Hi @msgeissler thank you for this issue.\n. Hello @mnlbox I can't reproduce it on my machine with last version of Strapi.\nI can make relations and add new fields.\nCan you share your models please.. It's a part of the plugin extension, it's in the roadmap.\nBut actually not possible to did it.. We plan to add it in setting pannel.\nBut if you want to custom it yourself, you will have to custom this action https://github.com/strapi/strapi/blob/master/packages/strapi-plugin-users-permissions/controllers/Auth.js#L211 . Okay. It's will probably done in 2 or 3 weeks.. That is true !\nAnd I submit a PR to close this issue https://github.com/strapi/strapi/pull/773\n. Hi @wi4er strange issue .... if it happen randomly it will be hard to reproduce and fix ... Okay but we have to definitively find a way to reproduce this weird thing !!. Hi @sedubois Yes we plan to have graphql support.\nPlease upvote this feature on https://strapi.io/vote and other you want. It helps to drive Strapi development.. I merge this one and continu the discussion on this PR https://github.com/strapi/strapi/pull/753. hi @southside it's a duplicate of this issue https://github.com/strapi/strapi/issues/709\nFor the moment please use a path without space.. Maybe update your strapi version and node version.. It's actually not a priority for us now.. Hi @mnlbox !\nPriority low about this issue. It's not a priority for us. We will not work on it for next months.\nNext steps for us will be to work on JSON fields and GraphQL improvements.. @Aurelsicoko is already writing it \ud83d\ude04 . @mnlbox the roadmap article has been published.\nAnd feel free to add it in the documentation. Easy contribution to do.. Hello @mnlbox, we can close this issue.\nFeel free to submit a PR if you think it's important for the community to have this information now.\n. Hi ! Actually the best way is to create a Short script that convert your CSV data in an array of JSON object and then to loop on and make await strapi.services.product.add(entryObject);\nOr find a tools that make directly an import in your database.. Hi @eibrahim, our upload plugin is not finished and not published on npm so it's no actually possible to did it. Obviously documentation will be write when we are done with that.\nIt's coming in few days (before the end of the week). Follow the documentation https://strapi.io/documentation/3.x.x/guides/upload.html#install-providers\n. Hi @tonihauptcc .\nIt's actually not possible. We don't developed connector for this database.\nIf you want to checkout how connectors works, look strapi-bookshelf and strapi-mongoose (and good luck !). You will have to create duplicate of strapi-mongoose node module (you call it strapi-dynamodb for example) then you update your config/environments/.../database.json and update the connector.\nThen you have to write your connector for DynamoDB. Please checkout https://github.com/strapi/strapi/issues/745. As @TheWebsDoor told you here https://github.com/strapi/strapi/issues/711 . It's done on a specific branch, will be release at the end of the day or tomorrow. So it's actually normal if it doesn't work.\nI will ping you on this issue when it will be released to ask you to test it again with alpha.11 version.. Hi @thucxuong We will not work on this feature request. If you want it, feel free to submit a PR. Will appreciate your contribution.. Can you test it please and tell me if it fix your issue ?\nAfter that I will be able to merge it ;). Perfect ! Thank you . It's normal. Strapi try a npm install strapi-mongoose@alpha and your update is not publish to npm.\nIf you update the line where the test connection folder is created by npm link strapi-mongoose it should work.. That is interesting \ud83d\udc4d . Perfect :D. You can make a deep populate to get each authors and there company.\nThen you can get compagnies there are linked to your Document.. Checkout http://mongoosejs.com/docs/populate.html#deep-populate.\nBut in your case, get Document populate Author and deep populate Company.\nThen you can get all companies linked to your article.. Ho okay, I understand your use case.\nActually you will have to store it in an other collection that has a relations with each of your other models.\nSadly we will not have time to work on now.\nBut it's an interesting use case. Hey @abdonrd. The best way actually is to create a Author model which have a relation with Company and Writer. And your Document model has a relation with many Authors.. Yes @abdonrd that's it. Actually I have no idea of how did it in one request.\nThis relational data structure has not be imagined and implemented in Strapi.. Hi @msgeissler . \n@Aurelsicoko make a mask system to hide sensitive data https://github.com/strapi/strapi/pull/613\nWe break it in our last release. So it's in our backlogs to fix it.. Hi @msgeissler thank you for this issue. I can see the http response body looks good.\n@soupette Can you look why the error message is not display with the good message please.. We don't display relations on this table. Media field is a polymorphic relation with File content type.\nI understand your need.. Actually nothing. It's not in our roadmap to implement relationships display in this list.. It's fixe on master follow the next release. . Did you update your users-permission plugin following the migration guide (in the documentation) ?\n. Hi @adispartadev thank you for this issue. It's true, we have to use for key.. Hum \ud83e\udd14 looks don't like JSON.stringify format as text value.... Hi @pakulin can you fix it and submit a PR as did @sapkra for previous issue.\nThank you :D. Fixed here https://github.com/strapi/strapi/pull/969. It looks coming from your os permissions. Don't think it's related to Strapi.. How you install and setup your Strapi app on this server ?. Hi @mortendybdal did you follow steps of this article https://blog.strapi.io/deploying-a-strapi-api-on-heroku/ ?. I will ask to @soupette to take an eye on your issue.. @asharamseervi It's had to be blocked in production.. Hi @pedrosimao this is not an issue, it's normal.Collection nameis just thecollectionortable` where you will CRUD data. So if two of your model are linked to the same data source they will share there data.. As we discuss on Slack you get weird behavior but your case can't happen on v3 of Strapi.. Hi @vpoola88 !\nI'm not sure at 100% but I think Heroku don't let you write files on the server.\nAnd the content-type-builder plugin write files to create new APIs. So your need is impossible on Heroku I think.\nWe have to disable content-type-builder and settings-manager in production mode. Because you will not be able to give back update you will make on your Heroku instance.. If you do the same actions on your local machine it works ?\nActually no idea. We have to investigate on it.. Hi @e2o, what is your Strapi version ?. @e2o Can you update to the last version of strapi (guides are in documentation).. Hey ! we will work on product stabilization for next months, we split important issues in milestones.\nFor this issue, we will work on it after 3.0.0-alpha.12.1 . Thank you @zhuang17 for these details ! Will help to fix it.. Hi @asharamseervi.\nYou don't make manual update of your models ?\nActually the best way is to go in your Entertainment model file and delete attribute category (and go in you category model and delete the relation to entertainment)\nCan you give me the exact steps you did to get this error to be able to reproduce it on my computer.. Hi @renatomattos2912 Actually the best way for you is to disable CSRF option.\nYour request come from admin panel (content-manager) or via the User API ?. We fixed it and we release it today.. You can now define default role in > Roles & Permissions > Advanced settings > Default role for authenticated users.\nSo when you use register route, it will automatically apply this role to your new users. It has been released in alpha.11.3. Oups @99darwin it's alpha.11.2.\nCan you try to create a new project with alpha.11.2 and check advanced settings of Role & Permissions. You can check migration guides on the documentation. But be careful if you did update in plugins.. @commentatorboy Can you user raw format.\nCheck your permissions in admin panel. Public role have to be authorized to create new user.. Did you follow this guide https://strapi.io/documentation/guides/authentication.html ?. You can try to do it yourself updating https://github.com/strapi/strapi/blob/master/packages/strapi-mongoose/lib/utils/index.js file to allow Array and use it manually in your models. Will not be available in frontend but in backend it's will be OK. Thank you, I let this issue open for the frontend part.\n\nMerge of your PR is coming. Hello @AwakenTheJaken !\narray type is handle by the framework part but not by the admin UI.\nYou will be able to GET / POST / PUT / DELETE your data (with array) via generated API and not via the content manager plugin.\n\njson\n{\n  \"matrix\": {\n    \"type\": \"array\"\n  }\n}. @abdonrd Yes that can be a good improvement. \n@soupette can maybe tell us if it's an easy thing to do or not.. We have to fix this one (about white space) https://github.com/strapi/strapi/issues/709 and it probably fix yours.\nI link here an issue on plugin management https://github.com/strapi/strapi/issues/727. Hi @alexsteele110 can you please give us an update about this.. Can you give me the path of your app please.\nI can just see C:\\Users\\Alex on your log, but there is no space here. Also probably linked to https://github.com/strapi/strapi/issues/724 too\nCome from path resolver I think.. I don't update this issue and it's not plan for now.. Are you using nvm or another node version manager ?\nSo you did\nnpm i strapi@alpha -g\nstrapi -v. Hi @mnlbox you still have your issue ?. See this PR https://github.com/strapi/strapi/pull/933 to fix this issue. Will be release soon.\n\nHandle collection: '*' for polymorphic side.. Hi @tcrammond thank you for this reporting. . Hi @tapvt thank you for this PR but actually not fix your issue on strapi start because you update the generator and the environment has no impact on strapi new\n\nIt's more interesting to check in packages/strapi/lib/index.js and maybe the bootstrap function.\nAnd to be more dynamic use Object.keys(this.config.environments) to detect available environments than a static array.. Hi @mnlbox I can't reproduce your issue. \nWhat is the npm registry you use ?. @mnlbox if you switch between local and npm installation, you will have to ren npm i strapi@alpha -g two times.\nWhat is you actual version of Strapi ?. So it works now ?\nAnd cache problems come from your npm, I don't think it's come from Strapi.. I can't reproduce this issue :/ It's could be great to have a step by step process to reproduce this issue.\nWithout steps it's will be difficult to fix it (if it's come from Strapi). @thebetterjort It's not the same issue I think your error don't happen in the same place.. Hello @arnorhs . I would like to try your use case to give you to give you the best answer. Actually I don't have the time for it. I will do my best to did it rapidly.. Hey @arnorhs sorry for delay, I haven't time to work on it. Have you any update on your side ?. That's a good point. If you run npm install you can don't necessary need to build admins.\nMaybe we have to found an other command to build all admins ?. Will appreciate your contribution on Strapi to fix it and submit a PR :) @Luukth  and @garytube \nProbably a really simple issue to fix.. Yes please :) @Luukth . @mnlbox and @forsetius you are using SQL database ?. Hello @mrikirill ! What are relation between Drivers Vehicles and Companies ?\nYou will probably have to customize the query to get your accounts with a deep populate.\nCheck this link  http://mongoosejs.com/docs/populate.html#deep-populate.\n. I think your relation between account and drivers is not necessary.\nIn fact it's really depend of your use case. And what look like your organization.. @mrikirill sorry for delay (lot of work), but you can use /user/me with JWT to get you user infos and then do something like thatGET /companies?AccountId=user.id.\nIn this case AccountId is your relation key in company model.. Yap that's could be more interesting than test environment. \nProbably just have to rename the test environment.. Yes https://github.com/strapi/strapi/tree/master/packages/strapi-generate-new/files/config/environments \nsince a long time ^^ https://github.com/strapi/strapi/commits/master/packages/strapi-generate-new/files/config/environments/test\n. Ho you are right ! It's because of the .npmignore of strapi-generate-new.\ntest folder is ignored so don't publish on npm. It will work on local dev mode but not from npm.\nWe will rename the test folder in staging and it's will fix this problem.. Hello @piere129 !\nWe fix this bug on master. Will be release soon.\nhttps://github.com/strapi/strapi/commit/2b0ab41a66bf307d547e8f32d401b3ec526e1c13#diff-0c0ec60e7cc771f905ecac28620fe70fR347\nAbout persistent roles informations, it's probable because you use the same database between your projects.. It's release \ud83d\udc4d . Hi @TheWebsDoor where in your code you use lodash and the version is not correct ?. Here is the lodash dependency of Strapi https://github.com/strapi/strapi/blob/master/packages/strapi/package.json#L52\nWe are investigate on it.\nLook coming from dev mod.. Hey @mnlbox feel free to add it and submit a PR. That's a good idea ;). @asharamseervi this is an open source project, we offer you a software with the source code. If there is something you don't want, feel free to remove lines of code of your project.\nWe can speak a long time about what is fair and what is not fair with open source projects. \nUsing a software freely and not helping to make it better or try to understand how it is used in order to to be able to define a better roadmap and to make the project better ?\nIn this case, you are completely able (as asked @abdonrd) to add a configuration to disable this and submit a PR: what we already did it here https://github.com/strapi/strapi/pull/834.. We had to add .gitkeep in upload folder on strapi new check the strapi-generate-new package to did it.. And we hav to test if the folder is present in the bootstrap function when the server start instead of on each upload request.. Hello @TheWebsDoor any news about my last comments ?. To did it you will have to update the policy permission.js of user and permission plugin.\nAnd get your cookies with ctx.cookies.get(...). Hello @nurikabe .\nI'm not able to reproduce this issue.\nAre you in dev mode ? Have you an error ?\nCan you try to run npm install strapi@alpha -g again then strapi --version please. Maybe your strapi install fail previously . Ho okay ! \nYes it doesn't work.\nYou can fix it here https://github.com/strapi/strapi/blob/master/packages/strapi/bin/strapi.js#L41\nprogram.versionInformation look return null so can you try to find a way to display the good version and submit a PR.\nCould be super cool to have you as Strapi contributor !. @abdonrd Can we close this issue since we merged your PR #1122 ?. Yap, actually plugin are not generated by strapi generators but they are node_module converted in plugin folder.\nMaybe we have to add post-install script that clean all the stuff needed.. Hi @altteo can you submit a PR to fixe it please.. @lucaperret you are right ! We already did it in packages but forget to did it on main package.json file.\n@msgeissler Can you add it in your PR please. Install new version of strapi npm i strapi@alpha -g and create new project.\nIf you have an existing project, we will write a migration guide.\nWYSIWYG is not a plugin. it's config inside content manager.. Fixed here https://github.com/strapi/strapi/pull/851/commits/37eedd5747cb383865aaecd50a3aa3092c56175a. Yes you are right.\nIt's not an hard issue to fix. I think you can fix it and submit a PR.\nIf you have any question on how to did it, maybe @soupette can help you.\nYou have to trigger a server restart after delete language.. Hi @itpcc follow this issue https://github.com/strapi/strapi/issues/765\nThank you for this report.. @Aurelsicoko told me it's possible. I let him answer you.. @TheWebsDoor Have you update about this point ?. Hi @TheWebsDoor .\nThe checkbox select all is a little bit buggy so try to don't use it.\nAnd about this issue, we have to found steps to reproduce it .... I close this issue, it' a duplicate of this one: https://github.com/strapi/strapi/issues/736. Hi @tranthebao what is the database you use ?. What you want is a validation layer in the router ?\nActually you will have to manually add it in your database structure.. Hi @tranthebao don't really understand your issue. This PR (https://github.com/strapi/strapi/pull/1025) will help to fix your issue. @WillyDolly can you try with the latest version of Strapi.. I don't think, #802 don't let you start the server and here you can.\nI think it's come from permissions on /users-permissions/init route.\nCan you try to reset your permissions from your database please.. This PR (https://github.com/strapi/strapi/pull/1025) will fix it . I think if we close this issue https://github.com/strapi/strapi/issues/778 it will fix your issue.\nobject spread is the problem :/. Hey @oeddyo sorry for the delay but actually no time to investigate on this issue. I hope I will be able soon to work on it.\nAppreciate your help if you can check in admin/src folder of the content-type-builder plugin where the match is apply.. @oeddyo We have updated the contributing guide. You have to either link the strapi-helper-plugin in the analytics plugin or simply remove it.. Try with latest version of Strapi (actually 3.0.0-alpha.11.2) and tell me if it works.\nWhat is the database you use ?\nIt works well in my side.. I think it's probably coming from bookshelf models.\nCan you log convertedParams in your api service fetchAll function. It's possible the bug come from here.\nIt's could be great if you are able to find with logs where the bug come from, fix it and submit a PR.. @piere129 and @bugvish The issue come from this function https://github.com/strapi/strapi/blob/master/packages/strapi-utils/lib/models.js#L443\nThat render an array for bookshelf where type === \"=\"\nThe good way to fix it is to investigate here https://github.com/strapi/strapi/blob/master/packages/strapi-bookshelf/lib/index.js#L601\nAnd send an object instead of array.. @piere129 Fixed here https://github.com/strapi/strapi/pull/895 will be publish on the next version of Strapi. Okay @abdonrd, I will check that :shipit: !. @abdonrd Did you check what is the response of the email plugin service.\nI think it could coming from the node module we use.. We use sendmail node modules by default in email plugin. But it doesn't use SMTP server and I think your email are blocked.\nSo for production application I suggest to use something like nodemailer and set an approved SMTP server.. Yes that's it.\nIn fact we have to do the same as upload plugin with providers.. @abdonrd I update this issue to a feature request to change email provider.\nThis issue will always existe because there is no SMTP serveur with this no module we use. But it's allow every one to send email by default.. We are working on it https://github.com/strapi/strapi/issues/911 and PR here https://github.com/strapi/strapi/pull/1255. Don't understand your issue. Please provide a screenshot of your terminal.\nActually I'm not able to help you.. We are working on it here https://github.com/strapi/strapi/pull/848. It's on master branch for mongoose and bookshelf. Will be release in alpha.12 version. Hey @abdonrd sorry but it work on my side. You work with mongo ?\nTry with the last version of Strapi :). Whoa that is strange ! Really no idea why.\nCan you check if this Mongoose schema still working with your version of Mongo.\nOr maybe the definition.options.timestamp is false.\nhttps://github.com/strapi/strapi/blob/master/packages/strapi-mongoose/lib/index.js#L167. @JunQiGenYuan, @abdonrd use Mongoose.\n@abdonrd I tried again and no problem (MongoDB shell version v3.2.11) I have to try with your version of Mongo.. @piere129 we find how to fix here https://github.com/strapi/strapi/issues/1119\nAnd @abdonrd can you try with last version of Strapi please and tell me if it still happen.. @Dane411  You still have the issue on npm i strapi@alpha -g ?. Did you change your npm registry ?. Can you give me the full logs. I don't know where this issue come from.. It looks come from your machine. I close this issue. Good luck to restore your npm. Hi @abdonrd . The problem with this multiple template system is you can't chose the template from the issue UI of GitHub. And no body will use ?template=bug/feature_request to chose an issue template.\n. @abdonrd did you use pm2 to start your project or npm start\nIf it's the case check this issue https://github.com/strapi/strapi/issues/1008 and close this issue please.. Okay, it's normal check my comments for #1008 issue.. Hi @pedrosimao.\nThe way to fix it for your app is to rebuild your index.\nActually, we are not updating mongodb or sql database advanced settings like required, unique...\nFill free to implement this feature on Strapi and submit a PR\nhttp://mongoosejs.com/docs/faq.html. Hello @pedrosimao have you an update on this point ?\nhttps://github.com/strapi/strapi/issues/876#issuecomment-384925213 Did you do something about it ?. I link to this issue to handle all database in the same time https://github.com/strapi/strapi/issues/1189. Hi @oeddyo you will have to update your API service and update the way we populate data.\nYou will have to handle a deep populate.\nCheck the MongoDB documentation http://mongoosejs.com/docs/populate.html#deep-populate. You will have to do something like that:\nBag.find().populate({\n    path: 'familly',\n    populate: { path: 'famillyBags' }\n  }). Hello guys @oeddyo @XcrossD can you update your Strapi version and tall me if it's still happen.. @Dronozavr what is your Strapi version ?. Hi @oeddyo I hope today !. Hey @oeddyo npm i strapi@alpha -g it's up on npm.. Hi @wadeziegler can you check the database file of you development environment, just to see if all informations are correct.\nThen try to log here https://github.com/strapi/strapi/blob/master/packages/strapi-mongoose/lib/index.js#L60 why the connection failed.\n. Lets discuss about this on this issue ~https://github.com/strapi/strapi/issues/884~\n~EDIT: https://github.com/strapi/strapi/issues/672~\n. Feel free to submit a PR to make it possible. We will not work on it.. Hello @XcrossD I reproduce step by step your case and it work fine on my side.\nCan you try with the last version of Strapi (alpha.11.3) and reproduce step by step your case and tell me if it works on your side.\nDon't know where it can come from.. I think this is a duplicate on this one https://github.com/strapi/strapi/issues/795 . @XcrossD can you share with me your models (maybe it's coming from here). I probably will be able to reproduce it to help you.. I need all your models.settings.json files. Don't need any database data.\nIf you are agree to share it with me, you can join our Slack (https://slack.strapi.io) and send me these files. Will stay confidential with your shared files.. @XcrossD I create a new application and use your api folder and I wasn't able to reproduce your issue. I follow step by step your case.\nCan you also try on your computer with new application and use just your api folder.. Look to be good in last version of strapi. Will reopen if needed with steps to reproduce. Hi @havard024, remove life cycle is not triger on Model.remove().\nCan you try to find why findOneAndRemove is triger on Model. findOneAndRemove() and not remove.\nWe set mongoose life cycle here https://github.com/strapi/strapi/blob/master/packages/strapi-mongoose/lib/index.js#L129\nIt's here remove is called on content manager  https://github.com/strapi/strapi/blob/master/packages/strapi-plugin-content-manager/services/ContentManager.js#L150\nWith these information, I think you will be able to find and fixes this issue.\nFeel free to submit a PR :)\n. Hello @andfk, thank you for this message. \nIt's an interesting point you talk about.\nCan you open a new issue (use the feature request template) and c/c your comment as issue body.. Actually there is no documentation about this point.\nYour provider is in this list ? https://github.com/simov/grant. You can check in plugins/users-permissions/controllers/Providers.js L.130 (connect action) if the grant middleware is correctly setup when you try to connect with /connect/myProvider. @abdonrd Sorry it's Auth.js file.. Hi @zhuang17 you are right, the migration process is really not optimized and the experience it not good! It's one of big things we have to improve in Strapi.\nActually nop, I haven't solution for that.. Hey @abdonrd what's the state of this issue ?. Okay great :) . If someone can update the documentation file https://github.com/strapi/strapi/edit/master/docs/3.x.x/en/guides/authentication.md by adding step to add new provider, based on PR linked by @derrickmehaffy \nWill appreciate community contribution on this point.. I'm completely agree @avallete. Like upload and email providers.\nYou can open an issue about your proposal.. @TheWebsDoor Can you give us an update about @Aurelsicoko feedback please.\nWill be a pleasure to merge this PR !. Super good news ! We really want to pass this point in the next release :). Hi @mnlbox, you try with an existing database or a new one ?\nAnd please follow the issue template. It's important \u26a0\ufe0f . We change default roles between 11.1 and 11.2 I think it's come from this point.\nI think you will have to reset you roles collection and user's role relation.. @pierreburgy Did some updates about that.. Hello @99darwin can you give us an update about your app https://github.com/99darwin/strapi-categories ?. Hi @doublemarked.\n\nDid you use the content manager to create/save your data or you use generated API ?\nThe data in your mongo document have the key options with empty object ?\n\nCan you take a look if the problem is coming from mongoose. By writing a small script to test it.\n. Sorry for delay.\nYou can make the same as this line https://github.com/strapi/strapi/blob/master/packages/strapi-mongoose/lib/index.js#L180 but for minimize settings.\nI think it's could be great to update the way we set models options in schema to make it more modular. With a loop attribution.. Duplicate - ~https://github.com/strapi/strapi/issues/905~\nEDIT:  https://github.com/strapi/strapi/issues/784\n@oeddyo This issue has already been referenced \u26a0\ufe0f . Hi @HorvathDavid \nYou can easily change the advanced.unique_email value going in admin panel > groups & permission > advanced and switch off One account per email address. It's will allow you to have one email for your Google provider and same email for local email provider.\n@changalberto maybe, be sure the email you use is not already used by a user. Same as @HorvathDavid , switch off the option to allow multiple emails\n. @HorvathDavid Can you submit a PR to fix it please.. @HorvathDavid When you register a new user there is an advanced settings for the role to link.\nIt' here for local register https://github.com/strapi/strapi/blob/master/packages/strapi-plugin-users-permissions/controllers/Auth.js#L246\nYou have to set the same thing for providers register (use default_role). @zhuang17 Queries are in /config/queries/ folder of the plugin. After it will use bookshelf or mongoose file depending of the database you use. We haven't doc about that.\nSome one can try with latest version of Strapi (alpha.12.0.1) and clean database and tell me if it's still happened. (mongodb and mysql). @HorvathDavid and @changalberto any update about this issue please.. Will reopen this issue if it persist on last version of Strapi.. The issue is caused by the type detection. Generate Double instead of Float and I think it can come from here https://github.com/strapi/strapi/blob/master/packages/strapi-mongoose/lib/utils/index.js\nCan you try to debug it please an submit a PR :) will appreciate your help !. Hello @billgo I just tried with node 9.4.0 and npm 5.6.0 and it works.\nCan you tried to relaunch npm run setup again.. @billgo So it's come from your folder permissions ? . That's good question. It can be your strapi folder. what are permissions on this folder ? \ndrwxr-xr-x in my side.. De rien :) Enjoy playing with Strapi !. Hi @ackro that's a good point. Can you please submit a PR to fix it.\nWill appreciate your help.. Hi @pedrosimao can you submit a PR to fix it please. Will appreciate your help.. Hey @pedrosimao I test it with master branch and I have no problem with relations...\nSo I can't actually accept your PR. And as you can see, if your issue come from relations, you probably have to investigate on await strapi.hook.mongoose.manageRelations('article', _.merge(_.clone(data), { values })); function. It's this part of code that handle relations. You don't have to update .create() params.\nCan you send me your models files and the request you send to create and update data (via postman). Hello @astewes.\nYou have to create a tag content type and add relation attribute to your tag.. @astewes What do you mean by hyperlinked, I not sure to understand.. Can you give us more informations about your previous steps.\nDid you custom admin or other plugin things ?. Okay ! So you have to use a VPN. What we can do for this point ?. @harwinvoid Can you give me an update about this point please.. We will not work on this point. Please use a VPN to be able to bypass this issue.. Hey @whodevrim can you remove \u00a0\ud83d\udd11 from the template and submit a PR please.\nWill appreciate to see you as Strapi contributor.. @NoahHahm Can you please follow the issue template with all needed informations.\nWe will take a look.\n. And I think it's the same issue as https://github.com/strapi/strapi/issues/825. Yap it's fixed. did you migrate an application or it's a fresh new one ?. Yap, can you please create an issue.. Please can you check heroku related issues and follow issue template before posting issue.\nSee here: https://github.com/strapi/strapi/issues/770. Sorry for delay.\nThat's good question. I would love the same url or all providers. But when we tried redirect urls with each providers, it doesn't work. So we display the good one for each providers.. In your application side, you just have to use /connect/:provider\nI'm not sure to understand your question.. I don't have time to investigate on this point and check if we did an error on providers implementation.\nThis question will stay in standby for me.. We just have to follow the Grant and Purest documentation.\nHere is how add new provider https://github.com/strapi/strapi/issues/891 I tested it and it works well.\nWe review the documentation and examples https://strapi.io/documentation/guides/authentication.html#providers https://github.com/strapi/strapi-examples/tree/master/login-react/doc. You are talking about this issue: https://github.com/strapi/strapi/issues/883 ?\n. Hi @piere129, on login route we don't store the JWT in session.\nAn explication about the issue you linked. Your ctx.session is on a server instance. If you have multiple servers with a load balancer, your user requests will not hit the same server each time. So you don't have to store the JWT in session if you want a logout function. Refer to my comment on the issue.. This issue already exists, please browse the list of opened or closed issues.\nPlease check https://github.com/strapi/strapi/issues/1152. Hello @exera ! Thank you for this issue.\nDid you test your suggested solution ? And if you did it can you submit a PR to fix it.. Maybe can be related to this issue https://github.com/strapi/strapi/issues/995. It works on register function but not on user entry creation from content manager.. Hi @pedrosimao, I posted comment about this issue https://github.com/strapi/strapi/issues/919 and we will discuss about it on the issue.. Can you please check existing issues if one already exist : https://github.com/strapi/strapi/issues/624. I write this search to find this issue https://github.com/strapi/strapi/issues?utf8=\u2713&q=is%3Aissue+is%3Aopen+data+owner. Please can you use the issue template, we need to know you node, npm, strapi version and if you are using mongo or sql database.. Your Car.settings.json has name, year and licence attributes with text type ?. @lddd that don't really answer to my question. Can you give me you Car model.. I am closing this issue because we don\u2019t have any update/needed informations about it.. Hello @ulaDEVEL can you be more explicit on your question please.. @ulaDEVEL Can you update your issue with the issue template please. Are you using SQL database ? What is the Strapi version you use ?\nCan you be more precise on where you set your field \"chauffeur attitr\u00e9\". I don't see where you are in the admin interface.\nYour field is a relation ? You are talking about attributes name or table/collection name ?\nActually I don't really understand the issue.. Plural of this link is set here https://github.com/strapi/strapi/blob/master/packages/strapi-plugin-content-manager/admin/src/containers/App/sagas.js#L33\nThere is no option to disable it. If you want you can update this file and rebuild your admin.. Hi @Makeyko can you tell me when this PR is ready for review please.. Hello, can you give me more informations please. Can you link the script you use.\nWhat is the file path you try to get in your public folder ?. Hi @thebetterjort , can you follow the issue template please. Need more information about node, npm strapi version you use. And also if you are using mongo or sql database.\nAnd please give us more detail on where this issue happen. Actually I can't help you, need more informations.. Thank you @oeddyo for this explication.\nI close this issue cause you don't want give us informations about you issue.. Hello @breinkober, this plugin is installed by default. You delete it and try to install it again ?. Ho it's strange. Can you just test to create new project and tell me if the plugin installation fail again.. Don't know where this issue come from. And we haven't steps to reproduce it..\nMaybe we can close this issue now.. @Defozo Can you give us more details please.. Hello @maciekkus can you open a new issue please.\nTitle: \"Catch plugin install error\"\nWe have to catch installation error and delete the generated plugin folder if an error happen.. LGTM but need also @Aurelsicoko approvement.. You will have to create custom routes on your project.\nAnd check how works loops to manage roles (https://github.com/strapi/strapi/blob/master/packages/strapi-plugin-users-permissions/services/UsersPermissions.js#L269) that will help you to create our own role management routes.. Hi @samawong have you manually create your table and column ?. Actually yes, we will work on SQL experience during next months.. This feature is not available on npm. So you can't, we will try to release it tomorrow.\nIf you have a local setup of Strapi (see contributing guide) run strapi install graphql --dev. I think this issue can be linked to this one https://github.com/strapi/strapi/issues/766. Hey @abdonrd, probably yes ! Can you test with it in folder with no space please.. Hi @nklayman ! We actually developed Strapi to work with npm. Yarn is not supported so you can have bugs.\nWe will not work on it, it's not an high priority for us.\nHope the community will be able to help you.. Hello, can you check this issue. . Miss my CC -> https://github.com/strapi/strapi/issues/496. Hello @Lengatox did you use Strapi CLI or admin interface to install graphql plugin ?. Hello @abdonrd can you check this issue please https://github.com/strapi/strapi/issues/885. We have to regroup all informations in one issue.. Can you follow this issue https://github.com/strapi/strapi/issues/644 . It's the same issue.. Thank for issue reporting. Will take a look.. In fact it's all plugins that haven't front end code. . I reproduce it on Chrome.. Hello @noid2 did you follow https://strapi.io/documentation/guides/deployment.html ?. Hello @ChristopherJohnson25, It's because by default we are not deep populate data.\nPlease check this issue : https://github.com/strapi/strapi/issues/877. I am closing this issue because we don\u2019t have any update/needed informations about it.. Hello @manishsg can you specify the alpha version of Strapi you use.\nCan you try to login with postman (https://strapi.io/documentation/guides/authentication.html#login) and tell me if it works. . You create content type with the dashboard ? after restart you get an error ?\nDid you manually create your table ?\nI think you are with the same interrogation as https://github.com/strapi/strapi/issues/994. You have to run SQL query as logged when you start your server for the first time to create plugins tables.\nAnd you need relation table only for manyToMany relation.\nBut I recommend you to use MongoDB if you can, SQL experience will be release increase when this PR will merged and publish on npm https://github.com/strapi/strapi/pull/1025. Thank you for this PR.\nWith your update, someone witch have already configure one provider, will lose his data. And maybe he wan't.\nMay be we can make something more adaptative with a merge between existing configs and new one ?. Actually all providers configs or in a database (is allowed and his auth configs). \nIn production mode we want to let our user remove facebook login or another from the UI just in one click (without deploy and reboot server on multiple instances). So this config (is allowed) has to be in database.\nAnd for provider auth configs (keys, redirect ...) have we to let it in a database ?. Okay I see what you mean.\nSomething like that https://github.com/strapi/strapi/issues/672 ? You can update a JSON files and it apply updates in your database and you can still customize in realtime your configs from your UI dashboard.. After you make this update, it's will be ready to merge on master \ud83d\ude03 . Hello @intoku thank you for this issue.\nActually it's some css update to fix the position on the language selector when Powered by translation is to long.\nWill appreciate your contribution to fix this issue !. @zhuang17 we wait for all plugins translation ?. Perfect !. Hi @alexandrecanuto it's normal. Actually tables and fields are not auto created this feature doesn't exist. We are working on it for 3.0.0-alpha.12.2 version.\n@dzuncoi strapi start has a file watcher and reload function and this feature is not available with npm start. So if you use the content type builder please use strapi start. If you use npm start you will have to restart manually your app when you are making an update.. It's actually doesn't exist. Working on it https://github.com/strapi/strapi/tree/sql-xp. It's have been release in alpha.12.1.2. @profjefferson what is you Strapi version ?. @scipe Can you please follow @soupette instruction and submit a PR to fix this issue please.\nWe\u2019ll be glad to count you as one of our contributors! \nCheck out the contributing guide to get started: https://github.com/strapi/strapi/blob/master/.github/CONTRIBUTING.md. @derrickmehaffy I confirm this issue still exist.. Thank you for this contribution @XcrossD . Can you please give us an update about this issue?. I am closing this issue because we don\u2019t have any update/needed informations about it.\nWill reopen it if activity come back.. Hello @JunQiGenYuan this feature is not a priority for us, but fill free to submit a PR !. Hello @JunQiGenYuan we\u2019ll appreciate your contribution on this issue! Did you have time to work on this  and submit a PR to share it with the community ?\nCheck out the contributing guide to get started: https://github.com/strapi/strapi/blob/master/CONTRIBUTING.md. Reminder for this feature: have to work for bookshelf and mongoose.. Hello @chaitanyya thank you for this feedback.\nActually a large part of this topic is hard coded you are right!\nI think we have to expose the same API if you are using Mongoose or Bookshelf.\nThat impact 2 thing:\n- _id key for Mongoose (we have to remove it and have only id)\n- The created and updated at key format.\nI would like @Aurelsicoko feedback about this topic (he will come back 02/01/2019). Hello @chaitanyya I will try to check your stuff this week (I hope to have time to do it). Hello @profjefferson can you check the documentation https://strapi.io/documentation/guides/authentication.html. Can you log in this file if role and permission is well detected for what you want https://github.com/strapi/strapi/blob/master/packages/strapi-plugin-users-permissions/config/policies/permissions.js\nIt can help you I think !. I will take a look. Thank you for the link.. @jsamr Can you give project you contribute with crowdin please.. Thank you @jsamr  !. Hello @bartoszgajda55 you just have to use strapi start when you develop your app (using content type builder and custom .js files) there is a file watcher and auto reload.\nSo if you use pm2 it will not work. It hasn't be design for your use case.. @bartoszgajda55 you can replace \"start\": \"node_modules/strapi/bin/strapi.js start\", in your package.json and then start the app with pm2 start npm -- start. PR is open here https://github.com/strapi/strapi/pull/1854\n. Please check this issue https://github.com/strapi/strapi/issues/432. Hello @laputaclover ! \nCan you confirm you have a tmp folder with strapi-mongoose as node modules.\nIn the folder where you want to create you Strapi app. You have to install strapi-mongoose@alpha all modules are publish with alpha and the version has to be 3.0.0-alpha.12.0.1\nCan you try to not use - in your app name (maybe can come from here). Can you please give us an update about this issue?. Can you give us more logs. Fail label attribution*. Hello @kamalbennani. It's the relation between batch and course.\njs\n// in Batch.settings.js model\n\"course\": {\n    \"via\": \"batches\"\n  },\nThis format doesn't exit. Did you write it manually or using admin content type builder ?\nRemove course in Batch model and batches in Course model and start again.. And what happened if you manually delete and try to recreate relation ?\nWhat is the type of relation you want create ?. and what is the answer of the first question @kamalbennani \n\nAnd what happened if you manually delete and try to recreate relation ?. Okay now please refer to this issue https://github.com/strapi/strapi/issues/860.\nIt's the same issue.. Please follow the issue template.. Thank you @stephledev for this first contribution \ud83d\ude01 . Hello @XcrossD can you confirm it's the same as this issue https://github.com/strapi/strapi/issues/791 but with value. Hello @XcrossD can you please update your Strapi version, try with new project and tell me if the issue persist.. @XcrossD Did you test with a fresh new application ?. @XcrossD Need to know on a fresh app and fresh database. Cause the issue can persist caused by migration or just a bug in Strapi.\n\nCreate new app with latest version of Strapi an move your API's models (only)\n. If it happen we will have to make it as reserved word.. @zhuang17 just ping you about https://github.com/strapi/strapi/pull/991.\nWhen you start from empty database, prevGrantConfig is undefined, and you can not a in b when b is undefined.\nJust to let you know.. Please edit your issue and follow the issue template. I will re-open this issue when it's will done.. @knappsacks can you give us your OS and the version of Strapi you use.. Hello @omar1989omb You are in a good way to fix it and submit a PR.\nActually your update will broke mongoose applications. You have to investigate in bookshelf queries I think instead of services. I think it's the same issue of #1135 ! . That is strange, I test the path /admin/plugins/upload/configurations/development and it works.. @yummyelin the path is an url, not folder path.. Hello @oeddyo I think it's an easy thing to add on Strapi. \nYou can make this update by yourself and submit a PR.\n@soupette Can help you to make it.. @oeddyo feel free to follow @soupette instruction to submit a PR. Will appreciate your contribution.\nCheck out the contributing guide to get started: https://github.com/strapi/strapi/blob/master/.github/CONTRIBUTING.md. Can you please give us an update about this issue? Did you work on it @oeddyo following @soupette code ?. Thank you @soupette . I will approve this PR when more than 50 \ud83d\udc4d will be added to your PR  \ud83d\ude08 . Hello we fixed it https://github.com/strapi/strapi/issues/924 it's on master and will be release next week.\n. Thank you @Luukth for your contribution !!. Hello @jezperp it's a duplicate of this issue https://github.com/strapi/strapi/issues/644 \nYou don't take time to check it. Actually this code is for mongoose controller template and not for bookshelf template.\nIf we move it in routes.json file. It will be applied on both, mongoose and bookshelf and it's not what we want.. I think it's in the same way as this issue https://github.com/strapi/strapi/issues/661#issuecomment-368846919 can you confirm that @jsamr . This PR has been reviewed progressively.\nHave to be merged just before the alpha.12.2 release.. @derrickmehaffy Don't do it, it's just lint and you will became mad if you read all this 142 files xD\n@soupette have submit many (small) PR on this branch and we approved it one by one.. Yes it's the same topic. I think the best wait it to discus on #661, define specs on it.\nWhen it's done @Aurelsicoko write a resume of it and then we lock the conversation.. Hello @normanzb can you update your issue and follow the issue template please. We will not work on your issue until it's done.\nThank you.. @normanzb Can you try with the last version of Strapi please.. Hello @kadaan, can you provide a screenshot please.. @kadaan thank you for this issue. We will not work on this issue cause it\u2019s not a priority for us and we miss time to did it (I'm sure you can understand we work on more important things for you).\nFeel free to submit a PR. Will appreciate your contribution on Strapi!\nCheck the contributing guide to start: https://github.com/strapi/strapi/blob/master/CONTRIBUTING.md. Yes. we need the community help to fix this kind of issues.. Hello @normanzb, we stop to support 1.6.4 version and now we fully work on v3.\nMutation are in a specific branch of the module https://github.com/strapi/waterline-graphql/tree/improve/mutations. https://github.com/strapi/strapi/issues/1048. Hello, can you try with new project on the last version of Strapi and tell me if it still happening . Hi @kamalbennani this issue is, we loop on each models witch have a specific via key. And if two models have a relation with the same model and the same via key, the relation detection fail.. I think this PR https://github.com/strapi/strapi/pull/1068 will fix this issue.\nThe same problem with text when WYSIWYG is allow.. Hello @kadaan The same answer as your previous issue https://github.com/strapi/strapi/issues/1062#issuecomment-385624371. @soupette It's the best guy to answer you.. Hello @derrickmehaffy , thank you for reporting this issue. We won\u2019t undertake this development because our focus is currently on another feature. Since time is lacking on our side, feel free to submit a PR, we\u2019ll appreciate it! \nCheck out the contributing guide to get started: https://github.com/strapi/strapi/blob/master/.github/CONTRIBUTING.md. Hi @kadaan any news about your PR ?. @johannpinson Completely right !!. @nurikabe Can you please give us an update about this issue?. @kopecmi8 can you try with last version of Strapi please. I think you will not have this issue.\nWhat is you OS ?\n. I am closing this PR because we don\u2019t have any update/needed informations about it.\nCan be reopen later.. Hello @abdonrd, it's a commun usage of APIs you are right.\nAnyone feel free to develop this plugin. Not a priority for us now.\nStart here: https://github.com/strapi/strapi/blob/master/CONTRIBUTING.md\n. As said @derrickmehaffy , we are a really small team. We are currently on another feature and bug fix. Since time is lacking on our side, feel free investigate and submit a PR, we\u2019ll appreciate your contribution on this issue! \nCheck out the contributing guide to get started: https://github.com/strapi/strapi/blob/master/CONTRIBUTING.md. Hello @enoy and @underbayan ! We just release new version of Strapi, can you try to update your version of Strapi and test it again please.. Every data created with the content manager have id key. If you create data from another way, the id key will not exist.\nSo it's no depend of admin or user auth.. Hello @latata can you follow the issue template please. Will reopen this issue when you did it.. Hello @piere129 can you update /config/hook.json key timeout and tell me if it works.. There is no issue here, it's normal. If the load time exceed the timeout, we haven't database connection (in this case) so we have to stop the app cause it will be not usable. . Hello @manojkumar7488 can you follow the issue template please. I will reopen this issue when it's will done.\nThank you.. Please update your issue if you have something to report.. @derrickmehaffy 40s to start an app it's not normal, we have to update the MySQL database table/column creation process.\nHow many models and attributes you have ?. I suppose you are using npm start to start your project on ec2 instance.\nPlease check old issues https://github.com/strapi/strapi/issues/1008. Hello @ujal Can you give me more informations on the issue you fix please.\nWhat are steps to reproduce the problem ?. Hey @piere129, can you check with alpha.12.2 please and tell me if you still have this issue.. I am closing this issue because we don\u2019t have any update/needed informations about it.. Thank you for your feedback @dwehrmann .. We are not actually working on it, we will give an update when we will start this topic.. @derrickmehaffy An easy PR to do \ud83d\ude03 \nFor this issue, we have to replace the message by saying something like Warning we don't delete tables and column, only create new one.\n@Aurelsicoko can give the exact sentence to display.. Hello @Aurelyn10 can you fix your issue message template (it's little bit unreadable). You are using the content-manager ?. Can you try with the last version of Strapi, I patched something link you explain yesterday.\nCan you tell me if it's ok or your issue still happening.. Can you give me the column type you have in your database please.. I try to add and update data with MySQL database and it works without errors.\n\nJust have an issue on update, the time zone is different than create.. Using 5.6.38 for MySQL. So you have to update your MySQL please.. Can you guys @piere129  and @derrickmehaffy find a way to fix it please. It will help us a lot :) \nCheck out the contributing guide to get started: https://github.com/strapi/strapi/blob/master/.github/CONTRIBUTING.md. We will link further issue to this one and class it as duplicate.\nThank you for the update @derrickmehaffy . @ToshKoevoets You will have to manually update (with a script) all your data.. Here has already been re-created https://github.com/strapi/strapi/issues/1579. @srishti-56 Can you give me a log of variables used on the line 12 please.. Thanks @abdonrd , little mistake !. I'm agree with you. Do you have an idea to force user to check open and closed issue ?\nJust let the message and remove the checkbox ?. Yes we can try to remove it. But let the message.\nAnd about .github/ISSUE_TEMPLATE.md I think we have to keep a template for guys who choose to don't use a proposal templates.\nMaybe a litter template than existing. . This issue already exists, please browse the list of opened or closed issues.\nhttps://github.com/strapi/strapi/issues/791. Related https://github.com/strapi/strapi/issues/784  https://github.com/strapi/strapi/pull/1313. Hello @nurikabe what is your use case ?\nDid you allow sessions in your request config ?\nMaybe you also want tu use ctx.state as here https://github.com/strapi/strapi/blob/master/packages/strapi-plugin-users-permissions/config/policies/permissions.js#L12. As you ca see in my previous link, we store the user data in ctx.state.user. So you can use if (ctx.state.user) to check if your user is authenticated.. Ho yes please. Update for How to create a policy? and for Scoped Policies.\nThank you.. @nurikabe Did you send the Authorization header ?. @bzhr Can you update your global Strapi version npm i strapi@alpha -g and try again with a new project. We just patch it. Need to know if it works on your side.. 1.Install new version of strapi\n2. Create new app\n3. Replace your plugin/content-manager/admin with the new one\nOr just try with a new project. Perfect thank you !. Yes we know it's difficult, there is an issue about this point https://github.com/strapi/strapi/issues/1018. We have an hard work to do on it.\n. Thank you @derrickmehaffy for your message.. Hello @wi4er , thank you for reporting this issue. We won\u2019t undertake this development because our focus is currently on another feature. Since time is lacking on our side, feel free to submit a PR, we\u2019ll be glad to count you as one of our contributors! \nCheck out the contributing guide to get started: https://github.com/strapi/strapi/blob/master/.github/CONTRIBUTING.md. Hello @piere129 your suggestion will break mongoose application. We have to know why you have _id with SQL database. It's strange.. @piere129 if your proposition work for Mongoose and Bookshelf generated applications feel free to submit a PR.\nCheck out the contributing guide to get started: https://github.com/strapi/strapi/blob/master/.github/CONTRIBUTING.md. @piere129 did you have this issue when you try to update data which have been created with and old version of Strapi ?. @piere129 Did you try with a new fresh app from alpha.12.2 version ?. I am closing this issue because we don\u2019t have any update/needed informations about it.. Hello @dsheyp I tried and it works on my side. Can you try with the last version of Strapi.\nCan you share with me your 2 models please.. @mnlbox & @indiecore-fm Did you try with a fresh new application ?. @mnlbox there is a breaking change on services code of your generated API. Please check https://github.com/strapi/strapi/wiki/migration-guide-alpha.12.1-to-alpha.12.2 for APIs migration. What is the browser you use ?. Looks having been fixed, but the PR not link this issue because it looks good on my side. Can you give us an update with last version of Strapi.. Move the conversation on #2097 . Hello @zhuang17 You are using wring params. Please follow the documentation https://strapi.io/documentation/guides/filters.html.\nYou have to user _limit and _sort.. Nice job @derrickmehaffy  !. It's merged on master branch. Please check this issue https://github.com/strapi/strapi/issues/530.\nIf you want, update permission policy of plugin user&permissions.. @derrickmehaffy Can you check if it also work with Postgres please.. Hello @cpof-tea ! Actually there is no issue here. In fact when you create an entry, we first create the entry and then update to handle relations. That's why many events are trigger on create entry.\nYou can check here why it's happening https://github.com/strapi/strapi/blob/master/packages/strapi-plugin-content-manager/services/ContentManager.js#L33\nAnd for object you get in beforeUpdate I think it's normal (we just apply function you write https://github.com/strapi/strapi/blob/master/packages/strapi-mongoose/lib/index.js#L140)\nCan you check if it's happen also with an no Strapi app. It is the case I will re-open this issue.. Thank you @raulriera for the help.. Hello @mnlbox, thank you for reporting this issue. We won\u2019t undertake this development because our focus is currently on another feature. Since time is lacking on our side, feel free to submit a PR, we\u2019ll be glad to count you as one of our contributors! \nCheck out the contributing guide to get started: https://github.com/strapi/strapi/blob/master/.github/CONTRIBUTING.md. @derrickmehaffy We did the job to convert 1/0 to true/false for mysql and it's live on npm. I think the plugin generator is not up to date.\nIf you want to create you own plugin. I think actually to copy and paste strapi-plugin-email and custom it. It's the more simple of our plugins.. Hello @marcostephan , thank you for reporting this issue. \nCheck out the contributing guide to get started: https://github.com/strapi/strapi/blob/master/.github/CONTRIBUTING.md and submit a PR with your issue if it's fix the bug.. Thank you for this report. Probably will not be fixed soon cause it's not critical stuff.. Hi @abdonrd It's an overflow problem. Just some css to fix.\nThis issue will be fixed soon when we will move language select in the top right of the UI.. @abdonrd are in in live or dev mode ?\nIt looks working well on live mode on my computer.. Thank you @abdonrd for the update.. I close this issue. It's have been linked to #661 . . Hello @, thank you for reporting this issue. We won\u2019t undertake this development because our focus is currently on another feature. Since time is lacking on our side, feel free to submit a PR, we\u2019ll appreciate your contribution on this issue! \nCheck out the contributing guide to get started: https://github.com/strapi/strapi/blob/master/.github/CONTRIBUTING.md. Hello @marcostephan , any update about @Aurelsicoko comment ?. Hello @marcostephan ! @soupette is moving the language selector to the screen's top right corner.\n\nTherefore, this issue will be fixed when @soupette submits his PR.\nAnyway, thanks a lot for the time you spent submitting your PR.. Hello @, thank you for reporting this issue. We won\u2019t undertake this development because our focus is currently on another feature. Since time is lacking on our side, feel free to submit a PR, we\u2019ll  be glad to count you as one of our contributors! \n@SerQuicky has said Kamal on slack, just use an other folder without space.\nCheck out the contributing guide to get started: https://github.com/strapi/strapi/blob/master/.github/CONTRIBUTING.md. And I think it's a really easy first issue to fix.. Look fixed :D\nI am closing this issue because we don\u2019t have any update/needed informations about it.\nWill reopen it if activity come back.. Hello @, thank you for reporting this issue. We won\u2019t undertake this development because our focus is currently on another feature. Since time is lacking on our side, feel free to submit a PR, we\u2019ll be glad to count you as one of our contributors!\nProbably have to catch this error and send the correct error code.\nCheck out the contributing guide to get started: https://github.com/strapi/strapi/blob/master/.github/CONTRIBUTING.md. This issue is completely related to this one https://github.com/strapi/strapi/issues/1189.. Please can you open a new clean issue, with detail need please.. @steveinatorx Can you give me your Advertiver.settings.json file please.. I'm not able to reproduce your issue. And I'm not sure to understand your issue very well.. I thin we can link to this issue https://github.com/strapi/strapi/issues/791. I really can't reproduce your issue.\n@steveinatorx can you give me exact steps, click by click what are you doing to have this issue.. I tried with npm version 3.0.0-alpha.12.1.3 and GitHub master version and both work well :/\n@abdonrd or @derrickmehaffy are you able to reproduce it ? If it's not the case let me know and I will have to close this issue. . @abdonrd and @derrickmehaffy thank you guys for your feedback!. @abdonrd You are talking admin search in admin UI and/or with API route ?\n\nWe will work on it soon @Aurelsicoko is making design actually for admin.\n\nActually we are using filters in generated API. We have _contains options. And _search is something like username_contain=abdon of email_contain= abdon.\nAnd that is apply to all attributes of the model you want.\nSo if you want implement it on your side you will have to transform params of this function https://github.com/strapi/strapi/blob/master/packages/strapi-plugin-users-permissions/services/User.js#L77.\nIf you use _search, you will receive params._search. And then you have to map on  strapi.plugins['users-permissions'].models.user.attributes to have something like  params.username_contain=abdon of params.email_contain= abdon.\n\u26a0\ufe0f But in any case we will work on it in our side.. Yes sure, probably have to update .where params to handle or in this case.\nWe start to work on filters here https://github.com/strapi/strapi/issues/1204. And will work on search after that.. In progress on this branch https://github.com/strapi/strapi/tree/ctm-search. @abdonrd Nop. It will come in an other PR.\nHere for the content manager plugin https://github.com/strapi/strapi/pull/1363. Hello @kamalbennani, we are currently on another feature and bug fix. Since time is lacking on our side to work on, feel free to submit a PR, we\u2019ll appreciate your contribution on this issue! \nCheck out the contributing guide to get started: https://github.com/strapi/strapi/blob/master/.github/CONTRIBUTING.md. Hello @kamalbennani.\nCan you try again this issue please. (And I think there is an issue in you model description subject model is missing). Can you please give us an update about this issue?. I am closing this issue because we don\u2019t have any update/needed informations about it.\nWill reopen it if activity come back.. Hi @raulriera, we are actually working on framework tests.. First round of framework test here https://github.com/strapi/strapi/pull/1311. Hello @raulriera ! I like the idea \ud83d\ude03 and thank you for this PR.\nActually I think we haven't to create a new variables object. We can update how we handle options to use it has you use variables.\nFor that we will have to replace authenticationDatabase by authSource. \nAnd we will be able to loop on options and set configs.. @raulriera I think we have to update const { authenticationDatabase, ssl } = _.defaults(connection.options, strapi.config.hook.settings.mongoose);\nWe have to use an option object in default hook value. An put all options in.\nAnd then loop on options only to apply instance.set. Hey @raulriera I would like some changes and I will explain you why.\nUse an options key to separate database infos and optional configs. It's the same as generated database.json file.\njs\ndefaults: {\n    defaultConnection: 'default',\n    host: 'localhost',\n    port: 27017,\n    database: 'strapi',\n    options: {\n      authenticationDatabase: '',\n      ssl: false\n    }\n},\nLoad options configs const options = _.defaults(connection.options, strapi.config.hook.settings.mongoose.options); directly in options variable (have to remove the empty object declaration).\nThen move in connectOptions data we need in this object. And remove them from options object.\n```js\nif (!_.isEmpty(options.authenticationDatabase)) {\n  connectOptions.authSource = options.authenticationDatabase;\n}\nconnectOptions.ssl = Boolean(options.ssl);\ndelete options.authenticationDatabase;\ndelete options.ssl;\n```\nNow we can add other options in database.json than debug and it will be handle.\nPreviously it was limited to debug.\nAre you agree with this changes ?. For only debug option your PR is good. Reopen it please to share it with the community \ud83d\ude04 . @piere129 Can you confirm, it's still happen with new Strapi version (3.0.0-alpha.12.2)?\n\nHave to test with new project from 3.0.0-alpha.12.2. Okay I have some news about this issue. The content type builder not write the good lines in the model.\nIn one case it write collection in both side and the relation became manyToMany or model and the relation became oneToOne.\nI think it come from the equalizer we use to apply the relation update in the other model. in our case the other model is the model himself.\n\nStart investigation to fix it. . It's a frontend issue. The relation information sended is the same for both attributes.\nIn my case oneToMany\n\n. Can you update to 3.0.0-alpha.12.1.3 it's more stable version than 3.0.0-alpha.12.1 please.. @Duske I think you make a mistake by replacing by 3.0.0-alpha.12.3 instead of 3.0.0-alpha.12.1.3.. Hello @derrickmehaffy , thank you for reporting this issue. Can you help us on this point, will appreciate your contribution! . @derrickmehaffy what is the status of this issue please.. Hello @gfelot have you some news about this issue please.. @sboutet06 I don't understand why we have to apply this update to all Strapi generated apps.\nYou have to update your own application configs to served it on 0.0.0.0.. Hello @XcrossD It's completely related to the same issue as #995. Let discuss about this point on #995.. @soupette Can you link issues related to this PR please.. @soupette Test fail, can you please take a look.. Hi @okaris, we add WIP status label, so let us know when we can review your PR.. @okaris Thank you ! That is awesome. We have to make some test on it before merging, just to be sure it's all OK. \nWill try to test it soon as we can. Lot of work actually.\n\nI'm so exiting to see one-way in content-type-builder !. @nurikabe Thank you for this contribution !. Hello @derrickmehaffy , thank you for reporting this issue. We are currently on another feature and bug fix. Feel free investigate and to submit a PR, we\u2019ll appreciate your contribution on this issue! \n\nI'm sure it's an easy thing to fix ^^\nCheck out the contributing guide to get started: https://github.com/strapi/strapi/blob/master/.github/CONTRIBUTING.md. This PR have to be merged after 3.0.0-alpha.12.2 release.. Please check this issue https://github.com/strapi/strapi/issues/624\n@raulriera thank you for your time on this issue.. Hello @blaasvaer , please follow the issue template so we can get a better understanding about the origin of your bug.\nI will reopen your issue as soon as it follows the templating guidelines.\nThank you.. Hello @decimoseptimo , please follow the issue template so we can get a better understanding about the origin of your bug.\nI will reopen your issue as soon as it follows the templating guidelines.\nThank you.. @decimoseptimo It looks a bug yes. Will not have any time to work on this issue. Feel free to investigate on why this issue happen and submit a PR to fix it. Will appreciate your contribution on Strapi!\nCheck out the contributing guide to get started: https://github.com/strapi/strapi/blob/master/.github/CONTRIBUTING.md. It's the same issue as https://github.com/strapi/strapi/issues/1210. Hello @mnlbox, please follow the issue template so we can get a better understanding about the origin of your bug.\nI will reopen your issue as soon as it follows the templating guidelines.\nThank you.. This question is this issue https://github.com/strapi/strapi/issues/1213. So let this issue close.. Hello @mnlbox !\nI'm not able to reproduce your issue. Can you please retry your steps with a fresh new app and database with Strapi 3.0.0-alpha.12.2 version.. Can you please give us an update about this issue?. @mnlbox Can you try with the last version of Strapi (alpha.12.3) and with fresh new app and new database.. Okay, actually the default role is only apply on the register function.\nWe have to set it on create function too.. Hello @mnlbox ! \nHow do you register this new user ? Did you use the content manager ?\nBecause provider is different than role. Provider is local, facebook, twitter ..... I don't know... That is the problem!\nCan you send me params send in your request please.. The admin panel send a request with params, I have to know what are params value.\nStill have no issue on this point. Did you customize your user controllers/services ?. Can you please answer to my first sentence cause I still without information.. If no body is able to reproduce this issue I will close it. Probably coming from your app and update you did in.. @derrickmehaffy for - as provider, I'm OK.\nBut @mnlbox admin as provider, I don't know why you have this issue.. Hello @mnlbox , thank you for reporting this issue. We won\u2019t undertake this development because our focus is currently on another feature. Since time is lacking on our side, feel free to submit a PR, we\u2019ll appreciate your contribution on this issue! \nCheck out the contributing guide to get started: https://github.com/strapi/strapi/blob/master/.github/CONTRIBUTING.md. Hello ! Feel free investigate and submit a PR, we\u2019ll appreciate your contribution on this issue! \nIt's really not hard issue to do. But have to understand how existing login work. But not really hard I think.\nCheck out the contributing guide to get started: https://github.com/strapi/strapi/blob/master/CONTRIBUTING.md. Actually we do not send the password value if you are not updating it. @soupette can confirm it. So I don't understand why you have an issue on it.. Hey @derrickmehaffy thank you for this reporting. It happen on File upload and other generated API ?. Hi @Thyvo ! \nYou want to create your migration/bulk update scripts on your application only ?\nIf it's the case, you case easily create a new scripts in your app eg./scripts/migrations.js and add in package.json scripts object node ./scripts/migrations.js. and then run npm run migration to execute your script. . @Thyvo OKay I see. Actually you will have to start your server, there is no other way (like server.js file to start and use strapi.stop() when it's done). It's not possible.\nI will have to work on it when we start to make unit testing on Strapi. But it's not now.. Please follow the migration guide https://github.com/strapi/strapi/wiki/migration-guide-alpha.12.1-to-alpha.12.2\nthis.updateRelation is on alpha.12.2 and not in alpha.12.1.3.. @denerFernandes Can you precise your issue please. I don't really understand it.. I am closing this issue because we don\u2019t have any update/needed informations about it.. @opgbaudouin can you try with the last version of Strapi 3.0.0-alpha.12.2 actually. Check on new app or update your application.. Did you try with a fresh new app and new database ? Can you did it if it's not the case please.\nI'm not able to reproduce your issue on 3.0.0-alpha.12.2.\nCan you share a .zip file of your api folder. And your User.settings.json file.. Hey @opgbaudouin thank you for this clear description !  \n\nBest steps description I ever seen. Thank you !. This issue is fixed in 3.0.0-alpha.14.1.1. Hello @decimoseptimo , thank you for reporting this issue. We are currently on another feature and bug fix. Since time is lacking on our side, feel free investigate and to submit a PR, we\u2019ll appreciate your contribution on this issue! \n\nCheck out the contributing guide to get started: https://github.com/strapi/strapi/blob/master/.github/CONTRIBUTING.md. Hello guys @raulriera and @johannpinson !\nThank you for reporting this issue. We are currently on another feature and bug fix. Since time is lacking on our side, feel free to submit a PR, we\u2019ll appreciate your contribution on this issue!\n@Aurelsicoko is the best person to help you on this side - but he has lot of work actually :/\nCheck out the contributing guide to get started: https://github.com/strapi/strapi/blob/master/.github/CONTRIBUTING.md. Hi @mnlbox can you tell me if it still happen with 3.0.0-alpha.12.2 version (with fresh project). @mnlbox Can you give me the browser you use please.. @mnlbox any update please.\nAnd did you have an error in your browser console ?. Still can not reproduce it with last version of Strapi. Need precise steps to reproduce.. Does it work for you with Google Chrome ?. Hello @tomachinz , sadly we will not support for Strapi v1. Fill free to use npm i strapi@alpha version.\n\nMaybe don't use . in your project name. Please follow the migration guide for your original project https://github.com/strapi/strapi/wiki/migration-guide-alpha.12.1-to-alpha.12.2. @indiecore-fm  Can you please provide me exact steps you did to have this issue.. It's have been updated.. Hello @kamalbennani, thank you for reporting this issue. We are currently on another feature and bug fix. Since time is lacking on our side, feel free investigate and to submit a PR, we\u2019ll appreciate your contribution on this issue! \n\nCheck out the contributing guide to get started: https://github.com/strapi/strapi/blob/master/.github/CONTRIBUTING.md. @derrickmehaffy is true. Still open since Bookshelf is not developed.. @H-L Thank you for these details. Will be usefull to work on.\n@derrickmehaffy Thank you for your tile on this issue. Appreciate !\nBut we are currently on another feature and bug fix. Since time is lacking on our side, feel free to investigate and submit a PR, we\u2019ll appreciate your contribution on this issue! \nCheck out the contributing guide to get started: https://github.com/strapi/strapi/blob/master/.github/CONTRIBUTING.md. Ah! Ok @derrickmehaffy I will check it with him.. Hello @H-L \nI reproduce exactly steps of your comment and I hasn't able to have your issue.\n@derrickmehaffy are you able to reproduce this issue ?. @derrickmehaffy In this case, it's not an update. @H-L get an error on just adding new fields.. @derrickmehaffy Thank you for this investigation. I will try to reproduce.. Hello @opgbaudouin, thank you for reporting this issue. We won\u2019t undertake this development because our focus is currently on another feature and bug fix. Since time is lacking on our side, feel free to submit a PR, we\u2019ll appreciate your contribution on this issue! \nThe response you get is actually the mongoose response. You can check how to change it to have the updated object.\nCheck out the contributing guide to get started: https://github.com/strapi/strapi/blob/master/.github/CONTRIBUTING.md. @Aurelsicoko update this part for the 3.0.0-alpha.12.2 so it's good now.. Hello @raulriera, thank you for reporting this issue. We won\u2019t undertake this development because our focus is currently on another feature and bug fix. Since time is lacking on our side, feel free to submit a PR, we\u2019ll appreciate your contribution on this issue! \nI know it's will be hard to investigate, but \ud83d\udcaa !\nCheck out the contributing guide to get started: https://github.com/strapi/strapi/blob/master/.github/CONTRIBUTING.md. Hello @raulriera ! Thank you for this PR.\nI can see this translation key is used many times in this file: https://github.com/strapi/strapi/blob/master/packages/strapi-plugin-content-type-builder/controllers/ContentTypeBuilder.js#L21\nCan you also update this file please.. Hi @piere129 , thank you for this report. Can you check the request log you receive in your mongoDB ?. @piere129 I have no time to test it. But the request you did with .select() is something that work with standalone Mongoose instance. Or this issue come from Strapi mongoose int\u00e9gration.\nAnd if you don't use .select() the data in well get ?. Please try. It work on my side\njs\nawait Client\n  .findOne({\n    code: \"eee\"\n  }).select({name: 1});. Hello @bitkris-dev can you please give us an update about this PR?. Thank you @bitkris-dev , it will be awesome to have \ud83c\uddee\ud83c\uddf9 translation in Strapi ! . Hi @bitkris-dev have you an update about this PR please ?. Complete PR that add italian language. https://github.com/strapi/strapi/pull/1426. Hello @template01 , do you have the same issue with an other node modules ?. Hello @nurikabe , thank you for reporting this issue. We are currently on another feature and bug fix. Since time is lacking on our side, feel free to submit a PR with your changes, we\u2019ll appreciate your contribution on this issue! \nCheck out the contributing guide to get started: https://github.com/strapi/strapi/blob/master/.github/CONTRIBUTING.md. Hello @mnlbox , please follow the issue template so we can get a better understanding about the origin of your bug.\nI will reopen your issue as soon as it follows the templating guidelines.\nThank you.\n\nInformations are missing. @soupette told me, @mnlbox you have to remove additional attributes (firstname and lastname) requirement.. Hello @AustinBratcher ! Awesome PR \ud83d\udcaa !\nJust some suggestion I would like to share with you to make this feature better.\n\nTo make the email plugin more extendable (like the upload plugin) it's could be nice to transform the strapi-plugin-email like an hub that receive functions of email providers you want.\nCan you check how the plugin email work.\nWe load all upload providers on server start https://github.com/strapi/strapi/blob/master/packages/strapi-plugin-upload/config/functions/bootstrap.js depending of some configs.\nAnd then on upload action we use the provider function to upload the file https://github.com/strapi/strapi/blob/master/packages/strapi-plugin-upload/services/Upload.js#L56\nLike this way everyone is able to use any provider he want without updating the core email plugin.\nIssue related: https://github.com/strapi/strapi/issues/911\nFeel free to join Slack to chat of this update.. @AustinBratcher Can you add a paragraph in the documentation about configurations and usage.\nMake a duplicate of this file for the example Upload and don't forget to add the page in the menu here Menu\nI will rewrite this plugin to make it more flexible like the upload file plugin.. Just to let you know.\nWe are talking with @AustinBratcher on Slack about making this feature more extensible. So the code will be updated.. @AustinBratcher Thank you for this update. Let me take a look this week end. I will give you some feedback !. @AustinBratcher I fixe the setup issue.. I remove some useless code.. @AustinBratcher please check points that @soupette highlight. And then it's ready to merge.\nI tested it and it works really well. Nice job ! . Hey @AustinBratcher. Yes I did it. It take just few minutes.\nWaiting for @soupette approval this morning and then merge.. You can check here for the documentation https://strapi.io/documentation/guides/email.html\n. Hello @blaasvaer , please follow the issue template so we can get a better understanding about the origin of your bug.\nI will reopen your issue as soon as it follows the templating guidelines.\nThank you.. Hello @blaasvaer can you tell me the browser you use please.. @kwzm and @enozr I'm not able to reproduce your issue. Are you trying to play with two applications with the same database ? \nCan you provide steps to reproduce it please.\n@GalEldarDev your steps match with an other issue. We have to block admin user role update.. Yeah awesome @GalEldarDev . Appreciate your contribution on this point !. Hello @GalEldarDev have you an update about this issue ?. Can you guys try with last version of Strapi. Fresh new app and new fresh database.. It depend of the source version.\nMigration guide here: https://github.com/strapi/strapi/wiki\nPlease migrate to new version. I close this issue, it's not happen in the last version.. Hello @nom4da , can you create new issue please to report your case.. @mnlbox can you disable the password manager of your browser and test again please.. I am closing this issue because we don\u2019t have any update/needed informations about it.. It's fixed in last version of Strapi. Look working well ! Try with clean install of Strapi, a fresh new project and fresh new database.. @mnlbox It's on Firefox ? It happen also on other browser you have ?. Still we don't have a clear steps to reproduce I close this issue. \nWill reopen it when we will have steps. We are not able to work on without.. @VonOx can you provide all logs from your app start please.. Data is well stored, if you export your table we got the correct format. Looks coming from node-pg.. I will transform this issue in more globally issue.\nWe have to replace and handle id for GraphQL and REST API and with mongoose and bookshelf. Hello @PGzxc ! There is no issue on your message.\nYou just have to follow this documentation https://strapi.io/documentation/3.x.x/guides/authentication.html#registration. @mig4ng Please follow the mongoose ORM documentation.. Hello @arcee123 ! \nI will need your help to try to understand where you issue come from.\nCan you please investigate on this file https://github.com/strapi/strapi/blob/master/packages/strapi-generate-new/lib/before.js\nIt's where the database connection form is write.\nAnd here https://github.com/strapi/strapi/blob/master/packages/strapi-mongoose/lib/utils/connectivity.js\nfor the database connection test.\nWe are currently on another feature and bug fix. Since time is lacking on our side, feel free investigate and to submit a PR, we\u2019ll appreciate your contribution on this issue! \nCheck out the contributing guide to get started: https://github.com/strapi/strapi/blob/master/.github/CONTRIBUTING.md. If it's work on Node LTS version it's OK.\n@arcee123 and @dertuerke can you confirm it works with Node 9 ?. Currently Windows has known issues, right now it is recommended that you either use WSL (Windows Subsystem Linux) or setup a Linux virtual machine. Better support will come eventually but right now it is not a priority for core Strapi development.. Please check opened issue. One already exist about this point.. @dertuerke We will be able to help you actually. \nPlease use your mac \ud83d\ude04 . @alexandremottet Did you use this Repo or you follow the article with a fresh new Strapi app?. You can place it in config/custom.json file.. Hello @willisplummer , thank you for reporting this issue. We are currently on another feature and bug fix. Since time is lacking on our side, feel free investigate and submit a PR, we\u2019ll appreciate your contribution on this issue! \nCheck out the contributing guide to get started: https://github.com/strapi/strapi/blob/master/.github/CONTRIBUTING.md. Hi @johannpinson ! Actually this feature is not developed.. I found it interesting but I have to think more about this point. \nNeed also @Aurelsicoko feedback.. You want plateforms that have (x and y) or (x or y) ?\nIn any case it's actually not possible by default. You will have to custom the generated API code to make it work with you needs.. @soupette nice work, I just have a scenario the value is not apply to the input:\n1. Click to Content Type Builder in the menu\n2. Add new content type (article)\n3. Add one sting attribute (title)\n4. Click to add a relation (but not continue to add it)\n\nIn this case the relation value is set\n5. Save the new content type (withe just one string attribute)\n6. Click on Articles in the lest menu\n7. Then come back to Article content type\n8. Try to add a relation\nThe value is not set. Completely ok ! Strapi will be available with LTS node version when we will move on stable v3 version.. Yes that's it !. @derrickmehaffy Can you give me steps to reproduce your issue. It look works fine on my side.. @derrickmehaffy I tried again and I haven't errors.\nTest create data from UI and update from Postman, Create and update from Postman, Create and update from UI. Create from Postman and update from UI. All work fine.. @derrickmehaffy please can you try to use raw format with Postman.. Hi @coolemur an @yummyelin .\nI reproduce your steps @yummyelin and it looks working on my side. @soupette did you successfully reproduce the issue ?. @yummyelin What is the browser you use ? Do you have an error log in your browser and in your terminal. Definitively not able to reproduce this issue.. If you want to create content type, please use strapi start command.. You can run npm run strapi start\n. Fix #1204. Hello @zhuang17 , thank you for reporting this issue. We are currently on another feature and bug fix. Since time is lacking on our side, feel free to submit a PR, we\u2019ll appreciate your contribution on this issue! \n\nCheck out the contributing guide to get started: https://github.com/strapi/strapi/blob/master/.github/CONTRIBUTING.md. Thank you a lot @zhuang17 for this update. I will ask to @soupette to review your code.. Hello @nurikabe. I think there is a miss understand here.\nnpm run strapi is not a command to start your server with strapi.\nIt just let you access to Strapi commands if not installed it globally. eg npm run strapi start of npm run strapi console and in the further other commands.\nNeed @Aurelsicoko mindset about what have to be npm run strapi. @OwenCalvin Can you give an answer to @Aurelsicoko please.. @johannpinson did you try with MongoDB, Postgres and MySQL ?. Thank you @johannpinson. Let us make tests of your PR and a code reviews.\nWill give you feedback in few days.\n\nFor the first iteration keep this textarea, it's great.. Will fix #784. Hello @jiradeto !\n\nActually if you follow the upload process: https://strapi.io/documentation/guides/upload.html#examples\nStep 1 is to create your entity.\nStep 2 is to upload your file and link it to your entity.\nGenerated API doesn't support form-data request. So you can't create entry with file in the same request.\nI transform this issue in feature request. @siffash you have to set your Authentication header if you are authenticated, or if you want this route open, check permissions in Roles then click on Public role. And open Upload dropdown and check upload.. I am closing this issue because we don\u2019t have any update/needed informations about it.. Have to check if one has not be opened about this issue.. Fixed in last version of Strapi. Sorry was testing with generated API and not with user API. I will link this issue to this one #1316 same explication for both.. You will find more information here https://strapi.io/documentation/guides/upload.html\n. Can you update hook load timeout in config/hook.json. Hello @demobo-com !\nIf you follow the documentation exemple (here) we set /v1.\nIn your case you set v1. You have to add /.. Fixed here https://github.com/strapi/strapi/pull/1222.\nPlease follow the issue template message. You don't try to search on closed issue.. Here is what it will look likes\n\n. Feel free investigate and submit a PR, we\u2019ll appreciate your contribution on this issue!\nThis PR https://github.com/strapi/strapi/pull/1439 can help fo update to do. \nCheck out the contributing guide to get started: https://github.com/strapi/strapi/blob/master/CONTRIBUTING.md. I reopen your previous issue.. @juampynr Can you provide steps I have to do to reproduce this issue please.. Hello @juampynr , please follow the issue template so we can get a better understanding about the origin of your bug. Need steps to reproduce and setup informations.\nI will reopen your issue as soon as it follows the templating guidelines.\nThank you.. This feature is not developed in Strapi.\nIf you want it. You will have to developed it yourself by updating users-permission plugin.. This PR fix https://github.com/strapi/strapi/issues/599. Can you update your PR to make travis tests work please.. @DanielRuf can make the update please. I will close this issue if the tests still fail.. The title change because I update it.\nAnd rebase will not fix the issue. The build fail after merging your PR to test on node9 and node10. I need @Aurelsicoko feedback now.. So it happen randomly... Can you guys try with the last version of Strapi, fresh new app and fresh new database. Tell me if it still happen please.. @SarathSantoshDamaraju So looks good now ?. Hi @redni !\nAPI error message have to be in english. The message to display is translated in admin as @derrickmehaffy said.. Error messages are handle by Boom node module.\nYou can add a middleware in your application to update messages.. Hello @DanielRuf !\nPR you did cause this issue. All others works fine.\nLet discuss of that on your PRs. Caused by timeout. All build are OK. Fix here https://github.com/strapi/strapi/pull/1352. Hello @victorlambert .\nThe body object you have to send in the function contain an users key that contain users linked to this role.\nCan you be sure you don't send an empty array for the users key.. Hello @1ncidental , please follow the issue template so we can get a better understanding about the origin of your bug.\nI will reopen your issue as soon as it follows the templating guidelines.\nThank you.. It's cause we not omit relation during the update of the user. PR is coming to fix it.. Hello @1ncidental , please follow the issue template so we can get a better understanding about the origin of your bug.\nI will reopen your issue as soon as it follows the templating guidelines.\nThank you.. Hello @ClementLoridan, can you please write all your messages in english please.\nWill make this issue understandable by all the community.\nThank you :). @ClementLoridan I don't understand the state of your issue. You look updating your comment instead of giving news. So the message/state history is hard to follow.\nCan you give me the last news about it please.. It's released in last version of Strapi.\nThere is a content manager section in the left menu to update field name. @leinue Can you give me you r user model please.\nIt works fine in the last version of Strapi.. @daqst I think you are facing to an other issue. It look relative to providers and not local register.\nMake sure (in plugin advanced settings) 2 users can have the same email address.. Ho okay, you use numbers as password.\nPlease check this issue : https://github.com/strapi/strapi/issues/932\nPlease use something else than numbers for your password.\nWill not work on now so feel free to investigate on this issue and submit a PR.. Hello @emahuni , please follow the issue template so we can get a better understanding about the origin of your bug.\nI will reopen your issue as soon as it follows the templating guidelines.\nThank you.. Can you please open this issue in this repo https://github.com/strapi/strapi-docker. Hello @omarzion , I suggest you to use blogpostcategory instead of BlogPostCategory for now.\nWe have a feature request related to your issue here https://github.com/strapi/strapi/issues/661. Hi @omarzion . Actually it's not a priority for us. This feature need a lot of updates and I really think it's not a good first issue. Many core feature of Strapi have to be updated and I prefer to the core team work on.. It has been fixed. Not present in last version of Strapi. @dblinov If you manually update your content type name, you will have to manually update all other models that refers to it. . Please check next release Done list: https://github.com/strapi/strapi/projects/2\nWe did it in this PR: https://github.com/strapi/strapi/pull/1328\nWill be release soon in npm . Same as @johannpinson . It works great with alpha.12.4. @derrickmehaffy  Does it work for you if you try with a fresh new app and new database ?. @derrickmehaffy Have you some news about this issue ?. Hello @brandonbuttars , thank you for reporting this issue. We are currently on another feature and bug fix. Since time is lacking on our side, feel free investigate and submit a PR, we\u2019ll appreciate your contribution on this issue! \nYou can check how work strapi-plugin-users-permissions. We use Grant for authentication.\nYou can also check how we set actual providers here https://github.com/strapi/strapi/blob/master/packages/strapi-plugin-users-permissions/config/functions/bootstrap.js\nCheck out the contributing guide to get started: https://github.com/strapi/strapi/blob/master/.github/CONTRIBUTING.md. A PR is open about this issue https://github.com/strapi/strapi/pull/1384\n. Is it a duplicate issue ? @abdonrd did you already have an other oneWay relation in your model ?. @abdonrd If you are trying to make a relation with an other model than the same.\nNot category -> category but category -> user for example, it works ?\nI think the issue is, you can't make oneWay relation with the model himself.\nIf you confirm, we have to update the issue title.. Some news about it, if you are create the relation manually it will work on the content manager.. Hello @jeffwsw . I don't understand your issue. Can you give me a repo with your code. I don't know how to reproduce your issue .. Thank you for this improvement @redni !\n\nAnd good luck to \ud83c\uddf5\ud83c\uddf1for the Football World Cup !. Hey @derrickmehaffy it's not an issue.\nWe chose to disable this plugin in production environment. We wont anyone use it when your app is live.\n\nCode here: https://github.com/strapi/strapi/blob/master/packages/strapi-plugin-graphql/hooks/graphql/index.js#L125\n. @derrickmehaffy We can already disable local email login / register.. Yes that's it. Exactly the same as WordPress. Register form for the setup of your app. Then you will have to develope your application that implement a register and login form.. Hello @yummyelin . It's related to this issue https://github.com/strapi/strapi/issues/1274\nWe have an long work to do on this point.. Hello @yummyelin, I try to reproduce and I got relation and enum type after uninstall upload plugin ... Can you try with last version of Strapi please.. @yummyelin Can you make your repo public please, I can't access.. Thank you @redni.\n@yummyelin can you update your app with last version of Strapi please.. Good, I suggest you to not delete this plugin \ud83d\ude06 \nWe will not work on it soon. Not critical issue.. But thank you for this bug report.. What is the nature of your relation between user and customer ?. Can you try to remove \"required\": true and \"unique\": true from the relation. It's not handle by the framework.\nIt's work fin on my side.... Can you try with the last version of Strapi and tell me if it's work well on your side too.. I am closing this issue because we don\u2019t have any update/needed informations about it.. I got issue on Postgres\n\nAnd all update request fail on MySQL.\n\nBTW Postgres and MySQL test are commented.\n\nCan you just confirm you have the same on your side @Aurelsicoko . @soupette Can you ping us when this PR is ready for review ?. @derrickmehaffy This PR is only UI stuff. Will fix in an other PR this issue https://github.com/strapi/strapi/issues/1425. @runbb Thank you for this awesome PR ! \nLet me just some time to review your PR and then Strapi will have Arabic language support \ud83c\udf89 . @runbb AR detect Argentina flag \ud83c\udde6\ud83c\uddf7 have to find the good flag\n\n. Can you rename all ar files to sa please. To get the correct \ud83c\uddf8\ud83c\udde6 flag.\nAnd in languages.json file too.\nThen it will be good :). @runbb You can use ar and update https://github.com/strapi/strapi/blob/master/packages/strapi-admin/admin/src/containers/LocaleToggle/index.js\nAdd a case for ar to display https://cdnjs.cloudflare.com/ajax/libs/flag-icon-css/3.1.0/flags/4x3/sa.svg flag. The most important is to have a correct flag and somewhere we can contribute to Arabic language.. Hello @emahuni , please follow the issue template so we can get a better understanding about the origin of your bug or your feature request.\nI will reopen your issue as soon as it follows the templating guidelines.\nThank you.. Hey @johannpinson I ping you ! GraphQL feature, you can be interested !. Ping @Aurelsicoko @johannpinson . Thank you @kamalbennani for this precision.\nI prefer to have same feature on Mongoose and Bookshelf when we merge PR.. @kamalbennani we are waiting for Mongoose and Bookshelf (full support) before reviewing your PR.\nWill be awesome to have this feature !. @kamalbennani Thank you for the update !\nWill test & merge it soon as possible \ud83d\udc4d . Hello, I just tried and I have no issue... \n@Icemic what is your OS ?. If you install strapi again it doesn't fix the missing deps ?. @soupette Can you resolve conflicting files please.. Hello @derrickmehaffy , I tried and I'm not seeing any difference ... fixed in alpha.12.6. @derrickmehaffy can you give me the command you use please.. Hello @AnkitAneja , please follow the issue template so we can get a better understanding about the origin of your bug.\nI will reopen your issue as soon as it follows the templating guidelines.\nThank you.. @brocgailit Can you join a screenshot ?. Hello @johntom did you check this Repo for you socket.io usage ?\nAnd your without socketio using json payload work well on my side.. @johntom What happen if you are trying with a fresh new app ? Your issue still happen ?. I am closing this issue because we don\u2019t have any update/needed informations about it.. Hello @henrych4 !\nI don't understand what you want to do with the afterSave function. \nAre you using the content manager to create your Dailydata ?. Actually the upload feature not allow to create your entry and upload in the same time (issue here)\nSo first we create the entry (without media file) and then we upload your files by joining (Upload documentation) them to the entry previously created.\nIt's why you have null to your media key. Files are not upload at this point.\nI close this issue cause you need is related to the issue I linked previously.. I'm on master branch and I can't reproduce this issue.\nCan you give me the data creation/deletion step you did please.. I was trying with the content manager. Let me test again with the API.. @johannpinson @Aurelsicoko I think we have to chose option 2.\nIt let us handle more cases.. I would like to merge https://github.com/strapi/strapi/pull/1439 before this one.\nHave a clear choice about date types.. I remove this PR from the next release because or the other PR related to Date format.. Yeah it' so nice \ud83c\uddee\ud83c\uddf9 !! Let me time to review your PR  ;). @alewin sometimes you have it.json folder with it.json file inside translations/it.json/it.json. Can you fix translation file path please translations/it.json.\nBad path: \n- packages/strapi-plugin-content-manager/admin/src/translations/it.json/it.json\n- packages/strapi-plugin-content-type-builder/admin/src/translations/it.json/it.json\n- packages/strapi-plugin-settings-manager/admin/src/translations/it.json/it.json\n- packages/strapi-plugin-upload/admin/src/translations/it.json/it.json. @alewin Top ! . @alewin I have notice users-permissions plugin is missing.\nIf you have time to translate it we will appreciate ;D . Thank you @alewin  !. I will review you RP @entwicklerfr . Can you open this issue on strapi-docker repo https://github.com/strapi/strapi-docker. Your issue has been fixed in 3.0.0-alpha.12.3 - https://github.com/strapi/strapi/pull/1298\nCheck here for migration guide https://github.com/strapi/strapi/wiki. @derrickmehaffy, Normally if you are in a project and you run npm i it's reinstall all application node modules and plugins node module. So it's strange you have an issue by pushing your app in production.. Yes @derrickmehaffy , it's what said @Aurelsicoko https://github.com/strapi/strapi/issues/1433#issuecomment-403522883. @zalmane Can you try to update watched files list here and add admin folder.. I am closing this issue because we don\u2019t have any update/needed informations about it.. This PR break the Content Manager.\nThe data input display for timestamp type is not correct, the sended data has not the good format.\nHave to check if it's related to this PR or not for this data type issue.. Hello @johannpinson.\nI was not able to use your feature.\n\nI setup your repo and try to create a content type Article with date attribute.\nAbout the name Moment I don't know if it's better than Date @Aurelsicoko need your point of view on this topic.. @johannpinson You look have less time for now and I can't release it the actual state of this issue. It's why I remove it from the next release.. @mnlbox Not ready to be in the next release.\nI need to do some test and verification after resolving conflicts.\nAnd time is missing for that now.. Thank you @derrickmehaffy for this alert.. I close this PR since there is no activity, will reopen it the it will be necessary.. Hello @Tryptich , please follow the issue template so we can get a better understanding about the origin of your bug.\nI will reopen your issue as soon as it follows the templating guidelines.\nThank you.. I ran strapi new myProject and update bootstrap.jsfile with a log and it works well.. Hello @MattAurich I just tried with laster version of Strapi and It works.\n\n\nWhat look like you model please ?. Please update to alpha.12.6 to have save fire on update.\nAbout update on create action, it's because the content manager create then entry data and then update for relations data.\nLet me know if it works with alpha.12.6. It's not related to Strapi. Please check https://github.com/Automattic/mongoose/issues/419. This issue already exists, please browse the list of opened or closed issues.\nPlease check https://github.com/strapi/strapi/issues/1281. @corinthian13 can you create a pull request please https://github.com/strapi/strapi/edit/master/docs/3.x.x/en/getting-started/quick-start.md. Let's do it guys \ud83d\udc68\u200d\ud83d\udcbb. Hello @nicokant .\nYou can create a content type with one text attribute and one JSON attribute to have this feature.. Cause you want your client contribute to the value from the admin panel ?. Hello @AustinBratcher . I just tried with a fresh new project and database with Strapi alpha.12.6 and it work well on my side.\nCan you try with last version of Strapi please.. Looks working on my side. I close this issue.\nWill reopen it if it still happen after your test on your project.. Try with last version of Strapi (actually v3.0.0-alpha.14.3). Maybe this article can help you https://github.com/strapi/strapi/wiki/Switch-from-dev-app-to-prod. \nHave an issue, still npm dependency exist. @guillermodoghel Feel free to submit a PR to share your work with the Strapi community . @philippfrenzel This issue is related to Docker, can you please create it in strapi-docker repo please.. Please check merged PR of the next release https://github.com/strapi/strapi/projects/4\nYou will see PR about JSON field, we made a great improvement on this point.\nYour issue is fixed in the next release.. @johannpinson I let you make you updates before merging this PR.. @johanbaath @derrickmehaffy Can you give me an update on what need to be done in this PR ?. @johannpinson Have to set 3.x instead of 2.x for mongo version.\nMongo 3.6 and Mysql 5.6 to be sure to have no issue. For PG it's OK.. Hello guys, if one of you guys can make updates to be able to merge it, I will appreciate.\nThis PR is open since a too long time xD. @derrickmehaffy Yes please.. Actually we are focused on MySQL, Postgres and Mongo. Feel free ton investigate on how you can make MSSQL work.. Can you provide server logs please. Did you use mLb database or other distant database.\nPlease check https://blog.strapi.io/deploying-a-strapi-api-on-heroku/. You have to use a remote database like mlab or anything else.. > 2018-07-02T02:34:15.627065+00:00 app[web.1]: Make sure your MongoDB database is running...\nYou got this issue because Strapi is not able to be connected to your database.. Did you set production database settings of your app with your mLab database ?. @heyjaypray No problem ;) Happy to see you finish your project with Strapi.\nIf it's a public project can you send us what is it ?. @johannpinson I got an issue when I tried to create a content type.\nIn my log it's with the content type builder. And I have the same issue via the CLI.\nTo reproduce this issue: I clone your repo, npm run setup:build and create new project.\nThen I tried to create a conte type via the content type builder.\nThe content type I'm trying to create is Article with just one attribute title:string.\n\n. I close this PR because we move to https://github.com/strapi/strapi/pull/1948 to finish this PR.\nThank you for the job you did.. There is somewhere (haha) in the code where we check if the body is empty or not to set 404 response. We have to omit 0 as body to not send 404 response.\nThe thing you have to do is to find where the test is made :shipit: . @CantGetRight82 working on it, it will be fixed in few minutes. Please run npm i strapi@alpha -g and create your project. . @CantGetRight82 and @derrickmehaffy You can confirm ?. Hello @abdonrd why you don't move your DATABASE_URI params in connectOptions ?. I think something like that should work\njson\n{\n  \"defaultConnection\": \"default\",\n  \"connections\": {\n    \"default\": {\n      \"connector\": \"strapi-mongoose\",\n      \"settings\": {\n        \"client\": \"mongo\",\n        \"uri\": \"...\"\n      },\n      \"options\": {\n        \"authenticationDatabase\": \"admin\",\n        \"ssl\": true\n      }\n    }\n  }\n}. Okay. Maybe we can update your PR.\nIn the way you did it, if someone use uri it's options will not be applied. Or he has to set it in the uri url and it's not really user friendly.\nSo a way to handle both case can be to transform uri url params to option key value ?\n. If you remove options object in your database config, with your uri params it's working on your case ?\nYou said, options overwrite your uri options but if there is no options does't it work ?. We can maybe doing something like that\njs\nconst { uri, host, port, username, password, database } = _.defaults(connection.settings, strapi.config.hook.settings.mongoose);\nconst uriOptions = getUriParms(uri); // if there is an uri\nconst { authenticationDatabase, ssl, debug } = _.defaults(connection.options, uriOptions, strapi.config.hook.settings.mongoose);\nWith this way, options un database file or more important than uri params. And uri params are not override by default settings. Yeah top ! \ud83d\udc4d . @abdonrd  Can you just make a try without uri params in your database file please.\nWith a local mongo database.\nI think url.parse(undefined, true).query; will catch an error. Great, approved \u2705  !\n. I ask a question on your issue. Need more informations.. Hello @derrickmehaffy ! thank you for reporting this issue.\nPing @johannpinson have you also this issue ?. Guys feel free to submit a PR to fix this issue. Will appreciate your contribution on this issue.. I think the issue is coming from model equalizer in content type plugin.. Hello @xeastcrast ! Thank you for this proposition.\nWe will not work on this feature, not priority for us.\nFeel free to customize plugin users-permissions (here) to choose an other role depending of the origin of your request . Hello @rizalibnu  !\nI just reproduce your steps and all is working fine.\nSomeone can reproduce this issue ?. Hello @Nyeedz \nI'm not able to reproduce. Can you give me precise steps to reproduce.\nDid you migrate your app or it's a fresh new app ?. Can you give me your models please to be able to reproduce your issue.\nDid you make custom update of services or controllers ?. If you create a fresh new app (with alpha.12.6 versio) and you reproduce your models with the content type builder, does it work ?\nYes please zip your project it will be easier to test. Something in the migration look having failed :/. I will check this issue this week end.. Some delay sorry for that, lot of work. . Nop I havn't time to work on. Will appreciate an investigation by the community.\nSmall team for a large active community.. Can you try with last version of  Strapi (3.0.0-alpha.14.1.1) please.. With a fresh new project ? and fresh new database.. Hello! Thank you for these detail. I miss time to give you full detail about how work relations on Strapi.\nIt's a tricky part of the project. I will try to take a look soon as possible.. Hello @Blacknosaur . I ping @johannpinson on this issue cause it's related to GraphQL.\nDid you try after migrate your project or with a fresh project with last version of Strapi ?. If you want migrate your application you have to follow migration guides https://github.com/strapi/strapi/wiki\nI thinks it's why you have your issue.\nIf you create a new project with alpha.12.6 and you make your graphql query I think it will work. Can you confirm that ?. Hi @Tonours !\nIf your code fix an issue, of course I will appreciate a pull request ;)\nCheck out the contributing guide to get started: https://github.com/strapi/strapi/blob/master/CONTRIBUTING.md. Any update about this issue ?. Hi @davidmarcoes !\nPreviously on the code we find all users by profile.email. Automatically the find user will have user.email === profile.email.\nWhy have we to test it ?. Here you receive only user with profile.email as email right ?. @davidmarcoes Can you give us an update about my last comment please.. Hello @davidmarcoes I just have check why there is an issue here. It's on .query().find(). We send bad param. That is why {email: profile.email} doen't work an you have to make double check.. Hello @wadamek65 , thank you for reporting this issue. We are currently on another feature and bug fix. Since time is lacking on our side, feel free investigate and submit a PR, we\u2019ll appreciate your contribution on this issue! \nCheck how new project creation work. https://github.com/strapi/strapi/blob/master/packages/strapi/bin/strapi-new.js#L45\nAnd you will be able to add your params to handle your case.\nCheck out the contributing guide to get started: https://github.com/strapi/strapi/blob/master/.github/CONTRIBUTING.md. This option exist, user --dbauth\nDocumentation here: https://strapi.io/documentation/3.x.x/cli/CLI.html#strapi-new. Hello @maru3l !\nWe plan to have this in Strapi (not now, it's an hard work and it take many times). It will be so easy to customize anything !. Please can you give the correct strapi version you are using please.\nWhat is your issue, I don't understand. Please provide steps.\nWhat is not working ?. Hello @dulgeoion.\nYour migrate from 3.0.0-alpha.12.4 to 3.0.0-alpha.12.5 ?\nDid you follow migration guides ?. If you try with a fresh new strapi project with last version of strapi, your issue still exist ?\n. We identity the issue. The content-manager send null when the relation as not been updated. \n@soupette will work on it soon as possible.\nIf you want that fix on your app right now, feel free to investigate and fix it, you completely have access to the source code.\nYou can then submit a PR and share it with the community.. Start to fix relations here: https://github.com/strapi/strapi/tree/fix-relations\n1:1 is done, need to work on 1:n. @mnlbox Can you provide me precise steps to reproduce your issue with 1:n. And open it in a new issue. This one is about 1:1 and it's fixed;. Hello @davidmarcoes did you follow https://strapi.io/documentation/guides/authentication.html#providers documentation ?\nI'm not sure to 100% understand the issue.. Hello @decimoseptimo , what do you mean with length for numbers ?\nIf you set 10 as max value, the length will be max 2.\nIf you set 890 as max value, the max length will be 3.\nDon't understand your need.. In this case you have to store it as string. You are not trying to store a number to make math operations.. That can be useful for string validation yap. But it can't be apply on string and not on number. Nop, It's just I don't see use case for number.. I think we can update this issue to \"Add Regexp as model validator\" ?. Please update your Strapi application following migration guide in the wiki. Can you give us more details please.. Hello @Devilla , please follow the issue template so we can get a better understanding about the origin of your bug.\nI will reopen your issue as soon as it follows the templating guidelines.\nThank you.. I don't understand your issue. Need more details. Errors you get or anything else.\nWith info I have now, I can't do nothing for you.. Hello @fleshgakker , please follow the issue template so we can get a better understanding about the origin of your bug.\nI will reopen your issue as soon as it follows the templating guidelines.\nThank you.. Hello @bahdcoder !\nCan you tell me where is hosted your application. and what is your deployment process ?\nDid you restart your production application after deploy it?. Okay and you can see all your content types in the left menu ?. Hello @dulgeoion \nDid you follow migration guide instruction to move from alpha.12.5 to alpha.12.6 ?. @derrickmehaffy The issue I fix here is not the one you describe.. There is no date for this feature. We will not work on it for next months.. Please check https://github.com/koajs/koa-lusca. Hello @JonasJustus , Can you make sure your form is well send to the correct URL.\nTry with postman. If it's work with postman, it mean your front-end implementation is wrong.. Can you please open this issue in strapi-docker repo please.. @doebi Thank you to report issue\nI just ask you if you can create this issue in strapi-doker. It's every time the same message I send.\nSee https://github.com/strapi/strapi/issues/1455 https://github.com/strapi/strapi/issues/1430 https://github.com/strapi/strapi/issues/1368 It's not a rude message I think, no one of this guys was hurt by my message. Just have to copy and past your issue content in an other repo, in the good place to be handle.\nActually we have thousands issues to read and answer every week. We have some guide lines to keep issues sorted and classified to be able to fix it better and faster as we can. We not close issues just for fun.\nTo go forward on this issue, please open it on strapi-docker repo if you have an issue using docker.\nIf you have the issue with alpha.12.6 without docker, please reopen one with full required information.\nI lock the conversation. We have to go forward with smile and good mood. @bahdcoder Thank you for your PR ! Will review it soon as possible ! Appreciate . Hello @reskwer , did you change your database ?\nIt's look coming from your user permissions, can you logout from your admin and try to login again.. @leiyangyou Did you test your suggested code ?\nIf it works can you submit a PR to share it with the community please. Will appreciate your contribution on this issue.. Hello guys ! \n@bahdcoder and @daqst I think it's related to this comment https://github.com/strapi/strapi/pull/1485#issuecomment-405296037\nIf you confirm, please can you open a PR to share your fix with the community. Will appreciate your help on this point.. if /arquivo/latest is after /arquivo/:_id, /arquivo/:_id will match with you custom route. _id will be latest and latest is not a correct id value.\nIf you set your custom route before, strapi will match your custom route before /arquivo/:_id.. Hello @synth3tk , thank you for reporting this issue. We are currently on another feature and bug fix. Since time is lacking on our side, feel free investigate and submit a PR, we\u2019ll appreciate your contribution on this issue! \nCheck out the contributing guide to get started: https://github.com/strapi/strapi/blob/master/.github/CONTRIBUTING.md. thank you for your PR I will take a look.. Hello @yummyelin , thank you for reporting this issue. We are currently on another feature and bug fix. Since time is lacking on our side, feel free investigate and submit a PR, we\u2019ll appreciate your contribution on this issue! \nCheck out the contributing guide to get started: https://github.com/strapi/strapi/blob/master/.github/CONTRIBUTING.md. You will have to custom the plugin upload and aws provider config to handle bucket.. Can you provide a PR with your update please. It will be easier for me to test.. Hi @redni, that is a great suggestion. Will try to work on this improvement soon a possible. It's a really pain, I m agree with you.. It work well ! Nice job @soupette.\nI found something else:\n1. Click to add new relation\n2. Select oneWay\n3. Change the content type to link\nThe input is not with - and it display an error.\n\nCan you also make this fix in this PR please. We will be able to have a clean oneWay support.\nThank you.. Hello @mohamadzali , thank you for reporting this issue. We are currently on another feature and bug fix. Since time is lacking on our side, feel free investigate and submit a PR, we\u2019ll appreciate your contribution on this issue! \nIt's an easy issue to fix. You can update strapi-mongoose package.\nCheck out the contributing guide to get started: https://github.com/strapi/strapi/blob/master/.github/CONTRIBUTING.md. Thank you for this report.. @davidmarcoes check out the contributing guide to get started to submit a PR : https://github.com/strapi/strapi/blob/master/CONTRIBUTING.md. Please check this issue https://github.com/strapi/strapi/issues/885\n. Hello @reskwer , please follow the issue template so we can get a better understanding about the origin of your bug.\nOne bug per opened issue. And please check your own issue, it look duplicate of this: https://github.com/strapi/strapi/issues/1518\nThank you.. You already did the job I think for strapi new. You are just natively not able to test it because strapi-mongoose is not published with your update.\nWhen you run strapi new it will run npm i strapi-mongoose@alpha to test your MongoDB connection. And your update is not downloaded.\nIt's why we use Verdaccio to have a private NPM registry to test this kind f things. We write an article about this.. Hello @manishsg . I suggest you to use subdomain for your Strapi app.\nYou also can check issues here https://github.com/strapi/strapi/issues?q=is%3Aissue+nginx+is%3Aclosed. Hello @MechJosh0 it has been fixed in alpha.12.6. Please migrate your application following migration guides in the wiki.. Hello, it's fixed, can you confirm please.. Hello @bartgarbiak did you have this issue after migrate your app or it's with a fresh new app ?. Hello @haydos89 , thank you for reporting this issue. We are currently on another feature and bug fix. Since time is lacking on our side, feel free investigate and submit a PR, we\u2019ll appreciate your contribution on this issue! \nI think it's an easy issue to fix. \nCheck here how description is handle and in update model function.\nCheck out the contributing guide to get started: https://github.com/strapi/strapi/blob/master/CONTRIBUTING.md. Hello @entwicklerfr ! Yap, setup (and dev experience) is not completely ready for Windows; Sorry for that.\nYap you can! I think it's an issue about parsing the API description params.. Hello, it's a duplicate of this issue https://github.com/strapi/strapi/issues/1490\n. @mnlbox It's updated. Thank you for the report.. If you did some plugin customization, absolutely yes . Hello @kenjikato.\nTo fix it run npm i in /Users/appdevk5k4/Documents/Dev/newDataServer/strapi.. The process you have to do for your case:\n\ncd newDataServer\nnpm init -y\nnpm i strapi@alpha\ncd node_modules/strapi\nnpm i\ncd ../..\nnode ./node_modules/strapi/bin/strapi.js new myProject. Hello @osamajandali and @derrickmehaffy . That's a good catch !\nWe are currently on another feature and bug fix. Since time is lacking on our side, feel free investigate and submit a PR, we\u2019ll appreciate your contribution on this issue! \n\nYou will have to update the plugin strapi-plugin-upload and strapi-upload-local upload provider.\nBut be careful because I think it can break the media input in the content manager. You probably have to update the strapi-plugin-content-manager too.\nCheck out the contributing guide to get started: https://github.com/strapi/strapi/blob/master/CONTRIBUTING.md. Thank you @osamajandali !. @osamajandali Have you some news about this issue please.. Hello guys ! @dulgeoion @derrickmehaffy @printeastwoodcz \nI'm not able to reproduce your issue. I will need precise steps to be able to reproduce and fix this issue.\n@printeastwoodcz PR and issues you link don't have an impact on this issue I think.. I am closing this issue because we don\u2019t have any update/needed informations about it.. Hello @dulgeoion .\n\n\nDid you use migration guide or it's a fresh na alpha.12.7.1 app ?\n1.1 If it's a migration, can you try with fresh new app to check if you can reproduce with last version\n\n\nCan you try on your side if it's 1xM or file please (It will help me a lot, many issues to answer)\n\n\nThank you.. Hello @derrickmehaffy , I just tried to create an entry that have a boolean attribute. And by sending true or false as value for this attribute, it works fine with MySQL.\nDon't know what can I do to reproduce your issue.. Please try with RAW format when you use Postman.\nWe actually check on raw format. We know issue can exist on the format you use.. Hello @download13 thank you for this issue . Can you write this message in #1057 issue please.\nIt's same topic so I close this issue.. Can you give us more informations on point 1 please.. To this case you will have to use relations. Enum type is not design for your use case.\nhttps://stackoverflow.com/questions/38305154/why-enum-does-not-store-multiple-values-in-mysql. Hello @mnlbox , thank you for reporting this issue. We are currently on another feature and bug fix. Since time is lacking on our side, feel free investigate and submit a PR, we\u2019ll appreciate your contribution on this issue! \nAnd it's an easy css to fix it.\nCheck out the contributing guide to get started: https://github.com/strapi/strapi/blob/master/CONTRIBUTING.md. Hello @dulgeoion.\nThis part of the documentation https://strapi.io/documentation/guides/filters.html is not for services but for API routes.\nYou have to use bookshelf documentation for what you need.\nCheck how data queries are made when you generate an API. The code is in the service file.\n. @akkys77 I let you discuss with @maturano about his feedback. I'm not \ud83c\uddea\ud83c\uddf8 expert.\nSo let me know when this PR is ready to merge.. @maturano okay good ! So let's merge it.. Hello @download13 , thank you this PR, can you please update your PR description by following the template please.\n@johannpinson can you give us your review please.. @download13 Thank you for this contribution !. Related or duplicate of this issue https://github.com/strapi/strapi/issues/1512 can you confirm please. The line you update check if email is valid, by testing it with regexp. https://github.com/strapi/strapi/pull/1570/files#diff-a1b2a59a1f9790ecc352d1aade068876L264\nIf you add else it mean your email in not valid. So you can send error message like previous lines https://github.com/strapi/strapi/pull/1570/files#diff-a1b2a59a1f9790ecc352d1aade068876L256. And thank you @anshulk for submitting this PR, appreciate your contribution !. Hello @anshulk any update about my messages ?. Hello @fedecarg , thank you for reporting this issue. We are currently on another feature and bug fix. Since time is lacking on our side, feel free investigate and submit a PR, we\u2019ll appreciate your contribution on this issue! \nCheck out the contributing guide to get started: https://github.com/strapi/strapi/blob/master/CONTRIBUTING.md. Hello @jellybeat If you can test this PR by using the CONTRIBUTING guide and then play with upload, I will appreciate your help.\n@yummyelin Thank you for your contribution, will test it in few days.. @Aurelsicoko are you good with this new feature in the upload plugin ?. @yummyelin it's possible for you to make it work with folder path ?\nIf you can not now, we can merge your work and someone can add folder path later I think.\nIn any case can you update the documentation please with options you add please https://strapi.io/documentation/guides/upload.html \n. @yummyelin  #1791  is related to this PR ?. Hello @jellybeat , thank you for reporting this issue. We are currently on another feature and bug fix. Since time is lacking on our side, feel free investigate and submit a PR, we\u2019ll appreciate your contribution on this issue! \nCheck out the contributing guide to get started: https://github.com/strapi/strapi/blob/master/CONTRIBUTING.md. Thank you @ackro for you first contribution to Strapi. Appreciate your work, will test it in fews days \ud83d\udc4d . @ackro I release today, we will merge it for next release.. Hello @ackro, have you any update about @Aurelsicoko feedback ?. @ackro You don't need to open a new PR, you just have to add new commit on this one.\nAnd thank you for your contribution \ud83d\udc4d . @ackro have you any update please ?. Hello @derrickmehaffy. I try to play with models and relations and not able to have your issues...\nReally need steps to reproduce this issue.. @derrickmehaffy Any update please.. Hey @derrickmehaffy can you take a look with last version of Strapi if it still exist please.. Okay dac. Thank you for this detail.. Hello @fedecarg I'm not able to reproduce.\nCan you be more precise on steps to reproduce.\nWhat I did:\n\nCreate a content type customer (name:string)\nCreate a content type payment (name:string, customer:one-to-one:customer)\nCreate a customer via the content manager (name:customer1, without relation)\nCreate a payment via the content manager (name:payment1, with relation to customer1)\nUpdate payment content type name by candy\n\nAnd all works fin after that.. @fedecarg an other issue exist about the data migration. I think we can close this issue.. Hello @fedecarg , you can easily add a filter on received params and your model's attributes.\nFeel free investigate and submit a PR, we\u2019ll appreciate your contribution on this issue! \nCheck out the contributing guide to get started: https://github.com/strapi/strapi/blob/master/CONTRIBUTING.md. This issue have the same topic of this one https://github.com/strapi/strapi/issues/845\n. Can you confirm your need is the issue I linked please.. This issue will be fix when we will work on validation layer.\nOn the params received by the request and before requesting the database.. Caused by this issue https://github.com/strapi/strapi/issues/2591\nWe move on this one now.. I think your issue is a duplicate of this one https://github.com/strapi/strapi/issues/1484\nAnd you already publish on the issue. I think it's not necessary to open new issue.. Hello @Khanji , thank you for this report.\nI think it's an easy issue to fix, feel free investigate and submit a PR, we\u2019ll appreciate your contribution on this issue! \nCheck out the contributing guide to get started: https://github.com/strapi/strapi/blob/master/CONTRIBUTING.md. Hello @Khanji. Did you migrate your project from an other version ?\nAnd make your you use clean new database for your project.. @dseedah what is the database you use ?. Hello, I test your code and start the app with STRAPI_BACKEND=coucou strapi and it works well.. @maturano I miss my C/C try STRAPI_BACKEND=.... strapi start\nIt's not in any build process. Hello @mnlbox , thank you for reporting this issue. We are currently on another feature and bug fix. Since time is lacking on our side, feel free investigate and submit a PR, we\u2019ll appreciate your contribution on this issue! \nCheck out the contributing guide to get started: https://github.com/strapi/strapi/blob/master/CONTRIBUTING.md. Now there is more deprecation:\n(node:73444) DeprecationWarning: collection.ensureIndex is deprecated. Use createIndexes instead.\n(node:73444) DeprecationWarning: collection.find option [fields] is deprecated and will be removed in a later version.\n(node:73444) DeprecationWarning: collection.find option [fields] is deprecated and will be removed in a later version.\n(node:73444) DeprecationWarning: collection.update is deprecated. Use updateOne, updateMany, or bulkWrite instead.\n(node:73444) DeprecationWarning: collection.count is deprecated, and will be removed in a future version. Use collection.countDocuments or collection.estimatedDocumentCount instead\n(node:73444) DeprecationWarning: collection.remove is deprecated. Use deleteOne, deleteMany, or bulkWrite instead.. @Aurelsicoko fixed it - https://github.com/strapi/strapi/pull/2682. Hello @derrickmehaffy can you check this issue please https://github.com/strapi/strapi/issues/1202\nI think it's the same topic.. Hello @bahdcoder , thank you for your PR.\nBut to fix this issue I think we have to update this line https://github.com/strapi/strapi/pull/1598/files#diff-df73e215d3065efc03d87acac26772f7R48\nBecause params are not correct. It's not apply the find on email.\nAnd use:\njs\nstrapi.query('user', 'users-permissions').find({\n  where: {\n    email: profile.email\n  }\n});. Hello @xeastcrast , please follow the issue template so we can get a better understanding about the origin of your bug.\nI need steps you did and terminal logs.\nI will reopen your issue as soon as it follows the templating guidelines.\nThank you.. strapi.services... have to be called in a running Strapi application.\nYou can write it in ./config/functions/bootstrap.js, this file is called when you start your server.. Hello @tarol , Can't understand your issue, can you please provide us full steps you did to have this issue.. Hello @xeastcrast , please follow the issue template so we can get a better understanding about the origin of your bug.\nNeed steps to reproduce.\nI will reopen your issue as soon as it follows the templating guidelines.\nThank you.. Hello @tjvanderende can you update your issue description and give us the Strapi version you user please.. Hello @tjvanderende I'm not able to reproduce your issue. It work fine on my side\n@derrickmehaffy I have not your logs on my side. \nCan you give me logs of params param line 178\nand logs of record line 187 please.. @derrickmehaffy @tjvanderende Can you give us an update about this issue. Still exist with last version of Strapi ?. Hello @synth3tk, thank you for this PR ! Have to make some test. If anyone has already test it. Feel free  to send your feedback.. Same comment as your Twitch provider PR. Can you add documentation please.. Hello @Charuru. This plugin not exist today. Feel free to upvote it on vote page. You can check this PR as an example for the documentation https://github.com/strapi/strapi/pull/1664\n. Hello @synth3tk It works well !\nI just have an issue on Twith pop up\n\nDid you have the same (can you try new setup:build please)\n. Maybe @soupette will have time to help you but I don't think so. He is really busy!\nWe will have to find a solution before merging your PR.. I close this PR feel free to reopen it when you are done with this. We have a lot of troubles running on Windows. The recommendation is work with Linux under a VM or with WSL.. I close this issue because we are moving to Crowdin to manage translations.\nWe will update the contribution guide to add information to how contribute to translations.. Yeah ! That is super good news !. I close this issue because we are moving to Crowdin to manage translations.\nWe will update the contribution guide to add information to how contribute to translations.. I updated the issue body with missing keys @maturanomx . Thank you @maturanomx . I close this issue because we are moving to Crowdin to manage translations.\nWe will update the contribution guide to add information to how contribute to translations.. I close this issue because we are moving to Crowdin to manage translations.\nWe will update the contribution guide to add information to how contribute to translations.. I reopen it before check all translation status. To close/edit manually all issues related to translation files.. I close this issue because we are moving to Crowdin to manage translations.\nWe will update the contribution guide to add information to how contribute to translations.. Awesome @Fausto95 ! Waiting for your PR \ud83d\udc4c . I close this issue because we are moving to Crowdin to manage translations.\nWe will update the contribution guide to add information to how contribute to translations.. Hello @segush11 ! Yap, feel free to submit a PR with translations changes.\nCheck out the contributing guide to get started: https://github.com/strapi/strapi/blob/master/CONTRIBUTING.md. Hello @segush11 ! Yap, feel free to submit a PR with translations changes.\nCheck out the contributing guide to get started: https://github.com/strapi/strapi/blob/master/CONTRIBUTING.md. I close this issue because we are moving to Crowdin to manage translations.\nWe will update the contribution guide to add information to how contribute to translations.. I close this issue because we are moving to Crowdin to manage translations.\nWe will update the contribution guide to add information to how contribute to translations.. I close this issue because we are moving to Crowdin to manage translations.\nWe will update the contribution guide to add information to how contribute to translations.. I can only assign Strapi team to issues, not Community members (would love this feature).\nAnyway, will appreciate your contribution on this issue \ud83d\udc4d feel free to open a PR. I close this issue because we are moving to Crowdin to manage translations.\nWe will update the contribution guide to add information to how contribute to translations.. @mikmar88 Thank you !\nI will review all translation PR next week.. Hey @moersoy ! Thank you for your contribution !\nI will review all translation PR at the end of next week.. Hello @goras thank you to report this issue.\nActually filters on relation is not fully handled. You can search on existing parent but not on null.\nWill have to check if this PR https://github.com/strapi/strapi/pull/1467 handle your usecase.. Is the same as https://github.com/strapi/strapi/issues/1292. Will need @Aurelsicoko mindset about the style to use in any languages.\nAnd btw thank you for your PR\nI will review all translation PR at the end of next week.. @AustinBratcher About the issue you got with _id, it has been fixed in last version of Strapi.\n@VictorKolb Actually this is not developed but you can create your own policies to handle this case. https://strapi.io/documentation/guides/policies.html\nAnd can you tell us if @AustinBratcher message helped you to fix your issue.. Ho yes you are right !\nWe did the update in this section of the doc Authentication but not in sessions part.\nCan you open a pull request with ctx.state.user update in session part please.\nThere is a link for that on top of the page you want update.. @bardaq Thank you for this PR. \nI will review all translation PR at the end of next week.. @npjonath thank you for this repport. It has been add.. https://github.com/strapi/strapi/pull/1703\n. Thank you @basilebong for this PR !\nI will review all translation PRs at the end of next week.. Maybe you can find information here https://github.com/strapi/strapi/issues/1539.. Hello @purrplingcat , this issue looks to be a duplicate of this one https://github.com/strapi/strapi/issues/1139. Hey @mikmar88  ! Thank you for your contribution !\nI will review all translation PR at the end of next week.. Hello @NoahHahm , Can you try with non empty object please.. After investigate on this issue. It seems it's coming from the input that sending undefined\n. Hello @NoahHahm , please follow the issue template so we can get a better understanding about the origin of your bug.\nI will reopen your issue as soon as it follows the templating guidelines.\nThank you.. Hey @jbbn  ! Thank you for your contribution !\nI will review all translation PR at the end of next week.. Hello @CupCakeArmy , thank you for reporting this issue. Can you submit a PR please, we\u2019ll appreciate your contribution on this issue! \nCheck out the contributing guide to get started: https://github.com/strapi/strapi/blob/master/CONTRIBUTING.md. Hello @vaskort thank you to submit a PR.\nYes there is an other point, mongoose and bookshelf not need same settings and options.. You will have to define settings by connectors.\n@vaskort Can you make an update about that please. Then I will be able to test it.\nThank you . @vaskort Okay \ud83d\udc4d . Hello @vaskort! Hope your 2 weeks was good ;). Happy to read that!. Yap, it's an empty object by default with SQL databases. Please check this PR https://github.com/strapi/strapi/pull/2698\nWe will merge this fix soon as possible.. Hello @jfrux ! Thank you for this PR !\nDoes it fix this issue https://github.com/strapi/strapi/issues/1660 ? . For z-index @soupette fixed it here https://github.com/strapi/strapi/pull/1700. Hello @dulgeoion I update the wiki to precise it's also needed for strapi-bookshelf and strapi-knex. It has been fixed in this PR https://github.com/strapi/strapi/pull/1675. @soupette I have an issue, no data is sent in the request. The body is empty.. I have a small \u2b1c\ufe0f on the middle left of the screenshot.\n\n. I'm able to select many times a relation who is already selected.\n\n. Hello @yusufiga. This feature actually not exist.\nWe are currently on another feature and bug fix. Since time is lacking on our side, feel free investigate and submit a PR, we\u2019ll appreciate your contribution on this issue! \nCheck out the contributing guide to get started: https://github.com/strapi/strapi/blob/master/CONTRIBUTING.md. Hello @bahdcoder, we are not working on this feature. We will appreciate your contribution on it !\n . @arsenx I think there is a miss understand about permissions and data access.\nYou will have the same with API routes.\nPermissions not block relations data access but it block controller actions.. Thank you @chrisdekker1997 !. @kuongknight Thank you for this PR.\nCan you just update your PR description to add some context of what this PR is doing.\n. And I'm back ! Let's merge it.. I think your issue is related to this one https://github.com/strapi/strapi/issues/1139\nCan you try to lowercase your content type and attributes please.. Thank you @greatwitenorth for your investigation, can you submit a PR if you have a fix to offer to the community.\nAppreciate.. Can you try with last version of Strapi (new app and new database) to check if it still happen please.. It's code we have to delete.\nThis feature not exist. Probably will be integrate in a media manager plugin.. Is your issue related to Docker usage ?. Can you please give us an update about this issue?. Can you try to create new app and install GraphQL plugin (without creating new content type) and tell me if you have the issue. \nJust to know if it's based on existing plugins models or on your custom content types. For utils issue please check this issue https://github.com/strapi/strapi/issues/1612\nFor other issue, please use lowercase attributes.. @maturano I was not able to reproduce your issue.\nSomeone else did ?. Okay it's clear.\nIt's the missing --dev flag.\nI think the pluralize dependency have to be added in the content-manager\nBut it's will be hard to test because when you run strapi new ... without --dev flag, plugins are installed from npm. \nAnd the update you will do, will no be published on npm now. Hello @jskorepa , thank you for reporting this issue. We are currently on another feature and bug fix. Since time is lacking on our side, feel free investigate and submit a PR, we\u2019ll appreciate your contribution on this issue! \nCheck out the contributing guide to get started: https://github.com/strapi/strapi/blob/master/CONTRIBUTING.md. I am closing this issue because we don\u2019t have any update/needed informations about it.\nWill reopen it if activity come back.. Hello @Anbarasan-321 , please follow the issue template so we can get a better understanding about the origin of your bug.\nI will reopen your issue as soon as it follows the templating guidelines.\nThank you.. Hello @laportem , thank you for reporting this issue. We are currently on another feature and bug fix. Since time is lacking on our side, feel free investigate and submit a PR, we\u2019ll appreciate your contribution on this issue! \nCheck out the contributing guide to get started: https://github.com/strapi/strapi/blob/master/CONTRIBUTING.md. Thank you @mmichelli for these details\n. Check migration guide to use last version of Strapi https://github.com/strapi/strapi/wiki\n. @indiecore-fm this will also block any actions of this user https://github.com/strapi/strapi/pull/1705/files#diff-5a61899a2abde7c09554cb2fe47cdbcdR27. This issue already exists, please browse the list of opened or closed issues.\nPlease check https://github.com/strapi/strapi/issues/1230. @lucaperret I'm not able to run npm run setup:build but it works on master branch.\n``shell\nnpm ERR! code ELIFECYCLE\nnpm ERR! errno 2\nnpm ERR! strapi-admin@3.0.0-alpha.14 build:APP_PATH=$APP_PATH npm run build:dll && node ./node_modules/strapi-helper-plugin/node_modules/.bin/cross-env NODE_ENV=production IS_ADMIN=true node ./node_modules/strapi-helper-plugin/node_modules/.bin/webpack --config ./node_modules/strapi-helper-plugin/lib/internals/webpack/webpack.prod.babel.js --color -p --progress`\nnpm ERR! Exit status 2\nnpm ERR!\nnpm ERR! Failed at the strapi-admin@3.0.0-alpha.14 build script.\nnpm ERR! This is probably not a problem with npm. There is likely additional logging output above.\nnpm ERR! A complete log of this run can be found in:\nnpm ERR!     /Users/lauriejim/.npm/_logs/2018-08-29T09_14_30_402Z-debug.log\nnpm ERR! code ELIFECYCLE\nnpm ERR! errno 1\nnpm ERR! @3.0.0-alpha.14 setup: npm run clean:all && npm install ./packages/strapi-lint --save-dev && npm install && node ./scripts/setup.js && npm run clean\nnpm ERR! Exit status 1\nnpm ERR!\nnpm ERR! Failed at the @3.0.0-alpha.14 setup script.\nnpm ERR! This is probably not a problem with npm. There is likely additional logging output above.\nnpm ERR! A complete log of this run can be found in:\nnpm ERR!     /Users/lauriejim/.npm/_logs/2018-08-29T09_14_32_673Z-debug.log\nnpm ERR! code ELIFECYCLE\nnpm ERR! errno 1\nnpm ERR! @3.0.0-alpha.14 setup:build: npm run setup --build\nnpm ERR! Exit status 1\nnpm ERR!\nnpm ERR! Failed at the @3.0.0-alpha.14 setup:build script.\nnpm ERR! This is probably not a problem with npm. There is likely additional logging output above.\nnpm ERR! A complete log of this run can be found in:\nnpm ERR!     /Users/lauriejim/.npm/_logs/2018-08-29T09_14_32_751Z-debug.log\n```. Hello @adamquaile , thank you for reporting this issue. We are currently on another feature and bug fix. Since time is lacking on our side, feel free investigate and submit a PR, we\u2019ll appreciate your contribution on this issue! \nCheck out the contributing guide to get started: https://github.com/strapi/strapi/blob/master/CONTRIBUTING.md\nYou can check https://github.com/strapi/strapi/tree/master/packages/strapi-hook-bookshelf and https://github.com/strapi/strapi/tree/master/packages/strapi-generate-new. Working on it - https://github.com/strapi/strapi-sdk-javascript/pull/28\n. I tried in dev mode. I clone, setup and create new app.\nWhen I start my project, it open the admin on port 4000 but I haven't start the admin so I have an error This site can\u2019t be reached.\nCan we detect if the admin is running on port 4000. And depend on, open the admin on 1337 or 4000 . @ivanguimam Can you check if it still happen in last version of Strapi (3.0.0-alpha.13.1)\n. Hello @avdeyev, thank you for reporting this issue. We are currently on another feature and bug fix. Since time is lacking on our side, feel free investigate and submit a PR, we\u2019ll appreciate your contribution on this issue! \nCheck out the contributing guide to get started: https://github.com/strapi/strapi/blob/master/CONTRIBUTING.md. Hello @g-div, yes can you submit a PR please.\nWill appreciate your contribution on this issue. We definitively miss time to fix all issues, we need your help. . Th PR will be merged for the next release if all is correct.. Hello @mindgrub-rkoch. In your api/.../models/....js you have lifecycle.\nDocumentation here https://strapi.io/documentation/guides/models.html#lifecycle-callbacks\nI think it can help you.. @mindgrub-rkoch did you use mongoose or bookshelf ?. Can you precise  when you speak about response. You speak about the server response after an POST request for example ?. You can't add key that not exist in you model.\nTry to update and existing key, it will work.. I link this issue to this global issue about models and attibutes format - https://github.com/strapi/strapi/issues/1736. Miss Copy and Paste - https://github.com/strapi/strapi/issues/1139\n. Content Manager customization has been released since 2 versions of Strapi. . @millette can you give us an update please. If it still not having activity I will close this issue.. Hello @krsnaa , thank you for reporting this issue. We are currently on another feature and bug fix. Since time is lacking on our side, feel free to submit a PR, we\u2019ll appreciate your contribution on this issue! \nCheck out the contributing guide to get started: https://github.com/strapi/strapi/blob/master/CONTRIBUTING.md. https://github.com/strapi/strapi/pull/1773. I think it's because we use session storage instead of local storage.. I am closing this issue because we don\u2019t have any update/needed informations about it.\nWill reopen it if activity come back.. Hello @ganeshkbhat you can use JSON type and store an array inside.. Hello @MartinMuzatko I think you issue is related to this issue https://github.com/strapi/strapi/issues/1139\nPlease try to lowercase your relations attributes.. I understand your need, I link this issue to this global models and attributes format issue - https://github.com/strapi/strapi/issues/1736. You can check the Strapi SDK JS we have on our repo.. Hello @chrisdekker1997 ! Thank you for reporting this issue.\nIt's because by default we use sendmail provider and in your case, you can't send email.\nThis is the error https://github.com/strapi/strapi/blob/master/packages/strapi-email-sendmail/lib/index.js#L47\nI suggest you to use an other email provider. https://strapi.io/documentation/guides/email.html#install-providers. And can you please provide a PR to update the error message. By updating translation key and by updating translation values. Will appreciate your contribution on this point.. @chrisdekker1997 can you give me an update about the PR you speack about. Will appreciate your contribution on this issue.. Has been fixed in the last release.. https://github.com/strapi/strapi/pull/2060. Hello @zeroby0. Thank you for reporting this feature request.\nActually you can custom the register function and add your validation.\nhttps://github.com/strapi/strapi/blob/master/packages/strapi-plugin-users-permissions/controllers/Auth.js#L266. Let it open. To help:\nPostman collection https://www.getpostman.com/collections/269e3235a1a13e559811\nYou have to create an environment with 3 variables\n- host - http://localhost:1337\n- ressource - articles\n- jwt\nThe Plugins Auth & Permissions > Auth > Login with automaticaly set your JWT in postman variable.. I close this issue. Actually the documentation is updated frequently to give you more examples and informations.. Why did you loose the manifest.json file ?. I am closing this issue because we don\u2019t have any update/needed informations about it.\nWill reopen it if activity come back.. Hello @sbastias and @danielehrhardt , thank you for reporting this issue. We are currently on another feature and bug fix. Since time is lacking on our side, feel free investigate and submit a PR, we\u2019ll appreciate your contribution on this issue! \nCheck out the contributing guide to get started: https://github.com/strapi/strapi/blob/master/CONTRIBUTING.md. Hello @ferminmine , thank you for reporting this issue. We are currently on another feature and bug fix. Since time is lacking on our side, feel free investigate and submit a PR, we\u2019ll appreciate your contribution on this issue! \nCheck out the contributing guide to get started: https://github.com/strapi/strapi/blob/master/CONTRIBUTING.md. We (Strapi core team) don't have time now to work on. Need you (the community) investigate and work  on this issue.. I update your issue to more global issue.\nActually you can't customize the Primary Key.. @jonlov Thank you for your contribution.\nWill have to be careful if you have to folder with the same file name. One will be override.\n./config/policies/auth/isAuthenticated.js et ./config/policies/other/isAuthenticated.js. Hello @ghufr ! Thank you for this report, will try to fix it.. This issue already exists, please browse the list of opened or closed issues.\nPlease check https://github.com/strapi/strapi/issues/1612. This issue already exists, please browse the list of opened or closed issues.\nPlease check https://github.com/strapi/strapi/issues/1281. I tried and I'm not able to reproduce.. Test with last version of Strapi and with a fresh new app.. Someone with MacOs can test it please.. \ud83e\udd26\u200d\u2642\ufe0f Okay ! . I just tested it with window and mac os with last version of Strapi (alpha.24.1) and this issue look fixed.. Hello @pt-br ! There is no tools for this kind of migration.. @derrickmehaffy The route you have to try is /upload/files, the plugin name prefix is missing.\nhttps://github.com/strapi/strapi/issues/1765. @maturano The lint is trigger only on files you change.\nAll files has not been parsed by the linter.. I think you are talking about this issue - https://github.com/strapi/strapi/issues/624. @MartinMuzatko route users-permissions/permissions is used to create new role. It doesn't give you roles permissions.\nAs @avallete said, the correct route to get the info you want is users-permissions/roles/:roleId\nIf you use /me route you can get the role id then use the previous route to know what this user can do.. Probably be fixed with this PR https://github.com/strapi/strapi/pull/1712. Fix media populate https://github.com/strapi/strapi/pull/2693. Hello @MartinMuzatko . Can you check the http response error please.\nI think the displayed error is not correct, have to displayed Auth.form.error.code.provide message.\nThe link you receive is usable only one time. If you already reset your password resetPasswordToken database value will be reset to null. Can you also check that on your database please.. Hello, thank you for reporting this issue. We are currently on another feature and bug fix. Since time is lacking on our side, feel free submit a PR, we\u2019ll appreciate your contribution on this issue! \nCheck out the contributing guide to get started: https://github.com/strapi/strapi/blob/master/CONTRIBUTING.md. Hello @MartinMuzatko , thank you for reporting this issue. We are currently on another feature and bug fix. Since time is lacking on our side, feel free investigate and submit a PR, we\u2019ll appreciate your contribution on this issue! \nCheck out the contributing guide to get started: https://github.com/strapi/strapi/blob/master/CONTRIBUTING.md. psttt @derrickmehaffy do not disturb my week end \ud83d\ude06 . Hello @dennieljoshua ! \nTo fix this issue you will have to add (don't know why it disappear) provider attribute in User model of Users and Permissions plugin.\nThen if you check the register fonction we set local as provider.\nBut the user creation in the Content Manager don't call this function. In this file we set the create function as the User.create function.\nSo we add to set user provider as local in this function.\nLet me know if something is not clear. Thank you for your help.\nCheck out the contributing guide to get started: https://github.com/strapi/strapi/blob/master/CONTRIBUTING.md. @dennieljoshua you have to set ctx.request.body.provider to local in this line https://github.com/strapi/strapi/blob/master/packages/strapi-plugin-users-permissions/controllers/User.js#L93. @MirkoVentura Can you go in this url of your app /admin/plugins/upload/configurations/production and update settings.\nTell me if it works.. Can you try with fresh new app with last version of Strapi please (3.0.0-alpha.14.1.1). I am closing this issue because we don\u2019t have any update/needed informations about it.\nWill reopen it if activity come back.. Hello, what is you Strapi version, os, node version and the database you use.. Please check our SDK https://github.com/strapi/strapi-sdk-javascript#files-management \nI think it can help you. Hello @amit-deligence , please follow the issue template so we can get a better understanding about the origin of your bug.\nI will reopen your issue as soon as it follows the templating guidelines.\nThank you.. Hello @amit-deligence, please follow the issue template so we can get a better understanding about the origin of your bug.\nI will reopen your issue as soon as it follows the templating guidelines.\nThank you.. I think @soupette has already fixed it in the last version of master.. Thank you @nobodywithbody for this PR, I need @soupette confirmation.. Hello @MartinMuzatko , thank you for reporting this issue. We are currently on another feature and bug fix. Since time is lacking on our side, feel free investigate and submit a PR, we\u2019ll appreciate your contribution on this issue! \nCheck out the contributing guide to get started: https://github.com/strapi/strapi/blob/master/CONTRIBUTING.md. Hello @quibaritaenperdresatrompe, some work has been done to make it works well with Yarn but not all complete.\nI suggest you to use Strapi with npm because Yarn is not our priority now.\nIf you want absolutely Yarn support rapidly feel free to investigate on your side and submit a PR.\nEvery contribution on Strapi is appreciated to make the project better.\nCheck out the contributing guide to get started: https://github.com/strapi/strapi/blob/master/CONTRIBUTING.md. Hello @piLinux , thank you for this report.\nIt's an easy update to do, can you please submit a PR to fix it.\nWe will appreciate your contribution on Strapi.\nCheck out the contributing guide to get started: https://github.com/strapi/strapi/blob/master/CONTRIBUTING.md. Thank you @avallete for details!. It's fixed in last version of Strapi.. Hello @sundaycrafts , we use ' instead of \", can you restore ' please.\nThen I think changes will be more easy to read.. Thank you for your update. I will check your code soon as possible.. Did you check migration guides ? https://github.com/strapi/strapi/wiki\n. Hello @MartinMuzatko , thank you for reporting this issue. We are currently on another feature and bug fix. Since time is lacking on our side, feel free investigate and submit a PR, we\u2019ll appreciate your contribution on this issue! \nCheck out the contributing guide to get started: https://github.com/strapi/strapi/blob/master/CONTRIBUTING.md. @MartinMuzatko I just tried with last version of strapi and clean new database and it works fine.\nCan you test and tell me if this issue still happen please.\n. Hello @YouhannaSabry !\nWhen you upload a file using /upload route, it call this action.\nThen at this line strapi format files and define the hash that will became the file name (code here)\nSo you can customize the returned hash and it will change the name of your file.. Yesterday I fix jest start https://github.com/strapi/strapi/pull/1806\nBut bugs still happen in test suites.\nAnd feel free to submit a PR, help is appreciate !. Thank you @nobodywithbody for this fix.\nWaiting for @soupette approval.. Thank you for this PR @avallete . Will check that soon as possible.. @avallete What happen ? Did you have an issue ?. https://github.com/strapi/strapi/wiki/migration-guide-alpha.12.7-to-alpha.13#%EF%B8%8F-update-hook-name. Add informations, probably have to create the commande to handle it for MySQL https://github.com/strapi/strapi/blob/master/packages/strapi-hook-bookshelf/lib/index.js#L529\n. Thank you for this PR, waiting for @soupette review.. Hello @nobodywithbody!\nIt's just to give more information about translations.\nLanguage configs on the back-end part is based on ./config/locales/xxx.json files.\nAnd the front-end part is based on ./admin/src/translations/xxx.json files.\nSo it can manage completely different languages between back-end and front-end.. Thank you for your PR @andfk. Will work on your PR soon as possible.. Hello @sundaycrafts, thank you for this PR.\nI would love have one PR for the fix (easy to review) and one for code clean.\nWill try to work on your PR soon as possible.. @sundaycrafts Please can you open an other issue with just your +srv support (Too hard to read what is feature update and what is beautify)\nI will review that first before review some beautify code on this PR.\nThank you.. When we create a new app, you set srv as a string instead of a boolean type.\nCan you did an update about that in the strapi-generate-new\nAnd handle it like this code for this code. (It will be ignored if you enable +srv) is also displayed when we create an application with Postgres. I think we have to display it only for Mongo.. @greatwitenorth Can you fix the conflict please. We will then review your PR.\nThank you for your time.. The conflict is with this commit https://github.com/strapi/strapi/commit/cbf877074d8f8a96484ce1b7ec96980bef6e64af#diff-a056f29ab621b93285370edb48940246\n. @Duncanmoo It looks be an other issue on GraphQL, can you submit a new PR with your error please.. Duplicate of https://github.com/strapi/strapi/issues/1687. Did you check the linked issue ?. Hello @amit-deligence , please follow the issue template so we can get a better understanding about the origin of your bug.\nI will reopen your issue as soon as it follows the templating guidelines.\nPlease give us more informations\nThank you.. Was fixed in this PR https://github.com/strapi/strapi/pull/2709. Can you please open this issue in strapi-docker repo please.. Okay I think it's a missing dependency in content-manager or content-type-builder plugin.\nI will check that.. Look to be present :/ not that point.. @hansemannn You also use Docker ?. Did you define where come from the issue, Strapi stuff or a config in your EBS or Gitlab CI. @stephane-r did you check https://github.com/strapi/strapi/blob/master/.travis.yml file?. @sundaycrafts can you check that please.. Try strapi.plugins.email.services.email.send.. You don't need to update branch any times.\nI will do it before merging it. Like that it's not pollute the commit history.. Hello @dwarcher. Thank you to report this issue. We are currently on another feature and bug fix. Since time is lacking on our side, feel free investigate and submit a PR, we\u2019ll appreciate your contribution on this issue! \nYou just have to update some text or update to save your upload.\nCheck out the contributing guide to get started: https://github.com/strapi/strapi/blob/master/CONTRIBUTING.md. Thank you @jbergstroem to report this issue ! . Hello @jbergstroem , thank you for reporting this issue. We are currently on another feature and bug fix. Since time is lacking on our side, feel free investigate and submit a PR, we\u2019ll appreciate your contribution on this issue! \nCheck out the contributing guide to get started: https://github.com/strapi/strapi/blob/master/CONTRIBUTING.md. Update: You can't use space in you column name. Please use lowerCase names. Hello @jbergstroem , thank you for reporting this issue. We are currently on another feature and bug fix. Since time is lacking on our side, feel free investigate and submit a PR, we\u2019ll appreciate your contribution on this issue! \nCheck out the contributing guide to get started: https://github.com/strapi/strapi/blob/master/CONTRIBUTING.md. @derrickmehaffy so you can try something like that\njs\n_.defaultsDeep(grantConfig, {\n    server: {\n        protocol: `http${(strapi.config.proxy.enabled && strapi.config.proxy.ssl) ? 's' : ''}`,\n        // Or (strapi.config.proxy.enabled && strapi.config.proxy.ssl) ? 'https' : 'http',\n        host: `${strapi.config.url}`\n    }\n});\nBased on the PR you link. Just test if proxy is enabled and if ssl is true, in this case use https. In your condition you not place proxy in the correct place.. Can you test and tell me if it work for you. What need to be done before merging this PR @derrickmehaffy ?. Hello @nobodywithbody thank you for this PR.\nCan you give me steps to reproduce the isssue your PR fix please.\nOr link an issue if one exist.. I miss to send review request to @Aurelsicoko. Will be merged when the review will be done.. I test with and without during the development.. @ArkhipovK You can confirm it works on Google Chrome ?. Hello @nobodywithbody why did you delete this PR ?. Okay, thank you @nobodywithbody.. Hello @nobodywithbody . Can you check if it's already not fix on master please.\nMake a setup:build with strapi master branch. And I think it's already fixed.. I am closing this PR because we don\u2019t have any update/needed informations about it.\nWill reopen it if activity come back.. Hello @henricazottes can you submit a PR to fix it please.. @g-div What is the value to set to have this issue please.. Hello @g-div , thank you for reporting this issue. We are currently on another feature and bug fix. Since time is lacking on our side, feel free investigate and submit a PR, we\u2019ll appreciate your contribution on this issue! \nCheck out the contributing guide to get started: https://github.com/strapi/strapi/blob/master/CONTRIBUTING.md. Hello @g-div! I'm not able to reproduce this issue.\nWhat is your attribute name ?\nDid you migrate your app or it's a fresh new one ?. Not able to reproduce. Try many time.... @soupette any idea ?. @Aurelsicoko Have to be tested before the end of the week.. It looks working well.\nAs you specify @maturanomx for MacOS users we have to install sed by running brew install gnu-sed --with-default-names\nMaybe it can be added in the contributing guide ?. I think you have to update package.json script clean:all to install dependencies before running remove symlinks.\n\"clean:all\": \"npm install && npm run removesymlinkdependencies && rm -rf package-lock.json && rm -rf packages/*/package-lock.json && rm -rf packages/*/node_modules\",\nIf we don't do that, shelljs is not installed and we got this error\n```\n\n@3.0.0-alpha.14.1.1 removesymlinkdependencies /home/ubuntu/strapi\nnode ./scripts/removeSymlinkDependencies.js\n\ninternal/modules/cjs/loader.js:583\n    throw err;\n    ^\nError: Cannot find module 'shelljs'\n    at Function.Module._resolveFilename (internal/modules/cjs/loader.js:581:15)\n    at Function.Module._load (internal/modules/cjs/loader.js:507:25)\n    at Module.require (internal/modules/cjs/loader.js:637:17)\n    at require (internal/modules/cjs/helpers.js:20:18)\n    at Object. (/home/ubuntu/strapi/scripts/removeSymlinkDependencies.js:7:15)\n``. Hello @qubbit can you precise the strapi version please.\nThere is many alpha version https://github.com/strapi/strapi/tags. I suggest you to use **npm** instead of **Yarn**\nYarn is not well supported by Strapi. We have done some work on, but not a priority for now.. Hello !  I'm not able to reproduce your issue.\nCan you try to install again pleasenpm i strapi@alpha -g`. I am closing this issue because we don\u2019t have any update/needed informations about it.\nWill reopen it if activity come back.. @oznekenzo any new about this issue ?. I am closing this issue because we don\u2019t have any update/needed informations about it.\nWill reopen it if activity come back.. Hello @andfk ! Thank you for this PR.\nI will gave you more informations about point 1.\nGenerated API use Global models and Plugins use the query system.\nWhen you use the content type builder or the CLI to generate API, we know if you are using Mongoose or Bookshelf ORM. So we can write code with the correct methods based on the ORM you use.\nFor plugins, we don't know if the application will use Mongoose or Bookshelf. Controllers and Services functions can't call ORM methods (different for each ORM).\nSo we create a Query system. We call query functions (like create) that in background find the ORM you use and call the correct functions (create function of Mongoose in the case of we use Mongoose).\nQueries are define for each ORM in ./config/queries/[ORM].js of each plugins.\n. Hello @andfk! Can you give us an update please.. https://portal.productboard.com/strapi/c/12-migrate-across-environments. Can you check @danielehrhardt if the strapi temp app has this module installed.\nIf you try again, does this issue still happening. @joseshiru you are with a Windows machine ?. Hello @jrodriguesimg thank you to report this issue.. Did you migrate your app from older version ?. Hello @andfk , thank you for reporting this issue. We are currently on another feature and bug fix. Since time is lacking on our side, feel free investigate and submit a PR, we\u2019ll appreciate your contribution on this issue! \nCheck out the contributing guide to get started: https://github.com/strapi/strapi/blob/master/CONTRIBUTING.md. Can you please give us an update about this issue?\nAnd after reading it again, I'm not 100% to understand what you mean.. @derrickmehaffy are you able to have this issue (I know you have many models and relations) ?. I'm starting investigation, it's really weird ^^. Normally this function is called:\nhttps://github.com/strapi/strapi/blob/master/packages/strapi-hook-bookshelf/lib/relations.js#L71\nthen we enter in this case: \nhttps://github.com/strapi/strapi/blob/master/packages/strapi-hook-bookshelf/lib/relations.js#L142. @marcellovetro can you test the PR I did and confirm it works please.. Hello @gkarmas , please follow the issue template so we can get a better understanding about the origin of your bug.\nI will reopen your issue as soon as it follows the templating guidelines.\nThank you.. My default Strapi has one populating level, then it will give you id of the entity.\nCheck populate/deepPopulate on mongoose for more information.\nRelated issue here https://github.com/strapi/strapi/issues/1783\n. @gkarmas A good thing to add is a config to manage how many levels can be handled by default.. @gkarmas Can you open a new feature request PR for this topic and describe the need. Thank you.. Thank you @nikosolihin !\nCan you submit a PR to let us review that point.. Thank you @MartinMuzatko to report this issue.\nWill appreciate your help on this issue.. Ho yes no surprise, we didn't worked on it.. Hello @AboAdam , please follow the issue template so we can get a better understanding about the origin of your bug.\nI will reopen your issue as soon as it follows the templating guidelines.\nThank you.. https://github.com/strapi/strapi/pull/1895. Please check this isssue https://github.com/strapi/strapi/issues/1837. Hello @fpetrouchka what is the name you use.\nI tried to create a new content type from the Content Type Builder and I set test article as name.\nAnd it create my content type successfully.\n(Testarticle, cause you can't use white space in content type name)\nYou create an issue because it automatically lowercase your content type name ?. @Tonours Thank you for your investigation! That's awesome, I ping @soupette to review the PR you made to fix it.. Hello @xlmnxp I will not accept this PR. Any languages will be aded if I merge this one.\nWe add US(English) cause it's international language and FR cause Strapi core team is \ud83c\uddeb\ud83c\uddf7. Hello @emman24, I tried with a fresh EC2 instance and it works well.\nMake sure it's not comme from any configuration of your server that block upload files.. Hello @sgrund14 , you can't upload file on Heroku. \nPlease check this article https://help.heroku.com/K1PPS2WM/why-are-my-file-uploads-missing-deleted\nYou have to use a AWS S3 provider for example.\nMore info about upload providers here https://strapi.io/documentation/guides/upload.html#install-providers. Hello @EDMONDGIHOZO , please follow the issue template so we can get a better understanding about the origin of your bug.\nI will reopen your issue as soon as it follows the templating guidelines.\nThank you.. What is the alpha version you use ?. I am closing this issue because we don\u2019t have any update/needed informations about it.\nWill reopen it if activity come back.. Thank you for this feedback. We will work on this point.. Hello @reinisriekstins I'm not able to reproduce. I think it can come from your server configuration.. Related to this isssue https://github.com/strapi/strapi/issues/1382\nI close this one.. It's an interesting point. But not a priority for us now.. @soupette Maybe we should wait the Documentation plugin publication before merging this PR ?. @soupette Can you please fix conflicts. I close this PR, waiting for Documentation plugin.\nDon't delete this branch.. Related to this issue https://github.com/strapi/strapi/issues/1783. Hello @goras  and @npjonath , thank you for reporting this issue. We are currently on another feature and bug fix. Since time is lacking on our side, feel free investigate and submit a PR, we\u2019ll appreciate your contribution on this issue! \nCheck out the contributing guide to get started: https://github.com/strapi/strapi/blob/master/CONTRIBUTING.md. Can you give us your models please.. Good in last version of Strapi. Can you guys test again with last version of Strapi please (just published new version and I think it's fixed). Warning to this migration https://github.com/strapi/strapi/wiki/migration-guide-alpha.13.1-to-alpha.14#reset-your-content-manager-settings. Related to the issue you linked.. Hello @dulgeoion, it have been fixed in alpha.14.1.1 https://github.com/strapi/strapi/pull/1852. Can you update your issue by given the correct name of the strapi version you use please.. I am closing this issue because we don\u2019t have any update/needed informations about it.\nWill reopen it if activity come back.. @hansemannn Did you follow the documentation ?. I am closing this issue because we don\u2019t have any update/needed informations about it.\nWill reopen it if activity come back.. https://github.com/strapi/strapi/issues/1698. Hello @amit-deligence , please follow the issue template so we can get a better understanding about the origin of your bug.\nI will reopen your issue as soon as it follows the templating guidelines.\nThank you.. I think there is an issue on packages/strapi-plugin-upload/services/Upload.js and packages/strapi/lib/Strapi.js\nYou submit file that remove work made by other contributors. Can you fix that please.. Can you try a clean install of your branch on your computer and be sure all is ok please.\nI think you will have some issues. Can you confirm if all is OK.. @derrickmehaffy You can try to update the way we handle boolean with bookshelf.\nCheck in this way https://github.com/strapi/strapi/blob/master/packages/strapi-hook-bookshelf/lib/index.js#L536.. Hello @abhirathore2006, thank you for this PR.\nCan you give me steps to reproduce the issue you fix please.. Since there is no activity on this PR, I close it.\nWe will reopen it if it's needed.. I am closing this issue because we don\u2019t have any update/needed informations about it.\nWill reopen it if activity come back.. Can you try again with last version of Strapi.\nIt works well on my side.. I am closing this issue because we don\u2019t have any update/needed informations about it.\nWill reopen it if activity come back.. Related issue here https://github.com/strapi/strapi/issues/1903\nHas been fixed in alpha.14.1. Hello @dualitysol, can you give use the exact name of the Strapi version you use please.. Try to re-install npm i strapi@alpha -g and create new project.. Should install 3.0.0-alpha.14.1.1.. I am closing this issue because we don\u2019t have any update/needed informations about it.\nWill reopen it if activity come back.. Hello @NickBolles , thank you for reporting this issue. We are currently on another feature and bug fix. Since time is lacking on our side, feel free investigate and submit a PR, we\u2019ll appreciate your contribution on this issue! \nCheck out the contributing guide to get started: https://github.com/strapi/strapi/blob/master/CONTRIBUTING.md. Thank you for this PR, will review it soon as possible.. Got this error when I try to clone the repo and run npm run setup:build.\nI'm on linux machine to test it.\n```\n\n@3.0.0-alpha.14.1.1 setup:build /home/ubuntu/strapi\nnpm run setup --build\n@3.0.0-alpha.14.1.1 setup /home/ubuntu/strapi\nnpm run clean:all && npm install ./packages/strapi-lint --save-dev && npm install && node ./scripts/setup.js && npm run clean\n@3.0.0-alpha.14.1.1 clean:all /home/ubuntu/strapi\nnpm run removesymlinkdependencies && rimraf package-lock.json && rimraf packages//package-lock.json && rimraf packages//node_modules\n@3.0.0-alpha.14.1.1 removesymlinkdependencies /home/ubuntu/strapi\nnode ./scripts/removeSymlinkDependencies.js\n\nsh: 1: rimraf: not found\nnpm ERR! file sh\nnpm ERR! code ELIFECYCLE\nnpm ERR! errno ENOENT\nnpm ERR! syscall spawn\nnpm ERR! @3.0.0-alpha.14.1.1 clean:all: npm run removesymlinkdependencies && rimraf package-lock.json && rimraf packages/*/package-lock.json && rimraf packages/*/node_modules\nnpm ERR! spawn ENOENT\n```. It works on linux \ud83d\udc4d I will try tomorrow on my Mac.\nSo the dep in package.json is no longer require, you can remove it.. This case is not handle by our filter layer.\nIf you want it, you will have to code it yourself in your Controller and Service file.. @kamalbennani Thank you for the amazing job you did !! Really appreciate !\nI think we can close this PR https://github.com/strapi/strapi/pull/1467 since we are working on this one.\nCan you confirm please.. Thank you for the update.. @kamalbennani Let us know when you are ready for a test before merging your work ;). @kamalbennani Tell us when we can test and review all this PR.\nWhen you have time can you also fix conflict :)\nReally appreciate the job you did !. Thank you @kamalbennani let's give a try!. @pauldariye Soon as possible. but need some time (and I haven't) to test it.. Hello @kamalbennani .\nI tried your PR and I got an issue.\nI think the way your require mergeStages function of strapi-utils is wrong.\nI got UnhandledPromiseRejectionWarning: TypeError: mergeStages is not a function error.\nI would like to test, approve and merge this PR for the next release. Can we work on it to make it possible please.\nAppreciate your work.. Thank you @kamalbennani ! I will check that.. @kamalbennani Can you try a fresh new setup of the mono repo.\nI have an issue when I try to GET /articles (the Article API have a title:string content:text and a one article have one author (user) and one user have many articles)\n{ MongoError: $sort stage must have at least one sort key\n    at queryCallback (/home/ubuntu/strapi/packages/strapi-hook-mongoose/node_modules/mongodb-core/lib/cursor.js:248:25)\n    at /home/ubuntu/strapi/packages/strapi-hook-mongoose/node_modules/mongodb-core/lib/connection/pool.js:532:18\n    at process._tickCallback (internal/process/next_tick.js:61:11)\n  ok: 0,\n  errmsg: '$sort stage must have at least one sort key',\n  code: 15976,\n  codeName: 'Location15976',\n  name: 'MongoError',\n  [Symbol(mongoErrorContextSymbol)]: {} }. I installed GraphQL plugin then I can't start my app.\n```\n/home/ubuntu/strapi/packages/strapi-plugin-graphql/services/Resolvers.js:417\n                default:\n                ^^^^^^^\nSyntaxError: Unexpected token default\n    at new Script (vm.js:79:7)\n    at createScript (vm.js:251:10)\n    at Object.runInThisContext (vm.js:303:10)\n    at Module._compile (internal/modules/cjs/loader.js:656:28)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:699:10)\n    at Module.load (internal/modules/cjs/loader.js:598:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:537:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:529:3)\n    at Module.require (internal/modules/cjs/loader.js:636:17)\n    at require (internal/modules/cjs/helpers.js:20:18)\n```. @kamalbennani I still have an issue.\nI have model Product (name:string categories:1->n:product(Category model))\nQuery\n```\nWrite your query or mutation here\n{products(where: {\n  name: \"P1\"\n}) {\n  name\n}}\n```\nError\n{\n  \"errors\": [\n    {\n      \"message\": \"generateMatchStage is not defined\",\n      \"locations\": [\n        {\n          \"line\": 2,\n          \"column\": 3\n        }\n      ],\n      \"path\": [\n        \"products\"\n      ],\n      \"extensions\": {\n        \"code\": \"INTERNAL_SERVER_ERROR\",\n        \"exception\": {\n          \"stacktrace\": [\n            \"ReferenceError: generateMatchStage is not defined\",\n            \"    at Object.generateMatchStage (/home/ubuntu/strapi/packages/strapi-hook-mongoose/lib/relations.js:106:11)\",\n            \"    at Object.fetchAll (/home/ubuntu/app/api/product/services/Product.js:30:36)\",\n            \"    at find (/home/ubuntu/app/api/product/controllers/Product.js:21:38)\",\n            \"    at resolver (/home/ubuntu/strapi/packages/strapi-plugin-graphql/services/Query.js:203:16)\",\n            \"    at /home/ubuntu/strapi/packages/strapi-plugin-graphql/services/Query.js:286:41\"\n          ]\n        }\n      }\n    }\n  ],\n  \"data\": {\n    \"products\": null\n  }\n}\nhttps://github.com/strapi/strapi/pull/1948/files#diff-7e4bfe3c2a134dd5b90228bbf1d9d903R107. Hello @kamalbennani it works well thank you.\nI want also a code review from @Aurelsicoko before merging this PR.. Awesome guys let's merge this PR \ud83d\udcaa. Related https://github.com/strapi/strapi/issues/1879. Check the @derrickmehaffy issue.\n1. Create the config value you want in your configs file (by env or not, dependig of the data you want upate)\n2. Update the service with input to display.\nRelated to this issue to create custom config page: https://github.com/strapi/strapi/issues/1449. Actually there is now way for that. The settings-manager plugin is stable now, we not applying any update on it. So you can not update it during migration. It will keep your update.. I think you failed something during your migration.\nChange version not affect your configs files.\nhttps://github.com/strapi/strapi/wiki/migration-guide-alpha.14-to-alpha.14.1. It's because you update your database.json file on your previous project nop ?. Hello @sbastias you have to stay in you dev app and run npm run setup --plugins to rebuild admin part.\nThen there is still symlink in your app, we will have to remove it.\nSo you will have to copy strapi-admin from your mono repo to you app and rename strapi-admin to admin\nAnd do the same for strapi-plugins-*** you use in you app. Copy from mono repo to the plugin folder of your app and rename it.\nThen push all your app to your server.. There is a conflict with Email plugins controller Email.send and your generated API with Email.send.. Hello @LeBovin !\nDid you have any errors in your browser console ? and what is the browser you use ?\nDid you have a pending network request ? . Hello @hansemannn for this PR.\nI don't know why but you create new lines for some sentences. There is a reason ?. Thank you @fabricioanciaes for these details.. We are working on a new input (component library) for the date and will be release soon and implemented in this plugin.\nWe will give you more informations when time will come. (big things are coming). @soupette Can you give us an update/feedback about this PR!. Hello @derrickmehaffy, I will merge your PR.\nCan you open an issue about the optimisation of the windows focus please.. @soupette Is the good guy to help you on this point.. About mongoose logs, we have an issue here: https://github.com/strapi/strapi/issues/1592. And can you try to install the last version of Strapi (3.0.0-alpha.14.1.1). What is your OS ?\n. You got 403 error, please check permissions rules. Pay attention to the Allow access chapter.. Do you have an error in your terminal ?. I think it's duplicate of this one https://github.com/strapi/strapi/issues/1885 ?. Hello @schmitzl , I tried your steps, and I was not able to reproduce it.\nCan you install last version of Strapi (alpha.14.1.1) and try again please.. I'm not able to reproduce.\nWhy you don't have password ?\nHow did you create this user ?. @johhansantana Did you get you issue in local or production environment ?. Since there is no activity on this PR, I close it.\nWe will reopen it if it's needed.. Thank you for this PR, I ping @soupette for a review!. Related to this card: https://portal.productboard.com/strapi/c/12-migrate-across-environments. I'm not sur to \ud83d\udcaf% understand your PR and the update you did.\nCan you details please. The file change is not understandable. . Really clear! Thank you @maturanomx. I have restart tests, looks working well.. Have to check for the issue you screenshot.. Hello @betomoretti , thank you for reporting this issue. We are currently on another feature and bug fix. Since time is lacking on our side, feel free investigate and submit a PR, we\u2019ll appreciate your contribution on this issue! \nCheck out the contributing guide to get started: https://github.com/strapi/strapi/blob/master/CONTRIBUTING.md. Hello @olehvoitenko , did you try with this provider login example ?\nhttps://github.com/strapi/strapi-examples/tree/master/login-react\n. I am closing this issue because we don\u2019t have any update/needed informations about it.\nWill reopen it if activity come back.. @Tonours Did you try your update with MySQL, Postgres and Mongo databases ?\nWe had an issue about the date format with MySQL and I want be sure it's OK.. @Tonours  as I suspected, it doesn't work for MySQL databases.\nAnd I'm not sure it will fixe the issue you link. The issue is not linked to timezone.. @soupette have you details about the InputDate ?. The status of this PR is it not works. So a solution have to be find to fix the issue?. Okay @Tonours I close this PR.\nWill reopen it if necessary. . Merged and fixed. Thank you for your contribution @tthakurani ! Appreciated \ud83d\udc4d . Hello @hunter-isaiah96 , thank you for reporting this issue. We are currently on another feature and bug fix. Since time is lacking on our side, feel free investigate and submit a PR, we\u2019ll appreciate your contribution on this issue! \nCheck out the contributing guide to get started: https://github.com/strapi/strapi/blob/master/CONTRIBUTING.md. By default on Strapi, default role is Authenticated when a user is registered with /auth/local/register route. You can update permissions to this role if you want.\nOr you can create an new role with specifics permissions and set it as default.. I am closing this issue because we don\u2019t have any update/needed informations about it.\nWill reopen it if activity come back.. Hello @alhill , thank to report this issue. Did you have full access to write files ?\nI'm not able to reproduce this issue :/. @soupette can you give an update about your test.. Hello @MartinMuzatko , thank you for reporting this issue. We are currently on another feature and bug fix. Since time is lacking on our side, feel free investigate and submit a PR, we\u2019ll appreciate your contribution on this issue! \nCheck out the contributing guide to get started: https://github.com/strapi/strapi/blob/master/CONTRIBUTING.md. Same issue. I think we can have just one issue about this topic. \nCan you post a message to tell this issue already happen with Bookshelf and the close this one please.. Hello @NickBolles , thank you for reporting this issue. We are currently on another feature and bug fix. Since time is lacking on our side, feel free investigate and submit a PR, we\u2019ll appreciate your contribution on this issue! \nDid you try to remove the line you link ? And check if it work without.\nCheck out the contributing guide to get started: https://github.com/strapi/strapi/blob/master/CONTRIBUTING.md. Hello @Kunoacc , by default this option not exist.\nBut you can update/customize users-permissions plugin and Auth controller, to allow this feature.\nHere we check if User exist https://github.com/strapi/strapi/blob/master/packages/strapi-plugin-users-permissions/controllers/Auth.js#L53\nYou have to make a double check with your Driver model.. Hello @mikkokotila Thank you for this message. Really related to this https://github.com/strapi/strapi/issues/1454 issue. I'm closing this one. We have a huge topic about this point.. Hello @mikkokotila. I think the error come from your side.\nDid you have a tool to connect to your Mongo database when it's running (like Robo Mongo). Try with last version of Strapi.. I am closing this issue because we don\u2019t have any update/needed informations about it.\nWill reopen it if activity come back.. Yap, can you next time add fix #issue in the PR description or in the commit message to automatically close related issue when the PR is merged. \nThank you for the PR you did.. You can check here about Heroku file creation https://github.com/strapi/strapi/wiki/Create-files-on-Heroku. Duplicate of this issue https://github.com/strapi/strapi/issues/1957 ?\n. Please use last version of Strapi, We update the GitHub readme (there is a not about Heroku button) and you can check this app https://github.com/strapi/strapi-heroku-app.. @vaskaloidis can you give us more informations about what you did and what is your issue please.\nWill be difficult for us to debug your issue if we have no informations.. Hello @TokenChingy any update after the comments of the community please.. Since there is no activity on this PR, I close it.\nWe will reopen it if it's needed.. Can you precise the version of Strapi you use please. Latest is not enough.. Thank you for your feedback. There is PR about that https://github.com/strapi/strapi/pull/1439. It's actually not possible. You will have to update settings-manager plugin.\nIt's in our roadmap to develop a system that let you customize without updating core files. . Can you precise the version of Strapi you use please.. Run strapi -v and give me the output.. Can you please try with 3.0.0-alpha.14.2 it's our latest version.. This issue has been fixed (don't remember the version, the link has not been made with this issue.)\nBut not present in last version of Strapi (3.0.0-alpha.14.4.0). Hello @brunofigalveskk , please follow the issue template so we can get a better understanding about the origin of your bug.\nI will reopen your issue as soon as it follows the templating guidelines.\nThank you.. I close this issue because we are moving to Crowdin to manage translations.\nWe will update the contribution guide to add information to how contribute to translations.. I update the issue, one translation key still missing. Feel free to submit a PR to fix it. Then I will close the issue.\nThank you for your contribution.. @MartinMuzatko It work like a charm ! Great job!\nDid you know if it's possible to render it with /documentation prefix ?\nTo have /documentation/3.x.x instead of /3.x.x. Yes you are right @MartinMuzatko! It's a mistake.\nWe have to add it in the .gitignore.\nWhen you think you can finish the last point add correct metadata and favicon ?\nI can't wait to merge your PR and publish this new version of the doc in our website.. Did you use EJS (strapi-hook-ejs) to render views ?. You maybe can try to update the login function and set your user in.\nThen update the way we check user by his jwt.And use the user you set in session.\nctx.session to get server session.. Agree with @derrickmehaffy, we will stay with install.. Hello @isabolic , please follow the issue template so we can get a better understanding about the origin of your bug.\nI will reopen your issue as soon as it follows the templating guidelines.\nThank you.. Yap that is correct ! . Thank you for this feedback. @kamalbennani hasOwnProperty and has doesn't work on Stream keys.\nSo ctx.hasOwnProperty('body) always return false.. @derrickmehaffy Thank you for your help and your time. Can you update the body format of your issue to make it more readable please. It will help us to help you.. I am closing this issue because we don\u2019t have any update/needed informations about it.\nWill reopen it if activity come back.. @soupette I'm not able to setup:build \n29%npm ERR! code ELIFECYCLE7 modules 56 active ...dules/es7.reflect.has-own-metadata.js\nnpm ERR! errno 1\nnpm ERR! @3.0.0-alpha.14.2 setup: `npm run clean:all && npm install ./packages/strapi-lint --save-dev && npm install && node ./scripts/setup.js && npm run clean`\nnpm ERR! Exit status 1\nnpm ERR!\n.... You can change default jwt options. Yap looks like a typo, will update and test it.\nThank you for this report.. Hello @rahimimo .\nNot sure to understand the content type which is built in development is not available in production\nIf you create your content type in development (on your local machine) and you push your code in production (Heroku for example), you will find your content type in production.... @Vivsss I confirm your issue. \nCan you check if one already exist and if not create one please.\nTo manually fix it you will have to migrate your core_store key plugin_content-manager_schema value from your devdatabase to production database.. @johndows It's simple, it's because you never update your data schema in production (that is the main reason)\nWe can add a second point, when you create/update/delete content type we write/delete files.\nIf you use multi servers we can't delete files on all of your servers (it's impossible)\nThen if you create files on prod, how did you send them to your GitHub ? \nCommon processes or to go from development to your production environment.\nSo we decide to block development stuffs/tools in production.\nAbout the markdown editor, it's an issue, it's have to be possible.\nPlease check the message I wrote before.. @johndows When you say:\n\n@soupette How can this be a intended feature?\nWe can't add new fields online, [...]\n\nAdding a field it's modifying your data schema right ?\nAnd I can't imagine modify something like that in production. For us it's no way and our position is to provide you (our users) good practice to create and manage your APIs.\nWe will never see someone add a new field in an e-commerce app for it's product on production without testing, running data migration, etc... \nThe question And why creating files anyway? is a part of the why we create Strapi?\nWhen you create a new content type via the UI its provide you a CRUD API and an interface in the admin to manage your data.\nWe create files to lets your fully customize your API. \n- If you want to modify sended data to add calculaed values you can.\n- If you want create custom endpoint you can\nWe provide you all the code that make your app working. And you can do what you want with.\nWe don't store your models, data structure or something that make the CRUD work in database.\nI thing it answer also to your last question.. Hum I don't think an issue is open about that.\nIt's a topic we know but it can be a good thing to open one about that.. Hello @Christilut!\nCan you precise the exact version of Strapi you use please.\nAnd can you precise how you create your entry. With POST route or via the Content Manger interface.\nIf you use the POST route, can you give me params you sent please.. Can you use lowerCase for your relation attribute name please.. I mean use costspecification instead of costSpecification. It's define in your Model.settings.json file and also in the model you made the relation with.\nYou can remove the relation from the UI (content type builder) and then re-create it with costspecification as attribute value.. Thank you for this PR, just let me take a look :). It works well, just want @soupette validation before merging.. Hello @mikmar88 ! Thank you for your PR.\nCan you please create 1 PR with all IT update please. Instead of 1 PR by file.\nAppreciate.. Hello @devaublanc can you describe steps to reproduce the issue you fix.\nI tried to just have a services folder in my API and I'm able to fetch permissions.. I don't know why but when I tried for the first time it was working, but this time it wasn't.\nYour fix work well. Thank you for your first contribution on Strapi. Appreciate!. You can add autoPopulate: false in your model to not populate it.\nhttps://github.com/strapi/strapi/blob/master/packages/strapi-generate-api/templates/mongoose/service.template#L25\nYou can also make a condition or add params in this function to give relations you want populate.. Hello @FaustTheThird !\nDid you follow this structure https://strapi.io/documentation/advanced/hooks.html#custom-hooks ?. Sorry for the delay.\nFollow the same instructions as the activation of the strap-hook-ejs (link)\nI had updated the readme but forgot to update the documentation. \nI will update it soon as possible.. @IdaszakDaniel and @redni There is still missing PL keys if you want. I update the issue with missing keys.. LGTM but I would like the @Aurelsicoko feedback about that.. Hello @RichieMerchant! I'm not able to reproduce this issue.\nSomeone can test this use case and confirm this issue or not.\n@RichieMerchant If you use an other name for your API, this bug still happen ? (my question is to know if the issue is related to naming your API node). Actually nop, the format of the plugin_content_manager_schema value changed between last version.\nIt was write in the migration guide.. You don't use --save during your npm install strapi-upload-aws-s3@alpha, use --save to add the deps in your package.json file.. If you don't add it in you package.json, when the app will be deployed to Heroku, the dependence will not be installed. And if configure your app to use this provider in production env it will break your app cause the deps is missing.. Hello @mleko Thank you for your PR.\nIt's possible for you to compile all your translations update in just one PR please.. There is still PL translations missing if you want https://github.com/strapi/strapi/issues/1624. What is the version of Strapi you use please.. Hello @jmchza Can you give me more details please.\nYou are trying to make POST /user request ?. I am closing this issue because we don\u2019t have any update/needed informations about it.\nWill reopen it if activity come back.. Can you give me the file and line of code you copy in your issue please.. Hum to be sure to understand, can you give me your Usermodel and your usersetting model.\nAnd when the suite of request I have to do to show the issue.\nThank you.. I am closing this issue because we don\u2019t have any update/needed informations about it.\nWill reopen it if activity come back.. Related uuid issue on MySQL https://github.com/strapi/strapi/issues/1826. Duplicated to https://github.com/strapi/strapi/issues/1762. Hi @xargr .\nI will accept this PR when plugins will be translated.\nIt will be a 100% complete translation PR.. Need to inject this PR https://github.com/strapi/strapi/pull/2109 in this one.. @xargr Can give us an update please.. I close this PR.\nWill reopen it if needed. Hi @matsupa ! \nThank you for this awesome PR ! \nI think it's have to be JP instead of JA  for this flag \ud83c\uddef\ud83c\uddf5 ? . Can you update packages/strapi-admin/admin/src/containers/LocaleToggle/index.js\nAnd add a case for pj, because the flag is actually wrong.. Thank you @hansemannn for this feedback.\nIt's an easy update to do. Feel free to investigate on Strapi code source to update it.\nCheck out the contributing guide to get started: https://github.com/strapi/strapi/blob/master/CONTRIBUTING.md. Exactly! it's a misstake with a commit link.. Hello @xargr, thank you for your PR.\nCan you create just one PR with all your \ud83c\uddec\ud83c\uddf7 translations please (https://github.com/strapi/strapi/pull/2106)\nIt will be more easy to review. Appreciate.. @Aurelsicoko This PR is just a revert. Answer to all your comments is \"It was this state before this PR\"\nBut we can make updates to clean it.. Hello @mnlbox , https://github.com/strapi/strapi/projects the release date is not well defined for now.\nIt will be ~Oct 25, 2018 I think. In bug fix section, the third from the bottom. You tried with fresh new app and fresh new database ?\nI'm not able to reproduce your issue with fresh new app and fresh new database.. And please use lowercase keys for now.. Thank you for this feedback.\nActually you have to check ioredis options for that or in your redis server.\nStrapi is here to provide you the admin UI / Files structure and HTTP layer.. Hello @Moldieman, thank you for reporting this issue. We are currently on another feature and bug fix. Since time is lacking on our side, feel free investigate and submit a PR, we\u2019ll appreciate your contribution on this issue! \nCheck out the contributing guide to get started: https://github.com/strapi/strapi/blob/master/CONTRIBUTING.md\nI suggest you to customize your controller to deep populate images on your relations. Waiting the fixe of this issue.. @derrickmehaffy Do you have the steps to reproduce ?. Hello @danielmahon  we are in reflexion about how we will handle contributors middleware, hooks and providers. So we will not work on your PR for next weeks.\nBut in any case I appreciate your job on Strapi!. Please host your provider on your own GitHub repo, publish it on NPM.\nBe sure to complete your maintainer information to let us able to contact you if needed.\nWill contact you when we will update the marketplace to add provider section.. https://github.com/strapi/strapi/issues/2111. Hello @NickBolles we are in reflexion about how we will handle contributors middleware, hooks and providers. So we will not work on your PR for next weeks.\nBut in any case I appreciate your job on Strapi!. That it the reflexion we have (for your package and others). Will let you know when we will have decide.. Please host your provider on your own GitHub repo, publish it on NPM.\nBe sure to complete your maintainer information to let us able to contact you if needed.\nWill contact you when we will update the marketplace to add provider section.. Hello, I supposed you are using your computer as SMTP server. And it can fail because it's a not verified server.\nI suggest you to use https://github.com/audiomancer/strapi-email-nodemailer email provider.\nDocumentation: https://github.com/audiomancer/strapi-email-nodemailer. Hello @dannydtk thank you to repport this issue.\nYou can fix your UI by going in Content Manager link on the left menu, click on your content type name (Test in your example) and update display attributes in the list view (click on Add a new field in List \u2014 Settings section). It's not a duplicate @derrickmehaffy.\nI can confirm this issue. Thank you for the report @tacone .. Hello @andrewmee, thank you for this feedback.\nYou can custom the plugin upload to add this feature.\nYou can add a description text field in the model and add the new param in the request. (Not completely sure if other updates are needed but it can work I think). Hello @andrewmee , please follow the issue template so we can get a better understanding about the origin of your bug.\nI will reopen your issue as soon as it follows the templating guidelines.\nThank you.. In fact it's already working. I tested and it works.\nSo I think you have an issue.. Did you follow instructions on the README file.\nYou can also check Strapi Heroku app project.. Hello @entwicklerfr ! Thank you for your PR.\nWith your code, when I insert a new line in the description, I save, then when I try to see my description I lost the multi lines.\nThe job to do it to not loose it.. Why you don't update your code ? Don't need to create a new PR each time.\nWe loose comments and feedback.... Also you have to user lowercase attribute for your relation please.\nlikedtracks instead of likedTracks. If you use camelCase, it will cause issue.. I am closing this issue because we don\u2019t have any update/needed informations about it.\nWill reopen it if activity come back.. Hello @caoer thank you for this question.\nWhen we will work on plugin interactions / configurations etc... we will make it configurable from your project config instead of override the plugin core code.\nSo today you have to modify the plugin file.. Hi @goras . Thank you to report this issue.\n@TokenChingy did you have an idea about this issue.. Looks good in last version of Strapi. @abdonrd Can you try with npm 6 ?. And can you give me steps you did with Google Cloud Platform to deploy your app please.. Thank you to report this issue. \nYou can't fix it on your side. I will update our website soon as I can.\nThank you.. > There will be an error thrown\nWhen ? I'm not able to reproduce. I need more informations.. Yap, I exactly reproduce steps you wrote.. Can you tell me where/when the step 4 happen.. I am closing this issue because we don\u2019t have any update/needed informations about it.\nWill reopen it if activity come back.\nAnd I still can't reproduce this issue. If you can try with an other machine or VM.\nMaybe related to your strapi install or your project generation.. Not happen in last version of Strapi (alpha.16), will reopen if it appears again.. Hello @greatwitenorth , thank you for this PR.\nNot sure to completely understand what you want. \nCan you give me the issue  you fix (and steps to reproduce).. @jrperdomoz I think the question is Did we need to move this function in utils ?. This update break the plugin. \nAs expected in my comment, I get (node:7111) UnhandledPromiseRejectionWarning: TypeError: this.getFieldsByTypes is not a function. @jrperdomoz Can you told me why you use /* eslint-disable no-unused-vars */ in many files ?. Yes please can you remove them and make sure pre-commit is OK.\nAppreciate your work. I will test your PR when it's done.\n\nAlso check empty space https://github.com/strapi/strapi/pull/2157/files#diff-9f9e717ab72a3b5e13d21d3ceff70428R94. @jrperdomoz waiting for your update please.\nWould love merge this PR.. Will be fixed by this more massive PR https://github.com/strapi/strapi/pull/2452\nIn any case thank you for your time. It's appreciate. . Hello @jwlawrence! Thank you for this feedback.\n\nThere is a sentence of the beginning of the form: Lets configurate the connection to your database:\nThen all questions are about your database connection (Name, Host, Port ...) it's natural to have Username and Password to be connected to the database.\nFor now we will let the form like it is. If more user have the same feedback we will reconsider this issue.\nThank you.. Can you link the issue you fix please.. Agree with @derrickmehaffy .\nWe will work on this PR https://github.com/strapi/strapi/pull/2110.\nAnyway, thank you @steadweb for the job you did!. Hello @trieutritam can you try with last version of Strapi (3.0.0-alpha.14.4.0) it was fixed normally.. Hello, I lock this issue cause to issue is clearly explain.. In the migration guide.. There is an  PR for that https://github.com/strapi/strapi/pull/1948. Hi @maturanomx, thank you for reporting this issue. We are currently on another feature and bug fix. Since time is lacking on our side, feel free investigate and submit a PR, we\u2019ll appreciate your contribution on this issue! \nCheck out the contributing guide to get started: https://github.com/strapi/strapi/blob/master/CONTRIBUTING.md. It's directly related to this issue https://github.com/strapi/strapi/issues/1114\nIf you change attribute type it's mean you delete and create new attribute.\nSo as you delete the old attribute we not delete anything in your database.\nI close this issue to have just have one issue about this topic.. Anyway thank you for this feedback.. By default this feature is not offered by Strapi.\nYou have to add deleted attribute to all your models.\nThen update all delete functions (in your ./**/services/**.js and ./**/queries/**.js) to set update instead of delete by setting  deleted to true.\nAnd update fetch and fetchAll functions to add an excluding filter based on deleted attribute value.. I think this issue is related to your message @Aurelsicoko  https://github.com/strapi/strapi/issues/2257. Can you be little more precise of what you want to do please.\nI'm not sure to understand.. Hello @Froelund thank you for this PR.\nHere is a PR that update all needed files https://github.com/strapi/strapi/pull/683/files\nI will merge this PR when all plugins will be translated and the language will be add in the admin (packages/strapi-admin/admin/src/config/languages.json)\n. We will move translation management in Crowdin so I close this PR, I will let you know when the migration will be done.. Hello @ikennobunga sorry for this trouble.\nCan you try to install strapi again npm i strapi@alpha -g\nAnd re-create your application please.. Did you re-install Strapi and re-create a new app ?. I am closing this issue because we don\u2019t have any update/needed informations about it.\nWill reopen it if activity come back.. Here is an example with React, will be the same logic with Angular https://github.com/strapi/strapi-examples/tree/master/login-react. It's a redirection you have to do. Not a request from FE js script.. We can't access to your log image. https://github.com/strapi/strapi/issues/1927. Can you please restore ' instead of \". Hello @wdavidw, thank you for this issue.\nInteresting point, actually it including a direction.\nChild <=> Parent (to build a menu for example)\nBut to do like a pool of same models it can be useful.. @soupette Something for you here.. Hi @devaublanc, thank you for this PR.\nI think you just have to move this line https://github.com/strapi/strapi/pull/2188/files#diff-a1b2a59a1f9790ecc352d1aade068876L59 before the condition you update.. Hi @onooma ! Thank you for this PR.\nCan you give me steps to reproduce the issue you fix please.\nOr like the issue you fix.. @abdullaalsayyed when the setup is down you have to create a new app strapi new myapp --dev and then in this app you will have the admin folder.. It's here https://github.com/strapi/strapi/releases/tag/v3.0.0-alpha.14.4.0\n. In fact v3.0.0-alpha.14.4.0 === v3.0.0-alpha.14.4 . We had some issue with NPM I was waiting the npm publish was complete.. Hello @stiko Can you precise steps to reproduce please. \nI'm not able to reproduce.. Hum okay, that is really strange.. I am closing this issue because we don\u2019t have any update/needed informations about it.\nWill reopen it if activity come back.. Hello @xiehai001 , please follow the issue template so we can get a better understanding about the origin of your bug.\nI will reopen your issue as soon as it follows the templating guidelines.\nThank you.. API and content manager use different controllers.\nAPI use generated controllers in api folder.\nContent manager use controllers inside the plugin folder.. In the Model.js file of your API models folder (before create function). To do that you have to update controllers (API and Content-Manager), it's not possible to get the context in lifecycle of models. Hello @stiko, can you give more precise steps please.. I'm not able to reproduce your issue.\nCan you try with last version of Strapi (3.0.0-alpha.14.4.0). What is the name of your content type ?. Empty JSON field ? Can you precise please.\nNot sure to understand what you did.. You speak about the search bar ? Not the filter section.. I highlight Search bar and Filter zone. What did you use ?\n. There is an issue. I suggest you to use filter waiting the fix.. Have been fixed in last version of Strapi (alpha.16)\nNot able to reproduce it again.. Hello @cesarvarela and @abdonrd.\nDid you install strapi with yarn ? or with npm ?\nIt work on my side, new fresh app with new fresh database.. Was it a app migration or new app ?. @coyr How did you start your Strapi application ? npm start or strapi start or using a module like pm2 ?. Hello @jacobgelman thank you for this proposition.\nActually you can map on your data and apply your changes and then send the data in the response.. Hello @Turbiani thank you for this PR\nCan you link issue you fix.\nIf there is not, describe steps to reproduce the issue you fix.. Waiting for @Turbiani confirmation. This issue doesn't exist in last version of Strapi, have been fixed in an other PR.\nIn any case thank you for the time you take on this PR.. Are you in production env ?\n. The plugin is not available in production env.\nYou have to create your content type in dev mode, the deploy your ap in your dev mode.. Here is an article of deployment on Ubuntu server - https://medium.com/strapi/how-to-deploy-a-strapi-api-on-ubuntu-16-04-17f8fbbf5c5b\nActually when you deploy your app, it's just files migration. We never do any action on your data.. Hi @GlennCarroy can you create this issue on https://github.com/strapi/strapi-docker repo please.\nThank you.. Hello @xiehai001 , please follow the issue template so we can get a better understanding about the origin of your bug.\nI will reopen your issue as soon as it follows the templating guidelines.\nPlease update your issue.\nThank you.. @aissa-bouguern Can you link issues that fix please.. Hello @nilsontan.\nPlease check the documentation about GraphQL.\nYour sort syntax is not correct https://strapi.io/documentation/3.x.x/guides/graphql.html#query-api. No problem!\n. Hello @beeplin , thank you for reporting this issue. We are currently on another feature and bug fix. Since time is lacking on our side, feel free investigate and submit a PR, we\u2019ll appreciate your contribution on this issue! \nCheck out the contributing guide to get started: https://github.com/strapi/strapi/blob/master/CONTRIBUTING.md. @soupette Can you update travis lint error please.. Just plugin_content-manager_schema key.. By following https://strapi.io/documentation/3.x.x/getting-started/installation.html\nIt's Node 10 and npm 6.\nCan you update your PR with these values please.. Hello @floreabogdan we are in reflexion about how we will handle contributors middleware, hooks and providers. So we will not work on your PR for next weeks.\nBut in any case I appreciate your job on Strapi!. Please host your provider on your own GitHub repo, publish it on NPM.\nBe sure to complete your maintainer information to let us able to contact you if needed.\nWill contact you when we will update the marketplace to add provider section.. I think your issue is a duplicate of this one. Can you confirm https://github.com/strapi/strapi/issues/2192\n. Please check existing issue please.\nhttps://github.com/strapi/strapi/issues/1325. Hello @jacargentina , thank you for reporting this issue. We are currently on another feature and bug fix. Since time is lacking on our side, feel free investigate and submit a PR, we\u2019ll appreciate your contribution on this issue! \nCheck out the contributing guide to get started: https://github.com/strapi/strapi/blob/master/CONTRIBUTING.md. I saw that just after posting my message.\n. Hello @usb248.\nWhat is you CORS configurations ?\nThe PHP method you speak about is csrf. You can do it when you have server side rendering.\n1 page = 1 token and if the request come from an invalide page, it's blocked.\n. Your cors config looks good. If your request come from the correct url you set.... I am closing this issue because we don\u2019t have any update/needed informations about it.\nWill reopen it if activity come back.. Hello @creativeesprit , thank you for reporting this issue. We are currently on another feature and bug fix. Since time is lacking on our side, feel free investigate and submit a PR, we\u2019ll appreciate your contribution on this issue! \nCheck out the contributing guide to get started: https://github.com/strapi/strapi/blob/master/CONTRIBUTING.md. I just tried with Safari 12 (last version) so please update your Safari version. Hello @rejifald , please follow the issue template so we can get a better understanding about the origin of your bug.\nI will reopen your issue as soon as it follows the templating guidelines.\nPlease update your issue.\nThank you.. Hello @ykit9 , thank you for reporting this issue. Really strange...\nWe are currently on another feature and bug fix. Since time is lacking on our side, feel free investigate and submit a PR, we\u2019ll appreciate your contribution on this issue! \nCheck out the contributing guide to get started: https://github.com/strapi/strapi/blob/master/CONTRIBUTING.md. Hello @ykit9 !\n./config folder allow only JSON files.\nThere is a ./config/functions folder for JS functions/script.. Related to this issue https://github.com/strapi/strapi/issues/1189. Hello @BitPatty  we are in reflexion about how we will handle contributors middleware, hooks and providers. So we will not work on your PR for next weeks.\nBut in any case I appreciate your job on Strapi!. Please host your provider on your own GitHub repo, publish it on NPM.\nBe sure to complete your maintainer information to let us able to contact you if needed.\nWill contact you when we will update the marketplace to add provider section.. Hello, thank you for reporting this issue. We are currently on another feature and bug fix. Since time is lacking on our side, feel free investigate and submit a PR, we\u2019ll appreciate your contribution on this issue! \nBTW please don't forgot to well template your messages to be more readable. We read more than 300 of your messages every days.\nCheck out the contributing guide to get started: https://github.com/strapi/strapi/blob/master/CONTRIBUTING.md. @Leo1003 I think you can submit a PR to https://github.com/Vnkitaev/mongoose-float\nThank you for this details. Hope it can be made rapidly to fix our issue.\nThank you @Leo1003 . Duplicate of https://github.com/strapi/strapi/issues/2251\nPlease check existing issues before creating new one.\nAppreciate.. Can you try to remove in your DB core_store > key: plugin_content-manager_schema. Hi @jacargentina  !\nThank  you for this PR. Can you fix lint error please (some incorrect spaces). Quick note cause we not had enough time to check this PR for the alpha.17 version\n. Can you check this issue please: https://github.com/strapi/strapi/issues/1911. Duplicate of this one (https://github.com/strapi/strapi/issues/2260)\nCreated after but more documented.. Right ! Lets move to this issue. Hello @wemod123 , thank you for reporting this issue. We are currently on another feature and bug fix. Since time is lacking on our side, feel free to submit a PR, we\u2019ll appreciate your contribution on this issue! \nCheck out the contributing guide to get started: https://github.com/strapi/strapi/blob/master/CONTRIBUTING.md. Same type of issue with bookshelf https://github.com/strapi/strapi/issues/2030. Can you please give us an update about this issue?. Hello @mtmsuhail , thank you for reporting this issue. We are currently on another feature and bug fix. Since time is lacking on our side, feel free investigate and submit a PR, we\u2019ll appreciate your contribution on this issue! \nCheck out the contributing guide to get started: https://github.com/strapi/strapi/blob/master/CONTRIBUTING.md. https://github.com/strapi/strapi/issues/1911#issuecomment-424965126. PUT /users/me not exist.\nYou will have to apply a custom policy to PUT /users/_:id that control _id is the same as ctx.state.user._id. More documentation about polices here https://strapi.io/documentation/3.x.x/guides/policies.html#how-to-create-a-policy. Thank you for this PR.\nCan you give me the browser you use to have this issue please.. Hello @alexisab , thank you for reporting this issue. We are currently on another feature and bug fix. Since time is lacking on our side, feel free investigate and submit a PR, we\u2019ll appreciate your contribution on this issue! \nCheck out the contributing guide to get started: https://github.com/strapi/strapi/blob/master/CONTRIBUTING.md. @soupette The PR you link is merged. Do you want to make some tests before merging this PR ?. Fixed by this PR https://github.com/strapi/strapi/pull/2595. This PR will be published in next version of Strapi https://github.com/strapi/strapi/pull/2116. Hello @eduardotkoller !\nContent type builder need auto reload feature. And it's only available on strapi start (https://github.com/strapi/strapi/issues/1008)\nSo when you create content type with npm start or npx strapi start it will fire an error (you have to restart the server).\nMaybe we can display a specific message to tell You have to restart your server.\nFor production mode, when your app is in production you don't have to (1) update your server setting and (2) create new content type. That is why we block it in production.\nYou have to develop/create your app in dev mode and then publish it in your server.\nYou will find more explication in our doc and wiki.. Hello @Leo1003 , thank you for reporting this issue. We are currently on another feature and bug fix. Since time is lacking on our side, feel free investigate and submit a PR, we\u2019ll appreciate your contribution on this issue! \nCheck out the contributing guide to get started: https://github.com/strapi/strapi/blob/master/CONTRIBUTING.md. @Aurelsicoko I let you check if the message good for you.. Hello @dalirnet , please follow the issue template so we can get a better understanding about the origin of your bug.\nI will reopen your issue as soon as it follows the templating guidelines.\nPlease update your issue.\nThank you.. And all works on your new project ?. @alex88 You can read this article https://github.com/strapi/strapi/wiki/Create-files-on-Heroku\nIt is for create / update / delete files on Heroku.. Hello @masehitam \nDid you use the default provider (upload on your local machine) ?\nDid you have error logs ?\nNeed more informations.. Please check open issue about your load error.\nCheck your chrome console. I'm sure your issue already exist.. @misacorn why there is unknown repository ?. Hello @sravanireddyl \nCan you precise your issue. Need more information. I don't understand what you did.. Can you provide line of code.. Can you please give us an update about this issue?. I am closing this issue because we don\u2019t have any update/needed informations about it.\nWill reopen it if activity come back.. Will merge this PR https://github.com/strapi/strapi/pull/2391 containing your update.\nThank you for your proposal .. Hey @yann-yinn. thank you for this feedback.\nFeel free to submit a PR. Appreciate your contribution on this issue.. I close this issue.\nIt will probably be a mix between webhook and zapier.\nBut not managed from Strapi.\nWill reopen this issue if we need more feedback.. Can you please search open / close issue. Github provide a feature to avoid duplicate issue.\nhttps://github.com/strapi/strapi/issues/2251. Hello @MartinMuzatko I think it's the same issue as https://github.com/strapi/strapi/issues/1698. Hello @MartinMuzatko It looks to be fixed in last version of Strapi (alpha.16). Hello @derrickmehaffy , thank you for reporting this issue. We are currently on another feature and bug fix. Since time is lacking on our side, feel free investigate and submit a PR, we\u2019ll appreciate your contribution on this issue! \nCheck out the contributing guide to get started: https://github.com/strapi/strapi/blob/master/CONTRIBUTING.md. @dalirnet Can you remove your last commit please (about add language)\nand create an other PR for that please.. Please check this wiki article https://github.com/strapi/strapi/wiki/Deploy-on-Heroku. Some info about labels https://github.com/strapi/strapi/wiki#issues-labels. Thank you for this feedback. Send your feedback in productboard please.. Hello @santhan456 , please follow the issue template so we can get a better understanding about the origin of your bug.\nI will reopen your issue as soon as it follows the templating guidelines.\nPlease update your issue.\nThank you.. Feel free to submit the request in productboard. In you ./config/functions/bootstrap.js log strapi.connections you will find all functions you need.. Correct @derrickmehaffy .. As said in your PR on FA translation, we need more complete translation file.\nI reverted this update. Feel free to submit it again with all needed files.\nhttps://github.com/strapi/strapi/pull/2440. Hello, some yarn bug still exist... we have to work on but it's not one of our priority now.\nI suggest you to use npm.. @soupette does it fix an existing issue ?. Hello @donaldr , thank you for reporting this issue. We are currently on another feature and bug fix. Since time is lacking on our side, feel free investigate and submit a PR, we\u2019ll appreciate your contribution on this issue! \nCheck out the contributing guide to get started: https://github.com/strapi/strapi/blob/master/CONTRIBUTING.md. Fixed in this PR https://github.com/strapi/strapi/pull/2967. Thank you @Leo1003 for this PR it will take a look.. Hey @Leo1003 1.0.3 is released and a PR have been open https://github.com/strapi/strapi/pull/2351. Anyway thank you for the proposal it's appreciate.. Miss understand. I will fix conflict cause it miss match with the revert PR I made on filters.. Hello @mashiro11 you will have to customise the populate value you send in your services/controller functions.. @abdonrd I close this issue case it reference to this issue https://github.com/strapi/strapi/issues/1748. Thank you for this feedback. \nhttps://portal.productboard.com/strapi. You have to delete references to the model you delete in all models a relations was made with.. I am closing this issue because we don\u2019t have any update/needed informations about it.\nWill reopen it if activity come back.. We fix it https://github.com/strapi/strapi/pull/2316 - will be published in next version of Strapi\nCan you try to push the widget object instead of just the ID.. Hello @abdonrd , thank you for reporting this issue. We are currently on another feature and bug fix. \nCan you submit a PR please.. I close this issue, your are doing deep custom usage of data storage management.\nCan't provide custom support for that since time is lacking on our side.\nI let this issue OPEN for 17 days to hope someone of the community can help you. I close it now.. Can you please well format your JSON and error.\nIt's just not readable.. Did you follow the documentation guides ?. Cypress global install is required to launch test @soupette ?\n\n. Can you please give us an update about this issue?. I am closing this issue because we don\u2019t have any update/needed informations about it.\nWill reopen it if activity come back.. This provider doesn't exist. Juste the package exist but there is nothing behind. . Yap that it.. With a new database ?. Where your body come from ?\nNot sure to understand your issue.\nctx.request.body to get your params.\nctx.params to get url params\nctx.query to get url queries. Hello @rexliu0715 , please follow the issue template so we can get a better understanding about the origin of your bug.\nI will reopen your issue as soon as it follows the templating guidelines.\nPlease update your issue.\nThank you.. https://github.com/strapi/strapi/wiki/Deploy-on-Heroku. Hello @agthumoe.\nWe are agree to say _id and id has the same value.\nSo only one it needed in GraphQL schema I think.\nIn any case we will work on it https://github.com/strapi/strapi/issues/1274 and this issue will not be a topic.\nIn any case thank you for this report.. Hello @estel1591. It's not possible to do what you want by default in Strapi.\nAs suggest @henrych4 you can update your controller function to feet with your needs.. Related to this feature/improvement https://portal.productboard.com/strapi/c/14-validations\nThank you for this feedback.. Please use lowercase content type name and attribute name.\nhttps://github.com/strapi/strapi/issues/2131. If Purest not support your provider, the documentation will not work.\nWe plan to reviews the auth providers system to make it easier to add new one.\nFor now you will have to customize the Strapi server to make it work with your own syst\u00e8me for your provider.\nAnd yes I think you work on correct files (don't have time for more investigation on my side)\n. Hello @jacargentina !\nThank you for this PR, really appreciate.\nCan you please add in the README.md a short paragraph/example of the feature you made please.\nWe haven't doc section about that for now.\nThen I will merge your PR.. Thank you this feedback, will fix it.. Hello @rw3iss can you give me your 2 models please.\nWhat it the type of your relation ?\n@Moldieman it's not the same issue as you link. Your issue is specific to Media relations.. I am closing this issue because we don\u2019t have any update/needed informations about it.\nWill reopen it if activity come back.. Hello it's not an issue.\nWhen you update a attribute of a content type we create a new column in the database (if you use bookshelf) cause we don't want to delete anything else in your database.\nIt's the same for your content type name.\nYou will have to migrate data from old table/collection.\nYou will find some issue about delete column and we speak about this topic.. Hello @dstuff !\nWe don't support form-data from Postman.\nTo upload file please use curl request :\ncurl -X POST -F 'files[]=@/path/to/pictures/fileX.jpg' -F 'files[]=@/path/to/pictures/fileY.jpg' -F 'refId=5c041980214b1a831eb52895' -F 'ref=post' -F 'field=images' http://localhost:1337/upload\nAnd you don't need source params cause your Post model is not a plugin.. Related issue https://github.com/strapi/strapi/issues/1316. Here is an example: https://github.com/strapi/strapi-examples/blob/8f601df45bcaddf2b4d4ccd8968c763ea4920e01/good-old-react-authentication-flow/src/containers/EditPage/index.js#L78-L117. One other has been created https://github.com/strapi/strapi/issues/2522. I'm not sure to understand what you mean.\nCan you give more details please.. Can you please give us an update about this issue?. In this comment https://github.com/strapi/strapi/issues/2546#issuecomment-451221588 you suggest it will be fixed in this PR (Login via GraphQL mutation).\n@Aurelsicoko do you think you have to add it in this PR on in an other ?. We have to add documentation about the new filter _populate. In my example articles many have many tags.\nFirst filters level doesn't work\nGive me 3 entries. start, where, sort doesn't work too.\nFor the other levels just the where filter doesn't work.\n. Did you follow the documentation about the facebook authentication ?. I just tried the Google Auth documentation process and all works fine.\nWith last version of Strapi (alpha.16) and mongo database.. Okay that is strange!\nCan you give me the full url of the network url you click.\nI saw an error in the url and I want to now what it is.\nDid you have an error in your terminal ?. Can you check again with last version of Strapi, we fix things about provider connection.. Can you please give us an update about this issue?. https://github.com/strapi/strapi/wiki/Frequently-Asked-Questions#windows. Make sure you api database exist.. Where is hosted your database ?. In the last version of Strapi we add --debug tag when you run strapi new projec --debug it will show you all error logs.\nCan you please try again and give us error logs.\n@Paratron same things for you please. I want to know what is your issue to be able to fix it and let you appreciate Strapi.. I am closing this issue because we don\u2019t have any update/needed informations about it.\nWill reopen it if activity come back.. Can you try to find what is the issue and open a PR to fix it please.\nWe will appreciate your contribution on this issue.. If you follow the migration guide you never touch to the config folder of your application.\nSo yes you have to keep all your configs.. Ho yes! It was a mistake made since a long time! \nSorry for the trouble, I will update migrations guides.. It's used here https://github.com/strapi/strapi/blob/master/packages/strapi-plugin-users-permissions/services/Jwt.js. It's fixed in alpha.16 since I revert the filter PR that caused this issue.\nPlease confirm to delete this issue.. Did you also update plugins ? following the migration guide in the wiki.\nYou also will have to update some service's functions. It's fixed in alpha.16 since I revert the filter PR that caused this issue.\nPlease confirm to delete this issue.. Hello @sidsaxena0 !\nDid you check filters https://strapi.io/documentation/3.x.x/guides/filters.html\nIf it doesn't match with your needs, you can create your own route and controller to make your request:\n- https://strapi.io/documentation/3.x.x/guides/routing.html\n- https://strapi.io/documentation/3.x.x/guides/controllers.html\nAnd then you will have Mongoose collection instance of your model to create your own query. (Check the service of your API to show how make queries). @derrickmehaffy Thank you for this PR can you add some line in the documentation about this option please.. Hello @estel1591 !\nI'm not sure to understand your need.\nAre you talking about that https://strapi.io/documentation/3.x.x/guides/filters.html#relations?. I am closing this issue because we don\u2019t have any update/needed informations about it.\nWill reopen it if activity come back.. Related to reverted PR.. I close this issue. It was related to a PR released on alpha.15 and we reverted it and pusblish new version of Strapi.. Related to https://github.com/strapi/strapi/issues/2257. A PR is open about this issue.. Hello @Zealder-Jude .\nI need more information to be sure to understand.\nDid you run npm run setup in the mono repo bu following the contribution guide ?\nOr in an app generated by a global install of Strapi ?\nOr a dev mode app ?. Okay thank you for these details.\n@soupette can help you when he will have time.. Can you please give us an update about this issue?. I am closing this issue because we don\u2019t have any update/needed informations about it.\nWill reopen it if activity come back.. Probably related to this PR https://github.com/strapi/strapi/pull/2419. Reverted the PR that open this issue.. Fixed in alpha.16. @masteralb Can you please try with last version of Strapi (alpha.15).\nAnd I'm not able to reproduce your issue. Can you give us more details.\nWhen you seed your data, did you create relations? If yes how many by entry?. Can you try with alpha.16 version please and tell me if it still happen ?. Actually it's not possible in the content manager.\nBut if you have an application you can use GraphQL with filters on relations.\nThere is not syntax with Strapi REST API  for now.\n{\n  events{\n    _id\n    name\n    registrations (limit: 3, start: 1) {\n      _id\n      name\n    }\n  }\n}\nAnd why relations are needed ? Cause we have to display them in the right panel to let you delete one if you want.. Please use required version of Node (v10)\nhttps://github.com/strapi/strapi#-requirements\n. Hello @aref00 , thank you for reporting this issue. We are currently on another feature and bug fix. Since time is lacking on our side, feel free investigate and submit a PR, we\u2019ll appreciate your contribution on this issue! \nCheck out the contributing guide to get started: https://github.com/strapi/strapi/blob/master/CONTRIBUTING.md. Hello @wemod123 , thank you for reporting this issue. We are currently on another feature and bug fix. Since time is lacking on our side, feel free investigate and submit a PR, we\u2019ll appreciate your contribution on this issue! \nCheck out the contributing guide to get started: https://github.com/strapi/strapi/blob/master/CONTRIBUTING.md. I can't use the content manager\n0|strapi start  | ReferenceError: mergeStages is not defined\n0|strapi start  |     at Function.find (/home/ubuntu/strapi/packages/strapi-plugin-content-manager/config/queries/mongoose.js:10:29). This issue still happen https://github.com/strapi/strapi/issues/2408\nNot possible to populate on GraphQL. @kamalbennani Are you on Slack ? Will be easier to talk.. But others issues you link looks good.. This issue still happen with mongoose https://github.com/strapi/strapi/issues/2413 related to filters. When I populate with Mongoose on GraphQL\n{articles {\n  title\n  tags {\n    name\n  }\n}}\nI get all tags available in the response and not only tags linked to my article. Same request with Bookshelf trigger an error.. Hello @JayWelsh !\nNo all is OK on your side. Thank you to report this issue.\nWhen an image attribute is in a model, it duplicate data in responses.. This issue have been fixed with this PR - https://github.com/strapi/strapi/pull/2380. Hello @berniezhao11 !\nThank you to report this issue!\nI suggest you to use JSON attribute type to store your JSON value.. Hello @funkhauscreative !\nLifeCycle function are bind to Model instance of bookshelf.\nWhen your request a POST route it call the add service of your API.\nTo be able to manage well relation we first create the entry without relations\n```\n// Extract values related to relational data.\nconst relations = .pick(values, Work.associations.map(ast => ast.alias));\nconst data = .omit(values, Work.associations.map(ast => ast.alias));\n// Create entry with no-relational data.\nconst entry = await Work.forge(data).save();\nAnd then we manage relations\n// Create relational data and return the entry.\nreturn Work.updateRelations({ id: entry.id , values: relations });\n```\nThat is why in your beforeCreate you don't receive relations data.\nSo I suggest you to customize your add function instead of life cycle functions. Hello @mehdiraized , please follow the issue template so we can get a better understanding about the origin of your bug.\nI will reopen your issue as soon as it follows the templating guidelines.\nPlease update your issue.\nThank you.. Please use lowercase name.\nIn last version of strapi we force to lowercase to avoid this issue.. Hello @logicware.\nI think the Heroku server is not able to send email from your Node.js instance.\nBy default Strapi use nodemailer to send email. I suggest you to move to an other email provider that use a online service to send email.\nMore documentation here: https://strapi.io/documentation/3.x.x/guides/email.html#usage. Hello @mikinovation !\nIn production env you are not supposed create/edit/delete content type. So we hide it from the menu in production env. Thank you @chaitanyya for this report.\nYou can provide a PR to add this force option.\nCheck in strapi-hook-bookshelf package the connection.js file.\nCheck out the contributing guide to get started: https://github.com/strapi/strapi/blob/master/CONTRIBUTING.md. Ho yes the process to test connection feature is a little bit tricky actually.\nLet me explain the process: https://github.com/strapi/strapi/blob/master/packages/strapi-generate-new/lib/before.js#L220\nWhen you create a new app, we create a temporary folder and install the database hook you need.\nAnd the we require this installed node modules to test the database connection.\nSo you have to use something like verdaccio to deploy your hook.\nBut it's not an easy process.\nI suggest you to update the path of the connectivity https://github.com/strapi/strapi/blob/master/packages/strapi-generate-new/lib/before.js#L259 file we require.\nAn option to let it be easier to the future is to define the path depending of scope.developerMode.\nMaybe you can add this modification for the community.\n\nHope you understand my message - little bit complicated..  Yap that's it!\n\nBut I tried to play rapidly with this option but as we use symlink, there is a dependencies issue when we require connectivity file from the mono repo.\nI will work on it this week.. We actually haven't coverage for this part of Strapi  (not good)\nIf you want to check our test you have all information in ./test folder.\nWe are just testing generated APIs and the content manager (focus on relations). It's an update we have to do (use Greenkeeper to update deps) but big test and automation test have to be done to approve this PR cause we know how breakable can be a deps update.. @soupette Why did you ignore shelljs in .synk files ?. It's because you don't follow the Mongoose migration.\nI think you still have const { models: { mergeStages } } = require('strapi-utils'); in your services and you have to remove it.. Migration guide: https://github.com/strapi/strapi/wiki/migration-guide-alpha.15-to-alpha.16. Hello @narayanan-git , please follow the issue template so we can get a better understanding about the origin of your bug.\nI will reopen your issue as soon as it follows the templating guidelines.\nPlease update your issue.\nThank you.. Hello @dajer93 !\nI think you migrate from older version of Strapi to alpha.16\nYou not migrate your plugin upload. \n- Alpha.16 bootstrap file: https://github.com/strapi/strapi/blob/master/packages/strapi-plugin-upload/config/functions/bootstrap.js#L30\n- Migration guides: https://github.com/strapi/strapi/wiki. @soupette I want a complete translation PR instead of \"just\" one file translated.. Hello @tomsutton1984 , thank you for reporting this issue. We are currently on another feature and bug fix. Since time is lacking on our side, feel free investigate and submit a PR, we\u2019ll appreciate your contribution on this issue! \nCheck out the contributing guide to get started: https://github.com/strapi/strapi/blob/master/CONTRIBUTING.md. It works pretty well @soupette !! Waiting some update about function params.. Thank you @derrickmehaffy for this feedback.\nWe will fix it in a future patch.. Hello @jacargentina !\nI don't find the method you use in the documentation https://github.com/hapijs/boom#http-4xx-errors\nUse badRequest to fire 400 error code. I point Boom cause you want to fire 400 status code and Boom is by default in Strapi and offer this feature.\nWill check your PR when I will have time.. Hello @pwkrz can you precise your steps (body of your request)\nAnd configuration of your app please\nI'm able to update the email of one of my user.. Hello! Can you give me the name of the content type you create please.\nAnd send me also the model attributes you set to your content type.\nDid you custom something else in Strapi or you just create your content type and try to use the generated API ?. Can you please give us an update about this issue?. Okay, you haven't to send _id key when you create an entry.. Since we add a .gitkeep file in the upload folder, when you pull your application the upload folder is cloned. Before is was not the correct behavior.\n. Hello @flowen !\nCan you tell me how you start your sever with pm2 ? (the command you use)\nIf you start with npm start there is no auto reload feature needed by the content type builder plugin.\nYou have to start pm2 and disable the auto reload of pm2 and start with strapi start command instead of basic npm start\npm2 start 'strapi start' --no-autorestart. Ho okay.\nIt's deploy tutorial so normally you don't have to use content type builder in this case.. Hello @lcherone , thank you for reporting this issue. We are currently on another feature and bug fix. Since time is lacking on our side, feel free investigate and submit a PR, we\u2019ll appreciate your contribution on this issue! \nCheck out the contributing guide to get started: https://github.com/strapi/strapi/blob/master/CONTRIBUTING.md. Fixed in this PR https://github.com/strapi/strapi/pull/2966. Hello @lvnilesh , thank you for reporting this issue. We are currently on another feature and bug fix. Since time is lacking on our side, feel free investigate and submit a PR, we\u2019ll appreciate your contribution on this issue! \nCheck this file: https://github.com/strapi/strapi/blob/master/packages/strapi/bin/strapi-new.js#L48\nCheck out the contributing guide to get started: https://github.com/strapi/strapi/blob/master/CONTRIBUTING.md. Jest test are broken on master we fixed it on cypress branch. A pull request is open.\nWill be merge soon as possible.. There is some conflicts to manage, then I will review your PR. I notice in Bookshelf service template it still have the population on autoPopulate and we loose this option in Mongoose. Can you fix conflicts please. \nWhen it's done, we test (a last time) and merge your PR on master.\nIn this way we will be able to work with for a week before publishing new version with your code.. I got a log when I filter with relation attribute\n[2019-02-25T15:15:43.575Z] warn Your filter: {\n  \"author.name\": \"admin\",\n  \"limit\": \"1\"\n} contains a field \"author.name\" that doesn't appear neither on your model definition nor in the basic filter operators,\n            This field will be ignored for now.\n[2019-02-25T15:15:43.582Z] debug GET /articles?author.name=admin&limit=1\nLook like an error but it's not.\n\nI have to check with actual master branch but when I install plugins, plugins permission disappear.\nIt's really strange.. The issue I report not happen on master investigation have to be done to fix that.. Hello @w-biggs ! Thank you for this report.\nCan you try with npm instead of yarn and tel me if it still happen ?\nWe not support yarn for now so I close issue relative to yarn \nhttps://github.com/strapi/strapi/wiki/Frequently-Asked-Questions#yarn\n. I am closing this issue because we don\u2019t have any update/needed informations about it.\nWill reopen it if activity come back.. Hello @EvgeniyZo thank you for this question.\nActually it's not possible.\nBut we plan to add it in next version of users and permissions https://portal.productboard.com/strapi/c/8-administrators-roles-permissions. Did you check this part of the wiki.\nMaybe can help https://github.com/strapi/strapi/wiki/Frequently-Asked-Questions#windows. Hello @ssshooter , please follow the issue template so we can get a better understanding about the origin of your bug.\nI will reopen your issue as soon as it follows the templating guidelines.\nPlease update your issue.\nThank you.. Please can you try with the last version of Strapi (alpha.16). For your Postman screen, please use raw format with application/json. You have to connect your Database UI software to the mLab database and delete the raw.. I am closing this issue because we don\u2019t have any update/needed informations about it.\nWill reopen it if activity come back.. Can you please give us an update about this issue?. Hello @gianca970226! Thank you for this PR.\nCan you fix travis errors (the lint look have issues) and can you write a comment about what do this PR please.. @gianca970226 Can you please update your PR comment and add a short description of what you PR is doing.\nThe travis test fail because of snyk\u001d and we fixed it (just have to pull master to fix it on your branch). I think we have to trim the array values.\nIn your case app1.strapi.io,app2.strapi.io will work but app1.strapi.io, app2.strapi.io will not work I think.. Thank you @abdonrd for this feature request.. Feel free to update this view in the Content Manager link in the left menu.. Hello @sudip1072 , please follow the issue template so we can get a better understanding about the origin of your bug.\nI will reopen your issue as soon as it follows the templating guidelines.\nPlease update your issue.\nAnd please check existing issue(closed)/ FAQ(in the wiki), there is the fix of your issue.\nThank you.. Hello @vesyrgy , thank you for reporting this issue. We are currently on another feature and bug fix. Since time is lacking on our side, feel free investigate and submit a PR, we\u2019ll appreciate your contribution on this issue!\nYou can apply a clean of special characters in the content type builder plugins please.\n@soupette is the referral in this case.\nCheck out the contributing guide to get started: https://github.com/strapi/strapi/blob/master/CONTRIBUTING.md. I'm okay with you @soupette .\nIn fact it's the same issue as https://github.com/strapi/strapi/issues/1955 but for generated API.\nI close this issue to have just one with the same topic.\nIn any case there is a link between these issue.. Will be merged in this PR https://github.com/strapi/strapi/pull/2483. Hello! I'm not able to reproduce your issue.\nDid you have an error log in your terminal ?. Hello @connectwithub, I don't understand what you explain.. Ho okay I see!\nThis issue is about your need https://github.com/strapi/strapi/issues/1114\nThank you for your feedback.. I suggest you to follow all migration guides (except 15 version - buggy one). I will let @Aurelsicoko take the decision about that.. https://github.com/travis-ci/travis-ci/issues/1946. I confirm this issue thank you all for your feedback!\nWe will work on it soon as possible.\nIf any one can submit a PR to fix it, we will appreciate.. Same as this issue https://github.com/strapi/strapi/issues/2591#issuecomment-457830493. Sorry for the trouble. We are doing our best to fix it soon as possible.. What is the type of the attribute you use to store your email ?. I am closing this issue because we don\u2019t have any update/needed informations about it.\nWill reopen it if activity come back.. Did you have a projet on GitHub with the issue ?\nIt will help me to help you.. Can you give me:\n- The plugin name\n- The model name\n- and your relations attributes name. Here is the same issue with the fix https://github.com/strapi/strapi/issues/2530. For me your first solution is the best because you export your data filter in an other function and you can specify when you want to apply it.\nIf you use the second solution, it will apply your filter in any case of you are fetching data.\nAnd in a specific case you maybe want to be able to fetch all the data.\nSo it really depending of what are your needs. The impact of this two solutions are not the same.. Please check how work generated services.. Please check this issue https://github.com/strapi/strapi/issues/2126. Hello @abdonrd!\nDid you try with a try/catch instead of a condition ?. After discussion with @Aurelsicoko:\nWhen you have 3 environments development, staging and production we can't know if production env configs are for production server. \nIn fact our 3 names are just like 3 packages of variables. It also could be jedi, clones, vador.\nSo to define you start your app in your production server you will to start with --production flag.\nWith that we don't care of the environment name you use.\nDoes it make sense ?\nIf yes, I will make the update of your PR to make it work like explain in my message.. OKay so I will add one commit to you PR to make it work like we want.. So in this case to start your app you will have to run:\n- strapi start it will start development env by default like now\n- NODE_ENV=staging npm start --production Will use you staging env config. But in fact it's a production server (staging === production normally for your servers)\n- NODE_ENV=production npm start --production\nSo all works :). Yap I'm agree! \nSome changes, you will have to define in your environment if it's production or not.. @abdonrd and @derrickmehaffy Can you confirm it make more sense like that please.. Hummm something you can try is to follow this article to release new version of Strapi in your local machine - https://blog.strapi.io/testing-npm-package-before-releasing-it-using-verdaccio-and-ngrok/\nAnd then in your deploy process your are changing the npm registry to your local machine (via ngrok proxy).\nThat can be a solution to test it.. Thank you for this report ! \nWe will fix it soon as possible.. Yes it's one of our priority!\nThank you all for this feedback.. Fixed here https://github.com/strapi/strapi/pull/2571. Hello @download13 Can you give me the GraphQL query you made and your models definition (with relations). Hello please follow the documentation example to update an entry with GraphQL.\nI just try to update to null with REST API and GraphQL and it works well.\nLet me know if you have a question.. Hello! Yap I have the same issue.\nBefore fixing it we have to modify the way we handle the connectivity script in development mode to make it easier to debug.. Hello @conghai , thank you for reporting this issue. We are currently on another feature and bug fix. Since time is lacking on our side, feel free investigate and submit a PR, we\u2019ll appreciate your contribution on this issue! \nYou look have the solution, I will appreciate if you submit a PR to fix it.\nThank you!\nCheck out the contributing guide to get started: https://github.com/strapi/strapi/blob/master/CONTRIBUTING.md. Hey I see your commit but there is no PR, have you some news about this point ?. Hello! I will take time to review your PR this week.. Hello @arogyakoirala ! Thank you for this PR.\nI just tried and I'm not able to finish a selection.\nFor a line and for a zone.\nI'm also not able to use the search bar.. Hello @ayushkamadji for this issue!\nYou are right to point this issue.\nYour solution work well but can you optimize your code and submit a PR please.\nWe will appreciate that!. We have big work done about that here https://github.com/strapi/strapi/pull/2452. Yes. Thank you for this PR - great job.. Hello @mnlbox there is documentation here about response https://strapi.io/documentation/3.x.x/guides/responses.html\nYou will also find documentation about Koa.. Did you have this error in you logs (middleware:custom_header) wasn't loaded due to missing key 'enabled' in the configuration?. Okay so your middleware is not loaded, please follow the first instruction of this documentation\nhttps://strapi.io/documentation/3.x.x/advanced/middlewares.html\n\nEnable the middleware in environments setting. Yes you have to create it.. Path \u2014 config/environments/middleware.json\n{\n  \"custom_header\": {\n    \"enabled\": true\n  }\n}\n\nI just tested it and it works well. I think you do one step wrong.. Ping @derrickmehaffy: we fixed this issue last time nop ? or something like that ?. Hello I can't approve your PR cause your code break application based on Mongoose.\nYou have to code that instead: \njs \nconst users = await strapi.query('user', 'users-permissions').find(strapi.utils.models.convertParams('user', {\n   email: profile.email\n}));\nIt will auto generate the correct argument or the find function.. Can you please give us an update about this issue?. In my understanding of this feature is:\nYou have roles Admin, Manager, Public, Client, Enterprise in your app.\nAnd you can chose roles available on register Client and Enterprise only.\nIn this case you have only one /register route.\nIn any case you will never be able to register as Admin or Manager cause there are not allow.\nIf this feature will not be developed you have to duplicate the register route & controller function to have one by role you want able to register.\nIn fact this feature is the possibility to have multiple default role.. No you can't. To generate a project with --dev you have to follow the contributing guide.\nDo you still have an issue ?. Can you be sure there is no package-lock.json file present and can you clear you npm cache npm cache clear\nAnd you confirm you DON'T use yarn?. How did you install node and npm ?\n\nI just tried git clone https://github.com/strapi/strapi.git jimlaurie && cd jimlaurie && npm run setup:build and all works well. Hum Fedora release 29... Could come from here :/. Hello @MatteoGioioso !\n\nYou have to use strapi-hook-ejs instead of strapi-views\nCheck here https://www.npmjs.com/package/strapi-hook-ejs\nnpm i strapi-hook-ejs@alpha --save. By default Strapi is not for render views. That is why there is no documentation about that point.. Here in the readme of this hook, you will fin information you want https://github.com/strapi/strapi/tree/master/packages/strapi-hook-ejs. Hello @srsgores !\nI suggest you to create a middleware and modify the content of the response to match with JSON API format.\nYou can find middleware documentation here https://strapi.io/documentation/3.x.x/advanced/middlewares.html. Ho yap it's really not well documented but you have access to it with strapi.connections.default. Hello @chaitanyya!\nThank you for this PR! Just super cool and works well.\nSome points about your message on the related issue.\nAbility to define them in the admin UI (Maybe a separate feature)\nI would love merge the backend feature before an eventual UI to manage this feature.\nBecause it will let us release this feature soon and for the frontend stuff we need to discuss of where we display this options.\nSchema cleanup (Maybe changing the attribute name for it)\nNot sure of what you mean but if it's when you change created_at to createdAt Strapi delete  created_at column and migrate all stuff. Actually it's not a thing to do.\nStrapi delete NOTHING in the database of the user. It's a choice we did. About the migration it's an hard topic, like migration an attribute name to an other. It's a thing we don't have to manage for now.\nActually your PR is good for me.\nYou still have [WIP] so let me know what you want to modify.\nOr if you have any question, let me know.. About the lint issue you have, it's strange... Look good from my computer.\n\n. Okay look strange!\nAnd it works for other mutation/queries ?\nI actually don't have time to investigate on this issue. Will appreciate is the community can do something to help us.. Okay thank you for the clarification.. 403 is caused by restricted access to your API I think.. Hello @mohamead! Thank you for the details to make it work with Heroku PG database.\nBut actually if you change options to settings it will break where options.ssl it used.\nBecause it used somewhere in the code (in this case to handle ssl connection for mongodb databases)\nSo to make it work correctly you will have to update strapi-hook-knex\n_.get(connection.settings, 'ssl') || false, => _.get(connection.options, 'ssl') || false,. @mohamead Why did you close your PR ?. OKay dac!. Hello @pauldariye.\nThe server still working on localhost with Heroku.\nYou have to use proxy config to make it works correctly.\nHere is an example of server.js config\njson\n{\n  \"host\": \"localhost\",\n  \"port\": \"${process.env.PORT || 1337}\",\n  \"proxy\": {\n    \"enabled\": true,\n    \"ssl\": true,\n    \"host\": \"strapi-simple-deploy.herokuapp.com\",\n    \"port\": 443\n  },\n  \"autoReload\": {\n    \"enabled\": false\n  },\n  \"cron\": {\n    \"enabled\": false\n  },\n  \"admin\": {\n    \"autoOpen\": false\n  }\n}. Hello @Ketcap!\nWhen you create a new entry via the /post (I will use Post content type with relation with Tag) it call the ./api/post/controller/Post.js => create function and it call  ./api/post/service/Post.js => add function.\n```js\n  /\n   * Promise to add a/an post.\n   \n   * @return {Promise}\n   /\nadd: async (values) => {\n    // Extract values related to relational data.\n    const relations = .pick(values, Post.associations.map(ast => ast.alias));\n    const data = .omit(values, Post.associations.map(ast => ast.alias));\n// Create entry with no-relational data.\nconst entry = await Post.create(data);\n\n// Create relational data and return the entry.\nreturn Post.updateRelations({ _id: entry.id, values: relations });\n\n},\n```\nYou can see we separate relations and data.\nLike that we can create first create the entry and then manage relations correctly.\nThat's why you don't have access to the relations on beforeCreate and afterCreate function, because relations are not send at this moment.. For now I suggest you to custom the ./api/post/services/Post.js => add function to add code before and after create.\nMany feedback have been made about this topic. We will try do do it better to use.\nBut for now it's not a priority for us.\nThank you for your feedback.. Relations with plugins model are broken. We have to fix it.. Sorry for the delay.\nBut what is the case where Strapi is not installed in your application node modules ?. Hello @nickngqs , please follow the issue template so we can get a better understanding about the origin of your bug.\nI will reopen your issue as soon as it follows the templating guidelines.\nPlease update your issue.\nWe need to know exact steps to reproduce.\nThank you.. Hello @henrych4 !\nYes you will have to migrate all your entries. We know it's a big pain.\nWe are in alpha version, so some breaking change can happen during the development of Strapi.\nAnd most of these breaking change are here to fix issue or make Strapi more stable for futur feature.\nI link an issue related to this kind of issue https://github.com/strapi/strapi/issues/1330\nSorry for you to have this pain, we are working to make Strapi usage more fluent.\nHappy new year!. In your generated app you can run:\n- npm i it install all node modules in your project, admin and plugins\n- npm run setup it build the admin\n- npm run setup --plugins it build admin and all plugins. Hello @conghai and @albatrocity , thank you for reporting this issue. We are currently on another feature and bug fix. Since time is lacking on our side, feel free investigate and submit a PR, we\u2019ll appreciate your contribution on this issue! \nCheck out the contributing guide to get started: https://github.com/strapi/strapi/blob/master/CONTRIBUTING.md. Thank you @chaitanyya for your contribution.. Done https://github.com/strapi/strapi/pull/2584.\nThank you for this reminder @abdonrd !. Hello @anitricks.\nWe delete services but routes and controller function have to be deleted.\nActually if you want to manage your relations, you will find request to do here https://strapi.io/documentation/3.x.x/guides/models.html#relations. is it fixed by this PR https://github.com/strapi/strapi/pull/2589 ?. Arg for this type of wording, I would like @Aurelsicoko assign.. @denisinvader you can push all you RU update in this PR.. Okay thank you.. Tell me when you are done with your translations.. Okay thank you!\nBefore merging your PR I would like a review from \ud83c\uddf7\ud83c\uddfa guy/girl of the community.. Can you try with also version alpha.18 of the GraphQL. . I will have to take a look. \nPlease for next time can you share your screen in english please.. I leave an issue on mongoose-float about this issue.\nhttps://github.com/Vnkitaev/mongoose-float/issues/6\nI hope we will have an answer and maybe a new release of this module soon to be able to fix this issue.. This have been fixed in last version of Strapi. Nop there is not limit.. Good tank you for your update!\n@derrickmehaffy you confirm that's good ?. Hello @WojciechKonieczny !\nIt's because you are using windows.\nPlease check https://github.com/strapi/strapi/wiki/Frequently-Asked-Questions to be able to fix the issue.\nIt will be fixed in next version of Strapi. A PR have been merge to fix that.. Hello @mohamead !\nI update your PR cause in the code you write you have ssl key in settings and options.\nIt's apply the value in the correct key.. Hello! This issue is a duplicate of this one - https://github.com/strapi/strapi/issues/2166. Hello @jimnordb!\nYour issue is not complete - can you give me exact steps to reproduce your issue.\nAnd I don't know what is insomina. Please be precise to help me to understand your issue.. Hi @kalms thank your for these detail! I will have to make some investigations.. Hello @kalms ! \nCan you give me models to be able to reproduce. I made some tests with relations and media and I was not able to reproduce the issue.\nCan you also try with last version of Strapi (alpha.21). Okay good. Similar with https://github.com/strapi/strapi/issues/2731. Hello @jnaroogheh , please follow the issue template so we can get a better understanding about the origin of your bug.\nPlease review your issue after submitting it, it's not understandable (code format).\nAnd I see you are using an old version of Strapi alpha.14.0 we are actually alpha.18 make your your issue still exist with the last version of Strapi.\nI will reopen your issue as soon as it follows the templating guidelines.\nPlease update your issue.\nThank you.. Can you please write one clean message with good code template.\nI'm not able to understand your issue.. Hello @t2 ! thank you to report this issue.\nActually this issue is \"normal\" cause you change your data model after creating some data.\nThe question we have to ask is, does it Strapi work to update all you existing data to update previous null value to ? (we don't know, empty string ?) value. You can understand it's a little be tricky.\nIt's the same question if you start with price attribute with decimal spec and you move to integer. Have we to convert 12.99 to 12 or 13 ? It's a complexe question to manage a model update (for an existing attribute).\nIn a futur yes we will be able to make transition but for now we are not able to manage this feature.\nSo for now I suggest you to create a quick script that update all you null to what you want.. You can see our roadmap here - https://portal.productboard.com/strapi. There is a Data Management section and we talk about that in intern. Feel free to add a feedback here \ud83d\ude09\nBookshelf can't be load by Strapi (that the issue log) so we will not be able to exec any script that use a database. You will have to create a standalone script for that.. Some things to help you.\n```\n// Database connection\nvar knex = require('knex')({\n  client: 'pg',\n  connection: {\n    ...yourDatabaseConnection\n  }\n});\nvar bookshelf = require('bookshelf')(knex);\nvar YourModel = bookshelf.Model.extend({\n  tableName: 'yourTableName',\n});\n```\nThen exec queries you need to fectAll and then Update data.. Thank you @jhfgloria to report this issue.. It looks happen when the dropbox is empty.. Hello @suttonmay , thank you for reporting this issue.\nCan you please submit a PR to fix it.\nWill appreciate your contribution!. To add informations, you can find an exemple how implement policy in GraphQL query https://strapi.io/documentation/3.x.x/guides/graphql.html#customise-the-graphql-schema. @Aurelsicoko the me Query exist but the topic is about related data of the user.\n. Thank you for this PR. I will take time to test it soon as possible.. Hello @fibasile! If you check here https://github.com/strapi/strapi/blob/master/packages/strapi-plugin-users-permissions/config/routes.json#L115 -  the issue is already fixed on master. Will be release today.. Hello @mnlbox ! \nYou have to change the  ./plugins/documentation/config/settings.json file.\nYou will have to update http://localhost:1337 to your development address.. Actually we can use this method - https://blog.strapi.io/testing-npm-package-before-releasing-it-using-verdaccio-and-ngrok/\nAnd in your Google instance, change the npm registry. Hello @yummyelin !\nIt's caused by Mongoose. It's not due to Strapi.\nBut in some case in Strapi we manage some errors to make them cleaner and the community told us, the error is not enough explicite. So here you are sure you have the full logs of the error.\nIn any case I don't think it's a good things to make a wrapper of the ORM.\nAnd errors logs happen only when there is an error. So it doesn't have to happen. Here you are sure you have the full log to be able to fix the issue.\nSo for now we will don't change logs for that.\nThank you for your feedback!. Thank you @projik !\nI will take a look soon as possible.. Sorry I have not see your PR and fixed it on my side.\nAny way, thank you for submitting PR on Strapi!\nReally appreciate.. Hello! Yap there is a scroll here!\nOn your screen shot we can see the border shadow on the bottom of the list.. I am closing this issue because we don\u2019t have any update/needed informations about it.\nWill reopen it if activity come back.. Here we decide about that - https://github.com/strapi/strapi/issues/1989\nAnd it's what is happen, you don't have to set manually {}. When you create an entry it's automatically set to {}.\nI just tested it and it works well.. We will not work on that point for now. So if you want this fix, feel free to open a PR.. Hello @ArthurKnoep ! Thank you to report this issue.\nI'm not a MySQL expert but I thing some one can help you in the community.. Thank you @suhaboncukcu for your help in the issue!. Hello @ANTEVETY!\nDid you check https://github.com/strapi/strapi/wiki/Frequently-Asked-Questions#windows ?. Thank you for this update!. Since I have no answer, I fixed it in an other PR and we release that fix in alpha.20 version. @BenjaminVanRyseghem Sorry for the delay.\nCan you try with new install of the last version of Strapi and a clean collection.. Can you please give us an update about this issue?. @bencehusi what is the version of Strapi you use please ?\nDid you have an error log or something that can help us to understand your issue.. Please can you uninstall Strapi globally and install the last version (alpha.24.1). Please check our wiki. We did non support Yarn for now.. Thank you @fabricioanciaes !\nCan you open a new issue please. Not completely the same issue and you GIF is really clear.. We will work on it soon as we can. For now we are busy on other tasks.\nIf you want to make the update to make it work with the Google+ shut down you can submit a PR.\n\nHere is the Grant configuration\nHere is Purest configuration\n\nWe really appreciate if you can submit a PR.. Thank you @mccrodp !. Hello @Sayegh7, thank you for this RP!\nCan you add a .gitkeep in the folder public/uploads\nAnd modify the git ignore rule to omit all files except .gitkeep please.\nBecause if you omit the uploads folder, it will break upload when a person will clone the repo because it will be missing.. Hello [mention], please follow the issue template so we can get a better understanding about the origin of your bug and to be able to help you.\nI will reopen your issue as soon as it follows the templating guidelines.\nPlease update your issue.\nWe need to know the exact version of Strapi and the database you use.\nThank you.\n\nThis is a templated message. Hello @driku , thank you for reporting this issue. We are currently on another feature and bug fix. Since time is lacking on our side, feel free investigate and submit a PR, we\u2019ll appreciate your contribution on this issue! \n\nYou will have to update generated template and manage the query as the search service function.\nCheck out the contributing guide to get started: https://github.com/strapi/strapi/blob/master/CONTRIBUTING.md. Hello @omerfaran, can you try with last version of Strapi (alpha.20) and let me know if you still have this issue please.. Duplicate of this issue https://github.com/strapi/strapi/issues/1612\nIssue with GraphQL and windows. I just tried to add an enum field in my content type and it work well.\nIt's an other issue, not the same topic as this issue.. Have been fixed in alpha.20 please update your Strapi application.. You will have to create a new sections object. It will automatically create a separator.\nYou can let an empty name normally.. Thank you to report this issue. We will check that soon as possible.. Hello @luc-plamondon , thank you for reporting this issue.\nCan you please submit a PR to fix it.\nWill appreciate your contribution!. Hello @ngoalongtb , please follow the issue template so we can get a better understanding about the origin of your bug and to be able to help you.\nI will reopen your issue as soon as it follows the templating guidelines.\nPlease update your issue.\nThank you.\n\nThis is a templated message. Hello @ngoalongtb , please follow the issue template so we can get a better understanding about the origin of your bug and to be able to help you.\n\nI will reopen your issue as soon as it follows the templating guidelines.\nPlease update your issue.\nThank you.\n\nThis is a templated message. Can you try to re-install Strapi and try to create a new project.\nI just install Strapi, create a project and all plugins are present. So your issue looks weird.. Thank you @abdonrd to trying to fix this issue.\nI will take to to check your work soon as I can.. @greatwitenorth What is the version of strapi you use to test it ?\nalpha.21 or the mono repo ?. Yes please. And make sur you apply update of this PR.. Can you give us models you use (to have the relation type and test it on our side). Can you give us more detail please.\nYour message is not really clear.. Thank you for these details.. I wrote an answer of your comment.\nIt also give you the answer of your other comments.\n\nDefault values or now stored in the options.timestamps.. It's because it's actually not published on npm.\nYou will have to wait the alpha.22 version (will come at the beginning of next week). What is the request you did ?. Hello @nyzm !\nHere is more information about installing the mono repo - https://github.com/strapi/strapi/blob/master/CONTRIBUTING.md\nIn the \u23f3 Installation section you setup without build npm run setup.\nSo the admin panel is not build. And http://localhost:1337/admin will not be available.\nSo to have the admin panel active, you will have to run npm start in the the admin folder of your application. At this point the admin panel will be available at http://localhost:4000/admin.. @soupette any suggestion to this issue ?\n@nyzm I think one issue like this already exist. I let you check that on closed issue.. Hello [mention], please follow the issue template so we can get a better understanding about the origin of your bug and to be able to help you.\nI will reopen your issue as soon as it follows the templating guidelines.\nPlease update your issue.\nI don't understand your issue. What did you try to do and what is the issue you have.\nThank you.\n\nThis is a templated message. Hello @eComEvo !\n\nThe error log is caused because you have strapi-hook-mongoose installed (see you package.json) and you don't have Mongo database in your application. \nYou use a PG database so you should only have strapi-hook-bookshelf and strapi-hook-knex.\nI don't know what you did to have both mongoose and bookshelf in your package.json.\nSo just remove this package and it will stop this error log.. Hello @JBuijgers , thank you for reporting this issue.\nCan you please submit a PR to fix it.\nWill appreciate your contribution!. Yes you are right! \nCan you open a PR to fix it please.\nAppreciate!. Hello @andylobel! Thank you for your PR!\nMaybe we can also manage the plugin installation error. And delete the plugin if an error happen ?. I close this PR, as I said, we have to manage the plugin installation ERROR instead of that point.. Hello @andylobel , please follow the issue template so we can get a better understanding about the origin of your bug and to be able to help you.\nI will reopen your issue as soon as it follows the templating guidelines.\nPlease update your issue.\nAll informations are missing.\nThank you.\n\nThis is a templated message. Thank you for this PR!\n\nI think we also have to write some lines in the documentation about this new feature https://github.com/strapi/strapi/blob/master/docs/3.x.x/guides/authentication.md\n. If I login for the second time from the same agent, previous refreshToken still active.\nI think it have to be deleted nop ?. And when I register from with auth/local/register I think if the settings.email_confirmation is disable we can also add a refreshToken.. Thank you @Blacknosaur for your issue.\nI will take a look soon as possible.. I checked it and it work well on generated APIs and it fail with User model.\nI see in the request that update the model PUT http://localhost:1337/content-type-builder/models/:model in the generated API both attributes are sent followers and followedBy.\nBut in User model, just followers is sent.. @hsam1997 what is x please ?. And your plugin content-manager exist in your plugins folder ?\nYou haven't any error when you create your app?\nIt looks an issue of symlink \ud83e\udd14 . I think it can come from permission about symlink creation.\nMake sure Strapi can create symlink every where in your computer.. Hello @ojengwa I'm not sure we have to add these plugins by default like that.\nIf you want add plugins you can already use this part of Strapi https://strapi.io/documentation/3.x.x/configurations/configurations.html#bookshelf-mongoose. Need @Aurelsicoko feedback.. Can you please give us an update about this PR.. We will reopen this PR when doc will be added.. It's the FAQ \ud83e\udd14\nDuplicate information is not a good thing I think.\nAnd I prefer centralize information in one place, the documentation.. This documentation make my brain \ud83e\udd2f. Thank you @jesusprubio  for your PR.\nI will take a look soon as possible.. I commented your PR in strapi-examples\nI have some issue to test your job.. Hum \ud83e\udd14 why did you close all your PR about that point ?. Ho okay I see your message.\nYes we will not merge a feature only for IBM employers.\nBut in few month login providers will work like upload and email provider. \nYou will be able to have your own. And to install it in your app.. Hello @omerfaran can you try with last version of Strapi please.. I close this issue cause it's not a priority for us now. Will reopen it if it's needed.\nAny way thank you for your proposition.. Ho yap! We have to manage this point.\nHow to fix this issue is to find where we find all installed providers and update the way we detect them.\nI think it's _.startWith() and we have to improve it.. \ud83d\udcd6info Here is the code that manage provider detection:\n- Email https://github.com/strapi/strapi/blob/master/packages/strapi-plugin-email/config/functions/bootstrap.js#L30\n- Upload https://github.com/strapi/strapi/blob/master/packages/strapi-plugin-upload/config/functions/bootstrap.js#L30. To replace the fs.readDir ?\nOur way check all installed node modules (based on the node_modules folder).\nYour way check installed node modules saved in the package.json.\nIf we want this information we already have it in strapi.config.info.dependencies\nAnd if you don't install your provider in dependencies with --save that will be unpossible to deploy it correctly.\nWe can improve this part yes.\n. As we discuss on Slack, feel free to open an issue.. Can you add one article in your database please.. Hello @thommedia , please follow the issue template so we can get a better understanding about the origin of your bug and to be able to help you.\nI will reopen your issue as soon as it follows the templating guidelines.\nPlease update your issue.\nThank you.\n\nThis is a templated message. Thank you @gilhardl  for your issue.\nI will take a look soon as possible.. Okay I reproduce your issue. Will try to work on it soon as I can.\n\n\ud83d\udcddnote this come from this line of code \nhttps://github.com/strapi/strapi/blob/master/packages/strapi-generate-api/templates/mongoose/service.template#L137. Thank you for your PR. That could be that. I have to take time to check / test that.. Hello @xilliman , please follow the issue template so we can get a better understanding about the origin of your bug and to be able to help you.\nI will reopen your issue as soon as it follows the templating guidelines.\nPlease update your issue.\nIf you have an error message when you update the user via the content manager, please update to last version of Strapi. This issue is fixed.\nThank you.\n\nThis is a templated message. Hello @EpicUsaMan , can you give us the exact steps to reproduce.\nYour description is not enough complete to be able to reproduce and help you.. Thank you for this PR @sajjad-shirazy !\nThat's interesting. Need some test and it will be merged :-) . Hello @omerfaran !\nCan you add you npm version and well format your query please, it's not readable like that.\n\nI will also need you Exam model please.. Can you send me the full error message you get please.\nI need more context.. Hello @EpicUsaMan !\nI tried to reproduce your issue and all is working find for me.\nCan you show me your error logs and give me your configuration.\nAnd maybe more details of steps to reproduce.. Ho okay! Thank you for this issue.. Hello @EpicUsaMan !\nI don't understand you PR. In your title you talk about the register function.\nAnd in the code you update you worked in the forgotPassword function.\nI think there is a mistake somewhere.\nThere is no user.attributes in the code of the file you update.. This issue come from Apollo Graphql.\nI think we have to update this deps.\nSince this PR was merged https://github.com/apollographql/apollo-tooling/pull/961. You have to use .toJSON() to convert the bookshelf response in a JSON object.\nIt's not an issue.\nlet a = await strapi.services.posts.fetchAll(ctx.query);\na = a.toJSON();\nconsole.log(a);. Hi @jacargentina!\nThank you for this PR.\nBut setup is a touchy thing. We have to verify many things before.\n@Aurelsicoko I need your feedback on it.. Hello @bovidiu !\nSorry for this trouble.\nCan you try with the version we publish today (alpha.22) and let me know it this issue still exist please.. Hello @jacargentina can you update the version of Strapi you use. \nCause I'm sure the version you test when you create this issue is not the last version of Strapi (since I release yesterday). Update the version in * **Strapi version**: current stable sources\nI need to know the exact version you are on.. Hello @omerfaran!\nYou are using 3.0.0-alpha.19 so it's an old version of Strapi.\nWhen you say Reverting to an older project solves it it's because you update your app and then you got the issue ?\nDid you follow correctly migration guides ?\n. I'm pretty sure it come from one of this 2 points.\n- Custom you may be did\n- Migration issue\n. So what is the status ?. Probably an issue on migration I think.. Hello @EpicUsaMan \nCan you give me the way to reproduce the issue you fix.\nI don't see what you are trying to do.. Ho okay I see.\nSo I did what you explain\n1 - Add the log in my file\n\n2 - Display the log after making a register request\n\nWe can see my email is present.\nYour issue is related to that point https://github.com/strapi/strapi/issues/2126. Ho okay it is with SQL database!. We fixed GraphQL stuff in last version (alpha.22) can you confirm it still exist in the last version please.. Yap it's confirmed, I tried your steps and it's a bug ya. We need @Aurelsicoko feedback on this point.. Hum password are sent as plain text in all requests can you explain please. I'm not sure of what you mean.. Hello @anitricks !\nThank you for this report!\nCan you please update with the exact version of Strapi you use.. What is you models cause I can't reproduce your issue.\n. Can . you confirm it's not the same issue as this one https://github.com/strapi/strapi/issues/2415. OKay so I close this issue.\nLet's have one issue fo this topic.. Thank you @MartinMuzatko for this report!\nCan you please submit a PR to fix it.\nWill appreciate your contribution!. Can you give me the error you get please.. Can you give me a screenshot of you GraphQL Playground please.. Thank you for this details.. Hello @kenberkeley !\nIf you check the documentation here https://strapi.io/documentation/3.x.x/guides/upload.html#install-providers we note if you use one provider located in the mono repo you will have to use @alpha\nBut I'm ok it's not intuitive. We will try to update that.. Probably related to that https://github.com/strapi/strapi/issues/2244. I see your strapi-hook-mongoose is on alpha.17 version.\nSo you juste strapi version but you don't follow migrations guide.\nhttps://strapi.io/documentation/3.x.x/migration-guide/. Did you manage permissions of your routes ?\nAll routes are secured by default.. In you admin panel, click on Roles & Permissions  and then you will have all your role.\nIf you click on a role you can choose routes this role will have access.\nHum routes can't break without modifications.\n. I think it comes from your database connection settings.\nMake sure your ./config/environments/development/database.json settings are correct for the database you are trying to connect with.. You mix yarn issue, installation issue and database connection issue.\nSo I don't understand what is your issue now... Can you make it clear please.. I am closing this issue because we don\u2019t have any update/needed informations about it.\nWill reopen it if activity come back.. if you want to have your dev update in a production app, you will have to manually copy and paste your packages/strapi-plugins... in the plugins folder of your new application.. Hello @izzuddinnatsir !\nI don't understand why you have bookshelf installed. \nYou look using Mongo database so you user mongoose and you have a SQLITE_ERROR error.\nIt look strange.\nI need more info about your app and what you did.. Please not use PM2 in dev mode, that could be the source of the issue.. @codivist I what is the db you use ?. Something is wrong here.\nYou can not have Error: SQLITE_ERROR: near \"ALTER\" error if you are using a Mongo database.\nThis error come from strapi-hook-bookshelf that is used for SQL databases (Postgre, Mysql and SQLite).\nBut I find the cause of the error log but it's for SQL applications not Mongo.\nhttps://github.com/strapi/strapi/issues/2794. @codivist  & @shoan did you use Mongo as database ?. If you are using the quickstart way, we know that and we open a PR to fix that.\nHere the issue is if you use Mongo database and you have this issue. That is not normal.. Please update to the last version of Strapi @MarcelBlockchain (alpha.24.1). Can you please give us an update about this issue?. I will close this issue because it's the same topic as the issue you link.\nBut it's because of Mongoose and Bookshelf function we use.\nThe life cycle is based on Mongoose and Bookshelf function and not on Strapi actions.\nWe have to harmonize all of this stuff.. I think it's related to the update we did here https://github.com/strapi/strapi/pull/2682. I'm agree, we have to manage well these points.\nWe can not finish to work on every PR people start (because there is no end if we start to work like that.)\nWe will work on this point when this topic will became hot for us. We are actually working on man topic and will do our best to make that work correctly soon as possible.. Hello @puneetverma05 !\nThank y ou for this issue.\nCan you give me the full error you get.\nCan you please investigate on this issue and submit a PR to fix it.\nWill appreciate your contribution!. Sorry for this trouble @abdonrd .\nIf I create an app from alpha.23 and follow you steps, it works well.\nI think it come from the migration, we miss something.\nhttps://github.com/strapi/strapi/pull/2659/files\nHere is update on the alpha.22 about date input.. Maybe @soupette will be able to help you.. Ho okay, it's caused by the empty value of the date input.\nThank you for this use case @abdonrd . Hi @abdonrd can you give us more details about your need please.. Hum something like that ?\n{\n  ...\n  \"options\": {\n    \"timestamps\": true,\n    \"increment\": \"number\"\n  }\n  ...\n}. Hello @ahmed-hyd can you precise the version of Strapi you use.\nWhat is the alpha ?. Hello @ahmed-hyd can you precise the version of Strapi you use.\nWhat is the alpha ?. And can you give me the full log please.. And can you give me the full log please.. Can you try to re-run npm i strapi@alpha -g and let me know if the issue still happen. Are you behind a poxy ?. I just tried and it works well.\n- New AWS instance\n- Install Node 10\n- Install MySQL 8\n- Install Strapi alpha.23.1\n- Generate new app \u2705. I created a fresh new app and made your request and I haven't be able to reproduce your issue.. Yap yap!\n\n. No prob! I close this issue and let us know if it works with new app.. Hello @omerfaran !\nHum can you give us more information please.\nWhat is the request you try ?\n. I just created a new app and connected it to a mlab database and all works well.. Hello @puneetverma05 !\nI need more information.\nCan you tell me:\n- where you DB is hosted\n- if the database test is a success during the application creation\n- need the full log of your strapi start not just the error\n. Hello @puneetverma05 !\nI need more information.\nCan you tell me:\n- where you DB is hosted\n- if the database test is a success during the application creation\n- need the full log of your strapi start not just the error\n. Hello @crashlab , thank you for reporting this issue.\nCan you please submit a PR to fix it.\nWill appreciate your contribution!\nWe have to manage it with 2 different token you are right!\nIf we set undefined instead of null the key will be not send I think.\nAnd we can have an other JWT to manager the confirmation with the user id and a confirmation key set to true\nCheck out the contributing guide to get started: https://github.com/strapi/strapi/blob/master/CONTRIBUTING.md. Hum that could be interesting yes.\nHave to check if changing this input can change something https://github.com/strapi/strapi/blob/master/packages/strapi-plugin-upload/admin/src/components/EditForm/index.js#L74\nCan you please submit a PR to fix it.\nWill appreciate your contribution!. Can you confirm it's the same issue as https://github.com/strapi/strapi/issues/1114. Related so the issue is linked.. So you successfully did it. I can close now this issue.. Hello @svencowart !\nSorry for this trouble.\nI think it's because the email can't be sent from your machine.\nCan you try to install an email provider and try again.. Can you share all these information to this card https://portal.productboard.com/strapi/c/28-media-library-with-edit-crop-resize-capabilities\nWe manage this topic from ProductBoard.\nThank you for this feedback.\n. Looks good.\nI also would like a review from @Aurelsicoko .\n. What is the error you have (and you want to catch ?). It doesn't help me, can you make a sentence please of what you are trying to do exactly.\nAnd give us more details you can.. Can not help you more, I suggest you to go on our Slack channel, you will find help.. You will fin information here https://github.com/mysqljs/mysql#connection-options. Here is where it's set in Strapi https://github.com/strapi/strapi/blob/master/packages/strapi-hook-knex/lib/index.js#L99\nCan you check if you value is well setup by using logs.. Hello!\nActually it's not possible to customise the content type name that is displayed in the menu via the UI.\nBut as you have access to the source code you can customise your admin.\nCheck the documentation here https://strapi.io/documentation/3.x.x/advanced/customize-admin.html\nThen to update the way content types are injected in the left menu it's here in your content manager plugin https://github.com/strapi/strapi/blob/master/packages/strapi-plugin-content-manager/admin/src/bootstrap.js#L10. \ud83d\udcdd note Can you update the title of your PR to have one better for the change log please.. I need to know the key witch is updated here.. What is the key of the value please.. Ho okay! Can you try to remove in the core_store the document that have plugin_content-manager_schema as key. Then restart your app.. Okay! Thank you for detail.\nIt's look good now I close this issue.. Hello @laportem !\nSorry for this trouble.\nCan you give me your models please.. Ho yes good catch! \n@kamalbennani Did you work on it in your PR ?. My question is. This issue still exist in the PR you did ?\nIf yes, can you fix it please.\nIf not, this issue have to be closed when your PR will me merged.. @samantonis What is the database you use please.. Hello, thank you for reporting this issue.\nCan you please investigate on this issue and submit a PR to fix it.\nWill appreciate your contribution!. In the last version of Strapi, the admin open just during the first start.\nSo it look like you are using and old version of Strapi.\nYou can update it in ./config/environments/:env/server.json - admin.autoOpen have to be false.. Hello @capaci !\nThank you for this feedback.\nCan you send it in this card please https://portal.productboard.com/strapi/c/8-administrators-roles-permissions\nWe are managing this topic on PB.\nIf you can't wait, you can manage it manually by creating your route manually based on the update function of the User controller.. Okay thank you for the update.. This is a new feature. \nTo deal with it, you will have to manually update your API code.. Hello @PGzxc !\nThis is a normal thing when you use Mongoose. It's not caused by Strapi itself.\nWe have an issue here about get only id here https://github.com/strapi/strapi/issues/1274. Thank you for your issue.\nI will take a look soon as possible.. Your issue came after a project upgrade ?. What is the browser you use please.. Can you please give us an update about this issue?. Thank you for the update.. Hello @anitricks !\nModels are mounted before the execution of bootstrap functions.\nSo I think the thing you want to do it to plug a script before we mount models and it's actually not possible :/. If you can can you give us the exact use case. Maybe we can found a trick.. Hum if you want to add relation on the plugins installation, you can write a post-install script.\nYou rewrite the User attributes by adding your relation to you new model.. I'm fixing @derrickmehaffy feedback then I merge this PR. Hello, thank you for reporting this issue.\nCan you please submit a PR to fix it.\nWill appreciate your contribution!. In fact it's related to this issue https://github.com/strapi/strapi/issues/2149\nSo I close this one to manage this topic in one issue.. No prob @abdonrd !\nIt's look like a bug from GitHub, I think only admin and PR owner have to be able to do that.. Absolutely OK with that! \nCan you submit a PR that update the template please.\nThank you.. Hello @Nowhy !\nI'm not sure to follow you.\nIn your issue title your talk about send email with link, in your description you talk about static files and I can also see and hash (#) from an front end application.\nSo I don't understand your issue.\nCan you give le the exact issue you have please.. Sorry but I don't understand what you are talking about.\n\nI need to send this url link through email\n\nHow ? Via Strapi email service feature or you want to send an email from somewhere else ?\n\nThe url link sometimes went wrong\n\nDon't understand who it can be sometime \nPlease can you give me steps like that:\n1. Do that\n2. and then do that\nTo let me fully understand what you are trying to do.. It have been fixed by @soupette .. Hello @PaddingtonTheBear !\nThe following test I did is with laster version of Strapi (alpha.24.1)\nCreate a new role (with allow users/me), create a new user linked to this role, use user login route to get the JWT and then fetch /users/me with the JWT I got.\nAll these steps work well.\nBut maybe I miss something in your issue.\n. Hum okay, I really suggest to use UI for this type of actions.. Thank you for this PR!. Thank you for this report @romj !\nSince this issue is not fixed I suggest you to use the content type builder plugin to create new API.. @buithuyen it's cause by the plugin_content-manager_schema.\nCan you delete in the core_store table/collection the raw/document that have plugin_content-manager_schema as key. Hello @kidandcat \nI just did it and it works well.\n\nCan you try with last version of Strapi please (alpha.24.1)\n. Happy to read that!. Hello @rsinelle !\nThank you for this PR.\nCan you manage the message with translations please.\nLike here https://github.com/strapi/strapi/pull/2850/files#diff-163ee08ebcb2320b4f4805a7d02ed6daL23\nWhen it will be done we will merge your code.. I did it for you. Now let's merge that code \ud83d\udc4d . Arg if it's a random issue it will be difficult to fix.\nIf you remove tmp_releases table and restart your app does it works ?. Thank you!. I requested a new update since the code have been updated.. @soupette is super busy actually. \nI will try to point him this point during a planning tasks meeting.. Since we will not work on the front ent stuff in this PR, doesn't it still in WIP status ?. Thank you to report this issue.\nCan you please check this one https://github.com/strapi/strapi/issues/2471\nIt's the same topic.. Since we made update on this part there is also an issue on ...this.convertToParams(_.omit(_options, 'where'), model.primaryKey), cause the model is undefined.\nCannot read property 'primaryKey' of undefined. Since we made update on this part there is also an issue on ...this.convertToParams(_.omit(_options, 'where'), model.primaryKey), cause the model is undefined.\nCannot read property 'primaryKey' of undefined. Thank you for this fix! Appreciate.. Thank you for this fix! Appreciate.. It's have been fixed.\nThank you for this report.. I think it's duplicate of this issue https://github.com/strapi/strapi/issues/2811.\n. Thank you these details. Hello @Geoide !\nCan you give me the full output of strapi -v because version 6.4.1 of Strapi doesn't exist.. Can you try with last version of Strapi (alpha.24.1) please.. This issue already exists, please browse the list of opened or closed issues before posting an issue.\nPlease check https://github.com/strapi/strapi/issues/2151\n\nThis is a templated message. This issue already exists, please browse the list of opened or closed issues before posting an issue.\nPlease check https://github.com/strapi/strapi/issues/2591\nThis is a templated message. Hello, thank you for reporting this issue. We are currently on another feature and bug fix. Since time is lacking on our side, feel free investigate and submit a PR, we\u2019ll appreciate your contribution on this issue! \n\nCheck out the contributing guide to get started: https://github.com/strapi/strapi/blob/master/CONTRIBUTING.md. Thank you for this report.\nIt's not a high priority for us so it will not be fixe soon as we can.. Hello @EpicUsaMan!\nSee the documentation about SQLite https://www.sqlite.org/datatype3.html\n2.1 Boolean storage SQLite does not have a separate Boolean storage class. Instead, Boolean values are stored as integers 0 (false) and 1 (true).\nSo it's normal.\n\nbecause system expect true in confirmed.\n\nCan you explain what you are talking about please.\n. Hello, thank you for reporting this issue. We are currently on another feature and bug fix. Since time is lacking on our side, feel free investigate and submit a PR, we\u2019ll appreciate your contribution on this issue! \nCheck out the contributing guide to get started: https://github.com/strapi/strapi/blob/master/CONTRIBUTING.md. Thank you for this report.\nFeel free to investigate on this issue. We will appreciate your contribution on this issue.\nStill we work on other issues and product evolution we will not have the time for this issue.. @Vadorequest Feel free to help us to make it more stable faster to let you use it in production soon.\nWe need community help. The community is the strong of Strapi and we need your contribution/help.. This issue already exists, please browse the list of opened or closed issues before posting an issue.\nPlease check https://github.com/strapi/strapi/issues/2591\n\nThis is a templated message. Hello @MatthD !\n\nI think you can write in your .api/:model/servise/:mode.js a function sendNotification that fetch users and send them an email.\nThen in life cycle afterSave function you call this service with strapi.api[:model].services[:model].sendNotification();\nTo fetch user in your service function you can use the fetchAll service function of the Users & Permissions plugin with strapi.plugins['users-permissions'].services.user.fetchAll()\nAnd then you map the value you got to send email.\n\nHop it help! Let me know if you have other questions.. What are logs your have in the update request or in your terminal or in your browser console.. Thank you fir this report! \nActually we have an issue here https://github.com/strapi/strapi/issues/1274 about using only id.\n\nSo I close this issue.. Yap that it's a good point. I share this with the team.. Hum that's strange!\nDid you have strapi-hook-bookshelf installed some where, or did you try to migrate from SQL to NoSQL database ?. Hello @EpicUsaMan ! What is the Strapi version you use?\nActually we add .gitkeep in the ./public/upload folder to keep in when you push your project on GitHub.\nIn this way you will always have this folder except if you manually delete it.\nSo the question is if the plugin have to re-generate it if you delete it.\n@Aurelsicoko I need your point of view please.. Hello, thank you for reporting this issue.\nCan you please investigate on this issue and submit a PR to fix it.\nWill appreciate your contribution!. Hello @EpicUsaMan !\nCan you give us the way to reproduce the issue you fix please.. Hello @npjonath !\nIt's an interesting topic.\nHere is the way we manage bookshelf life cycle Code here\nA thing you can try, it's in you beforeInitialize function, to update target[model.toLowerCase()][fn] (that is the model function for the life cycle) by mapping on each model to make you stuff.. Hello @vanpana!\nYou are trying to link an engine that already exist ?\nIf yes you have to link the id for the engine key.\nIf you want to auto create a new engine ressource it's not possible and will not be for now.. Thank you for this PR!\nAppreciate your contribution.. The register function send specific params so you will have to update the SDK \nCheck here https://github.com/strapi/strapi-sdk-javascript/blob/master/src/lib/sdk.ts#L106. Hello @davidchalifoux !\nThank you for this bug report.\nWe are currently on higher topic on our side. We will appreciate if you are able to investigate and help us on this point.\nThank you for your time.. To do it with your relations you have to customise the populate value you send in your request.. Hello @huzaifazafar4725 !\nCan you give us the exact Strapi version you user please. 3 is not enough.\nAnd can you give us some screen shot and detail about where you try to scroll.. Will reopen this issue when all informations will be updated.. Did you follow each migration guide ?. Here is migration guides https://strapi.io/documentation/3.x.x/migration-guide/\nYou will see how update your app.\nSo make sure you also update your plugins.. Hello!\nI follow your steps and was not able to reproduce.\n\nClick on add +Add Content Type\nName it article\nClick on + Add New Field\nChoose String\nName it title\nSet required in advanced settings\nClick on Save button\n\nAll works ... I may be miss something.. Hello @absolux !\nYap it look like to be an issue.\nFeel free to submit a PR to fix this. We will appreciate your contribution on this point.. Hello, please follow the issue template so we can get a better understanding about the origin of your bug and to be able to help you.\nI will reopen your issue as soon as it follows the templating guidelines.\nPlease update your issue.\nThank you.\n\nThis is a templated message. I suggest you to remove all globals node module of Strapi and then retry to install it globally.. Hello @tpiros !\n\nCan you give me the full log please. From your strapi new .... You sent me your strapi start and not your strapi new. Arg looks weird!\nI did a fresh install and all looks good.\nSome one also have this issue ?. Hello!\nI strictly follow each steps and was not able to reproduce your issue.\nMaybe I miss something.\nIn my case it successfully update the entry without any error message.. Hello @Ashutosh421 \nCan you uninstall strapi and try to install it again and create your project.. We stabilised it and made improvement last few month.\nI tried with the windows computer we have at the office and all works fine.\nDid you use WSL ?. Hello!\nI just created a new app.\n\nRegister a new admin\nCreate a content type event\nAdd string field named name\nAdd relation many-to-many with User\nSave to create the content type\n\nAnd all works fine. May be I miss something ?. GraphQL require enum values to match [_A-Za-z][_0-9A-Za-z]\nAn in your case it start with a number. So you have to use _ and the beginning of your enum values. Hello!\nI was not able to reproduce your issue.\nThat is my APi response...\n[\n    {\n        \"title\": \"a1\",\n        \"content\": \"first line\\nsecond line\\n\\nanother line\",\n        \"_id\": \"5c87cf4dca6b793ca7b817c8\",\n        \"createdAt\": \"2019-03-12T15:25:01.308Z\",\n        \"updatedAt\": \"2019-03-12T15:25:01.365Z\",\n        \"__v\": 0,\n        \"id\": \"5c87cf4dca6b793ca7b817c8\"\n    }\n]. Hum I have no idea about what can cause this issue.\nIt's really strange.. Haha okay! Good to know.. Hello @abdonrd !\nThank you for this report!\nWe have to apply the password validation only if the user use the local login strategy.. It will be in the plugin Users & Permissions. Hello! \nIf you replace this code, it will not match with Mongoose template.\nThe correct way to harmonise this stuff if to update the code here to match with beforeFetchAll like here\nAnd this function look missing in the bookshelf template , that could be a good thing to add it in the same time.\nSo please can you update your PR by following my message please. Thank you!. Hello @markjlaney !\nThank you to report this point.\nThe cors config have to be apply for API request and not for the admin panel stuff.\nCause we can split the front-end stuff of the admin in an other place and it will not match with the front end application that consume the API.\nBut the admin API will still in the same server and will be affected by by the cors configuration.. Thank you to report this issue @abdonrd .\nWe are focus on other issue. If someone can investigate we will appreciate your help.. Feel free to open a PR :) will appreciate contributors on this topic.. Hello, can you confirm your issue is the same as issues you linked?. Hello!\nI'm not sure to understand your issue.\nCan you explain me step by step what you did and what is the issue you had.\nThank you.. Hello @xeastcrast !\nThank you for this report! Appreciate.\nYou are right. if should be converted to null.\nBut in any case there is an other issue (already exist normally) about the search off null\nThis feature doesn't exit. You can't search null value.. Same as https://github.com/strapi/strapi/issues/2969. Hello, please follow the issue template so we can get a better understanding about the origin of your bug and to be able to help you.\nI will reopen your issue as soon as it follows the templating guidelines.\nPlease update your issue.\nThank you.\n\nThis is a templated message. Can you catch fs errors.. This website is not in https.. eslint not allow to update variables from arguments.. clean script is launch on pre-commit (see in package.json) - we have to know why it failed. Can you expose just informatios you need. Not all strapi.plugins object.. What happen if I'm on page 2 before updating one user ?. Comments to remove. Comments to remove ?. We have to send 401 and if you throw an error in this function, it will call catch of permissions.js.. I'd rather declare a users variable that is self explanatory than doing this.props.values.push(...). Remove these spaces. What is sa ?. Why use new dependency ? You can use child_process nop ?. Actually id is not in attributes.. Yes, strapi install use this line and strapi generate plugin use the copy function. Can be a translation path. Yes. Have to use ctx.unauthorized to send a 401 response code nop?\nIt will never match if (response.status === 401) { with ctx.badRequest.. Please replace | ---- | \u2013\u2013\u2013\u2013\u2013\u2013\u2013\u2013\u2013\u2013\u2013 | with | ---- | ----------- |. It's https. defaultPlugins is an array and defaultPlugin the object of iteration.. What is easier to understand --dbtype or --dbclient ?. If you want to delete this provider, you can't if it's strapi-plugin-upload dependence.\nEvery npm install in strapi-plugin-upload will re-install this provider.. Yes you are write, I will rename providers upload-strapi-s3 and upload-strapi-local ?. You don't see previous lines, re is a regular expression created with params.id. Oups \ud83d\ude48. strapi.plugins.upload.config.providers is the list of installed providers.. connectOptions.ssl = ssl is the same nop ?\nssl is a boolean.. Maybe it's could be a cool to also have an environment variable for this setting ?. Have to delete this lines ?. Wrong url I think. Exact we can't delete files when it's multiple file ! But actually if I send relationships, it's break the relation between files. I will investigate.. I suppose this require is catch when this function is called ?. Yes ^^ oups \ud83d\ude48. Yap we plan to add a configuration to disable it of course ;) . Have to delete this line ?. Same here.. These too.. One here.. Will be remove in other WYSIWYG PRs ?. Remove test colors. Same for these 2 lines. One here . Just as comment:\n\nIt's possible to use Destructuring to have more readable variables for response[0] and response[1]\nconst [explorer, layout] = yield .... Done here https://github.com/strapi/strapi/pull/834. File to remove or add to .gitignore. Update engine versions. Remove this todo, it's done. File to delete ? Or let it for examples.. Double ; at the end of the line. Why 3.0.0-alpha is static ?. Same here !. Can you update this name please.. To improve the setup time, can you remove the link by default of strapi-upload-rackspace.\nAnd can you remove the link of strapi-upload-aws-s3 too please.\nEvery one will not use all external providers, so we haven't to link all of them by default. . So @zhuang17 can you just add merge of prevGrantValue and grantValue for the value to not loosepvrevious saved data if prevGrantValue is not empty.. _.merge will do the job for what you want.. I think each plugins have to handle it himself instead of hard coding in the admin.. Can you remove this update please.. @derrickmehaffy yes it's a good idea ! But in an other PR. Can you create an issue (feature request) with detail of this options. Thank you !\nThe topic of this one is just to make it work ;). I'm not sure this line is in the right place.. What about morph relations ?. Empty space. This line end with ,. Why lint don't catch this ?. Same empty space. Same. Yap ! Just copy and past it from an other file.. I will take a look this week end.. @derrickmehaffy yap yap ! . Yap. Can you remove this log please.. Can you remove this relation.. You don't need to add these lines because the locale variable has the same value as the svg flag.. Yes please. Then I will merge your PR. @kamalbennani My editor is already configured to add one line at the end of files.\nI think we have an issue on pre-commit for that.. I think it can coming from here.. Confirmed, that's it. I fix it.. this.config.proxy not exist, all settings are not mount in strapi.config\nSo in this case you can just have this line:\nthis.config.proxy = get(this.config.currentEnvironment, 'server.proxy' || {});. Warning with indents, there is an incorrect indentation in this function. \nI'm surprise because there is a lint on beforeCommit and it have to catch that...\nAnd you can have something like that:\njs\nfunction getProxyUrl(ssl, url) {\n  return `http${ssl ? 's' : ''}://${url}`;\n}. Can you create a new section for Proxy settings please.\nLike here. I check the code and it doesn't look have an impact on.. Check two lines before :) based on env. @soupette I'm not sure this file has to be in this PR ?. Can you revert this update please.\nIf you check all translations files it's:\n\"PopUpForm.Providers.discord.providerConfig.redirectURL\": \"The redirect URL to add in your Discord application configurations\",\n\"PopUpForm.Providers.facebook.providerConfig.redirectURL\": \"The redirect URL to add in your Facebook application configurations\",. Then I will be ready to merge your PR :). Log to remove. Something like uninstall.sh could be better solution I think.. Did you use the admin in dev mode (cd admin && npm start with dev mode app) ?. Are you sure about fantastico ?. I'm not sure to understand what you mean.\nWhat do you suggest ?. We can apply:\nsuggestion\n    \"translations\": \"node ./scripts/translations.js && git add './**/translations/**.json'\",\n. I updated to apply file changes to only added files.. Do we need to store this value in a variable. Just used one time in this function.. We not need {name: name}\nsuggestion\n        name,\nworks well.. Do we need export this function in a helper ?. Same job but yes we can . I apply @maturanomx feedback.\nThis PR is fixed https://github.com/strapi/strapi/issues/2132.\nI think @maturanomx you speak about an other issue. Can you please create or link an issue about that.\nThank you.. Why did you delete this function ?\nIt still call many time this. getFieldsByTypes. Have to check why this || 0 is here.. Param name is targetDir. I think you want to use strapi.config.connections because strapi.connections[connectionName])is undefined.. If you confirm it's the case, please update this file then we will be able to merge this PR!\nThank you!. Yap we can use connection as second param.\nAnd can you also update the the same thing in strapi-hook-bookshelf please.. There is no models here...?. We don't have to store this information in the database file.\noptions object is send to the database hook for the connection and force is not an available key.\nAnd the force argument is just here to display or not the warning message, we never will use it after the app generation.\nSo I think we have to remove updates of this file.. You have to also remove this line.\nWe not use this variable anywhere in this file.. Ho yap \ud83e\udd26\u200d\u2642\ufe0f my bad.. Arg fail blank space. Again blank space here. For all these lines you can do _.get(connection.options, 'pool.min', 0).. _.get(object, path, default). Hello @alphapseudo , can you tell me why you delete this condition please.. You don't need to set null as default value here.\nIf there is no value, it will be undefined and it's a good value to not enter in the condition.. Can you set Strapi <strapi.io> as default value of the _.get function please.. Yap, please set the same value as development environment.. Yap, please set the same value as development environment.. This object to not well formated to display the input form.\nPlease check the name: 'form.request.item.parser', object format.. Since I worked on that point _.get(model, 'options.timestamps') will be an array or false.\nSo we can remove this line and use _.isArray(_.get(model, 'options.timestamps') for the if condition. See my previous comment.\nif (_.isArray(_.get(model, 'options.timestamps')) {. We also have to update this key.. We also have to update this key.. Here we already check that options.timestamps is an array so we don't need to check it again.\nSo we just need to return obj[_.get(model, 'options.timestamps[0]')]. Here we already check that options.timestamps is an array so we don't need to check it again.\nSo we just need to return obj[_.get(model, 'options.timestamps[1]')]. You have to set the value key with Strapi <strapi.io>\nIf there is no value we have an empty input.\n\nAnd it's the same for staging and production environment. In you Model.settings.json file the options.timestamps can be: true, false or ['createdAt_custom', 'updatedAt_custom'].\nBut in the mount variable (so here model) it can be: ['createdAt', 'updatedAt'], false, ['createdAt_custom', 'updatedAt_custom']\ntrue become an array of default timestamp values.\nNo more true as value.. The input don't have to be empty for the end user.\nSo we will have the value by default - your link\nAnd one by default value in each environment.. you use \" and others key use '. Same for all files. You use _.castArray in bookshelf and you don't use it in mongoose, there is a reason ?. Can you replace by to: (user.toJSON ? user.toJSON() : user).email please. Many comments, should we remove them ?. const  reducerName = pluginId ? `${pluginId}-${key}` : key;\nCan be a cleaner way\n\nSame for each files. Last time we discuss to add a message to say it can take a minute to download and test database connection.\nI think we can add it in this PR - We have to define the exact message.. Argg :p. license have to be at the end of the file. Changes have to be done in the ./bin/start.js to update have a coffee typo. Yap but I talk about other databases.. You can move the function call directly in the refreshToken key. Same here. Same here. Why you did not use this function https://github.com/strapi/strapi/blob/master/packages/strapi-plugin-users-permissions/services/Jwt.js#L41 to generate your token?. Do we have to keep this comments.\n\nIf yes - we have to add on for Postgres.. Do we need to keep this line ?. I suppose you add it to manager mongoose entries.\nBut .id also exist for mongoose nop ?. It's .tmp or tmp ?. ",
    "loicsaintroch": "Strapi works fine on Node.js v0.12 and Node.js v4 is not mandatory.\nWe are still thinking about which version of Node.js we should advise... Node.js v4 is now the default Node.js version but a lot of developers are still on Node.js v0.12 and don't want to upgrade because of backward compatibilities.\nWe'll adapt very soon thanks to community feedback!\n. Weird... Can you please create a new issue about this with the logs?\n. With Node.js v0.12.7 ?\n. All right. I'll look into it this weekend and keep you informed as soon as I have a solution both for Node.js v0.12.x and Node.js v4.\n. I may have found a solution. It's on the fix/shebang branch. Steps:\nbash\n$ [sudo] npm uninstall strapi -g\n$ [sudo] npm cache clear\n$ git clone -b fix/shebang git@github.com:wistityhq/strapi.git\n$ cd strapi\n$ npm link\nCan you please try this solution and give me your feedback?\n. Okey, thank you for your feedback @mocallu.\nWhat about you @sylvainlap? Do you still have this issue or you have the same error than @mocallu?\n. Everything works fine? You just see an error before the logs?\n. Thanks! Just fixed this bug (see https://github.com/wistityhq/strapi-generate-users/commit/84aefa9a1941a9623e364e1ab297872171cf3cb6) and published v1.0.2 of strapi-generate-users.\n. It should be fixed: https://github.com/wistityhq/strapi/commit/968e36d87919dbb6a61365a0db8b34924975d5bd.\nCan you try and give me your feedback please?\n. What about you @mocallu?\n. Perfect!\n. Hi @ogrotten, what was your issue?\n. Awesome! Thank you for your feedback @ogrotten, very useful.\nWe prefer to lock comments on closed issues aiming to keep issues and milestones organized as much as possible. \n. If I understand correctly, the sails-mongo fails to install, right? I like your second suggestion though. We'll think about it. Thanks!\nAbout the adapters installation, it was on our roadmap, I will work on it tomorrow.\n. We just made the auto install for adapters today. It will be published tomorrow for the v1.1.0.\nBut it's strange you have an issue during the installation of sails-mongo. It looks like its because of node-gyp. Did you try with Node.js v0.12.7 or Node.js v4.1.2?\n. This is a common issue due to node-gyp and bson compatibilities for almost two years now.\nAs far as I can tell, this is not a Strapi issue...\n. I'm not sure to understand what you want. There is no way for us to override the npm installation if that's what you mean.\n. I honestly don't know what to answer to this issue except that this is not an issue on our side but from the sails-mongo adapter. I know @tjwebb is working hard on Waterline and the migration of adapters from Sails to Waterline so he might have a solution about this.\nOn our side, I can't think of a magical solution...\n. Hi @perminder-klair. Unfortunately, this is not an issue on our side but an issue with the sails-mongo node module. There is nothing we can do here... Sorry.\n. Yes we definitely broke the Studio URLs because of some DNS changes... I just reestablished the http://dashboard.strapi.io. It will be effective in a moment...\nAs you may know, this feature will now be called Studio.\n. As a matter of facts, we spend a lot of time today improving the documentation on why you need the Strapi Studio and how you can use it.\nIt will be published soon!\n. I have a question about forcing users to use unique app names. Do you think about a unique name like an identifier for every app of every user juste like Heroku do? Or a unique app name by user?\n. A unique identifier is the best way, just like Heroku does.\nEither the user does $ strapi new and the Strapi Studio defines a unique and unused identifier for the app. Or the user defines a name with $ strapi new <appName> and the Strapi Studio returns an error if the name (identifier) is already taken. In both solutions, an Internet access is needed, which sucks...\nThere are some tricky use cases: no Internet access, Studio connection disabled, etc.\n. Agreed.\n. We'll definitely create a $ strapi init command for the next release.\nThank you @ogrotten!\n. Hi @perminder-klair. Unfortunately, this is not an issue on our side but an issue with the sails-mongo node module. There is nothing we can do here... Sorry.\n. Hey @kaermorchen.\nGood question. We'll definitely support JSON API. I know a lot of developers ask for this support you're right.\nMaybe this is something we can plan for the v1.3.0.\nDo you want to help us on it?\n. Awesome thank you! Feel free to join us on Slack to talk about it: http://strapi.io/support\n. Hey @kaermorchen, it's been a while since your last message. We are going to release the v1.4.0 in a few minutes so we'll support JSON API when you'll be ready. Please keep in touch.\n. Hey @kaermorchen, is your issue related to #29? If so, can you please help us?\nHave you tried with strapi@1.4.0?\nbash\n$ npm uninstall strapi -g\n$ npm cache clean\n$ npm install strapi -g\n$ strapi new myApp\n$ cd myApp\n$ strapi start\n. @kaermorchen: I'm closing this issue since we unfortunately don't have any news from you... Also, we'll support the JSON API specification in the v2.0.0 as you can see on the roadmap.\n. Great! Thank you @sylvainlap. ;-)\n. Thanks a lot @sylvainlap !\n. Hey @GeoffreyEmery, do you still have this issue with strapi@1.4.0 released 3 days ago? Here are some simple steps to test:\nbash\n$ npm uninstall strapi -g\n$ npm cache clean\n$ npm install strapi -g\n$ strapi new myApp\n$ cd myApp\n$ strapi start\n. Closing this issue since we don't have any news...\n. Hey @dj-hedgehog! Good catch. Thanks a lot for your feedback.\nWe'd be glad to merge a PR, definitely yes! :-)\n. Sure no worries. Thanks a lot @dj-hedgehog.\n. Awesome, fixed! Thank you for your feedback @dj-hedgehog.\n. Interesting, thank you @dj-hedgehog I'll take a look at it in the next few days.\n. Hey @dj-hedgehog, just fixed this issue on the strapi-generate-api repository: https://github.com/wistityhq/strapi-generate-api/commit/4817b3d87107a66c716928f83ca9c2b0b8fad9a0.\nThank you for your help.\n. Hi @aaronksaunders, this feature is not implemented in the front-end yet, only the API is. The good news is we are going to open-source the dashboard in the next few days so anyone will be able to contribute and add this feature.\nRegarding the documentation it was a server error during the compilation of the documentation. It happened a few hours ago. It's now fixed. Thank you for your help. ;-)\n. Awesome! Thanks for the update @fundon we appreciate.\n. @dj-hedgehog I agree with you. However I prefer to change the milestone when we'll work with our new OSS workflow. I'll write some blog posts about the v2, our vision and our goals to be completely honest and transparent with the community.\n. Hey @dciccale, thanks a lot for your lovely pull request! I'll try your changes today as soon as I have some free time.\nRegarding your notes:\n1. You're right I'm not sure we need to do that either... we need to try.\n2. Again you're right, it appears we never use it.\nDo you want to improve it?\n. Oh my bad I misunderstood your question about the second note: we never use it except as this very moment. So yes, we definitely use it every time the Strapi server starts.\nRegarding your fourth note, we can try without binding it yes.\nThank you very much for your help @dciccale.\n. You can put it back yes please but maybe we can write it another way right?\n. @dciccale: do you still want to improve some things?\n. Awesome, thanks a lot for your great contribution @dciccale.\n. Hey @kulakowka, we improved the installation process of adapters for the v1.5.0. It will be release tomorrow. We'll try your issue using v1.5.0 as soon as possible.\nTo correctly answer your question, we had a little issue with the callback of this function which was called to soon. We automatically install the MongoDB adapter for you. It should work simply by restarting your application if you are on v1.4.1.\n. Perfect, thank you for your feedback @kulakowka.\n. Weird... Can you please try:\nbash\n$ sudo npm uninstall strapi -g\n$ sudo npm cache clean\n$ sudo npm install strapi -g\n. Awesome! We'll probably add a UPGRADING.md file next week.\n. Not sure to fully understand your issue. The SSL config needs two keys:\n- disabled (boolean): If true, this middleware will allow all requests through.\n- trustProxy (boolean): If true, trust the X-Forwarded-Proto header.\nTo enable SSL your config should look like this:\njs\n{\n  \"ssl\": {\n    \"disabled\": false,\n    \"trustProxy\": false\n  }\n}\n. @gregbenner: can you try the solution of @pierreburgy and give us your feedback please?\n. Good catch, thank you @fallenpeace. :-)\n. Hey @kulakowka, thanks for your feedback regarding versioning and documentation. To fix this problem we are going to put docs and code in the same repository (this one) so you'll be able to checkout the documentation for a specific version. This will happen next week. :-)\n. Should be fixed now.\n. Hey @senikk, sorry for the lack of communication this last few weeks-- but this was for a good reason. I have some interesting news regarding this issue.\nWe decided to split the Strapi stack in two different projects. Here is the reason:\n- Strapi is and always will be a Node.js framework-- nothing more.\n- The built-in features such as the Studio, the admin panel and the built-in APIs are not part of the framework as we call it. They are management features. Those features will be in another project will release soon.\nThe Strapi framework and the utils are for two different kind of users. This is why we decided to split the current ecosystem in two different projects. Don't worry: the built-in APIs and admin panel will still be open-source, even for the new project.\nThe Strapi v1.x.x will no longer be supported due to those changes and we'll encourage everyone to migrate to the v2. The migration process will be quick and smooth, easy as possible.\nWe'll soon write a blog post about our choices and why we unfortunately can't afford to support the v1 anymore, like we expected.\nSince your issue concerns the Studio and not the framework, I decided to close it aiming to keep the issue tracker lean and focus on the framework only.\nAlso, your enhancement has been made in this new project, thanks a lot for your suggestion. :-)\n. Hey @SkinyMonkey, sorry for the lack of communication this last few weeks-- but this was for a good reason. I have some interesting news regarding this issue. We decided to remove built-in blueprints inside the framework itself and to put the logic inside controllers and services for each API. This way, you'll be able to make operations through whatever you need. This feature will be available when we'll release the v2.0.0. Thanks a lot for your feedback, it helped a lot for this decision. :-)\n. Hey!\nSorry for the lack of communication those last few days\u2014 we were just enjoying holidays. Time to get back to work!\nFirst of all, Strapi needs a production-ready ORM which is not the case of Waterline mainly because adapters are too unstable and not well maintained to make a stable product like we need. We can\u2019t give an all-in-one stack with some bugs coming from a dependency. If you take a look at our issues almost all of them are due to Waterline.\nAlso, every NoSQL database has its own use and specific features. For example, an admin panel can\u2019t really interact the same way with a MySQL database than with a Neo4j database. We can\u2019t take advantage of every NoSQL database specialties. NoSQL is good but for specific use. This is not our case.\nStrapi uses more and more relations as long as you follow the conventional structure. That\u2019s why a SQL ORM is more appropriate. The main Node.js SQL ORMs are Sequelize and Bookshelf. The both of them have pros and cons. We still don\u2019t know which one to use. I personally prefer Bookshelf for its approach using the Knex query builder but Sequelize seems more stable\u2014 need feedback here.\nWe thought about being ORM agnostic which is technically great. Unfortunately this is not our philosophy since we want an all-in-one stack\u2014 we can call it a Data Management Framework. If we support several ORMs we won\u2019t be able to have a marketplace since every item won\u2019t have the same structure. However, you\u2019ll still be able to use your own ORM on your side but the Studio won\u2019t work with it. We\u2019ll only support the official ORM used by the Strapi framework.\nTo finally answer your question: we won\u2019t officially support MongoDB as a database but you\u2019ll still be able to use it on your own. The user management and the Studio won\u2019t be compatible with it since it\u2019s developed to only work with the official supported ORM.\nI hope I answered your question but I let the issue open since we really want/need feedback on this.\nThank you for your question @akoudal.\n. We give some thoughts about the ORM roadmap and put it some work.\nI have a very early prototype of Strapi working both with Waterline and Bookshelf without changing the models at all. So we definitely can make this work with Mongoose or whatever on the framework. However, we'll need to make it right on the Studio regarding the UX on the settings page. \nI don't want to rush anything here but if it works correctly with Bookshelf and Waterline I don't see why we won't make a Mongoose hook and support it on the Studio since we don't need to change the model definitions. \nAs I said, don't take my word as a final decision but more as a possibility.\n. We'll use Bookshelf with Knex as the default ORM but you'll be able pull it out since it won't be part of the Strapi core. This way, you can move to another ORM like Waterline. Here are the repos (empty for now):\n- https://github.com/wistityhq/strapi-bookshelf\n- https://github.com/wistityhq/strapi-waterline\n. We'll support several ORMs via the hook system. The Strapi core will require mandatory ORMs from the models thanks to orm key in each model.\n. We decided to support several ORMs aiming to allow you to use other DBs such as MongoDB, ArangoDB, RethinkDB, Redis, etc. if you have specific needs.\n. @zorobabel Yes this behavior is normal. The generator new makes a symlink aiming to not copy every node modules. This is faster than copy and paste or even install them from npm.\n. Yes definitely, but still a problem I guess...\n. npm >= v3.0.0 no longer supports symbolic links in the node_modules directory. We'll work on a speedier solution to optimize $ strapi new that will be released in the v2. But in the mean time, your new Strapi app's dependencies must be set up using the classic $ npm install process.\n. This is now fixed and will be released for the v2. We simply copy/paste every dependency from the node_modules directory of the global installation to the local one. This is the best work around we've found.\nThank you all for your feedback, we appreciate.\n. Hey @hguillermo. No this project is not dying at all! It was holidays and we were just enjoying some free time. We are working hard on the new version of the Strapi Studio and the second version of the framework. This is just the beginning! Thanks for wondering though, it means a lot to us. \n. Awesome! Feel free to join our active community on Slack for more information.\n. Hey @hguillermo and @phudekar, sorry for the lack of communication this last few weeks-- but this was for a good reason. I have some interesting news regarding this issue.\nWe decided to split the Strapi stack in two different projects. Here is the reason:\n- Strapi is and always will be a Node.js framework-- nothing more.\n- The built-in features such as the Studio, the admin panel and the built-in APIs are not part of the framework as we call it. They are management features. Those features will be in another project will release soon.\nThe Strapi framework and the utils are for two different kind of users. This is why we decided to split the current ecosystem in two different projects. Don't worry: the built-in APIs and admin panel will still be open-source, even for the new project.\nThe Strapi v1.x.x will no longer be supported due to those changes and we'll encourage everyone to migrate to the v2. The migration process will be quick and smooth, easy as possible.\nWe'll soon write a blog post about our choices and why we unfortunately can't afford to support the v1 anymore, like we expected.\nSince your issue concerns the Waterline ORM used in v1 and the Studio, I decided to close it aiming to keep the issue tracker lean and focus on the framework only.\nAlso, since you are moving from Waterline to Knex / Bookshelf your issue has been fixed in this new version, thanks a lot for your feedback. :-)\n. If I understand correctly the issue here we need to prevent the user to remove used connections right?\n. Looks pretty obvious yes-- but yet it appears we didn't do it... \n. Thanks. We'll definitely developed the verification process for the v2! Keeping this issue open until this is not done.\n. Hey @shilka, sorry for the lack of communication this last few weeks-- but this was for a good reason. I have some interesting news regarding this issue.\nWe decided to split the Strapi stack in two different projects. Here is the reason:\n- Strapi is and always will be a Node.js framework-- nothing more.\n- The built-in features such as the Studio, the admin panel and the built-in APIs are not part of the framework as we call it. They are management features. Those features will be in another project will release soon.\nThe Strapi framework and the utils are for two different kind of users. This is why we decided to split the current ecosystem in two different projects. Don't worry: the built-in APIs and admin panel will still be open-source, even for the new project.\nThe Strapi v1.x.x will no longer be supported due to those changes and we'll encourage everyone to migrate to the v2. The migration process will be quick and smooth, easy as possible.\nWe'll soon write a blog post about our choices and why we unfortunately can't afford to support the v1 anymore, like we expected.\nSince your issue concerns the Studio, I decided to close it aiming to keep the issue tracker lean and focus on the framework only.\nAlso, your issue has been fixed in this new project, thanks a lot for your suggestion. :-)\n. I'll take a look at it this afternoon @stefan1968.\n. Just released the v1.5.4 without a hook timeout. We decided to remove it since it depends on the environment and we can't control it. Also, it's useless. This is the best option we have.\n. We won't auto-install template engines anymore on v2 because it's much easier to manually install them than debug npm three or OS issues.\n. @dongseok0: can you take a look at #59 and tell me if you are facing the same issue please?\n. npm >= v3.0.0 no longer supports symbolic links in the node_modules directory. We'll work on a speedier solution to optimize $ strapi new that will be released in the v2. But in the mean time, your new Strapi app's dependencies must be set up using the classic $ npm install process.\n. This is now fixed and will be released for the v2. We simply copy/paste every dependency from the node_modules directory of the global installation to the local one. This is the best work around we've found.\nThank you all for your feedback, we appreciate.\n. Related to #51.\n. Done and merged with #82 by @Aurelsicoko. Thanks for the suggestion @stijlfigurant. It will be released in the next patch. ;-)\n. Hey @jakobrosenberg and @sylvainlap. I have some good news for you: the documentation for the v2 will be searchable and a one-page documentation will also be available! Thank you for your feedback we appreciate your help. ;-)\n. Hey guys sorry for the lake of communication around this issue we've been really busy... Yes you can create roles and set permissions for every one of them.\n. No you don't need to worry about your code being overridden by the Studio. As @Aurelsicoko said the Studio only write your JSON models and config files with the default controllers. You can update your controllers as much as you want-- the Studio will never update them.\n. Hey @kulakowka, sorry for the lack of communication this last few weeks-- but this was for a good reason. I have some interesting news regarding this issue.\nWe decided to split the Strapi stack in two different projects. Here is the reason:\n- Strapi is and always will be a Node.js framework-- nothing more.\n- The built-in features such as the Studio, the admin panel and the built-in APIs are not part of the framework as we call it. They are management features. Those features will be in another project will release soon.\nThe Strapi framework and the utils are for two different kind of users. This is why we decided to split the current ecosystem in two different projects. Don't worry: the built-in APIs and admin panel will still be open-source, even for the new project.\nThe Strapi v1.x.x will no longer be supported due to those changes and we'll encourage everyone to migrate to the v2. The migration process will be quick and smooth, easy as possible.\nWe'll soon write a blog post about our choices and why we unfortunately can't afford to support the v1 anymore, like we expected.\nSince your issue concerns the Studio and not the framework, I decided to close it aiming to keep the issue tracker lean and focus on the framework only.\nAlso, your enhancement has been made in this new project, thanks a lot for your suggestion. :-)\n. Yes you did! ;-)\n. Hey @kulakowka. Thank you very much for your suggestion regarding the documentation we appreciate your help. We added some examples for the v2.0.0 docs about model validations. We'll release it soon. :-)\n. Hey @kulakowka, sorry for the lack of communication this last few weeks-- but this was for a good reason. I have some interesting news regarding this issue.\nWe decided to split the Strapi stack in two different projects. Here is the reason:\n- Strapi is and always will be a Node.js framework-- nothing more.\n- The built-in features such as the Studio, the admin panel and the built-in APIs are not part of the framework as we call it. They are management features. Those features will be in another project will release soon.\nThe Strapi framework and the utils are for two different kind of users. This is why we decided to split the current ecosystem in two different projects. Don't worry: the built-in APIs and admin panel will still be open-source, even for the new project.\nThe Strapi v1.x.x will no longer be supported due to those changes and we'll encourage everyone to migrate to the v2. The migration process will be quick and smooth, easy as possible.\nWe'll soon write a blog post about our choices and why we unfortunately can't afford to support the v1 anymore, like we expected.\nSince your issue concerns the admin panel and not the framework, I decided to close it aiming to keep the issue tracker lean and focus on the framework only.\nAlso, your enhancement has been made in this new project, thanks a lot for your suggestion. :-)\n. Good catch @sylvainlap thanks!\n. Hey @sylvainlap, sorry for the lack of communication this last few weeks-- but this was for a good reason. I have some interesting news regarding this issue.\nWe decided to split the Strapi stack in two different projects. Here is the reason:\n- Strapi is and always will be a Node.js framework-- nothing more.\n- The built-in features such as the Studio, the admin panel and the built-in APIs are not part of the framework as we call it. They are management features. Those features will be in another project will release soon.\nThe Strapi framework and the utils are for two different kind of users. This is why we decided to split the current ecosystem in two different projects. Don't worry: the built-in APIs and admin panel will still be open-source, even for the new project.\nThe Strapi v1.x.x will no longer be supported due to those changes and we'll encourage everyone to migrate to the v2. The migration process will be quick and smooth, easy as possible.\nWe'll soon write a blog post about our choices and why we unfortunately can't afford to support the v1 anymore, like we expected.\nSince your issue concerns the built-in APIs and not the framework, I decided to close it aiming to keep the issue tracker lean and focus on the framework only.\nAlso, your enhancement has been made in this new project, thanks a lot for your suggestion. :-)\n. Hey @kulakowka. We tried GraphiQL a few months ago when developed the GraphQL support for Strapi. This is not a priority at all for us since this is an existing and open-source feature already out there. If one day we think it can be useful and become a priority for us we'll definitely do it! Thanks for the suggestion though. :-)\n. Hey @zth, thanks a lot for your suggestion. @Aurelsicoko worked on this suggestion for the past few days and the feature will be released for the v2.0.0. :-)\n. Is it related to #59 and #67 ?\nnpm >= v3.0.0 no longer supports symbolic links in the node_modules directory. We'll work on a speedier solution to optimize $ strapi new that will be released in the v2. But in the mean time, your new Strapi app's dependencies must be set up using the classic $ npm install process.\n. Did you try using sudo? Like sudo npm install strapi -g?\n. Hey @mraak, sorry for the lack of communication this last few weeks-- but this was for a good reason. I have some interesting news regarding this issue.\nWe decided to split the Strapi stack in two different projects. Here is the reason:\n- Strapi is and always will be a Node.js framework-- nothing more.\n- The built-in features such as the Studio, the admin panel and the built-in APIs are not part of the framework as we call it. They are management features. Those features will be in another project will release soon.\nThe Strapi framework and the utils are for two different kind of users. This is why we decided to split the current ecosystem in two different projects. Don't worry: the built-in APIs and admin panel will still be open-source, even for the new project.\nThe Strapi v1.x.x will no longer be supported due to those changes and we'll encourage everyone to migrate to the v2. The migration process will be quick and smooth, easy as possible.\nWe'll soon write a blog post about our choices and why we unfortunately can't afford to support the v1 anymore, like we expected.\nSince your issue concerns the Studio, the admin panel and the Waterline ORM but not the framework, I decided to close it aiming to keep the issue tracker lean and focus on the framework only. The Waterline ORM won't be used anymore, we decided to switch to Knex / Bookshelf for the v2 for some very good reasons.\nThanks a lot for your feedback though we appreciate your help on this project. :-)\n. Awesome thank you very much @dj-hedgehog for this kind update. Maybe we should rename the gzip config to compress for keeping consistency don't you think?\n. Ok I understand. No, you're right @dj-hedgehog it's easier to understand like this. Do you know why the tests fail?\n. Hey @dj-hedgehog, can you please make another PR on the v2 branch please?\n. Thanks @dj-hedgehog \n. Hey @k20human,\nYes it is possible to have a file like you wrote in a specific environment. Strapi (like Sails) build a dictionary based on your files and directories. strapi.config is build when the application loads and register everything from the ./config directory. For example the file you wrote in your issue will be accessible at strapi.config.myconf and the myconf value changes depending on the environment.\nI agree. We'll improve the .gitignore file for v2.\n. I actually want to leave it open since the v2 is not released yet. It's much easier to see what's left for this release. :-)\n. Definitely yes!\n. This is now fixed and will be released for the v2. We simply ignore every production directory.\n. Hey @k20human, I'm not sure to understand your issue.The globalID and the name are not the same ones?\n. Hey @discordance. I just tested and it woks fine without the optional second info:\njs\n// function that should fire every minute\n'* */1 * * * *': function () {\n  strapi.log.info('test');\n}\n. Hey @chewedon, sorry for the lack of communication this last few weeks-- but this was for a good reason. I have some interesting news regarding this issue.\nWe decided to split the Strapi stack in two different projects. Here is the reason:\n- Strapi is and always will be a Node.js framework-- nothing more.\n- The built-in features such as the Studio, the admin panel and the built-in APIs are not part of the framework as we call it. They are management features. Those features will be in another project will release soon.\nThe Strapi framework and the utils are for two different kind of users. This is why we decided to split the current ecosystem in two different projects. Don't worry: the built-in APIs and admin panel will still be open-source, even for the new project.\nThe Strapi v1.x.x will no longer be supported due to those changes and we'll encourage everyone to migrate to the v2. The migration process will be quick and smooth, easy as possible.\nWe'll soon write a blog post about our choices and why we unfortunately can't afford to support the v1 anymore, like we expected.\nSince your issue concerns the admin panel and not the framework, I decided to close it aiming to keep the issue tracker lean and focus on the framework only.\nAlso, your issue has been fixed in this new project, thanks a lot for your suggestion. :-)\n. Is it related to #68? If so, can you please try the give solution and give us a feedback. If not, we'll take a look at it.\n. Hey @kokujin, that's a very good question-- love it! It will be possible to use Koa middlewares thanks to custom hooks which will be available (and documented of course) when we'll release the v2 in the next few weeks. Thanks for your feed we appreciate. :-)\n. Thanks a lot for your contribution @dj-hedgehog !\n. Hey @PetrSnobelt. What was your steps? Did you try to connect to the Studio on http://studio.strapi.io/? Did you follow the steps written in the README?\n. Looks like you find an easter egg... The actual link is http://studio.strapi.io/#!/settings/security.\n. Well yes you need to create an app first. Please follow the steps and everything will work smoothly. :-)\n. Oh I see... That's not the behavior we expect.\n1. You need to create a POST request to http://studio.strapi.io/auth/local with cURL for example with your email address as identifier and your password.\n2. Then, create a .strapirc file at $HOME with the token previously received from the Studio during the first step.\n3. Make a POST request to http://studio.strapi.io/app with cURL for example with the name of your application and your token.\n4. Finally, write the appId you received in your ./config/studio.json file.\nHonestly, this is a nightmare because of security process. This is why there is the Strapi CLI, to make it simple.\n. We'll think about it and see if this is something we need. Thanks for your feedback.\n. Hi @SebastianBogado, thank you very much for your interesting feedback, we appreciate it.\n\nWhen the other dev cloned the repo, running strapi start wouldn't work because config/studio.json was not present. On the other had, running strapi new wouldn't work because it needs an empty folder.\n\nVery good point you're right. What solution do you suggest to easily make it work without sharing the key?\n\nAt that point, running strapi start would almost work, except that there were some dependencies missing. Of course, run npm install and it should work. Except it didn't. There were some libs that I had on my node_modules that were not at the package.json, so I added \"fs-extra\": \"~0.26.2\" and \"pluralize\": \"~1.2.1\".\n\nnpm >= v3.0.0 no longer supports symbolic links in the node_modules directory. This is fixed and will be released for the v2. We simply copy/paste every dependency from the node_modules directory of the global installation to the local one. This is the best work around we've found. Regarding the missing dependencies: I'll definitely make some tests and adjustments before releasing the v2.\n\nWe went some steps back (created another app, gave him the id and secret), and still strapi start wouldn't connect to the Studio. Of course, his account had nothing to do with the app I created, it makes sense that he wasn't able to connect. So I just shared my credentials with him.\n\nCollaboration is a feature we really need and want on the Studio. Agreed. Unfortunately this is not a priority for us right now but this is definitely in our todo list for a next version.\nAs you may know, we have decided to split the Strapi stack in two different projects. Here is the reason:\n- Strapi is and always will be a Node.js framework-- nothing more.\n- The built-in features such as the Studio, the admin panel and the built-in APIs are not part of the framework as we call it. They are management features. Those features will be in another project will release soon.\nThe Strapi framework and the utils are for two different kind of users. This is why we decided to split the current ecosystem in two different projects. Don't worry: the built-in APIs and admin panel will still be open-source, even for the new project.\nThe Strapi v1.x.x will no longer be supported due to those changes and we'll encourage everyone to migrate to the v2. The migration process will be quick and smooth, easy as possible.\nPlease join us on Slack to have more details about the v2.\nThanks again for your message, it means a lot to us.\n. Hey @samgranger. We encountered some issues due to Mandrill becoming a paid MailChimp add-on. Should be fixed now thanks to @lauriejim.\n. Can you please indent this line please?\n. No need to use a constant for this, please write the object directly  as follow: \njs\n_.defaultsDeep(strapi.config.grant, {\n  server: {\n    protocol: strapi.config.ssl ? 'https' : 'http',\n    host: strapi.config.host + ':' + strapi.config.port\n  }\n});\n. Can you add a blank line between those lines to make it more readable please?\n. ",
    "sylvainlap": "This is my case, I don't want to update to node v4 for now because most of my projects are still in node v0.12.\nHowever, I can't manage to run strapi new :/\n. yes\n. You can have a look here: http://stackoverflow.com/questions/24548733/how-to-make-a-nodejs-file-executable-with-harmony-option\n. or here: http://stackoverflow.com/questions/3306518/cannot-pass-an-argument-to-python-with-usr-bin-env-python\n. Here is my result:\nsylvainlap@CanHardXI:~/DEV/WORKSPACE$ strapi new test\n/usr/bin/strapi: 2: /usr/bin/strapi: [[: not found\ninfo: Your new application `test` is ready at `/home/sylvainlap/DEV/WORKSPACE/test`.\nwarn: You do not have a `.strapirc` file at `/home/sylvainlap`.\nwarn: First, you need to create an account on http://dashboard.strapi.io/\nwarn: Then, execute `$ strapi login` to start the experience.\n. I followed the readme:\n``\nsylvainlap@CanHardXI:~/DEV/WORKSPACE$ strapi new test\n/usr/bin/strapi: 2: /usr/bin/strapi: [[: not found\ninfo: Your new applicationtestis ready at/home/sylvainlap/DEV/WORKSPACE/test.\nwarn: You do not have a.strapircfile at/home/sylvainlap.\nwarn: First, you need to create an account on http://dashboard.strapi.io/\nwarn: Then, execute$ strapi login` to start the experience.\nsylvainlap@CanHardXI:~/DEV/WORKSPACE$ cd test/\nsylvainlap@CanHardXI:~/DEV/WORKSPACE/test$ strapi start\n/usr/bin/strapi: 2: /usr/bin/strapi: [[: not found\nmodule.js:338\n    throw err;\n    ^\nError: Cannot find module '../Passport'\n    at Function.Module._resolveFilename (module.js:336:15)\n    at Function.Module._load (module.js:278:25)\n    at Module.require (module.js:365:17)\n    at require (module.js:384:17)\n    at Object. (/home/sylvainlap/DEV/WORKSPACE/test/modules/user/api/services/protocols/oauth.js:8:25)\n    at Module._compile (module.js:460:26)\n    at Object.Module._extensions..js (module.js:478:10)\n    at Module.load (module.js:355:32)\n    at Function.Module._load (module.js:310:12)\n    at Module.require (module.js:365:17)\n    at require (module.js:384:17)\n    at Object. (/home/sylvainlap/DEV/WORKSPACE/test/modules/user/api/services/protocols/index.js:4:10)\n    at Module._compile (module.js:460:26)\n    at Object.Module._extensions..js (module.js:478:10)\n    at Module.load (module.js:355:32)\n    at Function.Module._load (module.js:310:12)\n    at Module.require (module.js:365:17)\n    at require (module.js:384:17)\n    at Object. (/home/sylvainlap/DEV/WORKSPACE/test/modules/user/api/services/passport.js:16:22)\n    at Module._compile (module.js:460:26)\n    at Object.Module._extensions..js (module.js:478:10)\n    at Module.load (module.js:355:32)\n```\nDo I have to do strapi login first ?\n. Looks like oauth.js & oauth2.js need\nconst PassportService = require('../passport');\ninstead of\nconst PassportService = require('../Passport');\n. I was making a pull request when I saw your commit ;)\n. Looks like everything is working fine, but still have\n/usr/bin/strapi: 2: /usr/bin/strapi: [[: not found\n. OK for me. You can close it.\n. The possibility to have a one-page doc would be great !\n. You cannot do this natively with Waterline (moreover Waterline will be removed in v2).\nYou have to write a new controller in /api/user/controllers/User.js, and add this new route in /api/users/config/routes.json (or update the /user/:id one).\nSomthing like:\n```\nfindByUsername: function * () {\n    try {\n      const user = yield User.find({ username: this.params.username });\n  if (_.isEmpty(user)) {\n    this.status = 404;\n  } else {\n    this.body = user;\n  }\n} catch (err) {\n  this.body = err;\n}\n\n},\n```\n. ",
    "mocallu": "Hey guys, I have same problem. I tried using fix/shebang branch.\nResult:\n```\nmocallu@mocallu-svf-elementary:~/strapi$ strapi login\n/usr/local/bin/strapi: 2: /usr/local/bin/strapi: [[: not found\nyour Strapi email address \n```\nIt was executed, but with /usr/local/bin/strapi: 2: /usr/local/bin/strapi: [[: not found before.\nI'm using node 4.1.1 on Ubuntu 14.04.\n. Yes, it's working now. Thank you @loicsaintroch!\n. ",
    "ogrotten": "I wanted to delete the issue. It was a local config problem.\n. That would help, yes. However, the main readability problem isn't the font size, it's the font weight of 300. \n. I think it's beautiful! Much more readable.\nI might also suggest not locking these threads. If there winds up being a related problem at some point in the future, the user won't have to start a new issue.\n. Yes it appeared that sails-mongo could not be installed 2nd hand by strapi.\nIIRC, when I was originally experiementing with sails/sails-mongo, I had a stop at kerberos during compile.\n. i'm using 12.5\n(side note: node-gyp is the bane of my existance because it's consistently in the way during installations. It's the main thing that keeps me from setting up on windows as it wants to compile on install, and there's no such thing as a windows 'build-essential')\n. The node-gyp issue is not. However, the ticket is about strapi automated install of a db adapter that fails. In other words, when trying to use a feature of the app (set up mongodb), the feature is unusable. \nI'm not suggesting that you fix the node-gyp problem. I'm suggesting that there may be some solution to get the adapter to install appropriately for strapi's purposes.\n. Not necessarily override, but i'm suggesting that perhaps there's another solution... something like load your own working install of the failing lib, or install a precompiled binary, or use even an altogether different solution for the same function.\nI obviously am just a guy using your app so am not privvy to the details, but what I'm suggesting is that there may a way to make strapi work past this particular problem in a way that isn't immediatly obvious. Because, whatever the reason and unless I missed something, strapi currently isn't useful with mongodb.\n. It is a UX problem, to be sure.\nI think a simple solution which doesn't change the current method at all would be to show the creation date on the dash right there with the project name. This doesn't require extra access as the date is on the package.json file. \nstrapi init could also contain a number of commands for general maintenance of a project...  regenerating the secret key, renaming the proj, perhaps even more involved things like changing the database. Seems like feasibly an entire wing of the whole strapi project.\n. ",
    "Aurelsicoko": "Thank you for your feedback @ogrotten! What about if we increase the font size to 18px and apply a darker color like you suggest #444 ?\n. I've made some minors changes:\n- Increased font weight to 400\n- Increased line height to 24px instead of 20px\n- Changed text color to #666666 instead of #777777\n- Changed background color #f9f9f9 instead of #fff\nWhat do you think about those changes?\n. We worked on the Strapi Studio the whole day. Maybe we broke something. We will investigate asap ;)\n. The Studio comes with the v1.1.0 in a few days. This is not released yet.\nWe are improving the documentation to help users to understand as much as possible our ecosystem. The \"Strapi Studio\" is on the list of the stuff to improve. \nThe new documentation version will be released in the next few days.\n. Each application connected to the Strapi Studio has a unique identifier. This identifier is available in the ./config/global.json file. We could display it before the project name?\n. @loicsaintroch A unique name for every app of every user would mean that the CLI $ strapi new <appName> should return an error in case this name already exists?\n. I think our current solution is the best. We already have a unique identifier. In my opinion, this is an user experience problem, not a technical problem. \nWe can't require an Internet access. If the Strapi Studio connection failed for many reasons, we have to create another command $ strapi init to identify this project with the Strapi Studio. This will return and give an  identifier to the project. \nMoreover this command could be very interesting to change and get a new identifier for a project. Currently, we have to create a new app with the existing CLI $ strapi new <appName> and copy the files into it to change our identifier.\n. I added the unique identifier next to the app name, and also the creation date to be sure there is no confusion. You will see those changes in the next release.\n. Hi @GeoffreyEmery, thank you for your feedback!\nDid you take a look at the F.A.Q. ? We have a specific question concerning your behavior.\nHowever in your case, I think this is writing permission issues in your project. Can you change the writing permissions to 777 in your application directory and tell me if it works?\n. Are you using Linux? Can you show me your logs when the server is started? And last question, which version of Node.js do you use?\n. Thanks for the video! We'll release some updates on the Studio and the framework very soon! I hope this will fix your issue.\nWhich version of Strapi are you using ($ strapi -v)? Can you also take a screenshot of your browser console? I don't know where the bug comes yet from but we'll find it. :) \n. I suggest moving from koa-ssl to koa-sslify. koa-sslify looks more maintained and popular. The middleware offers more options such as Azure support and reverse proxies. We can't stay on an unused middleware without any update since 2 years.\n. @dj-hedgehog async/await seems buggy on V8 5.4 and have some nasty memory leaks... I will create a branch koa@next and start moving to Koa v2. Furthermore, it requires --harmony-async-await flag to start. The harmony flag is not recommended for production use. However, the strapi-v3@alpha will not be ready for production use so it is not a real problem for now.\nFYI, I'm following this thread on Koa's repository to get in touch.\n. I started my work on the branch improvement/koa2. It works pretty well. It seems faster to load. Furthermore, we don't need generator functions into our controllers anymore.\nI used koa-convert to convert the middleware which are not ready to work with Koa2.\n. @StevenACoffman Thanks for the link! I was wondering if we should move to the official CORS's middleware for Koa (https://github.com/koajs/cors). It provides the exactly same features and this middleware is highly maintained by the Koa core team.\n. @StevenACoffman Me too... I moved to the official package today on the branch improvement/koa2 and it works fine!\n. FYI, we are using koa-generic-session instead of koa-session. Also, we are no longer using koa-graphql by default. As I previously said, the GraphQL support will be available through a plugin.\nSummary of changes we made:\n- koa-static has been replaced by koa-better-static\n- koa-cors has been replaced by kcors (official package)\n- koa-session has been replaced by koa-generic-session\n@dj-hedgehog I'll let you update the middlewares' list. Thanks for your time!. @dj-hedgehog Thank you so much! I can tell you that's Koa v2 could be a game changer in the next months. I'm very excited about the next release of Node without the harmony flag for async/await.\nHere a summary of my feedback:\n\nReducing the codebase (from 20% to 50% in some cases) thanks to async/await.\nThe codebase is more readable and understandable.\nBetter error handling. (Btw in v3, we created a errors middleware based on top of Boom which automatically formats the errors and considerably reduces the number of try/catch patterns in your codebase)\nI haven't notice performances improvements for now.\n\nWe should switch as soon as Node will allow using async/await without harmony flag. We are already working on big projects with strapi@alpha.2. It's so nice and most natural to develop an application like that.. Except for Lusca, the others middlewares have been updated and we can almost say that Strapi has successfully made the transition to Koa 2. I'm closing this issue because it's not relevant anymore. Thanks to everyone involved in it!. @senikk Which version of Strapi do you have on your machine? Thanks for your feedback, I will take a look asap ;)\n. Sorry for the delay! We solved this issue. You will be able to see this on the next release of the Studio.\n. We solved this issue too! You will be able to see this on the next release of the Studio.\n. @senikk: Thanks for your feedback! In my opinion, if we do that, we should extend your request to all sub attributes such as autoIncrement, unique, index, primaryKey, etc. However as you know, we're talking about moving to another ORM. That's why it's difficult to us to add this new feature in the Studio because those attributes are specific to Waterline.\n. The Studio only overrides the model file (ex: Article.settings.json) and generate new API folder.\n. Which Waterline adapter are you using? I think the problem comes from Waterline... Sometimes it seems the values are not populated in the response object.\n. No, your relationships look good. I will take a look at it tomorrow There is an issue but it's strange because we didn't notice this before. The GraphQL support has not been updated for 2 months.\n. Fixed! I had the same behavior. Thanks for your detailed feedback.\n. Totally agree! Furthermore with an email address in the \"username\" field that can provoke some bugs during the server start.\n. @sylvainlap I also read that the Promise constructor is throw safety. I don't know why we used the common deferred anti-pattern... This is a good timing because we have to rewrite the generators to consider our move to Bookshelf. Thanks!\n. @kulakowka: Your request is impossible on the current version of Strapi. You should create a new endpoint like GET /article/:relation/:relationId and add to your controller something like this:\njavascript\n// In your Article.js controller\nfindRelation: function * () {\n  this.model = model;\n  try {\n    this.request.query.where = {};\n    this.request.query.where[this.params.relation] = this.params.relationId;\n    this.body = yield strapi.hooks.blueprints.find(this);\n  } catch (err) {\n    this.body = err;\n  }\n}\nIn the next version with JSON API support, your request will be more easy to do http://localhost:1337/user/1/articles\n. @zth: Thanks for your kind words and support! Currently, you can't protect the GraphQL query with policies and permissions. No one already did that during the development of this feature a few months ago. We already thought about that but it's not our priority for now.\nWe're adding JSON API support which allows doing the same things as GraphQL to select specific fields in your request. If you have time to submit a PR to support this feature, we'll be glad to help you doing that!\n. @k20human: This behavior is right, the model name are capitalized (see here), so the right global variable to access to your model should be Roleright or Checklistemployee in your second example.\n. @k20human: I thought about this issue a lot, and I am hesitating a little bit on the right decision to make.\nFour scenarios are possible:\n- Uppercase the first letter: \n  - roleright would become Roleright\n  - roleRight would become RoleRight\n  - Roleright would become Roleright\n  - RoleRight would become RoleRight\n- Camelcase: \n  - roleright would become roleright\n  - roleRight would become roleRight\n  - Roleright would become roleright\n  - RoleRight would become roleRight\n- Capitalize (current): \n  - roleright would become Roleright\n  - roleRight would become Roleright\n  - Roleright would become Roleright\n  - RoleRight would become Roleright\n- Uppercase first letter + Camelcase (current):\n  - roleright would become Roleright\n  - roleRight would become RoleRight\n  - Roleright would become Roleright\n  - RoleRight would become RoleRight\nThe last one seems to be the right one to me. What do you think about that? It will be included in the v3.0.\n. @k20human: Perfect! I will do it in the next days. Thanks.\n. No activity on this issue. If the problem appears again, feel free to reopen it.\n. This feedback concerned the v2. Please take a look at our latest blog post to understand how we deal with this version. The Studio will still be alive during the next month but all the features in the Studio will be open-sourced so the use case you described will not be possible anymore.\nI don't close this issue because some things are still useful for the v3.0. Thanks again!\n. @dj-hedgehog: Could you submit a PR for that?\n. strapi-bookshelf will not be a plugin. It already a hook available as strapi-mongoose in our new mono-repository structure (already available for the v2.0). As I said, I will publish the v3.0 asap. Before that, we have to migrate the repositories to another organisation because the wistityhq will no longer exist. You will be able to access to the strapi-generation-migrations and make PR on it. It has nothing to do with the plugins.\nDo migrations are broken on the enum attribute only or on others things too?\n. Hi @markus138!\nYou can't move your code in config/environments/dev. For security reason, the Studio only works when the environment is called development. To fix your issue, try to undo your changes and move your configurations in config/environments/development.\nI hope this will help you!\n. It should be fixed with the v3.0@alpha. As we said in our latest blog post, the v2.0 has been released but only for people which need it. Please don't start a new project on the v2. Use the v1.5.4 at this time.\n. Hi @sulemankm!\nWe have some troubles with our mail server. We are based on Mandrill, but the service was shut down, two days ago. To resolve your issue quickly, I recommend you to go on our public Slack. One of the team core's member will discuss with you to fix your problem.\n. Thanks @dj-hedgehog! LGTM\n. @abelsoares & @pierreburgy: What seems the best solution for you? We could ignore the database.json by adding it into the .gitignore file at this time. What do you think about that?\n. @sdbondi: Should we find a solution into the configuration files (in a project) to disable hooks? We could create a new file called ./config/hooks.json. This file could be also useful to manage the hook load order. What do you think about that?\n. @dj-hedgehog: Good idea! I added the labels. It will be more readable. Thanks for the suggestion.\nYes, this is already possible to disabled hooks in the /config/environments/.../server.json file. However, we might create a specific file for it. As you know, it is possible to load external hooks. Sometimes, a hook needs to be loaded after another one. Currently, we added (in the v3) a key called nextTo in the package.json but when I think about that, this is maybe not the right way to do it because this is not very dynamic... A dedicated file could be a better option. Thanks to this file, you could disabled or enabled hooks, and also manage the load order. With the arrival of plugins, we should face to the same issue... I would apply the same behavior for plugins and hooks.\n. @sdbondi @dj-hedgehog so I pushed on a new branch configHooks some work. However, I still not comfortable with it.\nThe file hook.json looks like this:\njson\n{\n  \"hooks\": {\n    \"core\": {\n      \"bodyParser\": true,\n      \"cors\": true,\n      \"cron\": true,\n      \"favicon\": true,\n      \"gzip\": true,\n      \"i18n\": true,\n      \"ip\": true,\n      \"logger\": true,\n      \"lusca\": true,\n      \"proxy\": true,\n      \"responses\": true,\n      \"responseTime\": true,\n      \"router\": true,\n      \"session\": true,\n      \"ssl\": true,\n      \"static\": true,\n      \"views\": true\n    },\n    \"websockets\": {\n      \"websockets\": true\n    },\n    \"external\": {\n      \"mongoose\": true\n    }\n  }\n}\nI would like to be able to manage the hook order in this file too. Currently, this behavior is possible thanks to the nextTo key in the package.json. However, this behavior is limited to external hooks. It means that if I want to load the hook mongoose before router, it is not possible.\nWhat I had in mind is to simplify this hook.json again. Then, load the hooks in the order defined in this file. And keep the parts independent (core, dictionary, models, web sockets) by continuing the load of the others parts if a hook crash.\njson\n{\n  \"hooks\": {\n    \"bodyParser\": true,\n    \"cors\": true,\n    \"cron\": true,\n    \"favicon\": true,\n    \"gzip\": true,\n    \"i18n\": true,\n    \"ip\": true,\n    \"logger\": true,\n    \"lusca\": true,\n    \"proxy\": true,\n    \"responses\": true,\n    \"responseTime\": true,\n    \"mongoose\": true,\n    \"router\": true,\n    \"session\": true,\n    \"ssl\": true,\n    \"static\": true,\n    \"views\": true,\n    \"websockets\": true\n  }\n}\nThe business logic behind that is a little bit more complicated and I suppose it will take more time to check if we need to load the hook or not. Despite this, it will be easier to manage for the user.\n. I close this issue because the features have been added in the new version. Thanks again for your suggestions, guys!. No activity on this issue. If the problem appears again, please feel free to reopen it.\n. Thanks for having highlighted this issue. This is not our purpose to handle polymorphic relations at this time. I close this issue because this is not in our roadmap for the next months.\n. @eikaramba This our way of thinking too! The admin panel should be an abstraction layer of interfaces. It should allow you to easily manage and display your metrics in only one and unique interface. If you need to do some granular research or analysis, you could go on the dedicated interface offered by the third-party service. To achieve this goal, we have to fill our marketplace with a lot of plugins with basic features (ex: users & group, media library, upload) and third-party integrations (ex: Stripe, Mailchimp, AWS, Slack, and much more).\n. @junland: I love your last proposal! This really sounds like Treeline, Zappier or Flows (Stamplay). However, we also want to be able to offer chainable actions. Our ecosystem will be built around plugins and APIs,  IMHO this kind of feature is a \"must-have\".\n. @ShaneXie: We are so sorry for our lack of communication the few last months. We have been very busy. We are fully dedicated to Strapi from now. Our vision is well defined, and we know where we want to go! Strapi will not be a framework. Strapi will be a Content Management Framework. A great and easy tool to manage and synchronize your content (data, media) on multi-devices through an API. This new way of thinking does not change a lot of things for you, there will still have a framework, and an extensible administration panel. But we are thinking as an ecosystem where everything will be plugin.\nI'm very surprised that nobody quoted Hapi as the framework to use. I really like the approach, it could be very interesting with our future plugins.\n. @junland: Strapi will never be a CMS. Our framework layer is very important. This layer gives the flexibility that every web project need. That's why, we think that the Content Management Framework is a better acronym for us. The directory structure will not change. However, we will add a new plugins folder at the root of your project. Some plugins will be added by default but there will not have some kind of required plugins. \nThe --dry command could be a good option to set up a Strapi project without the administration panel and without default plugins. Despite this, we don't want to be a framework. Our goal is to be an easy-to-setup and all-in-one solution to quickly build powerful APIs, and sometimes without writing any single line of code. The Node.js ecosystem and front-end developers need a solution which takes advantages of the CMS world (administration panel + plugins) and the frameworks (flexibility + plugins).\n. @ivan-saorin Thanks for sharing your opinion! Did you suggest that the dashboard should be able to work with React and others? Currently, the main issue is that a React Component is not compatible with an Inferno Component for example. That's why I believe that the Web Component Standard will solve the problem. IMHO, we should be patient instead of trying to create a new kind of abstraction layer to be able to work with any framework...\n@paulocoghi Thanks for the link! What are the main differences with UI library like React, Preact, Inferno?. @paulocoghi @ivan-saorin Thanks for your answers! I'm sorry for the delay. We were very busy last two weeks. But anyway, I really like your attention and vision here. You're perfectly right! The main possible issue will be the compatibility and the migration to the next version of React in the future. However, the pursuit of performance has no end, and this is not an argument for switching to a framework to another one. React provides great performances until proof of the contrary. Svelte looks promising and what I like the most is the vanilla JS module compilation.\nIn our case, we have to consider two others things:\n- Have an easy-to-setup and easy-to-use solution.\n- Attract new contributors.\nReact is more attractive than Svelte. There are a lot of resources and tutorials and most of the frontend developers are using it. So, React is the winner and that's why we have chosen it.\nFrom a developer perspective, I know this is not optimal but unfortunately, we have to make hard choices. We can't have the best design, the most performant framework and also continuing to move forward. The most obvious example is RethinkDB. If you didn't read this, you should. Currently, React is the best choice for us, IMHO. We can ship new features quickly, the community is active, it works well and that's sufficient for now.. Very interesting discussion... but I think most of you are missing that we're building an ecosystem. It means that our goal is to provide hundreds of plugins to the community. Each plugin has its own front-end. Do you imagine that every plugin's developer should develop the back-end and three different implementations of the front-end (React, Vue, Angular) part (admin)?\nThe community could help but it means that the ecosystem won't be equal if you're using React, Vue or Angular. It would also drastically reduce the growth of the ecosystem. I really like the idea but it seems almost impossible to implement or it implies that the full ecosystem will be available with React and the implementation would be partial for the others front-end frameworks Vue & Angular.. Also, I read that some of you think we started the project is 2016. It's true but we are really working on it since July 2017 (~11 months). React isn't the reason why it takes so much time to build Strapi. We're facing many challenges which aren't all related to the development part.\nThis year, we structured the company, we improved our workflow to manage the community and release new features, and we were also very busy at something that will be revealed soon!\nPS: We're hiring, feel free to take a look at our open positions. I agree. This feature could be awesome! We will add the auto-reload feature in the v3.0 milestone. Thanks for your suggestion. We appreciate!\n. Good idea! As @pierreburgy has already said, we created a specific repository for this. We will push in it a strapi-starter-kit and a more complex app built with Strapi. Feel free to submit your app if you have already done a project, this could be awesome for the community!\n. Did you install nodemailer?\n. Try to update your package.json like below and run npm start. It should work!\n...\n\"scripts\": {\n    \"start\": \"NODE_ENV=production node server.js\"\n }\n...\n. @franzos You need to remove the && in your command NODE_ENV=production strapi start. @AnorakTech Did you try to run this command NODE_ENV=production npm start?\nI tested it again and it works as expected.. @nicolasform As you know, we are working on the next version, and we decided to spent to a \"maintenance only\" mode for the current v1.5.5 to only patch critical issues. Thanks for your great work! It will definitely help us for fix this issue on the Content Type Builder plugin.\nHowever, I was just thinking about that, you can make a PR on this repository, I will be easy for us to push a new release for you guys. What do you think about that?. LGMT! Thanks @dj-hedgehog for this PR \ud83d\udc4d \n. Reminder: This is still a WIP, don't try to use this version in production. It is not ready yet. We still have some issues to fix and features to add. The plugin's business logic needs to be implemented.\n. LGTM! Thanks \ud83d\udc4d \n. Strapi provides a complete user management system. You can't update this default API through the Studio. That's why, you can't see it.\nFor more details, check out the documentation.\n. Strapi has some \"default\" APIs (or pre-developed) such as User, Email, Upload. These APIs can be manually removed by deleting them in your app's directory. Without these APIs, the administration panel cannot work. Then, these APIs are very common to each project. That's why we decided to add them automatically when you generate a new project.\n. > Without these APIs, the administration panel cannot work. \nYou can't update these API through the Studio to avoid the risk to crash your app or to break the administration. This is a security precaution. We are open to discussing this choice. Should we allow an update to these API, through the Studio? What is your opinion on it?\nPS: The Studio will no longer exist, don't forget to take a look at our blog. What we call the \"API Builder\" will become a plugin which will be hosted on your machine.\n. Don't worry, it is always a pleasure to speak about Strapi!\nThe reason is pretty simple. Most of our users on the Studio are beginners. They use it to prototype their app without writing any single line of code. That's why, we decided to limit the scope of actions on the \"API builder\". We don't pretend to have made the right decision on this part. Your feedback is very interesting!\nAs you said, a visible warning could be a great alternative! @gonzalomass, what is your opinion on this?\n. @gonzalomass: Yes, you can edit the user API by making changes in the /api/user/**/*.js files. The Studio does not provide this option but Strapi is just a set of files hosted on your computer.\n. Thanks for opening this issue @szelee. This is definitely something we need to improve on the v3.\nIMO, we have only one solution to solve this. We should use the ES6 template syntax to allow dynamic values.\nFor example, a configuration's file could look like this:\n\"connections\": {\n    \"permanent\": {\n      \"adapter\": \"mysql\",\n      \"user\": \"${DB_USER}\",\n      \"password\": \"${DB_PASSWORD}\",\n      \"database\": \"${DB_NAME || 'test'}\",\n      \"host\": \"127.0.0.1\",\n      \"migrate\": \"alter\"\n    }\n }\nThis is pretty easy to implement and the JSON syntax is valid.\n. Merged on master.\n. Did you try to add an appPath key in your configuration's files? Because the default path is process.cwd() if no path has been defined (more details).\n. Which database are you using? Can you try to reset to UTF-8 your database?\n. What value are you trying to insert? On your screenshot, we can perfectly read the value \"default\" which is an english string too. Can you show us your model, please?\n. Is the same exact value in the database? The issue concerns more the Waterline ORM or your database than Strapi, though.\n. Hi @iocron! This issue is caused by your node.js version. Strapi (v1.5.4) is not compatible with Node v6. This is a known issue, and this will be fixed on the v3.\nYou don't have to run $ strapi login to use Strapi. This command will be necessary if you want to use the Studio, our set of online tools to create an API without write a single line of code.\n. @gabrielperales This is a great alternative too. The v3 will use the native Promise object to fix this. Thanks for your help!\n@iocron I'm glad that you found a way to make Strapi work! Thanks for your kind words about the v3. I hope you will like it! Can you (or I) close the issue?\n. @laclance What's your Node version? Do you have the exact same issue?\n. Hi @sbacem! On the current version (v1.5.4), you can't use another ORM. The default ORM is Waterline. But, on the next version (v3), we will use Mongoose as a default ORM. Moreover, it will be possible to use others ORM. However, the entire Strapi ecosystem (plugins) will be only compatible with Mongoose.\nYou should take a look at our blog to get some fresh news about the v3.\n. Hi @dj-hedgehog! Can you give more details and code snippets of your frontend and backend?\n. Hi @theccc! Is the server trying to reconnect to the Studio? \n. Did you change some configurations? That's really weird... Did you try to create a new app and transfer your files on it, as well?\n. Thanks, keep me informed ;)\n. @theccc Any news? Did the transfer of your project fix the issue?\n. @sbacem: You can't directly generate an API with 2 controllers and models like the User's API through the CLI. To do that, you have to execute the following command strapi generate api <YourApiName> two times. Then, copy/paste the files of the second API into the first one. I know this is not ideal but this is the better solution I have for now.\nAs you said, the link between the User model and the others should be optional. The link will be removed on the next version because the User's API will not be required.\nCurrently, we can't generate a controller, model or service into a specific API's folder. This could be very interesting. This is not a priority but this is a very interesting use case. I will add it in the future for sure. So, I put this issue in the v3 milestone. Thanks for your contribution :)\n. You're welcome! We are really excited too. I hope you will enjoy it. Stay tuned!\n. What's your origin host? Did you set the Access-Control-Expose-Headers with the value my-host:8080 in your request? If not, the request will be rejected.\n. I need more information to know what happened. Are you sure your app is running on port 80? Moreover, can you show me the controller on which the /category route is pointed to?\n. Can you log this.params in your controller and show me the results? The value should be {ref: 'mod-formation'}.\nThen, can you try to hard code this in your controller? And show me the results too? \nCategory.find({ref: 'mod-formation'}).exec(function (error, categories) {\n   console.log(categories);\n});\n. You missed the first log. What's the value of this.params when you request the URL localhost/category?ref=mod-formation?\n. Thanks! Sorry, but I need to understand why your URL doesn't work. Can you log this.query instead of this.params? Moreover, what's the results if you do this:\nfind: function * () {\n    ...\n    try {\n      let entries = yield strapi.hooks.blueprints.find({ref: 'mod-formation'});\n      this.body = entries;\n    } catch (err) {\n      this.body = err;\n    }\n  }\nPS: I know this is not the solution. I just want to know if the issue is related to the blueprint method or to the parameters sent to it.\n. @sbacem Thanks! So, I watched into the code. As I suspected, you have to define your criteria into a where key. If not, the criteria will not be considered.\n``` js\n// Look up the model.\nconst Model = actionUtil.parseModel(_ctx);\n// Init the query.\nlet query = Model.find()\n  .where(actionUtil.parseCriteria(_ctx))\n  .limit(actionUtil.parseLimit(_ctx))\n  .skip(actionUtil.parseSkip(_ctx))\n  .sort(actionUtil.parseSort(_ctx));\n```\nIf you don't want to, you should use the native Watermine methods Category.find(...).exec(...); instead.\n. Also, the tests fail but it will be fixed on the branch feature/validations.\n. Currently, Strapi is using his own middleware based on top of Winston (https://github.com/strapi/strapi/blob/master/packages/strapi/lib/configuration/hooks/core/logger/index.js).\nkoa-morgan looks great, I really like the predefined format and the fact that we can write logs to a file. Then, it allows using a custom token format which is a great news. I don't think we can keep available all these configurations with JSON configuration files, though.\n. Thanks, @pkoretic. I will take a look at your library. Are we able to write the logs into a log file?. We are using Pino which is one of the fastest logger available on the market. I'm closing the issue because it's not relevant anymore. Thanks again for this discussion, it was very interesting.. Can you show me the new entire file, please? Looks great, though.\n. As you know, we didn't plan to provide a LTS on the v1. We are focusing on the next version (v3). This issue will not be fixed and we will not release another version of the v1 on npm.\nI close this issue. However, we can still work on it to find a solution for your project. Please send me a PM on our Slack.\nThanks for your understanding.\n. Can you try to downgrade to Node v4? It should fix the issue. Strapi works only with Node v4 (and older)\n. What happens if you remove your updates and stay on Node v4? I just tested it yesterday and it worked well.\n. Is the issue fixed?\n. @fishmacs Can you send me your app again on Slack? I will try to fix the issue.\n@pkoretic I recommend using Node 4 LTS for Strapi v1.5.4. Concerning the master branch, you can test it but some breaking changes could happen. We need to improve our session management, integrate the administration panel, and make optimisations. As you rightly stated, please don't use it in production!\n. @fishmacs Is this issue fixed on your side? As you know, I tested your app and it works well on my machine.. This is weird! I used the same npm and Node version as yours... And it works well on my side. I send you a PM on our Slack. I hope that we can find and share the solution on GitHub for helping others people.. I close this issue. The problem comes from Babel or wrong Node.js version... If it turns out that the issue comes from Strapi, please feel free to reopen it.. I'm not sure to really understand... Maybe, are you confused between JWT authentication and session? When you are using JWT, you don't need a session store.\nHowever, I worked this morning to change our session management system because it was limited. We switched to koa-generic-session to handle different session store such as Redis, Mongo, PostGreSQL, ... You can check out the commit here.. See #176 . This issue has been fixed. You can found the patch and some explanations here (https://github.com/strapi/strapi-generate-users/pull/28).. Thanks for the suggestion! It could be interesting for the new dashboard. It will not be implemented in the current version, though.\nI add an enhancement label to assign this issue to future milestones.. Thanks for this issue!\nOn the next version (v3), Strapi uses koa-sslify to handle SSL. Currently, Strapi only supports the reverse proxy case. Despite this, I recommend managing SSL on a higher level which means with a Nginx server in front of your Node.js app.\nI know that the support could be more complete, and we have to improve the SSL support on Strapi. But, we should also separate that from the core, IMO. It could be an external hook or a dedicated plugin.. I'm giving you updates on this one. We decided to remove the SSL middleware from the Strapi core. There are many reasons for that. The first one is that with the new HTTP/2 protocol integrated into the core of Node.js, a lot of things are going to change. Then, we recommend handling SSL using nginx or Caddy. They are better than Node.js to do this and it's a very common architecture. \nWe will write tutorials to explain to everyone how to implement SSL with Strapi.. @SupremeTechnopriest I recommend you to read this article from RisingStack.\n\nThere\u2019s a catch, however, as browsers only support HTTP/2 over SSL. SSL termination is a CPU intensive task so it should be handled by the edge proxy. Nginx supports all the functionality HTTP/2 provides since its 1.13.9 release. It is a best practice to have an edge proxy in front of your Node server, so you can expose port 80 and 443 as you don\u2019t want your Node process to run as superuser and this way you can setup HTTP push and TLS termination outside your server code.\n\nIt's a very common pattern to use a nginx in front of a Node.js server.. Okay, it makes more sense! However, it's not the right thing to tell that the project is \"shit\" because we don't want to handle the SSL part. We're doing the right thing (best practice) and avoid bad performances for our users. I know it can be tricky (especially in your case) but it doesn't mean it's our fault.\nThis good practice doesn't come with HTTP/2, it has always been the right way to handle SSL with a Node.js server. It's not something new. Also, Koa is one of the best frameworks in Node.js with Express and Hapi. It handles perfectly the async/await pattern, it's more lightweight and performant than Express or Hapi. You don't need to agree with it, it's just fact. \nAnyway, I wish you good luck with your project and I hope you'll be able to find a solution.\n\nTake a look at this middleware https://www.npmjs.com/package/koa-sslify, you can install it in your project and inject it in the Koa stack easily from the ./config/functions/bootstrap.js file or create a custom middleware.\n```js\n'use strict';\n/\n * An asynchronous bootstrap function that runs before\n * your application gets lifted.\n \n * This gives you an opportunity to set up your data model,\n * run jobs, or perform some special logic.\n /\nconst enforceHttps = require('koa-sslify');\nmodule.exports = cb => {\n  // Force HTTPS on all page \n  strapi.app.use(enforceHttps({\n    trustProtoHeader: true\n  }));\ncb();\n};\n```. @SupremeTechnopriest I'm sorry you encountered some many issues. We are doing our best to make the product better and better. However, please respect our work and the community members who are trying to improve the product every day.\nI think you misunderstand what open-source is. It means that if you have bugs you can report them or fix them. You're not paying anything and no one forced you to use Strapi. If you're not happy with it, it's okay but please doesn't tell us it's crap. We are humans, not robots. Nothing is perfect, especially when the project is still in alpha...\nI'm locking this conversation, we don't want to see bad comments like this. You can complain but there are some basic rules that need to be respected.. We are using xo, check out the package.json file.. Can you tell me how you get these results? xo is running on each commit to be sure to have a strict and readable code. \nHere are my results after running xo:\nbash\nstrapi/packages/strapi/lib/configuration/hooks/core/router/index.js\n  110:7  warning  Unexpected 'todo' comment  no-warning-comments\n  181:9  warning  Unexpected 'todo' comment  no-warning-comments\nBtw, I'm not against testing others libraries to apply linter rules to our code. xo was our first choice because it was very easy to configure and we are happy with it.. The current package.json has these following configurations:\njson\n\"xo\": {\n    \"space\": true,\n    \"esnext\": true,\n    \"envs\": [\n      \"mocha\",\n      \"node\"\n    ],\n    \"globals\": [\n      \"strapi\"\n    ],\n    \"ignore\": [\n      \"packages/strapi-generate-new/files/public/**\",\n      \"packages/strapi-generate-admin/files/admin/public/**\",\n      \"website/**\"\n    ],\n    \"rules\": {\n      \"array-callback-return\": 0,\n      \"brace-style\": 0,\n      \"camelcase\": 0,\n      \"default-case\": 0,\n      \"dot-notation\": 0,\n      \"no-case-declarations\": 0,\n      \"no-else-return\": 0,\n      \"no-eval\": 0,\n      \"no-implicit-coercion\": 0,\n      \"no-lonely-if\": 0,\n      \"no-negated-condition\": 0,\n      \"no-throw-literal\": 0,\n      \"no-unused-expressions\": 0,\n      \"no-unused-vars\": 0,\n      \"padded-blocks\": 0,\n      \"prefer-template\": 0,\n      \"quote-props\": 0,\n      \"space-infix-ops\": 0,\n      \"strict\": 0\n    }\n  }\nWhen I run ./node_modules/.bin/xo on my terminal, I got the previous results. You can also run npm test to run the complete test suites.. Ok got it! I was running xo from the root of the GitHub repository and you're running xo from the root of a generated app.\nSo, I agree, there is an issue... Thanks for pointed me out! What are your thoughts about xo? Should we move to another linter library?. Thanks for your feedback! With the v3 release, IMO, this is the right time for moving to another library. I will give a try to eslint.. @mamartins Good news! I removed xo and we are using ESLint instead. You can check out the relative commit here. It will be available when the alpha.2 will be released.. Hi @moayyadfaris! You have to go to the administration panel http://localhost:1337/admin/ then go to the Users > Permissions tab and switch the route to Public to be available without authentication.\n. @moayyadfaris Of course, you need to retrieve the JWT on the POST /auth/local url, then using the Bearers header or add a token key in your response body to be allowed to retrieve the data. Do not hesitate to check the User documentation.\n@sylvainlap also published an excellent article on this subject \"How to use the Token Authentication with React and Strapi?\".. Todo:\n\n~~Use enpeem to install npm modules without adding npm as a dependency~~\n~~Investigate on the lost session issue when the server is restarting~~. LGTM.\n\nFuture ROADMAP:\nstrapi@alpha.3\nReorganize the mono-repository. The rule to follow is to only have hooks without which Strapi cannot start or the CLI is unusable.\n- Remove strapi-bookshelf from the main repository\n- Remove strapi-ejs from the main repository\nstrapi@alpha.4:\n- Implement Jest instead of Mocha. (only if we could see performances improvements)\n- Give the ability to create a log file (thanks to Winston).\n- Update the generated API' files with the new pattern async/await.\n- Write some tests.\n- Improve strapi-bookshelf thanks to the work done by @dj-hedgehog and his team. . LGTM.. @Hubel Thanks for pointed this out! It seems related to the https://github.com/strapi/strapi/issues/73 but it's has been fixed https://github.com/strapi/waterline-graphql/commit/21b4ab3715374f0ba8104bf74df99bdd8b1a3b07.\nI will try to reproduce the issue and fix this again, tomorrow morning.. @lunchboxer It seems that there is a real issue here. We are not maintaining the v1 except for critical issues (security). However, we are still accepting PRs and we are able to publish the patches very quickly.\nIf you have time, you can make a PR on this repository to fix that issue.. @lunchboxer For the moment, we don't support GraphQL on v3. However, we will provide a strapi-plugin-graphql by the end of the year.. Thanks for pointed this out! It fixed (see https://github.com/strapi/strapi-docs/commit/af4f9de07fee09f9177de27b80174dea582e44fc). @v3yr0n You should start your project with the v3, IMO. However, you couldn't use the Studio or the dashboard. Also, breaking changes could happen in the near future but the v3 is more and more stable and the changes are minors.. @fivepointseven Hi, we just updated the ROADMAP on master . FYI, the migration from v1 to v3 could be difficult in certain cases. The major changes will be:\n\nNew pattern async/await (could cause major changes in some cases).\nMongoose ORM instead of Waterline (could also cause major changes but the API is quite similar)\nNew way to declare routes (minor changes)\nNew way to declare databases configurations (minor changes)\n\nThe others changes are added features so it will break nothing in your current apps. Moreover, I must remind that the v3 doesn't support GraphQL for now. We are focused on the new dashboard and our new plugin-based architecture. We will support GraphQL in the near future but this is not our priority. \nWe will write two guides to help you during the migration step:\n- From v1 to v3\n- From v2 to v3\nWe also plan to build an example project to make easiest for the community to understand what are the major changes in the new version. This is a big step forward for us, we're trying to do our best!. @v3yr0n We are working on it! We plan to release a beta version in the early part of April.. @fivepointseven The way to declare your associations will be the same so it will be easy. The most difficult part for you will be to find a way to migrate the data.... It's an old issue, but the interested people, we wrote a migration guide from v1 to v3.. There is no more activity on this one. Please feel free to open it again, if you need to.. Thanks for this PR. We really appreciate it. However, this has to be merged on the alpha.4 branch and not on the master branch. Can you change that?. @gusgard Great suggestion! There was already a task in the ROADMAP dedicated to this (see https://github.com/strapi/strapi/projects/1#card-454004), however, I added it into the current ROADMAP to check again if we are doing the things right.. @simoami Thanks for reminding us this. But the project is moving fast, and we are just talking here about having a yarn.lock file. It still lets the ability to the Strapi' users to use npm if they want to.. Hi @io777, this a very common issue on Strapi v1. To fix it you need to downgrade to Node 4 LTS and it will work like a charm. FYI, the next version (v3) of Strapi will be compatible with Node 7.. @lazaridis-com Thanks, I would love to see what you have in mind, feel free to share! We will rewrite the entire documentation for the next version so I think we have a big challenge here. \nThe Strapi Studio will be removed so the getting started will be easiest to understand, IMO. However, we need to put more examples in the new documentation. We also plan to create an example app such as ApolloData did with GitHunt.. Thanks for sharing your thoughts! You're right, we didn't take the time to update the current documentation because we are already focused on the next version. We know that we made mistakes and we're trying to fix them.\nLet me know when your JS eval is ready, I will take a look and take in consideration your feedback.. @lazaridis-com For now, there are no others solutions. We will fix this version issue by releasing a patch. As I already said in my email, could you be more kindly, please? This is open-source, nothing is perfect, we are doing our best to making things better. We are focusing our efforts on the next version, we already told to the community that the current version will not be updated expected if there is a critical issue on it. \nThe next version is not an excuse to not patch the current one, we learnt a lot about our mistakes on the v1 and we are trying to fix them. You should also read our blog posts to have a better understanding about the current state of Strapi.. @lazaridis-com Your approach is not the good one. You are giving orders. We are here to talk, to share and build something together. We are open to criticals and help. As I said, Strapi is not perfect, and we know that. Instead of just telling that things are bad, the documentation is a bad, you could also offer your help or making more constructive answers to help us.\nI'm sorry if we misunderstood each other.. @FabioSilvaBRZ I think there is a misunderstanding. I was asking to open a PR to update the package.json in the strapi package to fix the installation process because some branches aren't longer existing. \nTo do that, you need to fork the alpha.4 on your own GitHub account, make the changes and open PR to compare your alpha.4 branch with the alpha.4 of the official Strapi repository. That's why I asked you to list on this issue the package' paths that need to be updated.\nI close this PR. Feel free to open a new one if we want to make the changes. Thanks for your time. I appreciate \ud83d\udc4d . Thank you @sbacem for your perfect answer. @zhoub as the logs tell you, you have to downgrade to Node >= 4.8.0 to use Strapi v1.5.5.\nI close the issue.. Great work @pierreburgy! We should also update the dependencies to ensure the test are okay before merging on master.. Awesome work on this one! LGTM except that I generated an API using this command strapi generate:api john--Doe. The folder name was okay johndoe but the collectionName attribute in the model was john--doe. It should be johndoe instead.. @jakobrosenberg Sorry for the delay! Thanks for your PR, we really appreciate. As you know, there was an issue during the installation process of the v3. This issue was more complicated to solve than expected. It was mainly due to deprecated dependencies. We fixed this and the installation process on the alpha.4 based on your great work.\nI invite you to check this PR to see how it's working now. \nThank you again for your time. I'm closing this issue.. Interesting... To be sure to understand, can you give an use case? And maybe, how could you imagine these models with our JSON syntax?. I'm closing this issue because of lack of activity.. It makes sense. It's not a priority for us, we can still use Strapi without the inheritance. However, I agree that it could be great to be able to handle it. If you make a PR, we would be happy to merge it!. Not sure to understand what you're talking about, can give us more details and examples?. You can already do that with our models. Let's take the same example:\n```js\n// Pets\n{\n  \"attributes\": {\n     \"ownerId\": {\n       \"model\": \"User\" // Refers to an user.\n     },\n     \"animal\": {\n       \"model\": \"Animal\" // Refers to an animal\n      }\n   }\n}\n// Animal\n{\n  \"attributes\": {\n     \"kindOf\": {\n       \"type\": \"Enum\",\n       \"values\": [\"Cats\", \"Dogs\", ...]\n     }\n   }\n}\n``. I'm closing this issue because of lack of activity.. @gkweb Sorry for the delay... Did you take a look at thestrapi.adapters.mongoobject to check if thenative` method is exposed or not? \nReference: https://github.com/strapi/strapi/blob/v1.5.5/lib/configuration/hooks/waterline/index.js#L76 . @ellipticaldoor Thanks for your concern about the v3! We fixed the installation process this morning on the alpha.4 branch. You can run the following command to install Strapi v3 on your computer.\ngit clone git@github.com:strapi/strapi.git -b alpha.4 --single-branch && cd strapi && npm run setup. @zengxinle Thanks for this issue! I published a patch strapi@1.5.6, let me know if it fixes the issue on your side (https://github.com/strapi/strapi/commit/087cb6e5ecadf20b2b980881d88555c5076d8033).. Sorry, it should be fixed, we just published a patch on npm. It was caused by changes that we made  yesterday.. You shouldn't be able to start the server with another Node.js version than 4.x.x. You can't use Strapi v1 with Node v5/6/7.. It seems that you forgot to launch a MongoDB instance? If this is not the case, please check that the connection name is the correct one in your Blarg.settings.json file.. @GreenGremlin I don't think this is mentioned in the documentation because there is no documentation for the v3 (not released yet). Does it work when you run a MongoDB instance?. I'm closing this issue because of lack of activity. The issue has been fixed in the latest releases.. Perfect answer @dj-hedgehog! Thanks \ud83d\udc4d . I close this issue, we just released the v1.6.0 of Strapi which supports Node v4+.\nhttp://blog.strapi.io/release-v1-6/. This feature is not on our roadmap and we won't do it. Thanks for the suggestion though.. As you may know, we are actively working on the new version (v3). We won't develop this feature in v1. So I'm closing this issue.. We are aware of these difficulties to switch to a database to another one. However, it's very difficult to handle without having the risk to lose data. It's not our priority for now. We recommend choosing the final database from the beginning of your project development. \nIn your case, I suppose there is an issue with Postgres that could be caused by Waterline.\nI'm closing this issue, feel free to open it again.. We already moved from Waterline. We are compatible with Mongoose and Bookshelf, and we could integrate more ORMs in the future. If the ORM can only handle SQL databases, it's easy to switch between databases. The real issue is when you need to switch from SQL to NoSQL.\nWe chose to start every project with MongoDB because it's schemaless and avoid the migration part for beginners. I'm pretty sure we will provide a way for the future to start with SQLite and easily migrate to a SQL database. However, as you know, it will take time and right now, we are focusing on the next release to stabilize the current ecosystem and solution. This kind of enhancements will come later. I hope you understand our position.. Sure, we have to make hard choices sometimes. For newcomers, it's easiest to start with MongoDB than SQL databases. However, most of the times, SQL databases are a better choice than NoSQL. That's why we decided to take sides to handle both.\nYour arguments are completely understandable and your idea is one of the solutions to explore to solve this issue. We have in mind to develop a disk database that follows the Mongoose API to easily switch between disk to MongoDB. Then, I think that using SQLite for prototyping for SQL users could be a great alternative. However, the user has to make a strong choice at the very beginning of his project.. @JunQiGenYuan I'm sorry but you have to implement it manually. See the Customization Section in the doc.. @GHNewbiee What are the logs in your terminal? . Thanks for the feedback!. LGTM.. What do you mean by calculated properties? Do you have an example of what you're doing? Thanks for your answer, it could help us to add this use case during the design of the new version.. @kudo108 Not in our plan right now, but we could definitely add that in the future \ud83d\udc4d. We're heading to this kind of new features, don't worry! However, we need time and real use cases before implementing them.. @chuyik Thanks, it fixed!. Thanks for reporting this issue! As you know the v3 is still under active development so it will be fixed quickly and more especially thanks to the release of the alpha.4 on npm.. The alpha.4 isn't released yet. We are aware of this issue and we will fix it for the alpha.4 release. Sorry my sentence wasn't very clear.... @YUFENGWANG We plan to release at the end of September. The release also means a brand new website and documentation. However, we will release new alpha versions before and you will be able to test it.. @dj-hedgehog These are just warning, the installation process should work though. They are due to npm@5 which seems to not well support the npm prune command with the new package-lock.json file. That's why, we decided to not commit these files until hile npm@5 is more stable.. I'm closing the issue, it has been fixed in the next release alpha@5.. LGTM! Thanks for this contribution @dj-hedgehog \ud83d\udc4d . @piscis Thanks for reporting this issue. Do you have any logs that you can share with us to try to understand what happens?. It's done! The server starts though but a warning message is displayed to inform the user that he should run npm install strapi-mongoose.. LGTM.. LGTM. LGTM except that we need to remove the rule of ESLint that doesn't allow to update a function parameter... It makes no sense.. LGTM. LGTM.. LGTM. LGTM. LGTM. Yes, you need to change the settings of the connection that relates to your model User. You can find more info on this StackOverflow thread on how to connect MySQL to Strapi (v1.6.3).. I'm closing this issue because of lack of activity. Feel free to open it again.. You can also take a look at this specific article writing by the npm team. \nI'm closing the issue, feel free to open it again.. LGTM.. @lunchboxer Sorry for the delay... You're right, this is a mistake, we should definitely check the URL of the Studio instead of pinging Google. I'll be happy to merge your pull request. You can make one on the 1.6.3 branch.. I merged your PR in the 1.6.3 branch. We will release the 1.6.4 with your updates this Friday. Thanks again for your contribution!. LGTM, you still need to resolve the conflicts caused by the package-lock.json file.. Hi @JunQiGenYuan, thanks for pointing this out! I'll be happy to merge your pull request if you can make one. We didn't have time to fix the issues on v1.6.3, the entire team is focused on the new version.. Thanks a lot for your work! LGTM.. Interesting... I like the idea but you can also use a service for that? Our goal is not to override the ORM we are using such as Mongoose or Bookshelf to be able to follow the new releases and patches the maintainers are doing on them.. I'm closing this issue, feel free to submit this feature request on the Community Vote page.. LGTM.. LGTM \ud83d\udc4d. LGTM. LGTM. LGTM.. We removed this middleware a few weeks ago so it should not be an issue anymore. Thanks \ud83d\udc4d. Thanks for reporting this issue. We fixed it this morning!. LGTM \ud83d\udc4d. LGTM \ud83d\udc4d. LGTM \ud83d\udc4d. LGTM \ud83d\udc4d. LGTM \ud83d\udc4d. LGTM. LGTM (user test needed though) \ud83d\udc4d . @jakobrosenberg Can you open an issue? Thanks :). LGTM \ud83d\udc4d. @edimitchel Thanks for reporting this issue! I'm not sure to understand what's the issue here? The error messages are correct and the validations work fine on my machine.. \nI tested on both string and  text type.. Yes, it works as well. Try to reload your page. I'm sorry but I can't reproduce your issue, I need more details.\n. @mrikirill  Can you give me a filename or more details about the error? Moreover, please give me the steps to reproduce the error by myself. Thanks!. @mrikirill Thanks for these details! Did you create the table in your database? What happens if you create one?. Thanks for your feedback! I will take a closer look tomorrow.. @bbjansen It has been fixed, a patch will be released tomorrow.. This issue has been fixed on v3.0.0@alpha.6.4.. LGTM \ud83d\udc4d. It will be pushed in the next release. Thanks guys for pointing this out!. @TheAnimeSenpai It seems related to our router. There is already an issue with a PR opened on this package. We are thinking to fork this repository and publish it ourselves to fix this issue.. We just forked koa-router-joi on our own organization. We made fixes and updated the package the koa-router dependency to the latest version available (https://github.com/strapi/strapi/pull/293/commits/7b02da60b2312ec7ef1ceec3c2611fdf1be7d4d5). This issue should be fixed thanks to the v3.0.0@alpha.6.4 release. Feel free to re-open it if it's not the case.. Thanks for your contribution @spruce. We really appreciate \ud83d\udc4d . @spruce Can you give me the concerned links?. This issue has been fixed on v3.0.0@alpha.6.4.. LGTM. LGTM. LGTM. LGTM. LGTM \ud83d\udc4d. LGTM. LGTM . @matseriksen You can protect the API endpoints defined in the /api/**/config/routes.json by applying policies to the routes. However, we are working hard to secure the API endpoints defined by the plugin themselves. That's why we don't recommend to use the alpha version in production right now.. Thanks for your contribution! LGTM \ud83d\udc4d. @alfirin Not yet! You can only have static translations for the time being. In your case, you will need an i18n plugin that will allow you to add entries in different languages. I can't give you a date or a quick solution for your issue.... @alfirin No, but we have an example app using the native i18n feature. I hope it will help you :). You can already do that with the models that depend on strapi-bookshelf (SQL databases) but I guess it's missing from the documentation.\n```json\n{\n  \"connection\": \"default\",\n  \"options\": {\n    \"increments\": true,\n    \"timestamps\": true,\n    \"comment\": \"\"\n  },\n  \"attributes\": {\n     ...\n  }\n}\n```\nNote: You need to create these columns  yourself. More details on Bookshelf documentation.. Thanks, @w0rldart for this proposition. However, we don't plan to offer this feature. One of our goals is to make choices and we already did make it for Strapi in the indentation case. The lower the number of configurations is, the easier is to use the product. And we want to keep Strapi the most simple as possible.. LGTM \ud83d\udc4d. You're right, we should also support local installation. However, I would suggest making a PR to support local installation because it's not one of our priorities for now.. LGTM \ud83d\udcaa. @ogonkov Thanks for this contribution. It works as expected. The user experience is better when Strapi is installed globally and the folder structure too but I completely understand that you prefer a local installation.\nLGTM \ud83d\udc4d. I've made a local installation with your PR (#317) that I'm going to accept and I wasn't able to reproduce the bug. I need more details about your Mongo connection because the issue seems located into the strapi-mongoose hook.. @jakobrosenberg Maybe you found something... Can you confirm me that you're running the server in a development environment? Because if it's not the case, make sure you also update config/environments/production/database.json configurations.. @jakobrosenberg The core doesn't cache anything but require method does. It could be related... I just created a pull request (https://github.com/strapi/strapi/pull/344) to fix it.. LGTM \ud83d\udc4d. LGTM \ud83d\udc4d. @Redni It's a known issue on our side. That's why we are saying that you shouldn't put in production a project using the alpha version. A lot of fixes will be released this week but not the good ones in your case. A pull request has been opened https://github.com/strapi/strapi/pull/325 to detach the admin panel from the core framework.. This issue has been fixed https://github.com/strapi/strapi/pull/325. It will be released in the next release alpha.7 in December.. @Redni Can you show me the line 18 in the Letter.js controller? It should be \njs \nconst data = await strapi.services.letter.fetchAll(ctx.query);\nSo, do you have a Letter.js service in ./api/letter/services/Letter.js?. @kmathy Thanks for the kind words! We really appreciate :)\nI think you found an issue! You're right strapi.hooks don't exist, everything is singular. So  strapi.hook is the right path. Feel free to submit a PR by following the CONTRIBUTING guide.\nCan you log console.log(this) in the findOne function?. The issue has been fixed, I close. Feel free to open it again if a similar issue comes in.. @clubery You're right, we highly recommend to use Node v8.x to use Strapi. We are using the latest available pattern so it won't work with the previous versions of Node.js.\nI'm closing this issue, feel free to open a new one if you find an issue using Node v8.x.. Can you try with another user to check if the issue is related to space between Code CI? The issue seems more related to Node.js module resolution than Strapi... Do you already have an issue like that with others frameworks?. Fixed https://github.com/strapi/strapi/issues/318. LGTM \ud83d\udc4d . Thanks for this contribution @mmmmmrob!. @svallory Thanks for reporting this issue! Can you give us some log details, please?. @nickngqs Thank you for the feedback! Maybe we should open the first tab of the accordion?. I agree. I will make some design research to find a way to improve the UX of this page.. We are working on it, this is a known issue on our side. It's mainly due to the postInstall script which is in charge to install the node_modules of the plugins.. It should be fixed with the latest release. Feel free to reopen the issue, if it still doesn't work.\n   . @lkostrowski Sure, it could be interested to share your logs to understand what happened in your case. Thank you for your kind words!. @franzos Yes, it was a mistake on our side. The collection names were pluralized without any reasons. We are now using singular table/collection names. You can force the collection/table name using the collectionName attribute in your models or rename your collections/tables.. @nicroto @maturano We can reopen it to investigate again but it seems more related to npm than Strapi. The package.lock never worked for me whatever the project I'm building. I'm constantly adding it in the .gitignore file to avoid this kind of issue.. Great work @soupette \ud83d\udc4f. Elle l'a, elle l'a \ud83c\udfa4 \ud83d\udc4d. @Almusamim Thanks for reporting this issue. Can you try to make a one-to-one relationship following the documentation?\nCan you show me the structure of your models to reproduce the issue on my machine?. I double-checked... and it's crazy! We didn't implement the one-way relationship in the connectors but documentation is already there.\nI added this feature with high priority in our roadmap \ud83d\udc4d. You're right, we didn't implement the one-way relationships in the UI. You can up-vote this message if you think this is really important for you. Otherwise, you can do it manually by following the documentation https://strapi.io/documentation/guides/models.html#one-way. @rojasmi1 You can define the order with the - character. GET /user?_sort=email or GET /user?_sort=-email. \nYou're right, this information is missing from the documentation.. The documentation has been updated https://github.com/strapi/strapi/pull/400!. @peeomid Can you try to lowercase your collection name? \njson\n\"types\": {\n   \"collection\": \"picturetypes\",\n   \"via\": \"pictures\",\n   \"dominant\": true\n}\njson\n\"pictures\": {\n  \"collection\": \"picture\",\n  \"via\": \"types\"\n}\nBtw, we are going to merge a new branch that will drastically improve the errors returned by the framework to know exactly what attribute is wrong in your models.. Amazing! . @jbcoder Are you sure that your MongoDB is running? What are the models defined in your project? I would be nice if you can share your project in a public or private repository (don't forget to add us temporarily).. Let me know if the issue is fixed and don't forget to close it ;). @sudip1072 Can you format your previous message by using the codeblocks, please? Thank you. Did you set the host domain in your build configuration (see the documentation)? You will need to rebuild the administration panel then.. The administration needs to know the host (IP or domain) to work well. I've added a new section in the documentation to explain How to deploy.. It should be fixed in the next release with these changes https://github.com/strapi/strapi/pull/431. Sure, we would love to add a WYSIWYG in the Edit view. However, we didn't consider it as a proper type but more like an option to check in the Advanced Settings of the Text type.\nIf you want to work on this part, can you join the Slack and ping me (@aureliengeorget) in DM. I have screens to share with you.. @erwstout We are working with @gluxon on it! Then, it will be one of our priority in the next weeks. I can give you a date but it should be available in March/April. We need to develop the Upload feature first and make the project more stable first. Feel free to vote on the Community page!\nI'm closing this issue because we're already considering it and it's one of our top priorities.. @gauravarora91 We are not a CMS. We want to create an ecosystem to build any kinds of APIs (Content, Product, Service, Real-time, ...). So, you can use Strapi as an headless-CMS or as a Node.js framework with a dashboard, etc.\nIt's not such a big task but right now we are focusing our effort on the Upload feature and fixing the issues. The rich text editor support is our next step.\nDon't forget it's an open-source project and we are giving 100% of our time to the community. I know that many people are waiting for the WYSIWYG support but please don't tell us what we should do and how to do it.... > Everyone is looking for a Wordpress/PHP alternative for Node.js [...]\nYou've perfectly defined our vision. We know that and I will publish a blog post this week to explain our way of thinking and what's coming next. You've highlighted an important point, it's too complicated to create a plugin right now and the current plugins (we could name them the \"core plugins\") are not extensible enough. However, we're still in alpha and we can still change many things to improve the product.\nThank you for your feedback, I really appreciate when the discussion is constructive \ud83d\udc4d . @paulintrognon CMS means Content Management System. We don't like the words Content and System because it means that you stuck in a system and you can only manage content. \nWe have a different approach. We are designing Strapi as an ecosystem based on a framework to manage data. It means that we're returning raw data (JSON) and you can customise the backend as you want. Almost everything can be disabled or customised.\nYou can use Strapi as a CMS but it's only one way to use it. There are different usages! You can also use Strapi as an API to serve a mobile app, etc.\nWhen we started developing Strapi, we were looking for a simple way to create API (whatever the usage) with an administration panel in JavaScript. Something like WordPress without the imposed content-types (Articles, Comments, Pages, Tags, etc) which only return data, not pages. Moreover, the plugins are the core of WordPress and we definitely want the same thing on Strapi. As we already said in our blog posts, a marketplace is certainly the best way to involve a community. It's the perfect place to publish, share and reuse plugins developed by others.\nBtw, the WYSIWYG is going to be released in the next release!\n\nEdit: My previous statement wasn't clear enough, if you want to know more, please take a look at this thread on Twitter.. @Knovour Please give us more insight on our public roadmap (https://portal.productboard.com/strapi/c/37-wysiwyg-html-editor). @bytasv Can you make another test with the latest release version alpha@8.2. It should be fixed! Feel free to close the issue if it works \ud83d\udc4d . @dakuenjery Can you answer my request in the PR? So we could merge your work and close this issue.. The PR has been merged, it should be fixed!. It stored as a string in my case (?). It seems logical because you are applying the .toString() method on the value (but without that, it doesn't work...). I've updated all my software related to Mongo to make sure they are supporting the new Decimal128 data type.\nBy the way, can you update the Mongoose version to 5.0.0-rc1 in the strapi-mongoose package and also replace this line (https://github.com/dakuenjery/strapi/blob/master/packages/strapi-plugin-content-manager/admin/src/containers/Edit/index.js#L162) with the new array of supported number types?\njs\n} else if (['float', 'integer', 'biginteger', 'decimal'].indexOf(currentSchema.fields[e.target.name].type) !== -1) {\nThank you, I will merge your PR when it will be done. Great work \ud83d\udc4d . Thank you @dakuenjery for your work!\n  . @mehdi-cit We already deployed projects that handle millions of requests each month without any issues. Also, the dashboard is a front-end project that you can put on another server to ensure that only your backend (API) have to scale. \nWe are open to making support to you and your team if you need to. Please send us an email at support@strapi.io.. Thanks for sharing this library, I didn't know it. It could be very interesting the build the SQL part based on it. I'm closing the issue but feel free to continue the discussion if you have more to share with us.. @mehdi-cit We already developed something very similar to Prisma two years ago (https://github.com/strapi/waterline-graphql). We will base our future work on it.. Yes, it is but the logic will be the same. Instead of calling Waterline functions, we will use our Query system to call the CRUD methods on the right connector (strapi-bookshelf or strapi-mongoose).\nWe designed the new version of Strapi to ensure that REST routes and GraphQL queries could easily live together. We are a big fans of GraphQL but right now its only represents <5% of the API market. Our vision is to simplify the development of APIs (REST and GraphQL included). \nFeel free to vote for the GraphQL feature on our community vote page. I'm personally very excited about this plugin and this new feature. It will make Strapi the first solution to support both way to querying data and facilitate the transition between both ways of thinking APIs.. @vinaybedre Currently, we are making our best to support the types which are available in MongoDB and also in SQL databases. Then, we will implement the more specific types that each database can support. For example, the array of objects isn't supported in MySQL but it's the case with MongoDB. However, we need to build the layer of the common and shared types across the databases first.\n\nNote: I guess, you can use the JSON type in your model to support array of objects (https://strapi.io/documentation/guides/models.html#define-the-attributes). @Khanji \n\nIf you want to contribute to Strapi and enable the development mode, you have to follow these steps:\n\ngit clone git@github.com:strapi/strapi.git\ncd strapi\nnpm run setup\n\nThen, generate a project somewhere else using the development mode:\n\nstrapi new myDevProject --dev\nstrapi start to run the server\n\nOpen a new tab in your terminal (at the root directory of your app), and run the admin:\n\ncd admin\nnpm start\n\nTo resume, you will have two servers running. The Strapi server on the port 1337 and another one, the administration panel that will run on the port 4000. . @dakuenjery By fish shell, you mean this? The setup process is very tricky and relies on several process.env.*** paths. If they are not correct, it can't work.. Can someone show me the error and logs you got? It's weird because it works well on our machines and many others members are able to contribute. I hope we can fix it asap to accept your PRs or let you edit your projects.. @decimoseptimo It seems the issue is now related to Windows... It's not a priority for us right now, we would love to have a PR to fix it btw \ud83d\udc4d . @edimitchel @franzos I'm currently working on it. We removed these attributes in production environment. More changes are coming, it's a very tricky part that involves many cases and I don't want to introduce more breaking changes so... Wish me good luck!. @edimitchel @franzos @lkostrowski We made a lot of changes in the WebPack configurations (https://github.com/strapi/strapi/pull/431). You don't need to rebuild the plugins whatever the case and you only have to rebuild the admin in some cases (where the admin is not hosted on the same server as the API). The documentation has also been updated. I hope it will fix the issue.. The PR has been merged yesterday. It should be released today.. Guys (@edimitchel, @tmvanetten, @franzos @lkostrowski), can someone test with the latest version (alpha@8.3)? It should be fixed. We were able to deploy on Heroku and AWS.. Woooohoo! This one wasn't easy to fix. So many use cases to handle... Feel free to comment and reopen the issue if necessary.. Good work @lucaperret \ud83d\udc4d . Thank you for your work @lucaperret! It's great to see active contributor like you \ud83d\udc4d \nCan you read my comment and come back to us with the necessary updates?. It's okay but as we discussed together, we should merge the common logic into the strapi-admin or strapi-helper-plugin to unify the way to handle this overlay. Also, it will give to the plugin's developer the ability to use this nice feature without any effort.. LGTM \ud83d\udc4d . It has been fixed in this commit (https://github.com/strapi/strapi/pull/431/commits/9031ff1799e5aa4c285a6acedbafe125c2a189e6#diff-9644d9780d0570bf4d1528fc66540eb6R378). It should be released quickly.. It has been fixed on alpha.8.3. Feel free to reopen the issue if it still doesn't work.. As @alexanderwallin said, try to remove the port number from the host URL.\n```json\n{\n   \"defaultConnection\":\"default\",\n   \"connections\":{\n      \"default\":{\n         \"connector\":\"strapi-mongoose\",\n         \"settings\":{\n            \"client\":\"mongo\",\n            \"host\":\"ds045867.mlab.com\",\n            \"port\":46727,\n            \"database\":\"myDb\",\n            \"username\":\"myUsername\",\n            \"password\":\"myPassword\"\n         },\n         \"options\":{  \n     }\n  }\n\n}\n}\n```. @gourraguis @LasaleFamine Did you create the first user of your mLab database? If yes, are you using the username/password of this user to connect?\nIt's a common mistake to forget to create the user on mLab. The UX is pretty bad.... @rcorzogutierrez Are you looking for a documentation front-end that will list the API's routes, etc?. Interesting... You can submit this feature on the Community Vote page to help us to prioritize the most wanted features! I'm not sure this one will be our priority in the next months but it could be nice.. @Amurmurmur As Jim said, we are moving them in the database. It's not related to security issue but to scaling issue. We are iterating on the product and it was the easiest way to implement quickly the permissions system at first. Now, we are having enough feedback from the community, we figured out that it won't scale on large projects. \nWe are trying to store the configurations as much as we can on JSON files in the server instead of the databases to remove unnecessary requests to the database. But sometimes, we have to go back and put some of them in the database.. It's caused by the log.txt file at the root of your project. Also, to avoid the restart you have two choices:\n\nRun your server using npm start\nDisabled the auto-reload feature https://strapi.io/documentation/configurations/configurations.html#server. @kevinskyba You're totally right! We should hide sensitive data coming from User model. We will fix the issue in the next release.. @mikedevita It has been fixed. We introduced a new property private in the models that allows you to hide model's attributes from the server responses.. This file is used to load the plugins into the administration panel (https://github.com/strapi/strapi/blob/master/packages/strapi-admin/admin/src/app.js#L92). The administration panel, the plugins and the backend can be on different servers so it helps us to load the plugins correctly.\n\nWe did that to avoid the backend (API) to expose the installed plugins. However, there might have a better way to do this... . No, it still impossible until Zeit doesn't allow to write files on their servers. As we are not storing the models in database (which make sense), we have to be able to write the files and generate the folders in the project when you're creating a new API (aka Content-Type).. The Content-Type builder is disabled in production, it means that you can't create files new content-type in production. However, it doesn't mean that Strapi doesn't write files in production. I'm thinking about the plugins.json file which is written at every start.\nDoes it cause any issues?. @thetre97 It's not done yet... The community doesn't seem to understand this decision. I trust the Zeit team and I'm blown away by their work but the vendor lock-in seems to be a valuable argument to don't remove the Docker support.. @trburgess Thank you for raising this issue! You're right, we should add the configuration in the documentation to be more transparent. As the disclaimer explains, we are only using these logs to improve the product and to know more about how the community is using Strapi.\nI'm going to add a new task on our work board to make sure we will update the documentation to easily disable the tracking of usage statistics.. Sure, we should only send in parameters the necessaries configurations to make it better. Currently,  we did it like this to make it easy to update the executed function without impacting the projects.\nEdit: The problem will be solved by encrypting the function with our private key and decrypt the code in the project using a public key that we are going to add in the core of Strapi. So, we will remove the base64 hashing (it's useless).. @trburgess Fixed https://github.com/strapi/strapi/pull/572. I remember that GraphCMS relies on GraphCool, so they can't open their backend. Also, it doesn't make sense for them to do that. Their business model hasn't been thought about a full open-source strategy in mind like we're doing.... This feature will be implemented. Please upvote and give us more insights via Product Board (https://portal.productboard.com/strapi/c/10-custom-fields).. @lucasdu4rte It seems related to https://github.com/strapi/strapi/issues/510. @memolipd @dj-hedgehog There is also a member (@lucaperret) which is working on a similar issue. We discussed it and one of the solutions is to enhance the strapi new command line. The purpose is to be able to pass arguments like that strapi new myApp --dbhost=locahost --dbport=1337 --dbusername=root --dbpassword=root into the command line to avoid the interactive part of the CLI.\nPS: It's not the same issue but I was thinking you might be interested in it and maybe share your thoughts about it.. I think we can close this issue, feel free to continue the discussion though.... @alexanderwallin Sure you can do it by editing your /production/server.json file like this:\njson\n{\n  \"host\": \"${process.env.HOST}\",\n  \"port\": \"${process.env.PORT}\",\n  \"autoReload\": {\n    \"enabled\": false\n  },\n  \"cron\": {\n    \"enabled\": false\n  }\n}. @harshilsharma63 Not sure the clearly understand the issue here... Can you give us more details?. @acoreyj The solution to this issue is to add a real JSON field in the UI. Currently, @soupette is working on the WYSIWYG field and one of his next steps is to develop the JSON field component. I can give you a release date but it should be available in the coming weeks (~6 weeks).. The PR (https://github.com/strapi/strapi/pull/507) also introduces new changes concerning these lines.. Thank you for this PR, we fixed it in another PR and it has been merged on master.. I totally agree! Thank you for raising this feature request @niallobrien \ud83d\udc4d . It's on the roadmap! Please vote on the dedicated page to prioritize the development of this feature. . As I already said to you, did you try to run the following commands before launch npm install at the root of your project?\nI took a look at the Shell.JS project that we are using and there is no issue about the root permission. . @yeomann So it was caused by the symlinks? Can you submit a PR to fix them? The symlinks are created in this file (https://github.com/strapi/strapi/blob/master/packages/strapi-generate-new/lib/after.js#L165).. @seamug Thank you for this feature request!  You're not the first one and host the data on Firebase isn't one of our priority. We are working to integrate Strapi with DaaS such as mLab, Mongo Atlas, etc. Maybe we will integrate Strapi with Firebase though.. @nodox We already have two connectors Mongoose and Bookshelf. I didn't check how we could support Firebase but it could be a great thing \ud83d\udc4d . @tohagan @samlogan @JREAM Are we agree that you're using Firebase as a database only? Because it offers a lot of others features such as push notifications, authentication, etc. I would like to know what exactly you're looking for with this integration?. @samlogan Thank you for the answer! We will consider a new connector to Firebase but if you need it now, the best way is to contribute to the project and create the strapi-hook-firebase package \ud83d\udc4d . I've created a private card on Product Board (you can see the public roadmap here). I'm closing this issue because we've enough information and use cases to develop the feature. However, this is not our priority and we would love to see the community create the connector. Feel free to ping me if you want more details.. @dakuenjery Can you provide the models of the Content Types (pagetypes and pages)? Also which databases are you using? I would be able to take a look when you will give me these details. Thanks!. I think you're not using the right relation type. Try to use many-to-many relationships instead. If a Page belongs to many PageTypes and a PageTypes can belongs to many Page, it's not a one-to-many relationship.. @gstazure Try something like that\njs\n// Cards.settings.json\n{\n  \"connection\": \"default\",\n  \"collectionName\": \"cards\",\n  \"info\": {\n    \"name\": \"cards\",\n    \"description\": \"\"\n   },\n  \"options\": {\n    \"timestamps\": true\n  },\n  \"attributes\": {\n    \"cards\": {\n      \"unique\": true,\n      \"type\": \"string\",\n      \"required\": true\n     },\n    \"name\": {\n      \"model\": \"contact\"\n    }\n  }\n}\njs\n{\n  \"connection\": \"default\",\n  \"collectionName\": \"contact\",\n  \"info\": {\n    \"name\": \"contact\",\n    \"description\": \"contact\"\n  },\n  \"options\": {\n    \"timestamps\": true\n  },\n  \"attributes\": {\n    \"name\": {\n      \"collection\": \"cards\",\n      \"via\": \"name\"\n    }\n  }\n}. @dakuenjery We already moved these configurations into the database in the latest version alpha@9. Check out the migration guide and the problem will disappear.\nI'm closing this issue because it was a known problem and the latest version fixed it. Feel free to reopen if the issue is still here.. @faebeee Check out my comment on another issue, you might be interested in it.. I'm closing this issue because it's more like a feature request and @lucaperret is already working on it... Feel free to reopen if there is no activity or implementation in the next weeks.. @memolipd You're right, we are using the default.json file (https://github.com/strapi/strapi/blob/master/packages/strapi/lib/middlewares/cors/defaults.json) right now to set the default value for the middleware.. I tested two times on my machine (Mac) and I wasn't able to reproduce. I'm going to test on Linux and come back to you.. Okay, so I wasn't able to reproduce on Ubuntu. Here my process:\n```bash\nubuntu@ip-172-xx-xx-xx-xx~/strapi$ git clone https://github.com/strapi/strapi.git\nubuntu@ip-172-xx-xx-xx-xx~/strapi$ cd strapi/\nubuntu@ip-172-xx-xx-xx-xx~/strapi$ chmod -R 777 ./\nubuntu@ip-172-xx-xx-xx-xx~/strapi$ mkdir ~/.npm-global\nubuntu@ip-172-xx-xx-xx-xx~/strapi$ npm config set prefix '~/.npm-global'\nubuntu@ip-172-xx-xx-xx-xx~/strapi$ export PATH=~/.npm-global/bin:$PATH\nubuntu@ip-172-xx-xx-xx-xx~/strapi$ source ~/.profile\nubuntu@ip-172-xx-xx-xx-xx~/strapi$ npm run setup\n\n@3.0.0-alpha.9 setup /home/ubuntu/strapi\nnpm run clean:all && npm install && node ./scripts/setup.js && npm run clean\n@3.0.0-alpha.9 clean:all /home/ubuntu/strapi\nnpm run removesymlinkdependencies && rm -rf package-lock.json && rm -rf packages//package-lock.json && rm -rf packages//node_modules\n@3.0.0-alpha.9 removesymlinkdependencies /home/ubuntu/strapi\nnode ./scripts/removeSymlinkDependencies.js\n\nnpm notice created a lockfile as package-lock.json. You should commit this file.\nup to date in 3.408s\n\ud83d\udd53  The setup process can take few minutes.\n\ud83d\udce6  Linking strapi-utils...\n\u2705  Success\n\ud83d\udce6  Linking strapi-generate...\n\u2705  Success\n\ud83d\udce6  Linking strapi-generate-api...\n\u2705  Success\n\ud83d\udce6  Linking strapi-helper-plugin...\n\u2705  Success\n\ud83d\udce6  Linking strapi-admin\n\ud83c\udfd7  Building...\n\u2705  Success\n\ud83d\udce6  Linking strapi-generate-admin...\n\u2705  Success\n\ud83d\udce6  Linking strapi-generate-new\n\u2705  Success\n\ud83d\udce6  Linking strapi-mongoose...\n\u2705  Success\n\ud83d\udce6  Linking strapi...\n\u2705  Success\n\ud83d\udce6  Linking strapi-plugin-email...\n\ud83c\udfd7  Building...\n\u2705  Success\n\ud83d\udce6  Linking strapi-plugin-users-permissions...\n\ud83c\udfd7  Building...\n\u2705  Success\n\ud83d\udce6  Linking strapi-plugin-content-manager...\n  Linking strapi-plugin-content-manager...\n\ud83c\udfd7  Building...\n\u2705  Success\n\ud83d\udce6  Linking strapi-plugin-settings-manager...\n\ud83c\udfd7  Building...\n\u2705  Success\n\ud83d\udce6  Linking strapi-plugin-content-type-builder...\n\ud83c\udfd7  Building...\n\u2705  Success\n\u2705  Strapi has been succesfully installed.\n\u23f3  The installation took 7 minutes and 25 seconds.\n\n@3.0.0-alpha.9 clean /home/ubuntu/strapi\nnpm run removesymlinkdependencies && rm -rf package-lock.json && rm -rf packages/*/package-lock.json\n@3.0.0-alpha.9 removesymlinkdependencies /home/ubuntu/strapi\nnode ./scripts/removeSymlinkDependencies.js\n```. @redni In your case, it's because the relations hasn't be made correctly. Check again your models and the documentation.\n\n@storm1er Change the type Decimal to Float. And it works. The Decimal type is not well supported by Mongo and the implementation seems not optimal right now.. @harshilsharma63 Thank you for raising this issue! Right now, the only solution is to remove this NOT NULL condition. . Try to set the /config/hook.json timeout value to 5000\n. It seems that your SQL database is not running. Make sure you provide the right connection information to connect Strapi to it. I can't reproduce your issue. The error is happening in the ./plugins/users-permissions/config/functions/bootstrap.js because there are many requests done in this file and they can't be executed because the connection to the database doesn't exist.. @mittalyashu Sure, Strapi only provides a Node.js HTTP server with a dashboard to manage the data. We don't launch a MongoDB ou SQL database automatically. That's why, when you run strapi new myApp we ask about your database details to connect Strapi to it.. @Yobikap What terminal are you using? It seems more related to the library that we are using to display the prompts.. @derrickmehaffy Thank for this feature request! Currently, it's not possible and it's not our main priority. However, the feature is already listed on the Community Vote page and you can vote for it if it's important for you.. Try to add a slash at the end of your URLs.\njson\n{\n \"admin\": {\n   \"build\": {\n     \"host\": \"http://admin.dev.domain/dashboard/\",\n     \"backend\": \"http://api.dev.domain/\",\n     \"plugins\": {\n       \"source\":  \"host\",\n       \"folder\": \"/plugins\"\n     }\n   }\n }\n}\nAlso, can you try with a simpler URL like http://admin.domain/dashboard and http://api.domain. The bug could be related to the sub-domain.... @Amurmurmur Currently, the best way is to edit the model provided by the plugin. We already thought to find a way to add attributes to a model without edit the original model but it's not our priority right now.. @typoworx-de @rroblik @derrickmehaffy Hey guys, I just tested and it works like a charm on my machine. Can you give me all the steps to reproduce the issue?\nHere the databases.json file generated after answer to the CLI prompts:\njson\n{\n  \"defaultConnection\": \"default\",\n  \"connections\": {\n    \"default\": {\n      \"connector\": \"strapi-bookshelf\",\n      \"settings\": {\n        \"client\": \"mysql\",\n        \"host\": \"localhost\",\n        \"port\": 3306,\n        \"database\": \"strapi\",\n        \"username\": \"root\",\n        \"password\": \"\",\n      },\n      \"options\": {}\n    }\n  }\n}. @wizysanjay Did you create the database strapi in your MySQL database?. Nice one!. LGTM. Also fix #563. @padupuy Could you provide a PR to implement this enhancement?. @makzimko Perfect \ud83d\udc4c . @wingsiu Could you format your issue with the template provided? Also, for a better experience, we highly recommend using MongoDB. With SQL databases, we can't update the tables and columns automatically for the moment.. @redni You're not using the right syntax in your URL. Take a look at the documentation https://strapi.io/documentation/guides/filters.html. Missing documentation btw. The gist won't work because you're using the Mongoose lean method. So the magic applied by Mongoose is not executed like the transform middleware.\nHowever, the cleaner way to do what you're trying to do is to use the policy.\n./api/testentry/config/routes.json\njs\n{\n  \"routes\": [\n    {\n      \"method\": \"GET\",\n      \"path\": \"/testentry\",\n      \"handler\": \"Testentry.find\",\n      \"config\": {\n        \"policies\": ['cleaner']\n      }\n    }\n  ]\n}\nCreate the cleaner.js policy in ./api/testentry/config/policies/routes.json\n```js\nmodule.exports = async (ctx, next) => {\n  // Execute the controller action.\n  await next();\n// After.\n  ctx.body = dataCleanupFunction(ctx.body);\n};\n``. You need to executetoJSON()` method.\n```js\n// function dataCleanup(data) {\n// ...\nmodule.exports = async (ctx, next) => {\n  await next();\nctx.body = dataCleanup(ctx.body.toJSON ? ctx.body.toJSON() : ctx.body);\n}\n```. @mittalyashu Is this https://github.com/strapi/strapi/issues/561 the same issue?\nI'm working on it. First of all, we need to increase the default timeout for loading hook. I will increase the 1000ms to 3000ms.. @mittalyashu Can you please use the latest version of Node.js? 9.5.0 with npm 5.6.0. And try again. It's strange because it should work with MongoDB. Also, make sure, you dropped your Mongo collection before creating a new app.. @mittalyashu It seems that the server cannot connect to your MySQL database... It's not related to this issue. Make sure your MySQL database is running.... @mittalyashu You need to install and run the MySQL on your own. You can use Mamp (Mac) or Wamp (Windows) to easily run a MySQL database.. @victorkurauchi Thank you for the suggestion! I'm pretty sure we will head to this kind of feature in the future. I don't see any problem to implement it. However, it's clearly not a priority for us right now.\nTo be more precise, in your description you talk about 1 login for 3 different applications. It means that you need to have a main API to manage the authentication for everyone or having the same database for all the APIs. It seems to be the more difficult thing in your case. I don't any idea how to implement it but our friends at Drupal already resolved it so maybe we could take a deeper look and find the inspiration there.. @pt-br We tried to find a way to implement it. We faced many issues to implement it in a generic way. We should give it a try again with @lauriejim, it could be a really great feature \ud83d\udc4d . I've created a card on Product Board (https://portal.productboard.com/strapi/c/44-data-ownership). I'm closing this issue, I think we have enough information and use cases to develop this feature. When we tried to implement it we faced many technical issues due to Mongoose and Bookshelf. I hope we'll find the solution this time.. We are also thinking about using Flow... We will certainly make a survey to ensure the community is following us on this choice. We want to make sure everyone could contribute easily to the project like it's already the case.\n@John0x Can you make a feature proposal on the community vote page? I'm closing the issue because it's not really an issue but more like a feature request.. @John0x It could be awesome \ud83d\udc4d . @TimMensch You're talking about Loopback 4, not LP2. We aren't reluctant to move to TS or Flow but there is a way to explain to a community why we should move to this kind of technology.\nI'm 100% sure as well we should at least use Flow or move to TypeScript. However, even the Facebook team recommends using TS instead of Flow (https://twitter.com/sebmck/status/1056948355941584896). The only cons that I have against TypeScript is the ease to contribute to the project. It's far easier to contribute to a project without TS or Flow. However, the pros are stronger (type-checking, code confidence, etc) and we should definitely move to TS or Flow.\nWe are currently thinking about the implementation of TS for the next major release.. I created a card on Product Board, feel free to upvote and give me more insights (see https://portal.productboard.com/strapi/c/30-support-typescript).. @denislutz Love the idea behind this PR! However, it seems very strange that strapi.log.error because we are often using it in the codebase. \nhttps://github.com/strapi/strapi/blob/7fdbee5dd49953628c5cc171aaf5a3c8e9cc2c2c/packages/strapi/bin/strapi-console.js#L23\nCan you check again and try to implement your PR with these changes? Thank you \ud83d\udc4d . I've more urgent things to do right now. But yes, we will extend the documentation and test the feature with the Upload plugin. It's still a work in progress, please don't use it for the moment. It's very experimental... MongoDB has not been designed to run that kind of queries.. Love the idea! It could be easily handled. It's more like an \"end-user\" issue but as you can see we like clean UI so we definitely have to add this feature in the near future. Recently, we already did something similar with the policies.\n```js\nmodule.exports = {\n  label: 'User authenticated',\n  description: 'Check if the user is authenticated',\n  handler: async (ctx, next) => {\n    if (!ctx.state.user) {\n      return ctx.unauthorized();\n    }\nawait next();\n\n}\n};\n```\nIt allows you to add description and label to a policy. We'll use this label and description to improve the Permissions page in the adminstration panel.. To make a resume on this issue and the related #1055, here are my thoughts:\n\nWe should remove the automatic pluralization of the model' names in the left menu.\nWe should offer a way to customize the link value in the left menu. I thought that the Configurations link at the bottom of the menu can be the right place to do that. It also means that we need to take care of the i18n support (in another iteration?). We won't store the data in files but we'll certainly use the Core Store API.\nWe should create a REST routes & documentation plugin (like Swagger) to be able to generate and customise the documentation, but also edit routes name, policies, etc.\nThe table/collection names are already editable through the Content-Type Builder plugin (Advanced Settings tab).\n\nWe won't be able to ship all of this at once. A good start will be to focus on the two first points \ud83d\udc4d \n. \nAbout the point 2, we shouldn't store in a file. Imagine the case when the marketing team want to rename a link in the menu in production? If we are storing the data in the file, it means that we should deploy again for a minor front-end change... This is not optimal. I still think we should use the Core Store API for storing this kind of front-end information. @denislutz You forgot to edit the template files based on your previous PR. You can easily add socket.io in a strapi project using the bootstrap file.\n./config/functions/bootstrap.js\n```js\n'use strict';\n/\n * An asynchronous bootstrap function that runs before\n * your application gets started.\n \n * This gives you an opportunity to set up your data model,\n * run jobs, or perform some special logic.\n /\nmodule.exports = cb => {\n  strapi.io = require('socket.io')(strapi.server);\ncb();\n};\n```. @pravosleva Please follow the tutorial of @wonknu, it seems really great. Well done! I'm closing the issue, please reopen it if it's necessary \ud83d\udc4d . There are three possible solutions:\n1 - Manually migrate the data from the table users-permissions_permissions development to production as you will have to do using others frameworks.\n2 - Add a way to export permissions and import them in the production environment. But it's not optimal because you have to start the server (at this time, the permissions will be set with default configuration), then import the permissions. So you will have a lapse of time (few seconds) without the right permissions.\n3 - The latest options (3) seems the best to me. It makes sense to me.\n. I would love to see someone try to make some work on this part. We need to improve it but we are too busy to start this work right now.. @storm1er However, if you update the permissions, you need to restart the server if they are stored in a file. That's the main reason it was better for us to move the permissions in the database.. Thank you so much for your research on this topic. Let me resume with my words the potential new workflow:\n\nStore the \"active\" permissions configurations in the database (as we already do).\nBe able to import/export the permissions to a JSON file from the BO.\nThis exported file could be placed in ./plugins/users-permissions/config/permissions.json and manually edited. The framework will use that file to update the \"active\" permissions in the database during the server start or where the administrator clicks on the button \"Recreate permissions\" in the BO.\n\nIt makes sense to me. However, the risk is very high to forgot to export the permissions when you will do a \"quick-fix\" in production... We should display a warning in the BO to inform the developers.\nEdited: We could also rethink the permissions.json file to split it into multiple files. It was too complicated to edit the file manually. . @storm1er I'm actively working on this topic. After hours of reflexion and studies of how the others projects like Drupal are handling this, here my thoughts:\n\nWe should be able to export the configurations using the UI and the CLI.\nA plugin should be able to handle its own export/import strategy (ex: Users & Permissions plugin needs to handle the permissions migration by itself).\nWe should be able to rollback an import.\n\nProposal\nCLI\n\nstrapi config:export to export every configurations (core & plugins).\nstrapi config:import to import every configurations (core & plugins).\nstrapi config:export --core --users-permissions to export specific configurations (core & users).\nstrapi config:import --core to import specific configurations (core only in this example)\nstrapi config:rollback to cancel the latest import and execute the previous one if available.\n\nFile structure proposal\nI think it's the most difficult part. We need to keep it simple but also make it flexible.\n- /config\n  - /sync\n    - /import_1523893204\n      - core-store.json\n      - /users-permissions\n        - application.json\n        - content-manager.json\n        - content-type-builder.json\n        - settings-manager.json\n        - upload.json\n        - users-permissions.json\nI suggest we should add a sync folder where we will put all the data to import. Every import will be named like this import_<timestamp>. In this folder, the core-store.json contains the data which are stored in the core_store collection in MongoDB.  The users-permissions folder contains the permissions split by category. \nWhy I have named it import_<timestamp> instead of config_<timestamp>? \nI think it could also be the perfect place to put our files to seed the database with test data. So, import is more generic and fits better to this future usage.\nThe format of the core-store.json file could be like that to easily compare value between environment.\njson\n{\n  \"plugin_users-permissions_grant\": {\n    \"tag\": \"\",\n    \"value\":  {}\n  },\n  \"plugin_users-permissions_email\": {\n    \"tag\": \"\",\n    \"value\": {}\n  },\n  \"plugin_users-permissions_advanced\": {\n    \"tag\": \"\",\n    \"value\":  {}\n  },\n  \"plugin_upload_provider\": {\n    \"tag\": \"\",\n    \"environments\": {\n      \"development\": {\n        \"value\":  {}\n      },\n      \"production\": {\n        \"value\":  {}\n      }\n    }\n  }\n}\nThe format of the files in the users-permissions folder could be like that:\njson\n{ \n  \"post.create\": {\n    \"roles\": {\n      \"admin\": {\n        \"enabled\": false,\n        \"policy\": \"\"\n      },\n      \"public\": {\n        \"enabled\": false,\n        \"policy\": \"\"\n      }\n    }\n  },\n  \"post.destroy\": {\n    \"roles\": {\n      \"admin\": {\n        \"enabled\": false,\n        \"policy\": \"\"\n      },\n      \"public\": {\n        \"enabled\": false,\n        \"policy\": \"\"\n      }\n    }\n  },\n  \"post.find\": {\n    \"roles\": {\n      \"admin\": {\n        \"enabled\": false,\n        \"policy\": \"\"\n      },\n      \"public\": {\n        \"enabled\": false,\n        \"policy\": \"\"\n      }\n    }\n  },\n  \"post.findone\": {\n    \"roles\": {\n      \"admin\": {\n        \"enabled\": false,\n        \"policy\": \"\"\n      },\n      \"public\": {\n        \"enabled\": false,\n        \"policy\": \"\"\n      }\n    }\n  },\n  \"post.update\": {\n    \"roles\": {\n      \"admin\": {\n        \"enabled\": false,\n        \"policy\": \"\"\n      },\n      \"public\": {\n        \"enabled\": false,\n        \"policy\": \"\"\n      }\n    }\n  }\n}\nIn both file structure proposal, I've always focused my mind to make them easily readable for a human. These files could be manually edited so we have to make them understandable and readable.\nHow a plugin will handle its own migration strategy?\nI suggest that we should introduce two new files export.js and import.js in the ./plugins/**/config/functions folder. The framework will detect the plugin which have a migration strategy. It will make them eligible to be displayed in the UI through the Configurations link.\nWhat do you think about this proposal? I'll try to post some screenshots of the UI in the coming days to show a little bit more how the UI will look like.... We don't have any YAML file in the project. We are always using JSON files, it's easier to manipulate in JavaScript even if there are YAML to JSON converters.\nGreat idea to use a more readable date format \ud83d\udc4d \n\nAs promised, a preview screenshot of the UI. We are also thinking about renaming the Settings Manager plugin to Configurations and make it accessible through the Configurations link in the General section in the left menu. It would make more sense, and we could integrate the Migration part into it.\n. @storm1er We're still focusing our efforts on the stability. Some of our resources aren't available as expected so we made the choice to delay the development of this feature.. Not at all... However, we merged a PR (https://github.com/strapi/strapi/pull/1514) which will certainly improve the transition between environment.. You're right! As this issue is very important, I want to remember that everyone can still comment on it or ping us if needed. We're closing the feature request issues to keep the repository as clean as possible, and we're moving all the features requests on Product Board.. The solution could be to use Shell.js instead of running Linux commands in the package.json scripts. We would be happy to merge a PR to make it work. We know this issue is blocking for Windows users who want to edit the administration panel. We are too busy right now to make a proposal.... @keyus4 You need to create a separate JS file like we already did here:\nhttps://github.com/strapi/strapi/blob/master/packages/strapi-admin/package.json#L23\nhttps://github.com/strapi/strapi/blob/master/packages/strapi-admin/scripts/setup.js. @aaimaawebs It's because you don't have any models in your app, I guess. Please refers to this message https://github.com/strapi/strapi/issues/698#issuecomment-372462360, can you make a PR to fix it? \nYou need to check if the strapi.models['core_store'].orm is not undefined.... We should definitely add it to the ignored files!. I added my contribution to the discussion. It's a very sensitive part for us. We need to take our time.. @abdonrd What's the state of this PR? We found an agreement in this issue https://github.com/strapi/strapi/issues/798. We don't have enough time to make the changes shortly.. @Froelund Really great work! Thank you for this contribution \ud83d\udc4d \nHowever, the documentation is still missing.... @pedrosimao Did you find a way to do that using the polymorphic relations? It's not in our plan to propose a way to migrate from v1 templates to the v3 in the next weeks. If you really need the template system, you should stay on v1 which is stable and production-ready.. @rroblik Try to update the ./config/hook.json file like that:\njson\n{\n  \"timeout\": 100000,\n  \"load\": {\n    \"order\": [\n      \"Define the hooks' load order by putting their names in this array in the right order\"\n    ]\n  }\n}. @lancevo I had the same issue when I reproduced the tutorial wrote by @soupette! I figured out it's due to a small change we did a few weeks ago.\nSet the host key to localhost instead of 127.0.0.1 in the ./config/environments/*/server.json file. \njson\n{\n  \"host\": \"localhost\",\n  \"port\": 1337,\n  \"autoReload\": {\n    \"enabled\": true\n  },\n  \"cron\": {\n    \"enabled\": false\n  }\n}. @mnlbox Try to use raw request using Postman instead of form-data request... Let me know if the issue is resolved and feel free to close it.. @keyus4 @wi4er @abdonrd Guys, can you give us some details how this issue appears? I'm trying to reproduce it but I can't... I've tried many things: custom controllers, custom routes, add/remove actions, generate server-side errors, etc. It works as expected...\n\nIs it happens when you're editing a specific role?\nDo you have a controller or route with a special name?\n\nHowever, I made changes (https://github.com/strapi/strapi/commit/61fb2dec456088d69edeafc15f949a67339a6ad5) to avoid random restart whereas the job isn't done yet. Maybe it will fix the issue.. @sorob To make sure I understand it correctly, you run npm install <dependency> in your project, then you start the server and some permissions disappear?\nEdit: I tried, I can't reproduce. I would love to fix this issue, but we really need to find a way to reproduce it. I've already spent 2 hours to try and everything was fine.... I also tried to run npm install at the root of the project with the node_modules already existing or not. It works fine as well. It's driving me crazy... \ud83e\udd2f. I've some news about this issue. I've fixed another one #977 and the PR could also solve this one.  . @derrickmehaffy @kitsunekyo Did you up-vote the feature on the vote page? We're currently working on the issues which are causing the feeling that Strapi is unstable. We need to stabilize all the work we've done during the last months to get back to the development new features then.. @kitsunekyo @Joshfindit If you want to help us, feel free to reach me on Slack (@aureliengeorget), it would be a pleasure to discuss with you about this feature and how we could integrate it in the Content Manager plugin. The goal is to define what we want exactly and where we should implement it in the codebase and the UI.. Thanks to everyone for reminding us that you're waiting for this kind of features, I added it to my personal list of the important things to do to make Strapi a better product. I hope we will be able to release it this year \ud83d\udcaa . @derrickmehaffy Thank you \ud83d\udc4d \nDon't hesitate to give us more insights... This feature is critical and we need to understand all the use cases to build it correctly (https://portal.productboard.com/strapi/c/23-import-export-data). \n. LGTM. @pedrosimao The references (one-to-one, many-to-one, etc) should fit your needs. We are doing the exact same things as in the blog post. However, we don't support nested references as they do in the blog post\njs\nvar PostSchema = new mongoose.Schema({\n    title: String,\n    postedBy: {\n        type: mongoose.Schema.Types.ObjectId,\n        ref: 'User'\n    },\n    comments: [{\n        text: String,\n        postedBy: {\n            type: mongoose.Schema.Types.ObjectId,\n            ref: 'User'\n        }\n    }]\n});\nTo do the same thing using Strapi, you'll have to create a Comment model.\n```js\n// Comment\n{\n  ...,\n  attributes: {\n    \"text\": {\n      \"type\": \"text\"\n    },\n    \"postedBy\": {\n      \"model\": \"user\",\n      \"via\": \"comments\"\n    }\n  }\n}\n// Post\n{\n  ...,\n  attributes: {\n    \"title\": {\n      \"type\": \"string\"\n    },\n    \"postedBy\": {\n      \"model\": \"user\"\n    },\n    \"comments\": {\n      \"collection\": \"comment\",\n      \"via\": \"postedBy\"\n    }\n  }\n}\n```. As I already said on Slack, I really like the idea!  However, this slug field has to be more powerful. For example, we should be able to define the format of the slug, maybe the slug can be based on many fields (ID, Name and updated_at). I would love to merge your work, btw!. @jacargentina You can start working on it, sure. Feel free to reach me on Slack to discuss more precisely about the feature.\nI read all the comments here, there are a lot of good insights. I understand the need behind. I created a new card on the public portal, please upvote the feature and feel free to give me more insights (https://portal.productboard.com/strapi/c/29-support-slug-type-seo).. As we're considering to implement this feature, I'm closing the issue. You can still comment on it or give us more insights through Product Board (https://portal.productboard.com/strapi/c/29-support-slug-type-seo).. We'll make a new field called \"slug\" for sure. I cannot give you a release date though. The 2019 roadmap is already pretty heavy. I hope we'll find some time to release this new slug \ud83d\udc4d . @msgeissler It's okay for us to make two routes, one for checking that the server is okay and another one for the database. However, if you're sending more information we need to double-check if it won't affect the future business model to make the open-source part sustainable.. The use case is interesting but I don't think we should handle such a specific use case for now. I'm closing the issue. Feel free to comment on the issue or ping me if there is a lot of people asking for it.  . It seems fixed \ud83d\udc4d \nI tried to reproduce but the hashes password are never exposed as you described. If it happens again, please re-open the issue!. If my memories are correct, it's because some parts of the code are not compatible. We are using object spread for example. But, we could easily replace/patch these parts. Can someone (@renatomattos2912, @abdonrd) try to run Strapi using Node 8.9, make the necessary changes and open a pull request?. For everyone using Strapi with Heroku, there is no issue. Heroku doesn't allow to write files on the system, so the API can't be generated. It could happen that you can see the Content-Type in the left menu or in the permissions page but if you refresh the page it will disappear. We're using a sort of optimistic response to avoid refresh but the Content-Type isn't really created and Heroku doesn't return any error.\nI'm investigating for those which are not deploying on Heroku... To be continued \ud83d\ude48 . @zhuang17 I can't reproduce the issue. I created a fresh project on my machine, then I pushed the code on GitHub, cloned and pulled the repository on my Ubuntu server and it worked as excepted.\nAre you sure you're using the same database? I was using two different database so the permissions weren't matching but the problem wasn't here. I was able to see the Content-type created on my local machine after pulling the code on my Ubuntu server.\n\n@e2o @zhuang17 @carmelyne @horaciomoreno10 \nWe need a detailed step by step tutorial to be able to reproduce the issue. Otherwise we won't be able to fix it. Also can you confirm me that you were using the same database in development and production?. Okay, so it makes sense that the permissions are not the same, etc. We're going to offer a way to migrate configuration data from an environment to another, see https://github.com/strapi/strapi/issues/672#issuecomment-381662918.\nCan you confirm me that there is no issue so I'll be able to close this one?. @carmelyne I'm almost sure it was related to duplicate entries in the users-permissions_permission table. I'm closing the issue but I won't lock the conversation. Feel free to ping me if the issue re-appears again.. You need to migrate manually the permissions to your production database, and vice versa. We will provide a new command in our CLI to handle this in the future but the feature isn't available yet.. The CRSF security is interesting for the users which are using the views and the session system. If you're using the JWT as the authentication system, you're not concerned by the CRSF attack.\nShould we disable this security in production because as a solution to build API using JWT as an authentication proof we are not concerned by this vulnerability? Is there a security expert in the place to help us on this part?. @derrickmehaffy We need to design the input first. For the first iteration, I think we should only handle static values. The case (proposed by @abdonrd) with the array of IDs which are references to others models is a new kind of relation manyMorphWay. I'm not sure we can implement it with Bookshelf.... @derrickmehaffy I remembered another discussion where I was making sense to not consider this input as a relation. The example was a list of ingredients for a recipe. The array looked like:\n\nTomatoes (500g)\nChocolat (120g)\nCucumber (1/2)\n\nThe diversity of the ingredients is too big to be handled like a relation and the details like 500g or 1/2 make it really impossible. Sometimes it's better the repeat yourself and rewrites (Tomatoes 500g) on every recipe instead of trying to create a relation with tomatoes.. @derrickmehaffy I can't remember who shared this example, but it killed me. It's almost impossible to find arguments against it \ud83d\ude02 . IMO, the array field is a repeatable-field with only one string (in the repeatable schema). We won't implement two different field types for the same usage. I'm closing the issue, I think I have enough use cases. Please upvote the feature on Product Board (https://portal.productboard.com/strapi/c/24-list-components-repeatable-field) \ud83d\udc4d . It could be integrated as an option in the Users & Permissions plugin. I like the idea but we need to know if the community is asking for this feature or not. We need to keep the product easy to use and simple. If there are only a few people asking for it writing a step-by-step tutorial in the documentation should be enough.. @mnlbox Yes, @pierreburgy added it \ud83d\udc4d . @mnlbox @Pritoj Don't forget to handle both cases (with and without 2FA)... Nice work btw \ud83d\udc4d . The card has been created, please upvote it and give us more insights (https://portal.productboard.com/strapi/c/43-support-2fa-via-users-permissions-plugin). I'm closing the issue but feel free to comment on it..  I do not agree entirely with the expected behaviour. It seems pretty normal to fix the issue in the edit view. However, I'm not sure we should introduce the polymorphic relationships in the Content-Type Builder. The polymorphic associations are not necessary in most cases. We should not complexify the user interface for less than 5% of users. \nIf you need to use the polymorphic associations is that you're a confirmed developer and you can easily edit the models manually. The administration panel and especially the Content-Type Builder plugin has been designed for non-developer people and beginners.. I understand your point, we are still in alpha version. We don't recommend to use the alpha versions in production. The polymorphic implementation has been done partially. It's very complex to handle polymorphic associations using MongoDB for example.\nI would do my best to fix the issue as soon as possible but I don't have any free time for the moment. The documentation needs to be improved as well. I can't give you exactly where you should put a console.log because I didn't take the time to identify the source of the problem. This is an open-source project, we are giving everything to the community. We cannot guarantee that everything is working perfectly and stable, especially when the feature is very new.. Thank you for your contribution @johannpinson \ud83d\ude4f. @abdonrd As you know, Strapi is compatible with Mongo and SQL databases. By convention, the SQL databases are using the id attribute to identify the entries. However, Mongo is using the _id as the identifier. To make the backend and frontend part uniform we partially implement the duplication of the Mongoo _id attribute.\nFor example, it avoids us to make this everywhere:\njs\nconst entryId = this.data.user._id || this.data.user.id;. The final solution should to automatically handle this in the strapi-mongoose connector to make sure the _id is duplicated and also saved through the id attribute. The codebase has to work with any databases so we have to make that kind of choices. We know it's not perfect but it's an easy and working solution.. @abdonrd We already thought a lot about this. \n\n\nI agree that the command npm run build could be the alias of npm run setup --plugins. However, the npm run setup command is more powerful than just build the front-end part. It installs the dependencies of the project and in each plugin. Then it builds the admin and each plugin.\n\n\nWe have to send the builds on npm. It wasn't the case a few months ago, and we had many issues caused by it. It took 5-6 minutes to create a project or install new dependencies. It wasn't okay. Currently, the installation time is short and everyone seems happy with it.\n\n\nI don't want to force each of our users to rebuild the front-end because <5% of the users are editing the core files of the plugins. It drastically increases the deployment time on hosting platform such as Heroku, Zeit, etc. And sometimes, it doesn't work at all because the server doesn't have enough memory.\n\n\nI completely understand your position but I'm thinking about the user experience first. I'm convinced that the workflow should be more complex for the 5% of the users (which are editing the plugins) and super easy for the 95% left.. 1. I'm okay with your suggestion, it seems good \ud83d\udc4d \n\n\nIt depends... It's a bad practice but in our case, it's useful to avoid the rebuild time. If we remove the build, it means that when you're deploying, you need to install the dependencies (devDependencies included) and launch the build. As I said, it's almost impossible (with our current Webpack configuration) to run this on a Heroku server for example. The server doesn't have enough memory.\n\n\nWe need to keep the .npmignore on --dev project. Otherwise, we can remove them.\n\n\nGreat question! It took me a lot of time to make it work properly with the shared dependencies, take into consideration the ./config/environment/*/server.json settings and handle the different builds environments (dev project, repo setup, normal project, etc). However, I didn't try to optimize the build time. I'm pretty sure we can decrease the build time by two or three.. @XcrossD @LuisLoureiro @mnlbox I can't reproduce the issue. Can you try with 3.0.0-alpha.12? I also tried to reproduce this one https://github.com/strapi/strapi/issues/886.... In this issue, the problem is that you've created a Many-to-one relation but the attribute in the one side is missing. The Test.settings.json model should look like this:\njson\n{\n  \"connection\": \"default\",\n  \"collectionName\": \"\",\n  \"info\": {\n    \"name\": \"test\",\n    \"description\": \"\"\n  },\n  \"options\": {\n    \"timestamps\": true\n  },\n  \"attributes\": {\n    \"name\": {\n      \"multiple\": false,\n      \"type\": \"string\"\n    },\n    \"file\": {\n      \"collection\": \"file\",\n      \"via\": \"related\",\n      \"plugin\": \"upload\"\n    },\n    \"user\": {\n      \"model\": \"user\",\n      \"via\": \"tests\",\n      \"plugin\": \"users-permissions\"\n    }\n  }\n}\n\n\nand the User.settings.json like this:\njson\n{\n  \"connection\": \"default\",\n  \"info\": {\n    \"name\": \"user\",\n    \"description\": \"\"\n  },\n  \"attributes\": {\n    \"username\": {\n      \"type\": \"string\",\n      \"minLength\": 3,\n      \"unique\": true,\n      \"configurable\": false,\n      \"required\": true\n    },\n    \"email\": {\n      \"type\": \"email\",\n      \"minLength\": 6,\n      \"configurable\": false,\n      \"required\": true\n    },\n    \"provider\": {\n      \"type\": \"string\",\n      \"configurable\": false\n    },\n    \"password\": {\n      \"type\": \"password\",\n      \"minLength\": 6,\n      \"configurable\": false,\n      \"private\": true\n    },\n    \"resetPasswordToken\": {\n      \"type\": \"string\",\n      \"configurable\": false,\n      \"private\": true\n    },\n    \"role\": {\n      \"model\": \"role\",\n      \"via\": \"users\",\n      \"plugin\": \"users-permissions\",\n      \"configurable\": false\n    },\n    \"tests\": {\n      \"collection\": \"test\",\n      \"via\": \"user\",\n      \"plugin\": \"\"\n    }\n  },\n  \"collectionName\": \"users-permissions_user\"\n}\nHowever, there is a similarity in both issues is that you have the multiple property. I don't know why because we're not using it.... @XcrossD Did you add the plugin property manually or it comes from the Content-Type Builder?. Okay, I found the issue! It should be fixed https://github.com/strapi/strapi/pull/1052. It's okay for me! Let's do it :). @mnlbox It will be supported in the future... We are having an iterative approach. We don't want to add all the features in one shot. We have to make the difference between the needs and the specific demands.. Can you make the necessary changes in the PR https://github.com/strapi/strapi/pull/705? We need to update the documentation as well.. Oops... No worries, we will handle that. Let's this issue open and when we (or you) will have time we will make the changes!. As I already said in another issue, you can make the changes in the current PR #705, we will improve them \ud83d\udc4d . @nainsworthrv I hope we will merge it this week, let me double-check everything because we made some updates recently. FYI, we still have some weird behaviours due to DraftJS. We are working on it, the merge is delayed to the next week.. LGTM \ud83d\udc4d . @kopecmi8 Wow... so much work done, I'm impressed! There are a lot of interesting ideas in your proposition especially the labels. Currently, we don't have a proper way to add labels to the administration panel.\nHowever, I'm reluctant to put everything in our models. The models are the flattened representation of the database structure. It makes sense to define the type, the default value, the relationships, etc... but the labels are a pure front-end problematic. We already introduced the layout.json file in the Content-Manager and Users & Permissions plugins to customize the display of specific attributes in the administration panel. The labels could possibly be placed in this file as well.\nTo be honest, we won't implement new model definition like JSON-LD in the near future. You should probably keep your fork in your repository for your thesis. I wish you good luck and feel free to ask questions if you need!. I'm very very impressed with the work done! Congratulations \ud83d\udc4d  \nI can clearly understand the benefits for everyone. It allows to easily group field into an entity. I would love to merge this work but we need to update the UI because most of the users might don't need this and the UI has been complexified for everyone.\nI think you should use the list fields view to create the entities. Then, each field could be drag & dropped to define the structure (could be at the root level or nested into an entity). In any case, this work has to be done because in the future we should be able to re-order the fields. I think it could also simplify the Add a new field.\nThe workflow for a user could be:\n1. Create all the necessary fields.\n2. Order them, and create an entity to group these fields together (optional)\n3. Save.\nSo it won't break the current user experience but it will add a new step for the people interested.\n\nAlso, I'm not sure to understand why do we need to create a new entity in the relation modal? I would like to have more explanations on this part...\nAgain, thanks for sharing this with us, it's a great work. I'm excited to know how we could integrate some parts of your work in the existing project!. I really appreciated the work done here! It helped me a lot to understand new usages and how we could improve the Content-Type Builder plugin in the future. Unfortunately, we won't implement JSON-LD support for now. Thank you @kopecmi8 for the great work \ud83d\udc4d . This behaviour will be handled by the Media Library plugin. It wasn't the goal of the Upload plugin to manage the links between entities and files. However, we anticipated it, that's all we did.\nEdited: I still think it's already possible. If you pass the ID of the file when you update an entity, I'm almost sure both will be associated.. @tranthebao You've pointed out a great feature that we have to implement to make the framework better. There is already a feature request about the validation layer on the community vote page. \nWe're thinking about implementing Joi directly on the router like Hapi does. It works great and it's perfect to validate incoming and outcoming data. What do you think about that?. I'm closing this issue because we'll implement it (see https://portal.productboard.com/strapi/c/14-validations). Feel free to give me more insights or upvote the card.. Try to add the primaryKey attribute in your model, it should work\njs\n{\n  \"connection\": \"default\",\n  \"primaryKey\": \"<your-key\",\n  \"attributes\": {\n     ...\n  }\n}. We are not going to handle this, it's too specific for us. However, there is a solution to this issue https://docs.mongodb.com/v3.0/tutorial/create-an-auto-incrementing-field/ and it seems pretty easy to solve.. @piere129 I'm closing this issue. The solution proposed by @ArkhipovK is working perfectly (one-way relationship).. @piere129 If you want to make a one-way relationship, for example, an article has an author, you've to update your Article.settings.json model like this:\njs\n// Article.settings.json\n{\n  \"connection\": \"default\",\n  \"collectionName\": \"article\",\n  \"attributes\": {\n    \"title\": {\n      \"type\": \"string\",\n      \"required\": true,\n      \"multiple\": false\n    },\n    \"content\": {\n       \"type\": \"text\"\n    },\n    \"author\": {\n      \"model\": \"user\",\n      \"plugin\": \"users-permissions\"\n    }\n  }\n}\nHowever, you won't be able to retrieve all the articles related to a user. To do that, you've to make a one-to-many relationship between Article and User.\njs\n// Article.settings.json\n{\n  \"connection\": \"default\",\n  \"collectionName\": \"article\",\n  \"attributes\": {\n    \"title\": {\n      \"type\": \"string\",\n      \"required\": true,\n      \"multiple\": false\n    },\n    \"content\": {\n       \"type\": \"text\"\n    },\n    \"author\": {\n      \"model\": \"user\",\n      \"via\": \"articles\",\n      \"plugin\": \"users-permissions\"\n    }\n  }\n}\n```js\n// User.settings.json\n{\n  \"connection\": \"default\",\n  \"collectionName\": \"user\",\n  \"attributes\": {\n    \"username\": {\n      \"type\": \"string\",\n      \"required\": true\n    },\n    \"email\": {\n       \"type\": \"email\"\n    },\n    \"articles\": {\n      \"collection\": \"article\",\n      \"via\": \"author\"\n    }\n  }\n}. @pedrosimao What do you think about launching the index build every time there is a change in the unique key of an attribute? We have access to the previous state and the next state of the attribute, so we could easily do that. However, if you have a lot of data in your database it could take some time to rebuild the index. But, you're not changing this kind of validation every day so when it's done, it's done.\nCould you make a PR for this?. Awesome, I'm looking forward to seeing your PR!. Wow! We never imagined an API with so many models... It should be easy to handle with some front-end updates.. @artem-korolev Thank you for sharing your thoughts on this feature! We already made progress on this one, you should read the proposal I made here.\nIt's a very complicated feature because we want to keep Strapi very easy to use. This kind of functionality is powerful but also difficult to understand for beginners.... I'm closing the issue because we don't plan to use Yarn workspace for now.. @XcrossD I can't reproduce it too. I followed the GIF and it works well on my machine. Can you test with the latest release alpha.12?. @XcrossD Maybe this change has fixed this issue as well?. Oh damn! I tried on Chrome, Safari and Opera, I forgot to test on Firefox. I'm going to check again on this browser and make a PR to fix it.. @XcrossD It fixed https://github.com/strapi/strapi/pull/1081. Can someone give us a very detailed step by step tutorial to reproduce this one (@indiecore-fm, @Velua)? . The issue is not related to us and we can't fix it for the moment. The problem comes from Mongoose that doesn't allow to attach the remove event on a Model but only to a document. There is a discussion (https://github.com/Automattic/mongoose/issues/3054) to pass parameters to allow this behaviour but it seems that nobody started working on this part.\nI tried to implement the new ChangeStream() API released with MongoDB 3.6 and the latest version of Mongoose, but it's still experimental and it only works on replica sets.. @andfk Yes, we can wait for the release of the v5.3 in September but we will certainly add a kind of event before and after each action available in the controllers and services in the future (I can't tell you more about that, it's something we're discussing in the core team right now).. \ud83d\udcaf , we should definitely do this! . Thank you for the PR! Why did you not chain the promises like that?\n```js\n// Remove previous relationship asynchronously if it exists.\nvirtualFields.push(\n  strapi.query(details.model || details.collection, details.plugin).findOne({ id : recordId })\n    .then(record => {\n      if (record && _.isObject(record[details.via])) {\n        return module.exports.update.call(this, {\n          id: record[details.via][this.primaryKey] || record[details.via].id,\n          values: {\n            [current]: null\n          },\n          parseRelationships: false\n        });\n      }\n  return Promise.resolve();\n})\n.then(response => {\n  // Recreate relation on the first side\n  return strapi.query(details.model || details.collection, details.plugin).update({\n    id: recordId,\n    values: {\n      [details.via]: _.isNull(params.values[current]) ? null : value[this.primaryKey] || value.id || value._id\n    },\n    parseRelationships: false\n  });\n\n  // Recreate relation on the other side if the value is not null\n  if (!_.isNull(params.values[current])) {\n    return module.exports.update.call(this, {\n      id: value[this.primaryKey] || value.id || value._id,\n      values: {\n        [current]: recordId\n      },\n      parseRelationships: false\n    });\n  }\n});\n\n)\n```\nI didn't test the previous code but it's more understandable to me instead of writing a promise, push it in the virtualFields array, then use the reference to chain the next promise.\nAlso, I'm wondering why we could not put this call in the virtualFields array? \njs\nif (!_.isNull(params.values[current])) {\n  module.exports.update.call(this, {\n    id: value[this.primaryKey] || value.id || value._id,\n    values: {\n      [current]: recordId\n     },\n     parseRelationships: false\n  });\n}\nThere is no way to make sure it will be completely executed before returning the final response of the update method because this function is not \"awaited\" or returned.\n\nI know that I'm a little bit touchy here but I want to make sure this method is optimised and perfectly executed. It's one of the most important core features of Strapi \ud83d\udc4d . LGTM. @richardscarrott At the end of August or maybe before... I need to find some time to continue the work on this part and I don't have any right now :(. @99darwin Are you talking about organizing the left menu in the dashboard?. Not possible yet. However, it's a new configuration that should be available through the Configurations link at the bottom left of the menu. In my mind, this Configurations page will have the same layout as the Settings Manager.. I already made some research on this part. Here a preview of what we could imagine defining a custom menu according to the user role.\n\n. @yummyelin I would like to... but we have more important things to do for now. I will share a clear roadmap in the coming weeks. We have to make a lot of architecture improvements to be able to release this kind of features in the future. However, I can confirm that this feature is one of our top priorities with the \"Administrators and Permissions\" plugin \ud83d\udc4d . Feel free to upvote the feature on Product Board and give me more insights (see https://portal.productboard.com/strapi/c/13-administration-menu). I'm closing this issue because we're going to implement it. However, feel free to comment or ping me if needed.. @doublemarked I think we should use the options attributes in the models.\njs\n{\n  \"connection\": \"default\",\n  \"info\": {\n    \"name\": \"file\",\n    \"description\": \"\"\n  },\n  \"options\": {\n    \"timestamps\": true,\n    \"minimize\": false\n  },\n  \"attributes\": {\n    \"name\": {\n      \"type\": \"string\",\n      \"configurable\": false,\n      \"required\": true\n    },\n    ...\n  }\n}. As you may know, Strapi is handling two ORM right now (Mongoose and Bookshelf). To get a harmonized codebase, it's easier for us to only use id instead of id || _id in our conditions. That's why the id field is automatically added by the Content Manager plugin.\nThis behaviour will be extended to every plugins or API in the near future. I know this solution is not optimal for a database point of view but it's the easiest and best solution we found to make the plugin development and the code maintainable in the long-term.. @derrickmehaffy I remember it but it seems that the support of decimal in MongoDB is still complicated. I would love to know how we could fix it definitely because the previous implementation allowed us to remove the mongoose-double plugin.. After some readings, it seems that the decimal supports was improved from MongoDB 3.4. Mongoose seems to support the Decimal128 type (http://mongoosejs.com/docs/schematypes.html). I've already tried to implement it but it wasn't working as expected. I should give another try.... Woohoo, I made it! The PR is open https://github.com/strapi/strapi/pull/1019, it should be working \ud83d\udc4d . Already merged by the awesome @lauriejim! I'm closing the issue.... @abhiarya-uvic Thank you (or all of you) for this PR! You're right it's unnecessary to return identicals values in the same object. In this case, I think we need to handle the issue deeper.\n\n\nFirst of all, the issue is mainly caused by MongoDB. The _id attribute is specific to MongoDB and most of the others databases (SQL) are using the id attribute as a unique identifier. To me, it makes more sense to use the id attribute everywhere to keep our codebase consistent.\n\n\nSo, I would focus my effort on MongoDB which means in our connector strapi-mongoose. And I would try to hide the _id attribute and replace it with the id attribute.\n\n\nI also need to make sure the id attribute is never saved. Currently, it's only the case when you're using the Content Manager (administration panel). If you're using the API to create the entries, the issue doesn't appear.\n\n\n\nHere my proposal\n```js\ncollection.schema.pre('save', function (next) {\n  // Delete the id and avoid to save it.\n  delete this.id;\nnext();\n});\ncollection.schema.options.toObject = collection.schema.options.toJSON = {\n  virtuals: true,\n  transform: function (doc, returned, opts) {\n    returned.id = returned._id;\ndelete returned._id;\n\n}\n};\n```\nThis solution virtualises the id attribute. It removes it from the database and it always displays the id attribute instead of _id if you're not fetching data with the lean method.. @abhiarya-uvic Awesome, we're waiting for the changes in this file (https://github.com/strapi/strapi/blob/master/packages/strapi-mongoose/lib/index.js). Feel free to ask us anything if you need help!. @lucaperret We're currently working on this topic with our lawyers. We're not collecting any personal data so we aren't directly concerned about the GDPR on this specific part. However, it doesn't mean we've nothing to do on our side to respect the European regulation. You should see some changes in the next weeks!. @pedrosimao You were right the one-way relationship wasn't supported in the generated API and the data wasn't sent correctly to the manageRelations method. I opened a PR https://github.com/strapi/strapi/pull/1004. @NoahHahm I can reproduce it when the image field allows multiples files. I'm going to fix it today.. It seems fixed now. I'm closing!. EDITED (it was the wrong issue). @juampynr Thank you, it works like a charm \ud83d\udc4d . The issue has been fixed (https://github.com/strapi/strapi/pull/982). The other solution is to run this command at the root of your project to remove the symlink of the node_modules/strapi folder.\nbash\ncd /path/to/your/project\nnpm install strapi@alpha. It's not working as expected, there are many errors when we are searching a value in the select.\nbash\n[2018-04-20T08:45:12.939Z] error Cast to ObjectId failed for value \"[object Object]\" at path \"_id\" for model \"Tag\"\n[2018-04-20T08:45:12.939Z] debug GET /content-manager/explorer/tag/[object%20Object]?source=content-manager&name_contains=couc (3 ms). @soupette Done(in private), I'm waiting for the changes \ud83d\ude48 . @gchrskgroup I cannot reproduce the issue on my machine. I also tried on Ubuntu. Can you give us the schema of the model?\nWhen I'm reading the returned error, it seems that the schema doesn't match with the data Syntax Error: Invalid number, expected digit but got: \"a\"..... @XcrossD Can you give us the MongoDB version? Are you using a hosted database? The requests seem pretty slow... I can't reproduce this on my machine, I need more information.. @XcrossD I tried with mLab and the exact same models (Banner and ProductFeature)... I can't reproduce your issue. Do you have more models? Can you try with a fresh app? . Thank, I just tried and it works fine on my machine again... Are you still running the app on Windows?. @XcrossD @soorur Which browser are you using?. @XcrossD @soorur Can you make sure that you have the permissions to write in the collection users-permissions? Because @XcrossD I'm able to reproduce the issue with the database you sent me in DM. I can't reproduce this with mine (local and hosted).. The issue was due to permissions duplication, I made a PR to fix it (https://github.com/strapi/strapi/pull/1103). I'm okay with these changes but it will be temporary. @zhuang17 @abdonrd you should be interested by my proposal (https://github.com/strapi/strapi/issues/672#issuecomment-381662918). We're trying to find a way to easily export/import configurations between environment. It could also work like a database seed or a way to override specific configuration during the start of the server. It's pretty close to what we want in this issue.. I'll certainly make some changes and move the flag in the header instead of the menu. It will be more visible and will avoid this issue.\n\n. @XcrossD We should keep your solution right now. It will be temporary but it will fix the issue. Then, we will put the select language in the header. However, it hasn't been validated, it just a quick proposal that I'm making here.. You don't need to { in the query property. Also the type property is a JSON object so you've to follow the JSON format to make it work.\njs\nmodule.exports = {\n  definition: `\n    type Wllogin {\n      _id: String\n      created_at: String\n      updated_at: String\n      status: Boolean\n      errorMessage: String\n      button: Lbutton\n      link: Llink\n      form: Lform\n      design: Ldesign\n      terms: Lterms\n    }\n `,\n  query: `\n    wllogins(sort: String, limit: Int, start: Int, where: JSON): [Wllogin]\n  `,\n  type: {},\n  resolver: {\n     Query: {\n    wllogin: {\n      description: 'Return  login',\n      resolver: 'Wllogin.findByParams' // It will use the action `findByParams` located in the `Wllogin.js` controller.\n    }\n     }\n  }\n};. module.exports = {\n  definition: `\n    type Wllogin {\n      _id: String\n      created_at: String\n      updated_at: String\n      status: Boolean\n      errorMessage: String\n      button: Lbutton\n      link: Llink\n      form: Lform\n      design: Ldesign\n      terms: Lterms\n    }\n `,\n  query: `\n    myComplexQuery(sort: String, limit: Int, start: Int, where: JSON): [Wllogin]\n  `,\n  type: {},\n  resolver: {\n    Query: {\n      myComplexQuery: {\n        description: 'Return  login',\n        resolver: 'Wllogin.myComplexAction' // It will use the action `myComplexAction` located in the `Wllogin.js` controller\n      }\n     }\n  }\n};\nDid you try something like this?. @Lengatox Can you try this?\njs\nmodule.exports = {\n  definition: `\n    type Wllogin {\n      _id: String\n      created_at: String\n      updated_at: String\n      status: Boolean\n      errorMessage: String\n      button: Lbutton\n      link: Llink\n      form: Lform\n      design: Ldesign\n      terms: Lterms\n    }\n `,\n  query: `\n    myComplexQuery(sort: String, limit: Int, start: Int, where: JSON): [Wllogin]\n  `,\n  type: {\n     Wllogin: false\n  },\n  resolver: {\n    Query: {\n      myComplexQuery: {\n        description: 'Return  login',\n        resolver: 'Wllogin.myComplexAction' // It will use the action `myComplexAction` located in the `Wllogin.js` controller\n      }\n     }\n  }\n};\nIt won't use the Wllogin.settings.json to define the Wllogin type. Also, the queries to retrieve data won't be generated by default. . @Lengatox So it means there is an issue here... . @sorob I'm working on it, but we definitely need your help because we can't reproduce this bug. I saw your https://github.com/strapi/strapi/issues/736#issuecomment-384116469, I'm going to try it right now.. @lauriejim I think we can merge this PR.. It looks awesome! I don't think there is a major issue with the translation in Strapi at this time. However, we should keep in mind that we have to switch on a more conventional way to manage them in the future.\nDo you know any others great software or solutions to manage translations?. @derrickmehaffy OneSkyApp seems to be a service to translate the content with their own translators. This is not what we are looking for \ud83d\ude48 . I'm closing it because we created our own automatic system to handle translations with GitHub issues. It works pretty well right now. After discussions with the core team, we don't feel necessary to switch to Crowdin or others similar solutions. We'll reopen this issue if needed. Thanks for the proposal \ud83d\udc4d  . @derrickmehaffy We're currently working on a way to automate the table creation, update, etc. It should be released soon. Strapi is almost unusable with SQL database... you've to create the table manually which is not very convenient for a project like us when the added value is to reduce the time of development.. @zhuang17 You're lucky! When I was fixing #924 I faced this issue too. It has been fixed with this PR https://github.com/strapi/strapi/pull/1001. I created a new card on our public portal. I just noticed the number of upvotes on this issue. Please go upvote the feature on Product Board as well (https://portal.productboard.com/strapi/c/41-automatic-project-update).\nSince we're considering to implement this feature, I'm closing this issue. We are moving all the features requests on Product Board.. I'm 100% agree to develop it, let's do it!. Learn things during the setup and build time. @franciscop It only adds facts for people who are cloning the GitHub repository. It doesn't appear when you're building the administration panel or running any commands in your project. Don't worry, I'm watching over the entire project to avoid noise and useless things! This feature only targets maintainers.. It's just for fun, there is no acquisition strategy or kind of growth hacking... \ud83d\ude03. You're right and we move towards something like you described in the future. Currently, we're focusing our effort on the stability and the backend part. But we will work on all these little UI improvements to make the product more \"finished\".. You can already use the limit parameter for avoiding this.\nbeers (limit: 20) { \n  style { \n    beers (limit: 20) { \n      style { \n        beers (limit : 20) {\n          name\n        }\n      }\n    }\n  }\n}\nAlso, I'm not sure it's a great thing to put a default limit because how do you handle the case when you want to display all the articles of a user?\nusers (limit: 20) {\n  articles { // I don't want any limit on this relation\n    title\n    description\n  }\n}. @f2net Oh yes, I already read it! You're right we have to limit the depth of the nesting.. @dsheyp You're not the first one to report me this issue. Can you open another issue?. I added the amount limiting and depth limiting feature. I think 7 levels of depths is enough. What do you think about that?. @normanzb Thank you for the details, it will help us to fix it \ud83d\udc4d . @kamalbennani Thank you for trying to fix the issue, I really appreciate \ud83d\udc4d \nYou can open a PR with your fix and we'll take a look. It seems nice!. @victorlambert The via attribute is only required on the many side. In your case, in the User.settings.json model.. @kadaan Thank you for the PR and congrats for your first contribution to the project \ud83c\udf89  \nHere the screenshot to show you that the text in the modal is not correctly aligned with our baseline.\n\nWe're taking care of the UI a lot (especially me). Can you try to set the margin-top value to 9rem  instead and tell me if it works well on your side. Otherwise, you can also try 7.2rem or 5.4rem. Our baseline is defined to 1.8rem.\nPS: Here the link to download the Chrome Extension\n. Perfect, let me know when the change will be made.... @deevolutionism IMHO, it should be part of the Users & Permissions plugin. All the authentication part is handled by the plugin itself. We have to keep the core as simple as possible. It could happen that some users are using Strapi without any authentication system (without the Users & Permissions plugin) so it's enough to justify that the API Key logic should be inside the plugin.. Sounds good to me! It could also be in the Advanced Settings section but let's go with a new tab :). I've created a new card on our public portal (see https://portal.productboard.com/strapi/c/40-personal-access-token). Can you give me more insights to make sure I'll have enough information to understand the use cases?\nSince we're considering to implement this feature, I'm closing this issue. We are moving all the features requests on Product Board.. @Matschik You can prefix the API routes, check out the documentation https://strapi.io/documentation/configurations/configurations.html#request. It think it's related to the work started in https://github.com/strapi/strapi/pull/913. @KevinSupertramp Can you try with a local database (same version)? Are you sure your database is accessible? And, are you sure you don't need SSL to connect to it?. @waterlooblue You should try to use Mongo \ud83d\udc4d  . @FikriRNurhidayat I'm not sure the generators are up-to-date via the CLI. You should try to create the API (content type) through the UI (content type builder).. @derrickmehaffy I don't agree, we have to think for more use cases. What happens if you start the project with a production database and one the model name doesn't match with one of the tables in your database? Do we drop it? No, we can't do that. We want to avoid as many as we can to delete tables and data. We don't want to be the cause of data loss.\nI think the best solution is to add a strict mode where the database structure follows the exact same schema defined in the project. If this mode is disabled, we will only create or add new table/column without deleting anything (as it is currently the case). We could also imagine a button in the UI to clear all the unnecessary tables and columns. It means that the user understands what it does and we won't be blamed for data loss.. We agree on the production mode, we shouldn't allow any changes. However, we are trying to be very careful even in development because most of our users aren't senior developers and it happens that they use the same database in development and production. It means that if they make a mistake with the Content-Type Builder or in the models' structure, they can lose an entire part of their database.\nI really want to avoid that case. I don't want to see some members of our community opening issues and saying: \"I lost all my users in my database. You drop the entire table. I don't have a backup... What can I do to restore them?\".\nBut, I also understand your point especially when a table or column is just renamed. However, I still think the strict mode is a great solution. By default, it will be disabled. Otherwise, if enabled Strapi will detect when a model is removed and it will also remove the table. It could also identity when a many-to-many relationship is updated to one-to-many so it means that we have to delete the many-to-many relation table.\njs\n{\n  \"defaultConnection\": \"default\",\n  \"connections\": {\n    \"default\": {\n      \"connector\": \"strapi-bookshelf\",\n      \"settings\": {\n        \"client\": \"mysql\",\n        \"host\": \"localhost\",\n        \"port\": 8889,\n        \"database\": \"strapi\",\n        \"username\": \"root\",\n        \"password\": \"*********\"\n      },\n      \"options\": {\n        \"strict\": \"true\"\n      }\n    }\n  }\n}. @derrickmehaffy We could generate a backup but it could be very long if the database has a lot of data... Could it be another option to add? Quick vs safe migration. . To resume our thoughts:\n\nAdding a strict mode that will remove the table when a content-type is deleted or when a relationship changes between two models (especially in a many-to-many case because it creates a relational table). In my opinion, we shouldn't enable this mode by default.\nQuick vs safe migration mode:\nQuick mode will rename, drop columns and tables.\nSafe mode will do the same but it will also create a backup before starting the work. It will be slower but the developer will be able to rollback if the migration doesn't work as expected. \n\nBoth proposals are complementaries. If the strict mode is activated, then you will have to choose between the quick or safe mode. If the strict mode is disabled, the quick or safe mode is useless because nothing will be deleted.. Perfect, it sounds good to me as well!. @derrickmehaffy Nothing has been planned so far... It's not something very important, the clean of the columns/tables can be done manually. It would be better to automatically handle the cleaning but the projects are still working even if there are useless columns & tables (this is the most important).. @lnaie @tonyberetini I understand your point if you're able to help almost everything has been detailed in this issue. We are doing our best, there are so many topics where we have to make improvements. We are not adding a lot of features but we are making a lot of enhancements to make Strapi more usable in production.. We should update the message but we also need to consider this issue https://github.com/strapi/strapi/issues/1114. @derrickmehaffy Yes, it seems the good one. Don't forget to update the key in the others languages if you can.\nCheck out the contributing guide to setup the development environment. You will be able to make updates in the administration of your project and see the changes in real-time without refreshing the page.. Ahahaha why not? No, seriously don't try if you're not sure... we will be able to make the French translation on our side.. You're right, currently, this kind of field (array) is complicated to handle with Strapi... I suggest voting for the Plugin - Matrix/Repeater on the vote page. Also, the JSON field could fix the issue in another way.... @XcrossD Can you make a PR and fix the issue for the entire community? It would be awesome \ud83d\udc4d . It seems to be a duplicate of https://github.com/strapi/strapi/issues/886. It has been fixed (https://github.com/strapi/strapi/pull/1081) but not released yet.. Can everyone confirm me that you have an empty plugin attribute in your models? It was the cause of the previous issue, it should be fixed but it seems that a new case hasn't been covered.. Are the steps to reproduce the exact same?. @nicholas-c @lauborges Can you give us more details to reproduce it? Is this the exact same again?. I've experienced the same issue when I was developing a new project... It was totally random. The attribute was correctly added in the edited model but it wasn't the case for the other model.\nHowever, I have a little theory. Can you confirm me that you're working with an external database? I think the slow of the request can be the cause of an unexcepted behaviour of the Content-Type Builder.. @mnlbox Bad news... my theory doesn't work anymore. How many models do you have? I still think it's related to the execution time of something (request, number of models). @krisballistiq This makes me crazy... but your comment helps me a lot to have a better overview of this issue. When we fixed the issue, I also discovered it was browser related. The issue came back for no reason, but it would make sense if it works again on Chrome but failed using Firefox.\nIt could mean that we are using an unstable prototype JS function in this plugin. Or even worst, we might use loop methods like map, filter or reduce where the execution order is not guaranteed which could cause the issue depending on how JS is interpreted by the browser.... It's okay to create a PR for this. We have a better support on MongoDB so we should do the same on SQL databases.. @krestaino I'm super happy to see this kind of issue raising up! We've already been giving some thoughts to this problem. Here a screenshot of an unexisting part of the Content-Manager settings. We're iterating on the product, and it's in our plan to offer what you ask for!\n\n. @derrickmehaffy Great suggestion! I'm keeping it in mind, we could definitely add another option in the screenshot to hide fields or select the ones to show \ud83d\udc4d . FYI, I'm updating the design a little bit to add new settings on the latest view I shared with the community. I will put an update in few days.... Here the final design, we already started working on it \ud83d\udcaa \n\n. @krestaino If everything works as expected on our side, it should be released in ~2/3 weeks. I'm closing the issue because the feature is one of our top priorities after the stabilization part and it's the most up-voted feature on the community vote page.. @g-div The specifications are almost ready on our side. However, we need to improve the plugin architecture & flexibility to make it work properly. We're currently developing the Documentation plugin, the next one will certainly be the Administrators & Roles plugin.\nWe can't wait to release this feature as well... . Please see https://portal.productboard.com/strapi/c/8-administrators-roles-permissions for more details.. Yes, it's the most asked feature on ProductBoard. However, we have to rework the plugin framework first, test the core and update the architecture, then we'll be able to add new features \ud83d\udc4d . This PR is ready! We need to hard test this one... It concerns the core of Strapi. It has an impact in the dashboard and generated APIs.\n\u26a0\ufe0f Breaking changes:\n\nGenerated API syntax has been updated.\nContent-Manager calls the logic to handle relation from the hooks (strapi-bookshelf, strapi-mongoose). @z-ax Nice one! It's my mistake... I completely forgot to implement the private attribute feature in the GraphQL plugin. \n\nI would love to help you to make a PR to fix it. In my opinion, the best way to hide attribute is to not add them to the schema. It means that we have to filters the attributes and check if there is a private property set to true. I think the starting point in the codebase is located in  https://github.com/strapi/strapi/blob/master/packages/strapi-plugin-graphql/services/GraphQL.js#L428. It should be fixed in the next release!. Thank you for reporting the issue and give us the steps to reproduce! I've personally no time to look at it and solve it. Can you check if this PR https://github.com/strapi/strapi/pull/1192 has fixed your problem, or not?. The PR to fix this one is coming... \ud83e\udd10 . Here a sneak peek of the search bar. I hope you'll like it!\n\n. @kamalbennani Thank you for reporting this issue. This is the default behaviour of Mongoose, I don't think we should modify it. I understand it's not optimal but is this really annoying? \nWe would accept a PR in this, but it is not a priority for us to fix this right now. I hope you understand our position and I hope you will find time to solve the issue \ud83d\udc4d . @raulriera You can already add the debug property in the database.json configurations file.\njson\n{\n  \"defaultConnection\": \"default\",\n  \"connections\": {\n    \"default\": {\n      \"connector\": \"strapi-mongoose\",\n      \"settings\": {\n        \"client\": \"mongo\",\n        \"host\": \"127.0.0.1\",\n        \"port\": 27017,\n        \"database\": \"\",\n        \"username\": \"\",\n        \"password\": \"\"\n      },\n      \"options\": {\n        \"debug\": true\n      }\n    }\n  }\n}\nIt's working pretty well with Bookshelf. I'm not sure it's supported by our hook strapi-mongoose though.. @gfelot Don't be afraid to make a PR, we will be glad to help you and answer your questions. Here the link to the contributing guide to get started. \nYou will certainly have to edit these files (especially the add action):\n- https://github.com/strapi/strapi/blob/master/packages/strapi-generate-api/templates/mongoose/service.template\n- https://github.com/strapi/strapi/blob/master/packages/strapi-generate-api/templates/bookshelf/service.template\nThings to care about:\n- Make sure the API still support one record at a time.\n- Check in the documentation of the ORMs (Mongoose & Bookshelf), if there is a specific method to add multiples entries at once.. @gfelot Any update? I'm closing this issue, I'll reopen it when someone will be able to work on it, or if there are more people asking for it. By the way, please use our public roadmap to submit a new idea (https://portal.productboard.com/strapi/).. @derrickmehaffy I created a card on Product Board (https://portal.productboard.com/strapi/c/42-add-bulk-route-to-create-multiple-entries).. I would love to have the thoughts of @lucaperret on this one! Btw, thank you @sboutet06 for this PR \ud83d\udc4d . @johannpinson Thank you! You're right the UI is much better and there are a lot more features.. Great question... It's complicated because we're going to follow the OpenCRUD specs and this case doesn't seem to be handled. I'm going to ask how we should deal with this case.\n. @johannpinson Thank you for sharing the issue on Prisma. I think the OpenCRUD specs could evolve for fixing that kind of issues. I'm not sure that excluding words is the right way to solve it. How many words are concerned by it?. I understand but blocking words is not an optimal solution because as a workaround we can add the prefix all for these words or change the specs to make sure the plural queries are harmonized whatever the word used. It should be specified in the specs.. @MartinMuzatko Try to find another word for this model until we find a viable solution.. @kret13 No update for now... You should find another name for the content type as a workaround ;). @okaris Can you make a screenshot of the front-end?. @okaris Can you add 2px padding between boxes? I really like the icon, well done \ud83d\udc4d . @dj-hedgehog @kuongknight You should try to look at http://bookshelfjs.org/#Model-instance-idAttribute and make a PR to update the strapi-bookshelf package to support this case.. IMO, this is another way to talk about validations. We're considering to implementing them (see https://portal.productboard.com/strapi/c/14-validations). I'm closing the issue but feel free to give me insights on Product Board or comment on this issue.. @mnlbox Nice feature! It could be a field status with different values active, disabled, ...  or an option to block the user. I need to think what could be the best solution for us.... I create a new card on Product Board (see https://portal.productboard.com/strapi/c/39-extensible-cli). Feel free to give us more insights.\nSince we're considering to implement the feature, I'm closing this issue but you can still comment below this message and ping me if needed.. Okay, so I fixed this. You can set the resolver in two different way:\njs\nmodule.exports = {\n  definition: ``,\n  query: `\n    practice: [Practice]\n  `,\n  type: {\n    Practice: false\n  },\n  resolver: {\n    Query: {\n      practice: {\n        description: 'Return the practice of the authenticated user',\n        resolver: 'Practice.findMine'\n      },\n      practices: false\n    }\n  }\n};\nor with an object when you have to reach a controller's action which is inside a plugin\njs\nmodule.exports = {\n  definition: ``,\n  query: `\n    user: [UsersPermissionsUser]\n  `,\n  type: {\n    UsersPermissionsUser: false\n  },\n  resolver: {\n    Query: {\n      user: {\n        description: 'Return the authenticated user',\n        resolver: {\n          plugin: 'users-permissions', \n          handler: 'User.findMe'\n      },\n      users: false\n    }\n  }\n};. Not sure it will be the last one but it works for this case and it also supports the resolverOf attribute and applies the right policies.. @lauriejim Can we close it?. LGTM \ud83d\udc4d . @derrickmehaffy Not a big deal to fix this one. We don't have time but this security pattern has been handled during the development phase. I will investigate when I'll be able to find the time (~2 weeks).. Our current architecture forces us to restart the server because of new files which are created when you're creating a new content-type. It's important for us to not move the models in the database. We could add an hot-reload feature though. We won't be able to guarantee it works 100% of the time but it could be a great approach to remove the server restart.. We're not a Headless-CMS. You can use Strapi like that but the product is based on a framework with a similar architecture like Sails, Rails, etc. Creating a Content-Type means create a model at the framework level. It also means setting the new model in Mongoose or Bookshelf, make sure the relationships are correct, etc.\nWe have this architecture to keep Strapi flexible and customisable in any way. If you already have used others frameworks like Laravel, Rails or Symfony, the models are defined into files, not in the database. In Node.js (Koa) to update the route available and to be able to make CRUD actions on a Content-Type, we have to reload the middleware stack because it can't be updated on the fly. In other words, it means to restart the entire server. We're talking about 30s (max) when you create a new Content-Type, it's not so much but I can also understand this is frustrating.\nWe can find a workaround to this technical limitation but I'm not sure it's a good idea.. As I said, we could certainly add the hot-reload feature, if the restart is too long for the major part of the community \ud83d\udc4d . We're a \"new kind\" of software, we aim to define us as an \"API-first backend solution\". We have Headless-CMS capabilities and you can use the product like that, but some people are using us to develop the backend of their marketplaces, mobile apps, etc. . Nice job (\ud83d\udc4c), thank you @johannpinson!. Thank you for this PR! It should work perfectly, however, the real issue is why the updatePermissions function is generating duplicate.... You're not the first one to report it, we should definitely use the placeholder as value, it will save time for everyone \ud83d\udc4d . LGTM, thank you @johanbaath \ud83d\udc4d . @derrickmehaffy I've my thoughts on this and it's pretty simple. First, there is no order for the load of the plugins (there are mounting once there are loaded) and there is also a browser issue. It seems to never happen with Chrome but only with Firefox and Chromium.. I would love to see Cypress implemented on Strapi in our tests suit.. Where is hosted your database?. Interesting... Does it work when the database is on the same computer or hosted on AWS?. @johannpinson I made a proposal here https://github.com/strapi/strapi/pull/913. We can't remove the _id field but we can use the id instead. Mongoose supports both attributes to select an entity.. I was speaking about that because the issue is more global and not specific to GraphQL. I agree with your proposal, you should do it like that \ud83d\udc4d . @kevrat Thank you for raising this issue! A similar issue (https://github.com/strapi/strapi/issues/479) has been opened a few months ago.\nWe are using this to improve the product and know more about the usage of Strapi. To be 100% transparent about this process, here the list of the data we're collecting and why:\n\nuuid (unique ID of the app)\nmodel names and attributes names (Is Strapi used to build content or product or service API?)\nenvironment (dev, staging, prod)\nnode_modules names (Are developers integrating Strapi with Stripe? It means that we should develop a plugin to simplify the process with Stripe. Are developers using Strapi with strapi-bookshelf or strapi-mongoose? It helps us to prioritize the issues.)\nos\nbuild configurations (how many people are deploying the admin on another server?)\n\nThis is not personal data, it has nothing to do with GDRP btw. You can disable the tracker by removing the uuid property in the package.json of your project.\n\nWe are going to add a section in the documentation to be transparent with everyone. We're not collecting sensitive data (databases, env variables, custom config) and everything is encrypted. You should be aware that many other open-source projects such as Node.js or npm are tracking you as well. This is necessary to understand how the product is used, we don't have bad intentions behind this \ud83d\udc4d. @soupette If the koa-favicon@2.0.1 is the cause of the error, we should lock it to 2.0.0. . Thank you, LGTM \ud83d\udc4d . The enumName could be generated following this pattern ENUM_${model}_${field}. For example, it could generate something like ENUM_USER_STATUS. I agree we need to have the enumName to force the value but I think this property should be optional.. @johannpinson Any updates?. Awesome work! I'm very happy you find the time to make these changes, you rock \ud83d\udd25 . I'm closing this issue, please refers to this public card on Product Board (see https://portal.productboard.com/strapi/c/37-wysiwyg-html-editor). Even if the title doesn't express that we'll change the editor, we will certainly take a look at free & open-source alternatives like Froala.. @johannpinson Why do you need to add the _relation suffix whereas we know that a field is relational or not?. So, it means that we shouldn't see differences in the URL but only in the services. It looks good to me \ud83d\udc4d \nExample: http://localhost:1337/post?title_contains=john&authors={type: \"administrator\"}. @johannpinson Why we can't do this http://localhost:1337/post?authors.type_ne=administrator? As I said, we know that the author is a relation, we don't need to specify it in the URL.. I personally prefer xxx/post?author.id=123 and I think it doesn't cost anything to check in the backend if an attribute is relational or not. We're talking about a loop with less than 20 items \ud83d\ude48 . @odelucca we tried to implement this feature by merging this PR https://github.com/strapi/strapi/pull/1948 made by @kamalbennani. However, it was a fail and it caused a lot of issues, so we reverted the changes. We'll try to re-implement it soon. . We need to hard test this one. Especially with the build in production mode. I remember that I added the OPTIONS method check for a good reason \ud83d\ude48 . It allows you to run Strapi without installing the package globally. So you can do this:\nnpm run strapi start\nnpm run strapi new testApp\nnpm run strapi generate api testApp\nI'm sorry but we're not going to accept this PR because it breaks the expected behaviour and limit the command to only start the server.. How can we set the level of depth for the population?. @johannpinson You could use the same icon and design we used for the filters. Awesome job btw \ud83d\udc4d . Yes and no. We have new -/+ icons with the exact same behaviour in the filters panel.\n\n. @Jehu I made a quick test on my side, it was working well. Can you give me the steps to reproduce?. @lauriejim we should reopen it?. I'll fix it next week, it's in my todo list \ud83d\udcaa . Done, the PR is open, it'll be merged soon I guess \ud83d\udcaa . @Nyeedz You need to use the route /upload not /photos. Then, thanks to the ref, refId and field parameters, it will attach the uploaded file to the resource.. @nicroto You're right! The prefix should be used to prefix your API http://localhost:1337/your-prefix/ instead of exposing the API at http://localhost:1337/. It shouldn't be used to manage the versioning of your API.. @derrickmehaffy What should we do with this issue? I understand the need but it doesn't seem a priority for now.. LGTM \ud83d\udc4d . @kamwing @derrickmehaffy IMO, it has nothing to do with the Content-Type Builder. It's a pure UI issue that should be handled by the Content Manager plugin which will allow you to add custom label name for a specific field.\nWe're going to develop a new section in the Content Manager. Please note this is a work in progress, not the final design.\n\n\nAdd label to an attribute.\nAdd description to an attribute to help the marketing people to contribute for example.\nAllow a field to be editable or not (administrator permissions could override this config).\nCustom the layout and the position of the field in the Edit view.. @derrickmehaffy You're right, we are trying to create a FULLTEXT index for every model. If there is no relations or TEXT columns, we shouldn't create one. However, it means that the search query won't work at all and the best solution would be to disable the search for these specific models.... That's bad... It was working before. Did you try with MySQL or with Mongo too?. I think we should continue the discussion in the other issue #1114. I'm closing this one, but I keep it in mind. It could be very useful!. @kamalbennani Excellent work! I would also love the review of @johannpinson on this one.. @kamalbennani I think @johannpinson mastered Bookshelf recently on another feature. Maybe he could help you to figure out how to implement the logic for SQL databases? If not, I think we could merge the PR but we should precise in the documentation that the feature is only available with Mongo (cc @lauriejim).. Cool! We're waiting for these changes and we'll be able to merge your work \ud83c\udf89 . Cool! We're waiting for these changes and we'll be able to merge your work \ud83c\udf89 . I would prefer something like this if it's possible?\n\n\nIf I take too much time I will improve the design by myself during a next release.. @brocgailit You're right! Let's go for this design, I will change the UI a little bit for follow our guidelines but the UX is better when there is a lot of entries to re-order \ud83d\udc4d . I've updated many things:\n\nNew design\nNew icons (sortable icon & remove icon)\nRemove SortableHandle HOC (the full width of the list's item can be dragged)\nClick on an item value allow you to jump directly to the Edit view of the item. @johannpinson How these changes support the different date format? Currently, we can have date, time, datetime, timestamp in our models (see https://strapi.io/documentation/guides/models.html#define-the-attributes).. Awesome! I posted a comment in the other PR . We are using Pino (https://github.com/pinojs/pino/) to display the logs in the terminal. There is an option to write the logs inside a file, we could extend our current support. It should not be that hard to make it work!\n\n@derrickmehaffy Are you interested to make a try and open a PR? . @maturanomx Me too. It's the exact same situation we had with SSL. We could handle it but it's not part of our job. There are plenty of others solutions that write logs better than us. \nWe're offering a Node.js application that allows people to build API quickly with a dashboard to manage the content. We should not handle SSL, logs, views, etc. We can do it but we won't do it because it's not in our scope.\n@entwicklerfr I really appreciate the work you've done ( \ud83d\udc4d). However, we should limit your work to this mission: Follow best practices to make sure the logs are usable for dedicated logs tools/solutions.. @entwicklerfr Thank you for your understanding \ud83d\udc4d \nCan you give me the link where you saw this task? I'll remove it and maybe remove the whole backlog because it doesn't seem up-to-date.. @johannpinson No, it's to simulate the SQL query LIKE with Mongo. However, we could use it for another purpose as well like relation filtering \ud83d\udc4d . @johannpinson Great question! @soupette worked on it, he will probably give a better answer than me.. We should definitely implement this \ud83d\udcaf \nIt will also impact our release script (https://github.com/strapi/strapi/blob/master/scripts/publish.js). @johannpinson We have the exact same approach than Sails on this part. When you're creating a new project, we're trying to detect if Strapi is installed globally. If yes, we are creating a symlink to this global version. It avoids to reinstall Strapi and to keep the same version whatever the project you're using. However, I agree it has some downsides as well. I'm not sure we should continue to do that because our ecosystem is more complicated than Sails.\n. @johannpinson Can you also update the documentation? What kind of values are allowed in this new settings timezone?. It cannot be merged without @soupette approval and without a full set of tests.. We have a Core Store API to store any kind of data. It's working like a key/value database. But I guess you're talking about a plugin that could handle Pages for a content management purpose?. We are considering to develop something similar. Please refers to this card (https://portal.productboard.com/strapi/c/9-blocks-manage-static-content) on Product Board.\nI'm closing the issue, but feel free to comment or ping me if needed.. @malbari What do you mean by supporting the WYSIWYG for Vue component?. I think we should provide a markdown, HTML and WYSIWYG editor. It should be an option in the Advanced settings tab in the Content-Type builder.. Maybe @soupette can give you some insights?\n@wyamout What's the real issue with the current editor? Is this due to markdown? Or something else?. I created a new card in our public roadmap available on Product Board. Feel free to give me more insights (https://portal.productboard.com/strapi/c/37-wysiwyg-html-editor).\nSince we're considering to support HTML in our editor, I'm closing this issue.. @AustinBratcher Can you confirm it works on the latest release? So we can close the issue.. LGTM \ud83d\udc4d . I'm closing this issue because we will change our way of handling administrators and users. Currently, there is one collection/table for both. We will create a true administrator system. So this feature won't make sense anymore or the approach will be different.\nFeel free to continue the discussion and ping me if needed.. @soupette can you confirm the JSON input isn't taking care of the default value?. LGTM \ud83d\udc4d \nEdit: If the databases versions are updated. As you said, it's on the long-term roadmap for Strapi. Currently, I don't think the project is mature and stable enough to handle this use case. So many things are still in work in progress, the plugin implementation isn't finished yet and we're still in alpha. \nHowever, I would love to know how you would like to implement this feature. We could anticipate some things and make it easier to develop in the future \ud83d\udc4d . @indiecore-fm For now, it should be a core functionality, but we're working on the plugin architecture and I still don't know if a feature like this could be handled by a plugin. It would make more sense to use a plugin for this but it will impact so many things...\nAlso, should we generate two projects (one for each subdomain) without the administration and another one with the administration only? With configurations, we could connect them together to the same administration.\nOr, we should update the architecture of a current project and split into multiple apps. The plugin will load the files by itself and mount them into the main app. \nbash\n- /admin\n- /apps\n  - /one\n    - /api\n    - /config\n    - /plugins\n    - package.json\n  - /two\n    - /api\n    - /config\n    - /plugins\n    - package.json\nThere are different approaches to the multisite feature, I don't have enough background to know what's the best way to do it... If you have any thoughts or ideas to share, I would like to hear about them :). I've added a new card in our public roadmap on Product Board (see https://portal.productboard.com/strapi/c/36-multi-tenancy). Don't hesitate to give me insights and share your thoughts. I've referenced this issue in the card.\nSince the needs have been discussed enough, I'm closing the issue.. @johannpinson Do you think you will find the time to finish it? It would be awesome to merge your work \ud83c\udf89  . I \ud83d\udcaf agreed with this, it should be easy to implement but it will generate breaking changes on many projects.... Thanks for reporting this! I agree with you, it's too complicated to click on the icons. We should increase the space around the icons and also increase the font-size to make them bigger. \n@derrickmehaffy You're also right, we should add a Delete button in the Edit view \ud83d\udc4d . @wadamek65 Are we sure this is related to the core packages or to strapi-docker? Can you take a look at the issues of the strapi-docker package to see if you can't find a solution? \nhttps://github.com/strapi/strapi-docker/issues. It would be great to open a PR if you find the time... it could help other people \ud83d\udc4d . The hook system will be added with the rework of the plugins' architecture. Please refers to this card in our public roadmap https://portal.productboard.com/strapi/c/26-new-plugin-architecture.\nSince we will implement this feature, I'm closing this issue.. Please refers to the \"Validations\" card available on Product Board (https://portal.productboard.com/strapi/c/14-validations). The validations should also support regexp like it was discussed in this issue.\nI'm closing this issue because we're moving all the features requests on Product Board.. @derrickmehaffy We should definitely add a rate limit on the attempt to log in. I'm keeping this in mind to potentially add it in the roadmap \ud83d\udc4d. The team is growing so we are going to be able to push more features in the roadmap \ud83d\udcaa . The rate limitation has been added. I'm closing the issue.. I'm closing the issue because it has been resolved thanks to the amazing work done by @Pritoj. You can still comment and ping us if needed.. The design is almost ready on our side, this is not planned in the public roadmap but we have it in mind. We are moving fast and we could imagine that we will start working on it at the end of the summer (end of August).\n@maru3l Feel free to contact me if you want more insights and specifications about the feature \ud83d\udc4d . @MartinMuzatko The i18n plugin is available on the marketplace but you won't be charged for it because it's not developed yet. It helps us to know if the plugin is requested or not.\nAs I already said, we can't offer all the features for free. We have to find a way to make the OSS sustainable. If we offer everything for free, the project is going in the wrong direction and it'll certainly die in a few years. A lot of enterprises, web-agencies or startups are using Strapi and they are able to pay for some features. We're trying to do our best to build a smart business model. As an OSS it's complicated for us to charge based on the usage (requests/s for example) so we have an approach based on the features offered for now. Everything can change, we're listening to the feedback to find the perfect match between the community version and the paid version of Strapi.. I'm talking about the exact same plugin. There will be only one i18n plugin which will be available through the Premium plan for now. This is our goal to keep our nice community (<3) and stay accessible to everyone. \nWe're trying to educate everyone that \"open-source\" doesn't mean \"free\". There is always a cost behind each feature (hours of design, development, communication, maintenance, etc). If something is free for you, someone paid for it.. I'm closing this issue to keep the repository as clear as possible. We're moving the feature request on Product Board. Please refers to this card (https://portal.productboard.com/strapi/c/19-content-internationalization) about the content internationalization. Feel free to give us more insights and examples using Product Board.. @davidmarcoes It would be better to open a PR if it works on your side \ud83d\udc4d . Please refers to this card on Product Board (https://portal.productboard.com/strapi/c/26-new-plugin-architecture). I'm closing the issue because we will implement and write tests with the new plugin architecture.. @synth3tk @synth3tk Thank you for this pull request! You made an excellent work, I've done a few feedback, though \ud83d\udc4d. @vaskort It seems perfect to me. I also need to approval of @lucaperret on this one to make sure it won't have any impact with Docker. @lucaperret Can you take the lead on this one? It's clearly out of my scope \ud83d\ude48 . LGTM \ud83d\udc4d . Yes, we should lowercase the email because an email isn't case sensitive. Can you make a PR? We would love merge it \ud83d\udc4d . I found this issue very interesting! As @lauriejim suggested, you can create a new content type called \"Expertise\" and it will do the job. But, if you've only 4 expertises, I completely understand that you don't want to create a new content-type for a so little number of entries.\nIMO, it makes sense to allow multiple values for Enumeration type (without any relation model in mind). . A simple JSON array? Of course, we should stringify it for SQL databases which don't support JSON format.. Yes, oneWay relationship needs to include the ID of the referring document on the other side. It means the value is a document with a value. Here, we are talking about Enumeration, this is just a value.\n```js\n[id1, id2, id3] // manyWay\n[value1, value2, value3] // multiple enumeration value\n```\nEdit: I agree at the end it returns the same result (from a JSON point of view) but there is a difference in the database. I think it's almost impossible to switch from manyWay to multiple enumeration value.... @mnlbox I agree with this, we should support two separators: comma and new line.. @mnlbox Complicated... I'm trying to define the roadmap and identify which are the most important tasks to work on. Currently, we are restructuring our way of working because every one of us (in the core team) is working on too many tasks which means that we're not doing the job as it should be.\nPersonally, I'm not sharing enough information with you and the community about the next features, the roadmap, etc. For example, we have to update the plugin architecture first (front-end & back-end) to be able to add this kind of feature (enumeration or array fields) easily then.\nFor now, I would suggest to let the issue open to keep it in mind.. @soupette As we discussed, we will only support one value per line. Also, we will remove the spaces before/after each value.. Not yet but @soupette is working on the content type builder and we talked about this yesterday.. @mnlbox We removed the support because it was the cause of a lot of bugs. It seems that Bookshelf doesn't support well SQLite... We could try to reintroduce it as an official supported database, but we should hard-test it before.. @mnlbox It's not a priority for us so we didn't add it to our roadmap.... I added it on Product Board. Feel free to upvote and give us insights to justify the development of this new database connector (see https://portal.productboard.com/strapi/c/35-support-sqlite-database).. @lauriejim It looks awesome! I'm more than okay with this enhancement, we need to make sure it breaks nothing, though... . @ackro Thank you for this PR! It seems to work as expected however this method is a recursive one and you added a condition inside this recursive which is executed a lot of times. \nI think we could do something better and exclude the info.script object for being templated. Here how we could proceed:\n```js\n// Current\nthis.config = templateConfigurations(this.config);\n// New\nthis.config = Object.assign({}, this.config, templateConfigurations(_.omit(this.config, 'info.script')));\n```\nWhat do you think about this solution?. @ackro Yes, I would love to... because we could exclude more objects in the future (for security reasons mainly). @ackro We're waiting for your changes and we'll be able to merge it \ud83c\udf89 . It seems to work even if it's not optimized as we could except, we should merge it. @lauriejim let's go \ud83d\udc4d . LGTM \ud83d\udc4d . @Charuru We encourage you to buy the plugin to show your interest, even if the plugin isn't developed (you won't be charged, don't worry \ud83d\ude48). If you want a quick solution, you have to write it yourself.. @synth3tk Thank you for this PR! Can you please update the documentation as well?. I confirm we're using the formal tone. Thank you so much for this PR!\nLGTM \ud83d\udc4d . @TokenChingy The Bug #2 is due to the version of MongoDB. Please make sure you're using the latest version (>3.6).\nI don't have time to improve the changes made to this PR. I would love to see you make the new updates to be able to merge it \ud83d\ude0d . @TokenChingy Yes, we should certainly create a Scalar type to handle Decimal \ud83d\udc4d . @TokenChingy Yes, you can! This has to be done anyway \ud83d\udc4d . @TokenChingy Thank you, we have to keep in mind to close this PR when the other will be merged.... @derrickmehaffy The code looks good to me but as you noticed, can you please update the documentation?. Thanks for the feedback! They are all fixed \ud83d\udc4d . I agree that we should support this feature. There is a public card on Product Board (https://portal.productboard.com/strapi/c/34-refresh-token-jwt), feel free to upvote it and give me more insights.. @deeq14 The roadmap is up-to-date and we don't plan to work on this feature this year. However, we would love to see someone in the community trying to implement it \ud83d\udc4d . See https://github.com/strapi/strapi/issues/2161. @kuongknight Can you update the documentation? . @dj-hedgehog Yes, thank you! @lauriejim is going back from holidays the next week, it should be merged at this time \ud83d\udc4d . The relational fields are not like the others, I like to distinguish them from the others fields. However, it's especially true for the selectMany component because you can reorder data, etc.\nWe'll see in the future if we could change that though...\n\nI've made my review of the design & functional part of the PR. I'm waiting for @soupette to fix them. When it'll be done, I'll review the code :). @joebentaylor No for now, but you understood where we're are going. We have all we need to be able to build pages (content-type builder, content manager with flexible layout).  In the future, we will develop a plugin \"Pages\" to let you build pages from the dashboard to manage the content of your website \ud83d\udc4d . @sbastias You should ask to @soupette, he's the guy you're looking for \ud83d\udc4d . @jskorepa What happens if I upload twice the same file? There is nothing random in your niceHash() method. I tested it and it generates the same hash... You should add something which is random. That's why we choose UUID before it generates a unique hash and there is no way to have a collision.. Yes, you're right it has a nice side-effect \ud83d\ude48 \nLGTM, thank you for the PR \ud83d\udc4d . It seems more powerful than Bookshelf but it seems heavy... I can't really believe that it can really support a lot of SQL databases and also NoSQL databases like MongoDB. There are too many specific features available in MongoDB (and Mongoose the official ORM) to handle them perfectly with TypeORM.\nAnother ORM tried to do the same, it's called Waterline... It's slow, it doesn't scale very well and it has strange behaviours sometimes.\n@brunofigalveskk What could be the advantages of using TypeORM instead of Bookshelf? (except it handles more SQL databases) . @lucaperret Can you test these changes where the GraphQL plugin is installed? Try to generate two or three Content-Types, restart the server and see if it starts correctly.\nWe already talk about the Content-Types Builder in production, it's very risky to allow the use of the plugin. For example, the GraphQL plugin also needs a restart if a new content-type is added.... This issue can be closed because we're supporting it (see https://github.com/strapi/strapi/blob/master/packages/strapi-hook-knex/lib/index.js#L100).\n@adamquaile Can you confirm?. Yes, we need to test everything because maybe there are hardcoded URLs in the dashboard.... Done guys, it should be okay \ud83d\udc4d . @derrickmehaffy It's already the case. If Strapi is running without the admin build (it means the admin is hosted on another server), it doesn't try to fetch the administration. \nHowever, you're right, this PR doesn't handle the case when the project is running without admin panel at all (kinda surprising to use Strapi without the admin panel though).. I think we can already merge that work because it works most of the time. Also, there is an option to disable the autoOpen (see https://github.com/strapi/strapi/pull/1727/files#diff-6f6d5033152dc11eb49ce482f93ff8a8R139). @g-div If my memories are correct, I added this line because the manyToOne relation wasn't working correctly either. Maybe this part of the code should be only executed in a specific scenario.\nIf you remove these lines, please make sure that the manyToMany, manyToOne and oneToMany relations work perfectly by using the admin panel with multiples entries. Also, test the relation from both sides.. We can create the models with the Pascal-cased name. However, the model's names will be lowercased in the global variable (strapi.models.myawesomemodel). It avoids thinking about the format of the model's name to looking for it in the global variable. It's easier to use in an algorithm with loops, etc.\nHowever, the models will be available in the Pascal-cased format through their own global variable (MyAwesomeModel.find()).. @millette The controller's action is always linked to a route. The example is incomplete because we're could understand that everytime you hit GET /hello it will call the controller's action named hello. Whereas it's absolutely not the case.\nTake a look at the routing section: https://strapi.io/documentation/guides/routing.html\nWe should add the routes.json file associated with the example in the Concept section to avoid misunderstanding.. LGTM \ud83d\udc4d \nYou're right, there is a dependency which is not properly declared... However, when you're generating a new project both packages are installed.. Yes, we can call this, the manyWay relationship \ud83d\udc4d . Tell me if I'm wrong but maybe the solution to all our problems should be to distinguish between relations and references.\nThe relations are strict. It means they impact both models. If you can create a relation in one side, you can populate on the other side.\n\noneToOne\noneToMany\nmanyToOne\nmanyToMany\n\nThe references are just links. You link two entity together, there is no strong relation between both. And also, it only affects one model.\n\noneWay\n\nmanyWay. I'm closing this issue to keep the repository as clear as possible. We have a public roadmap available on Product Board, and there is a feature called \"validations\" that matches perfectly with this feature request (see https://portal.productboard.com/strapi/c/14-validations).. @MartinMuzatko Love it! Did you transfer all of our documentation in VuePress? I'm not a big fan of GitBook even if we decided to use it for the documentation. I would love to see what you did in production on our website.. Can we talk in the Contributors channel on Slack to see how we can deploy it on our website?. Don't hesitate to ping me in private (@aureliengeorget). Have a good holiday :). Thank you for this issue, I will do my best to answer to every part of it.\n\n\nOur philosophy is to make Strapi fully customisable. That's why we made the choice to pick the admin from the node_modules and create an admin folder inside the project. It let to the user the possibility to hack the administration, it couldn't be possible if the administration was a package. \nHowever, we could offer both way to associate an administration to the project. By default, it could use the admin package available inside the node_module except if there is an admin folder available in the project. \n\n\nThe plugin management is coming and we won't base it on the package.json. There will certainly have strapi.json file to handle the plugin dependencies, etc. However, we face to the same issue to make every plugin hackable... We need to keep the source inside the project itself.\n\n\nI would love to have more insights into the deployment mechanism part... I'm not sure to understand your meanings on that part.\n\n\nWe suggest to install Strapi (for the ease of use & CLI) as a global package but it also works with local dependency.. Yes, there is a simple reason. We are building an ecosystem. Let's take an example, there are two developers which are building separately two plugins A & B. \n\n\nThe first developer sets a route GET /reset in the plugin A. The other developer sets a route GET /reset in the plugin B. Both developers don't know each other. They decide to publish the plugin on our marketplace (not at the same time, but it's not so important). \nNow, I'm building my project and I want to use the plugin A and the plugin B. I download them. But one of the plugins doesn't seem to work as excepted when I tried to reset. Why? Oh, the GET /reset route of the plugin B overrides the route of the plugin A.\nAt a large scale, you have to prefix the route to let the freedom to the developers of a plugin to name his routes like he wants. Otherwise, it means it has to check in every others plugins that no one is using this route. It simply doesn't work. \nI know the routes aren't as simple as they could be but this solution works perfectly in any case. However, there is an option in the routes of the plugin to avoid the prefix. You need to set the prefix to empty and the route won't be prefixed.\njson\n{\n  \"routes\": [{\n      \"method\": \"GET\",\n      \"path\": \"/user\",\n      \"handler\": \"User.find\",\n      \"config\": {\n        \"policies\": [],\n        \"prefix\": \"\"\n      }\n   }]\n}. @derrickmehaffy Done \ud83d\ude02 . @kapik You're not the first one to ask about this feature! We could certainly add this in the future, we are open to merging a PR if you have enough time to develop it.\n@derrickmehaffy Do you remember the recipe's example? It's almost the same thing in this case. You don't want to create a relationship because it's too long and not necessary. You just want to add multiples entries inside a field.\nFor example, I have a field Ingredients, it will be an array of ingredients. Each ingredient has a name and a picture. The repeater field allows you to do that easily \ud83d\udc4d . I'm closing this issue because we'll add this feature soon. Please give me more insights about your needs on Product Board (https://portal.productboard.com/strapi/c/24-list-components-repeatable-field).. @smakman At the end of Q1, we should start the development at the beginning of March.. Mostly internal, but we will share a prototype with the core contributors. This feature is too complex to be developed by someone in the community without working with us fulltime.. Let's do it!. I created a public card on Product Board. I think the feature is pretty simple to understand but if you want to give me more insights, feel free to do it (https://portal.productboard.com/strapi/c/33-add-notcontains-filter).. @derrickmehaffy It makes sense to me as well to split into different providers, I would prefer to wait until we introduce the plugin architecture updates and features. As I already said on Slack, we are thinking a lot about the plugins and how we can make them more flexible, more extensible & more everything. \nEach plugin should be thinking as an independent application... it's not the case right now.. We will support this feature for sure! Please give me more insights on Product Board (https://portal.productboard.com/strapi/c/32-authentication-providers). I'm closing this issue because the need has been explained enough to me. However, feel free to comments and ping me if you want \ud83d\udc4d . @soupette How do we process this? In my memories, we are trying to JSON.parse() the value inserted in the field. If the parsing doesn't throw an error, it's valid if not we consider the value as an invalid JSON.. I like a lot of things in your thoughts! You've pointed out a pain that we have when developing with Strapi. Everytime, we move from a branch to another, it's safer to run a complete setup by running npm run setup to avoid mislinking packages. Also, our current approach doesn't allow us to work on different issues at the same time without making a brand new setup. You can but it's not easy as it can be.\nThings I would love to be able to do when contributing:\n\nInstall multiple mono-repo of Strapi on my computer. \nCreate a new app and choosing the mono-repo to be linked with by passing the path in the CLI. (strapi new app --linkTo /Users/xxx/Workspace/strapi).\nBe able to have a global install of Strapi (installed from npm) and many others install using the mono-repo.. LGTM \ud83d\udc4d \n\nIt seems the perfect way to do it if we refer to the official Koa wiki (https://github.com/koajs/koa/wiki/Error-Handling). Great job @andfk!. All the errors generated in the stack of middlewares are caught by the Boom middleware. However, the server's errors aren't caught, but it's perfectly normal because Boom is dedicated to catching HTTP errors only.. @TokenChingy @kamalbennani You've certainly a better overview of the plugin to know if these changes are correct or not? I would like to have your approval on this one, if possible. Thanks!. @greatwitenorth Did you make new progress on this PR? \n@kamalbennani Thank you for the comment and review \ud83d\udc4d . @avallete Thank you for raising this issue! Your analysis seems good to me, I would love to see you trying to implement these changes and ensure it works on Windows. \nHowever, I'm not sure to understand how you plan to avoid to use Shell variable. Can you give us an example? These variables are very important and required to run the setup and build scripts. Without them, nothing work.... @NickBolles @Downloaddave @avallete \nHere my thoughts about this issue. I agree with you on many things. However, there are 2 different states to handle:\n- monorepo setup build\n- simple build\nThe monorepo setup build is basically when you clone the repository and you run npm run setup at the root of the repository to install and link all the packages together to be able to make a PR and contribute to the project. This step also launchs a build. \nThe simple build is when you want to re-build the plugin or the administration inside your project.\n\nThat's why, we have to define precisely the paths inside the node_modules folder. Also, our webpack configuration uses the location of the command to determine the application path to set the right configuration for webpack (see https://github.com/strapi/strapi/blob/master/packages/strapi-helper-plugin/lib/internals/webpack/webpack.base.babel.js#L22).\nThe issue is far more complex, but it doesn't mean there is no better way to do it. I'm pretty sure that the whole workflow can be simple and easier to understand. . LGTM \ud83d\udc4d \nThank you @sundaycrafts!. We could add a new option in the ./config/environments/**/server.json file called protocol?\njson\n{\n  \"protocol\": \"http\",\n  \"host\": \"127.0.0.1\",\n  \"port\": 1337,\n  \"autoReload\": {\n    \"enabled\": true\n  },\n  \"cron\": {\n    \"enabled\": false\n  }\n}. The code looks good to me, @lauriejim can you make sure it works well with the GraphQL plugin?. @lauriejim Is this working as expected? I don't have enough skill in bash to completely understand how it works. However, it seems awesome \ud83c\udf89 \n@maturanomx Excellent work! This will certainly speed up the setup time \ud83d\udcaa . @derrickmehaffy I suspected something like this \ud83d\ude48 . @maturanomx It's very important to make sure the setup works also on Windows. It's the main reason we are using ShellJS btw.... @maturanomx The work you were doing was awesome! We should keep it as a base for the future... Are you sure about the decision to close the PR?. @hansemannn +100 \ud83d\udc4d \nWe already thought about implementing the preview of images but I think the implementation of the relational field is more important. But, you're right, it'll be done in the next versions, I can't give you a date though.... I added this feature in our Product Board (not in the public roadmap though) to think about it. I'm closing this issue to keep the repository as clear as possible and references the features requests in one place.. You can already add interfaces and unions type by using the definition attribute (https://strapi.io/documentation/guides/graphql.html#customise-the-graphql-schema).\n./api/product/config/schema.graphql\nmodule.exports = {\n  definition: `\n    union SearchResult = Human | Droid | Starship \n  `,\n  query: ``,\n  type: {},\n  resolver: {\n    Query: {}\n  }\n};. Awesome! Nice work \ud83d\udc4d . @goras It would be awesome you can open the issue and submit a PR to fix it \ud83c\udf89 . I've created a new card on Product Board (https://portal.productboard.com/strapi/c/45-graphql-subscriptions). Please upvote and share your insights through PB, I'm closing this issue.. @jrperdomoz Good catch! Thank you for sharing the alternative solution but it's still an issue and we need to fix it.. I'm closing this issue because it's a duplicate of #1462 and there is also a PR which has been opened by @maturanomx (see https://github.com/strapi/strapi/pull/1932).. The Content-Type Builder defines the schema of your database. If you set a description to a field, this is the description dedicated to the developer or database manager.\nThe Content-Manager defines the layout and allows you to contribute data. If you set a description to a field, this is the description dedicated to the content marketing people. \nIMO, it shouldn't be the same description and the description can be really different. For example, if I have a field Price, I would like to set in the column's description in database Price of the product and Set the price of the product (two decimals allowed) (ex: 93,30) in the create/edit view.\nDoes it make sense to you too?. @goras can we close the issue?. @Blacknosaur @psander-com \nDo we have a workaround to fix this issue because we cannot stay with an older version of GraphQL :/. @Mr-Chilly Thank you for this feature request! I agree with you we should make an exception for the files relationships. As we are handling the files like a relational field, they don't appear when there is already one level of population.\nIf I understand it correctly, in your second suggestion, it means that we should let the user chooses the depth level of nested relations?. @NickBolles In this world, the more project you develop, the more you know that duplicate code isn't a bad thing. I really prefer duplicated code which is maintainable and readable than having one function for handling mutation and resolver with a lot of conditions and very complicated to read.\nThere is no performance issue by doing it like this and it's easier to maintain so we will continue to split both logic into two different files, even if there are a lot of similarities.. I agree with you on most of points. However, in this specific case, I still think it's a great idea to split into both files. However, as I said, there are a lot of similarities and we can try to create pure functions with predictable results. We have the same vision of things, don't worry... I was just trying to explain that I prefer maintainable and readable code than one function for handling two things.\nWe can still have two files with a lot of pure functions which are called and shared across the Query.js and Mutation.js files \ud83d\udc4d\nWe know that the current codebase isn't optimal at all. We have bootstrapped a lot of things to be able to move fast and create this community (and also secure fundraising). We are doing our best to change that and there will have a lot of changes in the next months to improve the code quality.. Waouh! Very impressed by the work done \ud83c\udf89\ud83d\ude0d\nI made some comments but @TokenChingy  seems to be involved as well. Thank you guys for doing this, your work will be valuable to the community!. @kamalbennani Is the PR ready to be merged?. I'm blown away by the work done here... Thank you so much @maturanomx, @derrickmehaffy and @TokenChingy for your contribution to the project \u2764\ufe0f. @derrickmehaffy We removed everything related to the marketplace since alpha@12.... Oh, you're talking about validations? We started some work on this part (see https://github.com/strapi/strapi/blob/master/packages/strapi/lib/middlewares/router/utils/routerChecker.js#L67). We are using Joi inside our router to be able to define request/response validations in the future.. I recommend to read the full explanations of how the current implementation of the validators works (see https://github.com/strapi/strapi/pull/158#issue-90647904).\nI'm closing this issue because there is already a public card on Product Board (https://portal.productboard.com/strapi/c/14-validations).. We could add a specific filter for this particular case... Something like http://localhost:1337/body?edsmID_isNull=true or http://localhost:1337/body?edsmID_isNull=false?. I created a private card on Product Board to keep this feature request in mind. I'm convinced that we need to implement it. Feel free to comment on the issue to give us your thoughts.. @kamalbennani I'm blown away by your work again! Congratulations \ud83c\udf89 \nI wrote comments especially on the architecture and how we could split into more files to avoid code duplication to facilitate the maintenance. . Totally agree with this! This is a feature we will provide in the future. I can't give you a date though.... @derrickmehaffy We should only auto-open the administration when the command strapi start is done manually. If we are in the case of an auto-reload, we should not auto-open the dashboard.\nIt will reduce the frustration. If it's not enough, we should only auto-open for the first start. . It makes the command line more complex for a little feature. I still want the newcomers to run strapi start, then we handle the logic to only auto-open on the first start. IMO, it should be an option disabled by default if you're not using a Macintosh and only triggered when the user is running the strapi start command, not during an auto-reload...\nWhat do you think about that?. @gkarmas Do you have the same behaviour when you're using the playground?. @kamalbennani Any idea? It makes no sense, is this related to Strapi or Apollo?. No activity on this issue, I'm closing. Feel free to ping me or @lauriejim if we need to reopen it.. It seems that no one has this issue. Can you try to identify why this is not working as excepted in your case?. You're right! The Content-Type Builder is a development plugin. His goal is to speed up the development of your project. It should not be used in production. We didn't design this plugin like for this usage.\nThe real pain is to migrate the development configuration to production, and vice-versa. We plan to offer a new command with the CLI called strapi migrate to easily migrate from an environment to another. I can't give you a release date though... . @cschweda Strapi supports multi-environment configurations, so you can use this feature to easily switch between database. However, the configurations stored in the development DB won't be transfered to the production DB. This is why we need the strapi migrate CLI.\nIf your current workaround works, it's okay. It makes sense to me even if this is definitely not the optimal way to do it.... Yes, there are resources available:\n- https://strapi.io/documentation/3.x.x/guides/deployment.html\n- https://blog.strapi.io/how-to-deploy-a-strapi-application/\n- https://blog.strapi.io/deploying-a-strapi-api-on-heroku/. @MartinMuzatko Thank you for the suggestion, I'm not a big fan to override default browser event but in this case, it seems very useful \ud83d\udc4d . I'm keeping the suggestion in mind, we should do a complete keyboard shortcuts implementation. I'm closing the issue to keep the repository as clear as possible. Feel free to comment and ping me if needed.. Great suggestion again! However, Node.js isn't good to process images and serve assets. It hasn't been designed to do that kind of tasks. I understand the need though... this feature could be added to the specifications of the Media Library plugin.. I've added a new card on our public roadmap. Feel free to upvote the feature and give us insights (https://portal.productboard.com/strapi/c/28-media-library-with-edit-crop-resize-capabilities).. To keep the repository as clear as possible, I'm closing this issue. Feel free to continue the discussion on it or on Product Board.. The option isn't documented but you can add a primaryKey key at the root of each model definition.\njson\n{\n  \"connection\": \"default\",\n  \"primaryKey\": \"_id\",\n  \"attributes\": {\n    \"firstname\": {\n      \"type\": \"string\"\n    }\n  }\n}. No, we don't support compound (foreign) keys for now. There is also @dj-hedgehog which is waiting for this feature. \nWe already talk a little bit about how we are handling SQL databases (table, columns, keys) in this issue (https://github.com/strapi/strapi/issues/1114) as well. Feel free to add your thoughts \ud83d\udc4d . I'm closing this issue, we can continue the discussion in the #1114 issue.. @pulpiks What could be the use case behind this feature? I'm not sure to understand the need.... @pulpiks Oh yes, I get it! You are speaking about something like Matrix field or Repeatable field. You define a block of fields (text, pictures and textarea) and you want to be able to repeat this schema as many time you want and everything is stored in a single field finally.\n@lauriejim I know there are others issues talking about the same topics, can we reference them in this issue as well? Thank you \ud83d\udc4d . Thank you @derrickmehaffy!. @Flux159 Sure but if it also means that you can switch to another bucket or provider without restarting the server... . You've convinced me... we should certainly store this configuration in a JSON file. We allow dynamic environment variable in our JSON configurations file so we can switch pretty easily to the new way to handle this configuration.. Good catch! I think we could increase the priority of this feature (cc @lauriejim)?. It should be an option in the Content Manager but it's more complicated than you can imagine. An image can theoretically be associated with multiple entries. So it means that the image shouldn't be deleted until it still related to another entry. But, if it was the latest entry related to this image, the image should be deleted, only if, the option has been checked.. Recently, we decided to close issues which are not real issues. However, everyone can still comment and give his thoughts on the issue. Some features requests will be transfered on the Product Board, sometimes privately or in the public roadmap.\nThis is the reason, I'm closing the issue. The debate is still open though.... @maturanomx Good catch! We could remove the limitation, your use case justifies the changes. Can you make a PR for this?. Awesome!!. LGTM, I need to see it alive on my computer on the website though. We will make the changes on our side before publishing it. Thank you sooooo much for your work! You rock @MartinMuzatko \ud83c\udf89 . @maturanomx As the very beginning, the package-lock.json file wasn't working as expected. I know that NPM worked hard to make it better. We could try to reintroduce it in our install workflow.\nIt was the cause of so many issues and the setup was failed all the time. If it works, I'm okay to use it again.. I just tested the PR, it works well, the design is okay too \ud83d\udc4d . You can remove the folder if you don't want the admin. Or, you can create policy an apply it on every admin route strapi.admin.config.routes. In this policy, you'll be able to check if the option is set to true or not.\n./config/functions/bootstrap.js\n```js\n'use strict';\nmodule.exports = cb => {\n  strapi.admin.config.routes = strapi.admin.config.routes.map(route => {\n    route.policy = (route.policy || []).push('global.shouldAccessToAdmin');\nreturn route;\n\n});\ncb();\n};\n```\n./config/policies/shouldAccessToAdmin.js\n```js\nmodule.exports = async (ctx, next) => {\n  if (strapi.config.myCustomConfig || process.env.myCustomConfig) {\n    return ctx.notFound();\n  }\nawait next();\n};\n```\nAs there is an easy workaround, I'm closing this issue... Feel free to comment on it or ping me if needed.. You can use two features to return the correct result:\n\nautoPopulate: false in the model's attributes: it won't populate but it will return the IDs.\nprivate: true in the model's attributes: it will populate (except if you also set autoPopulate to false) and it won't return this field.\n\nSo, if you use both properties, you can avoid the unnecessary population and hide the fields \ud83d\udc4d . @mnlbox Not at all, it will be applied on every request. You need to edit the ORM's queries in the services to customise the results to fit with your needs.. I created a new public card on Product Board, feel free to give me more insights. I think this feature can be very useful and easily implemented (https://portal.productboard.com/strapi/c/31-exclude-include-fields-from-query-request).\nI added more details about my thoughts:\n\n\nFetch every relation:\n/categories\n\n\nExclude the product relation but returns the others:\n/categories?exclude=products\n\n\nOr only include the products relation:\n/categories?include=products\n\n\nIt should also work with nested relations:\n/categories?include=products.reviews\n\n\nOr with multiple top-level relations and nested relations:\n/categories?include=products.reviews,vendors\n\n\nI'm closing the issue to keep the repository as clear as possible, but feel free to comment on the issue or on Product Board.. @Mat-thieu To me, it means that we should exclude everything. We will use the same filter to exclude fields from the query. It means that we can exclude simple field and relational field.\nGET /categories?exclude=products,name&include=author.articles. You can easily disable the autoPopulate feature by setting the autoPopulate property to false for the fields which don't need to be populated.. Thank you @maturanomx, as you said the path /admin/plugins doesn't exist so the PR is useless to me. I'm closing the PR.\n@mustafa-hanif If you can provide more information and context it could help us to understand what you tried to achieve with the PR. Thank for your time though :). @mustafa-hanif We're a community. I'm not the only responsible. If you read the issues, you saw that we know that we have issues with Windows & Linux. The team is small and we can't fix everything. You're using this software like us, like me. It's open-source if something it's broken you should try to fix it. We are more than open to contributions, but we need to take care of the updates made by the community. \nIn this specific PR, we were not unfriendly with you. We can thank @maturanomx for taking the time to explain to you why we don't need to merge your contribution. I won't respond to your bad words, this is not the place, but you should avoid them next time. It doesn't help you, you lose credibility and empathy from everyone. . @mnlbox Which browser are you using? I noticed this behaviour using Firefox, it was working well with others browsers (Chrome, Safari).... @czanella Can you try with another browser?. Oh yeah! It could be so coooool \ud83d\udc4d \nI'm closing this issue, as it's a feature request we continue on ProductBoard https://portal.productboard.com/strapi/c/25-data-diagram-or-entity-relationship-chart. @soupette Can you test this one?. @soupette I think we will introduce a new kind of input called \"search\". It will work as a select input but it will display a dropdown with the type-ahead feature.\nWe can close it, we won't do it this year though. If you really need this feature, please add your comment below and ping me.. You can merge it though... We'll provide a theme system in the future with a new components library to easily custom colours, fonts, etc. We'll harmonise everything in the future \ud83d\udc4d . This part is not automated at all... I stopped my work at this step because everyone can have a different deployment workflow then. You should create a script that copies the plugins build into a /plugins/* folders on the front-end server.\nIt perfectly normal that the host is always prepended with a slash but the real issue is the value after the first slash, why is there http://localhost:8000?\nI know this part isn't optimal, especially when you want to deploy all the builds on a different server.. I agree and I'm sorry about this. We have a lot of progress to do to simplify the deployment of a project. Especially, when you want to deploy the front-end on another server than the backend.\nWe'll do our best to improve this but we also need your help. Can you find some time to make a PR and update the hardcoded /admin URLs by using the strapi.backendURL variable instead?. @soupette You're right! I made a mistake, the backend routes don't change so the list above isn't an issue and shouldn't impact the deployment on another server.. Sure! We will do it when we'll develop the Media Library plugin. I'm closing the issue to keep the repository as clear as possible. Thank you again for pointing this out!. Sure! Can you make a PR? A good start point could be the hook which loads the files into the AST https://github.com/strapi/strapi/blob/master/packages/strapi-plugin-graphql/hooks/graphql/index.js#L34. @jrperdomoz I looked at your changes very quickly, it seems good to me. Are you sure the buildOr method is generic? I mean it works with Mongoose, and Bookshelf, and any other connector in the future.. The right place should be to move it in the Mongoose hook utils (see https://github.com/strapi/strapi/tree/master/packages/strapi-hook-mongoose/lib/utils). What do you think about that?. We should be able to call the function through strapi.hook.mongoose.utils.buildOr(). However, the utils are not exposed in the strapi.hook.mongoose object. It means we need to edit the file https://github.com/strapi/strapi/blob/master/packages/strapi/lib/core/hooks.js like this\n```js\n'use strict';\n// Dependencies.\nconst path = require('path');\nconst glob = require('glob');\nconst { parallel } = require('async');\nconst { endsWith, get, set } = require('lodash');\nmodule.exports = function() {\n  this.hook = {};\nreturn Promise.all([\n    new Promise((resolve, reject) => {\n      const cwd = this.config.appPath;\n  // Load configurations.\n  glob('./node_modules/*(strapi-hook-*)/!(node_modules)/**/*.*(js|json)', {\n    cwd\n  }, (err, files) => {\n    if (err) {\n      return reject(err);\n    }\n\n    mountHooks.call(this, files, cwd, 'node_modules')(resolve, reject);\n  });\n}),\nnew Promise((resolve, reject) => {\n  const cwd = path.resolve(this.config.appPath, 'hooks');\n\n  // Load configurations.\n  glob('./**/*.*(js|json)', {\n    cwd\n  }, (err, files) => {\n    if (err) {\n      return reject(err);\n    }\n\n    mountHooks.call(this, files, cwd)(resolve, reject);\n  });\n}),\nnew Promise((resolve, reject) => {\n  const cwd = path.resolve(this.config.appPath, 'plugins');\n\n  // Load configurations.\n  glob('./*/hooks/**/*.*(js|json)', {\n    cwd\n  }, (err, files) => {\n    if (err) {\n      return reject(err);\n    }\n\n    mountHooks.call(this, files, cwd, 'plugins')(resolve, reject);\n  });\n})\n\n]);\n};\nconst mountHooks = function (files, cwd, source) {\n  return (resolve, reject) =>\n    parallel(\n      files.map(p => cb => {\n        const folders = p.replace(/^.\\/node_modules\\/strapi-hook-/, './')\n          .split('/');\n        const name = source === 'plugins' ? folders[folders.length - 2] : folders[1];\n    this.hook[name] = this.hook[name] || {\n      loaded: false\n    };\n\n    let dependencies = [];\n    if (source === 'node_modules') {\n      try {\n        dependencies = get(require(path.resolve(this.config.appPath, 'node_modules', `strapi-hook-${name}`, 'package.json')), 'strapi.dependencies', []);\n      } catch(err) {\n        // Silent\n      }\n    }\n\n    if (endsWith(p, 'index.js') && !this.hook[name].load) {\n      // Lazy loading.\n      Object.defineProperty(this.hook[name], 'load', {\n        configurable: false,\n        enumerable: true,\n        get: () => require(path.resolve(cwd, p)),\n        dependencies\n      });\n\n      this.hook[name].dependencies = dependencies;\n    } else {\n      const splitPath = p.split('/');\n      const objectPath = splitPath.slice(splitPath.indexOf('lib') + 1).map(name => name.replace('.js', ''));\n\n      set(this.hook, [name].concat(objectPath), require(path.resolve(cwd, p)));\n    }\n\n    cb();\n  }),\n  (err) => {\n    if (err) {\n      return reject(err);\n    }\n\n    resolve();\n  }\n);\n\n};\n```\nThen, you'll be able to retrive the utils via strapi.hook.mongoose.utils.buildOr().. I completely agree with all of you about this security issue. Currently, the policy system that we have is great but it only works for REST. I think we could reuse/extend this system and apply it to the field level. Or maybe we should rethink it entirely.\nIMHO, the issue is specific to GraphQL. We do not have that kind of issues with REST because the queries are not nested like it can be using GraphQL.\nI don't like the idea of extending the UI because the UI has to be agnostic or support the feature both for REST and GraphQL. What do you think if we support a new property fields when you can apply a new level of policy?\njs\nmodule.exports = {\n  resolver: {\n    Query: {\n      bank: {\n        description: 'Return a single post',\n        policy: ['plugins.users-permissions.isAuthenticated'],\n        fields: {\n          users: {\n            allow: true,\n            policy: ['isBankOwner']\n          }\n        }\n      }\n    }\n  }\n};\nHowever, I already see the limitation of this solution... how can we support more than one level of policy? What happens if inside the users field I can access to the bank account, etc. \nImagine a query like thisbank(id: 1) { users { bankAccount {\u00a0id, name, total } } }... I shouldn't let the bank owner to access to the total of every account in the bank (the example doesn't make sense but you understand the idea behind).. @NickBolles Oh, I like this approach of field policy. I think we should add the support a new policy attribute in the model instead. So, the GraphQL plugin will be able to easily retrieve policies associated with a field and execute them in order to let the user access to the data or not.\njson\n{\n  \"connection\": \"default\",\n  \"attributes\": {\n    \"username\": {\n      \"type\": \"string\"\n    },\n    \"email\": {\n      \"type\": \"email\"\n    },\n    \"role\": {\n      \"model\": \"role\",\n      \"via\": \"users\",\n      \"plugin\": \"users-permissions\",\n      \"policy\": [\"isOwner\"]\n    }\n  }\n}\nHowever, I'm worried about the format of our current policy. I would like to keep a generic format of policy for routes and fields if possible.\n```js\nmodule.exports = async (ctx, next) => {\n  // Do stuff\nawait next();\n};\n``. @greatwitenorth Can you test the solution proposed by @maturanomx? It should work, then we'll be able to merge the PR. Thank you for your work \ud83d\udc4d . The script is good to me, but we should not force the user togit add` files as @maturanomx said. We could use a bot and GitHub Webhooks to run this task. It'll be more transparent for everyone.. There are packages available for Bookshelf (https://www.npmjs.com/package/bookshelf-soft-delete) and Mongoose (https://github.com/Kubide/k-mongoose-soft-delete). It could be easily added as an option to the connectors (strapi-bookshelf & strapi-mongoose).. I'm closing this issue, but I've added a new private card on Product Board to consider it in the roadmap. It doesn't seem to be a priority (that's why the card isn't public for now), but feel free to upvote this issue and comment if you've more insights. As I said, the feature can be easily added, PRs are welcomed as usual \ud83d\udc4d . Please, see my thoughts (https://github.com/strapi/strapi/issues/1427#issuecomment-435061400). It doesn't mean we should not merge this PR, but we should scope the work done. If the PR displays better logs, it's okay. But we should not handle more than that.. I'm closing this PR since we won't merge it. Please read the discussion to understand our point of view.. Interesting... IMO, there is another way to modelize the scenario. You can create a first entry which will be the parent. Then, every other entry is linked with this parent entry (one-to-many relationship).\nLet's take an example, this is my parent entry.\njson\n{\n  \"id\": 1,\n  \"title\": \"Parent entry\",\n  \"parentEntry\": null,\n  \"relatedArticles\": [2, 3]\n}\nYou can easily display the related articles by populating the parentArticle relationship to retrieve the relatedArticles property.\njson\n{\n  \"id\": 2,\n  \"title\": \"Child entry\",\n  \"parentArticle\": {\n    \"id\": 1,\n    \"title\": \"Parent entry\",\n    \"relatedArticles\": [2, 3]\n  },\n  \"relatedArticles\": []\n}. @wdavidw Did you try to create the association without using the UI? Does it work?. I would love to see someone trying to dig into the strapi-mongoose/lib/relation.js file to understand what happens... I guess this is a case which is not handled.\nCurrently, we have others priorities. @wdavidw or @andrewmee are you able to take a look?. @wdavidw Thank you for investigating this issue. I don't have time to take a deep look and trying to understand how we can solve this. You should use to workaround proposed below if you're looking a quick way to move forward.. Excellent feature request as always \ud83d\udc4d \nI've linked to the PR to the public portal (see https://portal.productboard.com/strapi/c/12-migrate-across-environments).. I'm closing the issue to keep the repository as clear as possible. If anyone has any feedback, please send us on Product Board, instead, you can still use this issue, if you want to discuss the feature because Product Board doesn't allow public comments for now.. @pbov I've followed the instructions and I wasn't able to reproduce using MongoDB and MySQL. I'm closing this issue. Can you try to re-test with the latest version of Strapi and ping me if needed.. This PR is a duplicate of https://github.com/strapi/strapi/pull/2216. We won't merge this one because it only fixes the issue for Mongoose.. @jacobgelman Do you think this is something that could be defined through the Content-Type Builder plugin? To me, the computed attribute is a conditional attribute.\nIf stock is > to 0 returns true, else returns false. It's definitely something that could be handled via the UI.. We don't plan to develop it for now... so there is no news or progress about this one. I'm closing the issue but you can still upvote it or comment above to show your interest.. I already started to work on something similar in the UI. What's the final goal of this? In my understanding, it'll expose a cleaner API. Are there others advantages?\n\n. Ok, what you're proposing should be only applied on the UI. We could certainly implement that in the future \ud83d\udc4d \nI've taken notes of your comment in Product Board. I won't create a public card in the roadmap because it's not a priority for now. I'm closing the issue to keep the repository as clear as possible, however, everyone can still comment on this issue and upvote it.. @mnlboxAs I said, I won't create a public card in the roadmap because it's not a priority for now.. We need to test carefully because I'm still concerning about some changes made.. We should expose the Mongoose connection initialized in the hook strapi-mongoose, so we'll be able to apply plugin in the bootstrap.js files.\nFor example, we have a similar system for Bookshelf which requires a bookshelf.js inside the ./config/functions folder (see https://github.com/strapi/strapi/blob/master/packages/strapi-hook-bookshelf/lib/index.js#L57).\nIt lets us create a bookshelf.js like this to load plugins. We could certainly do something like that for Mongoose too.\n```js\n'use strict';\nconst _ = require('lodash');\nconst softDelete = require('bookshelf-paranoia');\nconst cacheRedis = require('bookshelf-cache-redis');\n/*\n * This gives you the opportunity to customize your Bookshelf instance.\n * For example, this file is very helpful to add plugins.\n /\nmodule.exports = (bookshelf, connection) => {\n  try {\n    bookshelf.plugin(softDelete);\n    bookshelf.plugin(cacheRedis, {\n      instance: Redis,\n      disabled: true\n    });\n  } catch (err) {\n    console.error(err);\n  }\n};\n```. @jacargentina Go for it, try to use the same trick we used with Bookshelf.. Awesome! Great job @jacargentina \ud83d\udc4d . This PR is a duplicate of https://github.com/strapi/strapi/pull/2216/files. The code is the exact same, except that the tests are failing on this one. Also, the other PR was made before, so we'll merge it in priority. Thanks for your work \ud83d\udc4d . We will release the documentation plugin at the end of the year! Like @derrickmehaffy said, the plugin is using SwaggerUI. It automatically generates an OpenAPI file based on the models of the project.. The plugin is already at the \"Testing\" stage ;). I'm tired of MongoDB... I can't count how many times we tried to fix the decimal issue. It reappears again and again! @Leo1003 do you have time to submit a PR? We would love to merge your work \ud83d\udc4d . Oh, is it like Zappier?. Yes, I don't know if we should handle the workflow on our side. I would prefer to develop a Zappier plugin based on the webhook instead of developing a copycat of Zappier.. You should really use GraphQL for that kind of purpose. I'm closing this issue because we won't implement something like that in our generated REST API. Thanks for the proposal though \ud83d\udc4d . @cupofnestor We will provide an easy way to switch between environment. We know that currently, it's a real pain. However, we will continue to store the metadata in the database because these metadata can be changed on the fly without restarting the server. This is the only reason why we're storing them in the database instead of local JSON files. It avoids server restart.. We are following the initial implementation made by the Apollo team. I'm not sure we should change it... \n@derrickmehaffy As I'm working on GraphQL right now, I'll try to find time to take a look at this issue too.. @derrickmehaffy There is no issue here. It works as excepted. The GraphQL endpoint is available through POST request by sending the query using the body or GET request by passing a query parameter.\nSee more details in the Apollo documentation (https://www.apollographql.com/docs/apollo-server/requests.html).. @mnlbox I will display this card as public when there will be more than one person asking for it. Currently, you're the only one who wants this feature. I want to keep the public roadmap clear and understandable. I hope you'll understand \ud83d\udc4d . Keep me in touch when you will have upgrade to the latest version... It should be fixed \ud83d\udc4d . @abdonrd You need to custom the generate User type and add this custom field battles. Also, you've to change the default behaviour of the controller to return the results following this new response format.. Can you show me the battles field in the UserPermissionsUser model? Is it a collection?. The battles is a String because the GraphQL plugin detects the model property. It makes no sense to define a type: array with the model property for the same attribute. Can you change the model property to collection instead?\njson\n\"battles\": {\n  \"type\": \"array\",\n  \"collection\": \"battle\"\n},. @abdonrd Oh you're right... it's because we don't support the manyWay relationship for now. Once it'll be the case, it should work. So I don't have a clean solution in mind to find a workaround for this issue :/. Sure, it will certainly be fixed with the \"Repeater Field\" feature ;). @abdonrd I can't find the request on Product Board... Are you sure you've validated your email?. @abdonrd You don't need to send this to Product Board. We are only referencing new features (not small changes or enhancements). Sorry, my answer was confusing.... I would like to avoid to create a folder cypress at the root of every plugins. We should create a folder called tests instead.. The code LGTM (I didn't test it though) \ud83d\udc4d . Can you give me a code sample to understand correctly your proposal?\njs\nmodule.exports = {\n  // Many to many relations\n  products: (data) => {\n    // Do stuff.\n    return data;\n  }\n};. LGTM \ud83d\udc4d . I was on holidays during the last two weeks. I'll continue my work next week to merge it for the next release \ud83d\udcaa . This PR has been pulled on the #2380. We can close it and the work done here will be merged.. LGTM \ud83d\udc4d . Yes, it will be fixed for the next release \ud83d\udc4d . This PR https://github.com/strapi/strapi/pull/2380 should fix this issue. I've faced the same issue while I was developing so I fixed it inside the same PR. . LGTM. @lauriejim Can this PR be closed since we revert the changes made by @kamalbennani?. @derrickmehaffy we should create a configuration file and disable the tracing by default.. @kamalbennani I tried to run this query but it didn't work...\n{\n  products (where: {\n    buyers: {\n      username_contains: \"Aurel\"\n    }\n  }) {\n    title\n    buyers {\n      email\n      username\n    }\n  }\n}\nWhat's wrong?. It returns an empty array [] instead of returning the products which I bought...\n```\n// Product\nname\nbuyers (many-to-many with User)\n// User\nfirstname\nemail\n...\nproducts (many-to-many with Product)\n```\nThen I attached me as a buyer (Aurelsicoko) to several products. Finally, I've tried to make the GraphQL above query.. I forgot to write my comment, but the issue I raised has been fixed. Thank you @kamalbennani \ud83d\udc4d . I found another issue... Here my configurations:\n```\n// Article's model\n- name:string\n- categories:many-to-many\n// Category's model\n- name:string\n- articles:many-to-many\n```\nI've created three articles (A1, A2 & A3). Then, I've created three categories (C1, C2 & C3).\n\nA1 is associated with C2\nA2 is associated with C2 & C3\nA3 is associated with C3\n\nHere the results without any filters applied.\n\nIt works as expected. Now, try to apply a limit 1 to the categories field.\n\nYou can notice that the A3 article isn't associated to any category whereas it's the case. This is due to the DataLoaders implementation, only the C2 category is fetched in the second case whereas C2 & C3 should be fetched then mapped to the return the correct results.\nIt was working before it's not working anymore because you dropped too many lines of code\n- https://github.com/strapi/strapi/pull/2452/files#diff-a056f29ab621b93285370edb48940246L362\n- https://github.com/strapi/strapi/pull/2452/files#diff-03fa4608ba640439e9d9b1e8fe6ea352L264\n- https://github.com/strapi/strapi/pull/2452/files#diff-03fa4608ba640439e9d9b1e8fe6ea352L279\nEspecially in this file https://github.com/strapi/strapi/pull/2452/files#diff-29464a3045df9a126184040a699f2b90. I've put a lot of warnings due to these tricky cases.\n. Awesome! It works like a charm, excellent work @kamalbennani \ud83d\udc4f . We need more details... I cannot answer you without any logs.. I'm closing this issue until you give us more details. We'll reopen it when we'll have the necessary information to reproduce it \ud83d\udc4d . I've created the card on Product Board (https://portal.productboard.com/strapi/c/47-multiple-authentication-providers-per-user).. The enumeration field should be converted to null if the value is empty instead of trying a workaround like that. What happens if you remove the \"\" value at the beginning of allowed values?. @abdonrd The second solution seems the good one. The issue is coming from the frontend. It should allow an empty option. However, it should consider the required property. If the field is required, the empty option should not be available. Otherwise, it should be the case.\nCan you submit a PR to handle this new use case?. @soupette is the guy you're looking for \ud83d\udc4d . This special case should be handled by the GraphQL plugin which should sanitize the name's attributes.. Not sure to understand this one. It seems to be the correct behavior, no?. LGTM \ud83d\udc4d . I've created a card on Product Board https://portal.productboard.com/strapi/c/48-split-date-and-time-fields-in-multiple-components. . LGTM. I do understand the need but as you said, we have to handle as most cases as needed. I might be possible to make a cleaner response with only the file URL like that:\njson\n[\n  {\n    \"id\": 23,\n    \"name\": \"Apple Inc\",\n    \"code\": \"APPL\",\n    \"logo\": \"https://bucket.s3.region.amazonaws.com/b2849a80c90043b3bba220637829a947.png\"\n  },\n  {\n    \"id\": 24,\n    \"name\": \"Walmart Inc\",\n    \"code\": \"WMT\",\n    \"logo\": \"https://bucket.s3.region.amazonaws.com/811f389a0eac4ca1be0b34192f7cc291.png\"\n  }\n]\nHowever, the join query will still be done because our system is developed like that. And why, we did it like that? Simply because the same image can be associated with any kind of entries (multiples kind of content-types and entries). But, you can still say to me that you don't care and we can still store in the Company row in the table the raw URL as a string. Yes, but what happens if you delete the file? It means that you have to parse all your database and remove the URL in each entry of each content-type which are linked with this image.\nSo, I know it can be surprising at the beginning to see a relational field for an image. But, trust me. We did a good choice, and we anticipated many future issues (media library, etc).\nAbout the performances issues, until you've more than 50/100k entries, you won't see them. Then, you can easily build indexes to speed up the join query. I'm closing the issue because we won't do it but feel free to answer though.. I agree on this as well... we should offer an easy way to sort and reorganize the tags in a specific order. @derrickmehaffy what do you think about doing it in a separate file?  . I've created a private feature on Product Board to keep this in mind. I would love to see a contribution from the community to develop this feature.. It might be a bug... When you said \"create a new content and press in \"+ Add New {content}\" twice or more times quickly.\", does it mean that you create a new content type, then clicks on save, then you're \n redirected on the list view, and so on...? I know that you . The GeoJSON field wasn't one of priority. The GeoPoint (aka Map) is a priority for example. However, the work done here seems pretty good. I would love to see it merged to the project.\nI'm not sure to understand the questions:\n\nWhere do you expect to store the vectors tiles?\nCan you submit the PR so we'll be able to review the code and continue the work together,. @arogyakoirala So if we have to depend on a third-party, we should add a provider system to this new type of field.\n\nAbout the GeoPoint is nothing more than a pin that you put on Map. It just works like a GPS (lat, lon coordinates).. @arogyakoirala Is it possible to change the map background in your field? In the beginning, I was thinking about using something like OpenStreetMap ;). Yes, I agree! I've created a card on Product Board https://portal.productboard.com/strapi/c/49-display-relational-field-in-list-view \ud83d\udc4d . It seems to be a security issue... The user shouldn't be able to choose his role because it could use the parameters to choose the admin role and bypass the real administrators.. @mikaelgramont You're right! The mutations were missing. There is already a PR which is going to be merged to fix this (see https://github.com/strapi/strapi/pull/2380).. This PR hasn't been solved due to a lack of time. I had only added the create, update and delete mutations for the users. If someone can continue my work and add the login/logout and register mutations it could be awesome \ud83d\udc4d . Thank you for reporting this feature request. We should offer this possibility through the Content-Manager layout settings page, not the Content-Type Builder.. So you want to group them in the menu? I'm not sure to clearly understand the proposal.... LGTM. The globalId are generated here (https://github.com/strapi/strapi/blob/master/packages/strapi/lib/core/configurations.js#L196).\nThe real issue seems to come from this line: https://github.com/strapi/strapi/blob/2b4ad0009555d56000b4a1ad0be3dd7340e819fa/packages/strapi-hook-mongoose/lib/relations.js#L163\nEspecially the _.toLower(obj.ref)... You should take a look at the value of obj.ref.. Nice job \ud83d\udc4d \nHowever, we should remember why we removed the SQLite support 8 months ago... (see https://github.com/strapi/strapi/pull/1025). It was probably due to a lack of time (cf https://github.com/strapi/strapi/issues/485) but we should be careful about this re-implementation.\nAlso, I was thinking about removing completely the database's step during the project's generation process. 95% of the time SQLite will perfectly match with the needs of the developer.. We have to merge the https://github.com/strapi/strapi/pull/2380 PR first. Then, we'll be able to fix this issue.. Excellent idea! Do you have the time to make a PR for this feature? We'll be happy to merge it \ud83d\udc4d . @denisinvader Thank you for noticing this. We should use the word \"Content\", so it means that it should be translated to \"\u0422\u0438\u043f\u044b \u041a\u043e\u043d\u0442\u0435\u043d\u0442\u0430\" (feel free to correct my Russian \ud83d\ude48). Can you submit a PR, we'll be happy to merge it? \ud83d\udc4d  . Did you try to delete the package-lock.json file?. @deeq14 Can you confirm that the Content-Manager's routes weren't opened for the public role?. We will stay an headless-cms and we won't integrate any kind of front-end in our solution. The only thing that we could do is to work closely or having better integration with specific front-end technology.\nIn your example, you're only talking about websites because Reframe seems to be designed to develop front-end website. In our case, Strapi is already used for IoT devices, mobile app, website, etc. Strong integration with Reframe will limit us to a specific use case and we don't want that. \nMaybe I'm missing your point but I cannot see any kind of benefit for us in your proposal :/. LGTM \ud83d\udc4d \nWe're waiting for the final approval... @soupette. You're setting the policies in the router which relates to the REST API. If you want to add policies to a specific GraphQL query, you have to use the schema.graphql file (see @lauriejim link above).\nWe want to keep both APIs separated from each other. I hope it makes sense. Feel free to comment even if the issue is closed.. @conghai I disagree with your point of view. The routes.json refers to the REST API whereas the schema.graphql refers to the GraphQL API. This is the reason that we have two different files and you've to apply the policy on both. In the beginning, we thought it was a good idea to attach policies to the controllers to unify them whatever the endpoint you use (GraphQL or REST). But it happens that sometimes you've to apply a policy for a specific kind of API. \nAn example could be a policy which checks the URL parameters' types. It's useful for a REST API but it doesn't make sense for a GraphQL API because there is a schema and the parameters are already typed. So, we've to apply a different stack of policies depending on the endpoint.. @deeq14 Thank you for raising this issue! Do you have time to implement it? We'll be happy to merge it to the codebase \ud83d\udc4d . @deeq14 You should start here (https://github.com/strapi/strapi/blob/master/packages/strapi-plugin-users-permissions/config/schema.graphql#L29). But it seems that the query is already implemented, can you confirm?. Okay, I got it! If you want to be able to retrieve a relational field through the query me, you have to change this line https://github.com/strapi/strapi/blob/master/packages/strapi-plugin-users-permissions/config/schema.graphql#L25. Instead of returning UsersPermissionsMe, you need to change this line by UsersPermissionsUser.. The UsersPermissionMe isn't a model and it's only available when you're using GraphQL. So, option 1 is the only option we have.\n@yareyaredesuyo can you make a PR and update the documentation, please? Thank you :). @abdonrd Do you have time to implement it?. Waouuh! Awesome \ud83d\udc4d . LGTM, great work @soupette \ud83d\udc4d . @mnlbox The webhook are already planned in our roadmap. The feature contains also a UI as you mentioned above. I'm closing this issue, please refers to this card to give me more insights (https://portal.productboard.com/strapi/c/27-webhooks).. It seems that you're using an old version of Strapi (alpha.12.6). Can you try to upgrade to the latest version?. It makes sense, I will add this feature in ProductBoard even if it's not a priority for us right now (https://portal.productboard.com/strapi/c/53-change-user-email).. LGTM \ud83d\udc4d. @ojengwa Can you please update the documentation and add examples? Also, I've made a comment on the PR.. We won't merge this PR without any documentation :/. @dainikinsider Thank you for raising this issue! I'm sorry to say that but it's clearly not a priority to implement this kind of features. It's too specific and I think the new plugin architecture/framework will allow you to do that. You might already be able to add a new field dominantColor:string in the File model, then using the model's lifecycles beforeSave where you could set the value.. LGTM. LGTM, it works like a charm on my machine (MacOS). The link \"Documentation\" at the bottom of the menu is going to be removed in a few weeks. So don't worry about this issue anymore \ud83d\ude48 . @abdonrd can you make a PR for that?. LGTM \ud83d\udc4d . Nice work @virginieky \ud83d\udc4d . @derrickmehaffy You might use the work done by @kamalbennani on GraphQL to allow this kind of sorting? Any thoughts?. It's only working on GraphQL for now, we should make sure that our query parameters can support this as well.\nGET /products?price_gte=3&_sort=name:DESC,price:ASC\nI don't know if the comma is the right way to do it. Sometimes, we see pipe \"|\" which works well too.. You should develop a custom hook for that, then loads it before/after the strapi-hook-mongoose or strapi-hook-bookshelf (see https://strapi.io/documentation/3.x.x/advanced/hooks.html#structure).. @lauriejim LGTM. You can already disable them (see https://strapi.io/documentation/3.x.x/guides/models.html#model-options). . I've received the idea on Product Board. We call that feature manyWay relationship but it will work as you described. Thank you for submitting the idea :). We should base the logic on this field on the default value.\n\nDefault value: \"default\" means the enumeration field won't select any value and it'll display \"Choose a category\".\nDefault value: \"meals\" means the enumeration field will select the meals as a default value.. @luc-plamondon As discussed with @soupette will do exactly what you defined in your message.. I completely understand the need here, but our main goal is to manage content (and we have still a lot to do on this part), then we will improve all the secondary things like email templates, multiple authentications, etc. You should edit manually the plugin to fit with your needs. \n\nWith the separation of the core vs custom files, it will be easy to do it in the beta/stable version of Strapi. I'm closing the issue since we don't plan to integrate it in our roadmap for the next 12 months.\nHowever, I would like to thank you for your interest and the idea \ud83d\udc4d  . Thank you @kgrosvenor for submitting this feature request. I've added a new card on our public roadmap https://portal.productboard.com/strapi/c/54-restrict-types-of-files-uploaded.. Interesting... @soupette how difficult it would be to add the id attribute?. I've no answer for now... the only workaround that I've in mind is to rename the column name in the existing table. If you use one of these reserved words it might produce an error later.. I'm closing this issue because there is already a dedicated card on our public roadmap (see https://portal.productboard.com/strapi/c/49-display-relational-field-in-list-view).. I posted a comment, the code looks great but it's not in the right place. We can optimize it with a reasonable effort.. Hey, @derrickmehaffy I've created a new card on PB https://portal.productboard.com/strapi/c/55-merge-mongoose-and-bookshelf-templates :). Thank you Derrick! \nI've created a card on ProductBoard https://portal.productboard.com/strapi/c/56-view-sort-and-filter-by-created_at-and-update_at-fields. It should not be too long to display the fields but the sorting/filtering could be more difficult because we will manipulate dates.. Interesting... I don't know how it could be CPU consuming or even if it's our role to do that. I like the approach because we won't store HTML in the database for sure.\n@alexandrebodin any thoughts on this?. @lauriejim it could be tagged as a good first issue \ud83d\udc4d . To keep consistency in our codebase, it could be great to use the Lodash get method or remove it but always use the same syntax for returning the policy function.. Add a condition to only set the config.policies object when plugins['config/policies/*] is not empty to avoid to make the next line obsolete.. It seems useless because Bookshelf already sets the id attribute as a default primary key (see http://bookshelfjs.org/docs/src_base_model.js.html#line115). strapi.config.hook.settings.ejs.cache. Delete this file. Delete this file. strapi.config.hook.settings.mongoose?. strapi.config.hook.settings.redis should be better to keep consistency between hooks.. Remove the admin because we don't need it anymore.. Good catch!. No f*g idea. It fixed!. Is it possible to put this color in a variable?. You don't need to create this variable. It will be okay if you have to format it or the values. Maybe it's an anticipation for a next iteration (not sure about my comment)? . Same as my previous comment. I'm not sure you need to declare this variable.. Hard coded value? The words \"Change\" and \"field\" should be into a separate file? Again, I'm not sure about my comment on this point, just asking :). Maybe it could be great to create a _deprecated folder into the components folder to put the old component for history before deleting them in the future?. This variable is static but because you put it here, everytime the renderInput method is called the variable is re-declared. Could it be interesting to use the this context? It means that you could declare the variable this.inputs in the constructor and expose your inputs components through the context. It's up to you, I'm just asking as usual :). Not a big fan of this portion. The switch is too much static. What happens if we support another type of databases in the future? Moreover, it should be based on the client property and returned by the back-end.\nFor example, if the connector is strapi-bookshelf and the database is postgres, we should display PG. If the connectoris strapi-mongoose it should display M. If the connectorstrapi-redis, we should displayR`.\nThe rules are simples:\n\nTake the first letter of the database.\nExcept for the SQL databases (PG => postgres, MS => mysql, L => sqllite) . I'm not a linter but the variable should follow the camelCase pattern and should be called requestUrlAppLanguages. \u00e9xiste should be replaced by existe.  This comment is also available for the request.error.languages.unknow key.. ```js\nif (!_.has(Service, slug)) {\n  return ctx.badData(null, [{ messages: [{ id: 'request.error.config' }] }]);\n}\n\nctx.send(Serviceslug);\n```\nIt seems more logical because you have two conditions to check the same thing.. Same as previous comment.. Use strapi.config.appPath instead of process.cwd(). . Same as previous comment.. Few questions about this method:\n\nWhy do you need to clone the object?\nWhy you don't restart the server after the deletion?\nDo you also remove the hook (strapi-mongoose, strapi-bookshelf) from the node_modules if you don't need it anymore?\nWhat happens to the models which are related to the deleted connection?. You could use the this.config.currentEnvironment variable instead. Also, the configuration key is autoReload not reload.. The logger can't be disabled. So, this configuration should be called exposeInContext.. Also add a new configuration key level to let the user customs the log level.. Why this action name hasn't the same convention as the others? Should it be called createModel based on the updateModel and deleteModel methods?. I can't find where this variable is declared?. To avoid code repetition, it could be cool to require your service here.\n\nconst Service = require('../services/ContentTypeBuilder');. Put this one as first to follow alphabetical sort (as many explorers do). These others? Missing s. For now or At this time. If we follow the alphabetical order it should be before the App and HomePage containers in the list. It will be better to not use a reserved word. For example, you could add a prefix icon_ instead. Missing comment to describe this component\n. Why did you choose this name? I'm not a big fan because the name is too explicit and use a DOM element into it. It would be better to describe what it looks like or describe his behavior.. You should use e.preventDefault() and e.stopPropagation() instead of using a condition to ensure the click has been done on the right DOM element.. Pro tips: \njs\nconst relationShipNumber = this.props.models.attributes.filter(attr => has(attr.params, 'model')).length;\nIt avoids initializing a variable out of the scope, it allows you to use a constant variable and it's shorter.. Same here, this is a common pattern. You are populating a variable, so it will be better to use map instead of foreach and attach the push method then.\njs\nconst sections = data.models\n   .map(model => { icon: 'fa-caret-square-o-right', name: model.name })\n   .push({ icon: 'fa-plus', name: 'button.contentType.add' }). Why do you need to declare this variable? You could use the plugin variable reference instead. This block should be before the mapping. It will avoid a map call and to reapply a value to the pluginsLinks variable, then you use a const instead of let.. Using reducecould be better to avoid the use of the forEach method to populate a previously declared variable.\njs\nconst messages = languages.reduce((acc, locale) => (acc[locale] = locale.toUpperCase(), acc), {});. You don't need to declare a variable obj, just use the resultreference and return it.. Why do you need to declare a variable in this case? You could call your function parameter dataFormatted it will work as the same.. You could use the default ES6 assignation value in thise case.\n```js\nconst generateUpdatedFileContent = (data, content = {}) => {\n  content[data.path] = {\n    container: data.container,\n  };\nreturn content;\n};\n``. The construction of this method is very difficult to read. Many try/catch with unscoped variables. Also, you could usefs.accessto test if a file exists instead offs.statsSync? I'm not sure you need to check if this is a file or not. I can have wrong on this one, I'm just asking.... You don't need to declare theobjvariable here.. Again ;).const?. Put this line with only oneifstatement would be better. Please runnpm run cleanbefore pushing to avoid relative path.. Why are you not using aswitch(){...}on themessagevariable instead of listening to the event two times?. What happens if theautoReloadconfiguration isn't set?. Same here.. Again on this one. You should test thatthis.config.environments[this.config.environment].serveris an object or use Lodashget()method instead..ter.fork()?. Is this necessary?. Still not a big fan of the use offorEach` loop to populate an array.\n```js\nconst requiredInputs = Object.keys(this.props.sections).reduce((acc, current) => {\n  acc.concat(\n    this.props.sections[current].items\n      .filter(item => has(item.validations, 'required'))\n      .map(item => item.target)\n  );\nreturn acc;\n}, []);\n```. It depends... It's recommended for font-size, margin and spacing. For the other properties such as width, height, top, left, etc..., I've read both bits of advice on these ones.. No. It's already the case, but for some icons and fonts, we have to change the value to improve the rendering.. Yes.. Thanks for this one. A mistake though... \njs\n...\nreturn value.map(obj => obj[key] ? obj[key] : obj); // We have to return the obj not the key and we don't need the parentheses ;)\n.... @soupette ?. Our override of Bootstrap isn't perfect. This is a part of what we are to improve during the next months. Right now, the goal is to ensure that the display is the right one. Then, we could improve the number of properties used to reach this result.. You should clean this SVG file by using a tool such as SVGo. L'autoReload doit \u00eatre activ\u00e9 pour ce plugin.. You can remove this because we don't it anymore.. You don't need this variable.. You should use the <pre></pre> instead.. js\nexport const shouldRenderCompo = (plugin) => Promise.resolve(plugin);. You should put all the cookie settings into a settings object to keep consistency between the configurations whatever the client used.. Same comment as above. IMO, if we install pg and sqlite3, we should also install mysql. However, the package dependencies will become heavy. We should remove all the client dependency.. I think you could make this work out of the Koa stack. It will always return the same result. Also, you don't need to use the Lodash keys method. The Object.keys provides great performances since the latest Node.js release. Same things for the usage of the set method few lines below.\nIt means that we could reduce the middleware to this:\n``js\nconst accepted = keys(strapi.plugins).map(url =>^\\/${url}`).concat(['^\\/admin']);\nstrapi.app.use(async (ctx, next) => {\n  ctx.request.admin = accepted.some(rx => new RegExp(rx).test(ctx.request.url));\nreturn next();\n});\n``. You don't need to usegetlodash method, it will be better to usethisinstead of the global variable and I'm still not a big fan oflet` variable update in a forEach scope (but it's just my opinion \ud83d\ude48)\n```js\nconst modelUsed = Object.keys(this.api || {})\n  .filter(x => isObject(this.api[x].models)) // Filter API with models\n  .map(x => x.models) // Keep models\n  .filter(model => get(this.connection, model.connection, {}).connector === name)); // Filter model with the right connector\nflattenHooksConfig[name] = {\n  enabled: modelUsed.length > 0 // Will return false if there is no model, else true.\n};\n``.[...] please provide a connection [...]. You should not have nestedstrapi.app.use()and I was saying that theconst accepted = ...` should be out of the middleware.\n``js\nconst accepted = keys(strapi.plugins).map(url =>^\\/${url});       +    const accepted = Object.keys(strapi.plugins).map(url =>^\\/${url}`).concat(['^\\/admin']);\nstrapi.app.use(async (ctx, next) => {\n  ctx.request.admin = accepted.some(rx => new RegExp(rx).test(ctx.request.url));\nreturn next();\n});\n```\nIf the strapi.plugins object is not declared at this moment, we should put this middleware somewhere else.. Why are you declaring this variable if the value is always set to true?. Same comment as above.... I don't understand why we need these three empty <p>?. It means that every time a request hits the server, the hook is reloaded? If we have to, we should store the module itself in strapi.hook.xx.module and avoid to reload it on every request.. Remove this comment?. We should create another variable and not override the params which refer to ctx.query because we are losing the initial value.. Typo => fontAwesome. Typo fontAwesome. Why two? Many is more appropriate. Single quotes would be appreciated.\n\nWe should really find a way to apply a linter on the documentation examples.. js\ncase EMPTY_STORE:\n  return undefined;\n\nI'm not sure if Immutable will allow this but based on Dan Abramov's answer it seems to be the right way.. I would prefer to say explicitly the second icon is a trash. There are many reasons:\n\nWhat happens if we decided to change the default icon in the future? You will have to come back here and update this line of code.\nIt allows any developer to understand without reading precisely the documentation.. Typo. Bienvenue \u00e0 bord!. It should more dynamic. Take a look at the strapi-generate-new package. You don't need to declare this variable. You can return the result of the reduce method directly.. The filter method is waiting for true or false. You can rewrite like that:\n\njs\nconst injectedComponents = plugin.toJS().injectedComponents.filter(compo => \n   compo.plugin === this.props.plugin && compo.container === this.props.container && compo.area === this.props.area\n);. Remove log. `onClick` props is defined twice. `Don't forget to create the {modelName} TABLE in your database`. You forgot the word `table`. Did you create the documentation section for this kind of message?. What happens if the connector doesn't exist? You should return an error in this case.. What happens if the model doesn't exist? You should return an error in this case..js\ngenerateDataBlock() {\n  if (this.props.data) {\n    const items = this.props.data.map((item, i) => {item});\nreturn (\n  <div>\n    <p>Data:</p>\n    <ul>{items}</ul>\n  </div>\n);\n\n}\nreturn;\n}\n```\n?. bindActionCreators ?. There is a checkboxLabel applied to this block, why are you passing style with the style attribute.. Clean this SVG using SVGo. Is there a better way to get this value?  Maybe, we should define a new route with more parameters in the App container. This line of code seems pretty fragile.. Arrow function? You are not using the function context. return await Promise.all(virtualFields);?\nYou are returning nothing, this value could be useful for the user.. You don't need to send strapi.models because it's available globally. Not a big fan to send the model available globally through the function's parameters. You can only send the model name. Also, we need to simplify the syntax to call the manageRelations method.\n```js\n// Use the query method and make the method ORM agnostic.\nawait strapi.query('<%= globalID %>').manageRelations(.merge(.clone(data.toJSON()), { values }));\n// Make the manageRelations a first class and ORM agnostic method.\nawait strapi.manageRelations('<%= globalID %>').manageRelations(.merge(.clone(data.toJSON()), { values }));\n// Remove the load() call by making a shortcut.\nawait strapi.hook.bookshelf.manageRelations('<%= globalID %>', .merge(.clone(data.toJSON()), { values }));\n``.Installing ${connector} dependency....Installing ${client} dependency...`. Take a look at this https://github.com/strapi/strapi/commit/8a8d85356afe704b1a4a154c49216b6348516e73#diff-14d02270f67a6dcfa099642fbe9fff85R91 to ensure it's harmonized . Remove  log. Remove this line and only write \njs\nconst fs = require('fs-extra');. Be careful to update fse by fs based on previous comment. Are you sure need to pass the CSS using props?. Add comment on this line. Duplicated code, maybe put it in a tiny function it will be more maintainable ;). Please use the same key format as above. Please sort the properties in a better order. Block properties first (width, height, display, margin, padding, border), then text properties (line-height, color, font) and finally extra properties (transition, -webkit-,  etc). A lot of duplicated code in this file already using dynamic parameters. Pretty sure it could be merged.... You don't really Lodash in this case... native function fits perfectly. It's useful to use Lodash where the library fixes a weird JS behaviour or help a lot such as (.difference, .pick, etc).\njs\nconst keys = ['modifiedData'].concat(target.name.split('.'));. Waiting API?. Why is the 'plugin' word in \"lowercase\" and on the next line \"Camelcase\"? We should definitely apply more strict rules in this part of our codebase because it becomes messy (linter?).... You don't need an icon property. The icon is provided by the plugin itself and this icon is used everywhere on the dashboard.. I recommend using an array for this property. We already know that in the future we could apply many rules on an action.. The callback is returned after... it means the updatePermissions() is synchronous? I suppose we could make asynchronous especially with fs. Don't forget that these functions are running before the server starts. If every plugin has a bootstrap function we are going to increase the boot time seriously... After all the efforts we put to reduce it to his minimum, I'm not a big fan of this idea.\nI would definitely prefer something like this :)\njs\nstrapi.plugins['users-permissions'].services.userspermissions.updatePermissions(cb);. What happens if this._attributes[current] doesn't exist? Use _.get() to avoid that case ;). Use our native error function.\njs\nreturn ctx. badRequest('Please provide your username or your e-mail.');. Same. Don't need to try/catch, it will be handled by default.. Don't need to try/catch.. Don't need to try/catch. Remove log?. Use ` instead of simple quote. Take a look at the latest PR to ensure the plugin needs all these devDependencies. I don't think so.... These paths changed during the latest PR, be sure they are up-to-date . With our dynamic JSON configuration files, you don't need to write this in the code, nah?\njson\n{\n  \"jwtSecret\": \"${process.env.JWT_SECRET || 'myToken'}\"\n}. To harmonise with the queries used above and be more understandable, maybe it's better to write this?\njs\n.populate(\n  strapi.plugins['users-permissions'].models.user.associations\n    .filter(x => x.autoPopulate)\n    .map(x => x.alias)\n    .join(' ')\n). Same here. Above we are only accepting attribute which are defined in the model https://github.com/strapi/strapi/pull/346/files#diff-fe9fb26bf0fde2d06666a9154be1c050R34 and here we are only removing associations attributes. Why do we have two different strategies?\nAlso, we should use the strapi.query method to handle ORMs. Don't need to do that it has been fixed in another PR with a smoother solution.. Two things that I don't like in this method.\n\nUsing forEach method to populate an array.\nThe main bootstrap function is called at the same time as the plugins bootstrap function.\n\nI think the main bootstrap function should be called at the very end of the process. Here my proposition using your code:\n``js\nconst execBootstrap = (fn) => !fn ? Promise.resolve() : new Promise((resolve, reject) => {\n  const timeoutMs = this.config.bootstrapTimeout || 3500;\n  const timer = setTimeout(() => {\n    this.log.warn(Bootstrap is taking unusually long to execute its callback ${timeoutMs} miliseconds).`);\n    this.log.warn('Perhaps you forgot to call it?');\n  }, timeoutMs);\nlet ranBootstrapFn = false;\ntry {\n    fn(err => {\n      if (ranBootstrapFn) {\n        this.log.error('You called the callback in strapi.config.boostrap more than once!');\n    return reject();\n  }\n\n  ranBootstrapFn = true;\n  clearTimeout(timer);\n\n  return resolve(err);\n});\n\n} catch (e) {\n    if (ranBootstrapFn) {\n      this.log.error('The bootstrap function threw an error after its callback was called.');\n  return reject(e);\n}\n\nranBootstrapFn = true;\nclearTimeout(timer);\n\nreturn resolve(e);\n\n}\n});\nreturn Promise.all(\n  Object.values(this.plugins)\n  .map(x => execBootstrap(get(x, 'config.functions.bootstrap')))\n).then(() => execBootstrap(this.config.functions.bootstrap));\n.js\nconst models = .assign(.clone(strapi.models), Object.keys(strapi.plugins).reduce((acc, current) => {\n  .assign(acc, .get(strapi.plugins[current], ['models'], {}));\n  return acc;\n}, {}));\n```\nUse const instead of let?. Don't need to put the icon in this file, IMO.. This variable pluginControllers is not necessary. You can directly assign the value to acc[key] ;). Use default get value\njs\nget(acc[snakeCase(section.name)], 'links', []).concat(..... Don't put a slash after the word user. So /user/?page=... becomes /user?page=.. Also, I prefer this syntax.\njs\nthis.context.router.history.push({\n  pathname: `/plugins/content-manager/user/${id}?redirectUrl=/plugins/content-manager/user`,\n  search: `?page=0&limit=0&sort=id&source=users-permissions`\n});\nIt helps to distinguish the URL and the parameters. It also harmonizes the codebase because we are using the object syntax in the Content Manager plugin.. \u26a0\ufe0f  This file should not be committed.. We only need to add it to the middleware configurations. So it should be removed.. Same as the previous comment.. Same as the previous comment.. The order of the objects assigned is not correct to ensure (100%) that the X-Forwarded-Host will be set to the right value.\njs\noptions.headers = Object.assign({\n  'Content-Type': 'application/json'\n}, options.headers, {\n  'X-Forwarded-Host': 'strapi',\n});. The order of the assigned objects is not correct. Also, you don't need to reassign the options.headers value because it mutates the first object.\njs\nObject.assign(options.headers, {\n  'Authorization': `Bearer ${token}`\n});. True!. We need the source. We don't need to use the state for that. You're right!. js\nconst filteredUsers = isEmpty(target.value) ?\n  this.state.users : \n  this.state.users.filter(user => includes(toLower(user.name), toLower(target.value));\nThe filter method is already waiting for a boolean. You can directly apply the if condition in the filter method itself.. Unnecessary variable users... You don't need it.. js\nreturn ctx.forbidden('Authentication required');\n?. You don't need to clone the object, I guess. I can't find where the data is mutated.. The policy is already loaded. You don't need to require it again. \njs\nawait strapi.plugins['users-permissions'].config.policies[permission.policy](ctx, next);. What happens if the table name change? You should use Bookshelf instead of raw query.. js\nconst {\u00a0email, url } = ctx.request.body;. You are sure that params is already an object so you don't have to check if params.password and params.passwordConfirmation exist.. Same here.. fetchAll will always return an array so it could be better to use map to filter the keys. It also avoids checking if data is empty or not.\njs\nconst data = await strapi.plugins['users-permissions'].services.user.fetchAll(ctx.query)\n  .map(user => _.omit(user.toJSON(), ['password', 'resetPasswordToken']));\nBtw, I have a doubt with the toJSON method in the controller. It's related to Bookshelf, are you sure it also works with Mongoose or vice versa?. The role doesn't exist.. It should always return an array so the property length will always be associated.\n```js\nconst hasAdmin = await strapi.query('user', 'users-permissions').find(strapi.utils.models.convertParams('user', { role: '0' }));\nctx.send({ hasAdmin: hasAdmin.length > 0 });\n.js\nconst Service = require('./UsersPermissions.js');\n. Remove in each function. . The roles are already loaded in the global variable. `strapi.plugins['user-permissions'].config...`. However to load them in the `roles` key, you need to encapsulate the file content in a `roles` key..js\nconst highestId =  Math.max(...Object.keys(roles).map(Number));\n. You don't need to apply `toString`, right?. Async missing, it can take a while on large databases.. Async missing... it can take a while on large set of users..js\nconst permissions = {\n  application: {\n    controllers: appControllers.controllers,\n  },\n  ...pluginsPermissions\n};\nreturn permissions;\n``. You don't need to load this file again, it's already loaded.. You don't need to load this file. The file is already loaded so if you apply my changes, you don't need it anymore. else if ?. You don't need to require this file.. So you will have to remove the try/catch. Missing async, it can take a while otherwise. Ok but use this variable in thefindIndex` method.. Remove logs.. I think you can merge these three conditions into one.\njs\nif (!this.isUrlProtected(props) && !includes(props.location.pathname, 'auth/register') && !this.hasAdminUser(props)) {\n  this.props.history.push('/plugins/users-permissions/auth/register');\n}. Write the shorter URL http://localhost:1337/admin, the user will be redirected automatically.. ```js\nif (!params[this.primaryKey] && params.id) {\n  params[this.primaryKey] = params.id;\n}\ndelete params.id;\n```\n?. js\nconst data = ...\ninstead of using let.. To make this condition more readable, you can play with the default value provided by the _.get() method and there is also a typo on the latest .toString() attempt (the r was missing).\njs\nif (_.get(ctx.request, 'body.role', '').toString() === '0' &&  (!_.get(ctx.state, 'user.role') || (_.get(ctx.state, 'user.role', '').toString() !== '0'))) {\n  delete ctx.request.body.role;\n}. You need to find a way to make this more dynamic, we need to update the backend of the marketplace to send you the necessary information to the front.. typo. Easier to use (silent but only display errors) and we are already using it in the repository.. js\n.findOne(_.pick(params, _.keys(<%= globalID %>.attributes)))\nWhy are we using the native Mongoose schema instead of our layer in this case? If the Mongoose library decides to change the key, it will break again. I consider it should be better to use our models.\nHowever, it will limit the search only on the declared attributes in our models.. Do we still need this line? Because it has been replaced by your changes https://github.com/strapi/strapi/pull/405/files#diff-ac753172f10845a4618a791552b941c9. Why do you need to define a variable which is empty because you're returning nothing?. It avoids to declare an empty array and make a forEach to populate the array.\njs\nconst testsColumns = Object.entries(attributes).map(([attribute, description]) => columnExist(description, attribute));. A better pattern for this big condition, could be make the stop before.\njs\nif (Model.orm !== 'bookshelf') {\n  return cb();\n}\nThen, you don't need to embrace all the business logic into the conditional if/else.. Back-end. Front-end. Add also a return?. Why do you need to declare this variable?. You should return this line and add the then after your first promise.\n```js\nnew Promise((resolve, reject => {\n  ...\nreturn inquirer.prompt(...);\n})\n.then(answer => {\n  scope.client ...\n})\n.then(() => {\n  const asyncFn = [...];\n...\nreturn Promise.all(asyncFn);\n})\n.then(() => {\n});\n``. You should use switch, it's more readable where there is so much code between conditions. . This parameter is deprecated with the latest version of Mongoose. We are now using the 5.0.0-rc1.. In every case, you have to call.disconnect()`, you could put this line right before the if condition and remove the lien 265 by the same way.. I'm also thinking, it could be a great idea to put the code for each connector in the connector itself. It will be more dynamic to add new databases in the future (if we want to).\n``js\nPromise.all(asyncFn)\n.then(() => {\n  try {\n    // Run the code from the connector itself.\n    require(./node_modules/${scope.client.connector}/utils/connectivity.js)();\n  } catch (e) {\n    execSync(rm -r ${scope.rootPath}_`);\n    logger.info('Copying the dashboard...');\n  }\ncb.success();\n});\n```. Better but maybe I'm wrong but you have to much promises that are useless.\n```js\n'use strict';\n/*\n * Module dependencies\n /\n// Node.js core.\nconst path = require('path');\nconst exec = require('child_process').exec;\nconst execSync = require('child_process').execSync;\n// Public node modules.\nconst _ = require('lodash');\nconst fs = require('fs-extra');\nconst inquirer = require('inquirer');\n// Logger.\nconst logger = require('strapi-utils').logger;\n/\n * This before function is run before generating targets.\n * Validate, configure defaults, get extra dependencies, etc.\n \n * @param {Object} scope\n * @param {Function} cb\n /\nmodule.exports = (scope, cb) => {\n  // App info.\n  _.defaults(scope, {\n    name: scope.name === '.' || !scope.name ? scope.name : path.basename(process.cwd()),\n    author: process.env.USER || 'A Strapi developer',\n    email: process.env.EMAIL || '',\n    year: (new Date()).getFullYear(),\n    license: 'MIT'\n  });\n// Make changes to the rootPath where the Strapi project will be created.\n  scope.rootPath = path.resolve(process.cwd(), scope.name || '');\n// Ensure we aren't going to inadvertently delete any files.\n  try {\n    const files = fs.readdirSync(scope.rootPath);\n    if (files.length) {\n      return logger.error('$ strapi new can only be called in an empty directory.');\n    }\n  } catch (err) {\n    // ...\n  }\nlogger.info('Let\\s configurate the connection to your database:');\nscope.database = {};\nconst connectionValidation = () => {\n    const databaseChoises = [\n      {\n        name: 'MongoDB (highly recommended)',\n        value: {\n          database: 'mongo',\n          connector: 'strapi-mongoose'\n        }\n      },\n      {\n        name: 'Postgres',\n        value: {\n          database: 'postgres',\n          connector: 'strapi-bookshelf',\n          module: 'pg'\n        }\n      },\n      {\n        name: 'MySQL',\n        value: {\n          database: 'mysql',\n          connector: 'strapi-bookshelf',\n          module: 'mysql'\n        }\n      },\n      {\n        name: 'Sqlite3',\n        value: {\n          database: 'sqlite3',\n          connector: 'strapi-bookshelf',\n          module: 'sqlite3'\n        }\n      },\n      {\n        name: 'Redis',\n        value: {\n          database: 'redis',\n          connector: 'strapi-redis'\n        }\n      }\n    ];\ninquirer\n.prompt([\n  {\n    type: 'list',\n    prefix: '',\n    name: 'client',\n    message: 'Choose your database:',\n    choices: databaseChoises,\n    default: () => {\n      if (scope.client) {\n        return _.findIndex(databaseChoises, { value: _.omit(scope.client, ['version'])});\n      }\n    }\n  }\n])\n.then(answers => {\n  scope.client = answers.client;\n  _.assign(scope.database, {\n    connector: answers.client.connector,\n    settings: {\n      client: answers.client.database\n    },\n    options: {}\n  });\n\n  return Promise.all([\n    inquirer\n    .prompt([\n      {\n        type: 'input',\n        prefix: '',\n        name: 'name',\n        message: 'Database name:',\n        default: _.get(scope.database, 'database', 'strapi')\n      },\n      {\n        type: 'input',\n        prefix: '',\n        name: 'host',\n        message: 'Host:',\n        default: _.get(scope.database, 'host', 'localhost')\n      },\n      {\n        type: 'input',\n        prefix: '',\n        name: 'port',\n        message: 'Port:',\n        default: (answers) => {\n          if (_.get(scope.database, 'port')) {\n            return scope.database.port;\n          }\n\n          const ports = {\n            mongo: 27017,\n            postgres: 5432,\n            mysql: 3306,\n            sqlite3: 1433,\n            redis: 6379\n          };\n\n          return ports[scope.client.database];\n        }\n      },\n      {\n        type: 'input',\n        prefix: '',\n        name: 'username',\n        message: 'Username:',\n        default: _.get(scope.database, 'username', undefined)\n      },\n      {\n        type: 'input',\n        prefix: '',\n        name: 'password',\n        message: 'Password:',\n        default: _.get(scope.database, 'password', undefined)\n      }\n    ]),\n    new Promise(resolve => {\n      let cmd = `npm install --prefix ${scope.rootPath}_ ${scope.client.connector}@alpha`;\n      if (scope.client.module) {\n        cmd += ` ${scope.client.module}`;\n      }\n\n      exec(cmd, () => {\n        if (scope.client.module) {\n          const lock = require(`${scope.rootPath}_/node_modules/${scope.client.module}/package.json`);\n          scope.client.version = lock.version;\n        }\n\n        resolve();\n      });\n    })\n  ]);\n})\n.then(([answers] => {\n  scope.database.settings.host = answers.host;\n  scope.database.settings.port = answers.port;\n  scope.database.settings.database = answers.name;\n  scope.database.settings.username = answers.username;\n  scope.database.settings.password = answers.password;\n\n  logger.info('Testing database connection...');\n\n  try {\n    require(`${scope.rootPath}_/node_modules/${scope.client.connector}/utils/connectivity.js`)(scope, cb.success, connectionValidation);\n  } catch(err) {\n    execSync(`rm -r ${scope.rootPath}_`);\n\n    logger.info('Copying the dashboard...');\n\n    cb.success();\n  }\n}))\n\n};\nconnectionValidation();\n};\n``. @edimitchel Thank you! It's fixed \ud83d\udc4d . Why do you need to lowercase the identifier at this line? It should only concern the email. Also, if we do that we have to be sure that the stored email is lowercased during the registration process or that our query whatever the connector (strapi-bookshelf, strapi-mongoose) are making a query that is case-insensitive..Merci d'attendre que celui AIT red\u00e9marr\u00e9..missing. Yes, it's a mistake on our side. We should also remove the spaces, accents, etc by using the [_.deburr()](https://lodash.com/docs/4.17.4#deburr) method of Lodash. But, we have to keep uppercase characters.. Remove this?. @lucaperret Awesome! We will be able to merge after these changes..3.0.0-alpha.8.3` ?. You're not scoping the email as well?. Did you try without mounting? I'm almost sure we don't need to mount the middleware.\nIf it doesn't work, try this:\njs\nstrapi.app.use(strapi.koaMiddlewares.compose(grant.middleware));. Don't forget to remove this dependency and also koa.... It should be a constant. You're not using this variable anywhere else.. Just curious to know why we need to update this part?. @lucaperret You have to add this line to the register method https://github.com/strapi/strapi/blob/d9198dd225dcd4f37c8615031e48ce19208d6e36/packages/strapi-plugin-users-permissions/controllers/Auth.js#L32. The email.json should be already there? I understand you're doing that because the file is present in the .gitignore file but I can't understand why? The user will lose the customisation he made because the file is ignored and won't be pushed on the server.. Same note for this file. You should create a service to manage the templating of each mail. The service could template and compile the template with the variables defined in parameters. It will be easier to maintain.\nAlso, the variables should be uppercased.. (settings.from.email || settings.from.email)? Same condition. This line remembers me that we are not freezing the configurations of a plugin, and we should.. Adding a policy to the route /connect would be drastically better than use a middleware for that.. Why are you not using async/await for this function (https://github.com/strapi/strapi/blob/9ddd7f12a80771737f7d5fc387190e6e1d0c38ab/packages/strapi-plugin-users-permissions/controllers/Auth.js#L68)? The code will be more readable and avoid the callback hell.. You could use return reject(err) pattern to avoid indentation and the else part. This pattern could be repeated two or three times and this part of the code will be flattened (more readable).. The host value should be more dynamic using strapi.config.currentEnvironment.server.host? Not sure about that but I have a doubt. It means that the delete icon won't available? We have to be able to remove a role.. It should be handled by the backend for the exceptions... If we add a new provider in the future and if we add the ability to add a custom provider for the users, it means he also has to edit the plugin and rebuild it. . The jwtOptions is always undefined and it doesn't work. The _.default() method doesn't accept undefined as a value. You should add a default value to jwtOptions.\njs\nissue: (payload, jwtOptions = {}) => {\n.... We should also verify if the providers is not local. Because, if I try to register with the same address than another user and the allow_register is set to false, I will be able to register whereas the registration is disabled?. I didn't know this syntax... It tested it and it doesn't change anything in my scripts. \n@ayadav Can you explain to me why we need to put the await reserved word?. defaultPlugin.core >>> defaultPlugins.core (s is missing). Also for the .name. Oups, I didn't see the forEach loop. Missing }}. Can we remove the space? And if not, can you put an insecable space instead?. Why are you destructuring in this render() method and you didn't do it in this file?. Log. Same comment as the previous one. Should we display an error or a warning message and doesn't return an empty div?. Same here, I suppose. params.id = params._id || params.id? Not sure but if the params.id wasn't null, it will override the value with the undefined value.. Improve message as we discussed. Two optional arguments are missing schema and socket for Postgres and MySQL.. Log. Should we use the strapi-helper-plugin/utils to share this function across the admin panel? I think it would be better instead of repeating this kind of validators everywhere in our codebase.. Make sense!. It seems that both properties are not implemented in the interactive CLI but we should... Especially the schema for PG...\nhttps://github.com/strapi/strapi/blob/master/packages/strapi-knex/lib/index.js#L98. Not so special for PG users but I agree, we could do that later. . There is a missing if condition. The latest plugin overrides previous value.. js\nreturn payload.map(mask). ```js\nObject.keys(strapi.models).forEach(match);\n...\n``. https://jakearchibald.github.io/svgomg/. Use thetext-transformproperty instead of writing string with uppercases. Same here.. Why are you not using theisPicturemethod?. It seems not the best way to check if a file is an image. You should base your logic on the type returned by the file. I can have a file namedtest.jpgwhich is a text file.. Unnecessaryelse` condition. The empty object seems weird... Maybe I'm wrong but it's not common.. An unnecessary loop I think...\njs\naddFilesToProps = (files) => {\n  const initialValue = this.props.multiple ? cloneDeep(this.props.value) : [];\n  const value = initialValue.concat(this.props.multiple ? files : files[0] || []);. You can start the translation by an uppercase letter though. If we change our mind later, the translation will be okay . Same here.. bufferize?. Remove KB to make the sort easier. Remove comment it's okay \ud83d\udc4d . It's hard to know what o means.... Send a notification instead?. Typo Donn\u00e9es. Minify. Maybe this way of writing is better for the long-term maintainability?\njs\nconst iconType = (() => {\n  switch (fileType) {\n    case 'jpg':\n    case 'jpeg':\n    case 'png':\n    case 'gif':\n      return 'image';\n    case 'mov':\n    case 'avi':\n    case 'mpg':\n    case 'm4v':\n    case 'mp4':\n      return 'video';\n    default:\n  };\n})();. Log. Use CSS to underline message, not the deprecated <u> tag. Notification?. Typo. Use CSS to uppercase string. Same. Same. Same. Should it be a dependence of strapi-plugin-upload?. Not really related to this line but we are going to have problem with the hooks loading https://github.com/strapi/strapi/blob/master/packages/strapi/lib/core/hooks.js#L19. Also, I think we need to think more globally because there are many plugins that will have that kind of providers system. We are already parsing the node_modules directory, so we need to store in the global variable the detected dependencies (I'm not sure but I think we are already doing it).. Typo in the comment if provider .... load. Please install strapi-upload... you have two spaces in the warning message between the word install and strapi-upload.... You're not using the params.id value here?. Log. Maybe the error could be more precise and say what's the file which is too large?. It seems not dynamic enough. In this function (https://github.com/strapi/strapi/pull/684/files#diff-163ee08ebcb2320b4f4805a7d02ed6daR74), when we update the settings for example (the AWS S3 bucket name) the changes are stored in the database. But the strapi.plugins.upload.config is not refreshed because the server hasn't restarted. So it means that to work as excepted I have to restart my server to use the latest configurations which is not the goal to store these settings in the database.. Same comment here. 2018. If my file doesn't have an extension, it will add a dot at the end the filename. Same comment here. If the provider action failed because the file cannot be found (the user might has removed it by itself), the rest of the service won't be executed which means that the file information will still be stored in database. 2018. A more precise name could be better? aws-s3 for example. There are.... There are.... Same.. It would be great to explain why there is an exception for the enumeration type.. Typo and also it should be better to make a real sentence?. Missing s at Champs. This part seems hardcoded?\njs\n_.get(relation, 'related')\nThe user can edit the relation attribute name.. Use the model.associations array to define the related key.. It's okay to pass CSS sometimes but in this file, it happens many times.. It's okay to pass CSS sometimes but in this file, it happens many times.. It's okay to pass CSS sometimes but in this file, it happens many times.. accept\u00e9e. Translation missing. Missing s at fichiers et t\u00e9l\u00e9charg\u00e9s. Autoriser. server. server. Log. Log. Log. js\n.map(association => association.alias);\n?. Not sure to understand why you're omitting file relationships... What's happening if I'm removing a file from a field which can take multiple files. I think we need these fields to be able to remove the relationships.. Promise.all() to upload asynchronously the files of each field?. Unnecessary condition else?. No, it was a bad practice because when there was a typo in a file, the error wasn't thrown and the server was starting without any issue which is bad.. Why are you removing this line? It's our way to explain that you have to return a Promise to make it work. The behaviour is different between Mongoose and Bookshelf.. I forgot to notice that you added the async word to make sure these functions will return promises. But I remember that Bookshelf is using Bluebird promises which are not compatible with the native Node.js implementation. Maybe I'm wrong I just want to be sure that we're not introducing a bug here.... alpha.11 ?. I need to test it before merging the PR. I remember that I already tried to make these functions async but it wasn't working as expected.. Log. Just asking why some values are uppercased (IMG, BOLD, ...) and some others are lowercased (blockquote, code-block)? We should keep the same format (lowercased) whatever the value is.. This dependency is never required.... s missing at alor. soumettez. nous aidez \u00e0. nous puissions. exemple. No, we need it to make GraphQL working with the Upload plugin.. Good catch! I forgot to save my changes in production as well. It's fixed!. // Add integer value if there is a relation. There are more specifics type for SQL database such as DECIMAL, FLOAT, DOUBLE. We should not set to Int because the value won't be stored as expected, I guess. Same comment on this one DATE, DATETIME, TIMESTAMP. Could be hard to debug without the sourcemap.... Remove this file. password and email should be treated like a string varchar(255)?. No, it will set the constant variable value to params.values[current] whereas it should be set params.values. Take another look at the condition ;). If I applied your previous changes in this one, it doesn't set the recordId to the right value.\n```js\n// Your proposal\nconst value = params.values[current] || response[current];\nconst recordId = value[this.primaryKey] || value.id || value._id;\n// Current code\nconst value = .isNull(params.values[current]) ? response[current] : params.values;\nconst recordId = .isNull(params.values[current]) ? value[this.primaryKey] || value.id || value._id : value[current];\n```\nIf params.values[current] is not null, the current code sets the value to value[current] which  means that recordId equals params.values[current]. Whereas your proposal set the recordId variable to value[this.primaryKey] which means params.values[current][this.primareyKey].. Good catch! We can remove the first condition. However, why did you change the value[current] to value[this.primaryKey]?. Not sure about this one. It worked fine, can you give me some details?. Sure!. It doesn't work when the entry is null because _.castArray() will return [null], and it will break during the map(id => id.toString()). We need to check manually the value of entry and return an empty array instead.. \ud83d\udc4d . And without Lodash \ud83d\ude48 \njs\nconst association = this.associations.find(ast => ast.alias === current);. CTAWrapper?. This attribute name is reserved? I think it's more understandable and explain why it can't be used. This function doesn't look like it should be https://github.com/strapi/strapi/blob/master/packages/strapi-plugin-users-permissions/config/queries/bookshelf.js#L140. We could also use the path.sep value?. Thank you for highlighting this!\nI'm avoiding to use Lodash methods as much as possible. ECMAScript is going better and better, I'm pretty sure we could remove this dependency in the future. Moreover, the performances are similar on a small array like this.. You can do it in a better way using Moment.js (https://stackoverflow.com/a/26700097/5856363).. Instead of deleting every time, you can update the convertParams and remove it directly in this method.. It should be at the top of the file.... It will do the exact same thing\njs\nawait Promise.all(queries.map(query => ORM.knex.raw(query)));. Better to use else if or switch in this case. Remove this file. Rename the folder helpers instead of helper. . We should do the exact same thing that we are already doing in the front end https://github.com/strapi/strapi/blob/master/packages/strapi-helper-plugin/lib/src/utils/request.js#L79. It's better to use this event to detect if the server started correctly or not. If the event is not precise enough, we should improve it https://github.com/strapi/strapi/blob/master/packages/strapi/lib/Strapi.js#L123. Sorry, apply this comment to the next method. Remove it, it should be automatically generated. If you remove the source property, you need to also apply the changes in the controllers/services functions. It could be better to use the filter method right after the Object.keys(model.attributes) instead.\njs\nconst enums = Object.keys(model.attributes)\n  .filter(definition => definition.type === 'enumeration')\n  .reduce((acc, attribute) => {\n    ....\n   }, []).join(' ');\nIt's a very little improvement but I tried to keep the codebase as consistent as possible \ud83d\udc4d . The second one is shorter because you have fewer entries to loop on but I understand. It doesn't have any real performances impact on a small array like that and I think it's more understandable. Btw, you can merge the PR, though ;). FYI, we don't need to check _id || id because Mongoose has a default getter on the id attribute (if the lean() method isn't enabled) (see http://mongoosejs.com/docs/guide.html#id). You forgot the font-weight: 500; property to display the email with semibold weight.. My bad... I forgot to minimize the SVG icons.... I never saw that before but are we sure we need to use a string like that instead of an object to make it work correctly? I mean, is the history API supporting object as a parameter?\nIt's very complicated to read this part of code.... I would like to avoid the use of Lodash methods, you can use Object.keys(fields).reduce() instead. As I said in previous pull requests, I would like to remove Lodash as a dependency in the future.. Maybe better to use map() with the join('\\n\\n') method. Do we need this method and also isNotPrimitive, isNotOfTypeArray? We have access to the models strapi.models and the associations related to it strapi.models.xxx.associations. \nPS: My comment might be not very relevant (I don't have the full logic in mind) but it's just a remember to avoid the creation of unnecessaries functions \ud83d\ude48 . This doesn't match with the JSON format?. Remove the logs. We can put this condition outside the event instead of execute it everytime an event is sent. Sure?. I would prefer to not set the max-height to auto. Can you try to add overflow: visible instead? \nThis languages list was thinking as a scrollable list \ud83d\udc4d . pkgManager to follow the name of the previous variable?. ```js\nconst globalRootPath = packageManager.commands('root -g');\n````\nIn the commands function, it already verifies is the package has been installed using npm or not? . Write a command for this one? Also, the first command installs a specific package with npm and it seems to install nothing with yarn?\njs\nlet packageCmd = packageManager.commands('install --prefix', scope.tmpPath, scope.client.connector);. Compress this file as well. le tri. les actions group\u00e9es. Vous pouvez modifier ces valeurs par mod\u00e8le remove the word les. tri. tri. This returns the last element of the array. Let's take an example, in the case the received key equals to title_contains, it means that let splitkey will be equal to contains whereas we want the first element of the array.\njs\nconst splitKey = key.split('_')[0];. If we follow my previous message and logic, we could simplify the algorithm like this\n```js\nconst splitKey = key.split('_')[0];\nif (modelAttributes[splitKey]) {\n  fieldType = modelAttributes[splitKey]['type'];\n}\nif (fieldType !== 'string') {\n  // ...\n}\n. `!==` is better than `!=`. strapi-hook-bookshelf.js\nawait module(this).beforeInitialize.call(module);\n```\nmodule is a function which needs to be executed...\n. Same here, I think. What do you mean by that?. Oh yes! I think @pierreburgy can improve this, not really important though \ud83d\udc4d . Sure, we will do this in another PR but you're totally right \ud83d\udc4d . It could be awesome if we could be able to edit the settings from the configurations file ./environment/*/request.json. What do you think?. @kamalbennani Both are great, but yes we really like Immutable \ud83d\ude06 . Is there another way to generate a truly unique ID for each toggle?. You should lowercase the type variable to avoid to manage the case like WYSIWYG, wysiwyg. What's sum? I would prefer a more comprehensive name. The algorithm is complex and even more, if the variables aren't named correctly. Complicated to read this one as well...\nitem is an element of the line?\ncond is when an item isn't at the end of the line?\ndir is the current direction?\n. The SVG isn't cleaned and minimised (my fault \ud83d\udc4e). js\nif (isDragging && withLongerHeight) {\n  className = styles.removeIconLongerDragged;\n} else if (withLongerheight) {\n  className = styles.removeIconLonger;\n} else if (isDragging) {\n  className = styles.removeIconDragged;\n} else {\n  className = styles.removeIcon;\n}\nBetter?. I think we have a regression here...\nThis condition has not his equivalent in the new file.\njs\nif (relation.nature.toLowerCase().includes('morph') && relation[key]) return '';. Remove this part (if it's not necessary). Please add comments and rename some variables with more explicit names like itemLineEls because it's very complicated to read this method :/. Please add comments in the entire file to make it more readable for everyone . Remove if it's unnecessary. Please split the file, it's too big and complicated to read. Also, please add comments to be able to understand each part of the code.. I've already read this method before, in another file. You should specify at the top of the file, why we made that choice.. We lost an attribute configurable: false. Remove this attribute. What happens if the strapi.store returns an empty object?. js\n(settings.from.email && settings.from.name)\nI think we should verify both conditions and not only one of both?. What happens if the strapi.store request returns an empty object?. You should use our Query system because the findOne method only works with MongoDB. It won't work with SQL databases (Bookshelf).\njs\nconst user = strapi.query('user', 'users-permissions').findOne({ _id, id });\nThen, you'll have to write the findOne query for both ORM (bookshelf and mongoose).. We could certainly generate another service called Query.js or something like that. It could make more sense... what do you think about this idea?. I really prefer the if (condition) { result... } format. It's easier to maintain \ud83d\udc4d . Can we put these two functions inside the utils folder?. This is exactly that kind of method that should be located in the strapi-bookshelf/lib/relations.js file to avoid repetition inside the query files and generated services. \nSee https://github.com/strapi/strapi/blob/master/packages/strapi-hook-bookshelf/lib/relations.js. Same for Mongo. We are writing that kind of generic method in the strapi-mongoose hook itself. It avoids code duplication and it's easier to main between query files and generated API.. Remove quote?. Why there are quotes here and not for Lato?. Why there are double quotes here and simple ones above?. What happens if the fs.readdirSync throws an error because it means the packages variable will be set to undefined and it will be impossible to map on it?. The variable files is never defined?. We could improve this part by not using writeFileSync but the async version of the method and returns an array of promises instead. So we'll be able to make Promise.all().. We could just create a file called .init without an extension like a .htaccess without any content into it?. I don't know how glob will react but it makes more sense to me. What do you think?. Are you sure there is no way to only pass the Bearer token only once? Then, all the future requests will be automatically authenticated?. Can you try to use more real and secure identifiers?. It should be a devDependencies. Can you change these identifiers?. Same \ud83d\ude48 . Good catch!. You've hardcoded the word blog. Please use <%= id %> instead.\njs\nconst data = await strapi.services.<%= id %>.fetch(ctx.params);. Also, what happens if I send a bad ID like http://myapi.com/blog/john where john is the ID? The following condition if (!ctx.params._id.match(/^[0-9a-fA-F]{24}$/)) has been added because in my memory Mongo was returning an error.. Why are you not using the ref variable which is the referring model? Also, we should base the customKey on the primaryKey.\njson\n{\n  \"connection\": \"default\",\n  \"primaryKey\": \"__uuid\",\n  \"attributes\": {\n    \"__uuid\": {\n       \"type\": \"string\"\n    },\n    \"username\": {\n      \"type\": \"string\",\n      \"minLength\": 3,\n      \"required\": true\n    }\n}\nSo the code could be improved like that:\njs\nconst keyType = _.get(ref.attributes, `${ref.primaryKey}.type`, false) ? \n  utils(instance).convertType(ref.attributes[ref.primaryKey].type) : \n  instance.Schema.Types.ObjectId;. You should only do this once? I guess the logic to retrieve the customKey and convert to the right type should be placed before the switch statement.. Why is this hardcoded to String? I suppose it should be using the keyType variable?. You're right! We could centralise everything in a single place but the users need to keep control if they want to edit something. It should not be hidden somewhere to avoid updates.... @lauriejim ?. I've already did an update like that in this PR https://github.com/strapi/strapi/pull/2380, we should try to synchronise our work.. This is not only the manyToMany case but it's also the oneToMany or manyToOne process.. You're right but I'm not 100% sure... it should work without converting the parameters but we're not doing randomly, I think there is a reason but I can't remember why.. We're rejecting the relations which don't have the autoPopulate set to true (see https://github.com/strapi/strapi/blob/master/packages/strapi-generate-api/templates/mongoose/service.template#L24).. +1. viewS. Same for every link. It doesn't describe what --dbforce does. Btw, it's the same with the dbssl property.. const?. We should harmonize the double quotes vs single quote on the next line.. Why? It seems that the variable isn't used anywhere. We should keep it in the scope of the if condition?. This function is deprecated (see https://nodejs.org/api/fs.html#fs_fs_exists_path_callback). You should use fs.access instead.. Are you sure we should add this comment? We could also update the lint configuration.... I can't find any blank space using VSCode.... Same. The code loops on each plugin and each plugin's models. There is no duplicate. The difference is that my code seems to be more maintainable than yours. I was developing with a lot of Lodash functions like you did before but it can be very difficult to understand what it does and it's less maintainable for the others developers who are going to add new lines of code.\nI'll keep this code like this until you can prove me that there are duplicated loaders \ud83d\ude48 \nThank you for the feedback, I really appreciate \ud83d\udc4d . The best option would be to create a new function to extract the IDs in that case. I will do that, thank you for pointing this out \ud83d\udc4d . I agree. I've created a constant as you recommend, we shouldn't support both ways to do this thing in the future.. I don't need it in some cases. If I'm on the dominant side (where the IDs are stored) I already the relational IDs so I don't need to populate. It saves unnecessary relational populations \ud83d\udc4d . No idea... I wasn't the job to rework the filters with this PR but we could definitely make things clearer and this part. I was confusing to me as well.. Tricky case. I'll try to explain but it's a little bit complicated. Imagine, you're doing this query:\n{\n    categories (limit: 10) {\n        name\n    products (limit: 1) {\n            categories {\n        name\n      }\n        }\n    }\n}\nWe are going to fetch only 10 categories at first. It means C1, C2, ..., C10 in term of data. For each on this category, we're going to fetch the first product which is associated with this category. As you can see, I didn't apply a limit to the third-level of the query categories. It means that I've to retrieve all the categories associated with the product. For the sake of this example, we're going to say that each product is only associated with 2 categories. Some of these categories haven't been fetched with the first request \n yet.\nA loader is nothing more than an array we're pushing all the entries that we've to fetch. So in this case, we are going to push the categories which haven't been fetched yet C11, C12, ..., C20.\nNow, the database queries are executed... I have to fetch 20 categories C1, C2, ..., C11, C12, C13, C14, ... and 10 products P1, P2, ..., P10. It means that I'll only make two requests.\n\nI'm pretty sure you're already seeing the problem. Imagine this example when the limits are set to 100. In reality, it means that I've to fetch more than 3 or 4 hundred of categories at the end. Because in the end, I'm merging all the requests together to only fetch the database once for each entity. Currently, I decided to apply an arbitrary value 500 but the issue still exists. Some entries could be missing due to the limit. We should find another way to identify the exact number of entities to fetch to apply the right limit.. I wasn't able to reproduce this case. But I'm pretty sure it exists because I remember it very well. We should keep this in mind if someone opens an issue about missing entries in the GraphQL responses.. Good catch!. Using the context.query and context.params objects. The resolver is a controller, not a service.. Oh yes! You're right. I'll add a resetLoaders method then I'll add a condition to return the loader if it's already existing instead of creating a new one.. Thank you, it could be really helpful :). Good catch!. Okay, it makes sense. We can add it! . I'm not sure we need to use reduce... why is this not working?\n```js\nconst settings = Object.assign(scope.database.settings, settingsBase);\n// or\nconst settings = _.merge(scope.database.settings, settingsBase);\n``. Is thisifcondition necessary? What the value ofanswers.srv?. Same here, can we use ternary condition? If not possible, we add a new return line to make the code more readable?.We automatically` with two 'l'. const?. We don't need this because the visibility and pagination plugins are added automatically.. Not sure of what you're doing on this part. The part was a tricky one when the order of the returned results matters. I need to test it again to make sure it works as expected.... Please use Lodash... It will break if the alias variable is empty.. Hm... again this part was tricky and the switch hasn't been coded for no reason. It seems almost impossible to me that this part can be so simplified. I would love to but I need to check all those tricky cases again before allowing this PR to be merged.. It might happen, we should not take the risk.... Why the other components are not formatted like this one?. Not a big deal but... we don't need to check both conditions in this case.\n```js\nlet content;\nif (typeof props.message === 'string') {\n  content = props.message;\n} else if (isObject(props.message) && props.message.id) {\n  content = ;\n} else {\n  // Default value.\n  content = props.children;\n}\n```. We should define and follow a guideline for the order of the CSS properties. For example, I like to follow this one but we can change it if you prefer another one.\n\nAlignment properties (display, justify-items, top, left)\nBlock properties (width, height, margin, padding)\nContent properties (font, colors)\nAnimation and extra styles\n\n.myClass{\n  display: flex;\n  justify-items: center;\n  width: 100%;\n  height: 50px;\n  padding: 0 50 25px;\n  margin: 0;\n  font-size: 2rem;\n  font-weight: 600;\n  color: #f30;\n  transition: color .25s ease-out;\n}\nWhy should we do this? If we follow guidelines like this one, it repeats a pattern and it's easier to debug, to read and to maintain. The impact will be huge in the long-term.. I don't know if this file is going to change a lot in the future but it might be interesting to use a ternary condition with a constant. I'm just asking... I might be wrong on this one ;). There is no test if you choose the quickstart option so the message seems correct, no?. We should use cross-env as well. cross-env APP_PATH=\"${appPath}\". I don't know if the templates are similar but we should use Object.assign() instead of _.assign.. else if or the indentation is wrong. Is it necessary?. Everything should be a devDependency?. I'm not sure if the naming convention is right... it's too generic. Why are you not naming this test should freeze the app when the freezeApp action is called?\nSee https://stackoverflow.com/questions/155436/unit-test-naming-best-practices. Same here?. correctly* (this one can be applied on the four previous tests and the next one as well).. top: calc(50% - 10px);\nleft: calc(50% - 10px);\n?. Just asking... but when I see this file (https://github.com/strapi/strapi/blob/master/packages/strapi-admin/admin/src/styles/base/fonts.scss), we are using the font-weight property to determine how \"bold\" the font will be displayed.\nI don't remember that we were doing things like that, otherwise, it means that we import fonts twice.. Btw, it might explain why the fonts are not working well on Firefox and Safari.... We should use this link https://strapi.io/documentation/getting-started/quick-start.html#_3-create-a-content-type instead. It will redirect the user to the latest version available.. We don't need to do that, we have a Webpack plugin to create the prefix automatically. If not, we should use one ;). Hmm, do we really need to do that? I mean having a number so higher.. We could have a better naming like InitializerComponent.. this.getContentWrapperStyle().main and this.getContentWrapperStyle().sub, I pretty sure there is a more convenient way to do it.. We have to be sure that nothing depends on it... Why did we add it?. Is there a lint rule to load the components in alphabetic order?. js\nconst pluginsObj = plugins.toJS ? plugins.toJS() : plugins;. There is a lack of comments on this file. You could find a better naming for this variable. See the comment above. self?. Sure!. ```js\nconst plugins = this.props.global ? this.props.global.plugins : this.context.plugins;\nconst plugins = this.props.global.plugins || this.context.plugins;\n.js\nconst pluginsLifecycles = Object.keys(plugins)\n  .filter(plugin => !!plugins[current].lifecycles)\n  .map(plugin => plugins[current].lifecycles.bind(this)());. Do we really need this variable?. We should rename this component... WYSIWYG is an acronym.. Anyway, we won't do it but it's not readable enough, IMO.. See previous comments. Why do you use the Lodash map method?. See previous comments. See previous comments. js\nconst attributesDisplay = plugins.upload !== undefined ?\n  ... :\n  ...;. You know what to do :p. You know what to do. F*ck... keep it like that if there is no other way. I would prefer to see this.getContentWrapperStyle('main'). Okay... it makes sense. When I saw this it was weird, especially when the propTypes, the actions, etc have to be ordered alphabetically.. Can you explain what you've in mind?. I agree, we will do it later then. A dot is missing...\nget(err, 'response.payload.message');. No idea... I'll remove it.. Nop, because in this component the context is available through the props (pure compo) and it was able to get it using your code.. Mystery.... Do we really need to loop on all organization whereas we look for a specific package @strapi/strapi-provider-email?. Same here.... There is a debug option to check if we need to display the full logs or not. We should remove this one, right?. The check should be done in the bootstrap.js file of the plugin... and not on every request.\nsee https://github.com/strapi/strapi/blob/master/packages/strapi-plugin-upload/config/functions/bootstrap.js. ",
    "perminder-klair": "tried to run strapi using sudo and I can see sails-mongo is in node_modules\n. ",
    "kaermorchen": "I think I can try help with it.\n. I'm sorry, at the moment I don't work with strapi. I was not able to work with studio on my system (windows 7 x64). And I switched to work with loopback.\n. ",
    "pierreburgy": "What do you mean by public site? \nHere is the documentation for user authentication: http://strapi.io/documentation/users\n. Good catch, @sylvainlap just made a pull request to update the documentation : https://github.com/wistityhq/strapi-docs/pull/2\nThanks @gregbenner @sylvainlap\n. That's weird, we're gonna check this asap.\n. Thanks for your feedback. It's now fixed: https://github.com/wistityhq/strapi/pull/19\n. hi @gregbenner, which version of node and npm are you using ?\n. Good catch @gregbenner, we are working on it.\n. We just fixed it : https://github.com/wistityhq/strapi-generate-admin/commit/26626fb8be564b460b147a7d57f93449760f33f6\nIt will be published in strapi-generate-admin v1.5.2.\nThanks again for your feedback @gregbenner \n. Good catch @senikk, we'll work on it ASAP.\n. @senikk, here is what we are about to validate : https://github.com/wistityhq/strapi-generate-admin/commit/297b7eaf7278cb97fedf142b4dcea2259da7d1e7\nWhat do you think about this solution ? (you juste have to launch gulp dist in the /api/admin/public folder)\n. Hi @buffonomics,\nSimply go in the api/admin/public folder and run npm install && gulp dist (may be working only with Node 4). Then reload the admin page and it will work.\n. Could you try to run : \n$ npm update strapi -g\n$ rm -rf api/admin\n$ strapi generate admin\n$ cd api/admin/public\n$ npm install\n$ gulp dist\n. Good catch ;)\n. Hi @kulakowka , could you try GET /user/:youUserId?populate=articles\n. Hi @Charl--- , we fixed the issue. Could you try again and let us know please?\n. Thanks for you answer, we are working on the issue. It should be working again in a few moments.\n. Problem fixed. Is it working now from you machine?\n. Great. You're welcome, sorry for the inconvenience. \n. Hi @PetrSnobelt, did you create the attribute from the Studio or from the code (using a text editor)?\n. HI @lanlau, do you still have this issue? Could you give us more information about the issue and about your proxy, please?\n. Hi @borantula,\nWhat are the name of the model you used and the name of the relation key?\n. Here is an example:\n\n\n\nIs it what you are trying to do?\n. You are right @borantula, a warning message would me more than relevant here.\n. Good idea @abelsoares.\nHere are some other options: \n- adding a local.json file in the /config folder (this file would be added to the default .gitignore)\n- using templated JSON in order to use environment variables (eg. {\"port\": \"{{= process.env.PORT }}\"})\n. Good idea @abelsoares. Do you have time to submit a pull request for that? \nAlso, we could add a generator strapi generate env [staging] which adds a staging folder in every config folders (/config/environments and /api/[model]/config/environments).\n. \ud83d\udc4d \n. Added in #119.\n. Hi @jblok,\nActually, what you did should work. It looks like the problem is related to the adaptor.\nDid you try to destroy the database before starting the server with the new configuration?\n. Actually this is probably due to the models structure. So, please try one of these options to fix the problem: \nSolution 1: \nUse default connection for your model Role in Role.settings.json\nSolution 2: \nAdd \"dominant\": true to the roles attribute in Route.settings.json\njson\n\"roles\": {\n  \"collection\": \"role\",\n  \"via\": \"routes\",\n  \"dominant\": true\n}\nOR\nAdd \"dominant\": true to the routes attribute in Role.settings.json\njson\n\"routes\": {\n  \"collection\": \"route\",\n  \"via\": \"roles\",\n  \"dominant\": true\n}\n. Hi @jblok,\nYes, but instead of the CLI, you can also use the Studio to make these changes.\n. Hi @natew,\nIs this error due to Strapi or sails-disk?\nDid you solved the issue?\n. Hi @jblok,\nThis bug is actually related to the admin panel. The property field should not be sent with the value \"\", it should not be sent at all (or with undefined as value). \n. Hi @jakobrosenberg,\nThis is not implemented yet. We can do it at the framework level, but this feature make migrations more complicated.\n. @benjaminjs, @suhaboncukcu and @eikaramba: thank you for your feedback.\n1. @benjaminjs, yes, Node needs this mix between a framework and a CMS. @suhaboncukcu we will take about creating clear migration guides. Good idea @eikaramba.\n2. We need more votes for the framework choice.\n3. Users and groups looks to be the most wanted downloadable plugin.\n4. @suhaboncukcu actually, the deployment it would be a PaaS, so you can write your own code and, then, deploy it. @eikaramba, what are your expectations concerning the Stripe plugin (admin panel integration, invoices management, users plugin connection...)?\n5. React.js and Vue.js are the two in our short-list.\n6. and 7. Thanks again.\n. Thanks to all of you for your answers. They help us a lot to make decisions. Here are some of our current thoughts for the future of Strapi:\n- Node.js framework: Koa. Koa is flexible, lightweight and easy to understand. As soon as possible we will migrate to Koa 2 in order to avoid plugins breaking changes.\n- The first plugins developed will be: Users (auth, groups and permissions), Content Manager, Content Type Builder and Settings Manager. For that, we are going to create a brand new admin panel using React.\n- The first available SaaS plugin will be a one-click deploy solution based on a monthly recurring payment. \n- We want to keep Strapi easy to learn, especially for front-end developers. Bookshelf is a really good option for SQL databases. However, SQL migrations require a good level from the developer. NoSQL databases have high flexibility what make them easier to learn. Also, Mongo is the world most used NoSQL database. That\u2019s why we decided to choose Mongoose as default ORM. That will make developer life easier to develop both back-end applications and Strapi plugins. However, as a developer you will still have the ability to use any other ORM (including Bookshelf), but in this case you won\u2019t be able to enjoy plugins usage through the marketplace given that they will be based on Mongoose.\nIf you have any question or suggestion concerning these choices, feel free to answer to this issue.\nLooking forward to see your reactions.\n. We are going to release Strapi v2 alpha asap. Bookshelf ORM will be published on a separated repository.\nStrapi v2 will be released with Koa V1: Koa v2 is no mature enough yet.\n. Thank you @cupofnestor, as you can see in our blog (http://blog.strapi.io/inside-the-box-july-2016/ and http://blog.strapi.io/inside-the-box-september-2016/), we are finally going with React and Koa.  Thanks for your contribution.\n. Hi @Gegham,\nWe have changed our registar, the Studio is going to be accessible within the next 3 hours. Sorry for the trouble.\n. Could you try again now, please?\n. Alright. I close the issue.\n. @dvalvarenga, did you receive the activation email and validated your account?. What is your Node version?\n. Strapi v1.x.x is not compatible with Node v6 yet. Please switch to node v5 or less.\n. You are welcome \n. Thank you @portokallidis.\nIf you need to change the port of you server, please edit the /config/environments/production/server.json file and add the following lines:\n{\n   \"port\": 8080,\n   \"host\": \"yourdomain.com\"\n   ...\n}\nAnd make sure your environment variable is set to production (process.env.NODE_ENV).\n. Hi @portokallidis,\nSo, yes, you can use git add ., etc. and, then, clone it (do not forget to run npm install inside the project folder). \n. Hi @portokallidis,\nCurrently, a cluster system is implemented in Strapi (http://strapi.io/documentation/configuration#reload) but it only restart the server if it crashes. What tool do you suggest?\n. Good idea @portokallidis, we plan to fill this Github organisation with examples and tutorials from us and from the community: https://github.com/strapi-101\nIn the meantime, feel free to look for examples in Github: https://github.com/search?utf8=%E2%9C%93&q=strapi\n. Hi @jamesjwarren,\nNode v6 is not supported yet by Strapi v1, but it will be by Strapi v2. In the meantime, please use Node v5.\n. Hi @ugommirikwe, here is a Gist to install Strapi v2: https://gist.github.com/pierreburgy/6ff3ad7833747db00a2317e1f95b85bb\nBut as you can see here: https://github.com/wistityhq/strapi/issues/126, this version is not stable.\n. @jamesjwarren @ugommirikwe @dj-hedgehog @FabioSilvaBRZ  Strapi v1 is now compatible with every Node versions, including 7.x. Feel free to upgrade: npm i strapi -g. More information here: http://blog.strapi.io/release-v1-6.. Good catch @nikhilshekhawat, we will fix it asap. Thank you for the report.\n. Hi @peresleguine,\nThanks for this issue. I replied directly through stackoverflow.\n. Thank you @dj-hedgehog.\n. @iocron @gabrielperales @laclance Strapi v1 is now compatible with every Node versions, including 7.x. Feel free to upgrade: npm i strapi -g. More information here: http://blog.strapi.io/release-v1-6.. @sbacem: you can remove it directly from your Car.settings.js file. Also, please remove the following code in User.settings.json:\n\"cars\": {\n  \"collection\": \"cars\",\n  \"via\": \"contributors\"\n}\n. \"autoCreatedAt\": false,\n\"autoUpdatedAt\": false\nare related to the following fields: createdAt (not createdBy) and updatedAt (not updatedBy). So, you don't need to remove them, except if you want to remove createdAt and updatedAt fields.\nDid you reload admin panel page?\n. Do you get any error in your web browser console?\n. Using Node v4:\n- Replace createdAt with id in yourApp/api/admin/public/src/strapi/explorer/explorer-list.controller.js (https://github.com/strapi/strapi-generate-admin/blob/ace3ef885234fe36d862fae303f22305958ec8bd/files/api/admin/public/src/strapi/explorer/explorer-list.controller.js#L64).\n- Install bower and gulp (npm install gulp bower -g).\n- In yourApp/api/admin/public/ folder, run npm install, then gulp dist.\n- Reload the web browser page.\n. @sbacem, the new administration panel will be developed using React and released in the next few weeks. Of course, the APIs created with Strapi will be fully compatible with any angular 2 based front-end applications.\n. We will probably develop a JavaScript SDK, so it will make sense to create an Angular SDK on top of it.\nUntil v3 official release, please use Strapi v1.5: v3 is not stable enough to be use for a production ready project.\n. @sinegovsky-ivan, this feature has been disabled in the Studio in order to avoid issues. You can edit manually by updating /api/user/models/User.settings.json file.\nIn Strapi v3, we will be able to edit it directly from the open-source admin panel.\n. @fishmacs Strapi v1 is now compatible with every Node versions, including 7.x. Feel free to upgrade: npm i strapi -g. More information here: http://blog.strapi.io/release-v1-6.. @fishmacs it is 1.6.0: \n - https://github.com/strapi/strapi/releases/tag/v1.6.0\n - http://blog.strapi.io/release-v1-6. Hi @nanocreaator, Strapi v1.x supports only Node versions between 0.12 and 4. Please downgrade to Node v4 to use it.\nOf course, Strapi v3 will support Node v7 and more.. Hi @v3yr0n,\nIt will possible but will require important manual changes.\nThe files structure will be pretty much the same, but Strapi v3 will use a lot of new patterns (such as ES6, async/await...) that you will have to implement yourself in you project if you migrate from 1.5 to 3. Also, the new dashboard will be completely rebuilt.\nStrapi v3 is still not ready for production, so we encourage you to use v1.5 and to plan some days to migrate to v3.. @andyjessop contributor is more a concept than a role: a user becomes a contributor as soon as he is part of the list of contributors of an entry.\nFeel free to remove this logic, if you are not confortable with it, by removing the relation contributors in your model.. @io777 Strapi v1 is now compatible with every Node versions, including 7.x. Feel free to upgrade: npm i strapi -g. More information here: http://blog.strapi.io/release-v1-6.. @lazaridis-com, Strapi v1.x is compatible only with Node 4. But, of course, Strapi v3 will be compatible to the latest Node versions.. @lazaridis-com you can use nvm (https://github.com/creationix/nvm) to easily switch between Node versions.. Hi @Jatinbalodhi96, Strapi v1.x is compatible only with Node 4. But, of course, Strapi v3 will be compatible to the latest Node versions.. @Jatinbalodhi96 Strapi v1 is now compatible with every Node versions, including 7.x. Feel free to upgrade: npm i strapi -g. More information here: http://blog.strapi.io/release-v1-6.. @zhoub @sbacem Strapi v1 is now compatible with every Node versions, including 7.x. Feel free to upgrade: npm i strapi -g. More information here: http://blog.strapi.io/release-v1-6.. This have been fixed in this commit: https://github.com/strapi/strapi/commit/1889b2adc75c39d2d46636dc0eb56f20310468a5. @zengxinle Strapi v1 is now compatible with every Node versions, including 7.x. Feel free to upgrade: npm i strapi -g. More information here: http://blog.strapi.io/release-v1-6.. @soccer99 Strapi v1 is now compatible with every Node versions, including 7.x. Feel free to upgrade: npm i strapi -g. More information here: http://blog.strapi.io/release-v1-6.. @mraak this issue is probably due to a bug we had in Strapi 1.6.1.\nWe just released Strapi 1.6.2, which solves this problem. Please try to update your Strapi version (npm install strapi -g) and create a new application (strapi new myApp).. What are your Node, npm and Strapi versions? What database do you use?\nDo you have any error log in your terminal?. @mraak please try using Strapi 1.6.2.. Do you have any error log in your terminal?\n. @mraak do you still have this issue?. Do you have this issue from a brand new project generated from Strapi 1.6.2?. @Clowning thanks for this notification. Like @elliottcrush said, this has been fixed in 1.6.3.\nIf you want to fix the issue in an existing project, replace:\n - ./admin/services/routes.js by https://github.com/strapi/strapi-generate-admin/blob/master/files/api/admin/services/routes.js (to fix the bug).\n - ./admin/config/routes.json by https://github.com/strapi/strapi-generate-admin/blob/master/files/api/admin/config/routes.json (for security reasons).. Thank @odykyi for the review!. @piscis did you try to remove the isAuthorized in the routes.json file?\nWhere exactly the code stop working in the upload function (https://github.com/strapi/strapi-generate-upload/blob/master/files/api/upload/services/upload.js#L24-L25)? \n. @piscis, do you still have the issue?. Thanks a lot for your feedback @wilonth!. packages/strapi-generate-new/files/config/environments/test/hook.json should not be empty.. I am not able to generate a new API:\n\u279c  my-app strapi generate:api user\nerror: Error: ENOENT: no such file or directory, open '/Users/pierreburgy/Sites/sandbox/my-app/config/environments/development/databases.json'\n    at Object.fs.openSync (fs.js:651:18)\n    at Object.fs.readFileSync (fs.js:553:33)\n    at Object.module.exports [as before] (/Users/pierreburgy/Repositories/strapi/packages/strapi-generate-api/lib/before.js:113:38)\n    at generate (/Users/pierreburgy/Repositories/strapi/packages/strapi-generate/lib/generate.js:45:13)\n    at module.exports (/Users/pierreburgy/Repositories/strapi/packages/strapi-generate/lib/index.js:61:3)\n    at module.exports (/Users/pierreburgy/Repositories/strapi/packages/strapi/bin/strapi-generate.js:50:10)\n    at Command.program.command.option.option.option.description.action (/Users/pierreburgy/Repositories/strapi/packages/strapi/bin/strapi.js:70:33)\n    at Command.listener (/Users/pierreburgy/Repositories/strapi/packages/strapi-utils/node_modules/commander/index.js:300:8)\n    at emitTwo (events.js:125:13)\n    at Command.emit (events.js:213:7)        `invalid` case triggered, but no handler was implemented.. User is not defined after new API creation.\nSteps to reproduce:\n - Create a new project named my-app: strapi new my-app.\n - Generate a new api: strapi generate:api user.\n - Start the server.\n - Visit http://localhost:1337/user.\nError stack trace:\ninfo: Server started in /Users/pierreburgy/Sites/sandbox/my-app\ninfo: Your server is running at http://localhost:1337\ndebug: Time: Mon Jul 31 2017 16:39:50 GMT+0200 (CEST)\ndebug: Launched in: 262 ms\ndebug: Environment: development\ndebug: Process PID: 20243\ndebug: Version: 3.0.0-alpha.4.8 (node v8.1.4)\ninfo: To shut down your server, press <CTRL> + C at any time\nerror:  ReferenceError: User is not defined\n    at Object.fetchAll (/Users/pierreburgy/Sites/sandbox/my-app/api/user/services/User.js:21:12)\n    at find (/Users/pierreburgy/Sites/sandbox/my-app/api/user/controllers/User.js:18:45)\n    at dispatch (/Users/pierreburgy/Repositories/strapi/packages/strapi/node_modules/koa-router/node_modules/koa-compose/index.js:44:32)\n    at next (/Users/pierreburgy/Repositories/strapi/packages/strapi/node_modules/koa-router/node_modules/koa-compose/index.js:45:18)\n    at dispatch (/Users/pierreburgy/Repositories/strapi/packages/strapi/node_modules/koa-compose/index.js:42:32)\n    at next (/Users/pierreburgy/Repositories/strapi/packages/strapi/node_modules/koa-compose/index.js:43:18)\n    at module.exports (/Users/pierreburgy/Repositories/strapi/packages/strapi/lib/middlewares/responses/policy.js:41:11)\n    at dispatch (/Users/pierreburgy/Repositories/strapi/packages/strapi/node_modules/koa-compose/index.js:42:32)\n    at next (/Users/pierreburgy/Repositories/strapi/packages/strapi/node_modules/koa-compose/index.js:43:18)\n    at /Users/pierreburgy/Repositories/strapi/packages/strapi/lib/middlewares/router/utils/routerChecker.js:29:11\ndebug: GET /user (6ms). @Aurelsicoko I solved the issue User is not defined by running npm link strapi-mongoose in my project. It could be a good idea to add a warning message saying that a hook is not ready.. LGTM.. LGTM.. LGTM.. LGTM. LGTM. @sylvainlap, it looks like this is mostly a permission issue. Did you find a work arround?\nYour issue is very similar to this one: https://github.com/theintern/intern/issues/500. So the best solution may be to catch the EPERM error and copy instead of doing a symlink.. LGTM.. Good catch @spruce! This is actually due to the following setting: https://github.com/strapi/strapi/blob/master/docs/3.x.x/book.json#L20.. During the next few weeks we are going to integrate PassportJS (and authentication providers, including Auth0 with https://github.com/auth0/passport-auth0).\nThanks to that, Auth0 integration will be available.. We published an article explaining how to use Strapi with mLab. We hope it will help.. @derrickmehaffy I think it can be closed.. We published an article explaining how to use Strapi with mLab. Please reopen the issue if you still have the problem.. Good suggestion @shinokada! This is in our plans: we are going to publish an article (https://blog.strapi.io/p/cd1ad84c-1ca5-409d-be05-fb06bca4e8c5/) and add it in the documentation this week.. @shinokada yes, it should work. Did you have any issue with that?\n@ArkhipovK to use Heroku, you only need to set your database configuration in Heroku environment variables and update the port config in your Strapi project:\nPath: config/environments/production/server.json:\njson\n{\n  \"host\": \"localhost\",\n  \"port\": \"${process.env.PORT || 1337}\",\n  \"autoReload\": {\n    \"enabled\": false\n  },\n  \"cron\": {\n    \"enabled\": false\n  }\n}\nBtw @Aurelsicoko, shouldn't we update the generators to set this value by default?. @ArkhipovK Heroku will automatically detect that your app is a Node.js app and then, will install the node modules.. The tutorial has been published: https://medium.com/@strapi/how-to-deploy-a-strapi-api-on-ubuntu-16-04-17f8fbbf5c5b, so I am closing the issue.\nThanks again for your suggestion!. @marti1125 do you still have this issue?. We published an article explaining how to use Strapi with mLab. Please reopen the issue if you still have the problem.. @lauriejim your comment is actually even more relevant than you thought: updating production database setting from the Settings Manager does not delete the uri key but change the value of every keys containing the ${process.env.VARIABLE} pattern, what is a real problem. I think we can accept this PR\u00a0like that, but we should create an new issue to fix this.. Could you try with these instructions: https://medium.com/@strapi/how-to-deploy-a-strapi-api-on-ubuntu-16-04-17f8fbbf5c5b?. Please try to downgrade to npm 5.3 (npm install -g npm@5.3): https://github.com/npm/npm/issues/18380.. This is due to the fact that the ssl value of the config/environments/production/database.json file, is considered as \"false\" instead of false.\nThen, strapi-mongoose considers that the ssl option is actived: https://github.com/strapi/strapi/blob/master/packages/strapi-mongoose/lib/index.js#L58.\nTo fix that, and easily deploy to Heroku, set the ssl value to false in config/environments/production/database.json.\nThis issue should stay open, because the \"false\" problem must be fixed.. @wadeziegler did you set the ssl option to false?. This is because the script setup the server but does not generate and start the Strapi project. After running the script please run the following command:\nstrapi new app --dbclient=mongo --dbhost=localhost --dbport=27017 --dbname=strapi-app\ncd app\nNODE_ENV=production pm2 start server.js\nMaybe we should add these commands in the scripts?. Thank you @MartinMuzatko. This has been fixed in #1728.. @sundaycrafts do you really need dbName in connectionOptions (https://github.com/strapi/strapi/pull/1831/files#diff-43153381da5552c728ec8acf21724e86R77)?\nThis is what breaks the Heroku deploy (https://github.com/strapi/strapi/issues/2136) so it would be great to remove it.. @juansaab yes it is related to #1831, please see my comment: https://github.com/strapi/strapi/pull/1831/files#diff-43153381da5552c728ec8acf21724e86R77.. This PR is now ready for tests \ud83c\udf89\nNote 1: even in --dev mode, generated projects use the strapi-hook-bookshelf from npm. The problem is that, obviously, the connectivity.js file on npm does not contains the changes made in this PR. So, an error occurs when generating a new project. The work around is to generate a new project with Postgres and to replace the content of config/environments/development/database.json with:\n{\n  \"defaultConnection\": \"default\",\n  \"connections\": {\n    \"default\": {\n      \"connector\": \"strapi-hook-bookshelf\",\n      \"settings\": {\n        \"client\": \"sqlite\",\n         \"fileName\": \".tmp/data.db\"\n      },\n      \"options\": {\n        \"useNullAsDefault\": true\n      }\n    }\n  }\n}\nMaybe @lauriejim has a work around to test it with the correct connectivity.js file.\nNote 2: by default, the SQLite file is generated in .tmp (which is in the .gitignore of generated projects) with the name data.db. So the result is .tmp/data.db. Feel free to change it if necessary. . @mnlbox thank you for your comment!\n\n\n@Aurelsicoko could you move this feature to \"In Progress\", please?\n\n\nExactly, this is why import/export feature is highly requested.\n\n\nThis is interesting, but I think offering Strapi online would solve this problem in a more straightforward way.. I submitted a new PR to fix this issue: https://github.com/strapi/strapi/pull/2839 . First of all, congrats @davidkartuzinski for this!\n\n\nHere is my feedback:\nQuick start\n - [x] \"Check installation\" : not needed, this section can be removed\n - [x] Installation should be part of the Quick Start\n - [x] NPM should\u00a0be downcased (\"npm\")\n - [x] I am not sure \"str@pi:~/Desktop/Strapi/Projects\" is not necessary\n - [x] Quick start should have images (ideally GIFs) or videos\n - [x] \"Our\" should not be used (eg. Our Strapi Community) : nobody owns the community :)\n - [x] There is too much text in the Quick Start\n - [x] It would be great to have a proper introduction like https://www.gatsbyjs.org/docs/\n - [x] \"Check out our video tutorial\" should be linked to https://strapi.io/demo\nInstallation requirements\n - [x] Strapi installation should not be part of \"Installation requirements\" but inside the Quick start and the tutorial\nCommunity\n - [x] Is this page necessary? We already have one here:\u00a0https://strapi.io/community\nDetailed tutorial\n - [x] I really love this section!\n - [x] \"Installation Options\" should be removed. Instead, the Detailed Quick Start should be displayed as \"Tutorial\" in the \"Getting started\" section\n - [x] Files structure should be removed from the Table of contents (only one item is weird)\n - [x] \"3. Create a Content Type\" we could explain what is a Content Type\nOther\n - [x] \"$ \": they should be removed or not selectable\n - [x] Screenshots should all have the same format (eg. made fullscreen with a 13\" Mac, Chrome in private navigation mode).\n. This have been fixed in this commit: https://github.com/strapi/strapi/commit/26710f42cd109ebbbe171a8386daa46ade67e8bd. @Aurelsicoko: not sure this is a good idea, by default it set an empty object, what is fine.\nExemple:\njs\n{ controllers: { car: { index: [Function: index], identity: 'car', globalId: 'Car' } },\n  services: { car: { identity: 'car', globalId: 'Car' } },\n  config: { routes: [ [Object] ], policies: {} } }. @odykyi this will be added in the Strapi v3 documentation. In the meantime, the explanations are in the description of the PR.. @odykyi this will be added in the Strapi v3 documentation. In the meantime, the explanations are in the description of the PR.. Why does this line ends with a comma?. Remove this commented code.. Missing semicolon.. Missing semicolon.. Missing semicolon.. Missing semicolon.. Missing semicolon.. Remove this console.log.. Why cron in cors file?. Why is node-schedule required?. It should CSP hook.. It should be CSRF hook.. Why is node-schedule required?. difference, set, orderBy, isBoolean, mapValues, and reduce are not used.. setWith and last are not used.. It should be password instead of passsword.. It looks like the custom responses don't work anymore.. Wouldn't it be a good idea to use the bootstrap function as an async function?. You should use request.error.environment.unknown instead of request.error.environment.unknow.. +1. Everywhere in this file, it looks more appropriate to use badRequest instead of badData response.. ESLint requirement.. ESLint requirement.. ESLint requirement.. ESLint requirement.. The let is needed.. Add a space when you use \"!important\". Curled braces are not needed here.. id={this.props.name} would be better.. Wouldn't it better to pass the message id (form.button.save) directly as label in the label prop Button component?. I suppose that this part should be removed.. Service is already defined.. Wouldn't it better to pass the message id directly as label in the label prop?. Wouldn't it better to pass the message id directly as label in the label prop?. Isn't it better to use rem unit instead of px?. -webkit-font-smoothing: antialiased; should be set at the top styles level, if it is not the case yet.. Font-family is already declared at the top styles level (in bootstrap variables). So it shouldn't be necessary to set it anywhere else (especially because it makes customisation difficult).. Does the font smoothing break your style?. Remove useless comments. Actually, remove every tests folders because they are not used.. ```js\nimport { isArray, isObject } from 'lodash';\nconst cleanData = (value, key, secondKey) => {\n  if (isArray(value)) {\n    return value.map(obj => (obj[key] ? obj[key] : key));\n  } else if (isObject(value)) {\n    return value[key] || value[secondKey];\n  } else {\n    return value;\n  }\n}\nexport default cleanData;\n.js\nreturn response.json ? response.json() : response;\n. Why did you remove the comments?. It would be great to manage errors here.. It would be great to manage errors here.\n. Catch should be used directly in the promise (`.catch`), not using a try/catch.. This message should be translated.. This message should be translated.\n. This message should be translated.\n. This message should be translated.\n. `Button` component does not require content, because it is managed by the `label` prop.. The label should be translated (pass the translation id as label and add `handlei18n` prop).. Alright, thanks.. Ok, so keep this line like it is.. Good catch, sorry for the mistake.. Comments can be useful to hep new comers understand what is the logic and the choices behind the functions.. Please use `resolve` instead of `resole`.. This config should be removed.. The argument should be the name of the file: `fileName`. So you can call the function in a more generic way: `tryRequire('bootstrap');` and `tryRequire('pluginRequirements');`.. Avoid nested promises:\nplugin.pluginRequirements(plugin)\n  .then(plugin => {\n    return plugin.bootstrap(plugin);\n  })\n  .then(plugin => {\n    store.dispatch(pluginLoaded(plugin));\n  });\n``. Use a dynamic return:return require(fileName);. Export as default function.. Export as default.. The name of the file should berequirements.jsinstead ofpluginRequirements.jsin order to be consistent withbootstrap.js.. Wouldn't better to create a single, but dynamic Blocker component, that support props liketitle,descriptionandcontent(which could even be a component defined in the plugin)?. The table is not displayed properly: https://github.com/strapi/strapi/blob/add-documentation/docs/3.x.x/en/plugin-development/utils.md. Please add a dot at the end of the sentence.. Is it from thesessionStorageor from thelocalStorage?. Wouldn't it be better to movegetandsetfunctions in a util dedicated to storage (eg.utils/storage).. AddisLocalStorageas parameter in this function.. AddisLocalStorageas parameter in this function.. AddisLocalStorageas parameter in this function.. AddisLocalStorageas parameter in this function.. \"just one file\". 3.0.0-alpha.10.1. 3.0.0-alpha.10.1. \"You will have to reconfigure all yourusers-permissionsconfigs\": where?. \"We fixed\". \"its\" instead of \"it's \".ssh === true || ssl === 'true'would avoid the usage ofisBoolean`. Good catch, I pushed an other commit. Thanks!. ",
    "gregbenner": "Using POST /auth/local/register I get back the newly created user and jwt.\nUsing POST /auth/local/login with the same users filled in credentials:\n{\n  \"identifier\": \"contact@company.com\",\n  \"password\": \"123456\"\n}\nI get back a 400: \nhttp://localhost:1337/auth/local/login Failed to load resource: the server responded with a status of 400 (Bad Request)\n. By public site I mean, not the admin section.. The project root index.html.\nScript:\n$.ajax({\n  type: \"POST\",\n  url: '/auth/local/register',\n  data: {\n    username: \"bobbybrown123\",\n    email: \"bobbybrown123@gmail.com\",\n    password: \"bobbybrown123\"\n  },\n  success: function(response) {\n    console.log(response) // works returns user\n  }\n});\n// executed after user is created, 400 response\n$.ajax({\n  type: \"POST\",\n  url: '/auth/local/login',\n  data: {\n    identifier: \"bobbybrown123@gmail.com\",\n    password: \"bobbybrown123\"\n  },\n  success: function(response) {\n    console.log(response)\n  }\n});\n. Ok I've figured it out. The documentation http://strapi.io/documentation/users#local-login says /auth/local/login but when I viewed the network request of logging in from admin it is actually /auth/local\nMaybe it's an error in the documentation?\n. You've hardcoded the protocol to http so on an https site everything breaks.\nI've fixed it for myself 'hacking' by changing admin/frontend.js line 1775 to Config.backendUrl = '';\nMixed Content: The page at 'https://strapi-1-5-gregbenner.c9users.io/admin/#!/strapi/explorer/post/create' was loaded over HTTPS, \nbut requested an insecure XMLHttpRequest endpoint 'http://strapi-1-5-gregbenner.c9users.io/:8080/admin/explorer/user?limit=10&skip=0&where=%7B%7D'. This request has been blocked;\nThis is saying hey you are on https site but you tried to use an http request I'm a browser and I don't like that so you can't do it. :)\n. looks like a solve to get the current host url, @pierreburgy\ncould also leave it as '/' but should work either way.\n. ",
    "GeoffreyEmery": "\n. windows - other questions attached\n\n. https://drive.google.com/file/d/0B49J0ZEldyQaWmpjY3YtN0E5Q00/view?usp=sharing\nvideo\n. ",
    "dj-hedgehog": "Cool, it will take me a few days though as I'm drowning in work right now :)\n. I couldn't wait :)\nhttps://github.com/wistityhq/strapi-generate-api/pull/1\n. Updated koa-send and koa-compose as they now contain a v2 compatible branch.\nRemoved koa-load-middleware from the list as it needs no updating to be compatible with koa v2.\n. I've exchanged koa-gzip with koa-compress here too (see https://github.com/wistityhq/strapi/pull/87) because we won't switch to koa v2 before Strapi 2.0 is released.\nI also propose adding a Future milestone and adding this Issue to it.\nThe reason is there is currently no estimate on when async/await will land in V8 and even worse in Node itself. Therefore this would delay Strapi 2.0 greatly.\n. The situation keeps getting brighter koa-response-time, koa-static, koa-compress & koa-views all have respective branches for v2.x. I'll take care of some of the missing ones myself when I find the time.\n. Now, things are getting interesting as there is native async..await support in the just released Node v7.\nI suggest moving to Koa v2 now because that makes working with Strapi even easier. Also v3 isn't released yet.\n. @Aurelsicoko I didn't know about the leaks. Will definitely test this some more and follow the thread you mentioned.\n. @Aurelsicoko I updated the list.\nSince you have been using Koa v2 already with Strapi. What are your experiences so far? When do you plan to switch?. @devinivy \nAs @loicsaintroch said on the Slack #framework channel:\n\nHey @channel! As you all know we currently use the Waterline ORM. Unfortunately, there is no more maintainers taking care of it, both the core and the adapters... So, we definitely need to change the ORM since most of the issues we encounteer on Strapi are due to Waterline. We really need to know: which DBs do you use? What ORM do you like and why?\n\nPlease join the Strapi Slack instance for such questions at http://slack.strapi.io/\n. @loicsaintroch I thought about that too but then didn't do it because essentially what the plugin does is gzipping the output. I think that having the option called gzipmake is instantly clear what it is doing. compress is a little bit more abstract.\nUltimately if you want it to be called compress just say the word!\n. Voil\u00e1 #98 :shipit: \n. The migration-generation is completely broken (for me) currently. Every since @loicsaintroch generated working examples for the models I started with I wrote them by hand.\nThe question is how we want to deal with this? I'd like to try to fix migrations within the next weeks but bookshelf etc. needs to be put into its own plugin anyways. There are two problems:\na) I fix the strapi-generate-migrations BEFORE you put it into a new v3 plugin:\nyou have to wait for me to fix it first before you can do it\nb) I fix the strapi-generate-migrations AFTER you put it into a new v3 plugin:\nI'll probably need access to v3 so I can fix it.\nDecide for yourself what you'd prefer.\n. I have to chime in here (and hope to not raise the confusion).\nIn v2's config/environments/.../server.json you can disable all hooks by setting their name to false, e.g. `\"session\": false\".\nI think this is quite intuitive.\n@Aurelsicoko: Can we introduce labels for Strapi v1 and v3 (leave out v2 because you don't support that officially anyways).\n. 1. What do you think about this new vision?\nAnswer:  I'm with @yanickrochon on the marketplace subject. While I have nothing against a marketplace PLEASE make it rely on NPM by enforcing some kind of naming scheme strapi-whatever or a tag.\n2. What Node.js framework would you use: Hapi vs Koa2?\nAnswer: Koa2, it is as minimal as it gets in the Node world, easy to comprehend and extend.\n3. What downloadable plugins would you like first?\nAnswer: I'm using Strapi v2 already in a big company project. Since there are no plugins yet I had to write a local-auth, redis session and swagger generator plugin myself (which was easy and straightforward)\n4. What SaaS plugins would you like first?\nAnswer: None\n5. What front-end framework should we use for the extendable admin panel: \nAnswer: Either React or Ember.js\n6. How can you contribute?\nAnswer: I will fix the occasional bug, add to the documentation and release all plugins which may be useful to a wider audience (like the two above) \n7. Do you have any other suggestion?\nAnswer: I'm already working with v2 despite there is no alpha version available. Please release an alpha with the current state to NPM, make it master and stop supporting v1 altogether! People getting to Strapi are probably confused because there is currently v1 and v2. You don't have to release v2 framework and studio at the same time. With the former released people can already start building plugins, generators and will contribute more to the framework core.\n. Awesome, I'm happy with the plan (just don't forget to release alpha ASAP). I'm against Mongoose as default ORM but as long as there's still a viable path to use SQL databases with Strapi's models I'm fine with that. Could you please extract the current Bookshelf ORM into its own repository as soon as it's pluggable into Strapi?\nAlso one more question: Will you release Strapi v2 with Koa v1 and switch to v2 as soon as all middlewares are compatible? I see some confusion arising on the user-side if you go with v1 first and then migrate to v2. On the other hand according to https://github.com/wistityhq/strapi/issues/41 there are still a lot of middlewares which aren't updated (we could migrate the missing 8 manually though as they're rather simple).\n. @ugommirikwe Have you thought about using nvm? It makes managing your Node versions a breeze.\n. Ah, by using the config override at strapi.start I was able to make it work.\n. It was related to not proxying the WS requests properly in the frontend.. Strapi v3 is using Koa v2 and therefore needs native async..await which is only available in Node v7.0+.\nWhile this may drive away some companies it is a good strategy because this means there will be less breaking changes in the future.. What do you mean? Wasn't alpha.4 released weeks ago when there was not even Node 8 released?. @Aurelsicoko I run npm run setup with the latest master on Node v8.2.1 and got these 2 errors and 1 warning. The setup finished nonethless Here are they in order of appearance.\nError #1\n```\n\nstrapi-generate@3.0.0-alpha.4.8 prepublish /Users/ali/projects/nodejs/node8/strapi/packages/strapi-generate\nnpm prune\n\nnpm ERR! May not delete: /Users/ali/projects/nodejs/node8/strapi/packages/strapi-generate/node_modules/.bin\nnpm ERR! A complete log of this run can be found in:\nnpm ERR!     /Users/ali/.npm/_logs/2017-07-25T14_17_18_234Z-debug.log\nnpm ERR! code ELIFECYCLE\nnpm ERR! errno 1\nnpm ERR! strapi-generate@3.0.0-alpha.4.8 prepublish: npm prune\nnpm ERR! Exit status 1\nnpm ERR!\nnpm ERR! Failed at the strapi-generate@3.0.0-alpha.4.8 prepublish script.\nnpm ERR! This is probably not a problem with npm. There is likely additional logging output above.\nnpm ERR! A complete log of this run can be found in:\nnpm ERR!     /Users/ali/.npm/_logs/2017-07-25T14_17_18_268Z-debug.log\nnpm notice created a lockfile as package-lock.json. You should commit this file.\n+ strapi-utils@3.0.0-alpha.4.8\nadded 1 package in 0.555s\nnpm WARN prepublish-on-install As of npm@5, prepublish scripts are deprecated.\nnpm WARN prepublish-on-install Use prepare for build steps and prepublishOnly for upload-only.\n```\nWarning #1 \n```\n\nngrok@2.2.2 postinstall /Users/ali/projects/nodejs/node8/strapi/packages/strapi-admin/files/public/node_modules/ngrok\nnode ./postinstall.js\n\n(node:36082) MaxListenersExceededWarning: Possible EventEmitter memory leak detected. 11 SIGINT listeners added. Use emitter.setMaxListeners() to increase limit\n```\nError #2 \n```\n\nstrapi-mongoose@3.0.0-alpha.4.8 prepublish /Users/ali/projects/nodejs/node8/strapi/packages/strapi-mongoose\nnpm prune\n\nnpm ERR! May not delete: /Users/ali/projects/nodejs/node8/strapi/packages/strapi-mongoose/node_modules/.bin\nnpm ERR! A complete log of this run can be found in:\nnpm ERR!     /Users/ali/.npm/_logs/2017-07-25T14_19_41_138Z-debug.log\nnpm ERR! code ELIFECYCLE\nnpm ERR! errno 1\nnpm ERR! strapi-mongoose@3.0.0-alpha.4.8 prepublish: npm prune\nnpm ERR! Exit status 1\nnpm ERR!\nnpm ERR! Failed at the strapi-mongoose@3.0.0-alpha.4.8 prepublish script.\nnpm ERR! This is probably not a problem with npm. There is likely additional logging output above.\nnpm ERR! A complete log of this run can be found in:\nnpm ERR!     /Users/ali/.npm/_logs/2017-07-25T14_19_41_175Z-debug.log\nnpm notice created a lockfile as package-lock.json. You should commit this file.\n``\n. If anyone else comes across this the error was that @meads2 was using Node 6.2.1. The new Strapi requires at least Node 8.x f\u00fcr nativeasync...await` support among other features.. @memolipd \nYou can't just execute Strapi inside a vanilla Node.js container. You need to create a Dockerfile for Strapi which installs it (as you would do on your own PC). I will take care of creating an official Dockerfile which can be built and published to Docker soon.. Cuong and I are working together using Postgres type UUID for all IDs.\nWe added the uuid-ossp extension to our Postgres DB Docker image via CREATE EXTENSION IF NOT EXISTS \"uuid-ossp\";\nDo you see any workaround we could use? This time we want to avoid forking Strapi :(. @Aurelsicoko @lauriejim  Does it suffice?. > @dj-hedgehog you can't regenerate the admin build folders in a project so they can't to be included in the .gitignore file.\n@Aurelsicoko Will you address problems like this with the new plugin architecture https://portal.productboard.com/strapi/c/26-new-plugin-architecture ? Having a fresh 148 MB repo is not the right way to go imo. Thank you @derrickmehaffy and @soupette. I will close this issue for the time being since my initial suggestion is rendered useless until there is a way to regenerate the admin and plugin folders.. ",
    "Pjino": "Hi again. Solved. I've installed node v0.12 by default and not node v4.0...now it's working!\n. ",
    "fundon": "Released koa-i18n@v2.\n. ",
    "StevenACoffman": "by the way koa-cors next branch\n. @Aurelsicoko Yeah, unless there is some sign of recent activity, I think you're probably right to switch to the official package. I hadn't realized the official project existed.\n. ",
    "FabioSilvaBRZ": "Hi, guys.\nI have been trying to install Strapi V3 but I still have message erros like:\n...\nnpm ERR! git rev-list -n1 v2.x: fatal: ambiguous argument 'v2.x': unknown revision or path not in the working tree.\nnpm ERR! git rev-list -n1 v2.x: Use '--' to separate paths from revisions, like this:\nnpm ERR! git rev-list -n1 v2.x: 'git  [...] -- [...]'\n...\nI checked the packages been installed and the following situation came up:  in the error message it was trying to install like 29 packages - and I tried to install manually all of them to test if they work properly.\nIn a list of 25 packages there were a couple with the .x version.\nnpm install \"koa-bodyparser@koajs/bodyparser#3.x\"\nnpm install \"koa-send@koajs/send#2.x\"\nThey were installed just fine...\nBut there were 4 packages that do not install:\nnpm install \"koa-compress@koajs/compress#v2.x\"\nnpm install \"koa-favicon@koajs/favicon#v2.x\"\nnpm install \"koa-response-time@koajs/response-time#v2.x\"\nnpm install \"koa-mount@koajs/mount#next\"\nThey return the error reported above\nChecking the GITHUB for these versions, one .x version that works I can find it at Github. For example: \"koa-bodyparser@koajs/bodyparser#3.x\"\n\nBut the \"koa-compress@koajs/compress#v2.x\" is not there, as follows:\n\nIs it wrong? Long story short, those packages probably do not exist at all...\nAnother example? \n\"koa-response-time@koajs/response-time#v2.x\"\n\n. NVM + Strapi = success... of course, if your app is compatible with node V5\n. ",
    "dciccale": "You've been really fast on answering!\nTests passes however it should be thoroughly tested to be sure.\nTests were run under node v4.2.2 (latest)\n. ~~Note 3: here: https://github.com/wistityhq/strapi/blob/master/lib/server.js#L25 There is no need for a function that returns a new instance of Strapi. You can do that directly (as is being done in other parts of the code)~~\nCorrection: the server.js is exposing a factory, so we will leave it as is. But the next note is correct.\nNote 4: in that same file, isLocalStrapiValid and isStrapiAppSync methods are being binded again to the instance of Strapi however those methods are already included in Strapi prototype here https://github.com/wistityhq/strapi/blob/master/lib/Strapi.js#L112-L113 so it has the correct context.\n. So I can revert and put back the strapiReady function? (I made a search in all the repository and is not being used anywhere) Also is not being exported so as long as it is not exported it won't be available for use anywhere either.\n. Not more for now. Maybe sometime but in other PRs.\n. ",
    "kulakowka": "When I tried to run the command npm install jade I got a lot of mistakes. These errors occur when I tried to install any package.\n```\n~/Documents/node.js/sandbox/appName \u00bb npm install jade\nnpm ERR! Darwin 14.5.0\nnpm ERR! argv \"/usr/local/bin/node\" \"/usr/local/bin/npm\" \"install\" \"jade\"\nnpm ERR! node v5.1.0\nnpm ERR! npm  v3.3.12\nnpm ERR! Cannot set property 'deep-diff' of undefined\nnpm ERR!\nnpm ERR! If you need help, you may report this error at:\nnpm ERR!     https://github.com/npm/npm/issues\nnpm ERR! Darwin 14.5.0\nnpm ERR! argv \"/usr/local/bin/node\" \"/usr/local/bin/npm\" \"install\" \"jade\"\nnpm ERR! node v5.1.0\nnpm ERR! npm  v3.3.12\nnpm ERR! Cannot set property 'prompt' of undefined\nnpm ERR!\nnpm ERR! If you need help, you may report this error at:\nnpm ERR!     https://github.com/npm/npm/issues\nnpm ERR! Darwin 14.5.0\nnpm ERR! argv \"/usr/local/bin/node\" \"/usr/local/bin/npm\" \"install\" \"jade\"\nnpm ERR! node v5.1.0\nnpm ERR! npm  v3.3.12\nnpm ERR! Cannot set property 'switchback' of undefined\nnpm ERR!\nnpm ERR! If you need help, you may report this error at:\nnpm ERR!     https://github.com/npm/npm/issues\nnpm ERR! Darwin 14.5.0\nnpm ERR! argv \"/usr/local/bin/node\" \"/usr/local/bin/npm\" \"install\" \"jade\"\nnpm ERR! node v5.1.0\nnpm ERR! npm  v3.3.12\nnpm ERR! Cannot set property 'waterline-criteria' of undefined\nnpm ERR!\nnpm ERR! If you need help, you may report this error at:\nnpm ERR!     https://github.com/npm/npm/issues\nnpm ERR! Darwin 14.5.0\nnpm ERR! argv \"/usr/local/bin/node\" \"/usr/local/bin/npm\" \"install\" \"jade\"\nnpm ERR! node v5.1.0\nnpm ERR! npm  v3.3.12\nnpm ERR! Cannot set property 'waterline-schema' of undefined\nnpm ERR!\nnpm ERR! If you need help, you may report this error at:\nnpm ERR!     https://github.com/npm/npm/issues\nnpm ERR! Please include the following file with any support request:\nnpm ERR!     /Users/kulakowka/Documents/node.js/sandbox/appName/npm-debug.log\n```\nBut when i copied all the files into a new folder and it worked.\nError with \"sails-mongo\" also disappeared.\nstrapi 1.4.1, Mac osx Yosemite 10.10.5.\nI tried to run the commands with the sudo, but it has not given nor any effect. \nI'll try to repeat it in the new version 1.5.0.\nI hope there will not be these bugs.\n. In version 1.5 there are no errors. \nI think it helped me:\n$ sudo npm uninstall strapi -g\n$ sudo npm cache clean\n$ sudo npm install strapi -g\n. Thank you. It helped me. \n~/Documents/node.js/sandbox \u00bb strapi new strapi_1.5.0_test\ninfo: Your new application `strapi_1.5.0_test` is ready at `/Users/kulakowka/Documents/node.js/sandbox/strapi_1.5.0_test`.\nI think you need to add this information to Readme.md. \n. I also encountered this problem. \nI deleted a folder node_modules and problem was solved.\n. I noticed a very strange behavior. Sometimes it works correctly. Sometimes not. I was unable to understand the reason. \n. @Aurelsicoko i'm using sails-mongo, but there is a possibility that it is buggy at the default settings.\nI will try to create a new application, without any additional adapters. I'll let you know about the results here.\n. I tested it on a new application. Here's what happens:\nStandard API gives data correctly.\nhttp://localhost:1337/article\njson\n[  \n   {  \n      \"contributors\":[  \n         {  \n            \"username\":\"kulakowka\",\n            \"email\":\"kulakowka@gmail.com\",\n            \"lang\":\"en_US\",\n            \"template\":\"default\",\n            \"id_ref\":\"1\",\n            \"provider\":\"local\",\n            \"id\":1,\n            \"createdAt\":\"2016-01-31T23:19:54.227Z\",\n            \"updatedAt\":\"2016-01-31T23:19:54.237Z\"\n         }\n      ],\n      \"comments\":[  \n         {  \n            \"content\":\"Comment 1 for article 1\",\n            \"lang\":\"en_US\",\n            \"template\":\"default\",\n            \"createdBy\":1,\n            \"updatedBy\":1,\n            \"article\":1,\n            \"id\":1,\n            \"createdAt\":\"2016-01-31T23:21:16.614Z\",\n            \"updatedAt\":\"2016-01-31T23:21:29.139Z\"\n         },\n         {  \n            \"content\":\"Comment 2 for article 1\",\n            \"lang\":\"en_US\",\n            \"template\":\"default\",\n            \"createdBy\":1,\n            \"updatedBy\":1,\n            \"article\":1,\n            \"id\":2,\n            \"createdAt\":\"2016-01-31T23:21:31.371Z\",\n            \"updatedAt\":\"2016-01-31T23:21:39.347Z\"\n         }\n      ],\n      \"createdBy\":{  \n         \"username\":\"kulakowka\",\n         \"email\":\"kulakowka@gmail.com\",\n         \"lang\":\"en_US\",\n         \"template\":\"default\",\n         \"id_ref\":\"1\",\n         \"provider\":\"local\",\n         \"id\":1,\n         \"createdAt\":\"2016-01-31T23:19:54.227Z\",\n         \"updatedAt\":\"2016-01-31T23:19:54.237Z\"\n      },\n      \"updatedBy\":{  \n         \"username\":\"kulakowka\",\n         \"email\":\"kulakowka@gmail.com\",\n         \"lang\":\"en_US\",\n         \"template\":\"default\",\n         \"id_ref\":\"1\",\n         \"provider\":\"local\",\n         \"id\":1,\n         \"createdAt\":\"2016-01-31T23:19:54.227Z\",\n         \"updatedAt\":\"2016-01-31T23:19:54.237Z\"\n      },\n      \"title\":\"Article 1\",\n      \"content\":\"Test for article 1\",\n      \"lang\":\"en_US\",\n      \"template\":\"default\",\n      \"id\":1,\n      \"createdAt\":\"2016-01-31T23:19:59.536Z\",\n      \"updatedAt\":\"2016-01-31T23:20:10.032Z\"\n   },\n   {  \n      \"contributors\":[  \n         {  \n            \"username\":\"kulakowka\",\n            \"email\":\"kulakowka@gmail.com\",\n            \"lang\":\"en_US\",\n            \"template\":\"default\",\n            \"id_ref\":\"1\",\n            \"provider\":\"local\",\n            \"id\":1,\n            \"createdAt\":\"2016-01-31T23:19:54.227Z\",\n            \"updatedAt\":\"2016-01-31T23:19:54.237Z\"\n         }\n      ],\n      \"comments\":[  \n         {  \n            \"content\":\"Comment 1 for article 2\",\n            \"lang\":\"en_US\",\n            \"template\":\"default\",\n            \"createdBy\":1,\n            \"updatedBy\":1,\n            \"article\":2,\n            \"id\":3,\n            \"createdAt\":\"2016-01-31T23:21:41.160Z\",\n            \"updatedAt\":\"2016-01-31T23:21:52.418Z\"\n         },\n         {  \n            \"content\":\"Comment 2 for article 2\",\n            \"lang\":\"en_US\",\n            \"template\":\"default\",\n            \"createdBy\":1,\n            \"updatedBy\":1,\n            \"article\":2,\n            \"id\":4,\n            \"createdAt\":\"2016-01-31T23:21:54.028Z\",\n            \"updatedAt\":\"2016-01-31T23:22:03.647Z\"\n         }\n      ],\n      \"createdBy\":{  \n         \"username\":\"kulakowka\",\n         \"email\":\"kulakowka@gmail.com\",\n         \"lang\":\"en_US\",\n         \"template\":\"default\",\n         \"id_ref\":\"1\",\n         \"provider\":\"local\",\n         \"id\":1,\n         \"createdAt\":\"2016-01-31T23:19:54.227Z\",\n         \"updatedAt\":\"2016-01-31T23:19:54.237Z\"\n      },\n      \"updatedBy\":{  \n         \"username\":\"kulakowka\",\n         \"email\":\"kulakowka@gmail.com\",\n         \"lang\":\"en_US\",\n         \"template\":\"default\",\n         \"id_ref\":\"1\",\n         \"provider\":\"local\",\n         \"id\":1,\n         \"createdAt\":\"2016-01-31T23:19:54.227Z\",\n         \"updatedAt\":\"2016-01-31T23:19:54.237Z\"\n      },\n      \"title\":\"Article 2\",\n      \"content\":\"Text for article 2\",\n      \"lang\":\"en_US\",\n      \"template\":\"default\",\n      \"id\":2,\n      \"createdAt\":\"2016-01-31T23:20:11.033Z\",\n      \"updatedAt\":\"2016-01-31T23:20:19.405Z\"\n   }\n]\nBut graphql response has wrong data:\nhttp://localhost:1337/graphql?query={articles{id,title,createdBy{id,username},comments{id,content}}}\njson\n{  \n   \"data\":{  \n      \"articles\":[  \n         {  \n            \"id\":\"1\",\n            \"title\":\"Article 1\",\n            \"createdBy\":{  \n               \"id\":\"1\",\n               \"username\":\"kulakowka\"\n            },\n            \"comments\":[  \n               {  \n                  \"id\":\"1\",\n                  \"content\":\"Comment 1 for article 1\"\n               },\n               {  \n                  \"id\":\"2\",\n                  \"content\":\"Comment 2 for article 1\"\n               },\n               {  \n                  \"id\":\"3\",\n                  \"content\":\"Comment 1 for article 2\"\n               },\n               {  \n                  \"id\":\"4\",\n                  \"content\":\"Comment 2 for article 2\"\n               }\n            ]\n         },\n         {  \n            \"id\":\"2\",\n            \"title\":\"Article 2\",\n            \"createdBy\":null,\n            \"comments\":[  \n               {  \n                  \"id\":\"1\",\n                  \"content\":\"Comment 1 for article 1\"\n               },\n               {  \n                  \"id\":\"2\",\n                  \"content\":\"Comment 2 for article 1\"\n               },\n               {  \n                  \"id\":\"3\",\n                  \"content\":\"Comment 1 for article 2\"\n               },\n               {  \n                  \"id\":\"4\",\n                  \"content\":\"Comment 2 for article 2\"\n               }\n            ]\n         }\n      ]\n   }\n}\nI did not make any settings other than the relationship between the models.\nMaybe I'm wrong to set up a relationship between the models?\n\n\n. I found something strange. Take a look at the screenshot:\n\n\nI do not know whether it is right or not. But it looks strange.\nPerhaps this is a bug in the admin panel? \nWhen I switch on the fields Relations\n\nPreview looks like this\n\nThen I switch to a different field\n\nPreview looks like this\n\nNothing but the name does not change.  Although it is obvious that the scheme should be changed.\n. I'm glad to help you.\n. I think I understand.\nI have edited the connection settings of models:\n/api/user/models/User.settings.json\njson\n{\n  \"identity\": \"user\",\n  \"connection\": \"mongodb_main\",\n  ...\n}\nThe same thing I've done for other models Role, Route, Email etc... \nIt seems to work. I did everything right?\n. @loicsaintroch cool! Thank you for quick reply. :thumbsup: :beer:\n. Thank you. That's exactly what I did.\n. @pierreburgy That's not what I need. I want to specify a limit, sorting and so on. If I pick up the article with a population, I can not specify how many items to load. Also I can not specify which fields in the article should be populated. What if the user will be 1,000 articles, and I need only 10 per page.\n. ",
    "senikk": "1.5.1\n. ",
    "stijlfigurant": "+1\n. ",
    "devinivy": "I'm also just generally curious why strapi has chosen to switch ORMs.\n. There's another adapter based ORM named Firenze which looks nice, but does not support associations in the way Waterline does.  It's a young project, and not heavily \"featured\".\n. ",
    "akoudal": "Thanks for the detailed answer - it definitely answered my question. \nBad news for me, as the studio API generator and user management is brilliant. \nI'll definitely keep this project on the radar, and get back if I do a sql project. \nCheers,\nAllan\n. Awesome\n. ",
    "TylerGarlick": "I kind of like the approach of waterline honestly. I rarely use a SQL database these days with my apis, and I would rather see a data storage agnostic approach with squelize or orm \"x\" as the default. As long as I'm not pinned to a particular implementation, I think it would be most beneficial.  \nI'd be happy to help if you'd like to collaborate with your ideas.\n. What's the beef with waterline?\n. I've used this one before it was quite pleasant. http://www.camintejs.com/en\n. Is the plan to then support these orm's via a plugin interface?\n. Seems reasonable to me... \n. ",
    "zorobabel": "@loicsaintroch, when you do strapi new myapp, inside of node_modules folder there are just \"symbolic links\", not real folders (I think Windows has a poor implementation of them):\n\nBut after doing my \"solution\", node_modules looks different and It works:\n\n. @loicsaintroch, thanks, this is true but It was the problem\n. @loicsaintroch Great, thanks!\n. ",
    "Karnith": "Issue is the same on Mac. I can't install any modules until I delete the node_modules folder and dother nap install...\n. What would be nice for this is to be able to specify the database type verses needing to manually update the connections in the config.\n. ",
    "jakobrosenberg": "I just struggled with this one as well.\n. I'm guessing he means something like.\nPetsEntry = {\n  ownerId: 123,\n  animalId: 22,\n  animalTable: 'cats'\n}\nWithout the dynamic table field 'animalTable', you'd need a relational table for every species of pet.\nAnother example could be \nBuildingEntry = {\n  id: 123\n  address: 'foo'\n  ownerId: 12,\n  ownerTable: 'organizations'\n}. powershell\nPS C:\\Users\\jakob\\kitchensink\\strapi> yarn global add strapi@alpha\n...\nPS C:\\Users\\jakob\\kitchensink\\strapi> strapi new test\nINFO (17144 on MAIN): Creating your application... It might take a few seconds.\nINFO (17144 on MAIN): Copying the dashboard...\nERROR (17144 on MAIN): Error: Failed to load `admin`... (Error: Cannot find module 'C:\\Users\\jakob\\AppData\\Local\\Yarn\\config\\global\\node_modules\\strapi\\node_modules\\strapi-generate-admin'). I have the same error on a fresh install of 3.0.0-alpha.6.4 on Windows 10 x64.\nIt occurs if I create an API or if I save a Content Type.. I'm running Mongodb in a container, but I can't connect to it. Changing the config in config/environments/development/database.json doesn't change anything. I've tried different usernames, but it always tries to connect as admin. I have no idea what password it's using.. @Aurelsicoko After several restarts and reconfigurations, it was finally working. For some reason, it kept connecting as admin@development or something like that regardless of what was in the database.json.\nDoes Strapi cache the config?. ",
    "hguillermo": "Great to know that. I tried it and I liked it. I was just making sure if you guys are still developing things.\n. ",
    "phudekar": "I am facing the same problem. App is stuck at \nwarn: Setting the migrate strategy of the car model to alter\nI am running Strapi on Mac OS X El Capitan 10.11.3 node v5.2.0 and npm 3.3.12\n. ",
    "pitersky": "Ok, i have played with config and now I know that deleting a default permanent storage from the interface was not a good idea :) The steps reproducing this are:\n1. go to http://studio.strapi.io/#!/settings/database\n2. delete all the items\nI belive the interface should block the actions that brings to crash, or at least give some warnings. This will prevent destroying own apps by monkeys that clicks around to all buttons, that they see, like me.\n. That would definitely resolve my issue. \n. Since you know about the issue, I can live with this. If there is some sort of trouble making a code change I suggest to put a warning, that removing current connection can lead to crash. That could do the job.\n. ",
    "bmann": "Same issue with sails-postgresql. I nuked all the symlinks and npm install'd all the dependencies.\n. ",
    "iyobo": "Did that but Now admin doesn't launch.\nI get blank screen with this in JS console:\nUncaught Error: [$injector:modulerr] Failed to instantiate module frontend due to:\nError: [$injector:unpr] Unknown provider: $tooltipProvider\nhttp://errors.angularjs.org/1.4.8/$injector/unpr?p0=%24tooltipProvider\n    at http://localhost:1337/admin/vendors.min.js:1:381\n    at http://localhost:1337/admin/vendors.min.js:1:20014\n    at r (http://localhost:1337/admin/vendors.min.js:1:19184)\n    at Object.i as invoke\n    at r (http://localhost:1337/admin/vendors.min.js:1:18572)\n    at http://localhost:1337/admin/vendors.min.js:1:18696\n    at o (http://localhost:1337/admin/vendors.min.js:1:807)\n    at f (http://localhost:1337/admin/vendors.min.js:1:18473)\n    at et (http://localhost:1337/admin/vendors.min.js:1:20163)\n    at l (http://localhost:1337/admin/vendors.min.js:1:7506)\nhttp://errors.angularjs.org/1.4.8/$injector/modulerr?p0=frontend&p1=Error%3\u2026t%20l%20(http%3A%2F%2Flocalhost%3A1337%2Fadmin%2Fvendors.min.js%3A1%3A7506)\n. Using Node v4.2.4\n. Okay thanks that did it. Prefix now properly representing.\nAs an addition to that instruction, I also had to run:\nrm -rf public/admin \nfrom the project root after step 2 before running:\nstrapi generate admin\nto avoid the \"symlink already exists\" error. so:\n```\nnpm update strapi -g\nrm -rf api/admin\nrm -rf public/admin\nstrapi generate admin\ncd api/admin/public\nnpm install\ngulp dist\n```\n. ",
    "JordanMajd": "+1\n. Thanks for the quick response,\nSorry, I must not have searched the issues hard enough before posting this one.\nThat is definitely the same problem. I haven't tried the solution yet, but that will definitely fix the issue.\nClosing.\n. ",
    "nitetrik": "Um not quite, its when initially installing strapi \"npm install -g strapi\". I can install strapi via npm fine on linux, but on mac os x it doesnt even install it fails with a certain package that looks like a dependency. when i get home will paste the output error. \n. I havent tried sudo, will try that and let you know\n. I fixed it by updating node to latest version on my local development machine to 5.6.0.  it installed without a problem. It was a weird issue. \n. ",
    "k20human": "Hi @loicsaintroch thank you ! I close the issue and wait for v2 :)\n. Ok. I think you can apply same thing for database password file (databases.json)\n. For a better understanding there is my ChecklistEmployee.js model file. If i don't add globalId: \"ChecklistEmployee\" and i try to start Strapi i have this error : \n\nReferenceError: RoleRight is not defined\n\n```\n'use strict';\n/*\n * Module dependencies\n /\n// Public node modules.\nconst _ = require('lodash');\n// Settings for the checklistEmployee model.\nconst settings = require('./ChecklistEmployee.settings.json');\n/*\n * Export the person model\n /\nmodule.exports = {\n/**\n * Basic settings\n */\n\nglobalId: \"ChecklistEmployee\",\n\n// The identity to use.\nidentity: settings.identity,\n\n// The connection to use.\nconnection: settings.connection,\n\n// Do you want to respect schema?\nschema: settings.schema,\n\n// Merge simple attributes from settings with those ones.\nattributes: _.merge(settings.attributes, {}),\n\n// Do you automatically want to have time data?\nautoCreatedAt: settings.autoCreatedAt,\nautoUpdatedAt: settings.autoUpdatedAt\n\n};\n```\n. Is it possible to change change this behaviour in future release ?\n. Hi,\nI think the best solution is the last one : Uppercase first letter + Camelcase\n. ",
    "fagor": "moved to strapi-generate-users\n. ",
    "discordance": "Is there any workaround ? or the cron syntax doesn't apply in the same way ?\n. ",
    "charjac": "hi @pierreburgy, \nThanks for the quick answer.\nThe studio seems to be ok, but i was unable to sync, so i logout using the CLI and now it is impossible to login.\nwhen i try to login using\nstrapi login\ni gave email and pass and got this error \n/home/charl/.nvm/versions/node/v5.3.0/lib/node_modules/strapi/bin/strapi-login.js:118\n              email: body.user.email,\n                              ^\nTypeError: Cannot read property 'email' of undefined\n    at /home/charl/.nvm/versions/node/v5.3.0/lib/node_modules/strapi/bin/strapi-login.js:118:31\n    at FSReqWrap.oncomplete (fs.js:82:15)\n. Everything work fine thank you very much @pierreburgy \n. ",
    "dustinaevans": "Seems that the studio login page is still broken?\n\n. ",
    "PetrSnobelt": "I connect to http://studio.strapi.io/ then click on help button and try use link from this sentence \"Follow those steps and set your secret key in your application.\"\n. When I try it > popup error \"You don't have application\"\n. I create app - but because I don't install strapi globaly (which I don't like) it ends with error..\nI simply don't what to put in \"secretKey\": \"YOUR SECRET KEY HERE\"\nI try my own text, but it don't work\n. OK, thank you for clarification. \nMaybe little form with appid textbox and generate button which generate json can be usefull in studio UI...\n. ",
    "dlopezp": "duplicated #68 \n. Oh sorry, I just see how it's done, through bootstrap.js.\nIn other hand, would be great a generator ^^\n. ",
    "borantula": "Hi @pierreburgy,\nI tried Article to Article connection. Relation key is translationOf\n. Thanks @pierreburgy  :) \nMy mistake was naming both RELATION ATTRIBUTE and RELATION KEY IN ARTICLE as translationOf. When I changed relation attribute as translations it started working perfectly.\nMaybe naming them same can be prevented within studio on manytomany relations.\n. ",
    "samgranger": "I already had a suspicion, thanks for enabling my account!\n. ",
    "markus138": "thanks, it works now with editing npm start to NODE_ENV=development && node --harmony server.js. otherwise I got an undefined error for config/environments/dev\nedit: sorry, my mistake, I had NODE_ENV set up as dev for another project ...\n. ",
    "ajayphp": "when v 2.0 expected,\nor atleast fix this npm WARN deprecated koa-gzip@0.1.0: please use koa-compress instead.\nI am new to MEAN stack and found you to start on app, but following errors,\nas this is based on koa and you did not update , is a warning not to use on production as\nmay break ...\ni used with bitnami mean stack, that has node js 6.0\nis this stack will work with node 6.0 or which older version to work onthis\nnpm WARN deprecated native-or-bluebird@1.2.0: 'native-or-bluebird' is deprecated. Please use 'any-promise' instead.\nnpm WARN deprecated lodash@2.4.1: lodash@<3.0.0 is no longer maintained. Upgrade to lodash@^4.0.0.\nnpm WARN deprecated graceful-fs@3.0.8: graceful-fs v3.0.0 and before will fail on node releases >= v6.0. Please update to graceful-fs@^4.0.0 as soon as possible. Use 'npm ls graceful-fs' to find it in the tree.\n. ",
    "sulemankm": "Thanks, I've joined the slack and raised the question over there as well.  Waiting still.\n. ",
    "abelsoares": "I'll open a PR to add the test config files. \n. 1. What do you think about this new vision?\nAnswer: Great. Monetization only in plugins keep the core open.\n2. What Node.js framework would you use: Hapi vs Koa2?\nAnswer: Koa2 \n3. What downloadable plugins would you like first?\nAnswer: Users and Groups, Authentication.\n4. What SaaS plugins would you like first?\nAnswer: Deployment.\n5. What front-end framework should we use for the extendable admin panel: \nAnswer: React.\n6. How can you contribute?\nAnswer: Plugins, core issues/bugs.\n7. Do you have any other suggestion?\nAnswer: More incremental releases, keep shipping.\n. \ud83d\udc4d for @dj-hedgehog comment, enforce the strapi-pluginName convention as it's very useful to find plugins! Also, release v2 as soon as possible, buggy sofware is better than no software, we need to get our hand on v2.\n. What version of node are you using? I believe node 6 is not supported, you need to use node <= 5.\n. ",
    "sdbondi": "Actually I lie, you would have to do it like this:\njavascript\nstrapi.config.hooks[strapi.config.hooks.views] = false;\nSeems unintentional to me.\n. ",
    "jblok": "Hi @pierreburgy \nThanks so much for your response. I hadn't set Role, and User settings to use mongo, so they were still using the default connection. Since Routes depends on Roles, I suspect this might have been the issue. All good now, by using the mongo connection everywhere.\nI might have a go at editing the CLI to define a database system from the start (one day!) :)\n. ",
    "natew": "Wasn't solved but not using strapi anymore\nOn Thursday, May 26, 2016, Pierre BURGY notifications@github.com wrote:\n\nClosed #122 https://github.com/wistityhq/strapi/issues/122.\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly or view it on GitHub\nhttps://github.com/wistityhq/strapi/issues/122#event-673312939\n\n\nnatewienert.com @natebirdman http://twitter.com/natebirdman\n. ",
    "zdhz": "Updated URL - https://blog.strapi.io/the-future-of-strapi/\nMay be worth setting up a 301 redirect :). ",
    "benjaminjs": "1. What do you think about this new vision?\nAnswer: Node needs something like this. Like this more than Nodal or Sails. \n2. What Node.js framework would you use: Hapi vs Koa2?\nAnswer: Hapi\n3. What downloadable plugins would you like first?\nAnswer: Users & Group\n4. What SaaS plugins would you like first?\nAnswer: Strapi Cloud\n5. What front-end framework should we use for the extendable admin panel: \nAnswer: React/Flux/Relay/GraphGL?\n6. How can you contribute?\nAnswer: Spectating, and complaints. Maybe some small features if well scoped.\n7. Do you have any other suggestion?\nAnswer: Websocket support.\n. ",
    "suhaboncukcu": "1. What do you think about this new vision?\nAnswer: Seems like the logical move. I would like to have a proper guideline to migrate. \n2. What Node.js framework would you use: Hapi vs Koa2?\nAnswer: No choice. \n3. What downloadable plugins would you like first?\nAnswer: Users plugin which works with SocialLogin plugin and has ACL support within groups. \n4. What SaaS plugins would you like first?\nAnswer: I would prefer integration with PaaS thingies instead of SaaS such as Firebase. \n5. What front-end framework should we use for the extendable admin panel: \nAnswer: VUEJS !! :)\n6. How can you contribute?\nAnswer: Bug reporting and bugfixes in several scales. Contribute with some plugins. I was thinking to create a basic forum with a script to contribute society. \n7. Do you have any other suggestion?\nAnswer: Redirect every question and discussion to one channel and set up a tracker for that channel to comprehend necessities better in future. Even a Strapi forum would work just fine as I pointed at 6.\n. I guess this issue should be closed now right? . Hi @ArthurKnoep, It's because timestamp definitions have some differences between MySQL 5.5 and higher versions. Strapi supports Mysql versions >= 5.6. \nYou can check the related query works on 5.6 and not on 5.5 here. Hi @Anderies ; This one doesn't look like a bug or a Strapi related issue. Do you have a stack overflow question for this one? . @derrickmehaffy I think removing this format could lead some problems while handling multiple timezones. May be a change on the accepted field could serve better. . @derrickmehaffy I think removing this format could lead some problems while handling multiple timezones. May be a change on the accepted field could serve better. . @derrickmehaffy I guess Django uses a serializer for these kind of cases right? I am willing to open a PR if we find a general case solution. . @derrickmehaffy I guess Django uses a serializer for these kind of cases right? I am willing to open a PR if we find a general case solution. . So, what about a \"presentation and transformation layer\" for an all in one solution? Making dates fixed in the timezone of application config and get & serve according to the layer settings. I guess something like this also could be used for different response standards like HAL. . Oh, I was talking about something like thephpleague's fractal package. Not specifically for date :)  Sorry for non-clear comment. \nBut I'm also not sold about removing the timezone indicator from the returning date completely since lots of different frameworks provide an option to change default timezone. There must be some use cases for people out there. Even MySql's timezone setting is config based. \nThere might be a pseudo date type as \"timezone aware date\" to serve dates with timezones though. \n. ",
    "eikaramba": "1. What do you think about this new vision?\nAnswer: Really depends on what the pricing will be. The problem is that the whole framework ecosystem is strongly build around open-source free-for-all projects, which means the actual willigness to pay will be quite low. So you will really have to stick out with a good developer-friendly framework and rich plugin marketplace, so that the costs are worth the saved time. Maybe consider a free-tier (along the free plugins), in which you can use them for free as long as you don't have too many users/traffic/api calls whatever.\n2. What Node.js framework would you use: Hapi vs Koa2?\nAnswer: Koa2 because of the future-proofiness(tm)\n3. What downloadable plugins would you like first?\nAnswer:Users & groups(along with authentication and authorization!), then API Manager\n4. What SaaS plugins would you like first?\nAnswer:Stripe\n5. What front-end framework should we use for the extendable admin panel: \nAnswer: Aurelia.js(would nicely fit in the ES6/use-only-standard-js/always-the-best future-proof vision of yours) or Vue.js\n6. How can you contribute?\nAnswer: I have my own startup, so maybe by using it and paying for it :)\n7. Do you have any other suggestion?\nAnswer: Keep up with the updates, recently i felt the project was slowing down. And with updates i don't necessarly mean commits but maybe just news, discussions etc. (i have to admit i'm not on slack)\n. @pierreburgy If i had to choose, it would be indeed admin panel integration. Also maybe an abstraction of the API to make it even more simpler(tbh it is quite easy already, but it's a long time since i used it manualy. Nowadays i'm using a complete shop solution so that i don't need to interact with stripe anymore). Sure enough the integration with the user db would be nice then.\n. ",
    "sskyy": "1. What do you think about this new vision?\nAnswer: Seems great! Integrate Studio with admin panel will make Strapi much easier to use.\n2. What Node.js framework would you use: Hapi vs Koa2?\nAnswer: definitely Koa2.\n3. What downloadable plugins would you like first?\nAnswer: Users and Group along with RBAC.\n4. What SaaS plugins would you like first?\nAnswer: cluster plugin.\n5. What front-end framework should we use for the extendable admin panel: \nAnswer: React!\n6. How can you contribute?\nAnswer: Help implement core features or plugins. I wrote a similar framework years ago.\n7. Do you have any other suggestion?\nAnswer: Move fast! I've been waiting for a long time.\n. ",
    "yanickrochon": "First of, I am not an actual Strapi user, but I was looking at this project, wanted to know if you supported Koa2, then saw this. As a potential new user, here are my comments and expectations on the future of such project :\n1. What do you think about this new vision?\nAnswer: It is not progressive at all. You are essentially trying to mimic what MeteorJs tried (except for the monetising part) with Atmosphere. Well, they are slowly abandoning it in favour of npm. And I agree with that 100%. The Node community does not need more package managers. However, you could \"officially\" list packages that were reviewed, and work with npm to integrate your PaaS with it (i.e. having the packages hosted on npm and keeping your own personal list of officially tested packages, with use comments and ratings). It should be possible to build something completely open source with Strapi; and I suggest you consider the same business model as WordPress for that reason. In fact, Strapi could very well be the equivalent in Node as WP is to PHP. If this is so, then I'd be on board 100%.\n2. What Node.js framework would you use: Hapi vs Koa2?\nAnswer: Koa2. Because Koa is the only framework that wants to remain lean, and this is appeals to me very much. Koa2 is also future-proof and progressive.\n3. What downloadable plugins would you like first?\nAnswer: Of course, users and groups. \n4. What SaaS plugins would you like first?\nAnswer: Yes, clustering should be a must. Built-in would even be better.\n5. What front-end framework should we use for the extendable admin panel: \nAnswer: React, of course.\n6. How can you contribute?\nAnswer: anything... but no docs, I hate writing docs.\n7. Do you have any other suggestion?\nAnswer: Put the thing in beta and encourage PRs. If you adhere to the philosophy of \"less dependencies the better\", it will prevent the core to become bloated and solid. Make it easier for people to see code coverage and build results. I originally found this project because I was looking for a framework built on top of koa... Well, if you are using koa2, then take a look at the build system they use, and how they keep up with new edge features in Node.js, etc. Also, make it Node 6+ and build around async / await (aka Promise).\nEdit : PM2 already offers great metrics tools, why re-inventing the wheel? A proper integration would be better IMO. \n. If I may pitch in, restarting a server on file change should only happen in development mode, and should never happen in production. Likewise, in development mode, there should not need to have a cluster.\n. I'd vote that this should be part of strapi, and automatically be handled if in development mode. Many frameworks use config files in the root of the projects to manage commands, environments, etc. (ex: mocha, grunt, gulp, nodemon, etc.), and having a strapi.json file with command line arguments and environment settings  In this case, strapi uses a ./config/strapi.config file.\nWhile the configuration subject is not part of this question, configuring an auto refresh should be done as such. (i.e. being enabled by default, and could be disabled optionally)\n. ",
    "junland": "1. What do you think about this new vision?\nAnswer: I like it. It's a good start :)\n2. What Node.js framework would you use: Hapi vs Koa2?\nAnswer: Hapi\n3. What downloadable plugins would you like first?\nAnswer: JWT Authentication or maybe a skeleton for making your own authentication.\n4. What SaaS plugins would you like first?\nAnswer: None.\n5. What front-end framework should we use for the extendable admin panel: \nAnswer: I honestly don't care which framework you choose, I just care if you can provide easy documentation to follow and it isn't a pain to look into the code and add new stuff to it.\n6. How can you contribute?\nAnswer: PR (Reddit, Forums, etc.), Documentation, and community help\n7. Do you have any other suggestion?\nAnswer: I love the idea of the studio, would be great to also create logic kinda like scratch does. Admittedly, I know this kinda sounds like Sailsjs Treeline (Which is a SaaS solution) or IFTTT but it is. I love the idea of just dragging and dropping logic without having to write much code. Also that would be great for people that are making REST API's that are not using a DB back end to talk to rather hardware such as GPIO, sensor, or even OS level communication. \n. @Aurelsicoko So is Strapi going to be Django in that's more like a CMS but yet can still be used for web applications outside of CMS? I'd also like to add I love the easy directory structure of Sails and I would like that Strapi keeps that paradigm. So with this new direction would it still be possible to use Strapi without the CMS aspect? Could have it where I think Sails or Featherjs has a command line that you can specify --dry then it scales out just back end stuff and leaves out front end resources and makes it super small.\n. @Aurelsicoko Alright, thanks for clarifying. Sounds good, I look forward to v2. :)\n. ",
    "sampology": "Hi guys, I looked into Strapi and looks promising. I'm sure you already decided about plugins to start with.\nI would like to suggest MarkoJS (with Marko Widgets) for front-end. Have been using it for a while now and found it much easier and performant vs vue or react, especially on dynamic projects where you need to load templates on the fly. Have a read at least. You might want to have a look at LassoJS for bundling.\nI would also go with Koa since it has a good community, extendable, works well with MarkoJS and ... generators :)\nIn any case, keep up the good work. I would become a subscriber if any SaaS provided will be reasonable priced.\nCheers!\n. ",
    "ShaneXie": "1. What do you think about this new vision?\nAnswer: I tried the v1 of strapi for a POC, great framework to use. but waited too long for v2 release, so didnt choose strapi for production use at end. So this time, dont let us wait too long.. \n2. What Node.js framework would you use: Hapi vs Koa2?\nAnswer: koa2\n3. What downloadable plugins would you like first?\nAnswer: user, auth, orm, cli, cache, MQ..\n4. What SaaS plugins would you like first?\nAnswer: build\n5. What front-end framework should we use for the extendable admin panel: \nAnswer: angular/2, react this is really doesn't matter\n6. How can you contribute?\nAnswer: I would like to write some plugins and maybe help translate the doc to Chinese if you need i18n it. \n7. Do you have any other suggestion?\nAnswer: release something.. update documents...hmm, some client side SDK will be nice to have (like those in loopback).\n. ",
    "juavidn": "1. What do you think about this new vision?\nAnswer: Great, I recently fell in love with v1 in a POC Project, you use nice concepts, can't wait for v2 to be released.\n2. What Node.js framework would you use: Hapi vs Koa2?\nAnswer: Koa2, is Lightweight and extensible.\n3. What downloadable plugins would you like first?\nAnswer: Users, Groups, Authentication.\n4. What SaaS plugins would you like first?\nAnswer: None.\n5. What front-end framework should we use for the extendable admin panel:\nAnswer: React.\n6. How can you contribute?\nAnswer: Plugins, Core, issues/bugs I'll do my best.\n7. Do you have any other suggestion?\nAnswer: Keep working, it's a nice framework, and please don't make us wait too long for the new version please.\n. ",
    "thesabbir": "\nwe decided to choose Mongoose as default ORM. \n\ud83d\udd29 \nHowever, as a developer you will still have the ability to use any other ORM (including Bookshelf), but in this case you won\u2019t be able to enjoy plugins usage through the marketplace given that they will be based on Mongoose.\n\nadios strapi! \ud83d\udc4b \n. ",
    "cupofnestor": "2. What Node.js framework would you use: Hapi vs Koa2?\nAnswer:  No opinion, coming from Express.  Based on community and github popularity, KOA seems like the obvious choice.\n5. What front-end framework should we use for the extendable admin panel: \nAnswer: I'm into Angular, but doesn't matter much as long as it is flexible.\n6. How can you contribute?\nAnswer: Bug reporting, offering suggestions for improvement geared towards media-centric project.\n. > more of a feature request and has been suggested\nCan it be labelled as such? I don't think that this is a duplicate as we don't actually want to export the data, just the metadata.  I can easily import/export data using mongodump and have developed a solution that only exports the collections (core_store, users-permissions_permission, users-permissions_role, users-permissions_use) but it is platform-dependant.\n. I should add that I am happy to work on it, but might need to be pointed in the right direction as I am not up-to-speed on the ecosystem/src.\nI'm coming from forms-angular where form metadata is stored as custom properties in the mongoose-schema document.. @arogyakoirala -  Awesome work.  I was pleasantly surprised to see that you are working on this.  I was planning on having to do this on my own.   I look forward to checking out your fork.  I'd love to help if I can.       Assuming the strapi folks can see the obvious benefits of this, a few areas that I'd love to work on:\n\nTopojson - an extension to GeoJSON that encodes topology rather than discrete geometries, allowing for smaller files and on-the-fly simplification.\nGeoJSON model -  I haven't checked out the fork yet and I don't know if it is your intent to fully model the GeoJSON spec. It would be great to have the ability for instance to create relations between GeoJSON Features and other strapi models.. > Postgres is also suitable for storing vector or raster tiles (I use that: https://openmaptiles.org/ with SQLite/MBTile or Postgres/gis, and it's compatible with the mapbox-gl workflow like gl-style).\n\nThere's postGIS as well https://postgis.net/. I cannot reproduce this with 3.0.0-alpha.24.1 (node v10.11.0) mongoDB/OSX. Behaves as expected.  File is deleted without error and related model is updated in respect to the deletion. ",
    "jurista": "1. What do you think about this new vision?\nAnswer: I think it will be good alternative to sails\n2. What Node.js framework would you use: Hapi vs Koa2?\nAnswer: Definitely Koa 2\n3. What downloadable plugins would you like first?\nAnswer: Doesn't matter. With good skeleton I would build all needed plugins by myself. \n4. What SaaS plugins would you like first?\nAnswer: doesn;t matter.\n5. What front-end framework should we use for the extendable admin panel: \nAnswer: react + redux or koa2. \n6. How can you contribute?\nMake PR for fixing found bugs.\n7. Do you have any other suggestion?\nAnswer: Maybe you consider to use koa2 for new version?) It's stable enough for production\n. ",
    "PazzaVlad": "1. What do you think about this new vision?\nAnswer: I don't know... You make a right choice to use mongoose and react in V3. That's for sure\n2. What Node.js framework would you use: Hapi vs Koa2?\nAnswer: Koa 2. It's much more cleaner and faster\n3. What downloadable plugins would you like first?\nAnswer: user authentication and groups permissions :)\n4. What SaaS plugins would you like first?\nAnswer: I don't know yet\n5. What front-end framework should we use for the extendable admin panel: \nAnswer: React (with Redux)\n6. How can you contribute?\nAnswer: I can help with documentation and report bugs\n. ",
    "ivan-saorin": "7. Do you have any other suggestion?\nAnswer: In my opinion the admin panel should be framework less. Trying to impose a framework for all the panel would be too much. My suggestion is for a framework less container. Then pluging could have a preferred framework but should work with any other.\nThis could be a little more complex to set up. But it will pay a lot in the future as it do not impose any framework lock in.\n. @Aurelsicoko IMO it is even worst. Not only choosing a specific framework impose that specific framework to the entire application. But, and this is in my opinion more important, major version of the same framework are often incompatible (e.g. Angular 1.x and Angular 2.x).\nThe real problem is that when the new framework (or new major version) will arrive sooner or later and your user base will ask for the new one. At that point your only chance will be to rewrite the entire admin panel from scratch. Not so funny. \nOn the other hand investing in an alternative solution (e.g. no framework for the container and iframes or... whatever) you could start writing new plugins with the new framework version immediately, and only update / upgrade the old plugins based on a policy you can decide and you can govern.\n@paulocoghi the idea behind Svelte is promising. Sadly I didn't have the time to take a real look at it, yet.. I can see your points :)\n2017-01-24 23:17 GMT+01:00 Aur\u00e9lien GEORGET notifications@github.com:\n\n@paulocoghi https://github.com/paulocoghi @ivan-saorin\nhttps://github.com/ivan-saorin Thanks for your answers! I'm sorry for\nthe delay. We were very busy last two weeks. But anyway, I really like your\nattention and vision here. You're perfectly right! The main possible issue\nwill be the compatibility and the migration to the next version of React in\nthe future. However, the pursuit of performance has no end, and this is not\nan argument for switching to a framework to another one. React provides\ngreat performances until proof of the contrary. Svelte looks promising and\nwhat I like the most is the vanilla JS module compilation.\nIn our case, we have to consider two others things:\n\nHave an easy-to-setup and easy-to-use solution.\nAttract new contributors.\n\nReact is more attractive than Svelte. There are a lot of resources and\ntutorials and most of the frontend developers are using it. So, React is\nthe winner and that's why we have chosen it.\nFrom a developer perspective, I know this is not optimal but\nunfortunately, we have to make hard choices. We can't have the best design,\nthe most performant framework and also continuing to move forward. The most\nobvious example is RethinkDB. If you didn't read this\nhttp://www.defstartup.org/2017/01/18/why-rethinkdb-failed.html, you\nshould. Currently, React is the best choice for us, IMHO. We can ship new\nfeatures quickly, the community is active, it works well and that's\nsufficient for now.\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\nhttps://github.com/strapi/strapi/issues/126#issuecomment-274957181, or mute\nthe thread\nhttps://github.com/notifications/unsubscribe-auth/ABwwQQwOLfKIdsnBRG1Saddxy80QSFKcks5rVnhogaJpZM4ItoSO\n.\n. \n",
    "paulocoghi": "Complementing what @ivan-saorin said, using Svelte (svelte/svelte) is the clear approach from now on to build front-end apps.. @Aurelsicoko There are many (like code splitting), but for me these 2 are the most interesting:\n1. Every component becomes an independent vanilla JS module\nWith Svelte, you write your components in HTML, CSS and JavaScript, and they are compiled to vanilla js in build time. Then, in run-time there are no framework code or an additional .js file in the way, and your app loads extremely fast.\n2. Interoperability\nSvelte's components and/or widgets can be used in other projects, built with other technologies. In other words, widgets made for React only work in React projects, but Svelte's widgets work everywhere.. ",
    "sbacem": "good idea @ivan-saorin  . Thanks for quick reply.\nI think for remove \n\"createdBy\": {\n      \"model\": \"user\"\n    },\n    \"updatedBy\": {\n      \"model\": \"user\"\n    },\nIt's necessary to set \n\"autoCreatedAt\": false,\n  \"autoUpdatedAt\": false\nFor contributors when i remove the following code in User.settings.json\n\"cars\": {\n  \"collection\": \"cars\",\n  \"via\": \"contributors\"\n}\ni can't see  my list of Cras from admin panel ( I connected with my admin profile )\n. thanks, you are right ;-)\n\ncreatedAt (not createdBy) and updatedAt (not updatedBy)\n\nbut i want to remove createdAt andupdatedAt for this i set  : \n\"autoCreatedAt\": false,\n\"autoUpdatedAt\": false\nYes reload admin panel page but I can't see the liste.\nAfter many test, i think the issu it's when set  \"autoCreatedAt\": false or \"autoUpdatedAt\": false.\n. @pierreburgy : i can't see list of cars in admin panel because the sort by default createdAt\n/strapi/explorer/car?sort=createdAt%20desc&limit=15\nHow change it ? \n. Thanks very much @pierreburgy \n. :cool:  so v3 coming very soon, this is very interesting.\nThere is plugin like angular sdk in loopback  ?\nI will want migrate my app from loopback to strapi, but is better to starting 1.5 or expect v3 ?\nIt will have a tool to migrate from strapi v1.5 to 3 ?\n. @pierreburgy  thank you for the answer.\n. @Aurelsicoko,  thank you for the answer :+1: .\nI wait impatiently v3 \n. Of course i make real host my-host:8080 it's just example in github  :smirk:.\ni solved the problem there not from strapi, it's from my environment in cloud 9 :pensive:\nThanks for you @Aurelsicoko \n. @Aurelsicoko \nyes my server is running on port 80\nit work because if i use\nlocalhost/category?where={\"ref\":[\"mod-formation\"]}\ni have a good result but with array \nfor this i used \nlocalhost/category?ref=mod-formation\nto get one category\nbut the filtre ref=mod-formation not work i have all category\ni generates api category by cli, i use default controller\n. i try it, the results \n[ { createdBy: '57f7a3f27d09c6e209ca49fb',\n    updatedBy: '57f7a3f27d09c6e209ca49fb',\n    createdAt: '2016-10-14T20:51:41.144Z',\n    title: 'Module Formation',\n    description: 'Cette cat\u00e9gorie pour le module Nos Formations',\n    updatedAt: '2016-10-17T19:41:14.551Z',\n    alias: 'mod-formation',\n    ref: 'mod-formation',\n    id: '58014585aca5495104c2f6a6' } ]\ni try also it findOne work fine\n. Sorry I forgot to put you  log this.params\nI set in find action \nfind: function * () {\n    console.log(\"Params : \");\n    console.log(this.params);\n    this.model = model;\n    try {\n      let entries = yield strapi.hooks.blueprints.find(this);\n      this.body = entries;\n    } catch (err) {\n      this.body = err;\n    }\n  },\nThe results\nParams : \n{}\n. This is my action \nfind: function * () {\n    console.log(\"Query : \");\n    console.log(this.query);\n    this.model = model;\n    try {\n      let entries = yield strapi.hooks.blueprints.find({ref: 'mod-formation'});\n      this.body = entries;\n    } catch (err) {\n      this.body = err;\n    }\n  },\nIn log result \nQuery : \n{ ref: 'mod-formation' }\nIn navigateur\n{}\n. Thanks @Aurelsicoko \nI hope that this type of option we have in strapi v3 \n. @Glenncito  You can use the option  \"displayedAttribute\" in model.. Prerequisites\nStrapi needs node.js 4.0 to run. Newer node.js versions will be supported in the upcoming Strapi 3.0\nhttp://strapi.io/documentation. ",
    "zengxinle": "1. What do you think about this new vision?\nAnswer:   a all- in- one solution.  to get  apis\u3002\n2. What Node.js framework would you use: Hapi vs Koa2?\nAnswer:  Koa2  \n3. What downloadable plugins would you like first?\nAnswer:  user ---> organization -->positions  ,   user --->role --->permission\n4. What SaaS plugins would you like first?\nAnswer:  one click to publish\n5. What front-end framework should we use for the extendable admin panel: \nAnswer:  crossui ,  react \n6. How can you contribute?\nAnswer:  money to buy addins\n7. Do you have any other suggestion?\nAnswer: 1) hope to get new version 3  faster...... \n              2) don't limit strapi V1.5  to  node 4.8.0.  then  I can'nt try it  in  node 4.8.2 .   it's ....\n                 . THANKS.. ",
    "camilodelvasto": "Sorry to come so late to this discussion. Hope my comments are still useful.\n1. What do you think about this new vision?\nI love that the studio is being merged. But I think that the real (economic) value would be in creating a marketplace that involves not only plugins for developers, but ready-to-use, plug-and-play themes, so that entry-level developers could embrace the ecosystem and bring paying customers for premium plugins or integration of services. Think of Envato market and their role in extending WordPress...\nThis could also be combined with a different SaaS model for simple use cases like basic CMSs, like what Contentful or GraphCMS do (websites still power most of the web), but with the added benefit that the software is still Open Source (so that there's no vendor lock-in involved) and that developers could still create applications on top of it. The studio is already great for lowering the entry barrier for non devs, so it still makes sense to have a SaaS model hosting both the studio and the backend for the less savvy users (those who would just consume the APIs).\n4. What SaaS plugins would you like first?\nAuth using social services\nImage uploader with transformations (like cloudinary) for those using the admin as a CMS\n5. What front-end framework should we use for the extendable admin panel:\nReact or Vue :)\n6. How can you contribute?\nI can create themes to consume the APIs, and eventually plugins.\n7. Do you have any other suggestion?\nYes. It took me a long while to get here. I was looking for a node-based, sqlite-capable, open-source headless CMS with backend capabilities to provide content for my apps \u2014yet I couldn't find any mention of Strapi on Hacker News, Quora or Product Hunt. I think the product is great and fills a need, and it deserves a lot more attention, so perhaps, more could be done in this area \u2014I will help too :). ",
    "yosbelms": "Since this issue is still open I will respond the questionnaire.\n1. What do you think about this new vision?\nAnswer: Good to start.\n2. What Node.js framework would you use: Hapi vs Koa2?\nAnswer: Koa2. It is fast, and stable enough for production.\n3. What downloadable plugins would you like first?\nAnswer: Swagger API generator. Multitenancy. Cluster level stats.\n4. What SaaS plugins would you like first?\nAnswer: Multitenancy. DB per tenant, and tenant per tenantID column.\n5. What front-end framework should we use for the extendable admin panel: \nAnswer: React\n6. How can you contribute?\nAnswer: Creating plugins, fixing bugs.\n7. Do you have any other suggestion?\nAnswer: None\n. ",
    "chiqui3d": "\nWhat front-end framework should we use for the extendable admin panel:\nAnswer: Vuejs. \n",
    "soupette": "@chiqui3d the core members chose to go with React for the admin. Hi thanks for notifying us!\nThe input type number accepts floating points numbers including negative symbols and the e or E character.\nIf you try to submit your form with the same inputs as the screenshot it should display an error on the Portfield.\n. I'll close the issue, feel free to reopen it . Thank you for your feedback! This should be fixed in alpha.7 (https://github.com/strapi/strapi/pull/277/commits/fb3e78245eb471e9062a07997e53551c0626f212)\nI'm closing the issue, it should be available in the next release.. It should be fixed and available in the next release https://github.com/strapi/strapi/pull/313/commits/35d7993cf6400edd99ed8f25102a6ff496198052\n. Could you try to install Strapi with npm (version 5.3.0) and run strapi new my-project instead?. I'll close the issue feel free to reopen it if you still encounter this problem. I just made a PR to improve the UX on this view (https://github.com/strapi/strapi/pull/374). Hi could you be more specific on the error you got and the steps to reproduce it so we can take a look at it?\nthanks in advance!. I just fixed the bug see: https://github.com/strapi/strapi/pull/380\nIn the meantime you can add a new locale by creating manually the file in /config/locales/your_language.json . Could you tell me what is the ISO 639 code of the language you trying to add (if you don't know the language could you make a screenshot of the one you select in the popup) ?. Thanks!\nSo if you like to add this language you need to create a zh_Hans_CN.json file in your my-app/config/locales folder. I'm closing the issue. Hello! I am having trouble understanding your issue... Could you be more specific when you say that the server restart after adding a new value?\nIf you're adding a new field or modifying an existing from the content type builder the server must restart since we're writing a file in your app.. I'm closing the issue since it doesn't appear to be a bug but the expected behavior. Hello @Taffyw!\nIf your question refers to the admin languages we actually use react-intl to handle internationalization : https://github.com/yahoo/react-intl. \nThe way it works is that every plugin (including the admin) has a translations folder located in /admin/src/translations each folder currently contains two languages en.json fr.json and the front-end uses FormattedMessage (https://github.com/yahoo/react-intl/wiki/Components#formattedmessage) to which we give the translation key.\nSo, in order to add a new language to your app you'll need to :\n\nAdd the new language locale : \n For example if you'd like to add german as another language\n Path - my-app/admin/src/config/languages.json\n{\n   \"languages\": [\"en\", \"fr\", \"de\"]\n }\n\nCreate the de.json file in each plugin that contains the exact same keys located in en.json with the translated text.\n\n\nManually rebuild each plugin (for example: cd plugins/settings-manager && npm run build ) and also the admin.\n\n\nAlso I don't completely understand what you mean by \"if we support the multilevel type type>child.\", could you be more specific?\nThanks\n. Hi @blondie63! Strapi can totally works without MongoDB. \nIn order to do so you have to options : \n1- Setup a new connection from the settings-managerplugin (in this case you'll have to first have MongoDB running in order to access the admin panel) \n2- Manually setup another database by editing your ./config/environments/**/database.json see the documentation. \nIf you chose option 2 you have to create your user table beforehand, install your client and run npm install strapi-bookshelf@alpha . . You'll need to create the user table to access the admin\nCREATE TABLE user (\n id INT PRIMARY KEY UNIQUE,\n username TEXT UNIQUE,\n email TEXT UNIQUE,\n provider TEXT,\n password TEXT,\n resetPasswordToken TEXT,\n role TEXT\n)\nThen change your ./config/environments/your_env/database.json config file.\nFor example if you like to use postgres while developing\n{\n  \"defaultConnection\": \"default\",\n  \"connections\": {\n    \"default\": {\n      \"connector\": \"strapi-bookshelf\",\n      \"settings\": {\n        \"client\": \"postgres\",\n        \"host\": \"localhost\",\n        \"port\": 5432,\n        \"database\": \"my_db\",\n        \"username\": \"\",\n        \"password\": \"\"\n      },\n      \"options\": {}\n    }\n  }\n}. What node version and strapi are you currently using?. And do you still have the problem?\n. Hi @hadihallak what browser were you using?\n. You'll have to check the remember me checkbox if you want to stay logged in.\nI'm closing the issue feel free to reopen it if you think this is wrong behavior\n  . Hi @jbcoder could you give us your either your database configuration file or your github repository so we can have a look?. Hi @RWOverdijk if you're using MySQL you have to manually create the tables, migrations can only be ran if you're using MongoDB.. You just need to create the user table\nCREATE TABLE user (\n id INT PRIMARY KEY UNIQUE,\n username TEXT UNIQUE,\n email TEXT UNIQUE,\n provider TEXT,\n password TEXT,\n resetPasswordToken TEXT,\n role TEXT\n). I'm closing the issue. @matiasbenedetto you need to go in the advanced tab of the text field in the content-type-builder plugin. LGTM. Hello @bytasv could you show us your models configuration?. Yes please your API folder could be great. If you want add me to your github repository so I can take a look at it. hi @bytasv could you add me to your repository so I can have a look?. If test1 has many test2 then the files should be as follow :\n Path - api/test1/models/Test1.settings.json\n{\n  \"connection\": \"default\",\n  \"collectionName\": \"\",\n  \"info\": {\n    \"name\": \"test1\",\n    \"description\": \"\"\n  },\n  \"attributes\": {\n    \"name\": {\n      \"type\": \"string\"\n    },\n    \"test2s\": {\n      \"collection\": \"test2\",\n      \"via\": \"test1\"\n    }\n  }\n}\n Path - api/test1/models/Test2.settings.json\n{\n  \"connection\": \"default\",\n  \"collectionName\": \"\",\n  \"info\": {\n    \"name\": \"test2\",\n    \"description\": \"\"\n  },\n  \"attributes\": {\n    \"name\": {\n      \"type\": \"string\"\n    },\n    \"test1\": {\n      \"model\": \"test1\",\n      \"via\": \"test2s\"\n    }\n  }\n}\n Did you created them from the content type builder plugin? Could you try with strapi 7.3? Because everything seems to be working from my side. Hi @andyjessop the development of this plugin hasn't started yet.. The graphql plugin is in our radar. However, we don't know yet when the development is going to start. You can upvote the feature on our requested features page to make it the most wanted feature.. Hi @dakuenjery! To debug the admin you need to start your project in development mode. You should check out the Contributing guide for informations.. Are you sure you're on http://localhost:4000/admin/ ? I tried with the debugger and it seems to be working.. Hi @niallobrien you'll have to modify the content-type-builder plugin and the content-manager plugins.\nIn order to do so you have to start your project in development mode\nSteps to display your new input in the content type builder\n- To display your new field you'll have to add it in the /plugins/content-type-builder/admin/src/containers/Form/forms.jsonfile. \n- You'll have to add the corresponding translations in the /plugins/content-type-builder/admin/src/translations folder\n- From now on you're able to display your new attribute in the plugin (this might have an impact on the plugin's component) \n- You won't have to modify the actions or reducer of the plugin's front-end part.\nUse your new type in the content manager\n- In the content manager plugin you'll have to modify the Edit container and its children in order to display your new field type.\n- You'll have to either create a new input type in the strapi-helper-plugin/src/components/Input/index.js file or a new Input directly in your plugin's admin/src/components folder and import it in the content-manager/admin/src/admin/components/EditForm/index.js file.\nAdding a new type is not optimal at the moment you might have to modify the core of this two plugins.\n. Well we're currently working on the upload, but since the Input Library has been redone it should be normally easier to create new types (for the front end part), you'll will just have to edit a json file if the GUI doesn't contain it already. However it's not on our short-term road map to allow to create custom field from the GUI \ud83c\udfd7\ud83c\udfd7... @bkd705 do you mean adding a new type of field in the content-type-builder or customising the content-manager with new fields?. Hi @ArkhipovK this features is not developed yet. However, you can modify the plugin so you can add other fields.\nTo do so, start a project in dev mode strapi new my-project --dev\nThen in the content-manager plugin (path: my-project/plugins/content-manager/admin/src/containers/ListPage/index.js) you need to add the  headers you want to add.\nYou can create a function like the following before the render method\n```\naddOtherHeaders = () => {\n    const otherHeaders = Object.keys(get(this.props.schema, [this.props.match.params.slug, 'relations'], {})).reduce((acc, current) => {\n      acc.push({\n        name: current,\n        label: current,\n        type: 'relation',\n      });\n  return acc;\n}, [])\n\nreturn this.generateTableHeaders().concat(otherHeaders);\n\n}\n```\nThen you need to modify the headers given to the Table component.\n<Table\n   records={listPage.records}\n   route={this.props.match}\n   headers={this.addOtherHeaders()}\n   // Other props\n/>\nThen you might need to adapt the TableRowcomponent so it displays this need field.\nSuch feature is not in our ROADMAP for the next upcoming features. Nevertheless you can upvote the feature you would like us to develop in priority on our vote page: https://strapi.io/vote.\n. Hi @harshilsharma63 we'll look into it. Hi @Joshfindit, we haven't started to implement the JSON input yet.\nHowever you can 'easily' implement your own in the content manager (I found this one) that shouldn't be hard to add.\nIn order to do you have to create an JSONInput in plugins/content-manager/admin/src/components/JSONInput/index.js;\nthen you need to import it in the Edit component and pass it to the Input component like the following:\n```\nrender(){\n    return (\n      \n\n          {this.orderAttributes(this.state.displayedFields).map((attr, key) => {\n            const details = this.state.displayedFields[attr];\n            // Retrieve the input's bootstrapClass from the layout\n            const layout = this.getInputLayout(attr);\n            const appearance = get(layout, 'appearance');\n            const type = !isEmpty(appearance) ? appearance.toLowerCase() : get(layout, 'type', getInputType(details.type));\n        return (\n          <Input\n            autoFocus={key === 0}\n            customBootstrapClass={get(layout, 'className')}\n            didCheckErrors={this.props.didCheckErrors}\n            errors={this.getInputErrors(attr)}\n            key={attr}\n            label={get(layout, 'label') || details.label || ''}\n            multiple={this.fileRelationAllowMultipleUpload(attr)}\n            name={attr}\n            onBlur={this.props.onBlur}\n            onChange={this.props.onChange}\n            placeholder={get(layout, 'placeholder') || details.placeholder}\n            resetProps={this.props.resetProps}\n            selectOptions={get(this.props.attributes, [attr, 'enum'])}\n            type={type}\n            validations={this.getInputValidations(attr)}\n            value={this.props.record[attr]}\n            // Here your new component\n            customInputs={{ json: JSONInput }}\n          />\n        );\n      })}\n    </div>\n  </div>\n);\n\n}\n``\n. Hello! It looks like thestrapi-helper-plugin` is not linked correctly...\nCan you run cd myDevelopmentProject/admin && npm link strapi-helper-pluginand see if the problem still occurs?\n. Did you generate your project with strapi new myDevelopmentProject --dev ?. Just to make sure you cloned the repository and and did npm run setup in the it?. Could you tell me if you started your project in dev mode?\nDid you manage to start the project at some point?. @Norbz you need to delete the analytics plugin in order to launch the command with the --plugins options.\nAlso what is your current version of Strapi?. @steampixel can you run npm run setup --plugins and then the error won't happen anymore. What's happening is that the build of your generated plugin might have a different version of react which causes the error.. When a plugin has a layout.js file in its config folder it can tell the content-manager how to display the inputs. See https://github.com/strapi/strapi/blob/master/packages/strapi-plugin-users-permissions/config/layout.js. Is the error still happening with the new version of Strapi?. Hi @faebeee I agree with your point of view! We added this configuration thinking that it would improve the experience... Maybe we should add a configuration where you can start your project without choosing a DB, what do you think?. Hi @derrickmehaffy in order to add your nex type in the content type builder you'll have to modify some files...\nFirst you need to start your project in development mode see the CONTRIBUTING GUIDE.\nThen in your my-project/plugins/content-type-builder/admin/src/containers/Form/forms.json file add the following:\nIn the attribute object\n```json\n\"attribute\": {\n\"enumeration\": {\n      \"baseSettings\": {\n        \"items\": [\n          {\n            \"label\": \"content-type-builder.form.attribute.item.enumeration.name\",\n            \"name\": \"name\",\n            \"type\": \"string\",\n            \"value\": \"\",\n            \"validations\": {\n              \"required\": true\n            }\n          }\n        ]\n      },\n      \"advancedSettings\": {\n        \"items\": [\n          {\n            \"title\": \"content-type-builder.form.attribute.item.settings.name\",\n            \"label\": \"content-type-builder.form.attribute.item.requiredField\",\n            \"name\": \"params.required\",\n            \"type\": \"checkbox\",\n            \"value\": false,\n            \"validations\": {},\n            \"inputDescription\": \"content-type-builder.form.attribute.item.requiredField.description\"\n          },\n          {\n            \"label\": \"content-type-builder.form.attribute.item.uniqueField\",\n            \"name\": \"params.unique\",\n            \"type\": \"checkbox\",\n            \"value\": false,\n            \"validations\": {},\n            \"inputDescription\": \"content-type-builder.form.attribute.item.uniqueField.description\"\n          },\n          {\n            \"label\": \"content-type-builder.form.attribute.item.minimumLength\",\n            \"name\": \"params.minLength\",\n            \"type\": \"checkbox\",\n            \"value\": false,\n            \"validations\": {},\n            \"items\": [\n              {\n                \"label\": \"\",\n                \"name\": \"params.minLengthValue\",\n                \"value\": \"\",\n                \"type\": \"number\",\n                \"validations\": {\n                  \"required\": true\n                }\n              }\n            ]\n          },\n          {\n            \"label\": \"content-type-builder.form.attribute.item.maximumLength\",\n            \"name\": \"params.maxLength\",\n            \"type\": \"checkbox\",\n            \"value\": false,\n            \"validations\": {},\n            \"items\": [\n              {\n                \"label\": \"\",\n                \"name\": \"params.maxLengthValue\",\n                \"value\": \"\",\n                \"type\": \"number\",\n                \"validations\": {\n                  \"required\": true\n                }\n              }\n            ]\n          }\n        ]\n  }\n},\n\n```\nThis step will allow you to edit your enumeration field\nNow we need to add some translation\nIn `my-project/plugins/content-type-builder/admin/src/translation/en.json file \nAdd the following : \njson\n\"form.attribute.item.enumeration.name\": \"Name\",\n\"attribute.enumeration\": \"Enum\"\n. This was fixed when we merged https://github.com/strapi/strapi/pull/685.\nThe enumeration type is still not supported in the content type builder yeet, however if the content manager handles it now if you manually create this type.. Hi @gurjantsingh7979 could you be more specific?. Hi @gurjantsingh7979 if you want the enumeration you have  enumeration you can manually create it in your model as follows:\n{\n  \"connection\": \"default\",\n  \"collectionName\": \"\",\n  \"info\": {\n    \"name\": \"product\",\n    \"description\": \"\"\n  },\n  \"attributes\": {\n    \"name\": {\n      \"type\": \"string\"\n    },\n    \"type\": {\n      \"type\": \"enumeration\",\n      \"enum\": [\"val1\", \"val2\", \"val3\"],\n      \"required\": true\n    }\n  }\n}. Could you be more specific? Can you update your issue using the template so I can have a clear idea of your request.\nThanks!. In order to add search functionnality you have to first start your project in  dev mode see the CONTRIBUTING GUIDE.\nOnce your project is in dev mode you have to add the InputSearchWithErrors component to the Listcontainer which is located in my-project/plugins/content-manager/admin/src/containers/List/index.js.\nYou have to create an action, a saga and update the reducer\nPath \u2014 my-project/plugins/content-manager/admin/src/containers/List/constants.js\nexport const ON_CHANGE = ''content-manager/app/List/ON_CHANGE';\nexport const SEARCH_SUCCESS = ''content-manager/app/List/SEARCH_SUCCES';\nPath \u2014 my-project/plugins/content-manager/admin/src/containers/List/actions.js\n```\nimport { ON_CHANGE, SEARCH_SUCCESS } from './constants';\nexport function onChange({ target }) {\n  return {\n    type: ON_CHANGE,\n    keys: target.name.split('.'),\n    value: target.value,\n  };\n}\nexport function searchSuccess(data) {\n  return {\n    type: SEARCH_SUCCESS,\n    data,\n  }\n}\n```\nNow you have to fire the saga to get the data from your backend\nPath \u2014 my-project/plugins/content-manager/admin/src/containers/List/sagas.js\n```\n// Import your constant so the saga is listening to the event\nimport { ON_CHANGE } from './constants';\nimport { searchSuccess } from './actions';\n// The function to get your data\nexport function* search(action) {\n  try {\n    const requestUrl = something/search/${action.value};\n    const data = yield call(request, requestUrl, { method: 'GET' });\nyield put(searchSucccess(data));\n\n} catch(err) {\n    console.log(err);\n  }\n}\n// register your saga\nexport function* defaultSaga() {\n  // ...\n  yield fork(takeLatest, ON_CHANGE, search);\n// ...\n}\n```\nThen pass your data to the reducer\nPath \u2014 my-project/plugins/content-manager/admin/src/containers/List/reducer.js\n```\nimport {\n  // ...,\n  ON_CHANGE,\n  SEARCH_SUCCESS,\n} from './constants';\nconst initialState = fromJS({\n  currentModel: false,\n  currentModelName: false,\n  currentModelNamePluralized: false,\n  loadingRecords: true,\n  records: [],\n  loadingCount: true,\n  count: false,\n  currentPage: 1,\n  limit: 10,\n  sort: 'id',\n  initLimit: 10,\n  initSort: 'id',\n  // ADD THIS LINE\n  value: '',\n});\nfunction listReducer(state = initialState, action) {\n  switch (action.type) {\n   // ...\n    case ON_CHANGE:\n       return state.updateIn(action.keys, () => action.value);\n    case SEARCH_SUCCESS:\n       return state.set('records',  action.data);\n    default:\n      return state;\n  }\n}\n````\nCreate the selector:\nPath \u2014 my-project/plugins/content-manager/admin/src/containers/List/selectors.js\n```\nconst makeSelectValue = () =>\n  createSelector(selectListDomain(), substate => substate.get('value'));\nexport { \n  // ...\n  makeSelectValue,\n};\n```\nI thinking of something like this in the index.js\n```\nimport { InputSearchWithErrors as Input } from 'components/InputsIndex';\nimport {\n  // ...\n  onChange,\n} from './actions';\n// Selectors.\nimport {\n // ...\n  makeSelectValue\n} from './selectors';\n// Other imports\nexport class List extends React.Component {\n   // ...\n   render() {\n     // ...\n     return (\n       \ncontainer-fluid ${styles.containerFluid}}>\n           1 ? 'content-manager.containers.List.pluginHeaderDescription' : 'content-manager.containers.List.pluginHeaderDescription.singular',\n              values: {\n                label: this.props.count,\n              },\n            }}\n            actions={pluginHeaderActions}\n          />\n      {/* ADD THE INPUT HERE */ }\n      <Input\n          onChange={this.props.onChange}\n          value={this.props.value}\n           name=\"value\"\n      />\n\n      <div className={`row ${styles.row}`}>\n        <div className='col-lg-12'>\n          {content}\n          <PopUpWarning\n            isOpen={this.state.showWarning}\n            toggleModal={this.toggleModalWarning}\n            content={{\n              title: 'content-manager.popUpWarning.title',\n              message: 'content-manager.popUpWarning.bodyMessage.contentType.delete',\n              cancel: 'content-manager.popUpWarning.button.cancel',\n              confirm: 'content-manager.popUpWarning.button.confirm',\n            }}\n            popUpWarningType={'danger'}\n            onConfirm={this.handleDelete}\n          />\n          <TableFooter\n            limit={this.props.limit}\n            currentPage={this.props.currentPage}\n            onChangePage={this.handleChangePage}\n            count={this.props.count}\n            className=\"push-lg-right\"\n            onChangeLimit={this.handleChangeLimit}\n          />\n        </div>\n      </div>\n    </div>\n  </div>\n );\n\n}\n}\nfunction mapDispatchToProps(dispatch) {\n  return bindActionCreators(\n    {\n      deleteRecord,\n      setCurrentModelName,\n      loadRecords,\n      loadCount,\n      changePage,\n      changeSort,\n      changeLimit,\n      onChange,\n    },\n    dispatch\n  );\n}\nconst mapStateToProps = createStructuredSelector({\n  records: makeSelectRecords(),\n  count: makeSelectCount(),\n  loadingCount: makeSelectLoadingCount(),\n  models: makeSelectModels(),\n  currentPage: makeSelectCurrentPage(),\n  limit: makeSelectLimit(),\n  sort: makeSelectSort(),\n  currentModelName: makeSelectCurrentModelName(),\n  currentModelNamePluralized: makeSelectCurrentModelNamePluralized(),\n  schema: makeSelectSchema(),\n  value: makeSelectValue(),\n});\n// ...\n```\nIf you're struggling please see the users-permissions plugin;\nand the InputSearchWithErrors documentation\n. I'm closing the issue feel free to reopen it if needed.. Yes but it's not our main priority..\nHowever this functionality can be a plugin developed by a member. \nI want to emphasize the fact that it can be a plugin since a plugin can inject some components into another one using the injectedComponents.js file.\nSee the documentation to find more about it.. Well the solution I gave you is for the front end part you also need to create the /search in your apis.\nSo in the content-manager plugin create a /search route and its associated controller. You'll have to create the queries in the my-project/plugins/content-manager/config/queries also.\nYou can take a look at this https://github.com/strapi/strapi/blob/master/packages/strapi-plugin-users-permissions/controllers/UsersPermissions.js to help you. In this file you'll see searchUsers function that does what you want to achieve.\n. Hi @MateusSilveira98 .\nIn order to modify the admin you have to start your project in dev mode see the CONTRIBUTING guide.\nOnce you started your project in dev modego to my-project/plugin/content-manager/admin/src/containers/List/index.js.\nIn the render function you have a const tableHeaders that sets the Table headers (indeed) so if you want to display custom fields just modify this line of code.\nGood luck!. I'm closing the issue feel free to reopen it if needed. Hi I need to make a hot fix for that. However, for the time being could you go to your app folder\nmodify the language.jsonfile (/my-app/config/language.json) and  change the defaultLocale key as follows:\n```json\n{\n  \"enabled\": true,\n  \"defaultLocale\": \"zh_Hant_HK\",\n  \"modes\": [\n    \"query\",\n    \"subdomain\",\n    \"cookie\",\n    \"header\",\n    \"url\",\n    \"tld\"\n  ],\n  \"cookieName\": \"locale\"\n}\n``. Hi @fabiomig you need to use theusers-permissions` plugin : Auth & Permission link in the Admin for this.\nYou can create a role and manage its permissions in the edit view. Ok I understand, well in your case you have to either create a plugin that will handle the display of the admin or modify the admin itself to handle it. The second solution will not be dynamic since you'll have to set your user_id directly in the the code instead of having a plugin that can handle it.. Hi @suanter can you send me your models so I can reproduce exactly the behavior? Maybe on slack?. What is the status on this issue? . @suanter how can I reproduce the issue?\nIs it the admin which is breaking or another app?\n. Hi @luisnomad !\nIt will be an option in the future, we're working on the upload right now but after that we're going to implement it.\nA Strapi user posted this https://medium.com/@ceddybi/strapi-rocks-d887c758831e article which explains how to create the rich text editor for the time being.\nHope it will help. If you have more question feel free to join the slack and so the community can help you.\n. Great I'll leave it open so others member can refer to it!. You need to update your node version to v8.6 minimum. Here is the link also can you update your npm version to 5.6.0. Hi @Freakspot  the button cancel behavior is to empty all your fields. In this way, redirecting the user back to List view wasn't implemented. \n. Thanks @abdonrd the button has been renamed \ud83c\udf89\ud83c\udf89.\n. It looks like you didn't start your project in dev mode : strapi new myProject --dev\nI'll close it for this reason feel free to reopen it if you need it. Yes for the time being!. Well it seems that your user as the Guest role therefore he can't access the admin. Try to update his role in your db to see if it works. If it doesn't work can you drop your db and check again?\nIf it still doesn't work it means that it's a problem on our side so we'll try to fix it soon!. Hi @kperveen there is no logout route for the moment.... I'm closing the issue, here's the documentation associated on how to work with custom providers. Hi @mnlbox I will try to add a boilerplate with MobX in the strapi-examples if I have the time.... I'm not sure that the Admin will work with MobX for the moment.... I honestly don't know I haven't tried yet but in theory it should be. . @mnlbox npx -p strapi@alpha strapi new my-app && strapi start should work. Maybe we need to update the doc. This issue has been fixed in https://github.com/strapi/strapi/pull/760\n. @lauriejim what should I do then?. https://github.com/strapi/strapi/pull/974. @mortendybdal the babel-polyfill error should be fixed with #1033. Hi! the missing translation files have been added see. However, the traductions will be missing for the zh locales but we have a fallback to en so it won't break the UI. Hi! Currently, the register page on the admin is only accessible if there is no admin user.\nYou're right we have an issue with the password when you create a user directly from the content manager, it seems that the password is not hashed.\nHowever, until we fix the issue you can either create a new user using POSTMAN \nthe endpoint should be (http://localhost:1337/auth/local/register)\n{\n \"username\": \"username\",\n \"email\": \"me@me.com\",\n \"password\": \"secure123\"\n}\nAnd then if you set his role as admin in the content manager, the newly created user should be able to login\n. Sorry I didn't mean to close the issue. @abdonrd you mean the enum field?. @ChristopherJohnson25  thanks to @abdonrd the backend supports it but the admin not yet.\nThere is two parts for the admin to supports this functionality :\n- creating a new field type in the content-type-builder plugin\n- modifying the content-manager so it will display the correct form.\nIf you feel like so maybe you can submit a pull request for the content-manager, the plugin has been entirely re-coded in order to make contributions a lot easier which is not yet the case for the content-type-builder.. @abdonrd I can easily develop something like this if @Aurelsicoko agrees\n\n. I didn't thought of that, so yes we should use the inputJSON but it needs to be customised to handle this. I'm closing the install and build workflow has been reviewed. Thanks @zeroby0 for reporting this if you see other stuff like this don't hesitate to report it!. The token you retrieve is needed to access the data of your api if you have permissions set.\nWhat do you mean by how to work with app without ajax requests?\nDid you take a look at the strapi-examples apps?. Well, once you authenticate your user you have access to his role. So, maybe it could be a good start to render different markup in your case directly in the front-end.. I'm closing this issue.\nHere's the command that have been set:\n\nnpm run setup:build (in the monorepo, it will build all the plugins)\nnpm run setup (in the monorepo, it will just install the dev environment)\nnpm run setup (in a project, it will only build the admin)\nnpm run setup --plugins (in a project, it will build all the plugins). I'm working on migrating to webpack 4 it should reduce the building time a bit.\nAlso, I'm implementing the build of each plugin in async wich should also decrease the time. . See #1033 . We're still testing it, but it should merged sometime next week. Hi @forsetius are you still working on this issue? How can I help you?\n. Hi @forsetius. Until we released the fix you can modify this file:\n\nPath - plugins/settings-manager/controllers/SettingsManager.js\n```\ndeleteLanguage: async ctx => {\n    const Service = strapi.plugins['settings-manager'].services.settingsmanager;\n    const { name } = ctx.params;\nconst languages = Service.getLanguages();\n\nif (!_.find(languages, { name })) return ctx.badRequest(null, [{ messages: [{ id: 'request.error.languages.unknow' }] }]);\n\nconst filePath = path.join(strapi.config.appPath, 'config', 'locales', `${name}.json`);\n\ntry {\n  fs.unlinkSync(filePath);\n\n  ctx.send({ ok: true });\n  // Add this line\n  strapi.reload();\n} catch (e) {\n  ctx.badRequest(null, Service.formatErrors([{\n    target: 'name',\n    message: 'request.error.config',\n    params: {\n      filePath: filePath\n    }\n  }]));\n}\n\n},\n``. You should runnpm run build` in your app directory instead of the strapi's repository. Strapi is still in alpha, therefore, you might face some weird behaviors..\nCould you please update your issue so we can reproduce the steps and fix the bug?. Do you have any error shown in the console?. @abdonrd I currently working on this command, and I'm facing the same issue as you do...\nI'm facing two problems here: \n- Webpack is trying to build folders that are not included in its configuration (entries)\n- The babel-loader does not seem to use the babel-plugin-transform-object-rest-spread plugin.\nCurrently I'm trying to find out why webpack is building the services folder when we try to build only the admin and why we manage to build the plugins from the monorepo whereas it doesn't work inside a project \ud83d\ude48\ud83d\ude48\ud83d\ude48.. #1033 . Hi @oeddyo you need to edit this file and rebuild the plugin.. Could you try after upgrading to node v.9?. We need to merge #879 first. Hi @mnlbox !\nHere's a preview\n\n. @mnlbox server's info won't be implemented yet. This issue has already been referenced.. Currently you can't add the enu type from the content-type-builder however if you set it manually the content-manager plugin will display it. @sejersbol, currently your can\n- uninstall de content type builder when you're done using it (plugins link on the admin)\n- create role for your users with specific permissions for each content type\n- the admin is currently available to admin users only\n- you can display specific content types in the admin\n. Yes if you 'hack' the admin and you set the menu depending on the user... . Let me know if you need any help on implementing a temporary solution. Join us on Slack . Hi @crackhopper just to make sure, you did npm run setup after cloning the repository?\nAlso, why are you using the 3000 port?. You're right it's completely due to webpack. What's weird is that I've never faced this issue before...\nCan you try to install Strapi from the reduce-setup-monorepo and create a new app?\n. Hi @crackhopper did you find a solution to your issue?. @crackhopper I found the bug!\nYou have to start your dev server from the admin folder:\ncd my-app/admin && npm start\nYou were starting your server from the a plugin folder therefore the path for webpack weren't good. @lauriejim I need to fix both issue in the same time. \nI need to investigate but IMO the React Select query options is not implemented.... @abdonrd, you're seeing the download option in the marketplace because the admin uses the context where all the plugins with an Admin are set. Since this commit a plugin can be installed without the Admin folder, therefore it's not injected into the admin panel.\nIn this way the previous logic that checks if whether or not a plugin is mounted into the context is outdated.\nHow can we fix it?\nWe need to change the logic which is based on the context api and :\n- create an endpoint in the strapi-admin plugin that simply returns the installed plugins (file located in packages/strapi-admin/admin/src/config/plugins.json)\n- Get the info when the InstallPluginPage is mounted and base the logic on the data received previously\n . @Aurelsicoko could you provide the steps to reproduce because it's working on my side. @XcrossD a lazy load has been added, the search now works also. In order to prevent this bug you can paste an image into the selection.. @zhuang17 I see, I'm going to make a fix then. It's been fixed in #1732\n. @derrickmehaffy it's still happening \ud83d\ude16 \ud83d\ude16 but I don't have the time to fix it for the moment.... Hi @scipe I'm having a hard time understanding your issue...\nCan you provide the steps to reproduce it and the expected behavior?\n. Hi @scipe the error is coming from the ContentManager services at the parser function.. Yes apparently Json.parse can't work with long numbers. I found this link on stackoverflow.\n. A possible fix could be the following (if @lauriejim agrees):\n```js\n// Parse stringify JSON data.\nvalues = Object.keys(values.fields).reduce((acc, current) => {\n   acc[current] = !.isNaN(.toNumber(values.fields[current])) ?\n     values.fields[current]\n     : parser(values.fields[current]);\nreturn acc;\n}, {});\n```. After investigating I found that it's both a front end and backend issue..\nSo the code I linked you will only work for string type because the admin converts the number from the admin. \nA possible fix will be to add one of these libraries in both the front end and the backend bigInt or big.\n. Hi @XcrossD I tried your solution but it doesn't solve #992.\nHi suggest the following modifications :\nPath - packages/strapi-admin/admin/src/components/LeftMenuFooter/index.js\njs\nfunction LeftMenuFooter({ version }) { // eslint-disable-line react/prefer-stateless-function\n  return (\n    <div className={styles.leftMenuFooter}>\n      <div>\n        <FormattedMessage {...messages.poweredBy} />\n        <a href=\"https://strapi.io\" target=\"_blank\">v{version}</a>\n      </div>\n      <LocaleToggle />\n    </div>\n  );\n}\nThen in the styles.scss file\n```\n// Import\n@import \"../../styles/variables/variables\";\n.leftMenuFooter { / stylelint-disable /\n  position: absolute;\n  width: 100%;\n  bottom: 0;\n  height: 3rem;\n// New properties\n  display: flex;\n  justify-content: space-between;\npadding-left: 15px;\n  padding-right: 15px;\n  line-height: 3rem;\n  font-family: 'Lato';\n  background-color: rgba(255, 255, 255, .02);\n  font-size: 1rem;\n  font-weight: 400;\n  letter-spacing: 0.05rem;\n  vertical-align: middle;\n  color: $strapi-gray-light;\na {\n    color: #0097f7;\n  }\nselect{\n    outline: none;\n  }\n}\n```\n. @XcrossD do you mind updating your PR or do you want me to take care of it?. Hi @kitsunekyo you need to have the development environment setup in order to fully customize the admin panel.\nIn order to do so, you need to :\n- clone the monorepo : git clone git@github.com:strapi/strapi.git.\n- run cd strapi && npm run setup.\n- create a new Strapi project : strapi new my-app --dev.\n- launch the strapi server : cd my-app && strapi start.\n- add the strapi-helper-plugin dependency to the analytics plugin cd my-app/plugins/analytics && npm link strapi-helper-plugin.\n- launch front end dev server : cd my-app && npm start.\nAfter that you should be good to go!. I understand. We have guides in our documentation to customize the 'basics' things in the admin... However, if you want to make deeper changes you have to use the development mode CONTRIBUTING GUIDE.\n\ud83c\udfd7 *PRs are welcome ! \ud83c\udfd7\n. I think your issue is related with your SQL database. I have tried to reproduce your issue using mongoDB it was working fine. Duplicate of https://github.com/strapi/strapi/issues/924. See https://github.com/strapi/strapi/pull/1001. Hi @nainsworthrv what do mean by many connections?\nCan you paste the info object from the console?. Can we talk on slack so I can reproduce your bug or can you link you api folder?\n. I'm closing this issue. Here's the the explanation:\nWhen you open a model with a connected heirachy eg.\nQuestion\n            - Test result\n               -- Your questions\n                -- Answers\nWe had some empty fields which triggered the error. You have to start your project in dev mode to do that. Please refer to the PLUGIN DEVELOPMENT section.\n. Hi @oeddyo \nI'm not sure we're going to develop such feature however here's how you can do it.\nFirst create a project in dev mode ()plugin development).\nIn the content-manager/admin/src/containers/index.js you can make the following modifications:\n```\nimport PopUpWarning from 'components/PopUpWarning';\nexport class EditPage extends React.Component {\n  state = { showWarning: false };\n// ...\ntoggleModalWarning = () => this.setState(prevState => ({ showWarning: !prevState.showWarning }));\npluginHeaderActions =  () => (\n    [\n      {\n        label: 'content-manager.containers.Edit.reset',\n        kind: 'secondary',\n        onClick: () => this.setState({ showWarning: true }),\n        type: 'button',\n      },\n      {\n        kind: 'primary',\n        label: 'content-manager.containers.Edit.submit',\n        onClick: this.handleSubmit,\n        type: 'submit',\n        loader: this.props.editPage.showLoader,\n        style: this.props.editPage.showLoader ? { marginRight: '18px' } : {},\n      },\n    ]\n  );\nrender() {\n    return (\n      \n\n\n    );\n  }\n}\n```\nYou'll also have to create the associated translations in the plugin's translations folder.\nFeel free to submit a PR if you get it working. . @lauriejim https://github.com/strapi/strapi/commit/0b1a280c7aa96742281c9b0ba6bd7c0739f98ee3#diff-a1018c08b7910d0259b23d23ec7a9fb9. I'm closing this issue it has been implemented in #1529 . Furthermore it will be displayed only if your run npm run setup:facts npm run setup:build:facts and theses commands aren't referenced in the documentation. Hi @kadaan and thanks for your contribution!\nHowever, I don't think that we can merge your PR for the moment since all the popups aren't aligned correctly.\n@Aurelsicoko can you confirm?. Well, in order to change the routing you have to create a new Route in the AdminPage container and modify the LeftMenuLink component so it doesn't redirect to plugins/:pluginID.. This issue has been fixed already but we haven't released it #1033 . The patch should be available today.. You need to remove the analytics plugin then it should be working with the latest release. Hi @manojkumar7488 maybe you can try to follow this tutorial but with Facebook. Did you enable it in the users-permissions plugin?. You can either modify the content-manager plugin or create a new plugin for that.\nIf you feel like developing one we can provide you with our thoughts on how it should be working and what the design will look like.\n\nYou can also vote on our vote page so we make this feature a priority. Hi @piere129 the setup:build is broken however the npm run setup works fine.\n\nYou can fix the first one by making those changes (it's not mandatory since the command npm run setup --plugins works when ran in a generated app):\nPath - ./scripts/setup.js\n``js\nconst buildPlugins = async () => {\n  const build = (pckgName) => {\n    return new Promise(resolve => {\n      const name = pckgName === 'admin' ? pckgName:plugin-${pckgName};\n      asyncWatcher(\ud83c\udfd7  Building ${name}...,cd ../strapi-${name} && IS_MONOREPO=true npm run build`, false, resolve);\n    });\n  };\nreturn Promise.all(pluginsToBuild.map(plugin => build(plugin)));\n};\nconst setup = async () => {\n  if (process.env.npm_config_build) {\n    if (process.platform === 'darwin') { // Allow async build for darwin platform\n      await buildPlugins();\n    } else {\n      pluginsToBuild.map(name => {\n        const pluginName = name === 'admin' ? name : plugin-${name};\n        shell.cd(../strapi-${pluginName});\n    return watcher(`\ud83c\udfd7  Building ${pluginName}...`, 'IS_MONOREPO=true npm run build');\n  });\n}\n\n}\n// Log installation duration.\n  const installationEndDate = new Date();\n  const duration = (installationEndDate.getTime() - installationStartDate.getTime()) / 1000;\n  shell.echo('\u2705  Strapi has been succesfully installed.');\n  shell.echo(\u23f3  The installation took ${Math.floor(duration / 60) > 0 ?${Math.floor(duration / 60)} minutes and : ''}${Math.floor(duration % 60)} seconds.);\n};\n```\nPath -: ./strapi-helper-plugin/lib/internals/scripts/loadAdminConfigurations.js\njs\nconst isSetup = process.env.IS_MONOREPO;\nThen you need to change the webpack configurations:\nPath -: ./strapi-helper-plugin/lib/internals/webpack/webpack.base.babel.js\njs\nconst isSetup = process.env.IS_MONOREPO;\nPath -: ./strapi-helper-plugin/lib/internals/webpack/webpack.dll.babel.js\njs\nconst isSetup = process.env.IS_MONOREPO;\nPath -: ./strapi-helper-plugin/lib/internals/webpack/webpack.prod.babel.js\njs\nconst isSetup = process.env.IS_MONOREPO;\n. @piere129 I think the bug is related with Windows...\nAlso, regarding your questions:\n\ndoes that mean all routes and api calls get checked by using software like postman?\n\nWhen customizing the admin (other than just changing the logo) you have two servers running:\n- One that handles your back-end, the Strapi one strapi start which runs on PORT=1337\n- Another that handles your front-end which runs the admin npm start launched from the my-app/admin folder.\nSo, you won't need POSTMAN in this case.\n\nAbout the building process\n\nThis step is not required when working on the admin panel since you're running the front-end server.\nHowever, once your modifications completed you'll need to rebuild the admin panel. Since the build command doesn't seem to work inside the monorepo (in your specific case) you'll need to run npm run setup --plugins at the root of your created project (and this one will bypass the variable issue since you're not in the monorepo):\n$ cd my-app\n$ npm run setup --plugins. @piere129 are you trying to rebuild the plugins or develop on strapi?\nBecause you don't need the 7th step if you just want to start your project in dev mode.\n. Hi @piere129!\nAs stated in #1025, we don't delete your tables we just create new ones, therefore the behavior you described is the correct one.\nHowever, the behavior you about the users-permissions plugin is not the one expected.\n. Hi @Aurelyn10 \nWe need to update the documentation but in order to rebuild the admin you need to run\nnpm run setup at the root of your project. You need to start your app in dev mode to have the autoreload.\nPlease refer to the documentation\n. @Aurelyn10 do you have your strapi server running? \n\ncd my-app && strapi start\n\nDid you follow these instructions?\n``` \n// Create a folder and install Strapi\n$ mkdir repositories && cd repositories && git clone git@github.com:strapi/strapi.git (or your fork)\n$ cd strapi && npm run setup\n// Create a dev app\n$ cd .. && strapi new my-app --dev\n// When you're app is created\n$ cd my-app && rm -rf plugins/analytics\n$ strapi start\n// In another terminal window\n$ cd my-app/admin && npm start \n// When you're done with your modifications\n$ cd my-app && npm run setup ---plugins\n// You can rebuild the plugins by running \n$ cd repositories/strapi && npm run setup:build\n```\nIf you follow these instructions it should be working on localhost:4000/admin, you'll need to register your first user.\n. Hi @wi4er I  tried to reproduce your issue but it's working fine on my side, I'm using the strapi-sdk-javascript.. I'm closing the issue, here's the documentation on how to use custom providers.. This has been fixed., boolean values are automatically set to false by default\nI'm closing the issue.. Hi @oeddyo when you say trying to upload multiple images do you mean uploading them at the same time or one by one?\nBecause if you're trying to upload them at the same time, the feature is not developed in the WYSIWYG yet...\n. @lauriejim done\n. Hi @akearney2!\nTo be honest I developed the \"concept\" of this feature and I never had the possibility to use yet!\nIt was thought to enable the search feature in the content-manager and maybe a global search in the admin.\nIf you got it working, can you submit a PR with your modifications so we can benefit from it?\n. I'm closing this issue since this feature is going to be removed. Also, it is still usable by doing the following.\nPath: my-plugin/plugins/my-plugin/admin/src/injectedComponents.js:\nimport MyComponent from './injectedComponent/MyComponent';\nexport default [\n  {\n    plugin: '<pluginName>.<component|container>',\n    area: 'top.links',\n    component: MyComponent,\n    key: 'someUniqueKeyNeededForReact', // https://reactjs.org/docs/lists-and-keys.html\n    props: {} // Maybe some props that you want to pass to your component\n  },\n];\nThen to use it:\nPath: my-app/plugins/<plugin>/admin/src/containers/<container>/index.js\n``\nclass MyContainer extends React.Component {\n  retrieveTopLinks = () => {\n    const { plugins } = this.context.toJS ? this.context.plugins.toJS() : this.context.plugins;\n    const componentsToInject = Object.keys(plugins).reduce((acc, current) => {\n         const currentPlugin = plugins[current];\n         // Retrieve all the components to inject in each plugin\n         const injectedComponents = get(currentPlugin, 'injectedComponents', []);\n         // Filter them according to your current plugin and container\n         const compos = injectedComponents.filter(compo => (\n            compo.plugin ===${pluginId}.MyContainer` && \n            compo.area === 'top.links'\n         ).map(compo => {\n            const Component = compo.component;\n       return <Compo {...this} key={compo.key} />;\n    });\n\n    return [...acc, ...compos];\n}, []);\n\nreturn componentsToInject;\n  }\nrender() {\n      return (\n        \n         {this.retrieveTopLinks()}  \n\n     );\n   }\n}\n```\nA working example can be found here (for the retrieving part):\nhttps://github.com/strapi/strapi/blob/b0c12a3912c84fbd9d42e4f8ba55bac465a936ba/packages/strapi-plugin-content-manager/admin/src/containers/EditPage/index.js#L488-L519\nAnd the injectedComponent file can be found there\nhttps://github.com/strapi/strapi/blob/b0c12a3912c84fbd9d42e4f8ba55bac465a936ba/packages/strapi-plugin-content-type-builder/admin/src/injectedComponents.js#L1-L16\nBTW @virginieky is the one that fixed the bug and made it work, a logic that will be very similar to that one will be implemented in the beta.. Currently working on the basics components of the front-end part.\nThe modifications on the back-end and front-end of the content-manager has been made, same for the plugin-upload.. BTW: This is the expected UI\n\n. The development of this feature is almost done.... The email field is already implemented, about the other mask such feature can be developed by following the dynamic used for the WYSIWYG field.\nYou can refer to this file if you want to check out how it works.\nIf you want to undertake its development you'll have to create new input types.. @mnlbox it's currently not on our ROADMAP, but you can still submit a PR for this feature request.. @mnlbox this feature will be developed some time later and will be a plugin. If you feel like developing it we can provide you with our thoughts on how it should work.. @mnlbox I meant that such plugin is meant to be developed later unless you feel like contributing by developing it yourself. @UniBen that would be great!\nCurrently there is a layout.js in the admin that can be used to hide some elements from the left menu.\nMaybe your plugin can extends this functionality a bit like the content-type-builder does?. Hi!\n\nActually we do not send the password value if you are not updating it\n\nIf you do not modify the password field it won't be updated.\n\nBut I need insert password now. So maybe it's a bug yes?\n\nCan you provide some step to reproduce it because I just tried and it's working fine on my side\n\nAnyway I think a Reset Password form can be useful.\n\nYou can hide the password field from the form by modifying the following file :\nPath -: my-app/plugins/users-permissions/config/layout.js\njs\nmodule.exports = {\n  user: {\n    actions: {\n      create: 'User.create', // Use the User plugin's controller.\n      update: 'User.update',\n      destroy: 'User.destroy'\n    },\n    attributes: {\n      username: {\n        className: 'col-md-6'\n      },\n      email: {\n        className: 'col-md-6'\n      },\n      provider: {\n        className: 'd-none'\n      },\n      resetPasswordToken: {\n        className: 'd-none'\n      },\n      role: {\n        className: 'd-none'\n      },\n      password: {\n        className: 'd-none'\n      }\n    }\n  }\n};\nThen you can create a specific container in the content-manager plugin to have a specific form.. @lauriejim I ran into the issue last week. I'm taking care of fixing it. @blaasvaer you need to create a new app and apply these modifications into /admin/admin/src/containers/AdminPage/index.js\n```js\n/\n * AdminPage\n \n * This is the first thing users see of our AdminPage, at the '/' route\n \n * NOTE: while this component should technically be a stateless functional\n * component (SFC), hot reloading does not currently support SFCs. If hot\n * reloading is not a neccessity for you then you can refactor it and remove\n * the linting exception.\n /\nimport React from 'react';\nimport ReactGA from 'react-ga';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { createStructuredSelector } from 'reselect';\nimport { Switch, Route } from 'react-router-dom';\nimport { get, includes, isFunction, map, omit } from 'lodash';\nimport { compose } from 'redux';\n// Actions required for disabling and enabling the OverlayBlocker\nimport {\n  disableGlobalOverlayBlocker,\n  enableGlobalOverlayBlocker,\n} from 'actions/overlayBlocker';\nimport { pluginLoaded, updatePlugin } from 'containers/App/actions';\nimport {\n  makeSelectBlockApp,\n  makeSelectShowGlobalAppBlocker,\n  selectHasUserPlugin,\n  selectPlugins,\n} from 'containers/App/selectors';\nimport { hideNotification } from 'containers/NotificationProvider/actions';\n// Design\nimport ComingSoonPage from 'containers/ComingSoonPage';\nimport Content from 'containers/Content';\nimport LocaleToggle from 'containers/LocaleToggle';\nimport CTAWrapper from 'components/CtaWrapper';\nimport Header from 'components/Header/index';\nimport HomePage from 'containers/HomePage/Loadable';\nimport InstallPluginPage from 'containers/InstallPluginPage/Loadable';\nimport LeftMenu from 'containers/LeftMenu';\nimport ListPluginsPage from 'containers/ListPluginsPage/Loadable';\nimport Logout from 'components/Logout';\nimport NotFoundPage from 'containers/NotFoundPage/Loadable';\nimport OverlayBlocker from 'components/OverlayBlocker';\nimport PluginPage from 'containers/PluginPage/Loadable';\n// Utils\nimport auth from 'utils/auth';\nimport injectReducer from 'utils/injectReducer';\nimport injectSaga from 'utils/injectSaga';\nimport { getGaStatus, getLayout } from './actions';\nimport reducer from './reducer';\nimport saga from './saga';\nimport selectAdminPage from './selectors';\nimport styles from './styles.scss';\nconst PLUGINS_TO_BLOCK_PRODUCTION = ['content-type-builder', 'settings-manager'];\nexport class AdminPage extends React.Component { // eslint-disable-line react/prefer-stateless-function\n  state = { hasAlreadyRegistereOtherPlugins: false };\ngetChildContext = () => (\n    {\n      disableGlobalOverlayBlocker: this.props.disableGlobalOverlayBlocker,\n      enableGlobalOverlayBlocker: this.props.enableGlobalOverlayBlocker,\n      plugins: this.props.plugins,\n      updatePlugin: this.props.updatePlugin,\n    }\n  );\ncomponentDidMount() {\n    this.checkLogin(this.props);\n    this.props.getGaStatus();\n    this.props.getLayout();\n    ReactGA.initialize('UA-54313258-9');\n  }\ncomponentWillReceiveProps(nextProps) {\n    if (nextProps.location.pathname !== this.props.location.pathname) {\n      this.checkLogin(nextProps);\n  if (nextProps.adminPage.allowGa) {\n    ReactGA.pageview(nextProps.location.pathname);\n  }\n}\n\nif (get(nextProps.plugins.toJS(), ['users-permissions', 'hasAdminUser']) !== get(this.props.plugins.toJS(), ['users-permissions', 'hasAdminUser'])) {\n  this.checkLogin(nextProps, true);\n}\n\nif (!this.hasUserPluginLoaded(this.props) && this.hasUserPluginLoaded(nextProps)) {\n  this.checkLogin(nextProps);\n}\n\n}\ncheckLogin = (props, skipAction = false) => {\n    if (props.hasUserPlugin && this.isUrlProtected(props) && !auth.getToken()) {\n      if (!this.hasUserPluginLoaded(props)) {\n        return;\n      }\n  const endPoint = this.hasAdminUser(props) ? 'login': 'register';\n  this.props.history.push(`/plugins/users-permissions/auth/${endPoint}`);\n}\n\nif (!this.isUrlProtected(props) && includes(props.location.pathname, 'auth/register') && this.hasAdminUser(props) && !skipAction) {\n  this.props.history.push('/plugins/users-permissions/auth/login');\n}\n\nif (props.hasUserPlugin && !this.isUrlProtected(props) && !includes(props.location.pathname, 'auth/register') && !this.hasAdminUser(props)) {\n  this.props.history.push('/plugins/users-permissions/auth/register');\n}\n\nif (!props.hasUserPlugin || auth.getToken() && !this.state.hasAlreadyRegistereOtherPlugins) {\n  map(omit(this.props.plugins.toJS(), ['users-permissions', 'email']), plugin => {\n    switch (true) {\n      case isFunction(plugin.bootstrap) && isFunction(plugin.pluginRequirements):\n        plugin.pluginRequirements(plugin)\n          .then(plugin => {\n            return plugin.bootstrap(plugin);\n          })\n          .then(plugin => this.props.pluginLoaded(plugin));\n        break;\n      case isFunction(plugin.pluginRequirements):\n        plugin.pluginRequirements(plugin).then(plugin => this.props.pluginLoaded(plugin));\n        break;\n      case isFunction(plugin.bootstrap):\n        plugin.bootstrap(plugin).then(plugin => this.props.pluginLoaded(plugin));\n        break;\n      default:\n    }\n  });\n\n  this.setState({ hasAlreadyRegistereOtherPlugins: true });\n}\n\n}\nhasUserPluginLoaded = (props) => typeof get(props.plugins.toJS(), ['users-permissions', 'hasAdminUser']) !== 'undefined';\nhasAdminUser = (props) => get(props.plugins.toJS(), ['users-permissions', 'hasAdminUser']);\nisUrlProtected = (props) => !includes(props.location.pathname, get(props.plugins.toJS(), ['users-permissions', 'nonProtectedUrl']));\nshouldDisplayLogout = () => auth.getToken() && this.props.hasUserPlugin && this.isUrlProtected(this.props);\nshowLeftMenu = () => !includes(this.props.location.pathname, 'users-permissions/auth/');\nretrievePlugins = () => {\n    const { adminPage: { currentEnvironment }, plugins } = this.props;\nif (currentEnvironment === 'production') {\n  let pluginsToDisplay = plugins;\n  PLUGINS_TO_BLOCK_PRODUCTION.map(plugin =>\n    pluginsToDisplay = pluginsToDisplay.delete(plugin));\n\n  return pluginsToDisplay;\n}\n\nreturn plugins;\n\n}\nrender() {\n    const { adminPage } = this.props;\n    const header = this.showLeftMenu() ?  : '';\n    const style = this.showLeftMenu() ? {} : { width: '100%' };\nreturn (\n  <div className={styles.adminPage}>\n    {this.showLeftMenu() && (\n      <LeftMenu\n        plugins={this.retrievePlugins()}\n        layout={adminPage.layout}\n        version={adminPage.strapiVersion}\n      />\n    )}\n    <CTAWrapper>\n      {this.shouldDisplayLogout() && <Logout />}\n      <LocaleToggle isLogged={this.shouldDisplayLogout() === true} />\n    </CTAWrapper>\n    <div className={styles.adminPageRightWrapper} style={style}>\n      {header}\n      <Content {...this.props} showLeftMenu={this.showLeftMenu()}>\n        <Switch>\n          <Route path=\"/\" component={HomePage} exact />\n          <Route path=\"/plugins/:pluginId\" component={PluginPage} />\n          <Route path=\"/plugins\" component={ComingSoonPage} />\n          <Route path=\"/list-plugins\" component={ListPluginsPage} exact />\n          <Route path=\"/install-plugin\" component={InstallPluginPage} exact />\n          <Route path=\"/configuration\" component={ComingSoonPage} exact />\n          <Route path=\"\" component={NotFoundPage} />\n          <Route path=\"404\" component={NotFoundPage} />\n        </Switch>\n      </Content>\n    </div>\n    <OverlayBlocker isOpen={this.props.blockApp && this.props.showGlobalAppBlocker} />\n  </div>\n);\n\n}\n}\nAdminPage.childContextTypes = {\n  disableGlobalOverlayBlocker: PropTypes.func,\n  enableGlobalOverlayBlocker: PropTypes.func,\n  plugins: PropTypes.object,\n  updatePlugin: PropTypes.func,\n};\nAdminPage.contextTypes = {\n  router: PropTypes.object.isRequired,\n};\nAdminPage.defaultProps = {\n  adminPage: {},\n  hasUserPlugin: true,\n};\nAdminPage.propTypes = {\n  adminPage: PropTypes.object,\n  blockApp: PropTypes.bool.isRequired,\n  disableGlobalOverlayBlocker: PropTypes.func.isRequired,\n  enableGlobalOverlayBlocker: PropTypes.func.isRequired,\n  getGaStatus: PropTypes.func.isRequired,\n  getLayout: PropTypes.func.isRequired,\n  hasUserPlugin: PropTypes.bool,\n  history: PropTypes.object.isRequired,\n  location: PropTypes.object.isRequired,\n  pluginLoaded: PropTypes.func.isRequired,\n  plugins: PropTypes.object.isRequired,\n  showGlobalAppBlocker: PropTypes.bool.isRequired,\n  updatePlugin: PropTypes.func.isRequired,\n};\nconst mapStateToProps = createStructuredSelector({\n  adminPage: selectAdminPage(),\n  blockApp: makeSelectBlockApp(),\n  hasUserPlugin: selectHasUserPlugin(),\n  plugins: selectPlugins(),\n  showGlobalAppBlocker: makeSelectShowGlobalAppBlocker(),\n});\nfunction mapDispatchToProps(dispatch) {\n  return {\n    disableGlobalOverlayBlocker: () => { dispatch(disableGlobalOverlayBlocker()); },\n    enableGlobalOverlayBlocker: () => { dispatch(enableGlobalOverlayBlocker()); },\n    getGaStatus: () => { dispatch(getGaStatus()); },\n    getLayout: () => { dispatch(getLayout()); },\n    onHideNotification: (id) => { dispatch(hideNotification(id)); },\n    pluginLoaded: (plugin) => { dispatch(pluginLoaded(plugin)); },\n    updatePlugin: (pluginId, updatedKey, updatedValue) => { dispatch(updatePlugin(pluginId, updatedKey, updatedValue)); },\n    dispatch,\n  };\n}\nconst withConnect = connect(mapStateToProps, mapDispatchToProps);\nconst withReducer = injectReducer({ key: 'adminPage', reducer });\nconst withSaga = injectSaga({ key: 'adminPage', saga });\nexport default compose(\n  withReducer,\n  withSaga,\n  withConnect,\n)(AdminPage);\n// export default connect(mapStateToProps, mapDispatchToProps)(AdminPage);\n```\nthen remove the analytics plugin: \ncd my-app && rm -rf plugins/analytics\nThen at the root of this new app run npm run setup \nOnce the setup is complete copy the admin folder into your other app and it should be working.\nIf you encounter any problem you can DM on slack. Hi @bitkris-dev!\nThanks for your contribution, but we won't be able to merge it since you didn't translate the files located in the plugins folder : \n- content-manager\n- content-type-builder\n- email\n- settings-manager\n- users-permissions\n- upload. @mnlbox what browser are you using? Can you try using Chrome until we release this [patch}(https://github.com/strapi/strapi/pull/1222/files).\nA  quick solution would be to add the code from the PR then run the following commands in your app (I can't guarantee that it will work if you're using an OS different from mac..., If you struggle DM me on slack).\n```\n// Create a new strapi app\n$ strapi new my-app2\n// We will need only the admin, so in order to prevent any bug from happening when trying to build the admin we're going to remove the plugins folder\n$ cd my-app && rm -rf plugins\n// Open the admin/admin/src/containers/AdminPage/index.js file and apply the modifications\n// At the root of your app\n$ npm run setup\n```\nThen copy the admin folder from my-app2 into your existing app (my-app) and it should be working fine.\n. @mnlbox good it's a good question!\nThe error is happening because I prevent the plugins from being loaded if the user is not logged in, therefore if the browser is slow the condition hasAdminUser is always false so you're always redirected to the register page.. @mnlbox can you show me your user model?\n. @mnlbox what about registering the first admin user and then set it back to true?\n. The other options would be to modify the refister form so it displays firstname and lastname. You'll need to make the modifications listed previously on the issue. @mig4ng what is your OS?. @mig4ng I think it will be easier if you take the admin folder from this project. It's an app that I pushed with the fix from above. So you don't have to rebuild the admin. @sanchit-aneja Did you add some required field to the existing user model?. What you can do is set some default value to your user model.\nAnyway, I going to make this form more dynamic so it can take in account any added required field.\nI'm reopening it.. The other way would be to add a default value to the required fields.. @blaasvaer if you click on row you should be able to edit your field. @blaasvaer anyway thanks for reporting this bug.\nHere's the fix if you want to have it working before the next release (it's in the IcoContainer component, if forgot to add the onClick handler).\n. @johannpinson sure your PR is more than welcomed, in fact it's better that the one I made!. I managed to reproduce the issue as well. What happens is that when you create the new role Guest and add the admin user to it he is not allowed to access the admin panel anymore.\nSo in order to fix you have to set his role back to Administrator.. @mnlbox do you have a password manager?. I believe that this is the issue, I facing it when I use 1password. Hi @yummyelin I tried to reproduce your issue but it working as expected on my side. @yummyelin the error is happening because you have the same field name for both Profile & User.\n@lauriejim is it allowed to have such condition?\n. @yummyelin I tried to reproduce your issue but I wasn't able to.... How do you start your server (npm start or strapi start)?. It seems that some plugins aren't loaded, but I'm unable to reproduce your issue.. Hi @mnlbox yes please, I'm unable to reproduce it. Can we talk about on slack?. @mnlbox can I have an update on your issue?. Do you have a repo I can access so I can try to debug? I'm still unable to reproduce the bug. @derrickmehaffy I know but while working on the filters for the content-manager I noticed that it doesn't work only for numerical fields.. Hi @johannpinson, thanks for your contribution. However, I don't really see the improvement since if there is no onClick handler provided the Ico component will use the defaultProps onClick which is a function.\nIn this case I would say that an improvement will be the following :\n```js\nimport { isFunction } from 'lodash';\nconst handleClick = (e, onClick) => {\n  e.preventDefault();\n  e.stopPropagation();\nif (isFunction(onClick)) {\n    onClick(e);\n  }\n};\n// Then we need to change the propTypes to allow booleans\nIco.propTypes = {\n  onClick: PropTypes.oneOfType([\n    PropTypes.func,\n    PropTypes.bool,\n  ]),\n};. @johannpinson thanks for clarifying, in this case I agree with your PR if you can update the proptypes to reflect what we discussed above.\n@BroTrue you don't need to create the strapi-helper-plugin package it's here.. @lauriejim @Aurelsicoko should we lock the koa-favicon version?. Hi @minvedacat, I'm unable to reproduce your issue but can you try by running the following?\n```\n// Clone the repository with your fork\n$ mkdir repositories && git clone STRAPI_FORK\n$ cd strapi && npm run setup\n// Create an app in another folder\n$ mkdir sandbox && cd sandbox\n$ strapi new my-app --dev\n// Remove the analytics plugin\n$ cd my-app && rm -rf plugins/analytics\n// Create a plugin\n$ strapi generate:plugin my-plugin\n// Link the strapi-helper-plugin\n$ cd plugins/my-plugin && npm link strapi-helper-plugin && cd ...\n// Start the strapi server\n$ strapi start\n// In another terminal window\n$ cd my-app/admin && npm start\n```\nI just tried the commands above and it worked for me\n. Ok good news! \nI'm closing the issue. @willisplummer In fact it's logic itself that needs to be improved.\nThe bug is that instead of inserting ** at both ends of the paragraph I set at the line's ones.. @lauriejim when you reach the final step of your scenario you are trying to create a relation with the same content type in this particular case I'm unable to suggest you the correct values to fill the form so I thought that it would be better to not fill the inputs.. @yummyelin do you have the graphql plugin installed?. @derrickmehaffy I know but in this particular case I had to standardize the content-manager backend so it's up-to-date with both the filter documentation and the generated APIs.\nIn order to do that I had to use the convertParams function.\nPreviously, the content-manager back-end has been adapted to the filters sent from the Admin which wasn't a good practice...\nFurthermore, since the content-manager shares UI components (from the strapi-helper-plugin) with other plugins like the plugin-upload I have updated them as well.\nFinally I had to add new features to some inputs components like (passing refs) so I can manage their focus programmatically.\n. Hi @MattAurich can you be more specific on the setup you did for decoupling the two in development?. @MattAurich we made some boilerplates with react if you want to check them out. hi @spksoft I believe it's related with the react-select ref, here's the concerned issue. @byoungd I'm aware of the issue and I'll try to fix when I have the time...\nThe add new language just adds a new locale in may-app/config/locales so you can manually create one until I take care of the problem.. @byoungd in you can also set it manually\nPath - ./config/languages.json\n{\n  \"enabled\": true,\n  \"defaultLocale\": \"zh_Hans\",\n  \"modes\": [\n    \"query\",\n    \"subdomain\",\n    \"cookie\",\n    \"header\",\n    \"url\",\n    \"tld\"\n  ],\n  \"cookieName\": \"locale\"\n}\n. the commands have change the lint is only run in the monorepo now.\ni'm closing the issue. Well the dev environment does watch files but the issue is that when you have the server autoreload activated, the strapi server restarts each time you make a modification in one of your front-end file, so webpack build twice instead once which prevents the admin from hot reloading.\nI made a commit to fix this problem but the PR is not ready yet.. Hi @ClementLoridan, I'm working on a new boilerplate (it's not on master yet) that uses the strapi-javascript-sdk. I have recoded the basic authentication and I have just tested with Facebook which is working on my side.\nPlease make sure you followed these steps.\n. Yes you'll need to disable the One acccout per email address in this view. @YiteLMG I'm facing the same bug, until I fix it, you can press cmd + c one time and it will start your server. To solve the issue you need to add the following  in this file.\nconst sameParamsKey = filter(this.props.contentTypeData.attributes, (attr) =>\n   // add this check\n    attr.params.key !== '-' && attr.params.key === this.props.modifiedDataAttribute.params.key && attr.params.target === this.props.modifiedDataAttribute.params.target);\nThen, it should be working . Thanks @johanbaath I didn't cover this use case!. Hi @ShawTim we don't support draft.js plugin yet in the WYSIWYG (yet?) but instead of modifying the current component I suggest you to create a new one and add the desired plugins to it. If you do so, I suggest you to store the contentState in your db instead of converting it to markdown so you don't lose any styling when you convert it back.\nIn order to do create your new one and overriding the one from the strapi-helper-plugin you can do the following in the ./plugins/content-manager/admin/src/component/Edit/index.js\n``\nimport NewWysiwyg from 'components/newWysiwyg\nclass Edit extend React.Component {\n  render() {\n    return (\n       \n         {/ ... /}\n           \n\n    );\n  }\n}\n```\n    . @VasiliyPolyakov here are the available commands:\n\nnpm run setup at the root of your app will only build the admin\nnpm run setup --plugins at the root of your app will build both the admin and all the installed plugins\nnpm run setup at the root of the monorepo will install the dev environment\nnam run setup:build at the root of the monorepowill install the dev environment and build both the admin and all the plugins.\n\nHope it helps. @derrickmehaffy currently the register-pageis only displayed the first time you open the admin  see line 108 and the only way to add a custom provider using the admin is to be authenticated.\nSo, adding a social connect to the register-page means that the first user has to enable a provider manually unless we add some prompting options to the current CLI to ease the process.\nIf  \ud83d\udc4b someone  \ud83d\udc4b  from the community feels like taking care of the CLI part I would be happy to add the social connect to the admin! . Hi @brocgailit thanks for contributing!\nHowever, your PR introduces a bug with the SelectMany... I'm sure it won't be hard to debug!\nHere are the step to reproduce (I cloned your repo):\n- npm run setup:build at the root of the monorepo\n- strapi new my-app --dev and go to localhost:1337/admin\n- (I use mongo)\n- create two content-types\n  - product :\n     - name\n  - tag :\n     - name\n     - relation many-to-many with products\n- add some tag entries\n- create a product and try to associate a tag to it\nHere's the error I got:\n\n. Hi @brocgailit I tried your PR and it's now working.\nHowever, we might need @Aurelsicoko approval as well on the UI.\nNice job. hi @johannpinson this filter is used for the search especially with mongo. @johannpinson you're right this filter is not needed anymore I started to use it with Mongo to make a full test search but I went for another solution.\nIt should be removed. @lauriejim @johannpinso where are we on this PR?\nShould we try to update it and get it working with the latest release or should we close it?\nBy the way, I willing to help contributing to make this working if needed.. @johannpinson @lauriejim @Aurelsicoko Do I need to undertake some developments to finish this feature?. @nicokant we went for a full markdown support because we store 'stringified markdown' in your database. Having a simple WYSIWYG would mean that we need to store the entire contentState of the WYSIWYG in your database. \nThis might not be an issue for the user but it would mean that he has to use draft-js editor in his application, with exactly the same configuration has the one used in Strapi. Moreover, drafts is very sensitive to the applied style and not compatible with mobile which might be an issue for the end user. \nThus, leads to another problem if he wants to be mobile compatible : it is very hard to keep the same style applied to the editor when we convert its content in either HTML or Markdown.\nFor all these reasons we chose to go for a full Markdown support:\n- Image upload and display\n- Video upload and display\n- Links\n- Code block, quotes\n- Other Markdown features...\nThe editor surely needs to be improved, and support simple creation but it is not in our ROADMAP yet.\n. @sebj54 we don't use the markdown plugin because it didn't have all the needed functionalities.\nWhat we might add is an option to have either markdown or HTML.\ncc/ @Aurelsicoko. @AustinBratcher did you manage to change the admin path in production? It works fine in development.. @bringmethecode the hardcoded urls are the one used to make the api calls the admin is like a standalone app so it's intended.\nAlso you should upgrade to 14.5. @nicokant can you provide a screenshot of the non valid JSON you were able to save because I added \nsome checks in both the content-manager and the JSON input itself.\nHere's the check in the content-manager :\njs\nif (validationValue === 'json') {\n          try {\n            if (isObject(value)) {\n              value = JSON.parse(JSON.stringify(value));\n            } else {\n              errors.push({ id: 'content-manager.error.validation.json' });\n            }\n          } catch(err) {\n            errors.push({ id: 'content-manager.error.validation.json' });\n          }\n        }\nAnd the one in the InputJSON:\njs\ntestJSON = (value) => {\n    try {\n      jsonlint.parse(value);\n    } catch(err) {\n      this.markSelection(err);\n    }\n  }\nIf there's an error the admin won't let you save the data.. This feature is not on our current ROADMAP, therefore we won't undertake its development. \nHowever, if someone feels like developing such feature I'll be more than happy to help!. @bahdcoder while working on this boilerplate I have tested the providers again and it was working.\nCan you try again? If you registered to strapi with the same email address that you use when you try to register with per say 'Facebook' you need to disable the unique email address option.. Thanks @Aurelsicoko, I appreciate !. @redni noted!. @bartgarbiak I'am unable to reproduce the error can you give me a link to your repo please?. Well I'm aware that we have this error in the settings-manager plugin because it uses ref. Can you try to  create a new app and see if this happens again?\nFor debugging you need to have the dev mode set up, open the modal and see the warning in the console.. It's ok for me. Thanks @derrickmehaffy !. @BroTrue since you generated your project with the --dev flag your admin is a symlink with the monorepo which means that even if you rebuild the admin you'll need to create a new app in order to push it to production. What you can do however is run npm run setup:build at the root of the monorepo. This command will not only build the admin but also all the other plugin. Therefore the modifications you made will be effective in all your new generated apps.\nAlso, in this particular case the database connection bug will not occur since the command is run from the monorepo instead of your app.. The content-type-builder is going to be updated because the code is way too complex, if @Aurelsicoko agrees with having both inline and separated value I will add it.. I'm closing the issue since it has been fixed. So it's front-end related?\n. @derrickmehaffy \n\nFair warning this is difficult to produce, I've noticed it only when working with models with either a lot of fields, or other relations.\nCan confirm the visual bug is still happening on v14.1.1 \n\nHow can I reproduce it?. @derrickmehaffy I think it's back-end related.\nHere's what the front-end receives:\n\nMaybe @lauriejim  can help on that one.\n. I'm also pretty sure the bug occurs with strapi-hook-mongoose as well, I need to check with your app as well.... Hi @synth3tk how may I help?. @synth3tk I will try to check it out next week.. @derrickmehaffy \nHere is the layout fields reorder view\n\nAnd the edit page layout\n\n\n. With this PR the content-manager data model has been completely modified so any custom modification made to the plugin might not work properly after migrating...\n. @ArkhipovK no it's currently not possible they are still on the right side of the view. @Aurelsicoko I think the PR is ready to be reviewed...\nGood luck! \ud83d\ude05. @lauriejim please don't merge this pull request because the react-sortable-hoc package has conflict with the react-dnd one thus preventing the content-manager from being loaded. Hi @MechJosh0 I wasn't able to reproduce your issue by following your steps. Hi @MechJosh0 I can't reproduce your issue. I have followed your steps and it works correctly on my side.\nCan you check if this still occurs?. @jeanmaried Well I think that we should keep the ISO standard for the numbers and have configuration in the admin so they can be displayed as 1.222,65 instead of 1222,65.\nYou can easily fix the bug that returns 0 when you add a period by changing the line 217 in content-manager/admin/src/containers/EditPage/index.js to parseFloat(e.target.value) however after trying it it happens that it returns NaN, so I wouldn't recommend it.. Thanks all!\nI'm closing the issue then.. @Aurelsicoko @lauriejim we can base the window opening on checking if wether or not we generated the app with the --dev flag?. Hi @krsnaa I'm aware of the bug it happens because webpack is watching too many files.\nEven though the error is present the front-end server works fine. Until we fix it, you can just uninstall a plugin like the settings-manager (rm -r plugins/settings-manager) and the error goes away while developing.. These warnings don't affect the admin panel, these file aren't required for the admin to work they just add functionalities.. If you using a mac I suggest you to install watchman:\nbash\nbrew install watchman\nAlso, this PR fixes the issue.\nAlso, since the webpack still runs without major issue I suggest to close this issue.\ncc/ @lauriejim . @BroTrue the PR is ready see #1684 however, it won't be released before the 17th of August...\nIf you have installed Strapi from the monorepo you can get it before the release though\n. @derrickmehaffy we've tested it, we just need to review the PR now.... Hi @johntom what browser do you use? I tried on Chrome, Safari and Firefox and it's working. Hi @danielehrhardt I unable to reproduce your issue. I'm using Chrome.. hi @andre-av you need to refer to the CONTRIBUTING GUIDE in order to customise the admin.\nI'm closing the issue since it's a duplicate of #1006 and others.. @Aurelsicoko & @lauriejim \n\nIs there a specific design decision to make /users-permissions/permissions and /users-permissions/roles to be part of the plugin via the Rest API, and /user can be reached without the plugin prefix?\n\nWhat are your thoughts?\n. Hi @MWalid did you follow the CONTRIBUTING GUIDE recommendations?\n. As a reminder here's my workflow:\n\nCreate a repository folder and clone strapi : mkdir repositories && cd repositories && git clone git@github.com:strapi/strapi.git\nInstall strapi cd repositories/strapi && npm run setup:build\nIn another folder create a dev app mkdir sandbox && cd sandbox && strapi new my-app --dev\nUsually I remove the settings-manager in dev mode so webpack doesn't complain : cd my-app && rm -r plugins/settings-manager;\nLaunch the servers : cd my-app && strapi start\nIn another terminal window : cd my-app/admin && npm start. @MWalid webpack is watching a lot of files until I fix the FS error I recommend to delete some plugins like the settings-manager and if you don't need it the content-type-builder then if you relaunch webpack you should have the hot reload working again.. @MWalid the hot reloading is not implemented in strapi admin meaning that you'll only see your modifications when you add something in the render method. Otherwise you need to reload the view yourself. @danielehrhardt are you using the last version of strapi?. @yummyelin is it still happening? Can yo do a new setup with the following command from the monorepo npm run setup:build and check if you still have the babel-polyfill error when running the admin on the build?\n. @amit-deligence here's a boilerplate with the code you're looking for.. Hi @aneelia the bug has been fixed but not released yet...\n\nHere's a preview of the fix.\n\n. @sundaycrafts I already did!. @derrickmehaffy seeing the hard you had making this works make me think that we should redo the entire settings-manager admin.. @Aurelsicoko yes we do the following check \n```\ntry {\n  JSON.parse(JSON.stringify(value);\ncatch(e) {\n  // Display invalid json\n}\n```\n. Thanks @nobodywithbody . @jbergstroem it's really hard to make admin responsive with our current style configuration.\nIf you feel like contributing for improving this part of strapi we would really appreciate since it's not our priority for the moment.\n. Is this still happening? Can we close the issue or should I take a closer look?. @FinnFrotscher sorry for answering so late... I've been working on some other features for Strapi...\nDid you figure it out? Because honestly, I'm not sure how to do it myself and I don't have the time to try...\nMaybe you can post your solution in this issue if you get it working?. Can you give the error you get from the chrome console?\n. @sbastias @mockbirds I'm going to have a hard reproducing your bug do you have a repository or a registry to give me so I can try to see what's happening?. @sbastias you don't have the right workflow it should be the following\n```\ngit clone git@github.com:strapi/strapi.git\ncd strapi && npm run setup:build\nin another window\nstrapi new appName --dev\n````\nOnce you're done with your modifications cd strapi && npm run setup:build\nAnd in another window strapi new myapp\n. I got the same issue I'm currently debugging it...\nThe only problem is that I don't know where the error is coming from.... what's your version strapi?\n. @maturanomx  the plugins.json is created when you generate your app that's why you can't locate it in the monorepo. @MWalid  can you detail your issue a bit more, I'm not sure if you're trying to deploy a custom plugin or try to deploy a dev app as we understand it ( created with the --dev flag).\n. @MartinMuzatko I'm wondering how you managed to access the administrator role edit view it's supposed to not be available.... @MartinMuzatko regarding the original issue is this still happening because it's working as expected on my projects. @lauriejim this should be ready for your review. I'd rather see it merged than being opened for months.... @lauriejim you might be the best one to solve the conflicts on this file packages/strapi-hook-mongoose/lib/index.js. The next step should be to update the styled-component version.... @jrperdomoz this is not valid anymore.\nSee the CONTRIBUTING GUIDE  to see how to customise a plugin/ create a new one. @murkrow92 do you still have an error or did you get it working?\n. @betomoretti currently the only way to apply changes to your project is to copy paste your build folder from your custom app into your production app.. @betomoretti yes you should make just make sure that its strapi-helper-plugin dependency version is the same one as your app.\n. @betomoretti @derrickmehaffy here's how I handle the switch from a dev app to a prod \nSteps to modify the front-end\n1. Setup\nHere I'm going to detail my setup\n\nNode.js version : v.10.10.0\nNpm version : 6.4..1\nDatabase: Mongod, Postgresql\nO.S: MacOs Mojave v.10.14.1 Beta\n\nInstall the dev environment :\n```\nIn a terminal window clone the strapi repository\n$ mkdir repositories && cd repositories\n$ git clone git@github.com:strapi/strapi.git && cd strapi\n$ npm run setup\n```\n2. Once the setup is completed create a dev app\n```\nIn a new terminal window\n$ mkdir sandbox && cd sandbox\nCreate a dev app\n$ strapi new my-app --dev\nStart your db\n$ mongod\nStart the strapi server\n$ cd sandbox/my-app && strapi start\nStart the front-end server to make modify the front-end\nIn a new terminal window\n$ cd sandbox/my-app/admin && npm start\n```\n3. Switch from your dev app to a prod one\nTo switch from your dev app to your prod app you will have to build the admin and the plugins in the strapi repository and create a prod app.\n```\nIn a terminal window navigate to the strapi repository\n$ cd repositories/strapi\nBuild the plugins with your modification\n$ npm run setup:build\n```\nIf the setup completed successfully you can create a new app with your modifications\n```\nIn a new terminal window\n$ cd sandbox\n$ strapi new my-prod-app\n$ cd my-prod-app && strapi start\n```\nYou should see your modifications in your prod app and be able to deploy it.\nSteps to create a plugin and install it in all your strapi projects\nTo create a plugin and install it in all your projects follow the first two steps from above.\n1. Create a plugin\n```\nIn a terminal window\n$ cd sandbox && strapi new my-app --dev\n$ cd my-app && strapi generate:plugin my-plugin\n``\nOnce the plugin is created copy themy-pluginfolder into therepositories` folder (where strapi is cloned).\n2. Link the strapi-helper-plugin\n$ cd repositories/my-plugin && npm link strapi-helper-plugin\n3. Install the plugin in your dev app to modify it\n```\nNavigate to the dev app (generated with the --dev flag)\n$ cd sandbox/my-app/plugins\n$ ln -s ../../../repositories/my-plugin ./\n```\n4. Build the plugin admin\nTo build the plugin's admin you will have to run the following commands inside your dev app where the plugins is installed:\n$ cd sandbox/my-app\n$ npm run setup --plugins\n5. Install your plugin in a prod app\nTo install into your production application you just need to copy the folder of your plugin into your prod application plugins one.. @LeBovin @inoisy I'm unable to reproduce the bug which version of strapi are you on?\nIs the error occuring in production or in development?. @inoisy did you migrate your db (core_store) into your production db?. @inoisy I experienced the same issue deleting the plugin_content_manager_schema made it work again.. @chydaya what's your setup? Are you using the version from npm or from the monorepo?. @Moldieman can you upgrade to the latest version of strapi? Also don't forget to delete the plugin_content_manager_schema entry in your core_store.. Well there are two issues when you upgrade from v13 to v14. The first one is the data definition that content-manager expects, the definition from v13 wan't work with v14.\nThe other issue was with styled-components somehow when upgrading the content manager can't find the dependencies from the admin. #1917 fixes it.\n. So we can close the issue?. @yummyelin well the problem is the plugin_content_manager_schema which has the wrong data model for the v14 can you delete it and then recreate it?. Hi @marcellovetro what's the status of your PR?. @jmchza did you get it working after deleting the entry in the core store?. Please use the latest version of strapi this has been fixed I'm closing the issue.. @jmchza what do you mean installation for production version? You did some modifications into a plugin and you want them to be in your app that is not generated with --dev ?. The other solution would be the following\n```\ncreate a new app in dev mode\n$ strapi new my-app --dev\nwhen you're done with your modifications\n$ cd my-app && npm run setup --plugins\ncreate a prod app\n$ strapi new my-prod-app\nthen just copy the build folder into the corresponding plugins\ncheck that the build is ok and you have no babel-polyfill error\n$ cd my-prod-app && strapi-start\n``. @nickerlan can you check that Strapi is installed correctly and that you have the missing file in your node_modules?\nTo do so open a terminal window runnpm root -gcopy the path and runopen .. In the strapi folder you should see thestrapi-admin. Can you make sure thestrapi-helper-plugin` is there?\n(I've never encountered this error..).\n@jmchza after following my steps did you get the server running and also the admin available?\n. Can you upgrade to 14.1.1?. @Tonours Is it the utc props that creates weird value?\n. What is the status of this PR?\n. @lauriejim what test?. Can you make sure the autoReload config is activated?\nYou can check by in my-app/config/development/server.json file.\n{\n  \"host\": \"localhost\",\n  \"port\": 1337,\n  \"proxy\": {\n    \"enabled\": false\n  },\n  \"autoReload\": {\n    \"enabled\": true\n  },\n  \"cron\": {\n    \"enabled\": false\n  },\n  \"admin\": {\n    \"autoOpen\": false\n  }\n}. Yes!. @derrickmehaffy I'm going to remove it completely from the admin since I'm improving the way a plugin is registered...\n. @maturanomx the entry point needed to be split between the dev and production mode. The configuration weren't similar and I thought it was better to split them into separate files.\n(Also, IMO it's more understandable this way.)\nThe same thing is going to happen for the webpack config that should be different when running npm run setup:build in the monorepo and inside a generated app.\nRegarding #2025 I wanted to fix the redirection issue that made strapi admin look buggy (among other bugs). If I may add we should also update the engines.... @diana4397  It also seems that you have permissions issues...\n\n\u26a0 EACCES: permission denied, mkdir '/usr/lib/node_modules/strapi-helper-plugin/node_modules/gifsicle/vendor'. Thanks @maturanomx for your answer!. The content-type-builder is disable by default in production. This is an intended feature.. @sravanireddyl  Could you be more specific?\n. :fire: First PR from our new developer @aDEVE :fire:. @RichieMerchant your schema in the core_store might be corrupted. Can you delete your plugin_content_manager_schema document in your db and restart your server?. @avirankatzsofi Did you try a with a complete new app and db or did you migrate your data?. The error comes from the articles attribute missing in this file.\n\nHere's how to fix it\n\"articles\": {\n      \"collection\": \"article\",\n      \"via\": \"tags\"\n    }. Well the problem is that strapi doesn't write the files correctly when creating relations and this bug happens randomly or might be related to the OS.. Good news I just found the issue. I'm fixing it. Well Firefox sends plugin: true, pluginValue: ' ' in the POST request. Where chrome doesn't. @ryubro If the code mutates the global strapi models wouldn't it be better to do the following  so we're sure that the algorithm doesn't mutate the strapi global object?\nconst strapiClone = _.cloneDeep(strapi);\nconst pluginsLayout = Object.keys(strapiClone.plugins).reduce(...);\nconst tempLayout = Object.keys(strapiClone.models).filter(...);\nconst models = _.mapValues(strapiClone.models, pickData);\n// .... @lauriejim @Aurelsicoko Is it something that we should plan in the core code?\nI believe that our new hook system will allow a user to develop such feature really easily.. You will need to replace the WYSIWYG component with the CK Editor. @cuvanhung here are my thoughts on how to change the current editor:\n1. Create a dev application\nPlease refer to this issue\n2. Install CKEditor\n```\nIn your dev app\n$ cd my-app/plugins/content-manager\n$ npm install --save @ckeditor/ckeditor5-react @ckeditor/ckeditor5-build-classic\n```\n3. Create the following structure\n- my-app\n \u2514\u2500 admin\n \u2514\u2500 plugins\n        \u2514\u2500 content-manager\n               \u2514\u2500 admin\n                      \u2514\u2500 src\n                            \u2514\u2500 components\n                                   \u2514\u2500 Edit // This one already exists\n                                   \u2514\u2500 CKEditor\n                                          \u2514\u2500 index.js\n                                          \u2514\u2500 styles.scss // If needed\n                                   \u2514\u2500 CKEditorWithErrors\n                                          \u2514\u2500 index.js\n                                          \u2514\u2500 styles.scss\n4. Create the CKEditorWithError\nThis component should be the wrapper of the CKEditor which handles the :\n- <Label />\n- <CKEditor />\n- <InputDescription />\n- <InputErrors />\nNOTE :\nYou have access to these props from the Edit component:\nCKEditorWithErrors.propTypes = {\n  autoFocus: PropTypes.bool,\n  className: PropTypes.string,\n  customBootstrapClass: PropTypes.string,\n  deactivateErrorHighlight: PropTypes.bool,\n  didCheckErrors: PropTypes.bool,\n  disabled: PropTypes.bool,\n  errors: PropTypes.array,\n  errorsClassName: PropTypes.string,\n  errorsStyle: PropTypes.object,\n  inputClassName: PropTypes.string,\n  inputDescription: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.func,\n    PropTypes.shape({\n      id: PropTypes.string,\n      params: PropTypes.object,\n    }),\n  ]),\n  inputDescriptionClassName: PropTypes.string,\n  inputDescriptionStyle: PropTypes.object,\n  inputStyle: PropTypes.object,\n  label: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.func,\n    PropTypes.shape({\n      id: PropTypes.string,\n      params: PropTypes.object,\n    }),\n  ]),\n  labelClassName: PropTypes.string,\n  labelStyle: PropTypes.object,\n  name: PropTypes.string.isRequired,\n  noErrorsDescription: PropTypes.bool,\n  onBlur: PropTypes.oneOfType([\n    PropTypes.bool,\n    PropTypes.func,\n  ]),\n  onChange: PropTypes.func.isRequired,\n  placeholder: PropTypes.string,\n  resetProps: PropTypes.bool,\n  style: PropTypes.object,\n  tabIndex: PropTypes.string,\n  validations: PropTypes.object,\n  value: PropTypes.string.isRequired,\n};\nYou can refer to this file to see which props you should pass to the CKEditor.\n5. Implement the CKEditor\nPlease refer to the documentation for this part.\n6. Change the default WYSIWYG\nIn the Edit component \n```\n// ...\nimport CKEditorWithErrors from 'components/CKEditorWithErrors;\nclass Edit extends React.Component {\n  // ...\nrenderAttr = (attr, key) =>{\n    // ...\nreturn (\n <Input\n    // ...\n    customInputs={{ json: InputJSONWithErrors, wysiwyg: CKEditorWithErrors }} // Change this line\n    // ...\n  />\n);\n\n}\n```\n\nNOTES\nI haven't tried to implement it so the best I can do is give you these guidelines. According to the documentation you might need to change the webpack configuration. It's located in this package\nIf you need to change the webpack configuration you will need to install the ckeditor in the strapi-helper-plugin\nAdd the following after this line\n// ...\n{\n  'react-dnd-html5-backend': path.resolve(\n      rootAdminpath,\n      'node_modules',\n      'strapi-helper-plugin',\n      'node_modules',\n      'react-dnd-html5-backend',\n    ),\n   '@ckeditor/ckeditor5-react': path.resolve(\n      rootAdminpath,\n      'node_modules',\n      'strapi-helper-plugin',\n      'node_modules',\n      '@ckeditor/ckeditor5-react',\n    ),\n    '@ckeditor/ckeditor5-build-classic': path.resolve(\n      rootAdminpath,\n      'node_modules',\n      'strapi-helper-plugin',\n      'node_modules',\n      '@ckeditor/ckeditor5-build-classic',\n    ),\n}\nSame in this [file](https://github.com/strapi/strapi/blob/add-description-to-plugins-routes/packages/strapi-helper-plugin/lib/internals/webpack/webpack.prod.babel.js#L236-\n{\n   // ..\n    'styled-components': path.resolve(\n      rootAdminpath,\n      'node_modules',\n      'strapi-helper-plugin',\n      'node_modules',\n      'styled-components',\n    ),\n   '@ckeditor/ckeditor5-react': path.resolve(\n      rootAdminpath,\n      'node_modules',\n      'strapi-helper-plugin',\n      'node_modules',\n      '@ckeditor/ckeditor5-react',\n    ),\n    '@ckeditor/ckeditor5-build-classic': path.resolve(\n      rootAdminpath,\n      'node_modules',\n      'strapi-helper-plugin',\n      'node_modules',\n      '@ckeditor/ckeditor5-build-classic',\n    ),\nAnd finally in the webpack dll\n// ...\n{\n    'styled-components': path.resolve(rootAdminpath, 'node_modules', 'strapi-helper-plugin', 'node_modules', 'styled-components'),\n    },\n    '@ckeditor/ckeditor5-build-classic': path.resolve(rootAdminpath, 'node_modules', 'strapi-helper-plugin', 'node_modules', '@ckeditor/ckeditor5-build-classic'),\n    },\n  '@ckeditor/ckeditor5-react': path.resolve(rootAdminpath, 'node_modules', 'strapi-helper-plugin', 'node_modules', '@ckeditor/ckeditor5-react),\n    },\nDon't hesitate if you need a bit more guidelines.. @cuvanhung why don't you try to convert the markdown to html?. @brandonin do you have repo that I can check?. @Aurelsicoko \n\nCan you find some time to make a PR and update the hardcoded /admin URLs by using the strapi.backendURL variable instead?\n\nthe /admin/<endpoint> is the prefix of the \"admin\" plugin so I believe it's kind of needed.\nthe strapi.backendURL is used there https://github.com/strapi/strapi/blob/8bbccad86280d362685a1a881e8bb9762b0c74e8/packages/strapi-helper-plugin/lib/src/utils/request.js#L129-L135. I'm closing this issue since it happened on v14. I agree with @derrickmehaffy it will be easier for both the backend and the front-end. Especially when the backend breaks when editing or removing a new entry it messes up with the plugin_content_manager_schema thus breaking the content manager.. @Downloaddave the best way to revert it is a bit simpler:\nDelete the plugin_content_manager_schema document in your core_store and restart your strapi server.\n\nOut of curiosity, has there been any issues with spacing; for example creating a \"Sample Content\" content type?\nCan the above steps be used to resolve spacing as well?\n\nStrapi can't handle spacing for the moment.. Thanks @jacargentina I'll test it. @jacargentina I'm having a hard time reproducing the issue.\nI've tried to create a Blog content type with titulo and cuerpo, then I've renamed them to title and text and the app is still working great. Do you have any camelCase content type in your app?. Well the servers restart each time you modify a file, so and the content-type-builder is blocked when the option is disabled, I did set the admin: { autoOpen: false } } in the server config though. . Agreed!. Here's my proposal in order to keep the previous layout set by the user:\nIn the same file:\n```\n// Remove API attribute\n    sameApisAttrToRemove.map(attrPath => {\n      const editDisplayPath = getEditDisplayAvailableFieldsPath(attrPath);\n      // Remove the field from the available fields in the editDisplayObject\n      .unset(prevSchema.models, editDisplayPath);\n      // Check default sort and change it if needed\n      .unset(prevSchema.models, attrPath);\n      // Retrieve the api path in the schema Object\n      const apiPath = attrPath.length > 3 ? .take(attrPath, 3) : .take(attrPath, 1);\n      // Retrieve the listDisplay path in the schema Object\n      const listDisplayPath = apiPath.concat('listDisplay');\n      const prevListDisplay = .get(prevSchema.models, listDisplayPath);\n      const defaultSortPath = apiPath.concat('defaultSort');\n      const currentAttr = attrPath.slice(-1);\n      const defaultSort = .get(prevSchema.models, defaultSortPath);\n  // If the user has deleted the default sort attribute in the content type builder\n  // Replace it by new generated one from the current schema\n  if (_.includes(currentAttr, defaultSort)) {\n    _.set(prevSchema.models, defaultSortPath, _.get(schema.models, defaultSortPath));\n  }\n\n  // Update the displayed fields\n  const updatedListDisplay = prevListDisplay.filter(obj => obj.name !== currentAttr.join());\n\n  // MODIFICATIONS\n  // Retrieve the model's displayed fields for the `EditPage`\n  const fieldsPath = getEditDisplayFieldsPath(attrPath);\n  // Retrieve the previous settings\n  const prevEditDisplayFields = _.get(prevSchema.models, fieldsPath);\n  // Update the fields\n  const updatedEditDisplayFields = prevEditDisplayFields.filter(field => field !== currentAttr.join());\n // Set the new layout \n  _.set(prevSchema.models, fieldsPath, updatedEditDisplayFields);\n\n  if (updatedListDisplay.length === 0) {\n    // Update it with the one from the generated schema\n    _.set(prevSchema.models, listDisplayPath, _.get(schema.models, listDisplayPath, []));\n  } else {\n    _.set(prevSchema.models, listDisplayPath, updatedListDisplay);\n  }\n});\n\n```\nThis modification will keep the previous layout if you change an attribute from the content type builder. However the layout won't be maintained if you manually modify a content type, the algorithm needs more logic.\nWhat do you think?\n. I managed to reproduce it when I manually modify the content types. Well the problem seems to be with Firefox when running the build. The error doesn't appear in dev mode (on localhost:4000).. It's working on my side with Chrome but not with Firefox.... @mnlbox the fix I made should also fix #1271.\n@Dogtiti there's a PR open #2229 until this is released you can just take the code and run the following command at the root of your project npm run setup your app should work properly after that.. It's weird is that's it's working on my side in both Firefox and Chrome.. In order to display the WYSIWYG you will need to migrate your core_store collection\n. I have tested your PR but I receive an error after the forgot password email has been sent. Can you check?. I'm going to need more info do you have a repo to share?. @dannydtk I manage to reproduce the bug.\nI have found a way to fix it, you can make the following changes :\nPath -: ./plugins/content-manager/admin/src/components/TableRow\n```\ngetDisplayedValue(type, value, name) {\n  if (!value) {\n    return '-';\n  }\n// ...\n}\n``\nThen you'll just need to runnpm run setup --plugins` at the root of your app.\n. @jacargentina \n\ncypress tests are ready for test changes like this, right?\n\nI'm not sure that's something we would have to check.... Do you have any error on the chrome console?. @pauldariye great! Can we close the issue then?. @kenn44 there is a PR open #2229 you can directly apply the modification in your project and run npm run setup --plugins at the root of your project. @stiko There's a PR waiting to be merged that fixes this bug #2203 you can apply the modifications directly in your project and the bug won't happen again.. @slecorvaisier It's not related to #1912 can you try to rebuild your app? npm run setup --plugins at the root of your strapi project?. I don't think that this PR adds value to the existing codebase I rather close it.. @quangchien the url is wrong it should be /admin/plugins/users-permissions/auth/register to enable the register page you will need to modify the following file:\nhttps://github.com/strapi/strapi/blob/d377da29cab7f59e9d721eda28dd2de9e7e47715/packages/strapi-admin/admin/src/containers/AdminPage/index.js#L98-L105. Yes exactly!. It should have been fixed in 14.5\n\nI notice that on browser refresh after login, the following request does not happen:\nhttp://localhost:1337/content-manager/models , thus the content types are not loaded. I see this request happens in plugins/content-manager/bootstrap.js, but seems is only running once after logging in. Why?\n\nIf you have the users-permissions plugin installed, you need to be authenticated to get the data so the request is made after login in.\n. @nom4da do you have a repository I can check I'm unable to reproduce the bug. @nom4da your app is not using the latest version of strapi.\nhttps://github.com/nom4da/strapitest/blob/d21a114e759eb202f1dd9acac57517dff6340cb2/admin/package.json#L78\n. Did you migrate your core_store?. @derrickmehaffy it fixes a lot of issues.... @halower here are the commands that allows to build your plugins.\n\nnpm run setup:build only available at the root of the Strapi repository it will install Strapi and build the plugins that are in the monorepository\nSee https://github.com/strapi/strapi/blob/b16fd8c452d7d7f7a16ba6ae5b204a27855a0041/scripts/setup.js#L166\n\nSo if you want to be able to build your plugin from the monorepo you will need to prefix it by strapi-plugin, put it inside the ./packages directory and add it to the pluginsToBuild Array.\n\nnpm run setup if used inside the strapi monorepo it will only install strapi globally\nnpm run setup when launched at the root of your app it will install all the dependencies and build only the strapi-admin (./admin folder of your app).\nnpm run setup --plugins is only available in a generated application. This command will install all the dependencies of you application and will build all the plugins that are inside your app.. @donaldr this issue has been fixed in 14.5 can you make sure you upgraded you app?\n\nAs you can see in the code I use lodash to make sure this bug is not raised again.\nhttps://github.com/strapi/strapi/blob/b16fd8c452d7d7f7a16ba6ae5b204a27855a0041/packages/strapi-plugin-content-manager/admin/src/components/TableRow/index.js#L33-L66. @henrych4 thanks for reporting it I've noticed it and I think I will simply remove this from the admin.. We can merge this PR but I think that I will remove this option, since it just remove the content types from the left menu but the views are still accessible by setting the URL directly in the browser.. @henrych4 the issue has been fixed is #2325 I changed the recursive. I've looked into the code from #2356 and I think that your recursive is way better!\nRegarding \n\nThe content manager should show those content types on the LeftMenu.\nThose content types are editable through the roles & permissions link on the left menu and I'm not sure @Aurelsicoko wants them to appear in it.\nwhy don't we get the data from layout (this.props.schema.layout) instead of from models\n\nThat's something we can do but you'll need some logic to generate the correct urls for the SettingPage since I use the url to update the correct setting in the content type.. @BroTrue do you have repository that I can check?\n. You're current project . You can apply the changes in the corresponding file of your app and run npm run setup --plugins at the root of your project.. @JB1905 thanks for reporting this issue, if you feel like submitting a PR that would be awesome!. @anderson916 please use node 10 . I think this is related to #2413 because the view queries 20 items by default. . @BroTrue you have an issue with your plugin_content_manager_schema you'll need to remove the resetPasswordToken from your view. You can ping me on slack so I can explain you how to do that directly from your UI.. Did it happen after migrating your app from 14.5 to 15?. So each time you create a new project with a clean db and use ssl?. As seen with @gksander as said by @BroTrue  the bug is due to the ssl configuration and not with the content-manager itself.\nA mask is applied for all requests that aren't coming from admin (with a header :x-forwarded-host': 'strapi') so the password attribute from the User model is hidden and the content-manager is expecting it to generate the view.\nHere's the line:\nhttps://github.com/strapi/strapi/blob/585800b7b98093f596759b296a43f89c491d4f4f/packages/strapi/lib/middlewares/mask/index.js#L76-L78\n. @lauriejim @Aurelsicoko should we add this config in our documentation?. Hi @OriginUnknown Do you have a demo repository that we can check?. @lauriejim because shelljs presents a code injection vulnerability that we are aware of since we chose to use it.. Can't we add the missign JSON files in the plugins instead?\n. Thanks @derrickmehaffy \n. WelThe prop-types dependency is installed in the strapi-helper-plugin package which the admin has in its dependencies like React and so on. So I sure that the installation failed because you are on a Windows. @lauriejim and @Aurelsicoko fixed the installation on Windows.\n@lauriejim I'll let you close the issue if you feel like so, I'm convinced that React-ga is not the primary cause of a failed install.. @mnlbox, the other option would be to add the createdAt and updatedAt fields in the schema object this way you don't have to modify the plugin's core code.\nIf you use Mongoose add the following after this line \nhttps://github.com/strapi/strapi/blob/e4dc27be54f36a956a06d35cab5f1ae11f2b9836/packages/strapi-plugin-content-manager/config/functions/bootstrap.js#L119\nschemaModel.attributes.createdAt = {\n  type: 'date'\n };\nschemaModel.attributes.updatedAt = {\n  type: 'date'\n};\nElse:\nschemaModel.attributes.created_at = {\n  type: 'date'\n };\nschemaModel.attributes.updated_at = {\n  type: 'date'\n};\nThen, if you delete your plugin_content-manager_schema document in your core_store, restart your server these fields should be available in the  setting view of the content manager.. @abdonrd  I have tried something but the back-end doesn't allow to save an enumeration field has null.\nI'm not sure if this is what you expect but here's my attempt and some code:\n{\n  \"connection\": \"default\",\n  \"collectionName\": \"product\",\n  \"info\": {\n    \"name\": \"product\",\n    \"description\": \"\"\n  },\n  \"options\": {\n    \"timestamps\": true\n  },\n  \"attributes\": {\n    \"name\": {\n      \"default\": \"\",\n      \"type\": \"string\"\n    },\n    \"enum\": {\n      \"default\": \"\",\n      \"type\": \"enumeration\",\n      \"enum\": [\n        \"a\",\n        \"b\",\n        \"c\"\n      ]\n    }\n  }\n}\nFront-end modifications\n```\n// File: strapi-plugin-content-manager/admin/src/containers/EditPage/index.js\nrenderEdit = () => {\n  // ...\n  \n}\n// File: strapi-plugin-content-manager/admin/src/components/Edit/index.js\nclass Edit extends React.Component {\n  state = { shouldUpdateEnumFields: true };\ncomponentDidUpdate() {\n    if (this.state.shouldUpdateEnumFields && this.props.isCreating) {\n      this.orderAttributes()\n        .forEach(attr => {\n          const details = get(this.props.schema, ['editDisplay', 'availableFields', attr]);\n          // Retrieve the input's bootstrapClass from the layout\n          const layout = this.getInputLayout(attr);\n          const appearance = get(layout, 'appearance');\n          const type = !isEmpty(appearance) ? appearance.toLowerCase() : get(layout, 'type', getInputType(details.type));\n      // TODO: need to handle required && default value ....\n      if (type === 'select') {\n        const target = {\n          type: 'select',\n          name: attr,\n          value: '',\n        };\n\n        this.props.onChange({ target });\n      }\n    });\n\n    this.setState({ shouldUpdateEnumFields: false });\n}\n\n}\n}\n```\n. @abdonrd the selectOptions isn't read by the logic you need to send the value in the target see my comment in #2531. The only problem is trying to set the enum field with an empty value, I unable to make it with Mongoose and I pretty sure it will work the same with bookshelf. @Aurelsicoko it definitely is the correct behaviour but I think that we should add a warning or something that says \"Hey you can't create a Tag.js controller in the './api/product/controllers' folder since you already have a tag api..\".\nIn fact with the example from above I'm expecting to hit the ./api/product/controllers/Tag.js dummy method when requesting /dummy where in fact strapi tries to find the method in ./api/tag/controllers/Tag.js which doesn't exist. Thus, leading to an error. I have read the issue but it doesn't provide a solution we are kind of stuck, so what should we do about this? I have noticed that you have removed the snyk test from the travis.yml file.\nMy understanding is that only the people from the Strapi organisation can run this script so here's my kind of 'hacky' proposal.\nWhy don't we run this script only for people that belong to the organisation this way we can still check the dependencies using snyk?\nThis hacky solution will require to hard code the name of the people the file.. Hi @odelucca do you have a repo that I can check I need a more informations.... @odelucca \n\nThere is a way to add a config to ignore a specific plugin or load custom configs on the Webpack?\n\nCurrently no, unless you modify this file so you don't build your custom plugin. You will need to build it manually.\nThe other way to get rid of the babel-polyfill error would be to put your dependency in the strapi-helper-plugin and to make it available as follows:\n\n\nModify the webpack.dev.babel.js\n'html-react-parser': path.resolve(\n  rootAdminpath,\n  node_modules',\n  'strapi-helper-plugin',\n  'node_modules',\n   'html-react-parser',\n),\n\n\nModify the webpack.dll.babel.js\n\n\n'html-react-parser': path.resolve(\n  rootAdminpath,\n  node_modules',\n  'strapi-helper-plugin',\n  'node_modules',\n   'html-react-parser',\n),\n\nModify the webpack.prod.babel.js\n\n'html-react-parser': path.resolve(\n  rootAdminpath,\n  node_modules',\n  'strapi-helper-plugin',\n  'node_modules',\n   'html-react-parser',\n),\nHope this helps\n. I completely agree, I need to talk with @Aurelsicoko to see if we can include more sorting features on that plugin.. Well I'm not sure that this is actually a bug. Let's say that you have a model with only one field for instance name that is not required. Since the field is not required the user is allowed to create an empty entry, therefore the content-manager lets you create such entry.\nI can add a delay that will prevent you from clicking add new field and save too rapidly.. @Aurelsicoko ?. Hi @arogyakoirala thanks for you contribution it's really impressive!\nI have tested it and I have noticed a few minor bugs:\n- I'm unable to delete a created line or tile\n- There are some propTypes errors in the console (string instead of object).\nDo you want me to take a look?\nThanks a lot!. Hi @arogyakoirala thanks for your inputs here are some answers:\n\nWhat is the right way to use CDNs for JS and CSS in strapi? Im not sure if i followed standard practices for the same.\n\nMaybe you can try something like this in the content-manager/admin/src/components/InputGJSONWithErrors:\nimport '<my-package/dist/<stylesheet>.css';\n// ... rest of the code\nIf it doesn't work, well you can try to create the tag manually and insert it into the dom or just hardcode it in the index.html like you did. I prefer the first option which is to import the stylesheet.\n\nCurrently I've used Maptiler Cloud for hosting my vector tiles. This service allows upto 100000 free views in a month. If needed I can set up a map tile server for the same.\n\nI think that @lauriejim or @Aurelsicoko are the one who could answer this question\n\nAll of my changes can be found at my fork of strapi here.\n\nThat's awesome thanks for providing your fork! I'll take a look into it!\n\nI'm looking forward to someone from strapi going through my code and pointing out blunders, mistakes so that I can work on the same. I've also submitted a pull request to facilitate the same.\n\nYou can DM on Slack (@soupette) I answer most of the time!\nThanks again for providing a such detailed issue!. Hi @Dogtiti can you tell me where you installed the editor? Maybe provide me with your fork?. Ok I might try to install antd and check it out. \nFor the upload component can't you make one or use this one. Since you're using Windows can you try uninstalling strapi with yarn and install it with npm instead?. @AminZibayi so there's no issue anymore?. Well I'm not sure it's related to Strapi.\ncontributing with windows is kind of difficult currently. @Uter1007 I found the bug!\nSomehow an endPoint has been removed from this file.\nTo solve the issue you can apply this PR #2571 directly in your app.. There should be an endPoint in the content type builder that allows you to retrieve one model schema.\nOr you can create one in the documentation plugin that retrieves all the components from your full_documentation.json file. @mnlbox I haven't submitted the PR yet I'm still thinking on what should be the correct implementation for this.\nI have noticed that when you create a JSON field that is required with the content-type-builder it sets the default key as an empty string in your model.settings.json which I think is incorrect.\nSo, in order to solve this issue I think that the default value should be an empty object when the required option is selected and null in the other case.\nThis way we won't have to make any update in the content-manager.. @sskhokhar this is not a bug, you need to set your hosts in the plugin's settings file.\nYou can refer to the documentation or the article if you need more informations about this plugin.. @derrickmehaffy it's still very likely to change depending on @Aurelsicoko feedback...\nBut you can see that I have added a way to display the wysiwyg directly from the ctm\n\n. @derrickmehaffy \n\nMore than likely this package needs to be moved to the Strapi-Helper plugin. \n\nIt needs to be moved to the strapi-helper-plugin if it's going to be used by the UI of others plugins or it causes a babel-polyfill error. A lot of dependencies are being put in this packages and  we would like to reduce the amount of its dependencies... What about API documentation?. Well if the password is not available how do you create a new user?. I'm unable to reproduce the bug on my side what I can tell you is that the error is coming from these lines: https://github.com/strapi/strapi/blob/34ff5a3680ab95472f4511aa8fa84fce800267aa/packages/strapi-plugin-content-manager/admin/src/containers/EditPage/saga.js#L158-L173\n. @derrickmehaffy and don't worry we will split that schema and simplify it a lot!. I also think that the model's layout should be added in the strapi-admin/config/layout. I think the real problem is the size of the builds, they are way too big! We will work on reducing their size but we need to first develop the new plugin system which also comes with a new admin lifecycle (you can check this PR to have an idea), then we need to integrate the new UI lib in all the plugins.. The PR is ready for testing, I tried to make the Cypress work again so some of them work some don't...\nI do believe that such end-to-end testing is not relevant at the moment since the routing the internals api aren't implemented it yet and more important they really need to be updated so reflect the new lifecycle.\nHere is the current result of these tests (most of them work):\n\nAnyway, good luck for reviewing it!\nNOTE:\nThe documentation hasn't been made yet since the hook priority hasn't been developed yet. Currently all hooks are applied and there's no possibility to specify that just one hook needs to be applied. This feature will come in another PR.. The lifecycles file should be added to all plugins. Well the enum behavior is quite tricky since some users wants to have the first item auto selected and others don't. I think the best to deal with it until we figure out what is the best solution is to set your first item as the default value in your .settings.json.\nIt will prevent the error from happening.\ncc/ @Aurelsicoko . ok, I'll add it then. Well I think that I should fix the select first it's not normal that you can't select the first item\n\n@soupette If default is empty default: \"\" then nothing should be auto select & nothing should be sent in the POST/PUT request IMO\n\nMy understanding is that and enum always needs a value right ?. I think that using the default value might be the best option!. Good job!. I'm just questioning the use of filtering by id, maybe you can use the search?. Well for the moment we don't support camelCase api so I'd say it's ok for me.... > please ignore first pull request.\n\nI added only english translations for error messages.\nis it possible to generate translations for other languages automatically ?? or do we need to write manually ??\n\nHi @dev-drprasad we have to do it manually although there is an open PR Crowdin.. Thanks @EpicUsaMan for reporting the issue!\nDo you feel like submitting a PR to fix it?. The color will be added in the global variables. I got lazy to write this.props.styles on each className... \nNo problem on my side to remove it . Agree on that one that's why there is a // TODO comment.\nThis feature is not fully implemented plus I also need the color rules.. Maybe something like this would be a shorter version :\n{_.map(this.links, (link, key) => <LeftMenuLink key={key} icon={link.icon} label={messages[link.label].id} destination={/${_.kebabCase(link.label)} /> )}. I think you forgot to delete 'eiuaei' . Because I thought that the function naming was good enough to understand what the function does. Well since the naming is explicit and the code within is easy to understand I thought that the comments were useless...\n. Yes, BTW it's a component from the settings-manager\n. This code doesn't exist anymore. BTW it's a component from the settings-manager. Tried and it didn't work that's why there was a const path = 'bootstrap'; that I forgot to delete. Can't do that  since passing a fileName parameter didn't work\n. The plugin is in charge of telling which component to render if we prevent it from being displayed. In this case passing such logic is a bit more complex and since we're rendering stateless component  instead of the plugin itself I thought that having two different blockers or whatever other component provided by the plugin is a great deal. \n. It's for information purpose\n. It's for information purpose. To insert fontawesome dot icon\n. I'll go with :\njs\ncase EMPTY_STORE:\n  return initialState;. Not yet it will be on another branch where I need to fix some mistakes in the doc. In this particular case I shouldn't because I send the request when before you saved your first content type to check whether or not your table exists.... There is no better way  because I dont't have access to the match.params props in this container.. Should be ok now\n. This key is made to remove the warning messages in the console. Exactly!. because plugin.description is the translation needed in the plugin package.json whereas Plugin is the name of the component. I'd say that the popUpForm name doesn't respect the rule. For the time being we haven't managed the policy dynamic either on the frontend or the backend. Nevertheless your point is taken in consideration. You will be redirected to page 0. This id for the notification should be different than the deletePlugin() method. A translation message id should be passed to the  notification. Same here. I don't understand why you need to add the strapi.backendURL to your URL since the request helper already handles it : call(request, '/content-manager/model', { method: 'GET' }) would be better. You don't need the strapi.backendURL in your requests since the request helper already handles it. Why do you need the state here?. This file should be deleted since we use the strapi-helper-plugin's request helper. An translation message id should be provided to the notification. Same here. Same here. This file should be deleted since it's auto generated when running strapi start. It would be great to sort the file by function's name. We have an eslint configurations that forces us to do so in front-end development and I feel that we should do the same with the backend. Your password cannot .... This file should be sorted by function's name. Same here\n. Impossible to determine the ORM used for the model ${model}.. No we can't because you can't do: undefined.concat(....). I think it would be better to prompt Choose your main database. the app has been connected to the database successfully. the app has been connected to the database successfully. Database connection has failed! Make sure your database is running. Database connection has failed! Make sure your database is running. Database connection has failed! Make sure your database is running. Same here\n. databaseChoices. \nconnection: Object.assign(scope.database, {\n    user: scope.database.username\n  }),. You're right but it's not related  with this PR. There's no parameter needed in this function. Here's its code :\n```\nget(key) {\n    if (localStorage && localStorage.getItem(key)) {\n      return parse(localStorage.getItem(key));\n    }\nif (sessionStorage && sessionStorage.getItem(key)) {\n  return parse(sessionStorage.getItem(key));\n}\n\nreturn null;\n\n},\n```. Well while testing we found out that the redirecURI has to be editable. This function is used only for displaying what the user has to set in his providers application's configurations.\nShould I add a comment on this method to reflect that?. Because if I destructure the object in the other file the length of the function is way too long. See https://github.com/strapi/strapi/pull/564. This will be fixed in https://github.com/strapi/strapi/pull/564. Agree I'll move this function in the utils but I prefer to do it once the lib is completely implemented to avoid conflicts and make sure I have all the validations set. I'll keep that in mind when I will implement this input in the content manager.\nfor the time being I feel that it will take me too much time to test another logic.\nI'll add a note in the code. I receive an object here and I need to update my reducer according to the pictures received. If the user uploads multiple files I receive something like this { 0: FIleList, 1: FileList, ... }. ReactGA.pageview(nextProps.location.pathname). No because we might need it again when we analyze webpack. yes. Agree with you but the format should be uppercased. Fixed in uppercase. Before writing your issue make sure you are using. The latest. As discussed with @Aurelsicoko and stated in the description we're going to block it from the front end for the time being.\nWe will block them when we develop the plugins' interdependencies. This variable wasn't used so I commented it in order to discuss if whether or not we needed to keep it.. Oh yes you're right! Thanks. I think we don't need this check since there is no sizeLimit with this plugin. I'm aware that this hook is used a lot in the codebase but since it is going to be deprecated can you do the following modifications:\n``\ncomponentDidUpdate(prevProps) {\n  if (prevProps.match.params.env !== this.props.match.params.env) {\n    this.getSettings(this.props);\n  }\n if (prevProps.submitSuccess !== this.props.submitSuccess) {\n    this.props.history.push(/plugins/email/configurations/${this.props.match.params.env});\n  }\n}\n. before submitting. First off all. The command has changed it's nownpm run setup. We don't need to pass the connector since thepackageManagerwill return eithernpm install --prefix ${path}oryarn --cwd ${path} addand we add the connector to install in the next line.. @maturano without the--dev` it's impossible to start the frontend server therefore it's really hard to see what you're developing...\nCurrently, the only way to include modifications into your project is to generate a new app with that includes the modifications made and copy/paste the corresponding folder into your current project.\n. I also agree but in all the GitHub issues I always say to run this command at the root of your strapi project (old habits die hard) therefore I think that the documentation should be similar as the answer given on GitHub . Agreed!. I'm not sure this log is relevant.... You should use something like an id as key for the SortableItem see this article   . this.setState(prevState => ({\n  options: prevState.options.filter(el => !((el.value._id || el.value.id) === (value.value.id || value.value._id)))\n}));. Same here\nthis.setState(prevState => ({\n  options: prevState.options.concat(...)\n}));. You shouldn't commit this file. It's now handled by this line const isMorphSide = _.get(schemaModel, ['relations', relation, 'nature'], '').toLowerCase().includes('morp') &&  _.get(schemaModel, ['relations', relation, relation]) !== undefined; in this file. Therefore it's not needed anymore. Done. Done. Done. There's a space missing before {. The defaultProps needs to be sorted . {this.isVisibleDetails() && (\n  <InputFileDetails\n    file={value[this.state.position] || value[0] || value}\n    multiple={multiple}\n    number={value.length}\n    onFileDelete={this.handleFileDelete}\n  />\n)}. Since the componentWillReceiveProps lifecycle will be deprecated can you change it to componentDidUpdate instead. I want to update the entire input library in the future to remove this lifecycle.. I'm just wondering if this PR will impact the hardcoded format or the database will convert it naturally?. Can you change this line with const random = Math.random().toString(36).substring(7);. You might need to clone the attributesDisplay before splicing it. I remember that I used to do the same logic and it caused the attributesForm to be buggy.\n```\nconst attributesDisplay = (() => {\n  const list = forms.attributesDisplay.items;\nif (!this.context.plugins.toJS().hasOwnProperty('upload')) {\n     return list.filter(obj => obj.type !== 'media';\n  }\n   return list;\n})();\n``. I'm wondering why you changed the redirectToChoose param?. Because when we added the lint the script was slightly different and those files did not pass the pre-commit hook... And I did have the time to adapt the code to respect the lint config. I know that this is a WIP but we have recoded thecontent-manager` plugin in order to prepare its extensibility (allowing to add custom code without modifying the core one).\nTherefore, we start to follow  conventions and tried to use as much functional programming as possible.\nAs the one responsible for the front-end I can't allow this.componentDidMount() in the codebase, you should either use the componentDidUpdate() lifecycle or the sagas.. @maturanomx package updated!. Good catch. We use redux-sagas therefore we go for generators instead of async/await.\nHere's an explanation. Well by changing this it doesn't keep the previous layout of the editPage and also it keeps the previous relations of the content type.\nI'm having a hard time reproducing the bug everything works as expected when using content types in lowercase.\nI think it has something to do with camelCase ones or the one containing white spaces. . There's a space missing before {params: {} }. I think it will be better to create a method to set the form so you can use it in both componentDidMount and componentDidUpdate\n```\ncomponentDidMount() {\n  auth.clearAppStorage();\n  this.setForm();\n}\nsetForm = () => {\n  const { location: { search }, match: { params: { authType, id } }, setForm } = this.props;\n  const params  : search ? replace(search, '?code=', '') : id;\n  setForm(authType, params);\n}\n```. With the method from above you can do \nif (...) {\n  this.setForm();\n  hideLoginErrorsInput(false);\n}. I think a more explicit naming like getAuthType would be more understandable than isAuthType. Like @maturanomx said can you put the destructured object on a multi line?\nconst {\n  didCheckErrors,\n  formErrors,\n  match: {\n    {\n       params,\n       // ...\n    }\n  }\n};. This condition is not really explicit, maybe we can put in a method isForgotEmailSent ?. I agree. You need an extra line before the if it makes the code more readable.. Well with the modifications from above you don't need to modify this line.. if (submitSuccess) { //... } is enough as a check here.\n(Plus there's an extra line missing before the condition \ud83d\ude09). Can you add some comments here so we can remember why we need this check?. To keep the alignement 11px is better\n\n. adminPath and rootAdminPath seems similar unless you're referring to a plugin's admin?\nI think you need to add comments on that one.. If resolveApp is used only once wouldn't it be better to write appIndexJs: path.resolve(appDirectory, 'src/index.js')?. module.exports = {\n  adminPath,\n  appPath,\n// ...\n};. I think the object destructuring makes the configuration harder to understand here.. You should put this logic un your paths.js file. Same here this path should be imported from your paths.js. Why don't you use your paths.js to get the rootAdminPath ?. Is this one different?. Why don't you use the dependencies.json file you created above?. Why did you add this dependency?. You should delete this line. You're right this is a typo. I'm creating new token every new test. It's weird it has been changed here https://github.com/strapi/strapi/blob/add-cypress/packages/strapi-plugin-users-permissions/cypress/integration/login_specs.js. Same https://github.com/strapi/strapi/blob/add-cypress/packages/strapi-plugin-users-permissions/cypress/integration/register_specs.js. https://github.com/strapi/strapi/blob/d60b5c5b34d4aa72c43083460ad89c927485e487/package.json#L9-L11. This file needs to de removed.. This file needs to be removed as well.. Same for this file. Same for this file. Same for this file. Typo: _.includes(src, '/documentation') ?. We should create a function here. @lauriejim can you confirm that this is not a breaking change?. @lauriejim same here. This object contains the models from the ./api folder. And by using strapi.api[:name] you can access the controllers, services, the model definition and also the configurations of the ./api/:name folder. You can check all the available providers developed by the community on npmjs.org. I was trying to find a synonym for API since what you mean by api is model I thought it was appropriate. I'm just wondering if you added the npm run setup command to avoid the link of the strapi-helper-plugin in the generated plugin?. @KempfCreative your steps looks good the setup scripts in the admin takes care of linking the strapi-helper-plugin .. Maybe we can add a check and a warning in the server if the file is missing. So the user would know that the front-end cannot work without the plugins.json file?. Here's my work so far:\n```\n const value = attribute.default ? attribute.default : attribute[0];\n            // Apparently you can't set the value to either null or '' if this options isn't set in your model\n        const target = {\n         type: 'select',\n         name: attr,\n         value,\n       };\n\n```. Well with the new code we programmatically set the value if the user didn't set a default one in his model.. I know that we often use such functions in the codebase to check whether or not a file or a folder does exactly exist like in here https://github.com/strapi/strapi/blob/39f4d8884f5d963dd00454b04e19f17cce9f2f4d/packages/strapi-plugin-documentation/services/Documentation.js#L35-L40\n@Aurelsicoko I think that not only we @pierreburgy should change this function and put it the strapi-utils.... I haven't specified any format here and I don't know if I should specify one...\n@lauriejim @Aurelsicoko do you confirm that it matches what the back-end is expecting?. @derrickmehaffy This PR fixes the time and date picker that were unusable in the front-end.\nI have tested it with mongo and I know that it works.\nRegarding bookshelf I think that it should be the back-end that should take care of formatting the received date instead of the front-end that way users won't have to duplicate the admin logic in their client app.\ncc/ @lauriejim . I think you should change it to:\n{ \"name\": \"content-type-builder.form.attribute.item.number.type.biginteger\", \"value\": \"biginteger\" },\n. No I need to combine the routers which is going to be made in another PR.\nYou will see comments like the following that to explain that I will do it in another PR\n// TODO fix router (Other PR) <======\n  // const loadDataWatcher = yield fork(takeLatest, GET_DATA, dataGet);\nThe app works great without canceling the sagas (they are being ejected when the component umount so it's not a huge issue).\nTo be honest I haven't looked at the router too closely since I'm going to remove the react-router-redux which is deprecated.. I'm not sure the layout class exist in your styles.scss file therefore I don't think it's needed.. If you could add a line there it would be awesome.. Well I think that your layoutLink instance can return the link wrapped in a <li />\nThis way this method can be changed to \nrenderNavLinks = () => [this.layoutLink(), ...this.retrieveLinksContainerComponents()];\n. I believe it is due to her editor's configuration with prettier. Should render. Should not render . Nope. Because it doesn't freeze the app the reducer props does which is tested in a separated file.. Why do you need this value to be true?. If you are using fetch instead of the request helper (which is fine) you don't need these arguments:\nyield call(\n  fetch,\n  requestURL,\n  {\n     method: 'POST',\n     body: JSON.stringify({ event, uuid, properties }),\n       headers: {\n         'Content-Type': 'application/json',\n       },\n    },\n);\n. It doesn't have to be since we change the absolute path to relative ones. webpack dependency is not needed. This should be a component. I think the layout property used in the leftmenu should be removed since we are going to develop an internal api that will allow to customize it better than with this config. With the previous comment, this endpoint should be deleted. More tests need to be added to this component. At least one that testes the shouldLoad instance. Since a key is added here some should also be added to the other children. Some specific generators should be added for the strapi-admin. This should be removed. the injectHook, registerPlugin should also be added to this file it will allow easier mocking. This should be another variable because it messes with the currentEnvironment so some part of the UI aren't rendered if we have both the webpack server and the tests running at the same time.. Same here. it should return true if the uuid props is a string.. it should return true if the uuid prop is true (wrong copy/paster). should return the marketplace container. should return the pluginDispatcher component (wrong copy/paste). should start task to watch for GET_INIT_DATA and GET_SECURED_DATA actions. Same here about the NODE_ENV. I'm not sure the router context is needed anymore. The router needs to be updated in another PR. Side note this check has been added so we can still switch to the old AdminPage container until all features have been merged.\nThese lines have been added in line files that uses the plugins props.. className: null. the global props should be the same as the one in the Admin container. To do so a commonPropTypes folder should be created so we can avoid code duplication.\ncc/ @Aurelsicoko @lauriejim . Same here there's a package for that but I'm not sure we should use it. We could simply put them in the commonPropTypes folder.. does not match the pluginId. These line should not be removed at the moment since we need them in case we want to switch to the old AdminPage container.... This file really needs better comments. We can refactor these lines. This file should be tested but in another PR once the priority has been developed. Is this really needed?\nThis layout doesn't refer to any existing model plus I think it will mess with the schema object needed for the ctm that it already a bit buggy.. I think it should be \n``\nhandleGoToAdministrator = () => {\n     this.context.router.history.push({\n      pathname:/plugins/content-manager/administrator,\n      search: '?source=admin',\n    });\n}. to be able to customize the menu.... Well I'm not sure it's the purpose of this PR. I didn't redo the entire algo since it's going to change when the models will be retrieved by the admin container. See the comment about thesecuredData: {}in the reducer.. Same Here I have just fixed the bug nothing more. The content-type-builder needs a way better update than this line of code.. https://reactjs.org/docs/refs-and-the-dom.html#creating-refs. Some legacy I didn't spend much time on the DOM... IF I recall it's because the nav also has a hug z-index... Sure with a constant but it was harder to test than with an instance..const { end, startTime  } = storedVideo ? storedVideo.find(v => v.order === video.order) : { end: false, startTime: 0}; .end,.startTime,`. Maybe we can pass the keys that we don't want to delete. But it will subject to another PR.. It wrapped in a describe so I believe that the naming is correct.. It wrapped in a describe so I believe that the naming is correct.. The only rule we have is lib first, then relative path, absolute path. Will be subject to another PR. https://github.com/strapi/strapi/blob/f5ab26fb466741abc9d1d4e60c2788840001bd12/packages/strapi-admin/admin/src/containers/Admin/index.js#L199-L208. https://github.com/strapi/strapi/blob/f5ab26fb466741abc9d1d4e60c2788840001bd12/packages/strapi-admin/admin/src/containers/PluginDispatcher/index.js#L32. I do it manually . Well the admin doesn't need the plugin Id for instance, the selectors are a bit different and so on.\nSo if I find the time I'll submit a PR with some dedicated generators. Why is it added to the admin dependencies?. You don't need to pass the context in props.\nYou should use the following instead\nPageFooter.contextTypes = {\n emitEvent: PropTypes.func,\n};. Same here. Because it's the only way I found to have a single store for all the containers.\nBefore the injectReducer Hoc was in the strapi-helper-plugin so it was scoped by plugin instead of being global...\nThe only way I found is to put this hoc in the global strapi. The other components state is going to be the way we inject components into plugin A from plugin B.\n. I totally agree with, the way we injectComponents from a plugin is going to change, it is going to be very similar to the way we run the hooks. Agree I'll update the all the tests!. Why do you think it's more complex? You way implies that I need to recreate a specific state for each test? \n. Agree I'll update the generators on another PR. Well I think it's safe to remove them. Can you make the following update so we don't have to specify the name of the plugin?\n```\nimport pluginId from '../../pluginId';\nif (isObject(message)) {\n  message = { ...message, id: ${pluginId}.${message.id} };\n}\n```. ",
    "umarfarook882": "\nWhat front-end framework should we use for the extendable admin panel:\nAnswer: I suggest Vue Js, its simple and getting better in front-end frame works.\n\n@soupette  is there any specific reason why the core members choose to go for React JS?. ",
    "emahuni": "Guys at least build a Vuejs front-end it's the in thing and simpler to work with. what you are saying is very true guys, but I am not saying completely remove or replace the react implementation. What I am saying is provide an option. You see this project started a long time ago, but it's not yet done. Don't you think that the reason might be the unnecessary complexity of the tools being used? \nFor example, I used to work with php and smarty templates a lot, had many projects some that are being used by medical organisations at the moment. But developing simplest things such as websockets, speed improvements and changing of views and the like was a huge pain coz I was using very old tech which i was saying it's what I know and trying to learn something new to improve speed of production was a waste of time. But boy was i wrong. \nI learnt about VueJS thru Laravel I quickly changed my mind since things i wanted to do were much more direct and simpler. I then noticed that I was bobbing back and forth between js (for vuejs) and php(for laravel) then decided to go all js. Then came in Node. Boy was I in for a surprise. Things got even simpler. \nMy point is that the speed at which i now develop has tremendously improved thanks to simpler well thought thru implementations such as vuejs. I have noticed the same with Strapi coz i want it for a backend. I was using feathersJs, but i think strapi is much simpler to reason about though the community around feathers is greater etc. There are a lot of things Strapi has that feathers cannot be, though the main punch is simplicity.\nStrapi is more of a Vue's cousin. Take a look at feathersjs and compare it with Strapi. they more or less do nearly the same thing. however, Strapi is very very simple to work with, regardless of the admin end. it's actually cleaner than feathers which boasts simplicity. If an admin panel is built around vuejs, then vuejs community followers can flock to Strapi for this very reason I am putting across here.\nWhat's happening here is a clean coded backend and a clean coded frontend. That's more powerful and faster to maintain and build rather than using React... it's tooooo complex to reason about and when you have bugs they are a huge headache and time consuming to solve, which is the situation the team might be finding itself in.\n...and yes you can be fired for buying an \"IBM\" especially if it's counter-productive. If the one who is supposed to fire you doesn't, then they need to be fired.\ninstead of cursing the darkness, light the candle.... @kitsunekyo that is very true. I think we will also need an angular implementation as well with time. The biggest selling point here is framework agnostic, which can actually mean a lot to  see many implementations of the frontend. \nAnyway, that's what communities are for. Someone has to do it.. Oh my, then that puts a hard limit on on the agnosticity of Strapi. I think i need to go thru the whole code base. My thinking was the plugins implement an api like system with a frontend made for each frontend framework. If that is the case, what i just said then implementing multiple front ends will just be a cinche. I am actually thinking of using vuetify or Quasar as the components lib for something like this. If you notice, it's very very simple to get an admin panel running. Please just have a look at these things, it's so simple. I am sure you will see that twitter bootstrap is very complex \ud83d\ude02 to work with than ready vue components such as Quasar or Vuetify.. Was having a similar issue: \nnpm WARN tar ENOENT: no such file or directory, lstat '/sdcard/app/node_modules/.staging/faker...'\ni just removed the package-lock.json file and it installed nicely.. ",
    "derrickmehaffy": "@emahuni I think that ship has sailed.. @kitsunekyo I think at this point the choice is locked in, of course a fork can always be made to replace the react admin panel with vue.js. I'm sure the Strapi team had their reasons to use react instead.\nRight now they are all quite busy with bug fixes and critical feature additions, I'm sure if someone wanted to start working on it, they might be able to look at it later.\nFor now the best choice would be to fork the project and see if it can be done.. There is the common term \"I never got fired for buying IBM\" which states react is an industry standard, its far easier to find current examples and additions for react then vue right now. I'm sure that will change in the future but Strapi was started back in 2015 and the recent version (v3) I believe started back in 2016 (based on this thread)\nNaturally the choice of language is always going to be subjective, if the strapi team were well versed in react it makes little sense for them to start working in Vue if they didn't know it right away in order to get a MVP up and ready. Unlike most of us the Strapi team do this as a job, thus their income is solely based on getting a product out the door. Most of us use and or provide our knowledge on our free time.. @emahuni Don't get me wrong I too would love to see a Vue admin panel, but the Strapi team picked react for a reason. \nAlso the ibm thing is a joke lmfao. We have a similar one in the networking field, you say \"Cisco\" in a meeting about buying equipment and no one will say no (even though I can't stand Cisco gear). \nMy point is here, if you think it can be done better, please do! There is nothing saying it can't be built and shown to the Strapi team! This is why open source is such a great concept, everyone can voice their opinions and show off changes. But what I don't like to see is dragging down the Strapi guys for picking one language or another, all programming is subjective. There are a million ways to do something and the Strapi guys work extremely hard, especially lately.\nThey have a ton of stuff going on other than just putting code out, thus I can see why they wouldn't want to fracture their focus on completely rebuilding what they have spent the ~ past year on. \nLet's see what a Vue admin panel can do!. @SupremeTechnopriest This is not an un-common solution to node.js projects, generally speaking most node.js projects run on localhost and a proxy is generally used to display it over port 80/443. Nginx is extremely simple to setup for proxying SSL to a local service.. @SupremeTechnopriest then should you feel a feature should be added, maybe you can help develop such a feature or plugin yourself? Else if you feel the project should be done differently I'm sure your welcome to fork the project and rebuild it how you feel, the source code is open source.. @SupremeTechnopriest just in case you decide to change your mind, here is a nice guide for node.js and nginx: https://www.digitalocean.com/community/tutorials/how-to-set-up-a-node-js-application-for-production-on-ubuntu-16-04. And since on linux based systems you can't run a service on a port below 1024 unless your a superuser.\nBut yes @SupremeTechnopriest cloudflare is another option to secure strapi if you can't run something like nginx in front of it.. @krestaino this is a really old issue, but you can take a look here: http://strapi.io/vote \nPlugin - Content Internalization\nTranslate the content of your API in any language, from the admin panel.\nThere is a vote for it, if you want to support it, login with github and vote for it. The Strapi team places a priority on features with the most votes.. @mohammedabualsoud there is a whole lot of stuff that needs to be changed to support windows. For now and the near future I suggest you use WSL until someone has the free time to take a proper look at windows support.. @blondie63 any update on this issue? Just wanted to see if this is something we could close out.. @pierreburgy Alrighty :smiley: \n@lauriejim you want to close this?. @rsternagel static files and serverless functions Strapi is not just static files and really cannot function \"serverless\" as it is a dynamic system that runs code on the server itself. Some nodejs projects can be \"built\" and deployed in serverless environments but that isn't Strapi. That would pose a huge security risk, and honestly isn't feasible to run your API on a clients machine (many of them).\nServerless and static systems are never going to work with Strapi, it isn't built for that. . @steampixel if you haven't already you can also send your support on the product board page as well :). @lauriejim This issue should probably be opened back up, as it seems there may be issues with MacOS and strapi in general, I've referenced this in https://github.com/strapi/strapi/issues/698 as well. Issues using mongoDB and v3.0.0-alpha.10.2.\nSeems there might be environmental issues using strapi on Mac.. @radmen the sqlite3 issue is likely related to Knex.js based on its response about useNullAsDefault\n. I was looking through the documentation thats listed in that error and it seem the option useNullAsDefault: true needs to be passed along to knex. See there example:\n```\nvar knex = require('knex')({\n  client: 'mysql',\n  connection: {\n    host : '127.0.0.1',\n    user : 'your_database_user',\n    password : 'your_database_password',\n    database : 'myapp_test'\n  },\n  useNullAsDefault: true\n});\nknex('coords').insert([{x: 20}, {y: 30}, {x: 10, y: 20}])\n// insert into coords (x, y) values (20, NULL), (NULL, 30), (10, 20)\"\n```\nNot sure where strapi defines knex connection variables.. Aye yeah the useNullAsDefault isn't just limited to MySQL I believe it also affects SQLite as well. (Just in that example from Knex documentation they used MySQL). @pkail .... Strapi is alpha and changes rapidly right now. There is a lot of core stuff being reworked.\nThis issue your talking about seems to be related to windows, which has been documented to have issues. Please use WSL or a Linux VM.. @pkail Hence the term \"Alpha\" there is no mention of windows and yarn because they worked in the past and will be eventually supported in the future. A quick glance through open and closed issues and you will realize that support for windows is minimal and that is being worked on.\nUnless someone is working on better windows support, all issues related to building projects on windows are closed and suggested to use WSL or a linux VM.\nI'm sorry you having problems and seem to be frustrated, however with any alpha project you should expect problems. And since this is an open source project anyone can come and help to work on these problems. If you want to see better support, than please do look through the source code and submit Pull Requests with fixes. :smile: . @pkail If you want the most up to date information, I recommend you join the slack as bugs are typically discussed more so there.. +1 on this for me. Would love to have one way relations with what I'm working on.. @ArkhipovK This may be something to submit to the vote page https://strapi.io/vote to see if there is other interest. As I too would be interested in something like this, specifically showing a certain field from a relation.. It is and was warned about :p. As this is alpha you should assume every change is a breaking one.. @lauriejim I have noticed the same issue.\n\nCreate a content type that contains a string with the name Title\nNote that strapi by default did not change \"Title\" to \"title\" when storing in the database\nChange the string in the content builder from \"Title\" to \"title\"\nUpdate the record via the admin UI\nNote that the database now contains two values \"Title\" and \"title\" instead of updating the key it created a new one and did not remove the old one.\n\nthough if I have described this wrong, I'm sure @niallobrien can correct me.. I believe this issue is also partially related to https://github.com/strapi/strapi/issues/661 as the user in this case wished to have the string name \"Title\" appear but store it in the database as \"title\".\nThe issue of displaying values on the admin UI and how they are stored/shown on the endpoints is a common issue. Although changing content field names doesn't appear to update in the database (the same applies to changing the entire content name. Say in this case \"title\" is contained in \"Posts\" where as it should be stored in the database as \"posts\".\nI'd imagine changing this value manually would not update the database but instead create a new entry \"posts\"\n. I too seem to be having this issue. I may be reading the docs wrong but there doens't seem to be a clear setup process for working the development environment. (I would recommend a more detailed guide be made in the future as it seems the https://github.com/strapi/strapi/blob/master/.github/CONTRIBUTING.md may be slightly out of date)\nSomething that might be causing general confusion is why is there a need to remove the strapi npm packages: \nNote: If the installation failed, please remove the global packages related to Strapi. The command npm ls strapi will help you to find where your packages are installed globally.\nAs by default the globally installed packages also allow you to create development projects, in my example using strapi v3.0.0-alpha.10.2.\n\n. It does seem however that the --dev is creating the wrong symlinks: \n\nAs those files/directories don't exist:\n\n. @wsalazar-peakactivity If no one responds with updated information on how to reproduce the issue is closed. Also the current version is v14.4. If you can test on the latest and provided detailed step by step instructions to reproduce the issue, then I'm sure it can be reopened.. No news @Hausofalejandro. More than likely someone in the community would need to work on it. @NilakArgento Upgrading to alpha.9 guide: https://strapi.io/documentation/migration/migration-guide-alpha-8-to-alpha-9.html. Can confirm, relations should have a required function.. It should be noted that in some cases the required attribute may be only one-sided (thinking Many to One relationship)\nManufacturer may have multiple models, but you shouldn't need to specify a model when adding a manufacturer, however you should need to specify a manufacturer when adding a model if that makes any sense.\n. Not yet @alexDrinkwater, if you wanted to take it up and submit a PR that would be awesome. It is above my skill level.. @mittalyashu this is old though should help with beginners (would highly recommend looking up tutorials that match the current version): https://www.digitalocean.com/community/tutorials/a-basic-mysql-tutorial. I will test this and update if I have further issues. Just wondering why it wasn't added by default? \nWasn't sure if this is something that was planned or was going to be removed from the CLI/documentation.. I have not gone ahead with the changes, I have spoken with @pierreburgy who stated this should eventually make it into the existing project. I would image this issue should wait until a pull request is made to incorporate the enum field type in the admin panel as it is supported in the CLI.. @soupette a user is still unable to add the enum type from the admin UI though correct?. For those curious and have found this with a search, I recommend you vote for the feature on the strapi vote page. Its listed as: \nPlugin - Documentation\nAuto-generated documentation based on your API structure.. +1 Also looking for further support on MariaDB. My testing also yielded the same results.. @wizysanjay what version of MariaDB? I'm running a Galera Cluster with MariaDB 10.2.16 and am not having this issue (Local MariaDB as well works fine)\nI also would suggest you create a user in MariaDB for Strapi and not use the built in root account.. @wizysanjay can you try updating MySQL to either 5.6 LTS, 5.7 Stable, or 8.0 Latest\nJust for your reference:\nMariaDB Version -> MySQL Version\n10.0 -> 5.6\n10.1 -> 5.7\n10.2 -> 5.7\n10.3 -> 5.7. No problem :smiley: \n@johannpinson looks like MySQL 5.6 is bare minimum for Strapi on your PR for the versions. @gurjantsingh7979 The value type your looking for is enumeration, it is supported from what I can tell on the cli side but not on the admin side. See my issue here: https://github.com/strapi/strapi/issues/566\nenumeration (enum) is a categorical variable IE a set hospital.. @soupette I believe what @gurjantsingh7979 is looking for is a search function on the Content Manager. \n\nSomething that would allow you to search the data to return results matching the query.. @soupette I'm curious to know if features like this are planned to be integrated into the Default Strapi interface instead of added manually for each user?. That makes sense, just wanted to clarify the use case as I have not seen any references to it previously.\nThank you.. No problem, looks good. I am wanting to do something similar with my API so would be great to take a look at what you have done.. This information should not trigger automatically and should be documented as not everyone will use a locally hosted MySQL Instance or even in the local LAN. In many cases it should be expected a remote database will be used especially those geared towards more redundant based setups such as using Galera Clusters.. @deeq14 It has not been started as the Strapi team are entirely focused on the plugin framework rewrite to be able to build more plugins like this.. @timmensch Your always welcome to develop it yourself and create a PR!\nStrapi is an open source project and their team is quite small, naturally the community is what helps make a project!\nAlways have to think on the positive side :). @awitherow by default mongo doesn't require authentication to connect. This was the problem here.. @funkhauscreative https://strapi.io/documentation/3.x.x/cli/CLI.html#strapi-generate-api\nstrapi generate:api <name> --tpl <template>\nGenerates an API called <name> in the ./api folder which works with the given <template>. By default, the generated APIs are based on Mongoose.\nYou need to specify the bookshelf template strapi generate:api -t bookshelf test. It may be worth adding a clear button for that purpose and modifying the cancel button to return to the list view. Or change the cancel button instead to say clear.. Another possible solution as well Content Types should have the ability to be nested as well. IE you should be able to collapse the parent groups:\n\nContent Types\nPlugins\nGeneral\nEct\n\nAs well as possibly adding additional sub-parent groups under content types.. I agree something like this would work in my case as well.. Addition of custom Plural names is also something that should be added as some words do not have have a plural form.. @lauriejim Basically this is just a \"Quality of Life\" change that wouldn't have any effect on the API itself. More so just a visual variable for the Admin Panel. As I know in the future you guys plan to have Admin panel ACLs and non-technical Users are almost guaranteed to complain about the strange formatting. :)\nI hate to reference another project that is more or less a competitor  to strapi but loopback3 has something similar that made a lot of sense.\nMy thought is something like:\nDisplayName : What is shown on the Admin Panel\nDisplayNamePlural : Plural form of DisplayName\nName : Same as current, used to store in database, API endpoints, ect\nPlural : Same as name but plural\nIn that plural forms do not need to be manually defined but can be. The same would apply to displayname where you could define it but instead it would just default to name.. @Aurelsicoko glad to hear it should be fairly easy. I'm new to admin panel design, or I would take a look at solving it myself. No rush though, I know you guys are focusing on making things stable which is much more important that QOL features :P. @jsamr and @kadaan I agree on both, going with localization it should be automatically generated as kadaan had said using the language specified but able to be overwritten for the admin view. Personally on the backend I think it should remain in English as almost all projects tend to stick to English backend anyway but that is just my opinion.\nBut I fully agree on localization on the front end, especially with future changes to the Admin panel permissions to allow for granular control on who can see certain items on the panel.. This is an example of one of the terrible automated plural forms created by default:\n\nsiteGr -> Sitegrs\nsiteGs -> Sitegs\nsiteGy -> SiteGies (completely wrong lol). 1. We should remove the automatic pluralization of the model' names in the left menu. Agree 100%, I understand why they default to plural (generally you are storing multiple users, thus user -> to users), but in this case if someone wishes to use a plural form they could just name it as such. Obviously the backend api can still use these forms but for the left menu it really shouldn't be there\n\n\nWe should offer a way to customize the link value in the left menu. I thought that the Configurations link at the bottom of the menu can be the right place to do that. It also means that we need to take care of the i18n support (in another iteration?). We won't store the data in files but we'll certainly use the Core Store API. Not sure what the i18n support is, I'll have to research that a bit, As for the data in files vs database, I think this is fairly debatable. As once this value is set its unlikely to change during production (and in many cases it shouldn't change) Thus I think this is something that should be defined in the files. To me the core store table is used for variables that may change during normal usage.\n\n\nWe should create a REST routes & documentation plugin (like Swagger) to be able to generate and customise the documentation, but also edit routes name, policies, etc. PLEASE YES! \ud83d\ude04 \n\n\nThe table/collection names are already editable through the Content-Type Builder plugin (Advanced Settings tab). Yup no issues there\n\n\nI think removing the pluralization form and working on the left menu customization should be fairly high on the list as a swagger integration or swagger like will take quite a bit more time.. @Aurelsicoko fair point, considering this variable is only going to affect the frontend adminUI.. @pravosleva this I believe is on their to-do list, currently it is not possible\n. @Aurelsicoko similar here, can probably close this in favor of: https://portal.productboard.com/strapi/c/12-migrate-across-environments. This is mainly related to the MongoDB part of strapi, as mongo does not contain anything related to the MySQL current_timestamp documented here: https://dev.mysql.com/doc/refman/5.7/en/timestamp-initialization.html\nI 2nd this is something that should be added by default especially for anytime changes are made to an entry as well as new entries.. likely related to project created without --dev. @keyus4 that is a linux command, Being as your on windows (powershell) the command your looking for is rd -r \"path to folder or directory\"\nThis would also apply in the CMD window however I believe it only applies to folders: rd /s /q \"path to folder\"\nThe problem is, this log shows it is trying to run linux commands on your windows machine: \nnpm ERR! @3.0.0-alpha.10.2 clean:all: npm run removesymlinkdependencies && rm -rf package-lock.json && rm -rf packages/*/package-lock.json && rm -rf packages/*/node_modules\nnpm ERR! Exit status 1\nIts likely that script needs to be modified for windows.. @keyus4 unless your well adept at working with scripts like this, it is probably better to wait.\nAlthough in my opinion setting up a virtual machine either locally or remotely to develop on linux is a very easily solution.. @keyus4 looks like in this error the script is trying to call the variable $APP_PATH but being as this is being done on windows that variable might not have been set (not sure even git-bash works like that on windows). Just as a small suggestion if you plan on developing on Windows and are using Windows 10 I would highly recommend using the WSL for ubuntu or whatever distro.\nhttps://docs.microsoft.com/en-us/windows/wsl/install-win10\nIts not a clean and clear cut way to work on strapi on windows but should cut out most of these issues until they setup proper windows support.. @tapvt I believe the requirements now state Node v9 needs to be installed. Not sure if the pull request was pulled in and is live yet. Seen a few issues related to this.. aye it does look like they have been updated: https://strapi.io/documentation/getting-started/installation.html\n. @tapvt This seems related to a few other issues that have popped up just looking at previously closed issues. Not exactly but it seems for them the resolve was to manually call npm install strapi-bookshelf@alpha --save \nI would also try creating another new project since you have updated node. Else some of the strapi Devs might be able to point you in a better direction. . @tapvt Hmmm I'm wondering if this is an issue to Mac based systems. As I've never seen something like that issue on Windows or linux.. @pedrosimao I believe that might be the case, I would recommend you try running it in a VM using Ubuntu/Centos to see. My dev system runs on Linux Mint (Ubuntu) but I've tested on windows 7/10 and haven't seen this before.\n. Looks like there are some references to core_store in a pull request that was made about 19 days ago: https://github.com/strapi/strapi/commit/f5031d01554455a803c0f12a85e95bdb814bb22b\nAnd it seems there was a related issue from mysql/postgres. \nhttps://github.com/strapi/strapi/issues/485\nAll of which appear to be related to Mac OS. So I agree this seems like an environmental issue. I know in some rare cases Mac tends to hot swap stuff out for their own versions. \n. Just curious @tapvt can you try forking and pulling the base strapi code. As I think there were some changes made that haven't been pushed out into a release yet. This issue might have been solved in that pull request. There should be some instructions about building a dev environment on here: https://github.com/strapi/strapi/blob/master/CONTRIBUTING.md\nAnd on the documentation page: https://strapi.io/documentation/advanced/customize-admin.html (I know this is based around building out new features on the admin panel, I've already suggested to the devs on building better documentation about working in the dev environment)\n. I don't have a Mac to test on myself shakes fist at apple and their lack of VM support. @pedrosimao thats after you created the tables in MySQL? (I too wished to use MySQL over MongoDB but will likely wait until better support is done on strapi to automatically create and manage the tables and columns). Aye then @tapvt This is something the strapi devs will have to dive into. @lauriejim will probably need to check it.. Updated based on response on Slack, its likely there is no permission that allows for non \"root\" or \"admin\" users to access the panel and this feature will be implemented later in Admin Panel ACLs Current permission system is in place to manage API Endpoints.. \n. @lauriejim I did yes, thank you. @Perseus use the x-www-form-urlencoded not the body. But also you have an extra comma in there \ud83d\ude1b . No problem @Perseus . @storm1er I believe Node 9 is required, based on the changes to the documentation: https://strapi.io/documentation/getting-started/installation.html\nI believe this was changed for alpha-3.00-v10.1 or 10.2 so I would imagine the latest master build also requires it.. I also 2nd this, it would be extremely helpful to be able to dump data from csv in quickly (export would also be very helpful but I digress, stability > feature additions). @Aurelsicoko This issue can probably be closed in favor of https://portal.productboard.com/strapi/c/23-import-export-data. @Torone enum is enabled on the backend and somewhat on the frontend, you just can't modify the enum in the content type builder. However it seems there are no restrictions or checks on the enum. (At least not with MySQL). @abdonrd something we have to consider as well is how the array type will be handled on other databases than mongo, I know it supports it just fine, but databases like MySQL aren't as easy to implement.\nMySQL (realistically) would use relations and separate the array into different columns. You are correct though that enumeration is not an array. Enum is a type of constraint where the value must be one of x and an array is a collection of multiple entries.\n(Side note, currently the enumeration type in Strapi doesn't actually apply constraints). Technically @lauriejim adding enum won't fix this issue, this is something that would need some consideration on. Enumeration only allows for a single value which for MySQL is stored as a string.. Just figured out that I need this as well. @soupette what are your thoughts on implementing this? . @Aurelsicoko I think that type of field should be classified as a relation, in this case just a standard array field that allows you to put multiple values (hopefully with some options for constraints like enum) should be classified as different from that purposed case. As it stands right now there no field type that can handle this type of data without using a relation or raw JSON, none of which allow for any constraints on them.. @Aurelsicoko nice example :laughing: \nBut yes for the Array data type I feel as though it should be simple and not over-complicate it as you stated, this should be a standard field type. Although some minor constraints such as allowed data, ect should be considered. I know validations is still a bit out in terms of the roadmap, but I wouldn't want someone sending Dog poop (1000g) in a post to my recipe. :wink: . @Aurelsicoko :wink: now you see my point on how important constraints are lol. Validations are great and all but we shouldn't even offer the option to send bad data including while using the AdminUI :stuck_out_tongue: . I just noticed btw, the array field type was not built into bookshelf? @Aurelsicoko @lauriejim @soupette @abdonrd is this correct?\nWas it implemented in mongoose though?. @mnlbox since its on the vote page I'm sure as its up-voted more it might be considered then. . @Aurelsicoko should probably add this to productboard for API Design, I think it will fit in nicely with the purposed changes to the providers and such.. @lauriejim I added another note to that issue, it does in fact still happen above MySQL 5.5.\nAlso created_at shouldn't be updated when modifying an entry, that should only be modified at initial record creation.. @lauriejim I think this issue is more so that Strapi is not properly formatting the created_at and updated_at values.\nIn my example:\nerror update `system` set `edsmCoordLocked` = 1, `created_at` = '2018-05-08T12:16:03.000Z', `edsmID64` = 10477400000, `edsmID` = 27, `updated_at` = '2018-05-08T12:16:03.000Z', `systemName` = 'Sol', `id` = 1, `edsmCoordX` = 1, `edsmCoordY` = 0, `edsmCoordZ` = 0 where `id` = 1 - ER_TRUNCATED_WRONG_VALUE: Incorrect datetime value: '2018-05-08T12:16:03.000Z' for column 'created_at' at row 1\nStrapi is attempting to use the value 2018-05-08T12:16:03.000Z which does not follow the MySQL standard datetime format. An example of such of a format would be 2018-05-08 05:16:03 (Timezone is set at the server level of MySQL, so in my case my server is set to -7GMT American/Phoenix hence the difference between 12:16:03 and 5:16:03)\nMySQL datetime format: https://dev.mysql.com/doc/refman/8.0/en/datetime.html. @abdonrd that is what I'm working on now, it seems the following two files have an improperly formatted moment.js datetime its trying to push to the database:\nhttps://github.com/strapi/strapi/blob/88a3da813274e1140db9b3b410098d445de2c54d/packages/strapi-plugin-content-manager/admin/src/containers/EditPage/index.js#L189-L196\nhttps://github.com/strapi/strapi/blob/88a3da813274e1140db9b3b410098d445de2c54d/packages/strapi-plugin-content-type-builder/admin/src/containers/Form/index.js#L384-L401. @soupette Can you take a look at this, it seems the adminUI is what is causing the issue. Moment.js isn't properly formatting the datetime codes.. @fedwatch see: https://github.com/strapi/strapi/issues/1296 as to why we aren't using LTS\n. @pilinux prob should open a new issue for that instead of on an old closed issue :p. Thats nice @abdonrd looks great from that example.. @Aurelsicoko can probably close this issue in favor of https://portal.productboard.com/strapi/c/12-migrate-across-environments. @abdonrd any update on this? (Just trying to help clear up old issues). @lauriejim if our provider is that list, what would be the easiest way to add them to Strapi? In my case I would like to add Discord.\n(The Grant list you provided near the top of the thread). Adding these 3 PRs here (two of which have been merged) as examples on adding a new provider:\nDiscord: https://github.com/strapi/strapi/pull/1664\nMicrosoft: https://github.com/strapi/strapi/pull/1613\n(Not Merged yet) Twitch: https://github.com/strapi/strapi/pull/1616. @avallete I don't think anyone has started work on the documentation, so your help would be great :smile: . @avallete I completely agree with this. @Aurelsicoko thoughts?. @Aurelsicoko YES! Please :heart_eyes: . Its also related to my closed issue: https://github.com/strapi/strapi/issues/566\nI believe you can edit ones created in the CLI but you cannot add them through the admin panel.. I believe it is on their to-do list but not very high right now I'd imagine. . Just wanted to note that previously a change was made on the Decimal and Float types (I think V10?) that might be causing this. https://github.com/strapi/strapi/pull/589\nDecimal type previously before this change did store more than 2 decimal points until it was removed and replaced with float.. I agree @Aurelsicoko I think this might have something to do with defining the accuracy of the float option. I know in MySQL you can define the integer accuracy before and after the decimal.\nIf I understand mongo's method for storing floats its using IEEE 754 and really the only good suggestion is to store them as stringified decimals (which is a super ugly solution). Nice job @Aurelsicoko this was a huge killer for the project I was working on, can't wait for it to go live :grin: . @ackro any update on this? Just wanted to see if could close out some old issues.. @exera Any update on this issue? Checking to see if we can close out old issues.. Confirmed with latest bug report linked above ^. @lauriejim this is likely related to my old issue here: https://github.com/strapi/strapi/issues/661\nThe user wants to disable the plural functionality completely though it would play into my suggestion.\n. Windows isn't supported: https://github.com/strapi/strapi/wiki/Frequently-Asked-Questions#windows\nYarn isn't supported: https://github.com/strapi/strapi/wiki/Frequently-Asked-Questions#yarn. @pierreburgy (can't believe I'm typing this lol) does this still happen on the latest version? Checking to see if we can close out some old issues.. Ha no big @soupette just wanted to check. I haven't noticed it on Chrome >.> It certainly is an odd issue though.. @scipe Can you confirm this issue still exists in Strapi 12.4? (Trying to help the team close out old issues.). @lauriejim I believe this is a database related issue, strapi itself isn't rounding these I don't think.. As a small update, it seems that Bigint is being merged into javascript proper: https://tc39.github.io/proposal-bigint/. @Aurelsicoko I've noticed the same, I thought it was related to using mysql but I guess not, using graphiql. Normally when you put in a top level model, then populate a related model, GraphiQL only responds with the id and none of the other fields. The schema is being generated correctly but graphiql nor graphql is aware until you specify the fields.. @Lengatox can you check with the latest version to see if this still exists (given graphiql isn't installed anymore, playground is) Trying to see if we can close out old issues.. @JunQiGenYuan any update on the PR? Just checking to see if we can close out old issues.. I mentioned to @chaitanyya on slack for manual testing to be done on both hooks @lauriejim . @chaitanyya looks like it wasn't properly linked on the PR but sure I'll close it out. +1. @Aurelsicoko https://www.oneskyapp.com/ (You don't have to pay)\nAnother group I work with allows others to come in and translate for free:\nhttps://edsm-net.oneskyapp.com/collaboration. @piere129 There is minimal support for MySQL AFAIK and it is being worked on in another branch/milestone\nMySQL Dev branch: https://github.com/strapi/strapi/tree/sql-xp\nMySQL Milestone Tracking: https://github.com/strapi/strapi/milestone/13. @piere129 Development is on going, I'm sure if you wished to help with it, the Strapi team would love some pull requests :)\nThere is no simple hotfix as the differences between MySQL and Mongo are night and day. I'm sure its being worked on as fast as they can.. @piere129 I'm also looking for more in depth mysql support I'll see if I can reproduce this as well. My guess is it has something to do with the creation of tables in the database.. @Aurelsicoko Yeah I've been following the sql-xp branch looking like solid progress is being made.. @piere129 thats because the pull request for this isn't pushed to live yet, it can take a bit for them to finish multiple patches and deploy a new build to npm\nMy guess is these fixes will come in 12.1 or 12.2.\nYou can check milestone progress towards the next build here: https://github.com/strapi/strapi/milestones. Based on the progress and commits for 12.1, I would expect to see it within a few days to a weeks time.. Absolutely have a +1 from me on this. Especially with some of the previous FR for migrating from dev -> staging -> beta -> prod. This would make development stage updates so much easier and user friendly.\nMight be a ways out, especially with the focus on stability instead of features but this should certainly be added the strapi vote page.. @oeddyo any update on this? Just checking to see if we can close out old issues. I'm sure the team would really love a PR (they are busy guys). What is the goal of this PR?. Nice job team, that is a lot of code to review \ud83d\ude38 . @lauriejim I know lmfao, wasn't planning on reading everything \ud83d\ude1b . @jsamr just wanted to copy this into here as well, I feel this ticket is very much related to my open ticket: https://github.com/strapi/strapi/issues/661\nWhich the strapi team have stated is do-able and likely will be done after more initial code stabilization is done.. If I might poke a little bit more at this, I think the general restAPI should as well to allow for easy use of swagger. I suggested such a feature a few months back to have swagger documentation included in strapi, but it wasn't in the pipeline.. OpenAPI Specification: https://github.com/OAI/OpenAPI-Specification\nFor the same reason as OpenCRUD and would allow for easy use of swagger with strapi (extremely useful for documenting the API without having to \"try\" and decipher the documentations page: https://strapi.io/documentation/guides/requests.html#api-reference. I second this, I believe access tokens would be a great add as well. . @deevolutionism Strapi has a small team and a lot to work on. I'm sure they would love to see a PR for it.. @WesselKoorn I don't recommend this, it can be done with some very complex nginx configs (you are basically going to have to map just about every endpoint for your API which would be crazy complex) or do some crazy regex magic.\nYour best bet api.example.com for your Strapi API and example.com for your frontend. Easy, simple, and quick.. @enoy the easiest way is to generate a new project and copy over your api folder.. @gianniskarmas all SSL native support was removed from Strapi and isn't supported here, you will need to proxy it. As for the https URI for providers, the issue is known and is being worked on.\nUsing a 3rd party software for proxying SSL for node.js based applications is not new and is typically the industry standard when you are working with nodejs (A google search will show you that).\nIf you wanted to try and build in proper support for SSL then be my guest, submit a PR and prove how easy it is, but the official stance (AFAIK in my talks with the Strapi team) it will not be supported naively at any point in the near future.\nNginx is simple and easy to setup, even if you can't run it on the same system that Strapi is running on. If you need help setting it up please ping me the on the slack and I can give you a little guide, else you can read my WIP Medium article here: https://medium.com/@derrickmehaffy/using-strapi-in-production-with-https-717af82d1445 (Might be a few typos as I haven't had the time to proof read it). Yes that is the case, if you do not follow the template your issue/FR is closed with absolutely no additional troubleshooting done, the same applies if your issue is a duplicate.\nSee the below snippet of the issue template:\n```\n \u26a0\ufe0f If you do not respect this template your issue will be closed. \n =============================================================================== \n \u26a0\ufe0f If you are not using the current Strapi release, you will be asked to update. \n Please see the wiki for guides on upgrading to the latest release. \n =============================================================================== \n \u26a0\ufe0f Make sure to browse the opened and closed issues before submitting your issue. \n \u26a0\ufe0f Before writing your issue make sure you are using:\n Node 10.x.x \n npm 6.x.x \n The latest version of Strapi. \nInformations\n- Node.js version: \n- npm version: \n- Strapi version:  Please make sure you are on the latest version \n- Database: \n- Operating system: \n```. Looks like after shutting down the server and restarting it causes this error: \n`dmehaffy@capi1:~/api/CAPIv2-Strapi$ strapi start\n[2018-05-03T15:58:13.223Z] debug Server wasn't able to start properly.\n(hook:bookshelf) takes too long to load\n. In my case I did the initial setup the server started with those errors, however past that I cannot restart it after shutting it down.. @lauriejim any thoughts on troubleshooting and/or what other information do you need?. @piere129 ahhh good catch ill test and report back. Can confirm that increasing the variable in hook.json from3000to6000` allowed the server to start.. Update to the above comment, I've had to progressively increase that limit the more that is added. Right now I'm sitting at 20000 (~20 seconds) so something isn't quite working right :P. @lauriejim not sure if this is helpful or not, but I've noticed on multiple restarts strapi seems to be taking about an additional 900 to 1100ms to load which has forced me to increase this limit to around 40000 (~40 seconds) even if I'm not adding additional models or data :/. Sorry @lauriejim I just saw this reply. \nI have about 20 models, most of which will have less than 10 attributes but one of them has about 34. This isn't counting the ones installed by strapi (both models and attributes)\nThis isn't quite up to date but: https://github.com/canonn-science/CAPIv2-Strapi is my test repo. I still have more to add \ud83d\ude1b \n. If your using bookshelf this shouldn't be an issue anymore. Bookshelf has been modified to help resolve this.\n. @christopher4lis did you create your project with mongo then switch to mysql?\n. @christopher4lis I have been using Strapi with MySQL on every single release (I usually test the day after each release) for the past 8 or so months.\nIf your getting that error, there is a good chance either something in your database.json is wrong, or you are missing permissions in MySQL, or your database isn't configured properly.\nThat error is coming from node saying the connection to the database was reset, typically you will see that while Strapi is running as MySQL \"prunes\" idle connections, but as you are getting it on startup something is wrong in your config either of Strapi or the server.\nExample article: https://stackoverflow.com/questions/22900931/mysql-giving-read-econnreset-error-after-idle-time-on-node-js-server. > @waterlooblue You should try to use Mongo\nshakes finger @Aurelsicoko . @soupette for ease of use and general non-technical users I think the delete function is quite important. I referenced something similar with MongoDB before as well. If you create a endpoint, then remove it, it should drop those tables.\nWe wouldn't want in-experienced people having to drop tables manually in mysql, there is no case in which that is the proper way to handle it :P. If its not already in the works to do, I think its something that should be looked at again, I understand it isn't possible currently but in the future it will need to be. Everything should be possible via the adminUI.. The problem I've noticed though @Aurelsicoko that in some cases Strapi likes to rename certain endpoints and ends up creating a new table. Or in some cases if you change the name of a Column especially with relations it will add the new column and leave the old one. \nWith mongoDB this usually isn't an issue but with MySQL this could cause issues. I understand that in production environment the over-all database structure shouldn't change and should be locked in, But in a development/staging mode the deletes allow for quick and easy development. \nI know for the most part Strapi is being built as an API for content management, thus most of the stuff I'm suggesting don't normally apply to such a case. I for one am more so viewing Strapi as not just CMS but a general API + AdminUI for multiple purposes. And in this case complete database management to me should be key. As I have expressed before basic CRUD features should be a major priority with any development around REST APIs and I feel this should include the database structure as well.. @Aurelsicoko I think the strict mode is a great solution, even if it's enabled by default. I just wanted to share my opinion that the delete functions shouldn't be axed completely to be used as a data safety net for inexperienced developers.\nAfter all in order to learn from mistakes they have to be made by someone :) And by axing a, as I feel, a very important feature for the power users, it isolates us to use work aroundss that could cause further issues.. As a side note, I'm not sure with Mongo as I'm not as experienced with it, but with MySQL it is extremely easy to export a database as a backup. Obviously this is something that could be extremely taxing to the system. However it could prove useful if you needed to make a so called emergency backup before major deletes are done. Especially in regards to Strapi version changes where it's possible and update may break the database.. @Aurelsicoko thats exactly what I was thinking. Just as a quick side note, the same type of issue applies when you add an additional column to an already existing model/table. At this moment strapi will not add the new column and will error out in which you have to manually delete the table and restart the server for it to add the new column.\nThe backup would work in this case also I believe, but some additional thought should be put into how deletes happen. In this case you shouldn't need to delete the entire table to add a new column.\nI've noticed when you rename a column strapi does not know that blah1 should instead become blah2, in mongo it leaves blah1 and creates blah2. however in mysql it errors out as stated above, like adding a new column. In my opinion there should be some sort of model 'snapshot' or log to tell strapi instead to rename the column (not sure how this works in mongo). in regards to the backup I think a prompt on delete could appear with a slider checkbox to simply ask:\nAre you sure you wish to delete this model? N/Y \nand \nWould you like to create a backup of the database? Y/N\n(Note the default values on the checkbox). That sounds exactly like what I was thinking @Aurelsicoko you just explained it a little easier. :+1: :). @piere129 can you update the title to remove the MySQL as this affects more than just SQL. :). @Aurelsicoko just curious do you have any update on this. I know you guys have quite a bit on your plate and wasn't sure where this landed in terms of the roadmap. Didn't know if any other further internal discussion happened as to the plans for this.. @dwehrmann this would be quite complex, as strapi doesn't \"remember\" the old name, it will overwrite the model file, which is used by the hooks (mongoose and bookshelf/knex) to construct the database.\nI'm sure it is possible, but would require some major modifications. That being said I also would like to see this.. I agree instead of removing the message it should be updated to state how Strapi currently handles the database.. Also I'm not entirely sure where this message is to update, but I wouldn't mind doing it, I haven't had much success in modifying the AdminUI and rebuilding it. @Aurelsicoko any suggestions you might have and I can try and update this and submit a PR.. Ah might have found it, can you confirm if I change it in this file:\nhttps://github.com/strapi/strapi/blob/master/packages/strapi-plugin-content-type-builder/admin/src/translations/en.json\n\"noTableWarning.description\": \"Don't forget to create the table{modelName}in your database\",\nThat it will change it without rebuilding the admin? I'm not sure if the admin is built on initial install of the package or before that. If its built on initial install then modifying this file should update correctly.. @Aurelsicoko I am really only good in english :/ I could attempt a very rough and likely terrible translation using google translate but as we all know that isn't quite the same :P. I need to get a little more familiar with setting up the dev env as previous attemps haven't worked out so well :P. For context here is my System/Body Content:\n\n\n. @lauriejim sure give me a bit and I will build out a new project to test.. Just for clarification on my testing environment:\ndmehaffy@capi1:~$ node --version && npm --version && strapi version && mysql --version && uname -a\nv9.11.1\n5.6.0\n3.0.0-alpha.12.1.3\nmysql  Ver 15.1 Distrib 10.2.14-MariaDB, for debian-linux-gnu (x86_64) using readline 5.2\nLinux capi1 4.4.0-121-generic #145-Ubuntu SMP Fri Apr 13 13:47:23 UTC 2018 x86_64 x86_64 x86_64 GNU/Linux\nOn my brand new test project I do still get the following error on the initial start:\ndmehaffy@capi1:~/test1$ strapi start\n(node:4026) UnhandledPromiseRejectionWarning: Error: A model cannot be destroyed without a \"where\" clause or an idAttribute.\n    at Sync.<anonymous> (/home/ad.derrickmehaffy.com/dmehaffy/test1/node_modules/bookshelf/lib/sync.js:219:13)\nFrom previous event:\n    at Child.<anonymous> (/home/ad.derrickmehaffy.com/dmehaffy/test1/node_modules/bookshelf/lib/model.js:1236:19)\n    at runCallback (timers.js:763:18)\n    at tryOnImmediate (timers.js:734:5)\n    at processImmediate (timers.js:716:5)\n    at process.topLevelDomainCallback (domain.js:102:23)\nFrom previous event:\n    at Child.<anonymous> (/home/ad.derrickmehaffy.com/dmehaffy/test1/node_modules/bookshelf/lib/model.js:1235:8)\nFrom previous event:\n    at Function.removePermission (/home/ad.derrickmehaffy.com/dmehaffy/test1/plugins/users-permissions/config/queries/bookshelf.js:138:8)\n    at Promise.all.Promise.all.toRemove.map.action (/home/ad.derrickmehaffy.com/dmehaffy/test1/plugins/users-permissions/services/UsersPermissions.js:279:92)\n    at Array.map (<anonymous>)\n    at Object.updatePermissions (/home/ad.derrickmehaffy.com/dmehaffy/test1/plugins/users-permissions/services/UsersPermissions.js:279:30)\n    at <anonymous>\n(node:4026) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)\n(node:4026) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.\n[2018-05-08T08:46:54.931Z] info Server started in /home/ad.derrickmehaffy.com/dmehaffy/test1\n[2018-05-08T08:46:54.932Z] info Your server is running at http://localhost:1337\n[2018-05-08T08:46:54.932Z] debug Time: Tue May 08 2018 01:46:54 GMT-0700 (MST)\n[2018-05-08T08:46:54.933Z] debug Launched in: 3758 ms\n[2018-05-08T08:46:54.933Z] debug Environment: development\n[2018-05-08T08:46:54.933Z] debug Process PID: 4026\n[2018-05-08T08:46:54.933Z] debug Version: 3.0.0-alpha.12.1.3 (node v9.11.1)\n[2018-05-08T08:46:54.933Z] info To shut down your server, press <CTRL> + C at any time\nHowever it does seem this issue should be resolved, I'm going to do some more in depth testing @lauriejim  but nice job on the quick fix :)\n[\n    {\n        \"id\": 1,\n        \"systemName\": \"SOL\",\n        \"edsmID\": 1,\n        \"edsmID64\": 12345,\n        \"created_at\": \"2018-05-08T08:51:01.000Z\",\n        \"updated_at\": \"2018-05-08T08:51:01.000Z\",\n        \"bodies\": [\n            {\n                \"id\": 1,\n                \"system\": 1,\n                \"bodyName\": \"testbody\",\n                \"edsmID\": 2,\n                \"edsmID64\": 2345,\n                \"created_at\": \"2018-05-08T08:51:14.000Z\",\n                \"updated_at\": \"2018-05-08T08:51:14.000Z\"\n            }\n        ]\n    }\n]. @piere129 and @lauriejim just curious, in your testing which version of MySQL are you both using? I believe, though I could be wrong, that in MySQL 5.5 and below you could only have one CURRENT_TIMESTAMP. This was fixed in MySQL 5.6+ and MariaDB 10.0+. @lauriejim this issue still exists above mysql 5.5. I just had it happen running MariaDB 10.0+ where trying to remove a relation causes an issue with trying to update the created_at (which by the way shouldn't be updated when a record is updated, that should remain static)\n. @piere129 I messaged Jim on the Slack to ask if it can be re-opened. @lauriejim can you provide some context as to how strapi generates the date time? \nIE how does strapi get this value: 2018-05-03T13:11:33.000Z. @Aurelsicoko maybe you can also help provide some info on how the above is generated ^. > Alright I think I found part of the issue:\n\nhttps://github.com/strapi/strapi/blob/88a3da813274e1140db9b3b410098d445de2c54d/packages/strapi-bookshelf/lib/index.js#L361-L370\nMysql/Mariadb don't accept the time zone in the timestamp field\n\nEDIT: Scratch that, this is just defining the columns the issue stems from moment.js is not properly creating the date value:\nhttps://stackoverflow.com/questions/26047755/how-to-insert-moment-js-time-into-mysql/43889286. As I stated in the related issue the issue is with the adminUI and how moment.js is formatting the timestamps:\n\nIt seems the following two files have an improperly formatted moment.js datetime its trying to push to the database:\nhttps://github.com/strapi/strapi/blob/88a3da813274e1140db9b3b410098d445de2c54d/packages/strapi-plugin-content-manager/admin/src/containers/EditPage/index.js#L189-L196\nhttps://github.com/strapi/strapi/blob/88a3da813274e1140db9b3b410098d445de2c54d/packages/strapi-plugin-content-type-builder/admin/src/containers/Form/index.js#L384-L401. @soupette when you get a moment can you explain how these tie into the adminUI and how we could change the format? All my attempts to modify this have resulted in the adminUI not loading after building. Doing some testing, then we can prob close this @lauriejim it should be related to this PR: https://github.com/strapi/strapi/pull/1187. @piere129 if you want to test the latest changes too that would be great.. @peder1001 please do, I'm compiling and building it now. Not sure why the admin isn't rebuilding though. hmmm. It is working as intended however after cloning the Strapi Master branch:\n\n\nrun npm run setup:build in the repo folder\ncreate a new project with --dev (important) \nrun npm install in the project folder\nStart and test\n\nNo more datetime errors appear and only updatedAt is actually updated on changes. Note if you don't start with --dev the changes in the PR are not applied.\nNice job @soupette \n@lauriejim we should be able to close this issue as well, but leave it open to reply on in case there are further issues. @toshkoevoets there should be a migration guide from 12.1.3 to 12.2 (sorry on mobile at the moment) but these issues are resolved in the latest update. It can be quite difficult right now, mainly due to Strapi being in alpha, it isn't quite 100% ready for real production use.. @hammad786 I really wouldn't recommend openly putting that on here, and not much can be done from only the admin panel.\nAlso with the current bug of strapi showing password hashes this is a huge security issue for you.\nI would remove that comment ASAP.\nside note, I have no issues rendering the admin panel on chrome.. @underbayan please search before creating new issues, this is exactly like https://github.com/strapi/strapi/issues/1018\nIf you will note in the issue template (which was deleted here) there is a checkbox stating you are sure this hasn't been referenced before.\nNot trying to be rude or mean, just trying to help out the strapi team by cutting down on duplicate issues. . @piere129 I think there is a pull request to prevent id duplication (the id and _id) so this may fix itself as the id duplication fixes happen.. @lauriejim I'm not sure what you mean? SQL only has one ID column id so I think passing the _id in the query is what is causing the issue (not sure why mongo has a _id and an id column  \u00af\\(\u30c4)/\u00af ). @dsheyp Can you try to downgrade to Node v9 and test, I don't believe any testing has been done on Node v10 and it could be whats causing this.. This seems to appear at random, as I've done tests that it works fine, and others that will duplicate this exact same error. It seems to break when writing to one side of the relation.. @mnlbox the problem is, the strapi team also need to be provided with the exact ways in which to reproduce the error to help track down the cause.. @Aurelsicoko I have noticed something similar when using camelCase in a relation name on some of them. Strapi is creating the relation model using the same camelCase instead of dropping it to lower case.\nIE:\n```\n\"model\" : \"testModel\"\ninstead of \n\"model\": \"testmodel\"\n```\n. @Aurelsicoko when I experienced this error myself I was too using an external DB.. @lauriejim I stated this in another issue when building the relation shouldn't strapi just force lowercase when referencing another model? model.tolowercase() ?. I have come across this issue before as well. Especially when adding relations to existing models.. I have added my models to a testing repo found here: https://github.com/derrickmehaffy/StrapiTesting\nNote the enum values located in this file: https://github.com/derrickmehaffy/StrapiTesting/blob/master/body/models/Body.settings.json\nThe follow error is given when trying to select one of the enum values in the content-manager:\nrror insert into `body` (`bodyName`, `created_at`, `edsmAbsoluteMagnitude`, `edsmAge`, `edsmAxialTilt`, `edsmDistanceToArrival`, `edsmID`, `edsmID64`, `edsmIsMainStar`, `edsmIsScoopable`, `edsmLuminosity`, `edsmOffset`, `edsmRotationalPeriod`, `edsmSolarMasses`, `edsmSolarRadius`, `edsmSurfaceTemperature`, `edsm_subType`, `updated_at`) values ('Sol', '2018-05-08 05:18:00.626', 4.829987, 4792, -0.219615, 0, 3794, 10477373803, true, true, 'V', 0, 2.583274558738426, 1, 0.9999999539899354, 5778, 'G (White-Yellow) Star', '2018-05-08 05:18:00.626') - ER_BAD_FIELD_ERROR: Unknown column 'edsm_subType' in 'field list'\nAnd a screenshot of the MySQL Database:\n\n. Note: no errors were given in the console when the server starts up to create the tables in the database for the enum value. Its likely this value is completely skipped in the creation script.. Note2: After manually creating the varchar(255) columns, strapi no longer throws an error on saving, but also does not write the values to the database.\nNote the NULL Values: \n\nStrapi does however know the values to place into the database (These change back to the default first in the list after save due to them not being written to the database):\n\n. I also have noticed I am getting the following errors in the console:\n```\nerror System.find is not a function\n```\nAnd the error when checking for any model response on the API:\n{\n\"message\": \"An internal server error occurred\",\n\"statusCode\": 500,\n\"error\": \"Internal Server Error\"\n}\nI can confirm that I have find and findone enabled for the public guest role\nAlso the System.find is included in the routes generated by strapi here: https://github.com/derrickmehaffy/StrapiTesting/blob/master/system/config/routes.json. @lauriejim correct me if I'm wrong but for the enumeration type, it should just need to be added into this bit here correct?\nelse {\n                        switch (attribute.type) {\n                          case 'text':\n                          case 'json':\n                            type = 'text';\n                            break;\n                          case 'string':\n                          case 'enumeration':\n                          case 'password':\n                          case 'email':\n                            type = 'varchar(255)';\n                            break;\nIn this file: https://github.com/strapi/strapi/blob/master/packages/strapi-bookshelf/lib/index.js. Did some testing locally and added the enum case, works perfect. Auto created the enum column and properly stored the value.. Fix for https://github.com/strapi/strapi/issues/1144. No problem! Just a small fix but figured I'd share. :). I have tested this locally and it does work as intended, if such a change is accepted I can create a pull request.. Will do @Aurelsicoko I'll get one created and submitted in the next few minutes :)\n. @Aurelsicoko I know it has been suggested before, but one tiny addition to that (and I'm not sure if this would be easy or difficult to implement) but going along with what is editable, possibly something similar to change what is shown on the content manager? Though moving them around would be nice too, simply hiding a few would be a good start in the right direction.. @BroTrue no I don't believe this feature is done yet. It is being developed in the following branch I believe: https://github.com/strapi/strapi/tree/settings-ctm\n. Fix for https://github.com/strapi/strapi/issues/1148. @lauriejim have never used Prostgres before but I'll give it a shot . @lauriejim PR updated and tested with Postgres and MySQL. @piere129 I believe this already planned and is on the vote page, the Strapi team have stated this is pretty high on their list of to-dos, you can find the entry here: https://strapi.io/vote\n\n. @carlosmarinho nope not yet, and probably not in the next few months.. @dtaalbers There is a lot more that has to happen before the adminUI permissions rework comes. The Strapi team are working as fast as they can. \nTrust me they are aware how popular it is, but they are focusing on the plugin framework rewrite to allow them and others to build great plugins like that.. @mnlbox did you rebuild the adminUI as stated directly below that? \n\n. Please see the related bug request: https://github.com/strapi/strapi/issues/1116\nThese files cannot be changed directly in the admin, the reason for the documentation you referenced is you are modifying the source of the adminUI, once modifications are done you need to rebuild it which places the rebuilt adminUI in the build folder which strapi uses on the default :1337 port. . @lauriejim this is a duplicate issue the one noted above.. @mnlbox note that with any future strapi updates that make modifications to the adminUI, strapi will replace this build folder so you will need to remodify during each update right now in order to have these changes persist during version changes.. Other related issues: \nhttps://github.com/strapi/strapi/issues/1113\nhttps://github.com/strapi/strapi/issues/1036. The problem is how the application is written. The way it is setup is to allow people to build their own plugins and modify the user interface in order to rebuild it and redeploy. This is extremely common in nodejs applications like strapi. Your welcome to submit the feature request, but if this is something you feel should be done, I recommend you try and modify it yourself and submit a Pull request :smile: . @mnlbox correct me if I'm wrong here but I believe by default the value of a boolean on mysql is always false 0 not sure on mongo.. @lauriejim yeah he is talking about defining defaults, AFAIK there is no option in MySQL to define an unset boolean value its either false or true. And by default its false. \nI'm unsure how mongo handles this, if you don't send a false value will it be unset?. @raza2022 Yeah quite a few issues have come up with the build process, @Aurelsicoko may be able to shed some more light on it though.. @raza2022 it looks like your trying to dev on windows correct? The strapi team have stated before there are known issues, if you absolutely have no other option, please see the end of this issue: https://github.com/strapi/strapi/issues/680\nYou will need to setup the WSL on windows (I recommend the Ubuntu one) and develop through bash.\nAlternatively you could setup a linux virtual machine in something like virtual box or hyper-v. @raza2022 glad to know it helped \ud83d\udc4d I know the strapi team are working hard and will likely focus on fixing the development on windows in the future. \ud83d\ude04 . @thanhdevapp The Strapi team is working on it, but it probably won't happen in the near future. I think their goal was by the end of summer. For now you will need to use WSL or Linux VM. @soupette I think this falls in your realm.. @abdonrd yes the custom left panel names is something the strapi team will be working on. I think they have a few more stability things planned in the near future but I would expect this type of feature rolling out within the next few weeks to months.\nAlso something odd is going on with your interface there \ud83d\ude1b . @vitaliyKorzhenko not currently possible.. @peder1001 you can use the float type which will use the double field type. It will give you the precision your looking for.\n(On the latest master, my changes haven't pushed to a live version yet) https://github.com/strapi/strapi/pull/1151. @kamalbennani I believe @Aurelsicoko was looking for steps to reproduce the issue.. @OwenCalvin Node 9 or above is required to use strapi Alpha 12. @lauriejim I think we need to reopen this issue, while the direct error message here is about unique type. I think the 500 error needs to include more information as to what the error is.. @lauriejim give me a moment and I'll spin up a fresh one off the current master and the current release build to check. @lauriejim I think I know the cause here, this may have something to do with a client side ad-blocker. As I have one installed in chrome (ublock origin) and I am getting some odd responses as well and its triggering my ad-blocker:\n\n. @steveinatorx What browser are you using and do you have any adblocking extensions enabled? . Disabling adblocking allows me to use the adminUI normally: \n\n\nWhich makes sense as most adblocking extensions do have some function to trigger and look for ads, advertiser, ect.. @Aurelsicoko beautiful. :heart: . @abdonrd can you update the issue title to something like Add search option to the API since the content-manager search option is already live. :heart: . @kamalbennani any update on a PR for this? Trying to see if we can close out old issues.. @Aurelsicoko I wasn't even aware of this on bookshelf. Might have saved me a few headaches doing some troubleshooting \ud83d\ude1b \nI don't see any detailed information for the debug function in the strapi docs (Minus a single reference in the example config):\nhttps://strapi.io/documentation/configurations/configurations.html#database\nhttps://strapi.io/documentation/configurations/configurations.html#dynamic-configurations. @hbakhtiyor due to the development progress on loopback next, I don't forsee this coming in the near-future. It might be possible further on but since loopback 4x is still in a dev preview state, it might be a while. \ud83d\ude1b . I have noticed this as well when looping a relation back on itself.. @soupette Nice, does this also manage the createdAt as well as the updatedAt?. Nice thanks @soupette and @lauriejim \ud83d\udc4d . postgres does allow for unique constraints which differs from MySQL:, but still allows for multiple NULL entires: https://www.postgresql.org/docs/9.3/static/indexes-unique.html\nMySQL handles unique as an index and needs a key assigned (similar to the primary key) where unique values are indexed, allows for multiple NULL entires: https://dev.mysql.com/doc/refman/5.5/en/create-table.html#create-table-types-attributes\n\nUNIQUE\nA UNIQUE index creates a constraint such that all values in the index must be distinct. An error occurs if you try to add a new row with a key value that matches an existing row. For all engines, a UNIQUE index permits multiple NULL values for columns that can contain NULL. If you specify a prefix value for a column in a UNIQUE index, the column values must be unique within the prefix length.\nIf a UNIQUE index consists of a single column that has an integer type, you can also refer to the column as _rowid in SELECT statements.\n\nMongoDB unique works, but not completely as intended as NULL values are considered unique when they shouldn't be. See: https://stackoverflow.com/questions/7955040/mongodb-mongoose-unique-if-not-null. As a side note for relations it should in the future use foreign keys as well, while not a hard requirement, this should be done to keep in line with most database designs.. https://dev.mysql.com/doc/refman/5.6/en/create-table-foreign-keys.html\n. @lauriejim I'll see what I can do, I'm not really sure I completely understand how bookshelf itself works \ud83d\ude1b . @lauriejim it looks like this is something that needs to be modified in knex:\nhttp://knexjs.org/#Schema-unique\nhttp://knexjs.org/#Schema-foreign\n(To be completely honest, I don't have the slightest idea how strapi is building the database tables and columns :P). It looks like bookshelf isn't grabbing the unique variable from the model config to push to the database here:\nhttps://github.com/strapi/strapi/blob/be148bd5c56a88b7594cf0fc82b3b416f2c38f8b/packages/strapi-bookshelf/lib/index.js#L400-L458. After talking with @lauriejim this feature is known not to be implemented. In the mean time as a temp patch, you can manually modify your database to add unique key indexes as Strapi will not overwrite this.\nThe same should also apply to foreign keys as well as bookshelf/knex are not looking for, nor writing these keys.\nEdit This patch is only for MySQL, Strapi will overwrite these values on postgres and mongo. Modified title to better reflect my findings for all 3 databases: Mongo, Postgres, and MySQL. I will double check, but as far as I'm aware keys are still not being made for the Unique option on MySQL\n. Taking the follow field from one of my models:\n\"systemName\": {\n      \"type\": \"string\",\n      \"required\": true,\n      \"unique\": true\n    }\nAnd poking at the database:\n\nYou can see the only key defined is the primary key on the id column. Strapi should be generating unique keys on fields defined with the unique attribute.\nSomething like this: \n\nIt should be noted that manually applying this to the database and attempting to POST duplicate values will cause an error in Strapi that is a 500 error. Meaning that bookshelf/knex are more or less ignoring the unique type attribute and this should be responding with something along the lines of \"This value already exists\" AKA possibly the 409 response code (typically used for PUT requests)\n. Here is some documentation on the unique key constraint for MySQL: \nhttps://www.w3schools.com/sql/sql_unique.asp\n. As for coding this into Bookshelf/Knex I'm afraid I don't really have the required skill set to develop this as I'm not terribly familiar with how bookshelf/knex work. :/. Knex Unique function: https://knexjs.org/#Schema-unique\nBookshelf would need to grab the field meta Unique Field and run an knex.schema.alterTable('$Tablename', function(t) {\n  t.unique('$Columnname'). @amirakbulut just add the constraint manually for now. Once the conversion of some of the custom queries to knex functions is complete then me and @maturanomx can work on keys and such . related: https://github.com/strapi/strapi/issues/2495. Please do, I've noticed the same that you can only post 1 record at a time.. @gfelot any update on a PR? This sure would be a great addition. (Also trying to see if we can close out old issues)\n. @Aurelsicoko this really needs to be added to product board, sending nested POST requests (with or without nested relation data) is a fairly important feature I think.. @xcrossd if you manually update the database does mongo do this automatically?. @johannpinson awesome suggestion! I agree, just playing with the demo, the interface design is much better.. @lauriejim correct me if I'm wrong but bookshelf in the backend doesn't have the oneway relationship right?. Just as a foot note from my closed issue linked, this should be configurable on each model separately not globally. And example of performance on MySQL using an Integer ID vs a UUID ID field:\nhttp://kccoder.com/mysql/uuid-vs-int-insert-performance/. @kuongknight I had opened another issue related to your use of the uuid field.\nBut yes you are right that Strapi hard codes the types. (Like decimal accuracy). Can confirm issue exists on Strapi Alpha.12.2. I don't have the slightest idea here, It has to do with bookshelf as mongoDB based will properly return the values true and false. @soupette amazing, love it.. @blaasvaer Two things, please in the future follow the issue template when creating bug reports or feature requests and please see the Strapi documentation: https://strapi.io/documentation/\nBy default all models created require authorization, if you wish to change this you will need to go to the Roles & Permissions and click on public, Then under the Permissions > Application > your model name select the permissions you want by model, if you only want viewable then only select findone and find.\nIf you wish to authenticate to view the api you will need to send a post request to http://localhost:1337/auth/local with the following options: identifier (email or username) and password. The API will respond with a JWT which you will need to send in future request headers as a bearer auth token. There is no current way to \"logout\" so to speak.. At the moment, Strapi does not delete database tables (or whatever they are called in mongo) and will not rename columns within a table. This has been discussed with the strapi team here: https://github.com/strapi/strapi/issues/1114 (This also includes discussion about mongo as well as mysql)\nYou will need to drop the table before you start, the error your getting is your trying to recreate an existing index hence the error. But just as a heads up, For now the model names should be lowercase or camel case when you create them. I've noticed odd errors when you attempt to use proper case. . @PeterKey this is a duplicate of: https://github.com/strapi/strapi/issues/1114\nIt is not currently a \"bug\" it was intended the way it is, and leaving room for future improvement, see the linked issue from above.. @PeterKey \"Alpha\" the renaming system came around before the content manager plugin. discussion is still happening and features are still being worked on....\nIf you would like to contribute and work on this feature // bug fix then by all means please feel free to submit a PR. :wink: . @mnlbox https://strapi.io/documentation/guides/authentication.html\nProviders are external OAuth2 authentication providers. Not sure how you got one called admin.\nBut that column is not supposed to contain the role. \ud83d\ude1b . Generally speaking @mnlbox questions should prob be directed into the slack. The strapi team are quite busy on development and focused on bugs, the more questions showing up in the issues page the harder it is to track down bugs. Most questions can be answered after directing those asking them to the documentation or having them search through previously closed issues. The goal is to try and limit repeating questions and previously fixed bugs so that focus can remain on new ones. \ud83d\ude04 . @lauriejim let me test to see if I can reproduce it, I think it has something to do with registering a new user.. @lauriejim creating a new user from the AdminUI doesn't show the correct provider (Using MySQL):\n\n\nNote that the provider should local not -. Using a post request:\n\n\nWorks as intended. @lauriejim Done: https://github.com/strapi/strapi/issues/1787. For email address, its likely (if not already implemented) there should be additional verification of the value to ensure it matches common standards that include TLDs as well as the @. Additional checks could be implemented by the user.. This feature request may need more details and examples.. @mnlbox there is no plugin currently it's a planned future feature.. @soupette any update for @UniBen if he is interested. :stuck_out_tongue: . @lauriejim Posts requests are completely broken on v12.2 due to timestamps FYI. AdminUI additions are not affected, only post requests. This is just on a standard model, file uploads have had some issues the past few releases as well.\nMainly with SQL syntax. Odd @lauriejim so I did some additional testing with a brand new test machine:\nNode v10\nNPM v5\nStrapi v12.2\nOS Ubuntu 18.04 LTS\nDB MariaDB 10.2\nEverything worked fine, which I find strange. The only difference here is the OS version (16.04 vs 18.04) and the Node Version (10 v 9)\nWhat I tested: Created a new VM for each Database Type (3 in total) MongoDB, Postgres, MariaDB. installed Strapi v12.2 globally, and created a new project. Started the project and created a test model, and inputed some test data via the adminUI, edited the data, and deleted it.\nThen I did the same using postman, authenticated and got token, POST data, PUT edited data, and DELETE the data. All worked fine on all 3 databases.\nI did however notice that with MariaDB when first starting on the fresh project strapi fails to start with bookshelf took too long to load, I also had the same error after creating the test model and it auto-restarts. So there is certainly a load issue when using mysql. I increased the hook limit to 40000 and didn't hit any issues after that.. I will do some additional testing on the VM I had issues with and create another ubuntu 16.04 VM to test on. There might have been a bug while updating strapi globally or node 9.. Versions for issue VM: \n\nVersions for working VM:\n\n. @lauriejim tested on old VM and can't reproduce error. For now you can mark this as closed and I'll continue testing to see if I can get it to appear.. @mnlbox if you try this on Chrome does the same issue still happen? Can you provide your Firefox version number?. @mnlbox can you test with Strapi 14.1.1 want to make sure this issue is still happening. Seems this issue is related to some kind of slowness on the server or client side where a timeout fails and redirects. I've noticed this issue as well.. @mnlbox there is some slowdown on either side. Most likely client browser slowness, if something doesn't respond in a certain amount of time (we are talking milliseconds here) then Strapi is redirecting to the register instead of auth/login\nPersonally @soupette I think the init thing shouldn't be auto-redirected and instead a link should be provided to register on the login page. Alternatively for the initial user, strapi should check the database if x users > 0 than it should always direct to the login page. A simple query to check the database for existing users would work.. @blaasvaer https://github.com/strapi/strapi right on the front page in the readme:\n\n. And yes, anyone can create a slack account and join the strapi slack. The Slack server was probably created before the community could join it.. @blaasvaer http://lmgtfy.com/?iie=1&q=create+an+account+on+slack. @blaasvaer Considering Slack is not developed, nor controlled by Strapi, I would recommend talking to the Slack devs on that. Though it seems pretty self explanatory to me. I'm sure if you have used an IRC before, the experience will be similar.\nthat and about 1500 other like minded devs had no issues..... @blaasvaer I'm not apart of the Strapi team, just another dev here to help support them and use their project. But since you can't seem to figure out how to join slack here is that convo:\n\n. @blaasvaer Hence the bug report, its a known issue. Fixes are being worked on, as @soupette has said in the other issues thats linked here and in your bug report there is a PR to fix it. It just hasn't been merged into a release yet.. https://github.com/strapi/strapi/pull/1222\nMilestone is set for Strapi@alpha v12.3. Hence the alpha, it's not even in beta yet. :P. @johntom The strapi team haven't updated their docs page, I'll poke them on the slack to let them know, but graphiql was removed in favor of playground which is far more powerful.. Related PR Merged: https://github.com/strapi/strapi/pull/1407\nDoes not support bookshelf, should be added before issue closed. @Aurelsicoko I think that someone should take a look at bookshelf to support this feature on the other databases before this gets closed.. @H-L when you created this, did you create the model with one field, save, then attempt to add a second field? If so you will have to manually drop the table in the database before strapi will start as it does not delete tables or columns when modifying the model. You read more about this discussion here: https://github.com/strapi/strapi/issues/1114. @H-L I'm wondering if its related to the model name. Can you try creating a new project and using a different name for the model to see if the same error happens?. Also which version of MySQL are you using?. (hook:bookshelf) takes too long to load this bit here is a known issue. You may need to modify the config/hook.json and increase that limit, I think the default is like 3000 milliseconds, try increasing that to say 10000 or 30000 (10 seconds or 30 seconds). In some cases, like my project I had to increase this to 60 seconds to ensure strapi starts.. @H-L yeah this seems like the table for this model isn't deleted. Basically what is going on is Strapi cannot (as of right now) add a new column into a table, in the issue I linked me and @Aurelsicoko were discussing possible solutions for this that would fit all of the databases (Mongo, MySQL, and Post). \nSo if you want to edit a model as of right now, your best bet is to Edit the model in the content manager, and before you hit save go and drop the table for that model in the database, then hit save. Strapi will restart and create the new table.\n\nCreate Model test\nAdd field teststring\nSave\n  A. Server restarts successfully\nEdit Model test and add field testnumber\nDelete table in mysql test\nSave\n  A. Server restarts successfully. It should be noted that of course dropping the table will delete the data, The alternative is to manually add the column into the table.. @lauriejim I think @Aurelsicoko is already working on the fix in the related issue.\n. Not sure on the status but technically https://github.com/strapi/strapi/issues/1114 should fix this issue as it will complete recreate the table.. @lauriejim more or less, this is mainly related to how strapi handles modifications in models in relation to the database. Right now Strapi won't delete a table or column in the database and will only alter an existing one.\n\n@Aurelsicoko and I spoke at length about this and have come down to adding a strict mode that will basically wipe the tables from the database and recreate them in a development environment (thus also dumping the data). We also discussed allowing for an option to create a backup of the data prior to deleting the table as a short term fix. Realistically Strapi should handle edits in a more smooth manor but this will cause complex modifications to bookshelf and knex I feel.\nIt can be a difficult one to reproduce exactly, by default for me if I am modifying a model I delete the table in the database before I save.. This was @Aurelsicoko thoughts on how to handle it:\n\nTo resume our thoughts:\nAdding a strict mode that will remove the table when a content-type is deleted or when a relationship changes between two models (especially in a many-to-many case because it creates a relational table). In my opinion, we shouldn't enable this mode by default.\nQuick vs safe migration mode:\nQuick mode will rename, drop columns and tables.\nSafe mode will do the same but it will also create a backup before starting the work. It will be slower but the developer will be able to rollback if the migration doesn't work as expected.\nBoth proposals are complementaries. If the strict mode is activated, then you will have to choose between the quick or safe mode. If the strict mode is disabled, the quick or safe mode is useless because nothing will be deleted.\n\nFrom here: https://github.com/strapi/strapi/issues/1114. @lauriejim I'll do some quick testing if I get the chance here in a few minutes and see if I can provide some more info.. For testing I created the following model:\n{\n  \"connection\": \"default\",\n  \"collectionName\": \"testadds\",\n  \"info\": {\n    \"name\": \"testadd\",\n    \"description\": \"\"\n  },\n  \"options\": {\n    \"increments\": true,\n    \"timestamps\": true,\n    \"comment\": \"\"\n  },\n  \"attributes\": {\n    \"teststring1\": {\n      \"type\": \"string\"\n    },\n    \"testint1\": {\n      \"type\": \"integer\"\n    },\n    \"testfloat1\": {\n      \"type\": \"float\"\n    },\n    \"testdec\": {\n      \"type\": \"decimal\"\n    },\n    \"testboolean1\": {\n      \"type\": \"boolean\"\n    }\n  }\n}\nI then saved the model and strapi restarted fine, I also confirmed it generated the table and columns in MySQL:\n\nI then attempted to add a new string field:\n{\n  \"connection\": \"default\",\n  \"collectionName\": \"testadds\",\n  \"info\": {\n    \"name\": \"testadd\",\n    \"description\": \"\"\n  },\n  \"options\": {\n    \"increments\": true,\n    \"timestamps\": true,\n    \"comment\": \"\"\n  },\n  \"attributes\": {\n    \"teststring1\": {\n      \"type\": \"string\"\n    },\n    \"testint1\": {\n      \"type\": \"integer\"\n    },\n    \"testfloat1\": {\n      \"type\": \"float\"\n    },\n    \"testdec\": {\n      \"type\": \"decimal\"\n    },\n    \"testboolean1\": {\n      \"type\": \"boolean\"\n    },\n    \"teststring2\": {\n      \"type\": \"string\"\n    }\n  }\n}\nSaved and strapi restarted fine, confirmed in the database that the new column was added:\n\n. When attempting to edit the new teststring2 field and change it to teststring2edit the server restarted fine however a duplicate entry was added to the database:\n\n. Attempting to add multiple fields fails, below is the model config and the error:\n{\n  \"connection\": \"default\",\n  \"collectionName\": \"testadds\",\n  \"info\": {\n    \"name\": \"testadd\",\n    \"description\": \"\"\n  },\n  \"options\": {\n    \"increments\": true,\n    \"timestamps\": true,\n    \"comment\": \"\"\n  },\n  \"attributes\": {\n    \"teststring1\": {\n      \"type\": \"string\"\n    },\n    \"testint1\": {\n      \"type\": \"integer\"\n    },\n    \"testfloat1\": {\n      \"type\": \"float\"\n    },\n    \"testdec\": {\n      \"type\": \"decimal\"\n    },\n    \"testboolean1\": {\n      \"type\": \"boolean\"\n    },\n    \"teststring2edit\": {\n      \"type\": \"string\"\n    },\n    \"teststring3\": {\n      \"type\": \"string\"\n    },\n    \"testint2\": {\n      \"type\": \"integer\"\n    },\n    \"testfloat2\": {\n      \"type\": \"float\"\n    },\n    \"testboolean2\": {\n      \"type\": \"boolean\"\n    }\n  }\n}\nError: \n```\n[2018-05-30T17:03:06.375Z] debug PUT /content-type-builder/models/testadd (25 ms)\n[2018-05-30T17:03:06.375Z] info The server is restarting\n(node:11263) [DEP0096] DeprecationWarning: timers.unenroll() is deprecated. Please use clearTimeout instead.\n(node:11263) UnhandledPromiseRejectionWarning: Error: ER_PARSE_ERROR: You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near 'ALTER TABLE testadds ADD testint2 int;\nALTER TABLE testadds ADD `testfloa' at line 2\n    at Query.Sequence._packetToError (/root/strapitest/node_modules/mysql/lib/protocol/sequences/Sequence.js:52:14)\n    at Query.ErrorPacket (/root/strapitest/node_modules/mysql/lib/protocol/sequences/Query.js:77:18)\n    at Protocol._parsePacket (/root/strapitest/node_modules/mysql/lib/protocol/Protocol.js:279:23)\n    at Parser.write (/root/strapitest/node_modules/mysql/lib/protocol/Parser.js:76:12)\n    at Protocol.write (/root/strapitest/node_modules/mysql/lib/protocol/Protocol.js:39:16)\n    at Socket. (/root/strapitest/node_modules/mysql/lib/Connection.js:103:28)\n    at Socket.emit (events.js:182:13)\n    at Socket.EventEmitter.emit (domain.js:442:20)\n    at addChunk (_stream_readable.js:279:12)\n    at readableAddChunk (_stream_readable.js:264:11)\n    at Socket.Readable.push (_stream_readable.js:219:10)\n    at TCP.onread (net.js:636:20)\n    at Protocol._enqueue (/root/strapitest/node_modules/mysql/lib/protocol/Protocol.js:145:48)\n    at Connection.query (/root/strapitest/node_modules/mysql/lib/Connection.js:208:25)\n    at /root/strapitest/node_modules/knex/lib/dialects/mysql/index.js:161:18\nFrom previous event:\n    at Client_MySQL._query (/root/strapitest/node_modules/knex/lib/dialects/mysql/index.js:155:12)\n    at Client_MySQL.query (/root/strapitest/node_modules/knex/lib/client.js:206:17)\n    at Runner. (/root/strapitest/node_modules/knex/lib/runner.js:155:36)\nFrom previous event:\n    at /root/strapitest/node_modules/knex/lib/runner.js:61:21\n    at runCallback (timers.js:696:18)\n    at tryOnImmediate (timers.js:667:5)\n    at processImmediate (timers.js:649:5)\n    at process.topLevelDomainCallback (domain.js:121:23)\nFrom previous event:\n    at Runner.run (/root/strapitest/node_modules/knex/lib/runner.js:47:31)\n    at Raw.Target.then (/root/strapitest/node_modules/knex/lib/interface.js:39:43)\n    at process._tickCallback (internal/process/next_tick.js:68:7)\n(node:11263) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)\n(node:11263) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.\n(node:11263) [DEP0095] DeprecationWarning: timers.enroll() is deprecated. Please use setTimeout instead.\n[2018-05-30T17:04:08.736Z] debug Server wasn't able to start properly.\n(hook:bookshelf) takes too long to load\n``\n. To me it looks like theALTER TABLE` command is being cut off or mal-formatted. Adding single fields works fine, adding any more than 1 will result in either this error or bookshelf stalls and fails to restart.. @madonzy it would prob be better to discuss this on the slack. GraphQL is an API query system (think REST API) MongoDB is a storage system, similar to MySQL and Postgres (Strapi supports all 3)\nStrapi offers both a Rest API and a GraphQL interface.\nThe same applies to storage; MongoDB, MySQL, and Postgres.\nI would suggest you read up on these technologies to understand what you need.\n@lauriejim we can probably close out this to continue further discussion on slack.. @madonzy I would recommend looking at the guides: https://strapi.io/documentation/tutorials/\nSpecifically the one geared at Gatsby. You would need to tie into the REST API interface to build GET/POST/PUT/DELETE requests to build bridges between the data storage in App 2 and your front end user interface in App 1. @indiecore-fm I wouldn't mind seeing these as well, please feel free to drop links to your repos in here \ud83d\ude04 . @johntom can you edit this with the proper bug report template? Also when pasting code, please use the code block.. @lauriejim ^^. Noted @Aurelsicoko just wanted to make sure this wasn't a critical security issue. \ud83d\ude1b . @mnlbox this is a duplicate of https://github.com/strapi/strapi/issues/1235. \n@lauriejim this issue should be closed and further troubleshooting should be done in the linked issue.. @soupette I don't think the browser is the main cause in this case, as I generally only use chrome and have noticed the same issue on both windows, linux, and mac.. @mnlbox the email error is normal as the email exists in the database, this is an issue with the redirect settings of the admin panel and not related to the information is being stored.\nIf you use something like Studio3T (Mongo) or HeidiSQL (MySQL) you'll see that your user is in fact in the database. Hence why that error is popping up.. @mnlbox Can you give me a screenshot of your mongoDB with the important bits blacked out (really would rather not see password hashes)\nGiven my testing has been on MySQL but I can see the users listed in my database. The issue is coming from the adminUI and its redirections. You dropped your entire database or just that table sorry I don't know what you call it in Mongo (can't stand the database personally :stuck_out_tongue: )\n. If you dropped the entire database you will need to restart strapi. As there is no database and there is likely a console error saying it can't connect.. @raulriera just as a quick test, use chrome and try and visit your site, if it redirects you to login, hit the back button twice. See if it drops you on the login page.. @raulriera yeah thats what I thought, although it seems there might be other issues related to this as others have stated their admin user is not in the database (which I find odd, personally I think this is just related to this redirect issue and the user does exist there.) That being said, I don't use MongoDB and MySQL is far easier to check with. I still get the issue from time to time with @mig4ng and @soupette's fix but it's hard to pin down the cause. It has to be with some change between 12.1.3 and 12.2. @blaasvaer the server needs to restart because the content structure is not stored in the database but in files itself, which in order for those files to be loaded the application needs to restart.\nThey have moved many of the older options (specifically with permissions) over to the database so it doesn't need to restart. Generally when in development like this, the application shouldn't be used in production thus the restarting doesn't affect the progress. Your welcome to generate the APIs over the command line instead and start the server after that. . > We're a \"new kind\" of software, we aim to define us as an \"API-first backend solution\". We have Headless-CMS capabilities and you can use the product like that, but some people are using us to develop the backend of their marketplaces, mobile apps, etc.\nI am one of those who is not using this as a Headless-CMS, as a matter of fact I likely won't even have a frontend for the API, we are using Strapi like you would use similar software like Loopback. Hence the reason why I don't view the restarting as a big issue. \nAll of your content-types should be defined in the development environment, then tested in staging, and finally deployed to production. While in production those content types shouldn't be modified at all, thus the server will never need to \"restart\". Doing such changes in a production environment is not only bad practice (see \"testing in production\") but could be extremely damaging to the database, especially with Strapi geared towards power-users and new players in the game.\nNot everyone is happy-go-lucky in their development process. That being said the start time with Strapi and using a SQL database like MySQL is quite long at the moment (anywhere from 20s to 60s), but @lauriejim is aware of the issue and knows that bookshelf needs some re-work.\n@blaasvaer I suggest that if you have issues with how Strapi works, your welcome to fork the project and build it as you see fit, or you could be helpful and submit Pull Requests to help build on the framework. I feel as though your side comments are quite rude personally, and not -at all- helping anyone here, or the project as a whole.. @blaasvaer the issues section is not the place to discuss this, your welcome to PM me on the slack, and I would be more than willing to talk to you about it.. @blaasvaer I'm sure the Strapi team would appreciate people like you to create pull requests to help fix issues. They are a small team of guys and may not have enough time to fix these issues at our beck and call. :smile: \nThey are after all only human, I myself have made a few small but needed PRs to help the team and do testing to help them cut down on fix time. With this being an open source project, the development is not completely up to the owners of the repo but everyone who uses it.\nI will say comments like this:\n\nWell, as described in the issue \u2013 I know that.\nBut how about making a great UX, and just fix the link on the icon? It seems bloody weird that I can click ANYTHING BUT THE ICON!\nWhen basic stuff like this isn't working, you're telling me that all sorts of bugs will crawl through the cracks ... there seems to be A LOT of basic stuff that isn't working (skim the issues, please).\n\nCan be quite demoralizing to the team, they are working as hard as they can.. @LuisHCK same, please create a new issue.\n. @LuisHCK the issue in this thread is not related to the one that is happening now. this issue was due to a connection to the Strapi marketplace which no longer exists. Thus it is not a duplicate, as that failure is not possible anymore.. Duplicate of:\nhttps://github.com/strapi/strapi/issues/1254\nand\nhttps://github.com/strapi/strapi/issues/1235. Chrome Version 66.0.3359.181 (Official Build) (64-bit) & Windows 10/Linux Mint 18.3/Kubuntu 18.04\nAble to reproduce the issue, but hitting the back button twice brings me to the login screen and I'm able to login in just fine from there.. @yummyelin just something I noticed your package.json in that example is listing \"strapi\": \"3.0.0-alpha.12\" and not  \"strapi\": \"3.0.0-alpha.12.2\"\nCan you try and generate a new clean project and add your models to test with a clean 12.2 project?. In my example API here is the depends from my package.json (a few variations are normal since I'm using MySQL)\nhttps://github.com/canonn-science/CAPIv2-Strapi/blob/d99255a5f03c1e9b5a95196cbe4a4aeb853b4699/package.json#L14-L28. @mnlbox I do agree with you on this, if it is still happening randomly on v12.7.1 to only specific people the root cause needs to be found, either that be with Strapi or with the environment.\nI know there are quite a lot of issues on the Strapi github but they shouldn't be closed out if they are following the proper format and it is believed the bug may still exist.\nI too have had similar issues that are difficult to re-produce and have filed a few bug repots to offer an issue that others can relay additional details. I think having a page on the wiki listing issues that are considered \"Known problems\" is a good idea and linking to these issues to help promote discussion and ways to find a resolution.\n@lauriejim @soupette @Aurelsicoko what are your thoughts?. @mnlbox Can you provide more information as to the specs of the host that is running Strapi? \nSuch as:\n\nIs it a VM? If so what are the resources allocated to it\nIs the database on the same system\nDo you have other services/applications/ect running on the system\nIf this is a physical machine what are the hardware specs and idle usage (not running strapi) vs strapi usage (total resource usage while strapi is running)\n\nI want to rule out the possibility that strapi is rendering slow due to the hosts resources. I can say I have run strapi on a Vultr VM that only has 1 CPU core and ~1GB of memory so the usage shouldn't be very high (given strapi did not perform very fast, but it worked without issue). @VonOx I can't reproduce this issue either. And my Database is in a whole other country running through a proxy as well. What version of MariaDB are you using?. @VonOx try creating a clean new project and create a new table and try testing with that. Given I use MariaDB Galera 10.2.something but from what I've read on the change logs between 10.2 and 10.3 nothing should be causing that issue on the DB side.. @VonOx there are many issues with Windows 10, if I were you I would stick to ubuntu or some other linux flavor. (Who runs nodejs projects on windows anyway :stuck_out_tongue: wouldn't want to deal with that overhead). Odd, this was something I submitted a PR for @soupette . https://github.com/strapi/strapi/pull/1151. @soupette Thats strange, can you check the database to confirm its being stored as a string? \nBased on this: https://www.postgresql.org/docs/9.5/static/datatype-numeric.html\ndecimal should be a valid data type, the same applies to MySQL and I can 100% confirm that is how its being set (though some have stated its default accuracy should be changed, that is something we should look at from both the cli and adminUI later on). Ahhh alright so postgres is changing decimal to numeric which are the same thing to postgres but not to MySQL. Give me a few moments I can submit a PR to fix I believe.\n\n. @soupette I believe something like this should fix it: https://github.com/derrickmehaffy/strapi/commit/57cb35bb1053712b76d605fef4f05455482edb7e. If you want I submit a pull request, but I'm about to head off for the holiday weekend here in the US in about ~30 minutes.. +1 to completely getting rid of _id :stuck_out_tongue: . @dertuerke and @opgbaudouin I am unable to reproduce this issue on Ubuntu using the following versions:\nNode 10.1.0\nNode 10.2.1\nNode 10.3.0\nAll using NPM 6.1.0, there might be an issue with your locally installed node version, or if you are on windows there are known issues with this. I would recommend if you are on a Windows 10 machine, you install the WSL (Ubuntu I recommend) and do further development on there. \nOr at the very least you can test to confirm the issue is related to windows. The Strapi team generally do all their development work on Mac/Linux thus Windows development support isn't a major priority for them. (And they may not have the machines to test it themselves). https://docs.microsoft.com/en-us/windows/wsl/install-win10. @opgbaudouin it's certainly a bug, the team is aware of issues with development on Windows, it's just not a priority for them at the moment. For those on windows, you can either work in the WSL or run a virtual machine of whatever Linux flavor you want. :D\n. @anubhaavofficial when the Strapi team have time, it isn't a priority for them right now. You're more than welcome to submit a PR. \ud83d\ude03 . Related issue: https://github.com/strapi/strapi/issues/1254. @johannpinson you would be a huge life saver on adding it into the type builder <3. Windows support is meh right now, as with many other issues listed here in the git repo. I would suggest either use WSL (Ubuntu) or doing your development in a virtual machine if your on windows\nWSL Guide: http://wsl-guide.org/en/latest/. @BroTrue ^^\nAlso the Strapi team are aware of the issues when doing development on windows hence their note in the roadmap: https://github.com/strapi/strapi/projects/1. Thats what I'm here for, to try and answer the basic questions while the Strapi team focuses on bug fixes and feature updates \ud83d\ude1b . @Aurelsicoko can probably close this issue in favor of: https://portal.productboard.com/strapi/c/38-filters-on-relational-attributes. @qorrect you can't yet until the PR is merged. This issue was closed as the feature was moved to the project board.. @odelucca there is no timeline for filtering on relation as an outside contributor is working on it, you can follow the progress here: https://github.com/strapi/strapi/pull/2452. As Strapi is an alpha project at the moment and there is still a large amount of ongoing development and with node 10 going into LTS in October 2018 (about 5 months from now) I would say it would be best to require and develop on node 10 to promote future development.\nNode LTS release Schedule: https://github.com/nodejs/Release#release-schedule. Awesome! Thanks @lauriejim ! I'll merge this locally and do some testing. \\o/\n. @lauriejim AdminUI works fine.\nGet requests properly return the specified values of true and false however POST and PUT requests do not work. If you attempt to send a true or false instead of the 1/0 you get this:\n[2018-05-30T16:44:48.341Z] debug POST /testboolean (96 ms)\n[2018-05-30T16:44:52.931Z] debug GET /testboolean (14 ms)\n{ Error: ER_TRUNCATED_WRONG_VALUE_FOR_FIELD: Incorrect integer value: 'true' for column 'testboolean1' at row 1\n    at Query.Sequence._packetToError (/root/strapitest/node_modules/mysql/lib/protocol/sequences/Sequence.js:52:14)\n    at Query.ErrorPacket (/root/strapitest/node_modules/mysql/lib/protocol/sequences/Query.js:77:18)\n    at Protocol._parsePacket (/root/strapitest/node_modules/mysql/lib/protocol/Protocol.js:279:23)\n    at Parser.write (/root/strapitest/node_modules/mysql/lib/protocol/Parser.js:76:12)\n    at Protocol.write (/root/strapitest/node_modules/mysql/lib/protocol/Protocol.js:39:16)\n    at Socket.<anonymous> (/root/strapitest/node_modules/mysql/lib/Connection.js:103:28)\n    at Socket.emit (events.js:182:13)\n    at Socket.EventEmitter.emit (domain.js:442:20)\n    at addChunk (_stream_readable.js:279:12)\n    at readableAddChunk (_stream_readable.js:264:11)\n    at Socket.Readable.push (_stream_readable.js:219:10)\n    at TCP.onread (net.js:636:20)\n    at Protocol._enqueue (/root/strapitest/node_modules/mysql/lib/protocol/Protocol.js:145:48)\n    at Connection.query (/root/strapitest/node_modules/mysql/lib/Connection.js:208:25)\n    at /root/strapitest/node_modules/knex/lib/dialects/mysql/index.js:161:18\nFrom previous event:\n    at Client_MySQL._query (/root/strapitest/node_modules/knex/lib/dialects/mysql/index.js:155:12)\n    at Client_MySQL.query (/root/strapitest/node_modules/knex/lib/client.js:206:17)\n    at Runner.<anonymous> (/root/strapitest/node_modules/knex/lib/runner.js:155:36)\nFrom previous event:\n    at /root/strapitest/node_modules/knex/lib/runner.js:61:21\nFrom previous event:\n    at Runner.run (/root/strapitest/node_modules/knex/lib/runner.js:47:31)\n    at Builder.Target.then (/root/strapitest/node_modules/knex/lib/interface.js:39:43)\n    at Child.<anonymous> (/root/strapi/packages/strapi-bookshelf/node_modules/bookshelf/lib/model.js:1118:36)\n    at runCallback (timers.js:696:18)\n    at tryOnImmediate (timers.js:667:5)\n    at processImmediate (timers.js:649:5)\n    at process.topLevelDomainCallback (domain.js:121:23)\n  code: 'ER_TRUNCATED_WRONG_VALUE_FOR_FIELD',\n  errno: 1366,\n  sqlMessage:\n   'Incorrect integer value: \\'true\\' for column \\'testboolean1\\' at row 1',\n  sqlState: '22007',\n  index: 0,\n  sql:\n   'insert into `testbooleans` (`created_at`, `testboolean1`, `testboolean2`, `teststring`, `updated_at`) values (\\'2018-05-30 09:45:11.025\\', \\'true\\', \\'false\\', \\'test5\\', \\'2018-05-30 09:45:11.025\\')' }\nThe alias works fine on GET requests but it doesn't convert between them for POST/PUT.. Response from a GET Request:\njson\n[\n    {\n        \"id\": 4,\n        \"teststring\": \"test1\",\n        \"testboolean1\": true,\n        \"testboolean2\": false,\n        \"created_at\": \"2018-05-30T16:41:43.000Z\",\n        \"updated_at\": \"2018-05-30T16:41:43.000Z\"\n    },\n    {\n        \"id\": 7,\n        \"teststring\": \"test2\",\n        \"testboolean1\": false,\n        \"testboolean2\": true,\n        \"created_at\": \"2018-05-30T16:41:49.000Z\",\n        \"updated_at\": \"2018-05-30T16:41:49.000Z\"\n    },\n    {\n        \"id\": 10,\n        \"teststring\": \"test3\",\n        \"testboolean1\": true,\n        \"testboolean2\": true,\n        \"created_at\": \"2018-05-30T16:41:56.000Z\",\n        \"updated_at\": \"2018-05-30T16:41:56.000Z\"\n    },\n    {\n        \"id\": 13,\n        \"teststring\": \"test4\",\n        \"testboolean1\": false,\n        \"testboolean2\": false,\n        \"created_at\": \"2018-05-30T16:42:02.000Z\",\n        \"updated_at\": \"2018-05-30T16:42:02.000Z\"\n    }\n]\n. @lauriejim I just created a test model and used postman to try and do a post request, I also tried to do a put request on entries I made from the adminUI.\nI merged this PR into the current master when I tested.. Running some additional checks on the fix-boolean-mysql branch.. Steps to reproduce:\nNode Version: v10.3.0\nNPM Version: v6.1.0\nDatabase: MariaDB 10.2\nClone https://github.com/strapi/strapi.git checkout fix-boolean-mysql branch, and run sudo npm run setup:build\nModel:\n{\n  \"connection\": \"default\",\n  \"collectionName\": \"testbooleans\",\n  \"info\": {\n    \"name\": \"testboolean\",\n    \"description\": \"\"\n  },\n  \"options\": {\n    \"increments\": true,\n    \"timestamps\": true,\n    \"comment\": \"\"\n  },\n  \"attributes\": {\n    \"teststring\": {\n      \"type\": \"string\"\n    },\n    \"testbool1\": {\n      \"type\": \"boolean\"\n    },\n    \"testbool2\": {\n      \"type\": \"boolean\"\n    },\n    \"testbool3\": {\n      \"type\": \"boolean\"\n    }\n  }\n}\nPUT Request on id 4 (Updating the value testbool1 from true to false:\n``\n[2018-05-31T13:57:20.601Z] debug PUT /testboolean/4 (24 ms)\n{ method: 'select',\n  options: {},\n  timeout: false,\n  cancelOnTimeout: false,\n  bindings: [ 4, 1 ],\n  __knexQueryUid: '8f405d71-1402-4269-a68b-bbe3aa4d3564',\n  sql:\n   'selectusers-permissions_user.* fromusers-permissions_userwhereusers-permissions_user.id= ? limit ?' }\n{ method: 'select',\n  options: {},\n  timeout: false,\n  cancelOnTimeout: false,\n  bindings: [ 4 ],\n  __knexQueryUid: 'e1467bc9-8e9f-422a-a2a5-8508fbf191c1',\n  sql:\n   'selectusers-permissions_role.* fromusers-permissions_rolewhereusers-permissions_role.idin (?)' }\n{ method: 'update',\n  options: {},\n  timeout: false,\n  cancelOnTimeout: false,\n  bindings: [ '4', 'false', 2018-05-31T13:57:54.865Z, '4' ],\n  __knexQueryUid: '9709d7d3-55eb-4c6b-a720-319ef421e3f2',\n  sql:\n   'updatetestbooleanssetid= ?,testbool1= ?,updated_at= ? whereid= ?' }\n{ method: 'select',\n  options: {},\n  timeout: false,\n  cancelOnTimeout: false,\n  bindings: [ '4', 1 ],\n  __knexQueryUid: '3acbfcd7-dd5b-45ff-a922-49d6d86f6dda',\n  sql:\n   'selecttestbooleans.* fromtestbooleanswheretestbooleans.id` = ? limit ?' }\nUnhandled rejection Error: ER_TRUNCATED_WRONG_VALUE_FOR_FIELD: Incorrect integer value: 'false' for column 'testbool1' at row 1\n    at Query.Sequence._packetToError (/root/strapitest/node_modules/mysql/lib/protocol/sequences/Sequence.js:52:14)\n    at Query.ErrorPacket (/root/strapitest/node_modules/mysql/lib/protocol/sequences/Query.js:77:18)\n    at Protocol._parsePacket (/root/strapitest/node_modules/mysql/lib/protocol/Protocol.js:279:23)\n    at Parser.write (/root/strapitest/node_modules/mysql/lib/protocol/Parser.js:76:12)\n    at Protocol.write (/root/strapitest/node_modules/mysql/lib/protocol/Protocol.js:39:16)\n    at Socket. (/root/strapitest/node_modules/mysql/lib/Connection.js:103:28)\n    at Socket.emit (events.js:182:13)\n    at Socket.EventEmitter.emit (domain.js:442:20)\n    at addChunk (_stream_readable.js:279:12)\n    at readableAddChunk (_stream_readable.js:264:11)\n    at Socket.Readable.push (_stream_readable.js:219:10)\n    at TCP.onread (net.js:636:20)\n    at Protocol._enqueue (/root/strapitest/node_modules/mysql/lib/protocol/Protocol.js:145:48)\n    at Connection.query (/root/strapitest/node_modules/mysql/lib/Connection.js:208:25)\n    at /root/strapitest/node_modules/knex/lib/dialects/mysql/index.js:161:18\nFrom previous event:\n    at Client_MySQL._query (/root/strapitest/node_modules/knex/lib/dialects/mysql/index.js:155:12)\n    at Client_MySQL.query (/root/strapitest/node_modules/knex/lib/client.js:206:17)\n    at Runner. (/root/strapitest/node_modules/knex/lib/runner.js:155:36)\nFrom previous event:\n    at /root/strapitest/node_modules/knex/lib/runner.js:61:21\nFrom previous event:\n    at Runner.run (/root/strapitest/node_modules/knex/lib/runner.js:47:31)\n    at Builder.Target.then (/root/strapitest/node_modules/knex/lib/interface.js:39:43)\n    at Child. (/root/strapi/packages/strapi-bookshelf/node_modules/bookshelf/lib/model.js:1118:36)\n    at runCallback (timers.js:696:18)\n    at tryOnImmediate (timers.js:667:5)\n    at processImmediate (timers.js:649:5)\n    at process.topLevelDomainCallback (domain.js:121:23)\n{ method: 'select',\n  options: {},\n  timeout: false,\n  cancelOnTimeout: false,\n  bindings: [ '4', 1 ],\n  __knexQueryUid: '746acb99-d759-4143-8393-14bb3f714c74',\n  sql:\n   'select testbooleans.* from testbooleans where testbooleans.id = ? limit ?' }\n[2018-05-31T13:57:54.876Z] debug PUT /testboolean/4 (20 ms)\n```\nPOST Request to create a new entry:\n{ method: 'select',\n  options: {},\n  timeout: false,\n  cancelOnTimeout: false,\n  bindings: [ 4, 1 ],\n  __knexQueryUid: '28e4acf5-50ba-465d-a39c-7a314d9160e3',\n  sql:\n   'select `users-permissions_user`.* from `users-permissions_user` where `users-permissions_user`.`id` = ? limit ?' }\n{ method: 'select',\n  options: {},\n  timeout: false,\n  cancelOnTimeout: false,\n  bindings: [ 4 ],\n  __knexQueryUid: '90abbba5-9dba-483d-9b2f-9795a09ab390',\n  sql:\n   'select `users-permissions_role`.* from `users-permissions_role` where `users-permissions_role`.`id` in (?)' }\n{ method: 'insert',\n  options: {},\n  timeout: false,\n  cancelOnTimeout: false,\n  bindings:\n   [ 2018-05-31T14:01:40.362Z,\n     'false',\n     'false',\n     'true',\n     'test10',\n     2018-05-31T14:01:40.362Z ],\n  __knexQueryUid: '1d15a129-48f1-4267-8382-828517b90cb1',\n  sql:\n   'insert into `testbooleans` (`created_at`, `testbool1`, `testbool2`, `testbool3`, `teststring`, `updated_at`) values (?, ?, ?, ?, ?, ?)' }\n{ Error: ER_TRUNCATED_WRONG_VALUE_FOR_FIELD: Incorrect integer value: 'false' for column 'testbool1' at row 1\n    at Query.Sequence._packetToError (/root/strapitest/node_modules/mysql/lib/protocol/sequences/Sequence.js:52:14)\n    at Query.ErrorPacket (/root/strapitest/node_modules/mysql/lib/protocol/sequences/Query.js:77:18)\n    at Protocol._parsePacket (/root/strapitest/node_modules/mysql/lib/protocol/Protocol.js:279:23)\n    at Parser.write (/root/strapitest/node_modules/mysql/lib/protocol/Parser.js:76:12)\n    at Protocol.write (/root/strapitest/node_modules/mysql/lib/protocol/Protocol.js:39:16)\n    at Socket.<anonymous> (/root/strapitest/node_modules/mysql/lib/Connection.js:103:28)\n    at Socket.emit (events.js:182:13)\n    at Socket.EventEmitter.emit (domain.js:442:20)\n    at addChunk (_stream_readable.js:279:12)\n    at readableAddChunk (_stream_readable.js:264:11)\n    at Socket.Readable.push (_stream_readable.js:219:10)\n    at TCP.onread (net.js:636:20)\n    at Protocol._enqueue (/root/strapitest/node_modules/mysql/lib/protocol/Protocol.js:145:48)\n    at Connection.query (/root/strapitest/node_modules/mysql/lib/Connection.js:208:25)\n    at /root/strapitest/node_modules/knex/lib/dialects/mysql/index.js:161:18\nFrom previous event:\n    at Client_MySQL._query (/root/strapitest/node_modules/knex/lib/dialects/mysql/index.js:155:12)\n    at Client_MySQL.query (/root/strapitest/node_modules/knex/lib/client.js:206:17)\n    at Runner.<anonymous> (/root/strapitest/node_modules/knex/lib/runner.js:155:36)\nFrom previous event:\n    at /root/strapitest/node_modules/knex/lib/runner.js:61:21\nFrom previous event:\n    at Runner.run (/root/strapitest/node_modules/knex/lib/runner.js:47:31)\n    at Builder.Target.then (/root/strapitest/node_modules/knex/lib/interface.js:39:43)\n    at Child.<anonymous> (/root/strapi/packages/strapi-bookshelf/node_modules/bookshelf/lib/model.js:1118:36)\n    at runCallback (timers.js:696:18)\n    at tryOnImmediate (timers.js:667:5)\n    at processImmediate (timers.js:649:5)\n    at process.topLevelDomainCallback (domain.js:121:23)\n  code: 'ER_TRUNCATED_WRONG_VALUE_FOR_FIELD',\n  errno: 1366,\n  sqlMessage:\n   'Incorrect integer value: \\'false\\' for column \\'testbool1\\' at row 1',\n  sqlState: '22007',\n  index: 0,\n  sql:\n   'insert into `testbooleans` (`created_at`, `testbool1`, `testbool2`, `testbool3`, `teststring`, `updated_at`) values (\\'2018-05-31 07:01:40.362\\', \\'false\\', \\'false\\', \\'true\\', \\'test10\\', \\'2018-05-31 07:01:40.362\\')' }\n[2018-05-31T14:01:40.368Z] debug POST /testboolean (15 ms). Using 0/1 instead of false/true works fine:\n\n. @lauriejim yeah I can once I get a bit more free time, busy day. If both you and @Aurelsicoko are both able to use it, its likely and issue with pbcak (\"Problem Between Chair and Keyboard\") aka me :stuck_out_tongue: . @lauriejim Yup it was pbcak, using raw set to application/json worked just fine in postman. Not sure why x-www-form-urlencoded wasn't working properly but :man_shrugging: \nLooks good to me.. @coolemur can you try and update your node version to node 9 or node 10 and try with a fresh project? Also include any errors dumped into the console.. @coolemur I believe as of late the required version of node >9 is documented but yeah I think right now its best to just move to node 10. @coolemur is Strapi automatically restarting when you save a content type? Or is this for data being entered in the content manager?\nStrapi should automatically restart when you create a model (content-type-builder) and hit save.. @coolemur in your console are you seeing any errors being generated (not the browser console, the console where you ran strapi start)\nAlso is your model being shown in the api/-modelname-/models/-Modelname-.settings.json ?. You can also modify the package.json to run strapi with pm2. If you look at this guide: https://blog.strapi.io/how-to-deploy-a-strapi-application/\n. Can confirm, just tested as well and mainfield is lost when modifying the model via the adminUI\n. @soupette you are awesome at submitting huge PRs :stuck_out_tongue: . @soupette no complaints from me, this was a huge feature change. Excited to see it in person!. Related issue: https://github.com/strapi/strapi/issues/1115. @johannpinson can you include a screenshot with this as well?. @johannpinson correct me if I'm wrong (my french is terrible \ud83d\ude1b ) For the Main settings the enumeration values are comma separated values yeah?. Yeah it's very likely we will need to expand on this in the future with cleaner UI elements but for now, even basic support, this is perfect. :). I agree @lauriejim for now simple.\n@johannpinson that's exactly the type of interface I was thinking of.. @Aurelsicoko can confirm this issue:\n\nThis needs to be re-opened and made a very high priority. Basically allows anyone to bypass authentication to query the server.. @lauriejim can you link the commit this was fixed in? I was testing on 14.2 and could still bypass it.. Just for an example on v14.2:\n\n. Try increasing it to ~30,000 (30 seconds) also note that some changes require you to drop the database.\nThis issue is also a duplicate, please read through open and closed issues before you make a new one.. I can confirm this issue still exist in 12.6 using the following in config/environments/development/request.json\njson\n{\n  \"session\": {\n    \"enabled\": true,\n    \"client\": \"cookie\",\n    \"key\": \"strapi.sid\",\n    \"prefix\": \"strapi:sess:\",\n    \"secretKeys\": [\"mySecretKey1\", \"mySecretKey2\"],\n    \"httpOnly\": true,\n    \"maxAge\": 86400000,\n    \"overwrite\": true,\n    \"signed\": false,\n    \"rolling\": false\n  },\n  \"logger\": {\n    \"level\": \"debug\",\n    \"exposeInContext\": true,\n    \"requests\": true\n  },\n  \"parser\": {\n    \"enabled\": true,\n    \"multipart\": true\n  },\n  \"router\": {\n    \"prefix\": \"/v2\"\n  }\n}\nResults in the following:\nlocalhost:1337/\n\nlocalhost:1337/admin\n\nlocalhost:1337/v2/\nTechnically this is loading, but its loading in the wrong spot :stuck_out_tongue: hence the failed images and such\n\nlocalhost:1337/v2/admin\nBased on the errors it seems its still trying to load the resources at localhost:1337/admin/main.js and localhost:1337/admin/vendor.dll.js so the admin index.html isn't being rebuilt.\n\n. Changing the prefix for requests should change the restAPI model requests, but the /public and /admin should remain the same. IE localhost:1337/admin and localhost:1337/v2/modelTest. @bel0v you can try it and find out? right now there is no \"solution\" as it wasn't deemed critical for the moment. Versioning is on the roadmap https://portal.productboard.com/strapi/c/17-versioning\n. Per this recent change, decimal currently can only handle the following M,D - 10,2:\nhttps://github.com/strapi/strapi/blob/adf643854efa94abc5b0246ff403862904ccdd4f/packages/strapi-bookshelf/lib/index.js#L363-L365. You can also within MySQL just define the M value which for Float is 12 and for Double is 22. @Aurelsicoko I mean at least on bookshelf you just need to define some default accuracy values and allow for users to overwrite it. This would also require an addition to the adminUI.\nI don't think should should be closed, and either should be kept as a Good for new contributors. I personally think this is an important issue as without it you are basically locking users in to use only the defined accuracy that Strapi has coded into bookshelf.\nI honestly don't have the skills required to modify bookshelf, the adminUI, and the model.settings.json parser. Hence the reason I stated in the OP if anyone would like to work on this you can submit a PR. @redni I don't believe the API itself has any translations or any soft of localization option. The AdminUI translations are here: https://github.com/strapi/strapi/tree/master/packages/strapi-admin/admin/src/translations. @redni, you could do the translation on your application side. Basically check for x error message, then display y popup. Right now the API will only reply in English.. Postman: \n\nAnd debug logs:\n0|capidev  | { method: 'select',\n0|capidev  |   options: {},\n0|capidev  |   timeout: false,\n0|capidev  |   cancelOnTimeout: false,\n0|capidev  |   bindings: [ 'public', 1 ],\n0|capidev  |   __knexQueryUid: 'a384563a-0aaf-4d16-83ed-3ca6a38baacd',\n0|capidev  |   sql:\n0|capidev  |    'select `users-permissions_role`.* from `users-permissions_role` where `users-permissions_role`.`type` = ? limit ?' }\n0|capidev  | { method: 'select',\n0|capidev  |   options: {},\n0|capidev  |   timeout: false,\n0|capidev  |   cancelOnTimeout: false,\n0|capidev  |   bindings: [ 3, 'application', 'system', 'findone', true, 1 ],\n0|capidev  |   __knexQueryUid: '0db486ae-f0df-46a5-9568-75b21edbb850',\n0|capidev  |   sql:\n0|capidev  |    'select `users-permissions_permission`.* from `users-permissions_permission` where `users-permissions_permission`.`role` = ? and `users-permissions_permission`.`type` = ? and `users-permissions_permission`.`controller` = ? and `users-permissions_permission`.`action` = ? and `users-permissions_permission`.`enabled` = ? limit ?' }\n0|capidev  | { method: 'select',\n0|capidev  |   options: {},\n0|capidev  |   timeout: false,\n0|capidev  |   cancelOnTimeout: false,\n0|capidev  |   bindings: [ 'count', 1 ],\n0|capidev  |   __knexQueryUid: '4f4d4069-7ec4-4226-a103-d4d2ec17a297',\n0|capidev  |   sql:\n0|capidev  |    'select `systems`.* from `systems` where `systems`.`id` = ? limit ?' }\n0|capidev  | [2018-06-08T00:34:43.230Z] debug GET /system/count (6 ms). I am using pm2 instead of the normal strapi start but have modified my package.json to do so.. I confirmed with a new fresh 12.3 project that it also responds with a 404 error.\n@okaris can you provide any help here, I know you created the PR for bookshelf on the count route: https://github.com/strapi/strapi/pull/1307\nAlong with the services and controllers: https://github.com/strapi/strapi/pull/1293\n@lauriejim was testing done on this prior to release? Trying to make sure this isn't an issue with my environment. \n. @okaris Yes fetch all does what it needs to and works fine. To me it looks like the route isn't being called but it's hard to figure out as there is no error message in the console . Nice catch @lauriejim, just curious on why moving them around fixes it?. Can confirm the fix in https://github.com/strapi/strapi/pull/1352 works as intended, marking this as resolved. It will likely be pushed out in 12.4. @1ncidental strapi itself should not handle spaces at all (most APIs won't), generally APIs will use camelcase instead of spaces due to this reason.\nAlso in the future can you please use the bug report template and fill in all the required information to report a bug.. I closed out the issue on this, but it should be good to merge this into the master branch unless you waiting on some tests @lauriejim \n. May want to modify your versions to state mongo and macos just to clarify.. @1ncidental please use the proper bug report format. . @lauriejim likely related to previous discussion: https://github.com/strapi/strapi/issues/661\nI believe @Aurelsicoko and I spoke at length about this as a planned change, not sure what you guys had in mind for an ETA since it will change quite a bit of stuff.. @mnlbox I think that issue was AdminUI related, posting a new user via the api shouldn't happen as I think it is decoupled from the adminUI. Odd @leinue I can't reproduce this, Posting both with email or username.. Aye yeah @Aurelsicoko I spoke about this, I believe it is planned to change just not sure when @omarzion its an issue that affects other things like the AdminUI ect. The same applies to plural stuff as well.. @omarzion https://github.com/strapi/strapi/blob/master/.github/CONTRIBUTING.md\nAnd I don't know of their exact plans but the feeling is that all of the adminUI names ect will be custom set per the user preferences, same goes for plural forms will all be custom. As for the API itself, the model names will probably remain all lowercase as is (as thats just api standard practice) but the values within the model can already be camelCase.. If you have ever worked with loopback, I think the naming system will end up being fairly similar.. example of the error I get:\n[2018-06-13T11:17:37.142Z] error update `grcodexcategories` set `id` = 2, `primaryArtifact` = 6, `updated_at` = '2018-06-13 04:17:37.136' where `id` = 2 - ER_BAD_FIELD_ERROR: Unknown column 'primaryArtifact' in 'field list'\n@lauriejim this is a breaking issue with oneWay relations on 12.3. I can confirm that by manually adding the column primaryArtifact with a type of tinyint resolved the issue, and data was properly saved. This does confirm that Bookshelf/Knex is not created the column.. Related PR: https://github.com/strapi/strapi/pull/1199. Related PR: https://github.com/strapi/strapi/pull/1199\n@okaris maybe you can provide some context, I don't believe this is intended. So long as the value of the field name on the left is different between them? Thats where the check should happen as to if the value already exists. Manually adding the oneWay relation to the model settings file did add it, thus the issue is with the adminui:\n\n. @johannpinson trust me I have a reason \ud83d\ude06 There is a means to my madness.. Fixes: https://github.com/strapi/strapi/issues/1373. note removing graphql plugin allows the server to start just fine.. @lauriejim Breaking issue with 12.3 on graphQL if you are using oneWay relations.. Yes @lauriejim no issues with 12.4. @ShawTim the editor is built into the adminUI, @soupette is the guy to answer this. But I believe that yes, it would require you to modify your project to replace it.. Server starts fine and search function works as well.. Side note as well, Search function does not work with the enum type. @Aurelsicoko \n\n0|capidev  |    'select count(*) as `count` from `grsites` where LOWER(type) LIKE \\'%alpha%\\' or MATCH() AGAINST(? IN BOOLEAN MODE)' }\n0|capidev  | { Error: ER_PARSE_ERROR: You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near ') AGAINST('*alpha*' IN BOOLEAN MODE)' at line 1\n0|capidev  |     at Query.Sequence._packetToError (/srv/API/CAPIv2-Strapi/node_modules/mysql/lib/protocol/sequences/Sequence.js:52:14)\n0|capidev  |     at Query.ErrorPacket (/srv/API/CAPIv2-Strapi/node_modules/mysql/lib/protocol/sequences/Query.js:77:18)\n0|capidev  |     at Protocol._parsePacket (/srv/API/CAPIv2-Strapi/node_modules/mysql/lib/protocol/Protocol.js:279:23)\n0|capidev  |     at Parser.write (/srv/API/CAPIv2-Strapi/node_modules/mysql/lib/protocol/Parser.js:76:12)\n0|capidev  |     at Protocol.write (/srv/API/CAPIv2-Strapi/node_modules/mysql/lib/protocol/Protocol.js:39:16)\n0|capidev  |     at Socket.<anonymous> (/srv/API/CAPIv2-Strapi/node_modules/mysql/lib/Connection.js:103:28)\n0|capidev  |     at Socket.emit (events.js:182:13)\n0|capidev  |     at Socket.EventEmitter.emit (domain.js:442:20)\n0|capidev  |     at addChunk (_stream_readable.js:283:12)\n0|capidev  |     at readableAddChunk (_stream_readable.js:264:11)\n0|capidev  |     at Socket.Readable.push (_stream_readable.js:219:10)\n0|capidev  |     at TCP.onread (net.js:635:20)\n0|capidev  |     at Protocol._enqueue (/srv/API/CAPIv2-Strapi/node_modules/mysql/lib/protocol/Protocol.js:145:48)\n0|capidev  |     at Connection.query (/srv/API/CAPIv2-Strapi/node_modules/mysql/lib/Connection.js:208:25)\n0|capidev  |     at /srv/API/CAPIv2-Strapi/node_modules/knex/lib/dialects/mysql/index.js:161:18\n0|capidev  | From previous event:\n0|capidev  |     at Client_MySQL._query (/srv/API/CAPIv2-Strapi/node_modules/knex/lib/dialects/mysql/index.js:155:12)\n0|capidev  |     at Client_MySQL.query (/srv/API/CAPIv2-Strapi/node_modules/knex/lib/client.js:206:17)\n0|capidev  |     at Runner.<anonymous> (/srv/API/CAPIv2-Strapi/node_modules/knex/lib/runner.js:155:36)\n0|capidev  | From previous event:\n0|capidev  |     at /srv/API/CAPIv2-Strapi/node_modules/knex/lib/runner.js:61:21\n0|capidev  | From previous event:\n0|capidev  |     at Runner.run (/srv/API/CAPIv2-Strapi/node_modules/knex/lib/runner.js:47:31)\n0|capidev  |     at Builder.Target.then (/srv/API/CAPIv2-Strapi/node_modules/knex/lib/interface.js:39:43)\n0|capidev  |     at runCallback (timers.js:696:18)\n0|capidev  |     at tryOnImmediate (timers.js:667:5)\n0|capidev  |     at processImmediate (timers.js:649:5)\n0|capidev  |     at process.topLevelDomainCallback (domain.js:121:23)\n0|capidev  |   code: 'ER_PARSE_ERROR',\n0|capidev  |   errno: 1064,\n0|capidev  |   sqlMessage:\n0|capidev  |    'You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near \\') AGAINST(\\'*alpha*\\' IN BOOLEAN MODE)\\' at line 1',\n0|capidev  |   sqlState: '42000',\n0|capidev  |   index: 0,\n0|capidev  |   sql:\n0|capidev  |    'select count(*) as `count` from `grsites` where LOWER(type) LIKE \\'%alpha%\\' or MATCH() AGAINST(\\'*alpha*\\' IN BOOLEAN MODE)' }\n0|capidev  | { Error: ER_PARSE_ERROR: You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near ') AGAINST('*alpha*' IN BOOLEAN MODE) order by `id` ASC limit 10' at line 1\n0|capidev  |     at Query.Sequence._packetToError (/srv/API/CAPIv2-Strapi/node_modules/mysql/lib/protocol/sequences/Sequence.js:52:14)\n0|capidev  |     at Query.ErrorPacket (/srv/API/CAPIv2-Strapi/node_modules/mysql/lib/protocol/sequences/Query.js:77:18)\n0|capidev  |     at Protocol._parsePacket (/srv/API/CAPIv2-Strapi/node_modules/mysql/lib/protocol/Protocol.js:279:23)\n0|capidev  |     at Parser.write (/srv/API/CAPIv2-Strapi/node_modules/mysql/lib/protocol/Parser.js:76:12)\n0|capidev  |     at Protocol.write (/srv/API/CAPIv2-Strapi/node_modules/mysql/lib/protocol/Protocol.js:39:16)\n0|capidev  |     at Socket.<anonymous> (/srv/API/CAPIv2-Strapi/node_modules/mysql/lib/Connection.js:103:28)\n0|capidev  |     at Socket.emit (events.js:182:13)\n0|capidev  |     at Socket.EventEmitter.emit (domain.js:442:20)\n0|capidev  |     at addChunk (_stream_readable.js:283:12)\n0|capidev  |     at readableAddChunk (_stream_readable.js:264:11)\n0|capidev  |     at Socket.Readable.push (_stream_readable.js:219:10)\n0|capidev  |     at TCP.onread (net.js:635:20)\n0|capidev  |     at Protocol._enqueue (/srv/API/CAPIv2-Strapi/node_modules/mysql/lib/protocol/Protocol.js:145:48)\n0|capidev  |     at Connection.query (/srv/API/CAPIv2-Strapi/node_modules/mysql/lib/Connection.js:208:25)\n0|capidev  |     at /srv/API/CAPIv2-Strapi/node_modules/knex/lib/dialects/mysql/index.js:161:18\n0|capidev  | From previous event:\n0|capidev  |     at Client_MySQL._query (/srv/API/CAPIv2-Strapi/node_modules/knex/lib/dialects/mysql/index.js:155:12)\n0|capidev  |     at Client_MySQL.query (/srv/API/CAPIv2-Strapi/node_modules/knex/lib/client.js:206:17)\n0|capidev  |     at Runner.<anonymous> (/srv/API/CAPIv2-Strapi/node_modules/knex/lib/runner.js:155:36)\n0|capidev  | From previous event:\n0|capidev  |     at /srv/API/CAPIv2-Strapi/node_modules/knex/lib/runner.js:61:21\n0|capidev  |     at runCallback (timers.js:696:18)\n0|capidev  |     at tryOnImmediate (timers.js:667:5)\n0|capidev  |     at processImmediate (timers.js:649:5)\n0|capidev  |     at process.topLevelDomainCallback (domain.js:121:23)\n0|capidev  | From previous event:\n0|capidev  |     at Runner.run (/srv/API/CAPIv2-Strapi/node_modules/knex/lib/runner.js:47:31)\n0|capidev  |     at Builder.Target.then (/srv/API/CAPIv2-Strapi/node_modules/knex/lib/interface.js:39:43)\n0|capidev  |   code: 'ER_PARSE_ERROR',\n0|capidev  |   errno: 1064,\n0|capidev  |   sqlMessage:\n0|capidev  |    'You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near \\') AGAINST(\\'*alpha*\\' IN BOOLEAN MODE) order by `id` ASC limit 10\\' at line 1',\n0|capidev  |   sqlState: '42000',\n0|capidev  |   index: 0,\n0|capidev  |   sql:\n0|capidev  |    'select `grsites`.* from `grsites` where LOWER(type) LIKE \\'%alpha%\\' or MATCH() AGAINST(\\'*alpha*\\' IN BOOLEAN MODE) order by `id` ASC limit 10' }\n0|capidev  | [2018-06-13T20:25:58.828Z] debug GET /content-manager/explorer/grsite/count?_limit=10&_start=0&_sort=id%3AASC&source=content-manager&_q=alpha (26 ms)\n0|capidev  | [2018-06-13T20:25:58.828Z] debug GET /content-manager/explorer/grsite?_limit=10&_start=0&_sort=id%3AASC&source=content-manager&_q=alpha (29 ms). No which means it has something to do with my very large project likely a specific field type or something.. I'll have to test it again when I update to 12.5 on my project.. @lauriejim I have been able to reproduce this on Strapi 12.7.1 with a new project. The syntax being used is what is wrong here.\nI created a new project, and created a model with just a boolean field:\n{ Error: ER_PARSE_ERROR: You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near ')' at line 1\n    at Query.Sequence._packetToError (/mnt/nixstorage/Development/test/node_modules/mysql/lib/protocol/sequences/Sequence.js:52:14)\n    at Query.ErrorPacket (/mnt/nixstorage/Development/test/node_modules/mysql/lib/protocol/sequences/Query.js:77:18)\n    at Protocol._parsePacket (/mnt/nixstorage/Development/test/node_modules/mysql/lib/protocol/Protocol.js:279:23)\n    at Parser.write (/mnt/nixstorage/Development/test/node_modules/mysql/lib/protocol/Parser.js:76:12)\n    at Protocol.write (/mnt/nixstorage/Development/test/node_modules/mysql/lib/protocol/Protocol.js:39:16)\n    at Socket.<anonymous> (/mnt/nixstorage/Development/test/node_modules/mysql/lib/Connection.js:103:28)\n    at Socket.emit (events.js:182:13)\n    at Socket.EventEmitter.emit (domain.js:442:20)\n    at addChunk (_stream_readable.js:283:12)\n    at readableAddChunk (_stream_readable.js:264:11)\n    at Socket.Readable.push (_stream_readable.js:219:10)\n    at TCP.onread (net.js:638:20)\n    at Protocol._enqueue (/mnt/nixstorage/Development/test/node_modules/mysql/lib/protocol/Protocol.js:145:48)\n    at Connection.query (/mnt/nixstorage/Development/test/node_modules/mysql/lib/Connection.js:208:25)\n    at /mnt/nixstorage/Development/test/node_modules/knex/lib/dialects/mysql/index.js:154:18\nFrom previous event:\n    at Client_MySQL._query (/mnt/nixstorage/Development/test/node_modules/knex/lib/dialects/mysql/index.js:148:12)\n    at Client_MySQL.query (/mnt/nixstorage/Development/test/node_modules/knex/lib/client.js:202:17)\n    at Runner.<anonymous> (/mnt/nixstorage/Development/test/node_modules/knex/lib/runner.js:146:36)\nFrom previous event:\n    at /mnt/nixstorage/Development/test/node_modules/knex/lib/runner.js:48:21\n    at runCallback (timers.js:696:18)\n    at tryOnImmediate (timers.js:667:5)\n    at processImmediate (timers.js:649:5)\n    at process.topLevelDomainCallback (domain.js:121:23)\nFrom previous event:\n    at Runner.run (/mnt/nixstorage/Development/test/node_modules/knex/lib/runner.js:34:31)\n    at Raw.Target.then (/mnt/nixstorage/Development/test/node_modules/knex/lib/interface.js:20:43)\n  code: 'ER_PARSE_ERROR',\n  errno: 1064,\n  sqlMessage:\n   'You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near \\')\\' at line 1',\n  sqlState: '42000',\n  index: 0,\n  sql: 'CREATE FULLTEXT INDEX SEARCH_TEST_2_S ON `test2S` ()' }\n[2018-07-16T08:22:38.645Z] warn The SQL database indexes haven't been generated successfully. Please enable the debug mode for more details.. I created 2 models:\ntest1:\n{\n  \"connection\": \"default\",\n  \"collectionName\": \"test1S\",\n  \"info\": {\n    \"name\": \"test1\",\n    \"description\": \"\"\n  },\n  \"options\": {\n    \"increments\": true,\n    \"timestamps\": true,\n    \"comment\": \"\"\n  },\n  \"attributes\": {\n    \"teststring\": {\n      \"type\": \"string\"\n    },\n    \"testint\": {\n      \"type\": \"integer\"\n    },\n    \"testbool\": {\n      \"type\": \"boolean\"\n    }\n  }\n}\nIndex created fine\ntest2:\n{\n  \"connection\": \"default\",\n  \"collectionName\": \"test2S\",\n  \"info\": {\n    \"name\": \"test2\",\n    \"description\": \"\"\n  },\n  \"options\": {\n    \"increments\": true,\n    \"timestamps\": true,\n    \"comment\": \"\"\n  },\n  \"attributes\": {\n    \"testbool\": {\n      \"type\": \"boolean\"\n    }\n  }\n}\nIndex failed. . I believe the issue here is that every single model has a FULLTEXT search index being created but on models that don't have a column that can be placed in the index IE a boolean or a relation it will throw out errors. \nThe best way I can think to determine the root cause is to create a single model for every field type, including relations. That should narrow down the cause. . @Aurelsicoko is there some alternative to this? You should still be able to search numerical columns and after doing some testing today I noticed my search isn't working at all on any model..... @Aurelsicoko I'll be doing more testing here soon to provide better feedback on the Error. I just recently noticed it.. Still an issue on v14.1.1. Still seeing this error on the current master branch:\n``\n{ Error: ER_PARSE_ERROR: You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near ')' at line 1\n    at Query.Sequence._packetToError (/srv/test/node_modules/mysql/lib/protocol/sequences/Sequence.js:47:14)\n    at Query.ErrorPacket (/srv/test/node_modules/mysql/lib/protocol/sequences/Query.js:77:18)\n    at Protocol._parsePacket (/srv/test/node_modules/mysql/lib/protocol/Protocol.js:278:23)\n    at Parser.write (/srv/test/node_modules/mysql/lib/protocol/Parser.js:76:12)\n    at Protocol.write (/srv/test/node_modules/mysql/lib/protocol/Protocol.js:38:16)\n    at Socket.<anonymous> (/srv/test/node_modules/mysql/lib/Connection.js:91:28)\n    at Socket.<anonymous> (/srv/test/node_modules/mysql/lib/Connection.js:502:10)\n    at Socket.emit (events.js:182:13)\n    at Socket.EventEmitter.emit (domain.js:442:20)\n    at addChunk (_stream_readable.js:283:12)\n    at readableAddChunk (_stream_readable.js:264:11)\n    at Socket.Readable.push (_stream_readable.js:219:10)\n    at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)\n    at Protocol._enqueue (/srv/test/node_modules/mysql/lib/protocol/Protocol.js:144:48)\n    at Connection.query (/srv/test/node_modules/mysql/lib/Connection.js:200:25)\n    at /srv/test/node_modules/knex/lib/dialects/mysql/index.js:154:18\nFrom previous event:\n    at Client_MySQL._query (/srv/test/node_modules/knex/lib/dialects/mysql/index.js:148:12)\n    at Client_MySQL.query (/srv/test/node_modules/knex/lib/client.js:202:17)\n    at Runner.<anonymous> (/srv/test/node_modules/knex/lib/runner.js:146:36)\nFrom previous event:\n    at /srv/test/node_modules/knex/lib/runner.js:48:21\n    at runCallback (timers.js:694:18)\n    at tryOnImmediate (timers.js:665:5)\n    at processImmediate (timers.js:647:5)\n    at process.topLevelDomainCallback (domain.js:121:23)\nFrom previous event:\n    at Runner.run (/srv/test/node_modules/knex/lib/runner.js:34:31)\n    at Raw.Target.then (/srv/test/node_modules/knex/lib/interface.js:20:43)\n    at process._tickCallback (internal/process/next_tick.js:68:7)\n  code: 'ER_PARSE_ERROR',\n  errno: 1064,\n  sqlMessage:\n   'You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near \\')\\' at line 1',\n  sqlState: '42000',\n  index: 0,\n  sql: 'CREATE FULLTEXT INDEX SEARCH_TEST_1_S ONtest1S` ()' }\n[2018-09-25T11:40:21.090Z] warn The SQL database indexes haven't been generated successfully. Please enable the debug mode for more details.\n```\nPR 1950 did not fix the issue.. Used the following model:\n{\n  \"connection\": \"default\",\n  \"collectionName\": \"test1S\",\n  \"info\": {\n    \"name\": \"test1\",\n    \"description\": \"\"\n  },\n  \"options\": {\n    \"increments\": true,\n    \"timestamps\": true,\n    \"comment\": \"\"\n  },\n  \"attributes\": {\n    \"testint\": {\n      \"default\": \"\",\n      \"type\": \"integer\"\n    },\n    \"testbool\": {\n      \"default\": false,\n      \"type\": \"boolean\"\n    },\n    \"testenum\": {\n      \"default\": \"\",\n      \"type\": \"enumeration\",\n      \"enum\": [\n        \"test1\",\n        \"test2\",\n        \"test3\"\n      ]\n    }\n  }\n}. @lauriejim this issue still exists on the master FYI. Prob best to leave it open until it is solved.. Nevermind on previous comment, just tested with PR 2049 and no fulltext errors are generated. \n:+1: . thanks @johannpinson I figured you would catch it, there are a few other bugs with GraphQL in 12.4. \ud83d\ude04 . Getting a syntax error manually applying this\n(node:9627) UnhandledPromiseRejectionWarning: GraphQLError: Syntax Error: Expected Name, found (\n    at syntaxError (/mnt/nixstorage/Github/CAPIv2-Strapi/plugins/graphql/node_modules/graphql/error/syntaxError.js:24:10)\n    at expect (/mnt/nixstorage/Github/CAPIv2-Strapi/plugins/graphql/node_modules/graphql/language/parser.js:1299:32)\n    at parseName (/mnt/nixstorage/Github/CAPIv2-Strapi/plugins/graphql/node_modules/graphql/language/parser.js:92:15)\n    at parseEnumValueDefinition (/mnt/nixstorage/Github/CAPIv2-Strapi/plugins/graphql/node_modules/graphql/language/parser.js:956:14)\n    at many (/mnt/nixstorage/Github/CAPIv2-Strapi/plugins/graphql/node_modules/graphql/language/parser.js:1350:16)\n    at parseEnumValuesDefinition (/mnt/nixstorage/Github/CAPIv2-Strapi/plugins/graphql/node_modules/graphql/language/parser.js:945:50)\n    at parseEnumTypeDefinition (/mnt/nixstorage/Github/CAPIv2-Strapi/plugins/graphql/node_modules/graphql/language/parser.js:930:16)\n    at parseTypeSystemDefinition (/mnt/nixstorage/Github/CAPIv2-Strapi/plugins/graphql/node_modules/graphql/language/parser.js:669:16)\n    at parseDefinition (/mnt/nixstorage/Github/CAPIv2-Strapi/plugins/graphql/node_modules/graphql/language/parser.js:143:16)\n    at parseDocument (/mnt/nixstorage/Github/CAPIv2-Strapi/plugins/graphql/node_modules/graphql/language/parser.js:110:22)\n    at Object.parse (/mnt/nixstorage/Github/CAPIv2-Strapi/plugins/graphql/node_modules/graphql/language/parser.js:38:10)\n    at Object.addPolymorphicUnionType (/mnt/nixstorage/Github/CAPIv2-Strapi/plugins/graphql/services/GraphQL.js:793:27)\n    at Object.generateSchema (/mnt/nixstorage/Github/CAPIv2-Strapi/plugins/graphql/services/GraphQL.js:712:58)\n    at Function.initialize (/mnt/nixstorage/Github/CAPIv2-Strapi/plugins/graphql/hooks/graphql/index.js:103:62)\n    at /mnt/nixstorage/Github/CAPIv2-Strapi/node_modules/strapi/lib/hooks/index.js:20:31\n    at after (/mnt/nixstorage/Github/CAPIv2-Strapi/node_modules/strapi/lib/hooks/index.js:126:39)\n    at /mnt/nixstorage/Github/CAPIv2-Strapi/node_modules/lodash/lodash.js:9997:23\n    at Strapi.once (/mnt/nixstorage/Github/CAPIv2-Strapi/node_modules/strapi/lib/hooks/index.js:137:17)\n    at Object.onceWrapper (events.js:273:13)\n    at Strapi.emit (events.js:182:13)\n    at Strapi.EventEmitter.emit (domain.js:442:20)\n    at loadedModule.initialize.call.err (/mnt/nixstorage/Github/CAPIv2-Strapi/node_modules/strapi/lib/hooks/index.js:33:14). @johannpinson and I have tracked the issue to how enum values are stored. With GraphQL you cannot have spaces or special characters in them. Previously GraphQL treated these values as strings, but with the added changes in this PR: https://github.com/strapi/strapi/pull/1288 that is no longer the case.. removing these enum values with spaces and special chars allowed the server to start.. Limits are /^[_a-zA-Z][_a-zA-Z0-9]*$/. Getting a syntax error manually applying this\n(node:9627) UnhandledPromiseRejectionWarning: GraphQLError: Syntax Error: Expected Name, found (\n    at syntaxError (/mnt/nixstorage/Github/CAPIv2-Strapi/plugins/graphql/node_modules/graphql/error/syntaxError.js:24:10)\n    at expect (/mnt/nixstorage/Github/CAPIv2-Strapi/plugins/graphql/node_modules/graphql/language/parser.js:1299:32)\n    at parseName (/mnt/nixstorage/Github/CAPIv2-Strapi/plugins/graphql/node_modules/graphql/language/parser.js:92:15)\n    at parseEnumValueDefinition (/mnt/nixstorage/Github/CAPIv2-Strapi/plugins/graphql/node_modules/graphql/language/parser.js:956:14)\n    at many (/mnt/nixstorage/Github/CAPIv2-Strapi/plugins/graphql/node_modules/graphql/language/parser.js:1350:16)\n    at parseEnumValuesDefinition (/mnt/nixstorage/Github/CAPIv2-Strapi/plugins/graphql/node_modules/graphql/language/parser.js:945:50)\n    at parseEnumTypeDefinition (/mnt/nixstorage/Github/CAPIv2-Strapi/plugins/graphql/node_modules/graphql/language/parser.js:930:16)\n    at parseTypeSystemDefinition (/mnt/nixstorage/Github/CAPIv2-Strapi/plugins/graphql/node_modules/graphql/language/parser.js:669:16)\n    at parseDefinition (/mnt/nixstorage/Github/CAPIv2-Strapi/plugins/graphql/node_modules/graphql/language/parser.js:143:16)\n    at parseDocument (/mnt/nixstorage/Github/CAPIv2-Strapi/plugins/graphql/node_modules/graphql/language/parser.js:110:22)\n    at Object.parse (/mnt/nixstorage/Github/CAPIv2-Strapi/plugins/graphql/node_modules/graphql/language/parser.js:38:10)\n    at Object.addPolymorphicUnionType (/mnt/nixstorage/Github/CAPIv2-Strapi/plugins/graphql/services/GraphQL.js:793:27)\n    at Object.generateSchema (/mnt/nixstorage/Github/CAPIv2-Strapi/plugins/graphql/services/GraphQL.js:712:58)\n    at Function.initialize (/mnt/nixstorage/Github/CAPIv2-Strapi/plugins/graphql/hooks/graphql/index.js:103:62)\n    at /mnt/nixstorage/Github/CAPIv2-Strapi/node_modules/strapi/lib/hooks/index.js:20:31\n    at after (/mnt/nixstorage/Github/CAPIv2-Strapi/node_modules/strapi/lib/hooks/index.js:126:39)\n    at /mnt/nixstorage/Github/CAPIv2-Strapi/node_modules/lodash/lodash.js:9997:23\n    at Strapi.once (/mnt/nixstorage/Github/CAPIv2-Strapi/node_modules/strapi/lib/hooks/index.js:137:17)\n    at Object.onceWrapper (events.js:273:13)\n    at Strapi.emit (events.js:182:13)\n    at Strapi.EventEmitter.emit (domain.js:442:20)\n    at loadedModule.initialize.call.err (/mnt/nixstorage/Github/CAPIv2-Strapi/node_modules/strapi/lib/hooks/index.js:33:14). PR is fine @Aurelsicoko and @lauriejim the issue was with my environment. GraphQL does not allow spaces and special chars in enum values. Hence the syntax error was due to one of my enum values.. @synth3tk I am interested to see how you add one, after you have, I believe I have one to add as well.. related: https://github.com/strapi/strapi/issues/1383. @abdonrd do you have graphql installed?. Very likely related to: https://github.com/strapi/strapi/issues/1374\nAlthough in this case its a single oneWay, I believe fix provided in the above link disables the check on the disabled input. @soupette ?. @lauriejim I just created a oneway relation in 12.4 so I can't reproduce his issue unless I try and add more than one to the same model.. likely a duplicate issue.. @lauriejim I believe this is related the issues that have been reported with oneWay in general. I think there is a bug with the adminUI that may be causing this issue. (Or just in general with oneway). Likely related: https://github.com/strapi/strapi/issues/1477. @mnlbox there is an issue that directly relates to this, the plan is go a little farther than this.\nHere: https://github.com/strapi/strapi/issues/1114\nSee the discussion between me and @Aurelsicoko at the bottom.. @lauriejim I think this is something that should be configurable in options. I understand there is possible dangers of damaging large queries but the same could be said of actually hitting the /graphql endpoint with the same thing.\nTo me playground is similar to something like swagger, Its a graphql tool you can use to understand the structure of the API and frontend builders would use it to figure out how to build the front end. Specifically if those front end builders are doing so remotely. (IE if your API is public and people outside your influence wish to use it).\nPersonally I think it should be enabled by default and have the option to disable it, but either way is fine.. @Aurelsicoko what are your thoughts on this?. If limits need to be placed on graphQL (configurable ones I would hope) this article might be good read: https://dev-blog.apollodata.com/securing-your-graphql-api-from-malicious-queries-16130a324a6b. Realistically speaking I believe if a user had playground installed elsewhere you could hit the yourapihere/graphql and achieve the same result.. For instance if you install the local desktop version of playground (in my case on linux mint)\nUsing the packages listed under the release:https://github.com/prismagraphql/graphql-playground/releases/tag/v1.6.0\nI can successfully attach my desktop version of playground to my production API:\n\n. The point I'm making @johannpinson is what if your not the one building the apps lol. Such in the case of the api I'm working on isn't just for consumption of our own apps but anyone to use. I don't see the benefit of security to disable it on production when anyone can use the electron app in the same way?\nAs I've stated on other issues like this, we shouldn't cripple the power users for the sake of simplicity. Mistakes have to be made to learn from them.\nThus I think at least adding the option to enable it on production should be a pretty straightforward example of tools power users can use.\nIf we look at playground like you would something like swagger, given they are very different in how they look and work with different technology. They are basically a test/debug/auto-documentation tool. If swagger were to implemented like with playground, I would expect swagger would also run on production.\nThe goal I see here is provide the end user/developer with as many options as we can and to not restrict them if we don't have to. Allow the user to make those choices instead of forcing the choice for them. :smiley: . I wouldn't want to ask every person who plans on consuming my API/GraphQL to install the electron app. :P Else whats the reason to even include it in the project?. @johannpinson Thank you sir, I had a little fix in my project to enable it. (My frontend devs were bugging me too much lol). @soupette I'm thinking in the future I suppose with the additions to adminUI access permissions, The inital registered admin should be a local one anyway as a requirement, but additional users I think the social connect would be a good addition. (Side note the local register thing is also something that should be looked it, with a configurable option to disable local registration as well as social logins). Side note, obviously the provider buttons should only show if said provider is actually enabled. :stuck_out_tongue: . Ah nice yeah I just noticed that @lauriejim, it doesn't appear there is an actual registration for local except for the initial admin user creation? At least the login page doesn't offer a link for it.. Assuming that plans to change with the addition of the adminUI permissions or no?. Marking as closed for now, support for this won't happen for some time. @sidharthv96 on your issue move the on your code bit down one line so it doesn't code block the rest of the issue template :). Duplicate issue, see: https://github.com/strapi/strapi/issues/1323. @kwzm I believe the admin panel should still run atlocalhost:1337/admin` or in your case /dashboard\nThe prefix is for your get requests on models such as localhost:1337/blog. Great add @Aurelsicoko \u2764\ufe0f . @lauriejim In case you guys weren't aware as of MySQL 5.7 and MariaDB 10.2 both now support the json data type (allows for better storage of JSON). I feel that requirements should be put into place that versions that match are newer than these two should be in place and that storage of json data should use this type.\nsee the following docs:\nhttps://mariadb.com/kb/en/library/json-data-type/\nhttps://dev.mysql.com/doc/refman/5.7/en/json.html\nAs for Postgres, further information is needed to determine the best use case here, I believe based on the following doc that the json data type is supported in postgres: https://www.postgresql.org/docs/9.4/static/datatype-json.html\nAs for mongo, you guys are the pros there shrug. @Aurelsicoko @lauriejim There is an issue with json on mysql (possibly, with mongo as well) \nsee: https://github.com/strapi/strapi/issues/1406. related issue to PR: https://github.com/strapi/strapi/issues/496. @emahuni can you explain a bit more and provide a few examples?. Something seems odd, I dont think {name:sundae 4,rating:3} is valid json.\nAlso @johntom can you use code blocks where applicable to make it a little easier to read?. Just did some testing on MySQL @lauriejim @Aurelsicoko the json data type isn't properly being handled on bookshelf knex either. I'm getting errors on trying to save data to the DB:\n[2018-06-17T21:53:48.801Z] error insert into `testmodels` (`created_at`, `data`, `test`, `updated_at`) values ('2018-06-17 14:53:48.790', {\"a\":5,\"b\":10}, 'test2', '2018-06-17 14:53:48.790') - ER_BAD_FIELD_ERROR: Unknown column 'a' in 'field list'\ntrying to save this: {\"a\": 5, \"b\": 10}. It appears based on the error here: \n[2018-06-17T23:23:38.443Z] error update `testmodels` set `id` = 2, `test` = 'test2', `data` = {\"a\":5,\"b\":11}, `updated_at` = '2018-06-17 16:23:38.438' where `id` = 2 - ER_BAD_FIELD_ERROR: Unknown column 'b' in 'field list'\nThat the json data isn't being enclosed properly in the sql command: \nProper update syntax:\nUPDATE `jsontest`.`testmodels` SET `data`='{\\\"a\\\": 5, \\\"b\\\": 11}' WHERE `id`='2';. Related issue: https://github.com/strapi/strapi/issues/1240. @lauriejim I'll test again as well and let you know.. @lauriejim testing on 12.7 results in a similar issue with MySQL, below are a few example models body and system. I recommend reopening this, it seems all the relation bits are missing and are not generated with the CLI\nsystem is created using the adminUI and body is created using the strapi generate:api\nconfig/routes.json - System:\n{\n  \"routes\": [\n    {\n      \"method\": \"GET\",\n      \"path\": \"/system\",\n      \"handler\": \"System.find\",\n      \"config\": {\n        \"policies\": []\n      }\n    },\n    {\n      \"method\": \"GET\",\n      \"path\": \"/system/count\",\n      \"handler\": \"System.count\",\n      \"config\": {\n        \"policies\": []\n      }\n    },\n    {\n      \"method\": \"GET\",\n      \"path\": \"/system/:id\",\n      \"handler\": \"System.findOne\",\n      \"config\": {\n        \"policies\": []\n      }\n    },\n    {\n      \"method\": \"POST\",\n      \"path\": \"/system\",\n      \"handler\": \"System.create\",\n      \"config\": {\n        \"policies\": []\n      }\n    },\n    {\n      \"method\": \"PUT\",\n      \"path\": \"/system/:id\",\n      \"handler\": \"System.update\",\n      \"config\": {\n        \"policies\": []\n      }\n    },\n    {\n      \"method\": \"DELETE\",\n      \"path\": \"/system/:id\",\n      \"handler\": \"System.destroy\",\n      \"config\": {\n        \"policies\": []\n      }\n    },\n    {\n      \"method\": \"POST\",\n      \"path\": \"/system/:id/relationships/:relation\",\n      \"handler\": \"System.createRelation\",\n      \"config\": {\n        \"policies\": []\n      }\n    },\n    {\n      \"method\": \"PUT\",\n      \"path\": \"/system/:id/relationships/:relation\",\n      \"handler\": \"System.updateRelation\",\n      \"config\": {\n        \"policies\": []\n      }\n    },\n    {\n      \"method\": \"DELETE\",\n      \"path\": \"/system/:id/relationships/:relation\",\n      \"handler\": \"System.destroyRelation\",\n      \"config\": {\n        \"policies\": []\n      }\n    }\n  ]\n}\nconfig/routes.json - body\n{\n  \"routes\": [\n    {\n      \"method\": \"GET\",\n      \"path\": \"/body\",\n      \"handler\": \"Body.find\",\n      \"config\": {\n        \"policies\": []\n      }\n    },\n    {\n      \"method\": \"GET\",\n      \"path\": \"/body/count\",\n      \"handler\": \"Body.count\",\n      \"config\": {\n        \"policies\": []\n      }\n    },\n    {\n      \"method\": \"GET\",\n      \"path\": \"/body/:_id\",\n      \"handler\": \"Body.findOne\",\n      \"config\": {\n        \"policies\": []\n      }\n    },\n    {\n      \"method\": \"POST\",\n      \"path\": \"/body\",\n      \"handler\": \"Body.create\",\n      \"config\": {\n        \"policies\": []\n      }\n    },\n    {\n      \"method\": \"PUT\",\n      \"path\": \"/body/:_id\",\n      \"handler\": \"Body.update\",\n      \"config\": {\n        \"policies\": []\n      }\n    },\n    {\n      \"method\": \"DELETE\",\n      \"path\": \"/body/:_id\",\n      \"handler\": \"Body.destroy\",\n      \"config\": {\n        \"policies\": []\n      }\n    }\n  ]\n}\ncontrollers/System.js\n```\n'use strict';\n/\n * System.js controller\n \n * @description: A set of functions called \"actions\" for managing System.\n /\nmodule.exports = {\n/\n   * Retrieve system records.\n   \n   * @return {Object|Array}\n   /\nfind: async (ctx) => {\n    if (ctx.query._q) {\n      return strapi.services.system.search(ctx.query);\n    } else {\n      return strapi.services.system.fetchAll(ctx.query);\n    }\n  },\n/\n   * Retrieve a system record.\n   \n   * @return {Object}\n   /\nfindOne: async (ctx) => {\n    return strapi.services.system.fetch(ctx.params);\n  },\n/\n   * Count system records.\n   \n   * @return {Number}\n   /\ncount: async (ctx) => {\n    return strapi.services.system.count(ctx.query);\n  },\n/\n   * Create a/an system record.\n   \n   * @return {Object}\n   /\ncreate: async (ctx) => {\n    return strapi.services.system.add(ctx.request.body);\n  },\n/\n   * Update a/an system record.\n   \n   * @return {Object}\n   /\nupdate: async (ctx, next) => {\n    return strapi.services.system.edit(ctx.params, ctx.request.body) ;\n  },\n/\n   * Destroy a/an system record.\n   \n   * @return {Object}\n   /\ndestroy: async (ctx, next) => {\n    return strapi.services.system.remove(ctx.params);\n  },\n/\n   * Add relation to a/an system record.\n   \n   * @return {Object}\n   /\ncreateRelation: async (ctx, next) => {\n    return strapi.services.system.addRelation(ctx.params, ctx.request.body);\n  },\n/\n   * Update relation to a/an system record.\n   \n   * @return {Object}\n   /\nupdateRelation: async (ctx, next) => {\n    return strapi.services.system.editRelation(ctx.params, ctx.request.body);\n  },\n/\n   * Destroy relation to a/an system record.\n   \n   * @return {Object}\n   /\ndestroyRelation: async (ctx, next) => {\n    return strapi.services.system.removeRelation(ctx.params, ctx.request.body);\n  }\n};\n```\ncontrollers/Body.js\n```\n'use strict';\n/\n * Body.js controller\n \n * @description: A set of functions called \"actions\" for managing Body.\n /\nmodule.exports = {\n/\n   * Retrieve body records.\n   \n   * @return {Object|Array}\n   /\nfind: async (ctx) => {\n    if (ctx.query._q) {\n      return strapi.services.body.search(ctx.query);\n    } else {\n      return strapi.services.body.fetchAll(ctx.query);\n    }\n  },\n/\n   * Retrieve a body record.\n   \n   * @return {Object}\n   /\nfindOne: async (ctx) => {\n    if (!ctx.params._id.match(/^[0-9a-fA-F]{24}$/)) {\n      return ctx.notFound();\n    }\nreturn strapi.services.body.fetch(ctx.params);\n\n},\n/\n   * Count body records.\n   \n   * @return {Number}\n   /\ncount: async (ctx) => {\n    return strapi.services.body.count(ctx.query);\n  },\n/\n   * Create a/an body record.\n   \n   * @return {Object}\n   /\ncreate: async (ctx) => {\n    return strapi.services.body.add(ctx.request.body);\n  },\n/\n   * Update a/an body record.\n   \n   * @return {Object}\n   /\nupdate: async (ctx, next) => {\n    return strapi.services.body.edit(ctx.params, ctx.request.body) ;\n  },\n/\n   * Destroy a/an body record.\n   \n   * @return {Object}\n   /\ndestroy: async (ctx, next) => {\n    return strapi.services.body.remove(ctx.params);\n  }\n};\n```\nservices/System.js\n```\n'use strict';\n/\n * System.js service\n \n * @description: A set of functions similar to controller's actions to avoid code duplication.\n /\n// Public dependencies.\nconst _ = require('lodash');\n// Strapi utilities.\nconst utils = require('strapi-bookshelf/lib/utils/');\nmodule.exports = {\n/\n   * Promise to fetch all systems.\n   \n   * @return {Promise}\n   /\nfetchAll: (params) => {\n    // Convert params object to filters compatible with Bookshelf.\n    const filters = strapi.utils.models.convertParams('system', params);\n    // Select field to populate.\n    const populate = System.associations\n      .filter(ast => ast.autoPopulate !== false)\n      .map(ast => ast.alias);\nreturn System.query(function(qb) {\n  _.forEach(filters.where, (where, key) => {\n    if (_.isArray(where.value)) {\n      for (const value in where.value) {\n        qb[value ? 'where' : 'orWhere'](key, where.symbol, where.value[value])\n      }\n    } else {\n      qb.where(key, where.symbol, where.value);\n    }\n  });\n\n  if (filters.sort) {\n    qb.orderBy(filters.sort.key, filters.sort.order);\n  }\n\n  qb.offset(filters.start);\n  qb.limit(filters.limit);\n}).fetchAll({\n  withRelated: populate\n});\n\n},\n/\n   * Promise to fetch a/an system.\n   \n   * @return {Promise}\n   /\nfetch: (params) => {\n    // Select field to populate.\n    const populate = System.associations\n      .filter(ast => ast.autoPopulate !== false)\n      .map(ast => ast.alias);\nreturn System.forge(_.pick(params, 'id')).fetch({\n  withRelated: populate\n});\n\n},\n/\n   * Promise to count a/an system.\n   \n   * @return {Promise}\n   /\ncount: (params) => {\n    // Convert params object to filters compatible with Bookshelf.\n    const filters = strapi.utils.models.convertParams('system', params);\nreturn System.query(function(qb) {\n  _.forEach(filters.where, (where, key) => {\n    if (_.isArray(where.value)) {\n      for (const value in where.value) {\n        qb[value ? 'where' : 'orWhere'](key, where.symbol, where.value[value])\n      }\n    } else {\n      qb.where(key, where.symbol, where.value);\n    }\n  });\n}).count();\n\n},\n/\n   * Promise to add a/an system.\n   \n   * @return {Promise}\n   /\nadd: async (values) => {\n    // Extract values related to relational data.\n    const relations = .pick(values, System.associations.map(ast => ast.alias));\n    const data = .omit(values, System.associations.map(ast => ast.alias));\n// Create entry with no-relational data.\nconst entry = await System.forge(data).save();\n\n// Create relational data and return the entry.\nreturn System.updateRelations({ id: entry.id , values: relations });\n\n},\n/\n   * Promise to edit a/an system.\n   \n   * @return {Promise}\n   /\nedit: async (params, values) => {\n    // Extract values related to relational data.\n    const relations = .pick(values, System.associations.map(ast => ast.alias));\n    const data = .omit(values, System.associations.map(ast => ast.alias));\n// Create entry with no-relational data.\nconst entry = System.forge(params).save(data, { path: true });\n\n// Create relational data and return the entry.\nreturn System.updateRelations(Object.assign(params, { values: relations }));\n\n},\n/\n   * Promise to remove a/an system.\n   \n   * @return {Promise}\n   /\nremove: async (params) => {\n    params.values = {};\n    System.associations.map(association => {\n      switch (association.nature) {\n        case 'oneWay':\n        case 'oneToOne':\n        case 'manyToOne':\n        case 'oneToManyMorph':\n          params.values[association.alias] = null;\n          break;\n        case 'oneToMany':\n        case 'manyToMany':\n        case 'manyToManyMorph':\n          params.values[association.alias] = [];\n          break;\n        default:\n      }\n    });\nawait System.updateRelations(params);\n\nreturn System.forge(params).destroy();\n\n},\n/\n   * Promise to search a/an system.\n   \n   * @return {Promise}\n   /\nsearch: async (params) => {\n    // Convert params object to filters compatible with Bookshelf.\n    const filters = strapi.utils.models.convertParams('system', params);\n    // Select field to populate.\n    const populate = System.associations\n      .filter(ast => ast.autoPopulate !== false)\n      .map(ast => ast.alias);\nconst associations = System.associations.map(x => x.alias);\nconst searchText = Object.keys(System._attributes)\n  .filter(attribute => attribute !== System.primaryKey && !associations.includes(attribute))\n  .filter(attribute => ['string', 'text'].includes(System._attributes[attribute].type));\n\nconst searchNoText = Object.keys(System._attributes)\n  .filter(attribute => attribute !== System.primaryKey && !associations.includes(attribute))\n  .filter(attribute => !['string', 'text', 'boolean', 'integer', 'decimal', 'float'].includes(System._attributes[attribute].type));\n\nconst searchInt = Object.keys(System._attributes)\n  .filter(attribute => attribute !== System.primaryKey && !associations.includes(attribute))\n  .filter(attribute => ['integer', 'decimal', 'float'].includes(System._attributes[attribute].type));\n\nconst searchBool = Object.keys(System._attributes)\n  .filter(attribute => attribute !== System.primaryKey && !associations.includes(attribute))\n  .filter(attribute => ['boolean'].includes(System._attributes[attribute].type));\n\nconst query = (params._q || '').replace(/[^a-zA-Z0-9.-\\s]+/g, '');\n\nreturn System.query(qb => {\n  // Search in columns which are not text value.\n  searchNoText.forEach(attribute => {\n    qb.orWhereRaw(`LOWER(${attribute}) LIKE '%${_.toLower(query)}%'`);\n  });\n\n  if (!_.isNaN(_.toNumber(query))) {\n    searchInt.forEach(attribute => {\n      qb.orWhereRaw(`${attribute} = ${_.toNumber(query)}`);\n    });\n  }\n\n  if (query === 'true' || query === 'false') {\n    searchBool.forEach(attribute => {\n      qb.orWhereRaw(`${attribute} = ${_.toNumber(query === 'true')}`);\n    });\n  }\n\n  // Search in columns with text using index.\n  switch (System.client) {\n    case 'pg': {\n      const searchQuery = searchText.map(attribute =>\n        _.toLower(attribute) === attribute\n          ? `to_tsvector(${attribute})`\n          : `to_tsvector('${attribute}')`\n      );\n\n      qb.orWhereRaw(`${searchQuery.join(' || ')} @@ to_tsquery(?)`, query);\n      break;\n    }\n    default:\n      qb.orWhereRaw(`MATCH(${searchText.join(',')}) AGAINST(? IN BOOLEAN MODE)`, `*${query}*`);\n      break;\n  }\n\n  if (filters.sort) {\n    qb.orderBy(filters.sort.key, filters.sort.order);\n  }\n\n  if (filters.skip) {\n    qb.offset(_.toNumber(filters.skip));\n  }\n\n  if (filters.limit) {\n    qb.limit(_.toNumber(filters.limit));\n  }\n}).fetchAll({\n  width: populate\n});\n\n}\n};\n```\nservices/Body.js\n```\n'use strict';\n/\n * Body.js service\n \n * @description: A set of functions similar to controller's actions to avoid code duplication.\n /\n// Public dependencies.\nconst _ = require('lodash');\nmodule.exports = {\n/\n   * Promise to fetch all bodies.\n   \n   * @return {Promise}\n   /\nfetchAll: (params) => {\n    // Convert params object to filters compatible with Mongo.\n    const filters = strapi.utils.models.convertParams('body', params);\n    // Select field to populate.\n    const populate = Body.associations\n      .filter(ast => ast.autoPopulate !== false)\n      .map(ast => ast.alias)\n      .join(' ');\nreturn Body\n  .find()\n  .where(filters.where)\n  .sort(filters.sort)\n  .skip(filters.start)\n  .limit(filters.limit)\n  .populate(populate);\n\n},\n/\n   * Promise to fetch a/an body.\n   \n   * @return {Promise}\n   /\nfetch: (params) => {\n    // Select field to populate.\n    const populate = Body.associations\n      .filter(ast => ast.autoPopulate !== false)\n      .map(ast => ast.alias)\n      .join(' ');\nreturn Body\n  .findOne(_.pick(params, _.keys(Body.schema.paths)))\n  .populate(populate);\n\n},\n/\n   * Promise to count bodies.\n   \n   * @return {Promise}\n   /\ncount: (params) => {\n    // Convert params object to filters compatible with Mongo.\n    const filters = strapi.utils.models.convertParams('body', params);\nreturn Body\n  .count()\n  .where(filters.where);\n\n},\n/\n   * Promise to add a/an body.\n   \n   * @return {Promise}\n   /\nadd: async (values) => {\n    // Extract values related to relational data.\n    const relations = .pick(values, Body.associations.map(ast => ast.alias));\n    const data = .omit(values, Body.associations.map(ast => ast.alias));\n// Create entry with no-relational data.\nconst entry = await Body.create(data);\n\n// Create relational data and return the entry.\nreturn Body.updateRelations({ id: entry.id, values: relations });\n\n},\n/\n   * Promise to edit a/an body.\n   \n   * @return {Promise}\n   /\nedit: async (params, values) => {\n    // Extract values related to relational data.\n    const relations = .pick(values, Body.associations.map(a => a.alias));\n    const data = .omit(values, Body.associations.map(a => a.alias));\n// Update entry with no-relational data.\nconst entry = await Body.update(params, data, { multi: true });\n\n// Update relational data and return the entry.\nreturn Body.updateRelations(Object.assign(params, { values: relations }));\n\n},\n/\n   * Promise to remove a/an body.\n   \n   * @return {Promise}\n   /\nremove: async params => {\n    // Select field to populate.\n    const populate = Body.associations\n      .filter(ast => ast.autoPopulate !== false)\n      .map(ast => ast.alias)\n      .join(' ');\n// Note: To get the full response of Mongo, use the `remove()` method\n// or add spent the parameter `{ passRawResult: true }` as second argument.\nconst data = await Body\n  .findOneAndRemove(params, {})\n  .populate(populate);\n\nif (!data) {\n  return data;\n}\n\nawait Promise.all(\n  Body.associations.map(async association => {\n    const search = _.endsWith(association.nature, 'One') || association.nature === 'oneToMany' ? { [association.via]: data._id } : { [association.via]: { $in: [data._id] } };\n    const update = _.endsWith(association.nature, 'One') || association.nature === 'oneToMany' ? { [association.via]: null } : { $pull: { [association.via]: data._id } };\n\n    // Retrieve model.\n    const model = association.plugin ?\n      strapi.plugins[association.plugin].models[association.model || association.collection] :\n      strapi.models[association.model || association.collection];\n\n    return model.update(search, update, { multi: true });\n  })\n);\n\nreturn data;\n\n},\n/\n   * Promise to search a/an body.\n   \n   * @return {Promise}\n   /\nsearch: async (params) => {\n    // Convert params object to filters compatible with Mongo.\n    const filters = strapi.utils.models.convertParams('body', params);\n    // Select field to populate.\n    const populate = Body.associations\n      .filter(ast => ast.autoPopulate !== false)\n      .map(ast => ast.alias)\n      .join(' ');\nconst $or = Object.keys(Body.attributes).reduce((acc, curr) => {\n  switch (Body.attributes[curr].type) {\n    case 'integer':\n    case 'float':\n    case 'decimal':\n      if (!_.isNaN(_.toNumber(params._q))) {\n        return acc.concat({ [curr]: params._q });\n      }\n\n      return acc;\n    case 'string':\n    case 'text':\n    case 'password':\n      return acc.concat({ [curr]: { $regex: params._q, $options: 'i' } });\n    case 'boolean':\n      if (params._q === 'true' || params._q === 'false') {\n        return acc.concat({ [curr]: params._q === 'true' });\n      }\n\n      return acc;\n    default:\n      return acc;\n  }\n}, []);\n\nreturn Body\n  .find({ $or })\n  .sort(filters.sort)\n  .skip(filters.start)\n  .limit(filters.limit)\n  .populate(populate);\n\n}\n};\n```\n. That was a huge wall of text but the TLDR is body is missing this bit:\n{\n      \"method\": \"POST\",\n      \"path\": \"/system/:id/relationships/:relation\",\n      \"handler\": \"System.createRelation\",\n      \"config\": {\n        \"policies\": []\n      }\n    },\n    {\n      \"method\": \"PUT\",\n      \"path\": \"/system/:id/relationships/:relation\",\n      \"handler\": \"System.updateRelation\",\n      \"config\": {\n        \"policies\": []\n      }\n    },\n    {\n      \"method\": \"DELETE\",\n      \"path\": \"/system/:id/relationships/:relation\",\n      \"handler\": \"System.destroyRelation\",\n      \"config\": {\n        \"policies\": []\n      }. @lauriejim I created 2 new fresh projects on two new Vultr VMs using the following versions:\nv10.7.0\n6.1.0\n3.0.0-alpha.12.7.1\nmysql  Ver 15.1 Distrib 10.2.16-MariaDB, for debian-linux-gnu (x86_64) using readline 5.2\nNo LSB modules are available.\nDistributor ID: Ubuntu\nDescription:    Ubuntu 16.04.5 LTS\nRelease:    16.04\nCodename:   xenial\nHere are my two repos for testing:\nUsing AdminUI: https://github.com/derrickmehaffy/strapitest1\nUsing generate:API: https://github.com/derrickmehaffy/strapitest2\nHere is the diffs between them:\nGlobal view:\n\nconfig/routes.js:\n\ncontrollers/Testmodel.js:\n\nmodels/Testmodel.settings.json:\n\nmodels/Testmodel.js:\n\nservices/Testmodel.js:\nPart1:\n\nPart2:\n\nThere is a lot more to these diffs to look at in detail other than the screenshots I provided.\n. related PR for testing: https://github.com/strapi/strapi/pull/1596. @lauriejim just the strapi generate:api -modelname- attribute:type. @lauriejim Just realized there was a --tpl bookshelf flag. Using that generated the proper format.. I've seen something similar to this myself, if you generate a new project, create all your models with just a test string field then copy over your /api/-modelname-/models/-modelname-.settings.json and of course your /config/environment you should be able to migrate up version pretty easily. In your case, copying over your /public folder as well.\nThe strapi team did state they are working on a tool to help make updating easier:\n\nMight be a little while, but some of the updates do modify the .js files in the config/controller/models/services. Just confirmed as well that deleting the relation field allows you to delete entries by ID again.. Confirmed bug with oneWay Relations on the end model (source model is fine as it doesn't have a relation defined). Also confirmed oneToOne issue on both sides.. @lauriejim I'm just posting data via postman, delete in the same way\nShowing running Strapi:\n\nModel1:\n\nModel2:\n\nPosting data to a model called model1 with no relation data (model has relation setup but not sending data):\n\nAttempting to delete that data via postman:\n\nAnd a screenshot of the console:\n\n. Deleting via the AdminUI @lauriejim works fine its when you attempt to delete using the endpoint.. I think the issue is here: https://github.com/strapi/strapi/blob/3a62e9eaf2e37908864c61225216e3e59395f95e/packages/strapi-generate-api/templates/bookshelf/service.template#L129-L144\nAt least comparing it to the Mongo Template here: https://github.com/strapi/strapi/blob/3a62e9eaf2e37908864c61225216e3e59395f95e/packages/strapi-generate-api/templates/mongoose/service.template#L107-L146\nThough I'm not entirely sure how to fix this myself.\n. Thats if this template is what is being used to generate the files with the adminUI. @kwzm can you provide the file where you changed the prefix. \nThe prefix needs to be /api not api\nAlso there are known issues with the prefix and losing access to both the adminUI and the public folder just as an FYI.. Nice job @johannpinson \n. Error when trying to create a model that has a the Json data type, using the adminUI:\n```\n[2018-06-19T12:39:18.018Z] debug POST /content-type-builder/models/ (75 ms)\n[2018-06-19T12:39:18.021Z] info The server is restarting\n[2018-06-19T12:39:19.690Z] debug Server wasn't able to start properly.\nTypeError: Cannot read property 'find' of undefined\n    at routerChecker (/usr/lib/node_modules/strapi/lib/middlewares/router/utils/routerChecker.js:28:28)\n    at cb (/usr/lib/node_modules/strapi/lib/middlewares/router/utils/composeEndpoint.js:21:46)\n    at _.forEach.value (/usr/lib/node_modules/strapi/lib/middlewares/router/index.js:25:52)\n    at arrayEach (/usr/lib/node_modules/strapi/node_modules/lodash/lodash.js:516:11)\n    at Function.forEach (/usr/lib/node_modules/strapi/node_modules/lodash/lodash.js:9342:14)\n    at Object.initialize (/usr/lib/node_modules/strapi/lib/middlewares/router/index.js:24:9)\n    at /usr/lib/node_modules/strapi/lib/middlewares/index.js:30:23\n    at after (/usr/lib/node_modules/strapi/lib/middlewares/index.js:134:45)\n    at /usr/lib/node_modules/strapi/node_modules/lodash/lodash.js:9997:23\n    at Strapi.once (/usr/lib/node_modules/strapi/lib/middlewares/index.js:145:17)\n    at Object.onceWrapper (events.js:273:13)\n    at Strapi.emit (events.js:187:15)\n    at Strapi.EventEmitter.emit (domain.js:442:20)\n    at module.initialize.call.err (/usr/lib/node_modules/strapi/lib/middlewares/index.js:40:12)\n    at Object.initialize (/usr/lib/node_modules/strapi/lib/middlewares/xss/index.js:42:7)\n    at /usr/lib/node_modules/strapi/lib/middlewares/index.js:30:23\n    at after (/usr/lib/node_modules/strapi/lib/middlewares/index.js:134:45)\n    at /usr/lib/node_modules/strapi/node_modules/lodash/lodash.js:9997:23\n    at Strapi.once (/usr/lib/node_modules/strapi/lib/middlewares/index.js:145:17)\n    at Object.onceWrapper (events.js:273:13)\n    at Strapi.emit (events.js:187:15)\n    at Strapi.EventEmitter.emit (domain.js:442:20)\n```. I would also be interested in this, I've been using a temp solution when starting strapi to push the console to a file.\nstrapi start > ~/strapi.log \nObvious this isn't the best solution. Also just a heads up @Thyvo Windows support for strapi is hit or miss at this moment I recommend you use the WSL (Ubuntu) or do development in a linux VM. I'll take a look once I get home from work to see if this is something within my skillset. :smile: . awesome @entwicklerfr I look forward to taking a look, pm2 does a pretty decent job but having actual log files will be handy\n. @lauriejim I think this is a question not a Feature Request. Is that correct @johannpinson ?. @kwzm Can you update the latest strapi version and confirm the bug still exists? . @kwzm Aye, follow the migration guides going from 12.2 -> 12.3, 12.3 -> 12.4. and 12.4 -> 12.5. @kwzm \n\n\nMainly yes, its far easier to just copy over (There are other ways to do this, basically the reverse of this. Won't get into major detail unless you want to know).\n\n\nYes update your package.json and run npm install again.\n\n\nDelete the one in your old-project and copy over the folder from the temporary \"new\" project, you can delete that \"new\" one after you are completely migrated.\n\n\nThis means copy the files from Old -> New, then delete your \"Old\" plugins folder, and copy over the \"New\" plugin folder into your Old project (This was a complicated sentence to write so I understand your confusion.)\n\n\nIf you want to use the count route on your models than yes, each model you will need to modify the file api/-modelname-/config/route.json with the new count route.. Also no problem on the english, your english is far better than any other language I can't speak :smile: . @kwzm Yeah I've had issues with that as well, it seems when you upload to git the package.json doesn't include everything that the Strapi-CLI installs (When you use strapi new -projectname- it installs some npm packages as well)\n\n\nNot sure you need the --production bit though. Also pretty sure npm start doesn't work unless you modify the startup command.\n@lauriejim what is the best way to handle these packages not being resolved after upload a project to github? I usually just install them one by one and use the --save option. Is this something we could have added to the package.json?. Duplicate Issue: https://github.com/strapi/strapi/issues/932. Documentation for scoped packages: https://docs.npmjs.com/misc/scope. Btw +1 from me on this, I think following the standard is prob the best route here.. @Aurelsicoko I second this, especially for someone who manages their project on github, I would rather not have to install Strapi globally on every machine I need to deploy it to. Especially for automated deployments.\nI've noticed that if I try and deploy my project on a server without strapi installed globally there are a number of missing packages. I could install it, but its just an extra step that could cause issues.\nThat being said, in many cases I've had to install Strapi globally, create a test project. Delete my node_modules folder and copy over the one from the test project just to get it to install correctly. Quite annoying \ud83d\ude1b . @lauriejim If you create a new project locally, push it to github, and deploy it on AWS or somewhere else and run npm i compare the two node_modules folders. :stuck_out_tongue: . @Aurelsicoko I think it might be best to add some kind of alternative option instead of symlinking the packages.\nIs it possible to only install the strapi-cli and force projects to grab all the node_modules from npm instead of symlinking, we are hitting some issues when working with travis-ci and not having it install the strapi@alpha :slightly_frowning_face: \n(we use the strapi-cli to start the server with pm2). @zalmane can you update to the latest version and test again? The latest is Strapi 12.5.. @zalmane can you upload your project to GitHub and link it (if there is nothing secret or personal in it). I have a dev who will be very happy to see this fix. Thanks Jim . @johannpinson What MySQL data types are being used for the other formats? Assuming not the auto-generated ones?. @johannpinson  what data type are you storing them as in MySQL? String or something? Not sure what option MySQL has for storing just Date, or just Time, ect. @johannpinson every time man, every time.\nAnd gotcha, just wanted to check in case I was missing something in the MySQL docs \ud83d\ude1b . @soupette yes I think there are still a few things that need to be worked out, I don't think much is needed but I would really like to see this in the near future as it also fixes the issue I created about the MySQL date. I think most of the things that need fixing are on the frontend, but will have to do some testing with MySQL and postgres once we get those bits worked out.\n. Note that this PR: https://github.com/strapi/strapi/pull/1932 is making major modifications to bookshelf so this PR will need to gone through very carefully to ensure none of the changes in https://github.com/strapi/strapi/pull/1932 are reverted.. @Tryptich Please follow the bug template, issues that don't follow it will be closed.\nAlso as @henrych4 has said, \nNode >=9\nNPM >= 5\nMongoDB >= 3.4 OR MySQL >= 5.6\nAlso I don't recommend Windows as support is hit or miss on it, Either use the WSL (Ubuntu) or a Linux VM.\n. @MattAurich can you test this with MySQL and/or Postgres as well. I'm wondering if there is an issue with mongoose or bookshelf. Related issues: https://github.com/strapi/strapi/issues/1355 (Closed due to bug template)\nDuplicate Issue: https://github.com/strapi/strapi/issues/1281\n@nicolasgalle This is a known issue with windows, please use the Windows WSL (Ubuntu) or a Linux VM for development for now. The Strapi team are working on better windows support. \nYou can read about this in their latest blog post: https://blog.strapi.io/roadmap-update-2-stability-tests-experience/. (I was secretly hoping someone would suggest moving it to 12.6 so I didn't need to ask Jim for another favor :D ). > I think that compatibility with strapi admin should be a responsibility of the developer, which given a set of parameters should decide if is something that he needs. As before if the user/developer is going to use strapi admin only, compatibility is ensured, if he modifies data outside strapi admin probably he doesn't use a text field with preview or he is forced to store markdown to have compatibility.\n@nicokant don't forget this is an open source product so if you would like to see a feature modified from the Strapi intended plan, I'm sure the devs would love to see a PR :smiley: Even just as a \"proof of concept\" . May have something to do with the routing issues on the API prefix too. If you change it to something like /API you lose access to the /public and /admin. Possible related issue: https://github.com/strapi/strapi/issues/1323\n(Jim don't close this one as duplicate since it's technically a different issue). @lauriejim I just tested changing the admin path and it does work fine on 12.6, there is still an issue with the prefix though. I think it should be safe to close this issue.. @madonzy what version are you on? Just tested with master branch: \n\n. @guillermodoghel can you update this with the proper template (it looks like a feature request)\n. ehhhhh, yeah that needs to be modified / won't be empty there should be a mkdir command in there.. @nicokant can you provide some examples of this? The Json input has been completely redesigned by @Aurelsicoko & @soupette  last week\nsee: https://github.com/strapi/strapi/pull/1401\nand\nhttps://github.com/strapi/strapi/pull/1447. @nicokant you may want to check the other PRs submitted for the changes going into 12.6 I believe the admin UI does check that it is valid json\n. Seems related to the discussion of _id vs id : https://github.com/strapi/strapi/issues/1274. @johannpinson\nI believe mongo 3.6 is min\nMySQL 5.6 is probably minimum 5.7 recommend (Json storage improvements)\nMariaDB 10.1 min, 10.2 recommend (Json storage improvements)\nPostgres 10 is fine. :). I could be wrong with Mongo since I don't use it myself, but for MySQL I highly recommend the latest stable builds, the same for MariaDB.. @lauriejim probably a confirmation from the Strapi team on Database version minimum requirements.. @lauriejim I don't have write permissions on his fork but if @johannpinson is too busy I can clone and submit my own PR.. Created new PR: https://github.com/strapi/strapi/pull/1777\nThis one can be closed. @maturano I spoke with @lauriejim on slack about this, he agreed that they should be moved over to use the knex API but at the moment it isn't a high priority for them. If you are interested in doing so I'm sure they would appreciate it. Based on the knex documentation it shouldn't be too terribly difficult to support MSSQL. . Sounds good! . @Aurelsicoko I think he is a bit busy at the moment IRL. Might be worth someone else picking this up and finishing it (not I :wink: ). As an addition to this topic, I believe some extra attention to applying the proper HTTP response codes to errors is also an important one, an example of such codes: https://www.restapitutorial.com/httpstatuscodes.html\nThere have been quite a few instances where a user error happens but the server responds with a 500 code (Server Error) such as forgetting a required field in a POST request which should normally respond with a 400 code.. @Aurelsicoko I do agree, but hopefully most will agree to follow normal API standards is fairly important.\nThat being said Strapi is Alpha so breaking changes should be common practice anyway :nerd_face: . Marking this issue as closed as there is currently no roadmap plans to move towards a standard. Can be reopened should those plans be added to the roadmap. @guillermodoghel unlikely related to my issue there. The count service likely doesn't have a catch setup. Much like a GET request returns an empty json array, the count doesn't get a response from the db on data and defaults to a 404 error. \nYour right that it should return a 0. (Technically speaking this should be a 500 error if anything lol, 4xx is a user problem. So regardless it shouldn't be a 404)\nI can confirm this bug exists though.. Might worth also adding a Delete button when viewing the record instead of just Reset @soupette \nI believe we discussed this previously but I don't remember if there was a technical issue with this.. @xeastcrast Just clicking on the record will open the edit option. I do agree though the delete one is quite small and hard to click . Just saw this as well, here is the error if you delete the directory and attempt to install it using the strapi-cli:\nstrapi install email\n[2018-06-27T07:42:27.939Z] debug Installation in progress...\n[2018-06-27T07:42:27.940Z] debug Installing the plugin from npm registry.\n[2018-06-27T07:42:29.074Z] error An error occurred during plugin installation. \nPlease make sure this plugin is available on npm: https://www.npmjs.com/package/strapi-plugin-email\n. @CantGetRight82 Just a heads up, spoke with @lauriejim on slack he is aware and actively working on this :+1: . @lauriejim the email plugin installed however the bookshelf package will not. I'm guessing there is a wider issue with some other strapi packages.. https://www.npmjs.com/package/strapi-bookshelf\n. It seems GraphQL is mapping the JSON data as a string, see the following screenshot from my project:\n\nSide note @johannpinson opened an issue for this. :stuck_out_tongue: . @lauriejim I spoke with @johannpinson yesterday on the slack (before it died :stuck_out_tongue: )\nHe stated this: \n\nok, the field is considered as a String, so what you have a field which had applied .toString() method\n\nand so, a JSON field with the .toString() method is [Object object] (because it needs to use JSON.stringify instead). I too was able to reproduce this, there seems to be some logic that tries to over-ride the relation. It seems to happen at random on some models.. I was able to reproduce this by having multiple fields on the \"source\" of the oneway\n\n\nModel 1 (Has many fields) -> `Model 2' (Where the oneway relationship is defined, also has multiple fields)\nIf the \"source\" of the oneway only has one field then I never seem to have the issue.. @guillermodoghel even deleting it and recreating it didn't fix my issue. Its hard to track down the source of this. @lauriejim are there any files that are built when you create a relation that might be caching the relations and not being updated with oneWay ? It seems that when this bug happens it always converts oneWay to oneToOne. FYI this bug has been around since oneWay was introduced (I just kept forgetting to report it :P )\n. Speaking with @lauriejim on slack they are working on other stuff at the moment but he mentioned around here is where the relations are defined. The issue likely stems from around here:\nmongoose: https://github.com/strapi/strapi/blob/master/packages/strapi-mongoose/lib/index.js#L311\nbookshelf: https://github.com/strapi/strapi/blob/master/packages/strapi-bookshelf/lib/index.js#L699\nJust to clarify this issue is on both MongoDB and MySQL (Likley postgres too) \nFirst that needs to be checked is to make sure this isn't an issue isn't with the DB connectors, personally I don't think this is an issue with the frontend because defining the relations manually in the model files will result in the same problem.. By default mongo does not require authentication, nor will Strapi create a user, this is due to using remote databases as well as local.\nYour user should be created on the database by you before attempting to run Strapi. Most software now will not create a new database user for you (because you shouldn't be sending the root user info outside localhost, or you might not have it)\nFor instance with mlab you are given a username and password.\nPlease create your user and password and be sure to enable authentication in mongodb before you create your Strapi project.. It should be noted the blank username and password thing is something related to mongoDB itself. And that by default it only listens on localhost and does not setup authentication.\nIf you feel that is an issue please notify the mongo devs: https://github.com/mongodb/mongo. @decimoseptimo this isn't an issue with Strapi. This is due to permissions not being setup correctly on mongo. Please take a look at their docs here: https://docs.mongodb.com/manual/tutorial/manage-users-and-roles/. You can also use either MySQL/MariaDB or Postgres if you are more familiar with them.. @ichals09 There are known issues when working with Strapi on windows, can you test using the Windows WSL or a linux VM?. @phanhoangloc This feature is already in development. You can read more on the Strapi blog: https://blog.strapi.io/roadmap-update-2-stability-tests-experience/\nTheir expected release date on this is July 23rd however delays always happen.. I can confirm this error using the following system environment:\n```\nNode v10.11.0\nNPM 6.4.1\nStrapi 3.0.0-alpha.14.1.1\nMongoDB shell version v3.6.3\ngit version: 9586e557d54ef70f9ca4b43c26892cd55257e1a5\nOpenSSL version: OpenSSL 1.1.0g  2 Nov 2017\nallocator: tcmalloc\nmodules: none\nbuild environment:\n    distarch: x86_64\n    target_arch: x86_64\nNo LSB modules are available.\nDistributor ID:    Ubuntu\nDescription:    Ubuntu 18.04.1 LTS\nRelease:    18.04\nCodename:    bionic\n```\nError Message:\n0|strapi-mongo  | { MongoError: '$pull' is empty. You must specify a field like so: {$pull: {<field>: ...}}\n0|strapi-mongo  |     at Function.create (/root/test-mongo/node_modules/mongodb-core/lib/error.js:43:12)\n0|strapi-mongo  |     at toError (/root/test-mongo/node_modules/mongodb/lib/utils.js:149:22)\n0|strapi-mongo  |     at coll.s.topology.update (/root/test-mongo/node_modules/mongodb/lib/operations/collection_ops.js:1370:39)\n0|strapi-mongo  |     at /root/test-mongo/node_modules/mongodb-core/lib/connection/pool.js:532:18\n0|strapi-mongo  |     at process._tickCallback (internal/process/next_tick.js:61:11)\n0|strapi-mongo  |   driver: true,\n0|strapi-mongo  |   name: 'MongoError',\n0|strapi-mongo  |   index: 0,\n0|strapi-mongo  |   code: 9,\n0|strapi-mongo  |   errmsg:\n0|strapi-mongo  |    '\\'$pull\\' is empty. You must specify a field like so: {$pull: {<field>: ...}}',\n0|strapi-mongo  |   [Symbol(mongoErrorContextSymbol)]: {} }\n0|strapi-mongo  | [2018-09-24T11:46:29.551Z] debug DELETE /test2/5ba8cdb96a68b005af65ab4b (22 ms)\nThis error is isolated to Mongo only, does not affect MySQL/Postgres so likely and issue with mongoose.. ^^^ The above was done on testing between two models joined with a manyToMany relationship. Attempting to delete would delete the object but would throw that error in the console and feed back a 500 error to the client.\nTested using Postman.. @davidmarcoes No, registered users can't login because only user in the administrator group are currently allowed to do so. There is a feature (most votes so far) on https://strapi.io/vote for Admin panel permissions.\nThe Strapi team are aware of this highly requested feature and are working on it. :smiley: . @lauriejim there is an issue in the users-permission plugin. the it.json file doesn't exist.\nSee an example of my project: https://github.com/canonn-science/CAPIv2-Strapi/tree/development/plugins/users-permissions/admin/src/translations\nThat was generated new with Strapi 12.6.\n@reskwer as for the other bugs, can you elaborate? If the password is saying its wrong its because they are different :stuck_out_tongue: . Ah @lauriejim I can find a case for a decimal, for instance Latitude/Longitude. In most cases when talking lat/lon the farthest accuracy you get to is one ten-thousdands (0.0001) thus if you wanted to ensure you validate this accuracy you would use regex in most cases. This could be done using string but if you wanted to calculate a distance between two points, you should be storing the data as a number.\nI don't think regex should be added as its own type, I think regex should be something you can apply to an already existent field type. . @lauriejim Yes this is something that should be added to the validations entry on the vote page. Since regex itself is a validation. :stuck_out_tongue: . @ghufr I don't believe there is on the admin page, as for the API itself I know there isn't. I believe thats coming with the rate limit feature listed on the vote page.. @Aurelsicoko I figured as much. You guys have a ton of ideas and not enough time in the day \ud83d\ude1b . @lauriejim its basically a way to quickly tie in Strapi into this frontend CRUD. I've used it in the past with loopback. If you look at some of the other examples (like loopback since it has a similar feature set).\n@mnlbox I think this is something that could use the StrapiSDK to build it out pretty easily.. @mnlbox there isn't a guide, I'm saying use the strapiSDK to develop a connector. If you look at some of the other examples of connectors it shouldn't take much. The sdk pretty much offers everything up on a silver platter for you :p. I think @Pritoj is working on it currently. @Devilla I also don't understand what the issue is here. Can you provide some context to the problem?. @Devilla this doesn't help us, what is the bug with Strapi itself? We dont need to know your frontend or another backend. We need to know what kind of issue this is with Strapi itself.. @fleshgakker you need to create a temporary \"new\" project with strapi new blah and ignore the database bit (you can use your current one) after it's generated copy over the admin/plugins folders to your project. @brandhaug bookshelf won't help you here. Its for MySQL and Postgres. Most likely your database.json file isn't setup properly in config/environments/staging or config/environments/production I believe by default those two files use environment variable for connection information. If you copy over the config from your development folder to those and attempt to start it should work, although realistically you should be using env variables for those configs (or all of them)\nhttps://www.twilio.com/blog/2017/08/working-with-environment-variables-in-node-js.html. @dulgeoion have you made any modifications to your models other than the blah.settings.json file?. @dulgeoion can you give me the user.settings.json file with your modifications?. The better question is in which model are you using the JSON data type @dulgeoion . @dulgeoion can you create a new fresh project with a new postgres database and test if you have the same issue?. @dulgeoion typically when I update I create a new project, create all the same models as the previous project (usually with just a string called test) then after I delete the database I copy over all my model.settings.json Since I don't typically modify the services,config,ect files.\nMy guess is something didn't get properly updated. I would recreate your project in a fresh one and use something like Meld on Linux to compare the two directories. that will give you a rough idea on what wasn't upgraded properly.\nhttp://meldmerge.org/. @bahdcoder are you using the same database for all your node env?. @bahdcoder Hmmm if you purge your staging/production database and restart are the permissions shown?\n(Permissions are stored in the database). @Aurelsicoko wasn't something added that checks existing models and if the permission isn't found or a duplicate is found it is deleted/recreated?. Yeah so strapi isn't checking the permissions table/collection on boot if it exists\nMy guess for now @bahdcoder is to export that collection from your development and import/overwrite for staging production (I don't use mongo, so I have no idea on a simple way to do this. With MySQL I can just export CSV and import it to the other database). @bahdcoder @Aurelsicoko is working on a permissions export/import feature. Right now permissions are stored in the database and only in the database. Regardless of the fact new models aren't being added into the permissions table, even if they were with default values they wouldn't be the same values you may have set in development.. (I'm not quite sure what that file is for @bahdcoder, I believe @Aurelsicoko would be the best person to answer that.). Thanks Jim, I'll test this in a bit when I get home and let you know if it works :). @lauriejim No it seems the issue persists, In my case I'm now seeing some models convert oneWay to manyToOne and oneToOne as well. If the source model (the one without the defined relation) has too many fields (seems like more than 2) Strapi is still converting them.. Sarcasm Wait you mean not all \"Open-Source\" projects are FOSS? (Free & Open Source Software)\nJokes aside I agree that the plugins should be monetized @Aurelsicoko but at the same time I do like the road that RedHat takes with their software. Obviously at this stage that isn't really an option for Strapi as you don't really have a \"Commercial\"  business model yet to provide \"support\" for. Maybe one day.\nHowever the problem I do see right now is after Strapi has built the plugins and released them, no one can help contribute to them unless they have already paid for them. And that is of course if we are given the source code at that point. If the plugins are packaged in such a way that we can't see the source, then the only way bugs or improvements can be made is by the Strapi team themselves.\nChicken or Egg problem :stuck_out_tongue: . @doebi Because you are using docker on Strapi 12.4 (the latest version in that repo), the current release of Strapi is 12.6. We generally always ask for users to update to the latest release to confirm the issue, however the docker is not currently updated to the latest release.\nThus your issue is with Strapi 12.4 not Strapi 12.6, please open the issue for your environment, in this case docker. Previous release branches are not kept within the mono-repo design.\nAlso, I find it extremely distasteful to provide rude comments to the Strapi Team (which I am not apart of), that is not a very good way to get support. \nThat being said, the strapi team divert all issues, related or not, for docker to the docker repo.\nIf you would like to create a Strapi 12.6 project not in docker and confirm the issue still exists then I'm sure this could be re-opened.. @doebi can you provide re-producible steps to re-create this error outside of a docker container on Strapi 12.6.\nIssues are closed as needed, typically if its a duplicate issue, not reproducible, outside the scope of this repo (IE docker environments) or not enough information is provided to re-produce the error for troubleshooting.\nI just created a fresh Strapi 12.6 project using node 10, npm 6, and mongo and was able to create multiple models with multiple oneToMany relationships (max I attempted was 10 in one model).\nAs a footnote to the rest of your comment, I will message you on slack.. Nice catch, I should be able to test this myself here soon as well. I would say go ahead and create the PR and submit it, further testing can be done and documented on the PR :+1: . Tested with @lauriejim , No issues on initial DB creation or restarts, and certainly increases the start time on MariaDB/MySQL.\n\ud83d\udc4d . I've seen some other issues related to providers, I think more than just this part probably needs a double check to make sure everything is working as intended.. @daqst Very nice explanation. I'm going to test this myself shortly to confirm your findings. @lauriejim might be worth taking a second look? I've seen a lot of issues relating to the providers plugin.. @hectorgrecco can you please use english to make sure everyone understand correctly? . Duplicate: https://github.com/strapi/strapi/issues/1114. As always, massive PR :stuck_out_tongue: <3. And now I'm super excited for the new release @soupette dang you shakes happy fist :smile: . @reskwer I don't quite understand the bug your having.. @manishsg You probably need to set some headers for Nginx. I haven't tested something like this, but in my case my nginx config is as such:\n```\nserver {\nListen HTTPS\nlisten 443 ssl;\nserver_name api.example.com;\n\nCustom Error Page\nerror_page 500 501 502 503 /Maintenance/maintenance.html;\n\nMaintenance Location\nlocation /Maintenance/ {\n    root /var/www/example.com;\n}\n\nRoot Location\nroot /var/www/example.com/api.example.com/public_html;\n\nSSL Config\nssl_certificate /etc/nginx/ssl/acme/api.example.com/fullchain.cer;\nssl_certificate_key /etc/nginx/ssl/acme/api.example.com/api.example.com.key;\nssl_session_timeout  5m;\nssl_protocols TLSv1 TLSv1.1 TLSv1.2;\nssl_ciphers ECDH+AESGCM:DH+AESGCM:ECDH+AES256:DH+AES256:ECDH+AES128:DH+AES:RSA+AESGCM:RSA+AES:!aNULL:!MD5:!DSS;\nssl_prefer_server_ciphers   on;\n\nProxy Config\nlocation / {\n    proxy_pass http://apiProd;\n    proxy_http_version 1.1;\n    proxy_set_header X-Forwarded-Host $host;\n    proxy_set_header X-Forwarded-Server $host;\n    proxy_set_header X-Real-IP $remote_addr;\n    proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n    proxy_set_header X-Forwarded-Proto $scheme;\n    proxy_set_header Host $http_host;\n    proxy_set_header Upgrade $http_upgrade;\n    proxy_set_header Connection \"Upgrade\";\n}\n\n}\n```. @manishsg is it possible to instead use a sub-domain like api.example.com instead of /scs.\nMaybe something like scs.example.com? (It would make your setup much easier to work with) \nYou can actually define multiple server in the same config file for nginx. @manishsg you would use the servername \nHere is a rough nginx docs page: http://nginx.org/en/docs/http/server_names.html\nBut yes they can be on the same physical host. Nginx looks for what URL is being requested.\nexample.com vs scs.example.com can serve two different proxies.\nFor instance I have an Nginx proxy in front of about 30 different websites all on the same IP and the same ports \ud83d\ude04 . Give me a few moments and I'll see if I can get a rough config made for you.. Something like this, (I didn't actually check to make sure it all works, but its close)\nNote that you may need to move the Upstream Servers to a different file, for instance I store mine in /etc/nginx/conf.d/upstream.conf\n```\n\nUpstream Servers\n\nupstream example {\n    server localhost:8080\n}\nupstream scs {\n    server localhost:1337\n}\n\nHTTP SRV example.com\n\nserver {\nListen HTTP\nlisten 80;\nserver_name example.com;\n\nElse Redirect to HTTPS // API\nlocation / {\n  return 301 https://$host$request_uri;\n}\n\n}\n\nHTTPS SRV example.com\n\nserver {\nListen HTTPS\nlisten 443 ssl;\nserver_name example.com;\n\nRoot Location\nroot /var/www/html/example.com;\n\nSSL Config\nssl_certificate /path/to/your/crt;\nssl_certificate_key /path/to/your/key;\n\nProxy Config\nlocation / {\n    proxy_pass http://example;\n    proxy_http_version 1.1;\n    proxy_set_header X-Forwarded-Host $host;\n    proxy_set_header X-Forwarded-Server $host;\n    proxy_set_header X-Real-IP $remote_addr;\n    proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n    proxy_set_header X-Forwarded-Proto $scheme;\n    proxy_set_header Host $http_host;\n    proxy_set_header Upgrade $http_upgrade;\n    proxy_set_header Connection \"Upgrade\";\n}\n\n}\n\nHTTP SRV scs.example.com\n\nserver {\nListen HTTP\nlisten 80;\nserver_name scs.example.com;\n\nElse Redirect to HTTPS // API\nlocation / {\n  return 301 https://$host$request_uri;\n}\n\n}\n\nHTTPS SRV scs.example.com\n\nserver {\nListen HTTPS\nlisten 443 ssl;\nserver_name scs.example.com;\n\nRoot Location\nroot /var/www/html/scs.example.com;\n\nSSL Config\nssl_certificate /path/to/your/crt;\nssl_certificate_key /path/to/your/key;\n\nProxy Config\nlocation / {\n    proxy_pass http://scs;\n    proxy_http_version 1.1;\n    proxy_set_header X-Forwarded-Host $host;\n    proxy_set_header X-Forwarded-Server $host;\n    proxy_set_header X-Real-IP $remote_addr;\n    proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n    proxy_set_header X-Forwarded-Proto $scheme;\n    proxy_set_header Host $http_host;\n    proxy_set_header Upgrade $http_upgrade;\n    proxy_set_header Connection \"Upgrade\";\n}\n\n}\n```. Note that with Nginx, you cannot proxy http2 requests.\nThe response from the nginx team:\n\nIs HTTP/2 proxy support planned for the near future?\nShort answer:\nNo, there are no plans.\nLong answer:\nThere is almost no sense to implement it, as the main HTTP/2 benefit is that it allows multiplexing many requests within a single connection, thus [almost] removing the limit on number of simalteneous requests - and there is no such limit when talking to your own backends. Moreover, things may even become worse when using HTTP/2 to backends, due to single TCP connection being used instead of multiple ones.\nOn the other hand, implementing HTTP/2 protocol and request multiplexing within a single connection in the upstream module will require major changes to the upstream module.\nDue to the above, there are no plans to implement HTTP/2 support in the upstream module, at least in the foreseeable future. If you still think that talking to backends via HTTP/2 is something needed - feel free to provide patches.. You also would need to make this subdomain with your domain provider in its DNS settings.\n\nfor example with goDaddy: https://www.godaddy.com/help/add-a-subdomain-20047. Good to know @manishsg :smiley: glad I could help. @lauriejim Yes its fixed\nThanks for the quick fix. I'll update the command. @soupette can you review again to make sure this follows Strapi's documentation standards.. Spoke with @lauriejim on slack, he stated on MacOS the issue doesn't exist.\nI am going to test on Ubuntu 16.04 to confirm its not just my normal dev machine. Confirmed issue on Ubuntu 16.04, Centos 7, and RHEL 7. @maturano can you weigh in on this, what OS do you use?. @maturano update to 12.7.1 and/or completely remove your strapi folder installed with npm\nI can't reproduce it now.. @lauriejim leaving this open for ~24 hours to see if anyone else hits this error.. for me either updating fixed it or running rm -R /usr/lib/node_modules/strapi and reinstalling it with npm install -g strapi@alpha\nNot sure which fixed it.\n. Yeah @maturano I have no idea how fixing yarn fixed my issue either. @lauriejim wasn't able to reproduce our issue on an AWS instance (after he fixed yarn :stuck_out_tongue: ) this is likely the reason. \nI'll go ahead and mark this as resolved then since it seems to be solved.. @maturano Alright I'll reopen this, we can close it when you submit a PR.. Great, marking as closed. +1 to this especially if your running behind an nginx proxy. That URL will almost always be wrong.. @lauriejim also related to this, even setting the host option it still adds the Strapi port so if you proxy requests via nginx the port will be wrong unless you are proxying 1337 (which you shouldn't be :P )\nI think that there needs to be a \"Read Only\" option for that files url\nServer is actually running on localhost:1337 but the files show the read only https://domain.com (Note the no port)\n. I've started a fix for this: https://github.com/strapi/strapi/pull/1813. @osamajandali was this in line with what you were thinking?. @BroTrue the documentation is wrong, run npm run setup in your project root folder, not the /admin folder. See my pending PR: https://github.com/strapi/strapi/pull/1546. @dulgeoion when you save permissions do you see them in the database at all? My guess is there might be a permissions issue on your postgres database that isn't allowing writes.\nIf you enable the debug option in your database.json file you can see if there is any errors.\nSee the following doc to enable it: https://strapi.io/documentation/configurations/configurations.html#database. Hmmm, that seems strange. I wasn't able to reproduce it on MySQL but I'll have to test with Postgres.. Hmmm, @printeastwoodcz what are you env settings (The information bit in the issue)\n. @printeastwoodcz and this happens on a fresh project from Strapi?. @lauriejim I just created a test project using the following model:\n{\n  \"connection\": \"default\",\n  \"collectionName\": \"testmodels\",\n  \"info\": {\n    \"name\": \"testmodel\",\n    \"description\": \"\"\n  },\n  \"options\": {\n    \"increments\": true,\n    \"timestamps\": true,\n    \"comment\": \"\"\n  },\n  \"attributes\": {\n    \"testboolean\": {\n      \"type\": \"boolean\"\n    }\n  }\n}\nAttempting to send a POST request with Postman:\n{\n    \"message\": \"An internal server error occurred\",\n    \"statusCode\": 500,\n    \"error\": \"Internal Server Error\"\n}\n\nError message in Strapi:\n{ Error: ER_TRUNCATED_WRONG_VALUE_FOR_FIELD: Incorrect integer value: 'true' for column 'testboolean' at row 1\n    at Query.Sequence._packetToError (/mnt/nixstorage/Development/strapitest/node_modules/mysql/lib/protocol/sequences/Sequence.js:52:14)\n    at Query.ErrorPacket (/mnt/nixstorage/Development/strapitest/node_modules/mysql/lib/protocol/sequences/Query.js:77:18)\n    at Protocol._parsePacket (/mnt/nixstorage/Development/strapitest/node_modules/mysql/lib/protocol/Protocol.js:279:23)\n    at Parser.write (/mnt/nixstorage/Development/strapitest/node_modules/mysql/lib/protocol/Parser.js:76:12)\n    at Protocol.write (/mnt/nixstorage/Development/strapitest/node_modules/mysql/lib/protocol/Protocol.js:39:16)\n    at Socket.<anonymous> (/mnt/nixstorage/Development/strapitest/node_modules/mysql/lib/Connection.js:103:28)\n    at Socket.emit (events.js:182:13)\n    at Socket.EventEmitter.emit (domain.js:442:20)\n    at addChunk (_stream_readable.js:283:12)\n    at readableAddChunk (_stream_readable.js:264:11)\n    at Socket.Readable.push (_stream_readable.js:219:10)\n    at TCP.onread (net.js:638:20)\n    at Protocol._enqueue (/mnt/nixstorage/Development/strapitest/node_modules/mysql/lib/protocol/Protocol.js:145:48)\n    at Connection.query (/mnt/nixstorage/Development/strapitest/node_modules/mysql/lib/Connection.js:208:25)\n    at /mnt/nixstorage/Development/strapitest/node_modules/knex/lib/dialects/mysql/index.js:154:18\nFrom previous event:\n    at Client_MySQL._query (/mnt/nixstorage/Development/strapitest/node_modules/knex/lib/dialects/mysql/index.js:148:12)\n    at Client_MySQL.query (/mnt/nixstorage/Development/strapitest/node_modules/knex/lib/client.js:202:17)\n    at Runner.<anonymous> (/mnt/nixstorage/Development/strapitest/node_modules/knex/lib/runner.js:146:36)\nFrom previous event:\n    at /mnt/nixstorage/Development/strapitest/node_modules/knex/lib/runner.js:48:21\n    at runCallback (timers.js:696:18)\n    at tryOnImmediate (timers.js:667:5)\n    at processImmediate (timers.js:649:5)\n    at process.topLevelDomainCallback (domain.js:121:23)\nFrom previous event:\n    at Runner.run (/mnt/nixstorage/Development/strapitest/node_modules/knex/lib/runner.js:34:31)\n    at Builder.Target.then (/mnt/nixstorage/Development/strapitest/node_modules/knex/lib/interface.js:20:43)\n    at Child.<anonymous> (/mnt/nixstorage/Development/strapitest/node_modules/bookshelf/lib/model.js:1118:36)\nFrom previous event:\n    at Child.<anonymous> (/mnt/nixstorage/Development/strapitest/node_modules/bookshelf/lib/model.js:1117:125)\n    at runCallback (timers.js:696:18)\n    at tryOnImmediate (timers.js:667:5)\n    at processImmediate (timers.js:649:5)\n    at process.topLevelDomainCallback (domain.js:121:23)\nFrom previous event:\n    at Child.<anonymous> (/mnt/nixstorage/Development/strapitest/node_modules/bookshelf/lib/model.js:1000:8)\nFrom previous event:\n    at Object.add (/mnt/nixstorage/Development/strapitest/api/testmodel/services/Testmodel.js:105:47)\n    at create (/mnt/nixstorage/Development/strapitest/api/testmodel/controllers/Testmodel.js:52:38)\n    at dispatch (/usr/lib/node_modules/strapi/node_modules/koa-router/node_modules/koa-compose/index.js:44:32)\n    at next (/usr/lib/node_modules/strapi/node_modules/koa-router/node_modules/koa-compose/index.js:45:18)\n    at dispatch (/usr/lib/node_modules/strapi/node_modules/koa-compose/index.js:42:32)\n    at policies.push (/usr/lib/node_modules/strapi/lib/middlewares/router/utils/routerChecker.js:59:26)\n    at dispatch (/usr/lib/node_modules/strapi/node_modules/koa-compose/index.js:42:32)\n    at module.exports (/mnt/nixstorage/Development/strapitest/plugins/users-permissions/config/policies/permissions.js:55:9)\n  code: 'ER_TRUNCATED_WRONG_VALUE_FOR_FIELD',\n  errno: 1366,\n  sqlMessage:\n   'Incorrect integer value: \\'true\\' for column \\'testboolean\\' at row 1',\n  sqlState: '22007',\n  index: 0,\n  sql:\n   'insert into `testmodels` (`created_at`, `testboolean`, `updated_at`) values (\\'2018-07-13 10:00:20.624\\', \\'true\\', \\'2018-07-13 10:00:20.624\\')' }\n[2018-07-13T10:00:20.630Z] debug POST /testmodel (13 ms). Based on this response the fix that was applied to bookshelf is not being referenced to alias True = 1 and False = 0. @lauriejim Just tested using the raw format with application/json\nI also spun up a VM outside my normal environments, in this case on the Vultr cloud.\n\nOn this server the following versions:\n\nIn this case I created a model called testmodel with a field of testboolean1. The same error happened. Odd, if you remove the \"\" around the value:\n{\n    \"testboolean1\": false\n}\nIt seems to work. @lauriejim is x-www-form-urlencoded something that is planned to be supported or just raw JSON. Closing this as it \"Works\" just not as expected, likely deeper issues than just the boolean.. @npjonath you need to set the default value, as with an enum the value could be null. (Side note @lauriejim Strapi doesn't use the enum type in MySQL, its just a string. I only know this because I specifically did that in the PR that added it :stuck_out_tongue: updating enum values in large databases can take forever and be very damaging to the database)\nRealistically @lauriejim they could probably be stored as json and decoded, but that would require quite a bit of rework.. That being said, this is one of those reasons why a manyToOneWay would be a nice add. (Or oneWayToMany, however that works)\n(Think oneway but you can select multiple from the source model). @Aurelsicoko the question is how do you store the values :stuck_out_tongue: . @Aurelsicoko That was my suggestion as well, but in this case we could also add that option to the oneWay relationship to allow selections of multiple oneWays (I'm thinking in terms of being able to update the data while in production without having to modify the model)\nSince the purpose of enum and oneWay are very similar in uses cases :smile: . @lauriejim We can probably close this in support of the two listed options:\nArray Type: https://github.com/strapi/strapi/issues/784\n&\nRelational Array: https://github.com/strapi/strapi/issues/1748. @Aurelsicoko is there already a PR for this? Might be best to hold off closing an issue until it's commited into the repo :stuck_out_tongue: . Duplicate: https://github.com/strapi/strapi/issues/1281\n@lauriejim . I can confirm this is a bug. Pasting it in an Integer field won't save on mysql due to the number being outside the maximum range. Pasting it into a string field results in the example.. @ghufr can you test without using nvm and install node globally?. @ghufr try to run that in the root project directory\n. sorry npm run setup. Just tossing this here since @maturano noticed it put it on the slack. @soupette any idea whats going on here?\n\nMaturano [11 days ago]\n... :confused:\nResults that...\n- cross-env is dependency of strapi-helper-plugin\n- strapi-helper-plugin is listed on devDependecies\n... In the server the var enviroment NODE_ENV=production is setted by default. That was causing to npm skip installing the devDependencies... so ... that was the black magic.\nI'll out to walk a couple of minutes U_U. @lauriejim I can give you one sure fire way with my project :stuck_out_tongue: . Example on v13.1:\n\n\nHowever now if I attempt to save:\n\n\nIt works as expected, I think this is some kind of frontend bug with oneWay relations. @soupette what are your thoughts?. My current version without these oneWay relation changes: https://github.com/canonn-science/CAPIv2-Strapi\nMy test version with these changes: https://github.com/canonn-science/CAPIv2-Strapi/tree/removeLocation\n( Run a diff and you can see the changes ). Diff between the two: https://github.com/canonn-science/CAPIv2-Strapi/commit/1d3135f9d2b178960a060bf56203e8006bc7a5f7. Have confirmed the graphical bug on the AdminUI in Strapi v14, however the models are \"working\" without breaking. The AdminUI just shows them as being oneToOne or oneToMany when you click on them in the content type builder.. @soupette yes. Can confirm the visual bug is still happening on v14.1.1 also sometime a random \"undefined\" relation field shows up on the \"source\" model that has to be deleted. Note that it doesn't actually create anything in the database on the source nor the destination tables.. Moment and I'll check on my v14.3 project\n. Can confirm it still exists in v14.3:\n\nThat relation should be a oneWay here is the model for it:\nhttps://github.com/canonn-science/CAPIv2-Strapi/blob/529fb76156ae4fef0a00661f675fd56926ae3326/api/bmsite/models/Bmsite.settings.json#L13-L19. @soupette I am unable to re-produce it outside my project. It has been around on every update.\nWhen I update I follow my \"nuke and rebuild steps\" documented here: https://github.com/strapi/strapi/issues/1880\nSo realistically the only thing \"model\" related that gets carried over from update to update is the model.settings.json file.\nI can provide login info to you in slack if you want to jump on my development server, or you can spin up my project in a VM somewhere and it should be easily duplicated there.. Yeah so the backend (bookshelf) is sending the wrong relation data. Those system and body fields should be oneWay not manyToOne.\nI know the oneWay code was a quick and dirty addition, most likely related that the source models have a ton of other fields on them, there is likely some kind of parse problem.. Yes @lauriejim, it's usually the first thing I check after I updated. It is still happening on 14.4.. Checked again on 14.5:\nShould be oneWay not manyToOne:\n\nModel: https://github.com/canonn-science/CAPIv2-Strapi/blob/development/api/bmsite/models/Bmsite.settings.json. FYI still happens on v15. Confirming this issue still present on v18 & v19. Bug still exists on v22\n\n. @lauriejim likely related to that issue with the automated created_at and updated_at fields a few versions back.. @dblinov its not an issue with mysql, strapi isn't sending the correct format to mysql. Not sure on the exact fix @dblinov but I know the problem stems from Strapi using moment.js which doesn't format the datetime correctly for mysql. \nI believe @johannpinson has already fixed it in a PR that also adds some other stuff to graphQL, see: https://github.com/strapi/strapi/pull/1439#issuecomment-401714051\nNot sure if that PR also includes the fix.. Related: https://github.com/strapi/strapi/issues/1114. @sriharsha186 right now Strapi will not directly manage the database (Mongo/MySQL/Postgres) It will create the tables and columns (not sure what they are called in mongo) but it won't edit them (other than to reset the data type on columns) and it certainly won't delete them.\nAs you said it's similar to but not exactly deleting the column and creating a new one, doing so in this context would also delete the data. I know in MySQL you can rename the column.\nBut if you read through that linked issue you can get a feel for what @Aurelsicoko has in mind.\nI would suggest closing this as it is more or less a duplicate of that issue, while not exactly the same it would benefit if we just update that related issue to promote further discussion in one place.. @fedecarg you need to also rename it in the other model, as the other one will still attempt to reference the old name.. @fedecarg are you using any special case for either the model or the field? (Spaces, symbols, camelCase, ect) ?. Also you can just update the names via the model settings file api/modelname/models/modelname.settings.json\nIt should be noted that Strapi doesn't rename the fields in or models stored in the DB, so by renaming you will \"lose\" that data (it is still there but no longer referenced properly). @fedecarg The Strapi team are aware of this issue, it has been brought up a few times. Eventually I think Strapi will have 2 options:\n\nDelete the entire table (not sure what it is called in mongo) and lose all data and rebuild it\nDump/backup the data and do #1 (Obviously this is slower if being done on a large database.). @tonyberetini because it is a duplicate problem dealing with data migration.. https://github.com/strapi/strapi/issues/1114\n\nRead discussion between me and @Aurelsicoko . @fedecarg there is no validation layer, right now the database is the only real validation and mongo doesn't really have that. MySQL will toss an error about it and won't save it. See the vote page the validations option is on there.. @xeastcrast \nPmx is something that reports metrics from your application to pm2, which Strapi doesn't have as it wasn't designed to run with pm2.\nSo it's being disabled to save resources that is looking for events that won't happen.. Can confirm this on a new 12.7.1 project with mysql. @adrianoresende pack_size is the problem, no symbols or spaces: https://github.com/strapi/strapi/wiki/Frequently-Asked-Questions#model--field-naming-schemes. @dannydtk @pierrebarbaroux Unlikely the Strapi team will get to this in the near future unless it breaks something if you wanted to create a PR to fix them.. @lauriejim your right, I didn't use the search function first facepalm\nClosing this in order to promote discussion on linked issue.. @matthias-schulz check your firewall, even though it shows as bound to localhost you can still access it on your public ip. :smile: . @matthias-schulz https://www.digitalocean.com/community/tutorials/how-to-set-up-a-firewall-with-ufw-on-ubuntu-16-04\n. @matthias-schulz that is just standard practice lol, you should be running a firewall anyway :smiley: . @maturano realistically Strapi should be firewalled off and nginx should be proxying it with SSL . @matthias-schulz Yes you will need to use a firewall.. @JREAM are you using the strapi generate:api command?\nIf so please check out my bug here: https://github.com/strapi/strapi/issues/1412\nThere are major differences between how the AdminUI builds the model files and how the generate command does. For now on SQL you will need to use the AdminUI.\nI believe @lauriejim was going to take a look at this and re-open that issue.. Also as a side note, you can't use id in a relationship because strapi injects that field already.. Same @lauriejim @Aurelsicoko Critical issue breaking all other project.s. @lauriejim fixed this issue by bringing the site back up, however a more perm fix should be applied to stop this from happening in the future.. @tjvanderende For the RestAPI part on Strapi v13.0.1 I can confirm it works fine on MySQL. I'll test graphQL right now and let you know, but last time I looked it was functioning fine?. @johannpinson \n@tjvanderende may be onto something here, lookups are acting odd, it doesn't seem to be pulling the correct data and is only grabbing the first entry\nLeft -> Rest // Right -> GraphQL Playground\n\n. Getting a bunch of errors about bookshelf in console\nTypeError: Cannot read property 'toJSON' of null\n    at Function.findOne (/mnt/nixstorage/Github/Canonn/CAPIv2-Strapi/plugins/content-manager/config/queries/bookshelf.js:187:25)\n    at process._tickCallback (internal/process/next_tick.js:68:7)\nTypeError: Cannot read property 'toJSON' of null\n    at Function.findOne (/mnt/nixstorage/Github/Canonn/CAPIv2-Strapi/plugins/content-manager/config/queries/bookshelf.js:187:25)\n    at process._tickCallback (internal/process/next_tick.js:68:7)\nTypeError: Cannot read property 'toJSON' of null\n    at Function.findOne (/mnt/nixstorage/Github/Canonn/CAPIv2-Strapi/plugins/content-manager/config/queries/bookshelf.js:187:25)\n    at process._tickCallback (internal/process/next_tick.js:68:7)\nTypeError: Cannot read property 'toJSON' of null\n    at Function.findOne (/mnt/nixstorage/Github/Canonn/CAPIv2-Strapi/plugins/content-manager/config/queries/bookshelf.js:187:25)\n    at process._tickCallback (internal/process/next_tick.js:68:7)\nTypeError: Cannot read property 'toJSON' of null\n    at Function.findOne (/mnt/nixstorage/Github/Canonn/CAPIv2-Strapi/plugins/content-manager/config/queries/bookshelf.js:187:25)\n    at process._tickCallback (internal/process/next_tick.js:68:7)\nTypeError: Cannot read property 'toJSON' of null\n    at Function.findOne (/mnt/nixstorage/Github/Canonn/CAPIv2-Strapi/plugins/content-manager/config/queries/bookshelf.js:187:25)\n    at process._tickCallback (internal/process/next_tick.js:68:7)\nTypeError: Cannot read property 'toJSON' of null\n    at Function.findOne (/mnt/nixstorage/Github/Canonn/CAPIv2-Strapi/plugins/content-manager/config/queries/bookshelf.js:187:25)\n    at process._tickCallback (internal/process/next_tick.js:68:7)\nTypeError: Cannot read property 'toJSON' of null\n    at Function.findOne (/mnt/nixstorage/Github/Canonn/CAPIv2-Strapi/plugins/content-manager/config/queries/bookshelf.js:187:25)\n    at process._tickCallback (internal/process/next_tick.js:68:7)\nTypeError: Cannot read property 'toJSON' of null\n    at Function.findOne (/mnt/nixstorage/Github/Canonn/CAPIv2-Strapi/plugins/content-manager/config/queries/bookshelf.js:187:25)\n    at process._tickCallback (internal/process/next_tick.js:68:7)\nTypeError: Cannot read property 'toJSON' of null\n    at Function.findOne (/mnt/nixstorage/Github/Canonn/CAPIv2-Strapi/plugins/content-manager/config/queries/bookshelf.js:187:25)\n    at process._tickCallback (internal/process/next_tick.js:68:7)\nTypeError: Cannot read property 'toJSON' of null\n    at Function.findOne (/mnt/nixstorage/Github/Canonn/CAPIv2-Strapi/plugins/content-manager/config/queries/bookshelf.js:187:25)\n    at process._tickCallback (internal/process/next_tick.js:68:7). strapi.log\nAlso this dumped to console:\nTypeError: Cannot read property 'toJSON' of null\n    at Function.findOne (/mnt/nixstorage/Github/Canonn/CAPIv2-Strapi/plugins/content-manager/config/queries/bookshelf.js:189:25)\nTypeError: Cannot read property 'toJSON' of null\n    at Function.findOne (/mnt/nixstorage/Github/Canonn/CAPIv2-Strapi/plugins/content-manager/config/queries/bookshelf.js:189:25)\nTypeError: Cannot read property 'toJSON' of null\n    at Function.findOne (/mnt/nixstorage/Github/Canonn/CAPIv2-Strapi/plugins/content-manager/config/queries/bookshelf.js:189:25)\nTypeError: Cannot read property 'toJSON' of null\n    at Function.findOne (/mnt/nixstorage/Github/Canonn/CAPIv2-Strapi/plugins/content-manager/config/queries/bookshelf.js:189:25)\nTypeError: Cannot read property 'toJSON' of null\n    at Function.findOne (/mnt/nixstorage/Github/Canonn/CAPIv2-Strapi/plugins/content-manager/config/queries/bookshelf.js:189:25)\nTypeError: Cannot read property 'toJSON' of null\n    at Function.findOne (/mnt/nixstorage/Github/Canonn/CAPIv2-Strapi/plugins/content-manager/config/queries/bookshelf.js:189:25)\nTypeError: Cannot read property 'toJSON' of null\n    at Function.findOne (/mnt/nixstorage/Github/Canonn/CAPIv2-Strapi/plugins/content-manager/config/queries/bookshelf.js:189:25)\nTypeError: Cannot read property 'toJSON' of null\n    at Function.findOne (/mnt/nixstorage/Github/Canonn/CAPIv2-Strapi/plugins/content-manager/config/queries/bookshelf.js:189:25)\nTypeError: Cannot read property 'toJSON' of null\n    at Function.findOne (/mnt/nixstorage/Github/Canonn/CAPIv2-Strapi/plugins/content-manager/config/queries/bookshelf.js:189:25)\nTypeError: Cannot read property 'toJSON' of null\n    at Function.findOne (/mnt/nixstorage/Github/Canonn/CAPIv2-Strapi/plugins/content-manager/config/queries/bookshelf.js:189:25)\nTypeError: Cannot read property 'toJSON' of null\n    at Function.findOne (/mnt/nixstorage/Github/Canonn/CAPIv2-Strapi/plugins/content-manager/config/queries/bookshelf.js:189:25). @lauriejim it now working more or less, I am getting some additional errors but it isn't related to this issue anymore. You should be able to close this one.. @jukefr the missing repo shouldn't be an issue as the development for that plugin is done in:\nhttps://github.com/strapi/strapi/tree/master/packages/strapi-plugin-graphql\nI am able to install it on Linux, currently support for windows is very hit or miss. The current solutions are to either work in WSL or use a linux VM if you have to develop on windows. Better support for windows is coming, the strapi team are working on it.\nPlease try testing within WSL.. Side note, Strapi generally requires node 9 or greater, I know the work around on windows to get past the database setup is to downgrade to node 8 but the rest of the project doesn't support that.. @lauriejim I was going to submit a PR for this but I'm unsure how to handle this, the related file for this is here:\nhttps://github.com/strapi/strapi/blob/7b2ce955ff227267f1fed8a1d20876d934f77d44/packages/strapi/lib/core/store.js#L3-L30\nThis looks like a hard coded model that is using the following switch to set the value type:\nhttps://github.com/strapi/strapi/blob/7b2ce955ff227267f1fed8a1d20876d934f77d44/packages/strapi-hook-bookshelf/lib/index.js#L403-L407\nThere doesn't seem to be an easy way to change this to longtext without setting all text values to longtext\nThat shouldn't cause issues (if anything beneficial for every field using text) However postgres doesn't have the longtext data type.\nI'll create a PR to modify the MySQL part of this and see if you guys approve.. @lauriejim @soupette I think I found the problem:\nIn core_store the column plugin_content-manager_schema stores all the content-manager custom views in one entry..... and in my case with ~64 models its gigantic. Way past the normal limit of a text field.\nTechnically that field should be a json field type in MySQL (which with MariaDB defaults to longtext). So here, that type needs to be changed to json: \nhttps://github.com/strapi/strapi/blob/7b2ce955ff227267f1fed8a1d20876d934f77d44/packages/strapi/lib/core/store.js#L15-L17\nUnless you want to modify that to store each model in a separate entry, not sure how breaking that will be with the new custom views.. PR Closed, resolving. @marceloavf similar questions have been asked about proxying to a subfolder, I explained a bit more here: https://github.com/strapi/strapi/issues/1539#issuecomment-403571806 and included some nginx sample configs.\nTypically when working with headless cms systems you use a subdomain rather than a subfolder.\nIf you own a domain name your host should provide subdomains for free, its just a DNS setting.. @lauriejim mysql Strapi is saving the value as \"undefined\"\n(I can confirm that you can't save if the json text box is empty, you have to put {})\n\n\nModel:\n{\n  \"connection\": \"default\",\n  \"collectionName\": \"journaldata\",\n  \"info\": {\n    \"name\": \"journaldata\",\n    \"description\": \"Raw journal dumps\"\n  },\n  \"options\": {\n    \"increments\": true,\n    \"timestamps\": true,\n    \"comment\": \"\"\n  },\n  \"attributes\": {\n    \"eventName\": {\n      \"type\": \"string\"\n    },\n    \"systemName\": {\n      \"type\": \"string\"\n    },\n    \"bodyName\": {\n      \"type\": \"string\"\n    },\n    \"stationName\": {\n      \"type\": \"string\"\n    },\n    \"cmdrName\": {\n      \"type\": \"string\"\n    },\n    \"latitude\": {\n      \"type\": \"float\"\n    },\n    \"longitude\": {\n      \"type\": \"float\"\n    },\n    \"isBeta\": {\n      \"type\": \"boolean\"\n    },\n    \"jsonData\": {\n      \"type\": \"json\",\n      \"required\": true\n    }\n  }\n}\n. Note that saving the value and re-opening it that json value is empty, I pasted that there to show valid json. I believe sending data via the API itself should be fine, Jim and I both took a look on some test projects that it is coming from the frontend.\n@NoahHahm can you try testing using something like Postman, I'm about to do the same on all 3 databases.. Mongo using Postman:\n\nPostgres using Postman:\n\nMySQL using Postman:\n\n. Side note of things that might need to be done (If @Aurelsicoko approves):\n\n[x] Create react test (like the other providers)\n[x] Update Strapi Documentation. @Aurelsicoko is there anything specific you want to see in the documentation?. Created PR for example react app, note that it doesn't have the font awesome discord icon\n\nhttps://github.com/strapi/strapi-examples/pull/36. Related issue: https://github.com/strapi/strapi/issues/1657. @maturano Is this for loading config values from environment variables for use in something like Docker?. @maturano good thinking :wink: . @yusufiga Strapi uses an Auth0 Lib for the handling of JWT. There is an entry on its README.md: https://github.com/auth0/node-jsonwebtoken#refreshing-jwts\nWith some links to an example, an issue, and a PR.\nhttps://gist.github.com/ziluvatar/a3feb505c4c0ec37059054537b38fc48\nhttps://github.com/auth0/node-jsonwebtoken/issues/122\nhttps://github.com/auth0/node-jsonwebtoken/pull/172\nBut I do agree that a non-refreshing token and logging in every 30 days on an app would be mildly annoying.. @bahdcoder No I feel this is probably above my skill level, but it would be nice to have. I know some of the OAuth providers also provide refresh keys (Discord comes to mind) So those should also be taken into account.\nIf you're up to take a look, it would be really awesome. :). the alternative (and quite a terrible and insecure way to handle it) @yusufiga is to cache their login information and refresh the token on the app side.. I agree completely @yusufiga even encrypted it really shouldn't be stored on the device, just wanted to offer it as a temporary solution until something more proper comes into play.\nI am hitting a similar issue with my desktop application :stuck_out_tongue_winking_eye: . FYI @Aurelsicoko @deeq14 there is a PR for this already: https://github.com/strapi/strapi/pull/2704. @lauriejim I think what he is saying is that via the REST route that data wouldn't show up (could be wrong, haven't tried setting up a relation to users model)\nBut that GraphQL is doing something that REST blocks. @arsenx were you able to get password hashes?. @kuongknight Is this Model defined or globally defined?. related issue: https://github.com/strapi/strapi/issues/1202. @kuongknight Sir you are amazing, thank you.. Note that some extra testing may need to be done with MySQL as the varchar(255) doesn't look quite right.. @kuongknight that sounds about right, I believe the default Mongo UUID is also 36. A 255 UUID is just a tad large :wink: \nHave you tested this on MySQL yet?. Per RFC 4122 a UUID is 32 Hex digits + 4 Dashes. Again @soupette you are a monster :stuck_out_tongue_winking_eye: \nThanks for this massive PR. Can we get a few Screenshots of the design?. @soupette Is the plan to continue splitting relational data off to the side or can relation fields be added to the main container like normal fields?\nPersonally I think locking relations to their own container on right is a bit of wasted space, I think a better implementation would be to allow configurable columns. But so far this looks amazing \ud83d\ude32 \nNice Job \ud83d\udc4d . Woooo \\o/ Thanks @soupette for your hard work, can't wait to play with this!\n@lauriejim is it patch day yet!!!!? :stuck_out_tongue: . @sbastias Not the content-manager layout plugin stores everything in the core_store and is deeply nested, manually modifying it would be extremely complex.\nI've brought this up with @soupette before especially for someone with a lot of models. I'm hoping in the future it can be broken down into separate entries (right now all of your models schema and settings are stored in one entry)\nOr to allow us to define the layout via a file and force strapi to use that over the dynamic versions (alternatively maybe some kind of import/export option?). @stunjiturner not in the adminUI yet but you can do it in the json file for now like you stated. I don't believe any testing has been done using AL, the current supported OSes are Ubuntu, Centos (RHEL), and MacOS.\nThis looks to be an issue with Mongo, @elisegriset92 & @dannydtk what version of mongo is installed?. @dannydtk can you try running the 3.6 version of Mongo? I just noticed that a new version was released in June and I'm not sure if any testing was done with Strapi and v4.0.0.\nAlso assuming you authentication enabled on that docker container for Mongo and/or have tested flipping the SSL flag in Strapi for it?. @JayWelsh you have a problem with data in your database or a field type somewhere.. Syntax Error: Invalid number, expected digit but got: \"t\".. @JayWelsh is your project on github somewhere?\nThis isn't really a Strapi issue but a syntax problem somewhere in your project. If you create a new Strapi app and try and install the GraphQL plugin does it work?. @JayWelsh can you give me the view of that model in the type-builder?\nSpecifically i want to see how this is defined: \n\nThat is likely where your syntax error is based on:\n(node:28107) UnhandledPromiseRejectionWarning: GraphQLError: Syntax Error: Expected :, found Name \"Name\"\n. Yup (wrong person btw :wink: )\nThats your problem right there: \n\nContent type fields need to be all lowercase and contain no spaces or special chars. You can change the \"look\" in the adminUI using the content Manager plugin.\nGraphQL is very very very strict, while strapi doesn't have the proper checks in place to ensure things are formatted properly.\n. @JayWelsh no problem man. Likely due to Strapi not modifying the collection, will need to be fixed in the mongoose package.. @MechJosh0 two things related to your video:\n1) Can't use spaces in modelname\n2) Can't use spaces in field name. @echappen Node.js version: 8.11.1\nPlease test with Node 10, node 8 is no longer supported and is EOL. @Anbarasan-321 a few things:\n1) Please use the proper bug report issue format\n2) Please use code blocks or dump logs to a file and attach it\n3) There are known issues on windows, for now you should use WSL or a Linux VM\nIssues that don't follow the proper bug format, or are considered duplicates are closed by @lauriejim . Duplicate: https://github.com/strapi/strapi/issues/1657\n@mnlbox this has already been fixed, will probably be pushed with Strapi 13.1 in about 2 days \ud83d\ude1b . AdminUI related issue with zero in number fields: https://github.com/strapi/strapi/issues/1077\nAs for not being able to use decimals @jeanmaried I cannot replicate this. What browser are you using?. @soupette is the zero thing a limitation of react?. @jeanmaried that is likely, to confirm you are trying to type:\n1234.567 and not 1234,5678\n(side note how do you guys comma-eliminate large values O_o like 123,456,678.1234). (Incoming typical pig-headed american comment, you were warned)\nThat is just backa**wards :stuck_out_tongue_winking_eye: Anyway, if you try changing your Strapi AdminUI to French do you also have this issue?\nAlso, can't remember where, but I believe there is a setting chrome that also changes to a different language. If you try setting that to either US/UK English does it still show up? What I find odd is that the Strapi team is based in France and don't seem to have hit this issue (and I know @lauriejim does a ton of testing). @jeanmaried I don't have another Mac handy to try and recreate your environment but can you give exact versions of everything you can think of to see if we can find the root cause?\nI'm not a mongo user myself but that shouldn't be causing an issue with the frontend, I've done quite a bit of testing between different browsers and OSes and am not able to reproduce this issue at all.\nHave you made any changes to the admin? (Like creating a project with --dev)?. Hmmm good catch @jeanmaried not sure which version of react Strapi uses but based on how old that issue thread is. :thinking: . I would keep this open as a workaround will still need to be implemented if it affects other users. @soupette have you come across this (assuming the teams Macs are set to french). @maturano can you test with your browser/system set to Spanish (AFAIR you are also running a mac). @laportem this is a common issue if you have the GraphQL plugin installed, I ran into a similar issue with using spaces in Enum Values. \nI believe the implementation is based on Facebook's GraphQL enumeration Name which is as such:\n/[_A-Za-z][_0-9A-Za-z]*/\nWhich basically translates to upper/lowercase letters, numbers, and underscore as the only allowed values. This is an issue from the upstream graphQL provider and not strapi itself, I believe the issue happens in schema generation, my recommendation is store them in this format and translate them on your frontend using some kind of alias.\nIE: conventialFarming = Conventional Farming ect.\nYou can see the Facebook doc here: http://facebook.github.io/graphql/June2018/#Name. As stated above, currently the only allowed characters due to an upstream limitation is:\n/[_A-Za-z][_0-9A-Za-z]*/\nI recommend you use these to build your enums then translate them on your frontend application.. @Aurelsicoko . @kamalbennani more so to stop github from complaining than anything.. Plus its good to stay up to date shrug\n. > Suggested solutions\n\nI don't know yet\n\nWell shoot. @Aurelsicoko I also find that hard to believe, there is also some pretty in depth features on standard SQL databases too that bookshelf doesn't handle well. But if it does work as expected some testing on it would be great!. @marianomoretti can you provide more information on how this is setup.\n\nAre you using a local mongo DB (installed on the same machine as strapi)\nAre you using authentication with mongo\nWhat OS is strapi/mongo running on\nIf you are using a remote mongo instance have you tested enabling SSL in the database.json\n\nJust need some additional information as that error doesn't really provide enough to find the root cause. . Scratch that just noticed you are using docker, are you able to connect to that mongoDB using another client like Studio3T?. @marianomoretti Based on that code you can connect fine but when strapi starts its running a find command on something (likely something from the core_store) which makes me think you have a problem with permissions on your mongo docker container.\nHence the reason I suggested using something like Studio3T or some other client to try and manually add data. My guess is, if you tried to manually find something stored in the DB (there isn't likely to be anything there because strapi probably can't write due to permissions) it would fail.\nI am by no means good with mongo (mysql user myself) but I'd imagine the permissions are fairly close with regards to read and write access.\nhttps://docs.mongodb.com/manual/tutorial/manage-users-and-roles/#modify-the-user-s-access. @hvmk that issue I believe is from strapi v1 and no longer applies to v3\nValidations aren't handled by default right now, I'm sure it can be done with policies and better support for validations are coming.. @findorf currently there is no validation layer on anything at the moment, its a WIP feature (using unique on any field type with mysql I know it doesn't properly set the keys) I imagine mongo also doesn't have any validations.\n. PR Merged, to be closed. o/. PR Merged, to be closed. o/. Yes please & thank you, mildly annoying having them popup over the buttons on the right :stuck_out_tongue: . @sdubrez did you speak with them to confirm this is intended?. Ooooo boy this is gonna break some stuff :stuck_out_tongue: . Related issue: https://github.com/strapi/strapi/issues/504. The SDK appears to have already been update before this PR was merged: https://github.com/strapi/strapi-sdk-javascript/commit/32fcea89af75e40183ae53dda37138216ac744f8\nRecommend if the SDK is using the plural routes that the commit linked be rolled back until this PR is accepted.. @Aurelsicoko mayyyyy want to check that strapi isn't running on a headless system or at least add some kind of config option to turn this off/on (I recommend off by default). @Aurelsicoko I mean you have strapi running on a server that doesn't have a GUI and you want to access the adminUI remotely during development (think virtual machines). It shouldn't attempt to open a browser window and should be accessible from outside localhost. (allowing for easier development). I agree this is pretty important, at least supporting the usual suspects (and rendering them properly on the adminUI). @dougludlow Please see this in the product board: https://portal.productboard.com/strapi/c/13-administration-menu\nEventually there is plans to roll this out as I have explained to the Strapi team (and they understand) that the AdminUI does not look \"clean\" enough to offer up as a solution to anyone that isn't technically inclined.\nThere is nothing in the backend that would support using different case styles as there is no \"display\" tag on models, fields, ect ect. That will change with the linked feature request. Right now this is not a major priority for them as the strapi team are currently in the process of completely rewriting the plugin framework and also rebuilding the frontend internal API to allow other users to hook into and build plugins that can modify that UI.\nThe linked issues you mentioned are in some ways directly related to this:\nhttps://github.com/strapi/strapi/issues/1139 - basically the problem was users were creating models/fields/relations using different cases and the backend wasn't converting them to all lower case automatically thus breaking relations and causing incorrect links (will be fixed with the internal UI api changes that Strapi are working on building.\nhttps://github.com/strapi/strapi/issues/2097 - ^^ see above response to the other issue.. I understand how frustrating the odd view is on the left menu, but there is a lot of \"in the background\" ground work being worked on within Strapi right now and minor UI \"features\" can't be worked on until that groundwork is laid down in stone, else they would just have to go back and rewrite everything thus wasting both time and money.\nBy all means if you wanted to dig into the source yourself and maybe see if you can find some \"hack\" to allow for difference case styles please do, I'm sure a PR would be great. As of right now it is not their priority and further discussion on building in difference case allotments are redirected to the feature request I linked . No problem, the Strapi team are aware of some \"critical\" things that need to be done but there is a lot of groundwork being worked on that they had not expected. Growing pains of course, but after the ground work is done it will be much easier and faster to expand Strapi.\nI see a really great future, just have to get the hard part done.. @brotrue I've had something similar adding json types. The the PR @soupette submitted we will be able to modify that view. It is pending some code review. @bts94 It is a VERY large PR so prob not any real ETA. The team needs to check it to ensure there are no bugs. As @soupette has said you can use the mono-repo if you want it now (And bug test it for them :stuck_out_tongue: )\n. So not before the 28th then @soupette :stuck_out_tongue_closed_eyes: . Related: https://github.com/strapi/strapi/issues/1645. Likely related: https://github.com/strapi/strapi/issues/1086\nthe gist of this being static keys that can be used to access the API similar to most APIs having a generated \"key\" instead of typical logins correct @juji ?. @juji should probably close this issue and summarize your thoughts on the linked issue as to cut down on the number of duplicates.. @Aurelsicoko does this match what you were thinking?. @lauriejim this manyWay is another relation type. @Aurelsicoko Good point, that lays it out pretty clearly.. @lauriejim wouldn't it just be best to make sure model callbacks are always lowercase as to not mess with the field case? something like field.tolowercase(). I agree @MartinMuzatko there was some discussion on this a while back (for the life of me can't find the issue I created :laughing: )\nEveryone has different case types they normally use, I think honestly Strapi shouldn't limit users to a particular type and just handle the creation and management as far as needed, actual display values shouldn't be breaking thing (Both in the AdminUI and in the Rest/GraphQL response)\nIf I have a camelCase or a break_case being shown in the Rest strapi should handle these however it needs to in the backend (and database) but leave them in the frontend.. My original issue I outlined was the values displayed in the left menu, right now it can be quite ugly especially when it uses Plural values on things that should not be Plural.. @johntom Can you please edit this issue and use code blocks or external sources like pastebin?\nYour issue is quite hard to follow. @reutopiaer this one threw me through a loop also. It seems the strapi generate:api command defaults to mongo (thus mongoose).\nYou need to define the hook you want to use so in your case:\nstrapi generate:api -t bookshelf video filename:string hash:string\nYou can find the, very well hidden, part of the docs on this here: https://strapi.io/documentation/cli/CLI.html#strapi-generateapi\nSpecifically this part:\n\nstrapi generate:api  --tpl \nGenerates an API called  in the ./api folder which works with the given . By default, the generated APIs are based on Mongoose.\nExample: strapi generate:api product --tpl bookshelf. @Aurelsicoko @lauriejim I think this command should instead use the default database type instead of just defaulting to mongo :stuck_out_tongue: \n\nShould pull from the development environment database.json. @maturano yeah me personally I don't think the CLI should preference a backend hook by default and should use the one defined as your primary DB in your database.json file the -t (or --tpl) is what defines the hook.. AFAIK there is no current way to do this as there is no real \"validation\" layer on anything. But I do think something like this is planned\n. > Framework - Validations\n\nMake a better integration of Joi to validate the upcoming request parameters and add a strong validation layer into Strapi.\n\nhttps://strapi.io/vote. Would love to see this also :smile: :+1: from me.\n@pierreburgy Your thoughts on swapping out the Docs framework?. @chaitanyya idAttritbute is how the key is stored I believe by default it is just int but in theory you should be able to use a UUID thus you would store it as a string. Unlike postgres though MySQL can't automatically generate them so work on it was put on hold as Strapi would need to generate the UUID value.. @MWalid check which version of Jest you have installed: npm -v jest\nIn my case 6.2.0. There are known issues with Windows, please use WSL or a Linux VM. The Strapi team is working on better Windows support.. @danielehrhardt can you confirm this still exists with Strapi v14 please.. @soupette thank you, I was literally pulling my hair out last night trying to figure out why some of my boolean values were defaulting to true. @lauriejim you are correct thank you. FYI this should be be documented, I'll take a look at making a PR on the guide for the upload plugin.. Fixed link based on: https://github.com/strapi/strapi/pull/1778. @Aurelsicoko can the almighty emoji master add some MacOS emoji to the Requirements Header?\nThank you senpai :stuck_out_tongue_winking_eye: . @kapik This is just a standard model? Looks like there is a few string fields, a web field, and an image field. All of which can be done currently with Strapi?. @kapik I think I'm missing the point here, can you provide a better example (That link and its picture is way too small resolution).. @kapik this just looks like a relationship.\nYou would create the first model in this case:\n\nTitle\nDescription\n\nThen you would add a oneToMany relationship to the child model which would have:\n\nStep Title\nStep Description\nStep Image (which itself is a relationship to the upload plugin)\n\nThis is pretty standard CMS stuff, adding something like this all contained in a single model would be complex and honestly far more limiting than just using relationships.. @Aurelsicoko Ah yeah hadn't really thought about that but I suppose it makes sense :stuck_out_tongue: . Should be noted these password requirements should also be documented in the Strapi Docs and/or also be configurable.. Related Branch: https://github.com/strapi/strapi/tree/fix/1785. pstttt @lauriejim technically this is a bug :stuck_out_tongue: . @adamkhan These are not support, in future updates Strapi will allow the \"view\" to change but currently that is not possible with data on the left menu.\nCurrently you can change the field names listed in the \"content view\" and after this PR: https://github.com/strapi/strapi/pull/1684 is merged you will be able to do the same in the \"content edit view\"\nAs of right now, you will need to create models that are all lowercase and include no special characters.. @YouhannaSabry If you are getting that response then your POST request isn't formatted properly.\nI have tested this with postman:\n\nAnd it works as intended, as @lauriejim said I would look at the SDK and use the functions there to setup your angular frontend, you need to load the SDK as it states in order to use those functions.. @amit-deligence Please follow the Bug Report template. Issues which don't have the required information are closed until the proper Template is added.\nThank you.. Duplicate: https://github.com/strapi/strapi/issues/1792. @amit-deligence Again please use the proper bug report format, as well as please use the correct code blocks. Issues that don't follow the standard format will be closed and no further work done on them until the proper format is added.. @amit-deligence: https://strapi.io/documentation/guides/upload.html#usage. Duplicate: https://github.com/strapi/strapi/issues/1792\n@lauriejim mind closing this as well.. @amit-deligence have you tested the upload using something like postman?\nI can say you get that response if your request isn't formatted properly.\n. @quibaritaenperdresatrompe can you try installing strapi with node, I believe Yarn support is still pretty early. @lauriejim was working on it.. strapi uninstall cloudinary\nOr if you already deleted the folder in /plugins use strapi install cloudinary then run the remove command. You may need to go through your database and clean out anything or just purge the DB and rebuild it.. @MartinMuzatko was this posted using something other than the AdminUI. Currently the adminUI is the only thing that by default uses that default value AFAIK (confusing I know)\nThere is no real validation layer in strapi yet ( it is on their list of things to do ) so the bookshelf/knex hooks don't process this. If you enable the debug option you see if the value is being applied from bookshelf.\nFor the moment you will likely need to code it into your frontend to ensure the default value is being sent if null. WOOOOO \\o/ Excited!. - [x] add in these options to the adminUI. Edit Fixed. @soupette @lauriejim and @Aurelsicoko ?\nThink this is ready for review.\nHere is an example with the proxy disabled (uses standard default localhost:1337 )\n\nNow if we enable the proxy:\n\nHere is just a shot of the config panel:\n\nSide note thank you to @MartinMuzatko for your help with debugging some of this. :+1: . @soupette @lauriejim \n\n. @soupette lmfao. What do you have in mind? :P. Side benefit this fix also works with the providers:\n\n\n. PR merged: https://github.com/strapi/strapi/pull/2435 will be in the next release. @avallete I spoke with @lauriejim on Slack and he also agrees these should be broken down into separate plugins to make it easier. This will be a big core change especially with the adminUI I think.\nAlso as a foot note and talking with Jim again, I think a change from grant/purest to passport is also something that should be looked at.\n@Aurelsicoko do you have any ideas for making a move like this? If one of providers could be created, I could probably clone that and mirror it for a bunch of providers based from passport.. Adding a few more examples that relate to passport such as the JWT Refresh Token: https://github.com/fiznool/passport-oauth2-refresh which would solve: https://github.com/strapi/strapi/issues/1676. Also taking into account the proxy address (which will need some modification to make sure ports 80/443 aren't being passed in the URI): https://github.com/strapi/strapi/issues/1861. Some examples based on current providers:\nLocal\nhttps://github.com/jaredhanson/passport-local\nhttps://github.com/cholalabs/passport-localapikey Related: https://github.com/strapi/strapi/issues/1086\nhttps://github.com/pferretti/passport-local-token\nDiscord\nhttps://github.com/nicholastay/passport-discord\nhttps://github.com/RafaelVidaurre/passport-discord-oauth2\nFacebook\nhttps://github.com/jaredhanson/passport-facebook#readme\nGoogle\nhttps://github.com/jaredhanson/passport-google-oauth#readme\nGithub\nhttps://github.com/jaredhanson/passport-github#readme\nMicrosoft\nhttps://github.com/seanfisher/passport-microsoft\nTwitter\nhttps://github.com/jaredhanson/passport-twitter#readme. To sum up my thinking is breaking the providers into separate plugins such as:\n\nstrapi-provider-local\nstrapi-provider-localkey\nstrapi-provider-Discord\nstrapi-provider-Facebook\nstrapi-provider-Google\nstrapi-provider-Github\nstrapi-provider-Microsoft\nstrapi-provider-Twtitter\n\nThus allowing other people to quickly and easily add and debug specific providers.. I hate to ask @Aurelsicoko any timeline on that, I've been waiting to try and fix the providers (PR: https://github.com/strapi/strapi/pull/1851 ) until we know if this type of change is going to be made.\nEspecially since it would make that PR pointless :stuck_out_tongue_closed_eyes: . No extra comments needed @Aurelsicoko :stuck_out_tongue_winking_eye: If you get the gist of what I was thinking I think it would make everything much easier in the future.. @xeastcrast check your database.json file the hooks changed from strapi-mongoose to strapi-hook-mongoose\n. Related branch: https://github.com/strapi/strapi/tree/fix/1823. @kuongknight I would check with @maturanomx as he is also working modifying bookshelf\n. 2nd this from me, especially when helping others out, I really don't want to blow out my global/local installed strapi just to work on another project.\nI am aware of running the adminUI separately with live updates and not having to rebuild, but you can't even connect to this if it isn't running on your local machine (using remote VMs to not ~~f*ck~~ up my local strapi install)\nA Strapi project should be self contained, I realize there may be limits when dealing with the global package for creating a new strapi project via the CLI, but as @MartinMuzatko has stated if you are trying to debug multiple projects at a time this can be quite difficult.. @Restry this isn't the issue for problems, this is feature discussion. Please create a new issue.. duplicate: https://github.com/strapi/strapi/issues/1323\n. @SimpleCookie the \"/\" is not needed as a default, changing the prefix right now is known to break stuff.. @Mike-Van Do you have enum values with spaces or special chars in them (in this case :) ?. @wemod123 they will work on it when they have time, if you on the other hand have free time and want to work on it please do :stuck_out_tongue: \nThis is an Alpha, open sourced project that anyone can contribute to, the Strapi team have their hands full working on critical issues and framework changes needed to get a stable release.\nTo be completely honest windows support is not highly important, you can easily use WSL or a linux virtual machine. The core issue with node and not Strapi itself.. @NickBolles your correct in most of that, however it worked on node 8 (creating the project) and with node 10 it does not. This was due to a change in node, thus it was a node issue. That being said, it can be fixed on the strapi side.\nI do agree that strapi is quite complex (sometimes to a fault).. @NickBolles you are right I didn't read the whole thread, my bad.\nI'm so used to seeing duplicate windows threads that I jumped to my default response when people don't read open/closed issues, to the point I didn't read the issue haha.\nIn regards to the plugins, the Strapi team are more or less completely rebuilding the plugins framework right now I believe and over the course of the next month or two.\nI do thing cross-env support is important but right now I don't believe the Strapi team have any windows machines to test on (or if any of them are versed in windows) as they all currently use Macs.\nI would hope the team will release some info as to their progress to allow us to take a look before the rewrite is finished to convey our thoughts and suggestions. I'll ask the team myself also to see their opinion.. @Flowbook ahhh my eyes! Codeblocks please :stuck_out_tongue_winking_eye: . @jbergstroem this isn't just with the language it is with the entire site :stuck_out_tongue: \nI don't think it is a priority for them at the moment but I'm sure @soupette is working on something.. @marcellovetro any reason this was closed?\n. @marcellovetro Ah that makes sense :stuck_out_tongue: Yeah I don't there there is anyway to change the branch, you would have to close this and open up a new one. \nI think we all just saw it get closed without a comment and we were really excited to see this fixed :smile: . @marcellovetro just create the new PR and link this one in the PR description. I've grabbed a few PRs from others who didn't have enough time to finish. :+1: . @sundaycrafts if you install mongo on a normal virtual machine like ubuntu, by default it does not require a username, password, or auth db. Defining the admin db when no auth is required will break the connection (fail) thus I don't think this would help but would cause more problems :smile: \nedit: But I do agree just adding it as a hint might be a good idea. @lauriejim or @Aurelsicoko when you get a moment can you take a look at this. I'm not sure how best to handle this as strapi.config.url already includes the protocol in it, IE https://domain.com:443. As it stands currently if a user is using a proxy like Nginx/Apache for SSL they cannot use providers like Facebook or discord which -ONLY- allow connections over https in production. Realistically the grant protocol should be flipped based on if the proxy SSL flag is set and the strapi.config.url should be broken down into https & :// & domain.com & : & 443\nEspecially if you are using ports 80 and 443 there is no reason to include them. . Related Error: https://github.com/strapi/strapi/issues/1861. @Aurelsicoko @lauriejim when you get some time I could really use your help / thoughts on this.. @Aurelsicoko I added a boolean toggle in my Proxy PR: https://github.com/strapi/strapi/pull/1813 that should be able to be used here.\nIf you are developing locally and using localhost then there is no need to add in another protocol option. And if you are using Strapi in production you are almost always going to be using some kind of proxy (Bad bad bad to run something like strapi as a root user, thus you can't use any port below 1024 on a linux system). @lauriejim that is what I was looking for, I'll take a look at this in a few hours.. @lauriejim I can't quite figure out how to get this to work. PM me on Slack when you get in and have some free time please.\nCurrent error is this:\nTypeError: Cannot read property 'proxy' of undefined\n    at connect (/opt/strapi/packages/strapi-plugin-users-permissions/controllers/Auth.js:153:110)\nrecent modification was due to the URI being malformed: httpshttps://test.example.com/connect/discord/callback which I believe I fixed\nBut I can't get this plugin to read the proxy URL. Worked with Jim via slack, we fixed redirect problem as it was related to conflicting login-react example and strapi but all providers are now giving the following error:\nerror=grant: missing session or misconfigured provider. Closing due to https://github.com/strapi/strapi/pull/2110 taking over. what mongoDB version?. PR In progress: https://github.com/strapi/strapi/pull/1851. Did you do the following?\n\nThe stored data format has been changed. That is why you will have to delete in the core_store collection/table the entry with the key plugin_content-manager_schema.. @greatwitenorth I wasn't able to reproduce this issue, I would suggest you do a \"clean\" upgrade using my steps here: https://github.com/strapi/strapi/issues/1880. @Aurelsicoko sed is just a commandline \"search and replace\" with the rest of it being basically regex to quickly replace everything :stuck_out_tongue_closed_eyes: . @oznekenzo enable debug mode in your database.json file to see more detailed errors.\n\nIf I had to guess however, this is likely a limit of mlab and not one with strapi, or your database is not configured correctly to handle multiple connections.. @hansemannn the default \"plugins\" are pretty bare basic and there are depends that might break strapi core. What plugins are you looking to disable?. @hansemannn I would look into \"Admin-On-Rest\" there is already someone working on a connector for it, but this is more geared towards your usecase: https://github.com/marmelab/admin-on-rest\nThe Strapi dashboard can be \"de-coupled\" from the actual API server but the API server can really only reference one dashboard and if you disabled the plugins on it, then the server also would not have them.\nThe dashboard/AdminUI right now isn't designed for \"customer\" use, and that will come later with a more refined roles option that hasn't been developed yet: https://strapi.io/marketplace/administrators-roles. @hansemannn just a heads up that while in production those entries are hidden they can still be accessed and used by direct URL. \nI don't think there is anything in the plan to allow for this type of use-case as it would require a major rewrite of how Strapi works. The AdminUI itself does not communicate to the server like a standard CRUD page would, and it uses the internal strapi API to modify data and such.\nI could be wrong in this assumption, as I am not a member of the Strapi team, but as I have been following development for some time I do feel it is highly unlikely unless someone in the community wanted to take this on.. This is a very \"niche\" case so to speak.. There is a new feature on changing the view of the Fields either within list or edit view, as you can see in a screenshot of my project below, the top list is for the \"list view\" and the bottom is for the \"edit view\". You can assign custom names to fields here. Note that these are only for the adminUI and not related to how it is shown in the RestAPI.\n\n. @hansemannn can you give me a screenshot of your content manager settings like the one I have shown for this model?\n. :+1: . Closing as I only created this to reference.. @stiko Cool I'll take a look, if we wanted to offer up a script it should be as backend agnostic as possible\n. @stiko As I'm not super great with python. I think it would be nice if you read the database.json file so you can pull the needed data required to create the new strapi project and also you can use that to select which \"database\" to use in the generation of the new project\nIf database.json has mongoose use: strapi generate:api -t mongoose \nelse if database.json uses bookshelf use: strapi generate:api -t bookshelf. @stiko the reason for the generate:api bit for universal upgrades. If there are any changes to the config, controllers, or services of the model templates it would be best to quickly update them. By just copying over the model.settings.json files you can do just that.\nObviously for more complex project there is still going to be some manual user modifications but my guide was written to take out most of the \"manual\" labor needed to quickly upgrade without complex migration guides.. In the future the specific -t bookshelf won't be needed as I'm planning on working a way to merge both the mongoose and bookshelf templates into a single one and let strapi use whatever bits in the templates it needs at run time.. it generates the modelname.settings.json (which I use in my script to copy over), I've also seen some issues in the past with the model not being completely generated.\nIn my case my script uses holder:string\nMy example of quickly generating models is to run:\nls /path/to/my/oldproject/api/ > ~/tmp/models.txt then I use the following script inside my new project:\n```\n!/bin/bash\ncat $1 | while read LINE\ndo\n    strapi generate:api -t bookshelf $LINE holder:string\ndone\n```\nYou call it like ./createModels.sh ~/tmp/models.txt. @pauldariye I use that script in the comment above yours to generate the models, after that I've just been using meld to copy over files that are needed.\n. @eComEvo Yes as noted in the OP, you just need to use -t bookshelf when you generate the models. As models (currently) depend on the hook being used (mongoose/bookshelf)\nMongoose: Mongo\nBookshelf: MySQL/Postgres/SQlite (sqlite coming soon). @bobaekang \n1) If there are any changes made to the files in config, controllers, or services you will have to manually update all those files for each model by hand (It does happen between releases) In my case I have about 80 models, so updating all those files by hand? Heck no :stuck_out_tongue: \n2) Yes for the most part, media relations are a special case but don't require anything to be copied over for that plugin specifically.\n3) Yes more or less, if you have any custom config options you may need to carry those over (such as I have a few for the graphQL plugin)\n4) Nothing really should be needed for upload unless you messed with the models in that plugin directory.\nYou best bet is to use a GUI diff tool like meld to figure out what changed and review the changes before you merge them over.. An example of a change to one of those btw, small in this case (going from v19 to v22) but there have been times where the changes will be much larger. I know a few pending PRs that will be making big changes:\n\n. @lauriejim I don't have any manyToMany models (I honestly couldn't find a usecase for it in my project :eyes: ). @soupette It is easy, click on another role and then change the ID to 1 instead of 2 or 3 :stuck_out_tongue: \nhttp://localhost:1337/admin/plugins/users-permissions/roles/edit/1. \n. @soupette can confirm the issue still happens on v19/v21 with MySQL: \n\n. @lauriejim no big, just saw the last update was quite a while ago. and @soupette said he couldn't reproduce. likely an issue with bookshelf DBs \n(I also saw it on the project as a quick fix, so figured I'd confirm it). @AboAdam Please follow the standard bug reporting format template.\nAll issues that do not follow this template are closed and no troubleshooting will be done until the issue is updated with the correct template information.\nAs a side note, please use codeblocks for code.. @AboAdam Strapi doesn't have support for Microsoft SQL within the Strapi-hook-Bookshelf/Knex plugins.\nThat README is far out of date, as I have directly confirmed with the Strapi team that the currently supported Databases are listed on the main README page here: https://github.com/strapi/strapi/blob/master/README.md\n(I know because I submitted the PR that updated that :stuck_out_tongue: ) \nIf you would like to add support for MSSQL and submit a PR I'm sure it would be appreciated, however I'm not sure if bookshelf itself support MSSQL as directly from their doc website It is designed to work well with PostgreSQL, MySQL, and SQLite3. http://bookshelfjs.org/. @atlas365 make sure you purge the package-lock.json file (if there is one) then run npm run setup. @atlas365 that looks like something is very broken. Is this project public on github somewhere? My guess is that the build folders aren't being uploaded so you may need to run npm run setup:build (I haven't done this on a non --dev project so I have no clue if that will actually rebuild them). Yeah @atlas365 typically that is only for --dev projects. If you look on the private repo in plugins/content-manager/admin/build you should see a ton of files in there. If that directory isn't there or there is no files then it wasn't properly uploaded.. @atlas365 no don't use --dev unless you are modifying the adminUI.\n.npmignore shouldn't matter, but if it is in .gitignore then remove it. You should however be able to create a new project and grab all the api/*/models/*.settings.json files and dump them into the new project to quickly spin up a new one so long as there were no major modifications.. @adityakmr7 that isn't a failure message, that is a success message.\nAlso as a footnote, Windows support is very limited and isn't recommended. I suggest you use either WSL or a Linux VM. @adityakmr7 it is likely your global npm packages are not mapped to your path.. @TetHat \nhttps://github.com/strapi/strapi/wiki/Create-files-on-Heroku\nhttps://github.com/strapi/strapi/wiki/Deploy-on-Heroku. I believe that tutorial makes the assumption that the user is slightly familiar with how heroku works. Given I am not on the Strapi team and only contribute. I would argue that heroku really isn't the best platform to test with, and certainly is not good for production usage.. @EDMONDGIHOZO please fillout the bug report, lack of required information will cause this issue to be closed.. @EDMONDGIHOZO If I had to guess you are on Windows which has limited support. The error is likely due to npm global packages not mapped to your $PATH.. @robbywashere Yeahhh your running some really old stuff. Can you use the latest strapi version? Also Yarn support is minimal and is not recommended. The Strapi team are still working on that.. Duplicate: https://github.com/strapi/strapi/issues/1507. @tonyberetini \n\n. @tonyberetini that feature is new, I'm sure the Strapi team would love a PR if you find it confusing \ud83d\ude1b . @tonyberetini another simple way to look at it is this:\nContent Type Builder writes directly to the model files (Model.settings.json)\nThe content manager part that I showed in the screenshot is stored in the database (to allow you to modify it while the server is running without restarting). @reinisriekstins Geo is right if you are using a proxy like Nginx or Apache you need to increase the limits there as well.. This is caused by strapi trying to create indexs on tables that don't have text fields.\nA PR is already open for this: https://github.com/strapi/strapi/pull/1845. Aye yeah I can't say I agree with this. Strapi was never designed to run in that type of environment. It is a full web service.. @TokenChingy using playground works fine, just the adminUI is borked. I don't know how many levels you have to go to cause the bug but I haven't seen it.. @hansemannn you can't create stuff on heroku because the storage isn't persistent. You will need to create new models locally then push to heroku.. @lauriejim I think this is still an on-going issue. Had another user report something similar on slack. May want to keep this open to make sure there is no existing issue to be fixed.. @gianniskarmas the content manager plugin (customizing the look of the edit/list views) is very new.\nThe project as a whole is currently in alpha thus I would expect a lot of changes to happen, at this point everything is pretty much subject to change.\nThat being said the Strapi team is small, and they get a lot of duplicate tickets. I spoke with him on the slack and in this case the issue is with the core_store entry and you needed to delete the entry after the update due to a change in how the schema is created. I've spoken with @soupette on this issue and I'm not a huge fan of it is currently being stored.. @gianniskarmas yeah as I said it was related to how the content manager plugin (what changes those views on the admin panel) stores the data. Right now all that information is stored in one very deeply nested json on a single db entry (good luck breaking that down by hand).\nThere was a change in how that schema is built, thus it couldn't parse the json from the previous version, hence why it had to be deleted to get the content manager to work again.\nTrust me I know it is frustrating for you, your talking to someone who has roughly 75 models that I had to rebuild one by one. But I expect this in an alpha project and I've been talking with the Strapi team to help them with some of these \"quality of life\" improvements, in this case it was a needed change. I won't lie and say who knows if something like this will be needed again, like I said before Alpha = everything is subject to change.\nI understand that you are trying to use this and develop for a production application. I use strapi in production (or well getting close to) so trust me when I say I feel your pain, however the Strapi team right now are solely focused on getting a stable release out by the end of the year and aren't focused on those of us that are currently using it. In this case it was a bug with updating and not creating a new project.\nI am not a Strapi team member, but I have been around here for some time now and am very focused on helping them where I can with the skills I have. I always suggest to everyone here that if there is something you don't like or something you think should change, fork the code, fix it, and submit a PR. :smile: \nMy javascript skills unfortunately are not very strong and I have basically zero frontend development skills, thus I usually try and poke around where I can. In this case, I recommend you backup your core_store table, delete it, and restart the server. That should get you access again to the adminUI. Good hint @signorekai I was trying to break it down manually. Exporting as CSV from MySQL and trying to manually modify the CSV. Most programs won't even open a CSV that big (a good 75 models worth) :laughing: . @anderson916 see the comment above yours, there is an incompatibility from older strapi versions with the content manager plugin, you need to purge the content-manager schema entry from your DB in the core_store table (or collection in mongo). No problem :wink: . @Matildahermansson see the comment above yours, more than likely your ctm view settings got borked, purge that entry from your core_store.\nAlso just a heads up in the future, might be worth include your f12 menu in your screenshot, a white page won't help us much :stuck_out_tongue: . @TokenChingy Assuming no bookshelf love yet?. :cry: . Found the issue, when creating a record the boolean value is not being set in MySQL to 0 be default. It is being left as null instead.\n@lauriejim bookshelf by default should be setting false boolean values to 0 instead of null. This can be done by modifying the MySQL table to change the default value on creation. I will test by setting the value manually in the DB. Temp changing the value to true, then setting back to false and the filter works. Manually setting the default value doesn't work it seems bookshelf is sending a null value for false boolean values.\n. Related File:\nhttps://github.com/strapi/strapi/blob/ea51c9949f57ba422e7deae2fb0820137f5fc8ab/packages/strapi-hook-knex/lib/index.js#L127-L134. I think that doing something like this should work but not sure. Can do some testing later on:\nif (options.client === 'mysql') { \n   options.connection.typeCast = (field, next) => { \n     if (field.type === 'TINY' && field.length === 1) { \n       return (field.string() === '1'); \n     } else if (field.type === 'TINY' && field.length === 0) {\n       return (field.string() === '0');\n     }\n     return next(); \n   }; \n }. Alright I've found the issue for sure, when creating a boolean value on bookshelf the creation of the tinyint column needs to be changed similar to this:\n\nLikewise if the default value is \"true\" then the default value should be \"1\" and not \"0\" in this case the boolean value will always be either True or False and shouldn't cause issues when searching. It also will offload any extra code required in strapi to the DB.. Checked on v14.2 and proper zero value is being sent.. I mean if your going to use bash on windows, you might as well just use WSL and get all the benefits of linux.... lol.. @fezproof this will be fixed in 14.1 with my proxy PR here: https://github.com/strapi/strapi/pull/1813\n@lauriejim this can probably be closed.\nAlso as a side note that isn't for IP it is only for hostname. . @TokenChingy Pretty sure it is supposed to be tomorrow. @lauriejim and I were trying to fix providers before release, but I don't think that is gonna happen.. Thank you for this @maturanomx. @maturanomx \non update current_timestamp trigger removed from updated_at\nVery important on MySQL as this basically tells the server to update only that field and not created_at when new information is \"PUT\"\nEdit Without actually having to send that data to Strapi. @maturanomx \nChanges longtext fields types by text type\nI made that change because @soupette is storing some extremely large entires in core_store\nhttps://github.com/strapi/strapi/pull/1643\n(Especially when you have ~75 models, that key store is quite nested and realistically it needs to be broken down). Something to be looked in with more detail is backend support for defining custom \"accuracy\" on some fields like float, double, decimal, ect. To allow someone to create both backend and frontend options to define these.\nAll possible data-types for a Content Type\nhttps://dev.mysql.com/doc/refman/8.0/en/numeric-types.html. @maturanomx Is this something that can easily be included as a patch for boolean values?\nhttps://github.com/strapi/strapi/issues/1925. Also per previous question wanted to see if this could also be included: https://github.com/strapi/strapi/issues/1330. Related to Keys: https://github.com/strapi/strapi/issues/1189. Yeah not sure on postgres, it should update when PUT requests are done, I know on MySQL that is being handled correctly, using that means that Strapi doesn't need to send any formatted date codes because the DB server handles it on its own.\nBased on a bit of googling around: https://x-team.com/blog/automatic-timestamps-with-postgresql/. To break down our slack convo:\ncreate table `test1s` (`id` int unsigned not null auto_increment primary key, `teststring` varchar(255), `testint` int, `testfloat` float(8, 2), `testdec` decimal(8, 2), `testdate` timestamp default current_timestamp, `testemail` varchar(255), `testenum` enum('test1', 'test2', 'test3'), `testtext` text, `testboolean` boolean, `testjson` json, `testpassword` varchar(255), `created_at` timestamp default current_timestamp, `updated_at` timestamp default current_timestamp on update current_timestamp) default character set utf8;\nFloat/Decimal should have user defined accuracy (above the scope of this PR I think, but needs to be done before merging)\nThe date field (manual user field) shouldn't be current_timestamp\nenum shouldn't use the MySQL data type, use varchar as enum on MySQL is a huge PITA\nText fields should use longtext by default (same with json, since in order to use json data type you need at least mysql v8 or mariadb v10.2 and ubuntu 18.04 ships with mariadb v10.1 by default)\ncreated_at should use current_timestamp (which it does)\nupdated_at should use on update current_timestamp. @maturanomx @TokenChingy I disagree that user defined values for float is a bad idea. Decimal makes sense. I spoke at length with @lauriejim on this issue in the past. There are cases where a user will need a certain number of decimal points. Realistically if you need extremely high accuracy on mysql you should be using the double data type (which it currently does). Mongo AFAIK doesn't support the typical schema for defining high accuracy floating point types.\nSince Strapi is a framework, allowing user choice is important. I have stated this to @Aurelsicoko as well that yes Strapi should be simple, but you shouldn't lock out your advanced users for the sake of simplicity. Everyone will have their own use case for this framework and we should appeal to both novice and advanced users.\nAs for actually defining it, it is honestly quite simple instead of just just using float you use float(23,20)\nTo be completely honest I personally think these types are something that should be defined based on the database.\nIF Mongo enabled then use these data types (x,y,z)\nIF MySQL/PG enabled then use these data types (a,b,c,d,e,f,g)\nFor instance with the INT in mysql allows for the following range: -2147483648 to 2147483647 however if you define it as unsigned then you get the following range: 0 to 4294967295. Depending on a users usecase they should have the option to choose. In this case lets say they have a serial number they need to store, that serial number will never be a negative number. Meaning without the choice their serials cannot exceed 2,147,483,647. However unlikely it will be, they should still have that choice and same applies to decimal, float, and double.\nThere are many cases where Strapi doesn't use both Mongo and MySQL to it's full potential. But these additions to data types should be fairly easy, it really only requires a few more options on the advanced tab while creating the value and reading those variables.. That is until the user can define a \"custom\" data type which has been requested in the past.. @maturanomx for the date time default NULL. Here is an easy list of MySQL data types:\nhttps://www.techonthenet.com/mysql/datatypes.php\nPostgres: https://www.techonthenet.com/postgresql/datatypes.php. Here is an example @maturanomx for datetime\nALTER TABLE `cmdrs`\n    ADD COLUMN `test` DATETIME NULL DEFAULT NULL AFTER `updated_at`;\nThe problem is that strapi sends it in some odd format with the timezone MySQL is extremely strict that the format must be YYYY-MM-DD HH:MM:SS\nAn example statement to add data: \nUPDATE `capiv2_prod`.`cmdrs` SET `test`='2018-09-20 02:35:18' WHERE  `id`=1;`\n. @maturanomx Per our convo on slack I'll test tonight.. @maturanomx I will do some very detailed testing to make sure everything performs as it should and let you know.. @maturanomx see the linked PR about date, I think some modifications should be made to include those new dates at least for MySQL.. Just wanted to reiterate this @maturanomx @lauriejim \nAt least with MySQL:\ndatetime should be used when defined by the user in a model\ntimestamp should be used with created_at (auto generated by strapi)\ntimestampUpdate should be used with updated_at (auto generated by strapi)\nSee the following explanation here:\n```\nThe DATETIME type is used when you need values that contain both date and time information. \nMySQL retrieves and displays DATETIME values in 'YYYY-MM-DD HH:MM:SS' format. \nThe supported range is '1000-01-01 00:00:00' to '9999-12-31 23:59:59'.\n...\nThe TIMESTAMP data type has a range of '1970-01-01 00:00:01' UTC to '2038-01-09 03:14:07' UTC. \nIt has varying properties, depending on the MySQL version and the SQL mode the server is running in.\n``\nhttps://dev.mysql.com/doc/refman/8.0/en/datetime.html. ^^^ That is until the changes that @johannpinson suggested on adding more date/time/datetime fields are added.. @maturanomx If you don't have time to test this completely, and get ready to merge it I can do some testing and repush the PR?. I'm currently testing the following changes with the date/time/datetime parts, right now thedate` option can't be used in the adminUI but it would be just the date without any time data.\n```javascript\n                          case 'date':\n                            column = dbTable.date(fieldName);\n                            break;\n                      case 'datetime':\n                        column = dbTable.datetime(fieldName);\n                        break;\n\n                      case 'timestamp':\n                        column = dbTable.timestamp(fieldName).defaultTo(ORM.knex.fn.now());\n                        break;\n\n                      case 'timestampUpdate':\n                        column = dbTable.timestamp(fieldName).defaultTo(\n                          // ROOM FOR IMPROVEMENT -- Remove distinction; procur same behavior on all engines\n                          definition.client === 'mysql' && field.type === 'timestampUpdate'\n                            ? ORM.knex.raw('CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP')\n                            : ORM.knex.fn.now()\n                        );\n                        break;\n\n```. I'm closing this PR and moving it over to here: https://github.com/strapi/strapi/pull/2496. @TokenChingy Updated title, also updating issue to reflect all ORMs.\n@DMomplaisirASC I noticed the same when using Firefox, on Chrome Beta I couldn't get it load no matter the amount of refreshes. Good to know it isn't just me though, worked with both @lauriejim and @soupette and they couldn't reproduce.. Example of a test project:\nNo GraphQL Plugin:\n\nInstalled GraphQL:\n\nRemoved GraphQL (and a few refreshes):\n\n@soupette most definitely is reproducible\n. @DMomplaisirASC update to Strapi 14.1.1 I confirmed with @lauriejim in testing that 14.1.1 fixes this.. @ghufr that is an unrelated issue, what strapi version. @Aurelsicoko didn't you fix disconnecting the marketplace from projects?. I thought so @ghufr what version are you running? I think you likely need to update your project.... @ghufr update to 14.1.1, that is the hotfix for the issue I created this for.. @tomekkozysa whats the error?\nI've been using MySQL with GraphQL on the past 2 releases and no issues here. Do you have your project somewhere on github?. @tomekkozysa more than likely you have a typo in one of your model fields:\n(node:93403) UnhandledPromiseRejectionWarning: GraphQLError: Syntax Error: Expected :, found Name \"title\"\nWhich ever one contains a field called title . This is more so of how --dev works and what it does. Right now you create the --dev and it symlinks to the globally installed packages, so any modifications you make to the --dev are then pushed globally so all new projects will use these changes.\nAs far as I know there is no project based rebuild process, which makes managing multiple Strapi projects very complex as you have to swap out the globally strapi packages.. related: https://github.com/strapi/strapi/issues/1828\n(Not technically a duplicate but close). Not that I know (note I'm not a Strapi Team member) @soupette would be the best person to ask. But I do believe that in the future this won't be how the Admin is built. Realistically you should be able to modify the src directly in the project and then rebuild it without touching the global packages. But as of right now i don't believe that is the case (normal projects don't have the script :build).. Hmmmm =/ I think this is something that should be added by default. I'll look into it to see if adding it globally is do-able with my minimal skills.. I haven't had the time to take look. Got a lot of other stuff going on atm FYI. @kamalbennani is this only on GraphQL or REST as well?. You da man, I see some bookshelf stuff in there too, will be awesome if it works on both.. @kamalbennani Serious man you are the bomb, thank you.. There are known issues with Windows, please use WSL or a Linux VM. The Strapi team is working on better Windows support.. Same thing, windows support isn't there right now. You will need to use either a linux vm or install WSL and run your project there. @zhoub . @karianpour only node 10 is supported. I would recommend that you purge your snap installed version and follow the following guide to installing node 10 properly on ubuntu: https://github.com/nodesource/distributions/blob/master/README.md. @marcellovetro you can close the old one now :wink: . Error still exists:\nhttps://github.com/strapi/strapi/issues/1382#issuecomment-424309829. Not easily lol\nYou can see in a PR I did on adding some extra options to the server option in there:\nhttps://github.com/strapi/strapi/pull/1813. Rebuilding is the hard part however. @signorekai I would suggest in this case since you are using docker that you use the URI as an environment variable and pass it to your docker container.. @marcellovetro I'm confused why are you creating two relations to the same model? with different types?. @anderson916 core_store in your database. For instance in MySQL: \n\n. Is there an error message?\n( I don't use mongo so honestly I'm not much help here ). That doesn't look like a related error @anderson916 can you remove the graphQL plugin and try starting again?. Yeah can confirm, I believe they are working on replacing that date picker. @heihachi88 I think this is something environment specific depending on how the application is being run. I don't think this is something that strapi can do itself, there are many other factors at play such as updating node modules, dependants, ect.\nMy suggestion to you would to be to use some kind of CI/CD system to automate deployment, maybe using something like docker.. @heihachi88 my process is a bit more complex due to my environment. With Github I have TravisCI doing some basic testing, and a homebrew script running to build and deploy the build to multiple servers for load balancing.\nBut you can use many different CI/CD to rebuild the docker build.. Not how I would recommend that, especially when the strapi version changes, you would need to reinstall the new modules which can't be done while strapi is running.. I'm thinking @Aurelsicoko maybe some kind of trigger on the strapi start command like strapi start -autoopen\n. (As for adding something like this, I feel it might be a bit above my head. I can try and figure it out)\nIf there is a way to for sure make sure it doesn't open a new tab and only refreshes great, but yeah I see the benefit of this. Coming from a light php background I'm used to refreshing the page. Previous experience working with nodejs I don't know why the AdminUI doesn't auto-refresh anyway :confused: . @lgt what OS are you using?. @lgt please use mongo 3.x as I don't think Strapi fully supports mongo v4.x yet (I know it doesn't seem important, but something to note, while trying to figure out the cause)\nAlso can you update your issue desc to follow the Strapi template. I didn't think it would, hmmmm. I'm honestly not sure where this is coming from, what modifications have you made. Is this a fresh project, and updated one?\nI've never seen this error before.. Based on that error there is a cap being placed at ~209MB Error: maxFileSize exceeded, received 209780558 bytes of file data\nIs this using local storage, can you confirm the local free space is > 209MB (stupid question I know, but have to ask). Side note @balarayen do you actually have the intention of uploading 10GB files?. After talking with @johhansantana on Slack, I also noticed that adding a user with the proxy enabled will result in an error.\n\nIt also appears that the redirect url might be wrong, not sure on that.\n@soupette . Also @soupette I was pretty sure this part was fixed but it seems to have regressed:\nAlso noticed that the password is getting populated with the hash when using MongoDB as well.\nHuge security risk, there is no reason to display that hash on the adminUI, what I find odd is it only happens with mongoose and not bookshelf.. @lauriejim what database type did you test on?\nI'm guessing there is an error looking up certain values from the DB, I'll do some more testing tonight to see if I can get more logs. Testing done on localhost:1337 for creating a user works fine, however in a production deployment it fails with the above screenshot.\nAlso @soupette on both MySQL and bookshelf the password hash is being displayed while using localhost:1337\nAs stated above there should be no reason to display this hash on the adminUI ever, that password box should be for a quick reset of a user password if manual password reset is required. A normal admin should never be able to grab that hash, as it poses a large security risk (and likely doesn't follow some law in the UK about personal information). That type of data should only exist in one place and that is on the DB.. In my test I had the proxy config enabled, so that error is likely related to the redirect, no errors show up in the console.. @yummyelin After you delete that table, have you restarted the server. The plugin should fill that back in.. @jmchza try deleting the column: plugin_content-manager_schema in the table core_store\nI'm guessing somewhere along the line something was generated properly there.. It should automatically fill with {} at least it has previously unless something has changed.. @Rilliano \nEither Migration Guides: https://github.com/strapi/strapi/wiki\nOr my method: https://github.com/strapi/strapi/issues/1880. Duplicate: https://github.com/strapi/strapi/issues/1281\nRecommend closing. Unless you are building from source, npm run setup should not be run. Instead use npm install which will trigger some pre/post scripts. as @johncalvinroberts mentioned. There is currently no real way to rebuild the build folders (this includes plugins) thus if you are pushing your project to git, you need to ensure the build folders are not in your .gitignore and they need to be included while building the docker container.\nThe Strapi team are aware of this and will likely take steps to improve this process, but at the moment it isn't on the top of their to-do list. :wink: . raises hand I've brought it up a number of times as well. Right now strapi doesn't generate DB constraint keys either like unique. @YouhannaSabry Public is for non-authenticated users, authenticated is default because the user is then registered. I wouldn't recommend setting that to public.\nIf you need to add more groups you can, and also change the group permissions.\nNote that no other group except administrator can access the adminUI. Related: https://github.com/strapi/strapi/issues/1779\nYour welcome @Aurelsicoko . @Aurelsicoko I made a similar suggestion to @lauriejim and @soupette there should be options to manually override these settings. In this case a manual config file that can have a dynamic env variable similar to how the database.json is ran. These should override anything stored in the DB and allow for static configs (More or less enforcing that this can't be changed in production.). @Aurelsicoko I made a similar suggestion to @lauriejim and @soupette there should be options to manually override these settings. In this case a manual config file that can have a dynamic env variable similar to how the database.json is ran. These should override anything stored in the DB and allow for static configs (More or less enforcing that this can't be changed in production.). :stuck_out_tongue_closed_eyes: @Aurelsicoko there are just some things that shouldn't be changed in production :wink: . @Aurelsicoko As another suggestion, with regards to providers (OAuth providers) I also think this should be something either json config based // environment variable based. You aren't likely to modify these settings often enough in production in my opinion.. @johhansantana Never used mlab but there are a host of closed issues related this for instance with your auth db:\n\n. @yummyelin nice thinking. @johhansantana If you could do me a huge favor and make a PR to include a note about this in the docs.\nThat would be great. Just so we can reference users to it in the future.. @johhansantana I'm thinking maybe a new block around here: https://strapi.io/documentation/configurations/configurations.html#database\nTo answer some of the common MLab questions. @dommythekid Use node 10.\nNode v8 is End-Of-Life (EOL)\nNode v11 is still in development and is not ready for any production usage.. @dommythekid no problem\n. @NickBolles modification of that URL is required in many cases, you can directly query the server host and and port. The proxy PR I submitted (and was merged) is required when actually using it in production such as with an nginx proxy. That allows you to set the URL the server is serving publicly. \nExample is with the upload plugin, without the proxy it would attempt to return http://localhost:1337/files/kjdlkafsjdfla.png instead of the public URL. It also is what allows you to use SSL since Strapi itself doesn't and likely won't handle SSL.. @johncalvinroberts you shouldn't be \"testing\" or building in production ;)\nThat being said you can still kinda access, @soupette just hid the link lol. That is a good idea :wink: . @Restry please use english for all issues and updates.\nAlso can you please use code blocks.\nTo answer your question, no I don't think it is a waste of time :stuck_out_tongue_closed_eyes: . Yarn support is minimal, please use node to setup, install, and create a new project.. @Restry those are not updated, please use the ones on this repos README.md. @Restry Always use the latest, since Strapi is still alpha you should try and upgrade when you can. Current release was today Strapi v3.0.0-alpha.14.2. Note that bug reports on previous versions, you will always be asked to update to the latest.. That is really odd.... Either way if it is working on a newer version of node then the issue wasn't with Strapi in this case.. Nice catch @henrych4, I think a quick PR should resolve this if you want to create one?\n(If you don't want to I can in a bit, testing the new release v14.2). @maturanomx https://github.com/nodejs/Release#release-schedule\nWhen I spoke with the Strapi team they gave me the expected requirements. Since LTS node version will be v10 in october of this year that was the intended version. Node v9 was a testing release to fix bugs in v8. Was never actually ment to be used in production.. Note V9 is actually EOL already: 2018-06-30. noted thanks @lauriejim . @KevinFuret that port is not related to that error, the port 27017 is the port the DB defaults to try and connect to. The error given by heroku is the port strapi runs on I think\nI would search through previous issues here on heroku.. @JulioPablo I've noticed that too today, I think it might be an issue with CORS. I'm looking into it, but this is an unrelated issue to Heroku I think. @lauriejim I've noticed it outside Heroku, difficult to duplicate. I've been talking to @soupette about it on slack. +1. +1. @madonzy not sure what you mean it will be removed? Since I created that PR I can confirm that adding in the proxy information is written to your config/env*/development (or whatever env) server.js\nThis file should survive updates without issue, you can follow most typical migration guides or my guide:\nhttps://github.com/strapi/strapi/issues/1880 . -Clip- Ignore me. -Clip- fixed. Related Issue: https://github.com/strapi/strapi/issues/1785. Related Issue: https://github.com/strapi/strapi/issues/1823. @sknat  make sure you also delete the package-lock.json and/or make sure it is in your .gitignore. shrug :man_shrugging: Just giving you feedback based on my experience. There is something odd when it comes to the lock file and deleting it seems to solve any npm install problems using cloned projects.. Yeah me and @Aurelsicoko had a convo about this, the simple solution was just delete it.\n. Linking this here as an example of a related issue that was fixed by removing the package-lock.json\nhttps://github.com/strapi/strapi/issues/2093#issuecomment-427732041. @sknat can you try by removing that file and ignoring it please? I'm guessing that should fix your issue and we can close this.. Via rest that isn't currently possible you can filter but it will return all data on that model entry. If you need specific data and complex queries I would suggest GraphQL. Not entirely sure this needs to be changed lol. It's fine to use shorthand for commands but probably best if README's use the full command (So new people actually know what it is doing). Not entirely sure this needs to be changed lol. It's fine to use shorthand for commands but probably best if README's use the full command (So new people actually know what it is doing). @isabolic Please use the proper template and also: https://github.com/strapi/strapi/pull/1407. @lauriejim assuming there will be some kind of versioning feature in the future?. @aljacinto that will likely come with admin permissions, currently it is not possible. The Strapi team have already stated that right now the AdminUI is for admins only and that more in depth permissions will come in a new plugin.. yes @aljacinto that is a sample mock up. Couldn't reproduce this on Strapi v14.2 using MariaDB (MySQL) 10.2.\nBoth the adminUI:\n\nAnd API response:\n\n. @Defozo no problem :smile: can you resolve this issue please that way in case it comes up again you can re-open it.. You have a typo in one of your models. Are you using enum types at all? Make sure the enum have no spaces or symbols. @gwpantazes. @gwpantazes Your issue is the API you created with strapi generate:api point has no fields. Graph is hitting an error because it is expecting fields in this file: https://github.com/gwpantazes/StrapiGraphQlPluginErrorOnStart/blob/master/api/point/models/Point.settings.json\nWhen you use the generate:api you are missing the extra arguments to create the fields such as:\nstrapi generate:api point test:string test2:integer test3:boolean Without the fields graphQL is going to hit an error when it tries to construct the schema.. @typerory please include a console log of your project starting up so I can see the error the GraphQL plugin is throwing.\nI have tested the GraphQL plugin with the current release on Mongo, Postgres, and MySQL (all recommended versions) along with Node 10, using both Ubuntu 18.04 and RHEL with no issues in my testing.. @typerory you don't need to populate with test data but all the models do need to have at least 1 field for graphQL to generate the schema file.\n. @typerory your right no space among many other restrictions, this is not a limit in place by Strapi but by graphQL:\nPunctuator:: one of ! $ ( ) ... : = @ [ ] { | }\nGraphQL documents include punctuation in order to describe structure. GraphQL is a data description language and not a programming language, therefore GraphQL lacks the punctuation often used to describe mathematical expressions.\nhttps://facebook.github.io/graphql/June2018/#sec-Punctuators\nName :: /[_A-Za-z][_0-9A-Za-z]*/\nGraphQL query documents are full of named things: operations, fields, arguments, directives, fragments, and variables. All names must follow the same grammatical form. Names in GraphQL are case\u2010sensitive. That is to say name, Name, and NAME all refer to different names. Underscores are significant, which means other_name and othername are two different names. Names in GraphQL are limited to this ASCII subset of possible characters to support interoperation with as many other systems as possible.\nhttps://facebook.github.io/graphql/June2018/#sec-Names. Also @typerory don't use camelCase within the AdminUI, it has been known to break stuff :P all lowercase ect if you are creating it via the adminUI, after that you can go and edit the model.settings.json for each model and modify the field names (note that strapi won't \"rename\" the tables/columns in the database for all databases, you should rename these, wipe your DB, and restart). @wkolcz-UMHS spaces are not supported by GraphQL, that isn't a strapi problem but yes the \"validations\" on the adminUI need to reflect that. GraphQL is not built by strapi (the plugin is) and all the requirements come from upstream.\nEvery other headless CMS that includes graphql implements the same as they don't control those requirements.. > Agreed. It should be like drupal where there is a title and a machine name (which removes spaces)\n\n\u2026\nOn Tue, Dec 18, 2018 at 3:10 AM DMehaffy @.***> wrote: @wkolcz-UMHS https://github.com/wkolcz-UMHS spaces are not supported by GraphQL, that isn't a strapi problem but yes the \"validations\" on the adminUI need to reflect that. GraphQL is not built by strapi (the plugin is) and all the requirements come from upstream. Every other headless CMS that includes graphql implements the same as they don't control those requirements. \u2014 You are receiving this because you were mentioned. Reply to this email directly, view it on GitHub <#2063 (comment)>, or mute the thread https://github.com/notifications/unsubscribe-auth/AB7zDnz01r82uqKzuYoYYsH0XZsC9a26ks5u6KMKgaJpZM4XE_Oe .\n\nContent Type builder plugin :stuck_out_tongue: . @xargr please check previous open/closed issues: https://github.com/strapi/strapi/issues?utf8=%E2%9C%93&q=is%3Aissue+mlab\nMy guess is your answer is in one of those.. @Lanseuo you also need to set the proxy port because right now strapi uses those to construct the URI:\nhttps://mydomain.tld:443 without the port you are constructing https://mydomain.tld: (notice the extra : )\nI need to take another look at the proxy code and omit the :443 and :80 for those two ports. Also just as a suggestion, I recommend you use nginx as proxying via nginx is far easier and more \"stable\". Let me know if you need help setting it up. (And yes you can run nginx and apache on the same server. Digital Ocean has a great guide on this). The proxy code is here:\nhttps://github.com/strapi/strapi/blob/98bd2d72de4da96b76362a243526209d76e46343/packages/strapi/lib/core/configurations.js#L322-L345. \nNice one @soupette :wink: . @maturanomx because @soupette forgot to pull the source :rofl: . Related: \n https://github.com/strapi/strapi/issues/1086\n https://github.com/strapi/strapi/issues/1676\n@demobo-com not currently possible but has been suggested before.. For one they save the schema in a file to track code changes in git easily, some of the stuff they have migrated into the database are now also having this issue. How do you track changes? I mentioned to the Strapi team that there should be file based overrides in many of these cases (permissions being one of them) so we can force file based storage as you really should not be changing this stuff in production. I support their choice on this 100% as someone who works in the enterprise world, you never ever develop/test in production. . File to change for wiki is _Footer.md on the strapi.wiki. Can't i just tried as well. I'm sure @lauriejim can update it in the AM.. @yummyelin per the Issue template please ensure you submit all issues after testing on the latest release.\nYou are currently two releases behind: Strapi version: 3.0.0-alpha.14.1 \nCurrent version is Strapi version: 3.0.0-alpha.14.2. ```\n \u26a0\ufe0f If you do not respect this template your issue will be closed. \n =============================================================================== \n \u26a0\ufe0f If you are not using the current Strapi release, you will be asked to update. \n Please see the wiki for guides on upgrading to the latest release. \n =============================================================================== \n```. @Mat-thieu if you mean in the restAPI not currently no, for grabbing data you may want to look at graphQL as you can define custom queries (including going more than 1 level deep on relations). I agree that the relation depth should be optional as a filter (default of 1 is fine, max would probably be 3? After that especially if you having looping relations you could cause some serious issues)\nsomething like _depth with the default being applied _depth=1 and allowing the option of _depth=0. While I'm not terribly in agreement with nothing by default, this does make sense.\nSo I'll add my :+1: . @FaustTheThird Just upload the code to a github Repo and share a link here. . @Mat-thieu GraphQL is very specific and you can go pretty deep. If you have the graphQL plugin installed you can go to localhost:1337/graphql and use the playground to test\n. Honestly not sure there, I know very little about GraphQL and had never used it before I started working with Strapi.. @Aurelsicoko I think as a footnote here, selecting specific relations based on the need and also going more than 1 level deep also applies. You suggestion is more geared towards global application of this :stuck_out_tongue: . @deevolutionism Content-Type builder cannot be used in production (even if you load up development on Heroku it can't be used either)\nThat plugin writes files directly to the local storage which Heroku doesn't support.\nPlease see closed issues related to Heroku.. FYI that plugin is disabled on both Production and Staging no matter where it is ran (you shouldn't be modifying the models in production shakes finger). @lauriejim \nDuplicate: https://github.com/strapi/strapi/issues/2072\nRecommend closing. It writes the model definitions (the fields you add) and the hooks use these to build the database (hence you can't store them in the database if there is no database to start with lol)\nWith nodeJS when a new file is written it has to restart to use it, thus strapi auto restarts on a file change.\nIn the case of production, if something goes wrong your production strapi can be taken offline if it falls to start and Heroku cannot store new files (limit by them not strapi). Realistically you should be running 3 servers of strapi.\nYour production for live use\nStaging for testing (public or not) and should mirror production as much as possible\nAnd development which is usually locally on your machine\nThat is just standard practice for building, testing, and deploying almost anything on the web :p. Reserved words:\nhttps://github.com/strapi/strapi/blob/d8a2c9a833629d311e0b5a60a5105c2ac38d9105/packages/strapi-plugin-content-type-builder/admin/src/containers/Form/utils/attributeValidations.js#L39-L61. if node is causing issues then it will need to be added to that list\n. @avirankatzsofi I had a similar issue: https://github.com/strapi/strapi/issues/2310\n@soupette is already working on a fix that will come out with the next release. It's a problem with the content manager plugin and the core_store. @sgrund14 make sure you have the package-lock.json listed in your .gitignore and remove it from your repo.\n. :stuck_out_tongue_winking_eye: @sgrund14 . Thanks Jim, that bug has been around so long I forgot about it :smile: . Are you using capitals in the model name @mnlbox ?. If you are still having this issue, please provide exact steps to reproduce the issue. (Ignore the old ones for now). The Strapi team can't fix an issue if they don't know how to reproduce it. (Include pictures, logs, whatever you can). Hmmm it seems on your tag model the relation was created: \nhttps://github.com/mnlbox/strapi-relation-bug/blob/master/api/tag/models/Tag.settings.json. Give me a few moments and I'll try and duplicate this locally.. > The error comes from the articles attribute missing in this file.\n\nHere's how to fix it\n\"articles\": {\n      \"collection\": \"article\",\n      \"via\": \"tags\"\n    }\n\nYup that is what I noticed too @soupette I think he is saying the adminUI wasn't creating it, but I just tested locally and couldn't duplicate it. Strapi created both entries properly in both models.\n@mnlbox I was using chrome beta (latest version) and mysql in my test but it worked fine for me. :man_shrugging: . Hmmm yeah I've never seen it unless I try using odd symbols in the model/field name. I also don't use Firefox which it seems could also be related.. Linux Mint 19 (Ubuntu 18.04). @mnlbox can you try updating to node 10 please? (Node 9 is EOL, and I want to rule out issues with node 9 to node 10). @anderson916 two things when using the CLI tool:\n\nThis should be used while the server is not running\nThere are additional arguments you need to add such as fields\n\nThe CLI tool is there to allow for easy scripting (or if you just prefer to build from CLI while the server is off)\nIf you created them while it is running, it should auto-restart however sometimes that isn't the case and you need to restart manually.. An example for the generate command:\nstrapi generate:api -t bookshelf book title:string desc:text pages:integer\n(I used -t bookshelf in this case for MySQL, if you are using mongo you don't need to declare it as that is the default, but you can use -t mongoose ). Link to docs: https://strapi.io/documentation/cli/CLI.html#strapi-generateapi. Absolutely @anderson916 that command is more or less used by the AdminUI to create the models, both do the same thing by generating the stock config, controller, and service files as well as writing your fields to the model settings.. (I actually use the CLI in a script when I update using a custom update method). @ryubro the protocol was removed as strapi itself doesn't allow the server to be run using https, I was the one who added the proxy code, and attempted (and failed many times) to migrate the providers to use the proxy URI instead of the typical localhost one. https://github.com/strapi/strapi/pull/1851\nThe providers need to be changed to use the proxy URI but the proxy stuff also needs to be modified so that it doesn't construct the two common URIs for ports 443/80\nIE https://api.example.com:443 and http://example.com:80 all other ports are fine and should be generated this way.\nThe Proxy bit itself defines this, if the proxy is enabled that information should be used to construct the URI, else it should fallback to the strapi server settings (always http in that case). See this PR for my proxy bit: https://github.com/strapi/strapi/pull/1813. But related to the hard coded http stuff I have talked to @Aurelsicoko about this and all of those references need to be changed over to use the proxy settings if enabled else fall back to usual env settings. @ryubro yeah it is extremely common with nodejs applications to use an external proxy such as Nginx or Apache for SSL as node doesn't really have a good way to deal with SSL certificates. Typically node will push over http and you use Nginx to proxy public SSL traffic to localhost http (or just internally) this also allows for load balancing/fail over clustering.\nI'll be honest in my PR to fix providers, I am a bit stalled at the moment. I don't really have the required skills to fix that. Both @lauriejim did try and trouble shoot it but we kept getting odd redirects.\nAll the proxy code does is overwrite URIs that are used externally by clients (think of it like giving your street address to the client not your GPS latitude /longitude)\nThe problem is when used in production many of the oauth\u00b2 providers don't support non-ssl connections and many plugins like upload were giving localhost address for files (or http addresses).\nHonestly if you wanted to dive deeper into the problem with providers and modify them to use the proxy stuff it would be great. My suggestion was to break each provider into it's own plugin and move from grant/purest to passport.js. but that is a major change way above my skill level.. FYI this might help you understand Nginx (fair warning I haven't proof read this yet)\nhttps://medium.com/@derrickmehaffy/using-strapi-in-production-with-https-717af82d1445. @ryubro the problem is setting it as https:443 is Strapi doesn't have an SSL certificate (required for SSL) and it has no way to manage them. There are options for SSL in nodejs but it is extremely ugly and very difficult to manage.\nIt is basically an industry standard if you want SSL for nodejs you have to use an external proxy. But yes short answer is, strapi does need to know where it is actually running (passes it to the OS that it is running on localhost) as you shouldn't be running it on a public facing port.\nThe second issue is, at least on linux, you cannot run services on ports lower than 1024 without being the root user or having root permissions. It is a huge security risk running application as root if you don't have to, thus if you change strapi to run on 443, it will do so locally and thus will need to run as root.\n(Just as a side note, I am a System Admin and a Network Engineer as a day job :wink: so security is basically what I do all day :rofl: ). > The second issue is, at least on linux, you cannot run services on ports lower than 1024 without being the root user or having root permissions. It is a huge security risk running application as root if you don't have to, thus if you change strapi to run on 443, it will do so locally and thus will need to run as root.\nFor instance if someone managed to inject malicious code into a dependency of strapi which has happened in the past, it would very easy for someone to gain a local shell on your server if Strapi is running as root. IE not a good idea.. Realistically you should run Strapi locally on the server, firewall off direct access to it and pass all traffic from the web through the proxy (Load balancing, failover, caching, ect) to localhost IE strapi.. Awesome thanks @ryubro If you want to look into that providers PR please let me know if you have any questions.\nI've kind of thrown it on the back burner for now until the Strapi team figures out their next steps with the plugin framework. I'll take a look at your changes here though to see if I notice anything else. \nThanks for letting me ramble on :rofl: . @ryubro nice work, if possible do you think it would be best to modify the proxy code in the core strapi package to remove the :443 and :80 there and use that string instead of reconstructing it (thinking future plugins)\nI'm honestly terrible with Javascript and my proxy code was ugly and quick.\nFor reference my proxy bit is here:\nhttps://github.com/strapi/strapi/blob/53391a50963e2993c5454f35d2200f73eee2a7fd/packages/strapi/lib/core/configurations.js#L322-L345\n(Starting roughly at line 333). In the above case you should be able to use strapi.config.url that way if the proxy is enabled it will construct there (global use in all strapi plugins) else if it is disabled will fallback to host settings (also global use in all strapi plugins)\nI think it would just be easier so people don't have to reconstruct in every plugin, but I could be wrong.. We will also need to test this PR quite a bit with all known providers to make sure it is working as intended @lauriejim . @ryubro It was a quick and dirty patch for the upload plugin. Thanks for taking a look though. :smiley: . strapi.config.url will always be for clients afaik. Since the URL isn't directly a config option it is built from the config options.\nProxy only overwrites it if it is enabled. \n(strapi.config.url is the public access URL). Thanks for reminding me @ryubro I completely forgot, I'll take a look today.. Sorry for the wait, I'm testing it right now, I should have an answer in about an hour or so.. Alright I tested using the discord provider and the strapi-examples/login-react in a production style setting.\nIt seems the redirect URI isn't correctly being passed with the proxy enabled, below is the response redirect:\nhttps://discordapp.com/oauth2/authorize?client_id=##SNIPPED-CODE##&response_type=code&redirect_uri=http%3A%2F%2Flocalhost%3A1337%2Fconnect%2Fdiscord%2Fcallback&scope=identify%20email\nAs you can see in this example it is trying to pass the localhost:1337 as the redirect however:\nEdit: Snipped server info as I have blown away that test VM on vultr\n\nUsing the following hosted example:\nEdit: Snipped server info as I have blown away that test VM on vultr\n\n@ryubro It seems something isn't being passed correctly for the redirect using the proxy settings.\nAs such Discord is going to respond with the following error:\n\n. Also after manually modifying the redirect URI and authorizing I'm given a 400 error:\n{\n    \"statusCode\": 400,\n    \"error\": \"Bad Request\",\n    \"message\": \"This provider is disabled.\"\n}\n\n. No problem @ryubro This issue has been around for a while, so I would rather us debug this as much as we can before merging.. @ryubro I'll give it a test here just a little bit \ud83d\ude04 but yes I did create a --dev project. When I test I create a VM on Vultr and deploy the PR code, create the --dev project and test like I would in \"production\". @ryubro we are making progress (You are doing all the hard work :stuck_out_tongue_closed_eyes: )\nI am able to authenticate and the callback URL is correct, however it still doesn't seem to create a user and continue, I'm just getting a 404 now. Is that also what you are seeing? (I didn't use your docker container yet, I'll give that a test next)\nGetting this with no error in Strapi:\n{\n    \"statusCode\": 404,\n    \"error\": \"Not Found\",\n    \"message\": \"Not Found\"\n}\nI'll do some more testing and try out google and github if I can. Facebook I think is going to be a bit harder as they have locked down their API/OAuth lately.. @lauriejim if you get time can you do some testing here, I get the feeling that Strapi isn't properly creating the routes and accepting the tokens, discord is passing them back correctly for sure. (Using the discord provider). Google giving provider not enabled:\n{\n    \"statusCode\": 400,\n    \"error\": \"Bad Request\",\n    \"message\": \"This provider is disabled.\"\n}\n\n. @ryubro it is entirely possible I'm doing something wrong hence why I wanted to have someone like @lauriejim or @Aurelsicoko test this. \nNo problem on your testing, I want us all to make sure everything with providers is 100% up-to-date and working properly before we merge. If any of the Strapi team have suggestions I would hope they would also give feedback as providers has been broken for a good month or two now.. @abdonrd there have been many but this one is what triggered my original PR: https://github.com/strapi/strapi/issues/1861. @ryubro me and @lauriejim are doing some debugging right now and we are starting to figure out the issue. If we find a fix we will let you know.. @HoangDinhVan see Soupette's above comment for instructions, this is not an easy process and is beyond the scope of this github issue. Issues are related to Strapi core, modifications are not.. @dottgonzo The issue here is that it is not good practice to store direct html in a database.\n1) It's big and bloated, taking up far more space than just standard markdown\n2) It opens up to security concerns on malicious html being loaded on the frontend\n3) It's a very ugly solution and is difficult to maintain.\nMarkdown is being used because it basically looks like normal text and is much smaller. There are hundreds of tools and scripts that can automate converting from markdown to html. Most WYSIWYG do not store text in html format. The literal meaning of WYSIWYG is \"What you see is what you get\".\nIf you want a better solution, then I urge you to fork it yourself and build it yourself. :smiley: . @rw3iss did you update from a previous version? Try deleting your content-manager_schema entry in the core_store table.\nAlso with MySQL did you create a database, user, and give permissions?\n. @adrianoresende \"WIP\" You're more than welcome to submit a PR though to help out! :smiley: . I was able to confirm this on Strapi 14.3 using his model files from Slack. The Product model didn't even show the media field when hitting the restAPI\n\n\n. All sub images inside of a relation fail to show up (also multi-file didn't work either, the adminUI wouldn't show it nor the rest response). Users still reporting issues with this on slack and on the PR.\n@lauriejim . @danielmahon Yup you should be doing it correctly, new providers should be their own standalone package as you have done, nice work :smile: . @adverterio there are multiple issues related to windows. Please use WSL or a linux VM, current windows support is minimal and has many documented issues.. @lauriejim duplicate of https://github.com/strapi/strapi/issues/1281\nRecommend closing issue.. @msarfaraz Windows isn't supported https://github.com/strapi/strapi/wiki/Frequently-Asked-Questions#windows\n. Duplicate: https://github.com/strapi/strapi/issues/1139\n@tacone for now please use all lowercase when creating models, and the same with fields (however after you have created the field and you stop the server and modify the model settings you can rename the fields as needed.. @lauriejim This is the same case problem there have been multiple issues with previously the relations are not properly handling case types, a lot of that is documented in https://github.com/strapi/strapi/issues/1139\nIn many cases if you attempt to use camelCase or capitals in a relation it will break because it cannot find \"Blah\" because the related model is \"blah\".\nAs I suggested in the linked issue, Strapi should convert all of these to lowercase by default even if the user enters a different case.. Another related issue: https://github.com/strapi/strapi/issues/2097\nThe above issue has many linked ones related to it. @abdonrd \"a lot\" of memory :rofl: \n\nAs for GraphQL, did you try running a project you have already generated everything? I'm guessing that GAE is similar to heroku with a read-only file system. So you won't be able to make file based modifications. If you run your strapi app locally, let it generate the schema files, push into git then deploy on GAE it should work.. @abdonrd stupid question but you are passing the production node_env variable right?\n. @alling1505 are you using firefox? If yes please try with chrome. That error has been around for a while and is difficult to track down the exact cause, you should just be able to hit continue. You can try selecting another relation then reselect the oneWay.\nThis bug is usually only isolated to Firefox.. @soupette I could of swore this got a fixed a while back?. @lauriejim yeah I'll take a look tonight when I get home. I believe https://github.com/strapi/strapi/pull/2110 solves more than just the protocol problem, this PR may be redundant but let me test PR 2110 first to see if that fixes the issues.\n. I have also noticed some odd issues with providers, I believe the plan in the future is to split them into their own plugins (one per provider similar to the upload plugins).\nIf you guys have example code to try and reproduce I think it would be helpful to track the problem down.. I can also confirm the thoughts @pbov is stating, right now Strapi is ordering based on IDs so with MySQL this is likely to be the order in which they are created, since MySQL will return them in the order of the IDs\nWith Mongo this is basically impossible as the IDs are actually randomly generated UUID strings.\nAs it was stated GraphQL won't keep their order at least with the current way data is handled.. @entwicklerfr\nCan you please also test this with MySQL to ensure no issues come up with it . Will need to make sure everyone is aware of the breaking change. Nice big bold letters on the patch notes :stuck_out_tongue_closed_eyes: . @MTM-Suhail no as that info is stored in a file, in order for those changes to take effect the server as to be restarted (that is a node.js thing, not a strapi thing. Any file modifications require a restart). Duplicate: https://github.com/strapi/strapi/issues/1912#issuecomment-432208122\n@lauriejim recommend closing this issue.. nice one @devaublanc . Agreed that is a solid idea\n. Please follow the bug report format, failure to do so will result in your issue being closed until the issue is updated.. Related: https://github.com/strapi/strapi/issues/2306\n@merijnvanessen can you post your comment on the new issue. Also can you please include a screenshot of the error in your browser console.. @soupette like I said in 2306 I couldn't duplicate it either on Linux Mint in both Chrome Stable/Beta & Firefox stable. @kalms : https://github.com/strapi/strapi/releases/tag/v3.0.0-alpha.14.5\n. @Dogtiti the latest is v16, please test on that. I believe this issue is random and seem to be user environment based. Many of the loading functions of the adminUI have been modified to wait on the browser and I believe this issue was \"indirectly\" fixed due to that.. @coyr try deleting your plugin_content-manager_schema from core_store in your database then restart your Strapi server.. @martiro you need to copy over your core_store collection in the database\nThe WYSWYG setting is saved in the database. @martiro easier to copy the whole collection but what you need is plugin_content-manager_schema. You have multiple auto_update timestamp fields on a single model O_o FYI by default all models already have created_at and updated_at with the updated field being on update\nCheck your models and delete any manual auto_update date fields.\nAlso please follow the issue template, without providing additional information your issue will be closed.. 3.0.0-alpha.14.1\nAs stated in the issue template, please update to the latest version.. @gridviewdesign please include your strapi version Strapi version:\nIf you are not on the latest please update to it.. As a footnote, we need to make sure this doesn't break if you are not using mongo since a few of the GraphQL functions were modified. Check your permissions on the users plugin. I don't believe update is enabled by default on /me. Tad late for 14.5 :( but once soupette gives the okay it'll be in the next release.. @lauriejim maybe a check to make sure that certain symbols aren't used when creating the project?\n(honestly have no idea why someone would want a project with a period but that is a whole other issue :stuck_out_tongue_closed_eyes:  ). The autodoc plugin that is being worked on will use swaggui, redocs doesn't offer the ability to test the endpoints and only documents them. Personally I think it would be best to just offer up the openapi/swagger json file that can be read by the public (configurable) and allow people to run redocs in their public folder if they want alongside swaggui\nEdit: swaggerui should remain the default. @pauldariye https://github.com/strapi/strapi/projects\nRelease \"estimates\" are always on the project :smile: . @pauldariye Happy thanksgiving from Phoenix, AZ \ud83d\ude03 . @CKGrafico you're welcome to submit a PR, else run strapi with strapi start while in development mode. @Aurelsicoko I believe this is related to: https://github.com/strapi/strapi/issues/1330 in some way, I'm not sure how mongo handles accuracy for decimal/float. @dalirnet please follow the issue template, failure to do so will result in your issue being closed without any additional troubleshooting or support done.. @dalirnet can you please provide a screenshot of where are you are getting this error message?. @dalirnet my guess is this is an environment error and we won't be able to reproduce it. @lauriejim I recommend closing this issue unless this can be reproduced. Duplicate: https://github.com/strapi/strapi/issues/1944 for the null values\nAlso @rejifald it is not a good idea to use symbols like that with restAPIs as everything is done via the URI.\nFrom the looks of it you are building filters based on graphQL?. I agree with this I want just filter records via REST, by specifying multiple values, or null values, or exception values.\nThis is absolutely not a good idea: JSON can be encoded as URI, so, why it is not good idea ?\nyou shouldn't be encoding anything for filters, that is just isn't standard practice nor is it even remotely user friendly. \nAnd no I think that filters should be fairly similar between the rest and graphql but encoded json in a rest URI is not the way to do it. Rest calls should at least follow the openAPI standard as a start.. an example of industry standards is something like this: https://jsonapi.org/recommendations/#filtering. @rejifald I believe filtering on nested data is already being worked on in a way similar to that.\nhttps://github.com/strapi/strapi/pull/1948\nEdit for clarification: I believe that PR is in the testing phase right now. @rejifald I'm not a member of the Strapi team myself, but to be frank I think this plays into a few other suggestions for filtering related items listed on the productboard:\nhttps://portal.productboard.com/strapi/c/31-exclude-include-fields-from-query-request\nhttps://portal.productboard.com/strapi/c/33-add-notcontains-filter\nRight now it is not in the Strapi Team's high priority, their current focus is on the plugin framework to allow for easier plugin development and 3rd party plugins. This would be at best something they they could do in the future but more than likely should be attempted by a contributor such as what is being done in that PR I linked. \nBecause Strapi is open source, anyone can take up development of features like this, personally I don't have the skills required to do something like this and can only offer advice and help track down bugs.. Related code to issue:\nhttps://github.com/strapi/strapi/blob/042784debd6fa97fd0bff46a5bec0d2633c09bf4/packages/strapi-hook-bookshelf/lib/index.js#L425-L433. related: https://github.com/strapi/strapi/pull/1439. Not a heroku issue, you have an issue with your database: \nnot authorized on strapi-production to execute command { find: \"core_store\", filter: { key: \"plugin_content-manager_schema\", environment: \"\", tag: \"\" }, projection: {}, limit: 1, singleBatch: true, batchSize: 1, returnKey: false, showRecordId: false, $clusterTime: { clusterTime: Timestamp(1542131332, 1), signature: { hash: BinData(0, 2E0170DCA0D75A6FA20135643493613FF3326EAC), keyId: 6580749470751784962 } }, lsid: { id: UUID(\"f46a1053-79ea-4871-a21e-ec2bab20c15b\") }, $db: \"strapi-production\" }',\ncode: 13,\ncodeName: 'Unauthorized',\n. I'm guessing you either don't the correct authDB in the database.json (or you should be using env variables) that or your DB password contains an @ symbol which has been known to cause issues.. @Froelund it just means the user needs help (IE us, giving help). This isn't really a bug... its more of a feature request and has been suggested. See: https://portal.productboard.com/strapi/c/23-import-export-data\nThe \"metadata\" your talking about is stored in the database. I do manual exports in my project as \"seed files\" for other developers, however I use MySQL.\n@lauriejim I recommend closing this issue as there is no bug to reproduce and is a duplicate.. @cupofnestor your talking about basically migrating strapi only data between environments which @Aurelsicoko has covered on the product board. (There is a closed issue somewhere on here about it). Given you could also use this to \"migrate\" between developers as well. I understand your point but I do believe this is a duplicate. Here we go:\nhttps://github.com/strapi/strapi/issues/672\nhttps://portal.productboard.com/strapi/c/12-migrate-across-environments. For those of you who tried to migrate using the wiki migration article, you may try instead to use my method to update: https://github.com/strapi/strapi/issues/1880\nMy guess is there was a problem when you copied over the new build folders somewhere.. @mnlbox @kameas @nom4da \nI'm going to guess all 3 of you are on Firefox and not chrome, most likely OSX as your client OS?. Also make sure all of you completely clear your browser cache. Your browser may have an old cached copy of 14.4's files. @soupette @lauriejim I could not reproduce this issue on Ubuntu Chrome nor Firefox.. same @mnlbox and I can't reproduce this :cry: . Provide your browser console screenshot please to see if there is an error being given\n. Also try opening the admin in incognito mode and see if the same issue. @arogyakoirala export your database collection/table and import it on your new database for production.. @wemod123 in my case I use a seed file, or a dev snapshot of my database: \nhttps://github.com/canonn-science/CAPIv2-Strapi/blob/08f3c1bbe46d2cdabcc8ead3aeb467433623af99/.travis.yml#L21-L24. As for an import/export or handling it pro grammatically fixing it, by all means feel free to submit a PR to work on it \ud83d\ude04 . Issue is somewhat resolved, new issue related to this similar query: https://github.com/strapi/strapi/issues/2396\nMarking this one as closed for now.. This was using a locally installed (as in the snap package in ubuntu) version of playground testing both servers:\n\n. Worked with @soupette via slack, he is deploying a fix. Marking as resolved for now.. @santhan456 can you please not write the whole question in the title and properly use body field for the issue?. I agree but this is going to be a bit tricker than normal oauth, more than likely won't happen until the provider plugins are split and use passport. @mnlbox That would be @Aurelsicoko that does the product board. Hello @vfan , please follow the issue template so we can get a better understanding about the origin of your bug.\nPlease update your issue.. Side note not sure where you are seeing 8Mb worth of JS files:\n\n. @vfan update your OP with version information, it honestly looks like you are running an older version with the size of those main.js files. They should be about half that:\n\n. @simonfranzen delete your core_store table in the database. That is caching the old type on the UI.. Duplicate: https://portal.productboard.com/strapi/c/8-administrators-roles-permissions. @lauriejim recommend closing issue. 1. Yarn is not supported: https://github.com/strapi/strapi/wiki/Frequently-Asked-Questions#yarn\n2. Node 11 is not -yet- supported (There have been other issues related to node 11, such as high CPU usage). @wemod123 add package-lock.json to your .gitignore and add the following to .npmrc file in your project root:\npackage-lock=false\nThat should stop the cache lock. @lauriejim https://github.com/strapi/strapi/issues/2310\n. @soupette I know but he was wondering if there was an issue attached to it or just a random fix :stuck_out_tongue_closed_eyes: . @donaldr are you running it with strapi start?\nTo be honest you really shouldn't be using the generate command while the server is running, it isn't really designed for that (other than when Strapi itself calls that function). Also just a heads up Strapi version: 3.0.0-alpha.14.4.0 Issues created here should be running the latest version to get any real support. Issues created with an older version are going to be closed until testing is done on the latest.\nSee the following note in the issue template:\n<!-- =============================================================================== -->\n<!-- \u26a0\ufe0f If you are not using the current Strapi release, you will be asked to update. -->\n<!-- Please see the wiki for guides on upgrading to the latest release. -->\n<!-- =============================================================================== -->\n. I'll update to the latest and test but the behavior will be the same as the code in strapi-start.sh hasn't changed.\nI understand your concern there, that bit was added as blanket \"no more of this\" on people submitting issues for Strapi versions a good 3 or 4 behind on bugs that were already fixed. Hence the change, it isn't directly aimed at your issue.\nTrying to make @lauriejim 's life easier :stuck_out_tongue: . @StefKors Strapi is built to be a headless CMS. It's goal is to just provide a restAPI and a GraphQL API.\nThat is a bit outside the scope of what strapi is designed to do. Most of that should be handled by your frontend.. You're welcome to request the feature on the product board if you want (please update your original post to follow the feature request template)\nhttps://portal.productboard.com/strapi/tabs/2-under-consideration/submit-idea. ```\n \u26a0\ufe0f If you do not respect this template your issue will be closed. \n \u26a0\ufe0f Make sure to browse the opened and closed issues before submitting your issue. \n \nPlease also submit your idea on the Strapi Product Board:\nhttps://portal.productboard.com/strapi/tabs/2-under-consideration/submit-idea\n\nIf your request on the product board is accepted this feature request issue will be closed,\nbut will still accept public discussion.\n\n\n[ ] I have created my request on the Product Board before I submitted this issue\n[ ] I have looked at all the other requests on the Product Board before I submitted this issue\n\nPlease describe your feature request:\n``. @halower check your package.json if you don't see that script then you aren't in a--dev` project. In order to build plugins/modify the adminUI you need to use a --dev project.\nThis is not an easy process and is quite complex.. @halower right now you can't, you would need to rebuild it in a --dev and copy over the build folder.\n@soupette is working on fixing that.. @sidsaxena0 \n'globalId'\nAll lowercase on everything, known issue that is being fixed in the next release.\nAlso:\nStrapi version: 3.0.0-alpha.14.4.0\nAll issues need to be tested on the latest release (14.5), any issues created on older releases are closed without further support. Please see this note in the Bug Report template:\n```\n \u26a0\ufe0f If you do not respect this template your issue will be closed. \n =============================================================================== \n \u26a0\ufe0f If you are not using the current Strapi release, you will be asked to update. \n Please see the wiki for guides on upgrading to the latest release. \n =============================================================================== \n \u26a0\ufe0f Make sure to browse the opened and closed issues before submitting your issue. \n \u26a0\ufe0f Before writing your issue make sure you are using:\n Node 10.x.x \n npm 6.x.x \n The latest version of Strapi. \n. @wemod123 you can submit a PR for testing with your changes.. @umuttuncer\n    \"client\": \"mssql\",\n```\nUntil changes are made to the bookshelf plugin Microsoft SQL is not supported. You are welcome to submit a PR to add in support for MSSQL. @wemod123 I'm fully aware that knex supports it, however bookshelf itself does not officially support it\nhttps://bookshelfjs.org/\n\nStrapi won't \"automatically\" support it as advanced testing needs to be worked on, and right now adding in another database is not a primary concern of the Strapi team, they are focused on a stable release and plugin framework rewrites for 3rd party plugins. If other members of the community wish to create PRs and properly test not only the MSSQL parts but all other databases to ensure there is no additional bugs, and/or loss of performance/features with other databases then by all means please do.\nThe Strapi team is very small, and do not have time to dedicate to each and every feature request within a short amount of time, they are quite busy and rely on the community to also help them with building and adding new features.. this is also not the first time that MSSQL has been suggested:\nhttps://github.com/strapi/strapi/issues/1890\nhttps://github.com/strapi/strapi/issues/1462\nhttps://github.com/strapi/strapi/issues/855. @abdonrd any reason this was closed?. No problem \ud83d\ude04 . @rw3iss are you able to connect with a client like DBeaver or HeidiSQL?. @jesusprubio please do not manually merge the master into PR's, @lauriejim will do so when he merges the PR.\nIt is just common courtesy so you don't make a mess of the commit history. . It's fine to leave it \"out of date\" for now. Duplicate: https://github.com/strapi/strapi/issues/2260. @rw3iss media fields are a type of relation, and the content manager plugin can't display relational fields yet. As a temporary solution just add some regular field as a temporary solution until relational fields can be added to the content manager. (a string works best)\n. @harshmaur that tcp6 is an ubuntu thing, it isn't listening on only ipv6. It just means it is listening on all addresses. I don't know why Canonical set it up that way but you shouldn't have issues. If you don't want it to broadcast on ipv6 just set a firewall rule, but if you don't have any ipv6 addresses defined in your netplan (ubuntu 18.04) you can safely ignore it.. Please test with node 10. @Charuru this looks like a node issue, node shouldn't be trying to pull modules from /tmp\nthat folder is a temporary for downloading modules that get moved either into your global module storage or a project module storage.\n. @kueronya There have been quite a few issues with providers. In the short to mid term future I believe the plan is to break out each provider into their own plugin and then move them all to using passport.js which will be far easier to handle and not require breaking down the redirectURI as difficult. Right now what is being used is Grant/Purest.\nYou can pop though the users-permission plugin that currently handles these requests to take a look at the code:\nhttps://github.com/strapi/strapi/blob/master/packages/strapi-plugin-users-permissions/services/Providers.js\nSpecifically here: https://github.com/strapi/strapi/blob/b77c3bbf07d6b623c4f2095eb53897bb26bc073d/packages/strapi-plugin-users-permissions/services/Providers.js#L163-L179. Excellent solution to breaking changes. @swappsshinde with MySQL you need to have a database, a user, a password, and that user needs to have permissions on that database.. Note I've included the change made in: https://github.com/strapi/strapi/pull/2292 as well.. @lauriejim tests completed successfully and I think I got everything.. @mnlbox check the box for Documentation please \ud83d\ude04 . Screenshot of error:\n\n. @gianniskarmas that is a bit of an unrelated issue. The manyToMany issues in graphQL are already noted, this is strictly related to Bookshelf and malformed knex queries. @gianniskarmas it is a bit out of scope to discuss that in an issue like this so we don't cloud up the comments with unrelated content.\nWe can continue discussion on the slack, feel free to ping me on there please. DMehaffy. Seems like there may be an issue with a knex query statement somewhere dealing with a .where() based on this stack overflow post:\nhttps://stackoverflow.com/questions/47066174/knex-where-doesnt-allow-passing-single-string-to-where?rq=1. Np @kamalbennani Its a difficult case mainly because it looks like GraphQL isn't really built for how MySQL does things. Like I said it only happens if I try and pull entries that have relational data that doesn't exist (yet) :stuck_out_tongue: \nSo I believe that GraphQL is passing a Bookshelf/Knex query statement like\nGraphQL: Hey can you lookup something that doesn't exist?\nKnex: No not really? How can I find something that doesn't exist?\n:laughing: . Nice, I can test out that PR if you think you've fixed it, I know @Aurelsicoko was working on some fixes as well.. Fixed in v16. @merijnvanessen the problem is some changes were reverted within the API folder. Each model has it's own services folder/files that you will need to change manually. Please see the following diff:\nhttps://github.com/strapi/strapi/compare/v3.0.0-alpha.15...v3.0.0-alpha.16\nAlso I would recommend completely reading and looking at the reverted changes between v15 and v16:\nhttps://github.com/strapi/strapi/wiki/migration-guide-alpha.15-to-alpha.16. alternatively you can use my migration guide to \"cleanly\" update: https://github.com/strapi/strapi/issues/1880. Issue is confirmed to happen on v20/v21:\n\n@Aurelsicoko pinging you for your PR. @Andrew1325 a PR was created, I let @Aurelsicoko know about it\nhttps://github.com/strapi/strapi/pull/2687. Marking as closed as PR was merged. We -might- be able to talk @lauriejim into pushing a fix sooner than the expected release date :stuck_out_tongue_closed_eyes: maybe lol. @kamalbennani Not sure if the count route was ment to be included in your PR or not. Just filing this issue for tracking if that feature is still a WIP. Related PR: https://github.com/strapi/strapi/pull/1948. Yup will do, sorry forgot about that\n. @lauriejim Docs updated, I also included some about the playground setting as well.. Good catch, if you don't mind can I have you throw another typo in this PR?\nCan you stick this bit:\n```\nRelations\nYou can also use filters into a relation attribute which will be applied to the first level of the request.\n Find users having written a post named Title.\nGET /users?posts.name=Title\nFind posts written by a user having more than 12 years old.\nGET /posts?author.age_gt=12\n\nNote: You can't use filter to have specific results inside relation, like \"Find users and only their posts older than yesterday\" as example. If you need it, you can modify or create your own service or use GraphQL.\nWarning: this filter isn't available for upload plugin\n```\n\nIn: https://github.com/strapi/strapi/edit/master/docs/3.x.x/guides/filters.md\nI made a few fixes there, and easier than creating another PR :stuck_out_tongue: . @anderson916 please include the information:\n```\nInformations\nNode.js version:\nNPM version:\nStrapi version:\nDatabase:\nOperating system:\n```\n. Tested these queries which also do not work as expected per: https://strapi.io/documentation/3.x.x/guides/graphql.html#configurations\nquery {\n  grsites(siteID: \"287\") {\n    id\n    siteID\n  }\n}\nquery {\n  grsites(id: \"287\") {\n    id\n    siteID\n  }\n}. @kamalbennani it seems running this:\nquery {\n  grsites(where: { siteID: \"287\"}) {\n    id\n    siteID\n  }\n}\nWorks fine you're right. Not enough sleep. :laughing: Getting the hang of filtering with GraphQL. @6lackunicorn application/json as a header, and post request data needs to be the same. :smiley: . @6lackunicorn depends on what your sending but in talking with @lauriejim it is best not to send application/x-www-form-urlencoded. That can cause way too many errors, you should be sending rawJSON data for now until more testing and work is done on the application/x-www-form-urlencoded. @kamalbennani If you want to (@lauriejim would love you if you did)\nCan you change this part of your PR and link to the issue I created next to it?\n\nThat way when this gets merged it will auto close my issue. Unable to reproduce on Strapi v19 on bookshelf. Marking as closed as I believe this was fixed in #2419 . @wemod123 Redis plugin hasn't been ported over to v3 currently AFAIK. Only Postgres/MySQL. @lauriejim @kamalbennani Me and my team both tested this fix and it is working as a charm. No more null errors.. @kamalbennani Just noticed on using this PR on my test server that the adminUI pages don't seem to be working properly. I'll pm you on slack for login details so you can take a look. for clarification on my previous comment, the adminUI doesn't seem to be taking into account the page number and will only show the first 10 results (changing the amount per page doesn't change anything, for instance if I select 100, it will only show the first 100 no matter the page number selected)\nI spoke with @kamalbennani about this via slack and he is taking a look.. @mamartins That's due to the security limit, see this PR (It's in release v16): https://github.com/strapi/strapi/pull/2400. @AlbanVelco I've spoken to @soupette about this, strapi uses a header called x-forwarded-for and sets it to strapi, if your proxy overwrites this (and it should) it will break the adminUI.\nI've told soupette that Strapi shouldn't be overwriting this header, but for now your solution should work.. > another better nginx config\n\n```\nmap $http_x_forwarded_host $custom_forwarded_host {\n  default \"$server_name\";\n  strapi \"strapi\";\n}\nserver {\n  listen 80 default_server;\n  listen [::]:80 default_server;\nserver_name _;\nlocation / {\n    proxy_pass http://localhost:1337;\n    proxy_redirect off;\n    proxy_connect_timeout 2;\n    proxy_read_timeout 86400;\n    proxy_set_header Host $host;\n    proxy_set_header X-Real-IP $remote_addr;\n    proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n    proxy_set_header X-Forwarded-Host $custom_forwarded_host;\n  }\n}\n```\n\n@javialon26 \nWorked Great, thank you. I will work on updating my SSL guide to use this.\n. @OriginUnknown it isn't a file it is in your database\n. But yes you should not be using any camelcase, spaces, or symbols in your model name or any fields. @sidsaxena0 Node 10 is required see the README.md . @faustofurtado https://github.com/strapi/strapi/wiki/Frequently-Asked-Questions#url-not-defined\nYour using the wrong node version, Node 10 only. @Kriskasz that error only comes from the wrong node version.\nI would double check what node is being used to run your Strapi instance. Version DIFF between Strapi v15 to Strapi v16:\n\nTold @narayanan-git to re-add the package to his package.json and re-run npm i and that seems to have fixed the issue.\n@lauriejim was there a reason the utils package was removed by default from the package.json?\n. I agree, I haven't looked in depth with this yet, but I could see where they may be small performance decreases with it enabled. I only noticed it as playground supports the tracing feature.. @tomsutton1984 I posted the spot I believe that needs to be changed. I believe the password just needs to be URI encoded if you are using the SRV address for authentication see the following comment in the duplicate issue here: https://github.com/strapi/strapi/issues/2466#issuecomment-446276453. @soupette I added the changes into my fork so you can just mirror them :stuck_out_tongue: \nhttps://github.com/derrickmehaffy/strapi/commit/172b6cfd000d46ba1d00921390d463d29050b440. I'll work on creating another PR to document how users can modify the security requirements in overrides on each model. For now it would be far too difficult to query the database (especially if the project hasn't been started yet IE the database isn't created) and since permission changes don't require server restarts anymore it would really hurt in production.. PR created for my working changes: https://github.com/strapi/strapi/pull/2462. Tested with latest fixes, only thing I noticed is it seems all routes are currently listed as \"unprotected\" which should be fine as the API itself will still need auth\nIn the future we should find a way to query the database on permissions and use that to \"protect\" routes. or at least a quick way to users to override the default based on their permissions in the database. @patrikniebur please see the following lines on the bug report template:\n```\n \u26a0\ufe0f If you do not respect this template your issue will be closed. \n =============================================================================== \n \u26a0\ufe0f If you are not using the current Strapi release, you will be asked to update. \n Please see the wiki for guides on upgrading to the latest release. \n =============================================================================== \n```. Please update your issue with the proper template: https://raw.githubusercontent.com/strapi/strapi/master/.github/ISSUE_TEMPLATE/BUG_REPORT.md\nAlso please test using the latest Strapi release, as @kamalbennani stated, this was fixed in v16: https://github.com/strapi/strapi/releases/tag/v3.0.0-alpha.16. @flowen the image is handled by another model with a relation. So it did not create that \"entry\" in the upload plugin as you suggest however, it still made an attempt to finish the other part of the request. When working with the API itself to do the same thing, you wouldn't be able to send it all in one request.\nYou would need to create the entry first, then upload the image and attach it in another. Hence the reason the entry was added, then the image failed due to the missing folder. \nThis is working as intended, minus the fact the upload folder wasn't created by default. (Most people will be using symlinks to connect to a folder elsewhere, this is the reason it isn't by default I think.). @lcherone in the mean time you can use symlinks (which I think is a bit more clean). @Nowhy @kenberkeley when it gets done :stuck_out_tongue: Don't rush the man lol, a lot of changes being made that need a lot of testing.. @pedrosimao Needs to be tested properly and very in depth before that answer can be given.. @lauriejim I will try testing this out tonight if I get time.\n@kamalbennani can you try and resolve the conflicted files?. @mjurincic There is no ETA, testing is being done to ensure there are no bugs introduced here.\n@pedrocruzio If you want to test it you will have to pull this branch locally and set it up just like you would the Strapi Source. After testing is done this will be merged into the master branch and released when the release is deployed to NPM.\nUp to you if you want to pull the source and manually merge it locally to test or just pull the branch and test. Merging it locally would provide the best information if you plan to document any bugs you find, as it would be the most \"real world\" test.. @rejifald Same as my comment above, if you want to test pull @kamalbennani 's branch and build locally to test it.. @jacargentina it is being tested, last I saw last week there was issues that needed to be worked out that are being looked into.\nMaybe Jim can give a timeline but due to the size of this PR it cannot be merged without very detailed testing.. @CTBUdzy Windows isn't support meaning no support is provided for it here. Your welcome to look into it, but right now it isn't a priority for the Strapi team. You will need to use WSL (Windows Subsystem Linux) or a linux virtual machine. (Google WSL, lots of helpful guides)\nBut yes @aurelienbobenrieth not right now, eventually but considering 99.99% of users will be hosting on linux, the development environment reflects that.. @stact Windows isn't supported, see my previous comment. When you install with npm install strapi -g you are installing Strapi-v1 which is no longer maintained.. @soupette I think we spoke about this a few months ago on adding both the created and updated to the filtering and the view (if possible right now).. Form-data is not supported for normal post requests, only for the upload plugin. As Jim has said, all other requests need to be sent as application/json. @lauriejim whenever you get the chance you can merge this into @soupette's branch\n. @ecomevo I'm seeing quite a lot of strange choice in your nginx config?\nJust an FYI with nginx the proxy module doesn't support http2.\nAlso your upstream bit basically isn't being used.\nHave you seen my guide on working with nginx and Strapi?. @gianca970226 you need to review the logs from the travisCI build and fix them, Just push to your branch and travisCI will retest automatically.\nYour build is failing currently. Until the errors are fixed this PR cannot be merged.. Yeah it looks like there was an issue in the mongoose repo based on this issue: https://github.com/Automattic/mongoose/issues/6881\nHowever it seems to be fixed, @ronaldaug if you wanted to submit a PR for a fix on encoding the password you could give it a try :smile: I believe the spot you need to modify is here: \nhttps://github.com/strapi/strapi/blob/83771ae15488e6aed1dc60c4ee85b58ef5793762/packages/strapi-hook-mongoose/lib/index.js#L85\nI've never really used Mongo or mongoose myself.. Actually I just realized that this is a duplicate of https://github.com/strapi/strapi/issues/2441\nSo I will close this issue and we can continue discussion in the linked issue. @abdonrd it looks like it got accidentally added to be removed from the content manager. I'll be submitting a PR to fix but in the mean time you can just remove this block here and it should show up again:\nhttps://github.com/strapi/strapi/blob/568626c0a206d1d6f25f75dfd2425304df7a8c1b/packages/strapi-plugin-users-permissions/config/layout.js#L16-L18. I think this will get easier once the authentication plugins are rewritten in passport but will have to think about how we can do this. :thinking: . @jacargentina your trying to send a nested PUT request?\nlike:\njson\n{\n    \"title\": \"blahblah\",\n    \"body\": \"blahblah\",\n    \"comments: [\n        {\n            \"id\": 1,\n            \"comment\": \"blahblah\"\n        },\n        {\n            \"id\": 2,\n            \"comment\": \"blahblah\"\n        }\n    ]\n}\nRight now I don't think it is possible but has been asked for, also with POST'ing multiple entries aka Bulk post requests. Yes I believe so, I will close it for now, we can reopen in the future if/when it becomes supported. Marking this as closed as it is directly related to proxying, please see the linked issue here: https://github.com/strapi/strapi/issues/2424\nAnd the user @eComEvo has stated it was resolved using the fix in the linked issue. @eComEvo I added the following to the FAQ, for now you cannot use any different case styles on models and field names, you can however customize the \"view\" of fields inside the content-editor using the content management plugin.\nSee the following FAQ: https://github.com/strapi/strapi/wiki/Frequently-Asked-Questions#model--field-naming-schemes\nI am marking this issue as closed because it is not currently a bug with Strapi but due to improper use of case or symbols:\nFirst Name instead of firstname. @sudip1072 https://github.com/strapi/strapi/wiki/Frequently-Asked-Questions#windows. Nested filtering was pulled from the release due to some critical bugs, you can follow the rework progress here: https://github.com/strapi/strapi/pull/2452\nFor now I am going to close this issue as it is well known and is being worked on. If you see any other reason this should be re-opened then let me know.. @AnizZen @webgururobin Please see: https://github.com/strapi/strapi/wiki/Frequently-Asked-Questions#windows\nI am marking this issue as closed as there are many duplicate issues related to create new projects on windows. Please see that FAQ for work arounds if you are on windows 10.. This should likely fall under: https://portal.productboard.com/strapi/c/14-validations\n@Aurelsicoko can you modify the product board FR to include adminUI field level validations as well?. @lauriejim This PR is a simple one just add another config option to GraphQL to support time traces on specific queries. It can dramatically increase the size of the response but is disabled by default so there should be no breaking issues if you wanted to include this in the next release.. @tonyberetini can you test without the symbol in the label. My guess is that is the cause.\n. I'll test myself after I've had some sleep lol. Just spent like 14 hours on a plane when I wrote that :laughing: \nyou can try to purge your core_store table/collection and try again.. @sontranhcm Windows is not supported: https://github.com/strapi/strapi/wiki/Frequently-Asked-Questions#windows\nPlease test using a supported OS.. @kenberkeley the problem is when using GraphQL, there are very strict standards that are put in place by graphQL that using those types of values is not possible. GraphQL is built by facebook and thus if you were to use those types of values, then attempt to install the GraphQL plugin it would break your project.\nRight now there is currently no way to support them, you would need to pass this request to GraphQL itself, then once implemented there, Strapi could support it.. You should be able to use:\n0dev\n1testing\n2staging\n3prod\nand do some sort of translation on your frontend.. @kenberkeley no I understand what you want, but in terms of symbols in enums with graphql installed there is no other way but to remove them. :disappointed: . This is not a problem directly in strapi but a problem with GraphQL itself (upstream package) In what your trying to do, it might be best to have a oneWay relation as this does exactly what you want.. Related PR by @maturanomx : https://github.com/strapi/strapi/pull/1932. # Description\nthanks to @maturanomx for all his work\nAs mentioned in https://github.com/strapi/strapi/issues/1462, I'm starting to work on adding support for MSSQL database (a personal requirement). Pursuing the best approach and good code quality, I'll create different PRs with gradual changes seeking a easy code review.\nThe scope of this PR is just refactor the actual implementation on strapi-hook-bookshelf without changing this behavior. The objective here is avoid the queries manually created and increase the use of Knex.js\nPros\n\nUsing Knex.js it is far easier to expand bookshelf and obtain better benefits of a dedicated query builder, basically the work of many other more experienced developers on the topic of SQL databases\nAvoid reinventing the wheel, reduce lines of code, reduce maintenance, and keeping the possibility of bugs to a minimum\nBetter support and opportunity to use the benefits of relational databases such as real constrains, foreign keys, and increased performance and data integrity\nPerformance: On the case of altering tables when new field are added, this implementation done it in just one query execution; originally executes one sentence by field.\n\nCons\n\nKeeping Knex.js as a dependency\nCould push bookshelf support beyond what is possible with mongoose or any other future hook plugins\n\nWhat has been tested\n\n[x] Creation of the initial schema whit the creation of a new project\n[x] Primary keys with different field types than numeric (Postgres only for now)\n[x] Particular case UUID primary key on PostgeSQL\n[x] Particular case \"on update\" trigger on MySQL\n[x] Creating a Content-Type with all possible data-types offer by the GUI\n[x] Adding fields to an already create model\n[ ] Content-type with \"media\" field type\n[ ] Relations\n\nResults\nAll databases\n[\u2714] Primary key constraints with no-numeric data types\n: In two steps; first creates the table for later execute an ALTER query to add the constraint.\nMySQL\n[\u2714] Add keywork unsigned to primary keys\n[\u2714] Adds default character set utf8 on every table definition\n[\u2714] on update current_timestamp trigger removed from updated_at\n: Is important?. With PostgreSQL this trigger is not created\n: Bring back with 3253e01 following advice of @derrickmehaffy\n[\u2714] enum types as text; not native (Due to poor support and speed in MySQL)\n[\u2714] all text fields as longtext (For better support for long entries)\n[\u274c] float field change from double to float(8, 2)\n: Implications? Can we leave with this?\n: Until proper user based accuracy is allowed we should leave this as maximum possible accuracy (double)\n[\u2714] All new fields added with just one query execution\n: Original implementation executes one query by field\nPostgres\n[\u2714] not null constraint removed from primary keys\n: Not a problem. PRIMARY KEY enforces the same data constraints as a combination of UNIQUE and NOT NULL\n[\u2714] Change timestamp with time zone to timestamptz\n: They are equivalent\n[\u2714] json type as jsonb\n[?] float field change from double precision to real\n: Implications? Can we leave with this?\n[?] \"date\" fields now comes with default value to current_timestamp\n: Implications?. Isn't changed in the code?\n: As with MySQL, result of share the same code\n[\u2714] All new fields added with just one query execution\n: Original implementation executes one query by field\n. Closing this for now as most of these changes need to be completely re looked at due to the addition of SQLite. Reopening this as I am going to start working on the backend. @jmchza what strapi version are you using? 3.0.14 isn't a valid version, do you mean 3.0.0-alpha.14? If so you are quite a few versions behind. @jmchza can you please test with the latest version (3.0.0-alpha.16) as v14 is quite old now and there was a major hotfix for it already.. Can you please add in a bit about what the index does and also add a notice header that it currently is only supported on Mongo and not MySQL/Postgres\n. There is no validation layer in strapi yet: https://portal.productboard.com/strapi/c/14-validations\nFor now there really isn't an easy fix for this. The error in GraphQL is like you said, a non-int in an int field. It's an upstream error.\nI'm marking this issue as a duplicate of the validations feature request, it is a feature that doesn't currently exist but is planned. If you feel this was closed in error please let me or one of the Strapi team know and we can look at re-opening it.. Strapi version: 3.0.0@alpha What version?\nOperating system: windows 10 FYI windows isn't supported, try testing with WSL or linux\nDatabase: make sure you fill out this spot even if it is referenced elsewhere\nAnd as @wptheme4me said, Windows isn't supported see: https://github.com/strapi/strapi/issues/1281\nI'm marking this issue as a duplicate.. @kenberkeley while not directly related to your version, having the bare minimum bug report ect template is required can you please add the following to the top of your original post and fill it out.\nI know it doesn't directly relate to what your doing, but is required, else issues are closed out without it:\n**Informations**\n- **Node.js version**: <!-- Please ensure you are using the Node LTS version (v10) -->\n- **NPM version**: \n- **Strapi version**: <!-- Please make sure you are on the latest version -->\n- **Database**: \n- **Operating system**:. @lauriejim I think it would be a good idea to add in a code sample for this, as it is really highly asked for on slack. Thank you\n. @greatwitenorth npm under your own account, the Strapi team are currently reworking the plugin framework to allow for 3rd party plugins and modules.. resolving issue per user request. I managed to get some hacky solution done for mine but it isn't something I enjoy fixing everytime I add a new model ;). @Aurelsicoko yes doing it in a separate file would be best, basically all you need to do is call that override after everything else.\nRight now its taking the settings.json in the doc plugin, then the model doc files, and lastly the model overrides. All you need to do is add one more step and grab the tags file override after the rest and it will sort based on that order AFAIK.. Everything with swagger/openAPI docs is about the order, It follows the order in the final build of the doc file.. The override system you guys are using is way above my head, remember I was writing this by hand before :rofl: . @abdonrd @lauriejim I would like to argue for the reverse here and say that this type of variable should be stored in the config itself to allow for modifications. As with a system like this, it basically defeats the purpose of having that config environment. We should try to cut down on the arguments required to start the server as this makes actual deployment much harder with something like PM2.. Yup @lauriejim that looks good to me. @abdonrd you can fork the branch and build it from source.\nOn linux just make sure you have the libpng-dev package installed or you'll hit an error on build. Clone the source (make sure you have the global strapi package removed) then run npm run setup:build then create a dev project strapi new test --dev\n. mmmm not yet @abdonrd it would be difficult to test from sources\n. Would have to be pushed to NPM, you might be able to spin up your own private npm source. :thinking: . @Skeyelab I'm guessing you ment to tag @mohamead . @Skeyelab his PR was not merged so no it wasn't resolved yet.. good catch, I wrote the patch for that half asleep lol. If you want to submit a PR to get credit for the code by all means go for it \ud83d\ude04 . @sangjs please follow the issue template and add the required options. I am closing this issue until they are added.\nPlease note Windows is not supported https://github.com/strapi/strapi/wiki/Frequently-Asked-Questions#windows. > It seems to be a security issue... The user shouldn't be able to choose his role because it could use the parameters to choose the admin role and bypass the real administrators.\nI agree 100%, default role, users should not be able to pick or choose their own role. Admins/Mods/whatever need to set them.. @mikaelgramont GraphQL is only a query language, it isn't designed for something like authentication.. (Also it would be far more complex to build something into the GraphQL schema to auth, when you get basically zero benefit from it over the rest route. The best way to handle REST vs GraphQL is to just use both for their strong points, in this case REST just handles authentication much easier and faster). @mikaelgramont :\nhttps://graphql.org/\n\nIf you want to add it then by all means submit a PR \ud83d\ude04 Adding a simple route in your frontend with REST is easily. Both sides have their benefits and drawbacks. I'm a firm believer in using both, . FYI a mutation is a type of query, it is just one that can do updates. . Windows isn't supported: https://github.com/strapi/strapi/wiki/Frequently-Asked-Questions#windows\nYarn isn't supported: https://github.com/strapi/strapi/wiki/Frequently-Asked-Questions#yarn. @AminZibayi maybe related to the drive your installing on? I'm guessing that is a windows NTFS drive you have mounted there: \n\n. @AminZibayi I honestly have no idea if that is the actual problem. \nInstalling Strapi globally allows you to run the CLI tools, the strapi package also is used by your project. (In theory you could just link the package in your project directories node modules folder into your bashrc path but that is complex and honestly not needed, hence the global install)\nnpm i (don't use run setup unless your working with the source code) just installs the packages that Strapi needs. At the moment a single project cannot rebuild the admin build folders so if yours are missing you need to create a new temporary project and copy them over (you can delete it afterwards).\nHonestly at this point it seems to me something is seriously broken in your project. I recommend you follow my \"update\" guide (in this case you are \"fixing\" your project) that is listed here: https://github.com/strapi/strapi/issues/1880. @chaitanyya don't close it :stuck_out_tongue_closed_eyes: It has to be merged first.. Nice one!. > Also, I was thinking about removing completely the database's step during the project's generation process. 95% of the time SQLite will perfectly match with the needs of the developer.\nHonestly that would probably be a good choice, let the users configure the database themselves of have another option with the CLI tool to configure one. I see a lot of questions related to migration process and creating a new app (short term). However I think merging the templates used would be best before this is done. (generate:api command, and admin generation). Step in the right direction. npm run setup:build\nThat should install everything you need, you will get warnings about missing plugin \"depends\" that aren't actually needed. Note for the build step on ubuntu you need a local package installed called libpng-dev just install with apt get.. \n^^^ Schedule for LTS\nFrom what I've seen Node 11 causes extremely high CPU usage with no benefits.. That and Node 11 will not be a core LTS version thus pointless to support it for now. Similar to Node 9. @anitricks if I understand right your trying to be able to send nested relational data? . At the moment @anitricks it isn't possible without some major modification. The only relational data you can send is the ID of the relation entry. honestly no idea @lauriejim @Aurelsicoko thoughts on what those routes do?. He is talking about these: \n\n. And their permissions. Closing due to missing information and the user already has the correct answer to migrate their database. @jkbaseer did you install the strapi package globally?\nIf no, you can't use the strapi command (as your system isn't aware of the location)\nThere are two places the strapi package is \"kept\":\n1) In your global node_modules folder to be used as an executable IE strapi start\n2) In your project's node_modules/package.json for use by strapi\nThe reason for the split is, it is possible you may not need the global CLI based tool while running in production if you are using npm start server.js\nPlease run npm i -g strapi@alpha to use strapi start globally (or any of the CLI based commands like generate). I'm marking this issue as closed for now, please update if this didn't fix the issue and we can re-open it.. @Aurelsicoko @lauriejim maybe you can assist here. I think he is using Node Version Manager (NVM) which I believe is causing the issue.. @merijnvanessen can you replace your --specs-- with the proper bug report template values.\nAlso if you have a link to your project code for us to look at to help debug that would be great.\nCan you also provide your query (assuming it's a query and not a mutation).. Bug report template for reference: https://raw.githubusercontent.com/strapi/strapi/master/.github/ISSUE_TEMPLATE/BUG_REPORT.md. @merijnvanessen can you give me the graphQL query you used to generate the error? . Windows is not supported: https://github.com/strapi/strapi/wiki/Frequently-Asked-Questions#windows\nMarking as closed as this is a duplicate issue: https://github.com/strapi/strapi/issues/1281. @EdenLiang Please use WSL, windows is not supported due to changes between node 8 and node 10 (Strapi no longer supports the EOL node 8, and the server won't start on node 8). If that works for you then great. But any issues that come up while working outside of WSL, Linux, or Mac won't be supported. Just an FYI. @deeq14 please add in the required bug report template details. Template can be found here: https://raw.githubusercontent.com/strapi/strapi/master/.github/ISSUE_TEMPLATE/BUG_REPORT.md\n. @lauriejim @Aurelsicoko can you two test this, if true this could be a critical security hole. @deeq14 I poked Jim on slack and he couldn't reproduce it for GET, he didn't have time to test POST/PUT/DELETE.. Nice job btw I like the Manual Testing part of the PR Notes. I might see if @lauriejim would like to see that done on the normal PR Template\n. @pragone Good catch, I had noticed the connection timeouts and my cluster killing them myself but hadn't looked deeper. I think we should test updating to the current recommended version (Separate PR) but in the short term I think you are right on bringing in the recommended changes.\nOnce you get the PR up feel free to ping me as I would be interested in helping test it.. @pragone I remember there being some possible breaking changes between versions outside of what you already mentioned. I think I dropped some links to @lauriejim in slack but I should probably read more into it myself. No problem @pragone this directly affects me as well. If you want to give it a shot and update here on your testing I'll start playing around as well. Your skills are probably a bit better than mine but I do agree on the production ready system. There are a few other things that the bookshelf side of Strapi needs to have done for it to be considered \"Production ready\" mainly getting bookshelf at least up to the current level of mongoose in terms of usability. . A few key things I see in that changelog that also will directly affect https://github.com/strapi/strapi/pull/2562\n0.16.2\nAdd json type support for SQLite 3.9+ (tested to work with Node package 'sqlite3' 4.0.2+)\nAdded support for named unique, primary and foreign keys to SQLite3\nSQlite3 renameColunm quote fix\nThere is also quite a few other misc bug fixes in latest versions I think would benefit Strapi going forward, so we should focus on making sure nothing breaks while updating to newer versions. Doing so will make the job easier I referenced in my previous comment. @pragone So the travisCI tests implemented on the monorepo don't actually test core functionality (working on that with cypress but honestly that is more geared towards adminUI testing) I believe all the current tests are done on mongo anyway. @lauriejim generally tests each DB manually before release.\nObviously in the future we want each possible DB type to be tested automatically but that is WIP. Also in the great words of Captain Jack Sparrow Tests are \"more like guidelines\" than actual results :wink: \nIt would only be considered a breaking change if you were to update an existing application and it would not start without modifications (core changes required to start the server) in this case I don't think so as you actually have default values assigned if there are none in the config.\nRealistically what we should do is test on both platforms Postgres/MySQL with different database versions (recommended and above) so we don't get any surprises after the PR is merged and is live.\nAnd yes it may not be required for production (aggregation support) but with the end goal being: Strapi is frontend and backend agnostic, we should strive to have the same functionality no matter the backend database as much as possible. This also includes the small things like unique constraint keys, ect. But a bit out of the scope of this specific issue.\nWith the addition of SQLite support (via @pierreburgy 's PR ) we will also have another bookshelf related database to test in the future as well which will be important to allow people to test easily. Among this change and my purposed one on merging the templates for mongoose/bookshelf to allow users to flip flop between either side without having to regenerate their models we are pushing closer to the goal of being both frontend and backend agnostic :smile: \nTLDR: We are getting there, we just need more people like you to just jump in the deep end and find the small things to work on. . @Dogtiti This is intended you will need to use the filters to loop through and get more data.\nhttps://strapi.io/documentation/3.x.x/guides/filters.html\nMarking this as closed as it is not a bug. @brillout AFAIK Strapi won't be pushing out any sort of frontend, as it is entirely headless. If someone from the community wanted to work on something like this great. Given I'm not a member of the Strapi team, but I have spent a long time talking to them and working with them. It is highly unlikely the Strapi team themselves would support something like this.. For example authentication: currently, using auth with Strapi requires frontend work for the user.\nInstead, a full-stack auth plugin could be a drop-in solution with zero work for the user.\nhttps://github.com/strapi/strapi-sdk-javascript. @Aurelsicoko I spoke to @brillout on Discord yesterday and basically explained just that as well. For the moment I'm going to close this FR, should further conversation spark up and we need to reopen it we can.\nThank you @brillout for your suggestion but as @Aurelsicoko said, I don't believe it fits the project.. Closing, keep this discussion here: https://github.com/strapi/strapi/issues/2602. Closing, please don't make duplicate requests: https://github.com/strapi/strapi/issues/2602. @brillout they are both related to the framework you are developing. In order to keep the github issues at least somewhat clean I suggest you merge these two feature requests into the open one related to your framework.. @pauldariye There are migration docs on the docs site: https://strapi.io/documentation/3.x.x/migration-guide/\nOr you can use my method: https://github.com/strapi/strapi/issues/1880.\nMarking this as closed for now as there technically is no bug, please feel free to continue discussion. @reutopiaer a few things:\n1) Please always ensure you are testing on the latest version (v18)\n2) Windows isn't support: https://github.com/strapi/strapi/wiki/Frequently-Asked-Questions#windows\n3) For proxying, I recommend you use an external applicaton such as Nginx or Apache.. Nice work man, I'll test this out on MySQL/MariaDB\n. @lauriejim I'll see if I can test this sometime this week (time permitting) to make sure I don't notice any issues. @lauriejim I have yet to test this completely yet, give me a few hours (been a busy past few weeks). @deeq14 Strapi doesn't generate these IDs your database does..... If you look at those IDs the part before those trailing numbers is also different. \n. @deeq14 again Strapi does not generate these IDs they are done via mongoose/mongo. And since strapi also supports bookshelf and relational databases, this is common.. @deeq14 data ownership is not a new suggestion :wink: https://portal.productboard.com/strapi/c/44-data-ownership. I'm marking this request as closed as it is a duplicate of: https://github.com/strapi/strapi/issues/624. @joshmorel is known :stuck_out_tongue: https://portal.productboard.com/strapi/c/20-administration-responsive. closing per OP. Closing as this is a duplicate issue related to this PR: https://github.com/strapi/strapi/pull/2452. @seanmavley https://medium.com/@derrickmehaffy/using-strapi-in-production-with-https-717af82d1445. Specifically your proxy block and you have http2 enabled (which nginx doesn't support via the proxy)\nAlso as a personal preference I recommend dumping your upstreams into it's own file like I do in that guide.. @e-ndrus please update your OP following the correct bug template: https://raw.githubusercontent.com/strapi/strapi/master/.github/ISSUE_TEMPLATE/BUG_REPORT.md\nI'm closing this issue until it has been updated, please reply once you have updated it.. @e-ndrus when you send date/time values with bookshelf/postgres they have to be formatted properly:\nYY-MM-DD HH:MM:SS Also you shouldn't be sending those values anyway as bookshelf does it automatically :wink: . I'm leaving this as closed as there is no actual bug and is normal usage.. @mnlbox the schemas are just built off your model.settings.json file, it is specific to the OpenAPI/Swagger spec\nYou can't grab those via REST right now.. \nExample from one of mine. Bad @lucaperret \ud83d\ude1b \nFROM node:11.1.0-alpine\n. @MartinMuzatko Awesome, is this official? If not cough @lauriejim get him in there to help. \ud83d\ude06 . Marking this as closed as @lauriejim is correct, you need to manually override the location in settings.json. You can see an example of this on my project: https://github.com/canonn-science/CAPIv2-Strapi/blob/7a17e97ed8ff46d9cc6f1b9e0064e572bcf71b8b/plugins/documentation/config/settings.json#L22-L39. @maksugr In this case that relation is based on the user model from the user-permissions plugin. @mnlbox send an empty array {} this is known about.. @mnlbox you just simply create a PR that if the field is empty have it add the {} the required check realistically isn't completely implemented (at least on bookshelf, never used mongo). @Anderies this is not a bug, the command is strapi version\nI am marking this as closed. As a footnote Windows isn't support. Due to use of windows 7 you will need a linux VM as windows 7 does not have WSL: https://github.com/strapi/strapi/wiki/Frequently-Asked-Questions#windows. @rdbmax https://github.com/strapi/strapi/wiki/Frequently-Asked-Questions#yarn. This is honestly a good question. After the plugin framework rewrite is finished I believe the plan was to move over to using passport.js and split each provider into their own separate plugins.\nI'm sure there is probably one that doesn't use the G+ API but my guess is even though Google is shutting down + they will keep the API alive or offload users to the normal one.. @fattomhk good for a PR as the passport stuff will still be a while, likely after the beta (as the plugin framework rewrite is included in the beta PR). @msarfaraz please update your issue with the proper bug report template. I am marking this as closed until your issue is updated with the template information. @suhaboncukcu typically when you are dealing with an API like this, you standardize the timezone, IE you only use and accept a single timezone then force your frontend to convert as needed depending on the location. Usually UTC is what is used.. @suhaboncukcu typically when you are dealing with an API like this, you standardize the timezone, IE you only use and accept a single timezone then force your frontend to convert as needed depending on the location. Usually UTC is what is used.. We need to figure out a solution for everyone, waiting on input from @Aurelsicoko @lauriejim and @soupette \nThere have been a ton of issues dealing with dates and we need to come to common terms with proper formats, and both backend/frontend with how they should be handled.. @suhaboncukcu translation and conversion should be done on the client side not the server side. Overly complicates the server IMO. client gets UTC no matter what from the server, so you always know the date and time is clear and accurate.\nAfter that there is libraries for just about every language under the sun to convert UTC to local timezone.. It's the same method that MySQL has been doing for the past 24 years or so.. @suhaboncukcu sure there is, doesn't mean it should be used. There is no major drawback from using one standard timezone with the exception that each of your frontend needs to be aware of that. The downside to running it server side is the potential not just break one frontend, but all of them. The goal of strapi is to be as agnostic as possible, thus you want certain standards in place such as a solid and clean date, time, and datetime system in place. \nAt it's core Strapi is not just a headless CMS but is an API framework. Look at any other major API, they all use UTC. Why because that is the standard of date and time that all timezones are based on. :stuck_out_tongue: . conversion of timezones at the client level is far easier than conversion on the server side.. Here is a good read if you have a few minutes: https://zachholman.com/talk/utc-is-enough-for-everyone-right\nThe TLDR: \n\nAnyway, what I mean is that I've been in time-headspace for awhile now. Here's a few last thoughts:\nKeep everything simple as much as possible. Even if it means being really inefficient, or redundant, or ugly. Everything adds up, and I think usually programmers overthink time. (Leave overthinking for the times where it's actually critical to overthink.)\nHandle more in the client. This is a little bit of an odd piece of advice, but especially when you have a central service (GraphQL, REST API, some central interface, particularly when hooked up with a single page app, mobile clients, or other clients), I think it's more important to have as simple a central service as possible. This means it should basically only speak UTC, and might not even handle a lot of the more complicated logic around recurring events, timezones, and so on. It adds redundancy in your clients, but I think it makes it easier to understand overall.\nLeverage standards and let others do the heavy lifting. Obviously that means using the Brightest Point in Human History, also known as ISO 8601, but it also means using premade time libraries, resources like the Olson database, and leveraging other people's existing work as much as possible. Let someone else figure out the really gnarly edge cases so you can work on your domain's edge cases.\n. Alright @lauriejim @soupette I can't figure this one out:\n\n\nOther than that tested on MySQL and I can actually store large values now. I'll try and test on the other 2 DBs soon but just a heads up it seems javascript likes to round large numbers. Need to see if there is a work around for it.. Conflicts resolved, @lauriejim ready for testing and review. @alexesDev did you already create your database in postgres? Strapi will not create it for you.\nAlso that error you have with /tmp looks like a node problem. I would search around a bit as it seems node is acting strange or slow as you shouldn't be loading anything /tmp. @alexesDev :stuck_out_tongue_winking_eye: I've seen this a few times\n. I do agree though, there should be better error checking. https://github.com/strapi/strapi/issues/2396. @NeOMakinG thats what I'm here for :stuck_out_tongue: . @yareyaredesuyo It is in the FR template lol:\n```\n \u26a0\ufe0f If you do not respect this template your issue will be closed. \n \u26a0\ufe0f Make sure to browse the opened and closed issues before submitting your issue. \n \nPlease also submit your idea on the Strapi Product Board:\nhttps://portal.productboard.com/strapi/tabs/2-under-consideration/submit-idea\n\nIf your request on the product board is accepted this feature request issue will be closed,\nbut will still accept public discussion.\n\n\n[ ] I have created my request on the Product Board before I submitted this issue\n[ ] I have looked at all the other requests on the Product Board before I submitted this issue\n\nPlease describe your feature request:\n``. @eComEvo try generating a project without any special chars in the name (ie periods). good catch @eComEvo A while back I noticed some odd issues when pm2PMX` was enabled also but those seem to have been fixed.. @r007 Strapi doesn't handle the database local setting, that is something you will need to change (it would have been set when you created the database). Just tested this on my dev system. pasted the user reported string into a text field and it stored it just fine:\n\n@r007 you will need to set the proper utf8 properties on your database yourself, strapi doesn't control that:\n\nMarking as closed as this is not a strapi related issue. Awesome job! There will need to be a lot of testing to make sure everything works as expected but if it all goes smoothly this will be a great step forward for mobile developers.\nHave you put any thought into also supporting refresh tokens for any of the OAuth providers? (Many of them already have refresh tokens, I think just the logic is required to use them), a good example being discord.. @nyzm it depends on the provider. For the most part once the plugin framework rewrite is done and we can break each provider into it's own plugin (and convert over to passport.js) we can likely deal with refresh tokens then. I'm not terribly familiar with oauth itself but I figure it was least worth looking into.. @nyzm I've restarted the node 10 build, it might have just been a random error but we will see. Sometimes the linting messes up for no reason. :man_shrugging: . Side note @nyzm if I might make a suggestion there should be an option to revoke all tokens for a user. It might be good to add a button in the adminUI. Just a thought :smile: . @nyzm not sure if this is just user error, I tried manually applying these changes to my current project (commit is here: https://github.com/canonn-science/CAPIv2-Strapi/commit/26062199fb17db3a1aa245bb70a8b789022bfe86 )\nAttempting to start strapi after modifications I get the following error in the console:\n[2019-03-13T06:03:29.728Z] error Cannot find the controller's action refreshtoken.findOne. @lauriejim worked with @nyzm on slack, figured out the issue was it fails to start if graphQL is installed, removing graphQL and it worked fine. I'm guessing this has something to do with graphQL automatically generating schema stuff. Is there a way to exclude stuff from that? As this PR won't have a \"findOne\" option for a token. https://github.com/strapi/strapi/wiki/Frequently-Asked-Questions#windows\nMarking as closed as unsupported OS version/Type. Strapi version: @3.0.0 alpha please include your full strapi version, can be found on the CLI by running strapi version. @lauriejim this looks like a user env symlink issue. @hessamhoseinkhani I believe this should help you, the problem is the location of your node_modules global folder and permission: https://docs.npmjs.com/resolving-eacces-permissions-errors-when-installing-packages-globally\nIf you follow that, you can move the location of your \"global\" node packages to your user (each user can have their own \"global\" packages).\nfor now I'm going to mark this issue as closed, if you are still having problems feel free to says so and this can be re-looked at. However I could not reproduce this issue on 16.04 or 18.04. @ojengwa Nice job man. Mmmmmm We could move the FAQ there also, but It is nice to have it on the github as well (easier to update). The downside @lauriejim is in order to add new information to the FAQ a PR has to be made, merged, and the docs have to be redeployed. And if other changes are made to the docs during that time, there might be a case where the docs are updated on something that isn't in a release yet.. That is making the assumption that the docs are not automatically deployed from the master branch and are redeployed manually, but in either case my above statement is still valid.\nIn my opinion it would be better to hard code into the docs a link to the FAQ on the wiki, or split the FAQ into two parts:\nDeveloper FAQ (Github)\nUser FAQ (Docs) \nHowever the FAQ is typically a good place to put common issues (such as ones that come up in a release) and ways to work around them which will be subject to change quite often.. @lauriejim I see FAQ as different than normal docs. FAQ is something that is very volatile. Stuff that subject to change often and quickly. So I think they should remain in a place that allows for that quick change.\nTypically if I see a common issues I will update the FAQ with a fast work around.. If https://github.com/strapi/strapi/pull/2664 is fixed and merged this PR isn't required.. @sajjad-shirazy please add documentation and also please ensure you test with all 3 database types. @parikhdhruv24791 More than likely this package needs to be moved to the Strapi-Helper plugin. Due to how NodeJS works there could be conflicts if one or more plugins share the same depends as each other. \nThe helper plugin is what deals with these depends, more than likely in this case core-js is a dependency for another module and in your particular case it was not installed properly. Either way this should be looked closer into and moved over here: https://github.com/strapi/strapi/blob/master/packages/strapi-helper-plugin/package.json. @lauriejim @Aurelsicoko thoughts? I'm not entirely sure if this depends is required or not, or if it was an issue with the user environment and resolving dependencies.. Just as a footnote @parikhdhruv24791 this module is not graphQL related itself (it does other functions), typically if a module is directly related to the plugin is when it is stored in that plugins package.json such as the case with the apollo module. @lukkyjoe you cannot use the content-type builder on heroku please see: https://github.com/strapi/strapi/wiki/Create-files-on-Heroku\nDue to how models are created (new files, modifying files, ect), Heroku can only be used for production.\nMarking this as closed. @rezabojnordi Please update your original post with the required template, also please properly use code blocks for logs or put them on an external service like http://paste.ee\nYou can find a copy of the bug report template here: https://raw.githubusercontent.com/strapi/strapi/master/.github/ISSUE_TEMPLATE/BUG_REPORT.md\nI'm closing this issue until it is updated with the required information and has proper use of code blocks. It can be reopened after the above issues have been corrected. Please finish updating your template:\n```\nInformations\nNode.js version: Need this\nNPM version: 6.4.1\nStrapi version: Need this\nDatabase: mysql >=5.\nOperating system: linux ubuntu 18.4\n```. @rezabojnordi please don't create multiple issues, update your existing with the requirements I posted.\nClosing as duplicate of https://github.com/strapi/strapi/issues/2744. @adamkhan please update your original post following the bug report template.\nI'm marking this as closed until the required information is added, once you have updated it and replied that you have done so this can be reopened.\nPer the bug report template: <!-- \u26a0\ufe0f If you do not respect this template your issue will be closed. -->. Sure will do, in the future @adamkhan there is a feature request template also. Please do use them where possible, this repo gets a lot of issues/FRs created and I blindly close them if the template isn't there to try and keep it semi-clean. @giona69 no news, you'll see a PR linked when it is being worked on\n. Alternative rename the swagger link to Swagger Docs, OpenAPI Docs, or Auto Documentation. @soupette thoughts?. Fine with me @soupette just had someone ask me which one was our swagger and it made sense.. side note, the way the scrollbar shows up is also a tad ugly in my opinion, I'm wondering if it would be better just to add it into the scroll menu instead of it's own separate container. @JohnMica Please update your PR with the entire template, even if you are only updating documentation\nhttps://raw.githubusercontent.com/strapi/strapi/master/.github/PULL_REQUEST_TEMPLATE.md\nMarking this as closed until the template is updated, after you have updated your Original post, please reply and this can be reopened. The reason for this is the template is used to automatically generate change logs, without the proper template, the script used to generate the change log will fail and provide a malformed log:\n<!-- \u26a0\ufe0f Your PR title will appear in the changelogs please make it short detailed and understandable for all. -->. @JohnMica looks good, reopening. Can you just check the Not Applicable for the DB tests since this is just a docs update?. Also please check the enhancement box too. Thank you! :heart: . @wes-cutting if you have https setup, then you are already encrypting it. More than likely the location is in the user permissions plugin, a bit of searching around and you can probably find it. @soupette you shouldn't have the password on the list view, edit view is fine but it should not pull the hash from the database.\nHaving it on the list view is what is breaking the adminUI and causing the white screen. Can confirm this issue @lauriejim \n\n. Both with or without the quotes id: 1 or id: \"1\". @scorpionking90 sure I contribute :stuck_out_tongue: but I have not the slightest idea how the graphQL plugin works. :rofl: . Based on that error, your issue is likely related to https://github.com/strapi/strapi/pull/2609\nDepending on the config of your MySQL database, you may have a limited number of possible connections. By default Strapi (knex really) has a min of 2, and a max of 10 connections. I don't remember the default timeout on the connection pooling but using https://knexjs.org/#Installation-pooling you can increase it to see if that helps.\nBest guess is you are running a lot of large queries or just a lot of queries all at once without any sort of load balancing and you are overloading the number of possible connections from Strapi to your database.. FYI you can increase those min/max values based on your Database config. Obviously you want to limit the number of idle connections as to not overload your Database and stall it.. Documentation for configuring the knex connection pools is here: https://strapi.io/documentation/3.x.x/configurations/configurations.html#database. @davidenq Likely related to the MySQL connection settings per user or server wide. Quickstart uses SQLite not your actual database which doesn't use knex connection pools. @kidandcat https://github.com/strapi/strapi/wiki/Frequently-Asked-Questions#yarn\n. @lauriejim If I had to guess this user generated their project with bookshelf first, then switched over to mongo. @codivist can you please start a new project and set it up with mongo. I think what @lauriejim is asking did you choose custom -> Mongo instead of quickstart (which I believe uses SQLite). If anyone wishes to help on this PR, I've spoken with @crashlab on Slack.\nToDo:\n Add Postgres bookshelf/knex queries\n Add SQLite queries\n Add error checking for setting unique with existing data that has duplicate data\n For required, take the default and apply that instead of just not null. @lauriejim when talking to @crashlab on slack, he/she doesn't have the time to finish this PR and I don't have the skills but as I have said before, getting these 3 \"metadata\" options on bookshelf in my opinion is quite important as currently none of these are being used on bookshelf properly.\n\nRequired\nUnique\nDefault\n\n(Min/Max don't have constraint options on any of the bookshelf DBs, thus those will need to be handled by strapi validation layer that doesn't exist yet.). > I'm agree, we have to manage well these points.\n\nWe can not finish to work on every PR people start (because there is no end if we start to work like that.)\nWe will work on this point when this topic will became hot for us. We are actually working on man topic and will do our best to make that work correctly soon as possible.\n\nUnderstood @lauriejim I think in this case, these 3 are important.. This is an upstream issue with MySQL.\n@dominusbelial in the mean time you are welcome to use MariaDB 10.3 which is a drop in replacement of MySQL 8 (supports all the same features). The alternative is to drop your MySQL version.. Example of another package with similar problems: https://github.com/mysqljs/mysql/pull/1962. @dominusbelial For your info (and others who come across this)\nProvided by MariaDB a comparison between the two versions: https://mariadb.com/kb/en/library/function-differences-between-mariadb-103-and-mysql-80/. Also for any incompatibilities between them: https://mariadb.com/kb/en/library/mariadb-vs-mysql-compatibility/. @dominusbelial are you on the slack?\n. Yes @dominusbelial you should join the slack, easier to provide support. So we aren't spamming a bunch of people with github emails.\nhttps://slack.strapi.io. @abdonrd likely related to the content manager, delete the schema, restart the server. Then go into content manager plugin -> Users -> Remove the following:\nList View: Password\nEdit View: Provider\nAfter that it should work. @omerfaran I'm guessing the error there is the : in the location. @omerfaran Not sure on that bug, just saw your issue and pointed out the typo I suspected :stuck_out_tongue: . I am unable to reproduce this using MariaDB 10.3 (MySQL 8 fork). @puneetverma05 Can you please test using a non-docker version of MySQL 8? (Such as a Virtual machine). @fdeberle I don't believe so but you can have a look through the tests directory here: https://github.com/strapi/strapi/tree/master/test\nCan you open a bug report with all the required template information so that it can be looked at. Please include any debug logs you might have from the console. The Strapi Helper plugin is really only used for --dev projects to de-duplicate some node packages used in the build process (such as babel) and you really shouldn't have issues with a deployed project.. @omerfaran Can you please look in the /plugins folder of your Strapi project to see if the GraphQL plugin is showing there.\nAlso as a footnote, windows 10 is not supported, please also test this bug in either WSL (Not using a mapped windows drive) or a Linux Virtual Machine.\nhttps://github.com/strapi/strapi/wiki/Frequently-Asked-Questions#windows. I am marking this request as closed as it based on an OS that is not supported, should the bug also exist on a supported platform and a new update is posted then the bug report can be reopened.. Welcome to the club David :smile: . @pierreburgy \n\n\nScreenshots should all have the same format (eg. made fullscreen with a 13\" Mac, Chrome in private navigation mode).\n\n\nGrrrrrr :tongue: But I do agree standard sizing. Interesting issue, good to know @vaskort . I didn't even know there was a timezone option there, good to know. @virginieky Can you include a screenshot please? Thanks :smiley: . @virginieky Amazing job, it looks great!. I can confirm this on latest version, currently there is no \"And\" // \"Or\" options on the filters.\n@lauriejim I think this is important, but not sure if it classifies as a Bug Report for Feature Request. @Nowhy right now there is no work around, you would have to modify the filter code and submit a PR.. @Aurelsicoko I 2nd this feature, while I don't have the skills to implement it in my own project, I feel this is a pretty important one.. @kamalbennani you think this is also possible for the other filters? Basically a and / or system for filters?\n. @Aurelsicoko There are many ways to handle AND/OR on Rest but I think some of the best ways may require a pretty large change of how the filters are used (more in line with a typical REST API specification)\nSome examples: https://www.moesif.com/blog/technical/api-design/REST-API-Design-Filtering-Sorting-and-Pagination/#\n. @georgepapas the content manager plugin is being reworked but no ETA yet.. @soupette I know, we had discussed it, just relaying that info to others :wink: . @dj-hedgehog you can't regenerate the admin build folders in a project so they can't to be included in the .gitignore file.\nPlugins also can contain custom settings per the user, so they also can't be included.\nnode_modules already is I believe.\n. I do not believe that is part of the plugin framework rewrite no. @soupette would be the man to ask about that.. Plugins most certainly won't be, since users can customize a lot of the logic for a plugin themselves.\nModels, routes, services, controllers, ect.\nOnce the admin folders can be rebuilt on demand than I agree but I believe that is quite a ways out.. @omerfaran \nhttps://github.com/strapi/strapi/wiki/Frequently-Asked-Questions#windows\nAlso you can enable database debugging to see the raw queries (and what is being pulled. If something is acting slow you can also enable graphQL tracing to see what is taking the most time. \nhttps://strapi.io/documentation/3.x.x/guides/graphql.html#configurations\n\nYou can also enable the Apollo server tracing feature, which is supported by the playground to track the response time of each part of your query. To enable this feature just change/add the \"tracing\": true option in the GraphQL settings file. You can read more about the tracing feature from Apollo here.\n\nI'm closing this issue as it isn't a bug report but please do feel free to reply, also closing as issue is on an unsupported OS.. https://strapi.io/documentation/3.x.x/guides/upload.html#usage\nhttps://github.com/strapi/strapi-sdk-javascript/blob/bd442dad2df8c8442f544e079c96bccb9059307b/src/lib/sdk.ts#L336-L369\nPlease don't use the issues for basic questions, to try and help keep the issues clean. You can join the slack to ask questions. Thank you!\nhttp://slack.strapi.io/. @q-jason As this is not a bug report nor a feature request I am marking this issue as closed. For questions please use the Slack: https://slack.strapi.io\nYou may still reply on this issue, but it is marked as closed.. holy PR. :stuck_out_tongue: . https://github.com/strapi/strapi/wiki/Frequently-Asked-Questions#windows\nDue to the fact you are on Windows 7 and thus don't have access to WSL in this case you will have to use an Ubuntu (Or other supported) Linux virtual machine.\nAs a side note, yes spaces can cause issues, but officially Windows environments are not supported yet, due to this I am marking this as closed however you may continue to update if you are able to troubleshoot this issue. The Strapi team are working on Windows support, however it is not currently up to the level in which issues are actively being looked at. There is currently quite a bit of code that needs to be converted over to OS independent functions.\nThanks. @soupette Can I get your thoughts on adding these to the AdminUI?\nI was thinking something along the lines of how the Integer/Decimal/Float type is setup with a selection of different types. Also I will likely need help working on the adminUI part of this, I can make an attempt (and plan to) but there is a good chance my skills aren't quite high enough in react to finish that part of it.. @lauriejim I spoke with him on the slack a few days ago. Backend support should be possible but frontend support will likely come in the beta since he is replacing the date picker.\nI made him aware of this PR. In the mean time we can test the backend to make sure it works okay . @lauriejim the backend parts need to be tested, for now we can forgo the frontend until the beta stuff is ready\n. Nice one!. For reference: https://github.com/strapi/strapi/issues/1748. @rejifald change your * [*] to * [x] :stuck_out_tongue_winking_eye: . https://github.com/strapi/strapi/wiki/Frequently-Asked-Questions#windows\nPlease use either WSL or a Linux VM for the moment, windows is not currently supported (thought it is being worked on)\nI am marking this as closed due to the unsupported OS, please do feel free to continue the discussion.. Reopening @lauriejim as the user states it isn't the same issue. I too have noticed this, you have to select another option other than the first, then reselect the first.\n@soupette this one I believe is frontend based dealing with enumeration. @soupette If default is empty default: \"\" then nothing should be auto select & nothing should be sent in the POST/PUT request IMO. There may be a case where a user has an enum that uses the default as an option (while rare) it is possible and would likely cause issues down the line. @soupette Seems to be mixed views on that. I've seen it where some say they need to have a value, others say that null is fine :man_shrugging: . @shershen08 you will need to regenerate your models, models built with the bookshelf connector will not work with mongoose until the templates are merged (which has been discussed just for this reason)\nAn easy way to do this is to follow my \"upgrade\" guide: https://github.com/strapi/strapi/issues/1880\nAlso when installing the mongoose plugin npm install strapi-hook-strapi-mongoose@alpha This won't be needed in the future once Strapi moves out of beta, hence why that message is shown.. You can view the template files used between bookshelf and mongoose to note the differences if you wanted to update the manually:\nhttps://github.com/strapi/strapi/tree/master/packages/strapi-generate-api/templates/bookshelf\nhttps://github.com/strapi/strapi/tree/master/packages/strapi-generate-api/templates/mongoose. @Geoide delete your package-lock.json file and make sure it is in your .gitignore. @Vadorequest both objects and arrays should work as they are both valid JSON options. Related: https://github.com/strapi/strapi/pull/2781\nAll of the \"metadata\" options on fields in a model are not currently being used on bookshelf.\nThis includes:\n\nRequired\nUnique\nDefault. @mpuz Please update your original post to follow the bug report template: https://raw.githubusercontent.com/strapi/strapi/master/.github/ISSUE_TEMPLATE/BUG_REPORT.md\n\nMarking as closed until the template is used.. @EpicUsaMan you will need to open up your SQLite DB in an editor and delete the table, there is likely a conflict preventing SQLite from updating it.\nSQLite support is new, and is expected to have bugs like this.. @EpicUsaMan the problem here is, there really isn't a \"simple\" solution to modifying an existing table in SQLite. Since SQLite doesn't have a real alter table function. What Strapi is basically doing right now is copying your existing tables data to a temp one and renaming it.. @kenzicode @eminx you both likely started a project using quickstart which uses SQLite. In that case your models were also built using the bookshelf hook.\nYou will need to make sure you have the mongoose hook installed, configured the mongoDB in your database.json and regenerate all your models as the configs, controllers, and services are based on the hook template you choose. You can use my method: https://github.com/strapi/strapi/issues/1880\nWith regards to moving between different database types (Mongo/SQL) there is a feature request that is required to be able to do that: https://github.com/strapi/strapi/issues/2912. @kenberkeley I don't believe you can using the filters yet. The entire content-manager plugin is in the process of being rebuilt.. @chochihim the short answer is no due to most of these being javascript reserved, the reserve list was added to help prevent any errors that come up when building models. It would probably be best to structure a different name for the column.. @chochihim I'm not a member of the Strapi team. You are welcome to try and debug it and find a solution to submit a PR.. D:\\Projects\\expo\\strapi\nWindows is not currently supported: https://github.com/strapi/strapi/wiki/Frequently-Asked-Questions#windows\nPlease test using WSL or a Linux VM, note when using WSL do not use a mapped windows drive, use one of the WSL drives (such as /home/wslUser). Marking as closed for now as unsupported OS, please do feel free to test on a supported platform, if the error still exists we can reopen.. @DanLahav-TG @Ilane91 try cleaning your npm cache. @DanLahav-TG I believe the problem is with your npm install, you should never need to use sudo to run npm commands. I would suggest that you move your npm global packages to your user, reinstall strapi \"globally\" then try again.\nA simple guide to moving your npm global packages to your user is here: https://docs.npmjs.com/resolving-eacces-permissions-errors-when-installing-packages-globally\nI am unable to duplicate this issue using the above changes or as the root user on a fresh install.. @Kriskasz likely because you setup your project as quick start. all of your models are setup to use bookshelf templates, you will need to regenerate them and copy over your model.settings.json files. you can use my \"Upgrade\" guide to fix your project.  https://github.com/strapi/strapi/issues/1880. Related fields current are not able to be added to the list view. I believe @soupette does plan to add this in the future but he is quite busy working on other stuff at the moment.. @laportem It would require some heavy modification to the adminUI. @bigelowgraphics please update your original post with the bug report template filled out properly, you see an example of the template here: https://raw.githubusercontent.com/strapi/strapi/master/.github/ISSUE_TEMPLATE/BUG_REPORT.md\nPlease note on that template: <!-- \u26a0\ufe0f If you do not respect this template your issue will be closed. -->\nFor now I am marking this as closed, please reply once you have updated your report with the template and this can be reopened. :+1: . @henrych4 Can you also please make the change and test it with bookshelf databases as well.\nThe goal is to try and keep both sets of hooks at the same functional level.. @EpicUsaMan case model names aren't supported https://github.com/strapi/strapi/wiki/Frequently-Asked-Questions#model--field-naming-schemes. @EpicUsaMan they do plan to support it in the future, but I have a feeling that this patch may break some peoples projects who have used work arounds.. @EpicUsaMan https://strapi.io/documentation/3.x.x/cli/CLI.html#strapi-generate-api\nstrapi generate:api -t bookshelf. It has been brought up before. for now going to mark this as closed.. The documentation plugin requires at least strapi version 17 or higher. Plugins are not back ported to older versions as older versions are not supported.\nI marking this as resolved since the issue won't happen on latest release. @dewid1985 Please finish updating the template to include the require options that I highlighted (just edit the original post above)\nCan you please confirm that you do not have the Strapi global package installed (you can run which strapi in a terminal to see the location). @EpicUsaMan You should probably split up your routes instead of trying to combine them into a single route. This would be a very niche case where you would use the same controller/service for both GET and POST.\nFor now I'm making this as resolved as this isn't really a bug, but more a feature request. @lauriejim can take a look when he gets in the office to see if it should be re-opened. @EpicUsaMan you are right my mistake :wink: even I didn't RTFM this time lol. @neneji yes you can override any of the auto generated files. I am going to mark this as closed as it isn't a feature request or a bug report. You are welcome to join the slack to talk and ask questions.\nhttps://slack.strapi.io. @tiberiuana Do you already have data in that table?. @aleks63 Please try and keep the github issues only for bug reports and feature requests. There is a Strapi slack for questions: https://slack.strapi.io\nMarking this as closed for now to try and help keep the issues clean.. @ChristianLJ Please follow the issue template, for now I will mark this as closed, please update your original post using the template and reply here and the issue can be reopened.\nthe WYSIWYG editor saves as markdown, you would need to convert from markdown to html as it typically is not recommended that you store html within a database.. (You could, however the built in editor won't save as html and thus you would need your own editor to do so). @Nivek92 Strapi doesn't rename columns, you will need to manually rename it in your database.\nShutdown strapi, use the postgres CLI (or a client) to rename the column in the table.. @Nivek92 https://github.com/strapi/strapi/issues/1114\nAlso yes the content manager does have a few issues that the Strapi team are aware of, you can just drop that entry in the database and restart strapi.. For now marking this issue as closed as it is a duplicate of #1114 and the content manager bugs are well documented and are being worked on.. Linky: https://github.com/strapi/strapi/issues/2947\n. @ChristianLJ sure by all means go for it :) . @madonzy please use the bug report or feature request template. For now I will mark this as closed, you are also welcome to ask questions on the slack here: https://slack.strapi.io\nWith regards to overrides within the user plugin, there is no other way then to modify the files within the plugins/users-permissions directory. Minor config changes are fairly easy to track while doing updates (for now all updates are manual) of course if you are overriding large parts of the plugin that will be more difficult and will need a solid testing/staging environment before you push it out into production.. @madonzy depends if you are talking about a plugin like say send a mail to the admins when a user signs up yes. At this path plugins/users-permissions/models/User.js there are lifecycle call backs you can use to send an email or whatever. but you are still modifying the core files, this is intended.. C:\\\\some_folder\\\\alpha241_2\\\\api\\\\post\\\\controllers\\\\Post.js:21:35\nhttps://github.com/strapi/strapi/wiki/Frequently-Asked-Questions#windows\nWindows isn't fully supported yet, work is being made on it but for now you should test using WSL (not with a windows mapped drive) or a linux Virtual Machine. @thomaskvael how did you update your project?. @Ashutosh421 https://github.com/strapi/strapi/wiki/Frequently-Asked-Questions#windows\nconfirmed. Minor bug noticed on Mongo (will check on the other 4 DB types to confirm), user count queries within the adminUI are not split based on roles:\nIn my example:\n1x admin\n4x authenticated\n2x authors\nIssue checked & confirmed on:\n\n[x] Mongo\n[x] Postgres\n[ ] MySQL\n[ ] SQLite\n\n\n. Creating users, I am unable to assign any other roles than Administrator\n\n. Documentation plugin appears to be broken with mongo: \n\n2019-03-13T03:18:30.258Z] warn Your filter: {\n  \"where\": {\n    \"role\": \"5c886ce783e4c84af30f3682\"\n  },\n  \"sort\": \"\",\n  \"start\": 0,\n  \"limit\": 100\n} contains a field \"where\" that doesn't appear neither on your model definition nor in the basic filter operators,\n            This field will be ignored for now.\n[2019-03-13T03:18:30.259Z] warn Your filter: {\n  \"where\": {\n    \"role\": \"5c886ce783e4c84af30f3683\"\n  },\n  \"sort\": \"\",\n  \"start\": 0,\n  \"limit\": 100\n} contains a field \"where\" that doesn't appear neither on your model definition nor in the basic filter operators,\n            This field will be ignored for now.\n[2019-03-13T03:18:30.260Z] warn Your filter: {\n  \"where\": {\n    \"role\": \"5c886ce783e4c84af30f3684\"\n  },\n  \"sort\": \"\",\n  \"start\": 0,\n  \"limit\": 100\n} contains a field \"where\" that doesn't appear neither on your model definition nor in the basic filter operators,\n            This field will be ignored for now.\n[2019-03-13T03:18:30.262Z] warn Your filter: {\n  \"where\": {\n    \"role\": \"5c8872e46999654ef0d0441d\"\n  },\n  \"sort\": \"\",\n  \"start\": 0,\n  \"limit\": 100\n} contains a field \"where\" that doesn't appear neither on your model definition nor in the basic filter operators,\n            This field will be ignored for now.. No other bugs noticed on Mongo, I will continue testing on the other databases, example of filtering on GraphQL using Mongo:\n\n. Update on https://github.com/strapi/strapi/pull/2961#issuecomment-472261851\nThis appears to only affect mongo so far, testing with MySQL there is no issue.. New error on mysql, it appears the old bug related to date formats coming from the adminUI:\nwhere `id` = 2 - ER_TRUNCATED_WRONG_VALUE: Incorrect datetime value: '2019-03-15T00:00:00.000Z' for column `strapi`.`article`.`publishon` at row 1\nMySQL (and many other SQL based DBs) only support a very standard format: YYYY-MM-DD HH:MM:SS. Can confirm this on Strapi v25, with MySQL:\n\n\n. This appears to work with an admin User, but not with a normal user. I don't recommend using subfolder proxying. Your Strapi should be on it's own sub-domain like API.example.com\nYour front end also should not live in the public folder of Strapi and should have it's own virtual host config.. Please keep the GitHub issues clean except for bug reports and feature requests (and pg13)\nClosing. I agree referencing it as aws-s3 is probably the better way to go.. Shouldn't add sudo into comments. Shouldn't add sudo into comments. I think we should look at making this configurable in the adminUI and the config files if possible. \nUsing this I believe the accuracy is 10 total digits with 2 being after the decimal point so something like:\n99999999.99. Bad @Aurelsicoko bad :stuck_out_tongue: \n. Well, \"first off\" works or \"first of all\".\nFirst off all doesn't @soupette :). @lauriejim @Aurelsicoko thoughts? I don't know how this bit functions to debug it.\n. +1 to that @Aurelsicoko though I would use This doesn't match the JSON format. I recommend changing this to longtext for mysql per this doc by mariadb:\nhttps://mariadb.com/kb/en/library/json-data-type/\nIn this case the json datatype is just an alias for longtext but the data storage is far greater.\ntext is limited to about ~ 16 Mb\nlongtext is limited to about ~ 4 Gb. Here is the relevant doc for mysql as well, due to the differences in MariaDB longtext is likely the best option for use with both.\nhttps://dev.mysql.com/doc/refman/5.7/en/json.html. No problem @lauriejim I was going to clone this locally and test the fix myself also. Along with my change.. So far yours works fine, with the exception of the rendering in the adminUI (see example 1 below)\nI believe this should be fixed with @soupette's new json editor. As it is now properly storing the data in MySQL (See example 2)\nExample 1: \n\nExample 2: \n\nAfter applying my change (changing the mysql type from text to longtext), it works as well with the exception of allowing for much larger blocks of json data.\n@lauriejim if your testing also goes through can this be moved to Strapi 12.6 to go with the json input improvements?\n. @lauriejim Awesome thanks, this helps move up some of my development time table :). Not directly related to this PR but the other options should also be added as an example such as debug and (although a rare usecase) acquireConnectionTimeout. shrug I'm only fixing this for @soupette.. @maturano In my case during testing (among others on the slack) running this command within the /admin directory failed.\nThus why this PR was suggested.. Yeah I believe that should just state node 10 considering its going into LTS in October, and v9 was just a beta patch branch for v8\nAnd yeah for the DB since the experience is more or less the same between databases it should go along with that. Thanks @synth3tk I'll jump on this :+1: . A typical Discord \"username\" looks something like DMehaffy#1337 hence the addition of the #. @Aurelsicoko yes please. loeft = left :stuck_out_tongue: . Note: You can access any controllers, services, or models by using the global variable `strapi` in a policy.. @lauriejim I defined the this.config.proxy a few lines down: this.config.proxy = this.config.currentEnvironment.server.proxy;\n. Modified to match your example. Baddddd, really shouldn't be hard coding this even in development :stuck_out_tongue: . Wondering if you are also planning to add uuid support with default generated values to MySQL as well?. Should use varchar, enum data type on MySQL is terrible. password isn't be hidden by default. rm -Rf /? :laughing: . They should be defined yes @henrych4 \n. Not sure, but I think this should also be done with Integer and Float values. Just taking a look at an example of project of an integer value that is set to zero:\n\n\n. DB also shows the value of 0 instead of null:\n\n. Nope this was on a 14.2 project, didn't test directly just assumed based on where that code is :p. Ah I see how this works now @lauriejim should be good I was thinking bookshelf files... Need more coffee. Missing datetime:\ncase 'datetime':. Not sure why there is spaces after double?. Will need to exclude Strapi versions or start pushing versions as non-alpha. Verify there are no critical breaking changes before merging. Verify there are no critical breaking changes before merging. Same, exclude strapi modules. Verify there are no critical breaking changes before merging. This route should have an override on security as it doesn't require authentication to use.\nExample to remove authentication within swagger:\n\"paths\": {\n    \"/auth/local/register\": {\n      \"post\": {\n        \"tags\": [\"Authentication\"],\n        \"security\": [],\n        \"externalDocs\": {\n          \"description\": \"Find out more in the strapi's documentation\",. \n. Also shouldn't require authentication, see other example. Fixed with merged PR https://github.com/strapi/strapi/pull/2462. Fixed with merged PR https://github.com/strapi/strapi/pull/2462. Some entries from the knex change logs:\nv0.14.0:\nUpdated allowed operator list with some missing operators and make all to lower case\nv0.15.0:\njson data type is no longer converted to text within a schema builder migration for MySQL databases (note that JSON data type is only supported for MySQL 5.7.8+)\nDrop mariadb support\nWe need to test extensively in a test branch before updating knex this many versions at a time.. See my comment here: https://github.com/strapi/strapi/pull/2433#discussion_r240952441\n. Didn't see any issues with bookshelf update: https://github.com/bookshelf/bookshelf/blob/master/CHANGELOG.md\nNot sure on inquirer or what it is used for.. Knex change log: https://github.com/tgriesser/knex/blob/master/CHANGELOG.md. @Aurelsicoko I think doing something like what @soupette did with the docs plugin and centralize everything but allow for model level overrides. @kamalbennani @lauriejim realistically I think it should give a 4xx error. The error is with the user and their query. Ignoring it could make it look like there is nothing wrong. It should still toss an error, but in this case it isn't the server's fault :stuck_out_tongue_winking_eye: . This will be a breaking change, if you were migrate with the older default values 0 or 1 I'm pretty sure that Strapi will throw an error. The timestamp names I think should have it's own option, if no value is provided then use the defaults.. In terms of bookshelf at least with MySQL, the format has to be in YYYY-MM-DD HH:MM:SS or the knex create/update query will fail.. Agreed, conversion of date formats should be handled globally by the backend. I think this should be enabled by default. I think this should be enabled by default. @jesusprubio If you think removing a header will stop someone from attempting zero day attacks across the entire 0.0.0.0, trust me as a network engineer it wont.\nIt's security through obscurity, sure it might stop the typical script-kiddie poking around, but it won't stop the bulk of the attacks.. I deal with said script kiddies on a daily basis, I also get hammered by a few thousand wordpress zero days on an hourly basis. A simple header hide won't stop those :stuck_out_tongue: \nBut thank you.. \"We can't migrate your data due to the following error\". \"We created a new table tmp_${table} with your latest changes.\". \"... DROP and RENAME the tables.\". Assuming you mean flag or something of the sort here. You may want to make sure you are using english variable names here.. English variable names :wink: . :shipit: . That would likely depend on linux/windows. probably best to handle both cases for the future. ",
    "kitsunekyo": "the fact that strapi is using react for its admin panel is a huge bummer. not only is vuejs currently getting more traction than react, but its also easier to get into, faster to build interfaces with and promotes cleaner javascript in my opinion at least. (i've found react to be unnecessarily complicated for the simplest things like class binding, or conditionals, for no apparent reason)\nwould there be interest in offering a choice for the admin panel? maybe we (the community) could build a vuejs implementation of the admin interface and have it as a selection in the installer.. @derrickmehaffy nobody is questioning react as the choice of the core devs. react is insanely powerful but I feel like the binding to react while marketing strapi as \"frontend agnostic\" could hurt the volume of people actively participating in the strapi development / community in the long run.\nmy sole question was whether an OPTIONAL vuejs implementation of the admin backend would be something that could be considered to move into the core, once fully stable. not to replace react in any form.\nstrapi is marketed as \"Front-end agnostic\", (thats even a selling point on the landingpage) but whats the point of making the data consumption layer frontend agnostic but not the admin panel. thats where the biggest complexity lies for most of the people that will be implementing strapi on their production tools.\nI would love to use strapi in our (Fortune 500) company and pay for a license, but will certainly not if all of my devs that will be working with it are mostly experienced in VueJS and have had no points of contact with ReactJs. Then I anway have to build the dashboard myself, and a lot of other teams will probably do the same.. i'd like to bump this feature request. export and import with csv would be great. sure :) was just wondering how you'd propose us to maybe help building such features. as this is open source after all. feel free to close the issue though if the intent is to build this inhouse for you.. thanks @soupette \nthats my bad. i overlooked the https://github.com/strapi/strapi/blob/master/.github/CONTRIBUTING.md link as it was not my intent to Contribute, but just to adapt the admin section for my usecase.. if i have something that might be of use for others, of course ;) thanks again. ",
    "Gegham": "Now it works thanks a lot ! @pierreburgy \n. v6.2.1\n. Ok, thank again! @pierreburgy \n. ",
    "dvalvarenga": "I've the same issue...May I need wait 3 hours to try ? I activated my first strapi account 15 minutes ago.... ",
    "ugommirikwe": "Hi. So I have other NodeJS frameworks and apps running on my machine that require Node v6.2.1; I reckon this would mean abandoning Strapi then. Or do you provide early access to download Strapi 2.0?\n. Hi. So I have other NodeJS frameworks and apps running on my machine that require Node v6.2.1; I reckon this would mean abandoning Strapi then. Quite a pity -- I was trying out the framework now to see if I should build on it now not next week or next month.\nOr do you provide early access to download Strapi 2.0?\nThanks.\n. Thanks @pierreburgy I'll try that out now and see what happens.\n. @dj-hedgehog I haven't used nvm before; I'll check it out now.\n. ",
    "portokallidis": "Hi Perre, \nYes i saw that but the problem is that internally the service is deployed as localhost:8080 and externally it comes out like this strapi-portokallidis.c9users.io.\nSo a proxy server setup would be definately useful.\nI think you have an option for enabling a proxy server but i didnt manage to configure it properly.\nBut this is another issue.\nI opened this issue because i wanted to know if i could copy my strapi-app to another dev machine? and how can i do it?\n. Sorry I was referring in development mode.\nYou can include a tool like nodemon in the package.json and modify the npm start command\nAnd now when i update something in studio it auto restarts the server, supposing you start the app with \"npm start\" and not with \"strapi start\" \nSteps\nInstall nodemon dependency \nnpm install --save-dev nodemon\nChange package.json start command to \nnode_modules/.bin/nodemon --watch config --watch api server.js --harmony\n. ",
    "franzos": "I have the same issue. I cant get strapi to run in production mode.\nNODE_ENV=production && strapi start - development\nnpm start - development\nchanges in package.json - still development\nnpm@5.5.1, strapi@3.0.0-alpha.7.3, node@v9.3.0\nINFO (10036 on ip-172-31-16-35): Server started in /home/ubuntu/strapi\nINFO (10036 on ip-172-31-16-35): Your server is running at http://localhost:1337\nDEBUG (10036 on ip-172-31-16-35): Time: Mon Jan 08 2018 21:10:29 GMT+0000 (UTC)\nDEBUG (10036 on ip-172-31-16-35): Launched in: 906 ms\nDEBUG (10036 on ip-172-31-16-35): Environment: development\nDEBUG (10036 on ip-172-31-16-35): Process PID: 10036\nDEBUG (10036 on ip-172-31-16-35): Version: 3.0.0-alpha.7.3 (node v9.3.0)\nINFO (10036 on ip-172-31-16-35): To shut down your server, press <CTRL> + C at any time\n  . @lkostrowski I've encountered the same issues as you, but noticed something odd manually copying the files: Previously Strapi created db collection names using plural (articles, users), however after copying over the config (api) to production, Strapi tries to access collections using the singular (article, user), hence it can't find the data. I had to manually rename the collection. Did you encounter a similar issue?. @Aurelsicoko good to know, thanks. I simply renamed the collection.. This relates to #423. Even with the correct settings and rebuild, the admin panel remains inaccessible. \n  . @edimitchel thanks for this, finally gained access. I actually have to edit this file - after - the server has been started, because it's generated on every npm start. Aside from this bug, the documentation presents conflicting information:\nOption 1) official documentation\nOption 2) recent commit. @edimitchel have you had any success with this config? I tried to add the 'admin' section to the existing config, however it didn't have any effect, even after a full rebuild. For now, the workaround you mentioned earlier works fine - just that you need to edit admin/admin/build/index.html every time strapi restarts.. ",
    "AnorakTech": "Same behavior here. strapi won't start in production environment.\n\n{\n  \"name\": \"workflow\",\n  \"private\": true,\n  \"version\": \"0.1.0\",\n  \"description\": \"A Strapi application.\",\n  \"main\": \"./server.js\",\n  \"scripts\": {\n    \"setup\": \"npm install --ignore-scripts && cd admin && npm run setup\",\n    \"start\": \"NODE_ENV=production node server.js\",\n    \"strapi\": \"node_modules/strapi/bin/strapi.js\",\n    \"lint\": \"node_modules/.bin/eslint api//*.js config//.js plugins//.js\",\n    \"postinstall\": \"node node_modules/strapi/lib/utils/post-install.js\"\n  },\n  \"devDependencies\": {\n    \"babel-eslint\": \"^7.1.1\",\n    \"eslint\": \"^3.12.2\",\n    \"eslint-config-airbnb\": \"^13.0.0\",\n    \"eslint-plugin-import\": \"^2.2.0\",\n    \"eslint-plugin-react\": \"^6.8.0\"\n  },\n  \"dependencies\": {\n    \"lodash\": \"4.x.x\",\n    \"mongoose\": \"^4.13.9\",\n    \"strapi\": \"3.0.0-alpha.7.3\",\n    \"strapi-mongoose\": \"3.0.0-alpha.7.3\"\n  },\n  \"author\": {\n    \"name\": \"A Strapi developer\",\n    \"email\": \"\",\n    \"url\": \"\"\n  },\n  \"maintainers\": [\n    {\n      \"name\": \"A Strapi developer\",\n      \"email\": \"\",\n      \"url\": \"\"\n    }\n  ],\n  \"strapi\": {\n    \"uuid\": \"3e10a881-ebf5-4530-a13d-c46c8a3f29f5\"\n  },\n  \"engines\": {\n    \"node\": \">= 7.0.0\",\n    \"npm\": \">= 3.0.0\"\n  },\n  \"license\": \"MIT\"\n}\nINFO (9960 on 10.10.11.2): Server started in C:\\Users\\10.10.11.2\\Desktop\\strapi\\workflow\nINFO (9960 on 10.10.11.2): Your server is running at http://localhost:1336\nDEBUG (9960 on 10.10.11.2): Time: Tue Jan 16 2018 10:37:11 GMT+0100 (Vest-Europa (normaltid))\nDEBUG (9960 on 10.10.11.2): Launched in: 1260 ms\nDEBUG (9960 on 10.10.11.2): Environment: development\nDEBUG (9960 on 10.10.11.2): Process PID: 9960\nDEBUG (9960 on 10.10.11.2): Version: 3.0.0-alpha.7.3 (node v9.4.0)\nINFO (9960 on 10.10.11.2): To shut down your server, press  + C at any time\n. \n",
    "nikhilshekhawat": "sure @pierreburgy Another thing that does not work is the MIN check. Because of the same reason I suppose. If I set the min as 0, I can set -100 as a value. In most other cases it works fine\n. ",
    "laclance": "Having the same issue, any news on when this will be fixed?. @gabrielperales please would you share your code if you dont mind. Im still new to ES6.\n. I do. 6.5.0\nOn 12 Nov 2016 3:24 PM, \"Aur\u00e9lien GEORGET\" notifications@github.com wrote:\n\n@laclance https://github.com/laclance What's your Node version? Do you\nhave the exact same issue?\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\nhttps://github.com/strapi/strapi/issues/146#issuecomment-260122000, or mute\nthe thread\nhttps://github.com/notifications/unsubscribe-auth/AKVVVReKdUsCahoUyS99E95tQEJx3b7uks5q9b4RgaJpZM4KEddA\n.\n. \n",
    "nicolasform": "Same here. I want to fix it myself but I'm a bit lost in the admin console sources. Any tip about where to look?. Ok I got it. It is about a test to ensure a field value is set, but the test considers 0 as an empty/null value.\nQuick fix: in \"api/admin/public/dist/frontend.min.js\" you can go around the character 26328 (first line) and change\ne[r]=t||\"\"\nfor\ne[r]=(t===null?\"\":t)\nLike that, your admin panel will accept 0 values. As a side effect, this change will also not abort your update if a field is incorrect ; the incorrect field value will simply be ignored and the old value kept. Maybe there is other side effects but I didn't see them until now. I'm sure there is a more intelligent way to fix that but I don't feel comfortable enough with the code to find it.\nGood to know for the strapi team: the bug can also be be found at line 2346 in api/admin/public/dist/frontend.js\nHope it helps!. @Aurelsicoko You're welcome. I don't see any \"frontend.js\" or \"frontend.min.js\" in the strapi-generate-admin repository. I guess they are generated, but where ?. ",
    "samuel-ye": "the real culprit is located at admin frontend's public/src/strapi/explorer/explorer-edit.controller.js line 175 if need rebuilding admin panel, it should be:\nformattedModel[key] = (value===null?'':value);\n. ",
    "ghost": "So we have an API and a \"default API\"? Why?\n. Yeah, good, but why\n\nYou can't update this default API through the Studio. That's why, you can't see it.\n. I'm sorry that take up your time, but I thought it was strange. We have a special tool for editing API, which ... we can not edit API?\nWhat is the fear to break the system? I can not fix it?\nYou can add a note that \"this API is needed for the administrative part, be careful\", but it seems strange to such a limitation of action.\n. @Aurelsicoko, you should fix your documentation immediately. I have currently selected LoopBack, but the project has some problems (like excessive amounts of open issues, and that simplicity for newcomers is of no priority, see strongloop/loopback-cli#15) - things that are an indication for deeper problems.\n\nstrapi/koa is an alternative to loopback/express. You should make things simpler for beginners, this would give you already a competitive benefit. Additionally, I sense that koa.js has some benefits compared to express.js. Again, you should point thos out, in simple examples, easy to grasp even for beginners.\nI'll write a Getting Started Evaluation for strapi (similar for the one written for LoopBack, see lazaridis-com/js-eval#1), this would be the basic sample for your documentation.\n(In general, you should remove details, and place them later, in an expert section.). @Aurelsicoko , I have my dev-brain off now, can you please check this:\n```\n$ strapi new strapitest\n$ cd strapitest\n$ strapi start\nresults in:\nP:\\sand\\strapitest>strapi start\ninfo: Server started in P:\\sand\\strapitest\ninfo: Your server is running at http://localhost:1337\ninfo: Your admin panel is available at http://localhost:1337/admin/\ndebug: Time: Thu Feb 16 2017 19:54:24 GMT+0200 (GTB Standard Time)\ndebug: Environment: development\ndebug: Process PID: 132000\ndebug: Cluster: master\ninfo: To shut down your server, press  + C at any time\nerror:  TypeError: Promise.defer is not a function\n    at Object.exports.create (P:\\sand\\strapitest\\api\\user\\config\\fixtures\\route.js:18:28)\nerror: Bootstrap encountered an error.\nerror:  TypeError: Promise.defer is not a function\n    at Object.exports.create (P:\\sand\\strapitest\\api\\user\\config\\fixtures\\route.js:18:28)\n(node:132000) UnhandledPromiseRejectionWarning: Unhandled promise rejection (rejection id: 1): Error: Callback was already called.\n```. > Strapi v1.x is compatible only with Node 4.\nmakes a negative impression, and at minimum, you should mention that in the docs.\nWhat can I do now? (note: I am emulating a beginner, so don't tell me complicated things). @pierreburgy , you'll find the mentioned evaluation/documentation here:\nlazaridis-com/js-eval#5\n. @pierreburgy , you want to point users to a bash-script? What about the windows users? What about the simplicity promise you made? - Any other solution?\n(you should possibly first fix the working version/docu, prior to focusing on the new one). > We will\nYou should count the word \"will\" in your sayings/documentation.\n\nAs I already said in my email,\n\ndid not get one.\n\ncould you be more kindly, please?\n\nPlease, get serious.\nNote to readers: aborting evaluation at this point. > Your approach is not the good one. You are giving orders.\n@Aurelsicoko , Hey, I am in no position to give you orders. It is your very personal problem, if you anticipate my writings as \"orders\".\n\nyou could also offer your help or making more constructive answers to help us\n\nI have already started to help, by writing a beginners guide. Yet things crash, and you point me to bash-scripts etc. - so I back off, of course.\nAnyway, I replied to your email (googles spam-filter has gone a bit nuts lately).\nLets just talk there.\n. I'm still experiencing this bug. Shall I open a new one?\n```\n[nix-shell:~/backend]$ npm install strapi@alpha\nnpm WARN deprecated sprintf@0.1.5: The sprintf package is deprecated in favor of sprintf-js.\nnpm WARN saveError ENOENT: no such file or directory, open '/home/user/backend/package.json'\nnpm notice created a lockfile as package-lock.json. You should commit this file.\nnpm WARN enoent ENOENT: no such file or directory, open '/home/user/backend/package.json'\nnpm WARN backend No description\nnpm WARN backend No repository field.\nnpm WARN backend No README data\nnpm WARN backend No license field.\n\nstrapi@3.0.0-alpha.12.0.1\nadded 339 packages in 17.476s\n\n[nix-shell:~/backend]$ ./node_modules/.bin/strapi new backend\n[2018-04-23T22:24:23.785Z] info Creating your application... It might take a few seconds.\n[2018-04-23T22:24:23.934Z] info Lets configurate the connection to your database:\n Choose your main database: MongoDB (highly recommended)\n Database name: strapi\n Host: 127.0.0.1\n Port: 27017\n Username:\n Password:\n Authentication database:\n Enable SSL connection: false\n[2018-04-23T22:24:34.231Z] info Testing database connection...\n[2018-04-23T22:24:35.097Z] info The app has been connected to the database successfully!\n[2018-04-23T22:24:35.208Z] info Copying the dashboard...\n[2018-04-23T22:24:35.226Z] error Error: Failed to load admin... (Error: Cannot find module '/home/user/backend/node_modules/strapi/node_modules/strapi-generate-admin')\n[nix-shell:~/backend]$ node --version; npm --version\nv9.11.1\n5.6.0\n[nix-shell:~/backend]$ yarn global list\nyarn global v1.5.1\ninfo \"vue-cli@2.9.3\" has binaries:\n   - vue\n   - vue-init\n   - vue-list\nDone in 0.88s.\n```\nDoes anyone have an idea what's going on there? Could we re-open this issue, @Aurelsicoko? Or should I open a new one?. The PR #317 is included in strapi@3.0.0-alpha.12.0.1, right?. +1. I'm experiencing the same error when I try to create a new project with Strapi after installing it with NPM locally. See https://github.com/strapi/strapi/issues/315#issuecomment-383743350. But I think I also experienced it the same way you did, @nklayman.. I had same problem. After installing with nvm newest node v10.10.0 version and installing latest (14.1.1) strapi cli newly generated project has working content type builder. Maybe problem was with already downloaded npm package's versions?. ",
    "gonzalomass": "Explanation sounds logic and fair to me.\nI mean, a default user API? Hell yeah! Thanks!\n. Yeah, throw a visible and clear warning. \nI have a few months without messing with strapi but, isn't it true the you can edit the user API? I mean, it is not among the APIs that you create but you still can edit it, right?\n. ",
    "lstrcat": "I change the charset of the database to UTF8,but after restart StrAPI ,the charset changed to Latin1 !!???? \n. MySql,Yes i reset it to UTF-8 .but after restart StrAPI,it change back to Latin1.so the name became ????? again.\n. Gift.settings.json\n{\n  \"identity\": \"gift\",\n  \"connection\": \"ttmysql\",\n  \"defaultTemplate\": \"default\",\n  \"displayedAttribute\": \"\",\n  \"schema\": true,\n  \"attributes\": {\n  \"name\": {\n    \"type\": \"string\"\n  },\n  \"jb\": {\n    \"type\": \"integer\"\n  },\n  \"lang\": {\n    \"type\": \"string\",\n    \"required\": true\n  },\n  \"template\": {\n    \"type\": \"string\",\n    \"required\": true\n  },\n  \"id_ref\": {\n    \"type\": \"int\"\n  },\n  \"createdBy\": {\n    \"model\": \"user\"\n  },\n  \"updatedBy\": {\n    \"model\": \"user\"\n  },\n  \"contributors\": {\n    \"collection\": \"user\",\n    \"via\": \"gifts\"\n  }\n},\n  \"autoCreatedAt\": true,\n  \"autoUpdatedAt\": true\n}\ni Create A Gift with the name \"\u793c\u7269\" that non-english string\n\n. ",
    "gabrielperales": "I had the same issue, and I fixed it changing Promise.defer by a ES6 Promise.  I can share my code or make a pull request if you are happy with that.\n. ",
    "iocron": "Hi @Aurelsicoko Thanks a lot for the quick information, I am able to switch between all nodejs versions freely / independently so it's not a problem for me. I'll be using 4.5.x while I am working with strapi for now.\nCan't wait to see Strapi v3, I've just read the latest blog announcements about it, keep up the good work, maybe I am able to help on some features or plugins as well / in the future (pull-requests) once I find a bit more time.\n. ",
    "ultmatedev": "Yes @Aurelsicoko, it connects, it appears in the studio to manage and admin. I can normally access the studio the application, create apis and everything, only on localhost that do not connect. I have killed the process, disconnect, reconnect, changed the port, but nothing solved. Previously it was working.\n. @Aurelsicoko I did not change any default settings. The only thing I did was after the error change the port. I will try to create a new project and transfer the files.\n. I get the following errors:\nUncaught (in promise) Error: Unauthorized\n    at main.js:56\n    at \nUncaught (in promise) Error: Unauthorized\n    at main.js:51\n    at \n16:22:39.231 \nUncaught (in promise) Error: Unauthorized\n    at main.js:51\n    at \n{\"statusCode\":401,\"error\":\"Unauthorized\",\"message\":\"Unauthorized\"}\n. ",
    "crisz": "What about the Angular SDK?. It didn't work for me too. I changed \"localhost\" to \"127.0.0.1\" and now it works.. ",
    "sinegovsky-ivan": "thank you!\n. ",
    "fishmacs": "I think koa-morgan is great, with it we have more options, just a little like customization of Apache log.\n. Em, seems my fix does not really work\nif I put \"require('babel-register')\" in server.js, model lists are just weired:\n\n. The original api/user/config/fixtures/routes.js with Promise.deferred has no problem, the problem is just about my version with new Promise(...) , I think it is not so easy to fix it.\nAnyway, I downgraded node to 4.6.2, result is same.\n. make babel-register ignore this file, or set\n[\"transform-runtime\", {\n   \"polyfill\": false,\n   \"regenerator\": true\n}],\nin .babelrc\n. Promise.deferred not work with babel's Promise, it is ok using Node's Promise without babel polyfill. \nNo matter Node 5 or 4.\n. Hard to say...my modification should work, but apparently it has problem with babel's polyfill.\n. I just bypassed this problem by let babel not to process this file. But the problem still there on my side\n. Yes, very weired! I tried node 4, just could not get it right. Thank! Is it 1.5.5?. great!. ",
    "pkoretic": "winston is really slow, I have some simple benchmarks here https://github.com/pkoretic/polog/tree/master/benchmarks\nAnd we did cpu profiling on our production app that had much lower throughput than expected and it showed winston is the culprit and there was barely any logging being done\nthis is the difference when using simple console log and winston\n\nI can see that you also use it as an access logger that writes a log line twice for each request and using winston most of the time takes more to log that request than to actually process it\nI made a logging library just because of that reason (polog) and I can only recommend you move away from winston as there is just too much processing for each message being done. I would be happy to help if that would be wanted.. @Aurelsicoko No. The fastest way is to write it to the stdout and pipe that into file. IMHO the rest of the stack should handle logs from node apps (docker, supervisor, syslog etc). I understand that might not be wanted so as long as winston is not used you are good to go :) \nWe first replaced winston with log4js so this is what I would recommend if more features are needed. Is is possible to use it with node 6.x?\nBetter yet, for non production, could we use master?\n. ",
    "SupremeTechnopriest": "This is absolutely ridiculous.  Strapi is dead to me.  Last time I use it on a project.  Shit is so abstracted you have zero control over anything.. You cant set up nginx on heroku.  I dont want proxies in front of my server.. You should have used express instead of KOA.  KOA is trash.. Ill just write my own cms.  All good.  Go ahead and thumbs down some more.  Ill be sure to let everyone i know not to use strapi. . No SSL.... LOL. Appreciate it.  I've installed 1000s of nginx services in the past.  It's not that I'm lazy, its that its impossible on heroku (my clients preferred deployment).  Stapi is also their preferred backend. So I'm stuck between a rock and hard place. The only solution here is to move ssl to the DNS level with cloudflare.  Thank god for cloudflare.. It seems a bit premature to be ripping out SSL from your project IMO.  Node wont have http/2 in LTS for a long time... From other issues im seeing here, it looks like you didn't have much choice in the matter, because KOA is not good and still requires iojs or something.. Thanks for the snippet @Aurelsicoko ill give it a try.. @hrdunn I did have it sort of working at one point.  We ended up just using a proxy (Amazon API Gateway)  Im pretty sure we were using this https://github.com/jclem/koa-ssl. Hope that helps. . @hrdunn Honestly dude.  If its not too late I would ditch strapi.  It has been nothing but headaches for me the entire way through.  We have had a strapi in production for about 2 months now.  I just went to log in to the dashboard and NONE of my users work.  I'm basically locked out and now have to spend an entire day unfucking it.  I stand by my statement that strapi is crap.. @hrdunn It really depends on your use case... If you have Strapi working then thats great.  Its a cool product, when it works.  Unfortunately for me it constantly breaks.  From now on ill be rolling my own api/ cms for any project that needs it.  Theres not that many options in node.js.  Anytime I write a blog I use ghost.  Love ghost.. ",
    "hrdunn": "@SupremeTechnopriest Any luck on that SSL script? Would love to know if you were able to figure this out.. @SupremeTechnopriest  thanks man, I got it working with an nginx reverse proxy. We're already done with the project, we're just using strapi to be a backened for an ember informational website. I haven't had any of those issues, but I have snapshots taken daily just incase. Its still in alpha so I'm not surprised. What do you recommend instead?. ",
    "mamartins": "indeed and with xo installed with strapi rules from package.json:\n  281 warnings\n  35501 errors\nalso xo do not allow to ignore directories properly, seems like a poor solution over eslint. this is what my package.json have:\n\"xo\": {\n    \"space\": true,\n    \"esnext\": true,\n    \"envs\": [\n      \"mocha\",\n      \"node\"\n    ],\n    \"globals\": [\n      \"strapi\",\n      \"_\",\n      \"window\",\n      \"document\"\n    ],\n    \"ignores\": [\n      \"api/admin/public/**\",\n       \"public/**\"\n    ],\n    \"rules\": {\n      \"array-callback-return\": 0,\n      \"brace-style\": 0,\n      \"camelcase\": 0,\n      \"default-case\": 0,\n      \"dot-notation\": 0,\n      \"no-case-declarations\": 0,\n      \"no-else-return\": 0,\n      \"no-eval\": 0,\n      \"no-implicit-coercion\": 0,\n      \"no-lonely-if\": 0,\n      \"no-negated-condition\": 0,\n      \"no-throw-literal\": 0,\n      \"no-unused-expressions\": 0,\n      \"no-unused-vars\": 0,\n      \"padded-blocks\": 0,\n      \"prefer-template\": 0,\n      \"quote-props\": 0,\n      \"space-infix-ops\": 0,\n      \"strict\": 0\n    }\n  },\nIt was ignoring the ignores, but now it isn't. added also node_modules and now 170 errors, 1 warning.\nThis configs are based on strapi ones in this repo\n. Errors of Auth.js file:\n`api/user/controllers/Auth.js:1:1\n  \u2716    1:1   Filename is not in kebab case. Rename it to auth.js.                                        unicorn/filename-case\n  \u2716   25:3   Expected method shorthand.                                                                  object-shorthand\n  \u2716   36:9   Return statement should not contain assignment.                                             no-return-assign\n  \u2716   44:9   Return statement should not contain assignment.                                             no-return-assign\n  \u2716   65:28  User is not defined.                                                                        no-undef\n  \u2716   69:11  Return statement should not contain assignment.                                             no-return-assign\n  \u2716   77:11  Return statement should not contain assignment.                                             no-return-assign\n  \u2716   86:11  Return statement should not contain assignment.                                             no-return-assign\n  \u2716   93:13  Expected property shorthand.                                                                object-shorthand\n  \u2716   98:9   Return statement should not contain assignment.                                             no-return-assign\n  \u2716  110:9   Return statement should not contain assignment.                                             no-return-assign\n  \u2716  121:3   Expected method shorthand.                                                                  object-shorthand\n  \u2716  133:7   Return statement should not contain assignment.                                             no-return-assign\n  \u2716  142:7   Return statement should not contain assignment.                                             no-return-assign\n  \u2716  149:32  User is not defined.                                                                        no-undef\n  \u2716  152:24  User is not defined.                                                                        no-undef\n  \u2716  157:29  Role is not defined.                                                                        no-undef\n  \u2716  171:9   Expected property shorthand.                                                                object-shorthand\n  \u2716  175:7   Return statement should not contain assignment.                                             no-return-assign\n  \u2716  185:3   Expected method shorthand.                                                                  object-shorthand\n  \u2716  185:11  This generator function does not have yield.                                                require-yield\n  \u2716  195:3   Expected method shorthand.                                                                  object-shorthand\n  \u2716  202:20  User is not defined.                                                                        no-undef\n  \u2716  202:34  Expected property shorthand.                                                                object-shorthand\n  \u2716  207:9   Return statement should not contain assignment.                                             no-return-assign\n  \u2716  213:7   Return statement should not contain assignment.                                             no-return-assign\n  \u2716  229:7   Return statement should not contain assignment.                                             no-return-assign\n  \u2716  256:3   Expected method shorthand.                                                                  object-shorthand\n  \u2716  264:22  User is not defined.                                                                        no-undef\n  \u2716  268:11  Return statement should not contain assignment.                                             no-return-assign\n  \u2716  283:9   Return statement should not contain assignment.                                             no-return-assign\n  \u2716  285:11  Expected property shorthand.                                                                object-shorthand\n  \u2716  289:9   Return statement should not contain assignment.                                             no-return-assign\n  \u2716  295:7   Return statement should not contain assignment.                                             no-return-assign\n  \u2716  300:7   Return statement should not contain assignment.                                             no-return-assign. tbh don't think it added much to eslint, so why not use eslint that is called from xo and remove one layer of unnecessary problems, bugs etc?\nAlso these are the rules I added to add to stop errors, although this isn't a good solution because I am turning off lots of rules that should be on:\n\"xo\": {\n    \"space\": true,\n    \"esnext\": true,\n    \"envs\": [\n      \"mocha\",\n      \"node\"\n    ],\n    \"globals\": [\n      \"strapi\",\n      \"_\",\n      \"window\",\n      \"document\",\n      \"User\",\n      \"Role\",\n      \"Email\"\n    ],\n    \"ignores\": [\n      \"api/admin/public/**\",\n      \"public/**\",\n      \"node_modules/**\"\n    ],\n    \"rules\": {\n      \"array-callback-return\": 0,\n      \"brace-style\": 0,\n      \"unicorn/filename-case\": 0,\n      \"camelcase\": 0,\n      \"default-case\": 0,\n      \"dot-notation\": 0,\n      \"no-case-declarations\": 0,\n      \"no-else-return\": 0,\n      \"no-eval\": 0,\n      \"no-implicit-coercion\": 0,\n      \"no-lonely-if\": 0,\n      \"no-negated-condition\": 0,\n      \"no-throw-literal\": 0,\n      \"no-unused-expressions\": 0,\n      \"no-unused-vars\": 0,\n      \"padded-blocks\": 0,\n      \"prefer-template\": 0,\n      \"quote-props\": 0,\n      \"space-infix-ops\": 0,\n      \"strict\": 0,\n      \"object-shorthand\": [\"error\", \"consistent\"],\n      \"no-return-assign\": 0,\n      \"prefer-arrow-callback\": 0,\n      \"unicorn/catch-error-name\": 0,\n      \"no-use-extend-native/no-use-extend-native\": 0,\n      \"unicorn/throw-new-error\": 0,\n      \"prefer-const\": 0,\n      \"no-mixed-operators\": 0,\n      \"no-prototype-builtins\": 0,\n      \"require-yield\": 0,\n      \"no-cond-assign\": 0,\n      \"unicorn/explicit-length-check\": 0,\n      \"func-names\": 0\n    }\n  }. Perfect @Aurelsicoko \ud83d\udc4d . I'm facing the same issue. I can only query Many to Many from the dominant side of relation, If I query the other side I get:\nCannot read property 'isMongoId' of undefined. I'm on latest version and DB too. > Could you give it a try again \ud83d\ude4f\nAs soon as I try to merge this on master I get this: strapi-email-sendmail { Error: ENOENT: no such file or directory, open 'strapi/packages/strapi-email-sendmail/package.json'. > @mamartins You need to remove strapi-email-sendmail folder\nthanks, already running but filtering not working. See attachment\n\n. I believe so,\nThe filter output builds a JSON with \u201crelations\u201d to query related models and I checked the PR changes and I have then on the graphql plugin. . > @mamartins Could you also check that your service is correctly generated (Check against the templates I modified in this PR).\nIt only generates the proper service when I run \"Strapi generate:api\" and not when I use the admin web panel!\nNew error: \"message\": \"$sort stage must have at least one sort key\", I have to add the sort filter to work. > I've tried it on a new fresh project and it works.\n\nPlease make sure that everything is linked especially the GraphQL plugin\n\nI will give it a try\n. got it, you've got a bunch of commits that are not on this PR, only on your forked repo. > > got it, you've got a bunch of commits that are not on this PR, only on your forked repo\n\nI don't get it, are you talking about the commits that are on strapi's master branch?\n\nNop, I am talking about the commits you've done on your repo:\nhttps://github.com/kamalbennani/strapi/commits/feature/allow-filtering-on-a-relation-attribute\nthat are not here:\nhttps://github.com/strapi/strapi/pull/1948/commits. > @mamartins That's normal because I didn't push the latest version of master in the forked repo, but all the commits related to this PR are included in this repo\nno they weren't, some fixes were missing. But it looks it's all good now, great work!. In Mongo what  I found is that the relation that  has the \"dominant\": true, is the one that saves the array and I can order that side of the relation. > It also has something to do with 'dominant': true.\n\nIf you query the other way around it works sometimes.\n\nPrecisely! The dominant side has the problem here. This rework under the strapi-hook-mongoose/lib/utils solves the error, but the relation returns always empty:\n```\n'use strict';\n/*\n * Module dependencies\n /\n// Public node modules.\nconst mongoose = require('mongoose');\nconst Mongoose = mongoose.Mongoose;\n/\n * Convert MongoDB ID to the stringify version as GraphQL throws an error if not.\n \n * Refer to: https://github.com/graphql/graphql-js/commit/3521e1429eec7eabeee4da65c93306b51308727b#diff-87c5e74dd1f7d923143e0eee611f598eR183\n /\nmongoose.Types.ObjectId.prototype.valueOf = function () {\n  return this.toString();\n};\nmodule.exports = (mongoose = new Mongoose()) => {\nconst Decimal = require('mongoose-float').loadType(mongoose, 2);\n  const Float = require('mongoose-float').loadType(mongoose, 20);\nconst r = {\n    convertType: mongooseType => {\n      switch (mongooseType.toLowerCase()) {\n        case 'array':\n          return Array;\n        case 'boolean':\n          return 'Boolean';\n        case 'binary':\n          return 'Buffer';\n        case 'date':\n        case 'datetime':\n        case 'time':\n        case 'timestamp':\n          return Date;\n        case 'decimal':\n          return Decimal;\n        case 'float':\n          return Float;\n        case 'json':\n          return 'Mixed';\n        case 'biginteger':\n        case 'integer':\n          return 'Number';\n        case 'uuid':\n          return 'ObjectId';\n        case 'email':\n        case 'enumeration':\n        case 'password':\n        case 'string':\n        case 'text':\n          return 'String';\n        default:\n      }\n    },\n    valueToId: function (value) {\n      return r.isMongoId(value)\n        ? mongoose.Types.ObjectId(value)\n        : value;\n    },\n    isMongoId: function (value) {\n      // Here we don't use mongoose.Types.ObjectId.isValid method because it's a weird check,\n      // it returns for instance true for any integer value \u00af_(\u30c4)_/\u00af\n      const hexadecimal = /^[0-9A-F]+$/i;\n      return hexadecimal.test(value) && ${value}.length === 24;\n    }\n  };\nreturn r;\n};\n```\n. @lauriejim Don't you need the validation that I've fixed at strapi-hook-mongoose/lib/utils on my previous post? . fixed on alpha 16?. not working also on graphQL and also results never return more than 100 itens, even when limit is set to 150 for eg. Still happening in alhpa.16. on alpha.16 using graphQl I'm facing the current issues:\n- no more than 100 items returned, even when limit is set to +100 \nstart and limit return nonsense results. For eg, for the same +100 items collection start 40 returns 10 items, 50 returns 3 items (collection has 103 items). > @mamartins That's due to the security limit, see this PR (It's in release v16): #2400\nDidn't found that on documentation. I found the limit under plugins/graphql/services/Query.js \nAlso, start and limit are urgent bugs.. ",
    "chrisbull": "Nevermind. It's because Lerna bases the package files on .git and I had not yet initiated git.. ",
    "moayyadfaris": "Is their a way to call the api protected by permission by providing the token returned by the login?. ",
    "lunchboxer": "I can confirm the same problem. I made a new strapi server with two models: category and thing. Things have a many-one relationship with category.\nthis query:\nquery {\n  categorys {\n    name\n    thing {\n      name\n    }\n  }\n}\nreturns this response:\n{\n  \"data\": {\n    \"categorys\": [\n      {\n        \"name\": \"animal\",\n        \"thing\": [\n          {\n            \"name\": \"table\"\n          },\n          {\n            \"name\": \"chair\"\n          },\n          {\n            \"name\": \"cabinet\"\n          },\n          {\n            \"name\": \"cat\"\n          },\n          {\n            \"name\": \"dog\"\n          },\n          {\n            \"name\": \"pig\"\n          }\n        ]\n      },\n      {\n        \"name\": \"furniture\",\n        \"thing\": [\n          {\n            \"name\": \"table\"\n          },\n          {\n            \"name\": \"chair\"\n          },\n          {\n            \"name\": \"cabinet\"\n          },\n          {\n            \"name\": \"cat\"\n          },\n          {\n            \"name\": \"dog\"\n          },\n          {\n            \"name\": \"pig\"\n          }\n        ]\n      }\n    ]\n  }\n}\nYou can see that pigs are listed as both furniture and animals, same with all the things. I did nothing but start a new app and add these two api through studio.strapi.io then make the query.\nVersions:\nNode - 8.6.0\nnpm - 5.4.2\nstrapi - 1.6.4. Does that mean that this issue isn't present on v3. I couldn't test it as I was unable to get v3 up and running and gave up immediately. My very first pull request. Forgive any unconventional practice, also tell me if there is something I should have done or written differently.. ",
    "v3yr0n": "Hey @pierreburgy thanks for answering. \nThe project i'll start is a long-term project, so maybe i should already start with v3. What do you think?. @Aurelsicoko yeah, i agree with you. I can live without studio :) but the dashboard... I really need it... How much time do you think it'll take?. @Aurelsicoko Done :). ",
    "rdev": "What is the approximate timeline for the production ready v3 release? \nCause I'm working on a big project right now using v1.5 but I would definitely like to move the whole project to v3 as soon as that becomes possible.. @Aurelsicoko Thanks for the detailed answer! \nThere will be a way to migrate all the associations to Mongoose, right?\nThose were like the main reason for choosing Strapi as a framework :D . @Aurelsicoko that one I actually can solve for my particular use case.\nI just don't want to mess with all my carefully crafted configs \ud83d\ude04 \nThanks!. ",
    "wahmedswl": "Hi,\n   Its mean that no relational databases support only MongoDB? As, it will limit only to single db rather with waterline, relational databases were also part of the league. Is there any plan to support Waterline also for Relational databases.\nThanks. ",
    "andyjessop": "I have solved this now by manually editing the models json to fix the relations.. That's a tad disappointing - I garnered from other discussions that development was well under way. Can I ask a follow up question: is there a timescale for this plugin, or should I start my new project on an earlier version?. ",
    "simoami": "I'd suggest to be careful with yarn. It still has issues where some nested dependencies end up being ignored. I has 686 open issues at the moment. . ",
    "io777": "Sorry, not working, changes in Strapi Studio are not applied in local server.. Thanks, I'll wait Strapi v3.. ",
    "kervi": "I would like inheritance too.\nAn example could be a page structure.\n```javascript\nBasePage = {\n    \"title\": definition,\n}\nFrontpage = {\n  \"base\": \"BasePage\",\n  \"featureText\": definition\n}\nBlockPage = {\n    \"base\": \"BasePage\",\n    \"text\": definition,\n   \"tags\": definition\n}\nSite = {\n    \"pages\": one to many relation to BasePage\n}\n```\nnote \"definition\" above is of curse the normal strapi definitions for fields. \nI would be able to generate a menu via site.pages and know that all page types have a title.. ",
    "gkweb": "This has solved my initial problem, but I've moved to an express / mongoose stack until Strapi has matured more. Thanks. ",
    "ellipticaldoor": "Thanks! I will try it.. ",
    "GreenGremlin": "I also get \"not found\" when refreshing the page. Is that mentioned in the documentation? I don't recall seeing that.. ",
    "mraak": "It wasn't a feature suggestion but a bug report \ud83d\udc4e . I can see my table being created and in admin I can see the model. However, when I try to save new model through admin, I get \"Internal server error\" red message, and my table is empty.. Node.js version: 7.4\nnpm version: 4.0.5\nStrapi version: 1.6.1\nOperating system: Windows 7. Sorry, I am using Strapi 1.6.2, I copy pasted from the other issue I posted, but other versions are correct. . Ok, now it's slightly different. Running strapi start again after a week, and going to /admin, I can not see any models any more. Table in PG is still there and it is correct one. No errors in the console, but the first warning indicates that my 'organization' model is visible to Strapi, but it's not visible in admin.\n```\nE:\\dev\\projects_testarea\\strap\\produkt>strapi start\nwarn: Setting the migrate strategy of the organization model to alter.\ninfo: Server started in E:\\dev\\projects_testarea\\strap\\produkt\ninfo: Your server is running at http://localhost:1337\ninfo: Your admin panel is available at http://localhost:1337/admin/\ndebug: Time: Tue May 02 2017 12:46:52 GMT+0200 (W. Europe Daylight Time)\ndebug: Environment: development\ndebug: Process PID: 16244\ndebug: Cluster: master\ninfo: To shut down your server, press  + C at any time\ninfo: Connection with the Studio server found, please wait a few seconds...\ninfo: Connected with the Studio server.\ndebug: GET /admin/ (4ms)\ndebug: GET /admin/vendors.min.css (4ms)\ndebug: GET /admin/frontend.min.css (4ms)\ndebug: GET /admin/vendors.min.js (4ms)\ndebug: GET /admin/frontend.min.js (5ms)\ndebug: GET /admin/config (7ms)\ndebug: GET /admin/config (3ms)\ndebug: GET /admin/assets/images/logo.png (1ms)\ndebug: GET /admin/assets/images/user-picture.png (1ms)\ndebug: GET /admin/fonts/fontawesome-webfont.woff2?v=4.3.0 (1ms)\n```. Yes, I think so. Did you try with PG and it works for you?. One of the great things about Django is that you can do exactly that. You use built in sqlite for prototyping, and then you can switch to any DB back and forth, their ORM is powerful enough to handle that. Besides, it feels that Waterline is a dead project so maybe it'd be better for Strapi to move to something else like Sequilize?\n. Ah, I completely forgot you have Mongo to support and that is a pain, yes. We had to ditch Meteor because it didn't work with SQL DB's and now I see Strapi is also suffering because of it. Strapi was one of very rare Node frameworks to treat SQL as first class citizen but even here we seem to hit the wall.\nAn idea would be to let the user select the type of DB in advance and then if it's SQL-ish you use sqlite as prototyping DB and if it's NoSQL-ish you use disk. You would then be able to switch between the DB's of the same type, but not across types. \n. ",
    "Clowning": "No news?. ",
    "robertcsapo": "Same issue here. ",
    "elliottcrush": "This has been fixed in 1.6.3 @Clowning @robertcsapo . ",
    "JunQiGenYuan": "thanks. Found the way:\nctx.req.on('data', function (chunk) {  ... })\nctx.req.on('end', function (chunk) {  ... }). I think the problem is caused by bookshelf version at 0.12.1:\nhttps://github.com/bookshelf/bookshelf/blob/e64aa358ef96c24f5c60441551a580dedca9fbcc/src/model.js#L997\nafter 0.13, this change into:\nhttps://github.com/bookshelf/bookshelf/blob/880f3bf17f3557fe2c491866aaa2c5694eb65577/src/model.js#L1003\nThe differece is check the keys of created_at and updated_at exist or not and detect override or not.. ",
    "GHNewbiee": "Sorry, I do not remember! What I did was to search all project files for \"default\" and \"permanent\" words. I found 1-2 remaining of each one. I renamed them manually to \"default-disk\" and \"permanent-disk\" and started the server. That was OK, then.\nImho, I believe that either the rename procedure failed to make all appropriate changes or \"-disk\" pattern created an unexpected side effect.. ",
    "kudo108": "hi, I'm looking for this too.\nExample: I have the tracking feature, with like/dislike, I want to count the total value = like + dislike and show it in admin only, (not create in db)\nCan I do that?. I think I found the way, Hope it can help somebody\n- custom in model: afterFetchAll function, calculate the value\n- edit model.settings.json to show the value in admin page \nthe only problem is it can not be sorted or filter. > > I think I found the way, Hope it can help somebody\n\n\n\ncustom in model: afterFetchAll function, calculate the value\nedit model.settings.json to show the value in admin page\n  the only problem is it can not be sorted or filter\n\n\nDo you have an example? I am very eager to see this\n\nExample: I have a Model name Track, which have 2 value, count_wrong & count_right\nthis is model function in file /api/Track/models/Track.js\n```\nafterFetchAll: async (model, results) => {\nresults.forEach(function(data){\n\ncalculate the current_stats\n  data.current_stats = parseInt(data.count_right - data.count_wrong);\n});\n\nthis part support sort\nif (typeof model.options.sort.current_stats != 'undefined')\n{\n  function compare(a,b) {\n    if (a.current_stats < b.current_stats)\n      return -1 * model.options.sort.current_stats;\n    if (a.current_stats > b.current_stats)\n      return 1 * model.options.sort.current_stats;\n    return 0;\n  }\n\n  results.sort(compare);\n}\n\n},\n``\nthis is  in /api/Track/models/Track.settings.json (this will show the variable current_stats to view)\"attributes\": {\n    \"count_right\": {\n      \"type\": \"integer\"\n    },\n    \"count_wrong\": {\n      \"type\": \"integer\"\n    },\n    \"current_stats\": {\n      \"type\": \"integer\"\n    }\n  }`. ",
    "MartinMuzatko": "This would also be helpful for slug #752 \nIf I want to filter for a page with a certain slug, I should be able to use filters.. Bulk update would also be great!\nI have a table of event attendees where event managers can update many users at once.\n\n. Have the same problem.\nI get the following stack trace:\n[2018-08-15T14:48:37.214Z] debug POST /graphql (7 ms)\nError: Field Query.species can only be defined once.\n    at assertValidSchema (~test/plugins/graphql/node_modules/graphql/type/validate.js:82:11)\n    at Object.validate (~test/plugins/graphql/node_modules/graphql/validation/validate.js:58:35)\n    at doRunQuery (~test/plugins/graphql/node_modules/apollo-server-core/dist/runQuery.js:111:42)\n    at ~test/plugins/graphql/node_modules/apollo-server-core/dist/runQuery.js:21:56\n    at process._tickCallback (internal/process/next_tick.js:68:7)\n[2018-08-15T14:48:40.397Z] debug POST /graphql (10 ms). Sure - already did. I just hate to abuse the english language @Aurelsicoko . erm. @lauriejim you pointed to the same issue as a duplicate?. To point out the elephant in the room: Did somebody try the paid i18n plugin?\nDoes it do what it claims? 300 $ for a plugin sounds like a lot, especially if you do hobby-websites.\nThere is an item on the roadmap marked as not done and there is the plugin in the marketplace.\nI personally think it is a must for a good CMF to have open source I18n solution.\nBut maybe the two plugins do separate things.\nTo me it is a bit unclear what the difference is. From the description, it looks like the plugin does most of the translation automatically: \n\nTranslate your data and import them instantly with the API or through the dashboard.\n\nIn that case: I wouldn't need that. I would be fine translating on my own. Also it would fit into Strapis philosophy to only make premium plugins for third party integrations such as stripe, paypal etc.. @Aurelsicoko I'm not saying charging for plugins is wrong. I just wanted to know what the exact difference is, because there is the (not yet) paid version which claims to \"translate everything instantly\" which is a bit unclear. it sounds like it would do like the community plugin for i18n. So you can imagine there is some confusion. Thanks anyway, I'm sure you will find a good way to monetize strapi :) just keep your nice community and your healthy way of getting in touch with your userbase.. I can't even install via CLI:\n\nEdit:\nmy bad! - another terminal had the folder still open, so it was marked as existing.\nUpdate:\nokay, I Just get schema problems now, it should work then.. if you add double quotes to the graphql definition, then there are no problems.\ne.g.:\nenum ENUM_LOCATION_COUNTRY {  \n \"Baden-W\u00fcrttemberg\"\n Bayern \n Berlin \n \"Th\u00fcringen\"\n Bremen \n Hamburg \n Hessen\n Japan \n China } type Location {\n  id: ID!\n  latitude: String\n  longitude: String\n  country: ENUM_LOCATION_COUNTRY!\n}. By the way, while graphql does not allow access to users {} I can get all of the users information via related objects. @sdubrez thanks for the quick reply! Yes this is the problem! I guess I can close this issue.\nI expected it to find it as part of the models, but since it comes from a plugin, this makes perfect sense.. Funny.\nNow I removed the field from the model, and added it back via the content type builder.\nThe model is now named differently, in lowercase:\njson\n\"pageModuleType\": {\n    \"model\": \"pagemoduletype\"\n}\n. Maybe partially. I see that when I use lowerCamelCase, that there are always all lowercase attributes added, that I did not add.\nModel:\n\nResponse:\n\n. I wouldn't mind if strapi would force me into a specific schema, since the default fields created_at and updated_at already use underscores, maybe fields using lowerCamelCase could be transformed in this. But having this mixed is a mess :/. Awesome! Thanks a lot @pierreburgy  :). Also, avoid users signing up from mail@gmail.com and mail@googlemail.com\nAny way to hook into the plugin and change that behavior?. Additionally, I only yesterday found out how PUT and POST works with relations.\nThis is also not explained.\nExample:\n\nThis needs to be documented!. Regarding vuepress: You wouldn't need to abuse blockquotes anymore for notes/warnings/info blocks.\nVuepress has them build in:\nmd\n::: tip\nwatch out! When installing strapi..\n:::\nIf wanted, I'd come up with a poc.. @lauriejim @Aurelsicoko  what do you think?\n\n. Yep all documentation transfered. And its open for extension for multiple languages :). Of course. I'll see when I will find time! Right now I'm on holidays, as stated in Slack, I'll get back to you. Is there a specific design decision to make /users-permissions/permissions and /users-permissions/roles to be part of the plugin via the Rest API, and /user can be reached without the plugin prefix?\nSince you can have only one model name at a time, I don't really know what the benefits of a plugin prefix in the API path is.\nWithout wanting to cause breaking changes: But why not just use /permissions and /roles (or to be consistent with the other APIs: /permission and /role) along with /user.\nThanks again for your time.. Duplicate of #1645 and #1745 . I wanted to clean it up in favor of the older one. We'll keep this one open then \ud83d\udc4d . I'll check the next days. That is possible, I have to check that again, otherwise, a better error message would be nice.. Nope, I created these via the admin UI. While the admin ui shows these values properly, the GET request does not.\nAlso I thought this is related to #1558, but I think I made sure everything was entered correctly via the admin ui. Still only null on the API response. Seems to be fixed with 14.x\nI'll keep an eye on it. thanks!. Having something like factory functions you pass your object into to extend the existing object. There are many ways to improve this. In general you can avoid a lot of repeating code.\nBut it is not just the code. Having a quick way of testing without npm run setup would make the experience already more bearable.. A few more thoughts:\nGenerated projects rely on the globally installed strapi installation if I'm not mistaken.\nThis is also easily resolvable by pointing the package in the generated projects package.json to the local strapi.\nWhen debugging strapi, I have some dependencies on my project, and some on strapi. I'd love to be able to debug both at the same time.. When I have time, I will look into it :). Can someone confirm that this behavior only appears on mysql/pg installations?. @soupette Oh, I thought my browser was just playing a game with me, because I were not able to click on it.\nBut yes, I just changed the ID to 1.\nYou probably should gray the role out or something like that to indicate that editing is not possible.. After adding the table manually, I can login again.\nWith the exception, - when copying the create table sql command from another table.\nsql\n\"id\" INTEGER NOT NULL DEFAULT E'nextval(\\'events_post_registrations__users_post_registrations_id_seq\\'::regclass)',. should be the same. Closing this here \ud83d\udc4d . Agreed. It does not happen that often that you want to save a webpage, and even more seldom save a webpage offline of an only-online working admin panel. but you never know.\n\nAtlassian does it in almost every tool (jira, confluence) and many more software. It is just a little extra. But if you are so fond of the keyboard, you will more likely use the terminal commands anyway. Even though the UI is easier, the experience is so great that I never resorted to the terminal cli commands ;)\n. Yep that  is a setting in the  .vuepress/config.js. The base property should do that :)\nhttps://vuepress.vuejs.org/config/#base. I am not sure if it is a good idea to commit the dist folder. We need to add this to .gitignore. will do today :). correct! couldn't find it when searching :) closing this here. Could be a duplicate of this: https://github.com/strapi/strapi/issues/2189\nyour conten-types stay there as JSON files (/api) and are universal for all db engines. But as of now, there is no way to take an existing schema and use it in another db.\nThis initialization step is not automated yet. So you have either re-create all your models from scratch using the new setup, or make sure the tables/documents exist.\nIf you just want to deploy (e.g. export sql/documents and import somewhere else) that would be no problem.. 1. Alpine is not ARM friendly\n2. Node 11 is unstable\nAfter this, I'm helping with the docker repo ;). NodeJS marks every odd numbered release number as unstable: https://github.com/nodejs/Release#release-plan\nThat means 6,8,10,12 are considered as stable and 7,9,11 unstable.\nThat does not actually mean that they are not working or broken, they just use odd numbers as experimental releases.. What would be the preferred solution? Check for db to run on pg and use ILIKE instead?\nI have to look a little deeper into how the filters are composed, and if ilike can be used then.\nAlso the type of client has to be passed into getQueryParams, unless there is a way to retrieve the client in that module? I saw there is definition.client === 'mysql' - maybe I can get that within that getQueryParams function.\ndefined here: https://github.com/strapi/strapi/blob/7d8507573f0e0810e6b44032e1243d660ec97738/packages/strapi-hook-bookshelf/lib/index.js#L1098-L1105\ncalled here: https://github.com/strapi/strapi/blob/57e0f3e343dfc9378c93b0c99f0c577c158c7baf/packages/strapi-utils/lib/models.js#L447-L507\nThere is a GLOBALS variable defined but only with the definition ID, not with the client:\nhttps://github.com/strapi/strapi/blob/7d8507573f0e0810e6b44032e1243d660ec97738/packages/strapi-hook-bookshelf/lib/index.js#L80. You could follow the style how other services ask for enabled.\ne.g. if (get(this.config, 'language.enabled')) { Since you do not need to ask for it twice.\nOnly if you need it in the config object, then you would load it.. I would avoid having the else part, and let the proxy work as a module.\nEssentially: define the url beforehand and remove the else part. This way your cognitive load looks a bit different when debugging or reading this: \"This is the default one. - aha if the proxy is enabled, this is altered\"\nIn principle, every statement can be written like that, only when you have computing intense methods/assignments, then you would use else. \n. It depends a lot on personal style, and I am not sure if strapi has already evolved its concrete style of writing ifs.\nUsually, you would want to avoid nesting as much as possible.\nAlso, if you need to decide between https and http, then I wouldn't reconstruct the full url. Because basically you are repeating yourself except one character.\nSo what you could write instead, is the following:\n``js\nfunction getProxyUrl(ssl, url) {\n  if (ssl) returnhttps://${url};\n  returnhttp://${url}`;\n}\nthis.config.url = getProxyUrl(this.config.proxy.ssl, ${this.config.proxy.host}:${this.config.proxy.port});\n``. This does not work.=is an assignment.==checks for equality.\nIn javascript all variables are coerced within if statements.\nThat means, for if, all strings, numbers, booleans, objects are always casted to boolean.\nWhich means, if the value is alreadytrue, you only need to check forif(this.config.proxy.ssl)`\n. Javascript works without semicolons, but I guess the strapi team prefers them (is there a styleguide followed?). So please add them for these two lines :). Makes sense! Thank you. It should be properly transpiled for older browsers.\n!~ isn't hacky, but not really descriptive :)\nI would very much favor your solution. Yes, I am also a bit confused on the differences. Is this change required in order to develop strapi as monorepo or as individual package?. If you have a lot of code, it is meaningful to keep the grouping/object. Agreed. ",
    "minhdo89": "\nI think I found the way, Hope it can help somebody\n\ncustom in model: afterFetchAll function, calculate the value\nedit model.settings.json to show the value in admin page\n  the only problem is it can not be sorted or filter\n\n\nDo you have an example? I am very eager to see this. ",
    "dinoRkz": "Strapi 3.0 is under construction. So can work only with strapi 1.0 which runs smoothly when you have node v4.4.3 and mongodb v3.0.5. ",
    "YUFENGWANG": "when will the 3.0 get done? I am looking forward to it. hhh. ",
    "chunnguyenninja": "thanks @pierreburgy for this answer:\n1. Dev environment: node 8.1.4, npm 5.3.0\n2. In your project dir npm link strapi-mongoose then strapi start\n3. If you have this error:\n```\nevents.js:182\n      throw er; // Unhandled 'error' event\n      ^\nError: watch ~/admin/public/node_modules/micromatch/README.md ENOSPC\n    at exports._errnoException (util.js:1022:11)\n    at FSWatcher.start (fs.js:1384:19)\n    at Object.fs.watch (fs.js:1410:11)\n``\ntry to remove rmyour_project_dir/admin/public/node_modules`\n@dj-hedgehog . ",
    "piscis": "sorry there is no log output the upload hangs, but debugging through the code I can see that a ReadableStream (part) was created and then the upload method is called. But the created promise in Line 25 actually never resolves:\nhttps://github.com/strapi/strapi-generate-upload/blob/master/files/api/upload/services/upload.js#L24-L25. ",
    "chilons": "I have the exact same issue on a freshly created app, the function inside Promise never executes. I guess what causes it is incompatibility with new nodejs (v6-v8).\nIt's pretty easy to reproduce, just use strapi 1.6.3 and create a fresh new app with strapi cli then send an upload request.. Most likely happens if we use a node version with async/await support, so this is my quick fix:\nhttps://gist.github.com/wilonth/2be4e05b82d3f0f5a9bb668f75935955. ",
    "Steven-Sanseau": "I solve the problem with npm link strapi. ",
    "rogueSF": "Nice work!\nOn Tue, Oct 10, 2017 at 10:13 Aur\u00e9lien GEORGET notifications@github.com\nwrote:\n\nThanks for reporting this issue. We fixed it this morning!\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/strapi/strapi/issues/267#issuecomment-335544207, or mute\nthe thread\nhttps://github.com/notifications/unsubscribe-auth/ADj24pmcRhs7WD2U7FTZMO6E4fXRN2Hxks5sq6XLgaJpZM4PvbKu\n.\n. \n",
    "edimitchel": "@Aurelsicoko I've no validation error when I create an Event with a title small than 10 or longer than 50 even with the constraint that I've set.. And with 5 characters ?. Let see the issue in live !\n\n. Require's condition working well but not about length..\nTried on the new alpha version v6. Thanks !. Not yet ;). I confirm that is problematic, I have the same issue.\nI suggest to create a reverse proxy configuration that in case of the redirection is made on reverse proxy info and not on server configuration.. After tries, seems to be index.html file generated first time that hold wrong information into body attribute : \nFind <body front=\".../:1337/admin\" back=\".../:1337\" in the file admin/admin/build/index.html and clean it : that works !\n@Aurelsicoko !\n  . Good luck :four_leaf_clover: @Aurelsicoko !\nMay the 4th be w/ u !. I don't try this config, may be a good workaround ?. @tmvanetten Did you take last version of the code (from fix/deploy branch) ? \nI don't see any pull request merged.. @Aurelsicoko, you confirm ?. It works properly!\nI'll continue test but it seems to be good!. Yes, but I want to let you deliver a perfect solution, so this issue is appropriate ;). Missing coma after \"source\":  \"host\" ... !! Warning !!\nJSON format doesn't accept comment ! \nDid you ever try start once?. Sorry.. I miss that it's docs.. \ud83d\udc4d . Seems to be eslint config issue. ",
    "mrikirill": "Sure)\n\nInstall Strapi (3.0.0-alpha.6.3) npm i strapi@lates -g and start new project\nGo to admin panel and create connection with local MySQL database (5.7.19)\nReceive error in console that I need to start command: npm i mysql. Install it and start strapi again\nGo to admin panel re-create connection with MySQL (it connected ok)\nCreate content Account with filed name (string) save it\nThere is no table in database\nGo to admin panel and try to add data in Account. Admin panel return error: 500 internal error\nConsole shows: \nER_PARSE_ERROR: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'SCHEMA 'public'' at line 1\n    Error: ER_PARSE_ERROR: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'SCHEMA 'public'' at line 1. Repeated all steps today, the same error.\nAdd screenshots of errors:\n\nStep 3: https://screencast.com/t/a37vMmy9e\nStep 7: https://screencast.com/t/MWlgZm4kvRzM\nStep 8: https://screencast.com/t/VMckQ3KrvvS\nI guess it will be helpful . @Aurelsicoko the same error after I've created the table with the same fields like I did it via the admin panel. Hi @lauriejim \n\nWhat are relation between Drivers Vehicles and Companies ?\n\nThe potencial database scheme should be like that please see the screenshot\nWhat do you think, I'm right to link every tables with Account or I need to connect only User table ?\n\nYou will probably have to customize the query to get your accounts with a deep populate.\n\nIt looks what I'm looking for.\n. >I think your relation between account and drivers is not necessary.\n\nIn fact it's really depend of your use case. And what look like your organization.\n\nI think so, thanks for ideas.\nCould you suggest, which modifications I should do for that case:\n1) User authorised via api and received JWT\n2) By using JWT in the header open \"GET /companies\"\nIn current case it will return all rows from Company table.\nI need to return only rows which have the same AccountId like authorised user has.\nI think I should modify a model of \"GET /companies\" endpoint or middleware\ud83e\udd37\ud83c\udffc\u200d\u2642\ufe0f\nCould you suggest where this logic should be located in strapi ?\n. @wi4er \nAfter authentication you will receive a JWT\nUse this JWT in the header of your requests: Authorization: Bearer Your JWT to access to api endpoints.\n. ",
    "hadihallak": "can confirm the same error on windows 10 . Oh boy, that was creepy.. thought I was reading my logs for a moment since we share the same windows username.\nanyways. I get the same error in addition to a bunch of other errors for create, find, count\ni tried on both the mysql and mongo connector.\nNode.js version: v8.2.1\nnpm version: 5.4.2\nStrapi version: 3.0.0-alpha.6.3\nOperating system: Win 10\nERROR (33260 on DESKTOP-A): Impossible to find the plugin where `strapi.query` has been called.\nERROR (33260 on DESKTOP-A): Cannot read property 'create' of undefined\n    TypeError: Cannot read property 'create' of undefined\n        at create (E:\\ferasapp\\plugins\\content-manager\\controllers\\ContentManager.js:68:62)\n        at dispatch (C:\\Users\\Hadi\\AppData\\Roaming\\npm\\node_modules\\strapi\\node_modules\\koa-router\\node_modules\\koa-compose\\index.js:44:32)\n        at next (C:\\Users\\Hadi\\AppData\\Roaming\\npm\\node_modules\\strapi\\node_modules\\koa-router\\node_modules\\koa-compose\\index.js:45:18)\n        at dispatch (C:\\Users\\Hadi\\AppData\\Roaming\\npm\\node_modules\\strapi\\node_modules\\koa-compose\\index.js:42:32)\n        at next (C:\\Users\\Hadi\\AppData\\Roaming\\npm\\node_modules\\strapi\\node_modules\\koa-compose\\index.js:43:18)\n        at C:\\Users\\Hadi\\AppData\\Roaming\\npm\\node_modules\\strapi\\lib\\middlewares\\router\\utils\\routerChecker.js:28:11\n        at dispatch (C:\\Users\\Hadi\\AppData\\Roaming\\npm\\node_modules\\strapi\\node_modules\\koa-compose\\index.js:42:32)\n        at C:\\Users\\Hadi\\AppData\\Roaming\\npm\\node_modules\\strapi\\node_modules\\koa-compose\\index.js:34:12\n        at dispatch (C:\\Users\\Hadi\\AppData\\Roaming\\npm\\node_modules\\strapi\\node_modules\\koa-router\\node_modules\\koa-compose\\index.js:44:32)\n        at next (C:\\Users\\Hadi\\AppData\\Roaming\\npm\\node_modules\\strapi\\node_modules\\koa-router\\node_modules\\koa-compose\\index.js:45:18)\n        at validator (C:\\Users\\Hadi\\AppData\\Roaming\\npm\\node_modules\\strapi\\node_modules\\koa-joi-router\\joi-router.js:322:38)\n        at dispatch (C:\\Users\\Hadi\\AppData\\Roaming\\npm\\node_modules\\strapi\\node_modules\\koa-router\\node_modules\\koa-compose\\index.js:44:32)\n        at next (C:\\Users\\Hadi\\AppData\\Roaming\\npm\\node_modules\\strapi\\node_modules\\koa-router\\node_modules\\koa-compose\\index.js:45:18)\n        at parsePayload (C:\\Users\\Hadi\\AppData\\Roaming\\npm\\node_modules\\strapi\\node_modules\\koa-joi-router\\joi-router.js:248:62)\n        at dispatch (C:\\Users\\Hadi\\AppData\\Roaming\\npm\\node_modules\\strapi\\node_modules\\koa-router\\node_modules\\koa-compose\\index.js:44:32)\n        at next (C:\\Users\\Hadi\\AppData\\Roaming\\npm\\node_modules\\strapi\\node_modules\\koa-router\\node_modules\\koa-compose\\index.js:45:18)\nDEBUG (33260 on DESKTOP-A): GET /content-manager/explorer/to?skip=0&limit=10&sort=_id (34 ms)\nERROR (33260 on DESKTOP-A): Impossible to find the plugin where `strapi.query` has been called.\nERROR (33260 on DESKTOP-A): Cannot read property 'count' of undefined\n    TypeError: Cannot read property 'count' of undefined\n        at count (E:\\ferasapp\\plugins\\content-manager\\controllers\\ContentManager.js:45:55)\n        at dispatch (C:\\Users\\Hadi\\AppData\\Roaming\\npm\\node_modules\\strapi\\node_modules\\koa-router\\node_modules\\koa-compose\\index.js:44:32)\n        at next (C:\\Users\\Hadi\\AppData\\Roaming\\npm\\node_modules\\strapi\\node_modules\\koa-router\\node_modules\\koa-compose\\index.js:45:18)\n        at dispatch (C:\\Users\\Hadi\\AppData\\Roaming\\npm\\node_modules\\strapi\\node_modules\\koa-compose\\index.js:42:32)\n        at next (C:\\Users\\Hadi\\AppData\\Roaming\\npm\\node_modules\\strapi\\node_modules\\koa-compose\\index.js:43:18)\n        at C:\\Users\\Hadi\\AppData\\Roaming\\npm\\node_modules\\strapi\\lib\\middlewares\\router\\utils\\routerChecker.js:28:11\n        at dispatch (C:\\Users\\Hadi\\AppData\\Roaming\\npm\\node_modules\\strapi\\node_modules\\koa-compose\\index.js:42:32)\n        at C:\\Users\\Hadi\\AppData\\Roaming\\npm\\node_modules\\strapi\\node_modules\\koa-compose\\index.js:34:12\n        at dispatch (C:\\Users\\Hadi\\AppData\\Roaming\\npm\\node_modules\\strapi\\node_modules\\koa-router\\node_modules\\koa-compose\\index.js:44:32)\n        at next (C:\\Users\\Hadi\\AppData\\Roaming\\npm\\node_modules\\strapi\\node_modules\\koa-router\\node_modules\\koa-compose\\index.js:45:18)\n        at validator (C:\\Users\\Hadi\\AppData\\Roaming\\npm\\node_modules\\strapi\\node_modules\\koa-joi-router\\joi-router.js:322:38)\n        at dispatch (C:\\Users\\Hadi\\AppData\\Roaming\\npm\\node_modules\\strapi\\node_modules\\koa-router\\node_modules\\koa-compose\\index.js:44:32)\n        at next (C:\\Users\\Hadi\\AppData\\Roaming\\npm\\node_modules\\strapi\\node_modules\\koa-router\\node_modules\\koa-compose\\index.js:45:18)\n        at parsePayload (C:\\Users\\Hadi\\AppData\\Roaming\\npm\\node_modules\\strapi\\node_modules\\koa-joi-router\\joi-router.js:248:62)\n        at dispatch (C:\\Users\\Hadi\\AppData\\Roaming\\npm\\node_modules\\strapi\\node_modules\\koa-router\\node_modules\\koa-compose\\index.js:44:32)\n        at next (C:\\Users\\Hadi\\AppData\\Roaming\\npm\\node_modules\\strapi\\node_modules\\koa-router\\node_modules\\koa-compose\\index.js:45:18)\nERROR (33260 on DESKTOP-A): Impossible to find the plugin where `strapi.query` has been called.\nERROR (33260 on DESKTOP-A): Cannot read property 'find' of undefined\n    TypeError: Cannot read property 'find' of undefined\n        at find (E:\\ferasapp\\plugins\\content-manager\\controllers\\ContentManager.js:32:57)\n        at dispatch (C:\\Users\\Hadi\\AppData\\Roaming\\npm\\node_modules\\strapi\\node_modules\\koa-router\\node_modules\\koa-compose\\index.js:44:32)\n        at next (C:\\Users\\Hadi\\AppData\\Roaming\\npm\\node_modules\\strapi\\node_modules\\koa-router\\node_modules\\koa-compose\\index.js:45:18)\n        at dispatch (C:\\Users\\Hadi\\AppData\\Roaming\\npm\\node_modules\\strapi\\node_modules\\koa-compose\\index.js:42:32)\n        at next (C:\\Users\\Hadi\\AppData\\Roaming\\npm\\node_modules\\strapi\\node_modules\\koa-compose\\index.js:43:18)\n        at C:\\Users\\Hadi\\AppData\\Roaming\\npm\\node_modules\\strapi\\lib\\middlewares\\router\\utils\\routerChecker.js:28:11\n        at dispatch (C:\\Users\\Hadi\\AppData\\Roaming\\npm\\node_modules\\strapi\\node_modules\\koa-compose\\index.js:42:32)\n        at C:\\Users\\Hadi\\AppData\\Roaming\\npm\\node_modules\\strapi\\node_modules\\koa-compose\\index.js:34:12\n        at dispatch (C:\\Users\\Hadi\\AppData\\Roaming\\npm\\node_modules\\strapi\\node_modules\\koa-router\\node_modules\\koa-compose\\index.js:44:32)\n        at next (C:\\Users\\Hadi\\AppData\\Roaming\\npm\\node_modules\\strapi\\node_modules\\koa-router\\node_modules\\koa-compose\\index.js:45:18)\n        at validator (C:\\Users\\Hadi\\AppData\\Roaming\\npm\\node_modules\\strapi\\node_modules\\koa-joi-router\\joi-router.js:322:38)\n        at dispatch (C:\\Users\\Hadi\\AppData\\Roaming\\npm\\node_modules\\strapi\\node_modules\\koa-router\\node_modules\\koa-compose\\index.js:44:32)\n        at next (C:\\Users\\Hadi\\AppData\\Roaming\\npm\\node_modules\\strapi\\node_modules\\koa-router\\node_modules\\koa-compose\\index.js:45:18)\n        at parsePayload (C:\\Users\\Hadi\\AppData\\Roaming\\npm\\node_modules\\strapi\\node_modules\\koa-joi-router\\joi-router.js:248:62)\n        at dispatch (C:\\Users\\Hadi\\AppData\\Roaming\\npm\\node_modules\\strapi\\node_modules\\koa-router\\node_modules\\koa-compose\\index.js:44:32)\n        at next (C:\\Users\\Hadi\\AppData\\Roaming\\npm\\node_modules\\strapi\\node_modules\\koa-router\\node_modules\\koa-compose\\index.js:45:18). @soupette Chrome Version 63.0.3239.84 (Official Build) (64-bit)\n. also, why is it returning two ID fields  (id and_id) with the request?\nis it a bug or am I missing something? because I've noticed this issue when I worked on strapi last night.. ",
    "TRTL4LIFE": "Same error here with 3.0.0-alpha.6.3 and v8.7.0. When I add a MySQL DB and click the content type link I get:\nDEBUG (8773 on ThinkBob): GET /content-manager/explorer/articles?skip=0&limit=10&sort=id (4 ms)\nERROR (8773 on ThinkBob): ER_PARSE_ERROR: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'SCHEMA 'public'' at line 1\n    Error: ER_PARSE_ERROR: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'SCHEMA 'public'' at line 1\n        at Query.Sequence._packetToError (/home/bob/projects/cryptoanalysis/dashboard/node_modules/mysql/lib/protocol/sequences/Sequence.js:52:14)\n        at Query.ErrorPacket (/home/bob/projects/cryptoanalysis/dashboard/node_modules/mysql/lib/protocol/sequences/Query.js:77:18)\n        at Protocol._parsePacket (/home/bob/projects/cryptoanalysis/dashboard/node_modules/mysql/lib/protocol/Protocol.js:279:23)\n        at Parser.write (/home/bob/projects/cryptoanalysis/dashboard/node_modules/mysql/lib/protocol/Parser.js:76:12)\n        at Protocol.write (/home/bob/projects/cryptoanalysis/dashboard/node_modules/mysql/lib/protocol/Protocol.js:39:16)\n        at Socket.<anonymous> (/home/bob/projects/cryptoanalysis/dashboard/node_modules/mysql/lib/Connection.js:103:28)\n        at emitOne (events.js:115:13)\n        at Socket.emit (events.js:210:7)\n        at addChunk (_stream_readable.js:264:12)\n        at readableAddChunk (_stream_readable.js:251:11)\n        at Socket.Readable.push (_stream_readable.js:209:10)\n        at TCP.onread (net.js:587:20)\n        at Protocol._enqueue (/home/bob/projects/cryptoanalysis/dashboard/node_modules/mysql/lib/protocol/Protocol.js:145:48)\n        at Connection.query (/home/bob/projects/cryptoanalysis/dashboard/node_modules/mysql/lib/Connection.js:208:25)\n        at afterCreate (/home/bob/projects/cryptoanalysis/dashboard/node_modules/strapi-knex/lib/index.js:109:20)\n    From previous event:\n        at /home/bob/projects/cryptoanalysis/dashboard/node_modules/knex/lib/client.js:242:72\n        at runCallback (timers.js:785:20)\n        at tryOnImmediate (timers.js:747:5)\n        at processImmediate [as _immediateCallback] (timers.js:718:5)\n    From previous event:\n        at Object.create (/home/bob/projects/cryptoanalysis/dashboard/node_modules/knex/lib/client.js:239:39)\n        at Pool._createResource (/home/bob/projects/cryptoanalysis/dashboard/node_modules/generic-pool/lib/generic-pool.js:354:17)\n        at Pool.dispense [as _dispense] (/home/bob/projects/cryptoanalysis/dashboard/node_modules/generic-pool/lib/generic-pool.js:314:10)\n        at Pool.acquire (/home/bob/projects/cryptoanalysis/dashboard/node_modules/generic-pool/lib/generic-pool.js:436:8)\n        at /home/bob/projects/cryptoanalysis/dashboard/node_modules/knex/lib/client.js:289:19\n    From previous event:\n        at Client_MySQL.acquireConnection (/home/bob/projects/cryptoanalysis/dashboard/node_modules/knex/lib/client.js:280:12)\n        at /home/bob/projects/cryptoanalysis/dashboard/node_modules/knex/lib/runner.js:208:30\n    From previous event:\n        at /home/bob/projects/cryptoanalysis/dashboard/node_modules/knex/lib/runner.js:206:35\n    From previous event:\n        at Runner.ensureConnection (/home/bob/projects/cryptoanalysis/dashboard/node_modules/knex/lib/runner.js:205:34)\n        at Runner.run (/home/bob/projects/cryptoanalysis/dashboard/node_modules/knex/lib/runner.js:51:42)\n        at Builder.Target.then (/home/bob/projects/cryptoanalysis/dashboard/node_modules/knex/lib/interface.js:35:43)\n        at runCallback (timers.js:785:20)\n        at tryOnImmediate (timers.js:747:5)\n        at processImmediate [as _immediateCallback] (timers.js:718:5). ",
    "Almusamim": "haha @hadihallak the coincidence  \ud83d\udc83 \nanyway @Aurelsicoko fixed this https://github.com/strapi/strapi/commit/2ef73c5b423dd9e6b8fd0ff850a0ba226d9b5316 .\njust change in node_module\\strapi\\lib\\Strapi.js on line 274\nFrom } else if (file.indexOf('/plugins/') !== -1) {\nto } else if (file.indexOf(path.sep + 'plugins' + path.sep) !== -1) {\n. I'm getting same error.. are we doing something wrong here?\nRROR (4760 on DESKTOP-C2OQDKG): Impossible to register the `car` model.\nERROR (4760 on DESKTOP-C2OQDKG): Reference virtuals require `foreignField` option\n    Error: Reference virtuals require `foreignField` option\nNode.js version: 8.1.3\nnpm version: 5.6.0\nStrapi version: 3.0.0-alpha.7.2\nOperating system: Win 10. ",
    "TheAnimeSenpai": "@Aurelsicoko ...thanks...Will wait for the fix.... ",
    "spruce": "The link right in the top on this page: https://strapi.io/documentation/getting-started/installation.html# leads to this page: https://github.com/strapi/strapi/edit/structure/doc/docs/3.x.x/en/getting-started/installation.md. ",
    "alfirin": "@Aurelsicoko Thanks for the reply.\nDo you have some plugin examples showing some translated data ?\nThanks for your help. ",
    "krestaino": "@Aurelsicoko Is this a planned feature?. @raulriera I recently made a simple blog using Strapi as the backend. To have nice URLs, I created a slug field, but I have to manually format it just like the GIF in the OP each time I write a new article. In my client side application, I query the API using the slug which is in the URL. For example:\nblog.com/hello-world queries the API with api.blog.com/article?slug=hello-world.\nIt's important that a slug is assigned per article post so I can have these nice URLs. I could use the ID, but that will lead to an ugly URL structure.\nI would love to see this feature request built into Strapi to avoid the manual process of creating slugs.\n. @raulriera Thank you for your helpful example, much appreciated. Just to clarify though, the ID's generated by Strapi are 24 digits long, thus making the URLs more akin to myblog.com/5aef0015687c17071592c605-my-title-goes-here. Is that correct?. @ujal That works, but it's not loading Strapi in production. I tried NODE_ENV=production pm2 start strapi --no-pmx --name=\"example.com\" -- start which loads it in production, but then I get the same error where the server isn't restarting correctly after adding new content types with fields.\nAny suggestions?. @Aurelsicoko That looks fantastic! Can't wait to play around with it.. @lauriejim Fantastic. I just played around with it, it's very nice.\nAny idea when we'll see a new release with it?. Follow this.\nhttps://github.com/strapi/strapi/wiki/migration-guide-alpha.12.4-to-alpha.12.5\nYou need to replace the old admin with the new one, as well as the plugins.. Agreed. Good news is that soon the updates should be much less of a manual process.\nhttps://twitter.com/pierre_burgy/status/1009080766402322432. ",
    "maru3l": "Can we contribute for this feature? I'm a full stack web developer from Canada and almost all my project need to be bilingual. It's why this feature is really important for me. I will be trill to help the team to make this feature append.. I'm actually working on something. The way a see it's to make a entry of the same content type for each language and link them together with a relation.. The test I've made is only to create a relation and a select field in the entry. I use the select to select the language and the relation to relate the article. It's working perfectly.\nWhat I'm working on, it's to make a plugin who automatically create they's field, make it invisible and add a widget in the creation page to make the link between the post easier.. @Aurelsicoko I've already spoke to Pierre a weeks ago to explain my idea, but I'm still open to get more information or giving help to make this feature append. It's a must have for my client and I can't make them use Strapi if this feature is not available.\nThe only thing blocking me right now it's because I have to edit the content-manager package for adding my widget. But I know it's not a good adea to write directly in it if someone change the package after.. ",
    "u12206050": "How do I get this working, I have added both \"hasTimestamps\": [null, \"updated\"] to options and \"updated\": {\n      \"type\": \"date\",\n      \"required\": true,\n      \"multiple\": false,\n      \"readonly\": true\n    }\nto the attributes but it still doesn't automatically update the field.. ",
    "rewop": "With npm (5.4.2 in my case) I have the same error. To note I am installing strapi locally and not globally. So with npm I run\n./node_modules/.bin/strapi new my-project\nand the error is the same. This is because strapi-generate-admin is installed in node_modules folder, and not node_modules/strapi/node_modules.\nInstead if I install globally with npm it works correctly, but I have the same error if I install globally with yarn,\nSo the problem is when I install the strapi utility locally with npm, or when I install it with yarn.\n. Quickly looking at the code I wonder why a module declared in package.json is loaded with relative path? https://github.com/strapi/strapi/blob/acb2b57d59b12470bcb0cdfc5a9b8dd47a94ac61/packages/strapi-generate/lib/target.js#L224-L240\nI think the problem is related to those lines.. ",
    "leolara": "I have the same issue today. My yarn installation said I got 3.0.0-alpha.14.2. ",
    "wision": "Still same issue with 3.0.0-alpha.14.4.0 and npm. (the problem was that I didn't install it globally, which sucks tbh). ",
    "schabluk": "Having the same problem with 3.0.0-alpha.19.. ",
    "ogonkov": "Fix for #315 . Did you add some products?\nWhat details i need to provide?. ",
    "pulpiks": "I prefer the local installation as well, but this PR (https://github.com/strapi/strapi/pull/317/commits/dc3ecb02cad12474355b482fe0893f9991bfe948) was not merged into 'master'. I had to change the file directly in node_modules. Any other ideas how to fix that problem without creating such sort of hacks?. @Aurelsicoko  Let's say we need to create a structure looks like a set of questions(format type for single question as an object from title and image) with nested answers(type format is text). For now, as long as JSON type was implemented as JSON without a visual presentation that means a user can add text in \"textarea\" block, but I would rather fill the data from primitive types via visual presentation. Did you get it now? One more example from real life is I need to render an array of objects(plain list with data, each object must contain image, title, description). This example is also required using JSON but filling the data is not handy. ",
    "fisshy": "I got the same problem. Windows 10 x64. . Ok, solved it by installing mongodb. It was missing.\nMaybe Strapi should try detect mongodb and give a clearer message. \nhttps://docs.mongodb.com/v2.8/tutorial/install-mongodb-on-windows/ . ",
    "moeinrahimi": "in my case changing host from localhost to 127.0.0.1 in database.json at development folder did the trick. @lauriejim \nactually content type gets save, but you need to restart the server so it works properly .\n. ",
    "M1chaelTran": "@moeinrahimi solution works for me! This should be the default settings instead of localhost. hey @sm4rtie, I ran into the same issue as you.\nFound out why I got the error and raised a PR for the fix.\nOn a different question for you, you mentioned you have configured mailgun...\nCould you share the detail on how you set it up? I would like to do the same.\nThanks. ",
    "ririen": "@Aurelsicoko I discovered a problem. To tell the truth, the previous name was different, I changed it for these logs because I did not want to share a unique name so it was not used publicly. It turned out that I missed a significant problem.\nWhen adding \"New Content\" in the admin panel, any type of name:\nstrapi.api\ntest.api\nare automatically converted to:\nstrapiApi\ntestApi\nthen we have:\n./api/strapiapi/controllers/StrapiApi.js\n./api/strapiapi/models/StrapiApi.js\n./api/strapiapi/services/StrapiApi.js\nThe appeals are as follows:\njs\nconst data = await strapi.services.strapiApi.fetchAll (ctx.query);\nSo to summarize. Names that only consist of lowercase work perfectly. These consisting of small and large do not work at all.. Strapi Alpha required Node.js >= 8.. I noticed something similar.\nArch Linux, Node v9.5.0, Npm: 5.6.0, Strapi: 3.0.0-alpha.9.1\n1. Content Type\nName: letter\nFields:\n\nString: pol\nString: eng\n\n2. Content Type\nName: word\nFields:\n- String: one\nRelation: \n-  Field name: world\n-  Field name: letter\nWords has and belongs to many Letters\nAnd when you click to save or try to start, the console throws:\nERROR (2407 on comp): Something went wrong in the model \"word\" with the attribute \"letter\"\nI tried many combinations of relationships and everyone throws an error. Interestingly, I've done the \"Articles\" relationship with \"Users\" before and there is no problem here. From what I noticed, at least for me, it is impossible to save any relations except those of Users.. @Aurelsicoko Thank you, it works great. Next time I will look through the sources and documentation much more thoroughly before I write anything. I apologize and close the issue.. Is there any error or something else? From my own experience, I know that after using strapi start the console is empty until you enter http://localhost:1337/ on the browser.\nAt the beginning I was also wondering if everything works and started. It turned out that any information in the console only appears after visiting the site. For new users it can be confusing because they do not know what to do next.. Yes, of course. I love Strapi :D. I think it is worth considering \"inheritance\" in models. In my project I divide models into groups. Something like:\nlinguistics.sigh\nlinguistics.word\nUnfortunately, Strapi turns it into very uncluttered names in the admin panel as well as in the GET itself, because it looks like this in the admin menu:\nlinguisticssigh\nlinguisticsword\nand in GET:\nGET localhost/linguisticssigh\nGET localhost /linguisticsword\nSo I think that the system should group models that start with the same word. What in fact would look like this:\nin the admin panel - collapse\nLinguistics\n  - Sigh\n  - Word\nIn the link:\nGET localhost /linguistics/sigh\nGET localhost /linguistics/word. I do not want to re-open the issue but I would like to ask for information on how can I translate the erorr.messages shown in json if they are not downloaded from the translation catalogs?  It is not possible? I would like to make pop-up messages on my native language like json will show, for example, someone typed a wrong password or ID.. Thank you! :3 \nUsing the opportunity, did you think about creating a separate branch/repository for translators and doing something symlink to the appropriate translation catalogs?  I do not know if it is possible at all, but you can always figure something out.\nIn my opinion translations should not be added as Pull Requests, but \"verified\" translators should be able to make changes to the entire source easier.. @lauriejim from what I see @yummyelin made a typo in the address of the repository when he added his comment. This address should work: https://github.com/yummyelin/strapi-hello. Hmm, file it.json not exist in users-permission translations directory. Someone created an incomplete translation or \"waved\" when creating it.. I was looking forward to it, and I thank you for the next functionalities! :D However, I have a small suggestion.\n@soupette @lauriejim @Aurelsicoko so in the future, can you add language changes to all current files in the catalog instead of just English and French? Because now I really need to compare a file of English translations with a Polish translation file to look for new ones and add new lines to the file and then translate. And if changes (English) were introduced to each language file, it would be much less work and search for changes.. There is no need to create a new Issue so I will post it here. Yesterday I followed this workflow with the recommended npm run setup instead ofnpm run setup:build. \nThe effect is that the strapi start in the main application directory works very well while npm start in the admin directory hangs on building... checked on 2 separate machines. Server and laptop. Can not build on any of them.. I do not know if I remember correctly but probably due to some problems, this pull request has been reverted and a new one has been opened: #2452  it has not been implemented yet.. Thanks @IdaszakDaniel ! Lately I have very little time and I could not add new translations. I am glad that there are other Poles here :)\n. @lauriejim I'm sorry for the lack of response. Unfortunately, I do not have such opportunities to do it because the project is private. It will co-create something, maybe create a test project.\n@yummyelin Yes, indeed a very similar bug. For me, always a new relationship overwrites all previous ones not only in a given element but in all, as if there was a loop on the entire table.. ",
    "djeorges28": "Thank's a lot. I have installed the latest version of node and now everything works well.\nLet's continue the tutorial :-). ",
    "kmathy": "bug_item.log\nHere is what I found with console.log(this)\nFor the contribution, I will do that tonight :)\nThe item was correctly added in Database, but impossible to click on it for details (same error with findOne). I'm sorry but I'm not able to do the bug fix. \nI've followed the steps inside the contribution guide but I encountered a problem when creating the project with strapi new.\nAlso, it takes a long time to setup it (more than 20min).\nMaybe someone else can do the fix? :). I try it this afternoon!. Hi,\nGreat news, it works! I reinstalled all strapi and create a new model + document, and no error triggered ;)\nWell done!\nJust one thing:\nI tried to install strapi with Yarn and there was an issue, see this picture\nAs you can see, you recommend to use Node 8, but I had 8.1.2, and it seems we need 8.1.4 at least. Maybe we can have potential problems if we don't have the correct version (because NPM didn't raise the error)\nHowever, Good work, go on this way! Love from Belgium! :belgium: . Hi @zaamx,\nI don't exactly know how you want to work with Strapi, but here is my way:\n\nInstallation of Mongo in Bash (check if you have the latest, see Mongo Documentation)\nInstallation of Strapi in Windows using npm (for the Terminal, I use ConEmu)\nCreating new project with Strapi new [ProjectName]\nRun mongodb server in your Bash (sudo service mongodb start)\nCreate your database using mongo shell (see Mongo Documentation)\nChange the configuration in your Strapi project (I think it is config/database.json)\nStrapi start would work \ud83d\ude04 \n\nHope this helps!. Thank you! \ud83d\udc4d . ",
    "zaamx": "Hi!,\n@kmathy  can you please tell me how to connect moongose in windows 10 bash?\nI change the npm to another path as the instructions details.\nthen: \n\nInstall Mongo in bash\nCreate the strapi db in mongo\nInstall Strapi in Bash\nCreate a Project\nConfigure the Mongo connection \nCreate a model\n\nAnd at this point trows error.\n```\n/mnt/d/Dev/bolsa/work/node_modules/mongodb/lib/mongo_client.js:433\n          throw err\n          ^\nTypeError: Cannot assign to read only property 'mongoose' of object '#'\n    at loadedModule.initialize.call.err (/home/alonso/.npm-global/lib/node_modules/strapi/lib/hooks/index.js:32:25)\n    at NativeConnection.instance.connection.on (/mnt/d/Dev/bolsa/work/node_modules/strapi-mongoose/lib/index.js:79:20)\n    at emitNone (events.js:105:13)\n    at NativeConnection.emit (events.js:207:7)\n    at /mnt/d/Dev/bolsa/work/node_modules/mongoose/lib/connection.js:860:13\n    at connectCallback (/mnt/d/Dev/bolsa/work/node_modules/mongodb/lib/mongo_client.js:515:5)\n    at /mnt/d/Dev/bolsa/work/node_modules/mongodb/lib/mongo_client.js:430:11\n    at _combinedTickCallback (internal/process/next_tick.js:95:7)\n    at process._tickCallback (internal/process/next_tick.js:161:9)\n```\nIt's a error with the connection ?\nI new to Strapi, \nTnks and excuse my english. \n. ",
    "clubery": "Only seems to work with node v6.. ",
    "Devportobello": "Tested with another user without space and worked.\nFor informations:\nSeem the resolution of some module who lead to fail.\nBetween thoses steps:\nINFO (4020 on DESKTOP-X): Installing dependencies...\n/!\\\nINFO (4020 on DESKTOP-X): The plugin settings-manager has been successfully installed.\nNotice that stack trace : npm\\node_modules\\strapi\\bin\\strapi.js install settings-manager ...\nclosed.",
    "2pay": "i am have the same this topic:\nD:\\WORKSPACE>strapi new my-strapi\nINFO (11012 on DESKTOP-IND1VHE): Creating your application... It might take a few seconds.\nINFO (11012 on DESKTOP-IND1VHE): Copying the dashboard...\nINFO (11012 on DESKTOP-IND1VHE): Installing dependencies...                                                             ERROR (11012 on DESKTOP-IND1VHE): An error occurred during settings-manager plugin installation.\nERROR (14856 on DESKTOP-IND1VHE): Command failed: node C:\\Users\\admin\\AppData\\Roaming\\npm\\node_modules\\strapi\\bin\\strapi.js install settings-manager                                                                                                Error: Command failed: node C:\\Users\\admin\\AppData\\Roaming\\npm\\node_modules\\strapi\\bin\\strapi.js install settings-manager                                                                                                                       at checkExecSyncError (child_process.js:592:13)                                                                         at execSync (child_process.js:632:13)                                                                                   at defaultPlugins.forEach.defaultPlugin (C:\\Users\\admin\\AppData\\Roaming\\npm\\node_modules\\strapi\\node_modules\\strapi-generate-new\\lib\\after.js:91:9)\n    at Array.forEach (<anonymous>)                                                                                          at pluginsInstallation (C:\\Users\\admin\\AppData\\Roaming\\npm\\node_modules\\strapi\\node_modules\\strapi-generate-new\\lib\\after.js:89:20)                                                                                                             at npm.install.err (C:\\Users\\admin\\AppData\\Roaming\\npm\\node_modules\\strapi\\node_modules\\strapi-generate-new\\lib\\after.js:75:7)\n    at ChildProcess.onSuccess (C:\\Users\\admin\\AppData\\Roaming\\npm\\node_modules\\strapi\\node_modules\\enpeem\\index.js:123:7)\n    at emitTwo (events.js:125:13)\n    at ChildProcess.emit (events.js:213:7)                                                                                  at Process.ChildProcess._handle.onexit (internal/child_process.js:200:12)\nINFO (11012 on DESKTOP-IND1VHE): The plugin content-type-builder has been successfully installed.\nINFO (11012 on DESKTOP-IND1VHE): The plugin content-manager has been successfully installed.\nINFO (11012 on DESKTOP-IND1VHE): Linking `strapi` dependency to the project...\nINFO (11012 on DESKTOP-IND1VHE): Your new application `my-strapi` is ready at `D:\\WORKSPACE\\my-strapi`.\nI am try install again but error until.. ",
    "yesihao": "+1 seem there's no image uploader in v3 neither . ",
    "TareqElMasri": "Is that done?. ",
    "template01": "@TareqElMasri: yes! since strapi@alpha.11. Hey. This must be an issue of npm. As you suggested other globally installed packages are also stored in /usr/bin/ and not /usr/local/bin/. I'll try to solve this issue in some other way.\nThanks for responding!\n. ",
    "uniibu": "This most likely to happen if you use a different http://hostname:1234 other than http://localhost:1337 because the admin plugin still uses http://localhost:1337 to make request to other plugins such as http://localhost:1337/content-manager/models, no matter what is on the config. Afaik, this has been fixed on alpha.7\nAlso make sure you have mongodb installed and the service is running.. ",
    "svallory": "@Aurelsicoko What I think is happening is that post install scripts don't run. Then, when trying to use strapi it starts complaining about missing modules. I added each one manually until I hit another error, just I don't remember what.. I went ahead and installed using npm, so I don't have the logs anymore :/. ",
    "dyunggertrude": "npm:5.6.0\nnode:v8.9.3\nwindows 10\nHello \nI create table test in database Mysql and in 'Content Type Builder' menu !!\nI create  new column on mySQL database with strapi\nSaving Model ok\nafter that in shell windows i have these messages\nDEBUG : GET /content-manager/explorer/test/count?source=content-manager (4 ms)\nDEBUG : GET /content-manager/explorer/test/count?source=content-manager (3 ms)\nERROR : The model user can't be found.\nDEBUG : GET /content-manager/explorer/user?skip=0&limit=20&sort=id&source=content-manager (2 ms)\nERROR : The model user can't be found.\nDEBUG (14680 on PC-DE-DANIEL): GET /content-manager/explorer/user/count?source=content-(3 ms)\n. ",
    "nickngqs": "Ahh it works! But to be honest, i didn't even see the Application from the Accordion. The UI is abit weird? Thanks!. Yup that would actually be good! And I do think that the other 3 sections is fighting attention with the Application section because they have icons, bigger, etc, thats why it's easy to miss out. ",
    "lkostrowski": "@Aurelsicoko \nHi, I just found this issue, because I met exactly the same error. I have built via CLI on my OSX env, then deployed to prod Debian, tried npm install and npm run setup, both failed with the same errors.\nI made it running by creating a new app with CLI on server and copying files.\nCan I provide some data to help?\nBTW great job, I love strapi and will try to contribute if I meet the challenge. I finally had another issue  (#423) so haven't dig deeper. \nI will try next time and to share something, this issue is a blocker for me. Not sure if this issue is more docker related (passing host to container) or resolving file path\nEDIT:\nhttps://github.com/strapi/strapi-docker/issues/10. ",
    "daominhsangvn": "Hello, i'm facing this issue in 3.0.0-alpha.10.3.\nnpm WARN tar ENOENT: no such file or directory, open '/root/node-myportfolio/node_modules/.staging/has-ansi-54dd844b/package.json'\nnpm WARN tar ENOENT: no such file or directory, open '/root/node-myportfolio/node_modules/.staging/has-flag-41bb82ff/package.json'\nnpm WARN tar ENOENT: no such file or directory, open '/root/node-myportfolio/node_modules/.staging/has-symbols-aa157099/package.json'\nnpm WARN tar ENOENT: no such file or directory, open '/root/node-myportfolio/node_modules/.staging/has-3ec69323/package.json'\nnpm WARN tar ENOENT: no such file or directory, open '/root/node-myportfolio/node_modules/.staging/hosted-git-info-7718a819/package.json'\nnpm WARN tar ENOENT: no such file or directory, open '/root/node-myportfolio/node_modules/.staging/has-ansi-54dd844b/index.js'\nnpm WARN tar ENOENT: no such file or directory, open '/root/node-myportfolio/node_modules/.staging/has-flag-41bb82ff/index.js'\nnpm WARN tar ENOENT: no such file or directory, open '/root/node-myportfolio/node_modules/.staging/has-symbols-aa157099/.npmignore'\nnpm WARN tar ENOENT: no such file or directory, open '/root/node-myportfolio/node_modules/.staging/graceful-fs-000e3ace/package.json'\nnpm WARN tar ENOENT: no such file or directory, open '/root/node-myportfolio/node_modules/.staging/has-3ec69323/.npmignore'\nnpm WARN tar ENOENT: no such file or directory, open '/root/node-myportfolio/node_modules/.staging/globals-cd57d2f0/package.json'\nnpm WARN tar ENOENT: no such file or directory, open '/root/node-myportfolio/node_modules/.staging/generic-pool-ac4d3ae8/package.json'\nnpm WARN tar ENOENT: no such file or directory, open '/root/node-myportfolio/node_modules/.staging/hosted-git-info-7718a819/README.md'\nnpm WARN tar ENOENT: no such file or directory, open '/root/node-myportfolio/node_modules/.staging/has-ansi-54dd844b/license'\nnpm WARN tar ENOENT: no such file or directory, open '/root/node-myportfolio/node_modules/.staging/has-flag-41bb82ff/license'\nnpm WARN tar ENOENT: no such file or directory, open '/root/node-myportfolio/node_modules/.staging/has-symbols-aa157099/README.md'\nnpm WARN tar ENOENT: no such file or directory, open '/root/node-myportfolio/node_modules/.staging/graceful-fs-000e3ace/README.md'\nnpm WARN tar ENOENT: no such file or directory, open '/root/node-myportfolio/node_modules/.staging/has-3ec69323/.jshintrc'\nnpm WARN tar ENOENT: no such file or directory, open '/root/node-myportfolio/node_modules/.staging/globals-cd57d2f0/index.js'\nnpm WARN tar ENOENT: no such file or directory, open '/root/node-myportfolio/node_modules/.staging/generic-pool-ac4d3ae8/.npmignore'\nnpm WARN tar ENOENT: no such file or directory, open '/root/node-myportfolio/node_modules/.staging/hosted-git-info-7718a819/LICENSE'\nnpm WARN tar ENOENT: no such file or directory, open '/root/node-myportfolio/node_modules/.staging/has-ansi-54dd844b/readme.md'\nnpm WARN tar ENOENT: no such file or directory, open '/root/node-myportfolio/node_modules/.staging/has-flag-41bb82ff/readme.md'\nnpm WARN tar ENOENT: no such file or directory, open '/root/node-myportfolio/node_modules/.staging/has-symbols-aa157099/LICENSE'\nnpm WARN tar ENOENT: no such file or directory, open '/root/node-myportfolio/node_modules/.staging/graceful-fs-000e3ace/LICENSE'\nnpm WARN tar ENOENT: no such file or directory, open '/root/node-myportfolio/node_modules/.staging/has-3ec69323/LICENSE-MIT'\nnpm WARN tar ENOENT: no such file or directory, open '/root/node-myportfolio/node_modules/.staging/globals-cd57d2f0/license'\nnpm WARN tar ENOENT: no such file or directory, open '/root/node-myportfolio/node_modules/.staging/generic-pool-ac4d3ae8/README.md'\nnpm WARN tar ENOENT: no such file or directory, open '/root/node-myportfolio/node_modules/.staging/hosted-git-info-7718a819/git-host-info.js'\nnpm WARN tar ENOENT: no such file or directory, open '/root/node-myportfolio/node_modules/.staging/has-symbols-aa157099/index.js'\nnpm WARN tar ENOENT: no such file or directory, open '/root/node-myportfolio/node_modules/.staging/graceful-fs-000e3ace/polyfills.js'\nnpm WARN tar ENOENT: no such file or directory, open '/root/node-myportfolio/node_modules/.staging/has-3ec69323/README.mkd'\nnpm WARN tar ENOENT: no such file or directory, open '/root/node-myportfolio/node_modules/.staging/globals-cd57d2f0/readme.md'\nnpm WARN tar ENOENT: no such file or directory, open '/root/node-myportfolio/node_modules/.staging/generic-pool-ac4d3ae8/.eslintrc.js'\nnpm WARN tar ENOENT: no such file or directory, open '/root/node-myportfolio/node_modules/.staging/hosted-git-info-7718a819/git-host.js'\nnpm WARN tar ENOENT: no such file or directory, open '/root/node-myportfolio/node_modules/.staging/has-symbols-aa157099/shams.js'\nnpm WARN tar ENOENT: no such file or directory, open '/root/node-myportfolio/node_modules/.staging/graceful-fs-000e3ace/legacy-streams.js'\nnpm WARN tar ENOENT: no such file or directory, open '/root/node-myportfolio/node_modules/.staging/globals-cd57d2f0/globals.json'\nnpm WARN tar ENOENT: no such file or directory, open '/root/node-myportfolio/node_modules/.staging/generic-pool-ac4d3ae8/CHANGELOG.md'\nnpm WARN tar ENOENT: no such file or directory, open '/root/node-myportfolio/node_modules/.staging/hosted-git-info-7718a819/index.js'\nnpm WARN tar ENOENT: no such file or directory, open '/root/node-myportfolio/node_modules/.staging/has-symbols-aa157099/.travis.yml'\nnpm WARN tar ENOENT: no such file or directory, open '/root/node-myportfolio/node_modules/.staging/graceful-fs-000e3ace/graceful-fs.js'\nnpm WARN tar ENOENT: no such file or directory, open '/root/node-myportfolio/node_modules/.staging/generic-pool-ac4d3ae8/Makefile'\nnpm WARN tar ENOENT: no such file or directory, open '/root/node-myportfolio/node_modules/.staging/has-symbols-aa157099/CHANGELOG.md'\nnpm WARN tar ENOENT: no such file or directory, open '/root/node-myportfolio/node_modules/.staging/graceful-fs-000e3ace/fs.js'\nnpm WARN tar ENOENT: no such file or directory, open '/root/node-myportfolio/node_modules/.staging/has-symbols-aa157099/.eslintrc'\nnpm WARN tar ENOENT: no such file or directory, open '/root/node-myportfolio/node_modules/.staging/ajv-4c48af73/dist/regenerator.min.js'\nnpm WARN tar ENOENT: no such file or directory, open '/root/node-myportfolio/node_modules/.staging/async-7ecbc6ad/dist/async.min.js'\nnpm WARN tar ENOENT: no such file or directory, open '/root/node-myportfolio/node_modules/.staging/async-7ecbc6ad/bower.json'\nnpm WARN tar ENOENT: no such file or directory, open '/root/node-myportfolio/node_modules/.staging/async-7ecbc6ad/CHANGELOG.md'\nnpm WARN tar ENOENT: no such file or directory, open '/root/node-myportfolio/node_modules/.staging/core-js-840b5d0a/client/shim.min.js'\nnpm WARN tar ENOENT: no such file or directory, open '/root/node-myportfolio/node_modules/.staging/eslint-47655d56/lib/rules/operator-assignment.js'\nnpm WARN tar ENOENT: no such file or directory, open '/root/node-myportfolio/node_modules/.staging/eslint-47655d56/lib/rules/key-spacing.js'\nnpm WARN tar ENOENT: no such file or directory, open '/root/node-myportfolio/node_modules/.staging/eslint-47655d56/lib/rules/operator-linebreak.js'\nnpm WARN tar ENOENT: no such file or directory, open '/root/node-myportfolio/node_modules/.staging/eslint-47655d56/lib/rules/jsx-quotes.js'\nnpm WARN tar ENOENT: no such file or directory, open '/root/node-myportfolio/node_modules/.staging/eslint-47655d56/lib/rules/padded-blocks.js'\nnpm WARN tar ENOENT: no such file or directory, open '/root/node-myportfolio/node_modules/.staging/eslint-47655d56/lib/rules/init-declarations.js'\nnpm WARN tar ENOENT: no such file or directory, open '/root/node-myportfolio/node_modules/.staging/eslint-47655d56/lib/rules/prefer-arrow-callback.js'\nnpm WARN tar ENOENT: no such file or directory, open '/root/node-myportfolio/node_modules/.staging/eslint-47655d56/lib/rules/indent.js'. Oh nvm, removing package-lock.json is working.. I still have this issue in latest version of strapi. I did exactly the instruction at https://github.com/strapi/strapi/blob/master/CONTRIBUTING.md\nNode: 8.10.0\nNPM: 5.6.0\nMAC OS 10.13.3. @lauriejim Yes i did, i guess i found the issue, it's because i ignore the package-lock.json inside the plugin folder and it's stop working. I tried to init another project from the Ubuntu server then clone it to local and re-run it, it's working good now.. @amouratoglou I found a workaround.\n1. Goes to your Ubuntu server\n2. Init the project\n3. Copy everything in api folder from your repo to newly created project.. ",
    "nicroto": "Had the same issue. Indeed, removing package-lock.json worked. But it makes the locking useless and thus renders the build unstable. I don't know why the issue was closed, this happened to me with 3.0.0-alpha.12.6 .... @Aurelsicoko Thanks for the reply and sorry for my late response. (I've missed the notification)\nI am on the opposite spectrum of impressions with package-lock.json. I have projects that are years-old, and they keep on installing properly, only because of package-lock.json (well they use the older npm-shrinkwrap which is, for the purposes of this conversation - the same thing).\nI think you should reopen the issue until someone tracks that the problem is not strapi-related. If this is the case, we will then submit it to npm, so it can be resolved at the root.\nI believe this is an important feature for many developers and I definitely want (need) to use it myself.\nI hope this makes sense.. Guys, I don't understand the idea behind this feature... Even if the admin works, this doesn't seem to solve anything. \nWhen I deploy API v1, it's all fine and dandy. But once I need to run more than 1 versions of the API (in my case that is every new deployment, since I do green-blue, but legacy versions of the API should be able to run concurrently, etc.) 1 request doesn't get routed to every API server I have - it gets routed to 1.\nThe receiver shouldn't decide whether this traffic is for them or not. The app should allow/expect it may be hosted at a path, instead. E.g. api.example.com/v0 should be a viable hosting option for the strapi server. This isn't an option right now, is it?\nThis is like having a person sending a letter through the post office, and the way routing would work (according to this plan) is - post office delivers it to the first person in their list of receivers and that person says \"Mine. Not mine. Mine. Not mine.\" basically dismissing all letters that aren't hitting the right target...\nEither I am not seeing something obvious (which is possible, but unlikely), or this whole solution doesn't really solve any problems.. I'm running strapi@alpha.12.6, but I am seeing this same error. I thought it happens only if I use the middleware functions for before/afterDestroy, but just tried with and without and there is no difference. Tried recreating my entire db, but it made no difference.\nI am creating owned (by the created instance) entries in different collections on beforeCreate. Then I need to clean up those same entries (cascading delete) when a document of this type is deleted.\nThe following manages to delete everything that it needs to, but it still throws the error in question:\n``javascript\n  afterDestroy: async (model, result) => {\n    strapi.log.info (Deleted Itemtype with _id: ${result._id}. Cleaning up owned data...`);\nstrapi.log.info (`-->Deleting field1 with _id: ${result.field1._id}`);\nawait Subtype.deleteOne ({ _id: result.field1._id });\n\nstrapi.log.info (`-->Deleting field2 with _id: ${result.field2._id}`);\nawait Subtype2.deleteOne ({ _id: result.field2._id });\n\n}\n```\nThe end result is that everything is successfully removed from the DB, but the client's request returns an error.. I will try to make a reproducible example and will get back to you.. OK, I created a repo specifically to be able to report issues AND give you a reproducible example. Each branch there will be a different issues with all commits as atomic steps in setting up the environment for the issue to occur (from install to error). And in the README.md I have explained in detail how to reproduce the error with the last commit in the repo: https://github.com/nicroto/strapi-issues/tree/delete-issue. @lauriejim Thanks.. @lauriejim have you made any progress on this? Does my example reproduce the problem for you?. Just hit this as well.... Cheers, guys. I am happy to help.. ",
    "maturanomx": "Same issue with 3.0.0-alpha.12.6. @Aurelsicoko reopen or new issue?. > The only cons that I have against TypeScript is the ease to contribute to the project. It's far easier to contribute to a project without TS or Flow. However, the pros are stronger (type-checking, code confidence, etc) and we should definitely move to TS or Flow.\nLast time I saw, TS could do type checking on JS files for free, nothing needed, and the type annotations could be done with JSdoc syntax. Is a big advantage of been a superset of JS. So, TS could be introduced gradually and at certain point, not need it to use all the characteristics and syntax. to take advantage of it.\nSaid that... also is not a need for the project, just a \"nice to have\". Bee careful when evaluating the effort and the priority.\nJust my 2c.\n\nEdit: From a quick search:\n - https://www.typescriptlang.org/docs/handbook/type-checking-javascript-files.html \n - https://github.com/Microsoft/TypeScript/wiki/JsDoc-support-in-JavaScript. > \"Best practices\" are well beyond \"nice to have\" IMO.\nAgree. And you don't need TS to follow best practices \ud83e\udd37\u200d\u2642\ufe0f ...\nBut well. You could add support without much effort... Strapi is always been welcome contributions \ud83d\udc4d . Welcome @williamkunz !\nSo... you are able to create and run a  new project, right?. Then, you create a new content-type from the GUI and when restart the application is when you see the error?. I'm correct?\nFirst, try to add the debug flag to your database configuration:\nconfig/environments/development/database.json\n{\n  \"defaultConnection\": \"default\",\n  \"connections\": {\n    \"default\": {\n      \"connector\": \"strapi-hook-bookshelf\",\n      \"settings\": {},\n      \"options\": {\n        \"debug\": true\n      }\n    }\n  }\n}\nThen, can you share us your complete log please? and your configuration file also could help.\nI think would be better open a new issue. To be honest, I don't read all the previous conversation :). I had seen this. I have in mind add it with Knexjs; lower --layer-- is better ;).\nSpecifically, can be added here: \nhttps://github.com/strapi/strapi/blob/637217a68fa21c3e36fe34f01609cb81dec1d6cb/packages/strapi-hook-bookshelf/lib/index.js#L575. Apparently passing the data to the CLI also work: https://github.com/strapi/strapi/issues/1898#issuecomment-418713033. Question: wouldn't be better that the /admin page were the default one for strapi?; instead of public/index.html\nThe dashboard as an independent and isolate system, not as  part of something to be implemented.\nI also tried isolate the dashboard. I make it render correctly, but the plugin installation doesn't work.. @derrickmehaffy Is this still an issue now with #1950 merged??\n\nSide note as well, Search function does not work with the enum type. @Aurelsicoko\n\nHave a ticket for this?. I confirmed the issue is still present in master. I create a new PR to fix this. Hope you can test it.. You scare me man! . Just to make visible my opinion about why I think this should not be a feature of Strapi: https://github.com/strapi/strapi/pull/2183#pullrequestreview-167650420. > Logs should be routed not by the application, but by the exection environment the application runs in. Node applications typically write logs to stdout using the console module. Instead of the application specifying where the logs should end up, write to stdout using console and then let the execution environment (container, server, etc.) pipe the stdout stream to the appropriate destination (i.e. Splunk, Graylog, etc.).\nOtherwise: Application handling log routing === hard to scale, loss of logs, poor separation of concerns\nMore extensive argumentation: https://github.com/i0natan/nodebestpractices/pull/272/files\nTotally support that.. I will. I just ask for point me in the right direction; help understanding the current implementation.\nMy first block is the raw queries on strapi-bookshelf. I will try change them using the knex\u00b4s API. Is there some reason it is not used now? Is that the correct approach?. Excellent! I will work on it and I\u00b4ll send a PR when I have something \ud83d\udc4d . I can confirm the error. Is not creating a directory under /tmp (the temporary directory for Linux), instead is creating a tmp/ directory at the same level of the project.\nI don't know why, I will take a look later.. I was about to see this issue but I can confirm is fixed now.  I can say the error is reproducible before the commit 8a0bca02 ... doesn't looks like related :confused: . The problem is the same that I reported on #1463 there are a direct command making assumptions over the file system. The conditional on 8a0bca0 skip that when using npm...\nI'll work on a new patch to improve that when I have time :+1: . @derrickmehaffy FYI: PR merged :+1: . > hence why I have to use nvm and can't do -g installs of modules\n... ???. nvm is installed in your user-space; if you can do any nvm install xxx so you should be able to install \"global\" packages. Those will be installed in a directory under the nvm directory; your user space. That's the point!.\nWhat message/error do you have when you try to install it globally? \ud83e\udd14 . \ud83e\udd14 ... I would not like this get lost. @lauriejim I don't see problem with merge this PR, there is nothing wrong.\nOnce merged I promise review it in context and make the corrections if necessary.. > Once merged I promise review it in context and make the corrections if necessary.\nDone on #1638 . I just had experiment the same issue (again) and this time my NODE_ENV variable was undefined ... maybe is the same problem here.\n@ghufr Try to set the environment variable npm_config_debug to true, hopefully you can see a more verbose output that could help find the problem:\n$ npm_config_debug=true npm run setup\nIn my case, I got this:\n```\n\npngquant-bin@4.0.0 postinstall /project/admin/node_modules/pngquant-bin\nnode lib/install.js \n\n\u26a0 The /project/admin/node_modules/pngquant-bin/vendor/pngquant binary doesn't seem to work correctly\n\u26a0 pngquant pre-build test failed\n\u2139 compiling from source\n\u2714 pngquant pre-build test passed successfully\n\u2716 HTTPError: pngquant failed to build, make sure that libpng-dev is installed\n    at EventEmitter.ee.on.res (/project/admin/node_modules/pngquant-bin/node_modules/got/index.js:250:24)\n    at EventEmitter.emit (events.js:180:13)\n    at Immediate.setImmediate (/project/admin/node_modules/pngquant-bin/node_modules/got/index.js:99:8)\n    at runCallback (timers.js:763:18)\n    at tryOnImmediate (timers.js:734:5)\n    at processImmediate (timers.js:716:5)\n```\nMy problem was that I was connected behind an \"enterprise restricted network\" (an HTTPError). I don't know why is connecting to internet if I had all the dependencies installed... in fact, I had pngquant installed, the building should not happen at all \ud83d\ude15, but well, I changed of network and then works. \nThat error was interrupting the installation of dependencies and ending with the same error... \ud83d\ude2b \nMy 2c. \ud83e\udd14 ... I just checked again. There are some replacement but is inconsistent, in any case I could not said that works as far I understand. Let me share a couple of tests:\n\n\nWith STRAPI_BACKEND=coucou\n\n\n\nAll the plugins are requested to the same domain\n\nTe replacement for plugins are as \"basepath\" (domain.com/replaced_value/plugin/main.js)\n\nThe API calls are done at the same domain, without replacement (domain.com/${env.variable}/plugin/main.js)\n\n\nWith STRAPI_BACKEND=https://coucou\n\n\n\nHalf of the plugins are requested to \"correct\" domain (coucou).\n\nTe replacement for plugins that are requested to the same domain, is done as an empty string (domain.com//plugin/main.js)\nThe API calls are done at the same domain, without replacement (domain.com/${env.variable}/plugin/main.js); shouldn't be done to the coucou domain???\n\n... please help me to understand what I'm doing wrong. But, as an user, I would expect that plugins and API request were done to coucou domain.... I got this following the guide to deploy de admin panel in a different server. So, there should be a build process.\nThe \"funny\" thing is that hardcoding the value works. I miss showing that case:\n\n\nThe API requests go to the correct domain\nThe plugins are requested to the correct domain*\n\nSo... I would expect the same behavior using an environment variable.\n\n\nHalf of it. I still don't understand why is this, but the point is that works.. So, is this a bug or is just some misunderstanding of my side? \ud83e\udd14. I took a look on this and create the PR #1667 With that, I have this behavior:\n\n\n(comparable with the second image on this comment)\nThat is I was expected. What do you thing @lauriejim ?\n\nEdit: The changes made are in this commit ... and I'm trying to deploy all the static content here. Personal recomendation: use nvm or similar: https://github.com/creationix/nvm\nAlso, try modifying the .bashrc file; that should be loaded in every new terminal \ud83e\udd14 . Just to add the information: This warning if from the Mongo driver for NodeJS. I let here the documentation for the new methods for whatever it could helps:\nhttps://mongodb.github.io/node-mongodb-native/3.1/api/Collection.html#countDocuments\nhttps://mongodb.github.io/node-mongodb-native/3.1/api/Collection.html#estimatedDocumentCount. I just tested with the latest version an works as the documentation said. I left you and screenshot:\n\nThe console log is the only change that I made from a new installation. What do we do different?. What are the messages before that?. Ok... Some dependency is trying to build pngquant, but apparently you don't have the requirements.\nFirst, see if you have the binary installed. What is the output of executing pngquant --version?\nThen, you will need to install libpng-dev and cmake. You can do it executing sudo apt install libpng-dev build-essential.\nThen, try again and let us know if it works to try to solve it (document it at least somewhere).. I don't understand if you do a change and was expect a particular behavior \ud83e\udd14 ...\nHowever, I would say that been a web application and an \"API provider\", I could expect to been accessible to you (a client) can reach it.. I remember also seen this, but with the latest version at this time (3.0.0-alpha.13) I can't reproduce the error.\n\n@tarol Are you getting the same error with the latest version?. For \ud83d\udce6 strapi-admin: two labels are missing. I added those.\nFor \ud83d\udce6 strapi-plugin-settings-manager: those labels were translated \ud83d\ude43 \nFor \ud83d\udce6 strapi-plugin-content-manager: I don't know if changed, but the content don't match to the original. I had to translate all.\nDue to the last package, I put this fixes along with #1638 to avoid merge conflicts and so.... \ud83e\udd14 Any details of what is this re-open?\n... Anyway, you can assignee it to me if you want ;). Oh!, Thanks for let me know. I will take a look when a have time \ud83d\udc4d . @akkys77 Can you take a look? \ud83d\udc40  What do you thing?. > In French, Strapi is using formal style Vous that corresponds to Formal style Usted in Spanish.\n\ud83d\ude2e I didn't know that. \ud83e\udd14 ... I think the informal way is better for the UX, but let align with the original style. I'll do the changes.... Done!. Rebased and squashed.... Two commentaries from my side:\n\nThe history commit is really noise and have garbage. Would be nice a clean commit.\nTotally agree with this improvement. I had seen a lot of report issues due to the differences of configurations between environments; this sill avoiding some of those... and been all the same, this make evident that in reality there is not need for different files for environment. Hope see just one file in a near future :). I was not thinking specifically in Docker, but I think could be also a use case.\n\nI used environment variables on the server.json file and there is not been interpreted on the build job (as part of a CI pipeline). Not in all parts... this fix that.\nOn #1590 I documented some cases and their result. I'll put the result of this PR hoping makes clear why should be included.. @derrickmehaffy I didn't see any new comments on the original issue. I updated the description of this PR hopping having better visibility. . Glad to help :)\nI just made a rebase with master to ensure a clean merge \ud83d\udc4d . What happens here? \ud83e\udd14 . I just tested and I'm still able to reproduce it:\n\nClarification:\n- This is cloning Strapi from the repository, not with a global installation with npm\n- This is without the --dev flag. I believe with that flag is unable to reproduce it.\nThe thing is, pluralize is used inside strapi-plugin-content-manager, but is not declared as dependency in their package.json:\n\nI think that's a bug and I created the PR #1693 to solve it, but I don't have experience with the \"monorepo\" architecture; I thought there was a change to have something like \"shared dependencies\"... IDK \ud83e\udd37\u200d\u2642\ufe0f \nOn a quick read, I think my PR is valid, isn't?. If there is not showing that error with a global installation is because the dependency is solved \"by accident\" by another package... but, still a bug.\n\nBTW @xnfa, @krsnaa: I think the easy workaround is just install the dependency: npm install pluralize. \ud83e\udd14 Now I'm not sure if this problem is on master or in the release tag... I'll wait to a response on #1690 . @derrickmehaffy I wish! \ud83d\ude05 ... I have Windows and I'm working on WSL.\nI barely test the case and I can tell you I experienced the same behavior trying to use , as decimal separator (here, we use .); all is replaced by a 0.\nIf you want to test more deeply, let me know ;) . I would suggest keep the issue open (or open a new one). Add the -t parameter sounds like a workaround. I think should be optional and this is a real bug; isn't?. That piece of code is a perfect example of something that should be Unit Tested; There is not UT that could be added here? \ud83e\udd14 . @stephane-r  I create a branch in a sample project to follow this topic: https://gitlab.com/maturanomx/strapi-app/tree/issue/1840\nFist thing, your configuration file is wrong. You are doing a unnecessary cd: https://gitlab.com/maturanomx/strapi-app/-/jobs/111347022 ... you could solve that.\nSecond, you can see the build is not executing the postinstall hook. I explicitly added it and that fix the issue that you report here. Really was easy to debug it.\nStill have issues with the artifact but is evident the path is wrong. Again, from the file that you share here. You should read the documentation of Gitlab; I have understanding those task should be in an prescript section (I'm not sure), but the reason of why is not executing the postinstall hook is something to do with Gitlab and not with strapi. Also, you can read about the ci commando of npm...\nI still think and agree that strapi have problems with his setup process, but this specific issue is not valid, I think.\nFor the next time, would be a lot of help a link of the complete log: https://gitlab.com/maturanomx/strapi-app/-/jobs/111347906. @stephane-r  I create a branch in a sample project to follow this topic: https://gitlab.com/maturanomx/strapi-app/tree/issue/1840\nFist thing, your configuration file is wrong. You are doing a unnecessary cd: https://gitlab.com/maturanomx/strapi-app/-/jobs/111347022 ... you could solve that.\nSecond, you can see the build is not executing the postinstall hook. I explicitly added it and that fix the issue that you report here. Really was easy to debug it.\nStill have issues with the artifact but is evident the path is wrong. Again, from the file that you share here. You should read the documentation of Gitlab; I have understanding those task should be in an prescript section (I'm not sure), but the reason of why is not executing the postinstall hook is something to do with Gitlab and not with strapi. Also, you can read about the ci commando of npm...\nI still think and agree that strapi have problems with his setup process, but this specific issue is not valid, I think.\nFor the next time, would be a lot of help a link of the complete log: https://gitlab.com/maturanomx/strapi-app/-/jobs/111347906. I was about to ask the scenario where you could have a table without columns... but I saw on line 462 this variable contains just \"text\" columns, so, I saw the case for reproduce the error: A model with \"no-text\" attributes.\nSo... I think a better path could be a immediate return after line 462. This way, the fix apply to all databases and we avoiding executing the switch clause.\nIsn't?. I just saw your last commit ... I think there is no need to create other indentation level \ud83d\ude15. I was meaning something like this:\n```js\nlet columns = '...';\nif (!columns) { // Or if (columns.length > 0) ... whatever is the right condition\n    // Comment clarifying there not need to do anything if there are no columns...\n    return;\n}\n// Same code without changes...\n```\nSorry if I was not clear. What do you thing?. \ud83e\udd14 IMHO, I think that way is a little esoteric, not a common syntax and maybe hard to read...\nI see the \"return way\" explicit and clear to read:\nif (no-columns) {\n   stop/finish/nothing to do;\n}\nDon't you think?. o_O @marcellovetro What happens? . \ud83e\udd14 In my experience I have not to specify an authentication user for connect to mongo. This just installing mongo from repository without further modifications.. If a hint helps to avoid a common error, go ahead.\nI just point a missing space in the message :). ~~Need to solve a linter problem before been merge~~ \ud83d\ude16\nFalse alarm... nothing wrong \ud83d\ude05 . > As you specify @maturanomx for MacOS users we have to install sed\nYou mean didn't works out of the box? :thinking: :cry:. If that's the case, and if GNU's sed will be a requirement, I would like to remove the creation of temporary files; that will improve the performance. What do you think?. On 2c7311b5d563db4b3d7fcd28841ec5214ee35d8b along with adding the note, I also remove the compatibility workaround. Can you test it and let me know what you think?. I saw a travis job fails but apparently was by a Travis issue, not for the commit. On my repository passes without problem.\nI think you can re-run the job, isn't?. ### IMPORTANT\nThis will not work under Windows without installing an Unix environment. I clarify this because I saw other PRs to promote the Windows compatibility.\nIf that is a requirement, I think we can use shelljs, but that will not be as performant as the \"native\" solution. IMHO, seeking for Windows support is mostly expend time of development and do the application slower.\nLet me know if should modify this to make it work on Windows.. Yeah... There was no need to ask, sorry for that. I'll make the changes to support Windows.\nI just wanna make a point, but not the place or time. Done with shelljs. Tested with the same results \ud83d\udc4d \ud83c\udf89 . > I think you have to update package.json script clean:all to install dependencies before running remove symlinks.\nI added it as a preclean:all hook, to avoid make those lines longer. Also, I took the opportunity to reduce those lines ({one,two} means \"one or two\" in  BASH.\n\nHowever, I have to say it, IMHO this is an example of how we are breaking the KISS principle. This commands is doing too much, that complicates the things instead of make them easy.\nI just introduce a npm install before clean:all ... for then do another npm install after the clean:all, and another one for the packages. Just to \"avoid\" write it manually? \ud83d\ude15 \nThis could be a PITA for CI environments (it is for me now; mine it's doing an automatic npm install, another one \ud83d\ude2b). And, with this, we are limiting the options of use something like npm ci that could reduce a lot the time of the installation of dependencies...\nBut well... just a reminder that this could be done with one line of pure BASH.\n\nIf you want, I could also do a proposal reducing the complexity of the original code with vanilla JS (no shelljs dependency, not another npm install). Let me know, without a problem \ud83d\ude03 Thanks for the notice and for keep it on track :smile: . I'm closing this. The intention was simplify the logic, but with the actual architecture it's complicate do that.. > Are you sure about the decision to close the PR?\nYeah... for know. This arise --at least to me-- a bigger problem. I'll keep it in mind if I have time.\nYou are doing an excellent job \ud83d\udc4d Thanks to you for this \ud83d\ude04 . > 9. Did a TAG=alpha npm run release to the local package registry\nReally works this for you? I'm getting an error by a config/plugins.json missing file :confused: ... tried with a clean clone and following your guide step by step.\n```\nWARNING in ./admin/src/app.js\nModule not found: Error: Can't resolve './config/plugins.json' in '/strapi/packages/strapi-admin/admin/src'\n @ ./admin/src/app.js 73:11-43\nERROR in [copy-webpack-plugin] unable to locate 'config/plugins.json' at '/strapi/packages/strapi-admin/admin/src/config/plugins.json'\n``\nThis when trying to buildstrapi-admin. Also got similar error by a missinglayout.js` file after that...\nSorry the intrusion but I'm having different output for the same process and hopefully you have a better idea of how is the release workflow :crossed_fingers: . > is really important here and to make sure that there are no changes in your cloned repo\nAs I said, I worked from a clean clone and following your guide step by step. That's why I asked if that's all what you did and nothing further. \nThe plugins.json file doesn't exist in the repository and I think I saw the file is created running a setup.\n... I'll try again, but is really strange we have different result. It will be difficult for you tracking when that file is created??... if is created at all \ud83e\udd14 . >  the plugins.json is created when you generate your app that's why you can't locate it in the monorepo\nSo, It's a requirement create a new project do the release? \ud83e\udd14. I can't do that in our CI environment. Is valid created it with and empty array ([]) as content as workaround?. > Actually it's difficult like hell to deploy the development project,\nTotally  agree!\n\nI've developed a full functional plugin, but i'm unable to deploy it ....\n\nImportant workaround in the release job (I'll create a PR for this):\n```bash\nWorkaround.\necho '[]' > packages/strapi-admin/admin/src/config/plugins.json\n```\nIf you reduce and explain your problem, maybe I could help. I'm successfully deploying to a private registry... and yes, was a painful work.. So, you created a strapi project with and then you begin coding in a new directory under /plugins? \ud83e\udd14 . So, when you said you are deploying your project, you mean all this created code along with you plug-in, right?.\nIf that's the case, forget about the --dev flag and share your deployment process and your error.... Hi @AboAdam !\nStrapi don't support MSSQL, you can see in the readme only supports MySQL, PostgreSQL and MongoDB...\nI also ask for that in other issue. The good news is that I'm hopping work on that in coming days... Could I keep touch with you for help?. @adityakmr7 I noticed you close the issue one hour after questioning how to modify your path. Did you found the solution? Can you share it with us?\nIn Unix is modifying the PATH environment variable. On Windows should be something similar, but I don't have idea what variable is and how to modify it.... > it happens in Ubuntu and Windows only\nI'm working with WSL, on a Ubuntu environment and it doesn't happens to me either. The error should be because the environment variables are managed different on Unix (MacOS & Linux) and Windows (%something, I think). This is why cross-env exists.\nBut the way that is used now on strapi is complicate...\n@emman24 the real thing is that now is know that Strapi doesn't works on Windows \ud83d\ude15. This is just one of other know issues... I hope you can work on a VM in the meantime.. Interesting \ud83e\udd14 .... \ud83e\udd14 I don't think this is necessary.. - Edit your original message, fill the required information as requested.\n- Provide enough information to help you. Show us all the process, what was the output of the installation?\nProbably is not an strapi problem. Did you try with other package?... let's say... try installing nls; do you have the same error?. Known issue on Windows. No fix by now.\nCan you work on a VM or with WSL?. You can take a look on this issue: #1281. I don't consider Bash as Windows :yum: . \n. First at all, thanks @derrickmehaffy for keeping and eye on this \ud83d\ude03, your feedback is really important.\n\non update current_timestamp trigger removed from updated_at\nVery important on MySQL as this basically tells the server to update only that field and not created_at when new information is \"PUT\"\n\nMy question is, why is this trigger excluded for PostgreSQL. One of ~~two~~ three possibilities comes in my mind:\n1. Is not necessary. The update is done by code somewhere \ud83e\udd14 ...\n2. We have a bug in PostgreSQL. The column updated_at is not been updated on modifications \ud83d\ude31 \n3. Somewhere in code, the update is done just for PostgreSQL; doing the opposite of what is done here \ud83e\udd26\u200d\u2642\ufe0f \n... I know you are an experiment MySQL user, if you said if required now I will make the changes to get the original behavior. I will take note for the PostgreSQL case.. > > Changes longtext fields types by text type\n\nI made that change because @soupette is storing some extremely large entires in core_store\n1643\n\nQuestion: What are the implications of manage just longtext columns?. Could not have quicker searches in small/adequate column sizes? Is not the size of the database bigger or consumes more memory or something like that??? (honest question \ud83d\ude04)\nI'm thinking in another approach: make the distinction in the model definition.\n// core_store model definition file\n\"attributes\": {\n  \"some_column\": \"longtext\", // Or \"mediumtext\" \"text\"\n}\nMySQL could take that value, other databases just create \"text\" as now. Another benefit of this approach if the possibility of create an UI according the text-size...\nWhat do you thing?. ## Diff from latest version \n Commit 7ca629b\n Spaces added, when possible, just for better visualization\n* testings (?) table with all field types from the GUI, except for media type\nMySQL:\n``diff\n- create tabletestings( id  int          auto_increment not null primary key,field_stringvarchar(255),field_integerint,field_floatdouble     ,field_decimaldecimal(10, 2),field_datetimestamp default current_timestamp,field_date_withdefaulttimestamp default current_timestamp,field_emailvarchar(255),field_enumerationvarchar(255),field_textlongtext,field_booleanboolean,field_jsonlongtext,field_passwordvarchar(255),created_attimestamp default current_timestamp,updated_attimestamp default current_timestamp on update current_timestamp);\n+ create tabletestings(idint unsigned not null auto_increment primary key,field_stringvarchar(255),field_integerint,field_floatfloat(8, 2),field_decimaldecimal(10, 2),field_datetimestamp default current_timestamp,field_date_withdefaulttimestamp default current_timestamp,field_emailvarchar(255),field_enumerationvarchar(255),field_textlongtext,field_booleanboolean,field_jsonlongtext,field_passwordvarchar(255),created_attimestamp default current_timestamp,updated_at` timestamp default current_timestamp on update current_timestamp) default character set utf8;\n\ncreate table core_store ( id  int          auto_increment not null primary key, key varchar(255), value longtext, type varchar(255), environment varchar(255), tag varchar(255));\n\ncreate table core_store (id int unsigned not null auto_increment primary key, key varchar(255), value longtext, type varchar(255), environment varchar(255), tag varchar(255)) default character set utf8;\n\n\ncreate table upload_file ( id  int          auto_increment not null primary key, name varchar(255), hash varchar(255), sha256 varchar(255), ext varchar(255), mime varchar(255), size varchar(255), url varchar(255), provider varchar(255), created_at timestamp default current_timestamp, updated_at timestamp default current_timestamp on update current_timestamp);\n\n\ncreate table upload_file (id int unsigned not null auto_increment primary key, name varchar(255), hash varchar(255), sha256 varchar(255), ext varchar(255), mime varchar(255), size varchar(255), url varchar(255), provider varchar(255), created_at timestamp default current_timestamp, updated_at timestamp default current_timestamp on update current_timestamp) default character set utf8;\n\n\ncreate table users-permissions_permission ( id  int          auto_increment not null primary key, type varchar(255), controller varchar(255), action varchar(255), enabled boolean, policy varchar(255), role integer);\n\n\ncreate table users-permissions_permission (id int unsigned not null auto_increment primary key, type varchar(255), controller varchar(255), action varchar(255), enabled boolean, policy varchar(255), role int) default character set utf8;\n\n\ncreate table users-permissions_role ( id  int          auto_increment not null primary key, name varchar(255), description varchar(255), type varchar(255));\n\n\ncreate table users-permissions_role (id int unsigned not null auto_increment primary key, name varchar(255), description varchar(255), type varchar(255)) default character set utf8;\n\n\ncreate table users-permissions_user ( id  int          auto_increment not null primary key, username varchar(255), email varchar(255), password varchar(255), resetpasswordtoken varchar(255), confirmed boolean, blocked boolean, role integer);\n\n\ncreate table users-permissions_user (id int unsigned not null auto_increment primary key, username varchar(255), email varchar(255), password varchar(255), resetpasswordtoken varchar(255), confirmed boolean, blocked boolean, role int) default character set utf8;\n\n\ncreate table upload_file_morph ( id  int          auto_increment not null primary key, upload_file_id int, related_id int, related_type longtext, field longtext);\n\ncreate table upload_file_morph (id int unsigned not null auto_increment primary key, upload_file_id int, related_id int, related_type longtext, field longtext) default character set utf8;\n```\n\nPostgreSQL:\n```diff\n- create table \"upload_file\" ( id  serial primary key, \"name\" varchar(255), \"hash\" varchar(255), \"sha256\" varchar(255), \"ext\" varchar(255), \"mime\" varchar(255), \"size\" varchar(255), \"url\" varchar(255), \"provider\" varchar(255), \"created_at\" timestamp with time zone, \"updated_at\" timestamp with time zone);\n+ create table \"upload_file\" (\"id\" serial primary key, \"name\" varchar(255), \"hash\" varchar(255), \"sha256\" varchar(255), \"ext\" varchar(255), \"mime\" varchar(255), \"size\" varchar(255), \"url\" varchar(255), \"provider\" varchar(255), \"created_at\" timestamptz default current_timestamp, \"updated_at\" timestamptz default current_timestamp);\n\ncreate table \"users-permissions_permission\" ( id  serial primary key, \"type\" varchar(255), \"controller\" varchar(255), \"action\" varchar(255), \"enabled\" boolean, \"policy\" varchar(255), \"role\" integer);\n\ncreate table \"users-permissions_permission\" (\"id\" serial primary key, \"type\" varchar(255), \"controller\" varchar(255), \"action\" varchar(255), \"enabled\" boolean, \"policy\" varchar(255), \"role\" integer);\n\n\ncreate table \"users-permissions_user\" ( id  serial primary key, \"username\" varchar(255), \"email\" varchar(255), \"password\" varchar(255), \"resetpasswordtoken\" varchar(255), \"confirmed\" boolean, \"blocked\" boolean, \"role\" integer);\n\n\ncreate table \"users-permissions_user\" (\"id\" serial primary key, \"username\" varchar(255), \"email\" varchar(255), \"password\" varchar(255), \"resetpasswordtoken\" varchar(255), \"confirmed\" boolean, \"blocked\" boolean, \"role\" integer);\n\n\ncreate table \"users-permissions_role\" ( id  serial primary key, \"name\" varchar(255), \"description\" varchar(255), \"type\" varchar(255));\n\n\ncreate table \"users-permissions_role\" (\"id\" serial primary key, \"name\" varchar(255), \"description\" varchar(255), \"type\" varchar(255));\n\n\ncreate table \"testings\" ( id  serial primary key, \"field_string\" varchar(255), \"field_integer\" integer, \"field_float\" double precision, \"field_decimal\" decimal(10, 2), \"field_date\" timestamp with time zone, \"field_date_withdefault\" timestamp with time zone, \"field_email\" varchar(255), \"field_enumeration\" varchar(255), \"field_text\" text, \"field_boolean\" boolean, \"field_json\" jsonb, \"field_password\" varchar(255), \"created_at\" timestamp with time zone, \"updated_at\" timestamp with time zone);\n\n\ncreate table \"testings\" (\"id\" serial primary key, \"field_string\" varchar(255), \"field_integer\" integer, \"field_float\" real, \"field_decimal\" decimal(10, 2), \"field_date\" timestamptz default current_timestamp, \"field_date_withdefault\" timestamptz default current_timestamp, \"field_email\" varchar(255), \"field_enumeration\" varchar(255), \"field_text\" text, \"field_boolean\" boolean, \"field_json\" jsonb, \"field_password\" varchar(255), \"created_at\" timestamptz default current_timestamp, \"updated_at\" timestamptz default current_timestamp);\n\n\ncreate table \"core_store\" ( id  serial primary key, \"key\" varchar(255), \"value\" text, \"type\" varchar(255), \"environment\" varchar(255), \"tag\" varchar(255));\n\n\ncreate table \"core_store\" (\"id\" serial primary key, \"key\" varchar(255), \"value\" text, \"type\" varchar(255), \"environment\" varchar(255), \"tag\" varchar(255));\n\n\ncreate table \"upload_file_morph\" ( id  serial primary key, \"upload_file_id\" integer, \"related_id\" integer, \"related_type\" text, \"field\" text);\n\ncreate table \"upload_file_morph\" (\"id\" serial primary key, \"upload_file_id\" integer, \"related_id\" integer, \"related_type\" text, \"field\" text);\n```. @derrickmehaffy \n\n\nFloat/Decimal should have user defined accuracy (above the scope of this PR I think, but needs to be done before merging)\n\nWhy? Originally is not user defined, right? I'm seeking now having the same behavior  for have the safest merge possible. Right now I just have a difference for the float file type. Can you help me to investigate/test how important is this?\n\nenum shouldn't use the MySQL data type, use varchar as enum on MySQL is a huge PITA\nText fields should use longtext by default (same with json, since in  order to use json data type you need at least mysql v8 or mariadb v10.2  and ubuntu 18.04 ships with mariadb v10.1 by default)\ncreated_at should use current_timestamp (which it does)\nupdated_at should use on update current_timestamp\n\ndone, done, done & done :+1: \n\n\nThe date field (manual user field) shouldn't be current_timestamp\n\nThis...\nI would think this is how it should be, and I tried to remove this (you can see, currently have this default value) but I got an strange error:\n\nHonestly, I don't know the reason of this error :man_shrugging:. Why I can create the first one without a default value but need one for the second? :thinking:. The query for your test:\nsql\nCREATE TABLE `test` (`field_date` timestamp, `field_date_two` timestamp); \nBesides of knowing the problem, change the current behavior is out of scope of this PR. When is merged, adding a default user-selected value, instead of the current one could be done. But, that's work for future... . Adding new fields to an already create model, done. Originally was executing a query by new field; this implementation is doing all in just one query.\ndiff\n- ALTER TABLE \"foos\" ADD \"field_integer\" integer;\n- ALTER TABLE \"foos\" ADD \"field_float\" double precision;\n- ALTER TABLE \"foos\" ADD \"field_date\" timestamp with time zone;\n- ALTER TABLE \"foos\" ADD \"field_email\" varchar(255);\n- ALTER TABLE \"foos\" ADD \"field_enumeration\" varchar(255);\n- ALTER TABLE \"foos\" ADD \"field_boolean\" boolean;\n- ALTER TABLE \"foos\" ADD \"field_password\" varchar(255);\n+ alter table \"foos\" add column \"field_integer\" integer, add column \"field_float\" real, add column \"field_date\" timestamptz default CURRENT_TIMESTAMP, add column \"field_email\" varchar(255), add column \"field_enumeration\" varchar(255), add column \"field_boolean\" boolean, add column \"field_password\" varchar(255). @derrickmehaffy @Aurelsicoko @lauriejim\nThis PR has been ready to be merge since a long time ago. I'm going to resume work for support MS-SQL, if you can help me reviewing and testing this changes in order to can continue with that...\nThanks.. @derrickmehaffy @lauriejim ... There was a problem because I'm mirroring this repository on Gitlab and the branch for this PR wasn't updated there... I fixed that.\nsorry for the absence, I was assigned as team leader of an urgent project and is tooking all my time. Hope back soon...\n\nEdit: Anyway, I rebase this branch with master and I don't see conflicts... so, should continue be able to merge it.. That's just one of many other known issues on Windows. Can you try working on a VMs or with WSL?. I'm working with the second one :). Is this works on Windows? :thinking: . Good to know doesn't have problem with the interpreter :+1: \nI a quick look with a clean clone, I found 819 executable files (from 1804 in total), including .md, .css, configuration files and so on ...\n\nSo, my conclusion is that if this file is executable is by accident. The real issue is that we have executable files when in reality none --maybe-- should be.\nDon't you think?. \ud83e\udd14 I not sure how to answer that... I will try explain it, sorry if I'm misunderstood the comment.\n\n\nUnix systems have a file permissions system. There are 3 basic types: write, read and execution; and 3 type of access: owner, group and others.\n\n\nRight now, with a clean clone from master all the listed files are executable. Let's take the file LICENSE.md in the directory root as example: \n\n\n\nThe actual permissions for that file -rwxr-xr-x are (or 775), meaning:\n  - Can been write (edited/deleted) by the owner (maturano) and users in the group maturano\n  - Can been read just by the owner and nobody else\n  - Can been execute by anybody\nMainly, two problems with the last one:\n  - It's not an executable file. Is not code, is just plain text.\n  - If were executable, anyone could run it \n\n(Error syntax because obviously is not valid code, but you can see how is trying to running it)\nYou can see in the image the user postgres is also able to execute the file. In a shared system (everyday less common, I know) this is a security risk. I took an invalid file, but if were a real executable...\nThis PR just ~~change~~ fix the file permissions. You can see the change in the side of the filename:\n\nFrom 775 (or -rwxr-xr-x) to 664 (or -rw-r--r--), meaning:\n  - Anybody can read it\n  - Just the owner of the file can write it\n  - Nobody can execute it...\n\nHope this clarify the PR and why I created it. This is --basic?-- Unix and could be an open door for insecurity issues. These days with devops, virtualization, container, clouds and bla, bla, bla is less ~~important~~ dangerous, but doing our part in our side doesn't hurt \ud83d\ude09\n\n... and yes, Windows doesn't have this file attributes and if you write/move a file from Windows to Unix it will put it as an executable and ... \ud83d\ude2a . Travis fails. This is from the log: \n\ud83d\udce6  Linking strapi-lint\nnpm ERR! code E503\nnpm ERR! 503 No backends available: @xtuc/long@4.2.1\nnpm ERR! A complete log of this run can be found in:\nnpm ERR!     /home/travis/.npm/_logs/2018-09-19T23_36_07_284Z-debug.log\nnpm ERR! code E503\nnpm ERR! 503 No backends available: @xtuc/long@4.2.1\nIn my local I also have problem with exactly the same dependency, just I was getting a 404 error. Temporary problems with the registry? coincidence is the same library? is a new dependency? :thinking: . > \n\nI have restart tests, looks working well.\n\nOh!, you mean the Travis tests :)\nJust for add information, this is from master reproducing #916 :\n\n. Hi o/ I just give a quick eye on the conversation. I have one question: What's the value of NODE_ENV?\nIn the past I tried mlab without problems. No value for authenticationDatabase, just host, port, username, password and database, plain and simple.\nAs far I saw, I think the problem could be that when you create the project, strapi writes to config/environment/develop/database.json, but when you try to run it, reads from config/environment/WHATEVER_NODE_ENV_IS/database.json. If that's the case, the fix is just copy the file, or set the data to the correct env variables that are in the file.\nHope it helps. Let me know o/ . May I ask for a description of what is this doing? \ud83d\ude16 Changes some behavior? Have a visually effect? ...\nI see similar changes on #2025 What's the difference or how is this related?\n\ud83d\ude36 . Actually, is not the requirements wrong? \ud83e\udd14\nI remember Strapi can run on Node 9.x, when and what change that?. Fine then. Thanks for the information \ud83d\udc4d\nBTW, the PR related is #2026 . Sure! \ud83d\udc4d. > I quote \"Commit it. It's meant to be committed.\"\n\nhttps://www.reddit.com/r/webdev/comments/6mupqt/packagelockjson_not_sure_if_i_should_commit_or_not/\n\nTotally agree!... But the reality is that, right now, strapi doesn't work using package-lock.log file. You can see it along the code:\n- https://github.com/strapi/strapi/blob/bf355c89110dde969cdc1648d1f959cb1cf3dc7e/package.json#L28\n- https://github.com/strapi/strapi/blob/124d0b1ebbebd7dca712cd71a512c0cbac758f1e/scripts/setup.js#L137\n- https://github.com/strapi/strapi/blob/60a7e99d11a2ac15317c7aeb378dec5022fb7776/packages/strapi-admin/scripts/preSetup.js#L20\nhttps://github.com/strapi/strapi/blob/4edbef18405c56e51323a7f1685339278eea7bc2/packages/strapi-admin/admin/.gitignore#L7\nThis is sad, but you should not have this problem if you just run npm run setup after the installation. Simpler that you snipped.\nI suggest close this issue and open a feature request: been able to work with the package-lock.json file :stuck_out_tongue: . > @lauriejim\n\nCan you please explain in brief. I can't get it.\n\nHe is meaning about the format of your issue. Format your log as code, follow the template. Is hard to read as is now.\n\n@soupette\nI have used sudo also as there was a permission issue first but then also this error comes up every time.\n\n... you should take care about the permissions system, for your own good, don't run npm (and almost nothing) as root.\nYour issue is not with strapi but with the filesystem permission of your Unix SO. A dependency is trying compile something, this is running in a subshell child of a npm run-script and, from the documentation:\n\nIf npm was invoked with root privileges, then it will change the uid to the user account or uid specified by the user config, which defaults to nobody. Set the unsafe-perm flag to run scripts with root privileges.\n\nSo, doesn't matter you run it as root because the user is changed (because running it as root is a bad idea). So, three options comes in my mind:\n\n\nDo what the documentation said to be able to run the script as root (... not the best idea).\n\n\nSet the permissions for /usr/lib/node_modules/ to something that works for you.\n  a) You can just add write permissions for everyone (... works but not the ideal)\n  b) You can change the owner of that path to your user (... better is you are the only user)\n  c) Use a group where your user is member and set the correct permissions (better; your understand you SO)\n\n\nManage your packages in your user space; the better of the options. You can configure npm (I think is a prefix param) or use a tool like nvm to don't have to deal with that.\n\n\nTLDR: Your problem is not strapi, the solution is from your SO. This is reverting the changes of #1928 merged just days before!\nWhy???? \ud83d\ude2d . > @maturanomx because @soupette forgot to pull the source \ud83e\udd23\nI don't think so. Is specifically done with one commit (220fb2caf8f8ca46ffff5646d62c3adc62c69819), not result of some merging of something. However, this PR is reverting work done just days before. Why??\nIf because a missing pull, we need to improve our git flow; please, embrace git rebase. If the work done on #1928 was wrong, we need improve our code reviews; should be merged and the revert should be done in a PR apart.. \ud83e\udd14 Really looks like a typo \ud83d\ude32. Good catch! \ud83e\udd47. Could be good search for same issue. I just found the same typo in other part: https://github.com/strapi/strapi/blob/d8a2c9a833629d311e0b5a60a5105c2ac38d9105/packages/strapi-hook-bookshelf/lib/index.js#L517. Steps and evidence. And screenshot or something where you can show what this is solving.\nAre not a related issue? :thinking: \n\n@lauriejim if is not reproducible, I think (I have seen) the bug tag should not been added. Instead, there is a need help tag or something like that.. > I was just wondering if in the core it's requesting all fields with all relations from the database and then it filters the field you requested with GraphQL afterwards\nYou can add a debug attribute on you database configuration file:\nconfig/environments/developer/database.json\njson\n{\n  \"defaultConnection\": \"default\",\n  \"connections\": {\n    \"default\": {\n      \"connector\": \"strapi-hook-bookshelf\",\n      \"settings\": {\n      },\n      \"options\": {\n        \"debug\": true\n      }\n    }\n  }\n}\nHopefully, you can see enough to answer that question. Let us know!\nI should agree that the default behavior should be including the relations just when explicitly request for them. . Please, don't!.\nThe code in the comment from this were taken is good as a workaround, but is not fixing the problem, just add more complexity to the core.\nFirst, this is iterating over admin/plugins, that's the first time that I see that path. The plugins directory should be under the directory root. Here the screenshot of the structure of a project:\n\nSecond, there is already a process to install the plugins's dependencies, this is just forcing doing the same. Again, this is not a patch, if that code is not working as expected, the solution should be done there.\nI think those arguments are enough, but just to get out of my mind:\n- What about is the project was created with yarn?\n- What about is there is a project-lock.json?\n- What if the user user needs to pass parameters to npm?; like a registry\n- This is suppose to solve a issue on Linux, why then is not making the distinction?\n- The problem is not reproducible every time. Believe, I'm working on Linux.\n- The code quality could be improve a lot. Those variable names and commands are not good for search and debugging \n- There is already more that 30 npm install commands along the code base... that's why is unstable\n@mustafa-hanif I don't wanna be rude; thanks for your time. I had experience the same behavior in some times, I didn't take the time to debugging, but I had two theories: \n1. Environment. Another problem in the code base is that all this setup logic is different by environment.\n2. I think once I got on this because a fail in the installation of some dependency that was stoping all the process and as not visible by that silent parameter.\nIf you have an environment where you got the same error every time, I would glad to see with you what is happening.. >     * There is already more that 30 npm install commands along the code base... that's why is unstable\nAt least 41 that are in executable code:\n\nThat, just searching by npm install; not including  the cases where the code is not searchable, like ${command} install and npm i, been inside a loop, etc...\nSo, my point: we need reduce that complexity.. FYI: the linked issue that this PR is trying to solve, is not an strapi issue: https://github.com/strapi/strapi/issues/1840#issuecomment-427708718\nErgo, this PR should be rejected.. Looks good :+1: ...\nI just had one question due to my inexpertise with heroku, but I answered myself :sweat_smile:\nMy questions was if not the step 4 (git remote add origin) cause a conflict with step 2 (heroku git:clone -a) due to the name of the remote reference. But it could be read in the heroku site this clone the repository \"as well as adding a heroku git remote to facilitate further updates\".\nSo, makes no conflict. Good to know :+1: . > Create a relation between Article and Tag with N:N type\nCan you help me with the instructions on how to create that?. I really don't know, When I tried to create relations I don't understand the GUI :( .... > The id name of the table should be uuid, but it still is id. \nDisagree. The changes is about the data type of the column, not about the name of the primary key. Changing the name of the primary key have a lot of other implications... could be done, yes, but is not the scope of the changes that you mention and is not required to use UUID as datatype for primary key.\n\nI think the first issue is easy to fix, but the 2, 3, 4 probably has something to do with model relations. any ideas?\n\nThe first issue is what I comment before.. 2, 3 and 4 I think are real issues, I detected them working on #1932 (you can see, one if the things to be done is about the relations)\nCould you provide us an step by step to reproduce in the most simple way?; One-to-one relation maybe?. Would be a lot of help.. After write this issue I began working in a fix...\nI found that the host is always prepend with an slash. Changing that all the requests are done as I would expect:\n\nThe problem now is that the files are not there. I think I saw a peace of code that copy those files...\n... however, I just realize that those request should not be done at all, not that way. The request should be by the chunks that webpack build, isn't??? \ud83d\ude15\nI will continue working in this way (fix the requests as is now) because I need this working ASAP. But, again, any help to understand the original idea, or the best workflow.... > It perfectly normal that the host is always prepended with a slash but the real issue is the value after the first slash, why is there http://localhost:8000?\nAs use a domain as the documentation says; just replacing http://yourfrontend.com/dashboard by http://localhost:8000:\n\nBut nothing (even the structure of the build) is as the documentation said.\n\nYou should create a script that copies the plugins build into a /plugins/* folders on the front-end server.\n\nI worked on a fix for that, but then I realize that all that parameter make no sense. As you said, should be always a relative path, could be needed a \"basepath\", but not a \"host\"...\nI'm keeping this in mind \ud83e\udd14 .... > \n\nI've tested the updated glob by @maturanomx and it is working correctly. I've updated the pull request accordingly.\n\nAwesome!. Thanks :). Search; it's a know issue on Windows. One workaround is pass all parameters to the cli.. Please, see https://github.com/strapi/strapi/issues/1427#issuecomment-434921136 for a deeper argumentation against doing this.. Just to ask if this is tested. Been a mayor release could/should break some things.\nIn a quick view on the changelog, I just able to see one change in the API:\njavascript\n  if (req.query.error) {} // v3.x\n  if (req.session.grant.response.error) {} // v4.x\nIn the absent of testing, at least a direct confirmation that the change was tested and validated \ud83d\ude04 . Can you do a git rebase instead the merges?; In order to have a clean history log. IMHO I think a simple concatenation reads better in this cases.. But why?. I saw the dev flag creates a syslink to a global package. I'm thinking that a user wants the modifications as part of their project... and this doesn't sound like that would happends. Running setup on the root directory executes cd admin && npm run setup ... is running npm run setup in /admin. I don't see any difference.. isNPM should be false if is included in the yarn global packages. Can your review it @soupette ?\n(I changed ls by list; the first one is deprecated). Yeah, but this \"note\" on the documentation has a tone of mandatory and that's false; right now, the command should works either on the root directory or inside /admin. IMHO this note add just a \"bad sensation\" \ud83d\ude15 \nI hope explain myself. English is not my first language and I am far of dominate it \ud83d\ude16. I start the frontend running npm run setup in projects without the --dev flag... or not? \ud83e\udd14 \nI have no clear the workflow for development in a project having strapi as dependency and I think is a common misconception; I did find several conversations/issues with the same doubt (maybe because I was searching about that) and with no clear answer.\nHoping improve the documentation in that matter U_U. Back to my first comment, when I said \"but why?\" I was refer about that; the clarification of how the things works, an explanation of what is the idea behind, share how is it thought that things work. Missing open exclamation point. Isn't \\u0020 just an space?; https://www.fileformat.info/info/unicode/char/0020/index.htm. IMHO, is better the one line syntax. Tilde en la O: AP\u00d3YANOS. Are this double spaces in the original? \ud83e\udd14 . Not sure about this \ud83e\udd14 ... I don't know where is used, but without see it I think is better just \"Mercado\". \ud83e\udd14 Again, without see where is used, I think could be better \"Editar Proveedor {provider}\". \"Permisos\"? \ud83e\udd14 . \"suscripciones de IP por hora\"??? \ud83e\udd14 . :) is that way in the original? .... Alternative: \"Enviar nuevamente\". Is funny you formatted other lines but not the added one. This could be indented to avoid long lines ... . NodeJS >= 9 includes Node 10? \ud83e\udd14\nI know is silly, but this is read as if all the databases was required. Maybe something like is could be better:\n+ NodeJS => 9.x\n+ _One of this databases_:\n  - MongoDB >= 2.6.x\n  - ... etc.\n\ud83e\udd37\u200d\u2642\ufe0f . Thanks for understand me @kamalbennani \ud83d\ude04 . Space between \"database\" and \"(Maybe...\".... \ud83d\udea8 \ud83d\ude31 . Bad indentation. Same. Bad indentation.. Redundant. The first rule include the second one.. Isn't a good practice include just what is needed? \ud83e\udd14. My idea is first replace the current behavior. I have read other \"possible improvements\" that you mention (please, continue) and I think we could add it --like this, is possible--, but I'm thinking in let those for other PR for a better review and inclusion.\nI'm letting commends in code in the meantime \ud83d\ude04 . Why are we excluding this? \ud83e\udd14 . Understood! Thanks for your response \ud83d\udc4d . Do you mean in the GUI? ... or not been hashed in the DB?\nIf is something of that, should not be caused by this changes. The same behavior should be present in master. If not, can you expand what are you meaning please?. Prefer using #!/usr/bin/env bash instead; is more portable. Is not better running just one command? \ud83e\udd14 npm uninstall -g strapi strapi-admin strapi-etc; I don't know, could be quicker.\nAlso, as far I know, wildcards are parsed by BASH before executing a command. If that's true, ~~How safe is reduce all this lines to a simple npm uninstall -g strapi*? \ud83e\udd14 Do you know if this works?~~\nI just realize that will not work. In that case, bash will not found matches and will not replace the wildcard, so will be passed as is to npm. I don't know npm could make use of it.... This is assuming a readable output, isn't? Maybe we can improve the output  adding some validation. I'm thinking in something like this:\nbash\nif (NPM_CONFIG_LOGLEVEL=silent npm list -g --depth=0 | grep -lq 'strapi'); then\n   echo \">  Please check below to see if any Strapi dev modules are still installed. If there are, uninstall them manually.\"\nfi\nWhat do you thing? \ud83e\udd14 . destroy sounds dangerous \ud83d\ude04. So... This is requiring using Mongo 6? \ud83e\udd14 I think the latest version right now is 4.x, isn't? \ud83e\udd14 . What's the problem with Node 9? I'm using it and I don't see any problem. When changed the support? \ud83e\udd14 . \ud83d\ude08 \nnpm run destroy && \\\ncomputer_close && \\\ngetout_enjoy_the_world. Node 10 it is. See comment from @derrickmehaffy : https://github.com/strapi/strapi/issues/2023#issuecomment-424818662. I had a problem with babel-plugin-transform-react-remove-prop-types@0.4.14, is much work update also this plugins? \ud83d\ude16 . Ups... typo \ud83d\ude1e . Just one call... \ud83e\udd37\u200d\u2642\ufe0f . 6 lines reduced in just one. handleClick defined on line 69 is not accepting parameters. Definition and invocation are not the same.\nThis should be the more \"difficult\" to review. same. There was two TableRow.defaultProps defintions. I merged in one either the original code is one replacing the other... isn't?.\nLet me know if I should just remove the first definition.. Conditional was returning the same in both cases. I think this is the correct.. Not used in the file. > You should always include at least one generic family name in a font-family list, since there's no guarantee that any given font is available. This lets the browser select an acceptable fallback font when necessary.\nhttps://developer.mozilla.org/en-US/docs/Web/CSS/font-family. \"Download in corso\" is correct? \ud83e\udd14 . :thinking: I think most of that we can leave out all this g elements; just the path should work.. svg\n<svg width=\"11\" height=\"12\"><path d=\"M4 9.75v-5.5a.243.243 0 0 0-.07-.18.243.243 0 0 0-.18-.07h-.5a.243.243 0 0 0-.18.07.243.243 0 0 0-.07.18v5.5c0 .073.023.133.07.18.047.047.107.07.18.07h.5a.243.243 0 0 0 .18-.07.243.243 0 0 0 .07-.18zm2 0v-5.5a.243.243 0 0 0-.07-.18.243.243 0 0 0-.18-.07h-.5a.243.243 0 0 0-.18.07.243.243 0 0 0-.07.18v5.5c0 .073.023.133.07.18.047.047.107.07.18.07h.5a.243.243 0 0 0 .18-.07.243.243 0 0 0 .07-.18zm2 0v-5.5a.243.243 0 0 0-.07-.18.243.243 0 0 0-.18-.07h-.5a.243.243 0 0 0-.18.07.243.243 0 0 0-.07.18v5.5c0 .073.023.133.07.18.047.047.107.07.18.07h.5a.243.243 0 0 0 .18-.07.243.243 0 0 0 .07-.18zM3.75 2h3.5l-.375-.914A.22.22 0 0 0 6.742 1H4.266a.22.22 0 0 0-.133.086L3.75 2zm7.25.25v.5a.243.243 0 0 1-.07.18.243.243 0 0 1-.18.07H10v7.406c0 .433-.122.806-.367 1.121-.245.315-.54.473-.883.473h-6.5c-.344 0-.638-.152-.883-.457C1.122 11.238 1 10.87 1 10.438V3H.25a.243.243 0 0 1-.18-.07.243.243 0 0 1-.07-.18v-.5c0-.073.023-.133.07-.18A.243.243 0 0 1 .25 2h2.414L3.211.695c.078-.192.219-.356.422-.492C3.836.068 4.042 0 4.25 0h2.5c.208 0 .414.068.617.203.203.136.344.3.422.492L8.336 2h2.414c.073 0 .133.023.18.07.047.047.07.107.07.18z\" fill=\"#F23508\" fill-rule=\"nonzero\"/></svg>. generators? I had seen in other parts async & await. What is the preference?. Relevant to this PR?.. This imposes a bad workflow by taking away the option to be able to control the commits.\nThis is a really bad assumption.. To make it clear:\n. Maybe this should be const isSetup = process.env.IS_MONOREPO || false;, same as in other files \ud83e\udd14 . You are declaring an argument that never pass in the invocation and looking for an value outside the scope of the function... it doesn't feel good.\nIn any case, you could let the argument and use the environment variable in the invocation if is needed; let the function do just one thing.. So, basically you are splitting the string for then join it again. What is the intention of that? \ud83e\udd14 . You don't have to improve code that's now yours; you can, and it will be appreciate, but taking care of your own code should be enough.. If I understand your explanation, redirecting the output should be enough:\n$ npm start > logs/output.log\nMost at my favor: that is simpler that this PR.. \ud83e\udd14 I think the image is clear; obviously is under this branch.\n\nI made changes on 3 files\nI try to commit just one file\nWas not possible because the hook do git add .. At the end, the three files were commited\n\nPartial commits is good feature used by a medium git user. This changes just remove the control of what the user wants to commit...\nWhat I suggest?; don't put it as a pre-commit hook. You can put it as a part of the CI flow if you want.. Thanks for that! \ud83d\ude04 . > this current commit was only the first US/step before to go further in this feature \nExactly my point! Introducing this meaning support more code, more features, more work that 1) is not the scope of what Strapi is; and 2) there are specialized tools for that. Whatever that we are trying to archive with this is already solve in a better way by others.\nAnd, is just my opinion, please don't drop anything, I'm just trying to improve this project, just like you \ud83d\ude04 . \ud83e\udd14 Why not add just the optional extension?; it the real objective isn't?. Not tested, but I think it should be something like:\n'./api/*/config/*.graphql?(.js)'. Me neither \ud83d\ude0b. If you decided to try it, I'll appreciate let me know if works \ud83d\udc7c . typo on \"version\". I thought on that, and is less harmful but is doing the same: impose a workflow to the user; removes control if I don't wanna commit a translation file (personally, a very common scenario).\nThe way that this doesn't interfere is add the translation files that was modified only by the script; or been modified by the user and not staged for commit. But, the \"problem\" that this solves would happen once in a while, it would worth the effort?\nAs part of the CI of as script to been executed manually (or as personal/local hook, if your choice); I don't see other way \ud83d\ude15 . In what environment did you test this? \ud83e\udd14 \nAs I suspect, in my test this breaks if record is not \"falsy\":\n\nsame result with a numeric value; tested on Node v10.10\nBut well... I see lodash is already used in the file, I think you can use get like this:\nsuggestion\n    const data = _.get(record, 'toJSON()', record);\nAnd we got the original intention, isn't?\n\n. Can we use includes?; https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/includes\nOr, even better, startsWith: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/startsWith\nIf, I'm understanding well:\nsuggestion\n        if ( ! p.path.startsWith(searchContext, 1)) {\n          continue;\n        } \nIt is more descriptive and we avoid use that \"hacky\" !~, isn't?.. I see a commit that makes me understand that (a167fdd531d73d1ec43d9138bae53ae8e35ec33d), I had not review it but I don't see removing the git add command on the hook... so, I don't know how is that possible.\nTrying to make it clear, I just tested with latest changes:\n\nSame behavior: I just wanna commit the README.md file, this hook just add all files.... Can't we use startsWith to make it more readable?\njavascript\npackages = packages.filter(pkg => pkg.startsWith('strapi'));\nOr includes if isn't a requirement that begins with strapi.. Alternatively, we can just avoid having to sync on every change version and just link to the requirements section:\nsuggestion\nTo facilitate the contribution, we drastically reduce the amount of commands necessary to install the entire development environment. First of all, you need to check if you're using the [required versions of Node.js and npm](https://strapi.io/documentation/3.x.x/getting-started/installation.html#requirements)\nWhat do you think?. This is hard to read. Can we use multi-line to make more visible what is happening here?. Plus, avoiding long lines...\nsuggestion\n    const {\n      hideLoginErrorsInput,\n      location: { search },\n      match: {\n        params: { authType, id }\n      },\n      setForm,\n      submitSuccess\n    } = this.props;\nOr maybe do it in two steps to destruturing nested properties \ud83e\udd37\u200d\u2642\ufe0f . Should not be inverted?; checking first if submitSuccess is truly? \ud83e\udd14 . Isn't better move logic to is own sentence and promote the declarative intention of JSX?. Plus, we avoiding this long lines and making more readable.. Vertical space is important \ud83d\ude15 . cc @lauriejim \u261d\ufe0f . This braked is here to the scope of const variables declared inside the case... that, along with that the close bracket is not changing, also introduce an style/indentation issue \ud83e\udd14 \nAlso, I thought have seen another PR making a similar modification... let me search.... > I think @maturanomx you speak about an other issue. Can you please create or link an issue about that.\n\ud83e\udd14 ... I never mention other issue. I just talked about the modified code on this PR. Sorry if I was not clear.\nBut, good to know the suggestions works \ud83d\udc4d . ",
    "landysunny": "it's my first time to try the strapi and i find there is a question.I try to use the plugin which called Settings Manages because I want to choose chinese as my default language.But i find when I add the language of chinese,there is a error occurred. And I don't konw the reason. I try to add the other language , it's ok. But i cant just add chinese.Could tell me why and how can I solve this problem. If you have any solution,please tell me.Thank you very much!. I had try your solution. But It seems didn't work, could show me by details.. \n\n\nthe picture show which error I meet with, please help me, thank you very much!. ",
    "kakaroto1500": "so I understood I think the complaint of it and when it throws a new die using api and the server give a restart. ",
    "ridvann": "Hello @Aurelsicoko ,\nThere is no problem with One-to-one method in my project.\nBut I want to use the one-way method. When I do this, the above problem is happening.\nYou can find my API files below.\nThanks\napi.zip\n. Thank you very much, this is a very important feature\nI hope you add in a short time. \nThanks. ",
    "okaris": "Is this not implemented in the admin frontend?. @Aurelsicoko I will do it and submit a PR if thats allright. Thanks for the swift reply!. \nThis is what it looks like in the end @Aurelsicoko . Although I faced a problem. Creating a oneWay relations appends to the target models settings.json. The relationship I created in the above screenshot caused this: \n\n. I am also on Slack as @okaris btw. @lauriejim My work here seems to be done. The PR is ready to be reviewed. Thanks. @Aurelsicoko thanks and done. \n\n. @lauriejim Sure thing!. Working on this now.\n. > I am using pm2 instead of the normal strapi start but have modified my package.json to do so.\nThis shouldn't yield any problems.\nBased on the files you've provided I can't see any reason for it to now work. Mongoose and Bookshelf uses the same routes template so there shouldn't be any errors in that. The count function uses almost the same code with fetchAll function. Only difference is it does not add sort limit skip. Can you tell me if fetchAll returns what it should as it is?. The version of strapi where I tested this did not yield any errors like this. Infact I was and am still able to create multiple oneWay relations from admin ui. Maybe this is a check that was introduced later. But I remember checking the part where \u201c-\u201c registered as a field in target model and disabled that. \nhttps://github.com/strapi/strapi/blob/ae29802c07e3d8f00bb9849df2cd657caf619cba/packages/strapi-plugin-content-type-builder/services/ContentTypeBuilder.js around line 216 you should see the conditional. \nI might have overlooked some other place that checks and creates this since I am not fully experiences on the whole strapi framework. \n. ",
    "rojasmi1": "Cool! Thanks for the quick reply @Aurelsicoko!. ",
    "peeomid": "Hi @Aurelsicoko \nThanks for quick response. I've tried changing it all to lowercase and it works fine now. Seems like that's the issue.\nLook forward to merge.. ",
    "blondie63": "Looking on your docs i see that connector can be: \"strapi-mongoose\" , \"strapi-bookshelf\" or \"connector\": \"strapi-redis\" , right ?\nI've tried to set manually but it need some old dependency like knex@>=0.6.10 <0.12.0..\nI've found a right conbination.. do you have a sample prj just ready for mysql?. Hi, the proble is dependencies !\nLook below:\niMac-di-Mauro:test mauro$ npm install\n\ntest@0.1.0 postinstall /Users/mauro/Documents/_projects/Webapp/strapi/test\nnode node_modules/strapi/lib/utils/post-install.js\n\nInstall plugin content-manager dependencies...\nnpm notice created a lockfile as package-lock.json. You should commit this file.\nInstall plugin content-type-builder dependencies...npm notice created a lockfile as package-lock.json. You should commit this file.\nnpm WARN strapi-plugin-content-type-builder@3.0.0-alpha.7.2 No repository field.\nInstall plugin email dependencies...\nnpm notice created a lockfile as package-lock.json. You should commit this file.npm WARN strapi-plugin-email@3.0.0-alpha.7.2 No repository field.\nInstall plugin settings-manager dependencies...\nnpm notice created a lockfile as package-lock.json. You should commit this file.\nnpm WARN strapi-plugin-settings-manager@3.0.0-alpha.7.2 No repository field.\nInstall plugin users-permissions dependencies...\niMac-di-Mauro:test mauro$ npm install\n\ntest@0.1.0 postinstall /Users/mauro/Documents/_projects/Webapp/strapi/test\nnode node_modules/strapi/lib/utils/post-install.js\nInstall plugin content-manager dependencies...\nInstall plugin content-type-builder dependencies...\nnpm WARN strapi-plugin-content-type-builder@3.0.0-alpha.7.2 No repository field.\n\nInstall plugin email dependencies...\nnpm WARN strapi-plugin-email@3.0.0-alpha.7.2 No repository field.\nInstall plugin settings-manager dependencies...\nnpm WARN strapi-plugin-settings-manager@3.0.0-alpha.7.2 No repository field.\nInstall plugin users-permissions dependencies...\nnpm WARN strapi-plugin-users-permissions@3.0.0-alpha.7.2 No repository field.\nInstall admin dependencies...\nnpm WARN bookshelf@0.9.5 requires a peer of knex@>=0.6.10 <0.12.0 but none is installed. You must install peer depe\nndencies yourself.\nnpm WARN eslint-config-airbnb@13.0.0 requires a peer of eslint-plugin-jsx-a11y@^2.2.3 but none is installed. You mu\nst install peer dependencies yourself.\nadded 2 packages, removed 1 package and updated 1 package in 9.26s\niMac-di-Mauro:test mauro$ strapi start\nWARN (40973 on iMac-di-Mauro.local): (hook:knex) wasn't loaded due to missing key enabled in the configuration\nDEBUG (40973 on iMac-di-Mauro.local): Server wasn't able to start properly.\nERROR (40973 on iMac-di-Mauro.local): Cannot read property 'knex' of undefined\n    TypeError: Cannot read property 'knex' of undefined\n    at Function.initialize (/Users/mauro/Documents/_projects/Webapp/strapi/test/node_modules/strapi-bookshelf/lib/index.js:41:25)\n    at /usr/local/lib/node_modules/strapi/lib/hooks/index.js:21:31\n    at Promise (/usr/local/lib/node_modules/strapi/lib/hooks/index.js:103:37)\n    at new Promise ()\n    at Promise.all.Object.keys.map.hook (/usr/local/lib/node_modules/strapi/lib/hooks/index.js:48:9)\n    at Array.map ()\n    at Strapi.module.exports (/usr/local/lib/node_modules/strapi/lib/hooks/index.js:46:28)\n    at Strapi.load (/usr/local/lib/node_modules/strapi/lib/Strapi.js:185:23)\n    at \n. ops.. was an old msg..\ni've used 3.0.0-alpha.7.2 on node 8.9.3. I've plan to test again when they/you release alpha.8.x :). Do you have an example of setting for mongodb cloud atlas?\nInviato da iPhone Mauro\n\nIl giorno 10 gen 2018, alle ore 09:47, Jim LAURIE notifications@github.com ha scritto:\n@blondie63 Yes you can. Set you database connection informations in /config/environments/development/database.json or via the settings manager plugin in your admin dashboard\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub, or mute the thread.\n. My scenario is:\nDesktop for dev: iMac High Sierra\nLocal VM on vmware esx server with MongoDB 3.6\nAccount Mongo Atlas with a cluster just ready\n\nOn my desktop i\u2019ve installed MongoDB Compass community edition and i can manage both MongoDB without problems, so there aren\u2019t connection problems\nOn my Strapi test prj i\u2019ve tried these two connections:\nFIRST\n{\n  \"defaultConnection\": \"default\",\n  \"connections\": {\n    \"default\": {\n      \"connector\": \"strapi-mongoose\",\n      \"settings\": {\n        \"client\": \"mongo\",\n        \"host\": \"cluster0-shard-00-00-ccfvh.mongodb.net\",\n        \"port\": 27017,\n        \"database\": \"Test1\",\n        \"username\": \"MGadmin\",\n        \"password\": \"mypsw\"\n      },\n      \"options\": {}\n    }\n  }\n}\nSECOND\n{\n  \"defaultConnection\": \"default\",\n  \"connections\": {\n    \"default\": {\n      \"connector\": \"strapi-mongoose\",\n      \"settings\": {\n        \"client\": \"mongo\",\n        \"host\": \"192.168.1.217\",\n        \"port\": 27017,\n        \"database\": \"mm\",\n        \"username\": \"root\",\n        \"password\": \"mypsw\"\n      },\n      \"options\": {}\n    }\n  }\n}\nIn both cases this is the log:\niMac-di-Mauro:test mauro$ strapi start\nDEBUG (34754 on iMac-di-Mauro.local): Server wasn't able to start properly.\nERROR (34754 on iMac-di-Mauro.local): (hook:mongoose) takes too long to load\nWhat's wrong ?\nThanks. yes i can connect also with this client without problems, tested now both connections. yeah !! i've started my first prj with mysql and alpha 8.3 :). ",
    "acifer": "This problem is in mac safari too.. I already did it apparently there is problem with the     \"postinstall\": \"node node_modules/strapi-utils/script/plugin-install.js\",\nin package.json. Thanks it works now. I guess there should be small posts about these issues, such as database table name change.. When I create a custom API without using the Strapi-CLI tool or Admin dashboard api's are not getting protected by default.. @lauriejim were you able to reproduce the bug. Actually, my application was created using the Strapi version 6.4 then I successfully migrated to 7.2 but for a guest User the API is not protecting the endpoints created without using Strapi-CLI or admin dashboard. It will be really nicer if we have less magic in these CLI created API and everything is transparent.. Closing it as it works in alpha.8. ",
    "gianES": "hook.json\n{\n  \"timeout\": 3000,  <<<<<<<<<<<<<<<<<<<<<<<\n  \"load\": {\n    \"order\": [\n      \"Define the hooks' load order by putting their names in this array in the right order\"\n    ]\n  }\n}. ",
    "che-wf": "Hi, @soupette ! I don't have a repo yet. I was just trying it out. So, it's a fresh install. Here are my configurations. \ndatabase.json: dev environment\njson\n{\n  \"defaultConnection\": \"default\",\n  \"connections\": {\n    \"default\": {\n      \"connector\": \"strapi-mongoose\",\n      \"settings\": {\n        \"client\": \"mongo\",\n        \"host\": \"localhost\",\n        \"port\": 27017,\n        \"database\": \"development\",\n        \"username\": \"\",\n        \"password\": \"\"\n      },\n      \"options\": {}\n    }\n  }\n}\ndatabase.json: prod environment\njson\n{\n  \"defaultConnection\": \"default\",\n  \"connections\": {\n    \"default\": {\n      \"connector\": \"strapi-mongoose\",\n      \"settings\": {\n        \"client\": \"mongo\",\n        \"host\": \"localhost\",\n        \"port\": 27017,\n        \"database\": \"production\",\n        \"username\": \"\",\n        \"password\": \"\"\n      },\n      \"options\": {}\n    }\n  }\n}. Hi, @gianES ! I changed 1000 to 3000 like in your hook.json file. That didn't seem to change anything. . @Aurelsicoko @rainbow57 Ahhh! I didn't realize that was supposed to be running yet. I haven't worked with MongoDB before and didn't see it in the README. Let me try that and get back to you. . ",
    "rainbow57": "@jbcoder I got an error like yours( (hook:mongoose) takes too long to load ). And It's because MongoDB is not running. I suggest you check it from two points:\n1. the database settings in the configuration file are correct or not.\n2.MongoDB is working?. ",
    "srizah": "I am using sandbox provided by mLab.com. I had been struggling with this problem since yesterday. Increasing delay in hook.json has solved my problem and my strapi app is running! I am coming back to coding after a long time. Your strapi has helped me today!. ",
    "cokasio": "Srizah did you resolve this?\n. ",
    "sudip1072": "I am getting error upon giving the command strapi start\nerror is  \" Cannot read property 'start' of undefined\"\nMy node vesrion-10.10.0\nnpm version- 6.4.1\nusing mlab- mongod version: 3.6.6\nstrapi version-3.0.0-alpha.14\nhook.json\n{\n  \"timeout\": 3000,\n  \"load\": {\n    \"before\": [],\n    \"order\": [\n      \"Define the hooks' load order by putting their names in this array in the right order\"\n    ],\n    \"after\": []\n  }\n}\ni changed delay and tried ..nothing happned\ndatabase.json\n{\n  \"defaultConnection\": \"default\",\n  \"connections\": {\n    \"default\": {\n      \"connector\": \"strapi-hook-mongoose\",\n      \"settings\": {\n        \"client\": \"mongo\",\n        \"host\": \"ds139265.mlab.com\",\n        \"srv\": false,\n        \"port\": \"39263\",\n        \"database\": \"myapp\",\n        \"username\": \"test1\",\n        \"password\": \"test1\"\n      },\n      \"options\": {\n        \"authenticationDatabase\": \"myapp\",\n        \"ssl\": false\n      }\n    }\n  }\n}\nserver.json\n{\n  \"host\": \"localhost\",\n  \"port\": 1337,\n  \"autoReload\": {\n    \"enabled\": true\n  },\n  \"cron\": {\n    \"enabled\": false\n  }\n}\nI tried a lot..please help\n. strapi was working with node 8 but currently I am using latest node 10 lts version. \nStrapi creates problem with this version. \nIt freezes while creating a new strapi projects and select database, it hangs on and never responds.I will attach screenshots soon so that you can realize the behaviour. . ",
    "RWOverdijk": "@soupette Which tables? Where can I find the tables to be created?. ",
    "lachlantweedie": "This would be great in the docs - spent a while looking for how to do this with Postgres.. ",
    "elialber": "Unhandled promise rejection (rejection id: 1): Error: select count(*) as count from users-permissions_role - ER_NO_SUCH_TABLE: Table ',myproject.users-permissions_role' doesn't exist. ",
    "pcornier": "I was able to access the administration today:\n\nI re-installed everything\nI changed my config (just changed host in server.js)\nthen I ran npm install in root directory and in admin directory.\n\nI'm not quite sure I understand why it started to work - the only thing I changed is the configuration file that was edited before running npm install -  so I think this should be tested again by someone else and clearly written somewhere.. ",
    "goodpixels": "Same here, I have been getting this error too.. ",
    "lucaperret": "I've more or less the same issue, the GET to /myendpoint/id return \n{\n    \"statusCode\": 404,\n    \"error\": \"Not Found\",\n    \"message\": \"Not Found\"\n}. I've generated a new app to see the differences of /api/* files with mine, and there is a difference in the fetch method of services/model.js.\nTo correct this bug, you should update like this commit https://github.com/strapi/strapi/commit/519239c35c01135f0c5c0222d10f5309a190dd60.\n@Aurelsicoko maybe could be good to add this in the migration guide ?. Done. With Strapi 3.0.0-alpha.8, the error is catch, so at least, it continue to start !. Hi @lauriejim, sounds good ?. The problem is still there:\n```bash\n\n\u25b2 npm start\napp@0.1.0 start /home/nowuser/src\nnode server.js\n[2018-03-20T18:41:51.841Z] warn (hook:mongoose) wasn't loaded due to missing key enabled in the configuration\nfs.js:1085\n  return binding.unlink(pathModule.toNamespacedPath(path));\n                 ^\nError: EACCES: permission denied, unlink '/home/nowuser/src/admin/admin/src/config/plugins.json'\n    at Object.fs.unlinkSync (fs.js:1085:18)\n    at fs.access.err (/home/nowuser/src/node_modules/strapi/lib/core/plugins.js:76:16)\n    at FSReqWrap.oncomplete (fs.js:153:20)\n``\nWhy theplugins.jsonfile has to be rewrited ?. This is due to a limitation of Zeit now. Strapi will not be authorized to write models files on it.\n@matheuss do you plan to implement file persistence on @zeit now ?. Everything is working properly now.. Strapi CLI Documentation updated in https://github.com/strapi/strapi/pull/582/commits/92201fa295adc12719ff6b43cc64cd7ac977111c. Hi @lauriejim, is it possible to access requested document to check the owner ?. Is is testable before release it ?\nbecause of https://github.com/lucaperret/strapi/blob/3eb09a54d5e844eae58a5996a37a8f93a093c1ad/packages/strapi-generate-new/lib/before.js#L216\nThe connector dependency is installed from npm repository...\nSo to test connectors https://github.com/lucaperret/strapi/blob/3eb09a54d5e844eae58a5996a37a8f93a093c1ad/packages/strapi-mongoose/lib/utils/connectivity.js#L11\nwe should wait the release ?. Awesome!. LGTM. @Aurelsicoko Should we also update theenginespackage's field according to this requirement ?\nhttps://github.com/strapi/strapi/blob/master/package.json#L52. ok, so mine is duplicated.. You could set an environment variableHOSTto be able for changing localhost to 0.0.0.0. It's used also in production environment:\nhttps://github.com/strapi/strapi/blob/eeaba813e0c9120ffd7481d973ded2d86f7c1d13/packages/strapi/lib/Strapi.js#L60. hi @sboutet06, have you tried with the env variableHOSTorHOSTNAME?. IMO it's not relevant to have this configuration. You can override the host configuration with these environment variable.. Hi @vaskort, thanks for this PR!\nCould you also update the documentation ?. @Aurelsicoko The only way is to test this branch bystrapi new .... I've also added fix for:\n- Documentation front-uc & configurations\n- Fix therenderIdeblock of theBlockerComponentto show correct configuration exemple. In another hand, the autoReload is disabled by default for the production configuration, but the Content Type Builder need it enabled, does it means this plugin couldn't be active on production environment ?\nI did the test withNODE_ENV=development, the Content Type Builder is working fine. But in production env, the link isn't showed on the Plugins menu section... furthermore, I can access it by URL/admin/plugins/content-type-builder`.\nHope you'll know what I missed.\nCheers!. The identifier is lowercased here:\nhttps://github.com/strapi/strapi/pull/442/commits/d9198dd225dcd4f37c8615031e48ce19208d6e36\nDo you prefer to only lowercase the email?. ok so I'll apply lowercase only in email field.. Ok but how to lowercase only the email field ?\nHere https://github.com/strapi/strapi/pull/442/commits/d9198dd225dcd4f37c8615031e48ce19208d6e36 I don't know if it's an email or username...\n. I'll update to dbclient. For MySQL, do you talk about that socketPath property ?\nAnd for the Postgres, I didn't find the schema property even in https://github.com/strapi/strapi/blob/master/packages/strapi-bookshelf/lib/utils/connectivity.js. Can it be another PR to implement that?\nIt is a special use case that shouldn\u2019t be commit in this PR.. Done in https://github.com/strapi/strapi/pull/582/commits/1a44fd641086868db87533b7db1c32de6cf12d90. \n",
    "gluxon": "Glad to hear. That sounds like a better idea that making WYSIWYG its own type. I'll reach out on Slack.. Hm... I thought I saw one of the error outputs mention a similar error I was receiving with rootAdminpath being undefined. I'm not seeing it after double checking here, so I apologize if this is still an issue and I mistakenly closed this issue in merge request #490.. I moved this line up to stay consistent with webpack.prod.babel.js. Copied from webpack.dev.babel.js. ",
    "erwstout": "Hey gang, whats the status on this? This would be the one thing keeping me from pitching this to my boss as one of our new CMS systems as we are looking to switch to something headless. Appreciate the work - been playing around and I love it so far .. ",
    "whogaurav": "Why adding wysiwyg is such a big task ? Anyone able to figure out how to do it ? I think it's the first thing a CMS should have support for.. @Aurelsicoko I don't want to argue with you, it's open source work, thanks for your time and contributions. Take this as a feedback if you guys can.\nwysiwyg should not be a shipped feature as people would want to use their own stuff, people working with React.JS want their own wysiwyg, while jQuery people need something else or some might be familiar with TinyMCE or similar.\nProblem is I spent lot of time figuring out how one can customise admin interface or add custom field to Strapi by creating a new plugin, which seems like a impossible task. Everyone is looking for a Wordpress/PHP alternative for Node.js, maybe that's not your goal, you want this to be more of framework rather than a CMS, but these are basic things, one example in documentation is more than enough. People will start creating their own plugins and publishing them. \nThanks!. ",
    "paulintrognon": "\n@gauravarora91 We are not a CMS.\n\nI don't really get how you want to become the Wordpress alternative for Node.js while not being a CMS, isn't Wordpress a CMS?\nThe absence of the wysiwyg is a no-go for me right now, but I love what you have done so far, and can't wait for the stable release :slightly_smiling_face: . OK thanks a lot for that clarification, can't wait for that next release ;). ",
    "matiasbenedetto": "Hello, any news about the WYSIWYG editor? Im not sure if the editor is ready. I installed Strapi 3.0.0-Alpha14 and the rich text editor is nowhere.. ",
    "Knovour": "Is it possible to have a rich text editor version?. Cannot upload in production mode\nStrapi: 3.0.0-alpha.25\nOS: CoreOS on Linode\nDatabase: Postgresql\nAnd @rijn 's solution is working. ",
    "bytasv": "@soupette could You please tell me where should I look at? Do You want me to paste the generated code?. @soupette hey, I've just pushed to a public repo my code that does not work: https://github.com/bytasv/strapi-test. @Khanji after I start getting errors mentioned above, I can not do anything anymore. The application just keeps crashing and I'm unable to remove neither models, nor relations. @soupette do you need access? because the repo is public. @soupette I created everything via admin UI that is provided. I will try to do the same with 7.3 and will let You know here. @Aurelsicoko @soupette - I've tested with latest version and it seems to be working fine! Thanks guys, great work. ",
    "Khanji": "I've encountered the exact same error, but with the following steps, which makes sense why the error appeared:\n\ncreate new content type through content manager, lets call it: Roles. Don't save it yet.\ncreate new content type through content manager, lest call it: Users. \ncreate a relation field with roles. \nsave the Users content type. \n\nThe same error appears.\n```\nTypeError: Cannot read property 'nature' of undefined\n    at Object.defineAssociations (.../strapi-ps/node_modules/strapi-utils/lib/models.js:254:23)\n```\n@bytasv did you try to remove the content types and recreate your content types after? Because my strapi does not crash on belongs-to-many relation creation and also not on many-to-many.\nHope this helps . Hey @lauriejim will do. ",
    "MWalid": "I had the same issue, it was related to the model name, with the following structure:\nContent type name: car\nContent type name: washRequest\nWhen restarting the application fails, I could resolve the issue by deleting api/wasrequest folder, then re-create it but with the name: washrequest (no capitals), then everything works fine, the final structure is:\nContent type name: car\nContent type name: washrequest. +1 too. Hi @soupette,\nI followed the quick start guide, will try once again with the contributing guide and let you know.. Hi @soupette, the contribution guide worked for me, thank you.\nWhen I followed the quick start guide I thought I should start from plugin development setup section  since I wanted to create a plugin (not to contribute to the core). It's more clear in the contributing guideline that I have to follow all steps from the beginning.. @redni it builds with npm run setup it hangs little bit then the link opens ... \nHowever I still have the following error in the terminal (although everything seems to be working just fine)\n2018-08-21 12:52 node[10894] (FSEvents.framework) FSEventStreamStart: register_with_server: ERROR: f2d_register_rpc() => (null) (-21). @derrickmehaffy it's the same version as yours,\nI just realised that the webpack is not rebuilding the project on file change.\nSo to see my changes I had to stop the development server and then run it again ... cd admin && npm start. @soupette I removed both, now no errors in the terminal, however still no hot reloading, webpack doesnt rebuild when my plugin files changed ... . Hi @soupette, any updates how I can get the hot reloading to work?. Actually it's difficult like hell to deploy the development project,\nStrapi is easy to start with, to build some endpoints, and to kick off your app, however if you need to modify anything, literally anything you are left on your own, \nI've developed a full functional plugin, but i'm unable to deploy it .... \nI'm totally stuck, there should be a bug-free guide to deploy a development project,. I created a custom plugin with a dev app (created with --dev flag), it's not clear from the documentation that I should use the --dev flag when writing a custom plugin or no .... . Yep I think so. ",
    "MaLub": "The error sits in front ;) Wrong IP - now it works. ",
    "memolipd": "Running strapi and mongodb through a docker-compose file leads to this problem intermittently.\nIt works and connects fine most of the time but sometimes it seems to timeout.\nRestarting the containers fixes the issue ctrl+c and then docker-compose up.\nCould it be a timeout which we can change?. Yep we use docker alot here, but I'm also struggling to get strapi working in docker - which would be useful for dev/deploying.\nhere's my current docker-compose.yaml file:\n```\nversion: '2'\nservices:\n  redirector-app:\n    image: node:8-alpine\n    env_file: .env\n    volumes:\n        - .:/var/app\n    working_dir: /var/app\n    command: node server.js\n    ports:\n        - 1337:1337\n    links:\n        - mongodb\n    depends_on:\n        - mongodb\nmongodb:\n    image: mongo:latest\n    env_file: .env\n    volumes:\n      - /data/db\n    command: mongod --smallfiles --logpath=/dev/null # --quiet\nvolumes:\n  mongodb:\n```. Ahh I figured out the issue - it was pointing to localhost, not the mongodb image hostname of \"mongodb\"\nI'll leave this up for anyone else wanting a working docker-compose file\n. @dj-hedgehog for dev, I pass in the current directory as a volume which has node_modules. I've had to amend the run command to make sure the plugins install, but is otherwise working:\ncommand: ash -c \"node node_modules/strapi/lib/utils/post-install.js && node_modules/nodemon/bin/nodemon.js server.js\". ",
    "dfliess": "can you resume the steps needed to add a new provider ? I'd like to add https://github.com/sdurandeu/passport-mercadolibre. ",
    "itspoma": "any updates in Auth0 integration?. ",
    "julestruong": "@pierreburgy any news ?. ",
    "futbotism": "when i changed the formatting in .../myproject/plugins/users-permissions/services/UsersPermissions.js to, \ngetRoleConfigPath: () => (path.join(strapi.config.appPath,'plugins','users-permissions','config','roles.json')),\nIt worked \ud83d\udc4d . ",
    "maektwain": "I have moved to Loopback.io seems like a better choice compared to strapi. ",
    "dakuenjery": "\n. This is due to the fact strapi use mongoose-double, which store double values as string on mongodb. Mongo sorting values as strings. #408 This fixes the problem. I'm sorry for the delay. I'll try to do it as soon as possible.. I updated mongoose. The same problem on macos. Cannot run strapi-admin in development mode\n```\nstrapi-admin> npm start\n\nstrapi-admin@3.0.0-alpha.7.3 start /Users/dakue/Projects/strapi/packages/strapi-admin\nnode ./node_modules/strapi-helper-plugin/node_modules/.bin/cross-env NODE_ENV=development PORT=4000 IS_ADMIN=true node ./node_modules/strapi-helper-plugin/lib/server\n\n{ Error: Cannot find module '/Users/dakue/Projects/strapi/packages/node_modules/strapi'\n    at Function.Module._resolveFilename (module.js:555:15)\n    at Function.Module._load (module.js:482:25)\n    at Module.require (module.js:604:17)\n    at require (internal/module.js:11:18)\n    at Object. (/Users/dakue/Projects/strapi/packages/strapi-helper-plugin/lib/internals/webpack/webpack.base.babel.js:20:20)\n    at Module._compile (module.js:660:30)\n    at Object.Module._extensions..js (module.js:671:10)\n    at Module.load (module.js:573:32)\n    at tryModuleLoad (module.js:513:12)\n    at Function.Module._load (module.js:505:3)\n    at Module.require (module.js:604:17)\n    at require (internal/module.js:11:18)\n    at Object. (/Users/dakue/Projects/strapi/packages/strapi-helper-plugin/lib/internals/webpack/webpack.dev.babel.js:48:18)\n    at Module._compile (module.js:660:30)\n    at Object.Module._extensions..js (module.js:671:10)\n    at Module.load (module.js:573:32) code: 'MODULE_NOT_FOUND' }\n/Users/dakue/Projects/strapi/packages/strapi-helper-plugin/lib/internals/webpack/webpack.base.babel.js:30\n    throw new Error(You need to start the WebPack server from the /admin or /plugins/**/admin directories in a Strapi's project.);\n    ^\nError: You need to start the WebPack server from the /admin or /plugins/**/admin directories in a Strapi's project.\n    at Object. (/Users/dakue/Projects/strapi/packages/strapi-helper-plugin/lib/internals/webpack/webpack.base.babel.js:30:11)\n    at Module._compile (module.js:660:30)\n    at Object.Module._extensions..js (module.js:671:10)\n    at Module.load (module.js:573:32)\n    at tryModuleLoad (module.js:513:12)\n    at Function.Module._load (module.js:505:3)\n    at Module.require (module.js:604:17)\n    at require (internal/module.js:11:18)\n    at Object. (/Users/dakue/Projects/strapi/packages/strapi-helper-plugin/lib/internals/webpack/webpack.dev.babel.js:48:18)\n    at Module._compile (module.js:660:30)\n    at Object.Module._extensions..js (module.js:671:10)\n    at Module.load (module.js:573:32)\n    at tryModuleLoad (module.js:513:12)\n    at Function.Module._load (module.js:505:3)\n    at Module.require (module.js:604:17)\n    at require (internal/module.js:11:18)\nnpm ERR! code ELIFECYCLE\nnpm ERR! errno 1\nnpm ERR! strapi-admin@3.0.0-alpha.7.3 start: node ./node_modules/strapi-helper-plugin/node_modules/.bin/cross-env NODE_ENV=development PORT=4000 IS_ADMIN=true node ./node_modules/strapi-helper-plugin/lib/server\nnpm ERR! Exit status 1\nnpm ERR!\nnpm ERR! Failed at the strapi-admin@3.0.0-alpha.7.3 start script.\nnpm ERR! This is probably not a problem with npm. There is likely additional logging output above.\nnpm ERR! A complete log of this run can be found in:\nnpm ERR!     /Users/dakue/.npm/_logs/2018-01-08T13_54_58_994Z-debug.log\n\ncat /Users/dakue/.npm/_logs/2018-01-08T13_54_58_994Z-debug.log\n0 info it worked if it ends with ok\n1 verbose cli [ '/usr/local/Cellar/node/9.3.0_1/bin/node',\n1 verbose cli   '/usr/local/bin/npm',\n1 verbose cli   'start' ]\n2 info using npm@5.6.0\n3 info using node@v9.3.0\n4 verbose run-script [ 'prestart', 'start', 'poststart' ]\n5 info lifecycle strapi-admin@3.0.0-alpha.7.3~prestart: strapi-admin@3.0.0-alpha.7.3\n6 info lifecycle strapi-admin@3.0.0-alpha.7.3~start: strapi-admin@3.0.0-alpha.7.3\n7 verbose lifecycle strapi-admin@3.0.0-alpha.7.3~start: unsafe-perm in lifecycle true\n8 verbose lifecycle strapi-admin@3.0.0-alpha.7.3~start: PATH: /usr/local/lib/node_modules/npm/node_modules/npm-lifecycle/node-gyp-bin:/Users/dakue/Projects/strapi/packages/strapi-admin/node_modules/.bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/opt/X11/bin:/usr/local/share/dotnet\n9 verbose lifecycle strapi-admin@3.0.0-alpha.7.3~start: CWD: /Users/dakue/Projects/strapi/packages/strapi-admin\n10 silly lifecycle strapi-admin@3.0.0-alpha.7.3~start: Args: [ '-c',\n10 silly lifecycle   'node ./node_modules/strapi-helper-plugin/node_modules/.bin/cross-env NODE_ENV=development PORT=4000 IS_ADMIN=true node ./node_modules/strapi-helper-plugin/lib/server' ]\n11 silly lifecycle strapi-admin@3.0.0-alpha.7.3~start: Returned: code: 1  signal: null\n12 info lifecycle strapi-admin@3.0.0-alpha.7.3~start: Failed to exec start script\n13 verbose stack Error: strapi-admin@3.0.0-alpha.7.3 start: node ./node_modules/strapi-helper-plugin/node_modules/.bin/cross-env NODE_ENV=development PORT=4000 IS_ADMIN=true node ./node_modules/strapi-helper-plugin/lib/server\n13 verbose stack Exit status 1\n13 verbose stack     at EventEmitter. (/usr/local/lib/node_modules/npm/node_modules/npm-lifecycle/index.js:285:16)\n13 verbose stack     at EventEmitter.emit (events.js:159:13)\n13 verbose stack     at ChildProcess. (/usr/local/lib/node_modules/npm/node_modules/npm-lifecycle/lib/spawn.js:55:14)\n13 verbose stack     at ChildProcess.emit (events.js:159:13)\n13 verbose stack     at maybeClose (internal/child_process.js:943:16)\n13 verbose stack     at Process.ChildProcess._handle.onexit (internal/child_process.js:220:5)\n14 verbose pkgid strapi-admin@3.0.0-alpha.7.3\n15 verbose cwd /Users/dakue/Projects/strapi/packages/strapi-admin\n16 verbose Darwin 17.3.0\n17 verbose argv \"/usr/local/Cellar/node/9.3.0_1/bin/node\" \"/usr/local/bin/npm\" \"start\"\n18 verbose node v9.3.0\n19 verbose npm  v5.6.0\n20 error code ELIFECYCLE\n21 error errno 1\n22 error strapi-admin@3.0.0-alpha.7.3 start: node ./node_modules/strapi-helper-plugin/node_modules/.bin/cross-env NODE_ENV=development PORT=4000 IS_ADMIN=true node ./node_modules/strapi-helper-plugin/lib/server\n22 error Exit status 1\n23 error Failed at the strapi-admin@3.0.0-alpha.7.3 start script.\n23 error This is probably not a problem with npm. There is likely additional logging output above.\n24 verbose exit [ 1, true ]\n```. Admin folder is symlink to strapi-admin\nstrapiDev> ls -l\ntotal 32\n-rw-r--r--   1 dakue  staff    47 Jan  8 17:18 README.md\nlrwxr-xr-x   1 dakue  staff    50 Jan  8 17:18 admin -> /Users/dakue/Projects/strapi/packages/strapi-admin\ndrwxr-xr-x   4 dakue  staff   128 Jan  8 17:45 api\ndrwxr-xr-x  10 dakue  staff   320 Jan  8 17:18 config\n-rwxr-xr-x   1 dakue  staff  1150 Jan  8 17:18 favicon.ico\ndrwxr-xr-x   5 dakue  staff   160 Jan  8 17:18 node_modules\n-rw-r--r--   1 dakue  staff  1104 Jan  8 17:18 package.json\ndrwxr-xr-x   7 dakue  staff   224 Jan  8 17:18 plugins\ndrwxr-xr-x   4 dakue  staff   128 Jan  8 17:18 public\n-rwxr-xr-x   1 dakue  staff   315 Jan  8 17:18 server.js\n```\nstrapiDev> cd admin/\ndakue@MacBook-Pro-User ~/P/s/p/strapi-admin> npm start\n\nstrapi-admin@3.0.0-alpha.7.3 start /Users/dakue/Projects/strapi/packages/strapi-admin\nnode ./node_modules/strapi-helper-plugin/node_modules/.bin/cross-env NODE_ENV=development PORT=4000 IS_ADMIN=true node ./node_modules/strapi-helper-plugin/lib/server\n\n{ Error: Cannot find module '/Users/dakue/Projects/strapi/packages/node_modules/strapi'\n    at Function.Module._resolveFilename (module.js:555:15)\n    at Function.Module._load (module.js:482:25)\n    at Module.require (module.js:604:17)\n    at require (internal/module.js:11:18)\n    at Object. (/Users/dakue/Projects/strapi/packages/strapi-helper-plugin/lib/internals/webpack/webpack.base.babel.js:20:20)\n    at Module._compile (module.js:660:30)\n    at Object.Module._extensions..js (module.js:671:10)\n    at Module.load (module.js:573:32)\n    at tryModuleLoad (module.js:513:12)\n    at Function.Module._load (module.js:505:3)\n    at Module.require (module.js:604:17)\n    at require (internal/module.js:11:18)\n    at Object. (/Users/dakue/Projects/strapi/packages/strapi-helper-plugin/lib/internals/webpack/webpack.dev.babel.js:48:18)\n    at Module._compile (module.js:660:30)\n    at Object.Module._extensions..js (module.js:671:10)\n    at Module.load (module.js:573:32) code: 'MODULE_NOT_FOUND' }\n/Users/dakue/Projects/strapi/packages/strapi-helper-plugin/lib/internals/webpack/webpack.base.babel.js:30\n    throw new Error(You need to start the WebPack server from the /admin or /plugins/**/admin directories in a Strapi's project.);\n    ^\nError: You need to start the WebPack server from the /admin or /plugins/**/admin directories in a Strapi's project.\n    at Object. (/Users/dakue/Projects/strapi/packages/strapi-helper-plugin/lib/internals/webpack/webpack.base.babel.js:30:11)\n    at Module._compile (module.js:660:30)\n    at Object.Module._extensions..js (module.js:671:10)\n    at Module.load (module.js:573:32)\n    at tryModuleLoad (module.js:513:12)\n    at Function.Module._load (module.js:505:3)\n    at Module.require (module.js:604:17)\n    at require (internal/module.js:11:18)\n    at Object. (/Users/dakue/Projects/strapi/packages/strapi-helper-plugin/lib/internals/webpack/webpack.dev.babel.js:48:18)\n    at Module._compile (module.js:660:30)\n    at Object.Module._extensions..js (module.js:671:10)\n    at Module.load (module.js:573:32)\n    at tryModuleLoad (module.js:513:12)\n    at Function.Module._load (module.js:505:3)\n    at Module.require (module.js:604:17)\n    at require (internal/module.js:11:18)\nnpm ERR! code ELIFECYCLE\nnpm ERR! errno 1\nnpm ERR! strapi-admin@3.0.0-alpha.7.3 start: node ./node_modules/strapi-helper-plugin/node_modules/.bin/cross-env NODE_ENV=development PORT=4000 IS_ADMIN=true node ./node_modules/strapi-helper-plugin/lib/server\nnpm ERR! Exit status 1\nnpm ERR!\nnpm ERR! Failed at the strapi-admin@3.0.0-alpha.7.3 start script.\nnpm ERR! This is probably not a problem with npm. There is likely additional logging output above.\nnpm ERR! A complete log of this run can be found in:\nnpm ERR!     /Users/dakue/.npm/_logs/2018-01-09T11_39_35_487Z-debug.log\n```. This is due to the shell. In the bash shell everything is working fine. But in the fish shell is not. Yes. But I cannot set breakpoints. It's inactive and not working. (In vs code if this is important)\nI can set breakpoints in controller for example. But I cannot in admin folders. I cannot set breakpoint for render function for example.\n\n\n. Yes. I use http://localhost:4000/admin/ . Vs code version is 1.19.2. I use mongodb 3.6\nPages.settings.json\n{\n  \"connection\": \"default\",\n  \"collectionName\": \"\",\n  \"info\": {\n    \"name\": \"pages\",\n    \"description\": \"\"\n  },\n  \"attributes\": {\n    \"name\": {\n      \"type\": \"string\"\n    },\n    \"type\": {\n      \"collection\": \"pagetypes\",\n      \"via\": \"pages\"\n    }\n  }\n}\nPagetypes.settings.json\n{\n  \"connection\": \"default\",\n  \"collectionName\": \"\",\n  \"info\": {\n    \"name\": \"pagetypes\",\n    \"description\": \"\"\n  },\n  \"attributes\": {\n    \"name\": {\n      \"type\": \"string\"\n    },\n    \"pages\": {\n      \"model\": \"pages\",\n      \"via\": \"type\"\n    }\n  }\n}. No. One page can belongs to one PageType. But I have more then 1 page, and one PageType can belongs to many Pages. In alpha9 this working fine. At first sight)\nI think you can close the issue. ",
    "ArkhipovK": "Ok. I got it. I installed 'npm install strapi-bookshelf', but the correct action was 'npm install strapi-bookshelf@alpha'. This solved the problem.. Quite enouth to install just npm install strapi-bookshelf@alpha --save\nI had already opened ( and self-closed) similar issue couple of weeks ago.\nhttps://github.com/strapi/strapi/issues/410. Right now you have to create this table by yourself. As decsribed here https://github.com/strapi/strapi/issues/389. May be its better to use more unitized variant like this one.\nhttps://github.com/shelljs/shx\nI suppose, that similar functionality will become necessary again in future.. The same problem with postgres and mysql.. @brunovandamme what about other dbs like mysql or postgres? . What is your os then?. @lauriejim So, what to do if i don't want to see only half of my model's fields there? Make pull request by myself?. This  issue must be already solved in these pull requests https://github.com/strapi/strapi/pull/492 https://github.com/strapi/strapi/pull/469. Are there any changes in heroku variant?. @pierreburgy thanks for reply, but what if i have pipe to heroku from bitbucket, and bitbucket repo does not include node_modules. So i suppose i have to run some command or script to rebuild them first. What is the proper action now?. Agreed, moreover sometimes it is necessary to specify some additory parameters like \"schema\" or \"ssl\" for proper work.. You may use one-way relation like this:\njson\n{\n  \"connection\": \"default\",\n  \"collectionName\": \"order\",\n  \"info\": {\n    \"name\": \"order\",\n    \"description\": \"\"\n  },\n  \"options\": {\n    \"increments\": true,\n    \"timestamps\": true,\n    \"comment\": \"\"\n  },\n  \"attributes\": {\n    \"name\": {\n      \"type\": \"string\",\n      \"required\": true,\n      \"multiple\": false\n    },\n    \"stuff\": {\n      \"model\": \"stuff\"\n    }\n  }\n}\nBut it is impossible to make it from admin interface also as render the realtion fields  in element list.. Is it possible now to display relation fiedls in content type as normal fields?. @lauriejim sure, in chrome it works.. @soupette Unfortunately yes. This still happening on firefox (win 10 / strapi 14.2). Sure thing. What if i dont want to track my project?. ",
    "mehdi-cit": "Another library that may help with mutations as well. MongoDB support should be coming as well.\nhttps://github.com/graphcool/prisma\nhttps://github.com/graphcool/prisma/issues/1643\nHowever, note that the license is \"Apache 2\"\nhttps://github.com/graphcool/prisma/blob/master/LICENSE\n. OK, My mistake. I thought you were moving away from waterline and towards knex/bookshelf. ",
    "valkalon": "My pleasure @Aurelsicoko !\nI'm browsing the doc at the moment. Strapi is fantastic to use!\nShall I push other corrections if I find extra typos?\n  . ",
    "hilongjw": "the problem seems caused by flat dependence of npm.\nNode.js version:  8.7.0\nnpm version:  5.6.0\nStrapi version: 3.0.0-alpha.7.2\nOperating system: macOS 10.12.4\n. ",
    "billgo": "I still have this issue in latest version of strapi.  v3.0.0-alpha.13\nNode: 9.4.0\nNPM: 5.6.0\nMAC OS 10.13.3\n. I think is the user permission problem. \nrun sudo chmod -R 777 strapi . I have the same question ?. Dear @lauriejim I just tried with node 9.4.0 and npm 5.6.0 but it can't works. \nThe same question. \n\n. Hello @lauriejim I find the solution, use sudo npm run setup is ok . Maybe we can change the document.. @lauriejim yes, but I'm not sure which folder to be. . @lauriejim I just run  chmod -R 777 strapi then run well. thanks man . ",
    "fleshgakker": "Same issue v3.0.0-alpha.13\nnode 10.2\nnpm 6.1\non embedded in win10 ubuntu and real 16.04 ubuntu. . ",
    "decimoseptimo": "@Aurelsicoko \nwin10\nnode v8.9.4\nnpm 5.6.0\nstrapi 3.0.0-alpha.12.6\nError:\n```\n$ npm start\n\nstrapi-admin@3.0.0-alpha.12.6 prestart E:\\Proyectos\\third-party\\strapi\\packages\\strapi-admin\nnode ./node_modules/strapi-helper-plugin/node_modules/.bin/cross-env NODE_ENV=development PORT=4000 IS_ADMIN=true node ./node_modules/strapi-helper-plugin/lib/internals/scripts/loadAdminConfigurations.js\n\nE:\\Proyectos\\third-party\\strapi\\packages\\strapi-helper-plugin\\node_modules.bin\\cross-env:2\nbasedir=$(dirname \"$(echo \"$0\" | sed -e 's,\\,/,g')\")\n          ^^^^^^^\nSyntaxError: missing ) after argument list\n    at createScript (vm.js:80:10)\n    at Object.runInThisContext (vm.js:139:10)\n    at Module._compile (module.js:607:28)\n    at Object.Module._extensions..js (module.js:654:10)\n    at Module.load (module.js:556:32)\n    at tryModuleLoad (module.js:499:12)\n    at Function.Module._load (module.js:491:3)\n    at Function.Module.runMain (module.js:684:10)\n    at startup (bootstrap_node.js:187:16)\n    at bootstrap_node.js:608:3\nnpm ERR! code ELIFECYCLE\nnpm ERR! errno 1\nnpm ERR! strapi-admin@3.0.0-alpha.12.6 prestart: node ./node_modules/strapi-helper-plugin/node_modules/.bin/cross-env NODE_ENV=development PORT=4000 IS_ADMIN=true node ./node_modules/strapi-helper-plugin/lib/internals/scripts/loadAdminConfigurations.js\nnpm ERR! Exit status 1\nnpm ERR!\nnpm ERR! Failed at the strapi-admin@3.0.0-alpha.12.6 prestart script.\nnpm ERR! This is probably not a problem with npm. There is likely additional logging output above.\nnpm ERR! A complete log of this run can be found in:\nnpm ERR!     C:\\Users\\Woofi\\AppData\\Roaming\\npm-cache_logs\\2018-06-30T19_57_00_377Z-debug.log\n```\nlog:\n0 info it worked if it ends with ok\n1 verbose cli [ 'C:\\\\Program Files\\\\nodejs\\\\node.exe',\n1 verbose cli   'C:\\\\Program Files\\\\nodejs\\\\node_modules\\\\npm\\\\bin\\\\npm-cli.js',\n1 verbose cli   'start' ]\n2 info using npm@5.6.0\n3 info using node@v8.9.4\n4 verbose run-script [ 'prestart', 'start', 'poststart' ]\n5 info lifecycle strapi-admin@3.0.0-alpha.12.6~prestart: strapi-admin@3.0.0-alpha.12.6\n6 verbose lifecycle strapi-admin@3.0.0-alpha.12.6~prestart: unsafe-perm in lifecycle true\n7 verbose lifecycle strapi-admin@3.0.0-alpha.12.6~prestart: PATH: C:\\Program Files\\nodejs\\node_modules\\npm\\node_modules\\npm-lifecycle\\node-gyp-bin;E:\\Proyectos\\third-party\\strapi\\packages\\strapi-admin\\node_modules\\.bin;C:\\Users\\Woofi\\bin;C:\\Program Files\\Git\\mingw64\\bin;C:\\Program Files\\Git\\usr\\local\\bin;C:\\Program Files\\Git\\usr\\bin;C:\\Program Files\\Git\\usr\\bin;C:\\Program Files\\Git\\mingw64\\bin;C:\\Program Files\\Git\\usr\\bin;C:\\Users\\Woofi\\bin;C:\\ProgramData\\Oracle\\Java\\javapath;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0;C:\\xampp\\php;C:\\ProgramData\\ComposerSetup\\bin;C:\\Program Files (x86)\\Extensis\\Suitcase Fusion;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0;C:\\Program Files\\PuTTY;C:\\Program Files\\nodejs;C:\\HashiCorp\\Vagrant\\bin;C:\\Users\\Woofi\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Users\\Woofi\\AppData\\Roaming\\Composer\\vendor\\bin;C:\\Users\\Woofi\\AppData\\Roaming\\npm;C:\\Program Files\\Microsoft VS Code\\bin;C:\\Program Files\\Git\\usr\\bin\\vendor_perl;C:\\Program Files\\Git\\usr\\bin\\core_perl\n8 verbose lifecycle strapi-admin@3.0.0-alpha.12.6~prestart: CWD: E:\\Proyectos\\third-party\\strapi\\packages\\strapi-admin\n9 silly lifecycle strapi-admin@3.0.0-alpha.12.6~prestart: Args: [ '/d /s /c',\n9 silly lifecycle   'node ./node_modules/strapi-helper-plugin/node_modules/.bin/cross-env NODE_ENV=development PORT=4000 IS_ADMIN=true node ./node_modules/strapi-helper-plugin/lib/internals/scripts/loadAdminConfigurations.js' ]\n10 silly lifecycle strapi-admin@3.0.0-alpha.12.6~prestart: Returned: code: 1  signal: null\n11 info lifecycle strapi-admin@3.0.0-alpha.12.6~prestart: Failed to exec prestart script\n12 verbose stack Error: strapi-admin@3.0.0-alpha.12.6 prestart: `node ./node_modules/strapi-helper-plugin/node_modules/.bin/cross-env NODE_ENV=development PORT=4000 IS_ADMIN=true node ./node_modules/strapi-helper-plugin/lib/internals/scripts/loadAdminConfigurations.js`\n12 verbose stack Exit status 1\n12 verbose stack     at EventEmitter.<anonymous> (C:\\Program Files\\nodejs\\node_modules\\npm\\node_modules\\npm-lifecycle\\index.js:285:16)\n12 verbose stack     at emitTwo (events.js:126:13)\n12 verbose stack     at EventEmitter.emit (events.js:214:7)\n12 verbose stack     at ChildProcess.<anonymous> (C:\\Program Files\\nodejs\\node_modules\\npm\\node_modules\\npm-lifecycle\\lib\\spawn.js:55:14)\n12 verbose stack     at emitTwo (events.js:126:13)\n12 verbose stack     at ChildProcess.emit (events.js:214:7)\n12 verbose stack     at maybeClose (internal/child_process.js:925:16)\n12 verbose stack     at Process.ChildProcess._handle.onexit (internal/child_process.js:209:5)\n13 verbose pkgid strapi-admin@3.0.0-alpha.12.6\n14 verbose cwd E:\\Proyectos\\third-party\\strapi\\packages\\strapi-admin\n15 verbose Windows_NT 10.0.15063\n16 verbose argv \"C:\\\\Program Files\\\\nodejs\\\\node.exe\" \"C:\\\\Program Files\\\\nodejs\\\\node_modules\\\\npm\\\\bin\\\\npm-cli.js\" \"start\"\n17 verbose node v8.9.4\n18 verbose npm  v5.6.0\n19 error code ELIFECYCLE\n20 error errno 1\n21 error strapi-admin@3.0.0-alpha.12.6 prestart: `node ./node_modules/strapi-helper-plugin/node_modules/.bin/cross-env NODE_ENV=development PORT=4000 IS_ADMIN=true node ./node_modules/strapi-helper-plugin/lib/internals/scripts/loadAdminConfigurations.js`\n21 error Exit status 1\n22 error Failed at the strapi-admin@3.0.0-alpha.12.6 prestart script.\n22 error This is probably not a problem with npm. There is likely additional logging output above.\n23 verbose exit [ 1, true ]. This doesn't work.\nYou can set the router in ./config/environments/**/request.json, but the html markup will still hard-link to /admin everywhere.. As I said\n\nInstead of creating an article attribute title I called it Title\nThe article title was created as unique & required\n\nIt seems that when I renamed the attribute in the GUI, strapi didn't remove the conflicting index before trying to rename.\nI fixed it with:\ndb.article.dropIndex({Title: 1})\ndb.article.update({}, {$rename:{\"Title\":\"title\"}}, false, true);. @lauriejim Hi, could you confirm this as a bug?. thanks, I'll check it out.. Yes you're right, It would be useful for constrained length codes, like zip codes and phones. And to account for left zeros.. What about adding regex as a field type in content type builder?. You meant regex can be applied on strings but not in numbers?. @derrickmehaffy seems fair to me.\nI just checked the model validators, too few. There's a \"Framework - Validations\" request in strapi.io/vote. I wonder whether that's aimed to solve it.\nA how-to guide to create custom validators would be nice for newbies.. @lauriejim I agree. ",
    "alexandrecanuto": "@Aurelsicoko I'm having this issue right now on macOS. . Just updating with some info:\nmacOS 10.12.6\nnode v9.11.1\nnpm v5.6.0\nstrapi v3.0.0-alpha.12.7.1\nhttps://gist.github.com/alexandrecanuto/57eb126dcadaa9eaf49a19fcc56ac329. @dzuncoi Previous as in v12.0.0 or v11.x? Might test it here.. Thanks for the info, @dzuncoi !\nIn my case, with MySQL, it happens when running both strapi start and npm start.\nI might downgrade strapi to v11.x for the time being while this issue is investigated.. @lauriejim Thanks for the info and thanks for adding it as a new feature! Based on the Quick Start tutorial video, I was under the impression that tables and fields were created automatically. Thinking about it now, I thought this probably because the video is based on a MongoDB installation and there's no need to create tables.. ",
    "avallete": "Digging up on it, I think I may have found the root of the problem.\nI think it is related with the way some scripts are wrote on the package.json (ex):\n\"build:clean\": \"node ./node_modules/strapi-helper-plugin/node_modules/.bin/rimraf admin/build\"\nThis kind of command will not work on windows git bash for example because it generate a .sh script for executables.\nThat's what give the basedir=$(dirname \"$(echo \"$0\" | sed -e 's,\\\\,/,g')\") error. Because we are trying to  node ashellscript.sh.\nRefactoring the package.json with something like:\n...\nscripts: {\n    \"build:clean\": \"rimraf admin/build\"\n}\ndevDependencies: {\n    \"rimraf\":  \"file:../strapi-helper-plugin/node_modules/rimraf\"\n    // or\n   \"rimraf\": \"3.2.0\"\n}\n...\nWill work.\n. If no one is already on it I will start working on it by tomorrow.. PR has been made.\nWriting it done really made me think that we could use some refactoring on this code allowing to add 'provider as plugin'. This would make integration and test of new providers more atomic and easy.\nMaybe it would be worthy to open a issue about this point ?. I have not been able to reproduce this error.\nI'm also using Window 7.\nMaybe it has been fixed in another PR.\n```\navallete@PC9168 MINGW64 ~/WebstormProjects/koko lasticot\n$ strapi new test\\ app2\n\ud83d\ude80 Start creating your Strapi application. It might take a minute, please take a coffee \u2615\ufe0f\nLets configurate the connection to your database:\n? Choose your main database: (Use arrow keys)\n? Choose your main database: MongoDB (recommended)\n? Database name: (strapi)\n? Database name: strapi\n? Host: (127.0.0.1) 192.168.99.100\n? Host: 192.168.99.100\n? Port: (27017)\n? Port: 27017\n? Username: root\n? Username: root\n? Password: root\n? Password: ****\n? Authentication database: admin\n? Authentication database: admin\n? Enable SSL connection: (false)\n? Enable SSL connection: false\n\u23f3 Testing database connection...\nThe app has been connected to the database successfully!\n\ud83c\udfd7  Application generation:\nglobalRootPath C:\\Users\\avalleteau\\AppData\\Roaming\\npm\\node_modules\ndepPath  C:\\Users\\avalleteau\\AppData\\Roaming\\npm\\node_modules\\strapi\nglobalRootPath C:\\Users\\avalleteau\\AppData\\Roaming\\npm\\node_modules\ndepPath  C:\\Users\\avalleteau\\AppData\\Roaming\\npm\\node_modules\\strapi-hook-mongoose\n\ud83d\udc4c Your new application test app2 is ready at C:\\Users\\avalleteau\\WebstormProjects\\koko lasticot\\test app2.\n\u26a1\ufe0f change directory:\n$ cd test app2\n\u26a1\ufe0f start application:\n$ strapi start\n```\nPS: depPath and globalRootPath are some logs I made to verify everything is properly handled. Do not take care of it.\nPlease @SerQuicky can you retry with the latest version of strapi, and tell us if the issue persist on your side ?. I don't well understand the issue here.\nYou got the exact same result using the REST API than using the GraphQL.\nI've tried to reproduce it with this basic schema:\nPrivate:\n{\n  \"connection\": \"default\",\n  \"collectionName\": \"\",\n  \"info\": {\n    \"name\": \"private\",\n    \"description\": \"Some private content\"\n  },\n  \"options\": {\n    \"timestamps\": true\n  },\n  \"attributes\": {\n    \"secret\": {\n      \"type\": \"string\"\n    }\n  }\n}\nPublic:\n{\n  \"connection\": \"default\",\n  \"collectionName\": \"\",\n  \"info\": {\n    \"name\": \"public\",\n    \"description\": \"Some public content\"\n  },\n  \"options\": {\n    \"timestamps\": true\n  },\n  \"attributes\": {\n    \"name\": {\n      \"type\": \"string\"\n    },\n    \"private\": {\n      \"model\": \"private\"\n    }\n}\nSo, creating a 'private' object, and a 'public' object linked to it. Allowing permission for unauthenticated users to perform 'GET' only on '/public' endpoint.\nHere is the result I get using the REST API:\nurl: http://192.168.99.100:1337/public\nbody: [\n    {\n        \"_id\": \"5b801078f2160004e83b9bc4\",\n        \"name\": \"Im a public created by someone\",\n        \"createdAt\": \"2018-08-24T14:04:40.825Z\",\n        \"updatedAt\": \"2018-08-24T14:04:41.884Z\",\n        \"__v\": 0,\n        \"id\": \"5b801078f2160004e83b9bc4\",\n        \"private\": {\n            \"_id\": \"5b801060f2160004e83b9bc3\",\n            \"secret\": \"You should not see me\",\n            \"createdAt\": \"2018-08-24T14:04:16.172Z\",\n            \"updatedAt\": \"2018-08-24T14:04:17.241Z\",\n            \"__v\": 0,\n            \"id\": \"5b801060f2160004e83b9bc3\"\n        }\n    }\n] \nAnd using GraphQL:\n```\nquery {\n  publics {\n    _id\n    name\n    private {\n      secret\n    }\n  }\n}\n======\n{\n  \"data\": {\n    \"publics\": [\n      {\n        \"_id\": \"5b801078f2160004e83b9bc4\",\n        \"name\": \"Im a public created by someone\",\n        \"private\": {\n          \"secret\": \"You should not see me\"\n        }\n      }\n    ]\n  }\n}\n```\nSo, the problem does not seem to come from the GraphQL plugin, since the behavior are the same.\nBy default, the '.find' resolver seem to make a deeply fetch of all associations without taking account of the policies for the subrelational documents.\nHowever, it is true that it would be great to have  'fine' permissions system.\nMaybe adding a new .findNarrow controller who only retrieve first level for a given object. And another .findDeep who will perform as actual .find by making a deep fetch but also checking the policies for each associated object could do the trick (and could be implemented into a plugin without breaking change).. I just ran into the same issue.\nSo, for future people who will have the same issue, here is the cause of the error, and how to fix it (without disabling the mongo auth):\nError cause:\nWhen running mongo with a docker image and providing MONGO_INITDB_ROOT_USERNAME and MONGO_INITDB_ROOT_PASSWORD environment variables, it will make mongod running with the --auth option. See mongo official documentation to understand how mongo handle authentication.\nResolution:\nSo, to make strapi work with this option, you must provide the authenticationDatabase  information in strapi (default: admin). With the mongo username and password.\nYou can do it either on the strapi initialization when create new project. Or into the file config > environment > [your env] > database.json.\n. Same issue here.\nPretty strange since the route: users-permissions/roles/:roleId give me correct infos. (but provide way to many data (like who have the same role, etc...) witch can lead to security issue (cf: OWASP) ).\nMaybe, a way to retrieve the user 'role' associations details into the /me route could be fine.\n. I've didn't found any migration guide for this deprecation. So it should not have any breaking changes.\nIf no one is already on it, I will investigate about the possibles side effect and submit a PR ASAP.. After some research, as I feared, sprintf is not a direct strapi dependency (as usual with node :sob: )\nThe error come from koa-i18n package, which depend on i18n-2 module.\nAn issue and a PR is already ready on this repo. I've made a comment to bump up the issue.\nhttps://github.com/jeresig/i18n-node-2/issues/120\nOnce the i18n-2 PR has been merged, we will probably need to create an issue onto: https://github.com/koa-modules/i18n/issues\nFor strapi, the update should be automatic since koa-i18n version is marked as ^2.1.0. Hi, it looking weird to me that your mongoDB has an username and password, but no authentication database. \nDid you try to set the 'Authentication database' to 'admin', as mongo set it by default ?. @lauriejim PR has been made (maybe unnecessary ping, but since I don't remember if referencing an issue trigger the notification :flushed: ). Yeah, the script that I use to keep my repos up to date across forks have erase my forked master version when trying to update. Deleting my PR on the way :sob:\nStill got the changes on my local version, I will re-submit my PR ASAP.\nI feel like I had fall down in front of a crowded place right now :rofl:. The new PR is here: https://github.com/strapi/strapi/pull/1820\nSorry for the disruption.. Hi @Aurelsicoko sorry for the response delay.\nAs I said, every variables passed by command line into the package.json must be passed using cross-env package. Which handle the way to set environment variables between OS's.\nAlso, every 'static' env variables into the installation script, must be passed using the appropriate option into childProcess.\nEx:\n```\nstrapi/setup.js\n...\n      asyncWatcher(\ud83c\udfd7  Building ${name}..., cd ../strapi-${name} && IS_MONOREPO=true npm run build, false, resolve);\n```\nThe watcher option use shelljs.exec to execute the command. The error here is that the command contain the UNIX way to set a env variables before executing it.\nIt should be changed by  something like:\n```\nconst asyncWatcher = (label, cmd, env, withSuccess = true, resolve) => {\n  if (label.length > 0) {\n    shell.echo(label);\n  }\nreturn shell.exec(cmd, { silent, async: true, env }, (code, stdout, stderr) => {\n    if (stderr && code !== 0) {\n      console.error(stderr);\n      process.exit(1);\n    }\nreturn resolve();\n\n});\n};\n...\n      asyncWatcher(\ud83c\udfd7  Building ${name}..., cd ../strapi-${name} && npm run build,  { 'IS_MONOREPO': true },  false, resolve);\n```. @NickBolles I'm not sure to really understand your question.\nJust to be sure, you are asking about the scripts we can found into the script section of the packages.json ?\nSo you are asking why this kind of lines exists ? :\n...\n \"build:clean\": \"node ./node_modules/strapi-helper-plugin/node_modules/.bin/rimraf admin/build\"\n...\nOr did I have misunderstood what you said ? If so, can you provide an exemple of what you are talking about ?. Yeah, it also confused me for a while.\nI think that's because all the 'helper' packages are located into strapi-helper-plugin (and only here) to avoid duplicate dependencies download between plugins.\nI will say it's a 'tricky' way to handle this kind of cross-dependencies. Mainly because, the package.json dependencies section should list ALL the dependencies that the 'module' use. It can be a major problem since it will make code auditing harder (for people as for automated tools (like npm audit)).\n@NickBolles I've saw you mitigated this by using npx package using the One-off invocation without local installation option (at least for rimraf) package. It is certainly a more 'cross-platform' and reliable way to invoke the rimraf package. But it still have the same problem I raised before, also I don't see how you precise the package version of rimraf that npx must run (I'm not an expert of this packages, so I may have missed something).\nI don't have a real silver bullet for this problem, but here is some reading that could be interesting on the subject of peerDependencies. @Aurelsicoko  I think we could probably benefit of rethinking the way the plugins dependencies are handled. But that problem should probably be handled in another issue.. @NickBolles I agree that my point about versions will probably doesn't matter for rimraf,  I was just pointing this could impact other packages (for example, let's say we add a new script who must run the tests, we want to be able to control which version of mocha is running).\nBut the problem about the use of undeclared dependencies using this method still occurs. So, in my opinion, even with npx which will automatically download the proper dependency if it not exist, we should still declare the dependency into the devDependencies section of the package.json. That way, we will also adress the version problem, so double benefit.\nI agree with your reflexion about over-optimization, we should make use of the tools npm provide us, like peerDependencies and maybe also take a look on dedup command for example.\nI said that it should probably be handled in a different issue, because this \"root problem\", does not affect windows platform only and isn't related with the other \"windows specific\" issues I have listed into the first post.\nSince it will impact the whole project, on every platform, I think we may benefit to address it specifically on another issue to have a better clarity on it, but it's just an idea, would be nice to have the input of a maintainer on this topic.. ",
    "mohammedabualsoud": "@avallete It didn't work. I need a fix for this damn windows.. ",
    "ggarcia92": "Hi,\nI still have this issue on Ubuntu 18.04 and Strapi alpha0.20. This is the error:\n```internal/modules/cjs/loader.js:583\n    throw err;\n    ^\nError: Cannot find module '/home///strapi-master/packages/node_modules/strapi'\n    at Function.Module._resolveFilename (internal/modules/cjs/loader.js:581:15)\n    at Function.Module._load (internal/modules/cjs/loader.js:507:25)\n    at Module.require (internal/modules/cjs/loader.js:637:17)\n    at require (internal/modules/cjs/helpers.js:22:18)\n    at Object. (/home///strapi-master/packages/strapi-helper-plugin/lib/internals/scripts/loadAdminConfigurations.js:13:18)\n    at Module._compile (internal/modules/cjs/loader.js:689:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:700:10)\n    at Module.load (internal/modules/cjs/loader.js:599:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:538:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:530:3)\nnpm ERR! code ELIFECYCLE\nnpm ERR! errno 1\nnpm ERR! strapi-admin@3.0.0-alpha.20 prestart: node ./node_modules/strapi-helper-plugin/node_modules/.bin/cross-env NODE_ENV=development PORT=4000 IS_ADMIN=true node ./node_modules/strapi-helper-plugin/lib/internals/scripts/loadAdminConfigurations.js\nnpm ERR! Exit status 1\nnpm ERR! \nnpm ERR! Failed at the strapi-admin@3.0.0-alpha.20 prestart script.\nnpm ERR! This is probably not a problem with npm. There is likely additional logging output above.\n```. Hi @lauriejim I am having the same issue that @kalms . I already update to alpha.21. To reproduce the error this is my model:\njs\n{\n  \"connection\": \"default\",\n  \"collectionName\": \"configuration\",\n  \"info\": {\n    \"name\": \"configuration\",\n    \"description\": \"Description\"\n  },\n  \"options\": {\n    \"timestamps\": true\n  },\n  \"attributes\": {\n    \"logo\": {\n      \"model\": \"file\",\n      \"via\": \"related\",\n      \"plugin\": \"upload\",\n      \"required\": false\n    },\n    \"tooltip\": {\n      \"default\": \"\",\n      \"type\": \"string\",\n      \"required\": true\n    },\n    \"background\": {\n      \"default\": \"\",\n      \"type\": \"string\",\n      \"required\": true\n    }\n  }\n}\nRegards. ",
    "tmvanetten": "@Aurelsicoko I am still seeing the same issue with the latest version.  I have to clean that admin/admin/build/index.html and then update config/environment/dev/server.js to my instance ip to get it working.. ",
    "Rzeszow": "@blondie63 \nHere is link to Strapi Documentation\nhttps://strapi.io/documentation/configurations/configurations.html#database\nRemember to allow access to the database from a given IP address that uses your application or set global access.\n./config/environments/**/database.json\n{\n  \"defaultConnection\": \"default\",\n  \"connections\": {\n    \"default\": {\n      \"connector\": \"strapi-mongoose\",\n      \"settings\": {\n        \"client\": \"mongo\",\n        \"host\": \"<YOUR_CLUSTER>.mongodb.net\",\n        \"port\": 27017,\n        \"database\": \"<YOUR_DATABASE>\",\n        \"username\": \"<YOUR_USER>\",\n        \"password\": \"<YOUR_PASS>\"\n      },\n      \"options\": {}\n    }\n  }\n}\n. I had the same error. I've created a new database and it's working.. ",
    "asharamseervi": "Hi, me too. Me too facing same issue as @blondie63 !! And, similarly I'm able to connect with compass & 3t, but not able to configure strapi with Mongo Atlas Clusters. I'm successfully able to get connected with mLab as mentioned, but mlab sandbox is the way slower to respond.\nHence, looking forward to getting this issue fixed as soon as possible, & happy to get connected with MongoDB Atlas very soon. Me too on hold.. Yeah @mortendybdal, Thankyou for listing issue. Exactly I'm also facing same issues.. Something is there, which is stopping us to create Content Types, from Dashboard to PRODUCTION ONLY. Please put it on High Priority or Test it once your instance for production, and let us know if everything went well for you, or something we're missing at our instance.. In my case with Heroku Apps, I'm really not able to make any entries to the database with Content Types. Whenever, I'll create Content Type, it'll be shown up in left navigation but, the input will be missed whatever I had added while creating Content Types.\nSharing following screenshot:\n\nI'm able to create Content Type & Added 2 inputs for APIs.\n\n\n&\n\nOn hitting refresh, or just navigating to recently created Content Type. It'll be broken.\n\n\n. Hmm, you can say. But, reason behind commenting here, is same property issue i.e. Content Type. I think, on Heroku (as mentioned) stuff not working as expected. Please try to login official Heroku Demo as described on Strapi Blog.\nURL: https://strapi-heroku-app.herokuapp.com\nUSER: demo@strapi.io\nPASS: demo\n& you'll notice some issues regarding Content Type. Might be there are some errors, while fixing your bug, may remove/help to this fix as well.. Great. I will.. Thanks @napop !! It's worked for me.\nObviously, we need to install further dependencies & have to update packages via npm install after installing plugin.\nIt would be more better if it would be possible through GUI/Dashboard itself.. I too got stuck here. I'm learning & exploring strapi with Strapi Deliveroo clone with Next.js & GraphQL (https://blog.strapi.io/strapi-next-restaurants/). After hitting (installing) strapi install graphql even downgrading and without downgrading both outputs same error.\nPS: Obviously, I made restaurant Content Type already as demonstrated in blog.\n```\nPS D:\\Playground\\StrapiIO\\strapi-deliveroo\\backend> strapi start\n[2018-11-06T22:31:42.667Z] debug \u26d4\ufe0f Server wasn't able to start properly.\n[2018-11-06T22:31:42.669Z] error Cannot find module 'D:\\Playground\\StrapiIO\\strapi-deliveroo\\backend\\node_modules\\strapi\\lib\\utils'\n{ Error: Cannot find module 'D:\\Playground\\StrapiIO\\strapi-deliveroo\\backend\\node_modules\\strapi\\lib\\utils'\n    at Function.Module._resolveFilename (module.js:547:15)\n    at Function.Module._load (module.js:474:25)\n    at Module.require (module.js:596:17)\n    at require (internal/module.js:11:18)\n    at Function.beforeInitialize (D:\\Playground\\StrapiIO\\strapi-deliveroo\\backend\\plugins\\graphql\\hooks\\graphql\\index.js:25:21)\n    at Promise.all.Object.keys.map (C:\\Users\\username\\AppData\\Roaming\\npm\\node_modules\\strapi\\lib\\hooks\\index.js:50:47)\n    at Array.map ()\n    at Strapi.module.exports (C:\\Users\\username\\AppData\\Roaming\\npm\\node_modules\\strapi\\lib\\hooks\\index.js:41:28)\n    at Strapi.load (C:\\Users\\username\\AppData\\Roaming\\npm\\node_modules\\strapi\\lib\\Strapi.js:229:74)\n    at \n    at process._tickDomainCallback (internal/process/next_tick.js:228:7) code: 'MODULE_NOT_FOUND' }\nPS D:\\Playground\\StrapiIO\\strapi-deliveroo\\backend>\n```. Hey @lauriejim & @pierreburgy, is this not a serious bug which needs to be resolved?\nIs there any workaround if you're not working over this? Why the priority set to medium??\nI can't move ahead strapi-deliveroo tutorial after installing graphql plugin, how did you made rest of tutorial series even you stuck at this point? haah !!. Hey @lauriejim, Might you had forgotten to merge this PR before tagging version !!. I want to know, why this version not still merged to master? Any specific reason to release this version with branch? Might I'm missing something, here for learning.. ",
    "adamflater": "@lauriejim is correct, the problem has to do with mongoose and replica sets. Found something that worked for me: \n\nstart a mongo instance with docker: docker run -p 27017:27017 mongo\ninvoke strapi new [project] with default options\nafter strapi new finishes, but before you run strapi start, edit your config at /config/environments/development/database.json\nRemove all properties (except client)\nAdd a uri property using the format:\n\nmongodb://<USERNAME>:<PASSWORD>@your-db-shard-00-00-a3bbg.mongodb.net:27017,your-db-shard-00-01-a3bbg.mongodb.net:27017,your-db-shard-00-02-a3bbg.mongodb.net:27017/[db name you used in setup]?ssl=true&replicaSet=your-db-shard-0&authSource=admin\n\ninvoke strapi start from your project dir\nnavigate to: http://127.0.0.1:1337/admin and create your admin account\n\ncc: @asharamseervi, @blondie63 . Just noticed the if the table owner in postgres is not the same as the connected knex/strapi db user, hasTable will return false. If you're using the postgres cli you can do this before running the recommended create table scripts: \npostgres=# \\c my-strapi-db my-strapi-db-user\nYou are now connected to database \"my-strapi-db\" as user \"my-strapi-db-user\".\npostgres=# # run create table scripts now. ",
    "seleckis": "Hi! I have the same problem connecting to MongoDB Cluster. I have followed the @adamflater guide, but I get this error when I run strapi start:\n[2018-04-26T13:28:27.192Z] debug Server wasn't able to start properly.\n(hook:mongoose) takes too long to load\nConnection to mLab is working by the way. ",
    "commentatorboy": "The main problem here is that it says that the uri has a slash.\nI tried the same as https://github.com/strapi/strapi/issues/432#issuecomment-372837676\nbut it gave me the following error:\n(node:7904) UnhandledPromiseRejectionWarning: Error: Slash in host identifier\n    at parseConnectionString (C:\\Users\\X220\\Projects\\strapi\\MIN\\node_modules\\mongodb\\lib\\url_parser.js:219:15)\n    at parseHandler (C:\\Users\\X220\\Projects\\strapi\\MIN\\node_modules\\mongodb\\lib\\url_parser.js:129:14)\n    at module.exports (C:\\Users\\X220\\Projects\\strapi\\MIN\\node_modules\\mongodb\\lib\\url_parser.js:25:12)\n    at connect (C:\\Users\\X220\\Projects\\strapi\\MIN\\node_modules\\mongodb\\lib\\mongo_client.js:878:3)\n    at connectOp (C:\\Users\\X220\\Projects\\strapi\\MIN\\node_modules\\mongodb\\lib\\mongo_client.js:268:3)\n    at executeOperation (C:\\Users\\X220\\Projects\\strapi\\MIN\\node_modules\\mongodb\\lib\\utils.js:420:24)\n    at MongoClient.connect (C:\\Users\\X220\\Projects\\strapi\\MIN\\node_modules\\mongodb\\lib\\mongo_client.js:259:10)\n    at Promise (C:\\Users\\X220\\Projects\\strapi\\MIN\\node_modules\\mongoose\\lib\\connection.js:427:12)\n    at new Promise (<anonymous>)\n    at NativeConnection.Connection.openUri (C:\\Users\\X220\\Projects\\strapi\\MIN\\node_modules\\mongoose\\lib\\connection.js:424:19)\n    at Mongoose.connect (C:\\Users\\X220\\Projects\\strapi\\MIN\\node_modules\\mongoose\\lib\\index.js:207:15)\n    at _.forEach (C:\\Users\\X220\\Projects\\strapi\\MIN\\node_modules\\strapi-mongoose\\lib\\index.js:60:18)\n    at C:\\Users\\X220\\Projects\\strapi\\MIN\\node_modules\\lodash\\lodash.js:4925:15\n    at baseForOwn (C:\\Users\\X220\\Projects\\strapi\\MIN\\node_modules\\lodash\\lodash.js:3010:24)\n    at C:\\Users\\X220\\Projects\\strapi\\MIN\\node_modules\\lodash\\lodash.js:4894:18\n    at Function.forEach (C:\\Users\\X220\\Projects\\strapi\\MIN\\node_modules\\lodash\\lodash.js:9342:14)\n    at Function.initialize (C:\\Users\\X220\\Projects\\strapi\\MIN\\node_modules\\strapi-mongoose\\lib\\index.js:43:9)\n    at C:\\Users\\X220\\AppData\\Roaming\\npm\\node_modules\\strapi\\lib\\hooks\\index.js:21:31\n    at Promise (C:\\Users\\X220\\AppData\\Roaming\\npm\\node_modules\\strapi\\lib\\hooks\\index.js:123:37)\n    at new Promise (<anonymous>)\n    at Promise.all.Object.keys.map.hook (C:\\Users\\X220\\AppData\\Roaming\\npm\\node_modules\\strapi\\lib\\hooks\\index.js:64:9)\n    at Array.map (<anonymous>)\n(node:7904) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing\ninside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 2)\n(node:7904) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.\n[2018-05-03T17:04:08.782Z] debug Server wasn't able to start properly.\n(hook:mongoose) takes too long to load. That does not work for me.\nIt still says: \n\ndebug Server wasn't able to start properly.\nMake sure your MongoDB database is running. Yes. I just use the default shell connection\nmongo \"mongodb+srv://CLUSTERNAME.mongodb.net/DBNAME\" --username USERNAME\n\nBtw. should there not be a password in the configuration? Like there should be a username and password I assume to be able to connect to the database?. Ok I tried it this way:\nmongodb+srv://USERNAME:PASSWORD@CLUSTERNAME.mongodb.net/DBNAME\n But still says the same thing.\nI tried to run the above configuration in the cli and it still worked.\nin my case CLUSTERNAME is for example randomname-cluster-58f23. Ah Ok I just found something out...\nI created a new database called local where it has different documents inside of it.\nThis returned the following error:\n\nevents.js:183\n      throw er; // Unhandled 'error' event\n      ^\nError: write EPIPE\n    at errnoException (util.js:1022:11)\n    at ChildProcess.target._send (internal/child_process.js:702:20)\n    at ChildProcess.target.send (internal/child_process.js:586:19)\n    at sendHelper (internal/cluster/utils.js:25:15)\n    at send (internal/cluster/master.js:352:10)\n    at Worker.disconnect (internal/cluster/master.js:358:3)\n    at Worker.destroy (internal/cluster/master.js:371:10)\n    at Worker.kill (internal/cluster/worker.js:50:16)\n    at .forEach.worker (C:\\Users\\X220\\AppData\\Roaming\\npm\\node_modules\\strapi\\bin\\strapi-start.js:99:59)\n    at C:\\Users\\X220\\AppData\\Roaming\\npm\\node_modules\\strapi\\node_modules\\lodash\\lodash.js:4925:15. I have not been able to fix this issue yet. But I have not tried to do anything since last time I posted.\nIf it is alright with you I want to take the time during the summer to see if it works?. Just wanted to add to this current problem.\nWhen I tried to register a new user it said I needed to login, and when I tried to do that it still did not work.\nPlease refer to the pictures\n\n\n\n. @lauriejim \n~~What do you mean by raw format? The input parameters is in json in the body, when I send my request.~~\nAh... now I get it, give me a sec...\nI login as an admin when I register a new user.\nYou can see the first picture, that I login as an admin (which is the first user I created)\nThe funny thing is that it works when I login through the login page, but not through postman.\nThe raw input format is like this:\n[{\"key\":\"identifier\",\"value\":\"admin\"},{\"key\":\"password\",\"value\":\"111111\"}]. Yeah it works, but did not want to use ajax calls and just wanted to test it through postman.\nBut nevermind that. I might have done something wrong in the postman configurations.. ",
    "doublemarked": "Annoyed by this problem, I took a few minutes to debug it. The solution is actually surprisingly simple - Strapi is passing a default ssl: false when connecting to the URI, and it's required to be true. The following works:\n\"default\": {\n      \"connector\": \"strapi-mongoose\",\n      \"settings\": {\n        \"client\": \"mongo\",\n        \"uri\": \"mongodb+srv://USERNAME:PASSWORD@HOST.mongodb.net/DBNAME\"\n      },\n      \"options\": {\n        \"ssl\": true\n      }\n    }\nUse the driver 3.6+ style URI (mongodb+srv) as shown to you in the Atlas config modal.. @commentatorboy hmm, really! And you're able to connect to the same mongo+srv://... URL using the mongo cli tools, yes?. @commentatorboy yes, there must be both username and password in the URI. they go at the front, before the hostname, and are separated by a colon mongo+srv://USERNAME:PASSWORD@HOSTNAME/DBNAME. On our Strapi setup mongo client is already installing with support for 3.6. Do you have an older version pegged in package.json? . Hello @lauriejim !\n\nThis was via the generated API\nYes, the mongo document has the key options with empty object\nGood idea. So I've done that and then done a bunch of debugging. \n\nI've tracked that down to the strapi-mongoose override of toJSON: https://github.com/strapi/strapi/blob/master/packages/strapi-mongoose/lib/index.js#L169\nThis override lacks minimize: false, which causes the default value of minimize: true to be applied, which strips empties. Do you think it would be reasonable to set minimize: false on your override? I'm not familiar enough with Strapi to advise whether that's a good idea or not.\nHere are the docs on minimize: http://mongoosejs.com/docs/guide.html#minimize\nIt may be possible for me to change this setting for my model in a way that would affect these defaults. Where would I do that w/ Strapi, though?. @Aurelsicoko thank you very much!. I'm getting this error also. The patch seems like it will sidestep the error, but how can I go about adding a policy/perms for the specified route? In my admin panel, the route is simply missing from the model under \"Roles & Permissions > [role] > Permissions\". It's not clear how I'm supposed to repair this so that I might allow my role to access the route.. ",
    "yummyelin": "Is this issue fixed?. Using postman will get 400.\n{\n    \"statusCode\": 400,\n    \"error\": \"Bad Request\",\n    \"message\": [\n        {\n            \"messages\": [\n                {\n                    \"id\": \"Auth.form.error.email.invalid\"\n                }\n            ]\n        }\n    ]\n}\nI am sending email to a zoho email. so the error message is:\nThe error is coming from (/plugins/email/services/Email.js: line 32)\nError: SMTP code:550 msg:550 Mail rejected by <Zoho Mail> for policy reasons. \nWe generally do not accept email from dynamic IP's as they are typically used to deliver \nunauthenticated SMTP e-mail to an Internet mail server. http://www.spamhaus.org \nmaintains lists of dynamic and residential IP addresses. If you are not an email/network \nadmin please contact your E-mail/Internet Service Provider for help. Email/network \nadmins, please contact <support@zohomail.com> for email delivery information and \nsupport\nAs discussed above, I guess I need to modify plugin 'email'.\n. Go to /plugins/email, npm install --save nodemailer\nOpen /plugins/email/services/Email.js\nconst nodemailer = require('nodemailer');\nconst EMAIL_SENDER_USER = 'xxx@gmail.com';\nconst EMAIL_SENDER_PASS = 'xxx';\n```\n      // Send the email.\n      // sendmail({\n      //   from: options.from,\n      //   to: options.to,\n      //   replyTo: options.replyTo,\n      //   subject: options.subject,\n      //   text: options.text,\n      //   html: options.html\n      // }, function (err) {\n      //   console.log(err);\n      //   if (err) {\n      //     reject([{ messages: [{ id: 'Auth.form.error.email.invalid' }] }]);\n      //   } else {\n      //     resolve();\n      //   }\n      // });\n  const transporter = nodemailer.createTransport({\n    host: 'smtp.gmail.com',\n    port: 465,\n    secure: true,\n    auth: {\n      user: EMAIL_SENDER_USER,\n      pass: EMAIL_SENDER_PASS,\n    },\n  });\n\n  transporter.sendMail(options)\n    .then(resolve)\n    .catch(err => reject([{ messages: [{ id: 'Auth.form.error.email.invalid' }] }]));\n\n```\n. @Aurelsicoko Just checking, will this feature be released soon?. > In order to do so, you need to :\n\n\nclone the monorepo : git clone git@github.com:strapi/strapi.git.\nrun cd strapi && npm run setup.\ncreate a new Strapi project : strapi new my-app --dev.\nlaunch the strapi server : cd my-app && strapi start.\nadd the strapi-helper-plugin dependency to the analytics plugin cd my-app/plugins/analytics && npm link strapi-helper-plugin.\nlaunch front end dev server : cd my-app && npm start.\n\n\n\nI think the last step is: \n* launch front end dev server : cd my-app/admin && npm start.\nOtherwise it will say: \"The port 1337 is already used by another application\", we have launched the strapi server.. It's strange, I met the same issue.\nIn my project, /admin and /plugins are parallel directories. There is no /admin/plugins, and there is no /plugins/upload/configurations.\n\n\n. BTW, the gear button is in admin UI, General > Plugins > Files Upload... . @soupette I pushed an example project which reproduced the issue, please clone from here, checkout commit 2c7c67d. \nDelete UID in PROFILE will cause this issue.\n. @derrickmehaffy I am now using \"strapi\": \"3.0.0-alpha.12.2\", and create a new clean project, here, the issue is still there. \nIf you delete UID in PROFILE content type, you can see this issue.\nMy depends are almost the same as yours. \nhttps://github.com/yummyelin/strapi-test/blob/master/package.json#L14-L25. Related to issue https://github.com/strapi/strapi/issues/849. I used strapi start, the issue reproduced.\nSteps:\n1. Select \"content type builder\" in admin panel, click on \"add content type\", save\n2. Click on \"add new field\", save. \n1)Success message pop up.\n2)The new content type appears in left side bar.\n3. Click on the new content type, shows: there are no fields yet, which make sense.\n4. Click back on \"content type builder\", the new content type disappears in the table, and still appears in left side bar.\n5. Refresh page, the new content type disappears in left side bar.\nAfter I restart strapi server, the new content type reappears. \nI guess this kind of change would not be automatically applied to strapi server, even the change is saved in code.\nThe same as \"Delete A Content Type\". It won't be applied until restart strapi server.. @soupette no, I didn't install graphql plugin.. @johannpinson Yes, I saw this message. I can't reproduce now.. . @lauriejim I am using Chrome. I think we can close the issue, I can't reproduce now.. @soupette Sorry to bother you. Have you submitted the PR? I met the same issue.. @lauriejim I think I reproduced the issue, using 12.6.\ndemo repo. @lauriejim yes, I am using latest version of Strapi, 3.0.0-alpha.12.6. ok. If custom the aws provider config, it gives the same directory path for all upload-file fields.\nI have a temporary solution, which is using field name as directory path. \nThe contributing guide link is expired, so I leave my modification here:\nhttps://github.com/strapi/strapi/blob/master/packages/strapi-upload-aws-s3/lib/index.js#L74\nS3.upload({\n            Key: `${file.path}/${file.hash}${file.ext}`, // add ${file.path}/\n            Body: new Buffer(file.buffer, 'binary'),\n            ACL: 'public-read'\n          }\nhttps://github.com/strapi/strapi/blob/master/packages/strapi-upload-aws-s3/lib/index.js#L95\nDelete: {\n              Objects: [{\n                Key: `${file.path}/${file.hash}${file.ext}` // add ${file.path}/\n              }]\n            }\nhttps://github.com/strapi/strapi/blob/master/packages/strapi-plugin-upload/controllers/Upload.js#L44\nObject.assign(file, {\n          path: `${ref}/${field}`, // add this line\n          related: [{\n            refId,\n            ref,\n            source,\n            field\n          }]\n        });\nPlease review and feel free to modify.\n. @lauriejim Sorry, I am a little bit busy these days. Please merge first.. @lauriejim \n(Edited)\nThis PR is updated.\nIt seems like the Upload plugin only support single file delete action, so I changed s3 to single file delete.\nHowever, while trying to use strapi dev project to debug, there is a issue about the dev project: #1791.\n@jellybeat Are you still available to help testing it?. @lauriejim No, #1791 is the issue about strapi developing tool. . I met the same issue. Exactly the same steps to reproduce, and the same console error.\nmain.js:16 TypeError: Cannot read property 'forEach' of undefined\n    at e.value (main.js:66)\n    at new e (main.js:66)\n    at main.js:60\n    at Me (main.js:6)\n    at Me (main.js:6)\n    at Me (main.js:6)\n    at Me (main.js:6)\n    at Me (main.js:6)\n    at Me (main.js:6)\n    at de.updateIn (main.js:6)\n\nNode.js version:  v9.10.1\nnpm version: 5.6.0\nStrapi version: 3.0.0-alpha.14\nDatabase: mongodb\nOperating system: macOS\n\nIt would be a great help if there is a better way to clean upgrade except #1880. Because I have 15-20  content-types, and I modified services/controllers/models files.. ctx.request.app.proxy = true;\nor\nconst remote_address = ctx.request.get('X-Forwarded-For').split(/\\s*,\\s*/)[0];. @derrickmehaffy yes, I restarted. @jmchza For dev environment, cleaning the whole DB is fine. But for prod environment, I can't do that.\nThis gives me a headache... @soupette it fixed. Thank you!\nFor everyone who have the same issue, make sure server is stopped and plugin_content_manager_schema is deleted, and then restart server.\n. The fix should be S3.deleteObjects => S3.deleteObject\nhttps://docs.aws.amazon.com/AWSJavaScriptSDK/latest/AWS/S3.html#deleteObject-property. I am able to connect to mLab by using:\n{\n  \"defaultConnection\": \"default\",\n  \"connections\": {\n    \"default\": {\n      \"settings\": {\n        \"client\": \"mongo\",\n        \"host\": \"${process.env.DATABASE_HOST || '127.0.0.1'}\",\n        \"port\": \"${process.env.DATABASE_PORT || 27017}\",\n        \"database\": \"${process.env.DATABASE_NAME || 'strapi-development'}\",\n        \"username\": \"${process.env.DATABASE_USERNAME || ''}\",\n        \"password\": \"${process.env.DATABASE_PASSWORD || ''}\"\n      },\n      \"options\": {\n        \"ssl\": false\n      },\n      \"connector\": \"strapi-hook-mongoose\"\n    }\n  }\n}\n. Do you have @ sign in your password? It seems it does not support @ sign.\nhttps://github.com/mrvautin/adminMongo/issues/147 . Date field in Strapi is in JS date format:\nFri Sep 28 2018 12:00:00 GMT-0700 (Pacific Daylight Time)\nIn database (mongodb), Date is stored like this:\n\"createdAt\": {\n        \"$date\": \"2018-09-15T00:17:11.790Z\"\n },\nWhen setting or returning Date through API, it is in ISO date format:\n\"createdAt\": \"2018-09-15T00:17:11.790Z\"\nI think date format is better than timestamp. So when printing the Date field, I can know the exact date and time directly without getting lost in the numbers(timestamp). @derrickmehaffy how can i get the permission to update? \nremote: Permission to strapi/strapi.wiki.git denied to yummyelin.\nfatal: unable to access 'https://github.com/strapi/strapi.wiki.git/': The requested URL returned error: 403. Hey, for those who have the same issue, just search is already taken in your project. \nLook for the sentence This ${field} is already taken, it usually appears in two files:\nstrapi-app/plugins/content-manager/config/queries/bookshelf.js\nstrapi-app/plugins/content-manager/config/queries/mongoose.js\nIf you believe your error occurred in Content Manager, then open these two.\nIf you believe is User Permissions, then replace content-manager with users-permissions, for example: \nstrapi-app/plugins/users-permissions/config/queries/bookshelf.js\nThen console.log the error from try catch, you will know what is the real cause.\n. @Mahammad8564 Hi, I met the same issue, can you tell how you fix it? Anything wrong in the configuration?. I have a similar issue. \nFor example, a user has a many-many relationship friends. When adding a new friend into friends, I used:\nawait strapi.plugins['users-permissions'].services.user.edit(\n  { _id: id }, \n  { friends: [newFriend.id]}\n);\nIt doesn't insert newFriend into friends, instead, it overwrites friends. Now the user only has one friend left in friends.\nDid I insert many-many relationship correctly?. Related to #2032 . yes, you are right, if the upload file does not have relationship, it will cause undefined folder problem. . ",
    "akobashikawa": "It works using uri property in development configuration:\nhttps://github.com/strapi/strapi/issues/636#issuecomment-422484168. Hello, I note config/environments/production/database.json has property uri but not config/environments/development/database.json\nIt works if you add uri property to config/environments/production/database.json, as in \njson\n\"settings\": {\n        \"client\": \"mongo\",\n        \"uri\": \"mongodb://username:password@hostname.mlab.com:12345/dbname\",\n        \"host\": \"hostname.mlab.com\",\n        \"port\": \"12345\",\n        \"database\": \"dbname\",\n        \"username\": \"username\",\n        \"password\": \"password\"\n},\nSo, to start, you could do this:\n- $ strapi new myapp\nChoose mongo local as in simple case\n- edit config/environments/development/database.json\nAdd uri property\n- $ strapi start\n. ",
    "xargr": "I just solve the same problem.\nI choose MongoDB to connect for application and get connection for srv for MongoDB 3.6+\nMy string is :\nmongodb+srv://username:password@interview-zgg4h.mongodb.net/test?retryWrites=true\nin installation prompt put for database: test\nhost: interview-zgg4h.mongodb.net\nsrv: true\nusername: username\npassword: password\nauthentication: admin\nssl: true\nand works properly!! :+1: . any news about the above problem?. The errors say mongodb not authorized. Please try to set in heroku Config Vars for all database setting\n\nwithout changes and set anything else. @JulioPablo you can add addons mlab on heroku and create automatically env variable for you in production. Next, you can break down the connection string for mongodb in order to use in your local machine in strapi generation process. Just a few clicks away.... I have connected with mlab as well! The solution is: https://github.com/strapi/strapi/issues/2013#issuecomment-424222096\nthanks @derrickmehaffy. @ryanbelke the errors notice you not authorization, loot here: https://github.com/strapi/strapi/issues/2024#issuecomment-426718455. Does not matter @entwicklerfr ! Thanks for solve this bug. ",
    "DivyanshBatham": "\n@lauriejim is correct, the problem has to do with mongoose and replica sets. Found something that worked for me:\n\nstart a mongo instance with docker: docker run -p 27017:27017 mongo\ninvoke strapi new [project] with default options\n\nafter strapi new finishes, but before you run strapi start, edit your config at /config/environments/development/database.json\n\n\nRemove all properties (except client)\n\nAdd a uri property using the format:\n\nmongodb://<USERNAME>:<PASSWORD>@your-db-shard-00-00-a3bbg.mongodb.net:27017,your-db-shard-00-01-a3bbg.mongodb.net:27017,your-db-shard-00-02-a3bbg.mongodb.net:27017/[db name you used in setup]?ssl=true&replicaSet=your-db-shard-0&authSource=admin\n invoke strapi start from your project dir\n navigate to: http://127.0.0.1:1337/admin and create your admin account\ncc: @asharamseervi, @blondie63\n\n@adamflater For Production Environment, should I use the same configurations?. ",
    "lethak": "Hi, I was considering using strapi for a new project and I feel like the lack of a 'native' GraphQL support is going to be a problem. You guys are doing a dream CMF, shame you dropped this with 3.x.. ",
    "alexanderwallin": "You are including the port number in the host field \u2013 is that correct?. Whoa, brilliant. Thanks!. ",
    "LasaleFamine": "+1 here. \nHere is my db configuration:\njson\n{\n  \"defaultConnection\": \"default\",\n  \"connections\": {\n    \"default\": {\n      \"connector\": \"strapi-mongoose\",\n      \"settings\": {\n        \"client\": \"mongo\",\n        \"host\": \"dsXXXXX.mlab.com\",\n        \"port\": \"19018\",\n        \"database\": \"strapi\",\n        \"username\": \"XXX\",\n        \"password\": \"XXX\"\n      },\n      \"options\": {}\n    }\n  }\n}\nGetting the same error of @gourraguis.. Yeah, I'm trying with my first user/password.\nDon't you have the same problem? . ",
    "bishoymelek": "+1\nthe same here\n. ",
    "koolkav1": "I have the exact same problem with Windows 7 and I followed the mLab tutorial on medium.. ",
    "johhansantana": "the article seems outdated.\nI have added the following as my configuration\n```\nLets configurate the connection to your database:\n? Choose your main database: MongoDB (recommended)\n? Database name: johhansantana\n? Host: ds**.mlab.com\n? +srv connection: false\n? Port (It will be ignored if you enable +srv): 61072\n? Username: jsantana\n? Password: **\n? Authentication database (Maybe \"admin\" or blank):\n? Enable SSL connection: false\n\u23f3 Testing database connection...\n\u26a0\ufe0f Database connection has failed! Make sure your database is running.\n```\n3 questions from here are a bit confusing compare to mysql/postgres setup.\n+srv ?\nWhat is an Authentication database the example is not clear.\nWhat's the difference between doing SSL connection or not?. @lauriejim after creating a new user, it let me edit user \ud83e\udd14 I'm not sure if I have to close the issue or continue for the hash password fix?\nSorry for the noise.. It was locally. I haven't got the issue anymore. . Tried putting what's after the / but no luck.\nTried from the beginning but still no luck:\n\nThis time, cli says it connected but when I run it fails.. tried your way but no luck :(\njson\n{\n  \"defaultConnection\": \"default\",\n  \"connections\": {\n    \"default\": {\n      \"connector\": \"strapi-hook-mongoose\",\n      \"settings\": {\n        \"client\": \"mongo\",\n        \"host\": \"******.mlab.com\",\n        \"port\": \"******\",\n        \"database\": \"johhansantana\",\n        \"username\": \"jsantana\",\n        \"password\": \"********\"\n      },\n      \"options\": {\n        \"ssl\": false\n      }\n    }\n  }\n}\n\n. @derrickmehaffy that's the name I'm using. Both that and the database name are the same johhansantana\n\n\n. I was able to connect via Robo 3T:\n\n\n\nI tried again to see if I just needed to have some data in the mlab database but failed again:\n\n. I tried that and I get the following log:\n\nIf I put a wrong username or password I get:\n\nDoesn't matter what I put in authenticationDatabase.. I have tried using a VPS with a local mongodb with an authentication as well but still the same error:\n\nI'm able to connect via the terminal though:\n\nThis is the config:\n{\n  \"defaultConnection\": \"default\",\n  \"connections\": {\n    \"default\": {\n      \"connector\": \"strapi-hook-mongoose\",\n      \"settings\": {\n        \"client\": \"mongo\",\n        \"host\": \"***.***.**.*\",\n        \"srv\": false,\n        \"port\": 27017,\n        \"database\": \"johhansantana\",\n        \"username\": \"jsantana\",\n        \"password\": \"******\"\n      },\n      \"options\": {\n        \"authenticationDatabase\": \"admin\",\n        \"ssl\": false\n      }\n    }\n  }\n}. @yummyelin it was this all along.... thank you! and everyone that also replied. Sorry for the noise.\n\nDo you have @ sign in your password? It seems it does not support @ sign.\nmrvautin/adminMongo#147. @derrickmehaffy where exactly could we put the note?. \n",
    "usb248": "Same issue. Problem comes from strapi and not mlab. I checked my mlab connection with node and it works but not with strapi... \n. i've put my local base url, Origine : http://localhost:3000.\nYes exactly, my node app have server side rendering, but i use strapi to render my pages. for example : what are security policies to prevent form tampering in create() ( = PUT request) on my sign up page with strapi ? i can only get a token for auth, not public page ... . ",
    "rcorzogutierrez": "@Aurelsicoko the idea is to be able to visualize in a friendly way, the result of the api in html components. I know that the api can be consumed by any front-end framework (angular, vue.js, react, etc.) but not, immediately, development and a lot of code is needed. I also think that it would give an additional value to the project,. ",
    "storm1er": "Chrome console log :\n\nWith strapi@alpha\n The server restarted multiple times while saving the new content type (causing _health ERR_CONNECTION_REFUSED).\n The last request to /content-type-builder/models/test? was the request to see the content type test model which display \"error happen\" popup.\n\nI'm trying with the actual repo...\nEDIT : Exact same error with master @ e90f0b5858319a873bcb431713c5a407d9526a10. News : creating the project with strapi new [project-name] --dev make the error disappear. The cms is working well in dev mode.. # What I've done : \nCheckout tag v3.0.0-alpha.8\n\nnpm run setup\nCheck strapi -v\nRemove & clean : mongo & cookie\nstrapi new my-awesome-app && cd my-awesome-app && strapi start\nConnect, create account, create new content type\nCreate relation field, save, wait 2 server restart\nTry to look at the new content type model : :white_check_mark: \n\nCheckout tag v3.0.0-alpha.7.3\nThe version with which I had the problem first.\n npm run setup\n Check strapi -v\n Remove & clean : mongo & cookie\n strapi new my-awesome-app && cd my-awesome-app && strapi start\n Connect, create account, create new content type\n Create relation field, save, wait 2 server restart\n* Try to look at the new content type model : :white_check_mark: \n\nWell it seems that I was just too fast for strapi ^^'\nResolved ^^. Here's my content type \"account\" : \njson\n{\n  \"connection\": \"default\",\n  \"collectionName\": \"\",\n  \"info\": {\n    \"name\": \"account\",\n    \"description\": \"\"\n  },\n  \"attributes\": {\n    \"name\": {\n      \"type\": \"string\",\n      \"required\": true\n    },\n    \"startamount\": {\n      \"type\": \"decimal\",\n      \"required\": true\n    },\n    \"startdate\": {\n      \"type\": \"date\",\n      \"required\": true\n    },\n    \"owner\": {\n      \"model\": \"user\",\n      \"via\": \"accounts\",\n      \"plugin\": \"users-permissions\"\n    },\n    \"lines\": {\n      \"collection\": \"line\",\n      \"via\": \"account\"\n    }\n  }\n}\nEven after a restart, I can't save anything. \nBut if a create a lambda content type without  any relation, it works... any idea ?. I was missing libpng-dev package, I did apt install libpng-dev, then it works.. I don't think so, firebase is using is own api, if you want to do so, you'll probably have to create a new database query structure (like they already did with postgresql, etc). Dunno what to say ... Here's the full log : \n\n\n```\n0 info it worked if it ends with ok\n1 verbose cli [ '/home/#########/.nvm/versions/node/v8.9.4/bin/node',\n1 verbose cli   '/home/############/github/strapi/node_modules/.bin/npm',\n1 verbose cli   'link' ]\n2 info using npm@5.1.0\n3 info using node@v8.9.4\n4 verbose linkPkg /home/############/github/strapi/packages/strapi-helper-plugin\n5 verbose link build target /home/#########/.nvm/versions/node/v8.9.4/lib/node_modules/strapi-helper-plugin\n6 verbose npm-session 75015f9679d755e7\n[...silly...]\n9 info lifecycle strapi-helper-plugin@3.0.0-alpha.9~preinstall: strapi-helper-plugin@3.0.0-alpha.9\n[...silly...]\n16 http fetch GET 200 https://registry.npmjs.org/add-asset-html-webpack-plugin 169ms\n17 http fetch GET 200 https://registry.npmjs.org/babel-polyfill 163ms\n18 http fetch GET 200 https://registry.npmjs.org/babel-plugin-transform-react-constant-elements 168ms\n19 http fetch GET 200 https://registry.npmjs.org/babel-plugin-istanbul 168ms\n20 http fetch GET 200 https://registry.npmjs.org/babel-plugin-transform-react-inline-elements 167ms\n21 http fetch GET 200 https://registry.npmjs.org/babel-loader 171ms\n22 http fetch GET 200 https://registry.npmjs.org/babel-plugin-transform-react-remove-prop-types 169ms\n23 http fetch GET 200 https://registry.npmjs.org/babel-cli 195ms\n24 http fetch GET 304 https://registry.npmjs.org/babel-eslint 202ms (from cache)\n[...silly...]\n33 http fetch GET 200 https://registry.npmjs.org/babel-core 217ms\n[...silly...]\n36 http fetch GET 200 https://registry.npmjs.org/babel-preset-react-hmre 45ms\n37 http fetch GET 200 https://registry.npmjs.org/babel-preset-react 47ms\n38 http fetch GET 200 https://registry.npmjs.org/classnames 41ms\n39 http fetch GET 200 https://registry.npmjs.org/copy-webpack-plugin 41ms\n40 http fetch GET 200 https://registry.npmjs.org/bootstrap 46ms\n41 http fetch GET 200 https://registry.npmjs.org/babel-preset-stage-0 50ms\n42 http fetch GET 200 https://registry.npmjs.org/cross-env 39ms\n43 http fetch GET 200 https://registry.npmjs.org/babel-preset-env 54ms\n44 http fetch GET 200 https://registry.npmjs.org/css-loader 41ms\n[...silly...]\n47 http fetch GET 304 https://registry.npmjs.org/chalk 56ms (from cache)\n[...silly...]\n56 http fetch GET 200 https://registry.npmjs.org/eslint-config-airbnb-base 38ms\n57 http fetch GET 200 https://registry.npmjs.org/eslint-config-airbnb 41ms\n58 http fetch GET 200 https://registry.npmjs.org/eslint-config-prettier 46ms\n59 http fetch GET 200 https://registry.npmjs.org/eslint-import-resolver-webpack 47ms\n[...silly...]\n62 http fetch GET 200 https://registry.npmjs.org/exports-loader 40ms\n[...silly...]\n65 http fetch GET 304 https://registry.npmjs.org/eslint 62ms (from cache)\n66 http fetch GET 200 https://registry.npmjs.org/eslint-plugin-jsx-a11y 55ms\n67 http fetch GET 200 https://registry.npmjs.org/eslint-plugin-import 58ms\n68 http fetch GET 304 https://registry.npmjs.org/eslint-plugin-redux-saga 60ms (from cache)\n69 http fetch GET 304 https://registry.npmjs.org/eslint-plugin-react 61ms (from cache)\n[...silly...]\n76 http fetch GET 200 https://registry.npmjs.org/extract-text-webpack-plugin 39ms\n77 http fetch GET 200 https://registry.npmjs.org/file-loader 37ms\n78 http fetch GET 200 https://registry.npmjs.org/express 45ms\n79 http fetch GET 200 https://registry.npmjs.org/history 41ms\n[...silly...]\n84 http fetch GET 200 https://registry.npmjs.org/html-loader 49ms\n85 http fetch GET 200 https://registry.npmjs.org/html-webpack-plugin 52ms\n86 http fetch GET 200 https://registry.npmjs.org/image-webpack-loader 48ms\n87 http fetch GET 200 https://registry.npmjs.org/imports-loader 42ms\n88 http fetch GET 200 https://registry.npmjs.org/intl 42ms\n89 http fetch GET 200 https://registry.npmjs.org/immutable 48ms\n[...silly...]\n96 http fetch GET 200 https://registry.npmjs.org/json-loader 40ms\n97 http fetch GET 200 https://registry.npmjs.org/lodash-webpack-plugin 35ms\n98 http fetch GET 304 https://registry.npmjs.org/invariant 50ms (from cache)\n[...silly...]\n100 http fetch GET 304 https://registry.npmjs.org/lodash 43ms (from cache)\n[...silly...]\n104 http fetch GET 304 https://registry.npmjs.org/mocha 28ms (from cache)\n[...silly...]\n106 http fetch GET 200 https://registry.npmjs.org/plop 31ms\n107 http fetch GET 304 https://registry.npmjs.org/moment 36ms (from cache)\n108 http fetch GET 200 https://registry.npmjs.org/null-loader 33ms\n109 http fetch GET 200 https://registry.npmjs.org/node-sass 36ms\n[...silly...]\n111 http fetch GET 200 https://registry.npmjs.org/postcss-cssnext 38ms\n[...silly...]\n113 http fetch GET 200 https://registry.npmjs.org/postcss-focus 35ms\n[...silly...]\n116 http fetch GET 200 https://registry.npmjs.org/postcss-reporter 40ms\n117 http fetch GET 200 https://registry.npmjs.org/postcss-loader 41ms\n[...silly...]\n119 http fetch GET 200 https://registry.npmjs.org/postcss-smart-import 45ms\n[...silly...]\n121 http fetch GET 200 https://registry.npmjs.org/precss 42ms\n[...silly...]\n126 http fetch GET 200 https://registry.npmjs.org/prettier 47ms\n127 http fetch GET 200 https://registry.npmjs.org/prop-types 41ms\n[...silly...]\n129 http fetch GET 200 https://registry.npmjs.org/react 44ms\n130 http fetch GET 200 https://registry.npmjs.org/react-dom 36ms\n131 http fetch GET 200 https://registry.npmjs.org/react-datetime 45ms\n[...silly...]\n133 http fetch GET 200 https://registry.npmjs.org/react-helmet 35ms\n[...silly...]\n137 http fetch GET 200 https://registry.npmjs.org/react-intl 40ms\n138 http fetch GET 200 https://registry.npmjs.org/react-router-dom 37ms\n139 http fetch GET 200 https://registry.npmjs.org/react-redux 44ms\n[...silly...]\n143 http fetch GET 200 https://registry.npmjs.org/react-router-redux 46ms\n[...silly...]\n145 http fetch GET 200 https://registry.npmjs.org/react-transition-group 32ms\n[...silly...]\n148 http fetch GET 200 https://registry.npmjs.org/reactstrap 33ms\n[...silly...]\n150 http fetch GET 200 https://registry.npmjs.org/redux-immutable 35ms\n151 http fetch GET 200 https://registry.npmjs.org/redux 38ms\n152 http fetch GET 200 https://registry.npmjs.org/reselect 66ms\n153 http fetch GET 304 https://registry.npmjs.org/redux-saga 77ms (from cache)\n[...silly...]\n156 http fetch GET 200 https://registry.npmjs.org/sass-loader 71ms\n157 http fetch GET 200 https://registry.npmjs.org/url-loader 61ms\n158 http fetch GET 200 https://registry.npmjs.org/style-loader 64ms\n[...silly...]\n161 http fetch GET 304 https://registry.npmjs.org/rimraf 80ms (from cache)\n162 http fetch GET 304 https://registry.npmjs.org/shelljs 74ms (from cache)\n[...silly...]\n168 http fetch GET 200 https://registry.npmjs.org/webpack 73ms\n169 http fetch GET 200 https://registry.npmjs.org/webpack-bundle-analyzer 35ms\n170 http fetch GET 200 https://registry.npmjs.org/whatwg-fetch 28ms\n[...silly...]\n172 http fetch GET 200 https://registry.npmjs.org/webpack-hot-middleware 32ms\n173 http fetch GET 200 https://registry.npmjs.org/webpack-dev-middleware 39ms\n[...silly...]\n178 http fetch GET 304 https://registry.npmjs.org/globby 45ms (from cache)\n179 http fetch GET 304 https://registry.npmjs.org/minimatch 45ms (from cache)\n180 http fetch GET 304 https://registry.npmjs.org/bluebird 48ms (from cache)\n181 http fetch GET 304 https://registry.npmjs.org/babel-runtime 47ms (from cache)\n[...silly...]\n183 http fetch GET 304 https://registry.npmjs.org/core-js 47ms (from cache)\n[...silly...]\n188 http fetch GET 304 https://registry.npmjs.org/babel-runtime 32ms (from cache)\n189 http fetch GET 304 https://registry.npmjs.org/regenerator-runtime 42ms (from cache)\n[...silly...]\n191 http fetch GET 200 https://registry.npmjs.org/istanbul-lib-instrument 30ms\n[...silly...]\n193 http fetch GET 304 https://registry.npmjs.org/find-up 31ms (from cache)\n[...silly...]\n196 http fetch GET 200 https://registry.npmjs.org/test-exclude 26ms\n197 http fetch GET 200 https://registry.npmjs.org/find-cache-dir 26ms\n[...silly...]\n199 http fetch GET 200 https://registry.npmjs.org/loader-utils 27ms\n200 http fetch GET 200 https://registry.npmjs.org/babel-register 27ms\n[...silly...]\n203 http fetch GET 304 https://registry.npmjs.org/mkdirp 37ms (from cache)\n[...silly...]\n206 http fetch GET 200 https://registry.npmjs.org/convert-source-map 32ms\n207 http fetch GET 200 https://registry.npmjs.org/fs-readdir-recursive 30ms\n208 http fetch GET 304 https://registry.npmjs.org/commander 36ms (from cache)\n209 http fetch GET 200 https://registry.npmjs.org/output-file-sync 29ms\n[...silly...]\n213 http fetch GET 304 https://registry.npmjs.org/glob 35ms (from cache)\n[...silly...]\n216 http fetch GET 304 https://registry.npmjs.org/path-is-absolute 32ms (from cache)\n217 http fetch GET 304 https://registry.npmjs.org/slash 29ms (from cache)\n[...silly...]\n220 http fetch GET 304 https://registry.npmjs.org/source-map 29ms (from cache)\n[...silly...]\n222 http fetch GET 200 https://registry.npmjs.org/chokidar 36ms\n223 http fetch GET 304 https://registry.npmjs.org/v8flags 42ms (from cache)\n[...silly...]\n226 http fetch GET 304 https://registry.npmjs.org/babel-code-frame 42ms (from cache)\n227 http fetch GET 304 https://registry.npmjs.org/babel-traverse 43ms (from cache)\n228 http fetch GET 304 https://registry.npmjs.org/babel-code-frame 39ms (from cache)\n229 http fetch GET 304 https://registry.npmjs.org/babel-types 44ms (from cache)\n[...silly...]\n234 http fetch GET 304 https://registry.npmjs.org/babylon 44ms (from cache)\n[...silly...]\n236 http fetch GET 200 https://registry.npmjs.org/babel-generator 39ms\n237 http fetch GET 200 https://registry.npmjs.org/babel-helpers 39ms\n[...silly...]\n239 http fetch GET 304 https://registry.npmjs.org/babel-messages 39ms (from cache)\n[...silly...]\n243 http fetch GET 200 https://registry.npmjs.org/babel-template 26ms\n[...silly...]\n245 http fetch GET 304 https://registry.npmjs.org/babel-traverse 29ms (from cache)\n[...silly...]\n247 http fetch GET 304 https://registry.npmjs.org/babylon 34ms (from cache)\n248 http fetch GET 200 https://registry.npmjs.org/json5 33ms\n[...silly...]\n250 http fetch GET 200 https://registry.npmjs.org/private 35ms\n251 http fetch GET 200 https://registry.npmjs.org/babel-plugin-react-transform 32ms\n252 http fetch GET 200 https://registry.npmjs.org/react-transform-hmr 31ms\n253 http fetch GET 200 https://registry.npmjs.org/react-transform-catch-errors 33ms\n254 http fetch GET 304 https://registry.npmjs.org/debug 42ms (from cache)\n[...silly...]\n256 http fetch GET 200 https://registry.npmjs.org/redbox-react 34ms\n[...silly...]\n259 http fetch GET 200 https://registry.npmjs.org/babel-preset-flow 33ms\n[...silly...]\n264 http fetch GET 200 https://registry.npmjs.org/babel-plugin-syntax-jsx 34ms\n[...silly...]\n270 http fetch GET 200 https://registry.npmjs.org/babel-plugin-transform-react-display-name 30ms\n[...silly...]\n272 http fetch GET 200 https://registry.npmjs.org/babel-plugin-transform-react-jsx 26ms\n[...silly...]\n274 http fetch GET 200 https://registry.npmjs.org/babel-plugin-transform-react-jsx-source 30ms\n275 http fetch GET 200 https://registry.npmjs.org/babel-plugin-transform-react-jsx-self 31ms\n276 http fetch GET 200 https://registry.npmjs.org/serialize-javascript 27ms\n277 http fetch GET 304 https://registry.npmjs.org/cacache 30ms (from cache)\n[...silly...]\n282 http fetch GET 200 https://registry.npmjs.org/babel-plugin-transform-do-expressions 28ms\n283 http fetch GET 304 https://registry.npmjs.org/is-glob 41ms (from cache)\n284 http fetch GET 304 https://registry.npmjs.org/pify 32ms (from cache)\n285 http fetch GET 200 https://registry.npmjs.org/babel-plugin-transform-function-bind 27ms\n286 http fetch GET 304 https://registry.npmjs.org/p-limit 30ms (from cache)\n[...silly...]\n292 http fetch GET 200 https://registry.npmjs.org/babel-preset-stage-1 30ms\n[...silly...]\n294 http fetch GET 304 https://registry.npmjs.org/ansi-styles 31ms (from cache)\n[...silly...]\n296 http fetch GET 304 https://registry.npmjs.org/escape-string-regexp 32ms (from cache)\n297 http fetch GET 304 https://registry.npmjs.org/supports-color 31ms (from cache)\n[...silly...]\n299 http fetch GET 304 https://registry.npmjs.org/cross-spawn 31ms (from cache)\n[...silly...]\n302 http fetch GET 200 https://registry.npmjs.org/babel-plugin-check-es2015-constants 27ms\n303 http fetch GET 200 https://registry.npmjs.org/babel-plugin-syntax-trailing-function-commas 26ms\n304 http fetch GET 304 https://registry.npmjs.org/is-windows 31ms (from cache)\n[...silly...]\n306 http fetch GET 200 https://registry.npmjs.org/babel-plugin-transform-async-to-generator 28ms\n[...silly...]\n308 http fetch GET 200 https://registry.npmjs.org/babel-plugin-transform-es2015-arrow-functions 31ms\n[...silly...]\n311 http fetch GET 200 https://registry.npmjs.org/babel-plugin-transform-es2015-block-scoped-functions 31ms\n[...silly...]\n314 http fetch GET 200 https://registry.npmjs.org/babel-plugin-transform-es2015-block-scoping 34ms\n315 http fetch GET 200 https://registry.npmjs.org/babel-plugin-transform-es2015-computed-properties 29ms\n316 http fetch GET 200 https://registry.npmjs.org/babel-plugin-transform-es2015-destructuring 30ms\n[...silly...]\n320 http fetch GET 200 https://registry.npmjs.org/babel-plugin-transform-es2015-duplicate-keys 26ms\n[...silly...]\n322 http fetch GET 200 https://registry.npmjs.org/babel-plugin-transform-es2015-for-of 26ms\n323 http fetch GET 200 https://registry.npmjs.org/babel-plugin-transform-es2015-function-name 24ms\n[...silly...]\n326 http fetch GET 200 https://registry.npmjs.org/babel-plugin-transform-es2015-literals 27ms\n[...silly...]\n328 http fetch GET 200 https://registry.npmjs.org/babel-plugin-transform-es2015-modules-amd 26ms\n[...silly...]\n330 http fetch GET 200 https://registry.npmjs.org/babel-plugin-transform-es2015-modules-commonjs 27ms\n[...silly...]\n332 http fetch GET 200 https://registry.npmjs.org/babel-plugin-transform-es2015-object-super 28ms\n333 http fetch GET 200 https://registry.npmjs.org/babel-plugin-transform-es2015-modules-umd 30ms\n334 http fetch GET 200 https://registry.npmjs.org/babel-plugin-transform-es2015-modules-systemjs 32ms\n335 http fetch GET 200 https://registry.npmjs.org/babel-plugin-transform-es2015-parameters 28ms\n[...silly...]\n340 http fetch GET 200 https://registry.npmjs.org/babel-plugin-transform-es2015-spread 30ms\n341 http fetch GET 200 https://registry.npmjs.org/babel-plugin-transform-es2015-shorthand-properties 32ms\n342 http fetch GET 200 https://registry.npmjs.org/babel-plugin-transform-es2015-sticky-regex 29ms\n[...silly...]\n347 http fetch GET 200 https://registry.npmjs.org/babel-plugin-transform-es2015-template-literals 28ms\n[...silly...]\n349 http fetch GET 200 https://registry.npmjs.org/babel-plugin-transform-es2015-typeof-symbol 26ms\n[...silly...]\n351 http fetch GET 200 https://registry.npmjs.org/babel-plugin-transform-es2015-unicode-regex 25ms\n352 http fetch GET 200 https://registry.npmjs.org/babel-plugin-transform-exponentiation-operator 26ms\n[...silly...]\n355 http fetch GET 200 https://registry.npmjs.org/babel-plugin-transform-regenerator 28ms\n[...silly...]\n357 http fetch GET 200 https://registry.npmjs.org/browserslist 31ms\n358 http fetch GET 200 https://registry.npmjs.org/css-selector-tokenizer 27ms\n[...silly...]\n360 http fetch GET 304 https://registry.npmjs.org/semver 32ms (from cache)\n[...silly...]\n362 http fetch GET 200 https://registry.npmjs.org/icss-utils 28ms\n[...silly...]\n364 http fetch GET 200 https://registry.npmjs.org/cssnano 35ms\n[...silly...]\n366 http fetch GET 200 https://registry.npmjs.org/lodash.camelcase 41ms\n[...silly...]\n368 http fetch GET 200 https://registry.npmjs.org/postcss-modules-extract-imports 34ms\n369 http fetch GET 200 https://registry.npmjs.org/postcss 40ms\n[...silly...]\n371 http fetch GET 304 https://registry.npmjs.org/object-assign 50ms (from cache)\n[...silly...]\n373 http fetch GET 200 https://registry.npmjs.org/postcss-modules-local-by-default 40ms\n[...silly...]\n375 http fetch GET 200 https://registry.npmjs.org/postcss-modules-scope 41ms\n[...silly...]\n377 http fetch GET 200 https://registry.npmjs.org/postcss-modules-values 42ms\n[...silly...]\n381 http fetch GET 200 https://registry.npmjs.org/postcss-value-parser 36ms\n[...silly...]\n383 http fetch GET 200 https://registry.npmjs.org/source-list-map 34ms\n[...silly...]\n386 http fetch GET 200 https://registry.npmjs.org/eslint-restricted-globals 28ms\n[...silly...]\n388 http fetch GET 200 https://registry.npmjs.org/array-find 25ms\n[...silly...]\n390 http fetch GET 304 https://registry.npmjs.org/get-stdin 36ms (from cache)\n391 http fetch GET 200 https://registry.npmjs.org/enhanced-resolve 28ms\n392 http fetch GET 200 https://registry.npmjs.org/find-root 29ms\n[...silly...]\n396 http fetch GET 200 https://registry.npmjs.org/is-absolute 32ms\n[...silly...]\n398 http fetch GET 200 https://registry.npmjs.org/lodash.get 31ms\n[...silly...]\n400 http fetch GET 304 https://registry.npmjs.org/interpret 43ms (from cache)\n401 http fetch GET 304 https://registry.npmjs.org/has 44ms (from cache)\n402 http fetch GET 200 https://registry.npmjs.org/node-libs-browser 35ms\n[...silly...]\n408 http fetch GET 304 https://registry.npmjs.org/resolve 40ms (from cache)\n[...silly...]\n410 http fetch GET 304 https://registry.npmjs.org/concat-stream 31ms (from cache)\n411 http fetch GET 304 https://registry.npmjs.org/ajv 33ms (from cache)\n[...silly...]\n414 http fetch GET 304 https://registry.npmjs.org/doctrine 37ms (from cache)\n[...silly...]\n416 http fetch GET 200 https://registry.npmjs.org/eslint-visitor-keys 33ms\n417 http fetch GET 200 https://registry.npmjs.org/eslint-scope 34ms\n418 http fetch GET 304 https://registry.npmjs.org/esquery 34ms (from cache)\n419 http fetch GET 304 https://registry.npmjs.org/espree 36ms (from cache)\n[...silly...]\n424 http fetch GET 304 https://registry.npmjs.org/esutils 36ms (from cache)\n425 http fetch GET 304 https://registry.npmjs.org/file-entry-cache 34ms (from cache)\n[...silly...]\n428 http fetch GET 200 https://registry.npmjs.org/functional-red-black-tree 24ms\n429 http fetch GET 304 https://registry.npmjs.org/globals 25ms (from cache)\n430 http fetch GET 304 https://registry.npmjs.org/ignore 26ms (from cache)\n[...silly...]\n435 http fetch GET 304 https://registry.npmjs.org/imurmurhash 40ms (from cache)\n436 http fetch GET 200 https://registry.npmjs.org/json-stable-stringify-without-jsonify 36ms\n[...silly...]\n438 http fetch GET 304 https://registry.npmjs.org/inquirer 43ms (from cache)\n439 http fetch GET 304 https://registry.npmjs.org/is-resolvable 45ms (from cache)\n440 http fetch GET 304 https://registry.npmjs.org/js-yaml 47ms (from cache)\n[...silly...]\n443 http fetch GET 304 https://registry.npmjs.org/levn 44ms (from cache)\n[...silly...]\n447 http fetch GET 304 https://registry.npmjs.org/natural-compare 36ms (from cache)\n[...silly...]\n449 http fetch GET 304 https://registry.npmjs.org/optionator 31ms (from cache)\n[...silly...]\n451 http fetch GET 304 https://registry.npmjs.org/path-is-inside 33ms (from cache)\n[...silly...]\n453 http fetch GET 304 https://registry.npmjs.org/pluralize 29ms (from cache)\n[...silly...]\n455 http fetch GET 304 https://registry.npmjs.org/progress 27ms (from cache)\n[...silly...]\n457 http fetch GET 304 https://registry.npmjs.org/require-uncached 36ms (from cache)\n458 http fetch GET 304 https://registry.npmjs.org/strip-ansi 36ms (from cache)\n[...silly...]\n461 http fetch GET 304 https://registry.npmjs.org/table 36ms (from cache)\n462 http fetch GET 304 https://registry.npmjs.org/strip-json-comments 37ms (from cache)\n463 http fetch GET 304 https://registry.npmjs.org/text-table 34ms (from cache)\n464 http fetch GET 200 https://registry.npmjs.org/aria-query 28ms\n[...silly...]\n467 http fetch GET 200 https://registry.npmjs.org/array-includes 28ms\n[...silly...]\n471 http fetch GET 200 https://registry.npmjs.org/ast-types-flow 35ms\n[...silly...]\n473 http fetch GET 200 https://registry.npmjs.org/axobject-query 27ms\n[...silly...]\n477 http fetch GET 200 https://registry.npmjs.org/damerau-levenshtein 28ms\n478 http fetch GET 200 https://registry.npmjs.org/emoji-regex 28ms\n[...silly...]\n483 http fetch GET 304 https://registry.npmjs.org/jsx-ast-utils 48ms (from cache)\n484 http fetch GET 200 https://registry.npmjs.org/contains-path 41ms\n485 http fetch GET 200 https://registry.npmjs.org/eslint-import-resolver-node 38ms\n486 http fetch GET 200 https://registry.npmjs.org/lodash.cond 35ms\n487 http fetch GET 200 https://registry.npmjs.org/eslint-module-utils 38ms\n488 http fetch GET 304 https://registry.npmjs.org/builtin-modules 53ms (from cache)\n[...silly...]\n492 http fetch GET 304 https://registry.npmjs.org/read-pkg-up 40ms (from cache)\n[...silly...]\n498 http fetch GET 304 https://registry.npmjs.org/jsx-ast-utils 38ms (from cache)\n[...silly...]\n500 http fetch GET 304 https://registry.npmjs.org/async 38ms (from cache)\n[...silly...]\n502 http fetch GET 200 https://registry.npmjs.org/schema-utils 26ms\n503 http fetch GET 200 https://registry.npmjs.org/webpack-sources 25ms\n[...silly...]\n506 http fetch GET 200 https://registry.npmjs.org/array-flatten 34ms\n507 http fetch GET 200 https://registry.npmjs.org/accepts 34ms\n508 http fetch GET 200 https://registry.npmjs.org/content-disposition 34ms\n509 http fetch GET 200 https://registry.npmjs.org/content-type 33ms\n510 http fetch GET 200 https://registry.npmjs.org/cookie 32ms\n511 http fetch GET 200 https://registry.npmjs.org/cookie-signature 31ms\n512 http fetch GET 200 https://registry.npmjs.org/body-parser 36ms\n[...silly...]\n521 http fetch GET 200 https://registry.npmjs.org/depd 25ms\n[...silly...]\n523 http fetch GET 200 https://registry.npmjs.org/encodeurl 24ms\n[...silly...]\n525 http fetch GET 200 https://registry.npmjs.org/escape-html 26ms\n[...silly...]\n527 http fetch GET 200 https://registry.npmjs.org/etag 34ms\n528 http fetch GET 200 https://registry.npmjs.org/finalhandler 34ms\n529 http fetch GET 200 https://registry.npmjs.org/fresh 36ms\n530 http fetch GET 200 https://registry.npmjs.org/merge-descriptors 35ms\n531 http fetch GET 200 https://registry.npmjs.org/methods 34ms\n532 http fetch GET 200 https://registry.npmjs.org/on-finished 34ms\n[...silly...]\n539 http fetch GET 200 https://registry.npmjs.org/parseurl 37ms\n540 http fetch GET 200 https://registry.npmjs.org/path-to-regexp 35ms\n[...silly...]\n543 http fetch GET 200 https://registry.npmjs.org/proxy-addr 26ms\n[...silly...]\n545 http fetch GET 200 https://registry.npmjs.org/range-parser 27ms\n[...silly...]\n547 http fetch GET 200 https://registry.npmjs.org/setprototypeof 101ms\n548 http fetch GET 200 https://registry.npmjs.org/send 104ms\n549 http fetch GET 200 https://registry.npmjs.org/serve-static 103ms\n550 http fetch GET 200 https://registry.npmjs.org/utils-merge 93ms\n551 http fetch GET 200 https://registry.npmjs.org/statuses 96ms\n552 http fetch GET 200 https://registry.npmjs.org/vary 81ms\n553 http fetch GET 200 https://registry.npmjs.org/type-is 95ms\n554 http fetch GET 304 https://registry.npmjs.org/qs 113ms (from cache)\n[...silly...]\n557 http fetch GET 304 https://registry.npmjs.org/safe-buffer 112ms (from cache)\n[...silly...]\n569 http fetch GET 200 https://registry.npmjs.org/resolve-pathname 24ms\n[...silly...]\n571 http fetch GET 200 https://registry.npmjs.org/value-equal 39ms\n572 http fetch GET 200 https://registry.npmjs.org/warning 39ms\n573 http fetch GET 200 https://registry.npmjs.org/es6-templates 39ms\n574 http fetch GET 200 https://registry.npmjs.org/fastparse 39ms\n575 http fetch GET 200 https://registry.npmjs.org/pretty-error 32ms\n576 http fetch GET 200 https://registry.npmjs.org/html-minifier 41ms\n577 http fetch GET 200 https://registry.npmjs.org/html-minifier 38ms\n[...silly...]\n580 http fetch GET 304 https://registry.npmjs.org/loose-envify 51ms (from cache)\n[...silly...]\n588 http fetch GET 200 https://registry.npmjs.org/toposort 24ms\n[...silly...]\n592 http fetch GET 200 https://registry.npmjs.org/imagemin 24ms\n593 http fetch GET 200 https://registry.npmjs.org/imagemin-gifsicle 24ms\n[...silly...]\n596 http fetch GET 200 https://registry.npmjs.org/imagemin-mozjpeg 31ms\n597 http fetch GET 200 https://registry.npmjs.org/imagemin-optipng 30ms\n598 http fetch GET 200 https://registry.npmjs.org/imagemin-svgo 30ms\n[...silly...]\n600 http fetch GET 200 https://registry.npmjs.org/imagemin-webp 32ms\n601 http fetch GET 200 https://registry.npmjs.org/imagemin-pngquant 34ms\n602 http fetch GET 200 https://registry.npmjs.org/browser-stdout 32ms\n603 http fetch GET 200 https://registry.npmjs.org/growl 7ms (from cache)\n[...silly...]\n617 http fetch GET 304 https://registry.npmjs.org/diff 45ms (from cache)\n[...silly...]\n622 http fetch GET 200 https://registry.npmjs.org/json3 26ms\n623 http fetch GET 200 https://registry.npmjs.org/lodash.create 25ms\n[...silly...]\n626 http fetch GET 200 https://registry.npmjs.org/node-plop 29ms\n[...silly...]\n628 http fetch GET 304 https://registry.npmjs.org/minimist 37ms (from cache)\n629 http fetch GET 304 https://registry.npmjs.org/liftoff 39ms (from cache)\n[...silly...]\n631 http fetch GET 200 https://registry.npmjs.org/async-foreach 31ms\n632 http fetch GET 200 https://registry.npmjs.org/gaze 28ms\n[...silly...]\n635 http fetch GET 200 https://registry.npmjs.org/in-publish 32ms\n[...silly...]\n637 http fetch GET 200 https://registry.npmjs.org/lodash.mergewith 29ms\n638 http fetch GET 304 https://registry.npmjs.org/lodash.assign 35ms (from cache)\n[...silly...]\n641 http fetch GET 304 https://registry.npmjs.org/lodash.clonedeep 33ms (from cache)\n[...silly...]\n644 http fetch GET 304 https://registry.npmjs.org/meow 25ms (from cache)\n[...silly...]\n646 http fetch GET 200 https://registry.npmjs.org/nan 25ms\n[...silly...]\n648 http fetch GET 304 https://registry.npmjs.org/node-gyp 29ms (from cache)\n[...silly...]\n650 http fetch GET 304 https://registry.npmjs.org/npmlog 35ms (from cache)\n651 http fetch GET 200 https://registry.npmjs.org/sass-graph 28ms\n652 http fetch GET 200 https://registry.npmjs.org/stdout-stream 29ms\n[...silly...]\n654 http fetch GET 200 https://registry.npmjs.org/true-case-path 35ms\n655 http fetch GET 304 https://registry.npmjs.org/request 43ms (from cache)\n[...silly...]\n659 http fetch GET 200 https://registry.npmjs.org/caniuse-api 43ms\n660 http fetch GET 200 https://registry.npmjs.org/pixrem 38ms\n[...silly...]\n663 http fetch GET 200 https://registry.npmjs.org/autoprefixer 52ms\n664 http fetch GET 200 https://registry.npmjs.org/pleeease-filters 37ms\n[...silly...]\n669 http fetch GET 200 https://registry.npmjs.org/postcss-apply 27ms\n670 http fetch GET 200 https://registry.npmjs.org/postcss-attribute-case-insensitive 27ms\n[...silly...]\n672 http fetch GET 200 https://registry.npmjs.org/postcss-calc 27ms\n[...silly...]\n674 http fetch GET 200 https://registry.npmjs.org/postcss-color-function 27ms\n[...silly...]\n677 http fetch GET 200 https://registry.npmjs.org/postcss-color-gray 31ms\n678 http fetch GET 200 https://registry.npmjs.org/postcss-color-hex-alpha 26ms\n679 http fetch GET 200 https://registry.npmjs.org/postcss-color-hsl 27ms\n[...silly...]\n681 http fetch GET 200 https://registry.npmjs.org/postcss-color-hwb 28ms\n[...silly...]\n683 http fetch GET 200 https://registry.npmjs.org/postcss-color-rebeccapurple 28ms\n[...silly...]\n687 http fetch GET 200 https://registry.npmjs.org/postcss-color-rgb 24ms\n[...silly...]\n689 http fetch GET 200 https://registry.npmjs.org/postcss-color-rgba-fallback 23ms\n[...silly...]\n691 http fetch GET 200 https://registry.npmjs.org/postcss-custom-media 24ms\n[...silly...]\n693 http fetch GET 200 https://registry.npmjs.org/postcss-custom-properties 25ms\n[...silly...]\n695 http fetch GET 200 https://registry.npmjs.org/postcss-custom-selectors 23ms\n[...silly...]\n697 http fetch GET 200 https://registry.npmjs.org/postcss-font-variant 29ms\n698 http fetch GET 200 https://registry.npmjs.org/postcss-initial 26ms\n699 http fetch GET 200 https://registry.npmjs.org/postcss-image-set-polyfill 28ms\n700 http fetch GET 200 https://registry.npmjs.org/postcss-font-family-system-ui 32ms\n[...silly...]\n705 http fetch GET 200 https://registry.npmjs.org/postcss-media-minmax 30ms\n706 http fetch GET 200 https://registry.npmjs.org/postcss-nesting 28ms\n[...silly...]\n710 http fetch GET 200 https://registry.npmjs.org/postcss-pseudo-class-any-link 31ms\n[...silly...]\n712 http fetch GET 200 https://registry.npmjs.org/postcss-pseudoelements 29ms\n[...silly...]\n718 http fetch GET 200 https://registry.npmjs.org/postcss-replace-overflow-wrap 31ms\n[...silly...]\n721 http fetch GET 200 https://registry.npmjs.org/postcss-selector-matches 25ms\n722 http fetch GET 200 https://registry.npmjs.org/postcss-selector-not 26ms\n[...silly...]\n726 http fetch GET 200 https://registry.npmjs.org/log-symbols 25ms\n[...silly...]\n730 http fetch GET 200 https://registry.npmjs.org/postcss-load-config 27ms\n731 http fetch GET 200 https://registry.npmjs.org/postcss-sass 26ms\n[...silly...]\n733 http fetch GET 200 https://registry.npmjs.org/postcss-scss 28ms\n[...silly...]\n737 http fetch GET 200 https://registry.npmjs.org/read-cache 30ms\n738 http fetch GET 200 https://registry.npmjs.org/promise-each 31ms\n739 http fetch GET 200 https://registry.npmjs.org/sugarss 29ms\n[...silly...]\n747 http fetch GET 200 https://registry.npmjs.org/postcss-advanced-variables 26ms\n748 http fetch GET 200 https://registry.npmjs.org/postcss-atroot 25ms\n[...silly...]\n756 http fetch GET 200 https://registry.npmjs.org/postcss-extend 24ms\n[...silly...]\n758 http fetch GET 200 https://registry.npmjs.org/postcss-mixins 27ms\n759 http fetch GET 200 https://registry.npmjs.org/postcss-nested 25ms\n[...silly...]\n763 http fetch GET 200 https://registry.npmjs.org/postcss-property-lookup 26ms\n764 http fetch GET 200 https://registry.npmjs.org/postcss-partial-import 34ms\n765 http fetch GET 200 https://registry.npmjs.org/create-react-class 67ms\n766 http fetch GET 200 https://registry.npmjs.org/deep-equal 62ms\n[...silly...]\n769 http fetch GET 200 https://registry.npmjs.org/fbjs 73ms\n770 http fetch GET 200 https://registry.npmjs.org/react-side-effect 59ms\n[...silly...]\n772 http fetch GET 200 https://registry.npmjs.org/intl-format-cache 53ms\n773 http fetch GET 200 https://registry.npmjs.org/intl-messageformat 54ms\n774 http fetch GET 200 https://registry.npmjs.org/react-onclickoutside 71ms\n[...silly...]\n787 http fetch GET 200 https://registry.npmjs.org/intl-relativeformat 26ms\n[...silly...]\n789 http fetch GET 200 https://registry.npmjs.org/hoist-non-react-statics 24ms\n790 http fetch GET 200 https://registry.npmjs.org/react-router 33ms\n791 http fetch GET 200 https://registry.npmjs.org/lodash-es 31ms\n[...silly...]\n793 http fetch GET 200 https://registry.npmjs.org/chain-function 33ms\n794 http fetch GET 200 https://registry.npmjs.org/dom-helpers 32ms\n[...silly...]\n796 http fetch GET 200 https://registry.npmjs.org/lodash.isfunction 32ms\n797 http fetch GET 200 https://registry.npmjs.org/lodash.isobject 34ms\n798 http fetch GET 200 https://registry.npmjs.org/lodash.tonumber 33ms\n[...silly...]\n812 http fetch GET 200 https://registry.npmjs.org/react-popper 38ms\n[...silly...]\n816 http fetch GET 200 https://registry.npmjs.org/clone-deep 27ms\n817 http fetch GET 200 https://registry.npmjs.org/lodash.tail 27ms\n818 http fetch GET 200 https://registry.npmjs.org/symbol-observable 31ms\n819 http fetch GET 200 https://registry.npmjs.org/mime 27ms\n[...silly...]\n828 http fetch GET 200 https://registry.npmjs.org/acorn-dynamic-import 36ms\n[...silly...]\n830 http fetch GET 304 https://registry.npmjs.org/rechoir 40ms (from cache)\n[...silly...]\n832 http fetch GET 304 https://registry.npmjs.org/acorn 41ms (from cache)\n[...silly...]\n834 http fetch GET 304 https://registry.npmjs.org/ajv-keywords 35ms (from cache)\n[...silly...]\n839 http fetch GET 200 https://registry.npmjs.org/loader-runner 29ms\n840 http fetch GET 200 https://registry.npmjs.org/memory-fs 29ms\n[...silly...]\n842 http fetch GET 304 https://registry.npmjs.org/escope 50ms (from cache)\n[...silly...]\n846 http fetch GET 200 https://registry.npmjs.org/tapable 38ms\n847 http fetch GET 200 https://registry.npmjs.org/watchpack 37ms\n848 http fetch GET 200 https://registry.npmjs.org/uglifyjs-webpack-plugin 40ms\n849 http fetch GET 200 https://registry.npmjs.org/ejs 34ms\n[...silly...]\n853 http fetch GET 304 https://registry.npmjs.org/yargs 43ms (from cache)\n[...silly...]\n858 http fetch GET 200 https://registry.npmjs.org/gzip-size 39ms\n[...silly...]\n860 http fetch GET 200 https://registry.npmjs.org/filesize 51ms\n[...silly...]\n862 http fetch GET 200 https://registry.npmjs.org/ws 43ms\n[...silly...]\n864 http fetch GET 200 https://registry.npmjs.org/ansi-html 35ms\n865 http fetch GET 200 https://registry.npmjs.org/html-entities 35ms\n[...silly...]\n868 http fetch GET 200 https://registry.npmjs.org/querystring 37ms\n[...silly...]\n870 http fetch GET 304 https://registry.npmjs.org/opener 52ms (from cache)\n[...silly...]\n884 http fetch GET 200 https://registry.npmjs.org/time-stamp 26ms\n[...silly...]\n886 http fetch GET 304 https://registry.npmjs.org/array-union 27ms (from cache)\n[...silly...]\n888 http fetch GET 304 https://registry.npmjs.org/pinkie-promise 28ms (from cache)\n[...silly...]\n890 http fetch GET 304 https://registry.npmjs.org/brace-expansion 28ms (from cache)\n[...silly...]\n892 http fetch GET 304 https://registry.npmjs.org/locate-path 27ms (from cache)\n[...silly...]\n894 http fetch GET 200 https://registry.npmjs.org/istanbul-lib-coverage 26ms\n[...silly...]\n896 http fetch GET 304 https://registry.npmjs.org/arrify 30ms (from cache)\n[...silly...]\n899 http fetch GET 304 https://registry.npmjs.org/micromatch 54ms (from cache)\n900 http fetch GET 304 https://registry.npmjs.org/require-main-filename 51ms (from cache)\n[...silly...]\n904 http fetch GET 200 https://registry.npmjs.org/commondir 54ms\n905 http fetch GET 200 https://registry.npmjs.org/home-or-tmp 33ms\n906 http fetch GET 200 https://registry.npmjs.org/pkg-dir 45ms\n907 http fetch GET 200 https://registry.npmjs.org/emojis-list 39ms\n908 http fetch GET 200 https://registry.npmjs.org/big.js 46ms\n909 http fetch GET 200 https://registry.npmjs.org/source-map-support 38ms\n910 http fetch GET 304 https://registry.npmjs.org/make-dir 63ms (from cache)\n[...silly...]\n918 http fetch GET 304 https://registry.npmjs.org/fs.realpath 30ms (from cache)\n919 http fetch GET 304 https://registry.npmjs.org/inflight 30ms (from cache)\n[...silly...]\n922 http fetch GET 200 https://registry.npmjs.org/anymatch 33ms\n923 http fetch GET 200 https://registry.npmjs.org/async-each 32ms\n924 http fetch GET 304 https://registry.npmjs.org/inherits 36ms (from cache)\n[...silly...]\n927 http fetch GET 304 https://registry.npmjs.org/once 40ms (from cache)\n928 http fetch GET 304 https://registry.npmjs.org/graceful-fs 41ms (from cache)\n929 http fetch GET 304 https://registry.npmjs.org/user-home 40ms (from cache)\n930 http fetch GET 304 https://registry.npmjs.org/glob-parent 37ms (from cache)\n[...silly...]\n932 http fetch GET 200 https://registry.npmjs.org/is-binary-path 30ms\n[...silly...]\n939 http fetch GET 304 https://registry.npmjs.org/inherits 38ms (from cache)\n[...silly...]\n944 http fetch GET 200 https://registry.npmjs.org/readdirp 44ms\n945 http fetch GET 200 https://registry.npmjs.org/fsevents 40ms\n946 http fetch GET 200 https://registry.npmjs.org/jsesc 38ms\n947 http fetch GET 200 https://registry.npmjs.org/trim-right 39ms\n948 http fetch GET 200 https://registry.npmjs.org/global 34ms\n949 http fetch GET 304 https://registry.npmjs.org/js-tokens 45ms (from cache)\n[...silly...]\n952 http fetch GET 304 https://registry.npmjs.org/to-fast-properties 46ms (from cache)\n953 http fetch GET 304 https://registry.npmjs.org/ms 40ms (from cache)\n954 http fetch GET 304 https://registry.npmjs.org/detect-indent 45ms (from cache)\n[...silly...]\n965 http fetch GET 200 https://registry.npmjs.org/react-proxy 24ms\n[...silly...]\n967 http fetch GET 200 https://registry.npmjs.org/dir-glob 26ms\n968 http fetch GET 200 https://registry.npmjs.org/sourcemapped-stacktrace 27ms\n969 http fetch GET 200 https://registry.npmjs.org/error-stack-parser 28ms\n[...silly...]\n973 http fetch GET 200 https://registry.npmjs.org/babel-plugin-transform-flow-strip-types 32ms\n974 http fetch GET 200 https://registry.npmjs.org/babel-helper-builder-react-jsx 33ms\n975 http fetch GET 304 https://registry.npmjs.org/chownr 37ms (from cache)\n976 http fetch GET 304 https://registry.npmjs.org/lru-cache 35ms (from cache)\n[...silly...]\n981 http fetch GET 304 https://registry.npmjs.org/mississippi 40ms (from cache)\n[...silly...]\n983 http fetch GET 304 https://registry.npmjs.org/move-concurrently 28ms (from cache)\n[...silly...]\n985 http fetch GET 304 https://registry.npmjs.org/promise-inflight 32ms (from cache)\n[...silly...]\n987 http fetch GET 304 https://registry.npmjs.org/ssri 35ms (from cache)\n[...silly...]\n989 http fetch GET 304 https://registry.npmjs.org/unique-filename 38ms (from cache)\n[...silly...]\n991 http fetch GET 200 https://registry.npmjs.org/babel-plugin-syntax-do-expressions 33ms\n992 http fetch GET 200 https://registry.npmjs.org/babel-plugin-syntax-function-bind 30ms\n993 http fetch GET 304 https://registry.npmjs.org/y18n 37ms (from cache)\n994 http fetch GET 304 https://registry.npmjs.org/p-try 36ms (from cache)\n995 http fetch GET 304 https://registry.npmjs.org/is-extglob 35ms (from cache)\n996 http fetch GET 200 https://registry.npmjs.org/babel-plugin-transform-class-constructor-call 28ms\n[...silly...]\n1005 http fetch GET 200 https://registry.npmjs.org/babel-plugin-transform-export-extensions 26ms\n[...silly...]\n1008 http fetch GET 200 https://registry.npmjs.org/babel-preset-stage-2 26ms\n[...silly...]\n1010 http fetch GET 304 https://registry.npmjs.org/color-convert 27ms (from cache)\n[...silly...]\n1013 http fetch GET 200 https://registry.npmjs.org/babel-plugin-syntax-async-functions 51ms\n1014 http fetch GET 200 https://registry.npmjs.org/babel-helper-function-name 49ms\n1015 http fetch GET 200 https://registry.npmjs.org/babel-helper-remap-async-to-generator 55ms\n1016 http fetch GET 304 https://registry.npmjs.org/has-flag 58ms (from cache)\n1017 http fetch GET 200 https://registry.npmjs.org/babel-helper-hoist-variables 37ms\n1018 http fetch GET 304 https://registry.npmjs.org/shebang-command 59ms (from cache)\n1019 http fetch GET 200 https://registry.npmjs.org/babel-helper-replace-supers 39ms\n1020 http fetch GET 200 https://registry.npmjs.org/babel-plugin-transform-strict-mode 47ms\n[...silly...]\n1022 http fetch GET 304 https://registry.npmjs.org/which 61ms (from cache)\n[...silly...]\n1032 http fetch GET 200 https://registry.npmjs.org/babel-helper-call-delegate 25ms\n[...silly...]\n1034 http fetch GET 200 https://registry.npmjs.org/regexpu-core 33ms\n1035 http fetch GET 200 https://registry.npmjs.org/babel-helper-get-function-arity 37ms\n1036 http fetch GET 200 https://registry.npmjs.org/babel-plugin-syntax-exponentiation-operator 34ms\n1037 http fetch GET 200 https://registry.npmjs.org/babel-helper-regex 39ms\n1038 http fetch GET 200 https://registry.npmjs.org/babel-helper-builder-binary-assignment-operator-visitor 35ms\n1039 http fetch GET 200 https://registry.npmjs.org/electron-to-chromium 33ms\n1040 http fetch GET 200 https://registry.npmjs.org/regenerator-transform 35ms\n1041 http fetch GET 200 https://registry.npmjs.org/caniuse-lite 37ms\n[...silly...]\n1054 http fetch GET 200 https://registry.npmjs.org/cssesc 25ms\n[...silly...]\n1056 http fetch GET 200 https://registry.npmjs.org/defined 27ms\n1057 http fetch GET 200 https://registry.npmjs.org/postcss-colormin 27ms\n[...silly...]\n1059 http fetch GET 200 https://registry.npmjs.org/postcss-convert-values 39ms\n1060 http fetch GET 200 https://registry.npmjs.org/postcss-discard-comments 39ms\n1061 http fetch GET 304 https://registry.npmjs.org/decamelize 47ms (from cache)\n[...silly...]\n1064 http fetch GET 200 https://registry.npmjs.org/postcss-discard-empty 44ms\n1065 http fetch GET 200 https://registry.npmjs.org/postcss-discard-duplicates 46ms\n1066 http fetch GET 200 https://registry.npmjs.org/postcss-discard-overridden 43ms\n1067 http fetch GET 200 https://registry.npmjs.org/postcss-discard-unused 43ms\n[...silly...]\n1074 http fetch GET 200 https://registry.npmjs.org/postcss-filter-plugins 30ms\n[...silly...]\n1076 http fetch GET 200 https://registry.npmjs.org/postcss-merge-idents 24ms\n[...silly...]\n1078 http fetch GET 200 https://registry.npmjs.org/postcss-merge-longhand 26ms\n[...silly...]\n1080 http fetch GET 200 https://registry.npmjs.org/postcss-merge-rules 28ms\n1081 http fetch GET 200 https://registry.npmjs.org/postcss-minify-font-values 27ms\n[...silly...]\n1084 http fetch GET 200 https://registry.npmjs.org/postcss-minify-params 39ms\n1085 http fetch GET 200 https://registry.npmjs.org/postcss-minify-gradients 41ms\n1086 http fetch GET 200 https://registry.npmjs.org/postcss-minify-selectors 38ms\n1087 http fetch GET 200 https://registry.npmjs.org/postcss-normalize-charset 37ms\n1088 http fetch GET 200 https://registry.npmjs.org/postcss-normalize-url 35ms\n1089 http fetch GET 200 https://registry.npmjs.org/postcss-ordered-values 32ms\n[...silly...]\n1094 http fetch GET 200 https://registry.npmjs.org/postcss-reduce-idents 34ms\n[...silly...]\n1098 http fetch GET 200 https://registry.npmjs.org/postcss-reduce-initial 33ms\n1099 http fetch GET 200 https://registry.npmjs.org/postcss-reduce-transforms 32ms\n[...silly...]\n1108 http fetch GET 200 https://registry.npmjs.org/postcss-svgo 25ms\n[...silly...]\n1110 http fetch GET 200 https://registry.npmjs.org/postcss-unique-selectors 36ms\n1111 http fetch GET 200 https://registry.npmjs.org/postcss-zindex 36ms\n1112 http fetch GET 200 https://registry.npmjs.org/js-base64 36ms\n1113 http fetch GET 200 https://registry.npmjs.org/icss-replace-symbols 33ms\n1114 http fetch GET 200 https://registry.npmjs.org/is-relative 30ms\n[...silly...]\n1119 http fetch GET 200 https://registry.npmjs.org/lodash._baseget 36ms\n1120 http fetch GET 200 https://registry.npmjs.org/lodash._topath 34ms\n[...silly...]\n1122 http fetch GET 304 https://registry.npmjs.org/function-bind 40ms (from cache)\n[...silly...]\n1126 http fetch GET 304 https://registry.npmjs.org/assert 32ms (from cache)\n[...silly...]\n1128 http fetch GET 200 https://registry.npmjs.org/constants-browserify 27ms\n1129 http fetch GET 200 https://registry.npmjs.org/console-browserify 29ms\n1130 http fetch GET 200 https://registry.npmjs.org/buffer 32ms\n1131 http fetch GET 200 https://registry.npmjs.org/crypto-browserify 28ms\n[...silly...]\n1136 http fetch GET 200 https://registry.npmjs.org/domain-browser 38ms\n1137 http fetch GET 200 https://registry.npmjs.org/events 37ms\n1138 http fetch GET 200 https://registry.npmjs.org/https-browserify 39ms\n[...silly...]\n1142 http fetch GET 200 https://registry.npmjs.org/os-browserify 28ms\n[...silly...]\n1144 http fetch GET 200 https://registry.npmjs.org/path-browserify 24ms\n[...silly...]\n1146 http fetch GET 200 https://registry.npmjs.org/process 32ms\n1147 http fetch GET 200 https://registry.npmjs.org/querystring-es3 31ms\n1148 http fetch GET 304 https://registry.npmjs.org/punycode 36ms (from cache)\n1149 http fetch GET 200 https://registry.npmjs.org/stream-browserify 29ms\n[...silly...]\n1153 http fetch GET 200 https://registry.npmjs.org/stream-http 36ms\n1154 http fetch GET 304 https://registry.npmjs.org/readable-stream 39ms (from cache)\n[...silly...]\n1157 http fetch GET 304 https://registry.npmjs.org/string_decoder 37ms (from cache)\n[...silly...]\n1162 http fetch GET 200 https://registry.npmjs.org/timers-browserify 30ms\n[...silly...]\n1164 http fetch GET 200 https://registry.npmjs.org/tty-browserify 25ms\n1165 http fetch GET 200 https://registry.npmjs.org/url 26ms\n[...silly...]\n1168 http fetch GET 304 https://registry.npmjs.org/util 29ms (from cache)\n[...silly...]\n1170 http fetch GET 200 https://registry.npmjs.org/vm-browserify 29ms\n1171 http fetch GET 304 https://registry.npmjs.org/path-parse 31ms (from cache)\n[...silly...]\n1175 http fetch GET 304 https://registry.npmjs.org/typedarray 46ms (from cache)\n[...silly...]\n1177 http fetch GET 304 https://registry.npmjs.org/co 45ms (from cache)\n[...silly...]\n1179 http fetch GET 304 https://registry.npmjs.org/fast-deep-equal 46ms (from cache)\n1180 http fetch GET 304 https://registry.npmjs.org/fast-json-stable-stringify 41ms (from cache)\n1181 http fetch GET 304 https://registry.npmjs.org/json-schema-traverse 38ms (from cache)\n[...silly...]\n1186 http fetch GET 304 https://registry.npmjs.org/esrecurse 55ms (from cache)\n[...silly...]\n1188 http fetch GET 304 https://registry.npmjs.org/estraverse 60ms (from cache)\n1189 http fetch GET 304 https://registry.npmjs.org/acorn-jsx 45ms (from cache)\n1190 http fetch GET 304 https://registry.npmjs.org/estraverse 42ms (from cache)\n1191 http fetch GET 304 https://registry.npmjs.org/flat-cache 40ms (from cache)\n[...silly...]\n1196 http fetch GET 304 https://registry.npmjs.org/ansi-escapes 42ms (from cache)\n[...silly...]\n1198 http fetch GET 304 https://registry.npmjs.org/cli-cursor 44ms (from cache)\n[...silly...]\n1200 http fetch GET 304 https://registry.npmjs.org/cli-width 47ms (from cache)\n[...silly...]\n1202 http fetch GET 304 https://registry.npmjs.org/external-editor 29ms (from cache)\n[...silly...]\n1204 http fetch GET 304 https://registry.npmjs.org/figures 37ms (from cache)\n[...silly...]\n1206 http fetch GET 304 https://registry.npmjs.org/run-async 38ms (from cache)\n1207 http fetch GET 304 https://registry.npmjs.org/mute-stream 39ms (from cache)\n1208 http fetch GET 304 https://registry.npmjs.org/rx-lite 38ms (from cache)\n1209 http fetch GET 304 https://registry.npmjs.org/rx-lite-aggregates 35ms (from cache)\n[...silly...]\n1214 http fetch GET 304 https://registry.npmjs.org/string-width 44ms (from cache)\n[...silly...]\n1217 http fetch GET 304 https://registry.npmjs.org/through 57ms (from cache)\n[...silly...]\n1219 http fetch GET 304 https://registry.npmjs.org/argparse 57ms (from cache)\n[...silly...]\n1221 http fetch GET 304 https://registry.npmjs.org/esprima 47ms (from cache)\n[...silly...]\n1223 http fetch GET 304 https://registry.npmjs.org/prelude-ls 45ms (from cache)\n[...silly...]\n1225 http fetch GET 304 https://registry.npmjs.org/type-check 51ms (from cache)\n1226 http fetch GET 304 https://registry.npmjs.org/deep-is 52ms (from cache)\n[...silly...]\n1232 http fetch GET 304 https://registry.npmjs.org/fast-levenshtein 39ms (from cache)\n1233 http fetch GET 304 https://registry.npmjs.org/wordwrap 64ms (from cache)\n[...silly...]\n1236 http fetch GET 304 https://registry.npmjs.org/caller-path 39ms (from cache)\n[...silly...]\n1240 http fetch GET 304 https://registry.npmjs.org/resolve-from 39ms (from cache)\n[...silly...]\n1243 http fetch GET 304 https://registry.npmjs.org/ansi-regex 42ms (from cache)\n[...silly...]\n1248 http fetch GET 304 https://registry.npmjs.org/slice-ansi 50ms (from cache)\n1249 http fetch GET 304 https://registry.npmjs.org/define-properties 49ms (from cache)\n1250 http fetch GET 304 https://registry.npmjs.org/es-abstract 48ms (from cache)\n[...silly...]\n1253 http fetch GET 304 https://registry.npmjs.org/isarray 46ms (from cache)\n[...silly...]\n1255 http fetch GET 304 https://registry.npmjs.org/read-pkg 41ms (from cache)\n[...silly...]\n1258 http fetch GET 200 https://registry.npmjs.org/negotiator 28ms\n1259 http fetch GET 304 https://registry.npmjs.org/mime-types 32ms (from cache)\n[...silly...]\n1262 http fetch GET 200 https://registry.npmjs.org/bytes 23ms\n[...silly...]\n1264 http fetch GET 304 https://registry.npmjs.org/iconv-lite 29ms (from cache)\n1265 http fetch GET 200 https://registry.npmjs.org/http-errors 37ms\n[...silly...]\n1267 http fetch GET 200 https://registry.npmjs.org/ee-first 32ms\n1268 http fetch GET 200 https://registry.npmjs.org/raw-body 36ms\n1269 http fetch GET 200 https://registry.npmjs.org/ipaddr.js 32ms\n1270 http fetch GET 200 https://registry.npmjs.org/forwarded 34ms\n[...silly...]\n1276 http fetch GET 304 https://registry.npmjs.org/unpipe 46ms (from cache)\n[...silly...]\n1278 http fetch GET 200 https://registry.npmjs.org/destroy 34ms\n[...silly...]\n1285 http fetch GET 200 https://registry.npmjs.org/media-typer 35ms\n1286 http fetch GET 200 https://registry.npmjs.org/utila 31ms\n1287 http fetch GET 200 https://registry.npmjs.org/renderkid 31ms\n1288 http fetch GET 200 https://registry.npmjs.org/camel-case 34ms\n1289 http fetch GET 200 https://registry.npmjs.org/recast 41ms\n[...silly...]\n1291 http fetch GET 200 https://registry.npmjs.org/he 39ms\n[...silly...]\n1294 http fetch GET 200 https://registry.npmjs.org/ncname 38ms\n1295 http fetch GET 200 https://registry.npmjs.org/clean-css 46ms\n[...silly...]\n1303 http fetch GET 200 https://registry.npmjs.org/param-case 42ms\n1304 http fetch GET 200 https://registry.npmjs.org/relateurl 44ms\n1305 http fetch GET 200 https://registry.npmjs.org/graceful-readlink 40ms\n1306 http fetch GET 200 https://registry.npmjs.org/replace-ext 31ms\n1307 http fetch GET 200 https://registry.npmjs.org/p-pipe 33ms\n1308 http fetch GET 200 https://registry.npmjs.org/exec-buffer 32ms\n1309 http fetch GET 200 https://registry.npmjs.org/file-type 36ms\n[...silly...]\n1311 http fetch GET 304 https://registry.npmjs.org/uglify-js 50ms (from cache)\n[...silly...]\n1319 http fetch GET 200 https://registry.npmjs.org/gifsicle 28ms\n1320 http fetch GET 200 https://registry.npmjs.org/is-gif 32ms\n[...silly...]\n1322 http fetch GET 200 https://registry.npmjs.org/is-jpg 36ms\n1323 http fetch GET 200 https://registry.npmjs.org/mozjpeg 37ms\n1324 http fetch GET 200 https://registry.npmjs.org/is-png 39ms\n1325 http fetch GET 200 https://registry.npmjs.org/is-svg 34ms\n1326 http fetch GET 200 https://registry.npmjs.org/optipng-bin 38ms\n[...silly...]\n1329 http fetch GET 200 https://registry.npmjs.org/svgo 36ms\n[...silly...]\n1339 http fetch GET 200 https://registry.npmjs.org/cwebp-bin 34ms\n1340 http fetch GET 200 https://registry.npmjs.org/is-cwebp-readable 28ms\n1341 http fetch GET 200 https://registry.npmjs.org/pngquant-bin 28ms\n[...silly...]\n1346 http fetch GET 200 https://registry.npmjs.org/lodash._baseassign 30ms\n1347 http fetch GET 304 https://registry.npmjs.org/has-ansi 39ms (from cache)\n[...silly...]\n1349 http fetch GET 200 https://registry.npmjs.org/lodash._isiterateecall 29ms\n[...silly...]\n1351 http fetch GET 200 https://registry.npmjs.org/lodash._basecreate 31ms\n1352 http fetch GET 200 https://registry.npmjs.org/change-case 31ms\n[...silly...]\n1358 http fetch GET 200 https://registry.npmjs.org/colors 45ms\n1359 http fetch GET 304 https://registry.npmjs.org/del 43ms (from cache)\n1360 http fetch GET 304 https://registry.npmjs.org/handlebars 43ms (from cache)\n[...silly...]\n1365 http fetch GET 200 https://registry.npmjs.org/camelcase-keys 1ms (from cache)\n[...silly...]\n1367 http fetch GET 304 https://registry.npmjs.org/extend 37ms (from cache)\n[...silly...]\n1369 http fetch GET 200 https://registry.npmjs.org/fined 24ms\n[...silly...]\n1371 http fetch GET 200 https://registry.npmjs.org/is-plain-object 28ms\n[...silly...]\n1373 http fetch GET 304 https://registry.npmjs.org/findup-sync 33ms (from cache)\n1374 http fetch GET 304 https://registry.npmjs.org/flagged-respawn 32ms (from cache)\n[...silly...]\n1378 http fetch GET 200 https://registry.npmjs.org/object.map 31ms\n1379 http fetch GET 200 https://registry.npmjs.org/globule 31ms\n[...silly...]\n1381 http fetch GET 304 https://registry.npmjs.org/loud-rejection 33ms (from cache)\n[...silly...]\n1387 http fetch GET 304 https://registry.npmjs.org/map-obj 36ms (from cache)\n[...silly...]\n1392 http fetch GET 304 https://registry.npmjs.org/normalize-package-data 39ms (from cache)\n1393 http fetch GET 304 https://registry.npmjs.org/redent 37ms (from cache)\n1394 http fetch GET 304 https://registry.npmjs.org/trim-newlines 36ms (from cache)\n[...silly...]\n1397 http fetch GET 304 https://registry.npmjs.org/fstream 36ms (from cache)\n[...silly...]\n1401 http fetch GET 304 https://registry.npmjs.org/nopt 49ms (from cache)\n1402 http fetch GET 304 https://registry.npmjs.org/osenv 49ms (from cache)\n[...silly...]\n1404 http fetch GET 304 https://registry.npmjs.org/tar 41ms (from cache)\n[...silly...]\n1406 http fetch GET 304 https://registry.npmjs.org/are-we-there-yet 42ms (from cache)\n[...silly...]\n1412 http fetch GET 200 https://registry.npmjs.org/scss-tokenizer 33ms\n1413 http fetch GET 304 https://registry.npmjs.org/console-control-strings 55ms (from cache)\n1414 http fetch GET 304 https://registry.npmjs.org/gauge 54ms (from cache)\n1415 http fetch GET 304 https://registry.npmjs.org/set-blocking 45ms (from cache)\n[...silly...]\n1421 http fetch GET 304 https://registry.npmjs.org/aws-sign2 31ms (from cache)\n[...silly...]\n1423 http fetch GET 304 https://registry.npmjs.org/aws4 31ms (from cache)\n[...silly...]\n1425 http fetch GET 304 https://registry.npmjs.org/caseless 33ms (from cache)\n1426 http fetch GET 304 https://registry.npmjs.org/combined-stream 29ms (from cache)\n[...silly...]\n1429 http fetch GET 304 https://registry.npmjs.org/forever-agent 35ms (from cache)\n1430 http fetch GET 304 https://registry.npmjs.org/har-validator 113ms (from cache)\n1431 http fetch GET 304 https://registry.npmjs.org/form-data 115ms (from cache)\n[...silly...]\n1433 http fetch GET 304 https://registry.npmjs.org/hawk 116ms (from cache)\n[...silly...]\n1439 http fetch GET 304 https://registry.npmjs.org/http-signature 126ms (from cache)\n1440 http fetch GET 304 https://registry.npmjs.org/is-typedarray 126ms (from cache)\n1441 http fetch GET 304 https://registry.npmjs.org/isstream 121ms (from cache)\n1442 http fetch GET 304 https://registry.npmjs.org/json-stringify-safe 121ms (from cache)\n[...silly...]\n1448 http fetch GET 304 https://registry.npmjs.org/oauth-sign 38ms (from cache)\n1449 http fetch GET 304 https://registry.npmjs.org/stringstream 34ms (from cache)\n[...silly...]\n1451 http fetch GET 304 https://registry.npmjs.org/tough-cookie 34ms (from cache)\n[...silly...]\n1457 http fetch GET 200 https://registry.npmjs.org/lodash.memoize 36ms\n1458 http fetch GET 304 https://registry.npmjs.org/tunnel-agent 48ms (from cache)\n1459 http fetch GET 304 https://registry.npmjs.org/uuid 45ms (from cache)\n[...silly...]\n1461 http fetch GET 304 https://registry.npmjs.org/lodash.uniq 40ms (from cache)\n[...silly...]\n1467 http fetch GET 200 https://registry.npmjs.org/caniuse-db 65ms\n[...silly...]\n1469 http fetch GET 200 https://registry.npmjs.org/reduce-css-calc 56ms\n1470 http fetch GET 200 https://registry.npmjs.org/normalize-range 54ms\n[...silly...]\n1472 http fetch GET 200 https://registry.npmjs.org/num2fraction 45ms\n1473 http fetch GET 200 https://registry.npmjs.org/onecolor 39ms\n[...silly...]\n1480 http fetch GET 304 https://registry.npmjs.org/balanced-match 52ms (from cache)\n1481 http fetch GET 200 https://registry.npmjs.org/caniuse-db 71ms\n1482 http fetch GET 200 https://registry.npmjs.org/postcss-selector-parser 35ms\n[...silly...]\n1487 http fetch GET 200 https://registry.npmjs.org/postcss-message-helpers 29ms\n[...silly...]\n1492 http fetch GET 200 https://registry.npmjs.org/css-color-function 27ms\n1493 http fetch GET 200 https://registry.npmjs.org/reduce-function-call 28ms\n1494 http fetch GET 200 https://registry.npmjs.org/color 29ms\n1495 http fetch GET 200 https://registry.npmjs.org/color 28ms\n[...silly...]\n1504 http fetch GET 200 https://registry.npmjs.org/units-css 37ms\n[...silly...]\n1506 http fetch GET 200 https://registry.npmjs.org/color 35ms\n1507 http fetch GET 200 https://registry.npmjs.org/rgb-hex 36ms\n[...silly...]\n1518 http fetch GET 304 https://registry.npmjs.org/lodash.template 41ms (from cache)\n[...silly...]\n1525 http fetch GET 200 https://registry.npmjs.org/postcss-media-query-parser 29ms\n[...silly...]\n1530 http fetch GET 200 https://registry.npmjs.org/cosmiconfig 25ms\n1531 http fetch GET 200 https://registry.npmjs.org/postcss-load-options 27ms\n1532 http fetch GET 200 https://registry.npmjs.org/postcss-load-plugins 26ms\n[...silly...]\n1534 http fetch GET 200 https://registry.npmjs.org/gonzales-pe 28ms\n[...silly...]\n1537 http fetch GET 200 https://registry.npmjs.org/any-promise 29ms\n[...silly...]\n1542 http fetch GET 200 https://registry.npmjs.org/postcss-js 33ms\n[...silly...]\n1544 http fetch GET 200 https://registry.npmjs.org/postcss-simple-vars 34ms\n1545 http fetch GET 200 https://registry.npmjs.org/tcomb 30ms\n[...silly...]\n1549 http fetch GET 200 https://registry.npmjs.org/postcss-import 25ms\n[...silly...]\n1554 http fetch GET 200 https://registry.npmjs.org/isomorphic-fetch 25ms\n[...silly...]\n1557 http fetch GET 200 https://registry.npmjs.org/promise 27ms\n[...silly...]\n1559 http fetch GET 200 https://registry.npmjs.org/setimmediate 24ms\n[...silly...]\n1561 http fetch GET 200 https://registry.npmjs.org/ua-parser-js 25ms\n[...silly...]\n1564 http fetch GET 200 https://registry.npmjs.org/exenv 26ms\n1565 http fetch GET 200 https://registry.npmjs.org/shallowequal 26ms\n1566 http fetch GET 200 https://registry.npmjs.org/intl-messageformat-parser 25ms\n[...silly...]\n1574 http fetch GET 304 https://registry.npmjs.org/for-own 25ms (from cache)\n[...silly...]\n1576 http fetch GET 200 https://registry.npmjs.org/popper.js 32ms\n1577 http fetch GET 304 https://registry.npmjs.org/kind-of 27ms (from cache)\n[...silly...]\n1580 http fetch GET 200 https://registry.npmjs.org/shallow-clone 26ms\n[...silly...]\n1583 http fetch GET 304 https://registry.npmjs.org/es6-map 28ms (from cache)\n1584 http fetch GET 304 https://registry.npmjs.org/es6-weak-map 33ms (from cache)\n[...silly...]\n1587 http fetch GET 304 https://registry.npmjs.org/errno 34ms (from cache)\n[...silly...]\n1592 http fetch GET 304 https://registry.npmjs.org/camelcase 35ms (from cache)\n[...silly...]\n1594 http fetch GET 304 https://registry.npmjs.org/cliui 29ms (from cache)\n[...silly...]\n1597 http fetch GET 304 https://registry.npmjs.org/get-caller-file 29ms (from cache)\n[...silly...]\n1599 http fetch GET 304 https://registry.npmjs.org/os-locale 29ms (from cache)\n[...silly...]\n1601 http fetch GET 304 https://registry.npmjs.org/require-directory 27ms (from cache)\n[...silly...]\n1605 http fetch GET 304 https://registry.npmjs.org/which-module 29ms (from cache)\n[...silly...]\n1607 http fetch GET 304 https://registry.npmjs.org/yargs-parser 29ms (from cache)\n[...silly...]\n1609 http fetch GET 200 https://registry.npmjs.org/async-limiter 28ms\n1610 http fetch GET 304 https://registry.npmjs.org/duplexer 31ms (from cache)\n[...silly...]\n1612 http fetch GET 200 https://registry.npmjs.org/ultron 27ms\n[...silly...]\n1615 http fetch GET 304 https://registry.npmjs.org/array-uniq 28ms (from cache)\n[...silly...]\n1617 http fetch GET 304 https://registry.npmjs.org/pinkie 28ms (from cache)\n1618 http fetch GET 304 https://registry.npmjs.org/concat-map 28ms (from cache)\n[...silly...]\n1621 http fetch GET 304 https://registry.npmjs.org/p-locate 26ms (from cache)\n[...silly...]\n1626 http fetch GET 304 https://registry.npmjs.org/path-exists 30ms (from cache)\n[...silly...]\n1628 http fetch GET 304 https://registry.npmjs.org/arr-diff 31ms (from cache)\n[...silly...]\n1630 http fetch GET 304 https://registry.npmjs.org/array-unique 33ms (from cache)\n[...silly...]\n1632 http fetch GET 304 https://registry.npmjs.org/braces 39ms (from cache)\n[...silly...]\n1634 http fetch GET 304 https://registry.npmjs.org/expand-brackets 38ms (from cache)\n1635 http fetch GET 304 https://registry.npmjs.org/extglob 37ms (from cache)\n[...silly...]\n1637 http fetch GET 304 https://registry.npmjs.org/filename-regex 37ms (from cache)\n[...silly...]\n1641 http fetch GET 304 https://registry.npmjs.org/normalize-path 31ms (from cache)\n[...silly...]\n1643 http fetch GET 304 https://registry.npmjs.org/object.omit 28ms (from cache)\n[...silly...]\n1646 http fetch GET 304 https://registry.npmjs.org/parse-glob 27ms (from cache)\n[...silly...]\n1649 http fetch GET 304 https://registry.npmjs.org/regex-cache 26ms (from cache)\n[...silly...]\n1651 http fetch GET 304 https://registry.npmjs.org/os-homedir 27ms (from cache)\n[...silly...]\n1654 http fetch GET 304 https://registry.npmjs.org/os-tmpdir 30ms (from cache)\n1655 http fetch GET 304 https://registry.npmjs.org/wrappy 29ms (from cache)\n[...silly...]\n1658 http fetch GET 304 https://registry.npmjs.org/normalize-path 29ms (from cache)\n[...silly...]\n1660 http fetch GET 200 https://registry.npmjs.org/binary-extensions 27ms\n1661 http fetch GET 200 https://registry.npmjs.org/set-immediate-shim 26ms\n[...silly...]\n1664 http fetch GET 200 https://registry.npmjs.org/node-pre-gyp 26ms\n[...silly...]\n1667 http fetch GET 200 https://registry.npmjs.org/min-document 24ms\n[...silly...]\n1670 http fetch GET 304 https://registry.npmjs.org/repeating 24ms (from cache)\n[...silly...]\n1672 http fetch GET 200 https://registry.npmjs.org/react-deep-force-update 23ms\n[...silly...]\n1674 http fetch GET 304 https://registry.npmjs.org/path-type 26ms (from cache)\n[...silly...]\n1676 http fetch GET 200 https://registry.npmjs.org/stackframe 23ms\n[...silly...]\n1678 http fetch GET 200 https://registry.npmjs.org/babel-plugin-syntax-flow 25ms\n[...silly...]\n1680 http fetch GET 304 https://registry.npmjs.org/pseudomap 34ms (from cache)\n1681 http fetch GET 304 https://registry.npmjs.org/yallist 32ms (from cache)\n[...silly...]\n1683 http fetch GET 304 https://registry.npmjs.org/duplexify 28ms (from cache)\n[...silly...]\n1686 http fetch GET 304 https://registry.npmjs.org/end-of-stream 29ms (from cache)\n[...silly...]\n1688 http fetch GET 304 https://registry.npmjs.org/flush-write-stream 27ms (from cache)\n[...silly...]\n1690 http fetch GET 304 https://registry.npmjs.org/from2 27ms (from cache)\n[...silly...]\n1692 http fetch GET 304 https://registry.npmjs.org/parallel-transform 29ms (from cache)\n[...silly...]\n1695 http fetch GET 304 https://registry.npmjs.org/pump 25ms (from cache)\n[...silly...]\n1698 http fetch GET 304 https://registry.npmjs.org/pumpify 28ms (from cache)\n[...silly...]\n1700 http fetch GET 304 https://registry.npmjs.org/stream-each 29ms (from cache)\n[...silly...]\n1702 http fetch GET 304 https://registry.npmjs.org/through2 28ms (from cache)\n[...silly...]\n1704 http fetch GET 304 https://registry.npmjs.org/copy-concurrently 28ms (from cache)\n1705 http fetch GET 304 https://registry.npmjs.org/aproba 27ms (from cache)\n[...silly...]\n1708 http fetch GET 304 https://registry.npmjs.org/fs-write-stream-atomic 27ms (from cache)\n[...silly...]\n1710 http fetch GET 304 https://registry.npmjs.org/run-queue 23ms (from cache)\n[...silly...]\n1712 http fetch GET 304 https://registry.npmjs.org/unique-slug 26ms (from cache)\n[...silly...]\n1714 http fetch GET 200 https://registry.npmjs.org/babel-plugin-syntax-class-constructor-call 25ms\n1715 http fetch GET 200 https://registry.npmjs.org/babel-plugin-syntax-export-extensions 25ms\n[...silly...]\n1718 http fetch GET 200 https://registry.npmjs.org/babel-plugin-transform-class-properties 27ms\n[...silly...]\n1720 http fetch GET 200 https://registry.npmjs.org/babel-plugin-syntax-dynamic-import 24ms\n1721 http fetch GET 200 https://registry.npmjs.org/babel-plugin-transform-decorators 29ms\n[...silly...]\n1723 http fetch GET 200 https://registry.npmjs.org/babel-preset-stage-3 28ms\n[...silly...]\n1725 http fetch GET 304 https://registry.npmjs.org/color-name 28ms (from cache)\n[...silly...]\n1731 http fetch GET 304 https://registry.npmjs.org/shebang-regex 29ms (from cache)\n[...silly...]\n1736 http fetch GET 200 https://registry.npmjs.org/babel-helper-optimise-call-expression 33ms\n1737 http fetch GET 200 https://registry.npmjs.org/regenerate 33ms\n1738 http fetch GET 200 https://registry.npmjs.org/regjsgen 29ms\n1739 http fetch GET 304 https://registry.npmjs.org/isexe 39ms (from cache)\n[...silly...]\n1742 http fetch GET 200 https://registry.npmjs.org/regjsparser 31ms\n[...silly...]\n1747 http fetch GET 200 https://registry.npmjs.org/babel-helper-explode-assignable-expression 35ms\n[...silly...]\n1752 http fetch GET 200 https://registry.npmjs.org/colormin 35ms\n[...silly...]\n1755 http fetch GET 200 https://registry.npmjs.org/uniqs 27ms\n[...silly...]\n1760 http fetch GET 200 https://registry.npmjs.org/uniqid 25ms\n[...silly...]\n1763 http fetch GET 200 https://registry.npmjs.org/vendors 24ms\n1764 http fetch GET 200 https://registry.npmjs.org/alphanum-sort 23ms\n[...silly...]\n1767 http fetch GET 200 https://registry.npmjs.org/alphanum-sort 25ms\n[...silly...]\n1769 http fetch GET 200 https://registry.npmjs.org/is-absolute-url 24ms\n1770 http fetch GET 200 https://registry.npmjs.org/normalize-url 23ms\n[...silly...]\n1773 http fetch GET 200 https://registry.npmjs.org/is-unc-path 23ms\n[...silly...]\n1775 http fetch GET 200 https://registry.npmjs.org/lodash.isarray 24ms\n[...silly...]\n1777 http fetch GET 200 https://registry.npmjs.org/date-now 27ms\n[...silly...]\n1779 http fetch GET 200 https://registry.npmjs.org/base64-js 24ms\n1780 http fetch GET 200 https://registry.npmjs.org/ieee754 25ms\n[...silly...]\n1783 http fetch GET 200 https://registry.npmjs.org/browserify-cipher 23ms\n[...silly...]\n1785 http fetch GET 200 https://registry.npmjs.org/browserify-sign 24ms\n1786 http fetch GET 200 https://registry.npmjs.org/create-ecdh 24ms\n[...silly...]\n1790 http fetch GET 200 https://registry.npmjs.org/create-hash 28ms\n[...silly...]\n1794 http fetch GET 200 https://registry.npmjs.org/create-hmac 26ms\n1795 http fetch GET 200 https://registry.npmjs.org/diffie-hellman 25ms\n1796 http fetch GET 200 https://registry.npmjs.org/pbkdf2 25ms\n[...silly...]\n1798 http fetch GET 200 https://registry.npmjs.org/public-encrypt 25ms\n[...silly...]\n1803 http fetch GET 200 https://registry.npmjs.org/randombytes 27ms\n[...silly...]\n1806 http fetch GET 200 https://registry.npmjs.org/randomfill 27ms\n[...silly...]\n1808 http fetch GET 304 https://registry.npmjs.org/core-util-is 27ms (from cache)\n[...silly...]\n1817 http fetch GET 304 https://registry.npmjs.org/process-nextick-args 27ms (from cache)\n[...silly...]\n1819 http fetch GET 200 https://registry.npmjs.org/builtin-status-codes 25ms\n1820 http fetch GET 304 https://registry.npmjs.org/util-deprecate 26ms (from cache)\n[...silly...]\n1824 http fetch GET 200 https://registry.npmjs.org/to-arraybuffer 29ms\n1825 http fetch GET 304 https://registry.npmjs.org/xtend 29ms (from cache)\n[...silly...]\n1829 http fetch GET 200 https://registry.npmjs.org/indexof 26ms\n[...silly...]\n1831 http fetch GET 304 https://registry.npmjs.org/circular-json 27ms (from cache)\n[...silly...]\n1833 http fetch GET 304 https://registry.npmjs.org/write 29ms (from cache)\n[...silly...]\n1835 http fetch GET 304 https://registry.npmjs.org/restore-cursor 32ms (from cache)\n[...silly...]\n1837 http fetch GET 304 https://registry.npmjs.org/chardet 27ms (from cache)\n1838 http fetch GET 304 https://registry.npmjs.org/tmp 26ms (from cache)\n[...silly...]\n1842 http fetch GET 304 https://registry.npmjs.org/is-promise 30ms (from cache)\n1843 http fetch GET 304 https://registry.npmjs.org/is-fullwidth-code-point 29ms (from cache)\n[...silly...]\n1846 http fetch GET 304 https://registry.npmjs.org/sprintf-js 30ms (from cache)\n[...silly...]\n1850 http fetch GET 304 https://registry.npmjs.org/callsites 28ms (from cache)\n[...silly...]\n1853 http fetch GET 304 https://registry.npmjs.org/foreach 31ms (from cache)\n[...silly...]\n1856 http fetch GET 304 https://registry.npmjs.org/object-keys 27ms (from cache)\n[...silly...]\n1862 http fetch GET 304 https://registry.npmjs.org/es-to-primitive 33ms (from cache)\n[...silly...]\n1864 http fetch GET 304 https://registry.npmjs.org/is-callable 32ms (from cache)\n[...silly...]\n1867 http fetch GET 304 https://registry.npmjs.org/is-regex 34ms (from cache)\n1868 http fetch GET 304 https://registry.npmjs.org/load-json-file 34ms (from cache)\n[...silly...]\n1871 http fetch GET 304 https://registry.npmjs.org/mime-db 34ms (from cache)\n[...silly...]\n1876 http fetch GET 200 https://registry.npmjs.org/css-select 31ms\n1877 http fetch GET 200 https://registry.npmjs.org/dom-converter 32ms\n1878 http fetch GET 200 https://registry.npmjs.org/htmlparser2 32ms\n1879 http fetch GET 200 https://registry.npmjs.org/no-case 31ms\n[...silly...]\n1882 http fetch GET 200 https://registry.npmjs.org/upper-case 30ms\n[...silly...]\n1886 http fetch GET 200 https://registry.npmjs.org/ast-types 33ms\n[...silly...]\n1888 http fetch GET 200 https://registry.npmjs.org/xml-char-classes 32ms\n[...silly...]\n1891 http fetch GET 304 https://registry.npmjs.org/execa 37ms (from cache)\n[...silly...]\n1893 http fetch GET 200 https://registry.npmjs.org/bin-build 27ms\n1894 http fetch GET 200 https://registry.npmjs.org/bin-wrapper 26ms\n1895 http fetch GET 304 https://registry.npmjs.org/p-finally 36ms (from cache)\n1896 http fetch GET 304 https://registry.npmjs.org/tempfile 35ms (from cache)\n[...silly...]\n1902 http fetch GET 200 https://registry.npmjs.org/html-comment-regex 31ms\n1903 http fetch GET 200 https://registry.npmjs.org/logalot 34ms\n[...silly...]\n1907 http fetch GET 200 https://registry.npmjs.org/sax 31ms\n[...silly...]\n1912 http fetch GET 200 https://registry.npmjs.org/coa 33ms\n[...silly...]\n1916 http fetch GET 200 https://registry.npmjs.org/whet.extend 27ms\n1917 http fetch GET 200 https://registry.npmjs.org/csso 26ms\n[...silly...]\n1919 http fetch GET 200 https://registry.npmjs.org/lodash._basecopy 27ms\n[...silly...]\n1921 http fetch GET 200 https://registry.npmjs.org/lodash.keys 27ms\n[...silly...]\n1923 http fetch GET 200 https://registry.npmjs.org/constant-case 32ms\n[...silly...]\n1925 http fetch GET 200 https://registry.npmjs.org/header-case 30ms\n1926 http fetch GET 200 https://registry.npmjs.org/dot-case 31ms\n1927 http fetch GET 200 https://registry.npmjs.org/is-lower-case 30ms\n[...silly...]\n1933 http fetch GET 200 https://registry.npmjs.org/is-upper-case 25ms\n1934 http fetch GET 200 https://registry.npmjs.org/lower-case 25ms\n[...silly...]\n1937 http fetch GET 200 https://registry.npmjs.org/lower-case-first 25ms\n[...silly...]\n1940 http fetch GET 200 https://registry.npmjs.org/pascal-case 24ms\n[...silly...]\n1942 http fetch GET 200 https://registry.npmjs.org/path-case 36ms\n1943 http fetch GET 200 https://registry.npmjs.org/swap-case 35ms\n1944 http fetch GET 200 https://registry.npmjs.org/sentence-case 38ms\n1945 http fetch GET 200 https://registry.npmjs.org/snake-case 38ms\n[...silly...]\n1948 http fetch GET 200 https://registry.npmjs.org/upper-case-first 37ms\n1949 http fetch GET 200 https://registry.npmjs.org/title-case 40ms\n[...silly...]\n1960 http fetch GET 304 https://registry.npmjs.org/optimist 42ms (from cache)\n[...silly...]\n1962 http fetch GET 200 https://registry.npmjs.org/p-map 26ms\n1963 http fetch GET 304 https://registry.npmjs.org/is-path-cwd 31ms (from cache)\n[...silly...]\n1966 http fetch GET 304 https://registry.npmjs.org/is-path-in-cwd 30ms (from cache)\n[...silly...]\n1969 http fetch GET 200 https://registry.npmjs.org/object.defaults 31ms\n1970 http fetch GET 304 https://registry.npmjs.org/expand-tilde 34ms (from cache)\n1971 http fetch GET 200 https://registry.npmjs.org/object.pick 30ms\n1972 http fetch GET 200 https://registry.npmjs.org/parse-filepath 30ms\n[...silly...]\n1979 http fetch GET 304 https://registry.npmjs.org/isobject 35ms (from cache)\n[...silly...]\n1999 http fetch GET 200 https://registry.npmjs.org/make-iterator 32ms\n2000 http fetch GET 304 https://registry.npmjs.org/detect-file 43ms (from cache)\n2001 http fetch GET 304 https://registry.npmjs.org/resolve-dir 41ms (from cache)\n[...silly...]\n2005 http fetch GET 304 https://registry.npmjs.org/currently-unhandled 35ms (from cache)\n[...silly...]\n2007 http fetch GET 304 https://registry.npmjs.org/signal-exit 34ms (from cache)\n[...silly...]\n2013 http fetch GET 304 https://registry.npmjs.org/performance-now 31ms (from cache)\n[...silly...]\n2016 http fetch GET 304 https://registry.npmjs.org/hosted-git-info 28ms (from cache)\n2017 http fetch GET 304 https://registry.npmjs.org/is-builtin-module 27ms (from cache)\n[...silly...]\n2030 http fetch GET 304 https://registry.npmjs.org/validate-npm-package-license 38ms (from cache)\n[...silly...]\n2032 http fetch GET 304 https://registry.npmjs.org/indent-string 38ms (from cache)\n[...silly...]\n2037 http fetch GET 304 https://registry.npmjs.org/strip-indent 42ms (from cache)\n2038 http fetch GET 304 https://registry.npmjs.org/abbrev 41ms (from cache)\n[...silly...]\n2040 http fetch GET 304 https://registry.npmjs.org/block-stream 41ms (from cache)\n[...silly...]\n2042 http fetch GET 304 https://registry.npmjs.org/delegates 40ms (from cache)\n[...silly...]\n2047 http fetch GET 304 https://registry.npmjs.org/has-unicode 29ms (from cache)\n[...silly...]\n2049 http fetch GET 304 https://registry.npmjs.org/wide-align 28ms (from cache)\n[...silly...]\n2051 http fetch GET 304 https://registry.npmjs.org/delayed-stream 43ms (from cache)\n2052 http fetch GET 304 https://registry.npmjs.org/asynckit 38ms (from cache)\n2053 http fetch GET 304 https://registry.npmjs.org/is-my-json-valid 45ms (from cache)\n[...silly...]\n2057 http fetch GET 304 https://registry.npmjs.org/hoek 39ms (from cache)\n2058 http fetch GET 304 https://registry.npmjs.org/boom 47ms (from cache)\n2059 http fetch GET 304 https://registry.npmjs.org/cryptiles 49ms (from cache)\n[...silly...]\n2066 http fetch GET 304 https://registry.npmjs.org/sntp 49ms (from cache)\n[...silly...]\n2068 http fetch GET 304 https://registry.npmjs.org/assert-plus 43ms (from cache)\n[...silly...]\n2072 http fetch GET 304 https://registry.npmjs.org/jsprim 33ms (from cache)\n[...silly...]\n2075 http fetch GET 200 https://registry.npmjs.org/flatten 30ms\n2076 http fetch GET 200 https://registry.npmjs.org/math-expression-evaluator 32ms\n2077 http fetch GET 200 https://registry.npmjs.org/uniq 30ms\n2078 http fetch GET 200 https://registry.npmjs.org/indexes-of 31ms\n2079 http fetch GET 304 https://registry.npmjs.org/sshpk 47ms (from cache)\n[...silly...]\n2081 http fetch GET 200 https://registry.npmjs.org/rgb 29ms\n[...silly...]\n2087 http fetch GET 304 https://registry.npmjs.org/clone 39ms (from cache)\n[...silly...]\n2092 http fetch GET 200 https://registry.npmjs.org/color-string 28ms\n[...silly...]\n2096 http fetch GET 200 https://registry.npmjs.org/viewport-dimensions 27ms\n2097 http fetch GET 200 https://registry.npmjs.org/isnumeric 27ms\n[...silly...]\n2100 http fetch GET 200 https://registry.npmjs.org/is-directory 29ms\n[...silly...]\n2103 http fetch GET 304 https://registry.npmjs.org/lodash._reinterpolate 39ms (from cache)\n[...silly...]\n2106 http fetch GET 200 https://registry.npmjs.org/require-from-string 34ms\n2107 http fetch GET 304 https://registry.npmjs.org/lodash.templatesettings 43ms (from cache)\n[...silly...]\n2111 http fetch GET 304 https://registry.npmjs.org/parse-json 43ms (from cache)\n[...silly...]\n2114 http fetch GET 200 https://registry.npmjs.org/camelcase-css 41ms\n2115 http fetch GET 200 https://registry.npmjs.org/node-fetch 29ms\n[...silly...]\n2119 http fetch GET 304 https://registry.npmjs.org/asap 27ms (from cache)\n[...silly...]\n2121 http fetch GET 304 https://registry.npmjs.org/uglify-to-browserify 27ms (from cache)\n[...silly...]\n2123 http fetch GET 304 https://registry.npmjs.org/for-in 30ms (from cache)\n[...silly...]\n2125 http fetch GET 304 https://registry.npmjs.org/is-buffer 30ms (from cache)\n[...silly...]\n2127 http fetch GET 304 https://registry.npmjs.org/is-extendable 29ms (from cache)\n[...silly...]\n2129 http fetch GET 200 https://registry.npmjs.org/mixin-object 26ms\n[...silly...]\n2131 http fetch GET 304 https://registry.npmjs.org/lazy-cache 30ms (from cache)\n2132 http fetch GET 304 https://registry.npmjs.org/d 28ms (from cache)\n[...silly...]\n2135 http fetch GET 304 https://registry.npmjs.org/es5-ext 28ms (from cache)\n[...silly...]\n2137 http fetch GET 304 https://registry.npmjs.org/es6-set 28ms (from cache)\n2138 http fetch GET 304 https://registry.npmjs.org/es6-iterator 31ms (from cache)\n2139 http fetch GET 304 https://registry.npmjs.org/es6-symbol 28ms (from cache)\n[...silly...]\n2144 http fetch GET 304 https://registry.npmjs.org/event-emitter 28ms (from cache)\n[...silly...]\n2149 http fetch GET 304 https://registry.npmjs.org/es5-ext 31ms (from cache)\n2150 http fetch GET 304 https://registry.npmjs.org/es6-iterator 29ms (from cache)\n[...silly...]\n2152 http fetch GET 304 https://registry.npmjs.org/es6-symbol 29ms (from cache)\n[...silly...]\n2155 http fetch GET 304 https://registry.npmjs.org/prr 32ms (from cache)\n[...silly...]\n2157 http fetch GET 304 https://registry.npmjs.org/wrap-ansi 27ms (from cache)\n[...silly...]\n2159 http fetch GET 304 https://registry.npmjs.org/lcid 27ms (from cache)\n[...silly...]\n2162 http fetch GET 304 https://registry.npmjs.org/mem 29ms (from cache)\n[...silly...]\n2164 http fetch GET 304 https://registry.npmjs.org/arr-flatten 25ms (from cache)\n[...silly...]\n2166 http fetch GET 304 https://registry.npmjs.org/expand-range 26ms (from cache)\n[...silly...]\n2170 http fetch GET 304 https://registry.npmjs.org/repeat-element 29ms (from cache)\n2171 http fetch GET 304 https://registry.npmjs.org/preserve 31ms (from cache)\n[...silly...]\n2174 http fetch GET 304 https://registry.npmjs.org/is-posix-bracket 28ms (from cache)\n[...silly...]\n2179 http fetch GET 304 https://registry.npmjs.org/remove-trailing-separator 30ms (from cache)\n2180 http fetch GET 304 https://registry.npmjs.org/glob-base 27ms (from cache)\n[...silly...]\n2183 http fetch GET 304 https://registry.npmjs.org/is-dotfile 26ms (from cache)\n[...silly...]\n2189 http fetch GET 304 https://registry.npmjs.org/is-equal-shallow 36ms (from cache)\n2190 http fetch GET 304 https://registry.npmjs.org/rc 29ms (from cache)\n2191 http fetch GET 200 https://registry.npmjs.org/detect-libc 24ms\n[...silly...]\n2201 http fetch GET 200 https://registry.npmjs.org/tar-pack 29ms\n[...silly...]\n2203 http fetch GET 200 https://registry.npmjs.org/dom-walk 29ms\n[...silly...]\n2206 http fetch GET 304 https://registry.npmjs.org/is-finite 30ms (from cache)\n[...silly...]\n2210 http fetch GET 304 https://registry.npmjs.org/stream-shift 25ms (from cache)\n[...silly...]\n2213 http fetch GET 304 https://registry.npmjs.org/cyclist 28ms (from cache)\n[...silly...]\n2215 http fetch GET 304 https://registry.npmjs.org/iferr 28ms (from cache)\n[...silly...]\n2217 http fetch GET 200 https://registry.npmjs.org/babel-plugin-syntax-decorators 30ms\n2218 http fetch GET 200 https://registry.npmjs.org/babel-plugin-syntax-class-properties 36ms\n2219 http fetch GET 200 https://registry.npmjs.org/babel-plugin-transform-async-generator-functions 33ms\n2220 http fetch GET 200 https://registry.npmjs.org/babel-helper-explode-class 35ms\n[...silly...]\n2222 http fetch GET 200 https://registry.npmjs.org/babel-plugin-transform-object-rest-spread 33ms\n[...silly...]\n2225 http fetch GET 200 https://registry.npmjs.org/css-color-names 33ms\n[...silly...]\n2227 http fetch GET 200 https://registry.npmjs.org/macaddress 33ms\n[...silly...]\n2231 http fetch GET 200 https://registry.npmjs.org/query-string 25ms\n2232 http fetch GET 304 https://registry.npmjs.org/prepend-http 37ms (from cache)\n[...silly...]\n2236 http fetch GET 200 https://registry.npmjs.org/unc-path-regex 33ms\n2237 http fetch GET 200 https://registry.npmjs.org/browserify-aes 31ms\n2238 http fetch GET 304 https://registry.npmjs.org/sort-keys 38ms (from cache)\n2239 http fetch GET 200 https://registry.npmjs.org/browserify-des 30ms\n2240 http fetch GET 200 https://registry.npmjs.org/evp_bytestokey 30ms\n[...silly...]\n2244 http fetch GET 200 https://registry.npmjs.org/bn.js 34ms\n[...silly...]\n2248 http fetch GET 200 https://registry.npmjs.org/browserify-rsa 34ms\n2249 http fetch GET 200 https://registry.npmjs.org/elliptic 29ms\n[...silly...]\n2253 http fetch GET 200 https://registry.npmjs.org/parse-asn1 25ms\n2254 http fetch GET 200 https://registry.npmjs.org/bn.js 26ms\n[...silly...]\n2262 http fetch GET 200 https://registry.npmjs.org/cipher-base 36ms\n2263 http fetch GET 200 https://registry.npmjs.org/ripemd160 27ms\n[...silly...]\n2265 http fetch GET 200 https://registry.npmjs.org/sha.js 27ms\n[...silly...]\n2270 http fetch GET 200 https://registry.npmjs.org/cipher-base 26ms\n[...silly...]\n2273 http fetch GET 200 https://registry.npmjs.org/miller-rabin 30ms\n2274 http fetch GET 200 https://registry.npmjs.org/sha.js 30ms\n[...silly...]\n2277 http fetch GET 200 https://registry.npmjs.org/ripemd160 25ms\n[...silly...]\n2279 http fetch GET 304 https://registry.npmjs.org/onetime 27ms (from cache)\n[...silly...]\n2281 http fetch GET 304 https://registry.npmjs.org/is-date-object 26ms (from cache)\n[...silly...]\n2283 http fetch GET 200 https://registry.npmjs.org/css-what 29ms\n2284 http fetch GET 304 https://registry.npmjs.org/is-symbol 37ms (from cache)\n[...silly...]\n2286 http fetch GET 200 https://registry.npmjs.org/domutils 32ms\n2287 http fetch GET 200 https://registry.npmjs.org/boolbase 31ms\n2288 http fetch GET 304 https://registry.npmjs.org/strip-bom 38ms (from cache)\n2289 http fetch GET 200 https://registry.npmjs.org/nth-check 30ms\n[...silly...]\n2296 http fetch GET 200 https://registry.npmjs.org/domhandler 36ms\n[...silly...]\n2298 http fetch GET 200 https://registry.npmjs.org/domutils 33ms\n[...silly...]\n2301 http fetch GET 200 https://registry.npmjs.org/domelementtype 27ms\n[...silly...]\n2303 http fetch GET 200 https://registry.npmjs.org/archive-type 37ms\n2304 http fetch GET 304 https://registry.npmjs.org/get-stream 45ms (from cache)\n2305 http fetch GET 200 https://registry.npmjs.org/decompress 35ms\n2306 http fetch GET 200 https://registry.npmjs.org/download 37ms\n[...silly...]\n2308 http fetch GET 200 https://registry.npmjs.org/exec-series 33ms\n[...silly...]\n2310 http fetch GET 304 https://registry.npmjs.org/npm-run-path 49ms (from cache)\n2311 http fetch GET 304 https://registry.npmjs.org/is-stream 49ms (from cache)\n2312 http fetch GET 304 https://registry.npmjs.org/strip-eof 48ms (from cache)\n[...silly...]\n2325 http fetch GET 200 https://registry.npmjs.org/url-regex 24ms\n[...silly...]\n2327 http fetch GET 200 https://registry.npmjs.org/bin-check 31ms\n2328 http fetch GET 200 https://registry.npmjs.org/bin-version-check 30ms\n2329 http fetch GET 200 https://registry.npmjs.org/each-async 31ms\n2330 http fetch GET 200 https://registry.npmjs.org/lazy-req 31ms\n2331 http fetch GET 200 https://registry.npmjs.org/os-filter-obj 32ms\n[...silly...]\n2336 http fetch GET 200 https://registry.npmjs.org/squeak 33ms\n2337 http fetch GET 304 https://registry.npmjs.org/temp-dir 39ms (from cache)\n[...silly...]\n2353 http fetch GET 304 https://registry.npmjs.org/q 29ms (from cache)\n[...silly...]\n2356 http fetch GET 200 https://registry.npmjs.org/clap 26ms\n2357 http fetch GET 200 https://registry.npmjs.org/lodash.isarguments 34ms\n[...silly...]\n2360 http fetch GET 304 https://registry.npmjs.org/lodash._getnative 41ms (from cache)\n2361 http fetch GET 304 https://registry.npmjs.org/amdefine 33ms (from cache)\n[...silly...]\n2366 http fetch GET 200 https://registry.npmjs.org/define-property 29ms\n2367 http fetch GET 304 https://registry.npmjs.org/is-path-inside 34ms (from cache)\n2368 http fetch GET 200 https://registry.npmjs.org/extend-shallow 28ms\n[...silly...]\n2370 http fetch GET 200 https://registry.npmjs.org/fragment-cache 27ms\n[...silly...]\n2376 http fetch GET 200 https://registry.npmjs.org/nanomatch 24ms\n[...silly...]\n2378 http fetch GET 200 https://registry.npmjs.org/regex-not 23ms\n[...silly...]\n2381 http fetch GET 200 https://registry.npmjs.org/to-regex 32ms\n2382 http fetch GET 200 https://registry.npmjs.org/array-slice 27ms\n2383 http fetch GET 200 https://registry.npmjs.org/snapdragon 33ms\n2384 http fetch GET 200 https://registry.npmjs.org/array-each 30ms\n[...silly...]\n2388 http fetch GET 200 https://registry.npmjs.org/map-cache 31ms\n[...silly...]\n2398 http fetch GET 304 https://registry.npmjs.org/homedir-polyfill 44ms (from cache)\n[...silly...]\n2401 http fetch GET 200 https://registry.npmjs.org/path-root 32ms\n[...silly...]\n2404 http fetch GET 304 https://registry.npmjs.org/har-schema 32ms (from cache)\n[...silly...]\n2406 http fetch GET 304 https://registry.npmjs.org/global-modules 27ms (from cache)\n2407 http fetch GET 304 https://registry.npmjs.org/array-find-index 29ms (from cache)\n[...silly...]\n2411 http fetch GET 304 https://registry.npmjs.org/code-point-at 35ms (from cache)\n[...silly...]\n2413 http fetch GET 304 https://registry.npmjs.org/spdx-correct 32ms (from cache)\n[...silly...]\n2415 http fetch GET 304 https://registry.npmjs.org/spdx-expression-parse 36ms (from cache)\n2416 http fetch GET 304 https://registry.npmjs.org/generate-function 36ms (from cache)\n[...silly...]\n2419 http fetch GET 304 https://registry.npmjs.org/generate-object-property 32ms (from cache)\n2420 http fetch GET 304 https://registry.npmjs.org/jsonpointer 30ms (from cache)\n[...silly...]\n2423 http fetch GET 304 https://registry.npmjs.org/extsprintf 26ms (from cache)\n[...silly...]\n2425 http fetch GET 304 https://registry.npmjs.org/json-schema 29ms (from cache)\n[...silly...]\n2427 http fetch GET 304 https://registry.npmjs.org/verror 28ms (from cache)\n[...silly...]\n2433 http fetch GET 304 https://registry.npmjs.org/asn1 33ms (from cache)\n[...silly...]\n2435 http fetch GET 304 https://registry.npmjs.org/dashdash 32ms (from cache)\n2436 http fetch GET 304 https://registry.npmjs.org/getpass 33ms (from cache)\n[...silly...]\n2439 http fetch GET 304 https://registry.npmjs.org/jsbn 31ms (from cache)\n[...silly...]\n2441 http fetch GET 304 https://registry.npmjs.org/tweetnacl 31ms (from cache)\n[...silly...]\n2451 http fetch GET 304 https://registry.npmjs.org/ecc-jsbn 30ms (from cache)\n[...silly...]\n2454 http fetch GET 304 https://registry.npmjs.org/bcrypt-pbkdf 36ms (from cache)\n[...silly...]\n2459 http fetch GET 304 https://registry.npmjs.org/window-size 35ms (from cache)\n2460 http fetch GET 304 https://registry.npmjs.org/error-ex 31ms (from cache)\n[...silly...]\n2463 http fetch GET 304 https://registry.npmjs.org/encoding 33ms (from cache)\n[...silly...]\n2465 http fetch GET 200 https://registry.npmjs.org/ini 6ms (from cache)\n[...silly...]\n2472 http fetch GET 304 https://registry.npmjs.org/invert-kv 40ms (from cache)\n2473 http fetch GET 304 https://registry.npmjs.org/mimic-fn 41ms (from cache)\n2474 http fetch GET 304 https://registry.npmjs.org/fill-range 40ms (from cache)\n[...silly...]\n2478 http fetch GET 304 https://registry.npmjs.org/is-primitive 32ms (from cache)\n[...silly...]\n2480 http fetch GET 304 https://registry.npmjs.org/deep-extend 35ms (from cache)\n[...silly...]\n2482 http fetch GET 304 https://registry.npmjs.org/fstream-ignore 29ms (from cache)\n[...silly...]\n2486 http fetch GET 304 https://registry.npmjs.org/uid-number 31ms (from cache)\n2487 http fetch GET 304 https://registry.npmjs.org/number-is-nan 31ms (from cache)\n2488 http fetch GET 200 https://registry.npmjs.org/babel-plugin-syntax-async-generators 27ms\n[...silly...]\n2491 http fetch GET 200 https://registry.npmjs.org/babel-plugin-syntax-object-rest-spread 27ms\n2492 http fetch GET 200 https://registry.npmjs.org/babel-helper-bindify-decorators 29ms\n[...silly...]\n2497 http fetch GET 200 https://registry.npmjs.org/strict-uri-encode 30ms\n2498 http fetch GET 200 https://registry.npmjs.org/buffer-xor 30ms\n[...silly...]\n2501 http fetch GET 304 https://registry.npmjs.org/is-plain-obj 30ms (from cache)\n[...silly...]\n2503 http fetch GET 200 https://registry.npmjs.org/des.js 23ms\n2504 http fetch GET 200 https://registry.npmjs.org/md5.js 24ms\n[...silly...]\n2509 http fetch GET 200 https://registry.npmjs.org/brorand 33ms\n[...silly...]\n2511 http fetch GET 200 https://registry.npmjs.org/hash.js 45ms\n2512 http fetch GET 200 https://registry.npmjs.org/hmac-drbg 43ms\n2513 http fetch GET 200 https://registry.npmjs.org/minimalistic-assert 38ms\n[...silly...]\n2517 http fetch GET 200 https://registry.npmjs.org/asn1.js 81ms\n2518 http fetch GET 200 https://registry.npmjs.org/minimalistic-crypto-utils 84ms\n[...silly...]\n2522 http fetch GET 200 https://registry.npmjs.org/dom-serializer 64ms\n2523 http fetch GET 200 https://registry.npmjs.org/hash-base 78ms\n[...silly...]\n2530 http fetch GET 200 https://registry.npmjs.org/buffer-to-vinyl 27ms\n2531 http fetch GET 304 https://registry.npmjs.org/path-key 36ms (from cache)\n[...silly...]\n2534 http fetch GET 200 https://registry.npmjs.org/decompress-tar 31ms\n2535 http fetch GET 200 https://registry.npmjs.org/decompress-tarbz2 32ms\n2536 http fetch GET 200 https://registry.npmjs.org/decompress-targz 32ms\n2537 http fetch GET 200 https://registry.npmjs.org/stream-combiner2 31ms\n2538 http fetch GET 200 https://registry.npmjs.org/decompress-unzip 33ms\n2539 http fetch GET 200 https://registry.npmjs.org/vinyl-assign 31ms\n[...silly...]\n2548 http fetch GET 200 https://registry.npmjs.org/caw 27ms\n2549 http fetch GET 200 https://registry.npmjs.org/vinyl-fs 29ms\n[...silly...]\n2552 http fetch GET 200 https://registry.npmjs.org/filenamify 26ms\n2553 http fetch GET 200 https://registry.npmjs.org/gulp-decompress 28ms\n[...silly...]\n2555 http fetch GET 200 https://registry.npmjs.org/gulp-rename 32ms\n2556 http fetch GET 200 https://registry.npmjs.org/read-all-stream 31ms\n[...silly...]\n2558 http fetch GET 200 https://registry.npmjs.org/is-url 34ms\n[...silly...]\n2560 http fetch GET 304 https://registry.npmjs.org/got 44ms (from cache)\n[...silly...]\n2562 http fetch GET 200 https://registry.npmjs.org/vinyl 42ms\n2563 http fetch GET 200 https://registry.npmjs.org/ware 43ms\n[...silly...]\n2570 http fetch GET 200 https://registry.npmjs.org/async-each-series 31ms\n[...silly...]\n2575 http fetch GET 200 https://registry.npmjs.org/ip-regex 31ms\n[...silly...]\n2577 http fetch GET 200 https://registry.npmjs.org/executable 28ms\n[...silly...]\n2587 http fetch GET 200 https://registry.npmjs.org/bin-version 23ms\n[...silly...]\n2591 http fetch GET 200 https://registry.npmjs.org/semver-truncate 24ms\n[...silly...]\n2594 http fetch GET 200 https://registry.npmjs.org/console-stream 25ms\n2595 http fetch GET 200 https://registry.npmjs.org/lpad-align 25ms\n[...silly...]\n2599 http fetch GET 200 https://registry.npmjs.org/snapdragon-node 27ms\n2600 http fetch GET 200 https://registry.npmjs.org/split-string 25ms\n[...silly...]\n2602 http fetch GET 200 https://registry.npmjs.org/is-descriptor 25ms\n[...silly...]\n2604 http fetch GET 200 https://registry.npmjs.org/is-odd 26ms\n[...silly...]\n2608 http fetch GET 200 https://registry.npmjs.org/base 24ms\n[...silly...]\n2612 http fetch GET 200 https://registry.npmjs.org/source-map-resolve 27ms\n2613 http fetch GET 200 https://registry.npmjs.org/use 25ms\n[...silly...]\n2617 http fetch GET 304 https://registry.npmjs.org/parse-passwd 27ms (from cache)\n[...silly...]\n2621 http fetch GET 200 https://registry.npmjs.org/path-root-regex 40ms\n[...silly...]\n2623 http fetch GET 304 https://registry.npmjs.org/global-prefix 41ms (from cache)\n2624 http fetch GET 304 https://registry.npmjs.org/spdx-license-ids 37ms (from cache)\n2625 http fetch GET 304 https://registry.npmjs.org/is-property 37ms (from cache)\n[...silly...]\n2632 http fetch GET 304 https://registry.npmjs.org/center-align 36ms (from cache)\n[...silly...]\n2635 http fetch GET 304 https://registry.npmjs.org/right-align 34ms (from cache)\n[...silly...]\n2639 http fetch GET 304 https://registry.npmjs.org/is-utf8 34ms (from cache)\n[...silly...]\n2644 http fetch GET 304 https://registry.npmjs.org/is-arrayish 24ms (from cache)\n[...silly...]\n2648 http fetch GET 304 https://registry.npmjs.org/is-number 25ms (from cache)\n[...silly...]\n2650 http fetch GET 304 https://registry.npmjs.org/repeat-string 26ms (from cache)\n[...silly...]\n2652 http fetch GET 304 https://registry.npmjs.org/randomatic 30ms (from cache)\n[...silly...]\n2654 http fetch GET 200 https://registry.npmjs.org/entities 25ms\n2655 http fetch GET 200 https://registry.npmjs.org/is-tar 25ms\n2656 http fetch GET 200 https://registry.npmjs.org/strip-dirs 25ms\n[...silly...]\n2660 http fetch GET 304 https://registry.npmjs.org/tar-stream 28ms (from cache)\n[...silly...]\n2662 http fetch GET 200 https://registry.npmjs.org/is-bzip2 23ms\n[...silly...]\n2664 http fetch GET 200 https://registry.npmjs.org/is-obj 0ms (from cache)\n[...silly...]\n2668 http fetch GET 200 https://registry.npmjs.org/seek-bzip 24ms\n[...silly...]\n2671 http fetch GET 200 https://registry.npmjs.org/is-gzip 35ms\n2672 http fetch GET 200 https://registry.npmjs.org/duplexer2 33ms\n2673 http fetch GET 200 https://registry.npmjs.org/is-zip 29ms\n2674 http fetch GET 200 https://registry.npmjs.org/yauzl 28ms\n2675 http fetch GET 200 https://registry.npmjs.org/stat-mode 29ms\n2676 http fetch GET 200 https://registry.npmjs.org/get-proxy 28ms\n[...silly...]\n2684 http fetch GET 200 https://registry.npmjs.org/glob-stream 28ms\n[...silly...]\n2686 http fetch GET 200 https://registry.npmjs.org/gulp-sourcemaps 28ms\n[...silly...]\n2688 http fetch GET 200 https://registry.npmjs.org/is-valid-glob 30ms\n2689 http fetch GET 200 https://registry.npmjs.org/lazystream 31ms\n2690 http fetch GET 200 https://registry.npmjs.org/lodash.isequal 30ms\n2691 http fetch GET 200 https://registry.npmjs.org/merge-stream 31ms\n2692 http fetch GET 200 https://registry.npmjs.org/through2-filter 30ms\n2693 http fetch GET 200 https://registry.npmjs.org/strip-bom-stream 31ms\n[...silly...]\n2697 http fetch GET 200 https://registry.npmjs.org/vali-date 28ms\n[...silly...]\n2705 http fetch GET 200 https://registry.npmjs.org/filename-reserved-regex 29ms\n[...silly...]\n2707 http fetch GET 200 https://registry.npmjs.org/trim-repeated 25ms\n2708 http fetch GET 200 https://registry.npmjs.org/strip-outer 26ms\n[...silly...]\n2713 http fetch GET 200 https://registry.npmjs.org/gulp-util 29ms\n2714 http fetch GET 304 https://registry.npmjs.org/create-error-class 36ms (from cache)\n[...silly...]\n2716 warn deprecated gulp-util@3.0.8: gulp-util is deprecated - replace it, following the guidelines at https://medium.com/gulpjs/gulp-util-ca3b1f9f9ac5\n[...silly...]\n2718 http fetch GET 200 https://registry.npmjs.org/node-status-codes 34ms\n[...silly...]\n2720 http fetch GET 304 https://registry.npmjs.org/is-redirect 43ms (from cache)\n2721 http fetch GET 304 https://registry.npmjs.org/is-retry-allowed 41ms (from cache)\n[...silly...]\n2724 http fetch GET 304 https://registry.npmjs.org/lowercase-keys 42ms (from cache)\n[...silly...]\n2732 http fetch GET 304 https://registry.npmjs.org/timed-out 47ms (from cache)\n2733 http fetch GET 304 https://registry.npmjs.org/unzip-response 47ms (from cache)\n[...silly...]\n2735 http fetch GET 200 https://registry.npmjs.org/clone-stats 28ms\n[...silly...]\n2738 http fetch GET 304 https://registry.npmjs.org/url-parse-lax 34ms (from cache)\n2739 http fetch GET 200 https://registry.npmjs.org/wrap-fn 27ms\n[...silly...]\n2747 http fetch GET 200 https://registry.npmjs.org/to-regex-range 31ms\n[...silly...]\n2749 http fetch GET 200 https://registry.npmjs.org/posix-character-classes 25ms\n[...silly...]\n2751 http fetch GET 200 https://registry.npmjs.org/find-versions 23ms\n[...silly...]\n2753 http fetch GET 200 https://registry.npmjs.org/snapdragon-util 26ms\n2754 http fetch GET 304 https://registry.npmjs.org/longest 33ms (from cache)\n2755 http fetch GET 200 https://registry.npmjs.org/is-accessor-descriptor 29ms\n[...silly...]\n2757 http fetch GET 200 https://registry.npmjs.org/is-data-descriptor 29ms\n[...silly...]\n2759 http fetch GET 200 https://registry.npmjs.org/cache-base 28ms\n[...silly...]\n2763 http fetch GET 200 https://registry.npmjs.org/class-utils 31ms\n2764 http fetch GET 200 https://registry.npmjs.org/component-emitter 32ms\n[...silly...]\n2766 http fetch GET 200 https://registry.npmjs.org/mixin-deep 27ms\n[...silly...]\n2773 http fetch GET 200 https://registry.npmjs.org/pascalcase 25ms\n2774 http fetch GET 200 https://registry.npmjs.org/decode-uri-component 25ms\n[...silly...]\n2778 http fetch GET 200 https://registry.npmjs.org/source-map-url 32ms\n[...silly...]\n2781 http fetch GET 200 https://registry.npmjs.org/atob 38ms\n2782 http fetch GET 200 https://registry.npmjs.org/urix 39ms\n2783 http fetch GET 200 https://registry.npmjs.org/resolve-url 35ms\n[...silly...]\n2789 http fetch GET 304 https://registry.npmjs.org/json-stable-stringify 49ms (from cache)\n[...silly...]\n2791 http fetch GET 304 https://registry.npmjs.org/align-text 47ms (from cache)\n[...silly...]\n2796 http fetch GET 304 https://registry.npmjs.org/align-text 43ms (from cache)\n[...silly...]\n2803 http fetch GET 200 https://registry.npmjs.org/is-natural-number 23ms\n[...silly...]\n2805 http fetch GET 200 https://registry.npmjs.org/sum-up 28ms\n[...silly...]\n2809 http fetch GET 200 https://registry.npmjs.org/fd-slicer 28ms\n[...silly...]\n2811 http fetch GET 200 https://registry.npmjs.org/buffer-crc32 27ms\n2812 http fetch GET 304 https://registry.npmjs.org/bl 34ms (from cache)\n[...silly...]\n2817 http fetch GET 200 https://registry.npmjs.org/ordered-read-streams 28ms\n2818 http fetch GET 200 https://registry.npmjs.org/to-absolute-glob 26ms\n2819 http fetch GET 200 https://registry.npmjs.org/unique-stream 26ms\n[...silly...]\n2823 http fetch GET 200 https://registry.npmjs.org/first-chunk-stream 23ms\n[...silly...]\n2825 http fetch GET 200 https://registry.npmjs.org/array-differ 25ms\n[...silly...]\n2828 http fetch GET 200 https://registry.npmjs.org/beeper 26ms\n[...silly...]\n2830 http fetch GET 200 https://registry.npmjs.org/fancy-log 27ms\n[...silly...]\n2833 http fetch GET 200 https://registry.npmjs.org/has-gulplog 29ms\n2834 http fetch GET 304 https://registry.npmjs.org/dateformat 38ms (from cache)\n2835 http fetch GET 200 https://registry.npmjs.org/lodash._reescape 30ms\n2836 http fetch GET 200 https://registry.npmjs.org/gulplog 31ms\n[...silly...]\n2845 http fetch GET 200 https://registry.npmjs.org/lodash._reevaluate 34ms\n[...silly...]\n2850 http fetch GET 200 https://registry.npmjs.org/multipipe 32ms\n[...silly...]\n2856 http fetch GET 304 https://registry.npmjs.org/capture-stack-trace 30ms (from cache)\n[...silly...]\n2858 http fetch GET 200 https://registry.npmjs.org/assign-symbols 23ms\n[...silly...]\n2860 http fetch GET 200 https://registry.npmjs.org/semver-regex 24ms\n[...silly...]\n2862 http fetch GET 200 https://registry.npmjs.org/collection-visit 29ms\n2863 http fetch GET 200 https://registry.npmjs.org/get-value 29ms\n2864 http fetch GET 200 https://registry.npmjs.org/has-value 29ms\n2865 http fetch GET 200 https://registry.npmjs.org/set-value 28ms\n2866 http fetch GET 200 https://registry.npmjs.org/to-object-path 29ms\n2867 http fetch GET 200 https://registry.npmjs.org/union-value 26ms\n[...silly...]\n2876 http fetch GET 200 https://registry.npmjs.org/unset-value 28ms\n[...silly...]\n2880 http fetch GET 200 https://registry.npmjs.org/arr-union 25ms\n[...silly...]\n2882 http fetch GET 200 https://registry.npmjs.org/static-extend 24ms\n[...silly...]\n2884 http fetch GET 200 https://registry.npmjs.org/set-getter 27ms\n2885 http fetch GET 200 https://registry.npmjs.org/pend 28ms\n[...silly...]\n2887 http fetch GET 200 https://registry.npmjs.org/lodash._basetostring 27ms\n2888 http fetch GET 200 https://registry.npmjs.org/lodash._basevalues 27ms\n2889 http fetch GET 304 https://registry.npmjs.org/jsonify 36ms (from cache)\n[...silly...]\n2891 http fetch GET 304 https://registry.npmjs.org/path-dirname 34ms (from cache)\n[...silly...]\n2894 http fetch GET 200 https://registry.npmjs.org/lodash.escape 27ms\n[...silly...]\n2901 http fetch GET 304 https://registry.npmjs.org/lodash.restparam 27ms (from cache)\n[...silly...]\n2906 http fetch GET 200 https://registry.npmjs.org/ansi-gray 23ms\n[...silly...]\n2908 http fetch GET 200 https://registry.npmjs.org/color-support 23ms\n[...silly...]\n2910 http fetch GET 200 https://registry.npmjs.org/sparkles 35ms\n2911 http fetch GET 200 https://registry.npmjs.org/glogg 35ms\n[...silly...]\n2913 http fetch GET 200 https://registry.npmjs.org/map-visit 36ms\n2914 http fetch GET 200 https://registry.npmjs.org/object-visit 37ms\n[...silly...]\n2916 http fetch GET 200 https://registry.npmjs.org/has-values 38ms\n[...silly...]\n2919 http fetch GET 200 https://registry.npmjs.org/object-copy 28ms\n[...silly...]\n2925 http fetch GET 304 https://registry.npmjs.org/lodash._root 26ms (from cache)\n[...silly...]\n2927 http fetch GET 200 https://registry.npmjs.org/has-values 23ms\n[...silly...]\n2929 http fetch GET 200 https://registry.npmjs.org/ansi-wrap 24ms\n[...silly...]\n2931 http fetch GET 200 https://registry.npmjs.org/copy-descriptor 27ms\n[...silly...]\n2933 http fetch GET 200 https://registry.npmjs.org/babel-plugin-transform-es2015-classes 30032ms\n[...silly...]\n3252 http fetch GET 200 https://registry.npmjs.org/fsevents/-/fsevents-1.1.3.tgz 1304ms\n[...silly...]\n3484 http fetch GET 304 https://registry.npmjs.org/babel-plugin-transform-es2015-classes 184ms (from cache)\n[...silly...]\n3486 verbose stack SyntaxError: Unexpected end of input at 1:21655\n3486 verbose stack \"^6.23.0\",\"babel-helper-define-map\":\"^6.23.0\",\"babel-messages\":\"^6.23\n3486 verbose stack                                                                      ^\n3486 verbose stack     at Object.parseJSON (/home/############/github/strapi/node_modules/npm/node_modules/pacote/node_modules/make-fetch-happen/node_modules/node-fetch-npm/node_modules/json-parse-helpfulerror/node_modules/jju/lib/parse.js:745:13)\n3486 verbose stack     at parse (/home/############/github/strapi/node_modules/npm/node_modules/pacote/node_modules/make-fetch-happen/node_modules/node-fetch-npm/node_modules/json-parse-helpfulerror/index.js:10:13)\n3486 verbose stack     at consumeBody.call.then.buffer (/home/############/github/strapi/node_modules/npm/node_modules/pacote/node_modules/make-fetch-happen/node_modules/node-fetch-npm/src/body.js:96:50)\n3486 verbose stack     at \n3486 verbose stack     at process._tickCallback (internal/process/next_tick.js:188:7)\n3487 verbose cwd /home/############/github/strapi/packages/strapi-helper-plugin\n3488 verbose Linux 4.13.0-32-generic\n3489 verbose argv \"/home/#########/.nvm/versions/node/v8.9.4/bin/node\" \"/home/############/github/strapi/node_modules/.bin/npm\" \"link\"\n3490 verbose node v8.9.4\n3491 verbose npm  v5.1.0\n3492 error Unexpected end of input at 1:21655\n3492 error \"^6.23.0\",\"babel-helper-define-map\":\"^6.23.0\",\"babel-messages\":\"^6.23\n3492 error                                                                      ^\n3493 verbose exit [ 1, true ]\n\n```\n\n\n. Had to do npm cache clean --force ...  Problem solved . @lauriejim That's what I did multiple times. But this issue just makes me realize that we shouldn't need to edit code to do this. It could be really awesome to deal roles attributions through UI =D. Just realized that \"collectionName\": \"\", is always empty ... is that normal ? . Mongodb, here are the settings : \n\n\n```json\n{\n  \"defaultConnection\": \"default\",\n  \"connections\": {\n    \"default\": {\n      \"connector\": \"strapi-mongoose\",\n      \"settings\": {\n        \"client\": \"mongo\",\n        \"host\": \"localhost\",\n        \"port\": 27017,\n        \"database\": \"strapidev\",\n        \"username\": \"\",\n        \"password\": \"\"\n      },\n      \"options\": {}\n    }\n  }\n}\n```\n\n\n. @lauriejim \nHaving the col' name \"amount\" in two different table, linked with a relation, seems to be the problem.\nWhen removing \"amount\" col from amount, or line, make the app working as expected.\n. Same problem : \nContent types :\n- Account\n- Line\n- Tag\n- User\nRelations :\n- Account to many lines\n- Account to one user\n- Line to one account\n- Line to many tags\n- Tag to one user\n- Tag to many lines\n- User to many account\n- User to many tag\nStep to reproduce :\n1. Create an account linked to an user\n2. Create a line linked to an account\n3. Creation a tag linked to an user\n4. Go to the line created in 2., then assign the tag create in 3.\n5. Go to the tag or the line from 2 or 3, relation between tag and line doesn't appear.. @lauriejim The problem disappeared since release 10.1, on the same models.. @Aurelsicoko I agree with the latest option. @lauriejim Can you transform this into \"Feature request\" ? ^^ And it's kinda important as arround me i'm not the only guy who is loosing their mind : \"How to do this without destroy everything\" x)\nMost of us directly edit permission through mlab ^^'. Well ... to be fair, I think that moving from file to db was a bad move ...\nI mean, moving ENTIRELY from file to db ... We should keep file, and on execution of npm start (eq. on each restart) the server reload what was saved from file.\nDrupal is doing this and it's quite intuitive ... I'll look for more details if I have time.. TL;DR:\n\"Import/Export permissions\" button, and an optional \"Import permission on server restart\" checkbox would do the job :)\n\n@Aurelsicoko said\n\nHowever, if you update the permissions, you need to restart the server if they are stored in a file. That's the main reason it was better for us to move the permissions in the database.\n\nNo you don't need to : Settings are stored in database, and when needed, you \"click upload permission\" to recreate / regenerate permissions files.\nIn our case, when restarting the server, it wouldn't care about what was in database, it recreate permission through files (to build the database settings).\nDrupal 8 example\nMore details on this workflow example : \nDrupal 8 - Configuration management\nDrupal 8 - Managing your sites configuration\n\nBy default, the \"active\" configuration is stored in the database (\"config\" table). This is for performance and security reasons. This is the complete configuration for the entire site at that moment. Configuration can be exported and imported as YAML files, either in its entirety, or a single piece of configuration, using Drush and/or Drupal Console config commands or the Configuration Manager. (See below for more details.)\n\n\nYou can develop every detail of you website on your develop environment\nSo you can sync every environment easily !\nYou can deploy permission fix instead of manipulating strapi B.O. for every modifications\nThink about business pipeline : dev/staging/qa/client/prod/... how many time will you lose ?\nAnd edit database directly is always a bad idea, having something natively is always a better solution because you know (as a framework) what happens.\nYou can still \"quickfix\" in prod when you missed something (through B.O.)\nBut yes, you have to recreate/regenerate your permission's file to keep them upon next deliveries\nBut no, you don't need to restart you server to apply what you edit through B.O.\n\nWhy I think it was a bad move\nWhat was great in strapi before that was the fact that EVERYTHING was versioned, whatever you were doing, just looking at the code was self-explanatory... Now we must have some deploy scripts to be sure that permissions are correctly set on every environment of our pipeline.\nI supposed that not everyone will agree with this, but working with mates on the same project where you can't git permission (specially on API framework) feels really weird.\nSorry about writing mistakes, I don't often write so much english.. @Aurelsicoko That's the idea !\nAbout \"However, the risk is very high to forgot to export the permissions\"\nYou're right, but except in little project, most of the time it's highly unrecommended/prohibited to edit permission in prod, because we all know what happens when an intern have to edit something in prod :innocent: \nAlso, a BIG :+1: about display a warning in the BO telling \" :warning: permissions has been edited manually blablabla\" & about splitting permissions.json :smiley_cat: . Hi,\n\ud83d\udcaf ! Great work, my mind was near that idea but I couldn't find a way to make it \"universal\" for every strapi's components.\nThe only comment I have is: files are human-readable, which is perfect but,\n- Why not use YAML files instead ? (not really important, but if the goal is to be human readable, it's an idea)\n- Why using unix timestamp instead of date ? (kind of important, especially for rollback feature). @lauriejim I see this has been deleted from 3.0.0-alpha.12.3 milestone, can we have some follow up on this ? Thanks :) . @Aurelsicoko Any news on the milestone targetted for this feature ? =)\nGreat jobs for the lasts release ! . Ref #672 As this is linked about databased config, especially permission since alpha10.1.. Oops, my bad, it works now. Thanks :+1: . Hi,\nExemple: In french, I wish to name a content type \"voiture\" (car) and link it with another content type \"conducteur\" (driver).\nI create a field in \"voiture\": \"chauffeur attitr\u00e9\" (recognized driver)\nIn English, plural would be \"recognized driverS\", no prob.\nIn French, plural would be \"chauffeurS attitr\u00e9S\", but your system provide \"chauffeur attitr\u00e9S\".\nEither strapi has to provide a way to set our own plural names, or @ulaDEVEL must use English name only.\nI didn't open an issue because I choose the \"Everything must be in English\" solution (Which is probably the best answer as we write code in english anyway ...).. It depends on your server configuration, see https://github.com/facebook/create-react-app/blob/master/packages/react-scripts/template/README.md#serving-apps-with-client-side-routing for exemple. \nNote that you can also fix this through apache or ngynx depending on your server configuration.. Same problem here.\n@manishsg You can manually edit every route/path in /api/*/config/routes.json if you can't wait this issue to be resolved ;). Related to #672 ?. I agree with @maturano, this --dev options is present in CONTRIBUTING.md file, because this way you work on strapi project, not on your own projet.. ",
    "RoymanJing": "got it, thanks!. ",
    "ialmanzaj": "i'm going to be working on it . ",
    "Scrocrix": "@ialmanzaj How's the mobile support going? I'd like to help! But also I don't want to step over your feet.. ",
    "harshilsharma63": "Just for information, I'm using PostgreSQL 9.5.10.\nI've also noticed that strapi does start with multiple databases added but fails as soon as model is added.. @Aurelsicoko please see following screenshots to get a better idea\nData in database - \nSame data displayed in Strapi admin - \nMy model.json\n{\n  \"connection\": \"My DB\",\n  \"collectionName\": \"foobar\",\n  \"info\": {\n    \"name\": \"foobar\",\n    \"description\": \"\"\n  },\n  \"options\": {},\n  \"column_1\": {\n    \"name\": {\n      \"type\": \"string\"\n    },\n    \"column_2\": {\n      \"type\": \"json\"\n    }\n  }\n}. I went through the source code and it seems you are using Immutable.Map for JSON objects retrieved from the database. Is it this Immutable.Map that is causing the extra \"Map\" in output. Stringifying it seems to solve the issue.. Any update on this one? Its effectively making admin interface unusable for JSON objects.. @Aurelsicoko  yeah, that's what I've done right now.. This may solve #556 . ",
    "Nsbx": "Same problem, i think we need to execute different command for each OS\nI found usage here : https://github.com/strapi/strapi/blob/master/packages/strapi-generate-new/lib/before.js\nLine : 210\nFor windows this commande fix the problem : execSync(rmdir ${scope.rootPath} /s /q);\nEDIT : I created a PR to fix the error \nhttps://github.com/strapi/strapi/pull/469. Hello @lauriejim \nThe change is done and is work on my Windows :). ",
    "John0x": "is this already published?\nI have the same problem using the newest alpha version from npm. @Aurelsicoko I'd be willing to take care of most of the typescript integration, if you would guarantee, that it will be merged.\nI'll post it on the vote page.. ",
    "ayadav": "Hi @lauriejim,\nAgreed, I have taken a slightly different approach this time. \n\nUsed await to ensure all connections/models are processed before the callback.\nCleaned up all the other _after callback counters. \n\nOn side note, It seems like the same issue could be present in other plugins e.g. strapi-mongoose but I have not touched them for now.\n. @Aurelsicoko You are right, I checked again and it actually had no impact. I have removed those now.. ",
    "mikedevita": "@kevinskyba I think no matter what the password field should be stripped from the json response directly. In what scenario would you need to know the hash of the users password other than during login? I am very new to strapi@alpha but I am trying to dig into this right now as its a critical no-go for me for using this framework right now.. Its fine, I have my web directory synced via One Drive which is symlinked to ~/One Drive - For Business/Web OneDrive created this folder automatically, assuming its just a matter of escaping the path properly it should be a relatively simple fix but without digging into the code I can only guess. \nI'll dig into it more if it get time and submit a PR. . ",
    "DimitryDushkin": "same here. ",
    "perrosnk": "any solution?. ",
    "greatwitenorth": "@Aurelsicoko can you confirm then that Strapi does in fact write files in production? This seems to contradict information given to me by @emadicio\n\nIf you run your app with NODE_ENV=production you'll notice that plugins that actually edit or create files are disabled. So that means you cannot create or edit content types in prod\nhttps://github.com/strapi/strapi/issues/1986#issuecomment-422969635. I'm seeing the same issue with incorrect symlinks. Here's the exact steps:\n\n```\ncd Projects\nstrapi new strapi-dev --dev\nfilled in mysql db info\ncd strapi-dev\nstrapi start\n```\nI then see the following error message:\nstrapi start                                                                                                                                            12:57:06\nerror ENOENT: no such file or directory, stat '/Users/nickv/Projects/strapi-dev/plugins/content-manager'\n```\ncd plugins\nls -la\ntotal 0\ndrwxr-xr-x   8 nickv  staff  256 Dec 11 12:56 .\ndrwxr-xr-x  17 nickv  staff  544 Dec 11 12:56 ..\nlrwxr-xr-x   1 nickv  staff   73 Dec 11 12:56 content-manager -> /Users/nickv/.npm-packages/lib/node_modules/strapi-plugin-content-manager\nlrwxr-xr-x   1 nickv  staff   78 Dec 11 12:56 content-type-builder -> /Users/nickv/.npm-packages/lib/node_modules/strapi-plugin-content-type-builder\nlrwxr-xr-x   1 nickv  staff   63 Dec 11 12:56 email -> /Users/nickv/.npm-packages/lib/node_modules/strapi-plugin-email\nlrwxr-xr-x   1 nickv  staff   74 Dec 11 12:56 settings-manager -> /Users/nickv/.npm-packages/lib/node_modules/strapi-plugin-settings-manager\nlrwxr-xr-x   1 nickv  staff   64 Dec 11 12:56 upload -> /Users/nickv/.npm-packages/lib/node_modules/strapi-plugin-upload\nlrwxr-xr-x   1 nickv  staff   75 Dec 11 12:56 users-permissions -> /Users/nickv/.npm-packages/lib/node_modules/strapi-plugin-users-permissions\n```\nThe symlinks are pointing to folders which don't exist:\nls -la /Users/nickv/.npm-packages/lib/node_modules/strapi-plugin-content-manager                                                                         13:16:44\nls: /Users/nickv/.npm-packages/lib/node_modules/strapi-plugin-content-manager: No such file or directory\nAlso not sure if it's relevant but I'm using nvm:\nnvm --version                                                                                                                                               \n0.33.11. I did a bit of debugging (I'm a bit new to debugging in nodejs) and it seems like the issue is the symbol that's being fed into the fetchAll method here:\nhttps://github.com/strapi/strapi/blob/878962c1be1be8cc0aa07e4828a47917d4175899/packages/strapi-plugin-graphql/services/GraphQL.js#L1138-L1142\nIt's using a '=' symbol for the compator, where it should be using an 'IN' comparator. In the debugger I changed the symbol to 'IN' and it worked as expected, returning all the results for the nested resource.\nThis may possibly be a bug in the Content Manager package since you would think that it would detect an array of ID's and automatically use the IN operator. . Also here's some hackey code that seems to fix the issue:\njavascript\nif (queryOpts.hasOwnProperty('query') &&\n    queryOpts.query.hasOwnProperty('id') && \n    queryOpts.query.id.hasOwnProperty('value') && \n    Array.isArray(queryOpts.query.id.value)\n){\n  queryOpts.query.id.symbol = 'IN';\n}\nWhen added just above the chuck of code in my previous comment it seems to fix the issue.. Just to followup, it looks like my above fix only solves the problem of multiple related models not showing in the nested results for an item. But the original post here was mentioning about the reverse query (when an association is not 'dominant') not showing any results. This case statement seems to be the culprit:\n```javascript\ncase 'manyToMany': {\nif (association.dominant) {\n  const arrayOfIds = (obj[association.alias] || []).map(related => {\n    return related[ref.primaryKey] || related;\n  });\n// Where.\n  queryOpts.query = strapi.utils.models.convertParams(name, {\n    // Construct the \"where\" query to only retrieve entries which are\n    // related to this entry.\n    [ref.primaryKey]: arrayOfIds,\n    ...where.where\n  }).where;\n}\nbreak;\n// falls through\n}\n```\nremoving the if (association.dominant) condition seems to fix the problem. I'm not totally sure why it's checking if it's 'dominant' or what that even means. Can anyone here provide some insight as to why that conditional is in there?. It looks like something changed with the way the query is handled in alpha15. Instead of getting an array of ID's it now looks like there's a loop of queries happening for each related item. I'm seeing the following issue in alpha15 when trying to access related models:\n\"errors\": [\n    {\n      \"message\": \"The operator \\\"undefined\\\" is not permitted\",\n      \"locations\": [\n        {\n          \"line\": 3,\n          \"column\": 5\n        }\n      ],\n      \"path\": [\n        \"blends\",\n        0,\n        \"seedBreakdowns\"\n      ],\n      \"extensions\": {\n        \"code\": \"INTERNAL_SERVER_ERROR\",\n        \"exception\": {\n          \"stacktrace\": [\n            \"TypeError: The operator \\\"undefined\\\" is not permitted\",\n            \"    at Formatter.operator (/Users/myuser/Projects/myproject/node_modules/knex/lib/formatter.js:187:13)\",\n            \"    at QueryCompiler_MySQL.whereBasic (/Users/myuser/Projects/myproject/node_modules/knex/lib/query/compiler.js:554:100)\",\n            \"    at QueryCompiler_MySQL.where (/Users/myuser/Projects/myproject/node_modules/knex/lib/query/compiler.js:350:32)\",\n            \"    at /Users/myuser/Projects/myproject/node_modules/knex/lib/query/compiler.js:127:31\",\n            \"    at Array.map (<anonymous>)\",\n            \"    at QueryCompiler_MySQL.select (/Users/myuser/Projects/myproject/node_modules/knex/lib/query/compiler.js:126:33)\",\n            \"    at QueryCompiler_MySQL.toSQL (/Users/myuser/Projects/myproject/node_modules/knex/lib/query/compiler.js:74:27)\",\n            \"    at Builder.toSQL (/Users/myuser/Projects/myproject/node_modules/knex/lib/query/builder.js:70:44)\",\n            \"    at /Users/myuser/Projects/myproject/node_modules/knex/lib/runner.js:39:32\",\n            \"    at tryCatcher (/Users/myuser/Projects/myproject/node_modules/bluebird/js/release/util.js:16:23)\",\n            \"    at /Users/myuser/Projects/myproject/node_modules/bluebird/js/release/using.js:185:26\",\n            \"    at tryCatcher (/Users/myuser/Projects/myproject/node_modules/bluebird/js/release/util.js:16:23)\",\n            \"    at Promise._settlePromiseFromHandler (/Users/myuser/Projects/myproject/node_modules/bluebird/js/release/promise.js:512:31)\",\n            \"    at Promise._settlePromise (/Users/myuser/Projects/myproject/node_modules/bluebird/js/release/promise.js:569:18)\",\n            \"    at Promise._settlePromise0 (/Users/myuser/Projects/myproject/node_modules/bluebird/js/release/promise.js:614:10)\",\n            \"    at Promise._settlePromises (/Users/myuser/Projects/myproject/node_modules/bluebird/js/release/promise.js:694:18)\",\n            \"    at Promise._fulfill (/Users/myuser/Projects/myproject/node_modules/bluebird/js/release/promise.js:638:18)\",\n            \"    at PromiseArray._resolve (/Users/myuser/Projects/myproject/node_modules/bluebird/js/release/promise_array.js:126:19)\",\n            \"    at PromiseArray._promiseFulfilled (/Users/myuser/Projects/myproject/node_modules/bluebird/js/release/promise_array.js:144:14)\",\n            \"    at Promise._settlePromise (/Users/myuser/Projects/myproject/node_modules/bluebird/js/release/promise.js:574:26)\",\n            \"    at Promise._settlePromise0 (/Users/myuser/Projects/myproject/node_modules/bluebird/js/release/promise.js:614:10)\",\n            \"    at Promise._settlePromises (/Users/myuser/Projects/myproject/node_modules/bluebird/js/release/promise.js:694:18)\",\n            \"    at _drainQueueStep (/Users/myuser/Projects/myproject/node_modules/bluebird/js/release/async.js:138:12)\",\n            \"    at _drainQueue (/Users/myuser/Projects/myproject/node_modules/bluebird/js/release/async.js:131:9)\",\n            \"    at Async._drainQueues (/Users/myuser/Projects/myproject/node_modules/bluebird/js/release/async.js:147:5)\",\n            \"    at Immediate.Async.drainQueues [as _onImmediate] (/Users/myuser/Projects/myproject/node_modules/bluebird/js/release/async.js:17:14)\",\n            \"    at runCallback (timers.js:693:18)\",\n            \"    at tryOnImmediate (timers.js:664:5)\"\n          ]\n        }\n      }\n    },. Looks like this may stem from a large refactoring of convertParams  in packages/strapi-utils/lib/models.js. Will need to investigate more, but at the moment it seems like this code will not work anymore to detect if this is an IN query:\nplugins/content-manager/config/queries/bookshelf.js\njs\n      _.forEach(params.where, (where, key) => {\n        if (_.isArray(where.value) && where.symbol !== 'IN') {\n          for (const value in where.value) {\n            qb[value ? 'where' : 'orWhere'](key, where.symbol, where.value[value]);\n          }\n        } else {\n          qb.where(key, where.symbol, where.value);\n        }\n      });\n. @derrickmehaffy yes I did that step.. Closing as I tried the above steps again on a backup and now it's working as expected. Not sure what went wrong.. Just wondering the status on this issue. I did a bit of digging and it appears as though the queryName is always set to the model name. This means that if someone creates a custom query, then the policy code referenced here:\nhttps://github.com/strapi/strapi/blob/fa94519c1d6a4daba2ed5238afc1060e97f47ea1/packages/strapi-plugin-graphql/services/GraphQL.js#L695\nwill never find the policy for the custom query. Still unsure of how to fix this though.. OK that's good to know. I am still seeing files being changed and generated in production though. Here's what a git status on the server yields:\n```\nChanges not staged for commit:\n  (use \"git add ...\" to update what will be committed)\n  (use \"git checkout -- ...\" to discard changes in working directory)\nmodified:   admin/package-lock.json\nmodified:   package-lock.json\n\nUntracked files:\n  (use \"git add ...\" to include in what will be committed)\nconfig/locales/de_de.json\nconfig/locales/en_us.json\nconfig/locales/es_es.json\nconfig/locales/fr_fr.json\nconfig/locales/it_it.json\nconfig/locales/ja_jp.json\nconfig/locales/ru_ru.json\nconfig/locales/tr_tr.json\n\n```\nShould I file this as a bug then? Or is this intended behaviour?. Consider the following custom method in a controller file:\napi/product/controllers/Product.js\nfindById: async (ctx) => {\n    const ids = ctx.query.ids.split(',');\n    return strapi.services.product.fetchAll({id_in: ids});\n  },\nand the following added to routes:\n{\n      \"method\": \"GET\",\n      \"path\": \"/product/findById\",\n      \"handler\": \"Product.findById\",\n      \"config\": {\n        \"policies\": []\n      }\n    },\nCurrently a call to /product/findById?id=1,2,3 results in a 500 error:\nYou have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near ''1' and `id` in '2' and `id` in '3' limit 100' at line 1\"\nThe following SQL is produced which is incorrect:\n\"select `products`.* from `products` where `id` in '1' and `id` in '2' and `id` in '3' limit 100\"\nWith the proposed change, the system works as intended and returns products with ID 1,2,3.. This pull request is in reference to:\nhttps://github.com/strapi/strapi/issues/2152. I've tested the updated glob by @maturanomx and it is working correctly. I've updated the pull request accordingly.. Just wondering if anyone else is seeing this error again in alpha 20. Just upgraded today, and made sure all my services files are correct. But I'm seeing this again when including related fields in my query.. I'm still seeing NULL on deep nested relations:\n\n. This is alpha 20 with the specific changes done from this pull request. I can try updating to 21 today to see if that fixes anything.. After updating to Alpha 21 and applying the patches in this update I'm now seeing empty result sets for ALL nested relations when I know for certain there's related data:\nDeeply nested data:\n\nNested data:\n\n. You can ignore my issue, after updating to alpha 22 everything seems to be working correctly now.. Executing something like this might be a bit more bullet proof for package detection:\nnpm list --depth=0 --json\nAlthough I have found that it adds to the startup time. npm-pogrammatic might help as well although I have an open issue here since there's some issues currently with their package detection on some systems:\nhttps://github.com/Manak/npm-programmatic/issues/21. Yeah that might make more sense. I'm not so good with globs \ud83d\ude04 . It looks like there's 2 separate issues here.\n1) When querying a related model from the dominant model, and the related model has more than 1 result, then an empty array is always returned for the related model.\n2) when querying a relation from a non dominant model the relation always returns null (even if there's only 1 result).\nThe first issue is solved by changing the operator symbol to IN.\nThe second issue is only solved by removing the if (association.dominant) { conditional block completely from the manyToMany case statement (I updated the pull request to show this). I tried your proposed solution of moving the break inside of the conditional but it didn't work.. I don't have much experience with lodash, but it looks like that should work as long as lodash executes the function. I'm not at my dev machine at the moment, so I'll report back the exact version of node. But I'm positive it was using 10.x. ",
    "thetre97": "~Can you deploy with Docker? According to the Zeit docs...~\n~## File System Specifications\nThere are no limitations inside Docker deployments when it comes to the file system. It's always writable and readable.~\nIt seems Now will stop Docker support in the future - \nhttps://spectrum.chat/zeit/now/clarify-future-support-of-docker-on-now-platform~96985341-e17f-4af4-a330-c726774ed436?m=MTU0MTcxMTUzNDYwMw==. @cschweda It seems like Zeit will be stopping the Docker support in the future - https://spectrum.chat/zeit/now/clarify-future-support-of-docker-on-now-platform~96985341-e17f-4af4-a330-c726774ed436?m=MTU0MTcxMTUzNDYwMw==. ",
    "rsternagel": "What about Now 2.0 (apparently released on 08/11/18)? Would it work with Strapi?. ",
    "cschweda": "What about deploying on Now with the strapi-docker repo?. +1 on the strapi migrate.\nI'm not entirely clear what the version control process is. One thing I did -- since I use a non-local mongoDB instance is to add 'database.json' in all environments to my .gitignore file -- and then create these locally once I've cloned the repo.\nAnd do I set up separate databases for each environment? A 'prod' database with the actual data -- and a 'dev' database with test data?\n. ",
    "trburgess": "Thanks @Aurelsicoko, my main concern would be that if the call to the gif could be intercepted, then any code could be potentially executed within the current global context.. ",
    "niallobrien": "Thanks for the info. Are there plans to make this process more modular in the future?. Specifically, the big blue button that says \"Create your first content type\", when technically, I already have.. @derrickmehaffy Perfect explanation, thank you. Yes, this is correct.. ",
    "UserGalileo": "Hi guys! I'm looking at Strapi cause I really need a new Headless CMS, I like a LOT of things I've seen in Strapi but this feature in particular would be essential and could be a game changer in the CMS scenario.\nIn particular, what I'd need is the \"Location\" field, a-la Contentful.\nIf this enhancement is difficult to implement (I believe so), could I ask if you could include a location field type soon? Thanks, and compliments!. @Daekan I don\u2019t need it right now, but I\u2019m also looking at graphCMS which should implement that feature and it\u2019s GraphQL based :) I\u2019m keeping an eye on both!. @victorkane GraphCMS is going open source this month with the beta release for testing and they are doing an awesome job to improve the platform :) You can look at what they're doing on the Slack channel.\nSo yeah, after they go open source, the comparison will be fair.\nAlso, don't forget the services that Contentful (for example) gives you: the Sync API alone justifies the cost for me. And this is something totally managed, totally handled by their servers. They offer different services which live \"behind that paywall\" :) . Hi @lauriejim, maybe I put it down wrong, I'm talking about actually setting, for example, english and italian as active languages, and if I have an entry of type \"Article\" with a \"Title\" field, when the admin inserts a new article he will be able to fill the two input fields: \"Title (en)\" and \"Title (it)\".\nExactly what Contentful does :) . ",
    "n1mos": "I'm also considering to use Strapi but I don't feel confident using it without a feature to add custom field types...\nThis is a must.. @UserGalileo Did you find a solution for this or did you choose other CMS?. ",
    "victorkane": "The great virtue of Strapi.io is that it is a completely open source CMS. This practically doesn't really exist in today's world, believe it or not. They all want to keep your stuff in the cloud behind a paywall and give you toys, like graphCMS, like contentful and others or else are oldish or directly abandoned, like Keystone. Strapi.io is open, I've just started using it and I'm amazed at how it creates my API automatically, including the basic code. You can even develop templates and use these from the command line generator. Also, the road is open to develop and make pull requests (I only hope I'll be able to do this in the future). So I don't think it's fair to compare something like graphCMS (completely behind a paywall) and a community driven open source project.. ",
    "jsamr": "@UserGalileo \nUnfortunately, the backend will remain closed (from their slack):\n\n. @derrickmehaffy Great proposition. It would be even nicer if it was pluggable in UI localization module.. @Aurelsicoko I don't unfortunately :-)\nJe n'avais pas r\u00e9alis\u00e9 que c'\u00e9tait un projet fran\u00e7ais ! Un beau projet, bravo \u00e0 l'\u00e9quipe.. @lauriejim Tab session manager. @lauriejim Almost, but ideally it would also be integrated with UI localization, so I have attribute names updated when I switch to another locale.. @lauriejim I close this issue and I'll put my suggestion in the aforementioned ticket.. ",
    "harmjanluth": "Anyway.. +1 for custom fields. Mandatory feature.. ",
    "Clonk-HTML5": "+1 for custom fields. Mandatory feature.. ",
    "bkd705": "+1 for this one. Would be open to assisting in implementation, am a bit new to Strapi however so some direction would be wonderful if possible.. ",
    "gianniskarmas": "@soupette IMHO any solution to make it easier to add custom fields to users would be great.\nRight now if I add an Image field to the user I have problems reading it back with the strapi-sdk in nuxt.. Why do you just keep closing issues?\nThe problems are still there unfixed and create so much frustration.\nI'm also trying to enable ssl in strapi and followed this but it gives the wrong redirect of \"https://site_urlindex.html\".\nIn nuxt 2.0 they very nicely implemented a simple solution to enable ssl in nuxt.config.\nThis is just brilliant and makes developing so much easier.\nserver: {\n        port: 443, // default: 3000\n        host: '0.0.0.0', // default: localhost,\n        https: {\n            key: fs.readFileSync(path.resolve(__dirname, 'key.key')),\n            cert: fs.readFileSync(path.resolve(__dirname, 'cert.pem'))\n        }\n    },\nWE need to have the choice of when to use nginx or any other tool to do the job.\nngrok is great but not a solution as you need to send everything to the net and back.\nIMHO the choice of removing it was wrong and It is mandatory to be able to enable easily ssl in strapi.\nHaving said that, can someone please post a code sample of what we have to do to enable ssl support in strapi with a simple node command and not having to setup nginx?\nMany Thanks. How exactly does the database.json has to look with \"srv\": true?\nIt doesn't seem to work for me with atlas.\nKeep creating new projects just to find the correct format but it is so unstable... sometimes the connection is successful but when I strapi start the project it doesn't start with error:\n[2018-09-14T12:59:50.182Z] debug \u26d4\ufe0f Server wasn't able to start properly.\n[2018-09-14T12:59:50.183Z] error Make sure your MongoDB database is running...\n```\n{\n  \"defaultConnection\": \"default\",\n  \"connections\": {\n    \"default\": {\n      \"connector\": \"strapi-hook-mongoose\",\n      \"settings\": {\n        \"client\": \"mongo\",\n        \"host\": \"project-hvpgw.gcp.mongodb.net\",\n        \"srv\": true,\n        \"port\": 27017,\n        \"database\": \"strapi\",\n        \"username\": \"USERNAME\",\n        \"password\": \"PASSWORD\"\n      },\n      \"options\": {\n        \"authenticationDatabase\": \"admin\",\n        \"ssl\": true,\n        \"retryWrites\": true\n      }\n    }\n  }\n}\n```. Hi @sundaycrafts.\n1. Yes\n2. Never use compass but it works perfectly well through 3T Studio, Cli etc.\n3. Yes,\n4. Yes, Gbit - 4ms ping to Europe.\nIt seems like there is a caching happening within mongoose or the hook.\nI can make it work using uri alone but trying to implement this latest srv parameter.\nCan someone suggest the best way to debug strapi in general as to locate the problem?. So @sundaycrafts the way I'm doing it above is the correct one and I don't miss any arguments, right?. I also have this question and know how to do this for other collections (populate etc) but what is the suggested way for adding an image directly in the Users? How can we read it back directly?. Still the same problem with 14.1.1. That happens in a new 14.1.1 project.\nCopied apis from previous one and only these give this error when I try to edit them in Content manager. Any newly created behave correctly.\nIs there something else that should be created for content management to work?. Also to mention I can't edit at all these copied apis and can't add new fields any more. @lauriejim can you please give us any hints of where to look? This is urgent if it is a bug. After your reply @ChrisSargent looked into db's core_store and realised that is the root of these problems, at least in my case.\nIn the migration guide it does not mention anywhere that you need to copy core_store from previous db or nothing works. I assumed this entry gets automatically created when it reads what's inside the /api/ folder but it seems it doesn't. So the schema of the content-manager plugin does not have any info about these apis, thus the errors.\nThe question: Is there anyway to force core_store creation correctly from available apis?. @lauriejim is this resolved? You guys just keep closing issues without fixing them. why? Strapi is a great idea but so unstable. I'm holding up a client's project because I can't trust strapi anymore. Keep loosing and redoing the work every time I do an upgrade and migration. If camel case is not allowed and creates all these problems you should add an error check on the fields and not just let us ruin the hard work of creating an api.. @derrickmehaffy Thank you for all the hard work all of you put on this project.\nUnfortunately that is not the only problem but also a part of a bigger one .\nIt looses any access and track to the old apis and does not recreate the schema.\n- Can't create any new fields in Content Type. When I try to I get the infinite spinning wheel.\n- Can't edit with Content Manager. PUT http://localhost:1337/content-type-builder/models/materials 500 (Internal Server Error)\n- Can't edit with Content Type Builder. TypeError: Cannot read property 'getIn' of undefined\nThe api and graphql works in all crud operations but the admin, which is the best part of strapi, becomes corrupted very easily.\nThe way I see it (and while I've had to learn these limitations after destroy days of work) this is a core problem and something to consider fixing urgently.. Still a problem in 14.5 so for future reference and while It took me a few minutes to go line by line as to understand the correct solution in @mtmsuhail 's post it is to change the following lines in node_modules/strapi-hook-mongoose/lib/utils/index.js to return 'Number' and not Decimal/Float:\ncase 'decimal':\nreturn 'Number';\ncase 'float':\nreturn 'Number';. For me after update GraphQL throws: \"Cannot read property 'isMongoId' of undefined\" in a ManytoMany connection between products & categories.. @derrickmehaffy this is a newly introduced issue with alpha15 very similar to yours. The only problem with graphql in 14.5 was the float and decimals. With 15 graphql is unusable for me. Any recommendations on the changes introduced would be appreciated. It also has something to do with 'dominant': true.\nIf you query the other way around it works sometimes.. BTW, this const hexadecimal = /^[0-9A-F]+$/i; looks wrong.\nIt should contain lowercase too /^[0-9a-fA-F]+$/i right?. Thank you @odelucca.\nSo I need to write a plugin with services, controllers etc just to do a simple query?\nIsn't there any simpler solution?\nMy products model has 70 boolean values (size, spreads count and other variables) and each product has different ones selected like c005, c012, c040 etc.\nRight now I'm checking in a switch loop what value is enabled and return a dynamic model:\nmodule.exports = {\n  afterFetchAll: async (model, results) => {\n    let c002 = await strapi.models.albumsize.find().where({'productdetails':{'code':'c002'}});\n    let c010 = await strapi.models.material.find().populate();\n    let c011 = await strapi.models.material.find({materialsubcategory_eq:{face_off : true}});\n    results.forEach(function (data) {\n      switch (true) {\n        case data.c002:\n          data.albumSize = c002;\n        case data.c010:\n          data.materials = c010;\n        case data.c011:\n          data.materials = c011;\n      }\n    });\n  },\nmy only problem is on how to do specific request queries like the above while keeping it as simple as possible. . ",
    "roonie007": "+1. ",
    "selected-pixel-jameson": "+1\n. ",
    "steampixel": "+1. Any updates here? I just did a strapi generate:plugin my-plugin from within the official strapi-docker container using strapi 3.0.0-alpha.14.5 . After generating the plugin and restarting the server I will get a white page on /admin and the console throws Error: only one instance of babel-polyfill is allowed.\nIf I delete the new generated plugin and restart the server the problem is gone.. Hey, thanks for the advice @situee @soupette. Unfortunately the command throws an error after installing and building a few minutes later:\n```\n/usr/src/api # cd strapi-app/\n/usr/src/api/strapi-app # npm run setup --plugins\n\nstrapi-app@0.1.0 setup /usr/src/api/strapi-app\ncd admin && npm run setup\nstrapi-admin@3.0.0-alpha.14.5 presetup /usr/src/api/strapi-app/admin\nnode ./scripts/preSetup.js\n\n\ud83d\udd53  The setup process can take few minutes.\n\ud83d\udd38  Administration Panel\n\ud83d\udce6  Installing packages...\nPackaged installed successfully\n\nstrapi-admin@3.0.0-alpha.14.5 setup /usr/src/api/strapi-app/admin\nnode ./scripts/setup.js\n\n\ud83c\udfd7  Building the admin...\n(node:515) DeprecationWarning: collection.ensureIndex is deprecated. Use createIndexes instead.\nnpm ERR! code ELIFECYCLE\nnpm ERR! errno 2\nnpm ERR! strapi-admin@3.0.0-alpha.14.5 build: APP_PATH=$APP_PATH npm run build:dll && node ./node_modules/strapi-helper-plugin/node_modules/.bin/cross-env NODE_ENV=production IS_ADMIN=true node ./node_modules/strapi-helper-plugin/node_modules/.bin/webpack --config ./node_modules/strapi-helper-plugin/lib/internals/webpack/webpack.prod.babel.js --color -p --progress\nnpm ERR! Exit status 2\nnpm ERR!\nnpm ERR! Failed at the strapi-admin@3.0.0-alpha.14.5 build script.\nnpm ERR! This is probably not a problem with npm. There is likely additional logging output above.\nnpm ERR! A complete log of this run can be found in:\nnpm ERR!     /root/.npm/_logs/2018-12-19T08_58_24_432Z-debug.log\nnpm ERR! code ELIFECYCLE\nnpm ERR! errno 1\nnpm ERR! strapi-admin@3.0.0-alpha.14.5 setup: node ./scripts/setup.js\nnpm ERR! Exit status 1\nnpm ERR!\nnpm ERR! Failed at the strapi-admin@3.0.0-alpha.14.5 setup script.\nnpm ERR! This is probably not a problem with npm. There is likely additional logging output above.\nnpm ERR! A complete log of this run can be found in:\nnpm ERR!     /root/.npm/_logs/2018-12-19T08_58_24_471Z-debug.log\nnpm ERR! code ELIFECYCLE\nnpm ERR! errno 1\nnpm ERR! strapi-app@0.1.0 setup: cd admin && npm run setup\nnpm ERR! Exit status 1\nnpm ERR!\nnpm ERR! Failed at the strapi-app@0.1.0 setup script.\nnpm ERR! This is probably not a problem with npm. There is likely additional logging output above.\nnpm ERR! A complete log of this run can be found in:\nnpm ERR!     /root/.npm/_logs/2018-12-19T08_58_24_491Z-debug.log\n```\nMaybe this has something todo with my Windwos host machine, with wrong permissions or the filesystem. I have encountered seveal similar errors when working with docker and nodejs on Windows using other frameworks and libs. I will switch to Ubuntu next year and try it again.. ",
    "tsan": "\nHi @niallobrien you'll have to modify the content-type-builder plugin and the content-manager plugins.\nIn order to do so you have to start your project in development mode\nSteps to display your new input in the content type builder\n\nTo display your new field you'll have to add it in the /plugins/content-type-builder/admin/src/containers/Form/forms.jsonfile.\nYou'll have to add the corresponding translations in the /plugins/content-type-builder/admin/src/translations folder\nFrom now on you're able to display your new attribute in the plugin (this might have an impact on the plugin's component)\nYou won't have to modify the actions or reducer of the plugin's front-end part.\n\nUse your new type in the content manager\n\nIn the content manager plugin you'll have to modify the Edit container and its children in order to display your new field type.\nYou'll have to either create a new input type in the strapi-helper-plugin/src/components/Input/index.js file or a new Input directly in your plugin's admin/src/components folder and import it in the content-manager/admin/src/admin/components/EditForm/index.js file.\n\nAdding a new type is not optimal at the moment you might have to modify the core of this two plugins.\n\nHi,\nI try your way but when, on the admin, I add the custom field and save, the server stopped.\nThere is the error: UnhandledPromiseRejectionWarning: TypeError: Invalid value for schema path Email.type\nI look to where the schema is generated and I can't find it.\nI'm start strapi with MongoDB and looking to have custom field in Object format.\nThanks,. ",
    "cwahlfeldt": "+1 need this so I can kill off wordpress + acf please \ud83d\udc4d. ",
    "subhero24": "I still get the same error on alpha.10.1 when choosing sqlite3. Just wanted a quick view what strapi was all about, so i choose the db with the least amount of setup being sqlite. But it resulted in the error described. Have no installations of mysql/postgres, so can't comment on it.\nI also found it strange that it asked a host and port when selecting sqlite3.. Running MacOS 10.13 High Sierra. I feel the same way. Not supporting SQLite has also stopped me from trying out strapi. SQLite lowers the barrier for entry significantly, and is even enough for most use cases beyond tryout.. ",
    "radmen": "@lauriejim @ArkhipovK I've tested alpha.10.1\nHere are some results:\n\nmysql database: strapi creates new app, no error, also no tables (it doesn't create anything). strapi start failes with something like this:\n\n```\n$ strapi start\n\u26a0\ufe0f  TABLE core_store DOESN'T EXIST\nCREATE TABLE core_store (\n  id INT AUTO_INCREMENT NOT NULL PRIMARY KEY,\n  key text,\n  value text,\n  environment text,\n  type text,\n  tag text\n);\nALTER TABLE core_store ADD COLUMN parent integer, ADD FOREIGN KEY (parent) REFERENCES core_store(id);\n```\n\npostgres failed on strapi new (though it's a totally different issue):\n\n```\nINFO (27390 on amon-ereb.local): Creating your application... It might take a few seconds.\nINFO (27390 on amon-ereb.local): Lets configurate the connection to your database:\n Choose your main database: Postgres\n Database name: (strapi) post\nmodule.js:544\n    throw err;\n    ^\nError: Cannot find module '/Users/radmen/tmp/tmp/node_modules/pg/package.json'\n```\n\nsqlite3 strapi keeps asking me about... connection details\n\n$ strapi new strapi-sqlite3\nINFO (27451 on amon-ereb.local): Creating your application... It might take a few seconds.\nINFO (27451 on amon-ereb.local): Lets configurate the connection to your database:\n Choose your main database: Sqlite3\n Database name: strapi\n Host: 127.0.0.1\n Port: 1433\n Username:\n Password:\nINFO (27451 on amon-ereb.local): Testing database connection...\nKnex:warning - sqlite does not support inserting default values. Set the `useNullAsDefault` flag to hide this warning. (see docs http://knexjs.org/#Builder-insert).\nWARN (27451 on amon-ereb.local): Database connection has failed! Make sure your database is running.\n Choose your main database: Sqlite3\n Database name: ./test.sqlite\n Host: 127.0.0.1\n Port: 1433\n Username:\n Password:\nINFO (27451 on amon-ereb.local): Testing database connection...\nKnex:warning - sqlite does not support inserting default values. Set the `useNullAsDefault` flag to hide this warning. (see docs http://knexjs.org/#Builder-insert).\nWARN (27451 on amon-ereb.local): Database connection has failed! Make sure your database is running.\n Choose your main database: (Use arrow keys)\n  MongoDB (highly recommended)\n  Postgres\n  MySQL\n\u276f Sqlite3\n  Redis. @derrickmehaffy I'm not sure if this is MacOS related. I've tried to run cli tool on Docker's node env (node:9.2-alpine) and it still keeps asking me for sqlite connection details :). @derrickmehaffy I'm talking here about SQLite. There should be a different \"connection settings\" prop.\nIn knex this config looks more like this:\nvar knex = require('knex')({\n  client: 'sqlite3',\n  connection: {\n    filename: \"./mydb.sqlite\"\n  }\n});\nMy issue was originally intended to show only this problem (lack of different project setup for SQLite). Later it turned out that there're problems with MySQL/PSQL dbs.. ",
    "ibc": "Same here.\n\nMac OS High Sierra 10.13.3\nstrapi: 3.0.0-alpha.10.2. \n",
    "micahscopes": "I'm also having this issue on Linux with Strapi 3.0.0-alpha.10.2. I just wanted to chime in and say \"sad!\"  I hope some day there's room for sqlite or something like it!. ",
    "crazyx13th": "Same here. \nWin 10 \nnode: 9.5.0 + npm 5.6.0\nstrapi: 3.0.0-alpha.10.3\nI cant start the server and test :-/\nthx! (why issue is closed?)\n\n. ",
    "yashha": "Thats sad, it is a good way to quickstart.\nI liked that about django. you start it, it runs and eventually you switch to mysql.. ",
    "GerhardMes": "sad to hear that.. ",
    "gnpretorius": "@lauriejim \nI think this is a mistake. MySQL, Postgre & MongoDB are complete overkill for 90% of use cases out there. Also, having a development version which is completely isolated and self contained goes a long way in help evaluating the framework as well as spiking out new work. \nFor the additional 5% effort needed to support Sqllite (I'm assuming most of the data access is abstracted through a common library) you would open it up to 50% more use cases. \nYou should reconsider this. I know this decision has deterred me from trying out strapi so I would imagine outer people feel similarly. It does look awesome though :). ",
    "pkail": "Does anything work in Strapi?  The install fks up, the very first example in the documentation fks up.  It doesn't work with Node 10, it doesn't work with Node <10.. If it doesn't work on Windows why doesn't it say so on the GitHub page, to stop people wasting hours of their time?  Why doesn't it say that it doesn't install with Yarn?  It also has a large list of unsupported dependencies, even when it does install.\nThe database setup wouldn't work unless I downgraded my Node version to 8.  Then the document type wouldn't save unless I upgraded my Node version to 10 or reinstalled my entire operating system.  And when the document type failed to save the error was less than helpful. \nIf there's one version of the stack which actually does work I would be more than happy to give it another go.  I would love it to work: I've been searching for days for something like this.  It looks much more elegant than Ghost, and it would be great to have something running on Postgres.  But it's hard to have any confidence in it.  There are no demos, no usable tutorials and breaking errors which are almost a year old.. Node projects normally work equally well on any platform, so that's what people expect. If it doesn't work using Windows or Yarn that's fine: it would just be helpful if it said this.  . ",
    "Mr-Chilly": "Update, \n\nPost Categories has and belongs to many Posts \n\nworks just fine. after more investigation, I've found where I was going wrong.\nI've two related types; products and categories - and was calling the category API for a selection of related products. Relation only works once so as media is a relation it only works calling the type directly... So:\n/products -> {title: 'dave', images: '/image-path-and-other-data', category: 'cheese'}\n/category -> {title: 'cheese', products: {\n                           title: 'dave'\n                           images: null\n                      }}\nThis isn't ideal so I'd like to update my original post to a feature request:\n\ntreat media as an exception to the relationship rule and include it wherever that type's data is requested\ngive the users the option to choose if the nested relations work. ('Include child's relations' tickbox when creating the relation maybe?)\n\n. I don't think so - it definitely could be the problem! I have always been on 3.x - Im just looking for the original version now:\ninitial commit:\n\"devDependencies\": {\n    \"babel-eslint\": \"^7.1.1\",\n    \"eslint\": \"^3.12.2\",\n    \"eslint-config-airbnb\": \"^13.0.0\",\n    \"eslint-plugin-import\": \"^2.2.0\",\n    \"eslint-plugin-react\": \"^6.8.0\"\n  },\n  \"dependencies\": {\n    \"lodash\": \"4.x.x\",\n    \"strapi\": \"3.0.0-alpha.13.1\",\n    \"strapi-hook-mongoose\": \"3.0.0-alpha.13.1\"\n  }\ncurrent: \n\"devDependencies\": {\n    \"babel-eslint\": \"^7.1.1\",\n    \"jest\": \"^23.6.0\",\n    \"lint-staged\": \"4.2.2\",\n    \"prettier\": \"1.7.0\",\n    \"prettier-eslint\": \"8.8.2\",\n  },\n  \"dependencies\": {\n    \"lodash\": \"4.x.x\",\n    \"moment\": \"^2.23.0\",\n    \"strapi\": \"3.0.0-alpha.24.1\",\n    \"strapi-email-mailgun\": \"^3.0.0-alpha.14.5\",\n    \"strapi-hook-mongoose\": \"^3.0.0-alpha.24.1\",\n    \"strapi-provider-email-mailgun\": \"^3.0.0-alpha.24.1\",\n    \"strapi-upload-cloudinary\": \"^3.0.0-alpha.14.5\",\n    \"yup\": \"^0.26.10\"\n  }\n. ",
    "borg": "Came across this issue when creating relationship when not both Content Types were yet saved (although still available in frontend). Deleting attribute flag in xxx.settings.json, restarting, saving both Content Types, then creating relationships worked.. ",
    "Globerada": "Hi.\nI am experiencing the same error.\nerror Something went wrong in the model `Category` with the attribute `website`\nerror Cannot read property 'hasOwnProperty' of undefined\nI have a model Website which should have several categories:\n\nwebsite.settings.json:\n{\n  \"connection\": \"default\",\n  \"collectionName\": \"website\",\n  \"info\": {\n    \"name\": \"website\",\n    \"description\": \"\"\n  },\n  \"options\": {\n    \"timestamps\": true\n  },\n  \"attributes\": {\n    \"name\": {\n      \"default\": \"\",\n      \"type\": \"string\",\n      \"required\": true\n    },\n    \"description\": {\n      \"default\": \"\",\n      \"type\": \"text\"\n    }\n  }\n}\nCategory.settings.json\n{\n  \"connection\": \"default\",\n  \"collectionName\": \"category\",\n  \"info\": {\n    \"name\": \"category\",\n    \"description\": \"\"\n  },\n  \"options\": {\n    \"timestamps\": true\n  },\n  \"attributes\": {\n    \"name\": {\n      \"default\": \"\",\n      \"type\": \"string\"\n    },\n    \"slug\": {\n      \"default\": \"\",\n      \"type\": \"string\"\n    },\n    \"description\": {\n      \"default\": \"\",\n      \"type\": \"text\"\n    },\n    \"website\": {\n      \"model\": \"website\",\n      \"via\": \"categories\"\n    }\n  }\n}\nAny ideas? . 14.4.0 alpha.\nFor this I just followed your tutorial on the relation for restaurant - dishes.\nBut now, I can't edit or add new models because off the bug of the blank screen in \"/#create::contentType::baseSettings\". So I am waiting. Until new fix, go to folder plugins\\graphql.\nThen,npm install graphql@git://github.com/graphql/graphql-js.git#npm. Same issue here. Itis strange, because my app deployed at Heroku shows the content types :S\n\nBTW, at localhost, only users type is show.. https://github.com/strapi/strapi/issues/2213. I think is related to https://github.com/strapi/strapi/issues/2213. ",
    "satriowisnugroho": "you're welcome @lauriejim \ud83d\ude04 . ",
    "acoreyj": "Was something done here because I am seeing a different issue. Saving json data from the admin panel saves to the database as a string instead of as json.\n\n\n\n. Under guest permissions you can set the isauthenticated policy to any permission to do this. ",
    "Joshfindit": "Having a different but related issue: saving a json object in the content manager is changing it to [object Object] (see #970). @lauriejim; For users who are fresh to the node ecosystem, could you do explain how they would hook a script in and be able to use that await strapi.services.product.add(entryObject); successfully?. @Aurelsicoko If it were 'import existing data' instead of just CSV import, it would probably be ranked higher. Many of us know how convert our existing data to CSV and import, but others might only vote if they see more general terms.. @lauriejim I checked again, and cannot find a duplicate of this issue. Can someone please connect the two?. @lauriejim excellent, thank you.. ",
    "raza2022": "@soupette can you elaborate some more please so it's so nice of you :+1: \nactually I implemented the above mentioned code but no change reflected in display, then I just commented the edit component in content manager still no change :(\nI am confused that from where edit page rendering in content manager.\nhelp will be greatly appreciated I I will try to make pull request for it if able to do it for others   . @derrickmehaffy yes I know that usual for fast paced development project :+1: \njust one more thing I reproduced the same for linux machine and result exactly same might it help to diagnose the real problem :1st_place_medal:  . @lauriejim \n\nthat the actual case :) actually I want to update content-type-builder plugin to support json types as you can see above. when I event failed to event make build for it then I go with new plugin development to just clone content-type-builder with my customization to support json type.\nlet me know if you have any idea of easy to to achieve it many thanks for great work of team :+1: . @derrickmehaffy ok I will test is on linux machine today then update the issue. BTW thanks for prompt responses :+1: . ok after switching to Linux I made it working, that comment will help a lot :+1: \nhttps://github.com/strapi/strapi/issues/680#issuecomment-381018295. ",
    "Froelund": "I've fiddled around with the styles, and adding display: initial to the li element fixes the issue.. Had the exact same issue. Fixed by removing my package-lock.json and running npm i.. I need to change the value of prettyPrint. I'm deploying my api to Heroku, and using LogDNA for log analysis, that doesn't handle newlines.. Thanks for the review @lauriejim and @Aurelsicoko . I will update the documentation.. I've split up the documentation/code in what relates to the global logger, and what is the request logger middleware.\nI think we have a \"todo\", to create a logger factory, which enables us to move the global logger configuration into json files as everything else. The problem is, that the logging configuration has to be ready when the logger is required by Strapi as it's currently designed.. Can you verify that the PR fixed this issue @wadeziegler ?. Yes, I would say that this PR solves #883 .\nSorry I kind of didn't follow the process here, but I just encountered the issue after an update, and dug into the code to fix it.. I just the same problem. For me, the issue was that the form being submitted exceeded the allowed limit for a form.\nLuckily this can be configured for strapi in request.json configuration.\nIn the parser section you can define these limits:\n...\n  \"parser\": {\n    \"enabled\": true,\n    \"multipart\": true,\n    \"formLimit\": \"5mb\",\n    \"jsonLimit\": \"5mb\"\n  }\n.... I needed this as well, and I've started making a plugin. There's still a lot of optimisations and testing to be done, so please don't use it in production just yet.\nAny feedback is welcome :)\nhttps://github.com/Froelund/strapi-plugin-images. The default strapi database configuration sets the database to 'strapi-production' if the DATABASE_NAME is not set.\nWhen running on heroku though your database name dictated by the database provider, e.g. Mongolab.\nSo what you need to do is either add the DATABASE_NAME environment variable in heroku. Or modify config/environments/production/database.json file from\n// ...\n\"database\": \"${process.env.DATABASE_NAME || 'strapi-production'}\",\n// ...\nTo:\n// ...\n\"database\": \"${process.env.DATABASE_NAME}\",\n// .... @lauriejim This is marked as help-wanted. Could you be specific on what to help with?. ",
    "trustlee": "You might consider this a higher priority as virtually all first-time users run into it or a similar UI/process oddity when creating first content type.. ",
    "gonzochic": "To be honest, this is a breaking change for Strapi (isn't it?). At least it might be smart to version the API. For me it is breaking the ecosystem that i have built to work with Strapi + other things in your ecosystem (see https://github.com/strapi/gatsby-source-strapi/pull/26). @derrickmehaffy i have to admit, you are right. It is an alpha version and therefore the API can/will break.. @sontranhcm \nI have the same issue on Linux (Ubuntu 16.04).\nI have a required filed of type decimal, and it errors when I am adding new items\nbash\n[2018-12-23T08:30:09.852Z] debug POST /products (51 ms)\n{ ValidationError: Product validation failed: price: this.constructor._checkRequired is not a function\n    at ValidationError.inspect (/home/admin/clickr/node_modules/mongoose/lib/error/validation.js:59:24)\n    at formatValue (util.js:561:31)\n    at inspect (util.js:371:10)\n    at Object.formatWithOptions (util.js:225:12)\n    at Console.(anonymous function) (console.js:193:15)\n    at Console.warn (console.js:210:31)\n    at strapi.app.use (/usr/lib/node_modules/strapi/lib/middlewares/boom/index.js:34:19)\n    at process._tickCallback (internal/process/next_tick.js:68:7)\n  errors:\n   { price:\n      { ValidatorError: this.constructor._checkRequired is not a function\n          at new ValidatorError (/home/admin/clickr/node_modules/mongoose/lib/error/validator.js:29:11)\n          at validate (/home/admin/clickr/node_modules/mongoose/lib/schematype.js:893:13)\n          at /home/admin/clickr/node_modules/mongoose/lib/schematype.js:946:11\n          at Array.forEach (<anonymous>)\n          at Float.SchemaType.doValidate (/home/admin/clickr/node_modules/mongoose/lib/schematype.js:902:19)\n          at /home/admin/clickr/node_modules/mongoose/lib/document.js:1920:9\n          at process._tickCallback (internal/process/next_tick.js:61:11)\n        message: 'this.constructor._checkRequired is not a function',\n        name: 'ValidatorError',\n        properties: [Object],\n        kind: 'required',\n        path: 'price',\n        value: 2.98,\n        reason:\n         TypeError: this.constructor._checkRequired is not a function\n             at Float.checkRequired (/home/admin/clickr/node_modules/mongoose/lib/schema/number.js:140:27)\n             at model.requiredValidator (/home/admin/clickr/node_modules/mongoose/lib/schematype.js:695:18)\n             at /home/admin/clickr/node_modules/mongoose/lib/schematype.js:928:28\n             at Array.forEach (<anonymous>)\n             at Float.SchemaType.doValidate (/home/admin/clickr/node_modules/mongoose/lib/schematype.js:902:19)\n             at /home/admin/clickr/node_modules/mongoose/lib/document.js:1920:9\n             at process._tickCallback (internal/process/next_tick.js:61:11),\n        [Symbol(mongoose:validatorError)]: true } },\n  _message: 'Product validation failed',\n  name: 'ValidationError' }\nNode.js version: 10.10\nNPM version: 6.4.1\nStrapi version: 3.0.0-alpha.17\nDatabase: MongoDB version 4.0.2\nRemoving the \"required\" checkbox fixes the issue.. ",
    "smachs": "@lauriejim WOW Resolved! Many thanks, I'm sorry if this question sounded like a newbie, I'm still learning to manipulate the Strapi, great work!!. ",
    "ntloi95": "\nEverything is working properly now.\n\nWhat did you do to fix it? . Had the exact same issue. Fixed by removing package-lock.json and running npm i, too. I have the same problem with postgres. In your generated app you can run:\nnpm i it install all node modules in your project, admin and plugins\nnpm run setup --plugins it build admin and all plugins. ",
    "lucasdu4rte": "thanks my friend npm link strapi-helper-plugin it's work!\nbut there is still a problem\n```\n\nstrapi-admin@3.0.0-alpha.8 start /usr/local/lib/node_modules/strapi/node_modules/strapi-admin\nnode ./node_modules/strapi-helper-plugin/node_modules/.bin/cross-env NODE_ENV=development PORT=4000 IS_ADMIN=true node ./node_modules/strapi-helper-plugin/lib/server\n\nStrapi plugin succesfully started in development mode. \u2713\n\nAccess URL: http://localhost:4000\nPress CTRL-C to stop\n(node:26904) DeprecationWarning: loaderUtils.parseQuery() received a non-string value which can be problematic, see https://github.com/webpack/loader-utils/issues/56\nparseQuery() will be replaced with getOptions() in the next major version of loader-utils.\nwebpack built 6084a2aada7a15f72c3f in 10623ms\n```\nafter I start the server, access the localhost:4000 link, but returns this gigantic error\nerror.txt\n. @soupette \nYes, as it is in the documentation.\nI did everything the same as the documentation, just to see if it was the complexity. ",
    "wsalazar-peakactivity": "Any resolution on this? 3.0.0-alpha.14 and I'm still getting this. Not sure why this issue was closed.. Thanks @lauriejim Downgrading to 0.13.2 solved the problem.. ",
    "yeomann": "same thing, i don't know why it is closed?\n```\n\u00a0danishreza\u00a0\ue0b0\u00a0~\u00a0\ue0b1\u00a0Develpoment\u00a0\ue0b1\u00a0ServerDev\u00a0\ue0b0\u00a0strapi new test --dev\n\ud83d\ude80 Start creating your Strapi application. It might take a minute, please take a coffee \u2615\ufe0f\n\ud83e\udd84 Dev mode is activated!\nLets configurate the connection to your database:\n? Choose your main database: MongoDB\n? Database name: test\n? Host: 127.0.0.1\n? +srv connection: false\n? Port (It will be ignored if you enable +srv): 27017\n? Username: \n? Password: \n? Authentication database (Maybe \"admin\" or blank): \n? Enable SSL connection: false\n\u23f3 Testing database connection...\nThe app has been connected to the database successfully!\n\ud83c\udfd7  Application generation:\n\u2714 Copy dashboard\n\u2714 Install plugin settings-manager.\n\u2714 Install plugin content-type-builder.\n\u2714 Install plugin content-manager.\n\u2714 Install plugin users-permissions.\n\u2714 Install plugin email.\n\u2714 Install plugin upload.\n\u2714 Link strapi dependency to the project.\n\u2714 Link strapi-hook-mongoose dependency to the project.\n\ud83d\udc4c Your new application test is ready at /Users/danishreza/Develpoment/ServerDev/test.\n\u26a1\ufe0f Change directory:\n$ cd test\n\u26a1\ufe0f Start application:\n$ strapi start\n\u00a0danishreza\u00a0\ue0b0\u00a0~\u00a0\ue0b1\u00a0Develpoment\u00a0\ue0b1\u00a0ServerDev\u00a0\ue0b0\u00a0cd test/\n\u00a0danishreza\u00a0\ue0b0\u00a0~\u00a0\ue0b1\u00a0Develpoment\u00a0\ue0b1\u00a0ServerDev\u00a0\ue0b1\u00a0test\u00a0\ue0b0\u00a0strapi start\n[2019-01-19T10:54:31.628Z] error ENOENT: no such file or directory, stat '/Users/danishreza/Develpoment/ServerDev/test/plugins/content-manager'\n\u00a0danishreza\u00a0\ue0b0\u00a0~\u00a0\ue0b1\u00a0Develpoment\u00a0\ue0b1\u00a0ServerDev\u00a0\ue0b1\u00a0test\u00a0\ue0b0\u00a0strapi -v\n3.0.0-alpha.18\n\u00a0danishreza\u00a0\ue0b0\u00a0~\u00a0\ue0b1\u00a0Develpoment\u00a0\ue0b1\u00a0ServerDev\u00a0\ue0b1\u00a0test\u00a0\ue0b0\u00a0cd admin\n\u00a0danishreza\u00a0\ue0b0\u00a0\u2026\u00a0\ue0b1\u00a0ServerDev\u00a0\ue0b1\u00a0test\u00a0\ue0b1\u00a0admin\u00a0\ue0b0\u00a0cd ..\n\u00a0danishreza\u00a0\ue0b0\u00a0~\u00a0\ue0b1\u00a0Develpoment\u00a0\ue0b1\u00a0ServerDev\u00a0\ue0b1\u00a0test\u00a0\ue0b0\u00a0cd plugins/\n\u00a0danishreza\u00a0\ue0b0\u00a0\u2026\u00a0\ue0b1\u00a0ServerDev\u00a0\ue0b1\u00a0test\u00a0\ue0b1\u00a0plugins\u00a0\ue0b0\u00a0ls -la\ntotal 48\ndrwxr-xr-x   8 danishreza  staff  272 Jan 19 12:53 .\ndrwxr-xr-x  16 danishreza  staff  544 Jan 19 12:53 ..\nlrwxr-xr-x   1 danishreza  staff   57 Jan 19 12:53 content-manager -> /usr/local/lib/node_modules/strapi-plugin-content-manager\nlrwxr-xr-x   1 danishreza  staff   62 Jan 19 12:53 content-type-builder -> /usr/local/lib/node_modules/strapi-plugin-content-type-builder\nlrwxr-xr-x   1 danishreza  staff   47 Jan 19 12:53 email -> /usr/local/lib/node_modules/strapi-plugin-email\nlrwxr-xr-x   1 danishreza  staff   58 Jan 19 12:53 settings-manager -> /usr/local/lib/node_modules/strapi-plugin-settings-manager\nlrwxr-xr-x   1 danishreza  staff   48 Jan 19 12:53 upload -> /usr/local/lib/node_modules/strapi-plugin-upload\nlrwxr-xr-x   1 danishreza  staff   59 Jan 19 12:53 users-permissions -> /usr/local/lib/node_modules/strapi-plugin-users-permissions\n\u00a0danishreza\u00a0\ue0b0\u00a0\u2026\u00a0\ue0b1\u00a0ServerDev\u00a0\ue0b1\u00a0test\u00a0\ue0b1\u00a0plugins\u00a0\ue0b0\u00a0ls -la /usr/local/lib/node_modules/\ntotal 0\ndrwxr-xr-x   7 root        wheel   238 Jan 11 18:06 .\ndrwxrwxr-x  34 danishreza  admin  1156 Jan 11 18:29 ..\ndrwxr-xr-x   9 root        wheel   306 Dec 23 22:35 expo-cli\ndrwxr-xr-x  12 root        wheel   408 Dec  4 20:41 flow-bin\ndrwxr-xr-x  23 root        wheel   782 Nov 28 01:57 npm\ndrwxr-xr-x   6 root        wheel   204 Nov 28 13:35 react-native-cli\ndrwxr-xr-x  10 root        wheel   340 Jan 11 18:06 strapi\n\u00a0danishreza\u00a0\ue0b0\u00a0\u2026\u00a0\ue0b1\u00a0ServerDev\u00a0\ue0b1\u00a0test\u00a0\ue0b1\u00a0plugins\u00a0\ue0b0\u00a0\n```. EDIT: so the solution involves correcting all links. (so many days struggles :/ ) \ud83d\ude04 \n```\n\u00a0danishreza\u00a0\ue0b0\u00a0~\u00a0\ue0b1\u00a0Develpoment\u00a0\ue0b1\u00a0ServerDev\u00a0\ue0b1\u00a0Testing\u00a0\ue0b0\u00a0strapi start\n[2019-01-19T12:58:40.684Z] error ENOENT: no such file or directory, stat '/Users/danishreza/Develpoment/ServerDev/Testing/plugins/content-type-builder'\n\u00a0danishreza\u00a0\ue0b0\u00a0~\u00a0\ue0b1\u00a0Develpoment\u00a0\ue0b1\u00a0ServerDev\u00a0\ue0b1\u00a0Testing\u00a0\ue0b0\u00a0ln -nfs ~/Develpoment/ServerDev/strapi/packages/strapi-plugin-content-type-builder/  ./plugins/content-type-builder \n\u00a0danishreza\u00a0\ue0b0\u00a0~\u00a0\ue0b1\u00a0Develpoment\u00a0\ue0b1\u00a0ServerDev\u00a0\ue0b1\u00a0Testing\u00a0\ue0b0\u00a0strapi start\n[2019-01-19T12:59:03.480Z] error ENOENT: no such file or directory, stat '/Users/danishreza/Develpoment/ServerDev/Testing/plugins/email'\n\u00a0danishreza\u00a0\ue0b0\u00a0~\u00a0\ue0b1\u00a0Develpoment\u00a0\ue0b1\u00a0ServerDev\u00a0\ue0b1\u00a0Testing\u00a0\ue0b0\u00a0ln -nfs ~/Develpoment/ServerDev/strapi/packages/strapi-plugin-email/  ./plugins/email \n\u00a0danishreza\u00a0\ue0b0\u00a0~\u00a0\ue0b1\u00a0Develpoment\u00a0\ue0b1\u00a0ServerDev\u00a0\ue0b1\u00a0Testing\u00a0\ue0b0\u00a0strapi start\n[2019-01-19T12:59:27.294Z] error ENOENT: no such file or directory, stat '/Users/danishreza/Develpoment/ServerDev/Testing/plugins/settings-manager'\n\u00a0danishreza\u00a0\ue0b0\u00a0~\u00a0\ue0b1\u00a0Develpoment\u00a0\ue0b1\u00a0ServerDev\u00a0\ue0b1\u00a0Testing\u00a0\ue0b0\u00a0ln -nfs ~/Develpoment/ServerDev/strapi/packages/strapi-plugin-settings-manager/  ./plugins/settings-manager \n\u00a0danishreza\u00a0\ue0b0\u00a0~\u00a0\ue0b1\u00a0Develpoment\u00a0\ue0b1\u00a0ServerDev\u00a0\ue0b1\u00a0Testing\u00a0\ue0b0\u00a0strapi start\n[2019-01-19T12:59:48.155Z] error ENOENT: no such file or directory, stat '/Users/danishreza/Develpoment/ServerDev/Testing/plugins/upload'\n\u00a0danishreza\u00a0\ue0b0\u00a0~\u00a0\ue0b1\u00a0Develpoment\u00a0\ue0b1\u00a0ServerDev\u00a0\ue0b1\u00a0Testing\u00a0\ue0b0\u00a0ln -nfs ~/Develpoment/ServerDev/strapi/packages/strapi-plugin-upload/  ./plugins/upload \n\u00a0danishreza\u00a0\ue0b0\u00a0~\u00a0\ue0b1\u00a0Develpoment\u00a0\ue0b1\u00a0ServerDev\u00a0\ue0b1\u00a0Testing\u00a0\ue0b0\u00a0strapi start\n[2019-01-19T13:00:09.770Z] error ENOENT: no such file or directory, stat '/Users/danishreza/Develpoment/ServerDev/Testing/plugins/users-permissions'\n\u00a0danishreza\u00a0\ue0b0\u00a0~\u00a0\ue0b1\u00a0Develpoment\u00a0\ue0b1\u00a0ServerDev\u00a0\ue0b1\u00a0Testing\u00a0\ue0b0\u00a0ln -nfs ~/Develpoment/ServerDev/strapi/packages/strapi-plugin-users-permissions/  ./plugins/users-permissions \n\u00a0danishreza\u00a0\ue0b0\u00a0~\u00a0\ue0b1\u00a0Develpoment\u00a0\ue0b1\u00a0ServerDev\u00a0\ue0b1\u00a0Testing\u00a0\ue0b0\u00a0strapi start\n``\n. @Aurelsicoko ok. let me see if i can get some progress. first i would need to put some console log's and git clone my repo of strapi to understand the console logs. Is there any faster method to test/debug? because its take ages to first install and link plugins when i runnpm run setup`\nEDIT: i can't reach to my console log's. is there any way we could chat on slack. I might sound silly but In order to fix this problem i would need a little elaboration on the how system is working or how files are being called at which stag. i will appreciate your time very much! . thanks, After making some changes via --dev i created the build and ran into babe-poylfill issue. after doing npm run setup --plugins admin panel is resolved finally so now i can login.. ok the solution that i found is... let me explain first.\nso i created a --dev version, Created 1 test content-type and added few fields in it. Did logo changes and created a build afterwards. Next upon staring server, I had babel-polyfill issue, after resolving it (https://github.com/strapi/strapi/issues/514#issuecomment-453684059) on Dashboard i saw my previously created Data-type and i tried to create a post. Upon pressing \"saving\" it was infinitely loading and eventually gave error.\nSolution: Just go to your Content-Type Manager > Choose previously created Content-type > Re \"save\" it. Now i was able to correctly create/edit/delete my post.\nFinal thoughts i feel like changes related to Content-type at the time of --dev were not tracked correctly, or there entries were missing from DB.. ",
    "sashank": "Please ignore i was using older version of Node , i upgraded it now and its working fine ! . ",
    "clowNay": "I did not start the project in dev mode no.\nYes I had it running on another computer first, where I from there created a GitHub repository and then afterwards pulled it down to another. That's when it stopped working, it still works on the other one though.. Was an issue with file permissions\n. ",
    "mortendybdal": "Hi @clowNay \nHow did you manage to solve the problem with the \"only one instance of babel-polyfill is allowed\"-error?\nI have no problem running Strapi on localhost, but as soon as I deploy it to Heroku, the issue pops up.  I'm redirected to /admin/plugins/users-permissions/auth/register and it shows a blank white screen with the exact same errors in my console as above. \nI'm using a mongodb running on compose.io, but other than I'm simply following https://blog.strapi.io/deploying-a-strapi-api-on-heroku/. Any help or suggestions would be great!\n. Hi @lauriejim,\nYes I followed the instructions in the article - but I used a database from Compose.io instead of mLab. I have also tried to use mLab to see is that made any difference, but that is not the case.\n\n. Seems like @asharamseervi have experienced kind of the same behaviour (See bug #771  - even though his comment is in a bug threat where it does not belong)\n. ",
    "Duske": "Hey folks,\nI had the same problem and could solve it by running npm run setup --plugins in the strapi directory.\nMaybe it works for some of you as well!\n. Is it still correct that  strapi-mongoose has version 3.0.0-alpha.12 in package.json?. You're absolutely right, sorry!\n. ",
    "Norbz": "same issue here. Deployed on a VPS.\nTried to run setup with --plugins but ended up getting an error (even on local)\nWhen running setup on my VPS, I get no error, but then the admin panel can't be accessed.. @soupette My current strapi version is strapi@3.0.0-alpha.12.1.3\nResolved it for now by removing the build folder from the npmignore, this way my CI pushes the build folder onto the production server.\nThis is my first try with strapi, coming from keystoneJS, but I find it very confusing to push the builded admin to git, and not on npm package, but I understand this allows to deploy the API without any admin if needed, which is nice.. ",
    "Restry": "@soupette  i have same problem .  if i have run 'strapi new projectname' in my home mac, it running good . so i push it to my github. i pull my repo when i'm go to office mac with save env. now problem it coming , how can i run it ?\ni have try\nnpm install npm run setup npm start\ni can open admin panel . but the plugin its missing . content type it's missing .\nso do we support this ? anybody help me ? thanks :(. @derrickmehaffy @Aurelsicoko  if i have run 'strapi new projectname' in my home mac, it running good . so i push it to my github. i pull my repo when i'm go to office mac with save env.  now problem it coming , how can i run it ?\ni have try \nnpm install\nnpm run setup \nnpm start\ni can open admin panel . but the plugin its missing . content type it's missing .\nso do we support this ?  anybody help me ? thanks :(\n. \u96be\u9053\u6ca1\u4eba\u89c9\u5f97\u8fd9\u4e2a\u9879\u76ee\u5b9e\u5728\u662f\u5f88\u6d6a\u8d39\u4eba\u7684\u65f6\u95f4\u5417? \u867d\u7136\u529f\u80fd\u770b\u4f3c\u975e\u5e38\u597d. . @henrych4  https://strapi.io/documentation/getting-started/installation.html#requirements i have find the requirement here .  it there no update ?. @derrickmehaffy thanks for your reply . I tried this product six months ago, and there are various problems. lose the data or not update it, so I complained. Sorry.   \nbut  it's really , the function of this product is very useful. okay , i'll try again with npm . \nI have been looking for such a tool, maybe it was too high for me before.. @derrickmehaffy Which version is the most stable? I want to use it in the project to be carried out immediately.. ok thanks :) \ud83d\udc4d . i have resolve this issue after run this \nnpm run setup --plugins. okay thansk. ",
    "situee": "@steampixel  I ran npm run setup --plugins at the project root, and problem solved. Please try it.. ",
    "mittalyashu": "Facing the same issue.. > A quick fix is to open NODEINSTALL\\npm\\node_modules\\strapi\\node_modules\\strapi-generate-new\\lib\\before.js\nAnd where can I find this NODEINSTALL directory?. After updating got this error.\n\n. Got it.. Still not working, getting the same error.\n\n. When I tried to change the database to MySQL, then I got this error.\n\n. Still not working.\n\n. Do we need to run SQL database separately?. Well, I haven't run any database separately. Can you tell me how to run a MySQL database?. I have a chat with @Aurelsicoko on slack.\n\n. @Aurelsicoko, I am not sure that #616 and #561 are the same issue or not.\nI tried to increase the timeout but no effect.. I tried creating a new project as seeing how it work and here what I found out.\nI get this error in MongoDB\n\nMySQL\n\n. I have tried again and this time I got this error:\n\n. That didn't work for me.\n\n. So, how to connect the server to MySQL database?. ",
    "Arcath": "A quick fix is to open NODEINSTALL\\npm\\node_modules\\strapi\\node_modules\\strapi-generate-new\\lib\\before.js \nand change line 210 to:\nexecSync(rmdir /S /Q ${scope.rootPath});\nThis was with 3.alpha.8.3. ",
    "nodox": "I do wish this would support firebase as the database. How do I write my own plugin or data provider to connect with Firebase?. ",
    "tohagan": "+1. ",
    "samlogan": "+1. @Aurelsicoko database only for me. ",
    "JREAM": "+1. @derrickmehaffy Hey there, I was using the GUI. awesome Thanks for the pointer you can close this if you like!. ",
    "rrubio": "+1. ",
    "typerory": "@Aurelsicoko Google Firebase platform gives you two databases. The Realtime database and the new Firestore. With Firestore you can create collections and documents and inside of a document you can create more collections. It has a rest API and a Node SDK. . I have the same issue. It works without GraphQL but once I add the plugin I get the same error. Here is my repository without GraphQL. https://bitbucket.org/typerory/strapi-realty/src/master/\nis one to many the issue? Propertytype belongs to many Properties?. When/if it comes up again I'll post here. GraphQL loaded once I deleted all of my Content Types. I then added one with strings, numbers, boolean, file upload (Cloudinary) and references and it stopped loading. Now I'm adding one at a time to see if it is a specific field. I'll get back to you with more detail.. @derrickmehaffy So do you recommend adding the content types, populating all fields with test data, and then adding GraphQL? . Okay, so earlier, I was flying through the GUI to create the model and I put \"Address 2\" as one of the fields. Then later when I added GraphQL is stopped loading. I removed all the models, added GraphQL and started adding fields one at a time. Everything was fine until I tested with \"first name\". GraphQL stopped loading. I removed the model's corresponding folder and it is working again. \nWith the CLI I guess it's pretty clear that you don't want any spaces in the names. With the GUI I assumed that the name field is a display name and that Strapi is going to camel-case it on the backend. One solution would be to have Strapi use it for display purposes and create one with no spaces for the API, the other quick solution would be to have form validation that does not allow spaces.. Is Mongo running on port 27017?. ",
    "HausOfAlejandro": "Any news on this?, really looking for using Strapi with Firestore. :-). ",
    "shinokada": "Great! The blog article, Building a static blog using Gatsby and Strapi was very useful for me. I'd like to see using a slug for a URL.\nIn the new blog, it says,\n```\nImport the public key:\n$ sudo apt-key adv --keyserver hkp://keyserver.ubuntu.com:80 --recv 0C49F3730359A14518585931BC711F9BA15703C6\n```\nIs this correct? 0C49F3730359A14518585931BC711F9BA15703C6 should be different for each laptop?\n. ",
    "gstazure": "Just started with strapi and got stuck in a similar issue. \nConsider a simple model. A list of contacts,  and a list of cards. Contacts can have many cards but each card will have only 1 contact. Simple 1 to many relationship.\nStuck in catch 22. Cant add Contact without choosing from a dropdown and vice versa in cards. How do I add my first set of data. \nIts so ridiculous that I am sure that I am doing something stupid, but any help to fix it would be highly appreciated.\n\n\ncontact model\n{\n  \"connection\": \"default\",\n  \"collectionName\": \"contact\",\n  \"info\": {\n    \"name\": \"contact\",\n    \"description\": \"contact\"\n  },\n  \"options\": {\n    \"timestamps\": true\n  },\n  \"attributes\": {\n    \"name\": {\n      \"collection\": \"cards\",\n      \"dominant\": true,\n      \"via\": \"name\"\n    }\n  }\n}\ncard model\n{\n  \"connection\": \"default\",\n  \"collectionName\": \"cards\",\n  \"info\": {\n    \"name\": \"cards\",\n    \"description\": \"\"\n  },\n  \"options\": {\n    \"timestamps\": true\n  },\n  \"attributes\": {\n    \"cards\": {\n      \"unique\": true,\n      \"type\": \"string\",\n      \"required\": true\n    },\n    \"name\": {\n      \"model\": \"contact\",\n      \"via\": \"name\"\n    }\n  }\n}. ",
    "faebeee": "@soupette That would be very great!\n. Hi @lauriejim and @e2o I tried to install it this morning and It seems to work now. No idea why or how but the installation is running through. At the beginning, I had the same error on Heroku and on my local machine. Now it works on both. Therefore I'll close this issue. ",
    "sm4rtie": "had the same issue, passed it by adding a new route with \"path\": \"/user/:id/:model\", but in admin panel updating still doesn't work. \nUsing mongo as database and strapi 3.0.0-alpha.8.3. . sure :) npm install mailgun-js\n```\n 'use strict';\n/\n * Email.js service\n \n * @description: A set of functions similar to controller's actions to avoid code duplication.\n /\n const _ = require('lodash');\n const mailgun = require('mailgun-js')({apiKey: 'your-api-key', domain: 'sandbox-etcetera'});\nmodule.exports = {\n send: (options, cb) => {\n   var data = {\n  from: options.from || '\"Administration Panel\" no-reply@strapi.io',\n  to: options.to,\n  subject: options.subject,\n  text: options.text,\n  html: options.html\n};\nmailgun.messages().send(data, function (error, body) {\n  console.log(body);\n});\n } \n```\nand in auth/forgotPassword(i think it was automatically generated) \nconst { email, url } = ctx.request.body;\n/* ... */\ntry {\n      // Send an email to the user.\n      await strapi.plugins['email'].services.email.send({\n        to: user.email,\n        from: (settings.from.email || settings.from.name) ? `\"${settings.from.name}\" <${settings.from.email}>` : undefined,\n        replyTo: settings.response_email,\n        subject: settings.object,\n        text: settings.message,\n        html: settings.message\n      });\n    } catch (err) {\n      return ctx.badRequest(null, err);\n    }\n. ",
    "Nyeedz": "\nCan you tell me the database you use please\n\ni'm using MongoDB. I'm facing the same problem, upload file image only works on model user from users-permissions plugin\nhttps://github.com/strapi/strapi/issues/1318#issuecomment-394803982. I'm still can't upload an midea file to my model \"chamados\"\ni have an model called Chamados and an filed called photos, and when i try to post an image for this file show me this response\n{\n    \"_id\": \"5b51f43b48d68028b477aeb1\",\n    \"createdAt\": \"2018-07-20T14:39:55.947Z\",\n    \"updatedAt\": \"2018-07-20T14:58:40.251Z\",\n    \"__v\": 0,\n    \"id\": \"5b51f43b48d68028b477aeb1\",\n    \"photos\": []\n}\ndont upload an image \nmy post \n\n\nps: I'm alse tried to post with multipart/form-data Header and dont word. Hi, I followed the steps for the app migration on the github strapi page, but give me the same error, i tried to create another application, with the strapi new command, and copy my models off my api folder, and my realations and fields of my user.settings.json and still get the same error, deleted my item of my model but i get this error when i send the DELETE request to my http://localhost:1337/model/:id. I dont make any custom controllers or services, just create an model in strapi interface\nmy model:\n{\n  \"connection\": \"default\",\n  \"collectionName\": \"combo\",\n  \"info\": {\n    \"name\": \"combo\",\n    \"description\": \"\"\n  },\n  \"options\": {\n    \"timestamps\": true\n  },\n  \"attributes\": {\n    \"title\": {\n      \"type\": \"string\"\n    },\n    \"price\": {\n      \"type\": \"float\"\n    },\n    \"auxServices\": {\n      \"collection\": \"auxservice\",\n      \"via\": \"combo\"\n    },\n    \"gifts\": {\n      \"collection\": \"gift\",\n      \"via\": \"combo\"\n    },\n    \"order\": {\n      \"model\": \"order\",\n      \"via\": \"combos\"\n    },\n    \"description\": {\n      \"type\": \"string\"\n    },\n    \"visible\": {\n      \"type\": \"boolean\"\n    },\n    \"users\": {\n      \"collection\": \"user\",\n      \"dominant\": true,\n      \"via\": \"combos\",\n      \"plugin\": \"users-permissions\"\n    },\n    \"picture\": {\n      \"type\": \"text\"\n    }\n  }\n}\nmy controller\n```\n'use strict';\n/\n * Combo.js controller\n \n * @description: A set of functions called \"actions\" for managing Combo.\n /\nmodule.exports = {\n/\n   * Retrieve combo records.\n   \n   * @return {Object|Array}\n   /\nfind: async (ctx) => {\n    return strapi.services.combo.fetchAll(ctx.query);\n  },\n/\n   * Retrieve a combo record.\n   \n   * @return {Object}\n   /\nfindOne: async (ctx) => {\n    if (!ctx.params._id.match(/^[0-9a-fA-F]{24}$/)) {\n      return ctx.notFound();\n    }\nreturn strapi.services.combo.fetch(ctx.params);\n\n},\n/\n   * Count combo records.\n   \n   * @return {Number}\n   /\ncount: async (ctx) => {\n    return strapi.services.combo.count(ctx.query);\n  },\n/\n   * Create a/an combo record.\n   \n   * @return {Object}\n   /\ncreate: async (ctx) => {\n    return strapi.services.combo.add(ctx.request.body);\n  },\n/\n   * Update a/an combo record.\n   \n   * @return {Object}\n   /\nupdate: async (ctx, next) => {\n    return strapi.services.combo.edit(ctx.params, ctx.request.body) ;\n  },\n/\n   * Destroy a/an combo record.\n   \n   * @return {Object}\n   /\ndestroy: async (ctx, next) => {\n    return strapi.services.combo.remove(ctx.params);\n  }\n};\n```\nreturns me this error when i try to send an DELETE request\nresponse of server\n{\n    \"message\": \"An internal server error occurred\",\n    \"statusCode\": 500,\n    \"error\": \"Internal Server Error\"\n}\nconsole error:\n{ MongoError: '$pull' is empty. You must specify a field like so: {$pull: {<field>: ...}}\n    at Function.MongoError.create (C:\\Desenvolvimento\\Za9\\salo-api\\node_modules\\mongodb-core\\lib\\error.js:45:10)\n    at toError (C:\\Desenvolvimento\\Za9\\salo-api\\node_modules\\mongodb\\lib\\utils.js:149:22)\n    at C:\\Desenvolvimento\\Za9\\salo-api\\node_modules\\mongodb\\lib\\collection.js:1029:39\n    at C:\\Desenvolvimento\\Za9\\salo-api\\node_modules\\mongodb-core\\lib\\connection\\pool.js:544:18\n    at process._tickCallback (internal/process/next_tick.js:112:11)\n  name: 'MongoError',\n  message: '\\'$pull\\' is empty. You must specify a field like so: {$pull: {<field>: ...}}',\n  driver: true,\n  index: 0,\n  code: 9,\n  errmsg: '\\'$pull\\' is empty. You must specify a field like so: {$pull: {<field>: ...}}' }\nit is the pattern of strapi for model and controllers\ni can zip my project for you if you want so. yep this works, i created a new project with the latest version of strapi, and i reproduce my models from the start.\nthx. after a couple hours i'm getting the same error\nMongoError: '$pull' is empty. You must specify a field like so: {$pull: {: ...}}\nlike @nicroto said, delete from database but the response returns an that error. @lauriejim Thx man. ",
    "HDMiranda": "@lauriejim, I'm in version 10.2 and it's still a issue for me.. ",
    "FabAdrien": "@lauriejim Same problem here only when I try to update the email address of the user...\n\"message\": \"Cannot read property 'id' of null\". ",
    "hansemannn": "Hey folks, quick question here: Does someone has an example of updating a user model? I tried the following but only get back a 403 Forbidden:\nsh\nPUT /user/:id\nwith body (JSON-encoded):\njson\n{ \"email\": \"newmail@example.com\" }\nAre there parameters that need to be send with the body? I already set the bearer-token to use the JWT returned on auth. Thx!. Yep, that was the idea!. The underlaying error indicates that the reset-token is not valid anymore, e.g. if you have reset your password multiple times. The error could be improved though.. Same error when trying to deploy to AWS. The immutable dependency seems to be properly configured in the package.json.. Nope, I tried uploading it to AWS Beanstalk (using the EB CLI ~ eb deploy).. I am thinking of a way to hand over a dashboard to a customer. If they want to use it to manage basic content received via the API, they should not be able to see anything else than the content types and their data. . For now, I found a configuration in the React code that I can simply use to hide the left-bar widgets on production. Do you prefer keeping this one open for keeping track of it? I'm fine either way! Thanks again!. Ok \ud83d\ude17. That's what I have set :-) Unfortunately, still with latest alpa, they are only recognized in the data details, not the list-view header itself:\nHeader:\n\nDetails:\n\nAnother issue is that the fields to show in the header field are not saved across sessions, which is a quite manual process. Should I open an own issue for that? GREAT project btw!. Sure thing! The last one with not persisting labels is addressed now, I needed to add an list settings. Now it looks like this, but the list header still says \"Is_public\" vs \"Is Public\":\n\n. @derrickmehaffy I figured it out! After adding the label to the list settings, removing the label from the header and re-adding it, the label shows correctly!. @sbastias I meant in the collection-list of entities that use the \"photo\" type.. Same here. My installation was working fine until yesterday and now it's giving blank pages all around the place.. I'm running into a related issue, occurring when opening an existing content and also when trying to create a new one:\n```\nmain.js:16 TypeError: Cannot read property 'type' of undefined\n    at r.renderAttr (main.js:40)\n    at Array.map ()\n    at t.value (main.js:40)\n    at Po (main.js:16)\n    at Co (main.js:16)\n    at Yo (main.js:16)\n    at $o (main.js:16)\n    at cn (main.js:16)\n    at un (main.js:16)\n    at ln (main.js:16)\nmain.js:56 uncaught at o TypeError: Cannot read property 'type' of undefined\n    at r.renderAttr (https://appserver.herokuapp.com/dashboard/content-manager/main.js:40:393585)\n    at Array.map ()\n    at t.value (https://appserver.herokuapp.com/dashboard/content-manager/main.js:40:394501)\n    at Po (https://appserver.herokuapp.com/dashboard/main.js:16:42275)\n    at Co (https://appserver.herokuapp.com/dashboard/main.js:16:47849)\n    at Yo (https://appserver.herokuapp.com/dashboard/main.js:16:56588)\n    at $o (https://appserver.herokuapp.com/dashboard/main.js:16:56896)\n    at cn (https://appserver.herokuapp.com/dashboard/main.js:16:60278)\n    at un (https://appserver.herokuapp.com/dashboard/main.js:16:59787)\n    at ln (https://appserver.herokuapp.com/dashboard/main.js:16:59613)\n``. Same here, just a blank page and the errors above. Let me know if you need our app!. @derrickmehaffy That's a good point! But actually this happens with a locally-deployed instance where all content-types have been created earlier. . @ChrisSargent This is huge progress! Do you know a way to clean this up? I am searching through both the model settings and the MongoDB itself, but cannot find any old references to camel-cased fields, except Strapi's own ones (updatedAt, createdAt & resetPasswordToken).. Thanks to both of you! In my case, a field was appended twice in the core_store, resulting in the blank page. Cleaning it up manually fixed the issue.. It happens with all versions of Strapi (including latest alpha 14.3). @lauriejim I update the lines to match the markdown-recommendations of a limited number of chars per line to improve readability. If you don't want this, I can revert it. . @lauriejim Done!. 3.0.0.alpha-14.2, thanks!. I agree if the environment remains JavaScript. For larger scale multi-platform clients that consume an API (e.g. iOS and Android), the date needs to be manually specified with the format in order to be parsed as a native date. Timestamps on the other side can be used in nearly every nativeDate` constructor, so the developer can decide if only the day/month/year or a special format is used in the end. Just my 2 cents. For now, I workarounded it by specifying a format for it that matches this string.. Resolved by editing the service instead!. ",
    "dnlnrs": "@soupette Sure! I'll help you translate upcoming texts in Italian :). ",
    "NilakArgento": "@derrickmehaffy i upgraded. thx for link)\nApart from roles: Administrator and Guest... we need something like \"Registered\".\nBecause some routes shouldn't be accessible by guests...and add a posibility to change default role for new registred users\nAnother idea will be the fields need to have a default value.. ",
    "dareksob": "Hi @lauriejim sorry for the long wait. \nI try the issue with the latest version of stapi (strapi@3.0.0-alpha.10.2) and a newer version of node (v8.9.4) wth the same setup. This time a can create the content types over the backend, without problem. I only response (fails) on _health request two times, but wasn't any side effect on saving or update process.\nBug is closed \ud83d\udc4d . ",
    "alexDrinkwater": "@derrickmehaffy I agree. Anyone working on this?. ",
    "lamarena": "Can anyone can help me with this? I can not start strapi\n\n. nope. Same happens on Mac. This project worked properly since i restart the webstorm (code editor). When i tried to start the project again that error happened  . ",
    "keyus4": "Also having the same issue. strapi start error.\nC:\\Projects\\strapi\\my-project>strapi start \nDEBUG (3252 on MY-PC): Server wasn't able to start properly.\nERROR (3252 on MY-PC): (hook:mongoose) takes too long to load. I think i was able to get it to work. \nI opened my-project folder => config => environments => development.\nI then opened my database json file on notepad++ and I replaced localhost with 127.0.0.1 and it worked!!!\nHere! replace\n{\n  \"defaultConnection\": \"default\",\n  \"connections\": {\n    \"default\": {\n      \"connector\": \"strapi-mongoose\",\n      \"settings\": {\n        \"client\": \"mongo\",\n        \"host\": \"localhost\",\n        \"port\": \"27017\",\n        \"database\": \"myUberApp\",\n        \"username\": \"\",\n        \"password\": \"\"\n      },\n      \"options\": {}\n    }\n  }\n}\nwith\n{\n  \"defaultConnection\": \"default\",\n  \"connections\": {\n    \"default\": {\n      \"connector\": \"strapi-mongoose\",\n      \"settings\": {\n        \"client\": \"mongo\",\n        \"host\": \"127.0.0.1\",\n        \"port\": \"27017\",\n        \"database\": \"myUberApp\",\n        \"username\": \"\",\n        \"password\": \"\"\n      },\n      \"options\": {}\n    }\n  }\n}. I noticed that trying to use a brwoser doesn't return anything because the fields are changed the lower case in the browser. i.e \"Honda\" was changed to \"honda\" but when I used postman, it returned the right data.\nhttp://localhost:1337/car?Name=Honda was changed to http://localhost:1337/car?name=honda in the browser  but when i used post man, http://localhost:1337/car?Name=Honda returned the right data.\nThanks\n. @derrickmehaffy. I actually created another project with --dev and i was able to do npm install in the ./admin folder but when i tried to do npm start, i also got this error\nC:\\Projects\\strapi\\ngRide\\admin>npm start\n\nstrapi-admin@3.0.0-alpha.10.1 start C:\\Projects\\strapi\\ngRide\\admin\nnode ./node_modules/strapi-helper-plugin/node_modules/.bin/cross-env NODE_ENV=development PORT=4000 IS_ADMIN=true node ./node_modules/strapi-helper-plugin/lib/server\n\nmodule.js:538\n    throw err;\n    ^\nError: Cannot find module 'C:\\Projects\\strapi\\ngRide\\admin\\node_modules\\strapi-helper-plugin\\node_modules.bin\\cross-env'\n    at Function.Module._resolveFilename (module.js:536:15)\n    at Function.Module._load (module.js:466:25)\n    at Function.Module.runMain (module.js:676:10)\n    at startup (bootstrap_node.js:187:16)\n    at bootstrap_node.js:608:3\nnpm ERR! code ELIFECYCLE\nnpm ERR! errno 1\nnpm ERR! strapi-admin@3.0.0-alpha.10.1 start: node ./node_modules/strapi-helper-plugin/node_modules/.bin/cross-env NODE_ENV=development PORT=4000 IS_ADMIN=true node ./node_modules/strapi-helper-plugin/lib/server\nnpm ERR! Exit status 1\nnpm ERR!\nnpm ERR! Failed at the strapi-admin@3.0.0-alpha.10.1 start script.\nnpm ERR! This is probably not a problem with npm. There is likely additional logging output above.\nnpm ERR! A complete log of this run can be found in:\nnpm ERR!     C:\\Users\\XXXX\\AppData\\Roaming\\npm-cache_logs\\2018-02-22T13_55_05_627Z-debug.log. I tried installing the set up development environment but i got this error\nC:\\strapi-master>npm run setup\n\n@3.0.0-alpha.10.2 setup C:\\strapi-master\nnpm run clean:all && npm install && node ./scripts/setup.js && npm run clean\n@3.0.0-alpha.10.2 clean:all C:\\strapi-master\nnpm run removesymlinkdependencies && rm -rf package-lock.json && rm -rf packages//package-lock.json && rm -rf packages//node_modules\n@3.0.0-alpha.10.2 removesymlinkdependencies C:\\strapi-master\nnode ./scripts/removeSymlinkDependencies.js\n\n'rm' is not recognized as an internal or external command,\noperable program or batch file.\nnpm ERR! code ELIFECYCLE\nnpm ERR! errno 1\nnpm ERR! @3.0.0-alpha.10.2 clean:all: npm run removesymlinkdependencies && rm -rf package-lock.json && rm -rf packages/*/package-lock.json && rm -rf packages/*/node_modules\nnpm ERR! Exit status 1\nnpm ERR!\nnpm ERR! Failed at the @3.0.0-alpha.10.2 clean:all script.\nnpm ERR! This is probably not a problem with npm. There is likely additional logging output above.\nnpm WARN Local package.json exists, but node_modules missing, did you mean to install?\nnpm ERR! A complete log of this run can be found in:\nnpm ERR!     C:\\Users\\XXX\\AppData\\Roaming\\npm-cache_logs\\2018-02-27T16_55_00_467Z-debug.log\nnpm ERR! code ELIFECYCLE\nnpm ERR! errno 1\nnpm ERR! @3.0.0-alpha.10.2 setup: npm run clean:all && npm install && node ./scripts/setup.js && npm run clean\nnpm ERR! Exit status 1\nnpm ERR!\nnpm ERR! Failed at the @3.0.0-alpha.10.2 setup script.\nnpm ERR! This is probably not a problem with npm. There is likely additional logging output above.\nnpm WARN Local package.json exists, but node_modules missing, did you mean to install?\nnpm ERR! A complete log of this run can be found in:\nnpm ERR!     C:\\Users\\XXX\\AppData\\Roaming\\npm-cache_logs\\2018-02-27T16_55_00_683Z-debug.log. am not sure i understand what u meant by replace rm -rf with rmdir /s /q. \nPlease can you be more specific about how to do that. \nFrom the documentation\nNote: If the installation failed, please remove the global packages related to Strapi. The command npm ls strapi will help you to find where your packages are installed globally.\nI also did C:\\WINDOWS\\System32\\strapi>npm ls strapi\n@3.0.0-alpha.10.2 C:\\WINDOWS\\System32\\strapi\n`-- (empty)\nThere's no info on how to remove the global package\nThanks. @derrickmehaffy Thanks for your response. I guess it isn't an issue I can fix on my own so I just have to wait until the solution is made available?\nI thought the development environment can be set up on windows s well. I really wish I could get it to work right now. @derrickmehaffy Thanks. I hope a solution is provided soon. The reason why i need to set up the development environment is to be able to customize my admin panel, create plugins and others. I have started using strapi for my project and I am stuck right now as my admin area left side menu doesn't scroll downwards, my content-types are stuck beneath the page I can't access them and I cant make any changes as well.. @derrickmehaffy I used git-bash cmd to run the npm run setup and it worked but the setup failed when it got to linking strapi-admin\nthis is the error\nOLUWASEUN@OLUWASEUN-PC MINGW32 /c/windows/system32/strapi (master)\n$ npm run setup\n\n@3.0.0-alpha.10.2 setup C:\\windows\\system32\\strapi\nnpm run clean:all && npm install && node ./scripts/setup.js && npm run clean\n@3.0.0-alpha.10.2 clean:all C:\\windows\\system32\\strapi\nnpm run removesymlinkdependencies && rm -rf package-lock.json && rm -rf packages//package-lock.json && rm -rf packages//node_modules\n@3.0.0-alpha.10.2 removesymlinkdependencies C:\\windows\\system32\\strapi\nnode ./scripts/removeSymlinkDependencies.js\n\nnpm WARN deprecated jade@0.26.3: Jade has been renamed to pug, please install the latest version of pug instead of jade\nnpm WARN deprecated minimatch@0.2.14: Please update to minimatch 3.0.2 or higher to avoid a RegExp DoS issue\nnpm WARN deprecated graceful-fs@2.0.3: please upgrade to graceful-fs 4 for compatibility with current and future versions of Node.js\nnpm WARN deprecated node-uuid@1.4.8: Use uuid module instead\n\npre-commit@1.1.3 install C:\\windows\\system32\\strapi\\node_modules\\pre-commit\nnode install.js\nspawn-sync@1.0.13 postinstall C:\\windows\\system32\\strapi\\node_modules\\spawn-sync\nnode postinstall\n\nnpm notice created a lockfile as package-lock.json. You should commit this file.\nadded 1070 packages in 371.777s\n\ufffd  The setup process can take few minutes.\n\ufffd  Linking strapi-utils...\n:white_check_mark:  Success\n\ufffd  Linking strapi-generate...\n:white_check_mark:  Success\n\ufffd  Linking strapi-generate-api...\n:white_check_mark:  Success\n\ufffd  Linking strapi-helper-plugin...\n:white_check_mark:  Success\n\ufffd  Linking strapi-admin\n\ufffd  Building...\n'APP_PATH' is not recognized as an internal or external command,\noperable program or batch file.\nnpm ERR! code ELIFECYCLE\nnpm ERR! errno 1\nnpm ERR! strapi-admin@3.0.0-alpha.10.2 build: APP_PATH=$APP_PATH npm run build:dll && node ./node_modules/strapi-helper-plugin/node_modules/.bin/cross-env NODE_ENV=production IS_ADMIN=true node ./node_modules/strapi-helper-plugin/node_modules/.bin/webpack --config ./node_modules/strapi-helper-plugin/lib/internals/webpack/webpack.prod.babel.js --color -p --progress\nnpm ERR! Exit status 1\nnpm ERR!\nnpm ERR! Failed at the strapi-admin@3.0.0-alpha.10.2 build script.\nnpm ERR! This is probably not a problem with npm. There is likely additional logging output above.\nnpm ERR! A complete log of this run can be found in:\nnpm ERR!     C:\\Users\\OLUWASEUN\\AppData\\Roaming\\npm-cache_logs\\2018-03-02T11_51_57_297Z-debug.log\nnpm ERR! code ELIFECYCLE\nnpm ERR! errno 1\nnpm ERR! @3.0.0-alpha.10.2 setup: npm run clean:all && npm install && node ./scripts/setup.js && npm run clean\nnpm ERR! Exit status 1\nnpm ERR!\nnpm ERR! Failed at the @3.0.0-alpha.10.2 setup script.\nnpm ERR! This is probably not a problem with npm. There is likely additional logging output above.\nnpm ERR! A complete log of this run can be found in:\nnpm ERR!     C:\\Users\\OLUWASEUN\\AppData\\Roaming\\npm-cache_logs\\2018-03-02T11_51_57_552Z-debug.log.\nAny clue on what might be wrong?. @derrickmehaffy yea I guess that's where the issue lies. I have been trying to locate the $APP_PATH in the code and find a way to fix the issue but I haven't been able to get it right. The npm run setup command only runs using git-bash on windows but it doesn't solve the $APP_PATH issue either. I don't know why this issue isn't marked as a priority yet. I can't make any progress on my project since I encountered this issue. I really need to get the development setup running on my computer. This is just sad. @LinhTran1 nothing changed. I've been able to use git bash to run the setup but when it gets to a point, it breaks with an error \nOLUWASEUN@OLUWASEUN-PC MINGW32 /c/windows/system32/strapi (master)\n$ npm run setup\n@3.0.0-alpha.10.2 setup C:\\windows\\system32\\strapi\nnpm run clean:all && npm install && node ./scripts/setup.js && npm run clean\n@3.0.0-alpha.10.2 clean:all C:\\windows\\system32\\strapi\nnpm run removesymlinkdependencies && rm -rf package-lock.json && rm -rf packages//package-lock.json && rm -rf packages//node_modules\n@3.0.0-alpha.10.2 removesymlinkdependencies C:\\windows\\system32\\strapi\nnode ./scripts/removeSymlinkDependencies.js\nnpm WARN deprecated jade@0.26.3: Jade has been renamed to pug, please install the latest version of pug instead of jade\nnpm WARN deprecated minimatch@0.2.14: Please update to minimatch 3.0.2 or higher to avoid a RegExp DoS issue\nnpm WARN deprecated graceful-fs@2.0.3: please upgrade to graceful-fs 4 for compatibility with current and future versions of Node.js\nnpm WARN deprecated node-uuid@1.4.8: Use uuid module instead\npre-commit@1.1.3 install C:\\windows\\system32\\strapi\\node_modules\\pre-commit\nnode install.js\nspawn-sync@1.0.13 postinstall C:\\windows\\system32\\strapi\\node_modules\\spawn-sync\nnode postinstall\nnpm notice created a lockfile as package-lock.json. You should commit this file.\nadded 1070 packages in 371.777s\n\ufffd The setup process can take few minutes.\n\ufffd Linking strapi-utils...\n\u2705 Success\n\ufffd Linking strapi-generate...\n\u2705 Success\n\ufffd Linking strapi-generate-api...\n\u2705 Success\n\ufffd Linking strapi-helper-plugin...\n\u2705 Success\n\ufffd Linking strapi-admin\n\ufffd Building...\n'APP_PATH' is not recognized as an internal or external command,\noperable program or batch file.\nnpm ERR! code ELIFECYCLE\nnpm ERR! errno 1\nnpm ERR! strapi-admin@3.0.0-alpha.10.2 build: APP_PATH=$APP_PATH npm run build:dll && node ./node_modules/strapi-helper-plugin/node_modules/.bin/cross-env NODE_ENV=production IS_ADMIN=true node ./node_modules/strapi-helper-plugin/node_modules/.bin/webpack --config ./node_modules/strapi-helper-plugin/lib/internals/webpack/webpack.prod.babel.js --color -p --progress\nnpm ERR! Exit status 1\nnpm ERR!\nnpm ERR! Failed at the strapi-admin@3.0.0-alpha.10.2 build script.\nnpm ERR! This is probably not a problem with npm. There is likely additional logging output above.\nnpm ERR! A complete log of this run can be found in:\nnpm ERR! C:\\Users\\OLUWASEUN\\AppData\\Roaming\\npm-cache_logs\\2018-03-02T11_51_57_297Z-debug.log\nnpm ERR! code ELIFECYCLE\nnpm ERR! errno 1\nnpm ERR! @3.0.0-alpha.10.2 setup: npm run clean:all && npm install && node ./scripts/setup.js && npm run clean\nnpm ERR! Exit status 1\nnpm ERR!\nnpm ERR! Failed at the @3.0.0-alpha.10.2 setup script.\nnpm ERR! This is probably not a problem with npm. There is likely additional logging output above.\nnpm ERR! A complete log of this run can be found in:\nnpm ERR! C:\\Users\\OLUWASEUN\\AppData\\Roaming\\npm-cache_logs\\2018-03-02T11_51_57_552Z-debug.log.. @Aurelsicoko please can you paste an example code of how to use Shell.js in the package.json scripts?\nI installed shelljs and shx. npm install shelljs && npm install shx --save-dev\nthen I edited my package.json file by adding shx before rm -rf \nthen npm run setup which worked but I still get some error during the setup process. see error below \nC:\\strapi>npm install shelljs\n\npre-commit@1.1.3 install C:\\strapi\\node_modules\\pre-commit\nnode install.js\nspawn-sync@1.0.13 postinstall C:\\strapi\\node_modules\\spawn-sync\nnode postinstall\n\n\nshelljs@0.7.8\nadded 1073 packages in 238.944s\n\nC:\\strapi>npm install shx --save-dev\n+ shx@0.2.2\nupdated 1 package in 38.133s\nC:\\strapi>npm run setup\n\n@3.0.0-alpha.11.1 setup C:\\strapi\nnpm run clean:all && npm install && node ./scripts/setup.js && npm run clean\n@3.0.0-alpha.11.1 clean:all C:\\strapi\nnpm run removesymlinkdependencies && shx rm -rf package-lock.json && shx rm -rf packages//package-lock.json && shx rm -rf packages//node_modules\n@3.0.0-alpha.11.1 removesymlinkdependencies C:\\strapi\nnode ./scripts/removeSymlinkDependencies.js\n\nnpm notice created a lockfile as package-lock.json. You should commit this file.\nadded 18 packages and removed 18 packages in 51.63s\n\ufffd  The setup process can take few minutes.\n\ufffd  Linking strapi-utils...\n\u2705  Success\n\ufffd  Linking strapi-generate...\n\u2705  Success\n\ufffd  Linking strapi-generate-api...\n\u2705  Success\n\ufffd  Linking strapi-helper-plugin...\nnpm WARN deprecated gulp-util@3.0.8: gulp-util is deprecated - replace it, following the guidelines at https://medium.com/gulpjs/gulp-util-ca3b1f9f9ac5\n  \u203c getaddrinfo ENOTFOUND raw.github.com raw.github.com:443\n  \u203c pngquant pre-build test failed\n  i compiling from source\n  \u221a pngquant pre-build test passed successfully\n  \u00d7 Error: pngquant failed to build, make sure that libpng-dev is installed\n    at Promise.all.then.arr (C:\\strapi\\packages\\strapi-helper-plugin\\node_modules\\pngquant-bin\\node_modules\\bin-build\\node_modules\\execa\\index.js:231:11)\n    at \n    at process._tickCallback (internal/process/next_tick.js:160:7)\nnpm WARN bootstrap@4.0.0 requires a peer of jquery@1.9.1 - 3 but none was installed.\nnpm WARN eslint-config-airbnb@15.1.0 requires a peer of eslint-plugin-jsx-a11y@^5.1.1 but none was installed.\nnpm WARN eslint-plugin-redux-saga@0.4.0 requires a peer of eslint@^3.19.0 but none was installed.\nnpm WARN strapi-helper-plugin@3.0.0-alpha.11.1 No repository field.\nnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@1.1.3 (node_modules\\fsevents):\nnpm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@1.1.3: wanted {\"os\":\"darwin\",\"arch\":\"any\"} (current: {\"os\":\"win32\",\"arch\":\"ia32\"})\nnpm ERR! code ELIFECYCLE\nnpm ERR! errno 1\nnpm ERR! pngquant-bin@4.0.0 postinstall: node lib/install.js\nnpm ERR! Exit status 1\nnpm ERR!\nnpm ERR! Failed at the pngquant-bin@4.0.0 postinstall script.\nnpm ERR! This is probably not a problem with npm. There is likely additional logging output above.\nnpm ERR! A complete log of this run can be found in:\nnpm ERR!     C:\\Users\\OLUWASEUN\\AppData\\Roaming\\npm-cache_logs\\2018-03-20T14_01_24_141Z-debug.log\nnpm ERR! code ELIFECYCLE\nnpm ERR! errno 1\nnpm ERR! @3.0.0-alpha.11.1 setup: npm run clean:all && npm install && node ./scripts/setup.js && npm run clean\nnpm ERR! Exit status 1\nnpm ERR!\nnpm ERR! Failed at the @3.0.0-alpha.11.1 setup script.\nnpm ERR! This is probably not a problem with npm. There is likely additional logging output above.\nnpm ERR! A complete log of this run can be found in:\nnpm ERR!     C:\\Users\\OLUWASEUN\\AppData\\Roaming\\npm-cache_logs\\2018-03-20T14_01_24_548Z-debug.log\n. @Aurelsicoko I just forked the strapi repository afresh and the changes made in https://github.com/strapi/strapi/blob/master/packages/strapi-admin/package.json#L23\nhttps://github.com/strapi/strapi/blob/master/packages/strapi-admin/scripts/setup.js did not make any difference. Still the same APP_PATH not recognized error \nOLUWASEUN@OLUWASEUN-PC MINGW32 /c/strapi\n$ npm run setup\n\n@3.0.0-alpha.11.1 setup C:\\strapi\nnpm run clean:all && npm install && node ./scripts/setup.js && npm run clean\n@3.0.0-alpha.11.1 clean:all C:\\strapi\nnpm run removesymlinkdependencies && rm -rf package-lock.json && rm -rf packages//package-lock.json && rm -rf packages//node_modules\n@3.0.0-alpha.11.1 removesymlinkdependencies C:\\strapi\nnode ./scripts/removeSymlinkDependencies.js\n\nnpm notice created a lockfile as package-lock.json. You should commit this file.\nup to date in 71.709s\n\ufffd  The setup process can take few minutes.\n\ufffd  Linking strapi-utils...\n\u2705  Success\n\ufffd  Linking strapi-generate...\n\u2705  Success\n\ufffd  Linking strapi-generate-api...\n\u2705  Success\n\ufffd  Linking strapi-helper-plugin...\n\u2705  Success\n\ufffd  Linking strapi-admin\n\ufffd  Building...\n'APP_PATH' is not recognized as an internal or external command,\noperable program or batch file.\nnpm ERR! code ELIFECYCLE\nnpm ERR! errno 1\nnpm ERR! strapi-admin@3.0.0-alpha.11.1 build: APP_PATH=$APP_PATH npm run build:dll && node ./node_modules/strapi-helper-plugin/node_modules/.bin/cross-env NODE_ENV=production IS_ADMIN=true node ./node_modules/strapi-helper-plugin/node_modules/.bin/webpack --config ./node_modules/strapi-helper-plugin/lib/internals/webpack/webpack.prod.babel.js --color -p --progress\nnpm ERR! Exit status 1\nnpm ERR!\nnpm ERR! Failed at the strapi-admin@3.0.0-alpha.11.1 build script.\nnpm ERR! This is probably not a problem with npm. There is likely additional logging output above.\nnpm ERR! A complete log of this run can be found in:\nnpm ERR!     C:\\Users\\OLUWASEUN\\AppData\\Roaming\\npm-cache_logs\\2018-03-21T09_45_37_864Z-debug.log\nnpm ERR! code ELIFECYCLE\nnpm ERR! errno 1\nnpm ERR! @3.0.0-alpha.11.1 setup: npm run clean:all && npm install && node ./scripts/setup.js && npm run clean\nnpm ERR! Exit status 1\nnpm ERR!\nnpm ERR! Failed at the @3.0.0-alpha.11.1 setup script.\nnpm ERR! This is probably not a problem with npm. There is likely additional logging output above.\nnpm ERR! A complete log of this run can be found in:\nnpm ERR!     C:\\Users\\OLUWASEUN\\AppData\\Roaming\\npm-cache_logs\\2018-03-21T09_45_38_183Z-debug.log. @jikotw74 please can you give more info on how you resolve the APP_PATH issue before you encountered another error issue.\nyou said you resolved it with \ncross-env APP_PATH=$APP_PATH npm run build:dll ......\nhow exactly?. @jikotw74 I have also tried using cross-env. After installing npm install cross-env -g and effecting the changes inside package.json, I also got this error\nXXXX@XXXX-PC MINGW32 /c/strapi\n$ npm run setup\n\n@3.0.0-alpha.11.1 setup C:\\strapi\nnpm run clean:all && npm install && node ./scripts/setup.js && npm run clean\n@3.0.0-alpha.11.1 clean:all C:\\strapi\nnpm run removesymlinkdependencies && rm -rf package-lock.json && rm -rf packages//package-lock.json && rm -rf packages//node_modules\n@3.0.0-alpha.11.1 removesymlinkdependencies C:\\strapi\nnode ./scripts/removeSymlinkDependencies.js\n\nnpm notice created a lockfile as package-lock.json. You should commit this file.\nup to date in 32.956s\n\ufffd  The setup process can take few minutes.\n\ufffd  Linking strapi-utils...\n\u2705  Success\n\ufffd  Linking strapi-generate...\n\u2705  Success\n\ufffd  Linking strapi-generate-api...\n\u2705  Success\n\ufffd  Linking strapi-helper-plugin...\n\u2705  Success\n\ufffd  Linking strapi-admin\n\ufffd  Building...\nC:\\strapi\\packages\\strapi-helper-plugin\\node_modules.bin\\webpack:2\nbasedir=$(dirname \"$(echo \"$0\" | sed -e 's,\\,/,g')\")\n          ^^^^^^^\nSyntaxError: missing ) after argument list\n    at new Script (vm.js:51:7)\n    at createScript (vm.js:138:10)\n    at Object.runInThisContext (vm.js:199:10)\n    at Module._compile (module.js:624:28)\n    at Object.Module._extensions..js (module.js:671:10)\n    at Module.load (module.js:573:32)\n    at tryModuleLoad (module.js:513:12)\n    at Function.Module._load (module.js:505:3)\n    at Function.Module.runMain (module.js:701:10)\n    at startup (bootstrap_node.js:190:16)\nnpm ERR! code ELIFECYCLE\nnpm ERR! errno 1\nnpm ERR! strapi-admin@3.0.0-alpha.11.1 build:dll: cross-env APP_PATH=$APP_PATH cross-env NODE_ENV=production IS_ADMIN=true node ./node_modules/strapi-helper-plugin/node_modules/.bin/webpack --config ./node_modules/strapi-helper-plugin/lib/internals/webpack/webpack.dll.babel.js --color -p --progress\nnpm ERR! Exit status 1\nnpm ERR!\nnpm ERR! Failed at the strapi-admin@3.0.0-alpha.11.1 build:dll script.\nnpm ERR! This is probably not a problem with npm. There is likely additional logging output above.\nnpm ERR! A complete log of this run can be found in:\nnpm ERR!     C:\\Users\\XXXX\\AppData\\Roaming\\npm-cache_logs\\2018-04-01T02_55_09_498Z-debug.log\nnpm ERR! code ELIFECYCLE\nnpm ERR! errno 1\nnpm ERR! strapi-admin@3.0.0-alpha.11.1 build: cross-env APP_PATH=$APP_PATH npm run build:dll && cross-env NODE_ENV=production IS_ADMIN=true node ./node_modules/strapi-helper-plugin/node_modules/.bin/webpack --config ./node_modules/strapi-helper-plugin/lib/internals/webpack/webpack.prod.babel.js --color -p --progress\nnpm ERR! Exit status 1\nnpm ERR!\nnpm ERR! Failed at the strapi-admin@3.0.0-alpha.11.1 build script.\nnpm ERR! This is probably not a problem with npm. There is likely additional logging output above.\nnpm ERR! A complete log of this run can be found in:\nnpm ERR!     C:\\Users\\XXXX\\AppData\\Roaming\\npm-cache_logs\\2018-04-01T02_55_09_633Z-debug.log\nnpm ERR! code ELIFECYCLE\nnpm ERR! errno 1\nnpm ERR! @3.0.0-alpha.11.1 setup: npm run clean:all && npm install && node ./scripts/setup.js && npm run clean\nnpm ERR! Exit status 1\nnpm ERR!\nnpm ERR! Failed at the @3.0.0-alpha.11.1 setup script.\nnpm ERR! This is probably not a problem with npm. There is likely additional logging output above.\nnpm ERR! A complete log of this run can be found in:\nnpm ERR!     C:\\Users\\XXXX\\AppData\\Roaming\\npm-cache_logs\\2018-04-01T02_55_09_839Z-debug.log. I am also having the same issue. User permission disappears and doesn't save even when i re-add the permissions. so frustrating. ",
    "JLKM": "Nice workaround replacing the default \"host\": \"localhost\" with \"host\": \"127.0.0.1\".\nThis made it possible for me to actually create a project with Strapi CLI.\n``\nPS F:\\data\\fullstack\\strapi> strapi new alphanow\nINFO (14176 on JLKM1): Creating your application... It might take a few seconds.\nINFO (14176 on JLKM1): Lets configurate the connection to your database:\n Choose your main database: MongoDB (highly recommended)\n Database name: strapi\n Host: localhost\n Port: 27017\n Username: something\n Password: something\nINFO (14176 on JLKM1): Testing database connection...\nINFO (14176 on JLKM1): Copying the dashboard...\nINFO (14176 on JLKM1): Installing dependencies...\nINFO (14176 on JLKM1): The plugin settings-manager has been successfully installed.\nINFO (14176 on JLKM1): The plugin content-type-builder has been successfully installed.\nINFO (14176 on JLKM1): The plugin content-manager has been successfully installed.\nINFO (14176 on JLKM1): The plugin users-permissions has been successfully installed.\nINFO (14176 on JLKM1): The plugin email has been successfully installed.\nINFO (14176 on JLKM1): The plugin analytics has been successfully installed.\nINFO (14176 on JLKM1): Linkingstrapidependency to the project...\nINFO (14176 on JLKM1): Your new applicationalphanowis ready atF:\\data\\fullstack\\strapi\\alphanow`.\n```\nBut then the next error occurs at strapi start:\n```\nPS F:\\data\\fullstack\\strapi> cd alphanow\nPS F:\\data\\fullstack\\strapi\\alphanow> strapi start\nERROR (9580 on JLKM1): Unexpected token ...\n    F:\\data\\fullstack\\strapi\\alphanow\\plugins\\users-permissions\\services\\UsersPermissions.js:30\n                ...params.permissions[type].controllers[controller][action]\n                ^^^\nSyntaxError: Unexpected token ...\n    at createScript (vm.js:74:10)\n    at Object.runInThisContext (vm.js:116:10)\n    at Module._compile (module.js:533:28)\n    at Object.Module._extensions..js (module.js:580:10)\n    at Module.load (module.js:503:32)\n    at tryModuleLoad (module.js:466:12)\n    at Function.Module._load (module.js:458:3)\n    at Module.require (module.js:513:17)\n    at require (internal/module.js:11:18)\n    at Strapi.loadFile (C:\\Users\\Jan\\AppData\\Roaming\\npm\\node_modules\\strapi\\lib\\utils\\index.js:18:14)\n    at Object.setConfig (C:\\Users\\Jan\\AppData\\Roaming\\npm\\node_modules\\strapi\\lib\\utils\\index.js:32:19)\n    at files.map.p (C:\\Users\\Jan\\AppData\\Roaming\\npm\\node_modules\\strapi\\lib\\core\\apis.js:46:30)\n    at Array.map (native)\n    at glob (C:\\Users\\Jan\\AppData\\Roaming\\npm\\node_modules\\strapi\\lib\\core\\apis.js:46:15)\n    at f (C:\\Users\\Jan\\AppData\\Roaming\\npm\\node_modules\\strapi\\node_modules\\once\\once.js:25:25)\n    at Glob.<anonymous> (C:\\Users\\Jan\\AppData\\Roaming\\npm\\node_modules\\strapi\\node_modules\\glob\\glob.js:151:7)\n\nDEBUG (9580 on JLKM1): Server wasn't able to start properly.\nERROR (9580 on JLKM1): (hook:mongoose) takes too long to load\nPS F:\\data\\fullstack\\strapi\\alphanow> strapi start\nERROR (13460 on JLKM1): Unexpected token ...\n    F:\\data\\fullstack\\strapi\\alphanow\\plugins\\users-permissions\\services\\UsersPermissions.js:30\n                ...params.permissions[type].controllers[controller][action]\n                ^^^\nSyntaxError: Unexpected token ...\n    at createScript (vm.js:74:10)\n    at Object.runInThisContext (vm.js:116:10)\n    at Module._compile (module.js:533:28)\n    at Object.Module._extensions..js (module.js:580:10)\n    at Module.load (module.js:503:32)\n    at tryModuleLoad (module.js:466:12)\n    at Function.Module._load (module.js:458:3)\n    at Module.require (module.js:513:17)\n    at require (internal/module.js:11:18)\n    at Strapi.loadFile (C:\\Users\\Jan\\AppData\\Roaming\\npm\\node_modules\\strapi\\lib\\utils\\index.js:18:14)\n    at Object.setConfig (C:\\Users\\Jan\\AppData\\Roaming\\npm\\node_modules\\strapi\\lib\\utils\\index.js:32:19)\n    at files.map.p (C:\\Users\\Jan\\AppData\\Roaming\\npm\\node_modules\\strapi\\lib\\core\\apis.js:46:30)\n    at Array.map (native)\n    at glob (C:\\Users\\Jan\\AppData\\Roaming\\npm\\node_modules\\strapi\\lib\\core\\apis.js:46:15)\n    at f (C:\\Users\\Jan\\AppData\\Roaming\\npm\\node_modules\\strapi\\node_modules\\once\\once.js:25:25)\n    at Glob.<anonymous> (C:\\Users\\Jan\\AppData\\Roaming\\npm\\node_modules\\strapi\\node_modules\\glob\\glob.js:151:7)\n\nDEBUG (13460 on JLKM1): Server wasn't able to start properly.\nERROR (13460 on JLKM1): Make sure your MongoDB database is running...\nPS F:\\data\\fullstack\\strapi\\alphanow> strapi start\nERROR (1228 on JLKM1): Unexpected token ...\n    F:\\data\\fullstack\\strapi\\alphanow\\plugins\\users-permissions\\services\\UsersPermissions.js:30\n                ...params.permissions[type].controllers[controller][action]\n                ^^^\nSyntaxError: Unexpected token ...\n    at createScript (vm.js:74:10)\n    at Object.runInThisContext (vm.js:116:10)\n    at Module._compile (module.js:533:28)\n    at Object.Module._extensions..js (module.js:580:10)\n    at Module.load (module.js:503:32)\n    at tryModuleLoad (module.js:466:12)\n    at Function.Module._load (module.js:458:3)\n    at Module.require (module.js:513:17)\n    at require (internal/module.js:11:18)\n    at Strapi.loadFile (C:\\Users\\Jan\\AppData\\Roaming\\npm\\node_modules\\strapi\\lib\\utils\\index.js:18:14)\n    at Object.setConfig (C:\\Users\\Jan\\AppData\\Roaming\\npm\\node_modules\\strapi\\lib\\utils\\index.js:32:19)\n    at files.map.p (C:\\Users\\Jan\\AppData\\Roaming\\npm\\node_modules\\strapi\\lib\\core\\apis.js:46:30)\n    at Array.map (native)\n    at glob (C:\\Users\\Jan\\AppData\\Roaming\\npm\\node_modules\\strapi\\lib\\core\\apis.js:46:15)\n    at f (C:\\Users\\Jan\\AppData\\Roaming\\npm\\node_modules\\strapi\\node_modules\\once\\once.js:25:25)\n    at Glob.<anonymous> (C:\\Users\\Jan\\AppData\\Roaming\\npm\\node_modules\\strapi\\node_modules\\glob\\glob.js:151:7)\n\nINFO (1228 on JLKM1): Server started in F:\\data\\fullstack\\strapi\\alphanow\nINFO (1228 on JLKM1): Your server is running at http://localhost:1337\n``\nSomething works though:\n1. The server is showing the project homepage at localhost:1337\n2. MongoDB has created a database named strapi (in this case)\n3. The strapi database on MongoDB contains two collections namedusers-permissions_roleandusers-permissions_user` incl. content.\nBut it's not possible to create a user in the admin-section. localhost:1337/admin/ only directs to a blank html-page, and terminal starts to throw the following errors:\nDEBUG (1228 on JLKM1): Time: Sat Feb 03 2018 20:01:50 GMT+0100 (Rom, normaltid)DEBUG (1228 on JLKM1): Launched in: 2332 ms\nDEBUG (1228 on JLKM1): Environment: development\nDEBUG (1228 on JLKM1): Process PID: 1228\nDEBUG (1228 on JLKM1): Version: 3.0.0-alpha.9.1 (node v8.1.2)\nINFO (1228 on JLKM1): To shut down your server, press <CTRL> + C at any time\nDEBUG (1228 on JLKM1): GET index.html (26 ms)\nDEBUG (1228 on JLKM1): GET /favicon.ico (1 ms)\nDEBUG (1228 on JLKM1): GET index.html (5 ms)\nDEBUG (1228 on JLKM1): GET vendor.dll.js (6 ms)\nDEBUG (1228 on JLKM1): GET main.js (5 ms)\nDEBUG (1228 on JLKM1): GET plugins.json (4 ms)\nDEBUG (1228 on JLKM1): GET 1e1c7ab14f4a5847f9eb5756f13fb532.png (4 ms)\nDEBUG (1228 on JLKM1): GET main.js (12 ms)\nDEBUG (1228 on JLKM1): GET main.js (10 ms)\nDEBUG (1228 on JLKM1): GET main.js (10 ms)\nDEBUG (1228 on JLKM1): GET main.js (13 ms)\nDEBUG (1228 on JLKM1): GET main.js (11 ms)\nDEBUG (1228 on JLKM1): GET main.js (11 ms)\nERROR (1228 on JLKM1): Cannot read property '_id' of null\n    TypeError: Cannot read property '_id' of null\n        at module.exports (F:\\data\\fullstack\\strapi\\alphanow\\plugins\\users-permissions\\config\\policies\\permissions.js:31:15)\n        at <anonymous>\n        at process._tickDomainCallback (internal/process/next_tick.js:208:7)\nDEBUG (1228 on JLKM1): GET /content-type-builder/autoReload (29 ms)\nERROR (1228 on JLKM1): Cannot read property '_id' of null\n    TypeError: Cannot read property '_id' of null\n        at module.exports (F:\\data\\fullstack\\strapi\\alphanow\\plugins\\users-permissions\\config\\policies\\permissions.js:31:15)\n        at <anonymous>\n        at process._tickDomainCallback (internal/process/next_tick.js:208:7)\nDEBUG (1228 on JLKM1): GET /users-permissions/init (5 ms)\nERROR (1228 on JLKM1): Cannot read property '_id' of null\n    TypeError: Cannot read property '_id' of null\n        at module.exports (F:\\data\\fullstack\\strapi\\alphanow\\plugins\\users-permissions\\config\\policies\\permissions.js:31:15)\n        at <anonymous>\n        at process._tickDomainCallback (internal/process/next_tick.js:208:7)\nDEBUG (1228 on JLKM1): GET /settings-manager/autoReload (4 ms)\nSo close, and yet so far away from using this awesome headless cms tool...\nAny suggestions?\nOS: Windows 10\nnode: 8.1.2\nnpm: 5.6.0\nterminal: vs code\n. Thank you for your tip, @pedrocruzio \nAn upgrade from Node 8.1.2 to 8.9.4 LTS made the whole thing run like a charm on my Windows machine - and with no errors at all in vs code terminal.. ",
    "pedrocruzio": "@JLKM I had similar problems as you and I  just fixed it by updating node to the latest version.\nMy configuration is:\nOS: Ubuntu 16.04 LTS\nNode: 8.9.4\nNPM: 5.6.0. ",
    "Yobikap": "@Aurelsicoko  I am using io.elementary.terminal or in the past the name was pantheon-terminal . In v3@alpha.8 I could easy create a new project with the same terminal.. No errors, only a blinking cursor in terminal.\nOn 18 Feb 2018 2:58 p.m., \"Jim LAURIE\" notifications@github.com wrote:\n\n@Yobikap https://github.com/yobikap there is any errors displayed ?\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\nhttps://github.com/strapi/strapi/issues/565#issuecomment-366517994, or mute\nthe thread\nhttps://github.com/notifications/unsubscribe-auth/ACuAZ5BNiO9CTYCsdrrvZbJOPLpIsw1Vks5tWCxrgaJpZM4R3iyN\n.\n. \nL: Konsole | R: Gnome-terminal\n\n@lauriejim Tried with both of them it hangs on Database name: (strapi)\nStill using node v8.1.0 (npm v5.6.0). Node 9 solved this issue.\nOn 20 Feb 2018 12:12 p.m., \"Jim LAURIE\" notifications@github.com wrote:\n\n@Yobikap https://github.com/yobikap can you update to node 9.\nBut not sure it will solved this issue.\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\nhttps://github.com/strapi/strapi/issues/565#issuecomment-366944997, or mute\nthe thread\nhttps://github.com/notifications/unsubscribe-auth/ACuAZ4UvVteD_oFV-JgYqEEaz9BA4ijaks5tWqiFgaJpZM4R3iyN\n.\n. @lauriejim \n\nThis is my arealocation model:\n```\n{\n  \"connection\": \"default\",\n  \"collectionName\": \"arealocation\",\n  \"info\": {\n    \"name\": \"areaLocation\",\n    \"description\": \"area location for cities\"\n  },\n  \"options\": {\n    \"hasTimestamps\": true\n  },\n  \"attributes\": {\n    \"area location name\": {\n      \"type\": \"string\",\n      \"required\": true,\n      \"unique\": true\n    },\n    \"status\": {\n      \"type\": \"boolean\"\n    },\n    \"city name\": {\n      \"model\": \"cities\"\n    }\n  }\n}\n```. I have upgraded to the last version alpha 10.1\nSee the screencast how to reproduce the problem\nScreencast from 2018-02-26 17.26.18.webm.zip\n. How can I solve this?. you can use:\nstrapi.log.debug(\"your string or object\"). You can put this snippet in your code when developing.\nThe output should be in your console or terminal.\nFor logging information see:\nhttps://github.com/strapi/strapi-docs/blob/master/files/logging.md\nFor file logging, you could use something like pino-multi-stream. Because\nstrapi.log is based on pino logging, you should be able to implement this.\nBut I am not sure about it.\nOn 5 Feb 2018 9:14 p.m., \"gurjantsingh7979\" notifications@github.com\nwrote:\n\nThanks Yobikap for reply, can you please let me know where it will store\nthe logs?\nI am seeing in my project, it has not created any folder with logs name.\n\u2014\nYou are receiving this because you commented.\nReply to this email directly, view it on GitHub\nhttps://github.com/strapi/strapi/issues/580#issuecomment-363207316, or mute\nthe thread\nhttps://github.com/notifications/unsubscribe-auth/ACuAZ9RvcetRMVr3W-pemg6dOlktcSrIks5tR2ENgaJpZM4R57JD\n.\n. \n",
    "Amurmurmur": "Thank you so much for clearing it up for me!. ",
    "illoRocks": "Hello,\nI checked that and I think my email provider (for the guest account) blocked the mail\nbecause of missing configurations or something else (I use my local pc). The behavior is independent of the role.\n(The err was an empty object)\nSorry for the effort.\n. ",
    "rroblik": "+1 , same for me. Hi, sorry for the delay.\nI consider this as not a bug ; working fine.\nRegards. Hi \n@Aurelsicoko  : I used\nstrapi generate:policy dataCleanup\nThen updated my routes.json to add : \njson\n{\n  \"routes\": [\n    {\n      \"method\": \"GET\",\n      \"path\": \"/site\",\n      \"handler\": \"Site.find\",\n      \"config\": {\n        \"policies\": [\"global.dataCleanup\"]\n      }\n    }\n   ]\n}\nHere is the config/policies/dataCleanup.js file content\n```js\n'use strict';\nconst _ = require('lodash');\nconst USELESS_KEYS = ['_id', '__v'];\nfunction dataCleanup(data) {\n  var cleaned_data = [];\n.forEach(data, function (d) {\n    var buff = .omit(d, USELESS_KEYS);\n    cleaned_data.push(buff);\n  });\nreturn cleaned_data;\n}\nmodule.exports = async (ctx, next) => {\n  await next();\n// After.\n  ctx.body = dataCleanup(ctx.body);\n};\n```\nBut ... not working ; as the problem is the same : ctx.body is not a raw js objects, but a mongoose documents isn't it ?\nHow to do ? I think we should act on the mongoose side with leanoption / or a custom toObject function\nThanks. Okay let's add a self (half) answer :  \nHere is the corrected policy file:\n```js\n'use strict';\nconst _ = require('lodash');\nconst USELESS_KEYS = ['_id', '__v'];\nfunction dataCleanup(data) {\n  var cleaned_data = [];\n.forEach(data, function (d) {\n    var buff = .omit(d.toObject(), USELESS_KEYS);\ncleaned_data.push(buff);\n\n});\nreturn cleaned_data;\n}\nmodule.exports = async (ctx, next) => {\n  await next();\n// After.\n  ctx.body = dataCleanup(ctx.body);\n};\n```\nNote the toObject() use (mongoose doc) ; but I think doing this way is a little dirty... isn't it (performances impact) ?. (@lauriejim please reopen this issue :)). Hi @henriollik \nHere is what is did, working for me OOB : \n```nginx\nupstream strapi {\n    server 127.0.0.1:1337   max_fails=1 fail_timeout=5s;\n}\nserver {\n    listen   80;\n    server_name strapi.localdomain;\naccess_log \"/var/log/nginx/strapi.access.log\";\nerror_log \"/var/log/nginx/strapi.error.log\";\n\n    root /mnt/hgfs/_wprojects/strapi/public;\n\nindex index.html;\n\nlocation / {\n    try_files $uri $uri/ @strapi;\n}\n\nlocation @strapi{\n    proxy_pass http://strapi;\n}\n\n}\n``` \nNote : you need to start strapi to let it work as backend on 1337 port (or any other configured)\nbash\n$ strapi start\nRegards. Oops did I missed a documentation about that ?\nWith that now it's working fine :) \nI think this issue can be closed, except is an inline parameter can be useful (?).\nRegards. ",
    "wizysanjay": "I'd got the same error\nLets configurate the connection to your database:\n? Choose your main database: MySQL\n? Database name: strapi\n? Host: localhost\n? Port: 3306\n? Username: root\n? Password: ****\n\u23f3 Testing database connection...\n\u26a0\ufe0f Database connection has failed! Make sure your \"strapi\" database exist.\nNode.js version: v9.3.0\nnpm version: 6.2.0\nStrapi version: 3.0.0-alpha.13\nmariadb\nmac osx\n. of course, It's ready\n\n. @derrickmehaffy sorry, I've checked it again, it not mariadb, \n\n. @derrickmehaffy Thank for your support, It's worked !. ",
    "mnlbox": "I have same problem in my app. :disappointed: . @soupette Thanks man. It's fantastic news if we can use MobX as a first class citizen here in Strapi?. What about using MobX in plugin level? Is it possible now?. @lauriejim sorry I see your comment now. What model file you need?\nPlease reopen this man. :wink: . @lauriejim I'm searching a way to split my custom field on user profile from core code. Anyway for this now? Or is it in roadmap?. @ht10vn But you always need add this type relation again manually after each Strapi update.. @lauriejim I can wait for you to add it to setting panel. Is it in short term milestone?. @lauriejim I suggest this because now strapi is working heavy on new release and with npx I need less strapi package update manually.. @soupette Any news about update documentation??\nWhat is Strapi next step after \"bulk action\"?\nI check https://strapi.io/vote and It seems next step are:\n Admin - Permissions \n Real-time \n* Documentation \nRight?. @lauriejim JSON fields is good. @lauriejim So please publish new blog post about next months roadmap. Thanks :+1: . @Jakku7 very good idea. I think import/export from/to CSV, JSON and some other general format can be very useful.\n/CC: @lauriejim, @Aurelsicoko. Guys please note that slug in UTF-8 languages like Arabic is a little different.\nPlease also support UTF-8 in this feature implementation for more general approach.\nThanks :wink: . It can be a new feature with some setting in admin panel or maybe just a step-by-step tutorial in docs. What's your idea guys?. @Aurelsicoko so I think it's better to add this to https://strapi.io/vote page for vote from community. :thinking: \nAre you agree?. @lauriejim I saw that you update this issue. Are you put it in roadmap for next release or any near release?. @lauriejim I ask because you assigned it to yourself.. Maybe useful: https://passwordless.net/\n@Aurelsicoko @lauriejim . @Pritoj I like this scenario. :wink: \nFor testing purpose I think we need print 2FA code on console and a setting option for example called send 2FA code by: to select gateway for send 2FA code (for example we can suggest some option here: send 2FA code through mail plugin, web hook call, sms, ...). @Pritoj I think this library is more better than other :thinking: \nhttps://github.com/yeojz/otplib\nTake a look to it :wink: . Also I think it's good if we have two setting for 2FA:\n One system wide setting that admin can set through admin panel.\n And one setting that can be set through API for each user and save in user profile.\n@Pritoj Are you any idea about this?. @Aurelsicoko Please move https://portal.productboard.com/strapi/c/43-support-2fa-via-users-permissions-plugin to security section of product-board.\nThanks.. No I don't use NVM or other similar tools. I just run this:\nnpm install strapi@alpha -g\nI run it again now and this is my output:\nnpm WARN registry Unexpected warning for https://registry.npmjs.org/: Miscellaneous Warning EAI_AGAIN: request to https://registry.npmjs.org/strapi failed, reason: getaddrinfo EAI_AGAIN registry.npmjs.org:443\nnpm WARN registry Using stale package data from https://registry.npmjs.org/ due to a request error during revalidation.\nnpm WARN deprecated sprintf@0.1.5: The sprintf package is deprecated in favor of sprintf-js.\n/home/mnlbox/.npm-global/bin/strapi -> /home/mnlbox/.npm-global/lib/node_modules/strapi/bin/strapi.js\n+ strapi@3.0.0-alpha.11.1\nupdated 1 package in 175.111s\nAnd this is my strapi -v output:\nstrapi: command not found. @lauriejim are you need any info about this?. @lauriejim No I can install Strapi successfully now but I have two other issue with CLI tool: #794, #893. I use default npm registery. Now I have strapi version 3.0.0-alpha.10.3 and want to update to 3.0.0-alpha.11.1 so just run npm install strapi@alpha -g and this is my output:\n```\nnpm ERR! code ETARGET\nnpm ERR! notarget No matching version found for mime-db@~1.33.0\nnpm ERR! notarget In most cases you or one of your dependencies are requesting\nnpm ERR! notarget a package version that doesn't exist.\nnpm ERR! notarget \nnpm ERR! notarget It was specified as a dependency of 'mime-types'\nnpm ERR! notarget \nnpm ERR! A complete log of this run can be found in:\nnpm ERR!     /home/mnlbox/.npm/_logs/2018-03-18T16_39_09_769Z-debug.log\n. @lauriejim I search a lot and some people said that clean npm cache can solve similar problem so I run `npm cache clean --force` and after that again run `npm install strapi@alpha -g` and anything works well now. :wink: . @lauriejim I want update my Strapi again but I faced new problem. My update process done completely without any issue but after run `strapi new myProject` I got this error:\nmnlbox@mnlbox-pc ~/Desktop/Untitled Folder 6 $ strapi new myProject\n[2018-04-03T08:15:03.090Z] info Creating your application... It might take a few seconds.\n[2018-04-03T08:15:03.510Z] info Lets configurate the connection to your database:\n Choose your main database: MongoDB (highly recommended)\n Database name: strapi\n Host: 127.0.0.1\n Port: 27017\n Username: \n Password: \n Authentication database: \n Enable SSL connection: false\n[2018-04-03T08:15:19.776Z] info Testing database connection...\n[2018-04-03T08:15:23.463Z] info The app has been connected to the database successfully!\n[2018-04-03T08:15:23.499Z] info Copying the dashboard...\n[2018-04-03T08:15:26.722Z] info Installing dependencies...\n[2018-04-03T08:15:32.029Z] info The plugin settings-manager has been successfully installed.\n[2018-04-03T08:15:33.951Z] error An error occurred during content-type-builder plugin installation.\n[2018-04-03T08:15:33.952Z] error Command failed: node /home/mnlbox/.npm-global/lib/node_modules/strapi/bin/strapi.js install content-type-builder \n[2018-04-03T08:15:35.651Z] info The plugin content-manager has been successfully installed.\n[2018-04-03T08:15:51.657Z] info The plugin users-permissions has been successfully installed.\n[2018-04-03T08:15:55.321Z] info The plugin email has been successfully installed.\n[2018-04-03T08:16:00.184Z] info The plugin upload has been successfully installed.\n[2018-04-03T08:16:01.386Z] info The plugin analytics has been successfully installed.\n[2018-04-03T08:16:01.386Z] info Linking strapi dependency to the project...\n[2018-04-03T08:16:01.387Z] info Your new application myProject is ready at /home/mnlbox/Desktop/Untitled Folder 6/myProject.\nAnd when I try to run my app I got another error about **Lodash** installation:\nmnlbox@mnlbox-pc ~/Desktop/Untitled Folder 6 $ cd myProject\nmnlbox@mnlbox-pc ~/Desktop/Untitled Folder 6/myProject $ strapi start\nmodule.js:545\n    throw err;\n    ^\nError: Cannot find module 'lodash'\n    at Function.Module._resolveFilename (module.js:543:15)\n    at Function.Module._load (module.js:470:25)\n    at Module.require (module.js:593:17)\n    at require (internal/module.js:11:18)\n    at Object. (/home/mnlbox/Desktop/Untitled Folder 6/myProject/admin/controllers/Admin.js:5:11)\n    at Module._compile (module.js:649:30)\n    at Object.Module._extensions..js (module.js:660:10)\n    at Module.load (module.js:561:32)\n    at tryModuleLoad (module.js:501:12)\n    at Function.Module._load (module.js:493:3)\n```\nAnd again It's fixed again after run npm cache clean --force why I need clear my cache every time for update CLI?\nIs it normal? :thinking: . @lauriejim No I have only a global npm installation. I want update from 3.0.0-alpha.11.1 (previous version) to 3.0.0-alpha.11.2 (current version). It's work but I need clean my npm cache every time. I have some other npm in my system and none of them has this issue and my other global packages works well. :thinking: . @soupette Any news about this?. @LuisLoureiro Good catch. Seems it's really a browser problem. I also have same issue with Firefox.\n/CC: @lauriejim . @soupette Please add RTL support to WYSIWYG too. I think it might be easy.. @itpcc yes I think it's related to #802 too.. Maybe Related: #742 . @lauriejim I edited above question (add new info) based on issue template. :wink: \nAlso I try with an existing database.. Yes It's fixed with your guide. I think #904 also related.. @soupette can you add some screen shot for this PR please?\nI'm so exited about this :wink: :heart: . @soupette Thanks. Server information can be very useful :wink: . I think something like wordpress tag and category system as a separate module can be useful for many projects. :thinking: . Thanks @Aurelsicoko, So I'm waiting for 12.2 release. :wink: . @Aurelsicoko I also confirm that this issue still exists in 12.2. :thinking: \nI add some relation and my server stopped after save and not working at all.\nPlease reopen this issue for more info.\n/CC: @soupette, @lauriejim. @lauriejim Yes, I create new app and copy my api folder in new app and then login to dashboard and create my relations.\nI follow this migration guide but replace 3.0.0-alpha.11.1 by 3.0.0-alpha.12.2 https://strapi.io/documentation/migration/migration-guide-alpha-10-to-alpha-11.html. @Xcross I think it's a old issue because I see it 4 month later until now. I think Strapi need more robust code review specially about relation part of framework.\nIt's related issues for more info:\n734\n802\n886\n1081\n1143. @Aurelsicoko I think it's not related to database type because I experienced this error with local MongoDB instance.. @Aurelsicoko I just have 3 models. I don't know how I can help you to catch this guys :disappointed: . @dtaalbers Based on https://portal.productboard.com/strapi/tabs/3-planned it's planned for Q3 2019 :disappointed: . Thanks guys. I really fall in love and addicted to this awesome tool. :heart:\nMore stable code can increase Strapi community as soon as possible.\nThanks for anything. (Strapi idea, community, support, ...). @derrickmehaffy No I didn't. I run that now and got below error on my terminal:\n```\n\nstrapi-admin@3.0.0-alpha.12.1.3 prebuild /home/username/Desktop/myApps/appname/admin\nAPP_PATH=$APP_PATH node ./node_modules/strapi-helper-plugin/node_modules/.bin/cross-env NODE_ENV=production IS_ADMIN=true node ./node_modules/strapi-helper-plugin/lib/internals/scripts/loadAdminConfigurations.js\n\ninternal/modules/cjs/loader.js:573\n    throw err;\n    ^\nError: Cannot find module '/home/username/Desktop/myApps/appname/admin/node_modules/strapi-helper-plugin/node_modules/.bin/cross-env'\n    at Function.Module._resolveFilename (internal/modules/cjs/loader.js:571:15)\n    at Function.Module._load (internal/modules/cjs/loader.js:497:25)\n    at Function.Module.runMain (internal/modules/cjs/loader.js:719:10)\n    at startup (internal/bootstrap/node.js:228:19)\n    at bootstrapNodeJSCore (internal/bootstrap/node.js:576:3)\nnpm ERR! code ELIFECYCLE\nnpm ERR! errno 1\nnpm ERR! strapi-admin@3.0.0-alpha.12.1.3 prebuild: APP_PATH=$APP_PATH node ./node_modules/strapi-helper-plugin/node_modules/.bin/cross-env NODE_ENV=production IS_ADMIN=true node ./node_modules/strapi-helper-plugin/lib/internals/scripts/loadAdminConfigurations.js\nnpm ERR! Exit status 1\nnpm ERR! \nnpm ERR! Failed at the strapi-admin@3.0.0-alpha.12.1.3 prebuild script.\nnpm ERR! This is probably not a problem with npm. There is likely additional logging output above.\nnpm ERR! A complete log of this run can be found in:\nnpm ERR!     /home/username/.npm/_logs/2018-05-10T08_16_02_680Z-debug.log\n``. So based on #1116 I neednpm run setup?\n@derrickmehaffy so I think it's better to change this issue from bug report to feature request :wink: \nI think it's better to have a graphical UI form for this kind on general customization.\nfor example anyone need change dashboard logo and now it's a little complicate.. @derrickmehaffy So it's a bug yes?. @lauriejim OK man but we haven't any issue template for Question :thinking: Which type of data or information needed for Question?. OK man. But as a suggestion please add new issue template for Questions. It can be useful in future. :wink: . @lauriejim I checked and it's still not working on 12.3.\nFor reproduce I can refer you again to **Steps to reproduce the problem** section in above post. :thinking: . @lauriejim Yes I create this user from content manager.\nWhat is the meaning of \"Admin\" as aprovider`? :thinking: . I just create new user from my admin panel. I don't send any custom params in my request. :thinking: . @lauriejim no I use default user model,.... @lauriejim as me and @derrickmehaffy said this issue happens when we create user from admin UI.. @lauriejim I don't know but maybe it's because of that I create that user from admin UI with admin username. :thinking: . @soupette  Any news or roadmap for this?. For example I have a user and want to prevent that user to access my app (temporary or at all). Now we can only delete that user but with this approach all user and user related data removed from my db. So I think it's better to add new feature for admin to disable (block) specific user if needed. (and also can re enable that later if admin want). @soupette I don't find any plugin for this. Can you guide me more?. :thinking: But I need insert password now. So maybe it's a bug yes?\nAnyway I think a Reset Password form can be useful. :thinking: . @lauriejim how we can update a project from 3.0.0-alpha.12.1.3 to 3.0.0-alpha.12.2 ?\nI can't find any guide on migration documents. :thinking: . @lauriejim yes It's still happen.. Thanks @soupette .\nSo I think you can move this to 12.4 milestone.. It's always like this man. I just do normal step to create a relation. :thinking: \nI'm using Firefox. Is it matter?. @derrickmehaffy I'm using Firefox version 60.0.2. I can check new version and tell result here.. @lauriejim yes it's working well on chromium but not dosplay correct in Firefox.. @derrickmehaffy what's the meaning of below sentence when we run strapi on localhost?\n\nslowness on the server or client side\n\nI don't undrestand :thinking: . I also try to remove database completely and setup again but it's still return Email is already taken :thinking: . OK, I think it's maybe related but why show Email is already taken error? In related issue you said that it's related to internet speed. :thinking: . @lauriejim excuse me man. I copy my node, npm, strapi, ... versions from another issue but I forget to paste it. I update my question, could you reopen this issue?\nSuggestion: Please add latest version of Node, NPM, ... as a comment in issue template.. @soupette I'm using Firefox.\nI'm using strapi 12.2 and you merge PR #1222 so why this error happens? :thinking: . @soupette it's my Chromium experience:\n\n. @derrickmehaffy I check and I haven't any user with that email.\nI just randomly create tons of email and always it's return Email is already taken. I'm sure that it's message wrong.. @derrickmehaffy I try to completely drop and recreate my database with db.dropDatabase() but it's still return Email is already taken. I told that I'm sure that I haven't that users.. Yes I drop and restart Strapi but it's again return Email is already taken.\n@lauriejim please reopen this issue until fix. Thanks man :wink: . @soupette This is my user model:\n{\n  \"connection\": \"default\",\n  \"info\": {\n    \"name\": \"user\",\n    \"description\": \"\"\n  },\n  \"attributes\": {\n    \"username\": {\n      \"type\": \"string\",\n      \"minLength\": 3,\n      \"unique\": true,\n      \"configurable\": false,\n      \"required\": true\n    },\n    \"email\": {\n      \"type\": \"email\",\n      \"minLength\": 6,\n      \"configurable\": false,\n      \"required\": true\n    },\n    \"provider\": {\n      \"type\": \"string\",\n      \"configurable\": false\n    },\n    \"password\": {\n      \"type\": \"password\",\n      \"minLength\": 6,\n      \"configurable\": false,\n      \"private\": true\n    },\n    \"resetPasswordToken\": {\n      \"type\": \"string\",\n      \"configurable\": false,\n      \"private\": true\n    },\n    \"role\": {\n      \"model\": \"role\",\n      \"via\": \"users\",\n      \"plugin\": \"users-permissions\",\n      \"configurable\": false\n    },\n    \"firstname\": {\n      \"type\": \"string\",\n      \"required\": true\n    },\n    \"lastname\": {\n      \"type\": \"string\",\n      \"required\": true\n    }\n  },\n  \"collectionName\": \"users-permissions_user\"\n}. But I want this field as a required  :disappointed: . @AustinBratcher Guys I can't find Mailgun on plugin setting in dashboard. Is it only support Sendgrid?\n/CC: @soupette . @AustinBratcher No. Where is it? Is it any documentation available for this plugin? (strapi mail). Thanks man :wink: . I also think that if Strapi use an approach like Meteor framework it's better.\nIn Meteor you have hot reload and it's increase development speed a lot and have a build command that useful when we want to move project from development to production.\n@lauriejim , @soupette , @Aurelsicoko  Guys please see Meteor CLI and framework approach.. I also use Strapi with Firefox and I think it's need more fix in UI / UX in Firefox. :wink: . @raulriera I think you find reason of my issue here: #1254 . @soupette Yes, I just use Firefox default password manager.. I don't know. Have you same issue on Firefox?. @johannpinson I'm also using Firefox 60.0.1 on Linux and my Strapi version also 12.2.\n@derrickmehaffy I'm also have same issue on Chromium again on Linux.\nI think it's not related to browser. :thinking: . @lauriejim What type of information you want?. @lauriejim @soupette . @lauriejim yes it's Firefox but I check and it's happen also on Chromium.\n@soupette I run by strapi start.. If I can help to reproduce issue please tell me. I don't know how help about this. :thinking: . @soupette No it's still break sometimes. I don't know when but it's still not render menu items randomly.\nI also try to update and also test again on a clean project.. @soupette I try to create some dummy project for you. But I think it's something related to browser version because I also try clean project and this issue exist and randomly happens.. @lauriejim We don't have clear steps to reproduce this issue because as I told in issue title it's completely randomly.\nBy close this type of issue (randomly issues) you keep this issue as is and known issue.\n/CC: @soupette . @Aurelsicoko yes many of UI issues happens in Firefox and Chromium.\nI think we need some UI test based on this or using general UI tools like bootstrap that works anywhere without issue.. @mig4ng Please up vote to Documentation in https://strapi.io/vote :wink: . @soupette Please add some screenshot here. I can't wait until see this awesome feature :wink: . Maybe related: #1271. @leinue Maybe Related: #1254 . @lauriejim I think you need edit 12.3 to 12.4 in above PR :wink: . @lauriejim any chance to see this PR in next release?. @lauriejim I re create another app and it's working now. I don't now why :thinking: . We have same issue and I think @cyclops talked about this with @soupette . Maybe useful:\nIt's happens for me every time I try to create N:1 relation from admin ui.\n/CC: @soupette , @lauriejim . Any news about this old issue? :thinking: . For me always happens for N:1 relations :cry: . @lauriejim With React-Admin we can generate CRUD page for end user. With this integration we can connect Strapi to React-Admin and generate end user web application. Then we have REST (GraphQL) and admin dashboard on Strapi and user website on React-Admin.. @derrickmehaffy I don't know. Can you more cleaner guide to how to use StrapiSDK for this?. @Pritoj Let's talk about this in slack. What is your username there?. @lauriejim Changelog URL is broken.. @lauriejim your welcome. With this migration guide my extra permission gone. (I added some new role but after migrate to 12.7 my extra role is lost)\nI think we need copy some file to new plugin folder right?. So please provide some docs about this. I can't find where is new role stored to backup or re add after upgrade Strapi version. :thinking: . @lauriejim Now we can choose one value from Enumeration values. For example I have one Enumeration field called expertise and it's values are:\nProgramming,Designer,UI,UX,...\nAnd I want select multi value for this field. I know that we can do this with relation but I want handle this by Enumeration because it's a static list.. guys any news about my second suggestion?\n\nIn some RTL language like Arabic comma character code is different with English and It's a little hard to separate Enumeration values with comma (because we forced switch keyboard language to type comma and switch keyboard language again for type next value) I suggest to support Enter character as a separator too. It can be useful for someone like me and others still can use comma. . @Aurelsicoko So we have it now in RoadMap? :thinking: . @Aurelsicoko as you said please keep this issue open to keep it in mind.\n\n@lauriejim please re-open this until comma and new line support in enumeration.. Thanks @derrickmehaffy \nFor example I want add my enumeration values like this:\n\nFor me separate by enter is more cleaner.. @Aurelsicoko any news about add this to roadmap?. I also see this error in any strapi project. It's because of an old admin ui bug. You need to add 1:N or N:1 relation manually (from code and without admin ui) until a working fix.. @lauriejim #1736 is this issue. I think you close both issue man. :wink: \nPlease re open one of them.. I think it's related to: #2097. > You can also make a condition or add params in this function to give relations you want populate.\n@lauriejim can you guide about this? I can't find anything in docs about this.. @Mat-thieu I disable it for one model and it's working well but I want to disable only specific relation (not all relation). @Aurelsicoko based on your guideline is it possible to disable only specific relation in specific endpoint?\nFor example I want to have a summary of the models items with /articles that contain title, text and want to have full attribute list for example title, text, author (it's a relation) in /articles/full.. @derrickmehaffy This is old issue and related issue logs still valid. Also I provide exact steps to reproduce the issue in above post (Steps to reproduce the problem part).\nAnyway I create this repo too for test:\nhttps://github.com/mnlbox/strapi-relation-bug\nLet's take a look man please. :wink: \nI didn't use any capital character in model name.\nI'm using Firefox and Chromium, is it related to browser?. @soupette It's not randomly. It's happens every time for 1:N and N:N relation on my Linux machine.\nReally why it's create relation in one side and can't create on other side? :thinking: . @derrickmehaffy what is your OS?. > Linux Mint 19 (Ubuntu 18.04)\n@derrickmehaffy \n:thinking: I'm also using Mint 18.3 So maybe it's not related to OS :thinking: . @soupette I add that code that you send and it's working now but after add new 1:N relation it's again break. :thinking: \nI push new code also to https://github.com/mnlbox/strapi-relation-bug\nSee that please.. @derrickmehaffy I try to switch to node 10.0.0 with NVM but still that issue exists. :disappointed: \nReally why it's happens just for me?? :cry: \nI test it in 3 system with Ubuntu and Mint and anywhere server crash after restart.. @maturanomx please see this:\n\nFor more info read this docs: https://strapi.io/documentation/guides/models.html#relations\nIf you still have question please ask it here: https://strapi.slack.com/. @Aurelsicoko I have this issue in both Firefox and Chromium.. @soupette Really??????\nyohooooooooooooooo\nI really want to see the reason for this problem :thinking: . @soupette again thanks for this fix. :pray: You are a hero :wink: \n@lauriejim oh man. I really want to see this fix in 14.4? When you plan for release 14.4?. @lauriejim Is it merge in 14.4.0??\nI can't see it in bug fix part in this link:\nhttps://github.com/strapi/strapi/releases/tag/v3.0.0-alpha.14.4.0. interesting +1. I have same issue. After upgrade to 14.4.0\nMy other issue (#2114) fixed but now I can't see my new content types in side bar. (I'm using Firefox). I also installed from npm based on this migration guide: https://github.com/strapi/strapi/wiki/migration-guide-alpha.14.3-to-alpha.14.4. @lauriejim I test new app and also migrate an old app. Both have same issue.. @lauriejim I think it's based on browser. In chromium anything is OK but I have issue in Firefox. Is it a cache problem?. @soupette Is it related to #1271 ?? :thinking: \nIf it is I think it's better to fix both of them in #2229 PR. :wink: . I like it :heart: \nIt can be a code block and anyone can write simple code snippet there for manage computed fields. :thinking: . @lauriejim, @Aurelsicoko Hi Guys,\nAny news, roadmap or productboard card?. wowwwwwwwwww. Very good.. @Aurelsicoko In my mind It's a simple collapse view and just help to browse content type fields more simpler in admin ui when we have a big content type with so many fields and have not any result in API endpoints.. @Aurelsicoko can you share related productboard card url?. @Aurelsicoko Because my content type contain many fields this feature is very critical for me. Can you guide me a little about how we can implement this for my Strapi instance (Maybe here or as a blog post or advanced tutorial). I see that you are doing some work in it based on above post image.\nHow we can implement this:\n. @lauriejim, @Aurelsicoko Any news?. @Aurelsicoko So please update in progress tab in productboard :wink: . @Aurelsicoko yes something like this but I think we can implement and integrate this with webhook (visual webhook based workflow designer). Me too :cry: . @derrickmehaffy I'm using Linux Mint + Firefox.. @lauriejim I submit request in productboard. Can you mark that as public for voting?. Thanks @Aurelsicoko So anyone that want this can add a :+1: to first post.. @derrickmehaffy oh man. Sorry. So I close this.. @Dogtiti Why you close this?\nAre you find anyway to do this?. @Dogtiti Can you guide a little. How we can do this in Strapi?. @lauriejim Thanks for your reply, based on that link I create a file in /middlewares/custom_header/index.js with below content:\n```\n'use strict';\nconst _ = require('lodash');\nmodule.exports = () => {\n  return {\n    /*\n     * Initialize the hook\n     /\ninitialize: function(cb) {\n  strapi.app.use(async (ctx, next) => {\n    await next();\n    ctx.set('X-Custom', 'Custom header value');\n  });\n  cb();\n}\n\n};\n};\n```\nAnd also modify /config/middleware.json as below: (add \"custom_header\" to load.before section)\n{\n  \"timeout\": 100,\n  \"load\": {\n    \"before\": [\n      \"responseTime\",\n      \"logger\",\n      \"cors\",\n      \"responses\",\n      \"gzip\",\n      \"custom_header\"\n    ],\n    \"order\": [\n      \"Define the middlewares' load order by putting their name in this array is the right order\"\n    ],\n    \"after\": [\n      \"parser\",\n      \"router\"\n    ]\n  }\n}\nThen I restart my strapi server but it's still old response header when I check in swagger documentation.\nCan you guide me how to fix this?. Yes I have this error in console. :thinking: . I saw that doc later but I haven't related file in /config/environments/development/middleware.json.\nI need to create this manually?. It's still return:\nwarn (middleware:custom_header) wasn't loaded due to missing key `enabled` in the configuration. Oh I didn't need ejs :thinking: \nI think we need some clarify in that part of document.. @lauriejim \nI can add response header now successfully.\nHow we can modify or remove one response header??\nFor example I add ctx.set('X-Powered-By', 'API Owner'); but it's still show:\nx-powered-by: Strapi <strapi.io>. @lauriejim. @lauriejim really thanks. I think more documentation and example equal bigger community.\nPlease also add some example about how to add relation with *.json files through bootstap.js similar to cheesecake example app.\nKnow https://github.com/strapi/strapi-examples/blob/master/cheesecakes/api/app/config/data.json file didn't contain relation for any data.. I think we can also add tag title and tag color to each content type and show this in admin panel. Something like something now we have for users content type: (tag title = user permissions, tag color = blue)\n\nThen I can add something similar through admin panel for all content type. :wink: \n@Aurelsicoko . @pierreburgy It's very good feature. Really thanks.\nTwo notes:\n1. Please move https://portal.productboard.com/strapi/c/35-support-sqlite-database to in progress.\n\n\nI think it's very handy and useful if we can develop in SQLite and deploy to production in other database. For example MongoDB or Postgres. Also if we have import/export feature (https://portal.productboard.com/strapi/c/23-import-export-data) we can develop on local with SQLite then export my systems as a file and import that in production server (for example with another database like MongoDB or Postgres)\n\n\nIn future we can have an online API (system) designer maybe something like https://www.meteorkitchen.com/ that we can create API without install any external tools. Then we can export system as a file. Then we can import it trough Strapi command like CLI in local for more modification or directly in server for instant publish (for example with another database like MongoDB or Postgres). Also we can have an online system catalogue and download community api's something like: https://www.meteorkitchen.com/discover. Please add some screenshot.. @henrych4  No page not have any scroll for this.. Yes but when I don't check required in content type builder then I don't want add any data manually. (because I have 10 JSON field in this content type and If we force add {} for all of them It's kill my time)\nWhat is the different between required and non-required JSON field if we need enter some data for both of them? :thinking: \n\n\n@derrickmehaffy I think it's a UI bug and we need fix this for this content-type :wink: . @suhaboncukcu It will be fix after merge @soupette update on JSON input.\nI think it's better to close after complete fix.\n@lauriejim It's still not working in my side I think we need some fix base on @soupette change. :wink: . @lauriejim Please mark this as Good for new contributors and reopen.. @jesusprubio First special thanks for this PR. It will fix my issue in #2646 with nice on/off X-Powered-By toggle button. I think we need ability to on/off all default response header and it can be very useful.\nI think for second part of this PR (change X-Powered-By from admin panel) maybe it's better to see solution more general.\nFor example Add / Remove / Edit any static content to response header from admin panel rather than limit this to X-Powered-By.\nFor example a comma separated input box then we only need middlewares if we want dynamic content in response header and able to edit other static response header fields from admin panel.\n/CC: @lauriejim . ",
    "gurjantsingh7979": "Hi Soupette,\nLet us say I have created a template to register a doctor, now I would like to give the option in the same registration template to select the hospital(from the list of hospitals i.e. dropdown hospitals list) to which he is associated.  Hope this is clarifying the requirements.  . Right @derrickmehaffy.. Thanks @soupette @derrickmehaffy for helping. I did all the changes mentioned by @soupette , but did not work. What I am looking is highlighted in the screenshot. please me to accomplish this.\n\nThanks,\n. @soupette I think I have no git permissions to open this issue again, so please open this issue.. Thanks Yobikap for reply, can you please let me know where it will store the logs?\nI am seeing in my project, it has not created any folder with logs name. . I have used below given statement, but it has not worked on my side. Please advise.\nstrapi.log.debug(\"my object ...\");. ",
    "piere129": "@gurjantsingh7979 not sure if you still need the info, but i got undefined when printing an object alone. However, if you do this: strapi.log.debug('test', myObject) it works :). I'm curious about this as well, it seems like writing a dedicated url route for logging out could save a lot of confusion. I found the solution:\nI think the reason it gives you theIncorrect string value: '\\xF0\\x9F\\x94\\x91 \"...' for column 'value' at row 1 error is because strapi is configured to use UTF-8, however the \ud83d\udd11 icon is not supported in UTF-8. I deleted the \ud83d\udd11 icon in the errormessage (located at .\\plugins\\users-permissions\\config\\functions\\bootstrap.js). After that it worked!. Can we re-open this issue until the fix is in master branch? . Okay great, thank you! Any idea when the release is scheduled? :). I did it using the following in MySQL: \n1) create strapi app with MySQL database and specify db config when asked (database name, port, ...)\n2) create a content type (f.e. : 'product') which contains a field (f.e. : a string called 'name');\n3) As Strapi is currently configured, you MUST create the table for your new content-type yourself. There are a few things to keep in mind for this:\n- creating a table should include created_at and updated_at fields, as those are included by default \n- it needs an auto-incremented id field\n- the names of the fields must be the same as the ones you entered in the admin ui (so a string called 'name')\n- the name of the table, should be the same as the collectionName specified at api/product/models/product.settings\n4) After creating your table, go to admin ui again, ensure you are connected with the database, and try creating a new product. It should now be working.\nThis is how i got it to work for me. Hope it helps. @ArkhipovK @Aurelsicoko  could you explain how you got this to work? I am struggling to understand how exactly to configure the json to handle this one-way relation. I get how adding new attributes works with the json for strings & booleans etc. , but not how to link an attribute to another content-type. I assume I also have to change certain fields in the database table for this, but currently have no idea what... My bad, I forgot to mention that I use MySql server! I'll update my Strapi to see if it works. Update: I installed the newest Strapi version and tried again. Unfortunately the error persists. Is it possible using a MySQL database causes this? As I stated before, using the _sort, _limit or _start operators works like it should. . I also just came across this problem at MySQL. I'll add my errorlog in case it helps:\nerror update 'tests' set 'id' = 2, 'teststring' = 'test2', 'created_at' = '2018-05-03T13:11:33.000Z', 'updated_at' = '2018-05-03T13:11:33.000Z', 'link' = 1 where 'id' = 2 - ER_TRUNCATED_WRONG_VALUE: Incorrect datetime value: '2018-05-03T13:11:33.000Z' for column 'created_at' at row 1. thank you, figured it out! . I have the same problem with my User. Trying to edit its' fields or role to a new value results in \"an error occured during update\". I'm using MySQL as a database. Other self-created content-types get updated, but editing fields of the user always results in an error when saving.. @soupette Is my comment related with this issue? Or should I create a new issue? . @scipe I updated my issue. @soupette I think there is no support for MySQL? I've updated my issue. @derrickmehaffy this is useful, but it doesn't diminish the fact that MySQL is unusable for any decent project at this moment. It seems like this should be hotfixed.... @derrickmehaffy I'll try creating a brand new database and see if it fixes it. The problem might be in my database (I hope). Nope it still doesn't work. @lauriejim can you elaborate on how this isn't reproducable for you? :). @derrickmehaffy  creation of tables isn't the problem I think. My second screenshot has a comment saying the implementation is for mongoDB, not for mysql. So my guess is that's where it goes wrong. @Aurelsicoko automatic table creation would be amazing, but it's do-able without it, as long as everything else works . This issue is closed but it seems like it hasn't been merged with master branch yet.. Any idea when this will happen? :) As of today, installing with npm install@alpha -g and creating a new strapi application still throws errors when editing fields of a created User, unfortunately. @derrickmehaffy  thank you for the quick response! This issue hasn't been added to a milestone yet, which is why I wanted to check whether or not progress was being made. Hopefully it gets added soon \ud83d\ude04 . That did the trick! Apparantly the app automatically stops compiling when the loading time exceeds the timeout number, making this number higher fixed my problem! . @derrickmehaffy your error of [2018-05-03T15:58:13.223Z] debug Server wasn't able to start properly.\n(hook:bookshelf) takes too long to load has already been referenced in #1101 . The solution is increasing the timeout variable /config/hook.json to a higher number. The compiling automatically stops after 3s, u should increase this number to avoid pre-mature stopping of your project :). @soupette Thank you I'll try this. I noticed that the default npm run setup does not include the admin ui, does that mean all routes and api calls get checked by using software like postman? . update: I added the code you mentioned in a brand new cloned strapi project, and ran npm run setup:build from the root directory, but now I get the following error:\n\ud83c\udfd7  Building admin...\n```\n'IS_MONOREPO' is not recognized as an internal or external command,\noperable program or batch file.\nnpm ERR! code ELIFECYCLE\nnpm ERR! errno 1\nnpm ERR! @3.0.0-alpha.12.1.2 setup: 'npm run clean:all && npm install && node ./scripts/setup.js && npm run clean'\nnpm ERR! Exit status 1\nnpm ERR!\nnpm ERR! Failed at the @3.0.0-alpha.12.1.2 setup script.\nnpm ERR! This is probably not a problem with npm. There is likely additional logging output above.\n``\n. Apparantly i closed prematurely. @soupette I'm not entirely sure which steps i should take now. You mentioned runningnpm run setup --plugins` in the generated myApp. Is it correct that these are the steps to take:\n1 -> Fork the repository to your own GitHub account.\n2 -> Clone it to your computer git clone git@github.com:strapi/strapi.git.\n3 -> Execute npm run setup at the root of the strapi directory.\n4 -> Go to a folder on your computer cd /path/to/my/folder.\n5 -> Create a new project strapi new myDevelopmentProject --dev\n6 -> cd to myDevelopmentProject\n7 -> execute the following command:  npm run setup --plugins\n8 -> Start myDevelopmentProject with strapi start.\n9 -> Start your frontend with npm start in admin folder of myDevelopmentProject\n10 -> go to localhost:4000\nis it just this? Because this crashes at step 7, giving me the same APP_PATH error as stated above. running npm start also gives me the following as error:\n```D:\\endare\\strapi-development\\strapi\\packages\\strapi-helper-plugin\\node_modules.bin\\cross-env:2\nbasedir=$(dirname \"$(echo \"$0\" | sed -e 's,\\,/,g')\")\n          ^^^^^^^\nSyntaxError: missing ) after argument list\n    at new Script (vm.js:51:7)\n    at createScript (vm.js:136:10)\n    at Object.runInThisContext (vm.js:197:10)\n    at Module._compile (module.js:613:28)\n    at Object.Module._extensions..js (module.js:660:10)\n    at Module.load (module.js:561:32)\n    at tryModuleLoad (module.js:501:12)\n    at Function.Module._load (module.js:493:3)\n    at Function.Module.runMain (module.js:690:10)\n    at startup (bootstrap_node.js:194:16)\nnpm ERR! code ELIFECYCLE\nnpm ERR! errno 1\nnpm ERR! strapi-admin@3.0.0-alpha.12.1.2 prestart: node ./node_modules/strapi-helper-plugin/node_modules/.bin/cross-env NODE_ENV=development PORT=4000 IS_ADMIN=true node ./node_modules/strapi-helper-plugin/lib/internals/scripts/loadAdminConfigurations.js\nnpm ERR! Exit status 1\n```\nTo clarify, my final goal is to be able to change logo, and some colors in my project. I feel like i've tried everything.. The info I find on other issues related to development setup or the contributing guide all explain different ways to set the server up, but none of them work. @lauriejim I just got the exact same error as @derrickmehaffy . For me at least, it is using the content manager. This is the api call: \n[2018-05-07T12:32:38.675Z] debug POST /content-manager/explorer/term/?source=content-manager (37 ms)\nIn my example, I have a content-type 'term' that adds a relation to an object of the 'project' content type. This error does not occur for 1-1 relations, only for N-1 or N-N relations. I'm guessing the database creation script is not implemented for handling multiple id's. This seems like a critical problem to me, because relations basically don't work in Strapi anymore\n. Setting the timestamps option to false fixed my issue, but it seems like this shouldn't happen. I currently can't seem to find where the error occurs.. . @lauriejim both created_at as updated_at are datatype: timestamp. These get auto-generated by the Admin UI when adding a new content-type. . @lauriejim I also still have the issue. I'm currently at MySQL Server 5.7.22 and the error still persists. Take a look at #1105 , the error seems similar to the bookshelf error described there. I just got the same error as #1037 but with a mongoose database when calling GET /user/:id , looking into what could be the issue. @omar1989omb could it be that your error:\n error Cast to ObjectId failed for value \"3\" at path \"_id\" for model \"UsersPermissionsUser\"\nwas because you entered a wrong id? When testing, I noticed I always got this error when entering a wrong id in mongoose. \n. the api call does a total of 3 requests, 2 of them being user-permission requests which don't seem to be the problem. The third one gives me the following JSON when logging the request:\n{\n    \"op\" : \"query\",\n    \"ns\" : \"securitas.client\",\n    \"query\" : {\n        \"find\" : \"client\",\n        \"filter\" : {\n            \"access_code\" : \"ABC-123\"\n        },\n        \"projection\" : {\n            \"_id\" : 0,\n            \"avatar_image\" : 0,\n            \"access_code\" : 0,\n            \"createdAt\" : 0,\n            \"updatedAt\" : 0,\n            \"__v\" : 0,\n            \"products\" : 0,\n            \"id\" : 0\n        },\n        \"limit\" : 1,\n        \"singleBatch\" : true,\n        \"batchSize\" : 1,\n        \"returnKey\" : false,\n        \"showRecordId\" : false\n    },\n    \"keysExamined\" : 1,\n    \"docsExamined\" : 1,\n    \"cursorExhausted\" : true,\n    \"keyUpdates\" : 0,\n    \"writeConflicts\" : 0,\n    \"numYield\" : 0,\n    \"locks\" : {\n        \"Global\" : {\n            \"acquireCount\" : {\n                \"r\" : NumberLong(2)\n            }\n        },\n        \"Database\" : {\n            \"acquireCount\" : {\n                \"r\" : NumberLong(1)\n            }\n        },\n        \"Collection\" : {\n            \"acquireCount\" : {\n                \"r\" : NumberLong(1)\n            }\n        }\n    },\n    \"nreturned\" : 1,\n    \"responseLength\" : 177,\n    \"protocol\" : \"op_query\",\n    \"millis\" : 0,\n    \"execStats\" : {\n        \"stage\" : \"LIMIT\",\n        \"nReturned\" : 1,\n        \"executionTimeMillisEstimate\" : 0,\n        \"works\" : 1,\n        \"advanced\" : 1,\n        \"needTime\" : 0,\n        \"needYield\" : 0,\n        \"saveState\" : 0,\n        \"restoreState\" : 0,\n        \"isEOF\" : 1,\n        \"invalidates\" : 0,\n        \"limitAmount\" : 1,\n        \"inputStage\" : {\n            \"stage\" : \"PROJECTION\",\n            \"nReturned\" : 1,\n            \"executionTimeMillisEstimate\" : 0,\n            \"works\" : 1,\n            \"advanced\" : 1,\n            \"needTime\" : 0,\n            \"needYield\" : 0,\n            \"saveState\" : 0,\n            \"restoreState\" : 0,\n            \"isEOF\" : 0,\n            \"invalidates\" : 0,\n            \"transformBy\" : {\n                \"_id\" : 0,\n                \"avatar_image\" : 0,\n                \"access_code\" : 0,\n                \"createdAt\" : 0,\n                \"updatedAt\" : 0,\n                \"__v\" : 0,\n                \"products\" : 0,\n                \"id\" : 0\n            },\n            \"inputStage\" : {\n                \"stage\" : \"FETCH\",\n                \"nReturned\" : 1,\n                \"executionTimeMillisEstimate\" : 0,\n                \"works\" : 1,\n                \"advanced\" : 1,\n                \"needTime\" : 0,\n                \"needYield\" : 0,\n                \"saveState\" : 0,\n                \"restoreState\" : 0,\n                \"isEOF\" : 0,\n                \"invalidates\" : 0,\n                \"docsExamined\" : 1,\n                \"alreadyHasObj\" : 0,\n                \"inputStage\" : {\n                    \"stage\" : \"IXSCAN\",\n                    \"nReturned\" : 1,\n                    \"executionTimeMillisEstimate\" : 0,\n                    \"works\" : 1,\n                    \"advanced\" : 1,\n                    \"needTime\" : 0,\n                    \"needYield\" : 0,\n                    \"saveState\" : 0,\n                    \"restoreState\" : 0,\n                    \"isEOF\" : 0,\n                    \"invalidates\" : 0,\n                    \"keyPattern\" : {\n                        \"access_code\" : 1\n                    },\n                    \"indexName\" : \"access_code_1\",\n                    \"isMultiKey\" : false,\n                    \"isUnique\" : true,\n                    \"isSparse\" : false,\n                    \"isPartial\" : false,\n                    \"indexVersion\" : 1,\n                    \"direction\" : \"forward\",\n                    \"indexBounds\" : {\n                        \"access_code\" : [ \n                            \"[\\\"ABC-123\\\", \\\"ABC-123\\\"]\"\n                        ]\n                    },\n                    \"keysExamined\" : 1,\n                    \"dupsTested\" : 0,\n                    \"dupsDropped\" : 0,\n                    \"seenInvalidated\" : 0\n                }\n            }\n        }\n    },\n    \"ts\" : ISODate(\"2018-05-23T06:42:26.723Z\"),\n    \"client\" : \"127.0.0.1\",\n    \"allUsers\" : [],\n    \"user\" : \"\"\n}. I also just noticed that populating a list of categories, does not include the image details of those filled categories, but instead returns null, is this intentional..? And if so, how can this be worked around?. @lauriejim  If i don't use the select it just returns all data as if you'd call a default api call. But that's not what I'm trying to achieve. I believe there is a feature in Strapi that adds these variables, after i do my mongoose query, a hook perhaps?. ",
    "sbastias": "I tried adding\nstrapi.log.debug(\"LOOK AT ME!\")\nAnd got this:\n\nUncaught TypeError: Cannot read property 'debug' of undefined. Hello, I think I've fixed this - at least with my installation.\n\nI needed a oneToOne relationship with self for a bilingual CMS. So i needed MyObject <-> MyObject.\nThe code below updated in strapi-hook-mongoose/lib/relations.js finally worked!\n   // In the 'update' block switch statement\n    case 'oneToOne':\n        if (response[current] !== params.values[current]) {\n          const value = _.isNull(params.values[current]) ? response[current] : params.values;\n          const recordId = _.isNull(params.values[current]) ? value[this.primaryKey] || value.id || value._id : value[current];\n\n          const model = module.exports.getModel(details.model || details.collection, details.plugin);\n\n\n          /***********************************\n\n          If the record to update already has a relation set with key [current], and it's not the same as the submitted value,\n          then retrieve the associated record, and clear it's association by setting [details.via] to null\n\n          ********************************/\n          if (response[current] && _.isObject(response[current]) && response[current][this.primaryKey] != value[current]) {\n\n            console.log(value[current])\n\n            console.log('Unsetting reciprocal relation: ' + response[current][this.primaryKey] + '[' + details.via + ']')\n            virtualFields.push(\n              module.exports.update.call(this, {\n                id: response[current][this.primaryKey],\n                values: {\n                  [details.via]: null\n                },\n                parseRelationships: false\n              })\n            );\n          }\n\n          // Remove previous relationship asynchronously if it exists.\n          virtualFields.push(\n            model\n              .findOne({ [model.primaryKey]: recordId })\n              .populate(details.via)\n              .then(record => {\n\n                console.log(\"\\n\\n\" + details.via)\n\n                if (record && _.isObject(record[details.via])) {\n\n                  let firstQuery = {\n                    id: getValuePrimaryKey(record[details.via], model.primaryKey),\n                    values: {\n                      [details.via]: null\n                    },\n                    parseRelationships: false\n                  }\n\n                  // console.log(\"\\n\\nFIRST\\n\\n\")\n                  // console.log(firstQuery)\n\n                  module.exports.update.call(this, firstQuery)\n                  debugger\n\n                }\n\n              return Promise.resolve();\n\n            })\n            .then(() => {\n\n              // set new relation on target\n\n              let secondQuery = {\n                id: getValuePrimaryKey(response || {}, this.primaryKey),\n                values: {\n                  [current]: value[current]\n                },\n                parseRelationships: false\n              }\n\n              // console.log(\"\\n\\nSECOND\\n\\n\")\n              // console.log(secondQuery)\n\n              virtualFields.push( module.exports.update.call(model, secondQuery) )\n\n\n\n              if (!_.isNull(params.values[current])) {\n                let thirdQuery = {\n                  id: recordId,\n                  values: {\n                    //[current]: null,\n                    [details.via]: getValuePrimaryKey(params.values, this.primaryKey) || null\n                  },\n                  parseRelationships: false\n                }\n\n                // console.log(\"\\n\\nTHIRD\\n\\n\")\n                // console.log(thirdQuery)\n\n                virtualFields.push( module.exports.update.call(model, thirdQuery) )\n\n                debugger\n              }\n\n\n\n              return Promise.resolve();\n            })\n\n          )\n\n          acc[current] = _.isNull(params.values[current]) ? null : value[current];\n\n        }\n\n        break;. I am having the same issue. Using a local MongoDB instance.\n\nI updated packagaes/strapi-hook-bookshelf/lib/relations.js as described in a previous issue (https://github.com/strapi/strapi/pull/892)\nThat issue was updating packages/strapi-plugin-content-manager/config/queries/mongoose.js, but it looks like the functionality has been factored out to this current hook.\nI replaced the 'oneToOne' block as shown below.\n`switch (association.nature) {\n    ...\n    case 'oneToOne':\n            if (response[current] !== params.values[current]) {\n              const value = .isNull(params.values[current]) ? response[current] : params.values;\n              const recordId = .isNull(params.values[current]) ? value[this.primaryKey] || value.id || value._id : value[current];\n          if (response[current] && _.isObject(response[current]) && response[current][this.primaryKey] !== value[current]) {\n            virtualFields.push(\n              strapi.query(details.collection || details.model, details.plugin).update({\n                id: response[current][this.primaryKey],\n                values: {\n                  [details.via]: null\n                },\n                parseRelationships: false\n              })\n            );\n          }\n\n          // Remove previous relationship asynchronously if it exists.\n          virtualFields.push(\n            strapi.query(details.model || details.collection, details.plugin).findOne({ id : recordId })\n              .then(record => {\n                if (record && _.isObject(record[details.via])) {\n                  virtualFields.push(\n                    module.exports.update.call(this, {\n                      id: record[details.via][this.primaryKey] || record[details.via].id,\n                      values: {\n                        [current]: null\n                      },\n                      parseRelationships: false\n                    })\n                  );\n                }\n                return Promise.resolve();\n              })\n              .then(response => {\n                // Updating the new relations\n                // When params.values[current] is null this means that we are removing the relation.\n                // Recreate relation on the first side\n                virtualFields.push(\n                  strapi.query(details.model || details.collection, details.plugin).update({\n                    id: recordId,\n                    values: {\n                      [details.via]: _.isNull(params.values[current]) ? null : value[this.primaryKey] || value.id || value._id\n                    },\n                    parseRelationships: false\n                  })\n                );\n\n                // Recreate relation on the other side if the value is not null\n                if (!_.isNull(params.values[current])) {\n                  virtualFields.push(\n                    module.exports.update.call(this, {\n                      id: value[this.primaryKey] || value.id || value._id,\n                      values: {\n                        [current]: recordId\n                      },\n                      parseRelationships: false\n                    })\n                  );\n                }\n              })\n          );\n\n          acc[current] = _.isNull(params.values[current]) ? null : value[current];\n        }\n\n        break;\n      /*\n      case 'oneToOne':\n        if (response[current] !== params.values[current]) {\n          const value = _.isNull(params.values[current]) ? response[current] : params.values;\n          const recordId = _.isNull(params.values[current]) ? getValuePrimaryKey(value, this.primaryKey) : value[current];\n\n          const model = module.exports.getModel(details.collection || details.model, details.plugin);\n\n          // Remove relation in the user side.\n          virtualFields.push(\n            module.exports.findOne\n              .call(model, { [model.primaryKey]: recordId }, [details.via])\n              .then(record => {\n                if (record && _.isObject(record[details.via])) {\n                  return module.exports.update.call(this, {\n                    id: getValuePrimaryKey(record[details.via], model.primaryKey),\n                    values: {\n                      [current]: null\n                    },\n                    parseRelationships: false\n                  });\n                }\n\n                return Promise.resolve();\n              })\n              .then(() => {\n                return module.exports.update.call(model, {\n                  id: getValuePrimaryKey(response[current] || {}, this.primaryKey) || value[current],\n                  values: {\n                    [details.via]: null\n                  },\n                  parseRelationships: false\n                });\n              })\n              .then(() => {\n                if (!_.isNull(params.values[current])) {\n                  return module.exports.update.call(model, {\n                    id: recordId,\n                    values: {\n                      [details.via]: getValuePrimaryKey(params, this.primaryKey) || null\n                    },\n                    parseRelationships: false\n                  });\n                }\n\n                return Promise.resolve();\n              })\n          );\n\n          acc[current] = _.isNull(params.values[current]) ? null : value[current];\n        }\n\n        break;\n      */\n\n`\nThe relationship is only maintained on one side of the relation.. Hey there!\nHow do we set className on a field?\nI'm trying to improve the layout a bit.... I was apple to do it through a layout.json flat file in v3.0.0-alpha.13 but I don't know if it's possible now that it's in the core_store...?. I can't do a PR because I didn't fork the repo, I cloned it to make a bunch of other customizations.\nIt's a simple fix though! I just tested it on KB MB and GB files:\n\nIt's this function getUnit in:\nstrapi/packages/strapi-plugin-upload/admin/src/components/Li/index.js\nCurrently:\n```\ngetUnit = (value) => {\n    let unit;\n    let divider;\nswitch (true) {\n  case value > 10000:\n    unit = 'GB';\n    divider = 1000;\n    break;\n  case value < 1:\n    unit = 'B';\n    divider = 1;\n    break;\n  case value > 1000:\n    unit = 'MB';\n    divider = 1000;\n    break;\n  default:\n    unit = 'KB';\n    divider = 1;\n}\n\nreturn { divider, unit };\n\n}\n```\nShould be:\n```\ngetUnit = (value) => {\n    let unit;\n    let divider;\nswitch (true) {\n  case value > 1000000:\n    unit = 'GB';\n    divider = 1000000;\n    break;\n  case value < 1:\n    unit = 'B';\n    divider = .001;\n    break;\n  case value > 1000:\n    unit = 'MB';\n    divider = 1000;\n    break;\n  default:\n    unit = 'KB';\n    divider = 1;\n}\n\nreturn { divider, unit };\n\n}\n```. I actually created a customization of the strapi-plugin-upload Li component to show thumbs for IMG files... did you mean in the File Upload interface?. I'm having the exact same issue! And the most frustrating part is that it wasn't happening before - it just began when I was trying to deploy to the production server...\nI made a bunch of modifications to strapi-plugin-content-manager, strapi-helper-plugin, strapi-hook-mongoose, etc. Under port 4000, everything works fine. But when I try to run build and then \"strapi start\" I get the loadingIndicatorPage for all content-manager pages!\nI'm going to try to restart with the new release tomorrow, and cautiously try to integrate all the changes I made - but how did this happen all of a sudden?. It happens on a fresh install.\nInstall strapi@3.0.0-alpha.14\nnpm run setup:build\nStrapi new appname --dev\nThen strapi start, and try the content-manager\nOn Fri, Sep 7, 2018, 2:37 AM cyril lopez, notifications@github.com wrote:\n\n@sbastias https://github.com/sbastias @mockbirds\nhttps://github.com/mockbirds I'm going to have a hard reproducing your\nbug do you have a repository or a registry to give me so I can try to see\nwhat's happening?\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\nhttps://github.com/strapi/strapi/issues/1875#issuecomment-419338407, or mute\nthe thread\nhttps://github.com/notifications/unsubscribe-auth/AA9ei4GyNT0J7WbmJOqt29yKcJLgcmU-ks5uYhQ8gaJpZM4WWkf1\n.\n. So content-manager won't work under :1337 anymore? It was working until the\npast couple of days.\n\nOn Fri, Sep 7, 2018, 3:32 AM cyril lopez, notifications@github.com wrote:\n\n@sbastias https://github.com/sbastias you don't have the right workflow\nit should be the following\ngit clone git@github.com:strapi/strapi.git\ncd strapi && npm run setup:build\nin another window\nstrapi new appName --dev\nOnce you're done with your modifications cd strapi && npm run setup:build\nAnd in another window strapi new myapp\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\nhttps://github.com/strapi/strapi/issues/1875#issuecomment-419349984, or mute\nthe thread\nhttps://github.com/notifications/unsubscribe-auth/AA9ei5DhycHS_pjzBk23ufSJwLE244sCks5uYiEDgaJpZM4WWkf1\n.\n. I started a new test project.\n\nIt worked, partially...\nI was able to import api from current project and browse entries in db, but\nif I try to add a new content-type, or I try to change a relation (or\nupdate database name) it leads to a blank page, and in console:\nmain.js:16 Uncaught Error: Minified React error #188; visit\nhttps://reactjs.org/docs/error-decoder.html?invariant=188 for the full\nmessage or use the non-minified dev environment for full errors and\nadditional helpful warnings.\nOn Fri, Sep 7, 2018 at 3:35 AM, Sergio Bastias sergio@dishproductions.com\nwrote:\n\nSo content-manager won't work under :1337 anymore? It was working until\nthe past couple of days.\nOn Fri, Sep 7, 2018, 3:32 AM cyril lopez, notifications@github.com\nwrote:\n\n@sbastias https://github.com/sbastias you don't have the right\nworkflow it should be the following\ngit clone git@github.com:strapi/strapi.git\ncd strapi && npm run setup:build\nin another window\nstrapi new appName --dev\nOnce you're done with your modifications cd strapi && npm run setup:build\nAnd in another window strapi new myapp\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\nhttps://github.com/strapi/strapi/issues/1875#issuecomment-419349984,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AA9ei5DhycHS_pjzBk23ufSJwLE244sCks5uYiEDgaJpZM4WWkf1\n.\n\n\n. I spent 12 hours trying to get it working yesterday...\n\nIt really was working under 1337 before. What changed? Also, the multiple\nselection looks different, and my custom data type wasnt in the build.\nOn Fri, Sep 7, 2018, 9:13 AM cyril lopez, notifications@github.com wrote:\n\nI got the same issue I'm currently debugging it...\nThe only problem is that I don't know where the error is coming from...\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\nhttps://github.com/strapi/strapi/issues/1875#issuecomment-419434970, or mute\nthe thread\nhttps://github.com/notifications/unsubscribe-auth/AA9ei0RNB4Yny6BDR1yDcg1cTZFxk6a8ks5uYnDugaJpZM4WWkf1\n.\n. Just following up....\n\nI did as you advised and started a new project from the re-built strapi, and imported my data.\nThis is what the relational part looks like in DEV:\n\nThis is what it looks like in non-DEV strapi installation:\n\nIt actually looks better, but - my other custom admin changes aren't showing up! . 3.0.0-Alpha.13\nI had 14 installed for a quick test....\nOn Fri, Sep 7, 2018, 12:55 PM cyril lopez, notifications@github.com wrote:\n\nwhat's your version strapi?\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\nhttps://github.com/strapi/strapi/issues/1875#issuecomment-419501565, or mute\nthe thread\nhttps://github.com/notifications/unsubscribe-auth/AA9ei9PgDQO6p_9CoDfnG87yOli3cpO3ks5uYqT6gaJpZM4WWkf1\n.\n. I got it working...\n\n\nI'm not exactly sure how... I was trying to get port 4000 available publicly (as a temporary solution) so i was toying around with Apache proxypass/proxypassreverse and the strapi-helper-plugin webpack configuration (dev and base)\n. If you installed with npm run setup:build, go to your npm globals directory\nand delete strapi links.... And then run npm run setup:build again.\nOn Mon, Sep 10, 2018, 1:18 PM Alberto Maturano, notifications@github.com\nwrote:\n\nis really important here and to make sure that there are no changes in\nyour cloned repo\nAs I said, I worked from a clean clone and following your guide step by\nstep. That's why I asked if that's all what you did and nothing further.\nThe plugins.json file doesn't exist in the repository\nhttps://github.com/strapi/strapi/tree/master/packages/strapi-admin/admin/src/config\nand I think I saw the file is created running a setup.\n... I'll try again, but is really strange we have different result. It\nwill be difficult for you tracking when that file is created??... if is\ncreated at all \ud83e\udd14\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\nhttps://github.com/strapi/strapi/issues/1875#issuecomment-419991210, or mute\nthe thread\nhttps://github.com/notifications/unsubscribe-auth/AA9ei2q1qiir2ikElJ9vP9U9f1iAEAk9ks5uZp73gaJpZM4WWkf1\n.\n. Hello all,\n\nI ran into the SAME problem after making some additional edits.\nHere is what fixed it for me...\nAfter installing strapi (from a private github repo):\nstrapi> npm run setup:build (this creates global links to strapi plugins!)\nThen I deleted node_modules from both strapi-plugin-content-manager and strapi-plugin-users-permissions, and reinstalled them with npm install\nI made changes to strapi-helper-plugin, so I deleted the strapi-helper-plugin directory from the freshly installed node_modules for both plugins, and linked to it with npm link strapi-helper-plugin\n~~And for good measure, I relinked both plugins in their root directories with npm link~~ (Don't do this, it breaks the link to strapi-helper-plugin)\nThen strapi start in my app directory and PROBLEM SOLVED!!!. THANK YOU.\nOn Mon, Sep 17, 2018 at 8:49 AM, Jim LAURIE notifications@github.com\nwrote:\n\nHello @sbastias https://github.com/sbastias you have to stay in you dev\napp and run npm run setup --plugins to rebuild admin part.\nThen there is still symlink in your app, we will have to remove it.\nSo you will have to copy strapi-admin from your mono repo to you app and\nrename strapi-admin to admin\nAnd to the same for strapi-plugins-*** you use in you app. Copy from mono\nrepo to the plugin folder of your app and rename it.\nThen push all your app to your server.\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\nhttps://github.com/strapi/strapi/issues/1954#issuecomment-422001585, or mute\nthe thread\nhttps://github.com/notifications/unsubscribe-auth/AA9ei08XMZzioGp5FdSvGZDRS7ouPdGOks5ub5pdgaJpZM4WqI8d\n.\n. I'm so sorry I was slow on this - but I just launched yesterday, and this is the process:\n\n@betomoretti Here's what I ended up doing\nDevelopment\n Cloned the repo from http://github.com/strapi/strapi\n Inside clone (this is the \"monorepo\")  monorepo> npm run setup\n Then I initiated a new DEV project mypath> strapi start strapiproject --dev\n In 2 separate consoles, you need to run the strapi application and the admin separately:\n  * mypath/strapiproject> strapi start to run strapi\n  * mypath/strapiproject/admin> npm run start to run admin interface in dev mode\nAt this point, you should be able to access your project admin interface at localhost:4000\nThen I made customizations to:\n monorepo/packages/strapi-plugin-content-manager\n monorepo/packages/strapi-plugin-content-type-builder\n* monorepo/packages/strapi-upload-local\nTo use my customized strapi monorepo:\n I started a new project: mypath> strapi new realproject\n I built the admin: mypath/realproject> npm run setup\n I replaced the plugins I customized with the monorepo versions (symlinks)\n I built the plugins: mypath/realproject> npm run setup --plugins\nAnd then I ran the new straps admin!\nmypath/realproject> strapi start\nEverything seems to be working now (with strapi-plugin-grarphql v3.0.0-alpha.13 because of this bug). ",
    "mukeshmaurya91": "@bogdancrisu  i'm also stuck in same problem. And after doing some research found that (*. schema.path)is wrong and this must be (*.schema.paths). \n@lauriejim  Please fix this issue asap. Thanks. ",
    "bogdancrisu": "@lauriejim So after creating the route via content type builder, I'm unable to fetch the right item via the route/:id, is always returning the last entry that the collection has.. ",
    "T-Zahil": "Same probleme here, and I use the latest version.\n{\n      \"method\": \"GET\",\n      \"path\": \"/product/:name\",\n      \"handler\": \"Product.findOne\",\n    },\nThis route always return the last entry. . Same error here, only on my server too, and with a new empty project.. ",
    "monkeywithacupcake": "Ok. Can you verify that you are not interested in using open collective now? Should your account/slug be deleted?. ",
    "simeonackermann": "An idea might be to start strapi with the pm2 --watch flag.. Ok, I guess the best is to use a simple json config for pm2.\nconfig.json\n{\n  \"apps\" : [\n    {\n      \"name\": \"appname\",\n      \"script\": \"strapi\",\n      \"args\": \"start\"\n    }\n  ]\n}\nAnd then start with\npm2 start config.json. ",
    "ahgood": "cd strapi_directory\npm2 start server.js. ",
    "BransonGitomeh": "When will this be released? i just tried to use this plugin and it generates a graphql schema error when starting strapi. Would appreciate as soon as possible, or give instructions on how to install straight from this branch. \nregards.. ",
    "stunningpixels": "I am also experiencing this, with settings:\n  \"autoReload\": {\n    \"enabled\": true\n  },\nNode.js version:\nv9.8.0\nnpm version:\n5.6.0\nStrapi version:\n3.0.0-alpha.11.1\nOperating system:\nmacOS 10.13.2 (17C88). Still happening for me, makes this practically impossible to use Strapi with bookshelf. ",
    "makzimko": "Made some changes according to comments above #1334 . ",
    "akwatra": "Auto restarting and manual restarting also failed sometimes with message taking long time.\nINFO (7493 on mera-laptop): File changed: /www/htdocs/noder/strapi/plugins/users-permissions/services/Jwt.js\nINFO (7483 on mera-laptop): The server is restarting\nWARN (7578 on mera-laptop): Bootstrap is taking unusually long to execute its callback 3500 miliseconds).\nWARN (7578 on mera-laptop): Perhaps you forgot to call it?\nINFO (7578 on mera-laptop): Server started in /www/htdocs/noder/strapi\nINFO (7578 on mera-laptop): Your server is running at http://localhost:1337\nDEBUG (7578 on mera-laptop): Time: Wed Feb 07 2018 22:54:18 GMT+0530 (IST)\nDEBUG (7578 on mera-laptop): Launched in: 11129 ms\nDEBUG (7578 on mera-laptop): Environment: development\nDEBUG (7578 on mera-laptop): Process PID: 7578\nDEBUG (7578 on mera-laptop): Version: 3.0.0-alpha.9.1 (node v8.4.0)\nINFO (7578 on mera-laptop): To shut down your server, press  + C at any ti\n--\nINFO (7069 on mera-laptop): The server is restarting\nDEBUG (7439 on mera-laptop): Server wasn't able to start properly.\nERROR (7439 on mera-laptop): (hook:mongoose) takes too long to load\nhow to resole this?. Hi, \nI created jwt token with user /auth/local and then pass the token in header Authorisation bearer, it works.\nBut i wanted to limit the token expiration with couple of hours, While testing i tried to set the two minutes\nconst defaultJwtOptions = { expiresIn: 120 }; in Jwt.js  but that did not work \nmeans able to access the data even after expiration minutes with pollicy: isAuthenticate endpoint \nhow can i limit to expiration and other jwt refresh methods on demand,\n. I tried earlier with numeric value 120 it worked then, . ",
    "FullstackJack": "Looking forward to this in next release.. ",
    "yagobski": "Still have the same issue. I still not get data as simple js object. ",
    "abrakadobr": "i have same problem and it comes quite interesting way:\n1. i use nvm, node 9.2.0, npm 5.5.1, installed npm i -g strapi@alpha\n2. i created test project (strapi new sa1) and all goes fine - i generated auth, try module developent and admin panel - like all =)\n3. now i got idea to repeat steps of \"basic installation\" and have no success at all (repeated 6-7 times already), so i have a bit more logs, every time same:\n``\ndeveloper@abrakadobr-nb:~/dev/nodejs/strapiTests$ nvm ls\n         v8.9.1\n->       v9.2.0\ndefault -> 9 (-> v9.2.0)\nnode -> stable (-> v9.2.0) (default)\nstable -> 9.2 (-> v9.2.0) (default)\nunstable -> 8.9 (-> v8.9.1) (default)\niojs -> iojs- (-> N/A) (default)\ndeveloper@abrakadobr-nb:~/dev/nodejs/strapiTests$ npm -v\n5.5.1\ndeveloper@abrakadobr-nb:~/dev/nodejs/strapiTests$ node -v\nv9.2.0\ndeveloper@abrakadobr-nb:~/dev/nodejs/strapiTests$ \ndeveloper@abrakadobr-nb:~/dev/nodejs/strapiTests$ strapi new sa2\nINFO (18089 on abrakadobr-nb): Creating your application... It might take a few seconds.\nINFO (18089 on abrakadobr-nb): Lets configurate the connection to your database:\n Choose your main database: MongoDB (highly recommended)\n Database name: sa2\n Host: localhost\n Port: 27017\n Username: \n Password: \nINFO (18089 on abrakadobr-nb): Testing database connection...\nINFO (18089 on abrakadobr-nb): Copying the dashboard...\nINFO (18089 on abrakadobr-nb): Installing dependencies...\nINFO (18089 on abrakadobr-nb): The plugin settings-manager has been successfully installed.\nINFO (18089 on abrakadobr-nb): The plugin content-type-builder has been successfully installed.\nINFO (18089 on abrakadobr-nb): The plugin content-manager has been successfully installed.\nINFO (18089 on abrakadobr-nb): The plugin users-permissions has been successfully installed.\nINFO (18089 on abrakadobr-nb): The plugin email has been successfully installed.\nINFO (18089 on abrakadobr-nb): The plugin analytics has been successfully installed.\nINFO (18089 on abrakadobr-nb): Linkingstrapidependency to the project...\nINFO (18089 on abrakadobr-nb): Your new applicationsa2is ready at/home/developer/dev/nodejs/strapiTests/sa2`.\ndeveloper@abrakadobr-nb:~/dev/nodejs/strapiTests$ cd sa2\ndeveloper@abrakadobr-nb:~/dev/nodejs/strapiTests/sa2$ strapi start\n(node:18264) UnhandledPromiseRejectionWarning: Unhandled promise rejection (rejection id: 1): TypeError: strapi.store is not a function\n(node:18264) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.\n(node:18264) UnhandledPromiseRejectionWarning: Unhandled promise rejection (rejection id: 2): TypeError: strapi.store is not a function\nWARN (18264 on abrakadobr-nb): Bootstrap is taking unusually long to execute its callback 3500 miliseconds).\nWARN (18264 on abrakadobr-nb): Perhaps you forgot to call it?\nWARN (18264 on abrakadobr-nb): Bootstrap is taking unusually long to execute its callback 3500 miliseconds).\nWARN (18264 on abrakadobr-nb): Perhaps you forgot to call it?\n^C\ndeveloper@abrakadobr-nb:~/dev/nodejs/strapiTests/sa2$ \n```\n\nbut my 1st test project running succesfully\n\n```\ndeveloper@abrakadobr-nb:~/dev/nodejs/strapiTests/strapi1$ strapi start\nINFO (18625 on abrakadobr-nb): Server started in /home/developer/dev/nodejs/strapiTests/strapi1\nINFO (18625 on abrakadobr-nb): Your server is running at http://localhost:1337\nDEBUG (18625 on abrakadobr-nb): Time: Tue Feb 13 2018 22:52:59 GMT+0700 (+07)\nDEBUG (18625 on abrakadobr-nb): Launched in: 8132 ms\nDEBUG (18625 on abrakadobr-nb): Environment: development\nDEBUG (18625 on abrakadobr-nb): Process PID: 18625\nDEBUG (18625 on abrakadobr-nb): Version: 3.0.0-alpha.9.3 (node v9.2.0)\nINFO (18625 on abrakadobr-nb): To shut down your server, press  + C at any time\n```\n. ",
    "paulmerz": "@mittalyashu this error might be caused by the server being localhost in environment -> development -> database.json. Try to replace with 127.0.0.1.. I have the same error than you with bootstrap on windows 10 x64\nEdit : I did not install the v11 properly. Evertything's working like a charm now. Thanks !!. ",
    "doblemme": "The model is defined improperly, verify it first.. ",
    "tudorbertiean": "@mittalyashu I encountered the exact same error when I was attempting to migrate from version 14.5 to 15. In the process, I had left strapi-hook-mongoose at 14.5 and I was getting the error from that. I then npm installed strapi-hook-mongoose version 15 and the error went away.. ",
    "henriollik": "@lauriejim Thank you.\n@rroblik I realize I can just use a subdomain for Strapi but I need to use a route. I got a test folder working with the same settings but Strapi doesn't seem to come through.\n@pierreburgy I am aware of this blog post, however I need to use a route for accessing Strapi, and in the same file as my main domain, if possible.\nI have a Polymer app on my domain and it hijacks all routes. So I need to set a definite route for Strapi on the server side. Creating a separate server block file for Strapi messed things up even further.. @lauriejim I haven't tried anything new as I haven't had time to do so. So the issue still stands.. ",
    "crotel": "\nHi @henriollik\nHere is what is did, working for me OOB :\n```nginx\nupstream strapi {\n    server 127.0.0.1:1337 max_fails=1 fail_timeout=5s;\n}\nserver {\n  listen   80;\n  server_name strapi.localdomain;\naccess_log \"/var/log/nginx/strapi.access.log\";\n  error_log \"/var/log/nginx/strapi.error.log\";\n    root /mnt/hgfs/_wprojects/strapi/public;\n\nindex index.html;\nlocation / {\n      try_files $uri $uri/ @strapi;\n  }\nlocation @strapi{\n      proxy_pass http://strapi;\n  }\n}\n```\nNote : you need to start strapi to let it work as backend on 1337 port (or any other configured)\nshell\n$ strapi start\nRegards\n\nI had follow your way. port 80 url was ok, but url/admin can not open. why? . ",
    "abdonrd": "There is no proposal in https://strapi.io/vote about it.\nIs it enough with \ud83d\udc4d the first post?. About this isOwner policy... It would be great if it could have multiple owners.\nExample: A Book created by multiple Authors. All authors should be able to edit the book.. I think TypeScript could be a good thing. \ud83d\ude42. Rebased on master!. Thanks @lauriejim!. Meanwhile, I was able to connect using the uri field:\n\"uri\": \"mongodb://username:password@host:port/database?authSource=admin&ssl=true\"\n. @lauriejim done at #753! :) . Applying these changes to a work in progress project... +40.000 deletions! \ud83c\udf89 \n\n. Related to this... If I have all the build folders ignored. When I want to create them, how should I do? For example, when a friend clones the repository the first time or when I deploy it with CI.\nI have tried with:\nnpm install\nnpm run setup\nBut it only generates the admin build, and not the plugins build.. I just read in a Slack message:\nnpm run setup --plugins. We should add the plugins/users-permissions/config/actions.json, right?\nIt is an automatically generated file.. @lauriejim @Aurelsicoko something more to be able to merge this PR?. Ok, thanks! \ud83d\udc4f. @lauriejim thanks for the feedback! \ud83d\udc4f \n\nWe have to send it on npm to not make the entire build when someone install strapi.\n\nWhy send the build to npm? I thought that run the build after the installation was the best option.\nhttps://unpkg.com/strapi-admin@3.0.0-alpha.11.1/admin/build/. @lauriejim so you also recommend that we keep the builds in git? \ud83d\ude15 . @lauriejim I will wait for the https://github.com/strapi/strapi/issues/798 discussion.. We can close it, and create new PRs for:\n\nhttps://github.com/strapi/strapi/issues/822: Split project setup process\nhttps://github.com/strapi/strapi/issues/824: Optimize the build process time\nhttps://github.com/strapi/strapi/issues/823: Remove unneeded files from new generated project. Maybe related with #709?. I think the same thing happened to me. \ud83d\ude15 . @aguilera51284 I haven't code, I just edited a bit from the Chrome Dev Tools to be able to do the animation.. Yes, we can do it programmatically. But being able to define it from the UI would be great.. I'll try it as soon as I can! (tomorrow I guess). @lauriejim it works for me with using the config/environments/development/database.json! \ud83c\udf89 \n\nBut it doesn't work with the interactive CLI from strapi new myDevelopmentProject --dev.. @lauriejim remember that it doesn't work with the interactive CLI from strapi new myDevelopmentProject --dev, only with the config files.\n\nWith the same data in the config files, it works.. I have the same issue with v3.0.0-alpha.11.. Duplicate from #757?. @lauriejim sorry, but I have not understood it well. Could you show me an example?. @lauriejim But in this case of use, the Writer does not have in his model the Company for which he works; I don't want to store it because I only want to know in which Company the Writer was working when that Document was made. The idea is like:\nWriter\njavascript\n{\n  \"_id\": ObjectId(\"5aa1efaef2a732375cb64a80\"),\n  \"name\": \"Jim\"\n}\nCompany\njavascript\n{\n  \"_id\": ObjectId(\"5aa1f259fc33c43e5fa8a6f5\"),\n  \"name\": \"Strapi Solutions\"\n}\nDocument\njavascript\n{\n  \"_id\": ObjectId(\"5aad4b07a1ff586b57064f02\"),\n  \"name\": \"Document name\",\n  \"datetime\": ISODate(\"2017-12-15T00:00:00.000Z\"),\n  \"authors\" : [ \n    {\n      \"writerId\": ObjectId(\"5aa1efaef2a732375cb64a80\"),  // Jim\n      \"companyId\": ObjectId(\"5aa1f259fc33c43e5fa8a6f5\")  // Strapi Solutions\n    }\n  ]\n}\n// In this document, we know that Jim was working (december 2017) in Strapi Solutions.\n// Maybe now (march 2018) Jim works in another Company. I don't care.. @lauriejim any recommendation about how to deal with this?\n(right now the admin UI is not important for me). @lauriejim But in that way... I can't create the Document at once, right?\nI need to do POST /document:\njavascript\n{\n  \"name\": \"Document name\",\n  \"datetime\": ISODate(\"2017-12-15T00:00:00.000Z\"),\n  \"authors\" : [ \n    {\n      \"writerId\": ObjectId(\"5aa1efaef2a732375cb64a80\"),  // Jim\n      \"companyId\": ObjectId(\"5aa1f259fc33c43e5fa8a6f5\")  // Strapi Solutions\n    }\n  ]\n}\nAnd not:\n\nPOST /documentauthor:\n\njavascript\n{\n  \"writerId\": ObjectId(\"5aa1efaef2a732375cb64a80\"),  // Jim\n  \"companyId\": ObjectId(\"5aa1f259fc33c43e5fa8a6f5\")  // Strapi Solutions\n}\n\nPOST /document:\n\njavascript\n{\n  \"name\": \"Document name\",\n  \"datetime\": ISODate(\"2017-12-15T00:00:00.000Z\"),\n  \"authors\" : [ \n    ObjectId(\"id-from-the-step-one\")\n  ]\n}. I am also interested in this!\nI think I'll be limited to using LTS. \ud83d\ude15. @soupette no, I mean the Array data type from MongoDB:\nhttps://docs.mongodb.com/manual/reference/operator/query/type/#available-types. I just sent https://github.com/strapi/strapi/pull/796 so that at least, for now, it is supported in the backend.. @lauriejim yes, please! Thanks! \ud83d\ude42. Add more references in the first post:\n\nhttps://github.com/strapi/strapi/issues/761: Allow Array of relations objects field type\nhttps://github.com/strapi/strapi/issues/1169: Error with the Array field type. @lauriejim I think it is not fixed, an Enumeration is not and Array.... @lauriejim @soupette as a small improvement in the administration panel, what would you think of showing the Array field as the current JSON field?. @soupette what do you think? Would it be easy?. @soupette sounds great!\n\nAnd how would you show it if the elements were not a string? Example:\njavascript\n[\n  {\n    \"writerId\": ObjectId(\"5aa1efaef2a732375cb64a80\"),\n    \"companyId\": ObjectId(\"5aa1f259fc33c43e5fa8a6f5\")\n  },\n  ...\n]. Interesting! I had some problems these days for having staging as NODE_ENV.. Oops! I forgot to mention that in my repository I have deleted & ignore the build folders (as #705).\nMaybe I'm wrong, but I thought about this workflow:\n\nClone the repository. It has no builds (#705).\nnpm install. Only install, no post-install.js.\nnpm run build (post-install.js & npm run build --plugins)\nnpm start\n\nThe same to auto-deploy with CI. Travis example:\nyaml\nlanguage: node_js\nnode_js: \"9\"\nbefore_script:\n  - npm run lint\nscript:\n  - npm run test\nbefore_deploy:\n  - npm run build\ndeploy:\n  - ...\n    on:\n      branch: develop\ndeploy:\n  - ...\n    on:\n      branch: master. I just create a demo repository:\nhttps://github.com/abdonrd/strapi-demo\nAnd this PR with the desired changes as a consumer of Strapi (cleaner repository):\nhttps://github.com/abdonrd/strapi-demo/pull/1\nViewing the commits separately is easier to review.. 1. Can we extract the dependencies installs of the project and in each plugin from the npm run setup and move it to npm install? Also add three new build npm scripts.\n* `npm install`: install all the dependencies (project & plugins)\n* `npm run build:admin`: Build only the admin.\n* `npm run build:plugins`: Build only the plugins.\n* `npm run build`: `npm run build:admin && npm run build:plugins`.\n\n\n\nOk!\n\n\nOk!\n\n\n\n\n@Aurelsicoko so you recommend that we as Strapi users keep the build folders in git? \ud83d\ude15\n\nThere are a lot of changes (https://github.com/abdonrd/strapi-demo/pull/1/commits/ec3ff373102c475c0182c45fc4da10fe819aa10d):\n\n. 5. About the .npmignores... (https://github.com/abdonrd/strapi-demo/pull/1/commits/9888769370c73932fecd9b222e876d0c0720d0a6 & https://github.com/abdonrd/strapi-demo/pull/1/commits/8809bf5dbbb6ecb9dbfe1c99ae57057c9744cc14)\nWe can remove it in the new strapi myProject script? There Strapi users don\u00b4t need it.\nThere are +2.000 changes.. 6. By the way, why the build time is so long?. Is there a test environment? \ud83d\ude2e \nWith the last release, I only have development & production in config/environments/.. Why the test folder is not created with the strapi new projectName?. I'm afraid that in the short term, no. \ud83d\ude15\n(I'm out on vacation \ud83d\ude05). @lauriejim I think it can stay open. There are still files that could be deleted like the .npmignores.. @lauriejim with the last version (v3.0.0-alpha.17), I see a new .snyk file. \ud83d\ude05\n\n. Sounds really great, thanks @soupette! \ud83d\udc4f . It seems the same problem as https://github.com/strapi/strapi/issues/858.. @lauriejim but I have had this issue using Node v9.8.0.. Only as suggestion, I propose to move it to v3.0.0-alpha.11.3, because it starts to fail in v3.0.0-alpha.11.2. With v3.0.0-alpha.11.1 works well.. Maybe the bug is from #773, since it is the moment in which file strapi-plugin-users-permissions/services/UsersPermissions.js was edited.. I just tried with the new version (v3.0.0-alpha.12) and it still happens.\n\n. @lauriejim I have to investigate it better since I have just verified that it works locally.\nWhere it fails is in the online version (on IBM Cloud).\n\n. @lauriejim for that it is necessary to modify the plugin itself, right? I don't see any configuration option.. By the way, I just see a typo. It should be Database.\n. @lauriejim yes, with MongoDB (MongoDB shell version v3.6.3).\nI just tried with the last version of Strapi (v3.0.0-alpha.11.3) and it still doesn't work. \ud83d\ude15 . >Can you check if this Mongoose schema still working with your version of Mongo.\nSorry, how can I check it? Thanks in advance!\n\nWhen I run npm start...\n_.get(definition, 'options.timestamps') is true\n\n. Yes, I use Mongoose.\nThanks @lauriejim!. @lauriejim with the v3.0.0-alpha.12.1.3 installed from scratch, it is still happening.\n(I'm using MongoDB). Seems to be only from the admin panel.\nIf I use a PUT /model/:id it works.. Maybe you might be interested: Multiple issue and pull request templates.. @lauriejim pam! \ud83d\udca5\nhttps://blog.github.com/2018-05-02-issue-template-improvements/\nhttps://github.com/babel/babel/issues/new/choose. Yep! It works if I use strapi start, but not if I use npm start.\nI just tried now with Strapi v3.0.0-alpha.12.. @lauriejim if I use npm start the server restart doesn't work. If I use strapi start it works.. @lauriejim I just see the:\n\n@bartoszgajda55 you can replace \"start\": \"node_modules/strapi/bin/strapi.js start\", in your package.json and then start the app with pm2 start npm -- start\n\nBut in my package.json, the start script is \"start\": \"node server.js\",. @lauriejim you link to the same issue. \ud83d\ude05 . From https://github.com/strapi/strapi/issues/972#issue-315762164:\n\n\nWorkspaces are a new way to setup your package architecture that\u2019s available by default starting from Yarn 1.0. It allows you to setup multiple packages in such a way that you only need to run yarn install once to install all of them in a single pass.\n\nReference: https://yarnpkg.com/lang/en/docs/workspaces/\nReference at Yarn Workspaces of One vs. many\u200a\u2014\u200aWhy we moved from multiple git repos to a monorepo and how we set it up.. No, I need to use the Grant - Custom Providers. \ud83d\ude1e \n\njson\n\"myProvider\": {\n  \"authorize_url\": \"[AUTHORIZE_URL]\",\n  \"access_url\": \"[ACCESS_URL]\",\n  \"oauth\": 2,\n  \"key\": \"[CONSUMER_KEY]\",\n  \"secret\": \"[CONSUMER_SECRET]\",\n  \"callback\": \"/handle_myProvider_callback\"\n}. Besides these files, what else do I need to modify? Something escapes me.\nplugins/users-permissions/admin/src/components/PopUpForm/index.js\nplugins/users-permissions/admin/src/containers/HomePage/data.json\nplugins/users-permissions/admin/src/translations/en.json\nplugins/users-permissions/config/functions/bootstrap.js\nplugins/users-permissions/services/Providers.js. @lauriejim I can't find this file:\n\n. @zhuang17 not yet! \ud83d\ude15 \n\n@lauriejim the grantConfig constant from the connect function:\nhttps://github.com/strapi/strapi/blob/6934661845b375a6f4dd7b9f1e6f43ea32ee438a/packages/strapi-plugin-users-permissions/controllers/Auth.js#L131-L136\nit doesn't have my new provider (called newProvider):\n\n. @lauriejim these are my current changes:\nhttps://github.com/abdonrd/strapi-demo/compare/new-provider?expand=1. @zhuang17 I have not changed anything in the DB. These are my current changes:\nhttps://github.com/abdonrd/strapi-demo/compare/new-provider?expand=1. @zhuang17 Oh! I had not realized that! I will try wiht a new database.. Next week I'll try to try again with the information in this issue.\nBut anyway, I guess it's still missing documentation.. I did not manage to make it work well. Also related with #927.\nAnyway, to my knowledge, the process is still not documented anywhere.\nAn even better option would be to give the option to add a custom provider from the administration panel.\n\nOn the other hand, I did manage to make an example work with Grant & Koa with this configuration:\njson\n\"customprovider\": {\n  \"authorize_url\": \"[AUTHORIZE_URL]\",\n  \"access_url\": \"[ACCESS_URL]\",\n  \"oauth\": 2,\n  \"key\": \"[CONSUMER_KEY]\",\n  \"secret\": \"[CONSUMER_SECRET]\",\n  \"callback\": \"/handle_customprovider_callback\",\n  \"scope\": [\"openid\"]\n}\nAlso, in the /handle_customprovider_callback I get the user profile directly from the JWT.. @lauriejim you link to the same issue. \ud83d\ude05 . Sorry, how does the URL affect one way (/auth/) or another (/connect/)?. But I see...\n| Provider | Redirect URL to add in the application |  |\n| -------- | --------------------------------------:| -- |\n| Google | http://localhost:1337/connect/:provider/callback | with /connect |\n| Facebook | http://localhost:1337/connect/:provider/callback | with /connect |\n| GitHub | /auth/:provider/callback | with /auth |\n| Twitter | http://localhost:1337/auth/:provider/callback | with /auth |\nGitHub & Twitter are different from Google & Facebook.\nYou can see the pictures in the first post.. In fact, I've tried with GitHub & Twitter; I didn't get any of them to work for me (on the callback I get a 400).. Twitter fixed by https://github.com/strapi/strapi/pull/2347!\nRight now:\n| Provider | Redirect URL to add in the application |  |\n| -------- | --------------------------------------:| -- |\n| Google | http://localhost:1337/connect/:provider/callback | with /connect |\n| Facebook | http://localhost:1337/connect/:provider/callback | with /connect |\n| Twitter | http://localhost:1337/connect/:provider/callback | with /connect |\n| GitHub | /auth/:provider/callback | with /auth |. @lauriejim yes, it works!\n\nNevertheless, I have needed to restart the server to see the plugin installed in the Plugins section.\nAlso, in the Marketplace I still see the option to download:\n\n. Sorry, @Aurelsicoko, maybe you write in the wrong issue?\nI think #973 has fixed this issue.. I have used yarn since the first day and I have not had any problems.\nOperating system: macOS. Ouch! Thanks @lauriejim!. Suggested solution by @soupette at https://github.com/strapi/strapi/issues/962#issuecomment-382372934:\n\n@abdonrd, you're seeing the download option in the marketplace because the admin uses the context where all the plugins with an Admin are set. Since this commit a plugin can be installed without the Admin folder, therefore it's not injected into the admin panel.\nIn this way the previous logic that checks if whether or not a plugin is mounted into the context is outdated.\nHow can we fix it?\nWe need to change the logic which is based on the context api and :\n\ncreate an endpoint in the strapi-admin plugin that simply returns the installed plugins (file located in packages/strapi-admin/admin/src/config/plugins.json)\nGet the info when the InstallPluginPage is mounted and base the logic on the data received previously. It could be fine for the providers to be in a configuration JSON, right?. Oh, I mean a .json file as default init config to make it easy to add a new one. But keep the logic of it being stored in the database.. @Aurelsicoko I think GitHub is the best example: https://github.com/strapi/strapi/issues/1086#issue-319568700. By the way... I don't like very much the checkbox the because:\n\n\n\nIn the issues view:\n\n. I guess so...\nI really don't know if gain some effectiveness by forcing people to check the checkbox.\nPeople who do not follow the template, possibly delete it entirely haha. Also, maybe you want to remove/update the .github/ISSUE_TEMPLATE.md.. @lauriejim with strapi start after a fresh installation.. @lauriejim and same thing in the staging deployed version.. Seems fixed with the last v3.0.0-alpha.12.2! \ud83c\udf89 . Oops! I just find a related issue: https://github.com/strapi/strapi/issues/661. Also when I select the Conferences content type:\n\nBut when I select the Conferenceeditions content type the both content types are selected:\n\n. @lauriejim it works well for me, I can't reproduce the issue.\n(I don't use ads blocking). @lauriejim I'm talking about the API, but having it in the admin would not hurt.. Another good example:\nI have a Document model with:\n title\n summary\nImagine a search box on the web that consumes the API (not the Strapi admin). And the user wants to find a document. The search option must also search both fields at the same time.. I just tried with the:\nGET /user?username_contains=abdon&email_contains=abdon\nBut it seems to need to match both contains conditions.\nThere are any option right now to allow return with only one match?. @lauriejim it's a bit ugly, but... Did yo mean something like this?\n```js\nfetchAll: (params) => {\n  if (params._search) {\n    params.username_contains = params._search;\n    params.email_contains = params._search;\n    delete params._search;\n  }\nreturn strapi.query('user', 'users-permissions').find(strapi.utils.models.convertParams('user', params));\n},\n```\nOne trouble is that this requires that they match the two conditions.. @lauriejim ok, thanks Jim!. @lauriejim @Aurelsicoko looks nice! It can be used from the API (not admin UI) too, right? \ud83d\ude01 . Same issue here!. Anyway, I think we can remove the node_modules in the scripts as:\njson\n\"strapi\": \"strapi\",\n\"lint\": \"eslint api/**/*.js config/**/*.js plugins/**/*.js\",. Oh! I thought I did not have it, and that it would be a different issue. But it seems the same.\nThanks @derrickmehaffy!. In my case, is a second field; but the first is a simple name (String).. @lauriejim yes! It works with the user model.. @lauriejim What do you mean? Like this?\n```json\n{\n  \"defaultConnection\": \"default\",\n  \"connections\": {\n    \"default\": {\n      \"connector\": \"strapi-mongoose\",\n      \"settings\": {\n        \"client\": \"mongo\"\n      },\n      \"options\": {\n        \"uri\": \"${process.env.DATABASE_URI}\"\n      }\n    }\n  }\n}\n```. @lauriejim it works, but I can't do that because I use a service that only offers me a URI with all the information. The URI is like this:\nDATABASE_URI=mongodb://username:password@host:port/database?authSource=admin&ssl=true. Ok, if we assume that options is more important than the parameters of the URI.. No, because it's override SSL as false:\nhttps://github.com/strapi/strapi/blob/4becad13f1e571ceaa9684b9ea36771367a039e1/packages/strapi-mongoose/lib/index.js#L42\nhttps://github.com/strapi/strapi/blob/4becad13f1e571ceaa9684b9ea36771367a039e1/packages/strapi-mongoose/lib/index.js#L72. Updated and working for me! \ud83d\ude01 Thanks @lauriejim!. @lauriejim oops! Fixed now!. I am not able to setup providers on staging/production too!. I am also interested in this, great job! \ud83d\udc4f. Yes! I have the same problem!. Also interested in includes/excludes fields!. There are an issue about this? I am not able to setup providers on staging/production.. I just tried with npm 6, but the same behaviour.\nSteps:\n\nAdd app.yaml file:\n\nruntime: nodejs8\n\nUpdate the engines option from package.json to:\n\n\"engines\": {\n    \"node\": \"^8.0.0\",\n    \"npm\": \"^6.0.0\"\n  },\n\n\nRun this command:\ngcloud app deploy app.yaml\n\n\nOpen https://project-id.appspot.com:\n\n\n\n\nOpen the logs in the Google Cloud Platform console:\n\n\n. @jinnkhan88 I can't:\nERROR: (gcloud.app.deploy) INVALID_ARGUMENT: This deployment has too many files. New versions are limited to 10000 files for this app.\n- '@type': type.googleapis.com/google.rpc.BadRequest\n  fieldViolations:\n  - description: This deployment has too many files. New versions are limited to 10000\n      files for this app.\n    field: version.deployment.files[...]. @jinnkhan88 right now I'm not interested in the flexible environment because pricing. I want to use the standard environment.\nhttps://cloud.google.com/appengine/docs/the-appengine-environments. Same issue with the new App Engine version supported (Node.js 10):\n\"engines\": {\n    \"node\": \">=10.0.0\",\n    \"npm\": \">=6.0.0\"\n  },. I just tried to copy the plugins dependencies to the main package.json, but it has not worked for me either. \ud83d\ude22 . Thanks to the Google Cloud team, now I have an update:\nWe can add this gcp-build new script to run the postinstall:\n\"gcp-build\": \"node node_modules/strapi/lib/utils/post-install.js\",\nBut Strapi uses a lot of memory ( \ud83d\ude22), so we also need to use a bigger instance class in app.yaml:\nruntime: nodejs10\ninstance_class: F2\nAnd still, we find more issues about GraphQL... \ud83d\ude22 \n\n. @derrickmehaffy currently I have the entire project generated. \ud83d\ude15 . @derrickmehaffy yes!\n```yaml\nruntime: nodejs10\ninstance_class: F2\nenv_variables:\n  NODE_ENV: staging\n  DATABASE_URI: 'xxx'\n```. @lauriejim could you reopen it? \ud83d\ude05 \n\n\nerror EROFS: read-only file system, open '/srv/admin/admin/build/index.html'\n{ [Error: EROFS: read-only file system, open '/srv/admin/admin/build/index.html']\nerrno: -30, \ncode: 'EROFS', \nsyscall: 'open', \npath: '/srv/admin/admin/build/index.html' } \n. https://github.com/strapi/strapi/blob/94c2f0e99997073ec88be40dc520b10ffd8b2d02/packages/strapi/lib/core/admin.js#L61-L67\n\nIs this? I'm not sure how all Strapi works internally.. Same issue here! :). > Hello @cesarvarela and @abdonrd.\n\nDid you install strapi with yarn ? or with npm ?\nIt work on my side, new fresh app with new fresh database.\n\nWith npm!. > Was it a app migration or new app ?\nI have tried both!. I always use Chrome. \ud83d\ude15 . I can't see the /content-manager/models request in the Network tab when the content doesn't appear.. I have the same issue!. @Aurelsicoko after add the battles field:\n\"battles\": {\n  \"type\": \"array\",\n  \"model\": \"battle\"\n},\nI add this to the controller:\ndata.battles = [...data.battles1, ...data.battles2];\nBut the plugins/graphql/config/generated/schema.graphql it's wrong.\nThe battles field in the UsersPermissionsUser type is:\nbattles: String\nInstead of:\nbattles(sort: String, limit: Int, start: Int, where: JSON): [Battle]\nAnd the battles field in the UserInput type is:\nbattles: String\nInstead of:\nbattles: [ID]. @Aurelsicoko you mean this?\n\"battles\": {\n  \"type\": \"array\",\n  \"model\": \"battle\"\n},. @Aurelsicoko with this, strapi start doesn't work:\n[2018-12-20T10:22:32.052Z] error Something went wrong in the model `User` with the attribute `battles`\n[2018-12-20T10:22:32.053Z] error Cannot read property 'nature' of undefined. @Aurelsicoko can we reopen the issue then? \ud83d\ude42. @Aurelsicoko how is the update of a package, and not a real feature, I didn't send this to the Product Board. Should I do it?. @derrickmehaffy thanks for the ping! I guess I accidentally deleted the branch.. @maturanomx I have tested with Google, Twitter & one custom provider.. @lauriejim as you know, I also have issues with the providers: #927, #891, etc.\nAnd I also have this issue with Twitter. I tried #2347 and now I have Twitter working in development!\nAlso using something like #2160/#2110 to work on staging and production.. @lauriejim about the Migration guide...\nWe need to keep the jwtSecret from plugins/users-permissions/config/jwt.json?. @lauriejim following this I will change my plugins/users-permissions/config/jwt.json:\n\nThen, delete your old plugins folder and replace it with the new one.\n\n\"the new one\" has a new plugins/users-permissions/config/jwt.json.. Oops! \ud83d\ude05 \nI found it the other day by chance. Right when I commented here.\nAnd what are the implications of having changed it? \ud83d\ude05 . But this works:\njavascript\n{\n  matchdays(sort: \"date:DESC\") {\n    name\n    date\n  }\n}. @kamalbennani thanks in advance!\n(For now, I had to rollback the Strapi version). @Aurelsicoko is there a \"simple\" fix or is all the PR necessary?\nThis bug does not let me update to the new v3.0.0-alpha.15 version.. Yay! Thanks @kamalbennani!\nI hope there will be a version v3.0.0-alpha.15.1 very soon with it! \ud83e\udd1e. @lauriejim it works on alpha.16, yes!. Can I ask what happened with this? It seems super interesting!. Cypress PR (#2348) merged! \ud83c\udf89 . @lauriejim @derrickmehaffy Oops! Now I also see the provider input in the edit view:\n\n. In fact, I would like it to be unnecessary to add empty string \"' as an option in the enum array.\nI think not adding the required field should be enough.. @Aurelsicoko I can't select empty option:\n\n. Perhaps the solution is to allow dropdowns of enumerations that are not required to have an option to leave the field empty?. @Aurelsicoko If you (or @soupette) can guide me a little, I can try it next week!. @soupette something like this #2531?\nTake care that selectOptions from https://github.com/strapi/strapi/pull/2531/files#diff-ae65e6ec17e7002037c903bbf1dd943cR79 doesn't work. How should we do it?. @soupette @lauriejim could you review it? I would like to solve #2146 as soon as possible. Thanks in advance!. @lauriejim no. Do you prefer that I change it to try/catch?. @lauriejim ok! It also makes sense to me! \ud83d\udc4d . I'm still thinking...\nIn my case, I have the three environments:\n- development: it stays on my computer (can create the files)\n- staging: I deploy it (can't create the files)\n- production: I deploy it (can't create the files). @lauriejim exactly! \ud83d\ude01\nThanks Jim!. Awesome, thanks @lauriejim & @derrickmehaffy!\nThere's some way I can try this before the release? To confirm that this is enough to solve #2146.. > @abdonrd you can fork the branch and build it from source.\n\nOn linux just make sure you have the libpng-dev package installed or you'll hit an error on build. Clone the source (make sure you have the global strapi package removed) then run npm run setup:build then create a dev project strapi new test --dev\n\n@lauriejim @derrickmehaffy but as we edit the packages/strapi/lib/core/plugins.js...\nWhen the deploy server (GAE, Heroku, etc) runs the npm install will not have that change, right?. @lauriejim any option to create a small test release about this? I don't know if it would be something simple or would involve a lot of work.. @lauriejim @derrickmehaffy It seems that we have forgotten something: https://github.com/strapi/strapi/issues/2146#issuecomment-454768366. @lauriejim remember https://github.com/strapi/strapi/pull/2394#issuecomment-448316763 \ud83d\ude04 . @lauriejim what do you think about publish a dev version to npm?\nLike this: https://github.com/Polymer/lit-element/pull/431\nJust publishing strapi core is enough, you do not need to publish all the npm packages.. @projik I mean the same as: https://github.com/strapi/strapi/pull/1520#issue-199412384. @Aurelsicoko starting at #2685!. @lauriejim I think I'm going to need help! \ud83d\ude05 The search function is not working.\nstrapi.query('user', 'users-permissions').attributes returns undefined.. It's a bit strange, but it seems that after updating the User model from the Content Manager of the admin panel... it works well again \ud83e\udd37\u200d\u2642\ufe0f. Ouch! Now I have the same issue with other models. \ud83d\ude22 . @derrickmehaffy thanks, but I just did that and it still doesn't work. \ud83d\ude15 \nMaybe I had a false positive.. Ouch :/\nHow can I debug this? As it is in admin/src/ I guess it does not run, and it runs the admin/build/.. @lauriejim @soupette I just created a new project with Strapi v3.0.0-alpha.23.\n\nRegister the root user.\nGo to the edit user view. Change email and click \"Save\" button. It works!\nAdd new user field (birthdate) from the Content Type Builder. It adds to the User.settings.json:\n\"birthdate\": {\n      \"default\": \"\",\n      \"type\": \"date\"\n    }\nThe server auto-restarts.\nGo to the edit user view. Change email and click \"Save\" button. It doesn't work! \ud83d\ude22 \n\n\n. @lauriejim Your welcome! Right now it affects a couple of my projects, so it's been easy to locate.. Any news?\nI would like to be able to update version v3.0.0-alpha.21 of several applications.\nThanks in advance!. @lauriejim I mean an integer attribute that auto increment.\nLike we have here at GitHub with the issues and the PRs.. Maybe! If we want to replace the current ID.\nOr something like this if we want it as another field:\n\"identifier\": {\n  \"type\": \"integer\",\n  \"autoIncrement\": true\n},\n. @Aurelsicoko for now I will not be able to dedicate time. \ud83d\ude15 . Ouch! Really sorry! \ud83d\ude4f\nI don't understand why I can mark this pull request as ready for review. \ud83d\ude2e . I can not do the build process either:\n```\n\u279c  my-secret-project git:(strapi) \u2717 npm run setup --plugins\n\nmy-secret-project@0.1.0 setup /Users/abdonrd/my-secret-project\ncd admin && npm run setup\nstrapi-admin@3.0.0-alpha.25.2 presetup /Users/abdonrd/my-secret-project/admin\nnode ./scripts/preSetup.js\n\n\ud83d\udd53  The setup process can take few minutes.\n\ud83d\udd38  Administration Panel\n\ud83d\udce6  Installing packages...\nPackages installed successfully\n\nstrapi-admin@3.0.0-alpha.25.2 setup /Users/abdonrd/my-secret-project/admin\nnode ./scripts/setup.js\n\n\ud83c\udfd7  Building the admin...\n\u2705  Success\nls: no such file or directory: * -d\n\ud83d\udd38  Plugin - Content-manager\n\ud83d\udce6  Installing packages...\n\ud83c\udfd7  Building...\n\u2705  Success\n\ud83d\udd38  Plugin - Content-type-builder\n\ud83d\udce6  Installing packages...\n\ud83c\udfd7  Building...\ninternal/modules/cjs/loader.js:605\n    throw err;\n    ^\nError: Cannot find module './'\n    at Function.Module._resolveFilename (internal/modules/cjs/loader.js:603:15)\n    at Function.Module._load (internal/modules/cjs/loader.js:529:25)\n    at Module.require (internal/modules/cjs/loader.js:657:17)\n    at require (internal/modules/cjs/helpers.js:22:18)\n    at Object. (/Users/abdonrd/my-secret-project/node_modules/.bin/rimraf:3:14)\n    at Module._compile (internal/modules/cjs/loader.js:721:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:732:10)\n    at Module.load (internal/modules/cjs/loader.js:620:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:560:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:552:3)\nnpm ERR! code ELIFECYCLE\nnpm ERR! errno 1\nnpm ERR! strapi-plugin-content-type-builder@3.0.0-alpha.25.2 build:clean: cross-env rimraf admin/build\nnpm ERR! Exit status 1\nnpm ERR! \nnpm ERR! Failed at the strapi-plugin-content-type-builder@3.0.0-alpha.25.2 build:clean script.\nnpm ERR! This is probably not a problem with npm. There is likely additional logging output above.\nnpm ERR! A complete log of this run can be found in:\nnpm ERR!     /Users/abdonrd/.npm/_logs/2019-03-19T23_23_06_218Z-debug.log\nnpm ERR! code ELIFECYCLE\nnpm ERR! errno 1\nnpm ERR! strapi-plugin-content-type-builder@3.0.0-alpha.25.2 prebuild: npm run build:clean\nnpm ERR! Exit status 1\nnpm ERR! \nnpm ERR! Failed at the strapi-plugin-content-type-builder@3.0.0-alpha.25.2 prebuild script.\nnpm ERR! This is probably not a problem with npm. There is likely additional logging output above.\nnpm ERR! A complete log of this run can be found in:\nnpm ERR!     /Users/abdonrd/.npm/_logs/2019-03-19T23_23_06_250Z-debug.log\nnpm ERR! code ELIFECYCLE\nnpm ERR! errno 1\nnpm ERR! strapi-admin@3.0.0-alpha.25.2 setup: node ./scripts/setup.js\nnpm ERR! Exit status 1\nnpm ERR! \nnpm ERR! Failed at the strapi-admin@3.0.0-alpha.25.2 setup script.\nnpm ERR! This is probably not a problem with npm. There is likely additional logging output above.\nnpm ERR! A complete log of this run can be found in:\nnpm ERR!     /Users/abdonrd/.npm/_logs/2019-03-19T23_23_06_291Z-debug.log\nnpm ERR! code ELIFECYCLE\nnpm ERR! errno 1\nnpm ERR! my-secret-project@0.1.0 setup: cd admin && npm run setup\nnpm ERR! Exit status 1\nnpm ERR! \nnpm ERR! Failed at the my-secret-project@0.1.0 setup script.\nnpm ERR! This is probably not a problem with npm. There is likely additional logging output above.\nnpm ERR! A complete log of this run can be found in:\nnpm ERR!     /Users/abdonrd/.npm/_logs/2019-03-19T23_23_06_366Z-debug.log\n``. @kuzn-ilya I use Node v11.6.0.. Will it be configurable? Or you will track all the Strapi projects?.Originonly instaging`?. Maybe you prefer a title:\n```\nWhat is the expected behavior?\n```\nWhat is the expected behavior?\n\nExample at https://github.com/QISKit/qiskit-js/commit/31b417280738310c4bb09369138f92bf01442626. Something like this https://github.com/strapi/strapi/pull/2518/commits/7d039644fae62e63994546783fade20158db72ac?. Mmm but that's the reason why we try to programmatically add an empty option if the field is not required, right?\nFrom:\n\nTo:\n\n<option value=\"\"></option>\nOr:\n\n<option value=\"undefined\">undefined</option>. Updated wit your code!. suggestion\n    if (isArray(get(err, 'response.payload.message'))) {\nThanks @Aurelsicoko!. ",
    "pt-br": "Is there any workaround to self-implement it for at least destroy and update permissions?\nI really miss this feature \ud83d\ude1e \nEdit:\nJust did a very quick basic  global isOwner policy that I'll use for the DELETE and UPDATE endpoints\n\nisOwner.js (global policy for DELETE and UPDATE endpoints)\n```\nmodule.exports = async (ctx, next) => {\n  const { role } = ctx.state.user;\n  const { url } = ctx.request;\nconst fieldName = url.match(/([^\\/]+[^\\/])/gm)[0]; \n  const fieldId = url.match(/([^\\/]+[^\\/])/gm)[1];\nconst field = ctx.state.user[fieldName];\nif (role.type !== 'root' && field && !field.find(item => item._id.toString() === fieldId)) {\n    return ctx.unauthorized(\n      'You are not allowed to perform this action! (You are not the Owner)'\n    );\n  }\nawait next();\n};\n``` \nsetOwner.js (global policy for POST(create) endpoints)\n```\nmodule.exports = async (ctx, next) => {\n  const { _id } = ctx.state.user;\n  const { body } = ctx.request;\nbody.owner = _id.toString();\nawait next();\n};\n```\n\n. ",
    "feat7": "I used policies and changed controller behavior to obtain this. Got insights from @pt-br 's comment.\nI don't know somehow the global policies were not working for me so I went with local policies.\nI have a Client Model wherein the each client has one user (owner).\n\nisOwner.js (local policy)\n```\nmodule.exports = async (ctx, next) => {\n  const { role, id } = ctx.state.user;\nconst fieldId = ctx.params._id;\nif (typeof fieldId !== \"undefined\")\n    Client.findOne({ _id: fieldId, owner: id }).then(result => {\n      if (!result && role.type !== \"administrator\")\n        return ctx.unauthorized(\"You are not allowed to perform this action.\");\n    });\nawait next();\n};\n```\nsetOwner.js (local policy)\n```\nmodule.exports = async (ctx, next) => {\n  const { _id } = ctx.state.user;\n  const { body } = ctx.request;\nbody.owner = _id.toString();\nawait next();\n};\n```\nRoutes:\nsetOwner for PUT and POST methods.\nisOwner for rest of the methods.\n```\n{\n  \"routes\": [\n    {\n      \"method\": \"GET\",\n      \"path\": \"/client\",\n      \"handler\": \"Client.find\",\n      \"config\": {\n        \"policies\": [\"isOwner\"]\n      }\n    },\n    {\n      \"method\": \"GET\",\n      \"path\": \"/client/count\",\n      \"handler\": \"Client.count\",\n      \"config\": {\n        \"policies\": [\"isOwner\"]\n      }\n    },\n    {\n      \"method\": \"GET\",\n      \"path\": \"/client/:_id\",\n      \"handler\": \"Client.findOne\",\n      \"config\": {\n        \"policies\": [\"isOwner\"]\n      }\n    },\n    {\n      \"method\": \"POST\",\n      \"path\": \"/client\",\n      \"handler\": \"Client.create\",\n      \"config\": {\n        \"policies\": [\"setOwner\"]\n      }\n    },\n    {\n      \"method\": \"PUT\",\n      \"path\": \"/client/:_id\",\n      \"handler\": \"Client.update\",\n      \"config\": {\n        \"policies\": [\"setOwner\"]\n      }\n    },\n    {\n      \"method\": \"DELETE\",\n      \"path\": \"/client/:_id\",\n      \"handler\": \"Client.destroy\",\n      \"config\": {\n        \"policies\": [\"isOwner\"]\n      }\n    }\n  ]\n}\n```\nHope this helps. :sunglasses: . ",
    "mbaez": "based on @feat7 response,  i just did a very quick basic global isOwner policy (generic)\nisOwner.js (global policy for GET endpoints)\n```js\nmodule.exports = async (ctx, next,args) => {\n  const { id, role } = ctx.state.user;\n  if(role !== \"administrator\"){\n     ctx.query.owner =  id;\n  }\nawait next();\n  if(ctx.params.id){\n     let owner = ctx.response.body.get(\"owner\")\n     if(owner !== id && role !== \"administrator\"){\n        return ctx.unauthorized(\"You are not allowed to perform this action.\");\n     }\n  } \n};\nroutes.jsonjs\n{\n  \"routes\": [\n    {\n      \"method\": \"GET\",\n      \"path\": \"/tests\",\n      \"handler\": \"Test.find\",\n      \"config\": {\n        \"policies\": [\"global.isOwner\"]\n      }\n    },\n    {\n      \"method\": \"GET\",\n      \"path\": \"/tests/count\",\n      \"handler\": \"Test.count\",\n      \"config\": {\n        \"policies\": [\"global.isOwner\"]\n      }\n    },\n    {\n      \"method\": \"GET\",\n      \"path\": \"/tests/:id\",\n      \"handler\": \"Test.findOne\",\n      \"config\": {\n        \"policies\": [\"global.isOwner\"]\n      }\n    }, //POST, PUT, DELETE...\n  ]\n}\n```\nHope this helps!. hi guys, i got really excited about strapi isOwner policy and then find out strapi content-manager plugin don't trigger the any policy. So, a been working to solve the problem. The solution was make a proxy policy form content-manager plugin. This policy aims to be a a proxy between content-manager requests, and at the same time trigger for all the policy (global and scoped) define in each route.json for the api.\nHope this helps!\n\nbased on @feat7 response, i just did a very quick basic global isOwner policy (generic)\nisOwner.js (global policy for GET endpoints)\n```js\nmodule.exports = async (ctx, next,args) => {\n  const { id, role } = ctx.state.user;\n  if(role !== \"administrator\"){\n     ctx.query.owner =  id;\n  }\nawait next();\n  if(ctx.params.id){\n     let owner = ctx.response.body.get(\"owner\")\n     if(owner !== id && role !== \"administrator\"){\n        return ctx.unauthorized(\"You are not allowed to perform this action.\");\n     }\n  } \n};\n```\nroutes.json\njs\n{\n  \"routes\": [\n    {\n      \"method\": \"GET\",\n      \"path\": \"/tests\",\n      \"handler\": \"Test.find\",\n      \"config\": {\n        \"policies\": [\"global.isOwner\"]\n      }\n    },\n    {\n      \"method\": \"GET\",\n      \"path\": \"/tests/count\",\n      \"handler\": \"Test.count\",\n      \"config\": {\n        \"policies\": [\"global.isOwner\"]\n      }\n    },\n    {\n      \"method\": \"GET\",\n      \"path\": \"/tests/:id\",\n      \"handler\": \"Test.findOne\",\n      \"config\": {\n        \"policies\": [\"global.isOwner\"]\n      }\n    }, //POST, PUT, DELETE...\n  ]\n}\nHope this helps!\n\n. > hi, @mbaez Is this workaround can be used in production?\nhi @puneetverma05  i been using this in production with strapi 3.0.0-alpha.14.5, without troubles.If you've found a bug or have a great idea for new feature let me know by adding your suggestion to issues list.. ",
    "ayushkamadji": "\nI've created a card on Product Board (https://portal.productboard.com/strapi/c/44-data-ownership). I'm closing this issue, I think we have enough information and use cases to develop this feature. When we tried to implement it we faced many technical issues due to Mongoose and Bookshelf. I hope we'll find the solution this time.\n\nWhere can I keep track of this feature development? I'd really like to follow. . I was about to work and realized this is fixed already in 51b5ea7b3f4e8c333f3f894ce20054542e0c4f32 by @pierreburgy . I'll close this issue.. ",
    "deeq14": "Has this issue been addressed? it is a thing that potentially will make our project abandon strapi to be honest, if the feature isn't no where near.. @Aurelsicoko any progress on this? thought it is an essential feature. I'm facing the same issue...\nmodule.exports = {\n  resolver: {\n    Mutation: {\n      createPrdgame: {\n        description: 'Create a new prediction game',\n        policies: ['isOwner']\n      },\n    },\n  },\n};\nThrowing this error \n(node:3620) DeprecationWarning: collection.ensureIndex is deprecated. Use createIndexes instead.\n(node:3620) UnhandledPromiseRejectionWarning: Error: Resolver Mutation.createPrdgame must be object or function\n(node:3620) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)\n(node:3620) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.\n[2019-01-15T16:51:55.175Z] debug \u26d4\ufe0f Server wasn't able to start properly.\n[2019-01-15T16:51:55.177Z] error (hook:graphql) takes too long to load\n(hook:graphql) takes too long to load\ndeeq14:~/workspace/app (master) $. I just needed to pass authorization bearer token in the header and worked.. @derrickmehaffy I did it.. I will also try this again on a new strapi and fresh environment to see if it will reproduce the critical problem.. @derrickmehaffy I have just finished testing this on a new fresh strapi and the problem isn't reproduced! weird though what is actually causing the problem on my main project. I have only Nuxtjs as frontend and GraphQL plugin. I will just close this as it seems the problem is caused by something on my end and I will investigate.. @Aurelsicoko Yes, there weren't open and somehow it was still possible to do CRUD.\nbut at the moment im using a new strapi I created few days ago, tested all endpoints with postman and works as expected.. @derrickmehaffy yea but still they look very close and one can just guess.. and because strapi doesn't have a way to lock a particular id for a user that can send put request. just some other id's.. \n\nnow what is the difference only c instead of a and 13, 14. @derrickmehaffy If they don't generate them, then have a way to lock a particular ID to a particular user only.. so my point still stands though.\n. @Aurelsicoko Unfortunately I am just a beginner/intermediate in js and lack of skills may hinder.. but I will try \ud83d\udc4d. @Aurelsicoko I meant to actually get the related content of the user, like lauriejim said. . ",
    "puneetverma05": "hi, @mbaez  Is this workaround can be used in production?. I have created new project and  admin doesn't load \n403 on init and autoreload endpoint\nvery disappointed :( . . @EpicUsaMan have you seen this type of errors when starting strapi first time? \n(node:8340) UnhandledPromiseRejectionWarning: TimeoutError: Knex: Timeout acquiring a connection. The pool is probably full. Are you missing a .transacting(trx) call?. @EpicUsaMan  Which MySQL version you using?. @EpicUsaMan \nSimilar to my issue  #2790 , \nI have just downgraded MySQL 8 to 5.7 and its working fine till now! I think the knex is not supporting the connection pool on version 8 fully.. Sure, Will do @lauriejim  :) now I just revert back to Standard Auth, but the following issue still persists #2790 . DB is hosted Locally .\nTrue , Database test is a success during initializing the app.\nHere are the logs:\n$ strapi start\n[2019-02-09T18:35:58.962Z] debug \u26d4\ufe0f Server wasn't able to start properly.\n[2019-02-09T18:35:58.963Z] error (hook:bookshelf) takes too long to load\n(hook:bookshelf) takes too long to load\nAfter increasing the timeout time from 3000 to 10000 (hook.json) :\nstrapi start\n(node:10963) UnhandledPromiseRejectionWarning: TimeoutError: Knex: Timeout acquiring a connection. The pool is probably full. Are you missing a .transacting(trx) call?\n    at _bluebird.default.try.tap.catch (/home/projectDir/node_modules/knex/lib/client.js:336:13)\nFrom previous event:\n    at Client_MySQL.acquireConnection (/home/projectDir/node_modules/knex/lib/client.js:335:13)\n    at Runner.ensureConnection (/home/projectDir/node_modules/knex/lib/runner.js:224:24)\n    at Runner.run (/home/projectDir/node_modules/knex/lib/runner.js:33:41)\n    at Builder.Target.then (/home/projectDir/node_modules/knex/lib/interface.js:23:43)\n    at Child.<anonymous> (/home/projectDir/node_modules/bookshelf/lib/model.js:1118:36)\nFrom previous event:\n    at Child.<anonymous> (/home/projectDir/node_modules/bookshelf/lib/model.js:1117:125)\n    at runCallback (timers.js:705:18)\n    at tryOnImmediate (timers.js:676:5)\n    at processImmediate (timers.js:658:5)\n    at process.topLevelDomainCallback (domain.js:120:23)\nFrom previous event:\n    at Child.<anonymous> (/home/projectDir/node_modules/bookshelf/lib/model.js:1000:8)\nFrom previous event:\n    at Function.addPermission (/home/projectDir/plugins/users-permissions/config/queries/bookshelf.js:152:8)\n    at Promise.all.toAdd.map.map.action (/home/projectDir/plugins/users-permissions/services/UsersPermissions.js:293:18)\n    at Array.map (<anonymous>)\n    at Promise.all.roles.map.role (/home/projectDir/plugins/users-permissions/services/UsersPermissions.js:292:16)\n    at Array.map (<anonymous>)\n    at Object.updatePermissions (/home/projectDir/plugins/users-permissions/services/UsersPermissions.js:288:15)\n(node:10963) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 3)\n(node:10963) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.\n[2019-02-09T18:39:56.406Z] warn Bootstrap is taking unusually long to execute its callback 3500 miliseconds).\n[2019-02-09T18:39:56.409Z] warn Perhaps you forgot to call it?\n. Issue persists when trying with strapi-docker (on MySQL 8) .\nBut when using MySQL 5.6 Container It is working fine as expected :100:\n. Was using the mysql community version.\ndb:\n    image: mysql:8\n    command: --default-authentication-plugin=mysql_native_password\n    volumes:\n      .... @derrickmehaffy  I have tested first on the non-docker version of MySQL8.. ",
    "denislutz": "I created a pull request related to this issue: https://github.com/strapi/strapi/pull/639. With all the respect, empty spaces in folders are a sure path for bugs in all build frameworks across any stack. So why would you need to do this? I think we should not take the time of the community to deal with unimportant issues like this.. Ok, will try tonight.. It will come in a new pull request.. Excellent, please keep going with important features like that.. Guys is this going to be available? And specifically can you extend the documentation related to it please.. @Freakspot super Arbeit, danke! Du hast mich \u00fcberholt ;-).. I agree this is small but it looks like a bug if it stays like that. You expect to go back by the cancel button and nothing is happening. Please rename it or add a function to go back.. @Freakspot thanks for pointing out the mistakes, I just pushed a fix.. @Aurelsicoko the logging change will come in a separate PR, this one was only about the docs.. ",
    "oeddyo": "where's the vote? I'd love to vote for ts :D. looking forward to this feature! Is it coming soon?\nAnd thanks for the hard work guys!!!. Well can't complain anything...\nJust want to let you know that I really feel Strapi to be the best supported open source project. I've used many other tools, and personally involved with some (twitter's tool called scalding), but I have to say this is the best core team and community I've ever seen. I feel great potential for this tool and how a general problem Strapi is solving for many many other startups.\nGreat job guys! Thanks for all the efforts! Going to buy a t-shirt for every member of my team soon :D. api.zip\nhere's the api zip. Thanks @lauriejim \nmissed your msg.\ndo you want me to upload the folder? or how shall I help checking admin/src?. oh i saw #1022 did you fix it already?. Trying to setup dev env. Following the guide but getting:\n`\u279c  admin git:(master) npm start\n\nstrapi-admin@3.0.0-alpha.12 prestart /Users/exie/workspace/strapi/packages/strapi-admin\nnode ./node_modules/strapi-helper-plugin/node_modules/.bin/cross-env NODE_ENV=development PORT=4000 IS_ADMIN=true node ./node_modules/strapi-helper-plugin/lib/internals/scripts/loadAdminConfigurations.js\nstrapi-admin@3.0.0-alpha.12 start /Users/exie/workspace/strapi/packages/strapi-admin\nnode ./node_modules/strapi-helper-plugin/node_modules/.bin/cross-env NODE_ENV=development PORT=4000 IS_ADMIN=true node ./node_modules/strapi-helper-plugin/lib/server\n\nStrapi plugin succesfully started in development mode. \u2713\n\nAccess URL: http://localhost:4000/admin\nPress CTRL-C to stop\nwebpack built 395a2e61c045eded74f9 in 44308ms\nERROR in /Users/exie/workspace/fix-strapi-fork/plugins/analytics/admin/src/containers/NotFoundPage/index.js\nModule not found: Error: Can't resolve 'components/NotFound' in '/Users/exie/workspace/fix-strapi-fork/plugins/analytics/admin/src/containers/NotFoundPage'\n @ /Users/exie/workspace/fix-strapi-fork/plugins/analytics/admin/src/containers/NotFoundPage/index.js 25:16-46\n @ /Users/exie/workspace/fix-strapi-fork/plugins/analytics/admin/src/containers ^.\\/.*.js$\n @ /Users/exie/workspace/fix-strapi-fork/plugins/analytics/node_modules/strapi-helper-plugin/lib/src/routes.js\n @ /Users/exie/workspace/fix-strapi-fork/plugins/analytics/node_modules/strapi-helper-plugin/lib/src/app.js\nERROR in /Users/exie/workspace/fix-strapi-fork/plugins/analytics/admin/src/containers/App/index.js\nModule not found: Error: Can't resolve 'react-router-dom' in '/Users/exie/workspace/fix-strapi-fork/plugins/analytics/admin/src/containers/App'\n @ /Users/exie/workspace/fix-strapi-fork/plugins/analytics/admin/src/containers/App/index.js 35:22-49\n @ /Users/exie/workspace/fix-strapi-fork/plugins/analytics/node_modules/strapi-helper-plugin/lib/src/app.js\nERROR in /Users/exie/workspace/fix-strapi-fork/plugins/analytics/node_modules/strapi-helper-plugin/lib/src/routes.js\nModule not found: Error: Can't resolve 'routes.json' in '/Users/exie/workspace/fix-strapi-fork/plugins/analytics/node_modules/strapi-helper-plugin/lib/src'\n @ /Users/exie/workspace/fix-strapi-fork/plugins/analytics/node_modules/strapi-helper-plugin/lib/src/routes.js 12:14-36\n @ /Users/exie/workspace/fix-strapi-fork/plugins/analytics/node_modules/strapi-helper-plugin/lib/src/app.js\nERROR in /Users/exie/workspace/fix-strapi-fork/plugins/analytics/admin/src/containers/HomePage/index.js\nModule not found: Error: Can't resolve 'utils/injectReducer' in '/Users/exie/workspace/fix-strapi-fork/plugins/analytics/admin/src/containers/HomePage'\n @ /Users/exie/workspace/fix-strapi-fork/plugins/analytics/admin/src/containers/HomePage/index.js 38:21-51\n @ /Users/exie/workspace/fix-strapi-fork/plugins/analytics/admin/src/containers/App/index.js\n @ /Users/exie/workspace/fix-strapi-fork/plugins/analytics/node_modules/strapi-helper-plugin/lib/src/app.js\nERROR in /Users/exie/workspace/fix-strapi-fork/plugins/analytics/admin/src/containers/HomePage/index.js\nModule not found: Error: Can't resolve 'utils/injectSaga' in '/Users/exie/workspace/fix-strapi-fork/plugins/analytics/admin/src/containers/HomePage'\n @ /Users/exie/workspace/fix-strapi-fork/plugins/analytics/admin/src/containers/HomePage/index.js 42:18-45\n @ /Users/exie/workspace/fix-strapi-fork/plugins/analytics/admin/src/containers/App/index.js\n @ /Users/exie/workspace/fix-strapi-fork/plugins/analytics/node_modules/strapi-helper-plugin/lib/src/app.js`\nAny idea how shall I proceed?. api 2.zip\nmy model attached. hmm... I dont think currently I have the bandwidth or knowledge to do that. maybe someone more knowledgable can take this : )\nBTW I guess the other fields for File shall be editable from admin? Otherwise there's no point adding \"ext\" etc fields in File. Can we add those fields editable in admin instead? If so I don't need this nested populate for now which would be awesome. when can we have a taste of this?. AAAAAAAAAAAAAAAAwesome! Cant be more excited! @lauriejim . +1\nthanks for bringing this up. We also experienced this : ). Is it possible to add a \"contentType\" field on your article, then rendering differently based on the contentType field? . Thanks @soupette that's great\nBut I guess I was trying to say support in admin since it's the editors who need to assign the enum values to the instances : ). @astewes Need this feature too. \nin your design, are those tags clickable (like, when you click a specific tag, all the articles shall be found efficiently) or just plain text tags?\nIf it's the latter you can use array content type for now I guess. In that case, I think it's a N:M relationship IMHO\n. Thanks @lauriejim \nsorry about that. I actually tried but github search is a bit rough to pick #624 \nIs there any better way doing search other than reading issues one by one?. @thebetterjort The reason @lauriejim is asking everyone to follow template is to identify problems sooner and avoid back and fourth tedious questions like \"what's your npm version\". It makes helping people including you and me faster. see screenshot above\nthe right side, when I tried to associate Chanel with this bag. It's only two thus quite trivial, but image there are 100 brands :D. oh my god that's fast\n. Hi, \nwe are wondering when this would be released? If there's no plan, is there any way we can use this patch before release? Our editors are frustrating with this 20 limit issue :/\nThanks!. @zhuang17 \ud83d\udc4d \n. same problem +1. +1 for search bar\nOur project now have a couple hundred data points and it's near impossible for the editors to search for any specific piece of data . hmm... the user experience here could use some improvements since when you're trying to upload multiple images, you want to bang your head against the desk  : D\n\n. understood\nI tried to report everything we encountered to make the community stronger. \nHowever I think it is critical if you use strapi for real to manage a realistic project, and I think that should be what Strapi is going right? Not just a cool project but a truly viable project used by real companies and real people :D \nBut per your comment, I do agree you guys have more important stuff on your plate\nThanks for your great work!\n. oh my god this is the best thing after slice bread. we are  currently using strapi to manage a database of a couple hundred thousand rows... it's insanely handy when this filter comes out. Currently we are using all the hacks on api level to do things :D. ",
    "erikvullings": "Unfortunately, there is still no option to vote for this feature. In the mean time, I've created a simple CLI, strapi-to-typescript, to generate typescript interfaces from the api/models/**.settings.json files.\nconsole\nnpm i -g strapi-to-typescript\nsts [PATH\\TO\\STRAPI\\API\\FOLDER]. @lauriejim Is this issue really solved? In v3.0.0-alpha.12.2, the article-user relation worked, but when I create a new content type, collection, and add a relation (a collection belongs to many articles - as a side note, I would prefer to read 'a collection has many articles'), I receive the following error:\nconsole\n[2018-05-17T21:18:35.242Z] error Something went wrong in the model `Collection` with the attribute `articles`\n[2018-05-17T21:18:35.251Z] error The attribute `collection` is missing in the model Article\nWhen checking the collection.settings.json, it looks ok:\njson\n{\n  \"connection\": \"default\",\n  \"collectionName\": \"\",\n  \"info\": {\n    \"name\": \"collection\",\n    \"description\": \"\"\n  },\n  \"options\": {\n    \"timestamps\": true\n  },\n  \"attributes\": {\n    \"title\": {\n      \"type\": \"string\"\n    },\n    \"articles\": {\n      \"collection\": \"article\",\n      \"via\": \"collection\",\n      \"dominant\": true\n    }\n  }\n}\nbut the article content model is missing the collection property, as suggested by the error message. But why doesn't it create it?\njson\n{\n  \"connection\": \"default\",\n  \"collectionName\": \"\",\n  \"info\": {\n    \"name\": \"article\",\n    \"description\": \"\"\n  },\n  \"options\": {\n    \"timestamps\": true\n  },\n  \"attributes\": {\n    \"content\": {\n      \"type\": \"text\"\n    },\n    \"title\": {\n      \"type\": \"string\"\n    },\n    \"author\": {\n      \"model\": \"user\",\n      \"via\": \"articles\",\n      \"plugin\": \"users-permissions\"\n    }\n  }\n}. @kamalbennani Indeed, you are right. It is related to the name 'collection'. Are you aware of any other names we should avoid (and could we mention them in the documentation somewhere)!\n. ",
    "TimMensch": "TypeScript is a best practice on Node today. I came to look for options for Loopback, and will be ignoring Strapi as a legacy project without TypeScript support.\nThere's no vote option, there's no mention of TypeScript anywhere, and there's no @types/strapi module. That pretty much kills Strapi as an option.. @NickBolles I was serious when I said I would be ignoring strapi. My comment above resulted in excuses and a request for someone else to do all the work -- which is non-trivial and would require the cooperation of the project. \nAnd then I get more downvotes than upvotes, so this community clearly hasn't gotten the memo that TypeScript is where we all should be. As I said, it's a best practice today. Anyone who ignores that fact is going to fall behind, \"small team\" or no.\nIt's beyond just creating declarations, too. You'd need to create a generator for TypeScript signatures for each model. I've done this before, but I don't really feel the need to join a community that's borderline hostile to TypeScript. Too much chance for conflict.\nLoopback 2 will be 100% TypeScript (required! not optional! They got the memo.); until Loopback 2 is release-quality, I'm using FeathersJS+Feathers-Sequelize+Sequelize-Typescript+Feathers-Swagger. Not perfect, but much better than trying to cobble together TypeScript support for a community that doesn't care.\nIf your project is risk-tolerant enough, you can use Loopback 2 today with full TypeScript support; they stilled called it \"alpha\" when I looked last, and my enterprise client wouldn't have been happy using an \"alpha\" quality product.. Sorry, haven't looked at Loopback for a while. You're right, it's 4.\nFlow is just a non-starter. TypeScript has really won that battle, and it wasn't even a battle. As you point out, even Facebook isn't backing their own project any more. Tons of projects have built-in TypeScript support, or good @types, and the only ones I've seen in the wild with built-in Flow support have been Facebook projects. I'm sure they exist, but they're rare, and TypeScript is ubiquitous. \nGood to know that you're considering it.\nOn ease of contribution to a project: That will change over time. TypeScript keeps going up in popularity (for good reason). I think you'll find that average contribution quality is higher too. \nAnd the hard part about TypeScript is getting the project up and running, including all of the type dependencies and proper definitions and casting. Once you have that, the rest is actually pretty easy. Contributing, when you see examples, isn't a whole lot harder than contributing straight JavaScript. . \"Best practices\" are well beyond \"nice to have\" IMO.\nThat said, I was asking for TypeScript support. Porting the project to TypeScript isn't required for support.. TypeScript really should be considered a best practice. \nI've written a lot about this elsewhere. I even wrote about what made me change my mind about dynamic types, which didn't happen until I'd been using dynamic languages (JavaScript and others) for more than a decade (I've been programming for over 30 years).\nWe're well off topic now; let's move this to the comments on my article or on Quora if you would like to debate the points.. ",
    "NickBolles": "I would also contribute a lot to the typescript implementation. \nI think that having defined classes, interfaces and types for Services/Controllers/ORMs etc would be extremely beneficial to Strapi. \n@John0x  @erikvullings  @TimMensch have any of you made any progress on this? Should we get something going? \nMaybe we start with a small part and get the tooling in place and do things one by one . I would actually argue that contributing to a typescript project is much easier after you understand the absolute basics of typescript (maybe a couple hours).\nIt improves the visibility and discovarability of the APIs and data structures. Which is actually why I started looking for this issue... I'm having trouble figuring out where strapi keeps the model data that I want. . I just fixed some other issues in #1941 \nI'm going to put together a PR for this in the next week hopefully, unless someone else has already started on it. I have a few questions though.\nWhy were the scripts referencing the executable directly in the first place (the first issue in the OP)? I don't quite understand that right now, and like I said in my other issue I don't want to change it and break something else. \n@Aurelsicoko @avallete  do either of you have any input to the above question?. You have it right. Why does that line reference the script directly instead of like normal like this\n...\n \"build:clean\": \"rimraf admin/build\"\n.... NPX will run rimraf:latest, but that should be fine because rimraf's one function, that it does well is removing files. The version shouldn't matter.\nWith how efficient NPM is in making flat dependencies, I don't see a reason to do hacks to avoid duplicates. If there are multiple packages requiring the same version, trust NPM to optimize it.\nIn my opinion this is a case over-optimization, and if a package depends on a module, it should be in it's dependencies.\nPeer dependencies might be a decent solution though. And as for addressing plugin dependencies, that seems like the root cause here, so why not address the root issue?. @avallete Gotcha, I totally agree, good analysis. My only question is if the issues can be sperated or not.\nI don't think I'm gonna be putting a PR together any time soon for this. We decided to put off modifying the admin panel. . > The core issue with node and not Strapi itself.\nI 100% disagree. Node is a cross platform language, which some parts (such as shell commands or file system actions) need platform specific logic, but there are plenty of solutions to this with the node ecosystem, and even built into node.js itself. When you build a project (especially an open source frameworks that you want people to contribute to) you need to use cross platform methods. Period, or you are cutting out a portion of your controbuters and overly complicating things. (The build scripts in strapi are overly complex too but that's a different issue...)\nThat being said I have a large majority of the needed changes done locally. I can try to put together a PR for this in the coming days, although I expect there to be a little bit of discussion on if the way I'm solving it is the best way or not. . @derrickmehaffy I think you're confused. None of the issues in the OP are about node issues, they are all trying to use BASH syntax in CMD/Powershell. Those are all bad practices with node and it's associated tooling.\nThere is a seperate issue that you run into when you run strapi new, which is documented in #1281, and also has a workaround of passing in the options as parameters (see the this comment for an example of that workaround). This should be fixed by #1941 . @joseshiru @danielehrhardt  @ochanje210  do you guys want to test this now that my PR is merged? let me know if this isn't fixed.. @TokenChingy @lauriejim Why in the world was all of the logic to create resolver duplicated for mutations and queries? 90% of the code to create a resolver is the same between mutation and queries, why not break those parts into their own functions instead of straight up duplicating it?. @Aurelsicoko I work at a giant software company where it is common to copy the code and modify it a bit. And I can say with 100% certainty that duplicate code is terrible. Because then someone like me comes and wants to make a change to queries and has to make it in two (or 3 or 5 or 10) places and then gives up because the code is too convoluted. Not only that but the code base just grows and grows, which when you get to be a big company becomes a serious scaling issue.\nHonestly your going to both extremes. There's a middle ground, using selective functionality programming. Take the common parts, break them out into pure functions that take inputs and give predictable outputs. Unit test them and use them everywhere that functionality is used. Sure you have two different code paths, in this case for queries and resolvers, but they are both composing a result based off of different inputs to common functions. \nStrapi does just about zero of this. Even though stuff like looping over all of the models, or finding a model based on if it's in a plugin or not is done in practically every file. That makes the code very tied together and not encapsulated at all. \nI really think it is something that strapi should work on improving, and I actually got a long way through a PR that had about 10 utility functions that would cut out a few hundred lines of code throughout the code base, and make it a descriptive, one liner. \nCheck out my changes (and a lot of noise, because apparently I just did a commit all with whitespace changes...) In this branch for a small example of what I'm talking about.\nhttps://github.com/strapi/strapi/compare/master...NickBolles:njb/attribute-permissions. I'm making a pull request right now. What are some of the other issues? \nI know the strapi new command can simply be worked around with passing all the parameters in. Are there any other issues that I could work on to get more familiar with the code?. Fix #1939 #1940. @lauriejim why in the world does the script run npm clean before the initial npm install?\nWell yes that can be fixed by using npx rimraf in the scripts. I'll update later today. @lauriejim I think that last commit should fix that issue. Let me know if you come across any others, especially on non-windows platforms.. Actually I get errors way down the line in setup:build in strapi-admin build,\n\nhttps://github.com/strapi/strapi/blob/master/packages/strapi-admin/package.json\nI'm trying to figure out why these scripts reference the binaries directly. And why APP_PATH=$APP_PATH is used several times. Is this because this can be copied to the generated strapi server? Doesn't it do an npm install of the dependencies (react-ga, remove-markdown etc.) when it does this?\nI guess I don't see any problem with requiring those packages and using them directly, especially if we fix the env vars used in these scripts, but I want to ask to make sure before changing everything around.. Good catch, I was thinking it was still needed in one of the main scripts. . @kamalbennani  Looks awesome! Question though, does this solve the issue I describe in #2161?\nI don't think it does, but I think that this would be a huge step towards an \"Owner\" concept.\nWe could make a relationship to \"Users\" be \"special\" and only allow that user (or admins) to access it. Since you did all this I would love your input on that issue.. Just to add the link here, should be fixed by #1941. I just experienced this with a brand new instance, and trying to create a new user. I didn't see any browser errors, network errors or server output errors. Browser was both Firefox and Chrome, so I doubt it's a browser issue.\nWe modified the user object, saved the modifications, and the server restarted and then we were able to create a new user just fine through the admin UI. . I'm not 100% sure. But I may have resolved this by copying the build folder from \nnode_modules/strapi-admin/admin/ to admin/admin/build\nApologies if those paths aren't 100% correct. I'm going off of memory right now. . It depends on if it is hanging at the database prompt or not. If it is it's a node 9+ compatibility issue, see #1281  and multiple others. \nIf it's the database connection check it should be fixed by #1941 \nAlso, admin build wont build on windows, I'm putting together a PR for this. see #2004. Looks like the same error message as #1840, which is also in a docker container on gitlab-ci. Duplicate?. Closing as duplicate of the very well documented #1837. note: I need to research this more. I might have made this prematurely. Because it looks like index.html should work with other custom servers such as this: https://github.com/zeit/next.js/tree/canary/examples/custom-server-koa\nThis might not be the root cause. . @RasCarlito see my PR for a next.js hook. It might end up being published separately from strapi though\n2125\nI think my approach is cleaner than 2 files, and it just straight up uses next.js as a fallback for anything strapi can't handle. Looks like I missed a part of the docs (or they were updated in the last day or two???)\nI think this is working now. . Interesting... Can you actually query those? I'm confused why you would be able to with graphql, but not the REST API. \nCan we confirm that we can actually query it and it's an issue with the REST API too?. @danielmahon nice analysis! \nSo my next question is do the normal user and users queries have this issue too? Essentially the me query is just a user query for the current user. \nI think the difference is how the ctx user is set up, which is in this file: https://github.com/strapi/strapi/blob/master/packages/strapi-plugin-users-permissions/config/policies/permissions.js\nBut I think both use the find one controller here: https://github.com/strapi/strapi/blob/master/packages/strapi-plugin-users-permissions/controllers/User.js\nSo maybe we can remove the roles users there. \nAlso, are you sure you aren't querying as admin? I'm not sure how permissions should work with nested stuff like this. Someone more familiar with the user-permissions plugin will need to chime in on that. \n. It seems like the issue we are talking about is precisely what graphql directives are for. \nIf we had a field level directive that was hasUserPermissionsRole we could extend the permissions model to contain fields that this role doesn't have access to, and the hasUserPermissionsRole directive could look for the current field in any of the fields on the permissions model. \nI think we would already have all of this information  on the graphql context. \nThis might be a bigger project than this PR though. Should I go with the custom return type for me() for now?. @lauriejim would it be better for me to publish this (and the nuxt.js version) as their own packages?. Exactly! This is exactly what I proposed the \"owner\" concept for. Maybe it would make sense for this to be a property on the field. So any model that has a relationship to user and is marked by theowner property would allow the current user to access it. if the user it's related to is their own.\nI don't think your solution is possible right now without a custom findMine controller. This seems like an extremely common scenario though, so something baked into the UserPermissions plugin seems appropriate.\n\nFrom: PashalisN notifications@github.com\nSent: Friday, October 19, 2018 7:03 AM\nTo: strapi/strapi\nCc: Nick Bolles; Author\nSubject: Re: [strapi/strapi] Field Level Permissions - Discussion (#2161)\nIf I understand it correctly I think you have the same issue as I have.\nWhat is the meaning of relations when for Example:\nI have a new content type 'articles' and the pre-installed users.\nIf I have 2 users (user A, user B) in authenticated role and each user has for example 2 articles and I want to find (display) only these articles which are related to user A and not just every single article in the database, how can I do that without switching in coding?\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHubhttps://github.com/strapi/strapi/issues/2161#issuecomment-431340309, or mute the threadhttps://github.com/notifications/unsubscribe-auth/AHhrL05CcBbeStlX5t7sLIVa4fb9MxwRks5umb-cgaJpZM4Xspms.\n. You do have a point, we could just add a \"my\" controller action for everything. That could be a way to do it, which is basically the work around right now, to make a custom controller that forces adding a filter to the query. but we could add it as part of the generation of a model. I think that's a lot less flexible than field level permissions, and it's more of the \"owner\" concept.. @Aurelsicoko thanks for your comments. \nI think the idea here is that all of the other plugins respect the core plugins. So for graphql it should respect the user-permissions permissions policies. I think that there was a pull request out there to fix this deficiency in the graphql plugin. \nI really think that this should be a field level policy, not a query level setting. \nIf it's a field level policy it can be a lot more dynamic, e.g. are we logged in, okay then allow, are we an admin, okay, allow, etc. \nI'm prototyping a system like this that modularizes policies to a set of functions that can be called to compose a policy for any object in strapi, as well as an owner policy that will look to the model definition to determine which field should be equal to the current user's ID, that can be used from other policies too. \nKeep an eye out for a PR, I'll try to have this done by next Tuesday. . @danielmahon graphql-shield, and graphql-yoga look awesome, and perfect for a framework like strapi. It seems like it would allow the schema to be modularized a ton, so that each plugin could maintain it's own schema and queries could be routed to the right places. On top of that shield (or even just a schema directive), could enforce permissions\nIt seems like a good direction for strapi to go, but too big of a project for me. I'm hoping to finish up this initial iteration of attribute permissions soon, hopefully it's easy to use from everwhere though.. See my response in #2161 even though you deleted your response :)\nI think the only way to do this right now is with custom controller actions such as findMine that do something like this. (warning, this is not tested, treat this as psuedo code)\n```\n  findMine: async (ctx) => {\n    const user = ctx.state.user;\nif (!user) {\n  return ctx.badRequest(null, [{ messages: [{ id: 'No authorization header was found' }] }]);\n}\n// Setup the filter\nctx.query.where.author = user._id || user.id\n// Run the query with filters\nreturn strapi.services.articles.fetchAll(ctx.query);\n\n},\n```. I'm addressing this as part of #2161, along with completely buffing up permissions. . Duplicate of #2193 ?. Possibly fixed by #1948? @kamalbennani could you weigh in?. Also duplicate of #2193 or #2216 ?. ",
    "Laureian": "I'm also waiting for TS in strapi as this will improve my productivity and I think this will help new strapi developers to start with. If there will be someone who will start with this feature I will help him.. ",
    "e2o": "Hmm, I tried to exact same thing and the install worked for me. Have you tried removing your package-lock.json before reinstalling?\nIf possible, please provide your package.json file so I can have a look at it.. @fabiomig In your project, under /api/[entity]/servives/[entity].js, you an find the logic that get's executed when calling the api with requests. You can edit the fetch and fetchAll methods here to have them include extra functionality such as a like query.. Looks like your MongoDB is not running.\nYou can start it by running mongod in terminal. (leave the terminal open).\nRe-try generating a project now, so strapi can generate your strapi-access database for you.. It appears like no strapi database was made after running strapi new [name].\nCan you try again and verify that no error is thrown during strapi new ... execution?. Wat version of MongoDb do you have installed? Should be at least 3.4.. We are encountering the same issue where we have instances of the same strapi setup running on multiple environments. \nHow to reproduce:\n- Run strapi locally\n- Create a CT locally\n- Deploy to server\n- The CT is available on the server, but permissions can not be set as the CT is missing under the \"application\" dropdown.\nOn the environment where i created the CT (local), I can add the permissions.\n--> Perhaps these get inserted in the MongoDB when a CT is created?. 3.0.0-alpha.10.2. ",
    "fabiomig": "Hi @soupette, so the strategy yo recommend me is to have a different role for each user?\nIs that equivalent of this? This is what i want.\nSelect *  from table where user_id = x \nWhat i've understand of what you suggested is something like this:\nSelect * from table where role = x\nBut the problem is any user that have the same role will be able to see what other users of same role do.\nThanks. ",
    "Synj24": "Thanks, when i ran mongod instead of using systemd to start and stop it i realised it was throwing errors because there wasn't a directory at /data/db so i created one and chown'd it to $USER.\nAfter that strapi new ... appeared to work.\nHowever now when i try strapi start  it still wont connect\n$ strapi start                                                                                                                            \nDEBUG (15257 on ip-172-31-45-231): Server wasn't able to start properly.\nERROR (15257 on ip-172-31-45-231): Make sure your MongoDB database is running...\nand mongod complains about an authentication failure\n2018-02-13T15:32:56.255+0000 I ACCESS   [conn4] SCRAM-SHA-1 authentication failed for synj on access-strapi from client 127.0.0.1:42740 ; UserNotFound: Cou\u2502fully installed.\nld not find user synj@access-strapi\nAnd I can't see either the database or the user using mongo shell\n```\n\nshow users                                                                                                                                             \nshow dbs                                                                                                                                               \nadmin   0.000GB                                                                                                                                          \nconfig  0.000GB                                                                                                                                          \nlocal   0.000GB\n. I tried again and `mongod` didn't respond at all when ran `strapi new ...`\n2018-02-13T16:29:52.792+0000 I NETWORK  [initandlisten] waiting for connections on port 27017\nHeres the error it throws when i run `strapi start`:\n2018-02-13T16:31:19.139+0000 I NETWORK  [listener] connection accepted from 127.0.0.1:42856 #1 (1 connection now open)\n2018-02-13T16:31:19.198+0000 I NETWORK  [conn1] received client metadata from 127.0.0.1:42856 conn: { driver: { name: \"nodejs\", version: \"3.0.2\" }, os: { type: \"Linux\", name: \"linux\", architecture: \"x64\", version: \"4.4.0-1049-aws\" }, platform: \"Node.js v9.5.0, LE, mongodb-core: 3.0.2\" }\n2018-02-13T16:31:19.206+0000 I ACCESS   [conn1] SCRAM-SHA-1 authentication failed for synj on strapi-access from client 127.0.0.1:42856 ; UserNotFound: Could not find user synj@strapi-access\n2018-02-13T16:31:19.208+0000 I NETWORK  [conn1] end connection 127.0.0.1:42856 (0 connections now open)\n``. v3.6.2. Thanks @blurdylan , after updating both mongo & strapi and leaving the username and password blank when usingstrapi new ...` it now works!\n:champagne: :confetti_ball: . \n",
    "blurdylan": "I had the same issue with 3.0.0-alpha.10.\nI ran strapi new project-name then when it prompts to enter username and password,\nI left it blank.\nNow when I run strapi start it works.. I think it'll be great if it asked first.\nBecause often, new mongo users do not have credentials. ",
    "wadeziegler": "I have a problem where the database is accessible while creating the app and then it will not start.\n[2018-03-30T02:07:58.036Z] info Creating your application... It might take a few seconds.\n[2018-03-30T02:07:58.178Z] info Lets configurate the connection to your database:\n Choose your main database: MongoDB (highly recommended)\n Database name: strapi\n Host: 127.0.0.1\n Port: 27017\n Username: \n Password: \n Authentication database: \n Enable SSL connection: false\n[2018-03-30T02:08:13.578Z] info Testing database connection...\n[2018-03-30T02:08:14.063Z] info The app has been connected to the database successfully!\n[2018-03-30T02:08:14.193Z] info Copying the dashboard...\n[2018-03-30T02:08:17.523Z] info Installing dependencies...\n[2018-03-30T02:08:26.812Z] info The plugin settings-manager has been successfully installed.\n[2018-03-30T02:08:34.352Z] info The plugin content-type-builder has been successfully installed.\n[2018-03-30T02:08:35.926Z] info The plugin content-manager has been successfully installed.\n[2018-03-30T02:08:43.166Z] info The plugin users-permissions has been successfully installed.\n[2018-03-30T02:08:45.265Z] info The plugin email has been successfully installed.\n[2018-03-30T02:08:48.587Z] info The plugin upload has been successfully installed.\n[2018-03-30T02:08:50.077Z] info The plugin analytics has been successfully installed.\n[2018-03-30T02:08:50.079Z] info Linking `strapi` dependency to the project...\n[2018-03-30T02:08:50.080Z] info Your new application `puretext` is ready at `/workspace/puretext`.\nroot@eaba4b438dd6:/workspace# cd puretext\nroot@eaba4b438dd6:/workspace/puretext# strapi start                                                                                                                                                                                                  \nMake sure your MongoDB database is running...\n. I think it might be because I was trying to make it work under docker. It's\nunfortunate because I want to use Cloud9 running under docker for\ndevelopment.\nOn Fri, Apr 6, 2018 at 12:59 AM, julienvedebe notifications@github.com\nwrote:\n\nHi,\nI ran into the same issue following your tutorial for Heroku deploy.\nEverything works but at final step when app boot it says : \"Make sure your\nMongoDB database is running ...\"\nI have DATABASE_URI vars defined in Heroku.\nI have tried to add NODE_ENV=production before node server.js in start\ncommand.\nI have tried also to add vars for host, login .... for MongoDB\nAPI works fine on my laptop but fail on Heroku.\nI didn't find a way to print error or usefull debug info to catch what's\nhappening at L60.\nAny ideas ?\nThanks a lot\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\nhttps://github.com/strapi/strapi/issues/883#issuecomment-379178490, or mute\nthe thread\nhttps://github.com/notifications/unsubscribe-auth/ADCEA6lCwdBGtmiuKYZYJ94-xh8I1QNnks5tlyBogaJpZM4TCR3C\n.\n. \n",
    "awitherow": "@Synj24 should this be closed? I am not sure that having no username or password in the prompt is a WORKING solution?. ",
    "zahafyou": "go to your project file. go to the config/environments/development folder and click on database.json. for username and password you leave it empty. and host you put 127.0.0.1  port: 27017 as in the picture\n\nif you have finished the modifications you open two terminal:\non the first you start mongoDB by doing:\nmongod\nand once mongoDB has started you start on the other console strapi by making:\nstrapi start or npm start\n. @lpj145 maybe you'll have information here : https://github.com/strapi/strapi/issues/432. use this link youtube  : https://www.youtube.com/watch?v=Ej05tq1220A&ab_channel=MongoDB \nor this  : https://resources.mongodb.com/mongodb-atlas-tutorial-kit/tutorial-configuring-your-ip-whitelist-in-mongodb-atlas. ",
    "emezeta": "I know it's closed.  At  https://strapi.io/getting-started  it reads: \nFill the database information. The default values should work if you have just installed MongoDB.\nCould you add something like Try blanks for user/password. please? Thanks!. ",
    "lpj145": "Ok but i'm use Atlas mongodb service, and not needed local mongodb, alright ? how to solve this issue ?. Invalid url, please check type.. ",
    "lisaiceland": "Does NOT work. That's NOT a valid solution ;-)\nThis is what worked. I have it running on my local machine and mLab Mongo instance in the sandbox and also in the mongoDB clusters.\nSOLUTION: What needs to happen is that you need to take out any \"@\" symbols in the password. The parser reads that as part of the connection string and aborts. That's it.. ",
    "pilotdeveloper": "Leaving the username, password, and authentication blank worked for me. . ",
    "funkhauscreative": "Hi @lauriejim,\nI'm running the CLI on alpha14.5. strapi generate:api test is still creating a Mongoose service page.\nThese are my database setting (for all environments):\n{\n  \"defaultConnection\": \"default\",\n  \"connections\": {\n    \"default\": {\n      \"connector\": \"strapi-hook-bookshelf\",\n      \"settings\": {\n        \"client\": \"mysql\",\n        \"host\": \"127.0.0.1\",\n        \"srv\": false,\n        \"port\": 3306,\n        \"database\": \"dbname\",\n        \"username\": \"****\",\n        \"password\": \"****\"\n      },\n      \"options\": {\n        \"ssl\": false\n      }\n    }\n  }\n}. ",
    "suanter": "Hi All, I realized one thing.... \nuse case:\n from the mobile app i send  like structure : {\"product name\", redact:{id:\"2342423423\",name:\"andres\",\"comment\":\"my product coment\" } } to this model Product .\nResult:  The API stores all the data correctly but the admin app changes the json structure.\nIssue: When i edit, any field, of this record from the content-manager - admin GUI ) and save it , apparently the module reads the field \"_id\" or \"id\" from the JSON and this is when it mess up. \nNow... if i change  form the json structure  the attribute id for something (idCom) else ej. : {\"product name\", redact: {idCom:\"2342423423\",name:\"andres\",\"comment\":\"my product coment\" } }.  it works as expected.  We can now edit any field with the content-manager-admin GUI) and it works properly. \n. \napi / Product\n{\n  \"connection\": \"default\",\n  \"collectionName\": \"product\",\n  \"info\": {\n    \"name\": \"product\",\n    \"description\": \"\"\n  },\n  \"options\": {\n    \"hasTimestamps\": true\n  },\n  \"attributes\": {\n    \"username\": {\n      \"type\": \"string\"\n    },\n    \"action\": {\n      \"type\": \"string\"\n    },\n    \"email\": {\n      \"type\": \"string\"\n    },\n    \"idowner\": {\n      \"type\": \"string\"\n    },\n    \"prodCat\": {\n      \"type\": \"json\"\n    },\n    \"users\": {\n      \"collection\": \"user\",\n      \"via\": \"products\",\n      \"dominant\": true,\n      \"plugin\": \"users-permissions\"\n    }\n  }\n}\n// category schema\n{\n  \"connection\": \"default\",\n  \"collectionName\": \"category\",\n  \"info\": {\n    \"name\": \"category\",\n    \"description\": \"\"\n  },\n  \"options\": {\n    \"hasTimestamps\": true\n  },\n  \"attributes\": {\n    \"name\": {\n      \"type\": \"string\"\n    },\n    \"description\": {\n      \"type\": \"string\"\n    },\n    \"action\": {\n      \"type\": \"string\"\n    },\n    \"email\": {\n      \"type\": \"string\"\n    },\n    \"users\": {\n      \"collection\": \"user\",\n      \"via\": \"products\",\n      \"dominant\": true,\n      \"plugin\": \"users-permissions\"\n    }\n  }\n}\n. Project created with 3.0.0-alpha.8 but running with 3.0.0-alpha.9.1.. Hi, sorry for the delay..\nBefore describing the error, this is my actual configuration: \n\nNode v9.4.0\nStrapi  3.0.0-alpha.11.3\nThe strapi app was also updated ( I re-created all models and code..etc ).So i wanted to be sure that it was not my code...\n\nSituation:\n1) I create a User. \n2) I login and get the user id(_id)\n3) I use this id to create an object (License) and associated this user to this license: Ej.\nvar license={\nname:\u201dPackage Standard\u201d,\nusers: [{_id:c6e5a6171e9789587d2e50f79a728506}]\n}\nAn get this Error:\nerror Cast to ObjectId failed for value \"\" at path \"_id\" for model \"License\"\nNot sure why!! it was working properly before\u2026\nI tried many things..\na) running strapi in local host\nb)running strapi in a docker container..\nNone work\u2026\nAny Idea and thanks thanks you very much..\nRegards, \nJaime\n\nOn 13 Apr 2018, at 15:28, cyril lopez notifications@github.com> wrote:\nWhat is status on this issue?\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub https://github.com/strapi/strapi/issues/640#issuecomment-381238655, or mute the thread https://github.com/notifications/unsubscribe-auth/AIxVnYJ4Vk8jlPSxRcrZzl95YPRHWgNwks5toPxQgaJpZM4SEkZv.\n\n\n. Hi, I fix it. Apparently it was some code that, in the process of creating a new instance (via docker), old code was still there. What i did was to rebuild the admin. Everything is fine now. Although i noticed one thing... that these methods are not working properly.\n// Before saving a value.\n  // Fired before an insert or update query.\n  // beforeSave: async (model) => {},\n// After saving a value.\n  // Fired after an insert or update query.\n  // afterSave: async (model, result) => {},\n// Before fetching all values.\n  // Fired before a fetchAll operation.\n  // beforeFetchAll: async (model) => {},\n// After fetching all values.\n  // Fired after a fetchAll operation.\n  // afterFetchAll: async (model, results) => {},\n// Fired before a fetch operation.\n  // beforeFetch: async (model) => {},\n// After fetching a value.\n  // Fired after a fetch operation.\n  // afterFetch: async (model, result) => {},\n// Before creating a value.\n  // Fired before an insert query.\n  //  beforeCreate: async (model) => {},\n// After creating a value.\n  // Fired after an insert query.\n   //afterCreate: async (model, result) => {},\n// Before updating a value.\n  // Fired before an update query.\n  // beforeUpdate: async (model) => {},\n// After updating a value.\n  // Fired after an update query.\n  // afterUpdate: async (model, result) => {},\n// Before destroying a value.\n  // Fired before a delete query.\n  // beforeDestroy: async (model) => {},\n// After destroying a value.\n  // Fired after a delete query.\n  // afterDestroy: async (model, result) => {}\nI made some test because i wanted to send an email after Update or Create .They are not working the way they suppose to be. Sometime they are triggered more than once.. very strange\u2026\nEj. \n// beforeSave: async (model) => {},\nThanks you very much for your help.\nRegards,\nJaime\n\nOn 17 Apr 2018, at 15:57, cyril lopez notifications@github.com wrote:\n@suanter https://github.com/suanter how can I reproduce the issue?\nIt is the admin which is breaking or another app?\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub https://github.com/strapi/strapi/issues/640#issuecomment-382121785, or mute the thread https://github.com/notifications/unsubscribe-auth/AIxVnUeSgxYtjHqMrsbbnPJGS9WgOBRPks5tpkkVgaJpZM4SEkZv.\n\n\n. ",
    "mrksohag": "@lauriejim please check following image. Thanks.\n\n. ",
    "luisnomad": "Thanks for the answer @soupette, the article was pretty helpful!\nCheers.. ",
    "bzhr": "I like it how the features I need the most (GraphQL, file upload and text formating) are the features that are coming soon!\nIs there a road map?. @liming - Thanks for finding the solution, I will try it out right away. It seems that this needs to be created automatically. Is there more info in the docs on configurations of models?. @liming yes, I agree, the solution to the issue is to integrate this in the program so that workaround isn't needed. . @lauriejim do I need to only update the strapi version, anything else to change in the project?. How do I do number 3:\n\n\nReplace your plugin/content-manager/admin with the new one. Yes, it does work!. \n\n",
    "Freakspot": "I ran into the same issue when replicating this using strapi generate:controller test in a directory that was generated via strapi new. Same thing happened in a clone of this repository.\nHowever, running npm run setup from the clone fixed the issue for both directories, successfully generating my controller. . @denislutz Sorry, ich wusste nicht, dass noch jemand daran arbeitet! \ud83d\ude00 . @soupette Let's make a deal: You keep on making Strapi better and better, I keep on translating. :D. I just realized that apparently it pulled in the other commit I did towards the German localization because I was so stupid and committed that one to master. Hopefully, that will not be a problem.. Oh I see! Thanks for clarifying that @soupette.\nI agree with @derrickmehaffy, though. Just to make the functionality a little bit more obvious for new users.. Should be \"their\" instead of \"it's\" actually! Also, there is a double space behind the word \"model\".. ",
    "nguyenhoangsin": "Thank for all! I will close issues.. ",
    "nborko": "This issue should probably remain open since the documentation does not state that these commands are broken nor provide the alternative mentioned in this issue.  I had to search the closed issues to find this.. ",
    "nurikabe": "I think this may now be broken out of the box with alpha.12. Just tried reinstalling.  In Cygwin on Windows this works:\n$ strapi --version\n3.0.0-alpha.11.1\nThis does not:\n$ strapi version\nIs there a reason there are two ways to check version?\nDo you have more details on dev mode?  I didn't see anything in the quick start docs.\n. Haven't done much node development so not sure if this is the right approach, but how about this?:\nhttps://github.com/strapi/strapi/pull/820\n. I've experienced loss of user permissions as well.  It seems to occur somewhat routinely in the following case:\n\nWork on a model with \"auto server reload\" active\nIf there is a crash while editing a model, the server fails to auto reload\nForcibly reload the server and in many cases user permissions have been lost\n\nMy guess is that Strapi may be (needlessly?) cascade re-persisting user permissions when models for other data types are changed.  Perhaps permissions get wiped out when the there is a problem saving the data that triggered user permissions to also update.. I was just looking at https://github.com/koajs/joi-router.  Looks very good for this.. @soupette Please sell hats as well!. Ah, right :bulb:. @lauriejim I think we can close this.  I can see now that I can define any public route from basically any routes.json definition file.\nI'm blocked by https://github.com/strapi/strapi/issues/1128.  If I can figure that out then I can create arbitrary routes outside of admin that allow access depending on admin authentication state.. Ah, perhaps I'm not allowing sessions.  Is there a special config for this that I'm missing?\nI basically just want to check if (ctx.session.isAuthenticated === true) inside a policy applied to a specific route.\n. Okay, thanks.  Would you like me to update the policies documentation?. Mmm.. so I can't seem to retrieve user either.  This is what I get for ctx.state from inside a global policy:\n{ i18n:\n   I18n {\n     devMode: true,\n     directory: 'C:\\\\projects\\\\urbanrisklab\\\\prephub-api-strapi\\\\config\\\\locales',\n     locales:\n      { de_de: [Object],\n        en_us: [Object],\n        es_es: [Object],\n        fr_fr: [Object],\n        it_it: [Object] },\n     defaultLocale: 'en_us',\n     modes: [ 'query', 'subdomain', 'cookie', 'header', 'url', 'tld' ],\n     cookieName: 'locale',\n     extension: '.json',\n     locale: 'en_us',\n     whitelist: [ 'Query', 'Subdomain', 'Cookie', 'Header', 'Url', 'TLD' ],\n     request: { method: 'GET', url: 'index.html', header: [Object] } },\n  __: [Function: bound __],\n  __n: [Function: bound __n],\n  getLocale: [Function: bound getLocale],\n  isPreferredLocale: [Function: bound isPreferredLocale],\n  session: {},\n  route:\n   { method: [ 'get' ],\n     path: '/',\n     handler: [ [Function], [AsyncFunction: docs] ] } }\nNo user. @lauriejim No, though I'm hoping to allow authentication from a browser without the need for a token.  In other words:  If the user has logged in to admin, I want them to be able to access any Strapi route that has my custom global policy.\nHow does admin authorization work?  From the code it seems to be checking against 'utils/auth'\nhttps://github.com/strapi/sample-strapi-app/blob/master/admin/admin/src/containers/HomePage/index.js#L26\nbut... I can't seem to figure out where 'utils/auth' lives?\nShould I expect to find it in here?:\nhttps://github.com/strapi/sample-strapi-app/tree/master/admin/admin/src/utils\nSorry for the dumb questions.  I'm new to React.  Once I suss out how the admin module auth works I can leave you alone. :grin:\n. Are you running into a problem where returning data from the MongooseJS ORM doesn't allow you to modify the object?  If so, transform the returned Mongoose document to a JavaScript object.\n. Ah.. I see now.  Thanks!\n. ",
    "albertorm95": "Is this issue related to this one: https://github.com/strapi/strapi-docker/issues/35?. ",
    "kadaan": "Following what @derrickmehaffy stated, the api naming should be automatically generated, but able to be overridden.. Just to confirm, did this fix also resolve the same issue on the \"New Entry\" pages?. Crud.  Totally took the screenshot and forgot to attach it.  Here you go:\n\n. @lauriejim No worries.  Am I correct in assuming that the issue will remain open until fixed?. @lauriejim Seems like it was just addition of a huge margin-top to the bootstrap-overrides.scss that was causing the issue.  Any idea why that existed?. @lauriejim The issue here seems to be that the height of the li tags which make up the list rows is fixed at 5.7rem.  One possible solution is to change this from height to min-height.  One thing that still should be fixed is specifying a min width for the table.\nWhat do you think?\n\n. @lauriejim Can you review this?  Also, any idea the reasoning behind the margin-top being so large in the first place?. \n    Can you share a screenshot?\n\n\n\n    \u2014Joel Baranickjbaranick@gmail.com\n\nOn Mon, May 14, 2018 at 5:22 AM -0700, \"cyril lopez\" notifications@github.com wrote:\nHi @kadaan and thanks for your contribution!\nHowever, I don't think that we can merge your PR for the moment since all the popups aren't aligned correctly.\n@Aurelsicoko can you confirm?\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub, or mute the thread.\n. \n    Cool extension. I\u2019ll give that a shot tonight. One downside about the constant top margin is that it breaks once the client view size gets small enough. That said, a much smaller multiple of 1.8rem will probable fix the issue. Thanks!\n\n\n\n    \u2014Joel Baranickjbaranick@gmail.com\n\nOn Tue, May 15, 2018 at 8:43 AM -0700, \"Aur\u00e9lien GEORGET\" notifications@github.com wrote:\n@kadaan Thank you for the PR \ud83d\udc4d\nHere the screenshot to show you that the text in the modal is not correctly aligned with our baseline.\nWe're taking care of the UI a lot (especially me). Can you try to set the margin-top value to 9rem  instead and tell me if it works well on your side. Otherwise, you can also try 7.2rem or 5.4rem. Our baseline is defined to 1.8rem.\nPS: Here the link to download the Chrome Extension\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub, or mute the thread.\n. Thanks for the fix.  I\u2019ve been on vacation, so didn\u2019t have time to work on it.\n--\nJoel Baranick\njbaranick @gmail.com\nFrom: Jim LAURIE notifications@github.com\nReply-To: strapi/strapi reply@reply.github.com\nDate: Thursday, May 31, 2018 at 10:18 AM\nTo: strapi/strapi strapi@noreply.github.com\nCc: Joel Baranick jbaranick@gmail.com, Mention mention@noreply.github.com\nSubject: Re: [strapi/strapi] Remove model dialog margin-top definition from bootstrap-overrides.scss (#1078)\n@johannpinsonhttps://github.com/johannpinson Completely right !!\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHubhttps://github.com/strapi/strapi/pull/1078#issuecomment-393607043, or mute the threadhttps://github.com/notifications/unsubscribe-auth/AB0RAkyfgyMrWjn0C9CdRh1lhJrbb2vOks5t4CXVgaJpZM4TtvBs.\n. ",
    "jamesdbruner": "https://github.com/strapi/strapi/issues/659. ",
    "igghera": "Pleasure :). ",
    "pravosleva": "@Aurelsicoko, I'am js-beginner.\nWill you please, help me.\nI have created project with included socket.io here - https://github.com/pravosleva/strapi-socket.io-test\nI know, how can I use socket.io in React with express on backend (but not with Strapi).\nSo, my question is this -> where can i use io.on( connection, function (socket) {} ) in your code above?\nThanks.. @Aurelsicoko Can I use strapi.io.on( connection, function (socket) {} )?. Ubuntu 16.04. ",
    "wonknu": "Hello @pravosleva , not sure if it will help you but i made some kind of tutorial this weekend to explan how i managed to setup socket io in my projet as i'm using it to. It's a basic example of setting up socket io an then use strapi public html file\nhttps://github.com/wonknu/strapi_socket/blob/master/README.md. ",
    "rudolph2907": "Hi Jim\nStill getting the same issue with v9.5\n\n. ",
    "jbuck94": "Looks like it existed in the V1 Docs - not sure why they would have gone away with this.  Mongoose native timestamps (createdAt, updatedAt) would be very helpful!. ",
    "francismoreno": "I had the same error when trying to run strapi start:\nerror: The hook '_config' failed to load!\nfixed it by running npm install\n. ",
    "LinhTran1": "On windows, you should run commands under clean:all separately and then remove \"npm run clean:all && \" from value of setup in package.json. ",
    "jikotw74": "Same issue here with APP_PATH error\nI resolved with \n\ncross-env APP_PATH=$APP_PATH npm run build:dll ......\n\nthen goes another error\npackages\\strapi-helper-plugin\\node_modules.bin\\cross-env:2\nbasedir=$(dirname \"$(echo \"$0\" | sed -e 's,\\,/,g')\")\n          ^^^^^^^\nSyntaxError: missing ) after argument list\n    at new Script (vm.js:51:7)\n    at createScript (vm.js:136:10)\n    at Object.runInThisContext (vm.js:197:10)\n    at Module._compile (module.js:613:28)\n    at Object.Module._extensions..js (module.js:660:10)\n    at Module.load (module.js:561:32)\n    at tryModuleLoad (module.js:501:12)\n    at Function.Module._load (module.js:493:3)\n    at Function.Module.runMain (module.js:690:10)\n    at startup (bootstrap_node.js:194:16)\nHere is my packages\\strapi-helper-plugin\\node_modules.bin\\cross-env\n`\n!/bin/sh\nbasedir=$(dirname \"$(echo \"$0\" | sed -e 's,\\,/,g')\")\ncase uname in\n    CYGWIN) basedir=cygpath -w \"$basedir\";;\nesac\nif [ -x \"$basedir/node\" ]; then\n  \"$basedir/node\"  \"$basedir/../cross-env/dist/bin/cross-env.js\" \"$@\"\n  ret=$?\nelse \n  node  \"$basedir/../cross-env/dist/bin/cross-env.js\" \"$@\"\n  ret=$?\nfi\nexit $ret\nlooks weird. use cross-envnpm install cross-env -g`\nreplace all node ./node_modules/SOME/PATH cross-env with cross-env in scripts of package.json. I did try Ubuntu on Windows.\nBut there are still problems. \nI'm goingo to try another WSL.\n@derrickmehaffy Thank you.. @XcrossD It works. thank you!. same problem here. ",
    "RyanSusana": "I am having this issue as well. ",
    "XcrossD": "Combining all the suggestions above, here are the steps for a temporary workaround in Windows 10:\n(refer to plugin development quick start)\n\nInstall ubuntu subsystem on Windows 10 following this link\nInstall nvm in Ubuntu, and install your preferred version of node. Or just install node directly.\nInstall strapi in Ubuntu. npm install strapi@alpha -g\nDo section Development Environment Setup in Ubuntu\nDo section Plugin development Setup in Ubuntu, but create your new project in a folder in windows for easier editing. For example: if you want to put your project in C:\\Users\\username\\my-project, the pathname you want to write is /mnt/c/Users/username/my-project. When asked to open another terminal, open another instance of Ubuntu\nVisit corresponding location in your browser in windows\n\nI noticed that live refresh doesn't work, so you need to refresh the browser yourself, but this is better than nothing.\n. @LuisLoureiro Thanks for linking the issues up. I didn't notice this one before. And yes I think it is exactly the same problem. Seems like there are quite a few users facing this problem, hopefully it can be fixed soon.. I checked again and this behavior is the same in #886. I think the relations on the one side should be created automatically, but even if I wanted to create each of them manually I cannot do it because one of them has to be saved first, and saving causes error.... @Aurelsicoko I found the error. I manually adjust the settings to be what you listed out and remove plugin property from both sides. The server can start again without error. This is currently what my settings look like.\n\n\n. @lauriejim I'm trying to solve this issue, but I can't wrap my head around it. Can you give me some hints? Thank you.\nI have 1 to many relation - one product has many productfeatures, and I want to populate the image in productfeature when I obtain product data.\nSo far I have gotten to myProject/api/product/controllers/Product.js and myProject/api/product/services/Project.js (maybe the same files in productfeature are related as well). \nI have tried the following in myProject/api/product/services/Project.js\n```\nfetchAll: (params) => {\n    const convertedParams = strapi.utils.models.convertParams('product', params);\nreturn Product\n  .find()\n  .where(convertedParams.where)\n  .sort(convertedParams.sort)\n  .skip(convertedParams.start)\n  .limit(convertedParams.limit)\n  // new populate\n  .populate({\n    path: 'productfeatures',\n    populate: {\n      path: 'image',\n    }\n  })\n  .populate(_.keys(_.groupBy(_.reject(strapi.models.product.associations, {autoPopulate: false}), 'alias')).join(' '));\n\n},\n```\nAlso the following in myProject/api/productfeature/services/Productfeature.js\n```\nfetchAll: (params) => {\n    const convertedParams = strapi.utils.models.convertParams('productfeature', params);\nreturn Productfeature\n  .find()\n  .where(convertedParams.where)\n  .sort(convertedParams.sort)\n  .skip(convertedParams.start)\n  .limit(convertedParams.limit)\n  // new populate\n  .populate({\n    path: 'image',\n  })\n  .populate(_.keys(_.groupBy(_.reject(strapi.models.productfeature.associations, {autoPopulate: false}), 'alias')).join(' '));\n\n},\n\nfetchAll: (params) => {\n    const convertedParams = strapi.utils.models.convertParams('productfeature', params);\nreturn Productfeature\n  .find()\n  .where(convertedParams.where)\n  .sort(convertedParams.sort)\n  .skip(convertedParams.start)\n  .limit(convertedParams.limit)\n  // append 'image' to the string passed to populate\n  .populate(_.keys(_.groupBy(_.reject(strapi.models.productfeature.associations, {autoPopulate: false}), 'alias')).join(' ') + ' image');\n\n},\n``\nNone of them work. I'm thinking the correct way is to use existing .populate() but I have absolutely no idea what is instrapi.models.productfeature.associations`.. @lauriejim It is the same error that I saw. The difference is that I am adding a relation from another content type, not from itself. I don't know if that counts as the same error.\nI updated to alpha.11.3 and the issue is still not resolved. Hopefully the gif video will help a bit - at least you can see it is really going wrong.\n\n. @lauriejim Can you tell me exactly what is the necessary data for you to reproduce, and where to find it? I know it's best if you have all the data but we are building this website for a client, and I don't think they will be too happy if we leak out their data.. @lauriejim If it's just the settings files I think that won't be a problem. I zipped the api folder in my home directory.\napi.zip\n. @lauriejim I just tried using a new application but the error still persists. What I did was strapi new test, copy api folder to \"test\", strapi start. I also noticed that my global strapi version is still at alpha.11.1, so I updated to alpha.11.3, created a new application again, but it still doesn't work. Are there any other tests that I can do?. @Aurelsicoko Tested again with alpha.12, no luck. Same setup with the permission ticks issue. @Aurelsicoko This is a browser issue. I updated to alpha.12.0.1 and it works on chrome but not on firefox. I'm really out of luck using firefox as my main development browser. Maybe I should switch to chrome.. I'm also hoping that this gets released soon (currently on alpha.12.0.1). IMO not being able to select what you want to link in the relation defeats the purpose of setting up relations. Not to mention that data easily go over 20 entries in quite a lot of applications.. @Aurelsicoko Hosted with mLab. From the dashboard - mongod version: 3.4.14. Happy to provide more information.\nActually the route permissions have been saved, it's just after 1 second the saved route permissions disappeared.. @Aurelsicoko \napi.zip\nI will test a fresh app later and let you know.. Fresh install shows the same. I could DM you my server details on slack for further testing.. Yes running on windows. Tested both on Chrome and Firefox.\nOn 2018 M05 1, Tue 5:36 PM Aur\u00e9lien GEORGET notifications@github.com<mailto:notifications@github.com> wrote:\n@XcrossDhttps://github.com/XcrossD @soorurhttps://github.com/soorur Which browser are you using?\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHubhttps://github.com/strapi/strapi/issues/977#issuecomment-385634705, or mute the threadhttps://github.com/notifications/unsubscribe-auth/AGXC5YlZkaI0xdRfI3HFBCfH_pYn-ps2ks5tuCyXgaJpZM4Tc2fn.\n. @Aurelsicoko I didn't do anything extra in mLab after following this tutorial. I think by default on mLab I have write permission? I don't see where I can set write permissions for individual collections either. As I mentioned before, the route permissions are saved. If I don't have write permission, how can the route permissions be saved? Maybe this is an issue on mLab only? But then again @soorur  might be using a local database. . @Aurelsicoko Also before you said it was running fine after I gave you the mLab. What is causing the difference now?. @Aurelsicoko  Weird, I just updated to 12.1.2 and this issue still persists. I see some permissions are ticked, some are not, so I tick those that are unticked and save, but only those that were originally ticked are visible. ~~Is it helpful to know which ones are problematic?~~\nUnticked: contact productfeature banner homeslideshow customer. Nevermind, I saw it's going to roll out in the next update. Although I'd like to come out sooner though.. So is there anything I could do here? If you're moving the flag to the top right corner I don't see the point of adding a commit for the suggestions made by @soupette. Sorry, I didn't help much.. @soupette PR added. I was busy producing some debug information for some other issues.. @praveenbethapudi I don't think you need to specifically create a \"guest\" user for it to work. At least there is no user associated to my public/guest role in the top right box. Maybe this is why it is causing problem for you.. @lauriejim I confirm that this is not a duplicate. Only the field \"value\" will prevent relation from updating. Although the end behavior seems like the same the error message is different.\n{\"statusCode\":400,\"error\":\"Bad Request\",\"message\":[{\"messages\":[{\"id\":\"Cannot read property 'toString' of undefined\"}]}]}. @lauriejim Just tested with alpha.12.1.3, the error message becomes Cast to ObjectId failed for value \"1.11111111111\" at path \"test\"\nData structure:\n\n\n. @lauriejim strapi new myProj with alpha.12.1.3, using an existing database created and used with previous versions. My database is hosted on mLab.. @lauriejim I just updated to 12.2 and created a fresh database. It now says value is a reserved keyword, so I can't finish my test, but I guess that is one way to fix it? I only observed specifically this kind of interaction when there is value present. For now maybe it is okay but I'm not sure in the long run whether this kind of behavior will appear again with other keywords.. This is duplicate with #877. I'm trying to get it to work, but I need some guidance from the maintainers.. Regarding the translation thing I was able to make it go away by copying the zh.js files and renaming it to zh-Hans.js.. @Aurelsicoko I did try to look into it but I couldn't understand the whole system behind it. I need to sink some time into studying the system, so I will try to do that and see how it goes.. Seeing that there is problem with the plugin: \" \" attribute, I just want to mention that this may be related to #886. The fix is going to be released in alpha.12.2. I tested this out as well with a fresh installation. Unfortunately, it seems that a new bug has appeared. It has a different error message from what I have experienced before.\n[2018-05-25T01:51:46.804Z] error Something went wrong in the model `Testspecification` with the attribute `test`\n[2018-05-25T01:51:46.807Z] error Cannot read property 'hasOwnProperty' of undefined\nI'm guessing this has to do with not checking for whether the object actually exists or not, judging from Object.hasOwnProperty.. @mnlbox I opened #886. The error I experienced and the issues you provided all point to this error message Cannot read property 'models' of undefined, which I believe is fixed in this current state by removing the plugin attribute. Now this different error message appeared without plugin so I think this is a new bug, unless the code behind all these is fundamentally flawed.. @Aurelsicoko No I don't see plugin attribute. This error is worse than before because previously if I adjust settings.json files manually I can get it started and also have the relations created. Now the only way to get started is to remove all the extra settings created when adding a relation.. @indiecore-fm I agree the issue should be the same if it's along the lines of error Cannot read property 'xxxxxxx' of undefined. However I am confused by what @dsheyp observed. The initial observation shows the same error, but later on it seems like strapi just didn't generate the json files correctly judging by the updated error message error The attribute 'test' is missing in the model Subtest. He also managed to start up, but for me I can't event start even correcting my json files according to the relations guideline.. @Aurelsicoko Yes.. @derrickmehaffy Manually changing the field values in mongo is okay. It retains what I inputted.. ",
    "joeinnes": "Yup, model is:\n{\n  \"connection\": \"default\",\n  \"collectionName\": \"\",\n  \"info\": {\n    \"name\": \"like\",\n    \"description\": \"Store likes from a user\"\n  },\n  \"attributes\": {\n    \"user\": {\n      \"model\": \"user\",\n      \"via\": \"likes\",\n      \"plugin\": \"users-permissions\"\n    },\n    \"likes\": {\n      \"collection\": \"film\",\n      \"via\": \"liked by\"\n    },\n    \"dislikes\": {\n      \"collection\": \"film\",\n      \"via\": \"disliked by\"\n    },\n    \"seen\": {\n      \"collection\": \"film\",\n      \"via\": \"seen by\"\n    }\n  }\n}\nThe 'PUT' was an array of film IDs, but I don't actually still have the record of it. If you can't reproduce, then let's close.. Hi,\nAfraid not. I gave up.\nBest regards,\nJoe\nhttp://joeinn.es\nOn 27 March 2018 at 20:20, Jim LAURIE notifications@github.com wrote:\n\nHi @joeinnes https://github.com/joeinnes can you give me more details\nplease.\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\nhttps://github.com/strapi/strapi/issues/682#issuecomment-376625103, or mute\nthe thread\nhttps://github.com/notifications/unsubscribe-auth/AEfHRZMn4O3edpZxW24T-a5zpdNYMhloks5tioLfgaJpZM4SOdlH\n.\n. \n",
    "moersoy": "@soupette The language file for that extension looks empty, so I did not create the language file.. ",
    "TheWebsDoor": "Hello @lauriejim :)\nYou right, I didn't check but it seems to work when object have no relation with User indeed.\nGood catch !. That's right, it's working like a charm now :) You can close the issue \ud83d\ude09. Seems to be good for me. I've got another issue with relations but it's not related to this ticket.\nFor the moment I can't explain it, @Aurelsicoko is aware of it but I try to find to reproduce it for you guys. Thanks !. @pedrosimao You can pull the feature/upload branch. They're still working on it but it's functional :). @pedrosimao In order to work on the project, you shouldn't use npm. You have to clone the strapi repo on a distinct folder and build your app in dev mode (setup : https://github.com/strapi/strapi/blob/master/CONTRIBUTING.md) \nAfter that, you'll be able to make changes in the plugins by editing files in packages folder (helper-plugin, content-manager, users-permissions, etc.). @pedrosimao Yes you can do that or I think that you can do a symbolic link of the admin folder inside your project. Hope to help you a bit more than that in the future \ud83d\ude04. Hi @lauriejim, in your strapi-plugin-upload/services/Upload.js, the method bufferize uses _.isBuffer or in content-manager or in strapi-mongoose, you use_.differenceWith and I think that there are some more that don't exist in the default installed version on Strapi (which for us is the version 3.10.1).\nThe problem is that lodash is installed by default from another package and the version used by this package is the 3.10.1... \nIf you use lodash in your code, I think that you have to put it as a dependency for your project and not get it from another dependency package.. Good catch thanks. I didn't try to reproduce it since the last time, I'll check it tonight and I'll let you know !. Sorry @lauriejim I was quite busy during last days but I'll check this tonight :). I've made a little clean according to what you said. Tell me if it's better for you :). ",
    "Jakku7": "Yeah. I had to drop db to make it up and running again. \nThanks for help! . ",
    "tapvt": "@derrickmehaffy Great. I'll take a look. Thanks.. @derrickmehaffy, after upgrading to node v9.6.1, the above error still occurs.. Thanks for the ideas, @derrickmehaffy. Unfortunately, a fresh installation did not solve the issue. I manually ensured that strapi-mongoose is installed as well.\nI am getting better stack traces now. So, strapi start yields:\n(node:35160) UnhandledPromiseRejectionWarning: TypeError: strapi.models.core_store.forge is not a function\n    at Object.get (/Users/bweller/.nvm/versions/node/v9.6.1/lib/node_modules/strapi/lib/core/store.js:58:47)\n    at module.exports (/Users/bweller/src/nusa/crmServer/plugins/settings-manager/config/functions/bootstrap.js:17:26)\n    at Promise (/Users/bweller/.nvm/versions/node/v9.6.1/lib/node_modules/strapi/lib/Strapi.js:222:9)\n    at new Promise (<anonymous>)\n    at execBootstrap (/Users/bweller/.nvm/versions/node/v9.6.1/lib/node_modules/strapi/lib/Strapi.js:212:61)\n    at Promise.all.Object.values.map.x (/Users/bweller/.nvm/versions/node/v9.6.1/lib/node_modules/strapi/lib/Strapi.js:250:17)\n    at Array.map (<anonymous>)\n    at Strapi.bootstrap (/Users/bweller/.nvm/versions/node/v9.6.1/lib/node_modules/strapi/lib/Strapi.js:250:8)\n    at Strapi.start (/Users/bweller/.nvm/versions/node/v9.6.1/lib/node_modules/strapi/lib/Strapi.js:95:18)\n    at <anonymous>\nSo I decided to have a look in /lib/core/store.js.\nTurns out, strapi.models['core_store'].orm is undefined for me.\nAnyone have any ideas here? I'm going to keep digging. Really want to play with this. Thanks in advance!. @derrickmehaffy Huh. Lemme fire up a linux VM and give it a shot.. @derrickmehaffy, @pedrossimao:\nI fired up an ec2 micro, and had no problems. So, this is some type of environmental issue.\nI am using identical versions of Strapi, node and mongod on both machines.\nStrapi: 3.0.0-alpha.10.2\nNode: v9.6.1\nmongod: v3.6.3\nIf anyone can point me in a direction regarding strapi.models['core_store'] , I'm happy to dig in and figure out why its orm property is undefined on mac.\nCheers!. Sure @derrickmehaffy, I'll have a go at it.. @derrickmehaffy @pedrosimao - I'm feeling like these might be separate issues. I was hitting an issue way earlier in store.js. Line 57.. @derrickmehaffy I can confirm that this is still an issue running against latest master (443d6b81) on OSX.\nSame trace:\n16:02 $ strapi start\nWARN (43775 on ****): (hook:mongoose) wasn't loaded due to missing key `enabled` in the configuration\n(node:43775) UnhandledPromiseRejectionWarning: TypeError: strapi.models.core_store.forge is not a function\n    at Object.get (/Users/bweller/src/strapi/packages/strapi/lib/core/store.js:57:47)    at module.exports (/Users/bweller/src/osx-test-latest/plugins/settings-manager/config/functions/bootstrap.js:17:26)\n    at Promise (/Users/bweller/src/strapi/packages/strapi/lib/Strapi.js:222:9)\n    at new Promise (<anonymous>)\n    at execBootstrap (/Users/bweller/src/strapi/packages/strapi/lib/Strapi.js:212:61)\n    at Promise.all.Object.values.map.x (/Users/bweller/src/strapi/packages/strapi/lib/Strapi.js:250:17)\n    at Array.map (<anonymous>)\n    at Strapi.bootstrap (/Users/bweller/src/strapi/packages/strapi/lib/Strapi.js:250:8)\n    at Strapi.start (/Users/bweller/src/strapi/packages/strapi/lib/Strapi.js:95:18)\n    at <anonymous>. @lauriejim - Thanks for keeping us Mac users in mind! It'll really ramp up my productivity when I can run a dev server locally.\nUnfortunately, I just did a clean install of 3.0.0-alpha.11.1, and the issue is still present. Same failure trace. Slightly different log formatting, though.\nNode.js version: v9.6.1\nnpm version: 5.7.1\nStrapi version:: 3.0.0-alpha.11.1\nOperating system: OSX 10.13.3\n``\n[2018-03-12T20:42:55.546Z] warn (hook:mongoose) wasn't loaded due to missing keyenabled` in the configuration\n(node:82967) UnhandledPromiseRejectionWarning: TypeError: strapi.models.core_store.forge is not a function\n    at Object.get (/Users/username/.nvm/versions/node/v9.6.1/lib/node_modules/strapi/lib/core/store.js:57:47)\n    at module.exports (/Users/username/src/foobar/plugins/settings-manager/config/functions/bootstrap.js:17:26)\n    at Promise (/Users/username/.nvm/versions/node/v9.6.1/lib/node_modules/strapi/lib/Strapi.js:222:9)\n    at new Promise ()\n    at execBootstrap (/Users/username/.nvm/versions/node/v9.6.1/lib/node_modules/strapi/lib/Strapi.js:212:61)\n    at Promise.all.Object.values.map.x (/Users/username/.nvm/versions/node/v9.6.1/lib/node_modules/strapi/lib/Strapi.js:250:17)\n    at Array.map ()\n    at Strapi.bootstrap (/Users/username/.nvm/versions/node/v9.6.1/lib/node_modules/strapi/lib/Strapi.js:250:8)\n    at Strapi.start (/Users/username/.nvm/versions/node/v9.6.1/lib/node_modules/strapi/lib/Strapi.js:95:18)\n    at \n``. This whole issue revolves aroundstrapi.models['core_store'].ormbeing undefined. I'm using mongoose, btw. Since the logic explicitly checks for=== 'mongoose'`, it defaults and tries to use forge, which obviously won't work.\nI don't know the internals of the strapi bootstrap process, but I'm willing to dig in since I can reproduce on my machine reliably.\nMaybe someone could point me to where strapi.models['core_store'] is built up at boot and where the value for orm is set?\n```\n...\nconst data = strapi.models['core_store'].orm === 'mongoose'\n? await strapi.models['core_store'].findOne(where)\n: await strapi.models['core_store'].forge(where).fetch().then(config => {\n...\n``\n. This is hilarious and embarrassing at the same time... After digging around in the code for a bit, I tried explicitly setting my environment. Lo and behold everything works w/3.0.0-alpha.11.1. Turns out my.bashrcwas setting it todev, which is standard for some projects, but Strapi prefersdevelopment`.\nSo, @kis, can you try export NODE_ENV=\"development\" && strapi start and let us know if that works for you?\n@lauriejim, I guess if that works for @kis, then we can close this issue. Thanks for the guidance on the codebase. Might consider displaying a warning on start if a given environment has no directory in ./config/environments, or if a non-standard environment name is detected during strapi new?. @lauriejim \nI explicitly unset NODE_ENV to re-create my earlier issue. Here's the output w/ a console.log() of just .orm()\nLooks good to me.\nmongoose                                                                                                                \nmongoose                                                                                                                \nmongoose                                                                                                                \nmongoose                                                                                                                \nmongoose                                                                                                                \nmongoose                                                                                                                \n[2018-03-28T11:56:54.039Z] info Server started in /Users/bweller/src/latestTestStrapi                                   \n[2018-03-28T11:56:54.040Z] info Your server is running at http://localhost:1337                                         \n[2018-03-28T11:56:54.041Z] debug Time: Wed Mar 28 2018 06:56:54 GMT-0500 (CDT)                                          \n[2018-03-28T11:56:54.041Z] debug Launched in: 2948 ms                                                                   \n[2018-03-28T11:56:54.041Z] debug Environment: development                                                               \n[2018-03-28T11:56:54.041Z] debug Process PID: 885                                                                       \n[2018-03-28T11:56:54.042Z] debug Version: 3.0.0-alpha.11.2 (node v9.6.1)                                                \n[2018-03-28T11:56:54.042Z] info To shut down your server, press <CTRL> + C at any time. @lauriejim, is this resolved on alpha.11.2?\nJust upgraded my staging server to that version and still encountering the plaintext password when I query the DB directly, so I suppose it is not?. @lauriejim, you're absolutely right. Though the warning on creating a new project would have saved me some hours of trying to troubleshoot, it would be better to handle it within the core of the application. One never knows when a user might accidentally or intentionally change their NODE_ENV.\nThanks for pointing me in the right direction. I'll get a new PR out to handle this properly when time permits.\nClosing. Will create new PR w/ suggested implementation.. I am also experiencing this issue with 3.0.0-alpha.14.2.\nAnyone know if this is resolved with 14.5? We'll be upgrading over the weekend either way. Just curious.. ",
    "pedrosimao": "I have the same issue here.\nI am using Mac OsX, Node v. 9.6.1 and MySQL.\nIt's very frustrating not being able to start strapi and test for the first time.. @derrickmehaffy I have just tested in a Ubuntu VPS with Node v.9.5.0 and I got the exact same issue.\nI think the problem is related to Mysql and not to Mac OSX.\nI got the following error messages:\n\n(node:5824) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)\n(node:5824) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.\nWARN (5824 on bitmondo.com.br): Bootstrap is taking unusually long to execute its callback 3500 miliseconds).\nWARN (5824 on bitmondo.com.br): Perhaps you forgot to call it?. The problem is actually coming from the following lines:\nnode_modules/mysql/lib/protocol/sequences/Sequence.js:52:14\n...\n at Object.set (/usr/lib/node_modules/strapi/lib/core/store.js:126:57). @lauriejim Polymorphic relations are already working? I am trying this on my models but it won't work. Can I have access to the fix? I could help you with testing and debugging of polymorphic relations. . @TheWebsDoor I just saw the upload branch was merged with the master branch. But I have installed strapi from npm install command. How can upgrade it directly from the github repo, and also what files should I substitute in my \"on going\" project?. @TheWebsDoor thanks. I will try to make some contributions. I have also taken a look at the upgrade guides. To implement the last changes made from \"upload\" feature branch I just need to copy the \"admin\" folder of the newDevelopmentProject to my old v3.alpha10.03 project? Or is there anything else that I should substitute? . I have also noted that if I use \"collection\": \"*\", instead of \"model\": \"*\" the server doesnt even start, saying something is wrong with the model. This is the error message:\nSomething went wrong in the model Lesson with the attribute childTemplate\n\nMaybe this might give you a clue from where the bug comes from?. @lauriejim Thanks a lot. I was not sure if the \"upload\" feature would fix the entire bug. That's why I insisted. Count on me for extensive testing! I actually plan to put Polymorphic model live on a real application very soon. So I will do everything needed to make it work.. @lauriejim I just pulled the merged version and started playing with it. Now the polymorphic model kind of works. But I found three problems, two of them are related to polymorphic models itself, another bug that didn't exist previously.\n1 - When I try to use \"model\": \"*\" or \"collection\": \"*\" on my polymorphic models. I get this error while trying to edit the Content Type via the admin panel: \n\nDon't forget to create the table `` in your database\n\nOn the console log I get the following:\n\nerror Cannot read property 'attributes' of undefined\n\n2 - using the \"filter\": \"something\"on polymorphic model don't seem to produce any effect. \n3 - on the new version something got messed up with different \"Content Types\" using the same mongo \"Collection\". I want to create several Content Types with the same collection and it worked correctly before. On the newly merged version when I create a new content, this will be shown on all Content Types sharing the same mongodb collection.\n. Finally it would be nice if Polymorphic model could be chosen from Admin interface directly. I think this would guarantee maximum compatibility. . @Aurelsicoko have you seen this bug with multiple \"Content Types\" using the same collection?. @asharamseervi I don't think your issue has any relation with the mentioned bug. Items can be created with no problem. The bug I mentioned is just related to Content Types using same Collection name.\nI think a similar issue to yours have been opened here #770 . @asharamseervi I am pretty sure the issue you are talking about is not related to the issue I have opened. Relating one thing to the other  can make issue solving confusing, for the developers.\nI am pretty sure your issue is only related to Heroku and not to shared Collection names.\nIf you feel like doing so, please open a separate issue.. @lauriejim If this is not a bug it is a poor design choice and it is actually inconsistent with you previous Strapi versions. Not to say it pretty much feels like it is a bug when you see same data being displayed randomly across different Content Types. \nThe most annoying part of this issue is that on earlier versions of Strapi (even on v3 alpha10) this would not happen. So, I was building my app with many APIs/Models sharing the same Collection name, because this was a smart choice for me to organize the project that way. And the data was not mixed up. Each item would appear for each individual API no matter if they use the same Collection. This behavior only started on alpha v11. Do you believe me on that, or I do have to send you a video to prove you?\nNow I have to completely redesign my APIs and queries, because you randomly change behavior of Strapi from version to version. And it is no longer possible to put different model in the same Collection, which can be a very good idea performance wise, for example.. Aurelien,\nPolymorphic model is part of the documentation. As being so, I think the minimum expected behavior is that the UI will not bug ( and give multiple errors) in case someone implements Polymorphic model. If not we have the impression Strapi is too buggy to be usable. Also it would be expectable that we are still able to add documents/items to the collections via the UI. I am not talking about creating the relationship themselves.\nFurthermore, as we have communicated via Slack, I have tried to make a POST request to my Polymorphic model, and the relationship is not established even without the UI. Which means polymorphism is buggy even without the UI. Then I tried the solution you suggested me and made a POST request that is not even documented, like this:\n{\n    \"name\": \"Test Static\",\n    \"parentPage\": [ { \n        \"_id\": \"5aab9d7a943e9433366b6e9e\",\n        \"refId\": \"5aab9d7a943e9433366b6e9e\",\n        \"ref\": \"polymorphic\",\n        \"source\": \"static02\",\n        \"field\": \"related\"}  ]\n}\nAgain I had the same buggy behavior. \nPlease let me know which log file you need from me. But I can assure you I have spent hours trying to the the right thing via programming and not the UI, and the lack of documentation with a real bug is making it very difficult to work with Strapi. One thing is having to program, other thing is being obliged to review your entire code. If I wanted to code from zero I would never search a solution like Strapi which is supposed to be a nice boilerplate for all kind of backend projects.. That's great news!. @Aurelsicoko ok, thanks for your guidance. I will look into that this weekend! =). Small update:\nI have managed to fix the POST API by manually editing the \"add\" function on API services file.\nBasically, I had to delete the lodash function that omits the associations from the values parameter.\nBy default Strapi makes the API request like this:\nconst data = await Pageshistory.create(_.omit(values, _.keys(_.groupBy(strapi.models.pageshistory.associations, 'alias'))));\nSo, I simply changed to this:\nconst data = await Pageshistory.create(values);\nI just wonder if there is a serious reason why you omit the associations?. New update:\nI have just done a test using two collections that have a different relation. \nThis time I had a \"many-to-one\" relation, instead of a \"one-way\" relation.\nAnd again I had the exact same problem.\nSo I suggest to delete the lodash omit function from the POST APIs services.. Sure, I was just a bit afraid of doing changes that mess up something else.\nFor example, it would be usefull to know if there is any reason for you to use the lodash omit function on valuesobject, or if you just forgot this piece of code from a much earlier version?\n_.omit(values, _.keys(_.groupBy(strapi.models.pageshistory.associations, 'alias')))\nIf you simply forgot it, I will just delete it and put the complete values object inside the function call. If some extra filter need to be done, I can come up with a new lodash function.\n. @lauriejim have you tested with One-Way relationship? I am pretty sure you will have a problem.\nAlso, it would be nice if you clarify the reason you have used lodash in that particular situation. It doesn't seem needed to me, and suppressing it fixed the issue to me.\nAnyway, I will look into the part of the code you pointed out.. @lauriejim I just checked again, and I think you are not correct about the issue.\nI did a console.log(data); and the data object simply does not contain the relation. Which clearly indicates that the problem comes from before await strapi.hook.mongoose.manageRelations(...) is executed. If we are sending the incorrect data to manageRelations() method, the relation will never be established. . This is my data when lodash omit is used:\n{ _id: 5ad4acdf4f8ea30622280dc9,\n  name: 'This is the related to two',\n  createdAt: 2018-04-16T14:02:07.783Z,\n  updatedAt: 2018-04-16T14:02:07.783Z,\n  __v: 0,\n  id: '5ad4acdf4f8ea30622280dc9' }\nAnd this is without lodash omit:\n{ _id: 5ad4ade72537730646c9c34d,\n  related: 5acfa7d43636e90f889b4aad,\n  name: 'This is the related to two',\n  createdAt: 2018-04-16T14:06:31.838Z,\n  updatedAt: 2018-04-16T14:06:31.838Z,\n  __v: 0,\n  id: '5ad4ade72537730646c9c34d' }. @lauriejim ?. @lauriejim this fixes the problem when we create API via strapi generate:api command. But I have found out that API created via Content-Type-Builder still the same. Content-Type-Builder does not use the package strapi-generate-api?. Will this pull request be added to the next official release?. @kamalbennani @lauriejim @Aurelsicoko I can beta test this too. How should I do it? Will you merge this to the master branch before we can do it? or do you suggest us to merge in local before beta testing?. This is actually very much needed. It is probably not difficult to implement.... I just had the same problem with version 24. It was working great with version 15. And now I have delete problems.... ",
    "kis": "@soupette @lauriejim any progress with that? facing the same issue  . ",
    "aaimaawebs": "Hello Everyone, a new headache for us. I had fresh installed Strapi on Ubuntu 16.04, via Script & everything installed & configured via them. Oh, everything went well for Development ('strapi start') but when I configured mlab with production (I doubly check everything, is fine as per all Strapi Tutorials on Blog).\nSo, decided to hit NODE_ENV=production npm start and WTH, there are similar issues as you guys are discussing. Instead, here with me, NO Mac, No SQL. Just mongo, Ubuntu, Script & Production. Error's are as follows:\n```\nroot@strapi:~/strapi# NODE_ENV=production npm start\n\nstrapi@0.1.0 start /root/strapi\nnode server.js\n\n(node:2088) UnhandledPromiseRejectionWarning: TypeError: strapi.models.core_store.forge is not a function\n    at Object.get (/root/.nvm/versions/node/v9.8.0/lib/node_modules/strapi/lib/core/store.js:57:47)\n    at module.exports (/root/strapi/plugins/settings-manager/config/functions/bootstrap.js:17:26)\n    at Promise (/root/.nvm/versions/node/v9.8.0/lib/node_modules/strapi/lib/Strapi.js:222:9)\n    at new Promise ()\n    at execBootstrap (/root/.nvm/versions/node/v9.8.0/lib/node_modules/strapi/lib/Strapi.js:212:61)\n    at Promise.all.Object.values.map.x (/root/.nvm/versions/node/v9.8.0/lib/node_modules/strapi/lib/Strapi.js:250:17)\n    at Array.map ()\n    at Strapi.bootstrap (/root/.nvm/versions/node/v9.8.0/lib/node_modules/strapi/lib/Strapi.js:250:8)\n    at Strapi.start (/root/.nvm/versions/node/v9.8.0/lib/node_modules/strapi/lib/Strapi.js:95:18)\n    at \n(node:2088) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 5)\n(node:2088) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.\n(node:2088) UnhandledPromiseRejectionWarning: TypeError: strapi.models.core_store.forge is not a function\n    at Object.get (/root/.nvm/versions/node/v9.8.0/lib/node_modules/strapi/lib/core/store.js:57:47)\n    at module.exports (/root/strapi/plugins/users-permissions/config/functions/bootstrap.js:37:26)\n    at Promise (/root/.nvm/versions/node/v9.8.0/lib/node_modules/strapi/lib/Strapi.js:222:9)\n    at new Promise ()\n    at execBootstrap (/root/.nvm/versions/node/v9.8.0/lib/node_modules/strapi/lib/Strapi.js:212:61)\n    at Promise.all.Object.values.map.x (/root/.nvm/versions/node/v9.8.0/lib/node_modules/strapi/lib/Strapi.js:250:17)\n    at Array.map ()\n    at Strapi.bootstrap (/root/.nvm/versions/node/v9.8.0/lib/node_modules/strapi/lib/Strapi.js:250:8)\n    at Strapi.start (/root/.nvm/versions/node/v9.8.0/lib/node_modules/strapi/lib/Strapi.js:95:18)\n    at \n(node:2088) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 6)\n(node:2088) UnhandledPromiseRejectionWarning: ReferenceError: config is not defined\n    at fs.readdir (/root/strapi/plugins/upload/config/functions/bootstrap.js:97:40)\n    at \n(node:2088) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 9)\n[2018-03-16T17:31:36.657Z] warn Bootstrap is taking unusually long to execute its callback 3500 miliseconds).\n[2018-03-16T17:31:36.659Z] warn Perhaps you forgot to call it?\n[2018-03-16T17:31:36.659Z] warn Bootstrap is taking unusually long to execute its callback 3500 miliseconds).\n[2018-03-16T17:31:36.659Z] warn Perhaps you forgot to call it?\n[2018-03-16T17:31:36.659Z] warn Bootstrap is taking unusually long to execute its callback 3500 miliseconds).\n[2018-03-16T17:31:36.660Z] warn Perhaps you forgot to call it?\n```. ",
    "kperveen": "@soupette is there a specific reason for this?. ",
    "lancevo": "By the way, is grant.json still needed? (see https://strapi.io/documentation/guides/authentication.html#providers) I think the doc is out dated. \nIt'd be awesome if there's an article show how to hook this up in javascript rather than react. \nThanks so much. Strapi is awesome!!. ",
    "bsthomsen": "An additional issue is that it doesn't respect the protocol used.\nFor example if you call:\nhttps://domain.tld/connect/facebook/\nit will still send you to\nhttp://domain.tld:1337/connect/facebook/callback/. A suggested fix could be to change this line:\nhttps://github.com/strapi/strapi/blob/master/packages/strapi-plugin-users-permissions/controllers/Auth.js#L141\nTo use the same switch/case as the one used to generate the redirect_uri, that tells what you should enter on a certain provider:\nhttps://github.com/strapi/strapi/blob/master/packages/strapi-plugin-users-permissions/admin/src/components/PopUpForm/index.js#L44-L58\nThen the value would be correct as this:\nhttps://imgur.com/a/oG50h. Hey @lauriejim I'm sorry just found out this was caused by misconfigured nginx that overwrote the settings :(. ",
    "simov": "The idea in the underlying OAuth middleware (Grant) is to have your entire configuration based on your environment, meaning that if you have the following configuration:\njs\n{\n  \"development\": {\n    \"server\": {\n      \"protocol\": \"http\",\n      \"host\": \"localhost:1337\"\n    }\n  },\n  \"production\": {\n    \"server\": {\n      \"protocol\": \"https\",\n      \"host\": \"mystrapi.herokuapp.com\"\n    }\n  }\n}\nThen in strapi-plugin-users-permissions you have to use the correct protocol and host options based on your environment.\n\nGrant also supports redirect_uri option:\njson\n{\n  \"google\": {\n    \"redirect_uri\": \"https://mystrapi.herokuapp.com/connect/google/callback\"\n  }\n}\nWith it end-users can completely bypass any option set under the server key. The sole purpose of the protocol, host and optionally the path options under the server key is to generate the correct redirect_uri for all of your providers. The server key in itself is not even required, you can specify any option found in it directly inside each individual provider's configuration. Also each option specified directly for a provider overrides the corresponding option set under the server key.\nHope that helps.. This error is only thrown inside the internal connect and callback routes in Grant, and only when the provider was either misconfigured from the start or the session got lost during the OAuth flow redirects. Hope that helps.. @lancevo from your comment in SO:\n\nI made a request to /connect/google/callback${query} per the example\n\nThis is internal route used by Grant only, and you should only use it when specifying the redirect URL of your OAuth App in the Google's web UI.\nProbably you want to make request to this URL instead: /auth/${provider}/callback${search} found in the linked article on Medium.. ",
    "abulbisht": "Actually the problem was with the remote database , not with the strapi \nThanks. ",
    "ianrose": "@abulbisht what did you do to solve the issue?. ",
    "rockmandash": "@lauriejim I think I will add new commits, thank you!. I have finished it.. \nOh no, this place didn't show TW option, what should I do?. I fix it! you can merge now.. changing tw -> zh makes it work.\nShould add available country value in the docs !!!!!. I think it does not support windows development right now. Can I see the log?. ",
    "msgeissler": "@lamarena have you tried the command only from inside webstorm or also directly from a Windows / Mac console? Not sure if the webstorm IDE uses a custom console with custom PATH etc..\nNode 8.4.0 is currently also not officially supported I think, not sure if that could cause the above error, especially since it did work at one point.\n\nnope. Same happens on Mac. This project worked properly since i restart the webstorm (code editor). When i tried to start the project again that error happened\n\nCan you elaborate on that? So you restarted your IDE and it did work. Then you stopped strapi and after that it did not work again (same console window etc.)? Is that reproducible?. Not sure if I made a mistake or if it actually works using a different syntax.\nI just found the updated docker image and the repository for it. The image actually works without a user and password but is also using a different CLI syntax.\nWas this perhaps already changed or is that a result of the different syntax used?\nhttps://github.com/strapi/strapi-docker/blob/master/strapi.sh. The problem I see is that with the way you show how to use the CLI parameters in https://strapi.io/documentation/cli/CLI.html, the empty username should actually cause the password to become the username (unless you have some special handling for that in strapi):\n--dbname <dbname> --dbusername <dbusername> --dbpassword <dbpassword>\nIn https://github.com/strapi/strapi-docker/blob/master/strapi.sh @lucaperret is actually using\n--dbusername=$DATABASE_USERNAME --dbpassword=$DATABASE_PASSWORD to assign the values. Note the additional \"=\".\nHere are some examples:\nNo user and password:\n\nstrapi new test --dbclient mongo --dbhost mongo --dbport 27017 --dbname test\nINFO (1 on 06b1c63a12ec): Creating your application... It might take a few seconds.\nWARN (1 on 06b1c63a12ec): Some database arguments are missing. Required arguments list: dbclient,dbhost,dbport,dbname,dbusername,dbpassword\n\nEmpty user and password:\n\nstrapi new test --dbclient mongo --dbhost mongo --dbport 27017 --dbname test --dbusername --dbpassword\nINFO (1 on 0de0bc27a48f): Creating your application... It might take a few seconds.\nWARN (1 on 0de0bc27a48f): Some database arguments are missing. Required arguments list: dbclient,dbhost,dbport,dbname,dbusername,dbpassword\n\nUsing the other syntax to define user and password:\n\nstrapi new test --dbclient mongo --dbhost mongo --dbport 27017 --dbname test --dbusername= --dbpassword=\nINFO (1 on 82c220486043): Creating your application... It might take a few seconds.\nINFO (1 on 82c220486043): Lets configurate the connection to your database:\nINFO (1 on 82c220486043): Database determined by CLI args: mongo\nINFO (1 on 82c220486043): Testing database connection...\n\nI think the documentation should be changed to show the syntax using \"=\", unless there is a mistake in my tests.\nI will do a PR for that part of the documentation in a few minutes, but maybe you can check for other parts that should be changed as well.. For https://strapi.io/documentation (which is also used on the getting started page) there seems to be an automatic redirect on the server to https://strapi.io/documentation/.\nThere is no such redirect for https://strapi.io/documentation/tutorials.. As mentioned by @Aurelsicoko in https://github.com/strapi/strapi-docker/issues/6#issuecomment-372236317 there is already a route that checks the current health of strapi. This should be enough to do basic monitoring of strapi using external tools.\nWhat I would like to add to the discussion is a possible extension of the healtchcheck that includes the database as well. Otherwise the current API will return a positive status code but if the database is down strapi is actually \"dead\" for the most part.. For the database check a very simple select on the smallest table would be enough, no big healthcheck of the database system.. Ah awesome. I probably used the wrong search terms so I didn't find the original issue.. @mnlbox Just to make sure: are other global packages working? Maybe there is a problem with the setup and the global packages are not correctly added to your PATH? (e.g. https://stackoverflow.com/questions/15054388/global-node-modules-not-installing-correctly-command-not-found). node and npm version numbers are updated in main package.json.. Maybe this is a bug in yarn? There are a few old issues with similar errors:\nhttps://github.com/yarnpkg/yarn/issues/2206\nMaybe the update posted by peteroid can help you: https://github.com/yarnpkg/yarn/issues/2206#issuecomment-266351947\nAs it works for abdonrd, it does not seem to be a global problem.. I agree this would be nice. Maybe something worth looking into towards the end of the alpha, when the architecture and API has been ironed out more. Especially for minor and patch level updates this would be a great win and time saver. If a major update needs some manual steps that is totally fine, not everything can be automated especially with the flexibility that strapi provides under the hood.. ",
    "forsetius": "Same on:\nNode.js version: 9.8.0\nnpm version: 5.6.0\nStrapi version: 3.0.0-alpha.11.1\nOperating system: Ubuntu 16.04. I also encountered this bug. It seems there is general problem with many-to-one relations. I have it now with \"Category has many Articles\" and \"Menu has many Articles\". On the other note, one-to-many relationships have same problem too. I'm using the Admin to add the relations, perhaps the problem is due to adding the relation only at one side? . No, I'm using Mongo. Well, I tried it but it's not enough.\nIn ./plugins/settings-manager/controllers/SettingsManager.js at line 149 (deleteLanguage function just before closing }) I've added:\njs\nstrapi.reload();\nand it triggers server restart but after refreshing the page, deleted languages are back there. It seems that somehow createLanguage function is called with its\njs\nfs.writeFileSync(filePath, '{}');\nBTW: I've found another bug while trying to fix this one. It's about translation labels - I'll issue PR shortly. . @soupette: could you help me by suggesting what else should be done beyond calling strapi.reload()? . ",
    "Moomboh": "The problem is that the strapi package is not installed locally in the node_modules folder by strapi new. I think this is because of the way strapi new installes dependencies: /strapi-generate-new/lib/after.js#L44 here it checks if a dependency is already installed with get-installed-path since strapi is already installed globally it won't install it locally. \nSo it crashes at strapi-admin/controllers/Admin.js#L61 because strapiBin is reffering to the local path in node_modules as of Admin.js#L56.\nNote that npm run strapi and npm run postinstall will also fail since they also look in the node_modules folder for the strapi bin.. Just tried it out in a docker container based on thenode:alpine` image and everything worked as expexted, no issues. Probably a problem specific to ubuntu. I'll try to recreate the issue with docker.. ",
    "Perseus": "I'm having the same issue right now. Could someone tell me how this was resolved? I tried using the raw request as well. Not sure what I'm doing wrong :|\n\n. @derrickmehaffy holy crap, thank you so much! I thought I had already tried that, but apparently, I hadn't. Thanks for the help!\nStill having the issue with a post request using axios while setting the content type to be application/x-www-form-urlencoded but I'm pretty sure there's something wonky in my code over there. Thanks again for the help. ",
    "mathb67": "Same issue here with the registrar route (using postman), but the @derrickmehaffy's answer fix it ! Thanks. ",
    "shuzootani": "Hi @Perseus \n\nStill having the issue with a post request using axios while setting the content type to be application/x-www-form-urlencoded but I'm pretty sure there's something wonky in my code over there.\n\nI got 400 error for requesting login with axios this example with axios\nDid you figure something out?\nThanks\nsorry, that axios issue fixed.\nhttps://github.com/axios/axios/issues/362#issuecomment-408321557. I get 400 following this example with axios. Bonjour @lauriejim\nI guess I'm having the same kind of error.\nGraphQL query returns wrong values.(rest looks good)\non my side, even for role that relates to user model by default, it returns Administrator for all users, which is supposed to be owned by only one user.\n\nplease let me know if I might be doing wrong.\nThanks. ",
    "amouratoglou": "hey @daominhsangvn how did you manage to make it work? I have the same error message.\n. ",
    "ht10vn": "Hello @mnlbox, I have the same issue with you, need to add some custom fields to users profile. \nI created new Content Type \"extra_user\" with some extra fields: name, family, gender,..., user_id - which user_id has relationship 1:1 to Users. So you can manage your extra user info.. ",
    "andrescristi": "Correct me if I'm wrong, but I think he would only need to edit line 244 of\nhttps://github.com/strapi/strapi/blob/master/packages/strapi-plugin-users-permissions/controllers/Auth.js#L211, and replace guest with the role he want.. ",
    "wi4er": "I happens with custom controller, with routes.json like \n{\n  \"routes\": [\n    {\n      \"method\": \"GET\",\n      \"path\": \"/\",\n      \"handler\": \"Index.find\",\n      \"config\": {\n        \"policies\": []\n      }\n    }\n]\n}. I try in alpha 11.1, problem slill there.. Yes, I understand this. But I have a couple landing pages in my app. And they suppose to have different markup for customers and guests. And I dont know how to render this pages in the backend, because I cant know user role in first request only after ajax. But this way dont satisfy my  superior. \nP.S. I need to get balance beetween performance and SEO.. Unfortunately cant choose this way. My SEO managers have different point of view on web apps.. I see only one solution. Is it possible to pass the access token through the cookie and then process it?. ",
    "sorob": "This happens when you do npm install. I think the roles and permission plugin re-inserts its 200 something records to mongo every time without checking if they already exist.. @lauriejim can we prioritize this? Every dockerized project is suffering from this bug.. @Aurelsicoko seems to happen to the \"core\" database table as well. Which seems to hold the Media/File uploader information.. ",
    "southside": "When you say path without space I tried logging into pc as a new profile with username \"test\" so no space in profile path but when doing a strapi new project it still failed with same errors\nLikely as the nodejs paths etc would still reference the profile nodejs etc were installed under\nWould I need to reinstall nodejs, mongodb, npm etc under new profile to update environment paths?\nIs there no other patch. ",
    "coolemur": "+1\nImport/export a resource or all app resources is significant feature in many projects.\nFor example - cloning a base project backend. . @derrickmehaffy wrong call.... data dissapeared after page refresh... :/ So it doesn't work with v10 either.... @derrickmehaffy \n1) I create content type and press save.\n2) Content tipe appears in list and success message is shown.\n3) I refresh page - content type is gone from the list.\n4) I restart node server - content type appears in list.. @derrickmehaffy \nModel appears at api/-modelname-/models/-Modelname-.settings.json  but not in web application .\nNo errors is generated when I start api.\nI think we found the problem.\nWhen I run it with Forever (daemon library)\nforever start server.js Then it won't work.\nWhen I run command \nstrapi start it works\nIs it possible to run strapi as a daemon process  (I need daemon for production)?\nI think it would be a nice addition to documentation \"how to run strapi as daemon process\". . @matejukmar \nYou can use forever to run any command as service.\nFor example: forever start -c \"strapi start\" ./ This will run in background \"strapi start\" command in current directory.. ",
    "ChunAllen": "@lauriejim do we already have a documentation for this? Is there a way I can upload an image using the Strapi web?\n\n. I tried to delete the plugin_content_manager_schema in core_store but it also deletes the content_type (table) corrupted. Is it possible not to delete the whole content_type? It's dangerous if happened in production. I think the cause of this is when adding a relational field and change the field name. \nIn this screenshot\nI have attractions content type with poi_uuid string unique field\nthen I have reviews content type and associated it to attractions thru poi_uuid\n\n. ",
    "tonihauptcc": "how can we hook into the install process?. Sounds like a good way. Will deep dive into it . ",
    "zfedoran": "Has anyone looked into how much mongoose the strapi-mongoose needs? I wonder if dynamoose would work as a drop in replacement. \nMight be worth looking into... ",
    "santiagopampillo": "Did you succesfully connect Starpi to dynamo?. ",
    "Vadorequest": "Also interested. @lauriejim Could you please clarify the usage of the JSON data field? Are only objects allowed and not arrays?. Thanks, that's what I assumed first. I guess something is broken then.\nI won't investigate further since I won't be using Strapi furthermore, not stable enough yet for production-grade product (as stated, still in beta)\nStill, looks like a really cool project, I'd totally have used it it it had been stable, having a CMS+API is a great thing, especially if they can both live in their own environment (as it is possible today) \ud83d\ude80 . I wish I could, really. Don't have the time though. Someday I must find some time to participate to cool open source projects like Strapi.. ",
    "ericbharding": "Also interested in a Dynamo connector. Dylan\nWe may want to look at the strapi option next year, will let you know.\nThanks\nFrom: Dylan notifications@github.com\nReply-To: strapi/strapi reply@reply.github.com\nDate: Tuesday, November 27, 2018 at 8:48 PM\nTo: strapi/strapi strapi@noreply.github.com\nCc: Eric Harding EHarding@ciginsurance.com, Comment comment@noreply.github.com\nSubject: Re: [strapi/strapi] Connector for DynamoDb AWS (#747)\nCAUTION: This email originated from outside of the organization. Do not click links or open attachments unless you recognize the sender and know the content is safe.\nAlso would be interested in dynamo connected\n\u2014\nYou are receiving this because you commented.\nReply to this email directly, view it on GitHubhttps://na01.safelinks.protection.outlook.com/?url=https%3A%2F%2Fgithub.com%2Fstrapi%2Fstrapi%2Fissues%2F747%23issuecomment-442318567&data=02%7C01%7Ceharding%40ciginsurance.com%7C44b002d7aee5485a0e8a08d654ecbd15%7C57b0d3d9caa6459ab76ce774b8393e6c%7C0%7C0%7C636789773112802685&sdata=KQRxMBwjY%2BBCsopDALywlO3MkTzAzkMELH%2Fjt%2FSDanQ%3D&reserved=0, or mute the threadhttps://na01.safelinks.protection.outlook.com/?url=https%3A%2F%2Fgithub.com%2Fnotifications%2Funsubscribe-auth%2FATS2n9oeEfUhr7ur6qnG7x0sunD0GeZHks5uzhWbgaJpZM4SegX7&data=02%7C01%7Ceharding%40ciginsurance.com%7C44b002d7aee5485a0e8a08d654ecbd15%7C57b0d3d9caa6459ab76ce774b8393e6c%7C0%7C0%7C636789773112802685&sdata=Hg%2FnQsPWBA9F5B8QmtqMkS7DZyrp4hZEEPGipmUprzA%3D&reserved=0.\nEric Harding\nDeveloper\nCapital Insurance Group\n601 W. Main, Ste. 510 \u200b\u200b\u200b\u200b\nSpokane, WA 99201 \n800-682-9255 | Ext. 7564 | Direct: 831-233-7564\nEmail: EHarding@ciginsurance.com | WebSite: www.ciginsurance.com\nConfidentiality Notice: This message is intended to be viewed only by the listed recipient(s). It may contain information that is privileged, confidential and/or exempt from disclosure under applicable law. Any dissemination, distribution or copying of this message is strictly prohibited without written permission. If you are not the intended recipient, or you have received this communication in error, please notify us immediately by return e-mail and permanently remove the original message and any copies from your computer and back-up systems.\n. ",
    "dylan-westbury": "Also would be interested in dynamo connector. ",
    "thucxuong": "For a CMS, slug is really important. \n@Aurelsicoko is right about the feature of slugs fields. And I think it will take quite amount of time to implement. In the mean time, can you provide us a way to verify the slug only have the ability to check the uniqueness, by making all the field name slug always be _slug ?\nIf user need to wait for a whole feature, please just give us this tool to make life easier :)\nGreatly appreciate what you guys doing here.. ",
    "indiecore-fm": "I'm confused is there a slug field in development from @abdonrd or is there not one? Would make creating urls a lot easier. I know of many headless that have it.. > It's important that a slug is assigned per article post so I can have these nice URLs. I could use the ID, but that will lead to an ugly URL structure.\n\nI would love to see this feature request built into Strapi to avoid the manual process of creating slugs.\n\nBingo! Seriously just being able to call a slug to load something would be very nice like @krestaino said.\nI will have users adding new data that aren't tech savvy and I don't want to have to remind them every day to create a slug like this \"this-is-my-slug\" When they could just type it out quickly and its done for them. I have had nightmares about this in my current system. \nI mean yes I could just use something like: https://gist.github.com/mathewbyrne/1280286 or https://github.com/dodo/node-slug to get the job done, but that's just going to be a headache.\nI think the biggest competitor to Strapi is GraphCMS (which open sources later this month) and this is a standard feature.. > You can use /article/id-whatever-value-here and it will only take the first bit as the idea and properly return what you want\nWould this make it:\nmyblog.com/1001-my-title-goes-here\nor\nmyblog.com/1001\nMy platform is setup to show slugs for video and is shareable on social media. If I was running my own netflix like solution that was closed I could just use the id with no problem, but we need slugs for SEO and better social media sharing.\nI mean yes I can just make a string that says slug and manually type \"this-is-my-slug\" But just doing it automatically would be so much faster. I guess I will just have to learn how to bake it in myself. . > That's correct, if you want a smaller value you can edit the route to be whatever you want\nSo then I could create a slug and use your example to create the route. Thanks really appreciate the insight.. I am still having this issue as of 12.2. @Aurelsicoko I'm having this issue in 12.2 when creating a relation.. @XcrossD Same issue. I posted it here:\nhttps://github.com/strapi/strapi/issues/1237. Trying this on a fresh project with only creating a title string for each endpoint allowed me to create to the relation this time. But going back to the original project, it will not let me.. @lauriejim Well that's not helpful because this was generated on a fresh install of 12.2 Please look again. Its not the same issue as before its talking about the attributes.\nIt seems when you try to add to many things to an endpoint at once then save issues like this crop up. After it happened to this project, adding any relation to any endpoint resulted in this error. \n. @lauriejim What I did was add a \"has many\" relation. That's all I did and it created the above error. Then after I manually deleted the addition made, Strapi would start back up. \nI also had this issue if I tried adding too many content types at one time.\nWhats strange is that this issue has not come up on my other fresh 12.2 build.. @madonzy Hey buddy, if you need help I am building a boilerplate to quickly hook up a strapi backend to a nuxt frontend. I can help you get started.\nI'm first doing it with REST. Once that's done I will be doing another one with GraphQL.\nAlready have login, register, validation and session manager working.. @derrickmehaffy Of course. Here you go! I still have a lot to do, but working when I can on it. (wifes about to pop)\nCurrently there is no frontend admin panel/theme etc, but Auth and registration works. All you have to do is clone this and just make sure your strapi API is up and running. Its already set to: localhost:1337\nI plan to add a lot to this to really make it a great starting point for anyone to use!\nhttps://github.com/indiecore-fm/strapi-nuxt-boilerplate. Thanks for you amazing addition! . @nicksrandall @Aurelsicoko What is the idea for this? Core functionality or seperated into a plugin? To add I would prefer subdomains with an option to attach a TLD. I am creating an app where my customer will need their own separated by a subdomain. (business1.site.com, business2.site.com). @Aurelsicoko I agree that it should be core functionality with the option to turn it on or off for certain use cases. \nI have scoured the web and noticed there are a lot of different ways to truly implement a multi-site solution. I'm going to give my personal view on how it should implemented. I also personally recommend instead of limiting Strapi to a one use case, we allow two different types.\nType 1:\nThe way you shown above would be a great way to allow a company to easily make multiple client backends. It looks like it is handled by the same admin panel and has it's own custom api for each \"app\". Then a super admin could log into each \"sub app\" and manage it. This case you could use one admin panel. Depending on the user role and who they are attached too, they would just see there info in the admin section.\nType 2:\nYou build your app just like normal and once the backend is finished, Strapi allows for the base app to be copied over in a blank state for a new tenant. This use case a user can build an app and then resell that app easily to multiple tenants. It would use the same codebase without needing to have an apps folder with multiple \"sub apps\" in there. So if I make a change to the base app, it reflects across all tenants. This would need an admin panel per subdomain. (or could be one master admin panel like you said before that superadmins could manage all tenants) and a frontend solution is coded for each tenant to mange their settings/content addition. In this use case I would allow the creation of a new tenant via API as well.\nI would strongly suggest looking into both. I know a lot of people are looking for an easier way to do type 2. \n. > @jukefr as temp fix, after install plugin, just reinstall strapi in project folder. This works for me on windows.\n971 (comment)\nThis does temp fix it. But bug still persists. . > Let you block a user. He will can login and use existing JWT\nSo this will essentially block login access for a user? Will this log that user out or invalidate their token if they are currently logged in? Just wanted a little clarification. Thank you!. ",
    "raulriera": "I'm a bit confused about \"non headless CMS\" features like these tho. Is there plan to implement pages, slug, navigation, etc? That seems like something a traditional CMS would do and not one meant for building API.. True, but this will be adding a feature that is outside of the scope of a headless CMS. This could be automatic the way Rails does it\napi.blog.com/article/00001-title-of-the-page-doesn't-matter-only-the-number-is-used that way you have nice human friendly URLs, but it's only handled by the router, the real \"id\" is passed as 00001 (or whatever your identifier is...\nObviously I'm just asking here \ud83d\ude42 . For example, by changing the router\njavascript\n{\n      \"method\": \"GET\",\n      \"path\": \"/article/:_id-:title\",\n      \"handler\": \"Article.findOne\",\n      \"config\": {\n        \"policies\": []\n     }\n}\nYou can use /article/id-whatever-value-here and it will only take the first bit as the id and properly return what you want. > Would this make it:\n\nmyblog.com/1001-my-title-goes-here\nor\nmyblog.com/1001\n\nIt will make it myblog.com/1001-my-title-goes-here. That's correct, if you want a smaller value you can edit the route to be whatever you want \"path\": \"/article/:_id-:title\" just replace :_id with anything else. It just needs to be a unique field in your model.\n\"path\": \"/user/:username\" would be a good example for when custom routes are helpful. Obviously you could automate all of this intro strapi itself within the admin, but that \"screams\" plugin to me instead of built in functionality . > @lauriejim I haven't been able to figure out how to add a wysiwyg field to a content type. I've just installed the latest version 3.0.0-alpha.12.1.3 and I don't see the field along with the string, text, number, boolean, etc fields. I've browsed around inside of content-manager but haven't come across a setting to enable the wysiwyg field. Am I missing something?\nWhen you create a text field there is an option in the advanced tab to make it WYSIWYG. > I also often need to create multiple items (array or list) in the number/string/text/media fields in Content Type Builder plugin. Is there a way to do this?\nAs a workaround, why not create a new contentType and set the relationship of one to many? A little bit of boilerplate, but doable today. A relation is to another collection, so you will need to create an Employee content type and a JobTitle content title and then set the relation between them. Maybe it should do the same for the routes? \ud83e\udd14. > You can already add the debug property in the database.json configurations file.\nOh, I didn't think of putting it in there because everything in options was tied as connectionOptions which I thought it was for the initial connect only. I'll test it out and change my PR then. This is stil an issue unless this is merged \ud83d\ude42 https://github.com/strapi/strapi/pull/1181. Would love some pointers on how to add tests for this. Hi @lauriejim \nThat makes sense, I implemented the changes and it looks something like this\n``javascript\ninstance.connect(uri ||mongodb://${host}:${port}/${database}`, connectOptions);\nfor (let key in connectOptions) {\n    instance.set(key, connectOptions[key])\n}\n```\nBut then I have to use connectOptions twice, for the connection and for looping through all of them, should I create a second options internally to handle the \"looping\" part?\njavascript\n// Connect to mongo database\nconst connectOptions = {}\nconst options = {} // or something similar. Updated, I think this is what you meant right? still very new to this so I don't know what you mean by default hook value. Is there anything missing in this PR?. Hey @lauriejim, I don't know... A refactor like that seems like out of scope. If we plan to change how the way things work. Probably should be done in a separate PR first. I will close this and just implement them manually in my project. \ud83e\udddf\u200d\u2642\ufe0f PR is back hehe. I believe this is something that needs to be handle in your models and controllers. I have the same need where I want people to only access information on their account. I'm trying something similar here, where everything is scoped under practice account. https://stackoverflow.com/questions/50297399/strapi-graphql-overwrites/50353764#50353764\nThe implementation of findMine looks something like this\n```javascript\n  /\n   * Retrieve a practice record for the authenticated user.\n   \n   * @return {Object}\n   /\nfindMine: async (ctx) => {\n    ctx.params._id = ctx.state.user.practice._id\n    return strapi.services.practice.fetch(ctx.params);\n  },\n```\nAnd then inside your /practice/services.yml you can scope the search either using .where(conditions), .find(conditions), etc. The issue seems to be about any resolver as a single string value, this will fail in\njavascript\n// GraphQL.js\n    const schema = makeExecutableSchema({\n      typeDefs,\n      resolvers,\n    });\nbecause it's literally not a function (in this image, I moved away from trying to rewrite practice which may be another problem, and just trying to create a simple new GraphQL endpoint)\n\nAlthough, this is how the docs say it should work https://strapi.io/documentation/guides/graphql.html\nStrangely, changing just the resolver does work, but this is not what I need to do\njavascript\nmodule.exports = {\n  resolver: {\n    Query: {\n      practice: {\n        description: 'Return the practice of the authenticated user',\n        resolver: 'Practice.findMine'\n      },\n      practices: false\n    }\n  }\n};. Oh, that is awesome @Aurelsicoko ... looking at your commit now... . More info can be found here https://strapi.slack.com/archives/C0BLB2VJ7/p1526608909000243. It was removed in favor of playground. Use /playground instead after localhost :) . Is there something missing in the PR that I should tackle? Otherwise it will clash with this one https://github.com/strapi/strapi/pull/1251. This ticket is referencing several issues tho. The slowness has nothing to do with the required fields or that admin suddenly redirects you to register forever.... > @raulriera just as a quick test, use chrome and try and visit your site, if it redirects you to login, hit the back button twice. See if it drops you on the login page.\nI'll try that the next time it happens, unable to reproduce it without \"waiting a few days until admin starts doing that\". @derrickmehaffy you are right, hitting the back button twice takes me to the login page. But I second the opinion I saw somewhere else that we should simply remove the redirect and link the two pages together... Being able to go from login to register anytime I want by having http links in them. Is there something in Strapi itself to easily parse errors like \"UsersPermissionsUser validation failed: lastname: Pathlastnameis required., firstname: Pathfirstnameis required.\"? Or does this have to be done manually? Ideally something that can be translated, much like the i18n error messages from rails?\nactiverecord.errors.models.user.attributes.name.blank, where in a strapi world would be something like errors.models.user.attributes.name.required\n. My guess is that you need to remove { \"method\": \"GET\", \"path\": \"/article/:_id\", \"handler\": \"Article.findOne\", \"config\": { \"policies\": [] } }, otherwise you are just creating the same route again... The router doesn't know article/something-in-here is an id or a slug, it will just do a match that it found something else and only something else after /article.... If you removed the id route, then you need to change the findOne code to be if (!ctx.params.slug.match(/^[0-9a-fA-F]{24}$/)) { instead :). Is this intentional?. Thanks! updated, also changed ssl :). ",
    "z-ax": "I implemented this one some time ago: annexare/toURI, which works with Cyrillic as well (transliterates correctly by the char map). Not sure about competitors :)\nPretty lightweight. Should probably add tests.. As for slugs itself I had experience with canonical and short URLs for articles. But this should work properly with meta tags generation then.\nShort URLs redirect to the canonical with slug.\nAdded article ID to canonical URL to have a permanent redirect if slug was changed.\nAll of this was nice for SEO then.. I also think it is something that is better to be added programmatically. A lot of content in my projects generate slug out of more than 1 field, sometimes connected collections used (like artist-year-album slug for releases). Plus, localization. I also have localized slugs for each locale, etc.. @r007 there's nothing about jQuery there :) It has standard AMD/UMD export, or expanding of scope (like window for browser).. I did this kind of Internalization for my CMS in a very simple way.\n1. In field's meta boolean flag if there is one.\n2. If there is, it's content is a JSON where key is a locale (in my case ISO 639-1 code, like data here) and value is a string. If there is no value by some locale - use main locale (which is required).\n3. Where JSON type of fields is not supported, JSON is stringified (not the best performance then, but still works great and easy to maintain).\n4. One switch in Editor which locale user edits right now (updates in real time, reads and writes JSON).\nP.S. It is an old one with PHP/jQuery, so can't just move it here :). Well, that is big. Good news it is still in alpha :). Still an issue. Just created 2 types: Publication and Tag, added many-to-many relation and it doesn't respond properly for one of them: publication can query tags, tags can't query publications.\nJust in case: Publication has \"tags\" Array in Mongo when created via admin, none of Tag has \"publications\".. I'm also getting TypeError: mergeStages is not a function on a fresh project now with v3.0.0-alpha.15 on a simple GET or GraphQL query for new model.\n@kamalbennani @lauriejim . Running npm i again helped. But now I get Cannot read property 'isMongoId' of undefined in GraphQL only, on a many-to-many relation at valueToId (/node_modules/strapi-hook-mongoose/lib/utils/index.js:60:19).\nTried removing-adding GraphQL plugin and npm there once again, didn't really work.. @jacargentina, could you please share the solution used, as I see, for short blog post IDs? Also was looking now on this :)\nLooking forward for this feature.. @jacargentina Yes, thanks, was wondering which exactly module you use. Beware, this one is \"not guaranteed to be unique\" as description says. The shortid is 1 char longer, but does the job for that case.. Also having this issue on v3.0.0-alpha.15, when using a many-to-many relation in query. On a freshly created project. Is there a quick fix?. To use the new URL when possible I'd suggest this: const URL = global.URL || require('url').URL and leave the rest as it was.. Why var while the most uses const etc?. ",
    "aguilera51284": "@abdonrd can you share your code? :). ",
    "jacargentina": "@Aurelsicoko i can start working on this if you can give me the OK . @abdonrd \nHaving a field type can make this easy; but i think it can be done already using https://strapi.io/documentation/3.x.x/guides/models.html#lifecycle-callbacks right? At least with beforeSave, make the required transliteration and put the resulting slug on a given field on the model. . @kamalbennani will this allow me to do this? Having a Document model, with a parent relation to itself.\nGET /document?parent.id=null\nMeaning, give me all root documents  (ie, not child from other document). Can be related to #2186, fix here https://github.com/strapi/strapi/pull/2203. Looking at #1912 and to this one:in my case the problem is that i've created a content type with some fields , then later i've renamed those fields like this\nOriginal content type\nBlog = {\n  titulo: string,\n  cuerpo: string\n}\nModified content type\nBlog = {\n  title: string,\n  text: string\n}\nThe problem\nBasically the reason for the blank page is there is now inconsistency between the editDisplay.fields and editDisplay.availableFields, ie: there are fields to build the UI which should'nt be anymore.\nHere is the schema on the state for the admin app for my blog content type\n\nFor example, editDisplay.fields.titulo and editDisplay.fields.cuerpo are the old names (should not be there!), as the editDisplay.availableFields are the only valid ones.\nAlso, the model edition was made manually on code, as the ContentTypeBuilder plugin already does the validation/sync of that type of changes.\nSolution 1\nDo some validation on the editDisplay.fields before sending it to the admin app, removing the incorrect field names\nSolution 2\nMake some logic on the Edit component (maybe there are other components too, but that was the broken in my case) to validate editDisplay.fields against editDisplay.availableFields before looping on the fields to generate the UI\n\n. @soupette I've fixed this already. Sending a PR right now.. @soupette  no, no camelCase at all.\nMaybe there are some server restarts in between ?. @Soupette maybe the sequence was:\n\nCreate content type in content builder\nrename fields manually in code\nGo to create an instance for the edited model on content manager. I've had some problems with installing the sources; thanks to a folk on slack i've found that i've got to correctly setup by running in a root shell. @soupette as you wish. If you can reproduce the bug already, i can apply your idea and send the updated PR, so you can test the solution. @soupette I've applied your idea; can you review/test it please.. @lauriejim where do I put this logic ( ONE central place ): for a given created API model\nGet the current authenticated user\nAssign the user ID to a field on the model\n\nThanks. So... How do I get \"the current user\" there? AFAIK there is no \"ctx\" in there (it is available on controllers). So, it is not possible what i've asked first (the part where i put ONE central place).\nFollowing the reasoning, i think content-manager controllers could call the API controllers. If you agree, i could try to make a PR to implement it.\nI think it is a must: to have a central place to make centralized logic for the models. Dont you?. @lauriejim already fixed in my PR... Maybe you don't saw that \ud83d\ude04. @lauriejim that Travis thing about formating, the files are different from the ones involved. If you want I can apply the needed changes?. @Aurelsicoko can you look? I dont even touched the offending files that Travis says . @z-ax In file api/blog/models/Blog.js for the already commented Blog model definition, I've used this: \n```javascript\n'use strict';\nconst slug = require('slug');\nconst shortId = require('short-id');\nmodule.exports = {\n  beforeSave: async model => {\n    // generar slug\n    model.slug = slug(model.title).toLowerCase();\n  },\n  beforeCreate: async (model) => {\n    model._id = shortId.generate();\n  },\n};\n```\nThere is not only the short id assignment, but also a slug field. Hope this is useful for you. Cheers!. @z-ax, thanks for your comment: i've replaced short-id with shortid now. Yes, i need unique ids obviously!. @lauriejim please for next alpha! I can rebase \ud83d\ude4f. @Aurelsicoko I've reworked the requested changes. @lauriejim i've just rebased on master, and added some changes to the docs about this.. @soupette  cypress tests are ready for test changes like this, right?. @lauriejim can this be taken into account for a next release? i'm using it with no problems at. \ud83d\ude4f. So, currently it is not possible to use any mongoose plugin, right? @lauriejim i can make a PR to work on this if you like\nI desesperately need this https://larry-price.com/blog/2014/09/15/fetching-random-mongoose-objects-the-simple-way/ on my strapi API. @Aurelsicoko after the PR, I went and looked on the plugin I'm trying to use\n```\nvar random = require('mongoose-simple-random');\nvar s = new Schema({\n  message: String\n});\ns.plugin(random);\n ```\nIt seems in this plugin type it should be applied to the Schema, not the connection. So, besides the already done PR which can serve other purposes, plugins, etc... maybe there should be another hook after schemer are built, and allow putting schema plugins there, right?\nEDIT\nI've found about mongoose.plugin(...) for adding plugins globally. Great!. @lauriejim Done! Hope you like docs. . Was a typo! Sorry, but It doesn\u2019t work. I'm using ctx.throw from strapi context, why do you point me on the boom docs? Boom is used by strapi...I'm not using it directly. Maybe If u look my PR you can get what the problem is?. @lauriejim how can I help to get this merged, I NEED it \ud83d\ude4f. @ssg-luke both of them, GET and GraphQL (right @kamalbennani ?). @kamalbennani @lauriejim any way i can help with this? It is becoming very hard to do simple queries without it. \ud83d\ude4f. @kamalbennani i'm testing your WIP and this query on graphql does not work: \nquery {\n  users (where: {avatar: { url_ne: null}}) {\n    username\n    avatar {\n      url\n    }\n  }\n}\nModel is simple, where i've put a file upload relation on the user, for an OPTIONAL avatar. I'm  trying to get all users which HAVE an avatar. Result is empty. Is the syntax ok on the graphql ?. # Fix $lookup in manyToMany relations\nUser and Product with an avatar (Upload) on each of them; when querying users with avatars not null, this dont works.\nEDIT: this pipeline makes the query work in Mongo\ndb.getCollection('users-permissions_user').aggregate([\n  {\n    $lookup: {\n      from: 'upload_file',\n      let: { local_id: { $toString: '$id' } },\n      pipeline: [\n        { $unwind: { path: '$related', preserveNullAndEmptyArrays: true } },\n        {\n          $match: {\n            $expr: {\n              $and: [\n                { $eq: ['$related.ref', '$$local_id'] },\n                { $eq: ['$related.field', 'avatar'] }\n              ]\n            }\n          }\n        },\n        { $project: { related: 1 } }\n      ],\n      as: '__avatar'\n    }\n  },\n  {\n    $unwind: { path: '$__avatar', preserveNullAndEmptyArrays: true }\n  },\n  {\n    $addFields: {\n      avatar: {\n        $ifNull: ['$__avatar', null]\n      }\n    }\n  },\n  {\n    $match: {\n      avatar: { $ne: null }\n    }\n  }\n]);\n. # Possible bug\nIt seems sort and limitare not working well togheter, is like limit is being applied first, and then sort; when it should the opossite (i'm using that for paginated query)\nWith limit: 10\n\nWith limit: 20 (the result should be more data, the first the same than above... but...)\n\n. @kamalbennani i've found this: i've a model which as a field named sortableField and when trying to use it for a graphql like this:\n\nThe query was not working. I've found the culprit is in strapi-utils/lib/builder.js on function getFilterKey. It seems it matches my field as a sort clause; it should'nt do that.\n\n. @kamalbennani i want to be able to query for just one model instance with deep filtering too. I've seen that in services.template, the fetch function is not refactored to allow this. Would it be possible?\nEDIT: I've found that fetch can simply be a wrapper to calling fetchAll plus limit: 1. @lauriejim 3 months \"birthday\" soon. Any chance to get this merged on master ?. @derrickmehaffy exactly like that. So if it is not supported, this should be clossed ?. Hey I'm also having a similar error when doing npm run setup:build, but i'm  on Linux!\n\nI see @babel/helper-annotate-as-pure in common with previous screenshot by @AminZibayi . @lauriejim i've just did this to confirm:\ngit clone https://github.com/strapi/strapi.git jimlaurie\ncd jimlaurie\nnpm run setup:build\nAnd got the very same error\n```\nnpm ERR! path /home/javiercastro/git/jimlaurie/packages/strapi-admin/node_modules/.staging/strapi-helper-plugin-36dc82f6/node_modules/@babel/helper-annotate-as-pure\nnpm ERR! code ENOENT\nnpm ERR! errno -2\nnpm ERR! syscall rename\nnpm ERR! enoent ENOENT: no such file or directory, rename '/home/javiercastro/git/jimlaurie/packages/strapi-admin/node_modules/.staging/strapi-helper-plugin-36dc82f6/node_modules/@babel/helper-annotate-as-pure' -> '/home/javiercastro/git/jimlaurie/packages/strapi-admin/node_modules/.staging/@babel/helper-annotate-as-pure-01f439f9'\nnpm ERR! enoent This is related to npm not being able to find a file.\nnpm ERR! enoent \nnpm ERR! A complete log of this run can be found in:\nnpm ERR!     /home/javiercastro/.npm/_logs/2019-02-05T15_30_57_127Z-debug.log\nnpm ERR! code ELIFECYCLE\nnpm ERR! errno 1\nnpm ERR! @3.0.0-alpha.22 setup: npm run clean:all && npm install ./packages/strapi-lint --save-dev && npm install && node ./scripts/setup.js && npm run clean\nnpm ERR! Exit status 1\nnpm ERR! \nnpm ERR! Failed at the @3.0.0-alpha.22 setup script.\nnpm ERR! This is probably not a problem with npm. There is likely additional logging output above.\nnpm ERR! A complete log of this run can be found in:\nnpm ERR!     /home/javiercastro/.npm/_logs/2019-02-05T15_30_57_181Z-debug.log\nnpm ERR! code ELIFECYCLE\nnpm ERR! errno 1\nnpm ERR! @3.0.0-alpha.22 setup:build: npm run setup --build\nnpm ERR! Exit status 1\nnpm ERR! \nnpm ERR! Failed at the @3.0.0-alpha.22 setup:build script.\nnpm ERR! This is probably not a problem with npm. There is likely additional logging output above.\nnpm ERR! A complete log of this run can be found in:\nnpm ERR!     /home/javiercastro/.npm/_logs/2019-02-05T15_30_57_237Z-debug.log\n```\nAs it is a clean clone, there is not package-lock.json at all (verified btw!). ```\nFedora release 29 (Twenty Nine)\nnode and npm: both are from  nodejs-10.15.1-1nodesource.x86_64\nnode v10.15.1\nnpm v6.4.1\n``. @omerfaran i'm uploading big files to strapi with this configuration:\n**Path**:web-api/config/environments/development/request.json`\n{\n  \"session\": {\n    \"enabled\": true,\n    \"client\": \"cookie\",\n    \"key\": \"strapi.sid\",\n    \"prefix\": \"strapi:sess:\",\n    \"secretKeys\": [\"mySecretKey1\", \"mySecretKey2\"],\n    \"httpOnly\": true,\n    \"maxAge\": 86400000,\n    \"overwrite\": true,\n    \"signed\": false,\n    \"rolling\": false\n  },\n  \"logger\": {\n    \"level\": \"debug\",\n    \"exposeInContext\": true,\n    \"requests\": true\n  },\n  \"parser\": {\n    \"enabled\": true,\n    \"multipart\": true,\n    \"formLimit\": \"500mb\",\n    \"jsonLimit\": \"200mb\",\n    \"formidable\": {\n      \"maxFileSize\": 524288000\n    }\n  }\n}\nSpecifically look on the parser key. Is it the solution for your use case?. @lauriejim no problem! At least it fixes the problem for my own use.. @lauriejim Doing that right now; but what is your motivation? Do you think something on latest release will affect (fix) this issue  ?. @lauriejim Verified, with latest version the issue is there, lots of /tmp/upload_...... files there, not being removed after upload. Hey, done!. @lauriejim \ud83d\ude4ffor next release.... migrating many files via upload api... is a problem. Removed line, rebased. . I'had a case where some entities have String as key, and others have ID, so this special fixed String is for having that case, and queries on the associations should just work (tm). Cause john (nice example) would NEVER match the given regex ... So thats why i've changed that check. I cant just remember why, but just looking at the code, ref looks for the globalId... while i need which is the field for the _id. \u00a0\ud83d\udc4c. @lauriejim I will change that. \nBy the way, i've got the idea from strapi-hook-bookshelf so maybe you can look at that file to see if the problem is there too?. @lauriejim By looking again, there is the connection variable from the _.forEach above. Maybe just pass that is clearer, right? \nWaiting for your response. Go go go! \ud83c\udf89. Of course!! I thought that https://github.com/strapi/strapi/pull/2452#issuecomment-460048817 was exctly that. But if there are some tests missing, i can help with that.. ",
    "r007": "Guys, truth is that you don't have to add a slug field. You can fake it.\nHere's for example your router:\n```jsx\nconst AppRouter = () => (\n  \n\n\n\nHome\nAbout\nUsers\n\n\n  <Route path=\"/\" exact component={Home} />\n  <Route path=\"/blog/\" component={Blog} />\n  <Route path=\"/blog/:slug/:id\" component={BlogPost} />\n  <Route path=\"/users/\" component={Users} />\n  <Route path=\"/users/:slug/:id\" component={UserProfile} />\n</div>\n\n\n);\n```\nHere's your blog component:\n```jsx\nclass Blog extends React.Component {\n    constructor(props) {\n        super(props);\n    this.state = {\n        loading: true,\n        posts: []\n    };\n\n    this.slugify = this.slugify.bind(this);\n}\n\nasync componentDidMount() {\n    let response = await fetch(\"http://127.0.0.1:1337/posts\");\n    if (!response.ok) {\n        return\n    }\n\n    let posts = await response.json();\n    this.setState({ loading: false, posts: posts });\n}\n\nslugify(string) {\n    const a = '\u00e0\u00e1\u00e4\u00e2\u00e3\u00e5\u00e8\u00e9\u00eb\u00ea\u00ec\u00ed\u00ef\u00ee\u00f2\u00f3\u00f6\u00f4\u00f9\u00fa\u00fc\u00fb\u00f1\u00e7\u00df\u00ff\u0153\u00e6\u0155\u015b\u0144\u1e55\u1e83\u01f5\u01f9\u1e3f\u01d8\u1e8d\u017a\u1e27\u00b7/_,:;';\n    const b = 'aaaaaaeeeeiiiioooouuuuncsyoarsnpwgnmuxzh------';\n    const p = new RegExp(a.split('').join('|'), 'g');\n\n    return string.toString().toLowerCase()\n        .replace(/\\s+/g, '-') // Replace spaces with\n        .replace(p, c => b.charAt(a.indexOf(c))) // Replace special characters\n        .replace(/&/g, '-and-') // Replace & with \u2018and\u2019\n        .replace(/[^\\w\\-]+/g, '') // Remove all non-word characters\n        .replace(/\\-\\-+/g, '-') // Replace multiple \u2014 with single -\n        .replace(/^-+/, ''); // Trim \u2014 from start of text .replace(/-+$/, '') // Trim \u2014 from end of text\n}\n\nrender() {\n    return (\n        <div>\n            {this.state.loading ?\n                <Skeleton/> :\n                this.state.posts.map((post, index) => {\n                    // Make a slug out of post title\n                    let slug = this.slugify( post.Title );\n\n                    return (\n                        <BlogPost\n                            title={post.Title}\n                            link={`/blog/${slug}/${post.id}`}\n                            description={post.Excerpt}\n                        />\n                    );\n                })\n            }\n\n        </div>\n    );\n}\n\n}\nexport default Blog;\nAnd here's BlogPost component:jsx\nclass BlogPost extends React.Component {\n    constructor(props) { / ... / }\nasync componentDidMount() {\n    // Ignore slug completely, use only ID\n    let response = await fetch(`http://127.0.0.1:1337/posts/${this.props.match.params.id}`);\n    let data = await response.json();\n    this.setState({ /* ... */ });\n}\n\nrender() {\n    // Render goes here\n}\n\n}\nexport default BlogPost;\n```\nAll the posts/users can be queried by ID only. The :slug between http://domainname.com/blog/:slug/:id is for the browsers, it's being completely ignored by React application. Your final URL could look like this: https://domainname.com/blog/building-skeleton-component-with-react-and-scss/15\nSame way you can query users by ID, for example:\njs\nlet postAuthor = await fetch(`http://127.0.0.1:1337/users/5`);\nWhile on front-end the URL could it look like this:\nhttps://domainname.com/users/sergey-monin/5\nHope this helps.. > I implemented this one some time ago: annexare/toURI\n@z-ax not gonna work, because it's built for jQuery. ES6 version is needed.. @guayom true, but this is just one of the possible workarounds. I am not a strapi developer and not associated with their team. But I agree that would be nice to have \"true slugs\", then it will make my solution obsolete. So far I don't see anything better than this (which would work as no-brainer, of course  I can always manually add \"slug\" field).\nI'll be closely watching if they decide to make a plugin for slugs.. ",
    "guayom": "@r007 \n\nGuys, truth is that you don't have to add a slug field. You can fake it.\n\n\nI though about doing that. But you may want control over your slugs. Generally you're fine with them being automatically generated. But some times you need to edit them, so it's really useful to have them as editable strings on your cms.\nAnother advantage of having the slug actually stored on the db as a string is that you may want to use your api to build other kind of apps, not just a web app. For example a chatbot that can query records and return the appropriate link to the record on your web app. Of course you could write the same function that \"fakes\" the slug on both apps. But as you can see, it becomes harder to maintain.\n. ",
    "joja-agency": "Getting an error on adding new record for entity that contains \"Media\" field type. \nOn clicking \"Add new Product\":\n\nFull React error:\nElement ref was specified as a string (inputFile) but no owner was set. You may have multiple copies of React loaded. (details: https://fb.me/react-refs-must-have-owner).. ",
    "adispartadev": "And how about the second bug? this warning message\n(node:9451) UnhandledPromiseRejectionWarning: Unhandled promise rejection (rejection id: 1): Error: insert into `core_store` (`environment`, `key`, `tag`, `type`, `value`) values ('', 'plugin_users-permissions_email', '', 'object', '{\\\"reset_password\\\":{\\\"display\\\":\\\"Email.template.reset_password\\\",\\\"icon\\\":\\\"refresh\\\",\\\"options\\\":{\\\"from\\\":{\\\"name\\\":\\\"Administration Panel\\\",\\\"email\\\":\\\"no-reply@strapi.io\\\"},\\\"response_email\\\":\\\"\\\",\\\"object\\\":\\\"\u00adReset password \ud83d\udd11 \\\",\\\"message\\\":\\\"<p>We heard that you lost your password. Sorry about that!</p>\\\\n\\\\n<p>But don\u2019t worry! You can use the following link to reset your password:</p>\\\\n\\\\n<p><%= URL %>?code=<%= TOKEN %></p>\\\\n\\\\n<p>Thanks.</p>\\\"}}}') - ER_TRUNCATED_WRONG_VALUE_FOR_FIELD: Incorrect string value: '\\xF0\\x9F\\x94\\x91 \"...' for column 'value' at row 1\n(node:9451) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.\nWARN (9451 on spartan-X441UV): Bootstrap is taking unusually long to execute its callback 3500 miliseconds).\nWARN (9451 on spartan-X441UV): Perhaps you forgot to call it?. ",
    "jobn123": "i got this error\n(node:22986) UnhandledPromiseRejectionWarning: Error: ER_TRUNCATED_WRONG_VALUE_FOR_FIELD: Incorrect string value: '\\xF0\\x9F\\x94\\x91 \"...' for column 'value' at row 1. ",
    "sapkra": "Wouldn't it make sense to create a pull-request? It shouldn't be closed until it is fixed for everyone in the master branch.. ",
    "pakulin": "3.0.0-alpha.11.2\n@lauriejim same error with mysql\nWould be nice to add migration command and not throw at people SQL in console\nIn case with sql_mode NO_ZERO_DATE enabled DEFAULT should be set\nupdated_at timestamp default current_timestamp,\n  created_at timestamp default current_timestamp\nnew command what the purpose of asking db connection params if it then asks to run queries? Db init should be moved to separate command with db create query and not stop project creation \n. ",
    "navvvidi": "@lauriejim thanks!\nyes it was the problem with the OS permissions, solved. sorry for the dumb question, i'm prety new to windows hosts.\n@pierreburgy thank you!. ",
    "mdocter": "\nyes it was the problem with the OS permissions, solved. sorry for the dumb question, i'm prety new to windows hosts.\n\n\n@navvvidi Can you remember what you changed? Which OS permissions was this? I still have the same problem.. I couldn't get the admin console to work in production. Same errors as mentioned above.\nAnd 404 page and 'No plugins installed yet.' messages. It was driving me crazy.\nBut I just found the cause of my issues... I followed the bad advice:\nWe highly recommend to change the default/adminpath for security reasons.\nLike mentioned in the following doc: https://strapi.io/documentation/3.x.x/guides/deployment.html#deployment\nChanging it back to /admin fixed it.. ",
    "renatomattos2912": "Yes, for now i'm using node 8.9 without problems, if i find any problem i will try to solve and open a pull request. But i think that is important to keep this project compatible with LTS version cause it make the project more acceptable. Think in a case where the strapi will run in the same server as other APIs and Apps and all this other projects needs latest LTS version, this will be a good reason to not use strapi and in small projects and teams this is a common scenario.. Hi @lauriejim, i made the request from both sources (Admin and API) and i had the same CSRF error, but yes, for now i disabled csrf until i understand how to use this correctly.. thanks @soupette , but how can i set a role to this user using postman?. ",
    "vpoola88": "Hi @lauriejim thanks for getting back!\nI dont think that's the case, only b/c with further digging, I am able to see those actions through a different role. I created a \"public\" role, by doing so can go into the actions and see them. Any idea why its just not working for guest with that info?\nAlso - if I want to just use a different role with no auth, I still get a 401 unauthorized when I do a get request to those new models. If you could shed some light then on how to keep them open to any get request via any role, I can then continue tweaking just via a different role.. ",
    "carmelyne": "Node.js version:\nv9.8.0\nnpm version:\n5.6.0\nStrapi version:\n3.0.0-alpha.11.1\nOperating system:\nmacOs High Sierra 10.12.6\nExperiencing the same issue with disappearing models. \nOn local dev, there is no such issue and I can set all the allowed actions for all the models. e.g. checking find and findone.\nOn production, the models do not appear under the APPLICATION \u2014 Define all your project's allowed actions. I can't seem to find the documentation for this settings when it's already in production mode.\n. @Aurelsicoko I am using the same type of db (MongoDB) for both dev and production (self hosted MongoDB on ubuntu). Also, still experiencing the same problem.\nI would normally give you a step by step but I just can't recreate it. \nAlthough, if I create a new role, I can see all the collections again, and, for example, check find and findone just fine.\nNo matter what I do, even running dev mode on my production server, for the PUBLIC role, the collections under the Application toggle is limited to 3. The first three collections I had on my initial set up. Hope that sheds some light.. Side note: Dropping users-permissions_permission and restarting the server resolved the issue. Thanks for that info @zhuang17.. ",
    "horaciomoreno10": "any update about of this?. ",
    "zhuang17": "I am using the latest 3.0.0-alpha.12 version, \ni got the same issue here.\n\nadd a new model blog in Content Type Builder in local.\ni can choose blog actions(find, findOne,...) in Application section of Users & Permissions in local.\nwhen i use the same code to deploy in my prod server, however i can't see that model in Application section of Users & Permissions\n\nI check the data of users-permissions_permission collection in db, we don't have {type: \"application\",  controller:\"blog\"} data users-permissions_permission in prod server.\nso looks like we need some way to sync that data to server ?\n. and btw,  for workaround, looks like dropping the users-permissions_permission collection in database and restart server can work( it will reload all your models' users-permissions from your code).\n(but it will remove all your previous users-permissions config, so you need to re-configure again in Application section of Users & Permissions page). @Aurelsicoko \nHi, sorry i didn't say it clearly.\nI am using different db for dev and prod ( local Mongdb for dev, and a cloud Mongdb for the prod).\n. @Aurelsicoko  Great for the working on the way to migrate configuration.\nthe permissions work for me when using the same DB, so please feel free to close it.. Hi @soupette, @lauriejim, @Aurelsicoko \nI saw this plugin was released in the new version 3.0.0-alpha.12.\nGreat work on this.\nA quick question, \nhow can i enable the WYSIWYG editor now using the new version?\nI tried upgrade the strapi version, but I didn't find any advanced WYSIWYG  setting for Text field in Admin UI.\nI also tried install the strapi-helper-plugins which i guess maybe needed to enable WYSIWYG, but i can't find it in Plugins Marketplace (http://localhost:1337/admin/install-plugin)\nso anyone can help me on how to enable this, or let me know if i missed anything ?\n. Hi, @abdonrd\ndid you work out how to add a Grant Custom Provider to strapi yet?\nI also need to add a Custom Provider to the strapi backend.\nI got the same code structure as you in dir plugins/users-permissions/controllers\nand i only find this in the strap document for how to enable the provider.\nhttps://strapi.io/documentation/guides/authentication.html#providers\ncan anyone give any suggestion ?. @abdonrd \ndid you add your custom provider (ibm) to the auth providers of grant in DB ?\nyou may first need to add some code in plugins/users-permissions/config/functions/bootstrap.js to add the custom provider config.\n. @abdonrd \nthat bootstrap.js code will only store grant values into db when the first time setup the db.\nThat code will not do merge providers and save into db if you add one grant provider there.\nunless you create a new db to setup.\n. or I guess you could add custom code after https://github.com/strapi/strapi/blob/master/packages/strapi-plugin-users-permissions/config/functions/bootstrap.js#L81\nthis will make sure you new provider information will be writen into db when you restart server.\n```\n  const grantProviders = await pluginStore.get({key: 'grant'})\n  if (grantProviders && !grantProviders.myProvider) {\n    const mergedGrantProviders = {\n      ...grantProviders, \n      myProvider: {\n        enabled: false,\n        icon: 'some icon',\n    \"authorize_url\": \"[AUTHORIZE_URL]\",\n    \"access_url\": \"[ACCESS_URL]\",\n    \"oauth\": 2,\n    \"key\": \"[CONSUMER_KEY]\",\n    \"secret\": \"[CONSUMER_SECRET]\",\n    \"callback\": \"/handle_myProvider_callback\"\n  }\n}\nawait pluginStore.set({key: 'grant', value: mergedGrantProviders});\n\n}\n```. @adneneBen, \ni suggest you can reference to abdonrd\u2019s demo here,\nhttps://github.com/abdonrd/strapi-demo/compare/new-provider?expand=1\nand pay a attention to the bootstrap code here when you are using grant.\nhttps://github.com/strapi/strapi/issues/891#issuecomment-380404414\nyou can integrate with other auth provider (no matter based on grant or not). @lauriejim \nfor now we have to add some code directly into the plugin code when adding new auth provider.\nit maybe a little troublesome when we upgrade the strap version.\n(when we upgrade to new version, we will need to install the new user_permission plugin code into the old codebase, which means we will need to merge our code change with the changes of the user_permission plugin itself. please correct me if i missed anything here)\ndo you have any suggestion to separate those code, or make it easier to manage ?\n. Hi @lauriejim , @HorvathDavid \nis there any document on how to use global.strapi or global.strapi.query ?\nI've met the same issue as @HorvathDavid mentioned here.\nstrapi/packages/strapi-plugin-users-permissions/services/Providers.js Line 49\nThe email filter don't work and will always return all users, \nthis will cause the Auth.form.error.email.taken error even for new email registration.\n```js\nawait strapi.query('user', 'users-permissions').find({ email: profile.email });\n// only change to { where: {email: profile.email } } will work\n// or findOne without where, but i guess we actually need to find All here, so we need to use find()\n```\n. @Aurelsicoko  @soupette  the issue is a little different on my side, can you help confirm this ?\nfile relations save successfully on update content manager which allow multiple files.\nbut single file relation save failed (in UI show save succesfully, but don't actually store into db.) when updating content manager which don't allows multiples files.\nhttps://github.com/strapi/strapi/issues/1015. @soupette  paste an image into the editor work nearly the same on my side. (with an extra filename xxx.png will be append in the current selection place, )\nbut the markdown text ![text](http://localhost:1337/uploads/892ec69c7d45428d9d034050434cbf9a.png) will be append to the end as well.\n\n. @soupette\nthanks for your confirmation and quick response.\nthe editor is awesome, great work. . @lauriejim \nso is this what we want now ?\n\n\nwhen start server, we load the config data of JSON file into database(in boostrap.js,) if the config changes (deep compares config keys and values).\n\n\nwhen user change the provider config from UI ( Roles and Permission page), we will save the new config into db, and also sync it into JSON file as well, right ?. @lauriejim \nyes, i plan to do the translations for all those plugins i listed in this PR.\nwill let you know when i finished.. screen for updating headerImage field of Test Model\n\n. screens for remove and re-upload the headerImage  field of Test Model.\n\n\n\n. @lauriejim sorry to forget this.. @lauriejim Thanks,  it works.. and btw,  the current ZH translation is actually Traditional Chinese script, which should be changed \n to ZH-HANT if we have multiple Chinese Language sub tag i guess.. @lauriejim \nI open a PR #1354 for this, please help review it when you have time.. @lauriejim \ndo you want rough merge like this,\njs\nconst newGrantValue = _.merge (grantValue, prevGrantValue)  // or {...grantValue, ...prevGrantValue}\nor want a more precise merge ( I mean only merge previous values for those property which still exist in new config now).\nsince the {...grantValue, ...prevGrantValue}  way will merge some extra config even if we have delete the property in new cofig ?\nmaybe something like this ?\n```js\nObject.keys(grantValue).forEach((key) => {\n    if (key in prevGrantValue) { // or obj1.hasOwnProperty(key)\n        grantValue[key] = prevGrantValue[key];\n    }\n});\n// and may do it Recursively  for nested config object\n```\n. @lauriejim updated. ",
    "bruce0205": "@Aurelsicoko same issue, still missing..\nI am using different databases (one for dev, the other for prod) on the same mongo server (localhost).\nStep 1:  I ran\u300cnpm start\u300d, then using \"Content Type Builder\" to create model.\nStep 2: I ran\u300cNODE_ENV=production npm start\u300d, but I cannot set any permissions for that model on the \"Roles & Permissions\" of menu.\nNode.js version:\nv9.9.0\nnpm version:\n5.6.0\nStrapi version:\n3.0.0-alpha.12.7.1\nOperating system:\nmacOs High Sierra 10.13.5. ",
    "99darwin": "Same issue here only difference for me is that I'm running on an Ubuntu Digital Ocean instance.. This is not fixed in 3.0.0-alpha.11.2. Under Advanced Settings I see two options:\n1. One account per email address (on/off switch) currently switched \"ON\"\n2. Enable sign-ups (on/off switch) currently switched \"ON\"\nI'm pretty confident I upgraded from 11.1 to 11.2 correctly as my log prints debug Version: 3.0.0-alpha.11.2 (node v8.10.0) but maybe I missed something?\nAlso the register route still takes me back to the login page (I already have an admin role registered).. I'll wait for 11.3 to be released then. Thank you.. Yes I see that in a new project, but how do I see it in the one I'm currently working on? Or is there some way to migrate everything from my current project to a new one seamlessly?. @Aurelsicoko yes. If you know of a way to do this that exists already, I'd love to know!. ",
    "daytonmills": "Same issue here. ",
    "Velua": "I've also found that when modifying a User account in the admin portal created via Postman I'll get a \"\nAn error occurred during record update.\" toaster notification.\nIt appears it's making a PUT request to an undefined ID\nhttp://localhost:1337/content-manager/explorer/user/undefined?source=users-permissions\nThis isn't the case when modifying a user in the admin portal, created by the admin portal.\nhttp://localhost:1337/content-manager/explorer/user/5ab4f069ce90df673b8a1e1e?source=users-permissions\nWill create a proper issue.\n. I'm also having this issue at 12.2, same as described. . It doesn't appear to happen if I make the relationship from the other model. \nE.g. instead of editing the blogPost model and referencing a relationship with categorie\nI edit the categorie model and reference a relationship with the blogPosts model. . Feels somewhat related to #1235 in a way? or #1222 . ",
    "vaskort": "What worked for me when trying to create a user through Postman.\n\nLogin to the admin portal normally.\nOpen Postman and on the Authorization tab choose No Auth\nChoose Post and the url should be http://localhost:1337/auth/local/register\nOn the Body tab click raw and choose application/json (see image below)\n\n\n\nPaste your data in the following format:\n\njson\n{\n    \"username\": \"test@test.com\",\n    \"email\": \"test@test.com\",\n    \"password\": \"test\"\n}\n. @KevinSupertramp I also got this error.\nTry to increase the timeout property inside config/hook.json.\nThough sometimes I'm still getting incosistent behaviour when trying to dockerise Strapi but if you're not using Docker, it might help.. Hi guys thanks for your comments!\n@lucaperret Sure Just want to make sure it works - it might be something wrong with my database. \nWill come with an update later today! . Hey guys,\nIt seems I had to merge the new optional options to the answers object (check my comment). Also thought to remove the new options from the dbArguments array for backward compatibility.\nAlso tested to create an intance via the CLI and with the normal way strapi new <folder>\nThe docs have been updated.\nLet me know your thoughts! \n. Hey @lauriejim, sorry for the delay :(\nI\u2019m away without a laptop. I will update it in about 2 weeks. . @lauriejim hey mate! Yeah it was great. \nGoing to update this asap.. Sorry for the delay mate - we were releasing something with Strapi at work and didn't have time. \n\nHello @vaskort thank you to submit a PR.\nYes there is an other point, mongoose and bookshelf not need same settings and options.\n\nAre you sure for the above? I remember that I tested it with a MongoDB and a MySQL database. \nI will test again though. \nUpdate\nIgnore me I now get what you mean - that when you initialize for MySQL Db you don't need the options object basically right? . Any ideas in which version this bug got introduced? Thanks!. Thanks for adding tags @lauriejim. \nI rebuilt the admin thinking that it could be a cause but it happened again.\nI can see that at some point a core_store.update happens in the init of the app. That object has two years.\n\nDo you know where this core_store.update happens? I tried to find it with no luck. I could then be able to go backwards and see where it is happening :)\n. @lauriejim\nMongoose: core_store.update({ _id: ObjectId(\"5c630877e09180184cb27c3c\") }, { '$set': { __v: 0, type: 'object', value: '{\"generalSettings\"........ hey @lauriejim, that indeed solves it but it happens again eventually when I start the app. I'll try to find the cause of this issue.. @lauriejim do you think the errors comes from node_modules/strapi-hook-mongoose/lib/relations.js?\nPreviously we were patching the manyToMany case with the below code: \n```\npatch-package\n--- a/node_modules/strapi-hook-mongoose/lib/relations.js\n+++ b/node_modules/strapi-hook-mongoose/lib/relations.js\n@@ -131,7 +131,11 @@ module.exports = {\n                     .lean()\n                     .then(entry => {\n                       if (.isArray(entry[details.via])) {\n-                        value[details.via] = entry[details.via].map(entry => .get(entry, 'id', entry)).concat(value[details.via]);\n+                          value[details.via] = entry[details.via]\n+                              .map(entry => .get(entry, 'id', entry).toString())\n+                              .concat(value[details.via])\n+\n+                          value[details.via] = .uniq(value[details.via])\n                       }\n                   return module.exports.addRelation.call(model, {\n\n```\nNow we updated Strapi to alpha.21 and the relations.js code seems to be updated but not sure if it got fixed the correct way. Any thoughts? . hey @lauriejim I think the bug was happening because different environments with different schemas were pointing to the same DB. I can't reproduce it now. Let's leave it open for 2-3 days and I'll close it.\nThanks!. Do you think a better notation would be --dbssl=[dbssl] --dbauth=[dbauth]? Or should I leave it like this for consistency?. It seems I had to merge the optional options to the final answers object. Let me know if this makes sense. . basically I reuse the connector and database from the scope to create the staging and production files. ",
    "ChristopherJohnson25": "What's the status on this? Would love to have this flexibility.. What's the timeline on this update? Looks great!. ",
    "Torone": "Well, @soupette even enum option would be really nice to have. Thanks. ",
    "AwakenTheJaken": "I have been strongly considering using Strapi for some of our future projects and the only thing holding me up from jumping into Strapi is this missing feature. Allowing for matrix type fields is a deal breaker for our team. If I knew more about Node and had more time I would love to help with this, but I unfortunately don't. \nAnyways, just wanted to chime in here and say I too would love to see this feature in a future release!. ",
    "alexsteele110": "Updated to version 3.0.0-alpha.11.2 and still getting the same error as before. C:\\Users\\Alex Work\\projects\\strapi\\my-strapi-app. ",
    "Pritoj": "Hey guys,\nCan it be done with the user permissions plugin? I would like to help out if I can. I'll probably take some time though :P\nP.S. - I realized @mnlbox is the creator for this.. Weird coincidence huh?. So after going through the code here's what I've found. Currently the code goes to this file to the callback function.\nIn case of 'local' auth, these are the lines that send the token and user info\nhttps://github.com/strapi/strapi/blob/ff003a6b5874ba6ff8f6b68b3de52fc68a880018/packages/strapi-plugin-users-permissions/controllers/Auth.js#L81-L84\nwhile for all other providers, these are the lines\nhttps://github.com/strapi/strapi/blob/ff003a6b5874ba6ff8f6b68b3de52fc68a880018/packages/strapi-plugin-users-permissions/controllers/Auth.js#L131-L134\nNow a simple solution that comes to my mind is, we set a config param which basically checks if 2FA is enabled for this user. If it is, instead of sending this info, we create a new token with the userId which we send to the user and a property 2FA as true. This will tell the user what is required.\nJust to illustrate a bit better,\nInstead of sending this response \n{\n    \"jwt\": \"TOKEN\",\n    \"user\": {...USER_OBJECT...}\n}\nWe send \n{\n    \"jwt\": \"2FA_TOKEN\",\n    \"2FA\": true\n}\nNow the user must send a 2FA code generated via an authenticator app to a new route like /auth/2FA with the token sent to it and the 2FA code. On receipt of this request, we verify the token and send the response as is requested.\nThat's all I'm thinking right now. Is this approach workable? What do you guys think?\n@Aurelsicoko @lauriejim @lucaperret . I'm thinking we'll just do it for Authenticator apps first and the later we can figure out how to do it for the rest.. @mnlbox You can access the SDK here. Do you mind if I jump in with you to build the DataProvider?. @mnlbox My username is pritojs.. Hey guys,\nSo I had hit a few roadblocks on this. I'm currently working on this, but only after work. Will try to get it out ASAP.\n. Hey Guys,\nPlease check this out https://github.com/Pritoj/ra-dp-strapi\nAny feedback appreciated. ",
    "thebetterjort": "I have same issue from strapi-docker.\n```\n[2018-04-13T21:11:01.602Z] info Copying the dashboard...\napi_1  | [2018-04-13T21:11:16.550Z] info Installing dependencies...\napi_1  | [2018-04-13T21:11:19.338Z] error An error occurred during settings-manager plugin installation.\napi_1  | [2018-04-13T21:11:19.342Z] error Command failed: node /usr/local/lib/node_modules/strapi/bin/strapi.js install settings-manager\napi_1  | [2018-04-13T21:11:20.636Z] error An error occurred during content-type-builder plugin installation.\napi_1  | [2018-04-13T21:11:20.637Z] error Command failed: node /usr/local/lib/node_modules/strapi/bin/strapi.js install content-type-builder\napi_1  | [2018-04-13T21:11:21.929Z] error An error occurred during content-manager plugin installation.\napi_1  | [2018-04-13T21:11:21.930Z] error Command failed: node /usr/local/lib/node_modules/strapi/bin/strapi.js install content-manager\napi_1  | [2018-04-13T21:11:23.275Z] error An error occurred during users-permissions plugin installation.\napi_1  | [2018-04-13T21:11:23.276Z] error Command failed: node /usr/local/lib/node_modules/strapi/bin/strapi.js install users-permissions\napi_1  | [2018-04-13T21:11:24.964Z] error An error occurred during email plugin installation.\napi_1  | [2018-04-13T21:11:24.965Z] error Command failed: node /usr/local/lib/node_modules/strapi/bin/strapi.js install email\napi_1  | [2018-04-13T21:11:26.268Z] error An error occurred during upload plugin installation.\napi_1  | [2018-04-13T21:11:26.269Z] error Command failed: node /usr/local/lib/node_modules/strapi/bin/strapi.js install upload\napi_1  | [2018-04-13T21:11:27.577Z] error An error occurred during analytics plugin installation.\napi_1  | [2018-04-13T21:11:27.578Z] error Command failed: node /usr/local/lib/node_modules/strapi/bin/strapi.js install analytics\napi_1  | [2018-04-13T21:11:27.578Z] info Linkingstrapidependency to the project...\napi_1  | [2018-04-13T21:11:27.579Z] info Your new applicationstrapi-appis ready at/usr/src/api/strapi-app`.\napi_1  | module.js:545\napi_1  |     throw err;\napi_1  |     ^\napi_1  |\napi_1  | Error: Cannot find module 'lodash'\napi_1  |     at Function.Module._resolveFilename (module.js:543:15)\napi_1  |     at Function.Module._load (module.js:470:25)\napi_1  |     at Module.require (module.js:593:17)\napi_1  |     at require (internal/module.js:11:18)\napi_1  |     at Object. (/usr/src/api/strapi-app/admin/controllers/Admin.js:5:11)\napi_1  |     at Module._compile (module.js:649:30)\napi_1  |     at Object.Module._extensions..js (module.js:660:10)\napi_1  |     at Module.load (module.js:561:32)\napi_1  |     at tryModuleLoad (module.js:501:12)\napi_1  |     at Function.Module._load (module.js:493:3)\n````. I have the same issue. I'm currently debugging this.. No I will not follow the template.. ",
    "arnorhs": "I should probably say, that i'm not sure if this is a feature that should work. Self-referencing relation might be tricky to handle in many cases. But even if that's the case, it would be at least better to have the UI / backend forbid you from making such changes, without breaking the server\n. ok, it can be reproduced in the latest version as well. i can also push a repro case to a remote branch on my fork if that would be easier for you.. i'm guessing nobody has gotten around to this - i might have a swing at it myself if i have some time this weekend.. Hey there, no I had some desperate attempt at looking at it, but I wasn't familiar with the structure of strapi yet, so I got nowhere.\nI just tried on the latest version of strapi and the issue seems to be resolved, and this ticket is closed, so I'm happy! Thanks!. ",
    "garytube": "same issue here... \nyou need to set a process.env HOST = 'your-domain.com'\nand restart the server. This is awesome . ",
    "Luukth": "I can confirm that @garytube workaround works.. @lauriejim should I close this issue?. When using pm2 start strapi server.js the same happens. No restart and quick flash of server restarting.. Hello, I also found a solution for this problem. With this command you don't have to edit the package.json file. Just make sure you start it inside the strapi project folder.\npm2 start strapi --no-automation --name {{app name}} -- start. ",
    "LuisLoureiro": "I think this issue is somehow related with #886.\nI've also found a similar problem when adding a relationship.\nI tried the dockerized version and couldn't reproduce this problem.\nNode.js version:\n9.11.1\nnpm version:\n5.6.0\nStrapi version:\n3.0.0-alpha.11.3\nDatabase:\nMongoDB\nOperating system:\nLinux Manjaro 17.1.8\n. @Aurelsicoko As you recommended I updated my strapi version to 3.0.0-alpha.12.0.1 and tried again.\nI started a new project with the default database configurations and created my first two content types: Clubs and Teams.\nEverything was ok until I decided to relate the two content types. \nI chose Clubs to relate with Teams and when I selected Teams, in the right-side box, the header got blank. (Exactly the same behavior @XcrossD described in the point 3 of his initial post in the #886)\nServer stopped and I couldn't restart it. I had to remove the relationship from the Clubs.settings.json file to have strapi start running as expected.\nThis is how my Clubs.settings.json and my Teams.settings.json file were after creating the relationship:\n\nI'm using Firefox 59.0.2 (64-bit).\nI decided to switch to Chromium 65 (64-bit) and everything seems to work.\nSounds like a browser problem, in my case.\nI don't see any console error nor warning.\nThis problem might be more #886 related.\nHope this helps.. ",
    "dzuncoi": "Any updates on this PR guys? Really excited to see this feature . Looking forward to migration guide. I had the same problem with Mongodb database, v3.0.0-alpha.12.0.1\nWhat is the current behavior?\nI created a Article type in Content-type Builder and added some fields, but when I click on Article on left menu, it shows \"There are no fields yet Add your first field to your Content Type\".\nThis bug doesn't happen in the previous version.. @alexandrecanuto my version is 3.0.0-alpha.12.0.1 and I mean previous is v11.x\nBut I found out that this issue will occur if I run npm start, it works fine if running with strapi start \ud83e\udd14Is it weird?\nTo confirm: strapi start works fine, can create content type. npm start doesn't work, can see the type created when running strapi start but cannot create new content type\ncc @alexandrecanuto . Thanks for the info. It makes sense\nOn Mon, Apr 23, 2018 at 16:22 Jim LAURIE notifications@github.com wrote:\n\nHi @alexandrecanuto https://github.com/alexandrecanuto it's normal.\nActually tables and fields are not auto created this feature doesn't exist.\nWe are working on it for 3.0.0-alpha.12.2 version.\n@dzuncoi https://github.com/dzuncoi strapi start has a file watcher and\nreload function and this feature is not available with npm start. So if\nyou use the content type builder please use strapi start. If you use npm\nstart you will have to restart manually your app when you are making an\nupdate.\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\nhttps://github.com/strapi/strapi/issues/994#issuecomment-383510972, or mute\nthe thread\nhttps://github.com/notifications/unsubscribe-auth/AG7wAyDk7suVww50QW-BtQCpC9QVeGP0ks5trZ1BgaJpZM4Te60B\n.\n. \n",
    "nainsworthrv": "Hi guys- when do you think this will this be merged?. @Aurelsicoko awesome- thanks for the hard work loving strapi!. err TypeError: Cannot read property 'id' of undefined\n    at main.js:32\n    at Array.map (<anonymous>)\n    at t.value (main.js:32)\n    at p (main.js:16)\n    at beginWork (main.js:16)\n    at a (main.js:16)\n    at i (main.js:16)\n    at v (main.js:16)\n    at b (main.js:16)\n    at g (main.js:16)\nmain.js:32 info {componentStack: \"\u21b5    in t\u21b5    in div\u21b5    in o\u21b5    in div\u21b5    in di\u2026 IntlProvider\u21b5    in t\u21b5    in Connect(t)\u21b5    in o\"}componentStack: \"\u21b5    in t\u21b5    in div\u21b5    in o\u21b5    in div\u21b5    in div\u21b5    in div\u21b5    in div\u21b5    in form\u21b5    in div\u21b5    in t\u21b5    in Connect(t)\u21b5    in withSaga(Connect(t))\u21b5    in withReducer(withSaga(Connect(t)))\u21b5    in t\u21b5    in t\u21b5    in div\u21b5    in t\u21b5    in Connect(t)\u21b5    in withSaga(Connect(t))\u21b5    in n\u21b5    in o\u21b5    in o\u21b5    in div\u21b5    in o\u21b5    in Connect(o)\u21b5    in t\u21b5    in t\u21b5    in t\u21b5    in div\u21b5    in t\u21b5    in Connect(t)\u21b5    in div\u21b5    in div\u21b5    in t\u21b5    in Connect(t)\u21b5    in withSaga(Connect(t))\u21b5    in withReducer(withSaga(Connect(t)))\u21b5    in t\u21b5    in t\u21b5    in div\u21b5    in div\u21b5    in t\u21b5    in t\u21b5    in t\u21b5    in IntlProvider\u21b5    in t\u21b5    in Connect(t)\u21b5    in o\"__proto__: constructor: \u0192 Object()arguments: (...)assign: \u0192 assign()caller: (...)create: \u0192 create()defineProperties: \u0192 defineProperties()defineProperty: \u0192 defineProperty()entries: \u0192 entries()freeze: \u0192 freeze()getOwnPropertyDescriptor: \u0192 getOwnPropertyDescriptor()getOwnPropertyDescriptors: \u0192 getOwnPropertyDescriptors()getOwnPropertyNames: \u0192 getOwnPropertyNames()getOwnPropertySymbols: \u0192 getOwnPropertySymbols()getPrototypeOf: \u0192 getPrototypeOf()is: \u0192 is()isExtensible: \u0192 isExtensible()isFrozen: \u0192 isFrozen()isSealed: \u0192 isSealed()keys: \u0192 keys()length: 1name: \"Object\"preventExtensions: \u0192 preventExtensions()prototype: {constructor: \u0192, __defineGetter__: \u0192, __defineSetter__: \u0192, hasOwnProperty: \u0192, __lookupGetter__: \u0192,\u00a0\u2026}seal: \u0192 seal()setPrototypeOf: \u0192 setPrototypeOf()values: \u0192 values()__proto__: \u0192 ()[[Scopes]]: Scopes[0]hasOwnProperty: \u0192 hasOwnProperty()isPrototypeOf: \u0192 isPrototypeOf()propertyIsEnumerable: \u0192 propertyIsEnumerable()toLocaleString: \u0192 toLocaleString()toString: \u0192 toString()valueOf: \u0192 valueOf()__defineGetter__: \u0192 __defineGetter__()__defineSetter__: \u0192 __defineSetter__()arguments: (...)caller: (...)length: 2name: \"__defineSetter__\"__proto__: \u0192 ()[[Scopes]]: Scopes[0]__lookupGetter__: \u0192 __lookupGetter__()__lookupSetter__: \u0192 __lookupSetter__()get __proto__: \u0192 __proto__()set __proto__: \u0192 __proto__()\nmain.js:32 err TypeError: Cannot read property 'id' of undefined\n    at main.js:32\n    at Array.map (<anonymous>)\n    at t.value (main.js:32)\n    at p (main.js:16)\n    at beginWork (main.js:16)\n    at a (main.js:16)\n    at i (main.js:16)\n    at v (main.js:16)\n    at b (main.js:16)\n    at g (main.js:16)\nmain.js:32 info {componentStack: \"\u21b5    in t\u21b5    in div\u21b5    in o\u21b5    in div\u21b5    in di\u2026 IntlProvider\u21b5    in t\u21b5    in Connect(t)\u21b5    in o\"}componentStack: \"\u21b5    in t\u21b5    in div\u21b5    in o\u21b5    in div\u21b5    in div\u21b5    in div\u21b5    in div\u21b5    in form\u21b5    in div\u21b5    in t\u21b5    in Connect(t)\u21b5    in withSaga(Connect(t))\u21b5    in withReducer(withSaga(Connect(t)))\u21b5    in t\u21b5    in t\u21b5    in div\u21b5    in t\u21b5    in Connect(t)\u21b5    in withSaga(Connect(t))\u21b5    in n\u21b5    in o\u21b5    in o\u21b5    in div\u21b5    in o\u21b5    in Connect(o)\u21b5    in t\u21b5    in t\u21b5    in t\u21b5    in div\u21b5    in t\u21b5    in Connect(t)\u21b5    in div\u21b5    in div\u21b5    in t\u21b5    in Connect(t)\u21b5    in withSaga(Connect(t))\u21b5    in withReducer(withSaga(Connect(t)))\u21b5    in t\u21b5    in t\u21b5    in div\u21b5    in div\u21b5    in t\u21b5    in t\u21b5    in t\u21b5    in IntlProvider\u21b5    in t\u21b5    in Connect(t)\u21b5    in o\"__proto__: Objectconstructor: \u0192 Object()arguments: (...)assign: \u0192 assign()arguments: (...)caller: (...)length: 2name: \"assign\"__proto__: \u0192 ()apply: \u0192 apply()arguments: (...)bind: \u0192 bind()call: \u0192 call()caller: (...)constructor: \u0192 Function()length: 0name: \"\"toString: \u0192 toString()Symbol(Symbol.hasInstance): \u0192 [Symbol.hasInstance]()get arguments: \u0192 ()set arguments: \u0192 ()get caller: \u0192 ()set caller: \u0192 ()__proto__: constructor: \u0192 Object()arguments: (...)assign: \u0192 assign()caller: (...)create: \u0192 create()defineProperties: \u0192 defineProperties()defineProperty: \u0192 defineProperty()entries: \u0192 entries()freeze: \u0192 freeze()getOwnPropertyDescriptor: \u0192 getOwnPropertyDescriptor()getOwnPropertyDescriptors: \u0192 getOwnPropertyDescriptors()getOwnPropertyNames: \u0192 getOwnPropertyNames()getOwnPropertySymbols: \u0192 getOwnPropertySymbols()getPrototypeOf: \u0192 getPrototypeOf()is: \u0192 is()isExtensible: \u0192 isExtensible()isFrozen: \u0192 isFrozen()isSealed: \u0192 isSealed()keys: \u0192 keys()length: 1name: \"Object\"preventExtensions: \u0192 preventExtensions()prototype: {constructor: \u0192, __defineGetter__: \u0192, __defineSetter__: \u0192, hasOwnProperty: \u0192, __lookupGetter__: \u0192,\u00a0\u2026}seal: \u0192 seal()setPrototypeOf: \u0192 setPrototypeOf()values: \u0192 values()__proto__: \u0192 ()[[Scopes]]: Scopes[0]hasOwnProperty: \u0192 hasOwnProperty()isPrototypeOf: \u0192 isPrototypeOf()propertyIsEnumerable: \u0192 propertyIsEnumerable()toLocaleString: \u0192 toLocaleString()toString: \u0192 toString()valueOf: \u0192 valueOf()__defineGetter__: \u0192 __defineGetter__()__defineSetter__: \u0192 __defineSetter__()__lookupGetter__: \u0192 __lookupGetter__()__lookupSetter__: \u0192 __lookupSetter__()get __proto__: \u0192 __proto__()set __proto__: \u0192 __proto__()[[FunctionLocation]]: <unknown>[[Scopes]]: Scopes[0][[Scopes]]: Scopes[0]No propertiescaller: (...)create: \u0192 create()defineProperties: \u0192 defineProperties()defineProperty: \u0192 defineProperty()entries: \u0192 entries()freeze: \u0192 freeze()getOwnPropertyDescriptor: \u0192 getOwnPropertyDescriptor()getOwnPropertyDescriptors: \u0192 getOwnPropertyDescriptors()getOwnPropertyNames: \u0192 getOwnPropertyNames()getOwnPropertySymbols: \u0192 getOwnPropertySymbols()getPrototypeOf: \u0192 getPrototypeOf()is: \u0192 is()isExtensible: \u0192 isExtensible()isFrozen: \u0192 isFrozen()isSealed: \u0192 isSealed()keys: \u0192 keys()length: 1name: \"Object\"preventExtensions: \u0192 preventExtensions()prototype: {constructor: \u0192, __defineGetter__: \u0192, __defineSetter__: \u0192, hasOwnProperty: \u0192, __lookupGetter__: \u0192,\u00a0\u2026}seal: \u0192 seal()setPrototypeOf: \u0192 setPrototypeOf()values: \u0192 values()__proto__: \u0192 ()[[Scopes]]: Scopes[0]hasOwnProperty: \u0192 hasOwnProperty()isPrototypeOf: \u0192 isPrototypeOf()propertyIsEnumerable: \u0192 propertyIsEnumerable()toLocaleString: \u0192 toLocaleString()toString: \u0192 toString()valueOf: \u0192 valueOf()__defineGetter__: \u0192 __defineGetter__()__defineSetter__: \u0192 __defineSetter__()__lookupGetter__: \u0192 __lookupGetter__()__lookupSetter__: \u0192 __lookupSetter__()get __proto__: \u0192 __proto__()set __proto__: \u0192 __proto__(). Many connections I just mean that when there is alot of relational data it wont open\nThis one opens because there is minimal relational data, but most of the others do not as they have more linked fields\n\n. Thanks very much Cyril.\nNicholas\nOn Thu, Apr 26, 2018 at 5:35 PM, cyril lopez notifications@github.com\nwrote:\n\nI'm closing this issue. Here's the the explanation:\nWhen you open a model with a connected heirachy eg.\nQuestion\n            - Test result\n               -- Your questions\n                -- Answers\nWe had some empty fields which triggered the error\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\nhttps://github.com/strapi/strapi/issues/1024#issuecomment-384577197, or mute\nthe thread\nhttps://github.com/notifications/unsubscribe-auth/AbsF9LjrG_yvPFMDrJIKRYsx1CGdNXhMks5tsZTogaJpZM4TijXz\n.\n. \n",
    "JamyGolden": "@lauriejim I haven't been able to figure out how to add a wysiwyg field to a content type. I've just installed the latest version 3.0.0-alpha.12.1.3 and I don't see the field along with the string, text, number, boolean, etc fields. I've browsed around inside of content-manager but haven't come across a setting to enable the wysiwyg field. Am I missing something?. @raulriera thanks for the clarification!. ",
    "kopecmi8": "Hello,\nI have been working on semantic version of content type builder plugin and I would like you introduce into it. Firstly I thinking that I will make brand new plugin but instead of this I made decision that I will edit the original CTB, because changes that I made will be better saw in GIT and in my situation of forked version of Strapi I can easyli upadate to the new version and in future plugin can be converted into another one by particular changes of names...\nType selection\nAs I last write I extend your data model with @type keyword which specify the semantic type of content type. Now in the dialog for adding and editing content type I add new filed with this @type selection. Which is actually brand new form input (InputMultiSelect) which allows you selection of multiple items and searching between them which can be usefull if list of items has hundred of items as in my case. This will be better saw on image example:\n\nAttribute type selection on property creation\nSecond big change is update of attribute creation dialog. In your original version you have to only select attribute type. But if you want to have thease attributes semantics, you have to select semantic type of attribute (whici is not only form input type, but it represent meaning of attribute). In my work I have been focused only for supporting of Schema.org so you can choose attributes only from list which is made dynamicly from the selected @type at first step. Schema.org also for each property specifies range which can property has to be. For example entity type http://schema.org/Person has property http://schema.org/address and its range can be schema:PostalAdress or schema:Text. \nSo in my extended dialog I firstly want from users select property type, than range (if property has multiple ranges) and by this selected range I filter the attribute types so user can select only attribute types which match the correct type.  I guess this changes will be better saw on image example again\n\nIn case of easy attribute types like Text, E-mail and so on, I only made change that name of property is saved into the label filed in model params as I suggest last time. (there I did not ignore your suggestion for using of layout.json, but this was easies way for made working prototype...)  \nRelation attribute type\nBut big changes was made in Relation dialog. There I have to filter the list of targets content types by the @type and selected range of attribute. For example if I have property schema:address and choose range shema:PostalAddress in relation dialog I can show as target content types only types withc @type schema:PostalAddress. But this changes can result that no one target content type with spcific @type exists. So I have to edit relation dialog and if there is no one available content type of suggested @type, there is only button for creation of new content type with prefiled @type.\n\nNext extension of this dialog is, that relation has to be mapped on inversed attribut in target entity. So I added selection field where are dynamically loaded properties from target entity which has range of @type same as entity whose relation came from. Again example image for ilustrating purpose.\n\nCreation of Entity attribute type\nLast time I told you about new attribute type Entity for inner content types. For this type of attribute I have to create a brand new dialog. In this dialog is select field which allow you to select multiple properties from entity type which you want to inner to. This selection generates dynamic form for each property where you can specify Label, Range and also attributy type. In that case you cannot select attrbiute of type Entity and Relation, because it would be too complicated.\n\nAs result of this proccess you can get form which looks like this:\n\nAs you can se I also add form input for  URL attribute type, it is only simple copy of Email attribute, but wich validation with regex on URL address pattern.\nOutput in different format\nLast change which worth mentioning is changes in Generate api plugin. I little bit modfiy generated controllers which nows allows you to publish your content also in N-quads format. You can get it by specifing Accept header in your request to application/n-quads.\nResolution\nI know you have another prioerities in your Project, but I think some of thease changes can be beneficial even for non semantic purposes. My code is now in alfa stadium and lot of cleaning things has to be done, I am now in time presuare because of deadline of my work. But if you be interest in some of this ideas let me know. I still think if you adopt little bit of this changes in your core this semantic version can coexist next to the original version without big worries from next version updation and can serve for lot of users becase there is not a lot of semantics CMS.. ",
    "tranthebao": "yes, i'm using db mysql.. i'm see loopback when do method post then error server api return error.\nyou can reference to adrress loopback.io. so. i cant example it. you can support it. thanks!. ",
    "WillyDolly": "Hi soupette! \nFirst of all, thanks for your team's work. \nNow there are 2 major problems:\n1. Data loss but schema remains intact. I had to recreate database. Not sure when the pain will come back.\n2. In the same content type, I can not view or edit some records, only white page shown\nIf strapi keeps shaking like this, I have no choice but use Botman as replacement. \nHope you guys fix it up ASAP.. For problem #2, browser inspected : \n a.Could not locate webpack:///main.js specified in source map https://coca.chatbot.exnodes.vn/admin/users-permissions/main.js.map.\n b. can not get property \"id\" in plugins/content-manager/admin/build/main.js at row 21619\nMy solution for b: replace t.value.id by constant = 1. It solved the problem #2 but I didn't know why. When I got t.value.id back in place, problem #2 again. ",
    "itpcc": "I'm not sure it's related to #802 or not. But I hope it's not.. ## Additional info.\nI found while creating (custom) relation between User and my custom content type. (I'll use Events for the example. ) If I type value of  collection or via in Events.setting.json wrong, the admin page will loop redirect as I mention. . ",
    "wcorrea": "Also, for MySQL, \nuse lowercase letters only for columns names\nSET GLOBAL sql_mode = 'NO_ENGINE_SUBSTITUTION';\nto avoid problems with updated_at and created_at columns when getting populated\n. ",
    "bugvish": "Quick and dirty hack:\nChange Line 140 of /strapi/packages/strapi-helper-plugin/node_modules/babel-core/lib/transformation/file/index.js to:\n      plugins: [\"jsx\",\"flow\",\"objectRestSpread\"]\n. Quick fix:\nFor each API (aka \"Content Type\") generated through the Content Type Builder, edit line 28 of /api/{content-type}/services/{content-type}.js as follows:\nReplace\n        qb.where(key, where.symbol, where.value);\nwith\n        qb.where(key, where[0].symbol, where[0].value);\n. @lddd are any of 'name' 'year' or 'license' their own tables (e.g are they 'relational')?  For what it's worth - I had a similar issue with my collections containing relational components.  I needed to modify my generated APIs' service to NOT reject relational values in order make a POST, like the following:\nhttps://github.com/strapi/strapi-examples/blob/master/cheesecakes/api/cake/services/Cake.js#L68\nChange:\nconst data = await Cake.create(.omit(values, .keys(_.groupBy(strapi.models.cake.associations, 'alias'))));\nTo:\nconst data = await Cake.create(values);\nMight not apply to your particular issue @lddd , but hopefully others might see this and benefit. . ",
    "L8NiteOwl": "Thanks, @bugvish! I was really scratching my head on this one. This temporary hack worked perfectly for me.. ",
    "dsheyp": "hi\nfor evaluation purposes I installed strapi for the first time, then created a user for the admin tool etc. etc... and the next day I had forgotten username and password. what I remembered was the email I had provided. so I went through the reset password process, got an email with a link which I followed. This brought me back to the login form, where I was asked to enter username and password.... which of course I didn't remember.\n-> It seems the \"reset Password\" functionality doesn't do a useful thing.\nAfter that I deleted the test project and recreated it with the same name. My previous user persisted this process, so I still wasn't able to login. What finally helped was to go to the mongodb users-permissions_user table and read the username. This also led me to my password, as I had it chosen to be almost the same as the username.\nJust thought I share my experience with resetting my password. I had expected being provided with the possibility to just enter/repeat a new password during the process and then coming back to my existing account. This didn't happen. May be a bug? Or just my installation/setup?\nBest\ndsheyp\n. hi\nI'm doing this query - which will not work as expected:\n{ sections{title index slides{ title index videos{ title videoid } bgimages { title image { url } } } } }\nimage will always be image: null\nis this related to a limited depth of nesting or is it something else?\nwhen i directly request http://localhost:1337/bgimage then the image property is not null\nif this query is used \"standalone\" it also works: {bgimages { title image { url } } }\nthx. I updated Strapi to the latest version but as I got things working for me with the \"relation the other way round\" I don't want to downgrade Node - this is too much change @ the moment - I have to go on with my Strapi-based project, someone is waiting for it ;-) So I kept my current project and added the two content-types as described above. The problem persists. Strapi can't restart. I have to remove the content-types manually from the filesystem and from mongodb. Only then Strapi can restart. Still exactly the same message in the console as described.\nHi @lauriejim I put the models on https://github.com/dsheyp/strapi-models as they were created by the Content-Type-Manager\nI added a Screenshot showing the dropdown title being blank.\nAdded: I didn't have to remove the models from mongodb. Nothing was created in mongodb by the content-type-manager. Just in the filesystem.\n. What I discribed earlier happened again. This time I tried to manually fix the models. I had to insert a relation. It still didn't work. There was one field plugin: \" \"   When I removed that empty field it worked. Could the reason for this bug be found in that empty plugin: \" \" field?. the one who fixes this strapi-not-booting-issue in the near future will be allowed to carry the title \"bootstrapi\" thenceforth as a sign of honour \ud83d\udc4d . hi\ni just tested with alpha 12.2 with a fresh project resulting in the server not being able to restart after adding a relation between two content-types. also the title of the selector dropdown was still blank as it was in my initial issue description. the console shows\n[2018-05-25T19:05:43.804Z] error Something went wrong in the model `Test` with the attribute `subtests`\n[2018-05-25T19:05:43.807Z] error The attribute `test` is missing in the model Subtest\nthe empty plugin: \"\" attribute is gone\nafter adding the relation manually to one of the content-types the server restarts and the relation works as expected\n. same here....\nSteps to reproduce the problem\nthis query returns an empty image field:\nhttp://localhost:1337/graphql?query={slides{title%20index%20bgimages{title%20image{url}}}}\nthis query returns a correctly populated image field:\nhttp://localhost:1337/graphql?query={bgimages{title%20image{url}}}. Thanks for your comment. I applied PR #1192 but nothing has changed with the images issue, still getting image: null when image is a field of a nested model. But it has fixed the other issue with referenced model being null, which has gone now.. exactly the same issue here.\nmy understanding of the problem is the following: when you create the new (admin) user a cookie will be set in the browser. but once this cookie is deleted in the browser, strapi will always redirect that browser to the \"register\" page and it will be impossible to re-login with that browser until you create a new account from that browser which will again set the cookie. only like this it will be possible to select the previously created account upon login.\nthis needs to be more robust, may be by completely dropping the automatic redirect to the register page and just let users decide themselves whether they want to go to \"signup/register\" or \"login\" by letting them click on the respective link.\n. @soupette\ni applied your fix but it doesn't change anything for me: as long as there is no cookie present in the browser it will always be redirected to the register page although there exists an admin user in the mongodb. with a different browser where the cookie is still present i can login at the same time using exactly that account. i think it's the missing cookie in the browser (on which strapi relies) which triggers that issue. may be the same thing also happens after upgrading strapi: the cookie isn't valid anymore after upgrading, therefore the browser will be redirected to the \"register\" page.\n. ",
    "Kinzi": "I have a similar issue. \nWhen trying to reset the password I get: \"This email is invalid.\" (400 from API) BUT it's the exact same email as in the db document here: collections/users-permissions_user\nstrapi 3.0.0-alpha.12.1.2\nnode 10. ",
    "guillermodoghel": "@yummyelin that works great, thanks!\nsome nice to have would be to put the smtp config inside a json or something\n. Temporary fix: in Auth.js, on methods forgotPassword and changePassword\njust BEFORE:\nawait strapi.query('user', 'users-permissions').update(user);\ndo:\n      user.role =  user.role.id;\n. I've resolved this by doing the following aberrant workarround\nOn my frontend app I created an href that looks like\nSTRPI_PATH + '/admin/?login=' +\n              encodeURIComponent(JSON.stringify({token:getToken(),user:getUser()}))\nwhere getToken() and getUser() are the admin jwt and user object returned in login.\nOn the strapi side, in ./admin/admin/src/containers/AdminPage.indexjs\nin the begnining of   componentDidMount() { I added this code\nif(this.props.location.search.includes('?login=')){\n      let loginstuff = JSON.parse(decodeURIComponent(this.props.location.search.slice(7)));\n      auth.setToken(loginstuff.token);\n      auth.setUserInfo(loginstuff.user);\n    }\nI think there are way more \"correct\" ways of doing it. \nThe ideal thing would be to only send the jwt token as a parameter, but when I tried to only do auth.setToken, I could access the admin panel, but it worked super weird (the username wasnt loaded, and half of functionalities wont work)\nIs there any way, from inside the admin, to get the user object with the jwt token as an input parameter?\nuser object -> {\"username\":\"admin\",\"id\":1,\"email\":\"test@sometek.ws\",\"provider\":\"local\",\"role\":{\"id\":1,\"name\":\"Administrator\",\"description\":\"These users have all access in the project.\",\"type\":\"root\"}}. Im currently working on a better approach for this.\nSo far, I found that:\nstrapi.plugins['users-permissions'].services.jwt.verify()\ndecodes the token and gives me the user id, with that I just query for the user and voila!\nSo the steps would be:\n1 create a route in user-permisions that with the token, returns the user json\n2 enable that route for public\n3\noption a: in user-permisions front end create a route to handle the request, call user-permisions backend, do the localstore set of user and token, and forward to admin\noption b: keep the this.props.location.search in ./admin/admin/src/containers/AdminPage/index.js, call user-permisions backend, do the localstore set of user and token, and forward to admin\n. sometimes happens and  its really annoying, I resolved it by remaking the relationship and restarting the server. ",
    "ConsoleTVs": "\nNPM 5.8.0\nNode: 8. ",
    "Dane411": "Upgraded to the latest node version.\nUninstalled the package, as I was getting same error.\nTried reinstalling. Now getting this:\nnpm WARN deprecated sprintf@0.1.5: The sprintf package is deprecated in favor of\n sprintf-js.\nnpm ERR! code ECONNRESET\nnpm ERR! errno ECONNRESET\nnpm ERR! network request to https://registry.npmjs.org/koa-static/-/koa-static-4\n.0.2.tgz failed, reason: read ECONNRESET\nnpm ERR! network This is a problem related to network connectivity.\nnpm ERR! network In most cases you are behind a proxy or have bad network settin\ngs.\nnpm ERR! network\nnpm ERR! network If you are behind a proxy, please make sure that the\nnpm ERR! network 'proxy' config is set properly.  See: 'npm help config'. @lauriejim Yes, I still have this issue, as the only feedback I got was the one of @soupette to upgrade node version, and that didn't fix anything at all, and haven\u00b4t messed with source files. Nope, should I? If so, in what way?. @damtsnkff Thank you! Reviewing my previous comments I just realised when I first tried to use strapi I had an outdated node version (v6.10.2), but at some point trying to get this to work, I upgraded everything:\nNode.js version: v9.10.0\nnpm version: 6.0.0\nNow not only strapi still doesnt work, but npm hangs during fetch operation when running install command... View https://github.com/npm/npm/issues/19588 ie.\nIt\u00b4s been a while so can\u00b4t really tell how the chain of events was.\nMy first goal at this time is to restore npm, then will move to strapi. Will provide feedback whether it worked or not, once I get there. :). Good day @damtsnkff !\nI think all the issue was that I didnt update node/npm, as it failed to detect the propagation operator '...'\nThen after updating I had an issue with npm https://github.com/npm/npm/issues/20371\nI uninstalled Node.js, and tried different versions (8, 9, 10) with NVM, but the issue persisted; so I downloaded strapi and its dependencies with yarn, and then installed with npm the cached packages (as docs says strapi doesnt plan to add yarn compatibility, as seems yarn downloads but fails to \"install\" as strapi -v would return \"unrecognized command strapi\").\nThe installation ran smoothly except for:\n\nerror Command failed: node %appdata%\\Roaming\\nvm\\v9.10.0\\node_modules\\strapi\\bin\\strapi.js install email\n\nAlso https://github.com/strapi/strapi/issues/616 and port 1337 was in use, so changed the port as explained here:\nhttps://strapi.io/documentation/advanced/customize-admin.html\nAnd the bootstrap error dissapeared!\nWelcome.\nYou successfully created your Strapi application.. ",
    "damtsnkff": "@Dane411 which version of node are you using?\nAs mentioned in the documentation, Strapio requires Node >= 9. (Requirements here)\nI had the exact same issue because I was using Node > 8.\nTip: If you have to switch between nodes version for different projects, you might like NVM (a node version manager)\n. @Dane411 \nI can't reproduce, with the same environment as yours. I recorded it, and can't reproduce.\nhttps://youtu.be/mkqk_cqNrFY\nPersonally using NVM (as mentioned before) really helped me to get save time on my different environments.\nMaybe try another version of Node with a new clean install of npm ?\nWithout any additional informations it's kinda hard to debug. :). @dertuerke node version should be >= 9.\nhttps://strapi.io/documentation/getting-started/installation.html. ",
    "fedwatch": "strapi need LTS version .  most people not working in Node 9.. ",
    "piLinux": "OS:\nDistributor ID: Ubuntu\nDescription:    Ubuntu 18.04.1 LTS\nRelease:        18.04\nCodename:       bionic\nEnvironment config:\nnodejs -v\nv10.9.0\nnpm -v\n6.2.0\nmongod --version\ndb version v4.0.1\ngit version: 54f1582fc6eb01de4d4c42f26fc133e623f065fb\nOpenSSL version: OpenSSL 1.1.0g  2 Nov 2017\nallocator: tcmalloc\nmodules: none\nbuild environment:\n    distmod: ubuntu1804\n    distarch: x86_64\n    target_arch: x86_64\nStrapi using deprecated sprintf package:\nnpm install strapi@alpha -g\nnpm WARN deprecated sprintf@0.1.5: The sprintf package is deprecated in favor of sprintf-js.\nComment:\nCan you replace sprintf package with sprintf-js package? Thank you.. ",
    "ackro": "I can reproduce this by using npm start instead of strapi start. Behaviour is same as shown in the issue gif. Sometimes the restart message overlay does appear briefly, other times is not visible (perhaps removed too quickly).\n\n\nNode.js version: 9.6.1\nnpm version: 5.8.0\nStrapi version: 3.0.0-alpha.11.3\nDatabase: MongoDB\nOperating system: MacOS\n. hey @derrickmehaffy, not as yet but would like to submit a PR soon.. @Aurelsicoko, good idea, that's a better approach. I can test this if you like but sounds good to go. . sorry guys, I misunderstood that comment as @Aurelsicoko working on it. I will submit a new PR for this.. \n",
    "bartoszgajda55": "@abdonrd You have to replace \"start\": \"node server.js\" with \"start\": \"node_modules/strapi/bin/strapi.js start\" in your package.json file, and then you can run it with PM2 pm2 start npm -- start. I have Strapi running on VPS and I can't have terminal window open all the time with strapi start command running in it. What would you suggest then ?. Thanks @lauriejim, that fixed the problem :). ",
    "ujal": "@lauriejim pm2 works just fine with the --no-pmx flag - pm2 start strapi --no-pmx -- start. @krestaino Try the latest strapi@alpha. The error msgs got more descriptive.. @lauriejim Strapi doesn't reload the server on file changes in development. \nThis code is never reached because strapi.reload.isWatching is always undefined. The property isWatching is defined through Object.defineProperty here - a setter function is provided, but not a corresponding getter.. ",
    "Dronozavr": "As for me I have the same behavior! Thanks. . @lauriejim Now it is okay! Thanks! Sorry for annoying! Keep pushing guys, Strapi is pretty cool. Merci beaucoup. @jdus Hi, yes the version '3.0.0-alpha.12.2' solved my problem; But it is not populates nested values by default (from the box, as to speak). If you follow this issue from the beginning , you ll notice the .populate method, which you have to apply to make your nested media types available.\n.populate({\n        path: 'mentors',\n        populate: { path: 'image' }\n      }); . ",
    "jdus": "@lauriejim Should this be fixed in '3.0.0-alpha.12.2'? I still have this problem.\nI have an object 'photo', as well as an object 'photoset'. 'Photoset' has a 'belongs to many' relation to 'Photo'.\nIf I query 'photo' directly I get the correct values in the 'file' attribute, if I query 'photoset', which gives me a list of photo sets with nested photo objects, I get 'null' as value. Is this intentional and I need to adapt the controller or has this bug been fixed/feature been added by now?\n@Dronozavr is it fixed for you now in 3.0.0-alpha.12.2?. @Dronozavr, thanks your answer :) I figured out how to adapt the service, but I just wasn't sure if it should still be needed.... ",
    "nao360": "See https://github.com/strapi/strapi/issues/1783 for a more detailed summary of how to resolve this. Good luck \ud83d\udc4d . ",
    "AlexCraftt": "screen resolution 1920x1080 pix (max on this PC). total number of content types in content type builder - 38 units, and I would like to add more. browser: Google Chrome 65.0.3325.181 (Official assembly), (64 bit). This is a test build for the site about works of art. You can watch it on the github: https://github.com/AlexCraftt/vg. I think that in \"combat conditions\" many more types of content (models) can be used, but I will try to optimize it. I'm interested in the project (Strapi), while I'm testing, trying to understand the limits of possibilities. I would like to see the inheritance of models in the API, use content types as parent or child. ",
    "julienvedebe": "Strapi version : 3.0.0-alpha.11.3\nHi,\nI ran into the same issue following your tutorial for Heroku deploy.\nEverything works but at final step when app boot it says : \"Make sure your MongoDB database is running ...\"\nI have DATABASE_URI vars defined in Heroku.\nI have tried to add NODE_ENV=production before node server.js in start command.\nI have tried also to add vars for host, login .... for MongoDB\nAPI works fine on my laptop but fail on Heroku.\nI didn't find a way to print error or usefull debug info to catch what's happening at L60.\nAny ideas ?\nThanks a lot\n. ",
    "artem-korolev": "Hi. That is interesting topic.\nStrapi already have a very well model to support it.\nBut i'm not totally sure, that this process can be really automated\nYesterday I was trying to rename one model. I can do it easily I guess, if I do not rename collection name. But if collection name is already initialized, then editing it force a bug after Strapi restart. It is actually a bug, that should be fixed. Let's not allow to rename collection, when its already initialized.\nAbout migrations. I do not see this topic like something easy and straightforward.\nUpdating live database can be almost impossible, especially when you have zero downtime and data is constantly coming in.\nIf migration can be automated, then we need to define first what \"migration\" is. what is the scope of migration.\nIf you want migration as something universal, that magically happens, then I can give you a few examples, when this process will be impossible to implement.\nAnd what if something gets wrong in the middle of huge migration?\nI will rather think about \"deprecation\" process. This maybe can we can achieve more easily?\nI think, that such things, like migration/deprecation should be atomic process. This need to be something very simple and atomic. So that you cannot migrate bunch of things. But you can migrate/deprecate only something very simple. Like one field. Or one table. Just imagine, if you rename 10 table, remove 5 tables, rename 15 fields, which are used in relationships with existing tables.\nI cannot imagine how to make it happen in once even if I make it manually. Haha :)\nSo I rather will think about atomic deprecation flow. So that system will not allow to me to make a lot of changes in the model, which already runs in production.\nWhen everything is migrated, then system can inform you, that migration/deprecation process is finished (on staging/production). And you can manually clean tables (or this already can be automated, if we define this in the scope).\nOr maybe even without any deprecation - just create your new api from scratch and thats it. and support backward compatibility. Easy. Right? :))\nThanks for this topic. As I said its really interesting. Will be happy if somebody will correct me, if I'm saying something wrong. Like \"hey man, its not so bad like you thinking about it, everything is much easier\". If you know a way, then please tell me about it.. ",
    "cece95": "I'm experiencing the very same issue\n-Node.js version:\n9.10.1\n-npm version:\n5.6.0\n-Strapi version:\n3.0.0-alpha.11.3\n-Database:\nMongoDB\n-Operating system:\nUbuntu 14.04. I have Node 9.11.1 and i'm experiencing the same issue so i don't think downgrading would change anything. i think that this issue is the same as #1139. ",
    "gammanano": "Hi @Aurelsicoko \nI get the same issue at 13.0.1. For the reproduce this issue, simply you just create 2 model (ex: Product and Category) then you create relation for them, in the relation GUI, you select any models several times. The title in Model selected will disappear (except: Permission, User, Role model) then you click continue and save. This issue will make server down when you refresh page.. ",
    "andfk": "Hi @Aurelsicoko, the issue is if we can't attach the beforeDestroy and afterDestroy into mongoose (does bookshelf accepts it, right?) there is not a possible way until now to attach listeners when stuff is deleted from the /admin panel. Im new working in Strapi and just discovered Content Manager plugin no trigger services methods then if no services are called nor mongoose events, right now we can't attach any kind of logic when stuff is deleted. Is there a workaround this or?\nI would like to take a look about maybe not so elegant option but at least working for now. As the hook is called when myDoc.remove() not myModel.remove() should we do this logic instead? looking into Content Manager service it uses strapi.query but where can i find it?\nMany thanks. @lauriejim seems Mongoose will include these hooks functionality working in 5.3 expected for mid of September (https://github.com/Automattic/mongoose/issues/3054#issuecomment-417818580). Should we rely on that release instead? i guess it may be better to do so. Thanks. Awesome @Aurelsicoko. My only concern is if all errors are catched by Boom middleware? May have to check all the strapi source code but you may know that already :)\nMany thanks!. Hey, sorry @lauriejim but i didn't understood some parts at that time and was focused in other tasks. I should have closed this PR. Will open again if i think i can improve stuff when i work again with Strapi CMS. Many thanks.. Hi @lauriejim i can't remember 100% what was happening and maybe this has been already solved so im going to close this and test later if this is still happening. Thanks. ",
    "adneneBen": "Hello,\nHave you found any solution to do it, i'm facing the same problem\nThank you. ",
    "opgbaudouin": "Same boat here but my situation is a quite a lot worse as I need SAML + ADFS. \"Luckily\" as i understood strapi to be very much an alpha product and doesn't (yet) do decent enough auth/authorisation for our needs we simply route all API calls needed via a proxy which adds the missing bits. . @rahilwazir : I'm afraid i had to give up on Strapi (at this point). Great as it is for simple things  quickly ran out of needed 'security' features (per field security permissions). I used an external server to handle the ADFS handling and created a new account on strapi that would have those permissions. Effectively faking a register/login to strapi server side. I.e. proxying it - after you get the JWT you can go back to normal.  . I found a solution - \nI noticed that when i went to a user (not yet associated with a license) when i clicked on the Relation > Licenses i would get a 'list' of empty items BUT i could select one. I.e. it shows a list of BLANK names. \nWhen selecting one it would show the 'id' of the license. However pressing Save and then reload the user would result in the above issue.\nTherefore i started looking as to why it would show me the 'id' for license (when briefly selected) as the error reports issues with 'id' + why are they blank. \nAfter a big of digging i though - what / why is Strapi actually using to show me a 'usefull' text in the dropdown? \nThis turns out to be a field in Model.setting.json/info/mainField - none of my autogenerated .json have this set but it is inside the documentation. \nMy license model has as it's first 'member' a file (not a title or label). \nBy manually setting the mainField of my license model to 'title' (a simple string) it now WORKS.\nHence the BUG is:\n\nWhen viewing / selecting a relation (one-n, but I suspect any) the UI should PICK a simple textfield if present for the related model IF the mainField of that one is NOT set, (and i would also suspect that the mainField also cannot be a related / file / etc itself). \n\nSolution would be to add simple checks when picking the LABEL for a relation.. And/Or deal with the weird ones.\nit would be HANDY to have this mainField option visible when creating as in 'Field/Attribute' Used in UI' (to set the mainField for this)\nHope this helps....  . Further info: this happens all across the place when i think React is expecting text type and it getting something else (or empty strings). If i put a mainField to a text and leave it empty - it also completely blanks... . And more: when updating my license in the admin UI, it will wipe the 'mainField' from the settings.json. So it appears the mainField (though critical for admin UI work) is not yet fully integrated. \nWhen add/ changing another one - it remains untouched.... Still same issue on 3.0.0-alpha.12.2 \nOnly works with mainField present to a 'meaningfull' - text based part. \n. Did a clean install on my Centos 7 box with 3.0.0-alpha.12.2 \nIssue is still there but further digging makes it easier to replicate for you.\nSetup\nCreate a type 'Item' \n  - title (text) \nCreate a type 'License'\n  - title (text) \nModify type 'Item':\n  - (Item.)licenses  < (Item belongs to many Licenses) (License.)item\nNow we create data.\nCreate an Item:\n  - leave title empty\nCreate a license:\n  - leave the title empty\nAt this point it all works. You can select and view both data's.\nFailure (when linking them)\nNow EDIT your only Item \nYou will see a Licenses dropdown.\nIt will show just white when you click it. \nPick the 'first' (and only one).  \nIt will show an ID (the 'mongodb' id of the license). \nPress save\nNow you are back in the overview. \nTry to edit the same item again: \nResult -> Blank screen with same issues as before. main.js:16 TypeError: Cannot read property 'id' of undefined\nHowever if you goto the Licenses / Edit only license you will see that the Item is correct (showing a mongodb). If you remove it there you once again can edit / view your only item.. \n(Note this also happens when you try to link the User with an Item) - \nFix\nNow EDIT the Item and License data object and put actual texts in the title field. So they are no longer blank. \nI think by putting in mainField this has the same effect as to force strapi to load some 'meaningfull' text to show in the dropdown.\nAny relationship dropdown now has some non-blank text AND they no longer show an id string' text when selected. \nTherefore this issue might be more about 'Empty' title fields, or however strapi decides (besides mainField) to set the dropdown menus... \nSetting the (item/license) title fields to Blank again will again cause the issue.\nConfig files\nItem.settings.json:\n{\n  \"connection\": \"default\",\n  \"collectionName\": \"item\",\n  \"info\": {\n    \"name\": \"item\",\n    \"description\": \"an item\"\n  },\n  \"options\": {\n    \"timestamps\": true\n  },\n  \"attributes\": {\n    \"licenses\": {\n      \"collection\": \"license\",\n      \"via\": \"item\"\n    },\n    \"title\": {\n      \"type\": \"string\"\n    }\n  }\n}\nAnd License.settings.json:\n```\n{\n  \"connection\": \"default\",\n  \"collectionName\": \"license\",\n  \"info\": {\n    \"name\": \"license\",\n    \"description\": \"a License\"\n  },\n  \"options\": {\n    \"timestamps\": true\n  },\n  \"attributes\": {\n\"item\": {\n  \"model\": \"item\",\n  \"via\": \"licenses\"\n},\n\n\"title\": {\n  \"type\": \"string\"\n}\n\n}\n}\n```\n. Apologies - i did not know 'Close' would close the github item... Due to your request to update to 3.0.0-alpha.12.2 i can now confirm that it does now indeed return the OBJECT as per the documentation.\nThis makes sense based on the updates required when migrating as edit went from:\n/* edit: async (params, values) => {\n    // Note: The current method will return the full response of Mongo.\n    // To get the updated object, you have to execute the `findOne()` method\n    // or use the `findOneOrUpdate()` method with `{ new:true }` option.\n    await strapi.hook.mongoose.manageRelations('item', _.merge(_.clone(params), { values }));\n    return Item.update(params, values, { multi: true });\n  },*/\nto\n```\n    edit: async (params, values) => {\n        // Extract values related to relational data.\n        const relations = .pick(values, Item.associations.map(a => a.alias));\n        const data = .omit(values, Item.associations.map(a => a.alias));\n    // Update entry with no-relational data.\n    const entry = await Item.update(params, data, { multi: true });\n\n    // Update relational data and return the entry.\n    return Item.updateRelations(Object.assign(params, { values: relations }));\n},\n\n```\nI would therefor suggest you can close this - as 'solved' (or at least compliant with docs).\nAlso a little more digging on my part should have spotted the previous comment about it returning the mongoose part...\n. Same here \nnode 10.2.1 \nnpm 6.1.0\nstrapi 3.0.0-alpha.12.2\nwindows 10 64bit\n(trying to replicate an earlier bug) . I can confirm NO issues on \nCentOS Linux release 7.5.1804\nStrapi version: 3.0.0-alpha.12.2\nNode: 10.3.0\nnpm: 6.1.0\nNonetheless it should be highlighted that as of this version with that combination something broke on Windows 10 - or simply 'limit' the scope of strapi. Obviously no-one will run production stuff with node on a Windows box, but many of us do use it for development.  Up to the team to class as BUG or not :)\n. ",
    "rahilwazir": "@opgbaudouin Can you please explain further what missing bits did you add to Strapi via Proxy? Because I'm also in the same boat as you and unable to figure out in Strapi way possible.. @opgbaudouin Thank you. In my case, I don't need to handle ADFS. It's just SAML 2.0 (OKTA idP). I have opened a new issue to further discuss SAML integration in Strapi. Let's discuss there if you are interested.. ",
    "TechupBusiness": "+1 for SAML provider. https://github.com/simov/grant only supports OAuth provider.. +1 for field level permissions. This is an very important feature when it comes to complex backend applications.. @lauriejim We would appreciate if you add passport js support, this would allow also other login providers besides just OAuth .... ",
    "richardscarrott": "Do you know when graphql mutations are likely to land if at all?. ",
    "rdisabato": "must-to-have i think. ",
    "wyamout": "@Aurelsicoko hope this will be coming soon, being able to have a customized cms is why many users choosing to move away from wordpress.. Yep my client already complaining about the editor as it's unfriendly for non-tech staffs that are just writers, I guess they got used to wordpress. I tried iframes they didnt work also. Any idea how to add iframes to posts for example?. > Maybe @soupette can give you some insights?\n\n@wyamout What's the real issue with the current editor? Is this due to markdown? Or something else?\n\n@Aurelsicoko Yes the whole bullets, numbering are kinda annoying. Basically all my 17 editors started complaining I gave them a go at froala they liked it so I will replace draft with froala.\nBasically as editors they need more flexibility with creating content moving things around etc... ",
    "dsibaja-dnamyc": "Wow when is this coming out?. But are we still gonna get and admin way to add enum types? because that would be so neat.. ",
    "changalberto": "I'm having similar issue with Facebook Auth. In my case I'm consitently getting {\"statusCode\":400,\"error\":\"Bad Request\",\"message\":[{\"messages\":[{\"id\":\"Auth.form.error.email.taken\"}]}]}. I'm not 100% sure this is related.. @lauriejim yes, I made certain that the emails that I'm using are not already registered. The issue might be what @HorvathDavid described above.. @HorvathDavid what is the state of this issue? Did you submit a PR for your fix yet =)?\nI was hoping this fix would get pushed along with the alpha 12 release... But I guess not yet.... ",
    "HorvathDavid": "Thank for the answer! @lauriejim \nIn my case, - I believe the Facebook provider struggling with similar issue, there is no registered user on the mail address. Fresh registration. The problem with the line which I marked in my  previous comment:\nhttps://github.com/strapi/strapi/blob/479ab61b6b9e9aabd7a3a83c38e2f47e2bba5539/packages/strapi-plugin-users-permissions/services/Providers.js#L69\nNow I know the second part of the condition is a configuration thing:\nadvanced.unique_email\nThe first part should be this:\n!_.isEmpty(_.find(users, user => user.provider === provider)\nInstead of this:\n!_.isEmpty(_.find(users, user => user.provider !== provider). Hi @lauriejim ,\nI have made a PR, but disabled it due to I found another related bug.\nThe bug is when we query the user. I marked the line below:\nhttps://github.com/strapi/strapi/blob/479ab61b6b9e9aabd7a3a83c38e2f47e2bba5539/packages/strapi-plugin-users-permissions/services/Providers.js#L49\nThe query should look like this:\n{\n         where: {email: profile.email\n}\n        }\nI have a question regarding roles. What should be the role when the user login with Provider? In the current state the user os registered as public, should we change this to authenticated?\nThanks,\nDavid. Thanks. Now, it uses public and not the default/selected user role. I will update the code regarding.. I found another bug related to Provider login that blocks the registration flow. I will create another PR with the fixes, feel free to close this without merging.. ",
    "abhiarya-uvic": "@Aurelsicoko We had a discussion among our team members and we think that the solution you proposed seems better to rectify this issue. Hiding the _id attribute and replacing it with the id attribute looks good. Thanks so much!. ",
    "mintyPT": "Had the same issue. I don't understand the logic. How can I help?. @antipin  If I have strapi as a clone and not a node_module, you method will work fine obviously. :) But, since it's possible to override middlewares, I wanted to do it that way except it's not overriding... Not sure what I'm doing wrong, but I tried:\nsrc\n   - admin\n   (...)\n   - middlewares\n      - cors\n         - index.js (tried cors.js too instead of index.js)\nTo my understanding, this version with index.js should work.\nsrc\n   - admin\n   (...)\n   - middlewares\n      - cors.js\nI have a dump console.log at the top of the file and it never gets called. \nSo nothing is working, any ideas? . Quick update\nIf I do this,\nsrc\n   - admin\n   (...)\n   - middlewares\n      - cors2 <------\n         - index.js\nThen the middleware is loaded because it's not overriding anything. Is there a problem with overrides?. That is not a bad idea! I'll do it once I get home.. Worked! THanks!. ",
    "antipin": "@mintyPT I've temporary fixed it by adding fixCors midddleware, that looks like:\n```javascript\nmodule.exports = strapi => {\nreturn {\n/**\n * Initialize the hook\n */\ninitialize: function(next) {\n  strapi.app.use(\n    async (ctx, next) => strapi.koaMiddlewares.kcors({\n      origin: strapi.config.middleware.settings.cors.origin,\n      exposeHeaders: strapi.config.middleware.settings.cors.expose,\n      maxAge: strapi.config.middleware.settings.cors.maxAge,\n      credentials: strapi.config.middleware.settings.cors.credentials,\n      allowMethods: strapi.config.middleware.settings.cors.methods,\n      allowHeaders: strapi.config.middleware.settings.cors.headers,\n      keepHeadersOnError: strapi.config.middleware.settings.cors.keepHeadersOnError\n    })(ctx, next)\n  );\n  next();\n}\n\n};\n};\n```. You should unlist original cors middleware from  config and add your cors2\nto the list.\nOn Mon, 14 May 2018 at 08:50, mintyPT notifications@github.com wrote:\n\nQuick update\nIf I do this,\nsrc\n   - admin\n   (...)\n   - middlewares\n      - cors2 <------\n         - index.js\nThen the middleware is loaded. Is there a problem with overrides?\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\nhttps://github.com/strapi/strapi/issues/914#issuecomment-388714103, or mute\nthe thread\nhttps://github.com/notifications/unsubscribe-auth/AAYnMkz6oPaSQ2XEE2nG21VjhI3IUJ6uks5tySlQgaJpZM4TLufI\n.\n-- \n\nBest regards, Alexander\n\nlinkedin.com/in/alexantipin https://ru.linkedin.com/in/alexantipin\nalex@antipin.com\nskype: alex_antipin\n. ",
    "alexdevmotion": "Replacing\norigin: '*',\nwith\norigin: strapi.config.middleware.settings.cors.origin,\nin node_modules/strapi/lib/middlewares/cors/index.js\nfixed the issue for me also.. ",
    "fatifleu": "can someone explain to me how to use strapi in my angular app i have the same problem but i cant find the solution. ",
    "lvnilesh": "Whats the best practice to manage CORS and CORB on strapi server in production? Appreciate a link to doc. Thanks.. ",
    "astewes": "The tags will be hyperlinked. Would this involve a Relation field with many to many?. @lauriejim I was just answering a question posed by @oeddyo -- if an article has tags associated with it, the tag list would appear underneath the article title.\nEach of these tags would contain a link to the tag template page, where all articles with that tag would be displayed.\nHopefully this clarifies what I meant, but let me know if you need additional info. . @oeddyo to clarify, do you mean a one to many relationship? In the Edit Relation overlay, would i put \"tag\" on the left input, and \"articles\" in the right input?. ",
    "harwinvoid": "I know what happend to this. the request in backend take two steps, the first step is getPlugins, which address is blocked by Chinese GFW. so the request is timeout.\n```\ngetPlugins: (plugin, lang = 'en') => {\n    return new Promise((resolve, reject) => {\n      // request({\n      //   uri: https://marketplace.strapi.io/plugins?lang=${lang},\n      //   json: true,\n      //   headers: {\n      //     'cache-control': 'max-age=3600'\n      //   }\n      // }, (err, response, body) => {\n      //   if (err) {\n      //     return reject(err);\n      //   }\n  //   resolve(body);\n  // });\n  const data = [\n    {\n      \"description\": {\n        \"short\": \"Quick way to see, edit and delete the data in your database.\",\n        \"long\": \"Quick way to see, edit and delete the data in your database.\"\n      },\n      \"id\": \"content-manager\",\n      \"icon\": \"plug\",\n      \"logo\": \"https://raw.githubusercontent.com/strapi/strapi/master/packages/strapi-plugin-content-manager/admin/src/assets/images/logo.svg?sanitize=true\",\n      \"isCompatible\": true,\n      \"name\": \"Content Manager\",\n      \"price\": 0,\n      \"ratings\": 5\n    },\n    {\n      \"description\": {\n        \"short\": \"Protect your API with a full authentication process based on JWT\",\n        \"long\": \"Protect your API with a full authentication process based on JWT. This plugin comes also with an ACL strategy that allows you to manage the permissions between the groups of users.\"\n      },\n      \"id\": \"users-permissions\",\n      \"icon\": \"users\",\n      \"logo\": \"https://raw.githubusercontent.com/strapi/strapi/master/packages/strapi-plugin-users-permissions/admin/src/assets/images/logo.svg?sanitize=true\",\n      \"isCompatible\": true,\n      \"name\": \"Roles & Permissions\",\n      \"price\": 0,\n      \"ratings\": 5\n    },\n    {\n      \"description\": {\n        \"short\": \"Modelize the data structure of your API.\",\n        \"long\": \"Modelize the data structure of your API. Create new fields and relations in just a minute. The files are automatically created and updated in your project.\"\n      },\n      \"id\": \"content-type-builder\",\n      \"icon\": \"paint-brush\",\n      \"logo\": \"https://raw.githubusercontent.com/strapi/strapi/master/packages/strapi-plugin-content-type-builder/admin/src/assets/images/logo.svg?sanitize=true\",\n      \"isCompatible\": true,\n      \"name\": \"Content Type Builder\",\n      \"price\": 0,\n      \"ratings\": 5\n    },\n    {\n      \"description\": {\n        \"short\": \"Configure your project within seconds.\",\n        \"long\": \"Configure your project within seconds.\"\n      },\n      \"id\": \"settings-manager\",\n      \"icon\": \"wrench\",\n      \"logo\": \"https://raw.githubusercontent.com/strapi/strapi/master/packages/strapi-plugin-settings-manager/admin/src/assets/images/logo.svg?sanitize=true\",\n      \"isCompatible\": true,\n      \"name\": \"Settings Manager\",\n      \"price\": 0,\n      \"ratings\": 5\n    },\n    {\n      \"description\": {\n        \"short\": \"Discover your metrics in real time.\",\n        \"long\": \"Discover your metrics in real time with no efforts.\"\n      },\n      \"id\": \"analytics\",\n      \"icon\": \"area-chart\",\n      \"logo\": \"https://raw.githubusercontent.com/strapi/strapi-plugin-analytics/master/admin/src/assets/images/logo.svg?sanitize=true\",\n      \"isCompatible\": true,\n      \"name\": \"Analytics\",\n      \"price\": 0,\n      \"ratings\": 5\n    },\n    {\n      \"description\": {\n        \"short\": \"Send emails.\",\n        \"long\": \"Send emails.\"\n      },\n      \"id\": \"email\",\n      \"icon\": \"paper-plane\",\n      \"logo\": \"https://raw.githubusercontent.com/strapi/strapi/master/packages/strapi-plugin-email/admin/src/assets/images/logo.svg?sanitize=true\",\n      \"isCompatible\": true,\n      \"name\": \"Email\",\n      \"price\": 0,\n      \"ratings\": 5\n    }\n  ]\n  resolve(data)\n});\n\n```. Sorry to reply so late. I  guess you can put this request at frontend rather than backend. . ",
    "NoahHahm": "@lauriejim Register the one of the image, enter the post again and press the correction button, the image has been disconnected. Verification please.. @lauriejim based on the modified #825(#0b0ea75) source code\nvideo_record.zip\n. @Aurelsicoko thank you.. the same is true if you try with an empty object.. ",
    "madonzy": "did you also fixed it in 3.0.0-alpha.13.1 ? Because I have the same problem!. it still doesn't work for PRODUCTION installation!. It could be great if it will be possible to create it dynamically, for example, using JSON configuration :). Ok, guys, I just did as in PR, and it works, but I'm sure it'll be removed after strapi next update, so, how can I implement this so that after the upgrade I'll still have my configuration fields?. @lauriejim ? @derrickmehaffy ? maybe you guys can tell something?. Ok, thanks, hope to see this feature soon :). @derrickmehaffy Really? So let's say if I want to override logic to send mail after Content Type item was saved I must override the core files?. ",
    "BroTrue": "Got same problem. Create OneToOne relation between users(default) and myContentType. After updating any information at myContentType, relation gone... any ideas? its looks like bug.. Should I create new issue ? . But when I create relation 1to1 between myContentType and myContentType2, all is fine!. @Aurelsicoko Is it already available?. Hi guys. Do I need to create 'strapi-helper-plugin' to fix that bug with pencil? . I try to follow this instuction but got this error\n```\n\nnode ./node_modules/strapi-helper-plugin/node_modules/.bin/cross-env NODE_ENV=development PORT=4000 IS_ADMIN=true node ./node_modules/strapi-helper-plugin/lib/internals/scripts/loadAdminConfigurations.js\n\nE:\\Work\\strapi_dev\\strapi\\packages\\strapi-helper-plugin\\node_modules.bin\\cross-env:2\nbasedir=$(dirname \"$(echo \"$0\" | sed -e 's,\\,/,g')\")\n          ^^^^^^^\nSyntaxError: missing ) after argument list\n    at createScript (vm.js:80:10)\n    at Object.runInThisContext (vm.js:139:10)\n    at Module._compile (module.js:599:28)\n    at Object.Module._extensions..js (module.js:646:10)\n    at Module.load (module.js:554:32)\n    at tryModuleLoad (module.js:497:12)\n    at Function.Module._load (module.js:489:3)\n    at Function.Module.runMain (module.js:676:10)\n    at startup (bootstrap_node.js:187:16)\n    at bootstrap_node.js:608:3\nnpm ERR! code ELIFECYCLE\nnpm ERR! errno 1\nnpm ERR! strapi-admin@3.0.0-alpha.12.2 prestart: node ./node_modules/strapi-helper-plugin/node_modules/.bin/cross-env NODE_ENV=development PORT=4000 IS_ADMIN=true node ./node_modules/strapi-helper-plugin/lib/internals/scripts/loadAdminConfigurations.js\nnpm ERR! Exit status 1\nnpm ERR!\nnpm ERR! Failed at the strapi-admin@3.0.0-alpha.12.2 prestart script.\nnpm ERR! This is probably not a problem with npm. There is likely additional logging output above.\nnpm ERR! A complete log of this run can be found in:\n```\nCan someone help me?. owww thanks , well I got ubuntu also. I will try it :). Well for big projects anyway is needed linux/macos... windows is too...\nFrom the road map I wait for this feature \n\"Plugin - Content Internalization\nTranslate the content of your API in any language, from the admin panel.\"\nOr i will try to do by myself... we will see.\nthank you for quick reply!. Got the same problem. I already try to create clean db, make such sturcture\nproducts\n--title\n--logo\ncontact\n--name\n--surname\nand relation between them many -to-many\nwhen I try it on http://localhost:1337/playgroundquery with where: {} its give me  Cannot convert object to primitive value\n. @maru3l can I take a look? some exaples etc.? it will be great if you can :). Maybe Strapi Team can tell us ,when it will be developed?  ;). @soupette Thanks for help, its working!. Models ( it was autogenereted)!\n`api/page/models/Page.settings.json/\n{\n  \"connection\": \"default\",\n  \"collectionName\": \"page\",\n  \"info\": {\n    \"name\": \"page\",\n    \"description\": \"\"\n  },\n  \"options\": {\n    \"timestamps\": true\n  },\n  \"attributes\": {\n    \"title\": {\n      \"type\": \"string\"\n    },\n    \"products\": {\n      \"collection\": \"product\",\n      \"via\": \"pages\",\n      \"dominant\": true\n    }\n  }\n}\napi/product/models/Product.settings.json/\n{\n  \"connection\": \"default\",\n  \"collectionName\": \"\",\n  \"info\": {\n    \"name\": \"product\",\n    \"description\": \"\"\n  },\n  \"options\": {\n    \"timestamps\": true\n  },\n  \"attributes\": {\n    \"title\": {\n      \"type\": \"string\"\n    },\n    \"pages\": {\n      \"collection\": \"page\",\n      \"via\": \"products\"\n    }\n  }\n}. same error. @derrickmehaffy owwww that nice, maybe you can give me date when this PR will available?\nBut the way, I will finish my small project soon and as a sign of gratitude to StrapiTeam ( that help me a lot) I can prepare tutorial with example such project as my. :). @soupette yes ofc, do you need clean one (that is on gif) or project where I made migration ?. @agni21 Yes,  I will create new issue with full info soon.. #2424. @soupette thank you for answering. I've removed resetPasswordToken by myself. And create totally clean project +drop db.\nNow I got like this:\n1. No ssl\n{\n  \"confirmed\": true,\n  \"blocked\": false,\n  \"_id\": \"5c051d6e7879dc5141e370ab\",\n  \"username\": \"admin\",\n \"password\": \"$2a$10$hNouNJck9DBtwbGzUdXDd.LKpuxyLTyTRJhQNaW.Lp5aRAPqhEvtq\",\n  \"email\": \"test@gmail.com\",\n  \"provider\": \"local\",\n  \"role\": {\n    \"_id\": \"5c051d567879dc5141e36fc7\",\n    \"name\": \"Administrator\",\n    \"description\": \"These users have all access in the project.\",\n    \"type\": \"root\",\n    \"__v\": 0,\n    \"permissions\": null,\n    \"users\": null,\n    \"id\": \"5c051d567879dc5141e36fc7\"\n  },\n  \"__v\": 0,\n  \"id\": \"5c051d6e7879dc5141e370ab\"\n} \n2. with ssl\n{\n  \"confirmed\": true,\n  \"blocked\": false,\n  \"_id\": \"5c051d6e7879dc5141e370ab\",\n  \"username\": \"admin\",\n  \"email\": \"test@gmail.com\",\n  \"provider\": \"local\",\n  \"role\": {\n    \"_id\": \"5c051d567879dc5141e36fc7\",\n    \"name\": \"Administrator\",\n    \"description\": \"These users have all access in the project.\",\n    \"type\": \"root\",\n    \"__v\": 0,\n    \"permissions\": null,\n    \"users\": null,\n    \"id\": \"5c051d567879dc5141e36fc7\"\n  },\n  \"__v\": 0,\n  \"id\": \"5c051d6e7879dc5141e370ab\"\n}\nNow difference is: no password field with ssl. Maybe you need more info (db collections etc.)?. Owwww In my opinion, the reason is here \\plugins\\users-permissions\\models\\User.settings.json\n\"password\": {\n      \"type\": \"password\",\n      \"minLength\": 6,\n      \"configurable\": false,\n      \"private\": true\n    },\nand after proxy its doesn't send password ( like /user/me )\n:). @soupette no, I got the same problem at v14.0, v14.5 and now at v15.0. Yes I create new project, with clean db. I got  apache with ssl and with proxy like this: \n```\n\n    ServerName mysite.com\n    ServerAdmin admin@gmail.com\n    Redirect permanent / https://mysite.com/\n    CustomLog ${APACHE_LOG_DIR}/mysite-access.log combined\n        ErrorLog ${APACHE_LOG_DIR}/mysite-error.log\n\n\n        ServerName mysite.com\n        ServerAdmin admin@gmail.com\nProxyPass /content http://127.0.0.1:1337\nProxyPassReverse /content http://127.0.0.1:1337\nProxyPass /admin http://127.0.0.1:1337/admin\nProxyPassReverse /admin http://127.0.0.1:1337/admin\nProxyPass /settings-manager http://127.0.0.1:1337/settings-manager\nProxyPassReverse /settings-manager http://127.0.0.1:1337/settings-manager\nProxyPass /content-manager http://127.0.0.1:1337/content-manager\nProxyPassReverse /content-manager http://127.0.0.1:1337/content-manager\nProxyPass /upload/ http://127.0.0.1:1337/upload/\nProxyPassReverse /upload/ http://127.0.0.1:1337/upload/\nProxyPass /auth http://127.0.0.1:1337/auth\nProxyPassReverse /auth http://127.0.0.1:1337/auth\nProxyPass /content-type-builder http://127.0.0.1:1337/content-type-builder\nProxyPassReverse /content-type-builder http://127.0.0.1:1337/content-type-builder\nProxyPass /users-permissions http://127.0.0.1:1337/users-permissions\nProxyPassReverse /users-permissions http://127.0.0.1:1337/users-permissions\n#ProxyPass /plugins http://127.0.0.1:1337/plugins\n    #ProxyPassReverse /plugins http://127.0.0.1:1337/plugins\n\n    ProxyPass / http://127.0.0.1:8081/\n    ProxyPassReverse / http://127.0.0.1:8081/\n    ProxyPreserveHost off\n\n#LogLevel debug\n    CustomLog ${APACHE_LOG_DIR}/mysite-access.log combined\n    ErrorLog ${APACHE_LOG_DIR}/mysite-error.log\nSSLEngine on\nSSLCertificateFile /etc/apache2/ssl/mysite.crt\n    SSLCertificateKeyFile /etc/apache2/ssl/mysite.key\n    SSLCACertificateFile /etc/apache2/ssl/intermediate.crt\n\n\n``\nWith suchproxy` strapi app http://127.0.0.1:1337/admin is available under https://mysite.com/admin.\nWhen I'm trying to edit User from http://127.0.0.1:1337/admin - everything is ok. \nWhen I'm trying to edit User from  https://mysite.com/admin - got this bug. \nIn my opinion, the problem is in password field which is \"private\": true. \nIf I understand correctly:\n1) when you hit endpoint /user/me - in response you have all data about User but no password  ( because of  \"private\": true)\n2) when you entering to User through  admin panel - you get the same data like in (1)  + password field ( because you are in admin panel)\n3) when you entering to User through  admin panel + proxy and ssl - - you get same date like in (1) without password and UI says Cannot read property 'type' of undefined\nI don't wanna delete this private: true - its very important and I understand this. I just wanna fix this. I can send you also Response Headers, Request Headers , if it will be useful? But I dont see there important differences. . @soupette I have checked Request Headers with ssl and I found there X-Forwarded-Host: strapi.\nHere is full Request Headers: \n1) with ssl \nAccept: */*\nAccept-Encoding: gzip, deflate, br\nAccept-Language: en,fr;q=0.9,ru;q=0.8,pl;q=0.7,en-US;q=0.6,uk;q=0.5\nAuthorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI1Yjg5MzI4ZTc4MzZmOTRjOWZkMDIzMTEiLCJpZCI6IjViODkzMjhlNzgzNmY5NGM5ZmQwMjMxMSIsImlhdCI6MTU0MjkxOTczNywiZXhwIjoxNTQ1NTExNzM3fQ.8Dg7QHZr28Sfc-isvDdgtZUf8EKyHLbUCZrkizXYKBo\nConnection: keep-alive\nContent-Type: application/json\nCookie: auth.strategy=local; auth._token.local=false; _ga=GA1.2.648763560.1543933405; _gid=GA1.2.1290014567.1543933405; _gat=1\nHost: mysite.com\nReferer: https://mysite.com/admin/plugins/content-manager/user/5bb63803b71b2146b2cf8f36?redirectUrl=/plugins/content-manager/user?_limit=10&_page=1&_sort=username&source=users-permissions\nUser-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/70.0.3538.110 Safari/537.36\nX-Forwarded-Host: strapi\n2) no SSL\nAccept: */*\nAccept-Encoding: gzip, deflate\nAccept-Language: en,fr;q=0.9,ru;q=0.8,pl;q=0.7,en-US;q=0.6,uk;q=0.5\nAuthorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI1Yjg5MzI4ZTc4MzZmOTRjOWZkMDIzMTEiLCJpZCI6IjViODkzMjhlNzgzNmY5NGM5ZmQwMjMxMSIsImlhdCI6MTU0Mzk2MTc1NCwiZXhwIjoxNTQ2NTUzNzU0fQ.B-hocw8-wMJmVPm32-d6N5CNYydIlcLC2XOSEuBhO4c\nConnection: keep-alive\nContent-Type: application/json\nCookie: _ga=GA1.2.1334692033.1543961743; _gid=GA1.2.36711495.1543961743; _gat=1\nHost: mysite.com:1337\nReferer: http://mysite.com:1337/admin/plugins/content-manager/user/5bb63803b71b2146b2cf8f36?redirectUrl=/plugins/content-manager/user?_limit=10&_page=1&_sort=username&source=users-permissions\nUser-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/70.0.3538.110 Safari/537.36\nX-Forwarded-Host: strapi. @ron-edison for Apache2 I solved problem adding to my config this\nProxyAddHeaders Off\n. I think we can close this issue. Above You can find solutions for Nginx and Apache :). @lauriejim documentation is pretty weak there. Maybe I can get more infomation how configurate that provider? (strapi-email-nodemailer). Thanks a lot \ud83d\udc4d . ",
    "Tansito": "I am having the same problem here. It would be great to unify the paths of the different providers.. Going more in depth with the issue I found a curious scenario. If you use the Users API to retrieve the users data (GET /users or GET /users/:_id) the original issue persists, example:\n{\n  \"_id\": \"5c5c7f5eb228c600547cb05e\",\n  ...\n  \"provider\": \"google\"\n  ...\n}\nBut If the user's data comes from the relation between users and other model it comes with the id, example:\n{\n  \"identifier\": 2,\n  \"users\": [\n    {\n      \"_id\": \"5c5c7f5eb228c600547cb05e\",\n       .....\n      \"provider\": \"google\",\n      \"role\": \"5c4a494e414922005bca9ed3\",\n      \"__v\": 0,\n      ........\n      \"id\": \"5c5c7f5eb228c600547cb05e\"\n    }\n  ]\n}\nI hope this helps a bit.. How this is blocking us a bit right now do you have some kind of recommendation or work-around? We can modify the table user-permissions-permission directly but I don't know If you recommend this (taking into account the problem, of course).. ",
    "donking13": "Same here, I check my facebook login settings and it says there that I can only use http as a callback. I also observered there that https and strict mode are on by default.  . ",
    "jrodriguesimg": "I don't quite follow why this issue is colsed. How does the documentation to create a new login provider solves the issue of a wrong redirect_uri being generated by an already existing provider?. I also have problems with the facebook provider. The redirect_uri sent to facebook uses http instead of the obligatory https. Should I create a different issue?. same here using https://github.com/strapi/strapi-docker. I tried just hard coding https so that facebook accepts the request_uri, but it will trigger another error down the line in the plugins/users-permissions/services/Providers.js. More specifically in the following lines:\nconst users = await strapi.query('user', 'users-permissions').find({\n          where: {\n            email: profile.email\n          }\n});\nIt will throw an object as error that is caught and passed to the reject function. The error object is empty so I have no idea for what might be the cause.. Well... with that fix the server does not have an internal error. Still the response is 400. How can I set loggers to show what's wrong with my request?\nIn the dev environment, my request.json is setting the logger to debug however I can only see the request path and nothing more.\n[2018-09-03T14:04:11.304Z] debug POST /auth/local/register (273 ms)\n[2018-09-03T14:17:16.132Z] debug POST /auth/local/register (134 ms)\n\"logger\": {\n    \"level\": \"debug\",\n    \"exposeInContext\": true,\n    \"requests\": true\n  }\n. Oh. The fetch was giving me an absurd response object. With Postman I got this:\n{\n    \"statusCode\": 400,\n    \"error\": \"Bad Request\",\n    \"message\": \"Please provide your password.\"\n}\nAs you can see in the postman window, I'm setting the password.\n\n. @lauriejim I looked into the git blame for the line you changed. Before your fix, that code remained unchanged for 8 months. Some one must have tried to use the register by email since then. I'm I using the wrong release. Which version should I be using?. ups. my bad. I set the body to form-data instead of raw json. With json it works.. @lauriejim do you know what might have caused the bug to me but not to others?. ",
    "paulo-santos": "This commit https://github.com/strapi/strapi/commit/bf4fa666ece518b0615c9b4109e5fda763c67c0f#diff-cf12192cf9fe81277ba65045cf38852d introduced bug #883 again \nBoolean('false') is true. ",
    "sejersbol": "Thanks for your reply. I tried to remove some plugins and it worked, no problems. However if I want to remove the \"Roles & Permissions\" plugin, so that the \"superusers\" can't change roles and permissions they can't login. Hmmm...\nAnother thing, would it be possible to have two different admin panels running? One that is minimal and one that gives more options/access?. OK, thank you for the answer.. ",
    "declantyson": "Getting set up for the first time, noticed that the getting started docs show _order as the parameter for sorting, whereas the filters docs list it as _sort.. ",
    "lddd": "\nPlease can you use the issue template, we need to know you node, npm, strapi version and if you are using mongo or sql database.\n\nHey! I am using latest technologies following the starter docs at Strapi.io\nSorry if this might not be the right place for some general questions. I just could not find any other general support forum or discussion group.\nCould you also tell me whats the main difference between Strapi.io compared to Express.js? Also is there some way to document single API routes/models similar to what Swagger is doing. \nbest,\nRoman\n. ",
    "ulaDEVEL": "@storm1er That's exactly what I meant. But I want to use my family language. > Are you using SQL database ? What is the Strapi version you use ?\nNo i use Mongo\n\nWhat is the Strapi version you use ?\n\nv3.0.0-alpha.11.3\nExample:\nI have model called \"Samochod\" which means \"Car\" in Polish. In stapi admin on left menu my model display like this \"Samochods\" and I do not want to have this extra s.\n. ",
    "Makeyko": "Hi! Everything that I found \u2014 translated, so you are welcome to start checking when it will be handy for you. if something pls write me, I am in touch ;). ",
    "JonasJustus": "script: wget -qO - https://strapi.io/install.sh | sudo -E bash && source ~/.bashrc \nfrom here: https://blog.strapi.io/how-to-deploy-a-strapi-application/\nFile path: /home/user/Project(Strapi Project)/public/\n. It was my fault. The error was in my code, had still a localhost in it :(\nThanks for your help guys\nSolved. ",
    "breinkober": "I was wondering because it is not installed by default (for me atleast). The other plugins have the label \"already installed\" but the permissions plugin is not.\nOh wait. I remember an error while the installation...\n[2018-04-17T08:16:24.782Z] error An error occurred during users-permissions plugin installation.\n[2018-04-17T08:16:24.783Z] error Command failed: node /usr/local/lib/node_modules/strapi/bin/strapi.js install users-permissions \nEDIT:\nEven it was not installed (in the AdminPanel) i was able to uninstall and reinstall it via command line.\n. I just made a new test project and everything worked fine.. ",
    "hbakhtiyor": "@lauriejim \ni've the same issue while creating new project with fresh strapi installed,\n[2018-05-14T13:11:45.008Z] error An error occurred during users-permissions plugin installation.\n[2018-05-14T13:11:45.038Z] error Command failed: node /usr/lib/node_modules/strapi/bin/strapi.js install users-permissions. would be nice to see in strapi. didn't get any errors, just the executable file doesn't exists. ",
    "Defozo": "Can we reopen the issue? I'm experiencing the same problem.. Okay, I set up a new project and it's working fine with MongoDB. Thank you. Though I still don't know why it wasn't working alright in the first place.. ",
    "maciekkus": "@lauriejim \nHi, recently I got that error also\n[2018-11-14T15:34:41.550Z] debug Moving the node_modules/strapi-plugin-user-permissions folder to the ./plugins folder.\n[2018-11-14T15:34:41.626Z] error An error occurred during plugin installation.\nI've checked the content of plugins dir, and this plugin exists, but not all files were copied.\nthere is no \"services\" directory.\nthe same issue is with upload plugin\n. @lauriejim \nHi, created an issue, but then found out this one: https://github.com/strapi/strapi/issues/1866\nwhich is about the same thing.. ",
    "ShankyRana": "Thanks.. ",
    "samawong": "Do I have to manually create the table myself? If it is necessary, then there is no problem. Thanks!. ",
    "Lengatox": "ok, i will wait for the release.\nMaybe you could help me, to find an alternative way to execute complex nested requests? :) :+1: . Hello @lauriejim  I use Strapi CLI, but i made a test and verified that those directory doesn't exist before installation of graphql, and even after installation of the plugin. \nI'm following the official documentation, and the issue still persist: \n- https://strapi.io/documentation/3.x.x/guides/graphql.html \n. this is a copy of the file that has to be placed in the : ./api/wllogin/config/\nschema.txt(with graphql extension)\nI use to test the query that generate the graphql plugin for the model, but the complex query that i want to use it's something like this: \ngraphql- query.txt\n. \nThanks, it works with the changes that you made in the syntax, but when i try to replace the query generated by graphql, for a personalized query it tells me that  expected a \",\".\nMaybe you could help me by giving me an example of how to make a complex query and Link it to a controller action. \n.  @Aurelsicoko \nThis is an example of the query I try to execute following the guide that is in the Strapi documentation.\nI already have models and relationships created.\nmodule.exports = {\n  definition: '',\n  query:\n     'wllogins { status errorMessage form { user{ name placeholder width errorText validation } } } ',\n  type: {},\n  resolver: {\n     Query: {\n    wllogin: {\n      description: 'Return  login',\n      resolver: 'Wllogin.findByParams' // It will use the actionfindByParamslocated in theWllogin.jscontroller.\n    }\n     }\n  }\n};. Hi  @Aurelsicoko, with the changes that you recomend works great, instead if  i modify the estructure in the defined type, for example if i removed a property or a model like the Llink or Form in the graphql file the  information doesn't change.\nIt seems that always retrieve the information of a default model, but doesn't retrieve the information of the model that i define in the schema.graphql(New File in the api directory).\nMaybe i missed a configuration? \nAs alway thank for your help.. hi @Aurelsicoko, as always thanks for your help, but i tryed to execute the solution that you recomend above, just with little changes like this: \nmodule.exports = {\n    definition:\n    type Wllogin {\n      _id: String\n      created_at: String\n      updated_at: String\n      status: Boolean\n      errorMessage: String\n      button: Lbutton\n      link: Llink\n      form: Lform\n      design: Ldesign\n      terms: Lterms\n    }\n , \n    query:\n    wllogin(sort: String, limit: Int, start: Int, where: JSON): [Wllogin]\n  , \n    type: {\n        Wllogin: false\n    },\n    resolver: {\n        Query: {\n            myComplexQuery: {\n                description: 'Return  login',\n                resolver: 'Wllogin.findTest' // It will use the actionmyComplexActionlocated in theWllogin.jscontroller\n            }\n        }\n    }\n};\nIn this file: \"schema.graphql\" in the next directory: \"/home/ubuntu/dev-cms/api/wllogin/config/\" throws me the next error: \nError: Type \"Wllogin\" was defined more than once.\n    at Object.buildASTSchema (/home/ubuntu/dev-cms/plugins/graphql/node_modules/graphql/utilities/buildASTSchema.js:116:17)\n    at buildSchemaFromTypeDefinitions (/home/ubuntu/dev-cms/plugins/graphql/node_modules/graphql-tools/dist/schemaGenerator.js:182:28)\n    at _generateSchema (/home/ubuntu/dev-cms/plugins/graphql/node_modules/graphql-tools/dist/schemaGenerator.js:97:18)\n    at makeExecutableSchema (/home/ubuntu/dev-cms/plugins/graphql/node_modules/graphql-tools/dist/schemaGenerator.js:110:20)\n    at Object.generateSchema (/home/ubuntu/dev-cms/plugins/graphql/services/GraphQL.js:663:20)\n    at Function.initialize (/home/ubuntu/dev-cms/plugins/graphql/hooks/graphql/index.js:101:62)\n    at /home/ubuntu/dev-cms/node_modules/strapi/lib/hooks/index.js:21:31\n    at after (/home/ubuntu/dev-cms/node_modules/strapi/lib/hooks/index.js:127:39)\n    at /home/ubuntu/dev-cms/node_modules/lodash/lodash.js:9989:23\n    at Strapi.once (/home/ubuntu/dev-cms/node_modules/strapi/lib/hooks/index.js:138:17)\n    at Object.onceWrapper (events.js:313:30)\n    at emitNone (events.js:106:13)\n    at Strapi.emit (events.js:208:7)\n    at loadedModule.initialize.call.err (/home/ubuntu/dev-cms/node_modules/strapi/lib/hooks/index.js:34:14)\n    at NativeConnection.instance.connection.on (/home/ubuntu/dev-cms/node_modules/strapi-mongoose/lib/index.js:420:11)\n    at emitNone (events.js:106:13)\n    at NativeConnection.emit (events.js:208:7)\n    at /home/ubuntu/dev-cms/node_modules/mongoose/lib/connection.js:476:13\n    at result (/home/ubuntu/dev-cms/node_modules/mongodb/lib/utils.js:414:17)\n    at executeCallback (/home/ubuntu/dev-cms/node_modules/mongodb/lib/utils.js:406:9)\n    at /home/ubuntu/dev-cms/node_modules/mongodb/lib/mongo_client.js:273:5\n    at connectCallback (/home/ubuntu/dev-cms/node_modules/mongodb/lib/mongo_client.js:955:5) \nbut if a remove the \"definition type\", it seem that strapi compile but when i run my complex action in the server just shows me the information with the ID of the the others model that i have related.\nResult not expected.txt\n. ",
    "crackhopper": "@soupette yep, I have run npm run setup after cloning the repo.  It also confused me why the port is 3000.  I guess it is because:\n```\n~/proj/work/myDevelopmentProject/plugins/my-plugin/admin$ cat ../node_modules/strapi-helper-plugin/lib/server/index.js \n/ eslint consistent-return:0 /\nconst resolve = require('path').resolve;\nconst express = require('express');\nconst argv = require('minimist')(process.argv.slice(2));\nconst logger = require('./logger');\nconst setup = require('./middlewares/frontendMiddleware');\nconst app = express();\nsetup(app, {\n  outputPath: resolve(process.cwd(), 'build'),\n  publicPath: '/',\n});\n// get the intended port number, use port 3000 if not provided\nconst port = argv.port || process.env.PORT || 3000;\n// Start your app.\napp.listen(port, (err) => {\n  if (err) {\n    return logger.error(err.message);\n  }\n// Print start logs.\n  logger.appStarted(port);\n});\n```\nand npm run start would only trigger:\n\"start\": \"node ./node_modules/strapi-helper-plugin/node_modules/.bin/cross-env NODE_ENV=development node ./node_modules/strapi-helper-plugin/lib/server\",. I have also tried to log out the webpack configuration, it is listed partly as below:\n```\n....\n\"module\": {\n    \"loaders\": [\n      {\n        \"test\": {},\n        \"use\": {\n          \"loader\": \"babel-loader\",\n          \"options\": {\n            \"presets\": [\n              [\n                \"/home/crackhopper/proj/work/strapi/packages/strapi-helper-plugin/node_modules/babel-preset-env/lib/index.js\",\n                {\n                  \"es2015\": {\n                    \"modules\": false\n                  }\n                }\n              ],\n              \"/home/crackhopper/proj/work/strapi/packages/strapi-helper-plugin/node_modules/babel-preset-react/lib/index.js\",\n              \"/home/crackhopper/proj/work/strapi/packages/strapi-helper-plugin/node_modules/babel-preset-stage-0/lib/index.js\",\n              \"/home/crackhopper/proj/work/strapi/packages/strapi-helper-plugin/node_modules/babel-preset-react-hmre/index.js\"\n            ],\n            \"env\": {\n              \"production\": {\n                \"only\": [\n                  \"src\"\n                ],\n                \"plugins\": [\n                  \"/home/crackhopper/proj/work/strapi/packages/strapi-helper-plugin/node_modules/babel-plugin-transform-react-remove-prop-types/lib/index.js\",\n                  \"/home/crackhopper/proj/work/strapi/packages/strapi-helper-plugin/node_modules/babel-plugin-transform-react-constant-elements/lib/index.js\",\n                  \"/home/crackhopper/proj/work/strapi/packages/strapi-helper-plugin/node_modules/babel-plugin-transform-react-inline-elements/lib/index.js\",\n                  \"/home/crackhopper/proj/work/strapi/packages/strapi-helper-plugin/node_modules/babel-plugin-transform-es2015-destructuring/lib/index.js\",\n                  \"/home/crackhopper/proj/work/strapi/packages/strapi-helper-plugin/node_modules/babel-plugin-transform-es2015-parameters/lib/index.js\",\n                  \"/home/crackhopper/proj/work/strapi/packages/strapi-helper-plugin/node_modules/babel-plugin-transform-object-rest-spread/lib/index.js\"\n                ]\n              },\n              \"test\": {\n                \"plugins\": [\n                  \"istanbul\"\n                ]\n              }\n            }\n          }\n        },\n        \"include\": [\n          \"/home/crackhopper/proj/work/myDevelopmentProject/plugins/my-plugin/admin/src\",\n          \"/home/crackhopper/proj/work/myDevelopmentProject/plugins/my-plugin/node_modules/strapi-helper-plugin/lib/src\"\n        ]\n      },\n....\nI will track it down to figure out why it doesn't work.  and post it here. (the \"test\" entry is correct as `/\\.js$/`, because I print with `JSON.stringify`, it does not show correctly.). I guess I figure out where is the problem.  The webpack configuration is load from `strapi/packages/strapi-helper-plugin/lib/internals/webpack/webpack.base.babel.js`,  and it defines the babel-loader's include directory as\ninclude: [path.join(adminPath, 'admin', 'src')]\n        .concat(plugins.src.reduce((acc, current) => {\n          acc.push(path.resolve(appPath, 'plugins', current, 'admin', 'src'), plugins.folders[current]);\n      return acc;\n    }, []))\n        .concat([path.join(adminPath, 'node_modules', 'strapi-helper-plugin', 'lib', 'src')])\n\n```\nif I npm start from plugin's admin folder, then it would not include the myDevelopmentProject/admin folder which is a soft link to strapi/packages/strapi-admin/.\nWhen I tried to lauch npm start from myDevelopmentProject/admin, it tried to use port 4000 but blamed Cannot find module '/home/crackhopper/proj/work/strapi/packages/node_modules/strapi'. \nI think I could fix it temporarily by some hacks.\nBy the way, what is reduce-setup-monorepo, could you please give me some references, I would try.. by adding .concat([path.join(appPath, 'admin','admin','src'),path.join(appPath,'admin', 'node_modules', 'strapi-helper-plugin', 'lib', 'src')]) to the include entry, I can start up the frontend now.\nBut, another issue, the frontend page cannot retrieve the layout.  Don't know why. . ",
    "juicycleff": "Experiencing the same issue with the alpha cli. ",
    "intensr": "also experiencing permission problems and so on with yarn. ",
    "sajjad-shirazy": "the issue is because the package doesn't install dependencies right. so we have to do it manually :| :\ncd C:\\Users\\Noah\\AppData\\Local\\Yarn\\Data\\global\\node_modules\\strapi\nyarn install. Thanks @Aurelsicoko it's great, is any option for compound keys too? i mean for indexing. ffff, it's 3 days i'm facing memory out of stack on my server because of the autoPopulate.. Seems mongoose-float merged the fix of @Leo1003, but i don't can deploy yet. any idea?. > The latest release of mongoose-float is 3 years ago. Maybe someone has to ask the author to release the next version.\nit's there. thanks @Leo1003 and @Vnkitaev . seems it's working now.. ok. @derrickmehaffy done.. Thanks, @kamalbennani I didn't know it.. You are right, I missed this case for mongoose.. ",
    "Moeface": "Having the same issue.\nRunning on Windows 10 x64.\nStarting the Strapi server without the graphql plugin installed works fine, however when I install the graphql plugin and then try to start the Strapi server, I get the following error:\ndebug Server wasn't able to start properly.\n{ Error: Cannot find module 'C:\\Development\\strapireal\\node_modules\\strapi\\lib\\utils'\n    at Function.Module._resolveFilename (internal/modules/cjs/loader.js:548:15)\n    at Function.Module._load (internal/modules/cjs/loader.js:475:25)\n    at Module.require (internal/modules/cjs/loader.js:598:17)\n    at require (internal/modules/cjs/helpers.js:11:18)\n    at Function.beforeInitialize (C:\\Development\\strapireal\\plugins\\graphql\\hooks\\graphql\\index.js:24:21)\n    at Promise.all.Object.keys.map (C:\\Users\\Moe\\AppData\\Roaming\\npm\\node_modules\\strapi\\lib\\hooks\\index.js:55:47)\n    at Array.map (<anonymous>)\n    at Strapi.module.exports (C:\\Users\\Moe\\AppData\\Roaming\\npm\\node_modules\\strapi\\lib\\hooks\\index.js:46:28)\n    at Strapi.load (C:\\Users\\Moe\\AppData\\Roaming\\npm\\node_modules\\strapi\\lib\\Strapi.js:208:23)\n    at <anonymous>\n    at process._tickCallback (internal/process/next_tick.js:182:7) code: 'MODULE_NOT_FOUND' }\nUninstalling the plugin and starting the server then works again.. ",
    "gchrskgroup": "Below is a full build run. I was able to successfully create a base schema called \"Case\" with two elements [subject:string and description:text(wysiwyg)] without issue.\nI went back and attempted to create another field relationship: cases to uploads (1 to many)\n[EDIT] I have also attempted to link to other custom content types (Persona; subject:string & description:text & expression:text) after saving successfully, I go back in and try to create relationship cases to personas (1:many or 1:1) and get the same failure.\nAt this point, I got the error below:\nerrn@errn: $ strapi new test\n[2018-04-20T12:18:57.916Z] info Creating your application... It might take a few seconds.\n[2018-04-20T12:18:58.032Z] info Lets configurate the connection to your database:\n Choose your main database: MongoDB (highly recommended)\n Database name: testing\n Host: 127.0.0.1\n Port: 27017\n Username: \n Password: \n Authentication database: \n Enable SSL connection: false\n[2018-04-20T12:19:06.492Z] info Testing database connection...\n[2018-04-20T12:19:06.928Z] info The app has been connected to the database successfully!\n[2018-04-20T12:19:06.999Z] info Copying the dashboard...\n[2018-04-20T12:19:09.478Z] info Installing dependencies...\n[2018-04-20T12:19:16.114Z] info The plugin settings-manager has been successfully installed.\n[2018-04-20T12:19:21.599Z] info The plugin content-type-builder has been successfully installed.\n[2018-04-20T12:19:22.844Z] info The plugin content-manager has been successfully installed.\n[2018-04-20T12:19:28.022Z] info The plugin users-permissions has been successfully installed.\n[2018-04-20T12:19:29.777Z] info The plugin email has been successfully installed.\n[2018-04-20T12:19:32.250Z] info The plugin upload has been successfully installed.\n[2018-04-20T12:19:33.460Z] info The plugin analytics has been successfully installed.\n[2018-04-20T12:19:33.461Z] info Linking strapi dependency to the project...\n[2018-04-20T12:19:33.461Z] info Your new application test is ready at /home/errn/test.\nerrn@errn:~$ cd test\nerrn@errn:~/test$ strapi install graphql\n[2018-04-20T12:19:53.697Z] debug Installation in progress...\n[2018-04-20T12:19:53.699Z] debug Installing the plugin from npm registry.\n[2018-04-20T12:19:59.205Z] debug Plugin successfully installed from npm registry.\n[2018-04-20T12:19:59.205Z] debug Moving the node_modules/strapi-plugin-graphql folder to the ./plugins folder.\n[2018-04-20T12:19:59.210Z] info The plugin has been successfully installed.\nerrn@errn:~/test$ npm install\nnpm WARN deprecated sprintf@0.1.5: The sprintf package is deprecated in favor of sprintf-js.\n\ntest@0.1.0 postinstall /home/errn/test\nnode node_modules/strapi/lib/utils/post-install.js\n\n\ud83d\udd38  Administration Panel\n\ud83d\udce6  Installing packages...\n\u2705  Success\n\ud83d\udd38  Plugin - Analytics\n\ud83d\udce6  Installing packages...\nnpm notice created a lockfile as package-lock.json. You should commit this file.\n\u2705  Success\n\ud83d\udd38  Plugin - Content-manager\n\ud83d\udce6  Installing packages...\nnpm notice created a lockfile as package-lock.json. You should commit this file.\n\u2705  Success\n\ud83d\udd38  Plugin - Content-type-builder\n\ud83d\udce6  Installing packages...\nnpm notice created a lockfile as package-lock.json. You should commit this file.\n\u2705  Success\n\ud83d\udd38  Plugin - Email\n\ud83d\udce6  Installing packages...\nnpm notice created a lockfile as package-lock.json. You should commit this file.\n\u2705  Success\n\ud83d\udd38  Plugin - Graphql\n\ud83d\udce6  Installing packages...\nnpm notice created a lockfile as package-lock.json. You should commit this file.\nnpm WARN strapi-plugin-graphql@3.0.0-alpha.12 No repository field.\n\u2705  Success\n\ud83d\udd38  Plugin - Settings-manager\n\ud83d\udce6  Installing packages...\nnpm notice created a lockfile as package-lock.json. You should commit this file.\n\u2705  Success\n\ud83d\udd38  Plugin - Upload\n\ud83d\udce6  Installing packages...\nnpm notice created a lockfile as package-lock.json. You should commit this file.\nnpm WARN react-copy-to-clipboard@5.0.1 requires a peer of react@^15.3.0 || ^16.0.0 but none is installed. You must install peer dependencies yourself.\nnpm WARN strapi-plugin-upload@3.0.0-alpha.12 No repository field.\n\u2705  Success\n\ud83d\udd38  Plugin - Users-permissions\n\ud83d\udce6  Installing packages...\nnpm notice created a lockfile as package-lock.json. You should commit this file.\n\u2705  Success\nnpm notice created a lockfile as package-lock.json. You should commit this file.\nnpm WARN mongoose-float@1.0.2 requires a peer of mongoose@~> 4.x but none is installed. You must install peer dependencies yourself.\nnpm WARN eslint-config-airbnb@13.0.0 requires a peer of eslint-plugin-jsx-a11y@^2.2.3 but none is installed. You must install peer dependencies yourself.\nadded 364 packages in 19.835s\nerrn@errn:~/test$ strapi start\n[2018-04-20T12:21:45.954Z] info Server started in /home/errn/test\n[2018-04-20T12:21:45.955Z] info Your server is running at http://localhost:1337\n[2018-04-20T12:21:45.955Z] debug Time: Fri Apr 20 2018 08:21:45 GMT-0400 (EDT)\n[2018-04-20T12:21:45.955Z] debug Launched in: 2592 ms\n[2018-04-20T12:21:45.955Z] debug Environment: development\n[2018-04-20T12:21:45.955Z] debug Process PID: 14920\n[2018-04-20T12:21:45.955Z] debug Version: 3.0.0-alpha.12 (node v9.11.1)\n[2018-04-20T12:21:45.955Z] info To shut down your server, press  + C at any time\n[2018-04-20T12:22:09.923Z] debug GET index.html (18 ms)\n[2018-04-20T12:22:13.869Z] debug GET index.html (3 ms)\n[2018-04-20T12:22:13.900Z] debug GET plugins.json (2 ms)\n[2018-04-20T12:22:13.922Z] debug GET 1.5cbd5e7fa30f25c64d45.chunk.js (2 ms)\n[2018-04-20T12:22:13.924Z] debug GET 3.8f31fa87705d46d7e264.chunk.js (4 ms)\n[2018-04-20T12:22:13.936Z] debug GET vendor.dll.js (1 ms)\n[2018-04-20T12:22:13.981Z] debug GET main.js (2 ms)\n[2018-04-20T12:22:13.996Z] debug GET main.js (2 ms)\n[2018-04-20T12:22:14.003Z] debug GET main.js (4 ms)\n[2018-04-20T12:22:14.030Z] debug GET vendor.dll.js (4 ms)\n[2018-04-20T12:22:14.038Z] debug GET main.js (4 ms)\n[2018-04-20T12:22:14.066Z] debug GET main.js (4 ms)\n[2018-04-20T12:22:14.068Z] debug GET main.js (4 ms)\n[2018-04-20T12:22:14.069Z] debug GET main.js (3 ms)\n[2018-04-20T12:22:14.099Z] debug GET bd03a2cc277bbbc338d464e679fe9942.woff2 (8 ms)\n[2018-04-20T12:22:14.100Z] debug GET cccb897485813c7c256901dbca54ecf2.woff2 (5 ms)\n[2018-04-20T12:22:14.109Z] debug GET 8b4f872c5de19974857328d06d3fe48f.woff2 (6 ms)\n[2018-04-20T12:22:14.128Z] debug GET af7ae505a9eed503f8b8e6982036873e.woff2 (8 ms)\n[2018-04-20T12:22:14.134Z] debug GET 2ff0049a00e47b56bffc059daf9be78b.png (13 ms)\n[2018-04-20T12:22:14.136Z] debug GET 0bd35bad03d09ca61ac6cce225112e36.svg (12 ms)\n[2018-04-20T12:22:14.145Z] debug GET main.js (8 ms)\n[2018-04-20T12:22:14.147Z] debug GET 33d5f0d956f3fc30bc51f81047a2c47d.woff2 (7 ms)\n[2018-04-20T12:22:14.150Z] debug GET main.js (8 ms)\n[2018-04-20T12:22:14.584Z] debug GET /admin/gaConfig (7 ms)\n[2018-04-20T12:22:14.600Z] debug GET /admin/strapiVersion (1 ms)\n[2018-04-20T12:22:14.602Z] debug GET /admin/layout (1 ms)\n[2018-04-20T12:22:15.383Z] debug GET /content-type-builder/autoReload (8 ms)\n[2018-04-20T12:22:15.766Z] debug GET /settings-manager/autoReload (5 ms)\n[2018-04-20T12:22:16.211Z] debug GET /users-permissions/init (10 ms)\n[2018-04-20T12:22:28.398Z] debug POST /auth/local/register (194 ms)\n[2018-04-20T12:22:28.912Z] debug GET /content-type-builder/autoReload (9 ms)\n[2018-04-20T12:22:28.918Z] debug GET /settings-manager/autoReload (5 ms)\n[2018-04-20T12:22:28.972Z] debug GET /content-manager/models (6 ms)\n[2018-04-20T12:22:29.752Z] debug GET 11.cae4dd504cf4cc8f13dd.chunk.js (2 ms)\n[2018-04-20T12:22:29.764Z] debug GET ac7d0ef8528ed4230148886fe1a21b3b.png (9 ms)\n[2018-04-20T12:22:29.765Z] debug GET c9cbbdc3762c340d5d37073a54971487.woff2 (9 ms)\n[2018-04-20T12:22:29.773Z] debug GET 10.a1354e937efe6f330eaa.chunk.js (3 ms)\n[2018-04-20T12:22:29.784Z] debug GET 20001789a249c0d8d721531434ce02ba.png (5 ms)\n[2018-04-20T12:22:29.785Z] debug GET 9d15cd22252febb1667c5c1727d3d6ff.png (4 ms)\n[2018-04-20T12:22:29.785Z] debug GET 85f4e87cbdf8d922994c47a1356a856e.png (2 ms)\n[2018-04-20T12:22:29.816Z] debug GET 8.a8892b3f5cdbee9ee482.chunk.js (8 ms)\n[2018-04-20T12:22:29.816Z] debug GET 9.63da15b36a6d2134f810.chunk.js (7 ms)\n[2018-04-20T12:22:29.817Z] debug GET e89e581cc335503916d3001c717e40b2.png (6 ms)\n[2018-04-20T12:22:29.817Z] debug GET 3c2fd7a5298d52578097b7258362d751.png (4 ms)\n[2018-04-20T12:22:29.819Z] debug GET d6e16b2fbe60b5924c12d74cdcec49ec.png (5 ms)\n[2018-04-20T12:22:29.821Z] debug GET c995503babdc2069f2d5f440b36771a1.png (3 ms)\n[2018-04-20T12:22:30.060Z] debug GET 80f6811f6c30735dab68a01372d8b78f.woff2 (2 ms)\n[2018-04-20T12:22:30.072Z] debug GET 4eb103b4d12be57cb1d040ed5e162e9d.woff2 (2 ms)\n[2018-04-20T12:22:30.072Z] debug GET 7244318390cc4d36aac4a613ff42d308.woff2 (2 ms)\n[2018-04-20T12:22:30.248Z] debug GET 0faa1074c17a74a7f5e32cbe6f9d76f3.woff2 (2 ms)\n[2018-04-20T12:22:30.307Z] debug GET ada4458b361d5e72bcbd19da105afdc5.woff2 (3 ms)\n[2018-04-20T12:22:45.052Z] debug GET /graphql (5 ms)\n[2018-04-20T12:22:51.504Z] debug GET /graphiql (3 ms)\n[2018-04-20T12:22:52.026Z] debug POST /graphql? (38 ms)\n[2018-04-20T12:23:01.366Z] debug GET 2e6a10b1491e1872311c4f7a5dbc88cd.svg (3 ms)\n[2018-04-20T12:23:01.389Z] debug GET /content-type-builder/models (8 ms)\n[2018-04-20T12:23:01.391Z] debug GET /content-type-builder/connections (13 ms)\n[2018-04-20T12:23:01.429Z] debug GET 0b6bb6725576b072c5d0b02ecdd1900d.woff2 (1 ms)\n[2018-04-20T12:23:03.074Z] debug GET c6e5a6171e9789587d2e50f79a728506.svg (2 ms)\n[2018-04-20T12:23:09.488Z] debug GET /content-type-builder/connections (7 ms)\n[2018-04-20T12:23:09.493Z] debug GET /content-type-builder/checkTableExists/default/case (9 ms)\n[2018-04-20T12:23:09.513Z] debug GET 46f0461b6e19880fe446f094bbe787f4.woff2 (2 ms)\n[2018-04-20T12:23:13.635Z] debug GET 8d03c10251332dff39c92f1b3c6da998.png (2 ms)\n[2018-04-20T12:23:13.675Z] debug GET 7ca59724ab29e3e6abf18bf637033878.png (10 ms)\n[2018-04-20T12:23:13.675Z] debug GET 40057d388bc8daf7e25fd6a13ed2db85.png (8 ms)\n[2018-04-20T12:23:13.676Z] debug GET 07ec304456a98d3fafeb7236b85fe0f1.png (8 ms)\n[2018-04-20T12:23:13.679Z] debug GET 789db507d6451e3a031d3675de686bd7.png (8 ms)\n[2018-04-20T12:23:13.681Z] debug GET 732234b6a60a75b29d93c4aef48e8983.png (8 ms)\n[2018-04-20T12:23:13.686Z] debug GET 556b41d08178f0230dd63ba2769dcaa6.png (10 ms)\n[2018-04-20T12:23:13.688Z] debug GET 74e8889b803d3522029d029672228ec3.png (7 ms)\n[2018-04-20T12:23:13.689Z] debug GET adebaefba542757a12e73c391ccc5b07.png (6 ms)\n[2018-04-20T12:23:13.689Z] debug GET ff3aefd0529349e40e4817c87c620836.png (5 ms)\n[2018-04-20T12:23:19.037Z] debug GET /content-type-builder/checkTableExists/default/case (11 ms)\n[2018-04-20T12:23:29.571Z] debug GET /content-type-builder/checkTableExists/default/case (5 ms)\n[2018-04-20T12:23:42.100Z] debug GET 6f9be7693e25b1cbd3cbc815c3402a80.svg (6 ms)\n[2018-04-20T12:23:42.104Z] debug GET d508607c9c3b2e347cc55197db9cf033.svg (9 ms)\n[2018-04-20T12:23:42.105Z] debug GET 5dc7af4c72e415cfeb6e9114eee05cd5.svg (7 ms)\n[2018-04-20T12:23:42.107Z] debug GET aabf753784ebc9494f5029f7be7ed5c1.svg (6 ms)\n[2018-04-20T12:23:45.350Z] debug GET index.html (2 ms)\n[2018-04-20T12:23:45.373Z] debug GET vendor.dll.js (1 ms)\n[2018-04-20T12:23:45.379Z] debug GET main.js (2 ms)\n[2018-04-20T12:23:45.548Z] debug GET plugins.json (2 ms)\n[2018-04-20T12:23:45.596Z] debug GET 3.8f31fa87705d46d7e264.chunk.js (1 ms)\n[2018-04-20T12:23:45.599Z] debug GET /admin/gaConfig (1 ms)\n[2018-04-20T12:23:45.619Z] debug GET /admin/strapiVersion (1 ms)\n[2018-04-20T12:23:45.619Z] debug GET ac7d0ef8528ed4230148886fe1a21b3b.png (3 ms)\n[2018-04-20T12:23:45.621Z] debug GET /admin/layout (1 ms)\n[2018-04-20T12:23:45.644Z] debug GET main.js (3 ms)\n[2018-04-20T12:23:45.645Z] debug GET main.js (3 ms)\n[2018-04-20T12:23:45.649Z] debug GET main.js (3 ms)\n[2018-04-20T12:23:45.650Z] debug GET main.js (2 ms)\n[2018-04-20T12:23:45.669Z] debug GET main.js (5 ms)\n[2018-04-20T12:23:45.673Z] debug GET af7ae505a9eed503f8b8e6982036873e.woff2 (7 ms)\n[2018-04-20T12:23:45.673Z] debug GET main.js (5 ms)\n[2018-04-20T12:23:45.675Z] debug GET main.js (5 ms)\n[2018-04-20T12:23:45.685Z] debug GET c9cbbdc3762c340d5d37073a54971487.woff2 (3 ms)\n[2018-04-20T12:23:45.704Z] debug GET 7244318390cc4d36aac4a613ff42d308.woff2 (4 ms)\n[2018-04-20T12:23:45.705Z] debug GET bd03a2cc277bbbc338d464e679fe9942.woff2 (3 ms)\n[2018-04-20T12:23:45.710Z] debug GET 8b4f872c5de19974857328d06d3fe48f.woff2 (4 ms)\n[2018-04-20T12:23:45.996Z] debug GET /users-permissions/init (8 ms)\n[2018-04-20T12:23:46.074Z] debug GET /content-manager/models (6 ms)\n[2018-04-20T12:23:46.200Z] debug GET /settings-manager/autoReload (5 ms)\n[2018-04-20T12:23:46.280Z] debug GET /content-type-builder/autoReload (5 ms)\n[2018-04-20T12:23:46.464Z] debug GET /content-type-builder/connections (8 ms)\n[2018-04-20T12:23:46.474Z] debug GET /content-type-builder/models/case? (9 ms)\n[2018-04-20T12:23:46.476Z] debug GET /content-type-builder/models/case? (16 ms)\n[2018-04-20T12:23:46.481Z] debug GET 0bd35bad03d09ca61ac6cce225112e36.svg (12 ms)\n[2018-04-20T12:23:46.482Z] debug GET /content-type-builder/models (6 ms)\n[2018-04-20T12:23:46.773Z] debug GET ada4458b361d5e72bcbd19da105afdc5.woff2 (15 ms)\n[2018-04-20T12:23:46.779Z] debug GET cccb897485813c7c256901dbca54ecf2.woff2 (19 ms)\n[2018-04-20T12:23:46.780Z] debug GET 4eb103b4d12be57cb1d040ed5e162e9d.woff2 (9 ms)\n[2018-04-20T12:23:46.780Z] debug GET 80f6811f6c30735dab68a01372d8b78f.woff2 (8 ms)\n[2018-04-20T12:23:58.610Z] debug GET 1d51d8767683a24635702f720cda4e26.svg (4 ms)\n[2018-04-20T12:23:58.612Z] debug GET 1fd0db82e3fa17182807e245aa053051.svg (4 ms)\n[2018-04-20T12:24:06.422Z] debug GET /content-type-builder/models/case? (5 ms)\n[2018-04-20T12:24:12.814Z] debug GET /content-type-builder/models/case? (5 ms)\n[2018-04-20T12:24:19.039Z] debug GET 40057d388bc8daf7e25fd6a13ed2db85.png (2 ms)\n[2018-04-20T12:24:24.314Z] debug POST /content-type-builder/models/ (6 ms)\n[2018-04-20T12:24:31.777Z] debug GET /content-type-builder/models/case? (4 ms)\n[2018-04-20T12:24:31.812Z] debug GET c6e5a6171e9789587d2e50f79a728506.svg (2 ms)\n[2018-04-20T12:24:46.312Z] debug GET /content-type-builder/connections (5 ms)\n[2018-04-20T12:25:16.306Z] debug GET index.html (1 ms)\n[2018-04-20T12:25:16.325Z] debug GET vendor.dll.js (2 ms)\n[2018-04-20T12:25:16.337Z] debug GET main.js (2 ms)\n[2018-04-20T12:25:16.509Z] debug GET plugins.json (2 ms)\n[2018-04-20T12:25:16.562Z] debug GET 3.8f31fa87705d46d7e264.chunk.js (1 ms)\n[2018-04-20T12:25:16.564Z] debug GET /admin/gaConfig (1 ms)\n[2018-04-20T12:25:16.584Z] debug GET /admin/strapiVersion (1 ms)\n[2018-04-20T12:25:16.585Z] debug GET ac7d0ef8528ed4230148886fe1a21b3b.png (4 ms)\n[2018-04-20T12:25:16.587Z] debug GET /admin/layout (1 ms)\n[2018-04-20T12:25:16.594Z] debug GET main.js (2 ms)\n[2018-04-20T12:25:16.595Z] debug GET main.js (2 ms)\n[2018-04-20T12:25:16.634Z] debug GET main.js (5 ms)\n[2018-04-20T12:25:16.635Z] debug GET main.js (4 ms)\n[2018-04-20T12:25:16.636Z] debug GET main.js (4 ms)\n[2018-04-20T12:25:16.642Z] debug GET bd03a2cc277bbbc338d464e679fe9942.woff2 (5 ms)\n[2018-04-20T12:25:16.643Z] debug GET main.js (5 ms)\n[2018-04-20T12:25:16.645Z] debug GET main.js (5 ms)\n[2018-04-20T12:25:16.659Z] debug GET af7ae505a9eed503f8b8e6982036873e.woff2 (3 ms)\n[2018-04-20T12:25:16.670Z] debug GET c9cbbdc3762c340d5d37073a54971487.woff2 (2 ms)\n[2018-04-20T12:25:16.677Z] debug GET 7244318390cc4d36aac4a613ff42d308.woff2 (5 ms)\n[2018-04-20T12:25:16.762Z] debug GET 8b4f872c5de19974857328d06d3fe48f.woff2 (10 ms)\n[2018-04-20T12:25:16.858Z] debug GET /users-permissions/init (10 ms)\n[2018-04-20T12:25:17.004Z] debug GET /content-manager/models (6 ms)\n[2018-04-20T12:25:17.194Z] debug GET /settings-manager/autoReload (5 ms)\n[2018-04-20T12:25:17.270Z] debug GET /content-type-builder/autoReload (6 ms)\n[2018-04-20T12:25:17.410Z] debug GET 2e6a10b1491e1872311c4f7a5dbc88cd.svg (2 ms)\n[2018-04-20T12:25:17.419Z] debug GET /content-type-builder/connections (7 ms)\n[2018-04-20T12:25:17.423Z] debug GET /content-type-builder/models (8 ms)\n[2018-04-20T12:25:17.442Z] debug GET 0bd35bad03d09ca61ac6cce225112e36.svg (2 ms)\n[2018-04-20T12:25:17.496Z] debug GET cccb897485813c7c256901dbca54ecf2.woff2 (3 ms)\n[2018-04-20T12:25:17.497Z] debug GET 0b6bb6725576b072c5d0b02ecdd1900d.woff2 (3 ms)\n[2018-04-20T12:25:17.498Z] debug GET 80f6811f6c30735dab68a01372d8b78f.woff2 (3 ms)\n[2018-04-20T12:25:19.524Z] debug GET c6e5a6171e9789587d2e50f79a728506.svg (3 ms)\n[2018-04-20T12:25:19.565Z] debug GET ada4458b361d5e72bcbd19da105afdc5.woff2 (7 ms)\n[2018-04-20T12:25:23.777Z] debug GET /content-type-builder/connections (7 ms)\n[2018-04-20T12:25:23.783Z] debug GET /content-type-builder/checkTableExists/default/case (5 ms)\n[2018-04-20T12:25:23.787Z] debug GET 4eb103b4d12be57cb1d040ed5e162e9d.woff2 (1 ms)\n[2018-04-20T12:25:23.795Z] debug GET 46f0461b6e19880fe446f094bbe787f4.woff2 (2 ms)\n[2018-04-20T12:25:25.879Z] debug GET 8d03c10251332dff39c92f1b3c6da998.png (3 ms)\n[2018-04-20T12:25:25.880Z] debug GET 40057d388bc8daf7e25fd6a13ed2db85.png (3 ms)\n[2018-04-20T12:25:25.913Z] debug GET 7ca59724ab29e3e6abf18bf637033878.png (11 ms)\n[2018-04-20T12:25:25.915Z] debug GET 74e8889b803d3522029d029672228ec3.png (11 ms)\n[2018-04-20T12:25:25.921Z] debug GET 07ec304456a98d3fafeb7236b85fe0f1.png (15 ms)\n[2018-04-20T12:25:25.923Z] debug GET 789db507d6451e3a031d3675de686bd7.png (16 ms)\n[2018-04-20T12:25:25.926Z] debug GET 732234b6a60a75b29d93c4aef48e8983.png (13 ms)\n[2018-04-20T12:25:25.928Z] debug GET 556b41d08178f0230dd63ba2769dcaa6.png (12 ms)\n[2018-04-20T12:25:25.930Z] debug GET adebaefba542757a12e73c391ccc5b07.png (6 ms)\n[2018-04-20T12:25:25.931Z] debug GET ff3aefd0529349e40e4817c87c620836.png (5 ms)\n[2018-04-20T12:25:30.633Z] debug GET /content-type-builder/checkTableExists/default/case (5 ms)\n[2018-04-20T12:25:41.150Z] debug GET /content-type-builder/checkTableExists/default/case (5 ms)\n[2018-04-20T12:25:44.985Z] debug GET d508607c9c3b2e347cc55197db9cf033.svg (8 ms)\n[2018-04-20T12:25:44.986Z] debug GET 6f9be7693e25b1cbd3cbc815c3402a80.svg (7 ms)\n[2018-04-20T12:25:44.987Z] debug GET 5dc7af4c72e415cfeb6e9114eee05cd5.svg (7 ms)\n[2018-04-20T12:25:44.988Z] debug GET aabf753784ebc9494f5029f7be7ed5c1.svg (6 ms)\n[2018-04-20T12:25:47.743Z] debug GET index.html (5 ms)\n[2018-04-20T12:25:47.751Z] debug GET 0bd35bad03d09ca61ac6cce225112e36.svg (12 ms)\n[2018-04-20T12:25:47.877Z] debug GET plugins.json (3 ms)\n[2018-04-20T12:25:47.932Z] debug GET /admin/gaConfig (1 ms)\n[2018-04-20T12:25:47.945Z] debug GET /admin/strapiVersion (1 ms)\n[2018-04-20T12:25:47.950Z] debug GET /admin/layout (3 ms)\n[2018-04-20T12:25:48.197Z] debug GET /content-manager/models (15 ms)\n[2018-04-20T12:25:48.257Z] debug GET /content-type-builder/autoReload (5 ms)\n[2018-04-20T12:25:48.359Z] debug GET /settings-manager/autoReload (5 ms)\n[2018-04-20T12:25:48.496Z] debug GET /users-permissions/init (11 ms)\n[2018-04-20T12:25:48.621Z] debug GET /content-type-builder/connections (10 ms)\n[2018-04-20T12:25:48.624Z] debug GET /content-type-builder/models/case? (10 ms)\n[2018-04-20T12:25:48.633Z] debug GET /content-type-builder/models/case? (16 ms)\n[2018-04-20T12:25:48.635Z] debug GET 0bd35bad03d09ca61ac6cce225112e36.svg (10 ms)\n[2018-04-20T12:25:48.636Z] debug GET /content-type-builder/models (7 ms)\n[2018-04-20T12:25:56.058Z] debug GET index.html (2 ms)\n[2018-04-20T12:25:56.172Z] debug GET plugins.json (2 ms)\n[2018-04-20T12:25:56.227Z] debug GET /admin/gaConfig (1 ms)\n[2018-04-20T12:25:56.241Z] debug GET /admin/strapiVersion (1 ms)\n[2018-04-20T12:25:56.244Z] debug GET /admin/layout (2 ms)\n[2018-04-20T12:25:56.402Z] debug GET /content-manager/models (5 ms)\n[2018-04-20T12:25:56.478Z] debug GET /content-type-builder/autoReload (5 ms)\n[2018-04-20T12:25:56.586Z] debug GET /settings-manager/autoReload (4 ms)\n[2018-04-20T12:25:56.754Z] debug GET /users-permissions/init (23 ms)\n[2018-04-20T12:25:56.873Z] debug GET /content-type-builder/models (7 ms)\n[2018-04-20T12:25:56.875Z] debug GET /content-type-builder/models/case? (14 ms)\n[2018-04-20T12:25:56.876Z] debug GET /content-type-builder/connections (18 ms)\n[2018-04-20T12:26:00.545Z] debug GET /content-type-builder/connections (4 ms)\n[2018-04-20T12:26:02.314Z] debug GET c6e5a6171e9789587d2e50f79a728506.svg (2 ms)\n[2018-04-20T12:26:08.463Z] debug GET /content-type-builder/connections (8 ms)\n[2018-04-20T12:26:08.466Z] debug GET /content-type-builder/checkTableExists/default/case (7 ms)\n[2018-04-20T12:26:15.216Z] debug GET /content-type-builder/checkTableExists/default/case (5 ms)\n[2018-04-20T12:26:27.832Z] debug GET /content-type-builder/checkTableExists/default/case (5 ms)\n[2018-04-20T12:26:27.835Z] debug GET 40057d388bc8daf7e25fd6a13ed2db85.png (3 ms)\n[2018-04-20T12:26:35.915Z] debug POST /content-type-builder/models/ (70 ms)\n[2018-04-20T12:26:35.917Z] info The server is restarting\n[2018-04-20T12:26:38.795Z] info Server started in /home/errn/test\n[2018-04-20T12:26:38.797Z] info Your server is running at http://localhost:1337\n[2018-04-20T12:26:38.797Z] debug Time: Fri Apr 20 2018 08:26:38 GMT-0400 (EDT)\n[2018-04-20T12:26:38.797Z] debug Launched in: 2217 ms\n[2018-04-20T12:26:38.798Z] debug Environment: development\n[2018-04-20T12:26:38.798Z] debug Process PID: 14971\n[2018-04-20T12:26:38.798Z] debug Version: 3.0.0-alpha.12 (node v9.11.1)\n[2018-04-20T12:26:38.799Z] info To shut down your server, press  + C at any time\n[2018-04-20T12:26:58.243Z] debug GET /graphiql?query=query%0A%7B%0A%20%20Ca%0A%7D (14 ms)\n[2018-04-20T12:26:58.515Z] debug POST /graphql? (54 ms)\nError: Unauthorized\n    at Object.strapi.app.response.(anonymous function) [as unauthorized] (/home/errn/test/node_modules/strapi/lib/middlewares/boom/index.js:62:34)\n    at Object.proto.(anonymous function) [as unauthorized] (/home/errn/test/node_modules/delegates/index.js:40:31)\n    at module.exports (/home/errn/test/plugins/users-permissions/config/policies/permissions.js:42:9)\n    at \n[2018-04-20T12:27:20.609Z] debug POST /graphql? (12 ms)\n[2018-04-20T12:27:32.335Z] debug GET 8d03c10251332dff39c92f1b3c6da998.png (18 ms)\n[2018-04-20T12:27:32.336Z] debug GET 40057d388bc8daf7e25fd6a13ed2db85.png (14 ms)\n[2018-04-20T12:27:32.337Z] debug GET 07ec304456a98d3fafeb7236b85fe0f1.png (12 ms)\n[2018-04-20T12:27:32.337Z] debug GET 789db507d6451e3a031d3675de686bd7.png (11 ms)\n[2018-04-20T12:27:32.339Z] debug GET 556b41d08178f0230dd63ba2769dcaa6.png (11 ms)\n[2018-04-20T12:27:32.341Z] debug GET 732234b6a60a75b29d93c4aef48e8983.png (9 ms)\n[2018-04-20T12:27:32.351Z] debug GET 7ca59724ab29e3e6abf18bf637033878.png (9 ms)\n[2018-04-20T12:27:32.352Z] debug GET 74e8889b803d3522029d029672228ec3.png (7 ms)\n[2018-04-20T12:27:32.352Z] debug GET adebaefba542757a12e73c391ccc5b07.png (5 ms)\n[2018-04-20T12:27:32.353Z] debug GET ff3aefd0529349e40e4817c87c620836.png (4 ms)\n[2018-04-20T12:27:34.233Z] debug GET /content-type-builder/models/case? (26 ms)\n[2018-04-20T12:27:34.234Z] debug GET 6f9be7693e25b1cbd3cbc815c3402a80.svg (16 ms)\n[2018-04-20T12:27:34.235Z] debug GET d508607c9c3b2e347cc55197db9cf033.svg (15 ms)\n[2018-04-20T12:27:34.236Z] debug GET 5dc7af4c72e415cfeb6e9114eee05cd5.svg (14 ms)\n[2018-04-20T12:27:34.236Z] debug GET aabf753784ebc9494f5029f7be7ed5c1.svg (13 ms)\n[2018-04-20T12:27:42.397Z] debug GET 1fd0db82e3fa17182807e245aa053051.svg (9 ms)\n[2018-04-20T12:27:42.398Z] debug GET 1d51d8767683a24635702f720cda4e26.svg (8 ms)\n[2018-04-20T12:27:46.008Z] debug GET 639ff4090162d220beda67a9fe87a233.svg (3 ms)\n[2018-04-20T12:27:50.708Z] debug PUT /content-type-builder/models/case (13 ms)\n[2018-04-20T12:27:50.708Z] info The server is restarting\n/home/errn/test/node_modules/mongodb/lib/mongo_client.js:815\n          throw err;\n          ^\nGraphQLError: Syntax Error: Invalid number, expected digit but got: \"f\".\n    at syntaxError (/home/errn/test/plugins/graphql/node_modules/graphql/error/syntaxError.js:24:10)\n    at readDigits (/home/errn/test/plugins/graphql/node_modules/graphql/language/lexer.js:437:32)\n    at readNumber (/home/errn/test/plugins/graphql/node_modules/graphql/language/lexer.js:395:16)\n    at readToken (/home/errn/test/plugins/graphql/node_modules/graphql/language/lexer.js:293:14)\n    at Object.lookahead (/home/errn/test/plugins/graphql/node_modules/graphql/language/lexer.js:61:43)\n    at Object.advanceLexer [as advance] (/home/errn/test/plugins/graphql/node_modules/graphql/language/lexer.js:52:33)\n    at expect (/home/errn/test/plugins/graphql/node_modules/graphql/language/parser.js:1296:11)\n    at parseName (/home/errn/test/plugins/graphql/node_modules/graphql/language/parser.js:92:15)\n    at parseFieldDefinition (/home/errn/test/plugins/graphql/node_modules/graphql/language/parser.js:809:14)\n    at many (/home/errn/test/plugins/graphql/node_modules/graphql/language/parser.js:1350:16)\n    at parseFieldsDefinition (/home/errn/test/plugins/graphql/node_modules/graphql/language/parser.js:799:50)\n    at parseObjectTypeDefinition (/home/errn/test/plugins/graphql/node_modules/graphql/language/parser.js:757:16)\n    at parseTypeSystemDefinition (/home/errn/test/plugins/graphql/node_modules/graphql/language/parser.js:663:16)\n    at parseDefinition (/home/errn/test/plugins/graphql/node_modules/graphql/language/parser.js:143:16)\n    at parseDocument (/home/errn/test/plugins/graphql/node_modules/graphql/language/parser.js:110:22)\n    at Object.parse (/home/errn/test/plugins/graphql/node_modules/graphql/language/parser.js:38:10)\n    at Object.addPolymorphicUnionType (/home/errn/test/plugins/graphql/services/GraphQL.js:695:27)\n    at Object.generateSchema (/home/errn/test/plugins/graphql/services/GraphQL.js:625:58)\n    at Function.initialize (/home/errn/test/plugins/graphql/hooks/graphql/index.js:101:62)\n    at /home/errn/test/node_modules/strapi/lib/hooks/index.js:21:31\n    at after (/home/errn/test/node_modules/strapi/lib/hooks/index.js:127:39)\n    at /home/errn/test/node_modules/lodash/lodash.js:9989:23\n. ",
    "soorur": "Same bug, running also on Windows :D. Latest Chrome as well - funny thing is it only reproduces for the first entity in the permission list. ",
    "Tonours": "Hey \ud83d\udc4b !\nAfter doing some tests i was able to reproduce this bug in Chrome, Firefox, Safari and Opera.\nWhen selecting a text and choosing Header, bold, italic, or line-through, focus going at the end of the textarea.\nThis is caused by the moveFocusToEndin addContent (and addBlock) method https://github.com/strapi/strapi/blob/master/packages/strapi-plugin-content-manager/admin/src/components/Wysiwyg/index.js#L178 \nDocumentation for this method could be found in Draftjs codebase comment: https://github.com/facebook/draft-js/blob/master/src/model/immutable/EditorState.js#L328\nThe solution to this, it to replace editorState: EditorState.moveFocusToEnd(newEditorState) by newEditorState when adding bold, italic or line-through.\n. Hey @lauriejim :wave: ! \nAfter doing some tests, it appears that the isNumeric function in lib/models.js of strapi-utils package could return false positive for object.\nA workaround for this is to check that the value is not an Object.\n```js\nconst isNumeric = (value) => {\n  return !_.isObject(value) && !isNaN(parseFloat(value)) && isFinite(value);\n};\n````\nAfter this update, you will be able to perform where requests.\nLet me know if you want that i open a PR for this.\n. @lauriejim Hey ! I can do a PR at the end of the week . Hey @jbergstroem and @soupette \ud83d\udc4b \nI've made a quick fix for this.\nHere is the result of rendering: \n\n. Hey \ud83d\udc4b !\nThis bug is caused by a setState with the updated WYSIWYG which is made just before the sendData invoke.\nAnd like the state is updated before calling sendData method current textarea state is equal to the editorState content which is passed in parameter of sendData and we are kicked out of the method by this if statement https://github.com/strapi/strapi/blob/master/packages/strapi-plugin-content-manager/admin/src/components/Wysiwyg/index.js#L570\nA PR has been created for this \u270c\ufe0f \n. Hey @fpetrouchka and @lauriejim \ud83d\udc4b \nThe error of model name with whitespaces occure when you are submitting your form by hitting enter instead of clicking on save button.\nIt's happening because the model name is camelCased only when the handleBlur function of the Input (cf: https://github.com/strapi/strapi/blob/master/packages/strapi-plugin-content-type-builder/admin/src/containers/Form/index.js#L379) \nHere is a screenshot of example model name object which is produced when user hit enter instead of clicking on save\n\nI've create a PR for this: https://github.com/strapi/strapi/pull/1970\n. @hinsxd @soupette it seems that this is due to UTC format which is lost when we re-format date value passed to redux action changeData.\n. @lauriejim Hey ! Good Catch,  i have only test with MongoDB, if you have time (no joke here) you could test, otherwise i'll do it at the end of the day . @lauriejim Hey ! What is the format expected by MySQL database ? \nConcerning the issue, when the date is going to editPage container the format is changed to value = moment(e.target.value).format('YYYY-MM-DD HH:mm:ss'); (https://github.com/strapi/strapi/pull/1997/commits/eb4689dff7b7cb34a1146d295bf5ee6536fd1985#diff-a1018c08b7910d0259b23d23ec7a9fb9L230).\nThis format update remove the utc: true of the moment object.\nWhen the component InputDate is updated he tries to reformat this value with UTC format cf: (https://github.com/strapi/strapi/blob/3fbf183591c48d2a32754a52e59e989788e9e903/packages/strapi-helper-plugin/lib/src/components/InputDate/index.js#L54) which create some weird value,\nin my case i'm UTC-4 and at each update the component was added 4 to my hour value.\nAn other solution for this would be to remove utc={true} in https://github.com/strapi/strapi/blob/3fbf183591c48d2a32754a52e59e989788e9e903/packages/strapi-helper-plugin/lib/src/components/InputDate/index.js#L54.\nOr maybe store date value as timestamp for database, which are always in UTC.\nWhat do you think ? \n. Hey @soupette ! \nAs @lauriejim mention, this fix doesn't work for mysql. I don't have time right now to investigate more about this PR, so feel free to restart from or close this PR.. Yes it shouldn't i had issue with syncing my fork, put code back.. Same for here,  it shouldn't be update, i put code back here too. ",
    "manishsg": "3.0.0-alpha.11.3\nI had to re-create the api (deleted the old one) and its working fine.\nRegards. It happens after creating the first api - content. \nI am able to reproduce the issue.\nStill haven't created the back end table for the api . It pop's up an error message - error occurred while gaconfig.js and redirects back. MongoDB back end works fine. Seems to be issue with MYSQL DB back end.. What's the script to create the table in MySQL. In case of relationship how do we specify that in the table creation.. I had to manually run the scripts on MYSQL. Hi\nHow do we get the create script for the tables based on the definition of the entities.. I am facing the same issue. Please confirm if this will be fixed soon. We have changed the api prefix to /scs/. This breaks the public & admin panel.\nPlease help.. the api routes can be fixed by the change. But the admin panel and public path are major issue.. Hi,\nI have setup the following \nHTTPS - proxy requests on to local Node.js app\nserver {\n        listen 443 ssl http2;\n        server_name mysite.com;\n    # Pass requests for / to localhost:8080\n    location / {\n            root /var/www/mysite.com/html;\n            proxy_pass http://localhost:8080/;\n    }\n\n    # Pass requests for /admin to localhost:8181/admin/\n    **location /scs {**\n\n            proxy_pass http://localhost:1337/\n    }\n\n    location ~ /.well-known {\n            allow all;\n    }\n\n}\nAlso updated the request.json in the environment to add route prefix as \"scs\"\nThe admin panel is not available in this situation.. proxy_pass http://localhost:1337/ --> point to strapi. Thanks derrick. I have similar configuration except the subdomain is set to /scs as I need to use the main domain for the client react app.\nProxy Config\nlocation /scs {\n    proxy_pass http://apiProd;\n    proxy_http_version 1.1;\n    proxy_set_header X-Forwarded-Host $host;\n    proxy_set_header X-Forwarded-Server $host;\n    proxy_set_header X-Real-IP $remote_addr;\n    proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n    proxy_set_header X-Forwarded-Proto $scheme;\n    proxy_set_header Host $http_host;\n    proxy_set_header Upgrade $http_upgrade;\n    proxy_set_header Connection \"Upgrade\";\n}\n\nWith the above setup /admin is not available for access.. Ic. How do we create the subdomain on nginx ?. https://www.digitalocean.com/community/questions/how-to-create-subdomain-with-nginx-server-in-the-same-droplet --> can it be on the same physical host ?. Awesome. Thank you. I will give it a try and get back with details.. The subdomain method works fine without any issues.  . ",
    "kamalbennani": "I have the exact same problem as @dzuncoi . @lauriejim via the admin :(. Course OneToMany Batch\nCourse OneToMany Subject\nBatch ManyToMany Subject. I deleted them and when I recreate the relation I get this error\n\nAnd then when a I try to put a different name for instance batchesss It works, But when I try to create a subject and attach a batch and course to it it returns the same error as the one described in the issue.\nhttps://strapi.slack.com/files/UA77NS6BE/FAD64B3H9/nimbus-record-video-2018-04-25-23-10-24.webm. I think that the solution would be to replace this code:\n```JS\n              const attr = association.plugin ?\n                strapi.plugins[association.plugin].models[params.model].attributes[association.via]:\n                strapi.models[params.model].attributes[association.via];\n          // Get refering model.\n          const ref = attr.plugin ?\n            strapi.plugins[attr.plugin].models[params.model]:\n            strapi.models[params.model];\n\nWithJS\nconst ref = association.plugin ?\n                strapi.plugins[association.plugin].models[params.model]:\n                strapi.models[params.model];\n``\nBecause in case of a relation between a custom model and the user model for instance the plugin attribute it's defined in the \"custom\" model and not the user model, so before we were getting ref = undefined.\nI tested the fix and it works.\nWhat do you think @Aurelsicoko. Thanks @lauriejim for the fix. But I'm little be curious how this thing works before. I mean is there a way to implement unit test for this utility functions ?. Please check your [Model].settings.json you are probably missing a model|collection key in the definition.. He has a missing model|collection in the Auhor attribute, isn't?. ^ I think that's related to the name of your model \"collection\" which might be conflicting with the strapi's logic. Try to rename you model name and retry again. Really nice PR :+1:, Gj. Any updates on this issue ?. Any updates on this issue. LGTM, I've tested it and it's working :+1: . Up till now, strapi is only compatible with npm.. :+1: . I don't know how the fix in the PR will fix something, because after all, doing definition.client === 'pg' ? attribute.type : 'decimal' is the same as just using 'decimal', perhaps there is something that I missed :thinking: . It's better to start the discussion on Slack: https://strapi.slack.com/ rather than creating an issue . It fixes this kind of problem:\n![image](https://user-images.githubusercontent.com/14129459/41239878-79121e60-6d99-11e8-8b9a-c9fa80aec8aa.png)\n. Sorry for being late, I'll try to take a look into all the review comments today and push the neccessary modifications. \ud83d\ude4f\ud83d\ude4f\ud83d\ude4f. the PR is ready for a second review. Ready for another review. Note that this first version will only work with Mongoose ORM, we can either wait until the Bookshelf ORM is ready or merge this and submit another PR for it.. @lauriejim I've tried to add the bookshelf's support but I may need some help because the API is too different from Mongoose :/. @lauriejim Any updates on this, I think that I need to collaborate with someone to see how to implement the same logic for bookshelf :(. I'm down for it. @johannpinson are you down to collaborate together :D. I am going stick with your first suggestion @Aurelsicoko, I'll update the documentation and merge this PR as soon as it's fully tested.. @Aurelsicoko Done. Amazing :D We need to introduce Datetime formatting too :D. Your package is not correctly configured, here is what needs to be changed:\n1- Correctly separate between devDependencies and dependencies (Please move moment and Graphql to dependencies)\n2- Point your main file tolib/index.jsrather than./index.js, another solution is to build to the root folder.\nI have a small question BTW, how did you check that it's working? did you usenpm link` for that?. I kind of understand what he's trying to do here, so I may give it a shot this week . Normally it should be handled by strapi. If the association is dominant we want to grab the IDs from the relation itself otherwise we want to fall through and execute the default behavior which will find all the entries related to given association ID, so the fix would be: (I've already introduced it in this PR: https://github.com/strapi/strapi/pull/1948/files#diff-a056f29ab621b93285370edb48940246)\n```JS\ncase 'manyToMany': {\n  if (association.dominant) {\n    const arrayOfIds = (obj[association.alias] || []).map(related => {\n      return related[ref.primaryKey] || related;\n    });\n// Where.\nqueryOpts.query = strapi.utils.models.convertParams(name, {\n  // Construct the \"where\" query to only retrieve entries which are\n  // related to this entry.\n  [ref.primaryKey]: arrayOfIds,\n  ...where.where\n}).where;\n\nbreak;\n\n}\n  // falls through\n}\n```. Good point but I can't really see how it can impact the security of the app :thinking:, can you please give me a real example. ^ the PR that has included the refactoring has been reverted so everything should be back to normal. I already have a working implementation based on the Mutation PR. I'd love to submit a PR for it once the mutation one is well tested + merged.\n\n. Rename the property to policies instead of policy.. That's weird, normally it should work :thinking: I think that you need to keep this issue open. I probably know why it's doing that, I'll submit a PR to fix it :+1: . LGTM. @TokenChingy Not ready yet, I'll let you know when you can test it :boom: . Not yet, I'll try to work on it as soon as possible :( sorry. // TODO: Update the base branch to master instead.. Would be much easier if we can pass a payload, this way we won't need to parse the string and you'll be receiving the payload as the last param of the policy function.\npolicies: [{\n  policy: 'global.nameBanList',\n  payload: {} // Whatever\n}]. Ready to be reviewed. [Not yet actually]. I'm trying to refactor convertParams to make it easier to read & maintain. @lauriejim @Aurelsicoko I know that it's not yet finished, But I'd like that you guys give it a shot especially using mongoose.. I think it's ready for a review, It'd be amazing if I have some feedback by the end of the WE :rocket: . @derrickmehaffy both REST & GraphQL :D. I'd assume that @johannpinson did all the tests to make sure that it's working with bookshelf but I'm not quite sure that it'll work more than 1 level deep filter.\nWhat I can guarantee is that n-level deep filter will work with Mongoose ORM.\nI'm not super comfortable with bookshelf but I can probably create a project and set-up a Relational DB to check if it's working.. It doesn't work correctly in some cases, I need to figure out why. it has something to do with ast.dominant. I'll try to push a new working version soon.. @lauriejim Ya you can close it, I hope I'll finish it by the end of the day :pray: . I made it work with bookshelf too, I'll submit the new commits soon\n\n. // TODO: See if we can add some unit tests to cover most of the cases. @johanbaath, of course, it did help, I don't know if I covered all the cases, I really need to implement unit tests and have someone do an ART :pray: . @lauriejim go ahead you can review it and test it :+1: good luck. Kinda of weird! I'll try to fix it this WE, Sorry for the inconvenience.. Done, could you give it a try @lauriejim . I probably know the cause of the problem, I'll fix it later tonight, have you tried the graphql service?. OMG hahah well I'll fix it tonight \ud83d\ude05\ud83d\ude05\ud83d\ude05. Could you give it a try again :pray: . @mamartins You need to remove strapi-email-sendmail folder. > > @mamartins You need to remove strapi-email-sendmail folder\n\nthanks, already running but filtering not working. See attachment\n\n\nAre you sure you use the correct version of the graphql plugin?. @mamartins What ORM are you using: Mongoose or Bookshelf?\n@lauriejim Should be all good now, I've tried on my own projects and it works and I missed my copy-paste :/. @mamartins Could you also check that your service is correctly generated (Check against the templates I modified in this PR).. I thought it was fixed :thinking: . I've tried it on a new fresh project and it works.\nPlease make sure that everything is linked especially the GraphQL plugin. > got it, you've got a bunch of commits that are not on this PR, only on your forked repo\nI don't get it, are you talking about the commits that are on strapi's master branch?. @mamartins That's normal because I didn't push the latest version of master in the forked repo, but all the commits related to this PR are included in this repo. In this case, a safe way to do it is to the check the existence of the key body instead of the value? (you could use: hasOwnProperty or .has) or if you want to check the value you might need to use .isNil?. @Mat-thieu I agree with you buddy, in the GraphQL context we're fetching extra things that we are not supposed to fetch, the purpose of this PR https://github.com/strapi/strapi/pull/1948 is to make sure 1st that in GraphQL context only the fields that you request and the relation that you ask for are the only things that are being fetched, 2nd to give you this possibility to easily implement the behavior you asked for in the REST API. @Mat-thieu in the REST API I think that the default behavior is to fetch all the relations related to a given model but in GraphQL no extra fetching will be done unless you request it via the fields that you ask for or if you filter on a given relation (in this case only the relation used in the filter will be populated). @Mat-thieu I think that the feature that you requested has its place in strapi, once my PR is merged we can easily implement it. LGTM. Here you go, you figured it out by yourself, LGTM :rocket: . @danielmahon As you said, this is really a big problem related to how GraphQL is implemented in Strapi, it's not just related to User.me, because we can easily have another model that has some relation with the user model or another model that an \"Authenticated\" user has access to and where he can easily have access to \"nested\" Data out of his scope. I think it's so hard to use nested permissions, I know that we've introduced something called \"graphql-depth-limit\" which limits the complexity of the GraphQL query by setting a maximum depth, but it'll not help us in this case. . I think that you are looking for something like GraphQL Subscription which will call your listener whenever a mutation happens. I am actually working on this feature \n (https://github.com/strapi/strapi/pull/1929) :muscle: . To be fair, I have no idea, it's a WIP so it'll probably take a bit of time before merging it. For now, you can't do this, you probably need to wait for this PR (https://github.com/strapi/strapi/pull/1948) to be merged. . Weird, I'll try to investigate this afternoon, I'll keep updated. thanks for reporting this bug.. Fixed by https://github.com/strapi/strapi/pull/2452. It'll be fixed in the next release of strapi, please refer to: https://github.com/strapi/strapi/pull/1948/files#diff-c6579521dd3019af96f2a7fc482c002fR16\nCould you please try to reproduce the bug using the latest version of master :pray: . It'll be fixed in the next release of strapi, please refer to: https://github.com/strapi/strapi/pull/1948/files#diff-c6579521dd3019af96f2a7fc482c002fR16. :+1: . I used a simplified version of your query:\n\nAnd by changing only one line it did work for me, I'll push a PR to fix it:\nPlease try this modification and tell me if it did work for you as well:\nin graphql/services/Resolvers.js\n```JS\nReplace\nif (queryOpts.hasOwnProperty('query') &&\n              queryOpts.query.hasOwnProperty('id') &&\n              queryOpts.query.id.hasOwnProperty('value') &&\n              Array.isArray(queryOpts.query.id.value)\n) {\n              queryOpts.query.id.symbol = 'IN';\n}\nBy\nif (Array.isArray(_.get(queryOpts, 'query.id.value'))) {\n   queryOpts.query.id.symbol = 'IN';\n}\n```\n. ^ The solution is not easy as it seems, I'm still investigating, I'll try to work in collaboration with the strapi team to find the best solution for such things. I think that I broke a lot of things .. I'm so sorry about that.\nI've been working on it this WE to try to fix everything possible and I think that I have a solution, I'll try to submit a PR with all the fixes hoping that everything will work as expected.\n\n. It works also with complex filtering:\n\n. I'll try to submit a WIP PR tomorrow morning and I'll ping you in it. I think that it has to do with my PR (https://github.com/strapi/strapi/pull/1948) I'll try to look into it today, sorry for the inconvenience . It fixed on this PR too (https://github.com/strapi/strapi/pull/2419)\n\n. > We -might- be able to talk @lauriejim into pushing a fix sooner than the expected release date  maybe lol\n:pray: . But this time we need to test everything out before merging this PR, We need to implement/re-enforce integration tests. How would this query work and you're excepting the grsites to return 1 element (and you're offsetting by 10 elements?)?\nquery {\n  grsites(limit: 10, start: 10, where: {\n    siteID: \"287\"\n  }) {\n    id\n    siteID\n  }\n}. > Tested these queries which also do not work as expected per: https://strapi.io/documentation/3.x.x/guides/graphql.html#configurations\n\nquery {\n  grsites(siteID: \"287\") {\n    id\n    siteID\n  }\n}\nquery {\n  grsites(id: \"287\") {\n    id\n    siteID\n  }\n}\n\nAre these even a valid Strapi GraphQL Signatures? did you forget to use where?. I'm sorry buddy but I took at least 1h to try to set up the same environment as you to see how I can fix the probelm that you're reporting but it seems that there is no problem ... . \n. \n. GET /blogs_start=3&_limit=3 this is not a valid request: have you tried: GET /blogs?_start=3&_limit=3?. Probably related to: https://github.com/strapi/strapi/pull/2419. Nested Relation items are not paginated! Strapi is trying to load every single relation which of course takes a lot of time/memory/CPU. Probably related to: https://github.com/strapi/strapi/pull/2419. I'll rework all the commits once I finish dealing with all the problems. @lauriejim Could you give it a try again :pray: . @lauriejim I've just generated a Mongoose project and I didn't faced this problem, could you give me steps to reproduce it. @lauriejim what about the other issues? are they fixed or you're not able to start a project?. Emm weird, I'll take a look into it soon. @Kriskasz I'm using the exact same version as you and it's seems to be working just fine, you can probably start the server in debug mode and try to figure out what's going on. It's no longer the case, please refer to the latest version of strapi .16\n. What's the best way to implement the unit tests, Yesterday I tried to run the existing test but it took at least 30/40 mins without success. > @ssg-luke both of them, GET and GraphQL (right @kamalbennani ?)\nYes :D. @jacargentina We're doing our best to be able to merge this as soon as possible, we need to make sure that it breaks nothing and make it easy to integrate with existing Strapi projects effortlessly . > @kamalbennani i've found this: i've a model which as a field named sortableField and when trying to use it for a graphql like this:\n\n\nThe query was not working. I've found the culprit is in strapi-utils/lib/builder.js on function getFilterKey. It seems it matches my field as a sort clause; it should'nt do that.\n\n\nGood catch, I'll fix it :muscle: . > @kamalbennani i've found this: i've a model which as a field named sortableField and when trying to use it for a graphql like this:\n\n\nThe query was not working. I've found the culprit is in strapi-utils/lib/builder.js on function getFilterKey. It seems it matches my field as a sort clause; it should'nt do that.\n\n\nFixed \u2714\ufe0f . All tests passed \u2714\ufe0f \n\n. > @kamalbennani I tried to run this query but it didn't work...\n\n{\n  products (where: {\n    buyers: {\n      username_contains: \"Aurel\"\n    }\n  }) {\n    title\n    buyers {\n      email\n      username\n    }\n  }\n}\nWhat's wrong?\n\nWhat do you exactly mean by it didn't work? does it return an empty response or an error?. @Aurelsicoko I couldn't reproduce the bug, could you try to see by yourself what the filter and the query used by your Mongoose Model. > @kamalbennani i want to be able to query for just one model instance with deep filtering too. I've seen that in services.template, the fetch function is not refactored to allow this. Would it be possible?\n\nEDIT: I've found that fetch can simply be a wrapper to calling fetchAll plus limit: 1\n\nWell, it makes no sense to add a deep filtering in the findOne service, because this service depend on the model ID.\nI think it makes more sense to use directly the fetchAll service with you filter and it'll return all the results matching what you've request and of course you can use the limit parameter to return the exact number of results that you want.. > I found another issue... Here my configurations:\n\n```\n// Article's model\n- name:string\n- categories:many-to-many\n// Category's model\n- name:string\n- articles:many-to-many\n```\nI've created three articles (A1, A2 & A3). Then, I've created three categories (C1, C2 & C3).\n\nA1 is associated with C2\nA2 is associated with C2 & C3\nA3 is associated with C3\n\nHere the results without any filters applied.\n\nIt works as expected. Now, try to apply a limit 1 to the categories field.\n\nYou can notice that the A3 article isn't associated to any category whereas it's the case. This is due to the DataLoaders implementation, only the C2 category is fetched in the second case whereas C2 & C3 should be fetched then mapped to the return the correct results.\nIt was working before it's not working anymore because you dropped too many lines of code\n\nhttps://github.com/strapi/strapi/pull/2452/files#diff-a056f29ab621b93285370edb48940246L362\nhttps://github.com/strapi/strapi/pull/2452/files#diff-03fa4608ba640439e9d9b1e8fe6ea352L264\nhttps://github.com/strapi/strapi/pull/2452/files#diff-03fa4608ba640439e9d9b1e8fe6ea352L279\n\nEspecially in this file https://github.com/strapi/strapi/pull/2452/files#diff-29464a3045df9a126184040a699f2b90. I've put a lot of warnings due to these tricky cases.\n\nWell spotted, let me check again I'm pretty sure that it can be fixed easily. Is it the only problem that you've encountered ?. @Aurelsicoko The fix was super easy \"I guess\", the problem is that I was applying the limit filter on the batched query, which is wrong because it'll return only 1 entry (if we set limit to 1), so the solution is to ignore the limit and take only the entries specified when mapping the results. Previously we were taking only the first 100 items but it'll return incomplete data in case of a large dataset. I've also added a filter payload validation, so that we ignore invalid fields, in addition to that we have an explicit message that shows which field is invalid. @Aurelsicoko I'm happy to hear that :D\n@lauriejim I'll try to resolve the conflicts as soon as possible, I think it'll be better to not merge this PR until every use case possible is tested, we don't want to revert it a second time, could we select some beta testers and let them try this new feature with their logic?. @kret13 it seems to be working just fine on a newly generated project :/\n\nCould you provide us some steps to reproduce the same behaviour\n. @kret13 I'll try to reproduce it again, thanks mate :muscle: \nCould you push the tests more and tell us if everything works as excepted for you (except the aggregation of course :p). @kret13 it's fixed now, could you try again. I've already implemented this operator in this PR: https://github.com/strapi/strapi/pull/2452/files#diff-6bd63d5cf1dec74aafa2dd897ecfe932R23 but it may take some time to be merged/released . Could you illustrate your problem with a concret example? . Strapi doesn't implement yet the case-insensitive filter for relational dbs, it'll be the case once this PR is merged: https://github.com/strapi/strapi/pull/2452/commits/4318b0bb1151d908eb1189be5529b7fddcf90f6f. For each of your generated models inside of /api/<your_model> you'll find a file that has the same name as your model located in /api/<your_model>/services/<your_model>.js and there you'll find a function called fetchAll . A controller can either be used as a controller or a middleware so the next is a function that is invoked to execute the downstream middleware. Please refer to: https://github.com/koajs/koa#common-function. @lauriejim if I'm not mistaken this bug impact all the GraphQL queries without a filter, the problem is that we're using const in this line: https://github.com/strapi/strapi/blob/master/packages/strapi-hook-mongoose/lib/index.js#L511 but we're assigning it to undefined in this line: https://github.com/strapi/strapi/blob/master/packages/strapi-hook-mongoose/lib/index.js#L575.\nThe thing that I don't understand how the linter didn't catch this!. I can fix it in my PR but is it neccessary because we'll no longer be using convertParams, this has been said I think I need to add en an explicit warning message inside of this function so that we encourage developers to use the new Builder, what do you think?. @Aurelsicoko It can be implemented easily using the new Filter API, I spent around 1 hour to work on a POC and it seems to be working:\n\nYou can define not only 1 but multiple sort pipelines :D. I think that we're also able to sort by relational fields :O\n\n. @fwegmueller Thank you so much for reporting this issue and taking the time to explain it \ud83d\udcaa \nI think that the actual implementation of makeQuery function is \"kind of\" incorrect, as we suppose that the maximum entries that can be returned is 100 which is false, this problem is already known and will be fixed in this PR (https://github.com/strapi/strapi/pull/2452#issuecomment-463400924). If you have time it'd be great if you can check if the problem persists using this PR.. Shouldn't be instead ?\nJS\nconst value = params.values[current] || response[current];. JS\nconst recordId = value[this.primaryKey] || value.id || value._id;. Can be changed to:\nJS\nif (_.isObject(response[current]) && response[current][this.primaryKey] !== value[this.primaryKey]). Replace this with model ?. Shouldn't we do the same check here as we did for the toAdd logic\nJS\nif (association.nature === 'manyToMany' && !_.isArray(params.values[this.primaryKey] || params[this.primaryKey])) {. a tiny suggestion\nJS\nconst transformToArrayID = (entry) => {\n  const toTransform = _.castArray(entry);\n  return toTransform.map(value => {\n    return _.isPlainObject(value) ? value._id || value.id : value;\n  }).map(id => id.toString());\n}. Can we create small utility function that returns the correct primary key, because I saw this logic repeated several times:\nJS\nfunction getPrimaryKey(params, defaultKey) {\n   return params[defaultKey] || params.id || params._id;\n}\nThis way we'll have a consistent way to retrieve the id.. JS\nconst association = _.find(this.associations, { alias: current });. can also be changed to:\nJS\nconst recordId = getPrimaryKey(value, this.primaryKey). I don't know what is the best solution between: toLower and localeCompare by setting the sensitivity to accent (i.e https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/localeCompare). Does Strapi have a includes polyfill because it's not supported in IE11 (https://caniuse.com/#search=includes)\nIn this case I suggest to use the includes method coming from lodash.. Remove extra spaces. JS\nhasUserPluginLoaded = (props) => !isUndefined(get(props.plugins.toJS(), ['users-permissions', 'hasAdminUser']));\nCan't we do a smart check on the plugin itself in this case ? rather then an attribute inside of the plugin :thinking: . Tiny Tip: you can use Boolean(debug) in this case which will do exactly what you're doing here. use _.map instead . Did you mean 0 ?. This is not a good idea, because strapi is using some binary dependencies like node-gyp that needs to be rebuilt if the node version has changed.. Unfortunately, It doesn't.. I think that's safer to change it to npm cache rather than node_modules, I'm afraid that caching node_mogules will cause some problems in the future and it going to be really hard to debug, thanks for the investigation BTW :+1: . What do you think about this lodash's version ?\n``JS\nconst enums = _.chain(model.attributes)\n  .filter({ type: 'enumeration' })\n  .map((definition, attribute) => {\n    ...\n  })\n  .value()\n````. Can someone enlighten me a little more about this change, because it's causing a lot of problems.\nas in example if thesortis not defined it will use the default value which is an empty string and.toNumber(value) = 0which means that here https://github.com/strapi/strapi/pull/1345/files#diff-bf3a6e5f9eb97177916c46670dc7046eR469 it'll break saying:TypeError: formattedValue.split is not a function or its return value is not iterable` we need to find a better way to re-write this logic. Can you please explain to me what are we trying to resolve here.. it's not a bug, I've added a comment to explain why I did it. this is used to pass the key's value that has been grouped-by. I might need to add an explicit example to demonstrate how it works . Oh really, I'll double check when I finish my work.\nFor the error that you faced is due to the fact we weren't correctly detecting numerical values, I submitted a PR to fix it and it's merged now. You can find more details here: https://github.com/strapi/strapi/pull/1345 . Ya just make sure you have the last version of strapi and cherry-pick all the modifications done in this PR and don't forget to also update the strapi-utils package so that it includes this bug fix: https://github.com/strapi/strapi/pull/1345. Now it's working with fields of type enum and date\n\n\n. Can we group by a JSON field ?. I'll go with your solution. I'd love to do it, but the model attributes includes the non-transformed field types so if I do so I'll have to duplicate some of the logic, I think it's better to do like this. Emmm I need to try this. ? what do you want me to use instead?. He's talking about the indentation :/. I think it's time to configure your editor to add a new line at the end of the file:\nIf you're using vscode I recommend this defaults\n\"files.trimTrailingWhitespace\": true,\n\"files.insertFinalNewline\": true,\n\"files.trimFinalNewlines\": true,. Don't you guys prefer the dot notation, or you're Immutable funs :D. Duplicated. Add missing new line.. Remove trailing empty spaces. Really? we do use const/let everywhere in the app.. It is, but only on the frontend side, in the backend we \"don't\" really care about the bundle size because there is no bundle. :confused: . Good call. Good catch :+1: . TODO: Take into account all the Primitive values. TODO: Make sure it works with Array values. TODO: Grab the correct collectionName. Emm I don't think that it's related to this, It's probably related to the fact that we are not getting the right ids. the solution is here (https://github.com/strapi/strapi/pull/1833/files#diff-90e07d4e8a70f5625100fa0c449f7115R651) we need to handle the case of a non-dominant relation by just moving the break line instead of the IF block, so the code would be:\n```JS\n case 'manyToMany': \n  if (association.dominant) {\n    const arrayOfIds = (obj[association.alias] || []).map(related => {\n      return related[ref.primaryKey] || related;\n    });\n// Where.\nqueryOpts.query = strapi.utils.models.convertParams(name, {\n  // Construct the \"where\" query to only retrieve entries which are\n  // related to this entry.\n  [ref.primaryKey]: arrayOfIds,\n  ...where.where\n}).where;\nbreak;\n\n}\n  // falls through\n```\nTry it out and tell me if it works for you. // TODO: Handle the case of oneToManyMorph relation.. // TODO, don't populate all the relations in case of GraphQL Context.. // TODO: Rewrite this logic to be easier to read and maintain afterward.\nThe problem with the current logic is that the first relation doesn't get populated !!. Only take into account dominant field for relations of type ManyToMany. Add a param to indicate that we don't want to populate all the relations when we're on GraphQL context.. I probably need to change this to something more generic which will not conflict with someone's field name, I was thinking of something like strapi__relations. Maybe !isEmpty(trim(pluginValue)) ?. Don't forget to use the new RoleType here: UsersPermissionsMeRole. If I'm not mistaken, if you want to populate a given list of relations ['relation1', 'relation2'] you need to pass them to generateLookupStage as follow:\nJS\nconst populateStage = hook.load().generateLookupStage(<%= globalID %>, { whitelistedPopulate: filters.populate || populate });. @Aurelsicoko @lauriejim We need to find a way to let the users modify the logic if they want, but the question is: \"Do they really need to modify the Core Query System?\". I mean we can, for instance, put this utility functions inside of a folder that they can update but I don't see why should we duplicate the code in the different places (API Services / Content Manager and so on). Question: Should we ignore the field if it doesn't exist in the model's attributes (because the actual behaviour now is that you get a 500 Internal Error message). Don't populate any relation in the GraphQL context (Which will make things go faster :yay:). No need to convertParams here because it's already done in the content manager. Does anyone remember why here we reject the non-autoPopulated association but in the mongoose version we don't (https://github.com/strapi/strapi/pull/2452/files#diff-5a892334926e352d367245b7876dd6bdL10). To be removed!. I think that there is no need to separate the manyToMany case from the rest of the logic,  Could please confirm this @lauriejim @Aurelsicoko . There is probably no need for this check! because we've removed the check in the GraphQL manyToMany relation. I meant that we are not doing it in packages/strapi-plugin-upload/config/queries/mongoose.js. remove indentation. You probably meant to throw an explicit error here\nJS\nthrow new Error('This resource doesn't exist.'). You're probably creating more than once the loader, why don't you create a loader for the model only and not the association models, your code could be simplified:\nJS\n_.chain(strapi.plugins)\n    .map('models')\n    .flatten()\n    .concat(strapi.models)\n    .reject((v, k) => k === 'core_store')\n // .map() You can build the model name here or you can just access the collectionName directly\n    .forEach(this.createLoader);. I think that you don't need to create a IIFE, you can just do something like this:\n```JS\n// Single object to retrieve (one-to-many).\nconst alias = _.keys(query.options.query)[0];\n// Extracting ids from original request to map with query results.\nconst ids = .get(query.options, query.${ref.primaryKey}, {\n    alias,\n    value: .get(query.options, query.${alias})\n});\nAnd probably be more explicit about your variable naming. Don't try to support two way of doing things it'll just create problems afterward, if there is no way of doing so, I'd recommend to create a utility function that does it for you or simply create a constant where you do this OR block once:JS\nconst skip = query.options.start || query.options.skip;\n. rename `a` to `ast` or `association`, no one will criticise you if you add more characters to your code \ud83d\ude48 . + Why aren't you population associations of type model?. Why both (skip and start) aren't they the same?. Why 500 and not the limit defined by the user? (100 by default). chain is very useful in this case:JS\n.chain(query.ids)\n  .compact()\n  .map(id => id.toString())\n  .uniq()\n  .value();\n``. No need for IIFE. Could you be more explicit about thissinglekey. It's a very bad idea to mutate the function params (It causes a lot of problems)\nprobably rename options to_optionsand create aconst optionsvariable. Wait what :O How are you retrieving the params and queries passed to the service?. This needs to go in a utility function, because you're duplicating a logic twice in two different places (It'll likely break some day). typodominassociationnt`. I see what do you mean, I'm pretty sure that you can find a better/smart solution to this problem. I'll try to see how I can help you with this. I don't 100% agree with you and we can verify which of our versions is more maintainable / comprehensive (This is not the main question though). The main problem with your version is that you're looping through the associations of each model / plugin's model which mean that if you have Model A and B that have an association to the model C you'll create two times the loader for model C (I'm probably missing something \ud83d\ude48 ). you can use .castArray instead, it'll only cast the value to an array if it's not the case already. I think that we need to implement some unit tests for all the tricky cases so that we don't waste time on testing them manually each time, what do you think?. Ya go ahead, I already did some QA with some tricky cases and it seems to be working as excepted, I probably missed something but ya I encourage you to push the QA before merging this PR because it changes a lot of things. I think that alias cannot be empty but yeah we may need to use lodash here for safety purposes . We aren't talking about those basic tests we are talking about implementing something more robust that covers most of the tricky cases . @Aurelsicoko In which case the alias won't be defined? I mean I can use lodash but it's not quite justified here. I mean there is no need to await here because the entry itself is not used afterward.\nBy applying this change you're for the save to be finished before updating the relations (Which might be good actually) . ",
    "profjefferson": "I have same problem here, when i try edit a number field occur this error: \nThis field is not editable for the moment...\ud83d\ude2e, its a fresh install. @lauriejim  its latest, i instaled a one hour ago with: npm install strapi@alpha -g, in the admin panel show: Powered by v3.0.0-alpha.12.0.1. I readed the documentation before, but now i can get the token with postman, was a mistake with params, thank you!. ",
    "scipe": "@soupette hello.\nCreate field with string type.\nGo add new item.\nPut it in this field 76561198009194284\nAfter you save entity, field autochange on 76561198009194230\nIf you change this via database (not via strapi admin) - all will be okay. . @piere129 i have same problem with integer strings. But i think its another issue. . @soupette hi mate! now clear? you understand the problem? or need more information?. @soupette with type \"TEXT\" same problem. For hotfix i use base64 encoding. \nThanks you for your work! . @soupette but its if field is number. Why its doesnt work if field is string or text?. So my entity bigger when Number.MAX_SAFE_INTEGER. +1. Maybe pm2 --watch help? . Whats console said right this time? . ",
    "chaitanyya": "@lauriejim This is something we'd like to have. I'd really like to pick this up.. Hey guys -\nI've started working on this feature and have made some improvement for both the hooks. I now see correct values being used for the timestamps. Below are the values that were tested: \nPostgres and Mysql\njavascript\ntimestamps: [\"createdAt\", \"updatedAt\"]\nThe previous default values were:\njavascript\ntimestamps: [\"created_at\", \"updated_at\"]\nMongoDB\njavascript\ntimestamps: [\"created_at\", \"updated_at\"]\nThe previous default values were:\njavascript\ntimestamps: [\"createdAt\", \"updatedAt\"]\nThis works without any error and all additions and updates are handled correctly.\nHelp and Suggestions\nNow things get interesting when I change the column/attribute name to something other than updated_at updatedAt (let's say updated). Everything seems fine till inserting new data to the database, but the updated is not changing whenever anything is changed in the object (no errors are thrown).\nI see various instances where these values are hardcoded, I find the following two particularly interesting and I believe replacing them with values we have in <modelName>.settings.json should fix the issue:\nhttps://github.com/strapi/strapi/blob/e4dc27be54f36a956a06d35cab5f1ae11f2b9836/packages/strapi-plugin-content-manager/config/functions/bootstrap.js#L145-L149\nhttps://github.com/strapi/strapi/blob/e4dc27be54f36a956a06d35cab5f1ae11f2b9836/packages/strapi-plugin-content-manager/admin/src/containers/EditPage/saga.js#L79-L89\nI've just started contributing and I really don't want to do anything that's not inclined with our coding practices. I would really appreciate some help/suggestion in the right direction.. Things work as expected when I use the correct timestamp attributes in this file instead of the hard coded values.\nhttps://github.com/strapi/strapi/blob/e4dc27be54f36a956a06d35cab5f1ae11f2b9836/packages/strapi-plugin-content-manager/admin/src/containers/EditPage/saga.js#L79-L89\nI'll need access to the model fields. I see the object that's stored as db_model_<modelName> in database have field type values. Maybe using that to determine the correct timestamp attributes would be nice.. Yes, I checked the fields object in schema it doesn't have primaryKey and Timestamps.\nhttps://github.com/strapi/strapi/blob/e4dc27be54f36a956a06d35cab5f1ae11f2b9836/packages/strapi-plugin-content-manager/admin/src/containers/EditPage/saga.js#L95\nMaybe having them available in the fields, we can then add a check on the type of the field and delete the created and updated values instead of hardcoding them. Correct me if I'm going in the wrong direction.\n. Hey guys -\nI was able to expose the timestamps and use the user defined values to remove correct attributes from the record object. \nThere's still some work that needs to be done, here's a dough list of what I believe needs to be taken care of: \n\nDefault values if no attributes are provided.\nUpdate documentation to explain how it can be done.\nAbility to define them in the admin UI (Maybe a separate feature)\nSchema cleanup (Maybe changing the attribute name for it)\n\nI'd love some feedback on the method that's currently used in making this feature available.. [UPDATE]\n\nUses default if nothing is provided.\nWorks with existing model settings configuration (Will do some more tests later this week). The PR is merged and it should be usable in the coming release. Can we please close this issue now?. While working on the custom timestamps I discovered the hardcoded primary key name. I can pick this issue and use the idAttribute to create custom primary key column name.\n\nFor further clarification can you guys tell me how is primaryKey attribute different from idAttribute?. I believe that's idAttributeType, from the documentation: \n\nidAttribute: This tells the model which attribute to expect as the unique identifier for each database row (typically an auto-incrementing primary key named 'id'). Only valid for strapi-hook-bookshelf\n\nThis seems very similar to what primaryKey does. Is there a reason for having them both?. Thanks for the go-ahead, I'll take it up over the weekend. . I started with the implementation and made the necessary changes to the following files:\n1. packages/strapi/bin/strapi-new.js\n2. packages/strapi/bin/strapi.js\n3. packages/strapi-hook-bookshelf/lib/utils/connectivity.js\nIn order to test the changes I built the project using npm run setup and tried running the strapi new <ALL OPTIONS> command.\nFor some reason none of the changes in the /connectivity.js file are reflected when running strapi new not even the basic console.log commands. Am I doing something wrong?. Thanks for the update. @lauriejim \n\nI suggest you to update the path of the connectivity\n\nSo, if I understand it correctly instead of using the temp path I should use the path to the files in the repository.\n\nAn option to let it be easier to the future is to define the path depending of scope.developerMode.\n\nIn order to make it easier for future development this path can be defined based on the options of the strapi new\nI hope this makes sense.. Okay I was able to test it by changing the path of the connectivity. However it did require me to include additional dependencies in the package Knex and pg.\nSo, if we'd want to make this path dynamic based on scope.developerMode. How do you think is the best way to do it?\nAlso, I believe it should be tracked on a separate issue and I can keep posting the updates there.. Thanks, also I'm not sure about the test coverage. If you have any suggestions on making it more robust, feedback would be nice.. The pull request is now merged (#2534) and the feature should be usable. Thanks guys :) . Error when running npm run lint\nAny idea why this might be happening?\n``cmd\nnpm ERR! code ELIFECYCLE\nnpm ERR! errno 1\nnpm ERR! @3.0.0-alpha.17 lint:node ./scripts/lint.js`\nnpm ERR! Exit status 1\nnpm ERR! \nnpm ERR! Failed at the @3.0.0-alpha.17 lint script.\nnpm ERR! This is probably not a problem with npm. There is likely additional logging output above.\nnpm ERR! A complete log of this run can be found in:\nnpm ERR!     /Users/chaitanya/.npm/_logs/2018-12-28T13_39_37_577Z-debug.log\n```\nAfter further digging into it, this is what's logged from the following file:\nhttps://github.com/strapi/strapi/blob/39bcc6a5937f67957a07de30556d4642e8ab3f40/scripts/lint.js#L23-L29\ncmd\nNode must be provided when reporting error if location is not provided\nAssertionError [ERR_ASSERTION]: Node must be provided when reporting error if location is not provided\n    at assertValidNodeInfo (/Users/chaitanya/Documents/Opensource/strapi/packages/strapi-lint/node_modules/eslint/lib/report-translator.js:96:9)\n    at /Users/chaitanya/Documents/Opensource/strapi/packages/strapi-lint/node_modules/eslint/lib/report-translator.js:256:9\n    at Object.report (/Users/chaitanya/Documents/Opensource/strapi/packages/strapi-lint/node_modules/eslint/lib/linter.js:812:58)\n    at reportUndeclaredPropTypes (/Users/chaitanya/Documents/Opensource/strapi/packages/strapi-lint/node_modules/eslint-plugin-react/lib/rules/prop-types.js:175:17)\n    at Program:exit.Object.keys.filter.forEach.component (/Users/chaitanya/Documents/Opensource/strapi/packages/strapi-lint/node_modules/eslint-plugin-react/lib/rules/prop-types.js:193:11)\n    at Array.forEach (<anonymous>)\n    at Object.Program:exit (/Users/chaitanya/Documents/Opensource/strapi/packages/strapi-lint/node_modules/eslint-plugin-react/lib/rules/prop-types.js:192:81)\n    at updatedRuleInstructions.(anonymous function) (/Users/chaitanya/Documents/Opensource/strapi/packages/strapi-lint/node_modules/eslint-plugin-react/lib/util/Components.js:754:75)\n    at listeners.(anonymous function).forEach.listener (/Users/chaitanya/Documents/Opensource/strapi/packages/strapi-lint/node_modules/eslint/lib/util/safe-emitter.js:47:58)\n    at Array.forEach (<anonymous>). > Ability to define them in the admin UI (Maybe a separate feature)\n\nI would love merge the backend feature before an eventual UI to manage this feature.\nBecause it will let us release this feature soon and for the frontend stuff we need to discuss of where we display this options.\nCompletely agree with you on this, the suggestion I made was for a separate issue/feature request.\nSchema cleanup (Maybe changing the attribute name for it)\nNot sure of what you mean but if it's when you change created_at to createdAt Strapi delete created_at column and migrate all stuff. Actually it's not a thing to do.\nStrapi delete NOTHING in the database of the user. It's a choice we did. About the migration it's an hard topic, like migration an attribute name to an other. It's a thing we don't have to manage for now.\nYes, I realised the inconsistency when I was playing around with the feature, all the existing timestamp attributes in MongoDB were not changed but the new update timestamp was added instead to the documents. Again, I agree it's a bigger topic and will require more thorough discussion.\nActually your PR is good for me.\nYou still have [WIP] so let me know what you want to modify.\nOr if you have any question, let me know.\nI'm good with releasing this for now. :)\n. I believe it's safe to close this pull request now. Thanks for all the help.. I'm happy to work on it, I'm currently working on the attributeId PR for the bookshelf. As soon as that's completed I'll start on this one.. I'd really like some help with the react stuff, anything that can help me get moving.. I agree, where do you think I should add this value so that it's accessible in connectivity. scope.dbforce maybe?. But scope.dbforce is used in connectivity.js to get the value of the CLI Argument. If I don't set it here, is there a way that I can directly access this argument in connectivity.js file?. Hey thanks for a quick response. Let me quickly change that :). I've added additional checks to take care of existing attribute values.. Updated the definition in the documentation. Thanks for pointing out.. \n",
    "jezperp": "Had this same problem, fixed by setting Body to x-www-form-urlencoded and using the params \"identifier\" and \"password\". Apparently you get this error if you've already generated an API with CLI, so to fix this I deleted my generated API from the API-folder and clicked save.. ",
    "lukaszskup": "i have the same problem. ",
    "vokvince": "Do we have news about the auto restart feature?  @lauriejim . Could you please merge?. ",
    "Meeken1998": "i have the same problem, too. ",
    "laputaclover": "Thanks for you reply : )\nIn the  tmp folder there is only an empty  etc  folder, and I have checked the globe modules, no strapi-mongoose found. \nI tryed install strapi-mongoose module not only in the project also as globe.\n+ strapi-mongoose@3.0.0-alpha.4.3\nWhen create new project,  nothing changed. The only message is \"Testing database connection...\". ",
    "CovertCode": "I'm having a similar issue Error: Cannot find module '/tmp/strapi0e9f63607b0c/node_modules/strapi-hook-mongoose/lib/utils/connectivity.js'\nI tired few fixes but none of them worked.. > Can you give us more logs\nI fixed this issue in my PC and tried some additional paths to create this issue and found just 1 solution for this.\nIssue is not with STRAPI. It's with nodejs installation process. If user has installed node.js from snapcraft, ubuntu software center, or flathub then it creates some issue with node.js environment variables or with modules path. I install node.js from above 3 sources and STRAPI gave me errors while creating a new project.\nSo, I install node.js from terminal using apt install nodejs. I don't know what's difference in installing it from various sources. But I think installing from apt is the only solution and I don't think there's any harm in doing this way.. ",
    "pongstr": "thanks! <3 @lauriejim . ",
    "Michael-Reich": "fixed it by myself -> did changes locally and needed to restart npm start to make it work. Is it possible to not always restart the command when I add fields or types? . oke need to use strapi start instead of npm start. ",
    "azuldev1": "Empty fields in the ORM schema or empty files in the database columns? Or columns that were not mapped / part fo the ORM Shema. having a similar issue. err TypeError: Cannot read property 'id' of undefined\n    at main.js:32\n    at Array.map ()\n    at t.value (main.js:32)\n    at p (main.js:16)\n    at beginWork (main.js:16)\n    at a (main.js:16)\n    at i (main.js:16)\n    at b (main.js:16)\n    at v (main.js:16)\n    at y (main.js:16)\nmain.js:32 info {componentStack: \"\u21b5    in t\u21b5    in div\u21b5    in o\u21b5    in div\u21b5    in di\u2026 IntlProvider\u21b5    in t\u21b5    in Connect(t)\u21b5    in o\"}. I have a local version where I copied the api and db schema and I do not run into this issue. . @soupette any thoughts? . ",
    "omar1989omb": "My error, the correct URL  is : http://localhost:1337/upload/files. ",
    "patrikniebur": "I'm having the same issue and I followed the documentation. Was able to resolve it by running:\ncd ./node_modules/strapi-helper-plugin/ && npm install\nThen it starts admin on port 4000 (specified in package.json) while trying to load other resources from port 1337 (specified in server.json). When I make those consistent it still fails on loading non-json file as json. ",
    "krsnaa": "run npm link strapi-helper-plugin from the admin folder, then run npm start. @renettarenula - how did you handle the Can't resolve '../../../../config/layout.js' in '/Users/compname/workspace/my-app/plugins/content-manager/node_modules/strapi-helper-plugin/lib/src' error - i.e. in plugins other than your own?. On a related note, the afterUpdate: async (model, result) => {} callback does not expose any information about the item that was updated. This is what the result object looks like on Strapi v3.0.0-alpha.15:\n\n. @henrych4 - thanks for your comment. I did come across the _update object, and while it does contain the atomic properties changed, it does not seem to contain any of the identifiers (like the id attribute) that I can use to grab the entire object.. In 3.0.0-alpha.22, before/afterUpdate lifecycle methods do not fire when updating a value using the content manager or using a PUT request. \nbefore/afterDestroy do not fire when deleting using the UI, but they work when sending a DELETE request.\nVery frustrating when trying to implement a websocket model to sync with downstream systems as there is no data consistency anymore.. https://github.com/strapi/strapi/issues/2779. @maturano  @xnfa - Alternatively, just copy the pluralize folder from say /-project-path/plugins/content-type-builder/node_modules/pluralize,  to the root node_modules at /-project-path/node_modules  and  strapi start will work just fine!. It appears that https://github.com/webpack/webpack-dev-server/issues/690 might have something to do with this.. https://github.com/strapi/strapi/issues/1353 seems relevant as well since I get the same errors right after the above ones.. @soupette - thanks for your reply. uninstalling one of the plugins like you had mentioned does make the FSEvents.framework error go away. Thanks SUPER MUCH for that.\nJust wanted to point out something else I noticed when I navigate to the admin-root @ http://localhost:4000/admin/, I still get the errors from the helper-plugin saying that it is unable to find the config/layout.js for the plugins, as under:\n```\n[HMR] bundle has 4 warnings\n/- path -/strapi-dev/plugins/content-manager/node_modules/strapi-helper-plugin/lib/src/app.js\nModule not found: Error: Can't resolve '../../../../config/layout.js' in '/- path -/strapi-dev/plugins/content-manager/node_modules/strapi-helper-plugin/lib/src'\n @ /- path -/strapi-dev/plugins/content-manager/node_modules/strapi-helper-plugin/lib/src/app.js 63:11-50\n/- path -/strapi-dev/plugins/content-type-builder/node_modules/strapi-helper-plugin/lib/src/app.js\nModule not found: Error: Can't resolve '../../../../config/layout.js' in '/- path -/strapi-dev/plugins/content-type-builder/node_modules/strapi-helper-plugin/lib/src'\n @ /- path -/strapi-dev/plugins/content-type-builder/node_modules/strapi-helper-plugin/lib/src/app.js 63:11-50\n/- path -/strapi-dev/plugins/email/node_modules/strapi-helper-plugin/lib/src/app.js\nModule not found: Error: Can't resolve '../../../../config/layout.js' in '/- path -/strapi-dev/plugins/email/node_modules/strapi-helper-plugin/lib/src'\n @ /- path -/strapi-dev/plugins/email/node_modules/strapi-helper-plugin/lib/src/app.js 63:11-50\n/- path -/strapi-dev/plugins/upload/node_modules/strapi-helper-plugin/lib/src/app.js\nModule not found: Error: Can't resolve '../../../../config/layout.js' in '/- path -/strapi-dev/plugins/upload/node_modules/strapi-helper-plugin/lib/src'\n @ /- path -/strapi-dev/plugins/upload/node_modules/strapi-helper-plugin/lib/src/app.js 63:11-50\n```\nThe functionality of the dashboard, however, does not seem to be affected.. https://github.com/strapi/strapi/issues/1443. Testing the same setup with the SQLite backend works PERFECTLY.\nWhat would it take to get the same level of reliability on the mongoDB backend?. @lauriejim, how does it explain the difference in the behavior of lifecycle methods between different versions of STRAPI (on the same mongo backend)? For instance, the beforeUpdate and afterUpdate will fire on alpha.21, but afterSave will not. . +1 - able to reproduce this on alpha.23.1.\nOnly seems to happens when there is a relation in play.\nRemoving the relationship seems to get the code to compile again.. ",
    "taylor-knapp": "@soupette I think this issue needs to be re-opened. As the documentation stands npm install in the ./admin folder of a project started in --dev should install the correct packages. However, as noted above you actually need to run the npm install in ./admin/node_modules/strapi-helper-plugin.. @lauriejim strapi version: 3.0.0-alpha.21; OS: macOS High Sierra 10.13.6.\nI think it's possibly my fault, however. It appeared on the Admin Panel Strapi Documentation Page that I could just spin up the admin panel locally and make some changes. However, I realized per the contributing guidelines it's actually a bit more involved and I needed to clone the initial repo rather than just trying to alter the NPM install - found here.. ",
    "JoshR604": "Ah I found it now!\nFor people who can't find it in the future the configuration can be found under the Plugins tab on the side bar.\nPlugins >Files Upload -- hit the gear icon and the installed provider should be in the drop down list.\u00a0\ud83d\udc4d. ",
    "franciscop": "-1, seems to only add noise, specially on the Slack group where the author (who is also the main maintainer) is asking for votes \ud83d\ude2c. Sure, no problem. But then why asking at all in unrelated places? Unless it is some kind of growth hacking to get more users interested in the project (which I'd totally understand, just curious).. ",
    "alexleone": "I would be a fan if the facts where facts about the framework. If they are completely random, there is not a whole lot of value. If the strapi team wants to write custom facts then it may be a good idea, but seems like just a lot of work for not much value. . ",
    "download13": "Resposting here:\nPagination using start and limit work well for small collections, but querying large datasets will eventually require the ability to paginate using cursors.\nYou can see in the OpenCRUD specification they allow using after or before as cursor parameters that enable efficient traversal of large result sets.\nThis feature request may be redundant if #1057 gets implemented first, but if you guys were planning on doing incremental feature additions to the GraphQL plugin, this would be a great one to have.\nThanks!. Updated. Sure, here's the sample files.\nThe sample document I included has no assignee property deliberately. If you try to set assignee to null using updateWorkorder it should trigger the error.\nVariables for the mutation JIC:\n{\n  \"input\": {\n    \"where\": {\"id\": \"5c1c52f925b5924b5081420b\"},\n    \"data\": {\n      \"assignee\": null\n    }\n  }\n}. ",
    "f2net": "Aurelien, I didn't mean a limit on the number of records, but a limit on the depth of the nesting.\nIf it is possible to nest unlimited sub-queries, the api is subject to performance attacks causing heavy loads on the server.\n@Aurelsicoko @pierreburgy \nSee this article by Max Stoiber:\nhttps://dev-blog.apollodata.com/securing-your-graphql-api-from-malicious-queries-16130a324a6b\n. ",
    "normanzb": "@lauriejim updated according to the template, can you reopen the ticket?. hi @lauriejim, thanks for the work, but I tested with 3.0.0-alpha.12.1.3, issue still exist.\n\nCreated new project with above version.\nInstall graphql plugin\nnew content type with fields: name:String, users:ManyToMany to User\ncreate new entry for type test, add admin into the users\nsend below graphql query\n{\n  tests\n  {\n    name,\n    users {\n      _id\n      username\n      email\n      provider\n      password\n      resetPasswordToken\n    }\n  }\n}\n\nthe error you will get:\n{\n  \"data\": {\n    \"tests\": [\n      {\n        \"name\": \"test\",\n        \"users\": null\n      }\n    ]\n  },\n  \"errors\": [\n    {\n      \"message\": \"Cannot read property 'primaryKey' of undefined\",\n      \"locations\": [\n        {\n          \"line\": 5,\n          \"column\": 5\n        }\n      ],\n      \"path\": [\n        \"tests\",\n        0,\n        \"users\"\n      ]\n    }\n  ]\n}. ",
    "jamesscholeyweb": "I am also experiencing this issue with nested queries:\n{\n  posts {\n    Title\n    Content\n    Author {\n      username\n    }\n  }\n}\nCorrectly returns\n{\n  \"data\": {\n    \"posts\": [\n      {\n        \"Title\": \"This is a post\",\n        \"Content\": \"This is some awesome post content!\",\n        \"Author\": {\n          \"username\": \"James Scholey\"\n        }\n      },\n      {\n        \"Title\": \"This is another post\",\n        \"Content\": \"Content here!\",\n        \"Author\": {\n          \"username\": \"James Scholey\"\n        }\n      }\n    ]\n  }\n}\nHowever if I nest a query for all posts of an author null is returned on the posts\n{\n  posts {\n    Title\n    Content\n    Author {\n      username\n      posts {\n        Title\n        Content\n      }\n    }\n  }\n}\nReturns \n{\n  \"data\": {\n    \"posts\": [\n      {\n        \"Title\": \"This is a post\",\n        \"Content\": \"This is some awesome post content!\",\n        \"Author\": {\n          \"username\": \"James Scholey\",\n          \"posts\": null\n        }\n      },\n      {\n        \"Title\": \"This is another post\",\n        \"Content\": \"Content here!\",\n        \"Author\": {\n          \"username\": \"James Scholey\",\n          \"posts\": null\n        }\n      }\n    ]\n  },\n  \"errors\": [\n    {\n      \"message\": \"Cannot read property 'primaryKey' of undefined\",\n      \"locations\": [\n        {\n          \"line\": 7,\n          \"column\": 7\n        }\n      ],\n      \"path\": [\n        \"posts\",\n        0,\n        \"Author\",\n        \"posts\"\n      ]\n    },\n    {\n      \"message\": \"Cannot read property 'primaryKey' of undefined\",\n      \"locations\": [\n        {\n          \"line\": 7,\n          \"column\": 7\n        }\n      ],\n      \"path\": [\n        \"posts\",\n        1,\n        \"Author\",\n        \"posts\"\n      ]\n    }\n  ]\n}\nSame error with the following also\n{\n  users {\n    username\n    posts {\n      Title\n    }\n  }\n}. ",
    "notedit": "yes,  same  error. ",
    "daru23": "I am having the same issue. Could somebody please take a look to solve it.. Did you recently migrate your project? \nI am facing the same problem and I notice that the new models generate different code. I am assuming this is cause of a migration process.\n. @derrickmehaffy Thanks a lot. Work smoothly for me. . For me, this issue stop when I made npm install inside all the plugins folders.\nMaybe that can help you.. ",
    "lschans": "Update: \nIt seems to only happen when you have touched the password field before saving.\nIn MongoDB the password field goes to 'null' also when I use a password starting with '$2a$10$' this happens.\nSo if my password is '$2a$10$Awes0mePa5s' it's setting it to 'null' in the database.. No in the latest version this is solved. Can close this ticket.. ",
    "victorlambert": "Hey @lauriejim, thanks for fixing this issue.\nI was wondering if the via property was required on oneToMany relations like this one, on Article.settings.json : \n//Path \u2014 ./api/user/models/User.settings.json.\n{\n  \"attributes\": {\n    \"articles\": {\n      \"collection\": \"article\",\n      \"via\": \"author\"\n    }\n  }\n}\n//Path \u2014 ./api/article/models/Article.settings.json.\n{\n  \"attributes\": {\n    \"author\": {\n      \"model\": \"user\",\n      \"via\": \"articles\"\n    }\n  }\n}\nThis is how we got this issue, and this is how the model is generated from the admin ui.\nIn the docs, there is no via property to demonstrate the oneToMany relations.. Hey @lauriejim, I am sure that I do not send an empty array for users. But I just found why I had this issue. I was calling getRole and then updateRole on server side using a boostrap function. In this case, _.differenceBy 'id' is comparing users lists by ObjectID that do not have been parsed as JSON. So comparing users by ObjectID reference always return all users. These same functions (getRole and updateRole) called from REST through admin will compare 'id' as string (and not ObjectID) and run well as expected. . Hey there, I'm having the same issue and my content types and attributes are both lowercase.\nHere are the 2 schemas : \n{\n  \"connection\": \"default\",\n  \"collectionName\": \"study\",\n  \"info\": {\n    \"name\": \"study\",\n    \"description\": \"\"\n  },\n  \"options\": {\n    \"timestamps\": true\n  },\n  \"attributes\": {\n    \"missions\": {\n      \"collection\": \"mission\",\n      \"via\": \"studies\"\n    }\n  }\n}\nand \n{\n  \"connection\": \"default\",\n  \"collectionName\": \"mission\",\n  \"info\": {\n    \"name\": \"mission\",\n    \"description\": \"\"\n  },\n  \"options\": {\n    \"timestamps\": true\n  },\n  \"attributes\": {\n    \"studies\": {\n      \"collection\": \"study\",\n      \"via\": \"missions\",\n      \"dominant\": true\n    }\n  }\n}. ",
    "johannpinson": "@lauriejim this PR may be a duplicate of https://github.com/strapi/strapi/pull/1268. I know, i already have the problem with Prisma (who manages the OpenCRUD docs) about this problem: https://github.com/prismagraphql/prisma/issues/1772\nIn fact, the use a scala library to detect singular/plural words and blocks some of them.\n. @Aurelsicoko \nActually, Prisma blocks words which are invariable.\nAnd in the OpenCRUD doc, it talks about using the java library evo-inflector (because Prisma is built with Scala/Sangria) and it lists 51 words invariable.\nMoreover, it looks like Strapi use the pluralize lib, so we can detect if the word have a plural way.. Hey @raulriera\nI was looking for this bug today and you right, the problem is when you add a string as a resolver.\nMoreover, the resolverOf doesn't looks to be applied.\n\n@lauriejim : FYI =>\nIn the generateSchema function, around this code:\nacc[type][resolver] = _.isFunction(acc[type][resolver]) ?\n  acc[type][resolver] :\n  acc[type][resolver].resolver;\nI try to replace it by:\nif (acc[type][resolver].resolver &&  _.isString(acc[type][resolver].resolver) {\n  const [name] = acc[type][resolver].resolver.split('.');\n  acc[type][resolver] = this.composeResolver({}, null, name.toLowerCase(), pluralize.isSingular(name))\n}\nBut i have some problems with the override from the upload plugin (which one works well with the resolver as a string, but it seems because the ShadowCRUD already init it).. Thanks @Aurelsicoko! \ud83d\udc4d . Hello @johntom \nPlease have a look to this docs: https://strapi.io/documentation/3.x.x/guides/graphql.html#query-api\nThe \"filter\" logic works with the where param where you can put a JSON with the wanted rules.. Can you test this:\ngraphql\nquery {\n  articles(where: {\n    title: \"Reynold 2\"\n  }) {\n    _id\n    title\n    content\n    contentHtml\n  }\n}. Hey @soupette,\nI watched this issue yesterday but don't have the time to push my commit before you.\nTo avoid repetitive function calls, I change a little the behavior of the component.\nYou can see the change in the commit linked to this issue.\nDo you think the pull request is still welcome?. PR added \ud83d\udc4d . Hey @mnlbox \nI just test it on FF 60.0.1 and MacOS 10.13.4 and I can't reproduce the issue, the password manager of FF don't stop the redirect to the user list page.\nWhat is your version ?. Not the same point, but similar => https://github.com/strapi/strapi/issues/1274. Ok but it seems you will have some issue with mongoose.\nThe docs indicate some constraints about remove it:\n\nThe _id field is the only exception because MongoDB includes it by default`\n\nhttp://mongoosejs.com/docs/api.html#query_Query-select. @Aurelsicoko In fact, keep the _id isn't a problem for me, it's just about the GraphQL logic and so remove the _ to get just id.\nBut since mongoose consider _id as an ObjectId, it's why I suggest to add a custom resolver as for the timestamps fields (I don't remember if MySQL/Postre used both or only id).. I will wait the issue #1356 to be merged before updating this resolver. Hey @soupette \nIn fact, the problem is about the e.stopPropagation(), which results a bug from the issue #1257.\nAnd whatever the defaultProps, the IcoContainer also provide one:\nhttps://github.com/strapi/strapi/blob/bb514d48ce8550f68a4a36b8e8fb7fccd076d4ef/packages/strapi-helper-plugin/lib/src/components/IcoContainer/index.js#L20-L22\nSince the default value will still be an empty function, force the stop of event propagation can be a problem if a parent element also have a onClick handler (as exception for the delete button)\n\nIt's why I group all the code inside the if statement, to disable any overridden behavior.\n(and i don't use the isFunction because it can be a boolean).\nActually, the PR just not cover the case if the developer set the props to the boolean true.\nFeel free to contact me via Slack if necessary.\nPS: well seen for the default props, I thought I changed it with my commit.. @soupette I already made the update after my previous comment \ud83d\ude09 . I'm on it! I will finish it today \ud83d\ude09 (I also look about to add Enumeration type to the content-type-builder plugin).. @Aurelsicoko Update available (and some improvements added  btw \ud83d\udc4d). @derrickmehaffy It still need some tests but it's here \ud83d\ude09 \nhttps://github.com/strapi/strapi/pull/1313. Hey @lauriejim \nYes we talk about in Slack.\nActually, we can target a many-to-one, like http://localhost:1337/platformmodels?platform=ID to filter into relation, because the platform fields is an object and not an array in this side of the relation.\nThis is my actually code to make the filter working:\nes6\nPlatform\n  .find()\n  .where(convertedParams.where)\n  .sort(convertedParams.sort)\n  .skip(convertedParams.start)\n  .limit(convertedParams.limit)\n  // .populate(_.keys(_.groupBy(_.reject(strapi.models.platform.associations, {autoPopulate: false}), 'alias')).join(' '));\n  .populate([\n    {\n      path: 'platformModels',\n      match: { type: 'STANDARD' }, // make dynamic with convertedParams.relation?!\n      options: { limit: 5 },\n    },\n    {\n      path: 'posts',\n      options: { limit: 10 },\n    },\n  ]);\nMy next step will be to make it dynamic the populate with some like:\nes6\n.populate(strapi.models.platform.associations.filter(item => item.autoPopulate).map(item => item.alias).join(' ')). @lauriejim \nThis is a proposition about filter on a relation x-to-many:\n- The relation entity will need to have _relation at the end\n- Then the field inside the relation is attach like an object, aka .field\n- This gives something like platformModels_relation.type in my case\nOf course, I already test the system to handle some case like platformModel_relation.type_ne \ud83d\ude09 \nAre you ok with this specs?. It was just a proposal to simplify my actual code and avoid to search if the param matches to an existing attribute \ud83d\ude04\nBut in all case, we will need to separate this kind of filter of where:\ncf. strapi-utils/lib/models.js\njavascript\nconst convertParams = {\n  where: {},\n  sort: '',\n  start: 0,\n  limit: 100,\n  relation: {},\n};\n```js\n} else if (key.match('_relation.')) {\n  const [keyModel, keyAttribute] = key.split('.');\n  const model = keyModel.replace('_relation', '')\nlet type = '=';\n  if (keyAttribute.match(/{1}ne|lte?|gte?|containss?/)) {\n    type = keyAttribute.match(/{1}ne|lte?|gte?|containss?/)[0]\n  }\n  key = keyAttribute.replace(type, '')\nresult = convertor(value, type, relation.${model}.${key})\n  result.key = result.key.replace('where.', '')\n} else {\n```\nand inside the service:\njs\n.populate(\n  strapi.models.platform.associations.filter(item => item.autoPopulate).map(\n    item => ({\n      path: item.alias,\n      match: convertedParams.relation[item.alias],\n      options: { limit: 10 },\n    })\n  )\n);\nBut yes, in fact we can also detect the \"type\" of relation:\njs\nObject.keys(attributes).forEach(\n  (item) => {\n    // is still undefined is not a relation?\n    console.log(this.getNature(attributes[item], item, models, model))\n  }\n). Hey @Aurelsicoko \nI thought about this type of url:\nhttp://localhost:1337/post?authors_relation.type=administrator\nIt will avoid to encode special characters like {, \" or space.\nMoreover it can be combined like:\nhttp://localhost:1337/post?authors_relation.type_ne=administrator. Yes I think we can detect if a variable is a relation, but it was just to simplify the logic and avoid a new iteration to check each parameter to know if it's an attribute or a relation \ud83d\ude04\n=> So, what it the best solution for you? It need to iterate the strapi.models.attribute-like list or there is a function like getNature() to detect it easily?\nMoreover, a oneToX relation doesn't need to catch the same logic, because if we have a author field (only one person car write a post), we can have xxx/post?author=123 to filter by author and not xxx/post?author.id=123. I also had this bug some time and it's when I run as usual the npm start command instead of strapi start.\n@yummyelin Do you see this kind of message when you save a field?\n\n. @derrickmehaffy Yes, of course \ud83d\ude04 \nType choice:\n\nMain settings:\n\nAdvanced settings:\n\nType list:\n\nInside the content manager:\n\n. @derrickmehaffy Ahah, yes it's correct, for example you can have FIRST,SECOND,THIRD as value inside the textarea.\n@lauriejim I code it from a MongoDB env, just tested in MySQL and it looks good, i will check Postgres asap (I haven't it installed on my computer, so i will try with docker btw).\nGlobally, I did't make a lot of tests (like double comma), but I wanted to create the pull request to give you a preview of the code and receive some feedbacks.. @lauriejim It also test it on a PG database, all looks ok \ud83d\udc4d . @derrickmehaffy Yes of course it just a simple way to change easily a Enum attribute from the back-office instead of the settings file.\nIn a perfect world, this is a example of how the interface can be:\n\nIt will allow to add on line (aka an input) for each new value of the enum.\nI'm pretty sure it's not difficult to add it to the admin/React but if I was time to make it, I was already develop the matrix/repeater field too \ud83d\ude06 . @Aurelsicoko Which icon is it?\nThis one => https://github.com/strapi/strapi/blob/master/packages/strapi-plugin-content-manager/admin/src/assets/images/icon_filter.png\n(I still had not the time to test the alpha12.3 \ud83d\ude06). and what about a \"manyWay\" relation type? \ud83d\ude03 . @derrickmehaffy can you test with the new 3.0.0-alpha.12.4, it looks to working well for me. hey @derrickmehaffy \n@lauriejim told me about this bug, I'm looking to fix it very quickly (in some minutes \ud83d\ude42). Ok, don't hesitate to tag me in the issue, I will have some time tomorrow morning to look it \ud83d\udc4d . @derrickmehaffy I agree with @lauriejim to remove the playground into production mode, because it's only a tool to test/debug your requests.\nBut if you need it in production, you can still use the Electron app (as you did) but normally, to secure the access, it may require an authorization http header (like Prisma as example). @derrickmehaffy PR added \ud83d\ude09 . @Aurelsicoko \nI'll try to look it today \ud83d\udc4d . \nThis is a preview of the field format.\ncreatedAt and updatedAt have the new format, and the field releaseWW the old one.\n(with the PR, all date fields will have the ISO format, this screenshot is just to show the difference). @kamalbennani \nThanks for the report, I push the update.\nFor testing, I made it manually, directly with the npm install (what is happening during the strapi install graphql) with a new project, and also with a existing project to be sure that the update will works.\nAfter, the build process and npm organization is copied exactly on the graphql-type-json which is working well.. @Aurelsicoko Ouch, well seen...\nI just test it with the default datetime available from the content type builder, I test it right now!. is related with https://github.com/strapi/strapi/pull/1437. @Aurelsicoko \nFYI: I didn't add the time detection for the format because it a type which we need to talk about.\nActually, time/date/datetime/timestamp are (or were) all considered as a datetime (TIMESTAMP for SQL / ISODate for Mongo).\nIf MySQL or PostgreSQL can separate the date and the time, it's not possible with Mongo.\nTwo options:\n1. remove the time and date because they can be use separately\n2. keep the 4 formats and add specific behavior in the admin when it's a SQL database. @lauriejim \nPR updated about what we talk => manage the actual four type around date.. @lauriejim \nIn fact, this PR is related with the other one (in the mind), but not depend in the code \ud83d\ude09 . Ok but i didn't see here it's used.\nIs it for filtering about a relation?. @Aurelsicoko \nJust to be sure, why it's not used the contains(s) filter if it's to make a LIKE operation?. @soupette Ok, I will let you remove it in next release and close this issue btw \ud83d\ude09 . @Aurelsicoko \ncf. Babel for example, Lerna can be use directly to simplify the publish script:\nhttps://github.com/babel/babel/blob/9283efaeb7a8c5b505b19332c3407dc44c668777/Makefile#L107-L117. @Aurelsicoko \nDuring creating some \"test\" projects, I see in the root node_modules that the strapi folder is a symlink for the global package installed.\nSince I modify some files to make tests, bug fix or evolution, it applies it to all projects and I need to make a npm install at the root folder to change it.\nBy passing to the scope logic, it will allow to install only the cli on global and the core in the project folder (and why not the cli inside the project and target it with the npx command). @Aurelsicoko docs updated. @lauriejim \nIt's not related, if you create a new project, add a timestamp field and go to the admin, you will already have this \"bug\".. @lauriejim:\nAs talked together, this PR is normally ready to merge.\nFor the moment, it just allow SQL database to separate time, date and datetime into a datetime like SQL format instead of a MySQL timestamp (which is too limited with 1970-2038 range for MySQL).\nMongo isn't modified since it's alreay use the ISODate for all \"date\"-like format.\nI also rename the main group from date to moment, since the default choice is datetime, I find it more understandable.. @lauriejim:\nBTW, it's ready for the review \ud83d\ude09 . @lauriejim : ok I see, some bug with the translation keys\n@derrickmehaffy : what do you meen by \"not the auto-generated types\" ?\nBecause actually, a date field created from the admin is always a date but if you modify manually your settings (json file) or you model, you can add one of this four: date, time, datetime and timestamp (cf. https://strapi.io/documentation/guides/models.html#define-the-attributes).\nSo this PR is to allow the user to create one of them directly.\n. @derrickmehaffy be careful, you tag the wrong person \ud83d\ude09 \nBtw, I not really change the logic about how MySQL/Postgre/Mongo stock the value, cf.\nhttps://github.com/strapi/strapi/blob/30fed8ab78de4fea135b417eca729671c379e0bd/packages/strapi-bookshelf/lib/index.js#L426-L431\nI just update it to use the datetime instead timestamp for MySQL for the 3 first types\nAbout type like time and date, which can have a dedicated type, I already talked about this with @lauriejim and it will be another PR to handle all possible behaviors.. @lauriejim @Aurelsicoko \nCan this PR move to the alpha.12.6 release?. @derrickmehaffy \nAh ha, damn... I actually use MongoDB 3.4 and MySQL 3.6 \ud83d\ude44 (but it works in fact ^^).\nI'll update this + add the changes to the /docs, thanks!. Tests were already made with ManyToMany, ManyToOne and OneToMany for Mongo + MySQL. Add fix for plugin relation and polymorphic (upload/file).\nCan be tested! \ud83d\udc4d . This PR will need another commit to update queries inside upload and user-permissions plugins. user API fixed.\nBut for upload, the polymorphic is a really touchy and not really usefull, I prefer to skip it and wait to know if someone would need it.\nThis time, it's ready for the review \ud83d\ude09 . @lauriejim @derrickmehaffy \nIt looks a bug with the scalar JSON which is not applied to this kind of type.. @lauriejim @derrickmehaffy \nI'll try to look it around the end of the week.\nIf someone else want to fix it, just do it \ud83d\udc4d . @Blacknosaur \nCan you give me an example of your db structure?\nIf you can, feel free to copy/paste your models json file.\n. Well done @kamalbennani \nI hope that my previous work had help you \ud83d\ude42(the combo Bookshelf + GraphQL had a really weird behavior at the beginning). In fact, returning a Promise or using async/await is dealing with the same thing.\nBecause if it returns a new Promise(), it need to handle with the then()/catch() block or await and we can reverse it.\nFor example, when I use Sequelize, a lot of functions return a Promise and I use it with the async/await logic without problem.\nAfter, I based myself on the docs which indicated the use of async/await for Bookshelf as Mongoose \ud83d\ude42. @Aurelsicoko: I just see you add a second comment.\nNormally Bluebird is not a problem to use it with async/await.\n(and it seems that bluebird is not use actually). The goal is to transform eventually a JSON from a attribute (and so not apply the scalar JSON) or it will be use with the repeater/matrix plugin?. Ok I see, I also use to replace a .reduce() by .filter().map() when the logic is simple (and to avoid to make two iteration each time \ud83d\ude03). @kamalbennani as said @Aurelsicoko (cf. https://github.com/strapi/strapi/pull/1275#pullrequestreview-123560796), I share with him the goal to not use lodash because ES6 and next are really efficient now and it allow to use \"simpler\" functions to iterate some data (and it also avoid some of us to go to the lodash docs to know what make some mysterious functions).. Update the regex with (\\[\\w+!?\\]) to remove the potential useless .replace(). I see a lot of \njs\n(fieldType) => {\n return fieldType === 'Int' || fieldType === 'Float'\n}\nit can be change by:\njs\nfieldType => fieldType === 'Int' || fieldType === 'Float'\nMoreover, it's used several times around line 415, so it can be factoring into a function as you make forisPrimitiveType, with a name as isNumberType or something else.. It's missing an example for type UserAggregateAvg. Bug detected here\nThe second obj must be replace by option. I need to make more tests with a clean setup but it's seems to not working.\n\n. What about Enum type ?\nActually it's considered as an ID (and the same for DateTime scalar). Ok but if I keep the double obj, the groupBy and values are not working, just the aggregate count.\nMoreover, it generate me an error with the convertParams function:\nformattedValue.split is not a function (it's not your fault but it's linked because it's pass both query filter)\n@Aurelsicoko @lauriejim \nFor fix this related bug, inside strapi-utils/models.js I change } else if (key === '_sort') { by } else if (key === '_sort' && formattedValue) {. hey @kamalbennani \nActually, an enum can start with the ENUM_ by default, but it can also be overrided to a custom name.\nWhat about detect if it's an EnumTypeDefinition instead?. Don't forget the scalar JSON. You can remove the lodash function upperFirst too \ud83d\ude09 . In fact, yes we can (but I'm not sure it was very usefull \ud83d\ude04). You have several option:\nfieldKey.chartAt(0).toUpperCase() + fieldKey.slice(1) (you can even use fieldKey[0] directly)\nor\nfieldKey.replace(/^\\w/, c => c.toUpperCase())\n. I confirm, .chartAt() was use for compatibility with old versions of IE, you can so use string[0] to get the first letter directly \ud83d\udc4d . ",
    "juji": "+1\nin addition, access token can have roles assigned to it. So role-based rules will apply.. @derrickmehaffy correct. Will do\nOn Tue, 14 Aug 2018, 03:50 DMehaffy, notifications@github.com wrote:\n\n@juji https://github.com/juji should probably close this issue and\nsummarize your thoughts on the linked issue as to cut down on the number of\nduplicates.\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\nhttps://github.com/strapi/strapi/issues/1747#issuecomment-412659324, or mute\nthe thread\nhttps://github.com/notifications/unsubscribe-auth/AAeH8U2hCnlsMWWGWZsvG6WAXSqGVoEHks5uQeaOgaJpZM4V7ICt\n.\n. just writing for anybody having the same problem....\n\nDeleting \"plugin_content_manager_schema\" in core_store does not solve my problem.\nSo, what i did was copying value from \"plugin_content_manager_schema\" from my local to live server. It worked form me.\nCheers..\n-- i couldn't restart the server\ni think a migration should be written... so \"plugin_content_manager_schema\" will be automatically changed.. ",
    "deevolutionism": "why is something like this not a priority? Seems to me like a core feature of any headless CMS. Sure, I'd be happy to help out with this. I'm not 100% sure where this feature would be implemented, though. Would this fit in as part of the users + permissions plugin? Or would this be a core feature of strapi? Or its own standalone plugin?. @Aurelsicoko OK - well i propose perhaps adding a 5th tab to the roles & permissions admin panel, perhaps labeled \"Developer Access\" or something along those lines. In that panel there could be sections for generating different access tokens: a section for generating Personal Access Token, and a section for generating tokens for OAuth Apps. Does this seem like the right direction?. The mlab tutorial should be updated to mention authenticationDatabase as an important input - I think the image is outdated. Problem with using medium is community members can't make changes to it.... I performed exactly what @coding-saints suggested up top - his solution worked for me.\n\nFor the cli authentiicationDatabase value you need to use whatever the name was when creating it on mLab. So if you created a new deployment named my-sandbox, it would display something like ds100100/my-sandbox. Whatever the name is after the / is your authenticated DB (my-sandbox in this example). If I can find the reference then I'll edit this for your own research. I hope this helps. All I can say is I had a heck of a time getting started, also. Stay persistent!\nEdit: Also I believe you just leave SSL to the default (press enter). If I'm mistaken just type it explicitly then. I'll look for the issue where I found this from...\n\n. Out of curiosity... What exactly does it write to local storage and why has it been designed this way?. ",
    "Matschik": "I changed Nginx config to:\nlocation / {\n        proxy_pass http://localhost:1337;\n        proxy_http_version 1.1;\n        proxy_set_header Upgrade $http_upgrade;\n        proxy_set_header Connection 'upgrade';\n        proxy_set_header Host $host;\n        proxy_cache_bypass $http_upgrade;\n    }\nIt worked ! I must load Strapi only on server root. That's why all /strapi/* routes return 404.\nPossible fix\nStrapi must support other than root server url /.. ",
    "WesselKoorn": "@Aurelsicoko Can you explain how that exactly works?\nI want to host my Strapi application on a Nginx server on a custom route just as described above (mydomain.com/strapi for example) but I can't get it to work. I keep getting the same error when visiting mydomain.com/strapi and mydomain.com/strapi/admin:\n{\"statusCode\":404,\"error\":\"Not Found\",\"message\":\"Not Found\"}\nI've got the same Nginx config as the original post:\nlocation /strapi {\n            proxy_pass         http://localhost:1337;\n            proxy_http_version 1.1;\n            proxy_set_header   Upgrade $http_upgrade;\n            proxy_set_header   Connection 'upgrade';\n            proxy_set_header   Host $host;\n            proxy_cache_bypass $http_upgrade;\n}. @derrickmehaffy Ok I will use a subdomain then, thanks for your reply!. ",
    "d3vhound": "I'm also getting 401 errors when trying to create new content types. This doesn't happen locally but on a ubuntu 16.0.4 server it's a different story. I tried to change my admin config to the ip instead of localhost but when I ran npm run setup I got the above error message. I followed the docs and blog post I linked above. . ",
    "nathanmarks": "I'm seeing the same issue. Happens during the build task in admin. ",
    "underbayan": "It also happened to me, This issue is not an accidental phenomenon. ",
    "enoy": "I use 12.0.1, how to update my project to the latest version? @lauriejim . I also often need to create multiple items (array or list) in the number/string/text/media fields in Content Type Builder plugin. Is there a way to do this?. I also often need to create multiple items (array or list) in the number/string/text/media fields in Content Type Builder plugin. Is there a way to do this?. ",
    "johanalkstal": "I know this one is closed but I am giving Strapi a try and I am experiencing exactly this issue.\nI have created my first content type, it has a Media field.\nWhen I create a new one of that type and fill in all the fields, I can upload an image and see it in the UI before I save (all uploaded images are also in media files).\nI save.\nI call the API to get the content but the media property on the returned content is null.\nI navigate back to my newly created item and the Media Field is empty. All other fields retain their data.\nNode.js version:\nv8.10.0\nnpm version:\n5.6.0\nStrapi version:\n3.0.0-alpha.12.6\nDatabase:\nmongo\nOperating system:\nMac 10.13.5. ",
    "yolio2003": "i have the same problem too, \nit works by update /config/hook.json to 30*1e3\nthx. ",
    "manojkumar7488": "Hello @soupette  after login i got \n{\"statusCode\":400,\"error\":\"Bad Request\",\"message\":\"This provider is disabled.\"}\nWhy this error. yes i enable it\n. ",
    "synth3tk": "@gianniskarmas They mentioned (at least in this issue) that the issue creation template must be followed, or else they'll close the ticket until it's updated to reflect the template. It's not that they're saying it's an invalid or fixed issue.. As soon as #1568 gets fixed I'll work on it, since I was planning on adding another provider anyway.. @brandonbuttars PR #1613 has been submitted. While we wait on the Strapi team to give it a glance, could you possibly try it yourself to make sure it works the way you expect it with your org? I used an Office 365 dev instance, but I'm not sure if there's any difference with it.. It looks like cd53ef5ddf93ce543721fb688aeb929211d20486 is the offending party. I should have a PR submitted sometime today that will bypass this check if the field type is a string.. @Aurelsicoko I've made some updates. Related to the filter removal, I've tested with fields underscore_field and even_more_scores. I used a slice to take off the last element from the split array, then rejoin it.\nLet me know if this still needs work.. Currently this fixes strapi start, but I struggled trying to get it to fix strapi new. Going to need assistance figuring that part out, but this should be a good start.. Ah, that makes sense. Thank you for confirming I'm not crazy! At least, not in this instance.. I can confirm I'm also hitting this bug with the above steps on 12.7.1. Was it doing this in 12.6? I never tried to use an external provider until today.. I just had an interesting find. On server start/restart, the value of the core_store.plugin_users-permissions_grant is:\njson\n{\n   \"email\":{\n      \"enabled\":true,\n      \"icon\":\"envelope\"\n   },\n   ...\n}\nHowever, when saving the provider settings, it looks like this:\n```json\n{\n   \"providers\":{\n      \"email\":{\n         \"enabled\":true,\n         \"icon\":\"envelope\"\n      },\n      ...\n   },\n   \"roles\":{\n}\n}\n```\nMy assumption is the former is what it should look like.. Somehow I missed PR #1513. If it were a snake, it would have bit me. :snake: . This appears to be a duplicate. I tested that PR last night and it solved the 400 issue.. No worries! I clearly didn't see it, either. . @yummyelin Make sure you remove the <!-- and --> surrounding the lines in your pull request message. You can edit it without creating a new one.. @lauriejim strapi/strapi-examples#38 has been created.. I apologize for the delay, I'll add the documentation for Twitch and Microsoft on Friday when I'm back at home.. @lauriejim strapi/strapi-examples#37 has been submitted.. I've had that happen before. I thought I fixed it, but switching between branches probably threw me off at some point. I'll take a look at it tonight.. I'm pretty lost as to what decides which fields show up in the popup form. React is not my strong point.. @soupette I added two additional fields to bootstrap.js to point the Twitch Grant provider to the new urls. They get added to the database and works perfectly. However, they now show up in the admin provider pop-up when editing. I don't know where I can go to exclude those fields from displaying.  . I haven't forgotten about this. Had to put this project on pause to get ready for the Extra Life stream. I'll be revisiting it in November.. I've tested this implementation and can confirm that it works! :+1: . Correct me if I'm wrong, but fields are allowed to have an underscore in them. I recall attempting to use something like initially, but if the field is called underscore_field, then only underscore is returned.. Nevermind. I'm not sure how this one got past me. I could have sworn it was working correctly. Fix is on the way.. @derrickmehaffy Here's the part I had to add for Microsoft. You'll most likely need to do the same for Discord.. ",
    "xkawi": "having the same error too when creating new project using postgres as database:\ncli\nnode:224) UnhandledPromiseRejectionWarning: Error: A model cannot be destroyed without a \"where\" clause or an idAttribute.\n    at Sync.<anonymous> (/usr/src/api/strapi-app/node_modules/bookshelf/lib/sync.js:219:13)\nFrom previous event:\n    at Child.<anonymous> (/usr/src/api/strapi-app/node_modules/bookshelf/lib/model.js:1236:19)\n    at runCallback (timers.js:696:18)\n    at tryOnImmediate (timers.js:667:5)\n    at processImmediate (timers.js:649:5)\n    at process.topLevelDomainCallback (domain.js:121:23)\nFrom previous event:\n    at Child.<anonymous> (/usr/src/api/strapi-app/node_modules/bookshelf/lib/model.js:1235:8)\nFrom previous event:\n    at Function.removePermission (/usr/src/api/strapi-app/plugins/users-permissions/config/queries/bookshelf.js:138:8)\n    at Promise.all.Promise.all.toRemove.map.action (/usr/src/api/strapi-app/plugins/users-permissions/services/UsersPermissions.js:279:92)\n    at Array.map (<anonymous>)\n    at Object.updatePermissions (/usr/src/api/strapi-app/plugins/users-permissions/services/UsersPermissions.js:279:30)\nIt's this line of code: Promise.all(toRemove.map(action => strapi.query('permission', 'users-permissions').removePermission(action))) at here\nI am not familiar with user-permission plugin source code nor its table schema. So not sure if it's a bug or we can safely ignore it.. ",
    "KevinSupertramp": "Hi, I'm having the same problem with a fresh install + 1 new model. I changed the hook.js timeout to 40s and the problem is still here. I connect to a remote MySQL database.\nI don't have any log either just:\n[2018-07-26T14:39:49.592Z] debug \u26d4\ufe0f Server wasn't able to start properly.\n[2018-07-26T14:39:49.607Z] error (hook:bookshelf) takes too long to load\nAny ideas?\nThanks a lot!. ",
    "williamkunz": "I am getting this issue every time I create a new content-type/model using a local postgres. \n- The local connection to the DB is good. Output printed after successful connection. \n- My hook.json timeout is at 30000 just to make sure\n- strapi -v: 3.0.0-alpha.14.3\nadditional edit for more info\n- postgres: v10.5\n- node: v10.11.0\n- npm: v6.4.1\n- OS: OS X Mojave\n(I am fairly new to strapi). Thanks @maturanomx \nI had narrowed it down to when I open up one of the models permissions to public in the UI. Restart server to save the changes but it no longer started.\nI am doing some rapid development over here so I switched to mongo and no longer have that stack set up.\nIf I do end up building with Strapi & postgres, I will issue a ticket if it is still an issue.\nKeep up the good work, I'm liking this piece of software.. ",
    "christopher4lis": "Still getting this error when using MySQL instead of Mongo: (node:32784) UnhandledPromiseRejectionWarning: Error: read ECONNRESET\nInformation:\n\nNode.js version: v10.13.0\nnpm version: 6.4.1\nStrapi version: 3.0.0-alpha.14.5\nDatabase: 5.6.35-MySQL\nOperating system: macOS Mojave 10.14\n\nEnding errors include:\n[2018-11-18T21:30:25.110Z] debug \u26d4\ufe0f Server wasn't able to start properly.\n[2018-11-18T21:30:25.111Z] error (hook:bookshelf) takes too long to load\n(hook:bookshelf) takes too long to load\nUpping the timeout time in hooks didn't fix anything on my end.\n. Hi @derrickmehaffy. No, original projects with the above error were all created with MySQL. I did try Mongo after however, and things worked as expected. Seems to just be an issue with the MySQL version.. Got it, going to assume it's a missing permission or database issue since everything with Strapi was scaffolded using the strapi new command. I'll troubleshoot things further and come back with a solution, appreciate your help so far.\n. ",
    "waterlooblue": "I'm having the same issues as @christopher4lis. I can use MySQL when I build strapi locally. Increasing the timeout doesn't help either. What should the database settings look like?. ",
    "FikriRNurhidayat": "It's all fine when I generate:api without --tpl bookshelf.\nErrors happened when I start the server after generate:api using --tpl bookshelf.\nDB : Postgresql 11. ",
    "Kinark": "Did someone find a solution to this issue? I'm trying to find a way without using nginx.. For the ones having this issue, I recommend you to separate your api and your website in two different domains. So you can manage your website as a static one and your api as an api-only.. @tscans I believe you have to run two apps, that's a downside of my method :/\nBut you can always host your static files on gh-pages or netlify.. Still happening on the latest alpha version (3.0.0-alpha.14). @creativeesprit But it breaks another \"related\" content types.\nE.g:\nThis is my default api/game/services/Game.js:\nfetchAll: (params) => {\n  // Convert `params` object to filters compatible with Mongo.\n  const filters = strapi.utils.models.convertParams('game', params);\n  // Select field to populate.\n  const populate = Game.associations\n    .filter(ast => ast.autoPopulate !== false)\n    .map(ast => ast.alias)\n    .join(' ');\n  return Game\n    .find()\n    .where(filters.where)\n    .sort(filters.sort)\n    .skip(filters.start)\n    .limit(filters.limit)\n    .populate(populate);\n},\nI added a console.log(populate) to see what it returns, and it returns this:\nScreenshots MediaKit press rewards GamesListCover GameCover Logo\nHowever, those (except pressand rewards) are media inputs I added, not actual related content types. And if I do what you said, all those returns null when I fetch data.  \nI tried to do something like this:\n.populate([\n   populate,\n  {\n    path: 'rewards',\n    populate: {\n      path: 'Badge'\n    }\n  },\n]);\nBut it didn't work :c. @creativeesprit Sure. I'm sorry if I wasn't clear enough.  \nCT = Content Type, RCT = Related Content Type \nSo, I have 2 R (to Games) CT: press and rewards.\nIn Games CT I have many inputs, and 5 of them are media fields (Screenshots, MediaKit, GamesListCover, GameCover, Logo).   I don't know why, but those are returned here (along with the actual RPCs:\nconst populate = Game.associations\n  .filter(ast => ast.autoPopulate !== false)\n  .map(ast => ast.alias)\n  .join(' ');\nWhen I fetch the data, everyhing is fine, except for the rewards RCT. It is successfully included, but it has a media field that returns null.  \nThat's what I'm trying to include, the media field called Badge from rewards RCT.\n----EDIT----\nI did it!!!!\nI was replacing the old .populate by yours, when actually I just needed to add it.  \nSo this is my current situation:\nfetchAll: (params) => {\n  // Convert `params` object to filters compatible with Mongo.\n  const filters = strapi.utils.models.convertParams('game', params);\n  // Select field to populate.\n  const populate = Game.associations\n    .filter(ast => ast.autoPopulate !== false)\n    .map(ast => ast.alias)\n    .join(' ');\n  return Game\n    .find()\n    .where(filters.where)\n    .sort(filters.sort)\n    .skip(filters.start)\n    .limit(filters.limit)\n    .populate(populate)\n    .populate({\n      path: 'rewards',\n      populate: {\n        path: 'Badge'\n      }\n    });\n},\nAnd it worked!\nThank you :). @creativeesprit Really appreciate your help! Thank you :)\nI thought about the two populates and it worked, I've updated my previous answer.\nThanks again!. ",
    "tscans": "I'm have the same issue on this one.. In this case can I push both apps to the same heroku app?. True, this is probably the most viable now though. Thanks for the suggestion. . ",
    "blaasvaer": "Well, running the wrong node version for whatever reason.. @raulriera clicking your link sends me to slack (surprise!). Here I'm asked to sign in ...\nNow, I obviously don't have an account for strapi.slack.com ... and my only option is this:\nIf you have an @strapi.io email address, you can create an account.\nI then did that ... erhm, and then nothing happened, of course.\nNow, my question is: Is it automatically assumed that everyone reading issues on this github repo has a @strapi.io e-mail? Or am I totally missing something obvious, having a: ask-comment-click-link-to-slack-be-sent-to-slack-to-just-blankly-stare-at-the-screen-having-absolutely-no-clue-what-to-do-next-to-access-the-link-clicked-moment?. > And yes, anyone can create a slack account and join the strapi slack. The Slack server was probably created before the community could join it.\nErhm, I didn't get that. What am I supposed to do to create an account for strapi.slack.com?. Great, having to google how to create an account. That's seriously fucked up UX ; ) .... I know you don't have anything to do with Slack (other than having chosen it as your primary support platform ... now, that could be questioned as being a good idea). And in general it's all the assumptions you guys make ... that's really worrying.\nI've done all in my power to access strapi.slack.com but haven't gotten anywhere nearer a solution ... so I think I'll just leave it at that. Thanks.. My problem is, I haven't updated anything. I've run a clean 'getting started' process. But I just cannot login via a different browser. So deleting and recreating the admin doesn't seem like a solution .... OK, thanks for the update. I'll hold my horses on this project until it reaches a more erhm, mature state. ; ). Added bug templating .... Well, no true dynamic system should ever need a restart when only \u00bbcontent\u00ab is manipulated in any way. That would be a faulty architecture. And Content Types in a Headless CMS should also just be considered \u00bbcontent\u00ab, as that's what it's all about. Content Types is what an administrator should be able to \u00bbadministrate\u00ab \u2026. Well, in that case you know best. ; ). And your intro video on the site gives exactly the impression of a Headless CMS ... and if it's to also be used as that, then a restart of the server for creating a Content Type is not really that cool ; ).. Well, have to see what the community wants then.. Kewl.. @derrickmehaffy Excuse me, rude, how!? Have I stepped on some curling kids toes here or what's the case!?. Oh, there comes the adult card. Nevermind, I'm not into it.. Well, as described in the issue \u2013 I know that.\nBut how about making a great UX, and just fix the link on the icon? It seems bloody weird that I can click ANYTHING BUT THE ICON!\nWhen basic stuff like this isn't working, you're telling me that all sorts of bugs will crawl through the cracks ... there seems to be A LOT of basic stuff that isn't working (skim the issues, please).. Firefox Quantum: 59.0.2 (64-bit). ",
    "lnaie": "yes, i've just noticed that today. and it breaks most of content type managing screens. i had to create a new content type with a different name and remove the old one manually from mongodb.\nthe way to break it, would be to create a content type, its fields, then add some content, then start changing the type of the fields. pretty soon none of the content type managing screen will not be working.\nand btw, adding a new language does not work. \nguys, great product, but before adding more features, please get to stabilize what you have.\n. ",
    "tonyberetini": "I have to agree with @lnaie on this one. Until this is resolved I don't see myself implementing strapi in a serious setup. . Why is this issue closed, this should be a critical issue. . @derrickmehaffy which one is it I can't find it.... Exactly my point... how is anyone supposed to know what that field is for if it is not explained with a help tip. . Ha Ha Ha\u2026 question shouldn\u2019t this be defined in content type builder instead of content builder. This should be an annotation to a field in content builder not an annotation to a record within the content field. Am I looking at this from a wrong angle.\n. > But yes you should not be using any camelcase, spaces, or symbols in your model name or any fields\nThe UX should not allow these scenarios if that is the case... This is very confusing and it should be filed as a bug or in improvement to messaging and error handling.. > check this out #2426 (comment)\n\nThere exists some issues related to naming of fields.\n\nThanks man... why is this not a priority to get improved. How are content modelers supposed to know this without being told in either the UX or somewhere within the documentation?. @derrickmehaffy same.... ",
    "dwehrmann": "I'm at exactly the same situation right now. While developing a strapi-/gatsby site, 80% done, I noticed some of my tables should be renamed. It's a pity this cannot be handled in the strapi backend.. To be precise, I understand that under the hood the actual behaviour is that strapi does not \"rename\" the table but create a new one which is of course empty. \nAs any user would expect not to lose the data in the original table when trying to rename a table, it would be nice if strapi could create a new table, copy over the original table's contents and reference the new table from there on. User = happy.\n@Aurelsicoko is there a workaround for the time being? Btw, I'm currently using mongodb.. @derrickmehaffy I see. I think this is over my head, otherwise I'd be happy to help. This would be a great help, usability-wise.\nAs a workaround for now, I have taken the following steps \u2013 maybe this helps someone else:\nwith mongo 3.4.10:\n\ncreate a new (string) field in strapi with the correct name using the content type builder\nrestart strapi (feels better to see the new field)\nenter mongo shell\nuse.<yourCollection>\ndb.getCollection('<collection_name>').update({}, {$rename:{\"<old_fieldName>\":\"<new_fieldName\"}}, false, true);\n\nworked for me. Don't forget to adjust the queries in your application to the new field names.. ",
    "connectwithub": "Hi, \nAny update on this matter?. I am also facing a similar problem with Mysql. Only one side of the relationship is being updated in my case. I am trying to set up a parent child relation within my model. But if I add one thing as child the parent relation on the other product is being added but the child relation on the product is not being added and vice versa.. Having a similar issue. In my case, what i debugged through it was that :\n\nRenaming created another field rather than updating previous field name.\nAs the field was required, when a new column was added for the same no info was added to the new field, neither the previous column info nor the default value provided. This led to the error\nUnhandledPromiseRejectionWarning: Error: WARN_DATA_TRUNCATED: Data truncated for column 'SP' at row 1\n    at Query.Sequence._packetToError (/media/udbhav/WoRk/testing/strapi/test-project/node_modules/mysql/lib/protocol/sequences/Sequence.js:47:14)\n    at Query.ErrorPacket (/media/udbhav/WoRk/testing/strapi/test-project/node_modules/mysql/lib/protocol/sequences/Query.js:77:18)\n    at Protocol._parsePacket (/media/udbhav/WoRk/testing/strapi/test-project/node_modules/mysql/lib/protocol/Protocol.js:278:23)\n    at Parser.write (/media/udbhav/WoRk/testing/strapi/test-project/node_modules/mysql/lib/protocol/Parser.js:76:12)\n    at Protocol.write (/media/udbhav/WoRk/testing/strapi/test-project/node_modules/mysql/lib/protocol/Protocol.js:38:16)\n    at Socket.<anonymous> (/media/udbhav/WoRk/testing/strapi/test-project/node_modules/mysql/lib/Connection.js:91:28)\n    at Socket.<anonymous> (/media/udbhav/WoRk/testing/strapi/test-project/node_modules/mysql/lib/Connection.js:502:10)\n    at Socket.emit (events.js:182:13)\n    at Socket.EventEmitter.emit (domain.js:441:20)\n    at addChunk (_stream_readable.js:283:12)\n    at readableAddChunk (_stream_readable.js:264:11)\n    at Socket.Readable.push (_stream_readable.js:219:10)\n    at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)\n    at Protocol._enqueue (/media/udbhav/WoRk/testing/strapi/test-project/node_modules/mysql/lib/protocol/Protocol.js:144:48)\n    at Connection.query (/media/udbhav/WoRk/testing/strapi/test-project/node_modules/mysql/lib/Connection.js:200:25)\n    at /media/udbhav/WoRk/testing/strapi/test-project/node_modules/knex/lib/dialects/mysql/index.js:144:18\nFrom previous event:\n    at Client_MySQL._query (/media/udbhav/WoRk/testing/strapi/test-project/node_modules/knex/lib/dialects/mysql/index.js:135:12)\n    at Client_MySQL.query (/media/udbhav/WoRk/testing/strapi/test-project/node_modules/knex/lib/client.js:192:17)\n    at Runner.<anonymous> (/media/udbhav/WoRk/testing/strapi/test-project/node_modules/knex/lib/runner.js:138:36)\nFrom previous event:\n    at /media/udbhav/WoRk/testing/strapi/test-project/node_modules/knex/lib/runner.js:47:21\n    at runCallback (timers.js:705:18)\n    at tryOnImmediate (timers.js:676:5)\n    at processImmediate (timers.js:658:5)\n    at process.topLevelDomainCallback (domain.js:120:23)\nFrom previous event:\n    at Runner.run (/media/udbhav/WoRk/testing/strapi/test-project/node_modules/knex/lib/runner.js:33:30)\n    at Raw.Target.then (/media/udbhav/WoRk/testing/strapi/test-project/node_modules/knex/lib/interface.js:23:43)\n(node:27329) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)\n(node:27329) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.\nIn my case the Column name was: 'SP'\nThe cloumn for the field before renaming was still present and not removed.\n\nPossible Solutions according to me is instead of adding a new column in MySql try renaming the column.\nPS. Same issue also happens for adding a new column after adding some data. @lauriejim All I am saying that renaming a field creates another column in Mysql which is created with null values. The previous data is left in the field with the previous name. And if we make that field required or if its required field beforehand then as there ain't any data in the database corresponding to that field this leads to a throwing up of error in the cli that I have mentioned above. \nMy suggested solution was that if we update the content type name from cli or ui then either the original column be renamed or atleast the data from that column be copied to the new column or the default data be added to the column so that no error is thrown. Being a developer myself I feel that this is possible and if you could point me to right file for this I would be more than happy to open a pull request for this.. ",
    "Aurelyn10": "Ok I attached the terminal log screenshot and updated.\nI entered the command \"npm run setup\", it is not done yet but seems working now, it is taking time.\nBut I have a question, just simple recompile with  replacement logo image, but what package  it is installing?\nIt is still shows \"\ud83d\udce6  Installing packages...\". Whenever changing something, is it taking time with installing package?\nThere is no auto compilation feature like as webpack?. I followed and did like this:\n1. Development Environment Setup\n   To setup the development environment please follow the instructions below:\n      1)  Fork the repository to your own GitHub account.\n      2) Clone it to your computer git clone git@github.com:strapi/strapi.git.\n      3) Run npm run setup at the root of the directory.\n2. Plugin development Setup\n   Create a development project\n       1) Go to a folder on your computer cd /path/to/my/folder.\n       2) Create a new project strapi new myDevelopmentProject --dev.\n3. I do not create my own plugin, just want to customize current admin dashboard, so did NOT follow next instruction this:\n\" To generate a new plugin run the following commands: ... \"\nInstead of that, I did following from the document https://strapi.io/documentation/advanced/customize-admin.html#deployment\n     Development mode\n         #1 \u2014 Install its own dependencies\n         Run npm install from the ./admin folder.\n         #2 \u2014 Launch the development server\n        Run npm start from the ./admin folder. That's all.\n        #3 \u2014 Go to the browser\n       You should be able to see the admin at http://localhost:4000/admin.\nBut It shows this error on the browser and terminal:\n ERROR in Entry module not found: Error: Can't resolve '/Volumes/Data/backend/plugins/analytics/node_modules/strapi-helper-plugin/lib/src/app.js' in '/Volumes/Data/_Backend/strapi/packages/strapi-admin'\nWhat is wrong ?\nIn the above log, \nI cloned strapi from github to this path:  /Volumes/Data/_Backend/strapi/\nAnd my test project path: /Volumes/Data/backend/. In my test project folder, run command : cd plugins/analytics && npm link strapi-helper-plugin.\nso the error was disappeared, but admin page is blank in web browser, where is your admin page?\nThe screen is the inspect of the browser.\n\n. It works now, Thank you for your help.\nI will wait for more detailed documentation. . I think it will increase complexity, if there is many items to be listed as array to even base data type such as string and number.\n. I found.\nadmin/admin/src/containers/Homepage\nreturn (\n      \nStrapi- ${pluginName}}\n        />\n        {containers}\n      \nChange here.. ",
    "peder1001": "I too would like to test the changes. Had the same issue . Will try the following and see if it helps.\n@ node_modules\\strapi-bookshelf\\lib\\index.js\nfrom:\ncase 'float':\n                          case 'decimal':\n                            type = attribute.type;\n                            break;\nto:\n                      case 'float':\n                        type = attribute.type;\n                      break;\n                      case 'decimal':\n                        type = 'decimal(10,2)';. ^^ this fixed my problem, but unsure of correct solution for others. Something to consider in your generic fix.. Maybe float is better for my case anyway. Thanks for the suggestion. But is this as intended that decimals should be added as 10,0 for mysql?\n\nedit: sorry, saw the link now. nice. ",
    "ToshKoevoets": "Hi Guys, \nIt's not clear to me what the solution is for an existing project since the packages are copied to the project. Solution by @derrickmehaffy offers only one for a new project. \nWhen I look at the master branch, and the version that I used to init the project: 12.1.3 it's the same code and same formatting: YYYY-MM-DD HH:mm:ss?\nSo not sure what change was made in order to fix the issue for an existing project. \nIt doesn't seem possible to run an existing project in dev mode? Is that correct? That's quite a pain.\nGr. Tosh. ",
    "mstapp": "I'm still getting this error in v3.0.0-alpha.13.0.1 & mysql 5.7.\n\nUsing strapi docker image for v3.0.0-alpha.13.0.1.\nMysql 5.7 (docker image)\nOS X 10.13.6 (High Sierra)\n\nI have a simple Content Type with a date field called \"pubdate\" (mysql type \"timestamp\", default CURRENT_TIMESTAMP). If I add a new record using the admin UI and I leave the pubdate field blank, then I can save the record successfully & it gets the default current timestamp. But if I use the admin UI's date & time picker to specify a date & time, then I can't save & get an error message saying that I'm trying to add a date in the wrong format.. ",
    "srishti-56": "Thanks for the quick reply!\nI haven't seen a collection key in any of the files, is there a way to insert it manually?\nThe Blogpost.settings.json file looks like this (the other [Model].settings.json file has a similar format with no new keys so I've only added this one for reference)\n{\n  \"connection\": \"default\",\n  \"collectionName\": \"blogpost\",\n  \"info\": {\n    \"name\": \"blogpost\",\n    \"description\": \"\"\n  },\n  \"options\": {\n    \"timestamps\": true\n  },\n  \"attributes\": {\n    \"Title\": {\n      \"type\": \"string\",\n      \"required\": true\n    },\n    \"Content\": {\n      \"type\": \"text\"\n    },\n    \"PublishDate\": {\n      \"type\": \"date\"\n    },\n    \"Author\": {\n      \"via\": \"UserId\",\n      \"plugin\": \"users-permissions\"\n    },\n    \"PostId\": {\n      \"collection\": \"mediauploads\",\n      \"via\": \"relatedToPost\",\n      \"dominant\": true\n    },\n    \"Likes\": {\n      \"type\": \"integer\"\n    }\n  }\n}. ",
    "kaasasolut": "Sorry, although I searched, I couldn't find that.. ",
    "hammad786": "Thanks for the response :) \nNo worries about credentials since it is a testing droplet. \nI just checked the settings tab where I had to enable GZip compression and it started to respond fast as expected. GZip compression is disabled by default due to development mode. \n. ",
    "liming": "I have the same error. The error is something like this:\nCast to ObjectId failed for value \"[ { _id: '5aefa39d590dfb178f3bd5dc',\n    username: 'match',\n    password: 'xxxx',\n    email: 'someone@gmail.com',\n    provider: 'local',\n    role: '5aefa34e590dfb178f3bd50a',\n    __v: 0,\n    articles: null,\n    id: '5aefa39d590dfb178f3bd5dc' } ]\" at path \"author\". I figured this out. It's because the author field in article is a multiple selection instead of single selection. To make it as single selection, we need add a dominant flag in the Article.settings.json: \njson\n \"author\": {\n      \"model\": \"user\",\n      \"via\": \"articles\",\n      \"dominant\": true,\n      \"plugin\": \"users-permissions\"\n    }\nThen edit article field doing nothing but it can display \"save\" button. Save the configuration to restart & reindex the api. Edit an article. It would display author in article as single selection. . @bzhr , I believe it's a bug. What I proposed is just a workaround.. Hi @lauriejim ,\nI just curious about the design of plugins. The plugins are the features of strapi, and these features need to be updated constantly. On the other hand, the user changes are also saved into plugins. For example User.settings.json in users-permission/models. I can see the plugins need to be changed by both strapi and users. That's a design flaw, which will result in:\n\nIt makes strapi project difficult to be upgraded.\nThe user changes are difficult to preserve. \n\nDo you have any future plan to change this design?. This is duplicated and fixed as #1130. ",
    "efezus": "Despite this issue status, I'd like to add, that the sitation is still the same, as @wi4er stated earlier. There is no difficulty to reprduce the sitation: clean alpha strapi install with one admin user, enable Google provider and so, as @wi4er wrote it. No programming or React-magic needed...\nIt is frustrating situation, when there is a feature, which should work some way, but when you start to use it, you just end up with undocumented errors... I know, strapi is only at apha stage, but not everybody is a full/time programmer, who wants to use strapi.\nThe strapi documentation states:\n\nRedirect your user to: GET /connect/:provider.\nAfter their approval, they will be redirected to /auth/:provider/callback. The jwt and user will be available in the querystring.\n\n\nWell, this is not the situation at the moment with the packed in Google provider.\n. ",
    "dggodfrey": "I am on the latest version of strapi (alpha-16) and google auth works great! I did get this issue for a while (hence how I found this page when searching google for help). I quickly realized, I created the id and secret and didn't actually enable the service on the google side. So, @efezus make sure you have enabled the google service. Creating the client secret isn't enough. You can view the google service status at this url, just select your app: https://console.developers.google.com/apis/api/plus.googleapis.com/overview\nHopefully this helps and you get your auth working!. ",
    "OwenCalvin": "Same problem.... Exactly the same problem, the relations is created in one of ....settings.json model files but not on the second file, so I need to add this manually in the other file...\n\n\n. ",
    "nicholas-c": "Having the same issue here - New install, created 2 new content types, added a couple of string fields to the first, then created a relation to the second, crashed and won't start again :(. ",
    "lauborges": "same error in 3.0.0-alpha.12.6 :-(. hi @Aurelsicoko \nAfter several tests, I saw that I cannot create a relationship with an entity using camelCase.\nin my case:\nestablishment can have an attribute called establishmenttype but can't if the attribute name is establishmentType\n$ debug POST /content-type-builder/models/ (76 ms)\n$ error Something went wrong in the model `Establishment` with the attribute `establishmentType`\n$ error Cannot read property 'attributes' of undefined. ",
    "signorekai": "@Aurelsicoko I too have encountered this while using an external DB. Hope it helps!. +1.\nAlso facing this problem with a remote Mongo hosted on Mongo Atlas.. For what it's worth, I've encountered this as well, and figured it's the content-manager plugin's config. I've basically just used https://jsonformatter.org/ to format the string @derrickmehaffy mentioned, inside core_store under plugin_content-manager__schema. The site lets me collapse nodes, and generally has good formatting (to me anyway).\nJust keep a look out for duplicate keys and any keys that you may have removed. These will cause the content-manager page on your admin to not work properly.. Yeah was a massive pain to deal with. Hopefully this will get better in the\nfuture. Until then!\nOn Tue, 18 Sep 2018, 12:39 AM DMehaffy, notifications@github.com wrote:\n\nGood hint @signorekai https://github.com/signorekai I was trying to\nbreak it down manually. Exporting as CSV from MySQL and trying to manually\nmodify the CSV. Most programs won't even open a CSV that big (a good 75\nmodels worth) \ud83d\ude06\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\nhttps://github.com/strapi/strapi/issues/1912#issuecomment-422085797, or mute\nthe thread\nhttps://github.com/notifications/unsubscribe-auth/ALms12KJuOrx2OXax-uKAh4uF54EfQW0ks5ub9BbgaJpZM4WdR7Z\n.\n. @derrickmehaffy any particular reason why?. @lauriejim \n\nThat wasn't what I meant; I know it doesn't change my config files. I'm just saying the config file format was updated.\nI had this as my config previously:\n{\n  \"defaultConnection\": \"default\",\n  \"connections\": {\n    \"default\": {\n      \"connector\": \"strapi-hook-mongoose\",\n      \"settings\": {\n        \"client\": \"mongo\",\n        \"uri\": \"mongodb+srv://<user>:<pass>0@<host>/<database>\"\n      },\n      \"options\": {\n        \"ssl\": true\n      }\n    }\n  }\n}\nAnd after updating to alpha.14 (or alpha.14.1), strapi is not connecting to my db properly. I started a new project with strapi new and compared the config file, and found that the new project had a new format for the config, as such:\n```\n{\n  \"defaultConnection\": \"default\",\n  \"connections\": {\n    \"default\": {\n      \"connector\": \"strapi-hook-mongoose\",\n      \"settings\": {\n        \"client\": \"mongo\",\n        \"host\": \"\",\n        \"srv\": true,\n        \"port\": 27017,\n        \"database\": \"\",\n        \"username\": \"\",\n        \"password\": \"\"\n      },\n      \"options\": {\n        \"ssl\": true\n      }\n    }\n  }\n}\n```\nJust putting it here just in case anyone else has the same problem.. ",
    "krisballistiq": "From my testing this appears to be browser related on model relation creation in the dropdown of the admin ui, latest chrome works vs latest firefox fails for me. . ",
    "g-div": "Any news about this feature ? Can we follow the development progress somewhere (maybe this issue shouldn't be closed) ?. In #931 @soupette proposed a work-a-round documented here, but it seems to work only on Content Types and not on plugins and general section, am I right or are there other possible solutions already available ?. Just asking because it was unclear if the feature was already released or not, since all related issues have been already closed. I was otherwise curious if it was possible to follow its development in detail, in order to eventually offer some help there.. If beforeSave/afterSave aren't fired on update but only on insert then means that using beforeSave/afterSave is the same as using beforeCreate/afterCreate. In this case I don't really understand why do we need both.\nOtherwise means that the following comment it's wrong or at least misleading:\n\n// Fired before an insert or update query.\n\nthis is somehow related to Strapi.. I think @maturano is right, but alternatively you can try npx. This worked for me:\nnpx strapi@alpha new my-project. @lauriejim the bug is pretty easy to reproduce: create a manyToMany relation and add more than one single entry to the relation.\n I've found that the bug is coming from these lines. IMHO these lines can be just deleted, but I don't understand at all what @Aurelsicoko was trying there. Should I submit a PR ?. BTW the bug is still there in version 3.0.0-alpha.14.2. I've tried 3.2.8 locally and 3.6.7 on the server. @lauriejim I've just tried to add fill out the form with a float, like for example 3.4539. This issue isn't completely solved. The content type manager will set \"default\": \"\" to a new created float field, which will cause the error popping up again on save (since we are trying to save an empty string as decimal value). Removing the default value will fix it.. Is #1855 related to this issue ?. It's a new fresh app and the attribute name is date.\nI've also just tried to reproduce this from scratch and was unable to, but I understood that the problem comes from this part of the model definition:\n\"date\": {\n      \"default\": \"o\",\n      \"type\": \"date\"\n},\nI'm not exactly sure where the o as default value is coming from, but I'm pretty sure that I've just created the model from the UI, without modifying the file myself. Even if it was my mistake accidentally writing an o as default value, I think the main problem is this error catching clause which isn't helpful enough and maybe in such cases the server start should be interrupted when default values can't be validated.. ",
    "carlosmarinho": "Any news if this feature was released? .... ",
    "dtaalbers": "Any idea when this is implemented? It's quite critical for me.. \ud83d\ude2e A highly voted feature like this? Ah well, we might change from Strapi in that case. Thanks for the reply!. @derrickmehaffy No worries, I understand. Wasn't aware of the rework, I only was a bit surprised about the roadmap seeing the votes for the feature. \ud83d\udc4d \n. ",
    "cpof-tea": "And, also, I found this.\nbeforeSave: async (model) => {\n  console.log(model);\n}\nbeforeCreate: async (model) => {\n  console.log(model);\n}\nreturns just simple Object with fields and values of item, but\nbeforeUpdate: async (model) => {\n  console.log(model);\n}\nreturns a big Query object\n\n. In generated api plugins/upload/controllers/Upload.js\nor in strapi-helper-plugin@alpha - controllers/Upload.js\n66 |       if (file.url && file.url[0] === '/') {\n67 |         file.url = strapi.config.url + file.url;\n68 |       }\nHere is it what you looking for. And I'm too x)\nI understand why strapi.config.url is actually here when strapi is representing as remote api, but when it's local this should be disabled, I think. Or there should be an option to disable it.. ",
    "theluk": "Hello,\nthats still a little bit unclear.\nWhy is it that when you save a new entry, beforeSave and beforeCreate are triggered and on update beforeSave is not? If the beforeSave is only used on creating a new entry, is beforeSave not redundant? \nthanks in advance. the same issue as from the initial issue here. \ni used the newest docs, the errors are the same. \n\n2018-12-21T16:06:16.605961+00:00 app[web.1]: error { MongoError: not authorized on strapi-production to execute command { find: \"core_store\", filter: { key: \"plugin_content-manager_schema\", environment: \"\", tag: \"\" }, projection: {}, limit: 1, singleBatch: true, batchSize: 1, returnKey: false, showRecordId: false, $clusterTime: { clusterTime: Timestamp(1545408367, 1), signature: { hash: BinData(0, 627E0226AD0EEEE9D1B2867837008ED3B0DEAE25), keyId: 6637447376975953921 } }, lsid: { id: UUID(\"77c8fa50-7f0b-4465-af03-c2c79760841f\") }, $db: \"strapi-production\" }. \n",
    "jsidorenko": "In addition to what @theluk said above, I found this description of the beforeSave method:\njavascript\n  // Before saving a value.\n  // Fired before an `insert` or `update` query.\n  // beforeSave: async (model) => {},\nthis is very confusing and should be fixed either in code logic or at least the auto-generated comment should be changed. ",
    "johanbaath": "Sorry this shouldn't be here :). I'm not very familiar with the code base yet. Let me know if there is a cleaner way to fix this :).. @adams79 @raulriera this issue is fixed in my pull request which was merged: https://github.com/strapi/strapi/pull/1222\nIt's not included in 12.2 unfortunately!. @Aurelsicoko yeah, I just wanted to get it working meanwhile :). I've looked at the code a bit more, it should be enough to do this check:\nhasUserPluginLoaded = (props) => typeof get(props.plugins.toJS(), ['users-permissions']) !== 'undefined';\nSince it's only added when PLUGIN_LOADED is dispatched.\nWhat do you think about that?. ",
    "thanhdevapp": "Please fix on windows. ",
    "vitaliyKorzhenko": "how I can change name in left menu?  How I can use label in admin/config layout.js. ",
    "SerQuicky": "I think the problem comes from my site, my profile folder got a whitespace and the git cmd has a problem with that. Just asked a friend to create and send me a strapi project and this project just works perfect.. Hello @lauriejim,\nI have the same problem, if the API doesn\u00b4t support form-data request, what are the options to send the file to the API? Can I just parse the form data to a json and add the refId to it?. ",
    "leafnetjake": "I agree with @derrickmehaffy \nAn interim solution I've used is to send a get request prior to each post/put for each field. This is rather taxing and could be addressed better.\ndata: {\u2026}\n\u200b\u200berror: \"Internal Server Error\"\n\u200b\u200bmessage: \"An internal server error occurred\"\n\u200b\u200bstatusCode: 500\n\u200bstrapi console\nmessage: 'Path `name` is required.',\nname: 'ValidatorError',\nproperties: [Object],\nkind: 'required',\npath: 'name',\nvalue: '',\nreason: undefined,\n'$isValidatorError': true\n. ",
    "rishisahu20": "You can handle your error status and error code by this==>\n`  create: async (ctx) => {\n let values = ctx.request.body;\n\n  const relations = _.pick(values, Business.associations.map(ast => ast.aas));\n\n  const data = _.omit(values, Business.associations.map(ast => ast.alias));\n\n  try{\n\n  const entry = await Business.create(data);\n\n  return Business.updateRelations({ _id: entry.id, values: relations });\n\n  }\n\n  catch(error){\n\n    let values=Object.values(error.errors)\n\n    console.log('Error Field===========>',values[0].message)\n\n    return ctx.response.badData([data], values[0].message)\n\n  }\n\n}`\nHTTP 4xx Errors\nctx.response.badRequest([message], [data])\nctx.response.unauthorized([message], [scheme], [attributes])\nctx.response.paymentRequired([message], [data])\nctx.response.forbidden([message], [data])\nctx.response.notFound([message], [data])\nctx.response.methodNotAllowed([message], [data], [allow])\nctx.response.notAcceptable([message], [data])\nctx.response.proxyAuthRequired([message], [data])\nctx.response.clientTimeout([message], [data])\nctx.response.conflict([message], [data])\nctx.response.resourceGone([message], [data])\nctx.response.lengthRequired([message], [data])\nctx.response.preconditionFailed([message], [data])\nctx.response.entityTooLarge([message], [data])\nctx.response.uriTooLong([message], [data])\nctx.response.unsupportedMediaType([message], [data])\nctx.response.rangeNotSatisfiable([message], [data])\nctx.response.expectationFailed([message], [data])\nctx.response.teapot([message], [data])\nctx.response.badData([message], [data])\nctx.response.locked([message], [data])\nctx.response.preconditionRequired([message], [data])\nctx.response.tooManyRequests([message], [data])\nctx.response.illegal([message], [data])\nHTTP 5xx Errors\nctx.response.badImplementation([message], [data]) - (alias: internal)\nctx.response.notImplemented([message], [data])\nctx.response.badGateway([message], [data])\nctx.response.serverUnavailable([message], [data])\nctx.response.gatewayTimeout([message], [data])\n.",
    "steveinatorx": "Advertiser.settings.json\n{\n  \"connection\": \"default\",\n  \"collectionName\": \"\",\n  \"info\": {\n    \"name\": \"advertiser\",\n    \"description\": \"\"\n  },\n  \"options\": {\n    \"timestamps\": true\n  },\n  \"attributes\": {\n    \"Name\": {\n      \"type\": \"string\"\n    }\n  }\n}. so i just did two additional fresh installs and i am seeing the same behavior as above.  I CAN however properly create content types with other names rather than 'Advertisers' which is making me think there is some internal naming clash going on. . its the oddest thing - everything in the admin UX works fine - including creating content types and new objects - until i create a new content type called 'advertiser' with the String Field 'Name'. When i try to click the Advertisers menu item - this console error comes up:\n\n\nmy guess is that this behavior might indeed be related to #791 \nFor now im just not using the 'advertiser' name for new content type as a workaround\n. \nlet me know if i can provide you with any more information. \n. ",
    "brocgailit": "This can be accomplished in the API by adding an or into the query pipeline.  (This example uses _q instead of _search)\nBuild the or Filter with all string types\njavascript\nlet search = [{}]; // or() does not allow empty\nif (params._q) {\n  search = Object.keys(Article.schema.paths)\n    .filter( key => Article.schema.paths[key][\"instance\"] === 'String')\n    .map( key => ({[key]: new RegExp(params._q, 'i')}));\n  delete params._q;\n}\nAdd to pipeline\njavascript\nreturn Article\n  .find()\n  .or(search) // <-- Insert search\n  .where(filters.where)\n  .sort(filters.sort)\n  .skip(filters.start)\n  .limit(filters.limit)\n  .populate(populate);. \n(Apologies for the poor quality GIF). @soupette is there is anything blocking the PR approval at this point?. @Aurelsicoko I understand you're perspective for purely aesthetic reasons, however from a usability standpoint it is quite a nightmare.\nThis approach with a few linked entries may seem ideal, but when you include dozens (or more?) entries inline it causes significant reflow making it quite difficult to determine sorting order efficiently.  \nYour approach also severely limits the extensibility of the Select Many component.  Consider a similar implementation to something like Contentful where you can easily interpret list order as well as extended action options like linking to edit the entry (Pencil icon).\n\n. \nLooks like overflow is being set to scroll on the ul element which is causing overlap here.  I like this approach otherwise.  Good work!. ",
    "lukeajtodd": "What errors do you happen to get?\nI've just installed using yarn global add strapi@alpha on Node (v10.1.0). I am on Mac so that could have something to do with this?. ",
    "amirakbulut": "This is still not solved, any updates? How to solve this?. > @amirakbulut just add the constraint manually for now. Once the conversion of some of the custom queries to knex functions is complete then me and @maturanomx can work on keys and such\nSo manually in let's say phpmyadmin?. ",
    "kenberkeley": "Finally, I encountered this issue just now... I couldn't even believe this happened (violation of common sense \ud83d\ude02)\nMy solution (courtesy of https://stackoverflow.com/a/1194498/5172890) :\nsql\nALTER TABLE tags ADD CONSTRAINT tags_name_uniq UNIQUE (name);. Using GraphQL:\n```graphql\nWrite your query or mutation here\nquery {\n  reports (where: {\n    category_in: [\"CategoryA\", \"CategoryB\"]\n  }) {\n    id\n    name\n  }\n}\n```. Same here\n```\nKen@DESKTOP-KGSFTF6 MINGW64 ~/Desktop/strapi-test\n$ npm run setup\n\nstrapi-test@0.1.0 setup C:\\Users\\Ken\\Desktop\\strapi-test\ncd admin && npm run setup\nstrapi-admin@3.0.0-alpha.16 presetup C:\\Users\\Ken\\Desktop\\strapi-test\\admin\nnode ./scripts/preSetup.js\n\n\ud83d\udd53  The setup process can take few minutes.\n\ud83d\udd38  Administration Panel\n\ud83d\udce6  Installing packages...\nPackaged installed successfully\n\nstrapi-admin@3.0.0-alpha.16 setup C:\\Users\\Ken\\Desktop\\strapi-test\\admin\nnode ./scripts/setup.js\n\n\ud83c\udfd7  Building the admin...\n'APP_PATH' is not recognized as an internal or external command,\noperable program or batch file.\nnpm ERR! code ELIFECYCLE\nnpm ERR! errno 1\nnpm ERR! strapi-admin@3.0.0-alpha.16 setup: node ./scripts/setup.js\nnpm ERR! Exit status 1\nnpm ERR!\nnpm ERR! Failed at the strapi-admin@3.0.0-alpha.16 setup script.\nnpm ERR! This is probably not a problem with npm. There is likely additional logging output above.\nnpm ERR! A complete log of this run can be found in:\nnpm ERR!     C:\\Users\\Ken\\AppData\\Roaming\\npm-cache_logs\\2018-12-13T06_30_59_930Z-debug.log\nnpm ERR! code ELIFECYCLE\nnpm ERR! errno 1\nnpm ERR! strapi-test@0.1.0 setup: cd admin && npm run setup\nnpm ERR! Exit status 1\nnpm ERR!\nnpm ERR! Failed at the strapi-test@0.1.0 setup script.\nnpm ERR! This is probably not a problem with npm. There is likely additional logging output above.\nnpm ERR! A complete log of this run can be found in:\nnpm ERR!     C:\\Users\\Ken\\AppData\\Roaming\\npm-cache_logs\\2018-12-13T06_31_00_054Z-debug.log\n```. May I ask when would this feature to be completed?. Awesome!!!. My current solution is:\nnon_specific,A,B,C,.... For example, I am migrating from other CMS to Strapi\nThere is a field stage<Enum Integer>: 0 (dev) / 1 (testing) / 2 (staging) / 3 (prod)\nStrapi's Enumeration only supports 0,1,2,3, which is hard to understand without labels:\n\n. You might misunderstand me... The preferred format (i.e. fetchAll) should look like below:\njs\n[{\n  id: 1,\n  stage: 0,\n  title: 'Hello World'\n}, {\n  id: 2,\n  stage: 3,\n  title: 'Foo Bar'\n}]\nHowever, Strapi's Enumeration can only support the below format:\njs\n[{\n  id: 1,\n  stage: 'dev',\n  title: 'Hello World'\n}, {\n  id: 2,\n  stage: 'prod',\n  title: 'Foo Bar'\n}]\nMany data schema designers might prefer flag (code) to literal, especially for limited cases (less than 5, generally)\n. OK, fine.... Could it be this way?\njs\n// api/project/models/Project.settings.json (current)\n{\n  \"connection\": \"default\",\n  \"collectionName\": \"project\",\n  \"info\": {\n    \"name\": \"project\",\n    \"description\": \"\"\n  },\n  \"options\": {\n    \"increments\": true,\n    \"timestamps\": true,\n    \"comment\": \"\"\n  },\n  \"attributes\": {\n    \"stage\": {\n      \"default\": \"\",\n      \"type\": \"enumeration\",\n      \"required\": true,\n      \"enum\": [\n        \"0\",\n        \"1\",\n        \"2\",\n        \"3\"\n      ]\n    },\n    \"title\": {\n      \"default\": \"\",\n      \"type\": \"string\",\n      \"required\": true\n    }\n  }\n}\njs\n// api/project/models/Project.settings.json (expected)\n{\n  \"connection\": \"default\",\n  \"collectionName\": \"project\",\n  \"info\": {\n    \"name\": \"project\",\n    \"description\": \"\"\n  },\n  \"options\": {\n    \"increments\": true,\n    \"timestamps\": true,\n    \"comment\": \"\"\n  },\n  \"attributes\": {\n    \"stage\": {\n      \"default\": \"\",\n      \"type\": \"enumeration\",\n      \"required\": true,\n      \"enum\": [\n        { \"label\": \"dev\", \"value\": 0 },\n        { \"label\": \"testing\", \"value\": 1 },\n        { \"label\": \"staging\", \"value\": 2 },\n        { \"label\": \"prod\", \"value\": 3 }\n      ]\n    },\n    \"title\": {\n      \"default\": \"\",\n      \"type\": \"string\",\n      \"required\": true\n    }\n  }\n}. Info added. Could be the best CMS-like framework, Strapi, has numerous of potential users who are using other CMSs.\nHowever, what stops these users from migrating to Strapi, might be the limitations that Strapi inheres.\nI am merely one of them, and still struggling to make the migration as smooth / compatible as possible.\n. If the original data looks like:\njs\n[\n  {\n    \"id\": 23,\n    \"name\": \"Apple Inc\",\n    \"code\": \"APPL\",\n    \"logo\": \"https://bucket.s3.region.amazonaws.com/b2849a80c90043b3bba220637829a947.png\"\n  },\n  {\n    \"id\": 24,\n    \"name\": \"Walmart Inc\",\n    \"code\": \"WMT\",\n    \"logo\": \"https://bucket.s3.region.amazonaws.com/811f389a0eac4ca1be0b34192f7cc291.png\"\n  }\n]\nThat would not be possible to migrate the schema to Strapi easily, since logo in Strapi is defined as below:\njs\n{\n  \"connection\": \"default\",\n  \"collectionName\": \"...\",\n  \"info\": {...},\n  \"options\": {...},\n  \"attributes\": {\n    ...\n    \"logo\": {\n      \"model\": \"file\",\n      \"via\": \"related\",\n      \"plugin\": \"upload\",\n      \"required\": true\n    },\n    ...\n  }\n}\nI can't assign a string to logo directly.\nAlso, I can't even make a workaround shown as below:\njs\n// api/company/models/Company.settings.json\n{\n  \"connection\": \"default\",\n  \"collectionName\": \"...\",\n  \"info\": {...},\n  \"options\": {...},\n  \"attributes\": {\n    ...\n    \"logo\": {\n      \"default\": \"( Will be filled in automatically )\",\n      \"type\": \"string\",\n      \"required\": true\n    },\n    \"_logo\": {\n      \"model\": \"file\",\n      \"via\": \"related\",\n      \"plugin\": \"upload\",\n      \"required\": true\n    },\n    ...\n  }\n}\njs\n// api/company/models/Company.js\nmodule.exports = {\n  // Before saving a value.\n  // Fired before an `insert` or `update` query.\n  beforeSave: async (model, attrs, options) => {\n    model.set('logo', model.attributes._logo.url); // TypeError: Cannot read property 'url' of undefined\n    // `_logo` is a file type so that it's not in Company model !!!\n  },\n  ...\n};\nWhat a pity.... With alpha.22, same issue.\n\nInformations\n\nNode.js version: 10.15.1\nNPM version: 6.4.1\nStrapi version: 3.0.0-alpha.22\nDatabase: PostgreSQL 10\nOperating system: Windows 10\n\nReproduction steps\n\n\nCreate a new project strapi_test\nbash\n$ strapi new strapi_test\n\n\nRun Strapi and create the admin\nbash\n$ cd strapi_test\n$ strapi start # auto pop up http://localhost:1337\n\n\nAdd content types\n\nTag\n{string} name\n\n\nArticle\n{string} topic\n{text} content\n{relation} many-to-many with Tag\n\n\n\n\n\n\nAdd new tags and a new article:\n\n\n\n\nAllow public permissions: find articles, then visit http://localhost:1337/articles\n\n\n\n\nSo far so good!\n\n\nInstall GraphQL plugin on http://localhost:1337/admin/marketplace, then wait for server restart\n\n\n\nVisit http://localhost:1337/graphql and query articles\ngraphql\nquery {\n  articles {\n    id\n    topic\n    content\n    tags {\n      name\n    }\n  }\n}\n\n\n\nWell, not good... Where is my tags?. @lauriejim May I ask, is this bug confirmed? I see there is a label status: have to reproduce. any news?. Same issue here, thanks for this issue\n3.0.0-alpha.24.1\nUpdate: 3.0.0-alpha.25 no problem. ### Proposal\nIf there is a dir api/_upload/ (or api/.upload/), Strapi will read its content to enhance the original upload plugin.\ne.g.\njs\n// api/_upload/index.js\nmodule.exports = async function uploadPluginEnhancer (bufferizedFiles) {\n  // deal with the buffers\n  return bufferizedFiles\n}\n. Well, now I turn to https://imagekit.io for help, haha. \n. \n. any news?. \n\n. https://github.com/strapi/strapi/pull/1437. https://strapi.io/documentation/3.x.x/configurations/configurations.html#database\n\n. \ud83d\ude02. I set timezone to local / +10:00 / AET etc, but nothing changed.. After some researches, I don't think it's the problem of the db or server's timezone.\nInstead, it might be the problem of the front-end datetime formatter's timezone ONLY.\nIn the following I will show you the steps I tested:\n( P.S. the timezone of the browser, server and db are all Australia/Sydney )\n\n\nCreate a new content type Test:\n\n\n\nAdd a new entry:\n\n\n\nRequest:\nyaml\nForm Data\n  start_dateime: 2019-02-14 02:14:00\n  end_datetime: 2019-02-28 14:28:00\n\nResponse:\nyaml\nstart_dateime: \"2019-02-13T15:14:00.000Z\" // Thu Feb 14 2019 02:14:00 GMT+1100 (Australian Eastern Daylight Time)\nend_datetime: \"2019-02-28T03:28:00.000Z\" // Thu Feb 28 2019 14:28:00 GMT+1100 (Australian Eastern Daylight Time)\n\nAs you can see on the page, the datetimes are displayed in UTC timezone directly, disregarding the current browser's timezone Australia/Sydney.\n\nNow let's take a look at the db table tests:\n\n\nIt's in consistent with the original input. So now we realize that it's just a front-end display bug.\n. OK, here is the finale:\n\n\nAdd 1s to both start_datetime and end_datetime:\n\n\n\nClick the Save button, inspect the request and response again:\n\n\nRequest:\nyaml\nstart_dateime: 2019-02-13 15:14:01\nend_datetime: 2019-02-28 03:28:01\n\nReponse:\nyaml\nstart_dateime: \"2019-02-13T04:14:01.000Z\" // Wed Feb 13 2019 15:14:01 GMT+1100 (Australian Eastern Daylight Time)\nend_datetime: \"2019-02-27T16:28:01.000Z\" // Thu Feb 28 2019 03:28:01 GMT+1100 (Australian Eastern Daylight Time)\n\n\nLet's take a look at the db table tests again:\n\n\n\nAs you can see, add 1s will result in -11 hours.\nThis is a fatal bug.\n. Proposal solution: respect the original input. I think the reproduction steps provided above are quite sufficient.. \n\n. My current solution is:\nnon_specific,A,B,C,.... In other words, how can I filter by id?. @soupette ID match is the most efficient way. Also, fulltext search does not work for Chinese from time to time.. ",
    "gfelot": "I never do a PR yet and I have to get dirty by putting hands in the code. I kinda newbie so I just join the Slack to see if someone would like to take time soon to lead me on understanding the script to generate Content and to push a PR ;). I didn't have time ;atly to spare for OSP. I will try to look at it next month.. Sorry lately I didn't have time to share on a OS Project.\nIf someone wants to take the lead go head, if nobody can I will try my best in few weeks.. ",
    "sboutet06": "@lauriejim of course I can just customize the config file to my needs but, as the 0.0.0.0 basically listens to any available interface, it also works for localhost. So I thought it could be good to get Docker compatibility nearly for free.. @lucaperret : to me, using an env. variable would make sense if we plan to change the value or customize it but, if I'm not wrong, this address is only used when serving Strapi locally right?. Hi, not yet.\nI'll give it a try by using the exact same fallback line: host: process.env.HOST || process.env.HOSTNAME || 'localhost' and let you know (maybe with a new pull request). Hi,\nIt works using this 1 line fallback solution. I added a commit in that direction.\nPls let me know.. ",
    "kret13": "Any update on this seems News keyword cant still be used as content type name?. I have tested this out and it seems that count field doesn\u2019t count properly.\nSo it works when filtering on relation id\n\n..but it doesn\u2019t work when filtering on other relation fields\n\n. I haven't mentioned that it doesn't work when you add limit. Try with limit field to make count be number lesser than totalCount.\nSo steps are:\n1. make a query on someConnection with filtering on any relation field that is not it's id\n2. add limit to filter and try to make results of count and totalCount be different. For example, if there is totalCount of batches with name:\"something\" is equal 2, limit that to 1 so that it should display count: 1 and totalCount: 2. I tried this again and it seems that it's good now.. ",
    "davidkartuzinski": "@kret13 - may I suggest that \"news\" isn't really a great name in general for a content type.  \"News Article\" or \"News Post\" or \"News Release\" are more description and more user friendly. Consider that you may syndicate your news.  You may have different content types for a News Snippet versus a News Article versus a News release.\nI do understand also just using \"news\" as this will have a specific meaning to you and your team.  . This started happening to me also.  The solution I found that works is to clear the cookies from the browser and then log back into your admin area.  I am sure the devs will figure out the disconnect between the cookie management and the resetting of the server.  In the meantime, if this happens, just clear your browser cache of the cookies.. > @derrickmehaffy\n\nThanks for the links, however I was not looking for links on the issue. My point was that the tutorial in my above comment is rather misleading and should provide users with links explaining that it would occur. Alas, the tutorial does not include any mention of this. It merely says \"deploy the Strapi API to Heroku and you're done!\" Which is far from the truth. Any newcomer to both Strapi and/or Heroku would have no idea this takes place, and adding in any of the links either you or @lauriejim mentioned into that tutorial seems like a pretty easy thing to do for anyone who comes to that tutorial in the future. Thanks again!\n\n@TetHat - Hello. I'm the new Dev Advocate at Strapi.  I just requested a pull request from the team on new Getting Started and Introduction documentation.  Both a more advanced version and a real step by step version. The point is we're definitely hearing you about the documentation and have started really focusing on it! \nI have noted exactly what you said about deploying to Heroku and have added your points of having a clearer explanation (re Heroku) to the docs.  Thank you.. > Welcome to the club David\nThank you Sir!\n. Yes you're right, sort of. I kept the link like the original version because it goes to a section lower on the page and is good for SEO. On this point, I think it's a good idea to keep it in.. Yes, I noticed that before. It's because the previous section is not large enough. Not enough content. It is like a vuepress bug.\nIf we add some images, this will correct itself.. All instances of nodejs should now be changed to Node.js. People might actually be confused, so I removed the link.. This is now okay. :). We moved Strapi and reworked all this. These links don`t exist like this anymore.. npm has now been lower cased all over. corrected.. Now reads:\n(A tutorial of this Quick Start guide can be found at Quick Start Tutorial.)\nAnd Menu fixed as above.. Now reads:\n(These steps continue after Node.js and npm are properly installed.). removed. This was formatted and edited a bit.  Now reads:\nYou will need to fill in the form of the following fields:. deleted from the quick start. There is a video. Not all lines deleted but many of them were.. Not done as no longer applicable.. Removed.. Done.. I kept the list. With the video it works well and allows us to put attention to our newsletter sign up. . Done.. This was completely removed from both the quick start and the tutorial. Seem not applicable for those reading these guides.. We have now the videos for each section.. This is no longer applicable.. Yeah haha, I edited this already.  . N/A. Done.. N/A - we now have the videos for each section.. N/A. Done.. n/A we now have the videos for each section.. This was reworked and this is no longer applicable.. Done.  but uses cms and not my-project. This was just removed and reworked a different way.. I kept the list as it works well with the flow.. Great catch! Edited.. Handled.  Good catch!. Done. Changed. . Done.. Done.\n. ",
    "kuongknight": "I mean about migrate (create, update table code), current strapi always fixed type for idAtrributes\nswitch (relation.nature) {\n   case 'oneToOne':\n   case 'manyToOne':\n   case 'oneWay':\n    type = definition.client === 'pg' ? 'integer' : 'int';\n    break;\n   default:\n      return null;\n  }. It is Model defined. varchar(36) is ok?. I updated description. @derrickmehaffy ok, I will handle it. ",
    "PeterKey": "@lauriejim I noticed this bug just now on alpha 14.5. This issue is no duplicate and should be reopened.. @derrickmehaffy But why is there even a possibility on the admin page to rename content-types if it just breaks any further functionality?. ",
    "UniBen": "I\u2019m interested in developing a plugin for ordering. Please could you let me know what you are thinking of @soupette?. ",
    "Thyvo": "Hi @lauriejim,\nI already tried this. Unfortunately when I use const strapi = require('strapi') I won't have any access to my custom models and services, it just gives me an empty strapi object. @lauriejim Hmm thats to bad, can I pass some parameters to strapi start so it runs on a different port for the duration of the script thats running?. I manged to get it to work doing the following:\n```\nvar strapi = require('strapi')\nstrapi.start({\n  environment: 'commandline'\n}, function (err) {\n  Location.remove({},function(err){\n    console.log('dropping locations')\n    strapi.stop()\n  })\n})\n```\nand created a new envoirement called commandline that runs strapi on port 1338 for the duration that the script runs. \n(for anyone that wants to run scripts without creating additional routes). ",
    "maxtor3569": "Same error, set mainField fix it for me ;). ",
    "tamseo": "I experienced the same issue, accessing login page always redirected to signup page.. ",
    "israelroldan": "For me removing the analytics plugin using the admin page fixed this issue!. This is caused by the analytics plugin, if you're not using it just disable it and voila!. ",
    "johntom": "Thanks !. Hi,\nI tried many variatins...\nThanks,\nJohn\nInformations\n- Node.js version:nvm use 8.9.4\n- npm version:1.1.3\n- Strapi version:3.0.0-alph.12\n- Database:mongodb\n- Operating system:win10\nWhat is the current behavior?\n```\nquery {\n  articles( title:\"Reynold 2\") {\n        _id\n  title\n    content\n    contentHtml \n  }\n}\n\n{\n  \"error\": \"Response not successful: Received status code 400\"\n}\n```\nSteps to reproduce the problem\nWhat is the expected behavior?\nSuggested solutions\n\n[ ] I'm sure that this feature hasn't already been referenced.\n\n. Yes that worked, I read a bunch of articles and never saw that \"where\" was required.\n{\n  \"data\": {\n    \"articles\": [\n      {\n        \"_id\": \"5ac2370666367202f0a2deaf\",\n        \"title\": \"Reynold 2\",\n        \"content\": \"test short\",\n        \"contentHtml\": null\n      }\n    ]\n  }\n}. The following fixed my problem, thanks for the suggestion.\nJohn \n```\n  let product = {}\n  product.name = this.name.value\n  product.rating =  this.rating.value\nvar url = 'http://localhost:1337/'bakery';\nreturn fetch(url, {\nmethod: 'post',\nheaders: {\n'Accept': 'application/json',\n'Content-Type': 'application/json',\n},\nbody: JSON.stringify(product)\n}).then((res) => res.json());\n. Thanks for all the suggestions and yes I migrated from 12.3 to 12.4 very carefully. Also, socket.io is not the issue as I have 2 custom forms with and without socket.io that causes issue. I will test later and get back.. @lauriejim I will test when I arrive home tonight, at client all day.. sorry, went to mongo-world and schedule became crazed. At any rate the problem no longer exists with 3.0.0-apha.,12.6 . Latest Chrome and Chrome Canary 64bit for windows, Will try again. Sorry, I did use code blocks but had some misplaced I will make a public github repo and try to clarify. At the end of the day I'd like to use koa-multer for uploading as I need total flexibilty on the process.\nThanks,\nJohn. Hi,\nThe follow repo https://github.com/johntom/strapiApp is now available\n1) \\strapi\\api\\api\\gym\\controllers\\Gym.js has the upload method using\nkoa-multer\n2) client uses fetch\nlet formData = new FormData()\nformData.append('file', image[0]);\nlet baseweb = 'http://localhost:1337/'\nvar url = baseweb + gym/upload\nreturn fetch(url, {\nmode: 'cors',\nmethod: 'POST',\n// body: JSON.stringify(formData) // does not work with koa\nbody:formData\n}).then((res) => res.json())\n.then(data => console.log('data.message', data.message))\n.catch(error => console.log(error));\n}\n3) error\nfiles:\n{ file:\nFile {\ndomain: null,\n_events: {},\n_eventsCount: 0,\n_maxListeners: undefined,\nsize: 1574,\npath:\n'C:\\Users\\john\\AppData\\Local\\Temp\\upload_14d719cc6b8eaedf6d7f51f5ae303df5',\nname: 'Gym Door Report0722.csv',\ntype: 'application/vnd.ms-excel',\nhash: null,\nlastModifiedDate: 2018-08-15T02:05:22.593Z,\n_writeStream: [WriteStream] } } }\n[2018-08-15T02:05:22.610Z] debug POST /gym/upload (35 ms)\n(node:14516) UnhandledPromiseRejectionWarning: TypeError: Cannot read\nproperty 'headers' of undefined\n4) when if working happy to leave repo as an example of multer and\naggregation\nTIA\nJohn\nOn Tue, Aug 14, 2018 at 11:27 PM DMehaffy notifications@github.com wrote:\n\n@johntom https://github.com/johntom Can you please edit this issue and\nuse code blocks or external sources like pastebin?\nYour issue is quite hard to follow\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\nhttps://github.com/strapi/strapi/issues/1753#issuecomment-413083497, or mute\nthe thread\nhttps://github.com/notifications/unsubscribe-auth/ABylgJ7LQ0Lp-GwH6O1EjrJxdINVQb5Tks5uQ5U8gaJpZM4V9eQx\n.\n. \n",
    "H-L": "@derrickmehaffy yes it happens ~~wether on creation or~~ on editing the content type. It just throw the error no matter what, as long as there is more than one field.\nAnd when I look at the DB, there are no table created.. @derrickmehaffy I just tried to reproduce the error on a new project.\nThe error does appear only when editing, not on creation.\nHere are the logs of all my actions to test the error.\nstrapi_testing_error_mysql.log\n. I'm using the MySQL version: 5.6.35. I tried with a higher limit in config/hook.json. The error still appears.. @derrickmehaffy Thank you for your time and explanations.\nI let a few examples below, just for debugging later, even if it's not planned yet as said the issue #1114 :\nWorks\n1. Create Model test\n2. Add field teststring\n3. Save\n    A. Server restarts successfully\n4. Edit Model test and add field testNumber\n5. Save\n    A. Serve restarts successfully\nWorks\n1. Create Model test\n2. Add field testString\n3. Add field testText\n4. Save\n    A. Server restarts successfully\nDoes not work\n1. Create Model test\n2. Add field testString\n3. Save\n    A. Server restarts successfully\n4. Edit Model test \n5. Add testNumber\n6. Add testText\n7. Save\n    B. Server fails with the error above.\n. ",
    "bitkris-dev": "Sorry, I didn't notice that there were locales to translate in other folders, as I still have to use strapi itself. I will work on it as soon as possible.. ",
    "jquequezana": "Same issue, the first time register the admin when go to logout an relogin show again the register . @soupette Thanks, that fix the issue. ",
    "mig4ng": "I am also having this issue both on firefox and chrome, it seems when I registered my admin yesterday it did make the change and now I am locked out of the application, what should I do?. I read them but did not understand, do I have to generate a new project and copy the admin folder? Isn't it possible to fix directly my project instead?. @soupette Arch Linux. @soupette thanks! When I try it I'll leave here some feedback. thanks @soupette! It worked for me, if anyone is having this issue too on any unix based OS just go to the directory above your project, clone the @soupette project, remove the admin/admin folder in your project and copy the admin/admin folder from the @soupette project to yours\nStep by step:\n1. Go to your project and cd ..\n2. Clone @soupette project with git clone https://github.com/soupette/fix-strapi-login.git\n3. Remove your admin/admin folder with rm -rf {YOUR_PROJECT_PATH}/admin/admin\n4. Copy the @soupette admin/admin folder to your project with cp -r fix-strapi-login/admin/admin {YOUR_PROJECT_PATH}/admin\nAnd you are done. Are there any examples?. This is a must have feature, I also need this. ",
    "sanchit-aneja": "why this issue is closed since it is not resolved. I have tried all the ways listed but that didn't solved. Please help. ",
    "AustinBratcher": "Thanks for the feedback @lauriejim ! \nI briefly looked into following the bootstrap pattern in the upload plugin. I'm relatively new to the react/redux world, so I saw the settings.json method as a quicker way to get some feedback on the modifications. I'll keep working on it and try to make it a bit more like the upload plugin! . PR updated, but looks likes like the Travis build is failing because of a new dependency I added to the email plugin --- strapi-email-sendmail. It's intended to be an npm package much like strapi-upload-local. What's the best way to role that in to avoid the travis build fail?. Excellent. Anything else I need to do to clean up the PR?. @lauriejim , sorry for the slow response. Looks like you beat me to fixing the issues. Anything else need to be done?. @mnlbox Did you install in the strapi-email-mailgun package? . @mnlbox The email plugin works just like the upload plugin. You can add configurations by installing packages prefixed with \"strapi-email-*\". \nnpm install --save strapi-email-mailgun\nAfter installing the package, the configuration option will show up in the admin panel. . Upon some further digging in the chrome network tools, it looks like none of the needed resources are loading after the admin.path variable is set. All the requests look at the /admin route. So I'm not sure if this is a front end issue where the route requested should be changed or if this a back end issue where the requested routes are changed when they should not be. . @Aurelsicoko and @lauriejim \nJust updated to 3.0.0-alpha.12.6. In a development environment, changing the admin path works fine. However, as soon as I run my api in my production environment, I get the same problems mentioned before. Is there some other configuration that could be causing the issue? . No, sorry. This project has been put on the back burner for the next couple\nof weeks. If I get a chance to try and make the change, I'll be sure to let\nyou know.\nOn Mon, Oct 1, 2018 at 8:28 AM cyril lopez notifications@github.com wrote:\n\n@AustinBratcher https://github.com/AustinBratcher did you manage to\nchange the admin path in production?\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\nhttps://github.com/strapi/strapi/issues/1452#issuecomment-425907213, or mute\nthe thread\nhttps://github.com/notifications/unsubscribe-auth/AE9ZvWPrF8EWMkYDFVaVZCecvz5PDAYuks5ughhogaJpZM4Uz73P\n.\n. I've run into a similar issue, but with the creation of a new entry that has a many-to-many relationship. I can create the new entry, but the relationship is not populated. I believe this might have been introduced with 3.0.0-alpha.12.2. In the wiki for the migration from 12.1 to 12.2, there are significant updates to both the add and edit services for api routes. Both utilize the updateRelations method (from the mongoose ORM I believe), which is where the problem comes from. \n\nI did manage to \"patch\" my issue with the add service by changing the id field to _id in the return statement: \n```\nreturn Article.updateRelations({ id: entry.id, values: relations });\nchanged to \nreturn Article.updateRelations({ _id: entry.id, values: relations });\n```\nAll of my api routes were created with alpha.12.1, however. The issue with the missing underscore (and thus unpopulated relations) might not come with newly generated routes, but I have not tested this yet. . ",
    "enozr": "I found nothing in permissions as well. I didn't get any error in the page.\nThis bug is very urgent for me. because I cannot set permission for the api.\nnode version:  v9.4.0\nnpm version:  6.0.1\nstrapi version: 3.0.0-alpha.12.2\nDatabase: mongoDB\nOS: Mac 10.13.4\n\n. Sometimes  I can see this error:\n[2018-05-24T16:04:39.908Z] debug GET /users-permissions/routes (23 ms)\n{ Error: read ETIMEDOUT\n    at _errnoException (util.js:1003:13)\n    at TLSWrap.onread (net.js:620:25) errno: 'ETIMEDOUT', code: 'ETIMEDOUT', syscall: 'read' }\n[2018-05-24T16:05:45.486Z] debug GET /users-permissions/roles/5b06d64ff66e2a43b15f6e79?lang=en-US (289742 ms)\n{ Error: read ETIMEDOUT\n    at _errnoException (util.js:1003:13)\n    at TLSWrap.onread (net.js:620:25) errno: 'ETIMEDOUT', code: 'ETIMEDOUT', syscall: 'read' }\n[2018-05-24T16:07:32.962Z] debug GET /users-permissions/permissions?lang=en-US (193833 ms)\n{ Error: read ETIMEDOUT\n    at _errnoException (util.js:1003:13)\n    at TLSWrap.onread (net.js:620:25) errno: 'ETIMEDOUT', code: 'ETIMEDOUT', syscall: 'read' }\n[2018-05-24T16:01:51.559Z] debug GET /users-permissions/roles (22 ms)\n{ Error: read ETIMEDOUT\n    at _errnoException (util.js:1003:13)\n    at TLSWrap.onread (net.js:620:25) errno: 'ETIMEDOUT', code: 'ETIMEDOUT', syscall: 'read' }\n[2018-05-24T16:03:19.548Z] debug GET /users-permissions/roles/5b06e052ed74674e0cfc684c?lang=en-US (289045 ms)\n{ Error: read ETIMEDOUT\n    at _errnoException (util.js:1003:13)\n    at TLSWrap.onread (net.js:620:25) errno: 'ETIMEDOUT', code: 'ETIMEDOUT', syscall: 'read' }. ",
    "GalEldarDev": "I managed to recreate the above issue, through a sequance of events / actions in the admin dashboard.\n\nClick on Roles and Premissions Tab\nAdd a New Role\nName it Guest\nAdd only the Admin to the Guest  array\nClick Save \n\n. Thanks for the update @lauriejim .\nI will do my best to push a PR with a fix in the next few days. . ",
    "nom4da": "I'm having issues with this too. I cannot set permissions to newly created roles. It won't load any of the permissions checkboxes.\nThanks for all your efforts!. I just did.\nIt works for newly created content types, but for those migrated from previous versions (copying folders inside /api) won't work. It won't display permissions checkboxes for those. \nAnything more we need to do for a successful model migration besides copying contents on /api ?. Hello\nI run again into this problem but I found the why and a possible solution. \nI created a custom service for emails as suggested in this link\nhttps://strapi.io/documentation/guides/services.html\nI created them under /api/email/services. But there are no controllers, since is not an actual content type. So when I go to create a new Role, and it tries to create the actions checkboxes, it throws an error, coming from:\nusers-permissions/services/UsersPermissions.js -> - line 119 - in getActions\nstrapi.api[email].controllers is undefined in this case, so it throws an error.\nI fixed it by adding an IF statement\nif (strapi.api[key].controllers)\n        acc.controllers[key] = generateActions(strapi.api[key].controllers[key]);\nJust wanted to let you know.\nThanks again for Strapi!. It's happening to me as well. It only shows the Content Types first time I login, but if I refresh the browser only Users is shown. \nSeems that on refresh it doesn't make this request:\nhttp://localhost:1337/content-manager/models. I created a new project on Strapi 14.5 and issue persist. On both, Chrome and Firefox. \nHere's Firefox on fresh login:\n\nAfter refresh:\n\n. On fresh login on Chrome (incognito mode):\n\nOn refresh:\n\n. All I did was \"Strapi new test\", created a \"test\" content type, and tested with it.\nHere's the repository:\ngit@github.com:nom4da/strapitest.git. @soupette oh wow, I recall my global version being 14.5 when I created \"test\".\nI created a new one, made sure it was 14.5, and it works. Sorry for that guys. Will double check next time I think there's an issue. \nThanks a lot for everything. This is a great tool. \nBest. ",
    "LuisHCK": "I have the same problem strapi v 3.0.0-alpha.17\n\n. @derrickmehaffy  But it would be a duplicate of this same issue. > I'm also facing this challenge... Thanks a lot.\nDowngrading to 3.0.0-alpha.16 fix the problem for now. ",
    "jaguilar87": "\n. ",
    "VonOx": "Of course:\n[2018-06-06T06:52:04.728Z] info Server started in #################\n[2018-06-06T06:52:04.731Z] info Your server is running at http://localhost:1337\n[2018-06-06T06:52:04.732Z] debug Time: Wed Jun 06 2018 08:52:04 GMT+0200 (Paris, Madrid (heure d\u2019\u00e9t\u00e9))\n[2018-06-06T06:52:04.733Z] debug Launched in: 17327 ms\n[2018-06-06T06:52:04.734Z] debug Environment: development\n[2018-06-06T06:52:04.734Z] debug Process PID: 14912\n[2018-06-06T06:52:04.736Z] debug Version: 3.0.0-alpha.12.2 (node v9.0.0)\n[2018-06-06T06:52:04.737Z] info To shut down your server, press <CTRL> + C at any time\n[2018-06-06T06:52:11.987Z] debug GET index.html (35 ms)\n[2018-06-06T06:52:12.041Z] debug GET vendor.dll.js (10 ms)\n[2018-06-06T06:52:12.043Z] debug GET main.js (7 ms)\n[2018-06-06T06:52:12.373Z] debug GET plugins.json (8 ms)\n[2018-06-06T06:52:12.472Z] debug GET 1.3abcde57a078e508705a.chunk.js (5 ms)\n[2018-06-06T06:52:12.583Z] debug GET /admin/gaConfig (71 ms)\n[2018-06-06T06:52:12.599Z] debug GET /admin/strapiVersion (4 ms)\n[2018-06-06T06:52:12.601Z] debug GET bd03a2cc277bbbc338d464e679fe9942.woff2 (10 ms)\n[2018-06-06T06:52:12.606Z] debug GET /admin/currentEnvironment (4 ms)\n[2018-06-06T06:52:12.608Z] debug GET 3.e894045e5095eb1a314c.chunk.js (23 ms)\n[2018-06-06T06:52:12.615Z] debug GET /admin/layout (5 ms)\n[2018-06-06T06:52:12.629Z] debug GET 8b4f872c5de19974857328d06d3fe48f.woff2 (13 ms)\n[2018-06-06T06:52:12.638Z] debug GET cccb897485813c7c256901dbca54ecf2.woff2 (16 ms)\n[2018-06-06T06:52:12.658Z] debug GET main.js (27 ms)\n[2018-06-06T06:52:12.662Z] debug GET main.js (21 ms)\n[2018-06-06T06:52:12.664Z] debug GET main.js (17 ms)\n[2018-06-06T06:52:12.666Z] debug GET main.js (14 ms)\n[2018-06-06T06:52:12.682Z] debug GET main.js (13 ms)\n[2018-06-06T06:52:12.721Z] debug GET /favicon.ico (3 ms)\n[2018-06-06T06:52:13.028Z] debug GET /settings-manager/autoReload (18 ms)\n[2018-06-06T06:52:13.266Z] debug GET /content-type-builder/autoReload (13 ms)\n[2018-06-06T06:52:13.379Z] debug GET /users-permissions/init (20 ms)\n[2018-06-06T06:52:13.525Z] debug GET af7ae505a9eed503f8b8e6982036873e.woff2 (12 ms)\n[2018-06-06T06:52:13.527Z] debug GET 33d5f0d956f3fc30bc51f81047a2c47d.woff2 (9 ms)\n[2018-06-06T06:52:13.529Z] debug GET 2ff0049a00e47b56bffc059daf9be78b.png (28 ms)\n[2018-06-06T06:52:13.532Z] debug GET 0bd35bad03d09ca61ac6cce225112e36.svg (24 ms)\n[2018-06-06T06:52:49.491Z] debug POST /auth/local/register (236 ms)\n[2018-06-06T06:52:49.604Z] debug GET 11.bfb1c2706e0dd37cd9b3.chunk.js (8 ms)\n[2018-06-06T06:52:49.609Z] debug GET /settings-manager/autoReload (28 ms)\n[2018-06-06T06:52:49.615Z] debug GET /content-type-builder/autoReload (26 ms)\n[2018-06-06T06:52:49.641Z] debug GET c9cbbdc3762c340d5d37073a54971487.woff2 (6 ms)\n[2018-06-06T06:52:49.643Z] debug GET ac7d0ef8528ed4230148886fe1a21b3b.png (15 ms)\n[2018-06-06T06:52:49.650Z] debug GET /content-manager/models (30 ms)\n[2018-06-06T06:52:49.765Z] debug GET 10.5ee0ee04a8d12eea967f.chunk.js (22 ms)\n[2018-06-06T06:52:49.767Z] debug GET 20001789a249c0d8d721531434ce02ba.png (18 ms)\n[2018-06-06T06:52:49.775Z] debug GET 9d15cd22252febb1667c5c1727d3d6ff.png (21 ms)\n[2018-06-06T06:52:49.782Z] debug GET 3c2fd7a5298d52578097b7258362d751.png (22 ms)\n[2018-06-06T06:52:49.785Z] debug GET 85f4e87cbdf8d922994c47a1356a856e.png (16 ms)\n[2018-06-06T06:52:49.793Z] debug GET d6e16b2fbe60b5924c12d74cdcec49ec.png (16 ms)\n[2018-06-06T06:52:49.813Z] debug GET 8.581a994a695647a4701e.chunk.js (26 ms)\n[2018-06-06T06:52:49.815Z] debug GET 9.ffd4385391b3a84f56e3.chunk.js (19 ms)\n[2018-06-06T06:52:49.817Z] debug GET c995503babdc2069f2d5f440b36771a1.png (16 ms)\n[2018-06-06T06:52:49.819Z] debug GET e89e581cc335503916d3001c717e40b2.png (12 ms)\n[2018-06-06T06:52:49.873Z] debug GET 80f6811f6c30735dab68a01372d8b78f.woff2 (4 ms)\n[2018-06-06T06:53:10.807Z] debug GET /users-permissions/roles (27 ms)\n[2018-06-06T06:53:27.599Z] debug GET /users-permissions/policies (30 ms)\n[2018-06-06T06:53:27.612Z] debug GET /users-permissions/routes (36 ms)\n{ Error: self signed certificate in certificate chain\n    at TLSSocket.onConnectSecure (_tls_wrap.js:1032:34)\n    at emitNone (events.js:115:13)\n    at TLSSocket.emit (events.js:218:7)\n    at TLSSocket._finishInit (_tls_wrap.js:633:8) code: 'SELF_SIGNED_CERT_IN_CHAIN' }\n[2018-06-06T06:53:27.957Z] debug GET /users-permissions/roles/3?lang=en (373 ms). On another computer, same network, no ssl. Yes tested on localhost ( same computer ) just now and same error occur. Yeah weird issue\nmysql  Ver 15.1 Distrib 10.3.7-MariaDB, for debian-linux-gnu (x86_64) using readline 5.2. @derrickmehaffy After testing (right now), this is not DB related.\nI have tested strapi on ubuntu and the same DB. And it works.\nSo this issue is about Windows 10 and my Corporate proxy. ",
    "brunofigalveskk": "I'm getting some problems with these two field id and _id. When I create some content and don't use the content manager plugin to create them and I have 2 collections with a relationship strapi crashes for me when I try to edit one of these contents.. ",
    "acarrera94": "Is there a workaround for this in the meantime? I would much rather work with \"id\" than \"_id\" in the front end.. I fixed this issue by updating the mongoose dependency to the latest. In the package.json it now has: \n\"strapi-hook-mongoose\": \"3.0.0-alpha.24\"\nthe strapi version on mine is still alpha.23. . ",
    "PGzxc": "what can i do if i want to register user by strapi API not by content manager ; and   table users-permissions_user in mongodb has id field. use content manager add user whose response has  _id and id \uff0cmongodb has id field\uff1bbut only use strapi register user, id has no field. Hello @lauriejim \nThanks for ansking my question\nbut\uff0cwhat can i do if i want to get id and _id fields in the mongodb ,at the time  login response(user.id) has value. ",
    "toringo": "ok. ",
    "kevrat": "All is clear, thanks for the explanation. ",
    "arcee123": "Hi @lauriejim, so it appears like this problem is a Node 10.x.x version compatibility issue.  When I downgraded node back down to 8.x.x, it fired up correctly.  I'll be anxiously waiting for the next upgrade.  Thanks.. ok.  It appears that windows and strapi are not good bedfellows.\nEven with Node 9, I run into problems where the strapi installation cannot find python.\nAs a result, I recommend that this library be tagged to support linux, until a decision is made to support windows specifically.  While I love linux over windows, I recommend we put it in as a feature request for future releases that code be expanded for windows support.\nThanks.. ",
    "dertuerke": "Same problem here:\n- with Node 10.2.1 it freez after MongoDB\n- with Node-LTS 8.11.2 its work. @damtsnkff i try it with node-lts and with node 10.x. In both i get the same error.. So i found the error on my System.\nMy system probably does not like the package koa-favicon 2.0.1 with the Version 2.0.0 it works.\n. @soupette I withdraw my statement. It does not seem to matter.\nMy windows system s***. On my Mac it works.. I found the issue on my system.\nThe npm proxy was wrong.\nAfter i change from http://registry.npmjs.org/ to https://registry.npmjs.org/, it works \ud83d\ude04 \nI do not know why the \"HTTP\" did not work. But with \"HTTPS\" it works.\nI can imagine that it is the IT structure in our company.\nI hope it helps others too.. ",
    "ranjithkumar8352": "Quick workaround on Windows 10 - Install Linux bash shell\nhttps://www.howtogeek.com/249966/how-to-install-and-use-the-linux-bash-shell-on-windows-10/. ",
    "kevinhaesendonckx": "Issue for me was fixed by downgrading from Node v10 to node v8. ",
    "corinthian13": "+1 kevinhaesendonckx : Yes - NodeJS 8.11.4 works fine with NPM 6.0 and MongoDB 4.0. @httpiago:\nIf this is the first time that you have used Strapi, then it is far too early to build a real commercial project with it. You must first evaluate it on a private project of your own that may have already been implemented using another technology. Then you can compare performance, stability, etc.\nFirstly, you must install NodeJS version 8.\nThis is the latest stable version that works with Strapi.\nDespite the fact that Strapi says here that it needs version 9 or later of NodeJS, Strapi will work with NodeJS v8.\nAfter installing Node 8, checking that your MongoDB is >= v3.4 and your npm is >= v5, follow the instructions in the Getting Started guide to create your first project.\nAfter that you only have the tutorials to guide you.\nThe odd YouTube video that exists are usually old and too badly videoed to clearly see the PC screen.\nBut there are some videos from Brazil #1 #2 on YouTube that may be useful to you.\n. Please update the Quick Start guide for project creation, i.e.\n              https://strapi.io/documentation/getting-started/quick-start.html\nto clearly mention the current need for Linux VM  to create a project.. ",
    "httpiago": "I'm having the same problem. My settings are the same as described by the people above:\nWindows 10, Node 10.2.0, Strapi 3.0.0-alpha\nI want to test to use in a project but I'm afraid of giving error in production. ",
    "hari-haran": "Works with Node V8! BTW instead of downgrading, install nvm(node version management tool) to have multiple version of nodejs. Cheers!. ",
    "BiscuiTech": "Quick tip: if you're like me and don't want to install nvm nor do you want to change your Node.JS install, simply create the app through your WSL. I made my destination folder into my mnt/c/Users/.../Documents and everything works fine. . ",
    "witek1902": "I confirm, works with npm v8 (8.11.3).. ",
    "anubhaavofficial": "\"strapi new ......\" doesn't work with Node 10.xx or > . Works with 8.xx on windows. So, when will this be fixed?. > \n\n@anubhaavofficial when the Strapi team have time, it isn't a priority for them right now. You're more than welcome to submit a PR. \ud83d\ude03\n\nOk, Thanks, I worked a way around. I used Node 8.xx for installation then switched to Node 11.xx. It is running fine now.. ",
    "MohammedFaragallah": "The same problem fixed by git bash as administrator and everything works fine\nnode -v 10.11.0\nnpm -v 6.4.1\nwin10 x64. ",
    "eddyystop": "I came across your posts while searching for the same problem with my @feathers-plus/cli. This is what I've tracked down so far.\nYeoman uses queues to schedule prompts together, to schedule writing together, to schedule copy, json, tpl writes together. The prompting runs fine on Node10 including the prompting callback, but the writing task never gets started.\nI've received no reponse to my issue from Yeoman https://github.com/yeoman/generator/issues/1098 . No response for 14 days.. See https://github.com/strapi/strapi/issues/1927#issuecomment-443386719 and https://github.com/yeoman/generator/issues/1098. I came across your posts while searching for the same problem with my @feathers-plus/cli. This is what I've tracked down so far.\nYeoman uses queues to schedule prompts together, to schedule writing together, to schedule copy, json, tpl writes together. The prompting runs fine on Node10 including the prompting callback, but the writing task never gets started.\nI've received no reponse to my issue from Yeoman yeoman/generator#1098 . No response for 14 days.. ",
    "alexandremottet": "I linked the wrong article (so sorry).\nI use this article with a fresh strapi app : https://blog.strapi.io/building-a-static-website-using-gatsby-and-strapi/\nBasically :\nnpm i strapi@alpha -g\nstrapi new api\nstrapi start. My bad, I just run npm update -g strapi and it works.. ",
    "weactivist": "I have the same issue. Built with docker-compose. The versions used are:\n\"strapi\": \"^3.0.0-alpha.12.2\",\n\"strapi-mongoose\": \"3.0.0-alpha.12\"\n\nversion: \"3\"\nservices:\n    node:\n        image: strapi/strapi\n        env_file: .env\n        ports:\n            - 1337:1337\n        depends_on:\n            - mongo\n        links:\n            - mongo\n        volumes:\n            - ./strapi-app:/usr/src/api/strapi-app\n            - /usr/src/api/strapi-app/node_modules\n    mongo:\n        image: mongo\n        env_file: .env\n        ports:\n            - 27017:27017\n        volumes:\n            - ./db/:/data/db\n        restart: always. \n",
    "tguelcan": "\nRun npm install strapi@3.0.0-alpha.12.2 --save to update your strapi version and then run the same command for strapi-mongoose or strapi-bookshelf depending of the module you use in your application.\n\nhttps://github.com/strapi/strapi/wiki/migration-guide-alpha.12.1-to-alpha.12.2#update-node-modules\nworks for me. ",
    "ashishgkwd": "I am also facing the same issue when using the docker repo: https://github.com/strapi/strapi-docker\nAlthough, I am using the latest branch i.e. 3.0.0-alpha.12.2\n. Meanwhile, running npm install strapi@alpha -g installs strapi@3.0.0-alpha.12.3 version and is running fine \ud83d\udc4d . ",
    "minvedacat": "@soupette the commands worked for me either.\nSo that was my mistake. I thought Develpoment Environment Setup is not required for plugin development.. You may dig into api/your_content_type_name/, modify controllers and services to satisfy yourself.\nIn generated services/Entry.js you can find\n```\nawait Promise.all(\n      Entry.associations.map(async association => {\n        const search = .endsWith(association.nature, 'One') || association.nature === 'oneToMany' ? { [association.via]: data._id } : { [association.via]: { $in: [data._id] } };\n        const update = .endsWith(association.nature, 'One') || association.nature === 'oneToMany' ? { [association.via]: null } : { $pull: { [association.via]: data._id } };\n    // Retrieve model.\n    const model = association.plugin ?\n      strapi.plugins[association.plugin].models[association.model || association.collection] :\n      strapi.models[association.model || association.collection];\n\n    return model.update(search, update, { multi: true });\n  })\n);\n\n``\nIf you store file association then you probably check any file association to call itsremove` and make sure there is corresponding removal code in the services code of your file content type.\nI am also trying to generate image with Strapi, good luck\ud83c\udf40. ",
    "masterkrieger": "I removed the \"/article/:_id\" route and get this error when querying the slug\nTypeError: Cannot read property 'match' of undefined\n    at findOne (/Users/PhaelehMob/dev/strapi-project/api/article/controllers/Article.js:28:25)\n    at dispatch (/usr/local/lib/node_modules/strapi/node_modules/koa-router/node_modules/koa-compose/index.js:44:32)\n    at next (/usr/local/lib/node_modules/strapi/node_modules/koa-router/node_modules/koa-compose/index.js:45:18)\n    at dispatch (/usr/local/lib/node_modules/strapi/node_modules/koa-compose/index.js:42:32)\n    at policies.push (/usr/local/lib/node_modules/strapi/lib/middlewares/router/utils/routerChecker.js:59:26)\n    at dispatch (/usr/local/lib/node_modules/strapi/node_modules/koa-compose/index.js:42:32)\n    at module.exports (/Users/PhaelehMob/dev/strapi-project/plugins/users-permissions/config/policies/permissions.js:53:9)\n    at <anonymous>\nYou're right that it doesn't distinguish between /:_id and /:slug. That parameter is used in api/article/controllers/Article.js as ctx.params\nfindOne: async (ctx) => {\n    if (!ctx.params._id.match(/^[0-9a-fA-F]{24}$/)) {\n      return ctx.notFound();\n    }\n    return strapi.services.article.fetch(ctx.params);\n  },. ",
    "qorrect": "Sorry , so how do I filter on relations its not clear in this thread how this has been completed.. Very exciting!. ",
    "odelucca": "No updates on this? I really need this feature.... @Aurelsicoko do you have any idea about when it will be implemented? It is a must-have for my admin =/. Same thing here. Also, if I copy a Content-type that I've created in a different strapi installation, it appears on the sidebar but not inside the Content Manager. After many hours trying, I figured it out.\nSolution\nThe problem is with the path of my services file. I debbuged the Strapi.js inside node_modules and found out this code that handle the plugin path:\n```\nlet pluginPath = undefined;\nif (file.indexOf('strapi-plugin-') !== -1) {\n  pluginPath = file.split(path.sep).filter(x => x.indexOf('strapi-plugin-') !== -1)[0];\n} else if (file.indexOf(path.sep + 'plugins' + path.sep) !== -1) {\n  const pathTerms = file.split(path.sep);\n  const index = pathTerms.indexOf('plugins');\n\n  if (index !== -1) {\n    pluginPath = pathTerms[index + 1];\n  }\n}\n\nif (!pluginPath) {\n  return this.log.error('Impossible to find the plugin where `strapi.query` has been called.');\n}\n\n// Get plugin name.\nconst pluginName = pluginPath.replace('strapi-plugin-', '').toLowerCase();\nconst queries = get(this.plugins, `${pluginName}.config.queries.${connector}`);\nconsole.log(`${pluginName}.config.queries`)\n\nif (!queries) {\n  return this.log.error(`There is no query available for the model ${model}.`);\n}\n\n```\nAfter some time, I figured it out looking of the abs path of my services file:\n/home/odelucca/Servers/yurah/web/admin/plugins/notification/plugins/notifications/services/Notifications.js\nSo, in that Strapi.js code, the const pathTerms was:\n[ '',\n  'home',\n  'odelucca',\n  'Servers',\n  'yurah',\n  'web',\n  'admin',\n  'plugins',\n  'notification',\n  'plugins',\n  'notifications',\n  'services',\n  'Notifications.js' ]\nThen, it looks for the first index of the word \"plugins\" and add 1 to get the plugin name... The problem is that I was organizing my folders using the name plugins.\nTo solve this I simply changed the folder plugins to strapi-plugins. Now, my new abs path is: `/home/odelucca/Servers/yurah/web/admin/strapi-plugins/notification/plugins/notifications/services/Notifications.js\nIt is VERY dangerous to use file names to handle system logic, specially this way. I suggest changing this and using the parameters that we already send in the query:\nstrapi.query('notification','notifications').find(strapi.utils.models.convertParams('user', params));\nIf we use the second parameter, it would be WAY better to understand the logic of the code.\nCan someone close the issue please?. @soupette I was trying to generate the repo with the error and noticed that, when I run the strapi start (after creating a new strapi project and copying the folder/running npm i) I receive the following code on the browser console:\nUncaught Error: only one instance of babel-polyfill is allowed\n    at Object.<anonymous> (main.js:1)\n    at Object.../../../strapi-plugins/schedule/admin/node_modules/strapi-helper-plugin/node_modules/babel-polyfill/lib/index.js (main.js:1)\n    at t (main.js:1)\n    at Object.<anonymous> (main.js:1)\n    at Object.../../../strapi-plugins/schedule/admin/admin/src/app.js (main.js:1)\n    at t (main.js:1)\n    at main.js:1\n    at main.js:1. @soupette our project are on GitLab. I've invited you to our repo as a Guest:\nhttps://gitlab.com/yurah/web/admin/strapi-admin\nThis project is the --dev project that we created. We have 3 custom plugins, they are:\n- notifications\n- requests\n- schedule\nWe need to add those plugins on a production env. @soupette I found out the problem. The strapi-plugin-helper has a webpack config. I was trying to use the React HTML Parser on a plugin and it was broking during build.\nI found out running the npm run build inside the plugin folder.\nThere is a way to add a config to ignore a specific plugin or load custom configs on the Webpack?. Thanks @soupette \nI've solved it just by changing the depedency itself :)\nYou can close the issue if you want!. You need to create a query to do so :)\nCheck this: https://strapi.io/documentation/3.x.x/plugin-development/backend-development.html#orm-queries\nJust an update on that docs, you don't need to put the query in the /api. You can put it in your /plugins/plugin_name/config/queries and name it as the connector name (bookshelf or mongoose). You can call the query anywhere in your plugin structure, you just need to call this:\n/*\n * @modelName: The name of the model that you've created\n * @pluginName: The name of the plugin you're working on (folder name)\n * @queryName: The name of the query that you've created (remove the [] when changing it)\n * @params: The params you want to pass to your query\n */\nstrapi.query(modelName, pluginName).[queryName](params),\nBut, in order to this run, you need to create a query file. Put it on this path: your_plugin_name/config/queries/. If you don't have the queries folder, just create it. If you are using MySQL the file needs to be named as bookshelf.js and if youre using MongoDB you name itmongoose.js`\nInside the file:\n/*\n * @queryName: The name of the query that you've created (remove the [] when changing it)\n */\nmodule.exports = {\n  [queryName]: async function (params){\n    // Do the query here\n  },\nIf you want a simple MySQL query, that will return all matching params, you can use this one that I named find:\nmodule.exports = {\n  find: async function (params){\n    return this\n      .query(function(qb) {\n        qb\n          .where('user', params.user)\n          .andWhere('unread', params.unread);\n      })\n      .fetchAll();\n  }\n}\nHope it helps ;)\nJust one more thing\nJust one advice, don't use switch/case conditions in situations like that, you can get the same result, with better readability and performance just by mapping then into objects, like this: https://codepen.io/odelucca/pen/ZVBggr. Just for the record, same issue here.. I agree with @derrickmehaffy\nAlmost every API that I've made or saw uses UTC as default. It isn't a good practice use a formatted date in the database.. ",
    "Vivsss": "@lauriejim I've a similar issue, ever simpler. If we follow the Platform Model above, I would have a query with an url like:\nhttp://localhost:1337/platform?platformModels=x|y\nwhere  x e y are two platformModels IDs. \nThat means the possibility of query for: All the platforms that have 2 specific platformModels.\nNow, I can only have the simple case:\nhttp://localhost:1337/platform?platformModels=x\nIs there a way to do that ? Is there a simple way to extend the query to a list of IDs ?\nThanks!. @lauriejim thanks for your reply !\nBoth cases (AND/OR) are really interesting for me.. \nSince I'm a beginner with coding customs API, should you have some site reference for this kind jobs, with snippets or examples?. HI @soupette , \nI've the same issue.. so, for example, in production I can't choose for a text field with  WYSIWYG Editor ?\nthat's available only in development environment?. ",
    "matejukmar": "I was able to reproduce this issue with strapi 3.0.0-alpha.12.3:\n- started server as service with pm2 on custom port\nNODE_ENV=production PORT=2005 sudo pm2 start server.js --name myapi\n- access was via nginx proxy to 2005 port\n\nNew content type is 'successfully' created and fields added\nWhen trying to create an instance of newly created type, page displays:\n'There are no fields yet', 'Add your first field to your Content Type'\n\nThere is no error in Chrome console and I'm unable to see any errors in server logs.. Is there a simple way to run strapi start as service?. ",
    "dreaddymck": "I am using pm2  with watch and useFsEvents enabled. The setup should automatically reload the application if change detected.\nMy ecosystem.config\n```\nmodule.exports = {\n  /*\n   * Application configuration section\n   * http://pm2.keymetrics.io/docs/usage/application-declaration/\n   /\n  apps: [\n// First application\n{\n  name: 'strapi',\n  script: 'server.js',\n  watch: true,\n  watch_options: {\n    \"useFsEvents\": true\n  },\n  // env: {\n  //   \"PORT\": 9001,\n  //   \"NODE_ENV\": \"production\"\n  // },\n}\n\n],\n};\n``\ncommand:pm2 start ecosystem.config`\nedit\nThe env section is disabled. ATM: Strapi doesn't like switching ports. ",
    "indra-uolles": "I was able to upload images to model other than user, specifically model \"item\". My code is messy, so here's my postman screenshot:\n\n. ",
    "siffash": "Same problem here, but the response I get trying to send a post request to /upload is:\n{\n    \"statusCode\": 403,\n    \"error\": \"Forbidden\",\n    \"message\": \"Forbidden\"\n}. @henrych4 hi henrych, I have the same issue here. Did you find any solution?. Thank you @henrych4 \nThe problem was with uploading it to Upload section. I got errors 403 and 500.\nTo solve the 403 I needed to grant upload permissions in the Admin panel.\nTo solve the 500 I needed to create \"uploads\" directory in the \"public\" directory. Apparently heroku doesn't let strapi to create directories (since it worked only locally).. @lauriejim no problem, will try to find some time to work on that.\nBTW do you know is there a way to disable opening the admin panel in a browser every time strapi starts/reloads?. ",
    "davutkara": "When I try restful api it gives error that is \"invalid token.\"\nBut when using graphql, it did not give error.. I tried on developer mode.. ",
    "Jehu": "@Aurelsicoko why is the prio set to low? graphql is very important for new projects and this bug is a security issue.. @Aurelsicoko i think we must ask @davutkara here? I just watch this issue because i evaluate strapi for using in production. @davutkara so can you confirm the problem was resolved with the latest alpha-version of strapi?. ",
    "xeegi": "Could not reproduce on Strapi version: 3.0.0 alpha 12.3\nInstead of using Chrome Modify Header extension I used HTTP Headers tab built into the Playground.\nUsing dummy Authorization header gave response as:\n{\n  \"error\": \"Response not successful: Received status code 401\"\n}\nDid not test with: 3.0.0 alpha 12.2\nMeanwhile using a correct token gave an expected result.. ",
    "hachimihamza": "\nYou can reproduce this \nversion 3.0.0-alpha.14.1.1\nnode v8.12.0. ",
    "rpedroni": "Hey guys, any update one this?\nJust started using Strapi today (fresh alpha install) and can confirm GraphQL accepts anything for \"Authorization\" header.\nEdit: it appears this is true for queries like users but not my custom created ones. For these, the format Bearer {token} works as expected.\n\n. Strapi seems to struggle quite a bit with camelCase or spaced names. ",
    "MattAurich": "Hey, @soupette . I moved the admin directory into a separate project/directory and removed the files that are the result of a project initialization like /node_modules (since admin has it's own node_modules it is responsible for) and /build, then:\n\n\nran npm install\n\n\nupdated the pathing for the plugins found on the server (that I kept running)\n\n\nran the build script found in the package.json\n\n\nused http-server to create a simple server for the files\n\n\nThough there were some snags along the way and the final solution didn't end up working properly.. The backend is easy enough to separate out and work on independently of the frontend. I am starting into a CRUD react app that plays well with the strapi-backend, if it comes far enough along I'll turn it into a public repo. @soupette this is awesome, thanks!. \n. My model, though it is freshly generated with just some console logs. I updated strapi to the latest version (3.0.0-alpha.12.6) to generate the above response.\n```\n'use strict';\n/*\n * Lifecycle callbacks for the Stuff model.\n /\nmodule.exports = {\n  // Before saving a value.\n  // Fired before an insert or update query.\n  beforeSave: async (model) => {\n    console.log('beforeSave: ');\n  },\n// After saving a value.\n  // Fired after an insert or update query.\n  afterSave: async (model, result) => {\n    console.log('afterSave: ');\n  },\n// Before fetching all values.\n  // Fired before a fetchAll operation.\n  beforeFetchAll: async (model) => {\n    console.log('beforeFetchAll: ');\n},\n// After fetching all values.\n  // Fired after a fetchAll operation.\n  afterFetchAll: async (model, results) => {\n    console.log('afterFetchAll: ');\n  },\n// Fired before a fetch operation.\n  beforeFetch: async (model) => {\n    console.log('beforeFetch: ');\n},\n// After fetching a value.\n  // Fired after a fetch operation.\n  afterFetch: async (model, result) => {\n    console.log('afterFetch: ');\n  },\n// Before creating a value.\n  // Fired before an insert query.\n  beforeCreate: async (model) => {\n    console.log('beforeCreate: ');\n  },\n// After creating a value.\n  // Fired after an insert query.\n  afterCreate: async (model, result) => {\n    console.log('afterCreate: ');\n  },\n// Before updating a value.\n  // Fired before an update query.\n  beforeUpdate: async (model) => {\n    console.log('beforeUpdate: ');\n  },\n// After updating a value.\n  // Fired after an update query.\n  afterUpdate: async (model, result) => {\n    console.log('afterUpdate: ');\n  },\n// Before destroying a value.\n  // Fired before a delete query.\n  beforeDestroy: async (model) => {\n    console.log('beforeDestroy: ');\n  },\n// After destroying a value.\n  // Fired after a delete query.\n  afterDestroy: async (model, result) => {\n    console.log('afterDestroy: ');\n  }\n};\n. From my understanding of the comments in the model file, the generated output for an 'update' should be:\nbeforeSave:\nafterSave:\nbeforeFetch: \nafterFetch: \nbeforeUpdate: \nafterUpdate: \nbeforeFetch: \nafterFetch: \nbeforeFetch: \nafterFetch: \nAnd the generated output for a 'create' should be:\nbeforeCreate: \nafterCreate: \nbeforeSave: \nafterSave: \nbeforeFetch: \nafterFetch:\nbeforeFetch: \nafterFetch: \nbeforeFetch: \nafterFetch:\n**Or at least that is my understanding from the documentation, I am slowly getting familiar with the code base.. I did a fresh install ofalpha.12.6``` after doing an uninstall of strapi, then created a brand new project for the above example. You've tried it with a PUT request?\nInteresting, about the update action being how strapi works for relations data, so does it run across every object in the model? (Just for clarity, it can't be the actual 'Content Manager' plugin, as it still does it on curl request or if the plugin is removed.)\n. ",
    "demobo-com": "After changing the prefix to \"/v1\", the public folder is no longer accessible. ",
    "bel0v": "so if I want to prefix my API, is the todays solution go and change all the api/**/config routes by hand?... ",
    "jdutchak": "this link has a fix that worked for me\nhttps://github.com/strapi/strapi/issues/1235 . ",
    "RobinPel": "I'm having the same error (although it's #188 instead of #254) on a clean install of the latest version v3.0.0-alpha.14.1.1 for clicking \"Add a new language\", as well as for clicking \"Add content type\" on the Content Type Builder page. \nError: Minified React error #188; visit https://reactjs.org/docs/error-decoder.html?invariant=188 for the full message or use the non-minified dev environment for full errors and additional helpful warnings. main.js:11\nAny workarounds known?\n. I have the same problem since a few days on the latest version with docker, already mentioned it in #1325.. ",
    "peckhouse": "Node.js version: v10.10.0\nnpm version: 6.4.1\nStrapi version: 3.0.0-alpha.14\nDatabase: Mongodb\nOperating system: Linux (AWS EC2 Server)\nHello, \nI'm having this issue on distant server.\n\nI just installed Strapi on the server, and every time I try to interact with User Role dropdown or the\nAdd content type button I got the above error.\nI tried to do the same install on my local, and I didn't got any issues.\nIs there something I'm doing wrong, or a server configuration I am missing that could trigger this issue?. I'm having the same issue.\nInformation\nDatabase: MongoDB\nOperating system: MacOS\nNode: v10.2.1\nNpm: 6.2.0\nStrapi: 3.0.0-alpha.12.3\nSteps to reproduce the problem\nI've created a Casestudy and Client content type.\nCasestudy has many Client.\nAll the fields for the text, WYSIWYG, textarea are behaving correctly.\nmedia fields from Client return null when calling a Casestudy.\nfrom Casestudy :\n\nfrom Client :\n\nWhat is the expected behavior?\nTo have data available where null is returned.\nIs there anything I am missing?\n. ",
    "nguyenkhois": "I have the same problem when I install on AWS EC2 Server\nStrapi version: 3.0.0-alpha.14\nDatabase: Mongodb\nOperating system: Linux (AWS EC2 Server)\nDocker version 18.06.1-ce\nPort: 1337\n. Temporary \"solution\" for Docker users:\nI have cloned strapi-docker and changed only one line RUN npm install -g strapi@3.0.0-alpha.14 to RUN npm install -g strapi@3.0.0-alpha.14.1.1 in Dockerfile. Then I created a new other Dockerfile.\nIt works fine in my case when I install the modified Strapi Dockerfile on Amazon Linux server (EC2). You can test the modified Dockerfile on Docker Hub before Strapi release the new official version for Docker.\nMy system:\n Amazon EC2 - Linux\n Docker for Linux (both MongoDB and Strapi are in Docker)\n        *  MongoDB version 4 (lastest)\n        *  Strapi version 3.0.0-alpha.14.1.1 (modified)\nHappy coding! :-) . ",
    "byoungd": "Same issue.\nClean installation on:\nNode: v8.9.4\nMac OS: 10.14\nDatabase: Mongodb v4.0.2\nStrapi: 3.0.0-alpha.14.2\n\nHope any one can provide a solution for this problem.. @soupette Got it. I will try to create one manually then feed back. Thanks for your response so quickly and I am getting like strapi more and more.. @soupette When I created zh_hans.json in app/config/locales, Chrome refreshes automatically and one unknown language Appeared. But I can't set it as default language with the alert An error occured. Waiting fix this. \nThanks any way.. I have the same issue.\nNode :  v8.9.4\nMac OS: 10.14\nMac Language: Chinese\nStrapi: v3@alpha.14\n\nWhen I use the Number with Float field, typed in number like 123.12 or 123, it throw a alert \nThis not,a,valid,Decimal,128,string is already taken\n. @JZFLei Confirmed! V3.0.0-alpha.14.2 fixed this. Cheers! Thank you for your effort.. @lauriejim \nversion-\nstrapi: v3.0.0-alpha.24.1\nnode: 10.15.1\nOS: CentOS 7.2\nStill has the problem as shown above.\nAny progress?. ",
    "MechJosh0": "I have opened a ticket with the correct templating guideline https://github.com/strapi/strapi/issues/1461. I'm getting the same issue but the opposite column names. MySQL has the column name of .id and the query it's running is ._id. See below for my issue template.\nInformations\n- Node.js version: 9.10.1\n- npm version: 5.6.0\n- Strapi version: 3.0.0-alpha.12.5\n- Database: MySQL\n- Operating system: Ubuntu\nWhat is the current behavior?\nWhen you attempt to delete an image it's running a query where it thinks the image id column is ._id instead of the correct column name of .id.\nsql: 'select `upload_file`.* from `upload_file` where `upload_file`.`_id` = \\'1\\' limit 1' }\nsqlMessage: 'Unknown column \\'upload_file._id\\' in \\'where clause\\'',\nSteps to reproduce the problem\n1. Go to Files Upload plugin\n2. Upload an image\n3. Delete the image\nWhat is the expected behavior?\nDeletes the image and MySQL row.\nSuggested solutions\nUse the correct column name .id for MySQL databases.. @soupette Here is a video of me reproducing the bug from a fresh install -> https://youtu.be/pTxsFWbQUnU\nSorry for the lag in the video.. @derrickmehaffy this is just an example, when you save it fixes the spaces. The bug is still there when you try to use spaces or not. . ",
    "DanielRuf": "Weird, my change should not affect this.\nThe unit tests do not fail but CI in general does.\nSee https://travis-ci.org/strapi/strapi/jobs/390889672. Also not sure why the PR title was changed. This change does not clean anything but create a build cache like CircleCI does.. Started failing after the merges. We might have to rebase on master.\nhttps://github.com/strapi/strapi/pull/1337/commits. Probably just an issue with Travis CI, I try to trigger a new build.. > The title change because I update it.\nSure but it is not the right title, we now have a cache, there is nothing cleared ;-)\nWe will see after a new build push. I'll test it in my fork.. See https://travis-ci.org/DanielRuf/strapi/builds/398607999, so this was not coming from me but these changes (which do not make much sense):\n- sudo chown -R $(whoami) $(npm config get prefix)/{lib/node_modules,bin,share}\n  - npm cache clean --force\n  - rm -rf node_modules/\nAlso there is no install script.\nI guess this also makes the global and local node_modules inaccessible for CI as the node_modules directory of the build server (there is another one for builds on Travis CI) is removed which should not be done in general.. Running now on https://travis-ci.org/strapi/strapi/jobs/398611764. I could have done some git bisect on Travis with their API but that would have taken longer ;-). > Hello @DanielRuf !\n\nPR you did cause this issue. All others works fine.\nLet discuss of that on your PRs\n\nAre you sure? => https://travis-ci.org/strapi/strapi/builds/389718656. Also this was not my PR: https://travis-ci.org/strapi/strapi/builds/389351042#L485. This is no issue as this would invalidate the cache. If this would be really an issue we can change it to the npm cache.. See https://stackoverflow.com/questions/42521884/should-i-have-travis-cache-node-modules-or-home-npm, the second approach never caused any issues so far and we can use it if the first approach produces any issues.. But so far there are other issues which we have to resolve first: https://travis-ci.org/strapi/strapi/builds/389204771#L500. ",
    "SarathSantoshDamaraju": "Surprisingly, Uninstalling and Reinstalling Strapi, has fixed the above issue, But before that it was very redundant. Anyways keeping it open and you can close it if you feel it is not replicable. . Yes @lauriejim , I have tried that as well before reinstalling Strapi. Even that was not helpful. But as i have mentioned in above comments, reinstalling (same version) fixed it. . @sidharthv96 , I don't think so. Do you see any errors? or tried restarting the server ?. @lauriejim , Working fine for me.. ",
    "mwdwrd": "Happening to me as well now. Same as above.. ",
    "rodrigoWollies": "+1. ",
    "sdinesh86": "I also faced similar issue but just stopping and restarting the server worked for me. ",
    "sidharthv96": "When I update an object from content manager, the user relation becomes null. Related?. This issue is very random in nature.\nI just tried editing it a few minutes back and the data was saved.\nWhen I tried now, it's null again.. One-One\nOn Tue, Jun 19, 2018 at 2:35 PM Jim LAURIE notifications@github.com wrote:\n\nWhat is the nature of your relation between user and customer ?\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\nhttps://github.com/strapi/strapi/issues/1396#issuecomment-398329066, or mute\nthe thread\nhttps://github.com/notifications/unsubscribe-auth/AKNSVXtH-3rPESemAHQOpK_jFkIyzTzGks5t-L7kgaJpZM4UpHgI\n.\n. Fixed in #2286 . \n",
    "abhimediratta": "I restarted the system and the data started displaying again, for me.. ",
    "cesarvarela": "This is happening to me now. I've tried both mongo and mysql and got the same result. \nonce thing I've noticed is that If I manually delete my user from the db and then signup again, I do see the new Types, but if I refresh the page the items disappear again...\n. Ok so I followed the contributing guide, and seems like what is causing the issue is the strapi-cli if I run server.js directly or from vscode, the new types do show in the content types list. . BTW, is it possible to see the debug output when running server.js` from vscode?. I've found more stuff, maybe this can help you guys::\nI can access the new types If I do what I mention above, but when I add new fields to this new types, they don't work immediately, the Type.settings.json gets modified with the new field definition, but only gets visible in the UI if I restart strapi. \nIs this a caching issue maybe?\n. ",
    "renettarenula": "After tinkering around for a bit, I notice that I just need to add layout.js under the config folder of my plugin. I also have some 'injectedComponents' module not found error but that no longer stops the changes from being watched. The generated plugin should be improved by including layout.js under config folder by default to help people save time from having to poke around so much. Closing this.. ",
    "wisniewski94": "Add a flag --dev=true. It won't help much with installation anyway. See #https://github.com/strapi/strapi/issues/1927#issuecomment-432040364. I don't think it has something to do with Windows. This function doesn't work in Powershell and CMD but with Git Bash you can install strapi normally. Just look around for other cmd-type programs. Maybe even emulators will do it.. @jrasm91 in my case that also didn't work. I got same error as here -> https://github.com/strapi/strapi/issues/1355#issue-330891506\n. ",
    "ClementLoridan": "Thank you for your reply !\nI identified the problem :\nIn the Providers Services (users-permission plugin), there is : \nif (!_.isEmpty(_.find(users, user => user.provider !== provider)) && advanced.unique_email) {\n          return resolve([null, [{ messages: [{ id: 'Auth.form.error.email.taken' }] }], 'Email is already taken.']);\n }\nI think that should be user.provider === provider\nNEW EDIT\nI have in my collections users : \n{\n name: 'Bob',\nemail: 'bob@example.com'\n...\n}\nBut it's blocking because the users in the previous code contains a user with email different of my profile.email (Facebook).\nconst users = await strapi.query('user', 'users-permissions').find({\n          email: profile.email\n});\nprofile.email = clem.loridan@gmail.com\n\nBUG\nif (!access_token) {\n      return reject(null, {\n        message: 'No access_token.'\n      });\n}\nShould be :\nif (!access_token) {\n      return reject([{null, {\n        message: 'No access_token.'\n      }]);\n}\nIn any case, great project !! I'm going to contribute this weekend! \ud83d\udc4d . ",
    "leinue": "\nThe user does not exist. @derrickmehaffy posting via the api also has the problem, adminUI just for displaying the error. Haven't been solved. When i redeploy the project, it worked fine\nbtw, I changed OS to Ubuntu 16. I have to reopen this issue coz I found a login error:\nWhen I post via api to login, there's alway return \nshell\nIdentifier or password invalid.\n. \n\n@mnlbox @derrickmehaffy . Using username worked fine, but email can not work. javascript\n{\n  \"connection\": \"default\",\n  \"info\": {\n    \"name\": \"user\",\n    \"description\": \"\"\n  },\n  \"attributes\": {\n    \"username\": {\n      \"type\": \"string\",\n      \"minLength\": 3,\n      \"unique\": true,\n      \"configurable\": false,\n      \"required\": true\n    },\n    \"email\": {\n      \"type\": \"email\",\n      \"minLength\": 6,\n      \"configurable\": false,\n      \"required\": true\n    },\n    \"provider\": {\n      \"type\": \"string\",\n      \"configurable\": false\n    },\n    \"password\": {\n      \"type\": \"password\",\n      \"minLength\": 6,\n      \"configurable\": false,\n      \"private\": true\n    },\n    \"resetPasswordToken\": {\n      \"type\": \"string\",\n      \"configurable\": false,\n      \"private\": true\n    },\n    \"role\": {\n      \"model\": \"role\",\n      \"via\": \"users\",\n      \"plugin\": \"users-permissions\",\n      \"configurable\": false\n    }\n  }\n}\n@lauriejim . ",
    "daqst": "I am encountering this error too.  I'm wondering if it is the same (since it's occurring in the getProfile function of Providers.js) The steps to reproduce:\n\nSet up a new Strapi development installation.\nLog in and create a new (admin) user.\nEnable Google authentication\nGo to localhost:1337/connect/google\nSelect Google account to login with\nPresented with 'Auth.form.error.email.taken'\n\nThe plugins/users-permissions/service/Providers.jsL#69 seems to be checking if there is a user where the provider (google) does not match the provider (local).  This is indeed true for the first and only user.  This statement then fails and returns an error.\nIf you are checking to see if the email is already taken?  Shouldn't the find statement be comparing email as well as provider?. I think this issue is addressed and solved in issue #1512 \nThe problem is when on the providers tab in roles & permissions, changing provider settings and clicking save does not send just the 'providers' object, rather an object with 'providers' as one of the keys.  This means that the code looking for provider settings (user-permissions/controllers/Auth.js:150) looks in the wrong place.. I have been able to reproduce what I am confident is the same bug.  @soupette it doesn't matter if using the boilerplate or not, the boilerplate code is just calling localhost:1337/connect/<provider>.  So using the boilerplate to call it, or just starting a Strapi instance and navigating to connect/provider manually has the same effect.\nSteps to reproduce:\n- Install new Strapi instance (alpha 12.6, though I've had this problem since 12.4). strapi new strapi-test.  Database doesn't matter, I tested with both MongoDB and mySQL.\n- Start the Strapi instance cd strapi-test && strapi start\n- Create a new admin user (user: admin   pass: admin   email: admin@domain.com)\n- Enable Google auth provider.\n- Navigate to localhost:1337/connect/google in a browser\n- Log in with Google account (email will not be the same as the admin user (it can't be)...\n- Strapi returns Auth.form.error.email.taken error.\nSo this has been addressed in an earlier issues.  The most relevant is #908.  In that issue, after making a PR, what looks to be the real bug was found and addressed but never fixed and the issue was closed.\nThe problem seems to be at https://github.com/strapi/strapi/blob/5cba57f91dee81e625a7824318f9963c2526dd5d/packages/strapi-plugin-users-permissions/services/Providers.js#L49.\nThe call here is to find all users that have the same email as the one provided by the provider. email: profile.email  However, looking at the Bookshelf and Mongoose find functions you will see that they are both expecting params.where.  Since this is never provided, both functions will return a list of ALL users.  In the case above this is the admin user with the email admin@domain.com and the provider local.\nThis should be fixed, as suggested in #908 by changing line 49.  The problem here is mongoose.js - \nhttps://github.com/strapi/strapi/blob/5cba57f91dee81e625a7824318f9963c2526dd5d/packages/strapi-plugin-users-permissions/config/queries/mongoose.js#L6 and bookshelf.js  - https://github.com/strapi/strapi/blob/5cba57f91dee81e625a7824318f9963c2526dd5d/packages/strapi-plugin-users-permissions/config/queries/bookshelf.js#L9 expect different syntax.  Mongoose looks for params.where while bookshelf uses params.where with sub-parameters symbol and value.\nThis means if line 49 in Providers.js is changed, to work with bookshelf, the it needs to be:\nwhere: { email: { symbol: '=', value: profile.email }} while to make it work with mongoose, it needs to be where: { email: profile.email }.\nThis is obviously a pretty big problem.\nWhat's more, the syntax for the findOne function of both bookshelf and mongoose just look at the params passed in.  There are large inconsistencies here in how query parameters are handled and that is probably what should be changed.. ",
    "AndreKirchner": "Experienced the same thing today. Site has been off for hours.. Still not working with bash and libpng-dev installed. Something seems to be messed up.. ",
    "omarzion": "@lauriejim thanks, I corrected the issue before posting the issue.\nIs this currently being worked on?  I've not done a lot of open source work but I would like to help out with strapi.  Maybe I can look into it this evening\nAre the plans to move towards camel case, or to move towards lower case with nice formatting for the labels in the admin?\nI think #661 #1055  and #1370 could all be handled together\nWhat are your preferences on the matter?\nEdit: Also, is there documentation or a guide for development setup?. It's sounds like when you changed the name it can no longer find the model project type, make sure your project type model has the same spelling and capitalization as well since you've changed it in project. ",
    "dblinov": "@lauriejim Hello, are you sure that it was fixed? Today I faced similar issue:\nerror Something went wrong in the model Project with the attribute projectType\nerror Cannot read property 'hasOwnProperty' of undefined\nWhen I changed Project.settings.json from \"model\": \"projectType\" to \"model\": \"projecttype\", I received the following message:\nerror Something went wrong in the model Project with the attribute projectType\nerror Cannot read property 'attributes' of undefined\nI'm not an expert in backend and need support to fix it. Appreciate if you can help me. I have strapi v.3.0.0-alpha.12.7.1\n. I have the same issue using MySQL version 8. Try to check comments in community and couldn't find solution.\n. @derrickmehaffy thank you! do you know if there is a way to fix it?. @lauriejim I'm new in github and not so much familiar with labels. What does it means \"status: have to reproduce\"? thanks. Same issue :(((\n. @lauriejim wonder why this issue is closed as there is no solution for that yet\n. ",
    "puntonero": "Same problem in my ubuntu box, but CTRL + C simply kicks me back to the command prompt.\n. ",
    "ShawTim": "Thanks @soupette and others for the quick responses.\nI can now override and use mine. Here is the example code \u200bin ./plugins/content-manager/admin/src/component/Edit/index.js:\n```\nimport Loadable from 'react-loadable';\nimport styles from './styles.scss';\nconst LoadableWysiwyg = Loadable({\n  loader: () => import('../WysiwygWithErrors'),\n  loading: () => Loading ...,\n});\n.................................\n          <Input\n            {...\u200boriginalProps}\n            // add this line\n            customInputs={{ wysiwyg: LoadableWysiwyg }}\n          />\n\n```\ni copy the WysiwygWithErrors (not WysiwygEditor) in strapi-helper-plugin to have my own version and put it in ./plugins/content-manager/admin/src/components/. and then run npm_config_plugins=true npm run setup, then it's now showing my version.. @VasiliyPolyakov maybe just check which path you are running the command on. i run it on my root dir of the strapi project.\nthe command will tell the npm run setup to build the plugin as well. if you run that successfully you should be able to see some plugin build results on console. sth like this:\n\ud83d\udd38  Plugin - Content-manager\n\ud83d\udce6  Installing packages...\n\ud83c\udfd7  Building...\n\u2705  Success\nyou can check admin/scripts/setup.js. there is a line:\nif (process.env.npm_config_plugins === 'true') {\nmake sure you have tell the script to build the plugins.. ",
    "VasiliyPolyakov": "@ShawTim Hello. I am trying to add another Markdown Editor. Unfortunately, I have not added yet it. I have a few questions, maybe you can help me. \nWhat I did:\n1) added a new component with Froala WYSIWYG (https://www.froala.com/wysiwyg-editor) \n2) added this component to input (customInputs={{ wysiwyg: LoadableWysiwyg }})\n3) executed npm_config_plugins=true npm run setup (what does this command mean?)\nAs a result, nothing happened. maybe I missed something important.\nI need to have a possibility to edit HTML in strapi with WYSIWYG. I am confused a little bit about how to implement it.\nif you help me I will be very grateful to you.. ",
    "jaredmorgs": "What flavour of Markdown is supported in the WYSIWYG editor by default? I tried adding a Markdown table into the editor and the table wouldn't render in the preview mode.\nI assume the editor preserves white space and LF info when it saves it to the database.\nWould it be possible to please add in a statement about what markdown flavours are supported within the editor in a future release?. ",
    "marcellovetro": "A PR is already open for this: #1950. Yes! I've just committed your advice. I think so too, what about write directy\nif (columns) switch (connection.settings.client) {\n   ...\nIt's short and essential, or do you prefer the \"return\" way?. I've heared all your advice and reviewed my history for a better commit history, I thought I could change branch in pull request but I've create a new one to provide the changes . do you think I could change the name? For example to: \"[Moved to 1950]Fix ORM Create FullText index error if no text colums founded\" ?\n. @lauriejim I want to fix that error but I need help to find the function that return the relation table name and the portion of code designed to synchronize the relations, could you or everyone read this issue tell me these references? Thanks!. I've updated the issue with the json schema to reproduce the problem.\nThe problem is exactly that both Entities have the same ManyToMany Relation field \"Investors\", if you rename the relation field in one of two entities it works right!. @lauriejim I've checked that your PR solve the problem, I've encounterd another problem if you have a manytomay relation with the same content type as a gerarchical table but I will create a dedicated issue describing the problem with example.. Fixed by #1976. > This is caused by strapi trying to create indexs on tables that don't have text fields.\n\nA PR is already open for this: #1845\n\nThe PR was moved to #1950\n. Linked to #1382 and #1907. Only to use a single table and make easy reproduce the problem, the SelectMany works bad also if you have two relation with different models!!! . Fixed in PR  #1963 . @lauriejim I've used exactly the same method of SelectOne Dropdown, please review my solution and if possible incude this PR in the next release because SelectMany cannot find the related element without this Fix using a Mysql Connection. I'm trying to solve the issue myself but I'm encountering some problems, the first is:\nI've edited the file strapi-plugin-content-manager/admin/src/containers/EditPage/index.js adding the function that jump to the related content type in creation and want to set the relation with the current record, I've added the code:\n````\naddRelatedElement = (relation) => {\nconst target = {\n  name: `record.${relation.via}`,\n  value: (relation.nature == 'oneToMany' ? this.props.editPage.record: [this.props.editPage.record]),\n  type: 'select'\n};\n\nthis.props.match.params = {\n  slug: relation.collection,\n  id: 'create'\n};\n\nthis.props.resetProps();\nthis.componentDidMount();\nconst url = `/plugins/content-manager/${relation.collection}`;\nthis.props.history.push({\n  pathname: `${url}/create`,\n  search: `?redirectUrl=${url}?source=content-manager`\n});\n\nconsole.log(\"relation\", relation);\nconsole.log(\"this.props\", this.props);\nthis.props.changeData({ target });\n\n};\nand into the \"render()\" function, I've exposed the function \"addRelatedElement=this.addRelatedElement}\"\n  render() {\n                      ...\n                      <EditRelations\n                        addRelatedElement={this.addRelatedElement}\n                      ...\n  }\n````\nThis code jump correctly to the create page but the console.log(\"this.props\" ... ) seems to be linked to the previous page (not the create page) and the code \"this.props.changeData({ target });\"  has no effect.\nThis code worked well in the alpha version 12.3 when I had done some experiments, but now not anymore. Do you have any suggestions?\n. @soupette and other interested programmers I've created a DEMO pull request to give you all my code, I await your suggestions!. Ok I've just developed the feature in the branch \"marcellovetro:create_button\"  but it need to be integrated with the content manager interface editor, i the next days I will merge the branch with a refactor. I've completed a part of work in the create_button branch and it works great!!  I managed these options: \n1. createRelated: show the link \"Add\" and precompile the relation, when the insert was done, it jump to the origin\n2.  hideSelect: to hide the Drow Down than add an existing element. Example: if I manage a Bill I wont only create a detail but I won't select an existing one\nBut it need move the configuration from the .settings.json into the model to the content manager plugin\n. ",
    "jeffwsw": "I found some old code was left in the service file from an older version of strapi after some debugging so the error has disappeared.. ",
    "xlmnxp": "Arabic flag is one of the flags of an Arab country in the Arab world\nhttps://en.wikipedia.org/wiki/Arab_world\nyou can use \ud83c\uddf8\ud83c\udde6 Saudi Arabia flag (ar_SA) for arabic. Saudi Arabia isn't language.\n. I will replace files from ar to ar_SA. - [x] strapi-admin\n- [x] strapi-plugin-content-manager\n- [x] strapi-plugin-content-type-builder\n- [x] strapi-plugin-email\nPR: https://github.com/strapi/strapi/pull/1913. yes, this isn't necessary :+1: . Can you merging PR?. ",
    "Icemic": "Same, and solved by running npm install -g moment . @lauriejim macOS 10.13.2 with Node 10.4.1, and I am using nvm to manage multiple nodejs.. ",
    "dorelljames": "@lauriejim I can no longer reproduce the problem now (at this very moment) using my other Mac machine with the same steps I provided above. That's really odd. Perhaps some dependency not still pulled and updated properly?  \n@Icemic thanks for confirming the issue. I think re-installing Strapi fixes it.. Not sure if it's appropriate to raise this here but I noticed that while this works perfectly on image types, it does not work with \"video\" format.\nI submitted PR #2390 fixing video format uploads and checked out this PR. Please this video: https://www.useloom.com/share/e368fe788a754ae5bb09e34cf5e404a7\nI'm not so sure but the public_id is correct. Might have something to do with Cloudinary's package.. ",
    "henrych4": "Thanks for the prompt reply. Yes, I use content manager to create Dailydata. \nAnd I am trying to fill in other content based on Dailydata and therefore I add some code in afterSave event.. So should this be considered as 'bug' because it seems that there is no way to retrieve information correctly. \nA temporary solution is to get information about file in afterSave event inside plugins-upload. However this can be messy because we still don't know which content that the uploaded file belongs to.\nEither the information can be retrieved when a record is inserted/updated, or afterSave event are triggered twice (first result should give null since file is not uploaded, second result should return details after file is uploaded).. As mentioned here, requirements for strapi are\n\nnode (at least v9.0.0)\nnpm (at least v5.0.0)\nmongoDB (at least v3.4)\n\nPerhaps you can try update node version and see whether it works. I just come across with similar problem and I have updated strapi to alpha.12.6 but neither beforeSave nor afterSave is fired. \nInformations\n- Node.js version: 9.0.0\n- npm version: 5.5.1\n- Strapi version: 3.0.0-alpha.12.6\n- Database: MongoDB\n- Operating system: macOS High Sierra Version 10.13.1\nSteps to reproduce the problem\n create a content type with a text field\n add code to log event message in model file\n* create a record on cms and then save it\nlog result:\n\n\nclick on just created record, update text field and save it\n\n. Would you mind to check _update object inside model? You may find something useful.. The id can be found in _conditions object.. beforeUpdate/afterUpdate should be triggered after the fix in #2905. Upgrade strapi to latest version and it should work as expected.\n\nHowever, lifecycle methods related to save and destroy are not fired. The problem exists since very earlier version of strapi.. I have seen your comment on another post\nIt seems there is something wrong with your token and thus you receive 403 response.\nFor upload issue, as mentioned here, the normal way to upload file to a field is first upload it to Upload section and then link it to entity through admin panel.\nHowever, there is another way by calling uploadToEntity method in strapi-plugin-upload/services/Upload.js.  (source code)\nYou need to provide params which is an object {model: 'ModelNameOfEntity', id: 'IDOfEntity'} and file (the file body).. Sorry I am not familiarize with heroku but as suggested here, you may have to upload the file to aws s3 or Cloudinary.. How about adding delete file action in controllers of strapi-plugin-content-manager?\nCheck here, every time you delete a row of a content type from admin panel, ContentManager.delete is called. And you can get the model and row id from ctx.params. Once you have the model and id, you can first get associated files by fetch method in api/[model_name]/service/, and then call remove method provided in plugins/upload/services/Upload.js to delete file.\nLooking forward to official implementation.\n. Hi @Restry, I suggest you take some time to read the requirement of strapi before posting a new issue.\nAs stated here, minimum requirements are:\nNode:\n * NodeJS >= 10.x\n * NPM >= 6.x\nDatabase:\n * MongoDB >= 3.x \n * MySQL >= 5.6\n * MariaDB >= 10.1\n * PostgreSQL >= 10\nTherefore you may try upgrading node, npm and mongodb to latest version and see whether the problem still exists.\n. Updated.. not sure if related to here:\nhttps://github.com/strapi/strapi/blob/v3.0.0-alpha.14.2/packages/strapi-plugin-content-manager/admin/src/components/SelectOne/index.js#L42. Related to #2131 .\nAs mentioned above, a temporary fix is to remove duplicate entries in core_store collection.\n. After migrating to strapi@3.0.0-alpha.14.5 with those changes related to mongoose, I find that all old records with field type float cannot be displayed correctly on strapi. \nDoes anyone have similar situation?. After double checked the content manager, I found that there were an extra field File which was generated from plugin: upload. Clicking on it causes error so the fix may not be suitable.\nAnd then I have some thought: The content manager should show those content types on the LeftMenu. So why don't we get the data from layout (this.props.schema.layout) instead of from models (this.props.schema.models) ? In this way, we don't even need the hard coded filtering:\nmodels.filter(obj => obj.name !== 'permission' && obj.name !== 'role')\nHow do you guys think? I can work on it if we all agree to fix in such way.. I have tried the code in pull request #2325 but still, one of content types is missed on content manager. \n\nThat's something we can do but you'll need some logic to generate the correct urls for the SettingPage since I use the url to update the correct setting in the content type.\n\nYou are right. It seems that url cannot be determined from layout only. How about using the layout content to determine whether a model should be shown in content manager?\nie.\nsuggestion\nmodels.filter(obj => !!this.props.schema.layout[obj.name])\n. How about modifying default handler for handling \"PUT\" request to \"/users/:_id\"? You can find the default handler here.. check this out https://github.com/strapi/strapi/issues/2426#issuecomment-444043277\nThere exists some issues related to naming of fields.. Same issue in #2034 . Better mention such breaking changes in migration guide next time.. You should be able to view all items by scrolling down. Correct me if I am wrong.. Since only the mongoose methods are changed in related issue, so for bookshelf, update hooks should be triggered as before.. I can confirm that the problem occurs in SQLite db as well. Both text field and string field are affected.. Did some investigations on the problem. Probably related to the following code:\nhttps://github.com/strapi/strapi/blob/124d0b1ebbebd7dca712cd71a512c0cbac758f1e/packages/strapi-plugin-content-manager/services/ContentManager.js#L63\nWhen add/edit a text field or string field eg. \"d\", the original value is '\"d\"' and after JSON.parse method, value becomes 'd'.. Sorry, that's my typo. It should be 3.x for MongoDB.\nBut this raises a new question: Do we need to include the requirement of npm and other databases (MySQL, MariaDB, PostgreSQL) on installation page?. Is it a typo?\nsuggestion\n    const models = Object.keys(_.get(pluginsModel, [curr, 'models'], {}));. Does it break previous records with field of float type?. ",
    "kwzm": "@derrickmehaffy  Sorry, it's my fault.. Then I modify origin to http://10.2.5.98 like this:\n\nBut the response header Access-Controll-Allow-Origin still is *:\n\n. @derrickmehaffy Hi, how to update strapi, just install strapi@3.0.0-alpha.12.5 is ok ? What about admin, does it need to update ?. @lauriejim @derrickmehaffy  First of all, thanks a lot, you replied so fast.\nAnd I red the migration guide, but I have some questions:\n1.\n\nWhy I need to create a new project by strapi? Is it for copy new items to old project?\n2.\n\nIs update node modules in old project?\n3.\n\nIs that use new admin folder(create in Getting started) to cover old one(in old project)?\n4.\n\nI don't understand this sentence 'Copy the fields and relations you had in your /plugins/users-permissions/models/User.settings.json file in the new one.' , copy for what? Since next step will use new plugins folder to cover old one, why do we have to copy the User.settings.json in the new one?\n5.\n\nIs all my api need to add a new route?\nIs the article(read underline) replace to my api name?\nSorry for asking so many questions, I am a beginner.\nAnd please forgive me for my poor English.\n. @derrickmehaffy Thanks a lot, after reading you reply, I was suddenly enlightened. :). @derrickmehaffy Thank you for your compliment, you are flattering me. :smile: . @derrickmehaffy Hi, I updated my local project successfully, and then used git to push in gitlab. Now I pulled the latest code from the gitlab in ubunto, then ran npm install --production NODE_ENV=production npm strat as the blog says, but got a error like this:\n\nActually, I got some warnings after running npm install --production, but I was not sure if it has effects.\n\nPS: My node and npm versions in ubunto were the same as local, so I was confused.. @derrickmehaffy Hi, it seems that I am not alone in this problem :smile: , and just like you I am also install them one by one.. ",
    "anselmobattisti": "\n@derrickmehaffy Sorry, it's my fault.\n\nHere i was trying to access it via GET instead of POST!. ",
    "alewin": "@lauriejim oh sorry.. tomorrow i'll fix it! \ud83d\udc4d . Sure, tomorrow I'll do it! \ud83d\udc4d. ",
    "entwicklerfr": "Hello @Aurelsicoko, @lauriejim,\nYou are currently using pino and pino-std-serializers npm modules.\nIs it possible to use the core package pino-tee for an easier implementation of this feature ?\nI wait for your answer before I dive into the code.. Hello @derrickmehaffy ,\nI pushed a PR this morning: \"Save application logs in .log file\" :  #2183. @Aurelsicoko,\nI simply took an User Story in the strapi backlog.\nIf the Owner of this Product finally decides to not implement this feature it's absolutely not a problem for me.\nI simply stop my current work on this Pull Request.\nAt least things are clear.\n:ok_hand:\n. Hi @lauriejim,\nI spent my day to intall the strapi development / contributing environment.\nAfter a huge number of issues with Windows10, I finally decided to switch to an Ubuntu VM which is working right now.\nI'm currently ready to try fixing this issue.\nCould I take this issue for a first shot ?\nThx a lot.. Hello @lauriejim,\nOk, I saw you are assigned to review on my PR https://github.com/strapi/strapi/pull/2140.\nThx.\n. @lauriejim , \nThx for the feedbak. I misinterpreted the need.\nI'll dive in code this week-end.\nI'll let you know.\n. Hi @lauriejim,\nI have had to open a new PR #2159 instead of this one because of a mistake I made on my original forked repo.\nI close this one.. Hello,\nI know it and I'm so sorry.\nI simply crashed my ubuntu VM without possible recovery and, in the same time, removed my forked github strapi repository. \nSo I recreated all my environments from scratch. \nI will have more caution next time.. Sorry @xargr has already pushed for this issue.. Manually tested on:\n\nUbuntu 18.04\nNode 10.12.0\nNpm 6.4.1\n\nMongo 4.03\n\n\nFirefox Quantum 62.0.3 (64 bits)\n. Hi @soupette,\n\n\nAny feedback ?. U'r welcome.. @derrickmehaffy\nMy update concerns only the case where the client is \"pg\" (postgres) and GIN index is a specificity of postgres.\nAll others RDBMS indexes are created in the default case of the switch I modified.\nSo I did not the tests with mysql.\nUnfortunatly, I will be able to do them next week because I m currently overworked.\nDo you know if there are RDBMS automatic integration tests on the strapi CI environment ?. Hallo @Jan10,\nIch hatte das selbe Problem mit meinem Windows Installation. :-)\nI don't remember exactly but I believe I had to stop/deactivate the mongo windows service and start mongo with \"mongod\" command instead of.\nHope this helps.\nNote that I definitively abandonned ther idea of working with windows with this framework. I have had so many problems (even with the WSL feature). It works perfectly in an Ubuntu VM.\n. @lauriejim,\nok, I do that.. @lauriejim,\ndone. Hi @maturanomx,\nI just wrote the function getLogType()  like that because I wanted to be homogeneous with other old existing functions. \nDo you mean I have to update the whole code (legacy + new) to solve the improvement you described above ?. I have written code with more features than the present one which is a fork and this split/join is currently useless.\nIn my case I appreciate this kind of optional and basic feature because I don t use strapi in production but I use it like a toolbox to build very quick POCs of API based WebApp without any devops tools and I need to have  logs because I want to save them just with envt setting Of course it s not a question of life but of less effort because I have to be quick.\nFinally it's up to strapi team to decide.. Of course, it's what I did before I update the code.\nFor me this current commit was only the first US/step before to go further in this feature and when I took this US I thought that the thinking (log management out of process or not) was achieved because it was marked as \"feature\" by strapi leaders.\nBefore I commit a next update for what you said about code, I wait for a validation (or not) of this team.\nIt's actually not a problem for me to drop the work (I have my piece of code for my needs) .. This way of going about refactoring is quite different of my current teams rules but thx a lot for your feedback, I will apply it right now.. Just this current PR of course :relaxed:\nThx.. I think it's clearer and easier to read an explicit declaration than a direct use of a function, but I can change it if you want. That's not a problem.. Not really. When reading the code I thought it was the right place for this. Do you prefer I declare this function directly in the ContentTypeBuilder.js ?. ",
    "zalmane": "Just tried with 12.5. Same issue.. ",
    "adamkhan": "@krestaino Thanks for the quick response. Followed your link and successfully completed the update \u2014 thank you very much!\nMight be good if the blog post linked to it as well, someone has already commented there about the issue.. I just had the same problem after fiddling around with npm not knowing quite what I'm doing. @npjonath's solution fixed it for me, but in case like me anyone didn't know where the database.json file is, it's in /config/environments and then whichever of the environments you're using.. Thanks for the heads-up. Good to know this functionality is coming soon along with more configurability on the content manager's layout.. Worked for me after getting stuck here following Pierre's tutorial at https://blog.strapi.io/how-to-deploy-a-strapi-application/ for installing on Ubuntu. Updating from Node 8 to 10 had not solved the problem (at least, not without this patch as well). Thanks, @sidsaxena0. Hi Derrick, have posted to https://portal.productboard.com/strapi/tabs/2-under-consideration/submit-idea instead so no need to repeat here, let's keep it closed, it's a very minor request. . ",
    "duurland": "Just installed my 1st strapi app to test it out and was quite confused about the callbacks.\n\nWhen creating an entry *Update is triggered.\nWhen updating *Save is not triggered.\nWhen deleting a single entry *Destroy is not triggered.\nWhen deleting multiple/all *Destroy is not triggered, however *Update is. \n\nSurely this can't be intended?\n\nNode.js version: 10.11.0\nnpm version: 5.7.1\nStrapi version: 3.0.0-alpha.14.5\nDatabase: MongoDB\nOperating system: Windows 10 Pro x64 v1803\n\n\n@lauriejim : About update on create action, it's because the content manager create then entry data and then update for relations data.\n\nGuess that answers by first questions, however, what's the use for save then, if update is ran on creation and update?. ",
    "genu": "I can confirm that this is still an issue in 3.0.0-alpha.24.1. ",
    "csotiriou": "I think that we have identified the issue here.\nThis pull request here is what broke this functionality:\nhttps://github.com/strapi/strapi/pull/2682\nSo, now in the connector, in here:\nconst preLifecycle = {\n                  validate: 'beforeCreate',\n                  findOneAndUpdate: 'beforeUpdate',\n                  findOneAndRemove: 'beforeDestroy',\n                  remove: 'beforeDestroy',\n                  update: 'beforeUpdate',\n                  find: 'beforeFetchAll',\n                  findOne: 'beforeFetch',\n                  save: 'beforeSave'\n                };\nThere should also be a updateOne there, because after this pull request the mongoose hook slightly changes!!\n. ",
    "nicokant": "Yes, this could work, but a content type is a entries, a configuration should be instead just a single item.\nMoreover a json field type require technical knowledge and may be complex for a user. Yes, this is precisely the point. > This might not be an issue for the user but it would mean that he has to use draft-js editor in his application, with exactly the same configuration has the one used in Strapi.\nI suppose it depends on how the user expects to use Strapi, if he wants to just create/edit data with strapi admin the problem with the configuration doesn't exists. If he wants to edit data in a custom frontend but wants to be still usable in strapi admin, he should produce and save markdown text to be compatible. In the second case the user is probably going to use a text field without WYSIWYG support.\nAn option could be to have text field, text field markdown and text field html. DraftJS should be able to import/export to both the formats as far as I know.\n\nMoreover, drafts is very sensitive to the applied style and not compatible with mobile which might be an issue for the end user.\n\nI think that compatibility with strapi admin should be a responsibility of the developer, which given a set of parameters should decide if is something that he needs. As before if the user/developer is going to use strapi admin only, compatibility is ensured, if he modifies data outside strapi admin probably he doesn't use a text field with preview or he is forced to store markdown to have compatibility.\n\nit is very hard to keep the same style applied to the editor when we convert its content in either HTML or Markdown.\n\nI agree, but I think that saved content shouldn't be interchangable. Strapi admin could provide the ability to edit raw text or preview/edit markdown text or preview/edit html text based on what the developer needs to save. An option could be using the same configuration as in this draft js example: https://draftjs.org/\nThe content could still be exported as markdown, but at the same time user should't be forced to know markdown to write.\n. @derrickmehaffy you are right, I'd like to contribute with a PR! . \nIn this example I just wrote { as content and pressed save. . ",
    "ajzozakiewicz": "Pages in a CMS is the use case for sure.\nBeing able to have a content type of pages and then relate each page to a unique form for each page. The lack of this feature prevents me from being able to implement this in place of other CMS systems.\nIt would be nice to be able to create a Pages or Templates content type. Then each entry could have a unique set of fields. You would then have entries for (Home, About Us, Contact Us) etc.. ",
    "malbari": "Any plan to support WYSIWYG for Vue component also, for example using vuep ?\nThanks. Yes, I mean WYSYWYG for Vue component. If I understand correctly, currently a markdown WYSIWYG editor is supported \"out of the box\" and the HTML equivalent is proposed as feature request. Both are usefull to display rich static content, and I think that a WYSIWYG editor for Vue coomponent (or ReactJS equivalent) could be usefull for displaying dynamic content as well.. ",
    "sebj54": "Hi! \nRather than providing a new way to edit content, why not changing the Markdown plugin?\nThere are already plugins which provide a way to view content formatted while editing it. Some of these plugins export text as markdown, so it will be transparent for Strapi!\nExamples:\nhttps://github.com/nhnent/tui.editor#easy-wysiwyg-mode\nhttp://prosemirror.net/\nActually, it's really hard for non-tech users to understand how pictures or links work. They may also forget to close bold or italic tags.. ",
    "nickkrein": "I'm having the same issue on v3.0.0-alpha.14 when running in production.\nHere's my config file:\n{\n  \"host\": \"localhost\",\n  \"port\": \"${process.env.PORT || 1337}\",\n  \"autoReload\": {\n    \"enabled\": false\n  },\n  \"cron\": {\n    \"enabled\": false\n  },\n  \"admin\": {\n    \"path\": \"/dashboard\"\n  }\n}. ",
    "bringmethecode": "I am still experimenting this issue... Strapi 3.0.0-alpha.14.4.0\nI see there are severals hardcoded urls in Admin:\nadmin/src/containers/AdminPage/saga.js:\nconst [{ allowGa }, { strapiVersion }, { currentEnvironment }, { layout }] = yield all([\n      call(request, '/admin/gaConfig', { method: 'GET' }),\n      call(request, '/admin/strapiVersion', { method: 'GET' }),\n      call(request, '/admin/currentEnvironment', { method: 'GET' }),\n      call(request, '/admin/layout', { method: 'GET' }),\n    ]);\nadmin/src/containers/ListPluginsPage/saga.js:\nexport function* pluginsGet() {\n  try {\n    // Fetch plugins.\n    const response = yield [\n      call(request, '/admin/plugins', { method: 'GET' }),\n      call(request, '/admin/currentEnvironment', { method: 'GET' }),\n    ];\n...\nI see you define remoteURL, should these files make use of it?\n. ",
    "PaulDreef": "Same issue on my side:\n\ufeff\nmain.js:1 \u26a0\ufe0f It looks like the language \"pt-BR\" is not supported by \"react-intl\" module.\nmain.js:1 \u26a0\ufe0f It looks like the language \"zh-Hans\" is not supported by \"react-intl\" module.\nmain.js:1 GET https://temp-vipmd-dev-app.azurewebsites.net/admin/config/plugins.json 404 (Not Found)\nmain.js:1 SyntaxError: Unexpected token T in JSON at position 0\n    at main.js:1\nmain.js:1 GET https://temp-vipmd-dev-app.azurewebsites.net/admin/gaConfig 404 (Not Found)\nmain.js:1 SyntaxError: Unexpected token T in JSON at position 0\nmain.js:1 GET https://temp-vipmd-dev-app.azurewebsites.net/admin/strapiVersion 404 (Not Found)\nmain.js:1 GET https://temp-vipmd-dev-app.azurewebsites.net/admin/currentEnvironment 404 (Not Found)\nmain.js:1 GET https://temp-vipmd-dev-app.azurewebsites.net/admin/layout 404 (Not Found)\n/admin/bd03a2cc277bb\u20264e679fe9942.woff2:1 GET https://temp-vipmd-dev-app.azurewebsites.net/admin/bd03a2c\u2026.woff2 net::ERR_ABORTED 404 (Not Found)\n/admin/27bd77b9162d3\u2026c4217c7c5e2a.woff:1 GET https://temp-vipmd-dev-app.azurewebsites.net/admin/27bd77b\u2026.woff net::ERR_ABORTED 404 (Not Found)\n\ufeff\n\u200b\nI ran a \"npm run setup\", zipdeploy to azure, node10..\nThe admin/ path is hardcoded ? In the build-dir there is no admin folders (only a config)\nWhat do I miss ?\n. ",
    "easydrops": "I had the same issue with strapi alpha 14 - updating to alpha 24.1 and running npm run setup helped.. > I want to add another comment, in case this helps anyone. I received this same error message after updating some of my schemas and pushing up to production. To fix this, I did the following (Ubuntu 16.04):\n\n\nShell into MongoDB shell with mongo.\nUse the DB that your Strapi instance is using\n   shell\n   use yourDBname\nFrom the core_store collection, delete the record corresponding to the Content Manager schema:\n   shell\n   db.core_store.remove({key: 'plugin_content-manager_schema'})\nThen reboot your Strapi application (I believe it'll recreate that record when it boots up, but now with your updated schema).\n\nAgain, this was an issue that I didn't have on my local machine, but my production machine (with SSL) gave me some issues.\n\nThis helped me to solve this issue (in 24.1). ",
    "philippfrenzel": "Hi, so I\u00b4ll post it their ;) Thanks for answering\n. ",
    "jmp1548": "Found this while googling the same question. Not sure if this is what @nicokant meant, but I was looking for a default starting point for the json input. For example\nLet's say you have a component you want to pass props into called header.\nMake a json input called Header and then set the default to be something like this:\n{\n   logo: \"\",\n   headline: \"\",\n   subline: \"\"\n   list: [ ]\n}\nBy allowing for this default behavior, someone can duplicate the same structure every-time in the admin panel and have a starting point to enter values.. ",
    "COcisuts": "Same here... Windows 10 with ubuntu subsystem...\nMaybe related to this post (there you can check my other config deploy settings) https://github.com/strapi/strapi/issues/1516. I've got same problem today trying cheesecake strapi official example...\nhttps://github.com/strapi/strapi-examples/tree/master/cheesecakes\nCannot access to admin to continue the tutorial... also the homepage isn't rendering correctly...\nTypeError: Cannot read property 'policy' of null\ncheesecakes/plugins/users-permissions/config/policies/permissions.js:50:18)\nWindows 10 with ubuntu subsystem...\nI've git cloned strapi last week and npm run setup dollowing plugin dev guide... npm run setup:build was throwing other errors.... ",
    "franksn": "this is also the case for postgresql backend.. @datboirog94 I don't have this problem using postgresql, yet i do when i use mongodb.. ",
    "heyjaypray": "I followed the guide step by step - and it works with v12.2 - here are my server logs\n\n2018-07-01T20:57:57.560581+00:00 heroku[web.1]: State changed from starting to crashed\n2018-07-02T02:34:01.004210+00:00 heroku[web.1]: State changed from crashed to starting\n2018-07-02T02:34:09.345495+00:00 heroku[web.1]: Starting process with command npm start\n2018-07-02T02:34:12.299066+00:00 app[web.1]: \n2018-07-02T02:34:12.299085+00:00 app[web.1]: > kitchen@0.1.0 start /app\n2018-07-02T02:34:12.299088+00:00 app[web.1]: \n2018-07-02T02:34:12.299086+00:00 app[web.1]: > node server.js\n2018-07-02T02:34:15.627065+00:00 app[web.1]: Make sure your MongoDB database is running...\n2018-07-02T02:34:15.699195+00:00 heroku[web.1]: Process exited with status 0\n2018-07-02T02:34:15.747934+00:00 heroku[web.1]: State changed from starting to crashed. yes - i am using mLab.  like i said i followed the guide step by step - and this isn't the first time i've deployed a strapi project.  everything works when I used 12.2 - I haven't tried 12.5 since having this issue, but not having a remote database is not the issue.\n\n\n\n. hmm - is there any suggestions on how i should mitigate it?  like i said i followed the guide in creating an mLab instance and deployed as I normally do.\n12.2 works as expected so I've been using that for the app I'm working on.  I honestly dont know if its a bug or not - I just know it didn't work when I upgraded to 12.5.\nIf there's anything else I can provide I would be happy to help.  I love strapi and want to help in any way I can.  . I apologize for not responding sooner - wanted to finish my project before upgrading again.  I just installed 12.6 and everything seems to deploy correctly so I believe the issue is resolved.  Not sure if it was because the production settings were configured wrong - I never touched them because I assumed they were set to \"${process.env.PORT || 1337}\".\nThank you for you patience and love the work team strapi is doing!  . ",
    "kidtango": "I have the same issue as heyjaypray except I'm using the latest version of strap (14.3). I followed the posted instructions and nothing works. My production database.json file: \n{\n  \"defaultConnection\": \"default\",\n  \"connections\": {\n    \"default\": {\n      \"connector\": \"strapi-mongoose\",\n      \"settings\": {\n        \"client\": \"mongo\",\n        \"uri\": \"${process.env.DATABASE_URI || ''}\",\n        \"host\": \"${process.env.DATABASE_HOST || 'localhost'}\",\n        \"port\": \"${process.env.DATABASE_PORT || 27017}\",\n        \"database\": \"${process.env.DATABASE_NAME || 'production'}\",\n        \"username\": \"${process.env.DATABASE_USERNAME || ''}\",\n        \"password\": \"${process.env.DATABASE_PASSWORD || ''}\"\n      },\n      \"options\": {\n        \"authenticationDatabase\": \"${process.env.DATABASE_NAME || 'production'}\",\n        \"ssl\": false\n      }\n    }\n  }\n}\nMy server logs:\n2018-10-16T12:08:46.601244+00:00 heroku[web.1]: Stopping process with SIGKILL\n2018-10-16T12:08:46.675887+00:00 heroku[web.1]: Process exited with status 137\n2018-10-16T12:08:46.734614+00:00 heroku[web.1]: State changed from starting to crashed\n2018-10-16T12:08:48.644265+00:00 heroku[router]: at=error code=H10 desc=\"App crashed\" method=GET path=\"/\" host=uber-coral.herokuapp.com request_id=01d2be07-e002-49e8-a602-37d6bff71eb5 fwd=\"73.136.77.41\" dyno= connect= service= status=503 bytes= protocol=https\n2018-10-16T12:09:51.886946+00:00 heroku[router]: at=error code=H10 desc=\"App crashed\" method=GET path=\"/\" host=uber-coral.herokuapp.com request_id=85386af0-2cd6-4175-a743-186d8f7ee930 fwd=\"73.136.77.41\" dyno= connect= service= status=503 bytes= protocol=https\n2018-10-16T12:09:52.280144+00:00 heroku[router]: at=error code=H10 desc=\"App crashed\" method=GET path=\"/favicon.ico\" host=uber-coral.herokuapp.com request_id=73f3bfc7-9409-49cd-8b61-772058dae917 fwd=\"73.136.77.41\" dyno= connect= service= status=503 bytes= protocol=https\n2018-10-16T12:09:54.603545+00:00 heroku[router]: at=error code=H10 desc=\"App crashed\" method=GET path=\"/\" host=uber-coral.herokuapp.com request_id=b82ea2bc-5264-4e2d-b310-6466d3fc072f fwd=\"73.136.77.41\" dyno= connect= service= status=503 bytes= protocol=https\n2018-10-16T12:09:54.832312+00:00 heroku[router]: at=error code=H10 desc=\"App crashed\" method=GET path=\"/favicon.ico\" host=uber-coral.herokuapp.com request_id=04854a41-c8b6-4f91-80aa-fcafda60cc2d fwd=\"73.136.77.41\" dyno= connect= service= status=503 bytes= protocol=https\n2018-10-16T12:10:01.413834+00:00 heroku[router]: at=error code=H10 desc=\"App crashed\" method=GET path=\"/\" host=uber-coral.herokuapp.com request_id=61501766-a8f6-4eeb-8465-b20abbebdc4b fwd=\"73.136.77.41\" dyno= connect= service= status=503 bytes= protocol=https\n2018-10-16T12:10:01.796525+00:00 heroku[router]: at=error code=H10 desc=\"App crashed\" method=GET path=\"/favicon.ico\" host=uber-coral.herokuapp.com request_id=22ccdef3-a7a9-4d4d-8b8d-95f2fed8b9f1 fwd=\"73.136.77.41\" dyno= connect= service= status=503 bytes= protocol=https\n. I have similiar issues. My logs:\n2018-10-16T12:08:46.601244+00:00 heroku[web.1]: Stopping process with SIGKILL\n2018-10-16T12:08:46.675887+00:00 heroku[web.1]: Process exited with status 137\n2018-10-16T12:08:46.734614+00:00 heroku[web.1]: State changed from starting to crashed\n2018-10-16T12:08:48.644265+00:00 heroku[router]: at=error code=H10 desc=\"App crashed\" method=GET path=\"/\" host=uber-coral.herokuapp.com request_id=01d2be07-e002-49e8-a602-37d6bff71eb5 fwd=\"73.136.77.41\" dyno= connect= service= status=503 bytes= protocol=https\n2018-10-16T12:09:51.886946+00:00 heroku[router]: at=error code=H10 desc=\"App crashed\" method=GET path=\"/\" host=uber-coral.herokuapp.com request_id=85386af0-2cd6-4175-a743-186d8f7ee930 fwd=\"73.136.77.41\" dyno= connect= service= status=503 bytes= protocol=https\n2018-10-16T12:09:52.280144+00:00 heroku[router]: at=error code=H10 desc=\"App crashed\" method=GET path=\"/favicon.ico\" host=uber-coral.herokuapp.com request_id=73f3bfc7-9409-49cd-8b61-772058dae917 fwd=\"73.136.77.41\" dyno= connect= service= status=503 bytes= protocol=https\n2018-10-16T12:09:54.603545+00:00 heroku[router]: at=error code=H10 desc=\"App crashed\" method=GET path=\"/\" host=uber-coral.herokuapp.com request_id=b82ea2bc-5264-4e2d-b310-6466d3fc072f fwd=\"73.136.77.41\" dyno= connect= service= status=503 bytes= protocol=https\n2018-10-16T12:09:54.832312+00:00 heroku[router]: at=error code=H10 desc=\"App crashed\" method=GET path=\"/favicon.ico\" host=uber-coral.herokuapp.com request_id=04854a41-c8b6-4f91-80aa-fcafda60cc2d fwd=\"73.136.77.41\" dyno= connect= service= status=503 bytes= protocol=https\n2018-10-16T12:10:01.413834+00:00 heroku[router]: at=error code=H10 desc=\"App crashed\" method=GET path=\"/\" host=uber-coral.herokuapp.com request_id=61501766-a8f6-4eeb-8465-b20abbebdc4b fwd=\"73.136.77.41\" dyno= connect= service= status=503 bytes= protocol=https\n2018-10-16T12:10:01.796525+00:00 heroku[router]: at=error code=H10 desc=\"App crashed\" method=GET path=\"/favicon.ico\" host=uber-coral.herokuapp.com request_id=22ccdef3-a7a9-4d4d-8b8d-95f2fed8b9f1 fwd=\"73.136.77.41\" dyno= connect= service= status=503 bytes= protocol=https. @lauriejim, I tried everything! I even uploaded a test project to Heroku just to make sure it wasn't something else other than Strapi that may cause the remote server to not run. I even tried to go through the Deliveroo project and followed the deployment instructions there! Same issue... I'm really not sure what is the problem. https://blog.strapi.io/strapi-next-deploy/\n. OK. It worked with the following solution!!!!!!! So damn happy. I filled in all the Config Vars under Settings with my database info from MLab and it worked. The issue was the database not able to authorize connection. \nSolution: https://github.com/strapi/strapi/issues/2024#issuecomment-426718455. ",
    "AliaMYH": "How's this pull request coming along? because it's really needed.. ",
    "bahdcoder": "@lauriejim are you working on this? I could have a look and raise a PR later today if you haven't started yet. \ud83e\udd14 . @derrickmehaffy thanks a lot for checking this out. \nno. All environments have separate databases.. @derrickmehaffy yes, if I do this, I see the permissions.. @derrickmehaffy thanks for your suggestion. \nThe main problem with this suggestion is that it's not scalable. \nAt the moment, with the current bug, It means no one can actually work on a strapi application after it is deployed, which is not a good thing if you think about it, because software products will keep progressing over time.\nI am looking through the source code to see if there is any contribution i can make so this issue goes away. . @derrickmehaffy @Aurelsicoko \nI was able to find the problem with the current implementation and fix this (I still do not know if this is a bug, or if this requires fixing \ud83d\ude04). \nPlease, could someone explain to me why we have the actions.json config file in the user-permissions plugin? I would love to understand more so I can make meaningful contributions to the project. \ud83d\ude47 . Hello @lauriejim thanks for reaching out. \nI deployed my application on a Digital Ocean droplet.\nAfter every deployment, I restart my app using PM2.. @lauriejim yes I can, just like in the image shared. @lauriejim I would love to submit a PR with a fix, that's if you have all the information you need.. thanks @lauriejim @Aurelsicoko . @soupette I have tried again, and the problem is not having duplicate email addresses. I made sure the email wasn't duplicated and spent a long time trying to find out what's wrong. I really think there's a problem here. I had to modify the code in my project just to get it to work. Could you please check again with the latest version of strapi?\nthanks. . @lauriejim i will raise a PR asap to fix this.. @lauriejim I was able to diagnose and reproduce this bug \ud83d\udc1b \nTo do same, first, you have to update the email templates. This is the database record for email templates in the core_user collection:\njson\n{\n    \"_id\" : ObjectId(\"5b52ae8aab6b6dd7394ec9bb\"),\n    \"key\" : \"plugin_users-permissions_email\",\n    \"environment\" : \"\",\n    \"tag\" : \"\",\n    \"value\" : \"{\\\"reset_password\\\":{\\\"display\\\":\\\"Email.template.reset_password\\\",\\\"icon\\\":\\\"refresh\\\",\\\"options\\\":{\\\"from\\\":{\\\"name\\\":\\\"Administration Panel\\\",\\\"email\\\":\\\"no-reply@strapi.io\\\"},\\\"response_email\\\":\\\"\\\",\\\"object\\\":\\\"\u00adReset password\\\",\\\"message\\\":\\\"<p>We heard that you lost your password. Sorry about that!</p>\\\\n\\\\n<p>But don\u2019t worry! You can use the following link to reset your password:</p>\\\\n\\\\n<p><%= URL %>?code=<%= TOKEN %></p>\\\\n\\\\n<p>Thanks.</p>\\\"}}}\",\n    \"type\" : \"object\",\n    \"__v\" : 0\n}\nNow after updating some details on the email template, this is the result:\njson\n{\n    \"_id\" : ObjectId(\"5b5f2065b21bde4cfed2ca41\"),\n    \"key\" : \"plugin_users-permissions_email\",\n    \"environment\" : \"\",\n    \"tag\" : \"\",\n    \"value\" : \"{\\\"roles\\\":{},\\\"email-templates\\\":{\\\"reset_password\\\":{\\\"display\\\":\\\"Email.template.reset_password\\\",\\\"icon\\\":\\\"refresh\\\",\\\"options\\\":{\\\"from\\\":{\\\"name\\\":\\\"updated-email\\\",\\\"email\\\":\\\"no-reply@updated-email.com\\\"},\\\"response_email\\\":\\\"updated@email.com\\\",\\\"object\\\":\\\"\u00adReset password\\\",\\\"message\\\":\\\"<p>We heard that you lost your password. Sorry about that!</p>\\\\n\\\\n<p>But don\u2019t worry! You can use the following link to reset your password:</p>\\\\n\\\\n<p><%= URL %>?code=<%= TOKEN %></p>\\\\n\\\\n<p>Thanks.</p>\\\"}}}}\",\n    \"type\" : \"object\",\n    \"__v\" : 0\n}\nNotice that updating adds these properties to the document {\\\"roles\\\":{},\\\"email-templates\\\", and that's where the bug arises.\nTo fix this, it suffices to change the UserPermissions.updateEmailTemplates function from:\n```js\n  updateEmailTemplate: async (ctx) => {\n    if (_.isEmpty(ctx.request.body)) {\n      return ctx.badRequest(null, [{ messages: [{ id: 'Cannot be empty' }] }]);\n    }\nawait strapi.store({\n  environment: '',\n  type: 'plugin',\n  name: 'users-permissions',\n  key: 'email'\n}).set({value: ctx.request.body});\n\nctx.send({ ok: true });\n\n},\n```\nto:\n```js\n  updateEmailTemplate: async (ctx) => {\n    if (_.isEmpty(ctx.request.body)) {\n      return ctx.badRequest(null, [{ messages: [{ id: 'Cannot be empty' }] }]);\n    }\nawait strapi.store({\n  environment: '',\n  type: 'plugin',\n  name: 'users-permissions',\n  key: 'email'\n}).set({value: ctx.request.body['email-templates']});\n\nctx.send({ ok: true });\n\n},\n```\nI can raise a pull request for this if you reporduce the bug @lauriejim .\nIn the mean time, @dseedah you can manually add this as a quick fix.\nThanks. . @dseedah could you please show me your code so I can see if you did the right thing? Because this works on mine just fine.. @lauriejim thanks a lot for checking this again. I tried out your solution and it fixes the bug perfectly. \n\ud83d\udc4d . @lauriejim, @derrickmehaffy  are you working on this? If not, I can have a look and implement this feature. . ",
    "xeastcrast": "@derrickmehaffy Thanks for think highly of my request feature :+1: . @fedecarg  --no-pmx option is use for?. @fedecarg in old version of strapi when I change or modifier some thing in my api, Server will auto restart  But in current version of strapi that I migrated from old version,It don't auto restart when I change anything\nSorry for my englist grammar. @maturano \n\n. @maturano Now i can use npm install in admin folder\nThanks for your help :+1: . @lauriejim Can you help me for this. Please reply me \ud83d\udc4d . @lauriejim Can you help me for this. Please reply me \ud83d\udc4d . @VictorKolb I am sure for my token because previously it worked fine all time. But on the next day of my work, It don't work fine anymore T_T,  I have tried reinstalling users-permission plugin but it not work.. @derrickmehaffy It work for me. Thanks a lot \ud83d\udc4d \ud83d\udc4d \ud83d\udc4d \ud83d\udc4d \ud83d\udc4d . I forget one I must to change dependency from  strapi-mongoose to strapi-hook-mongoose in my package.json, And this make it work for me. ",
    "CantGetRight82": "My installation works now, thanks! . ",
    "Blacknosaur": "I have this issue too. Without GraphQL it works but you only see [Object object] through the CRM but with GraphQL it doesn't return an object but the string \"[Object object]\". Same here, version 3.0.0-alpha.16. The project was working on 12.3 but we move it to a new server with a fresh install of the last version (12.6). At first I didn't noticed Strapi version had changed, but when I downgraded to 12.3 it worked again. To check which was the problematic version I pushed it to 12.4 and 12.5 without problems but everything failed again when retried 12.6 (not a fresh install this second time). We have just tried with a clean project in alpha.12.6, same result. When I try to filter a nested object it returns null instead of the filtered array, if the filter is out it returns the complete array without any problems. In the example I posted before I queried model \"Encuesta\" nested into \"User\". These are User.settings.json and Encuesta.settings.json\n{\n  \"connection\": \"default\",\n  \"info\": {\n    \"name\": \"user\",\n    \"description\": \"\"\n  },\n  \"attributes\": {\n    \"username\": {\n      \"type\": \"string\",\n      \"minLength\": 3,\n      \"unique\": true,\n      \"configurable\": false,\n      \"required\": true\n    },\n    \"email\": {\n      \"type\": \"email\",\n      \"minLength\": 6,\n      \"configurable\": false,\n      \"required\": true\n    },\n    \"provider\": {\n      \"type\": \"string\",\n      \"configurable\": false\n    },\n    \"password\": {\n      \"type\": \"password\",\n      \"minLength\": 6,\n      \"configurable\": false,\n      \"private\": true\n    },\n    \"resetPasswordToken\": {\n      \"type\": \"string\",\n      \"configurable\": false,\n      \"private\": true\n    },\n    \"role\": {\n      \"model\": \"role\",\n      \"via\": \"users\",\n      \"plugin\": \"users-permissions\",\n      \"configurable\": false\n    },\n    \"encuestas\": {\n      \"collection\": \"encuesta\",\n      \"via\": \"user\"\n    },\n    \"sistematicaentrada\": {\n      \"collection\": \"sistematicadato\",\n      \"via\": \"user\"\n    },\n    \"gestiondato\": {\n      \"collection\": \"gestiondato\",\n      \"via\": \"user\"\n    },\n    \"status\": {\n      \"multiple\": false,\n      \"type\": \"boolean\"\n    },\n    \"idsol\": {\n      \"multiple\": false,\n      \"type\": \"string\"\n    },\n    \"picture\": {\n      \"model\": \"file\",\n      \"via\": \"related\",\n      \"plugin\": \"upload\"\n    },\n    \"store\": {\n      \"collection\": \"store\",\n      \"via\": \"users\",\n      \"dominant\": true\n    },\n    \"name\": {\n      \"multiple\": false,\n      \"type\": \"string\",\n      \"required\": true\n    },\n    \"surname\": {\n      \"multiple\": false,\n      \"type\": \"string\"\n    },\n    \"idsol2\": {\n      \"multiple\": false,\n      \"type\": \"string\"\n    },\n    \"idsol3\": {\n      \"multiple\": false,\n      \"type\": \"string\"\n    },\n    \"phone2\": {\n      \"multiple\": false,\n      \"type\": \"string\"\n    },\n    \"phone3\": {\n      \"multiple\": false,\n      \"type\": \"string\"\n    },\n    \"phone\": {\n      \"multiple\": false,\n      \"type\": \"string\"\n    },\n    \"retos\": {\n      \"collection\": \"reto\",\n      \"via\": \"users\"\n    },\n    \"itinerarios\": {\n      \"collection\": \"itinerario\",\n      \"via\": \"users\"\n    },\n    \"avanceretos_\": {\n      \"collection\": \"avancereto\",\n      \"via\": \"user\"\n    }\n  },\n  \"collectionName\": \"users-permissions_user\"\n}\n{\n  \"connection\": \"default\",\n  \"collectionName\": \"encuesta\",\n  \"info\": {\n    \"name\": \"encuesta\",\n    \"description\": \"Encuestas valoraciones a clientes\"\n  },\n  \"options\": {\n    \"timestamps\": true\n  },\n  \"attributes\": {\n    \"user\": {\n      \"model\": \"user\",\n      \"via\": \"encuestas\",\n      \"plugin\": \"users-permissions\"\n    },\n    \"opinion\": {\n      \"multiple\": false,\n      \"type\": \"text\"\n    },\n    \"tipocliente\": {\n      \"multiple\": false,\n      \"type\": \"string\"\n    },\n    \"fecha\": {\n      \"multiple\": false,\n      \"type\": \"date\"\n    },\n    \"valoracion\": {\n      \"multiple\": false,\n      \"type\": \"decimal\"\n    },\n    \"comercial\": {\n      \"multiple\": false,\n      \"type\": \"decimal\"\n    }\n  }\n}\nAs you can see, \"Encuesta\" isn't the only model related to \"User\". \"Sistematicaentrada\" and \"Gestiondato\" are pretty similar to \"Encuesta\" and have exactly the same problem. I don't post their models for not flooding this.. I have just followed the migration guidelines to update the project to alpha@13.0.1 and it have the same problem than alpha@12.6. I confirm this issue at Node v10.5, npm v6.1, Strapi Alpha 14 and mongoDB v3.6.5. I was fighting with this error yesterday too and I finally finished downgrading graphql to 0.13.2. The issue is known by the maintainers of graphql... but is related to intentional breaking changes: https://github.com/graphql/graphql-js/pull/1382. I have tried this PR that will be into GraphQL 14.0.3 and it seems to fix the issue. I hope it'll be released soon.... You can fill the JSON field with {} but yes, it would be nice the possibility of leaving it blank. This bug is related with breaking changes in GraphQL 14.0.x\nYou can downgrade to GraphQL 0.13.2, wait for GraphQL 14.1 (it should be released soon) or install the git version of GraphQL (probably unstable)\nWe have been talking about this here. I have stumbled into this problem too. If you try to update an user but you are not going to change the email of this user, if the email is in the body of the PUT request.\nObviously it should not fail but as a temporary fix try not including the email in the body of the request if you aren't changing it.. ",
    "rizalibnu": "Hi @lauriejim i've updated steps to reproduce, i cloned with HTTPS way\ngit clone https://github.com/strapi/strapi.git\nBut I think it's same with git clone git@github.com:strapi/strapi.git. I solved it npm cache clean --force\nand then npm run setup again. ",
    "ichals09": "@rizalibnu, git clone git@github.com:strapi/strapi.git not work on windows. Informations\nNode.js version: 8.9.4\nnpm version: 6.1.0\nStrapi version: 3.0.0-alpha.12.5\nDatabase: MongoDB\nOperating system: Windows 10 Home Single Language\nI got this error when i run npm run setup\n```\n\n@3.0.0-alpha.12.6 setup X:\\xxx\\gitstrapi\nnpm run clean:all && npm install ./packages/strapi-lint --save-dev && npm install && node ./scripts/setup.js && npm run clean\n@3.0.0-alpha.12.6 clean:all X:\\xxx\\gitstrapi\nnpm run removesymlinkdependencies && rm -rf package-lock.json && rm -rf packages//package-lock.json && rm -rf packages//node_modules\n@3.0.0-alpha.12.6 removesymlinkdependencies X:\\xxx\\gitstrapi\nnode ./scripts/removeSymlinkDependencies.js\n\nnpm notice created a lockfile as package-lock.json. You should commit this file.\nnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@1.2.4 (node_modules\\fsevents):\nnpm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@1.2.4: wanted {\"os\":\"darwin\",\"arch\":\"any\"} (current: {\"os\":\"win32\",\"arch\":\"x64\"})\n\nstrapi-lint@3.0.0-alpha.12.6\nadded 69 packages and updated 1 package in 99.798s\nnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@1.2.4 (node_modules\\fsevents):\nnpm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@1.2.4: wanted {\"os\":\"darwin\",\"arch\":\"any\"} (current: {\"os\":\"win32\",\"arch\":\"x64\"})\n\nadded 68 packages in 44.542s\n5.1.0\nv8.9.4\n\ud83d\udd53  The setup process can take few minutes.\n\ud83d\udce6  Linking strapi-utils...\n\u2705  Success\n\ud83d\udce6  Linking strapi-lint\n\u2705  Success\n\ud83d\udce6  Linking strapi-generate...\n\u2705  Success\n\ud83d\udce6  Linking strapi-generate-api...\n\u2705  Success\n\ud83d\udce6  Linking strapi-helper-plugin...\nnpm WARN deprecated gulp-util@3.0.8: gulp-util is deprecated - replace it, following the guidelines at https://medium.com/gulpjs/gulp-util-ca3b1f9f9ac5\nnpm ERR! Unexpected end of input at 1:23998\nnpm ERR! bc8934\",\"tarball\":\"https://registry.npmjs.org/caniuse-lite/-/caniuse-\nnpm ERR!                                                                      ^\nnpm ERR! A complete log of this run can be found in:\nnpm ERR!     X:\\Users\\XXX\\AppData\\Roaming\\npm-cache_logs\\2018-06-29T08_24_40_514Z-debug.log\nnpm ERR! code ELIFECYCLE\nnpm ERR! errno 1\nnpm ERR! @3.0.0-alpha.12.6 setup: npm run clean:all && npm install ./packages/strapi-lint --save-dev && npm install && node ./scripts/setup.js && npm run clean\nnpm ERR! Exit status 1\nnpm ERR!\nnpm ERR! Failed at the @3.0.0-alpha.12.6 setup script.\nnpm ERR! This is probably not a problem with npm. There is likely additional logging output above.\n````. ",
    "phanhoangloc": "Cool. Thanks for sharing @derrickmehaffy !. ",
    "eden6": "Same error here. The Promise.all at the end of remove (api//services/.js) never resolves.. After having migrated to 3.0.0-alpha.14.1.1, the error seems to persist.. @soupette I get the same error on a new v14 project with mongo:3 (using Docker as well).  Same thing without Docker (mongo 3.6).. Installing a new version of node made it work. Reinstalling Strapi wasn't enough on my side. . Updating Node made it work on my side. ",
    "gilhardl": "I've created a fresh project using 3.0.0-alpha.14.1.1 2 days ago and get error 500 Internal server error each time I try to delete an entry... But the entry is correctly removed. Hi guys, after a lot of tests, I've noticed something with this issue. The error seems to only be thrown when we try to delete a Content Type which has a many-to-many relation...\nAnother thing, I had encountered this issue for the first time on Debian 9, with MongoDB shell version v4.0.2. Then I tried to downgrade MongoDB to 3.4 and 3.6 and get the same error.\nSo, I tried to retrieve my Strapi project on my local machine, a MacBook Pro under High Sierra. I ran  npm i in order to instal dependencies and then run npm run start to lunch Strapi server for test. I've created 4-5 entries to try deleting them through Postman, and... NO ERROR, the removal has been done successfully.\nI thought the Strapi (or MongoDB, or node, or something else) installation was corrupt on my Debian server. \nSo I tried to re-install my Debian to a Ubuntu Server 16.04 and then run the script given at bottom of this article to automatically install all stuff needed. Everything was installed successfully, I could create a new Strapi project and recreate all my Content Type, create 4-5 test enties in a Content Type which gets a many-to-many relation. But in this case, the removal causes $pull error again....\nHere is my local environment (Macos High Sierra) :\nMongoDB shell version v4.0.2\ngit version: fc1573ba18aee42f97a3bb13b67af7d837826b47\nallocator: system\nmodules: none\nbuild environment:\ndistarch: x86_64\ntarget_arch: x86_64\nHere is my server environment (Ubuntu 16.04) :\nMongoDB shell version v3.4.17\ngit version: 7c14a47868643bb691a507a92fe25541f998eca4\nOpenSSL version: OpenSSL 1.0.2g  1 Mar 2016\nallocator: tcmalloc\nmodules: none\nbuild environment:\ndistmod: ubuntu1604\ndistarch: x86_64\ntarget_arch: x86_64\nEDIT :\nI've upgraded MongoDB on my Ubuntu Server 16.04 to v3.6.8 and retried to delete entries : I still got the $pull error...\nThen I've upgraded MongoDB to 4.0.2 and the error still be there...\nI'm out of ideas on how could I resolve the issue and on why is this issue.... For those who still have this error on many-to-many relationship, the issue is certainly because you try to remove the dominant model.\nExplanation based on my experience\nEnvironment :\nnode       v10.15.0\nstrapi      3.0.0-alpha.21  \nModels used in my API :\nStage.settings.json\n{\n  \"connection\": \"default\",\n  \"collectionName\": \"stage\",\n  \"info\": {\n    \"name\": \"stage\",\n    \"description\": \"\"\n  },\n  \"options\": {\n    \"timestamps\": true\n  },\n  \"attributes\": {\n    \"label\": {\n      \"default\": \"\",\n      \"type\": \"string\"\n    },\n    \"equipments\": {\n      \"collection\": \"equipment\",\n      \"via\": \"stages\"\n    }\n  }\n}\nEquipment.settings.json\n{\n  \"connection\": \"default\",\n  \"collectionName\": \"equipment\",\n  \"info\": {\n    \"name\": \"equipment\",\n    \"description\": \"\"\n  },\n  \"options\": {\n    \"timestamps\": true\n  },\n  \"attributes\": {\n    \"label\": {\n      \"default\": \"\",\n      \"type\": \"string\"\n    },\n    \"stages\": {\n      \"collection\": \"stage\",\n      \"via\": \"equipments\",\n      \"dominant\": true\n    }\n  }\n}\nWhat I was trying to do\nFrom my client app, I was trying to remove an equipment  with a HTTP request similar to this one : \nDELETE /equipments/5c531907aaa8721c34e26afc\nStrapi response to the above HTTP request\nMongoError: '$pull' is empty. You must specify a field like so: {$pull: {: ...}}\nWorkarround\nSince I was trying to remove an equipment, I updated my models to set equipments attribute in stage model dominant instead of stages attribute in equipment model.\nBut it is not a definitive solution because now, I can't remove a stage. Hi @lauriejim, thanks to your note I think I've found the problem.\nTell me if I'm wrong, but I think we don't need to update associated documents if the association is dominant.\nIn my DB I have these Teams : \n[\n  {\n    \"_id\": \"5c61ac15a4b3575eb65dd7fd\",\n    \"label\": \"A\",\n    \"supporters\": [\n      \"5c619413ed2b674e76cb1d95\",\n      \"5c61942bed2b674e76cb1d97\",\n      \"5c6194de71b29f5396463dbe\"\n    ],\n    \"createdAt\": \"2019-02-11T17:08:37.881Z\", \n    \"updatedAt\":\"2019-02-11T17:08:37.899Z\",\n    \"__v\":0,\n    \"id\":\"5c61ac15a4b3575eb65dd7fd\"\n  },\n{\n    \"_id\":\"5c6193c7ed2b674e76cb1d7c\",\n    \"label\":\"B\",\n    \"supporters\": [\n      \"5c61941bed2b674e76cb1d96\",\n      \"5c6194c371b29f5396463dbc\",\n      \"5c6194de71b29f5396463dbe\"\n    ],\n    \"createdAt\": \"2019-02-11T15:24:55.462Z\",\n    \"updatedAt\": \"2019-02-11T15:29:34.363Z\",\n    \"__v\": 0,\n    \"id\": \"5c6193c7ed2b674e76cb1d7c\"\n  }\n]\nand these Supporters : \n[\n  {\n    \"_id\": \"5c619413ed2b674e76cb1d95\",\n    \"lastname\": \"A\",\n    \"firstname\": \"1\",\n    \"createdAt\": \"2019-02-11T15:26:11.743Z\",\n    \"updatedAt\": \"2019-02-11T15:26:29.981Z\",\n    \"__v\": 0,\n    \"id\": \"5c619413ed2b674e76cb1d95\"\n  },\n  {\n    \"_id\": \"5c61942bed2b674e76cb1d97\",\n    \"lastname\": \"A\",\n    \"firstname\": \"2\",\n    \"createdAt\": \"2019-02-11T15:26:35.009Z\",\n    \"updatedAt\": \"2019-02-11T15:26:41.967Z\",\n    \"__v\": 0,\n    \"id\": \"5c61942bed2b674e76cb1d97\"\n  },\n  {\n    \"_id\": \"5c6194de71b29f5396463dbe\",\n    \"lastname\": \"AB\",\n    \"firstname\": \"1\",\n    \"createdAt\": \"2019-02-11T15:29:34.329Z\",\n    \"updatedAt\": \"2019-02-11T15:29:34.345Z\",\n    \"__v\": 0,\n    \"id\": \"5c6194de71b29f5396463dbe\"\n  }\n]\nWhen we want to delete a Supporter, we have to look in each Team if there is the Supporter in Team's supporters array.\nBut, on the other side, when we want to delete a Team, we don't have to look into Supporter's teams array because it doesn't exists.\nSo, in my mind, we just have to return true in associations.map() if association.dominant == true. Line: https://github.com/strapi/strapi/blob/master/packages/strapi-generate-api/templates/mongoose/service.template#L132. ",
    "lags": "I have same error... Please check the log for investigate problem!\n...based file: .../api/demos/services/Demos.js\n```\n  /\n   * Promise to remove a/an demos.\n   \n   * @return {Promise}\n   /\nremove: async params => {\n    // Select field to populate.\n    const populate = Demos.associations\n      .filter(ast => ast.autoPopulate !== false)\n      .map(ast => ast.alias)\n      .join(' ');\n  console.log('*****Populate:', populate);\n  console.log('*****Params:', params);\n\n// Note: To get the full response of Mongo, use the `remove()` method\n// or add spent the parameter `{ passRawResult: true }` as second argument.\nconst data = await Demos\n  .findOneAndRemove(params, {})\n  .populate(populate);\n\n  console.log('*****Data:', data);\n\nif (!data) {\n  return data;\n}\n\nawait Promise.all(\n  Demos.associations.map(async association => {\n    const search = _.endsWith(association.nature, 'One') || association.nature === 'oneToMany' ? { [association.via]: data._id } : { [association.via]: { $in: [data._id] } };\n    const update = _.endsWith(association.nature, 'One') || association.nature === 'oneToMany' ? { [association.via]: null } : { $pull: { [association.via]: data._id } };\n\n      console.log('*****Association:', association);\n      console.log('*****Search:', search);\n      console.log('*****Update:', update);\n\n    // Retrieve model.\n    const model = association.plugin ?\n      strapi.plugins[association.plugin].models[association.model || association.collection] :\n      strapi.models[association.model || association.collection];\n\n    return model.update(search, update, { multi: true });\n  })\n);\n\nreturn data;\n\n}\n```\n...the result is:\n```\n*Populate: 'view image occurrence'\n*Params: { _id: '5ba9c2c9fbbabe57e9e311f5' }\n*Data: { view:\n   [ { users: [Array],\n       _id: 5ba8f7ed3a1efe21172575b3,\n       name: 'TEST',\n       city: 'ROME',\n       createdAt: 2018-09-24T14:42:53.313Z,\n       updatedAt: 2018-09-24T15:01:20.232Z,\n       __v: 0,\n       demos: null,\n       image: null,\n       id: '5ba8f7ed3a1efe21172575b3' } ],\n  _id: 5ba9c2c9fbbabe57e9e311f5,\n  name: 'demoOFF',\n  description: 'demoDES',\n  start_date: 2018-09-01T00:00:00.000Z,\n  end_date: 2018-09-30T00:00:00.000Z,\n  type: 'demo',\n  createdAt: 2018-09-25T05:08:25.069Z,\n  updatedAt: 2018-09-25T05:08:25.199Z,\n  __v: 0,\n  image: [],\n  occurrence: [],\n  id: '5ba9c2c9fbbabe57e9e311f5' }\n\n*Association: { alias: 'view',\n  type: 'collection',\n  collection: 'views',\n  via: 'demos',\n  nature: 'manyToMany',\n  autoPopulate: true,\n  dominant: true,\n  plugin: undefined,\n  filter: undefined }\n*Search: { demos: { '$in': [ 5ba9c2c9fbbabe57e9e311f5 ] } }\n*Update: { '$pull': { demos: 5ba9c2c9fbbabe57e9e311f5 } }\n\n*Association: { alias: 'image',\n  type: 'collection',\n  collection: 'file',\n  via: 'related',\n  nature: 'manyToManyMorph',\n  autoPopulate: true,\n  dominant: true,\n  plugin: 'upload',\n  filter: 'field' }\n*Search: { related: { '$in': [ 5ba9c2c9fbbabe57e9e311f5 ] } }\n*Update: { '$pull': { related: 5ba9c2c9fbbabe57e9e311f5 } }\n\n*Association: { alias: 'occurrence',\n  type: 'collection',\n  collection: 'occurrence',\n  via: 'demos',\n  nature: 'oneToMany',\n  autoPopulate: true,\n  dominant: false,\n  plugin: undefined,\n  filter: undefined }\n*Search: { demos: 5ba9c2c9fbbabe57e9e311f5 }\n*Update: { demos: null }\n{ MongoError: '$pull' is empty. You must specify a field like so: {$pull: {: ...}}\n    at Function.MongoError.create (/home/lag/backOffice/node_modules/mongodb-cor/lib/error.js:45:10)\n    at toError (/home/lag/backOffice/node_modules/mongodb/lib/utils.js:149:22)\n    at /home/lag/backOffice/node_modules/mongodb/lib/collection.js:1029:39\n    at /home/lag/backOffice/node_modules/mongodb-core/lib/connection/pool.js:54418\n    at process._tickCallback (internal/process/next_tick.js:112:11)\n  name: 'MongoError',\n  message: '\\'$pull\\' is empty. You must specify a field like so: {$pull: {: ...}}',\n  driver: true,\n  index: 0,\n  code: 9,\n  errmsg: '\\'$pull\\' is empty. You must specify a field like so: {$pull: {<field: ...}}' }\n\n...so I have checked that the error occur when the condition of:\n        const search = .endsWith(association.nature, 'One') || association.nature === 'oneToMany' ? { [association.via]: data._id } : { [association.via]: { $in: [data._id] } };\n        const update = .endsWith(association.nature, 'One') || association.nature === 'oneToMany' ? { [association.via]: null } : { $pull: { [association.via]: data._id } };\n\"search\" and \"update\" are \"true\" and values will be:\nsearch = { [association.via]: data._id }\nupdate = { [association.via]: null }\n``\n...soreturn model.update(search, update, { multi: true });` will return error.\nAny suggest for solve?. ",
    "ahmdsdk": "Any news on this?. ",
    "Stanley-Jovel": "I'm on version 3.0.0-alpha.14.5 and I'm seeing this error. I'm still seeing this error, I'm on version 3.0.0-alpha.14.5. ",
    "basteran": "Same here, version 3.0.0-alpha.14.5. ",
    "kalms": "Also experiencing this error on many-to-many relational items (alpha16). I'm also experiencing this. Version: 3.0.0-alpha.14.4.0\nOddly enough, I've seen it work and then disappear again upon login. I login and I can view the content types. Upon refresh they disappear. (Subsequent logins without clearing cache will cause them to remain hidden)\n\n. @derrickmehaffy Ah sorry. Carry on! \ud83d\udc4d . Hi @lauriejim \nWe're also experiencing it. The issue appeared suddenly when calling the /contenttype/:_id with a DELETE request, hitting the remove() service.\nawait Promise.all(\n  Workshop.associations.map(async association => {\n    if (!association.via || !data._id) {\n      return true;\n    }\n\n    const search = _.endsWith(association.nature, 'One') || association.nature === 'oneToMany' ? { [association.via]: data._id } : { [association.via]: { $in: [data._id] } };\n    const update = _.endsWith(association.nature, 'One') || association.nature === 'oneToMany' ? { [association.via]: null } : { $pull: { [association.via]: data._id } };\n\n    // Retrieve model.\n    const model = association.plugin ?\n      strapi.plugins[association.plugin].models[association.model || association.collection] :\n      strapi.models[association.model || association.collection];\n\n    return model.update(search, update, { multi: true });\n  })\n);\n\nThe error appears to be during the final promise to update the different relations. It's consistent when there's a relation, so it's not specific to a content type.\nUPDATE: Appears to be related to only content types that has a relation to file upload - I have no idea if it's relevant\nInformation\nNode.js version: 11.4.0\nNPM version: 6.5.0\nStrapi version: v3.0.0-alpha.18\nDatabase: MongoDB 3.6.2\nOperating system: macOS Mojave. Added note: We just update to alpha-18 from 16, to see if that would fix it, but didn't happen.\n. Another observation: When calling the endpoint, I get this output and complete error message in console:\n(node:44198) DeprecationWarning: collection.findAndModify is deprecated. Use findOneAndUpdate, findOneAndReplace or findOneAndDelete instead.\nwarning.js:18\nObjectParameterError {message: \"Parameter \"obj\" to Document() must be an object, g\u2026\", name: \"ObjectParameterError\", stack: \"ObjectParameterError: Parameter \"obj\" to Document(\u2026\"}\nCan it be related to the deprecated method that is being called?\nUPDATE: Since we only got the error on content types related to field uploads and their relations, we added a catch to the Promise and made sure to delete files with faulty relations during cron cleanup. Should be enough for me to carry on (now the server doesn't throw a 500 server error at least), but it's still a strange error that I haven't completely managed to track down. The current assumption is that the related: { $in: [] } structure is somehow triggering this error.. ",
    "TechkidsCodingSchool": "Same here, version 3.0.0-alpha.24. ",
    "davidmarcoes": "Hi Jim,\nHere David Marco, part of HomeAway CMS Team. Thank you for your prompt reply.\nIn the sentence that you mention find is not filtering. We are getting all the users registered (all of them with different emails) so the first one (usually admin) meets the condition and the error is thrown.\nRegards.. Sorry, I'm plenty of work at the moment.\nAs said, the following sentence in Providers.js returns more than one user with different emails:\nconst users = await strapi.query('user', 'users-permissions').find({\n  email: profile.email\n});\nWhat we were trying to do (and effectively what we have done) is allow a user which was registered through a provider to login into the access panel like any other root user. Maybe the code does not support that feature and the previous behaviour is just a collateral effect?. Cool! We have something as that working in our POC allowing a user authenticated with a third party provider to have a normal login flow and access the admin panel\nBut, as I said, some parts of the code are not working as we expect so basically we are ignoring that code (for our POC it's fine). So good to know that you are working on it.\nClosing the PR.. Issued in #1512. @lauriejim I'm working on it, just facing some problems with babel when strapi-helper-tool is symlinked  in a plugin.\nI don't have to much free time at the moment, I'll try to send the PR ASAP.. ",
    "wadamek65": "@Aurelsicoko This is related to core packages. The problem is that CLI has no flag for defining the authentication database name and resolves to the default ('users' if I remember correctly) whereas setting it up manually through the usual interface it asks you what's the name of the authentication database before it sets it as default. \nI forked and changed the default in the source files to meet my needs but unfortunately I haven't had the time to contribute and create the cli flag.. ",
    "reskwer": "3.0.0-alpha.12.6. I apologize in advance, it's google translate I install the API, run and I have a console error. And I can't change the language in the settings.\nNot on topic, but so same. bugs very much. Sometimes content-type is not removed. Sometimes when recovering the password or when you create a new user enter the same password 2 times and it says that the passwords do not match. In General specifically lacked already. STRAPI is very crude, we really want to use IT - but we can't because of numerous bugs.. @lauriejim this error could not be reproduced in 2 days. As soon as I can, I'll get the materials for you to know.\n. need hepl\n\n. @lauriejim - please tell me what to do so that I can use the CSRF token. @lauriejim  Yeah, that was probably the problem. But what a very weird day as I did :))). Guys, want to STRAP on the combat project to try, your product is really loved, even premium pay - but very humid, very unstable, 1 day several of the bugs we catch. Come on guys, thank you :)))\ntypeof $strapi // 'bug'. @derrickmehaffy  image not loaded. ",
    "dulgeoion": "Hi. Of course I did a migration due to migration docs.. @lauriejim Yes, it still exists.. @lauriejim this is still very critical issue, please, could you look at it?. Sometimes it still happens.... @derrickmehaffy I modified only User.settings.json. @derrickmehaffy Gist link for user.settings.json\nI don't use json model at all, I found that in DB it is only in one table and that table is core_store. @derrickmehaffy  I did already, I don't face the same issue on fresh project, but it is very strange and I don't understand origin of this current issue, when I try to migrate it. . @derrickmehaffy thanks, I'll do as you told. Hello @lauriejim! I created new project on 12.6, so this issue is not related to migration. On 12.7 it started working. Strange thing.. @derrickmehaffy I cannot check right now if they are saving into database at all, but if I click save button and after will do some work, even if I will restart server, my permissions will be saved, but in the moment I open permissions tab, they are reseting, so I don't think that problem is in database.... Hi @lauriejim.\nI had a talk with one more dev, who has the same problem as I have and we found that it occurs file uploading. So if you are not uploading file, you could do anything you want with model, but right after uploading associated file you face this issue while trying to update model or delete model. So problem is in files.\nMe and that dev are doing different projects, he has 12.6 version, I have 12.7.1. On alpha13.0 looks like it fixed. Thanks.. Hi @lauriejim.\nActually, when you are calling fetchAll inside controller, you put there variable ctx.params. That variable is the same as  this object inside this fetchawait strapi.services.request.fetchAll({end_date_gt: before}), the only difference is that you put there real values, in case of date '16/07/2018', in my case I found that I need to do this changes with my variable to make it work correctly:\nlet before = moment().subtract(5, 'minutes').add(9, 'hours');\nbefore = before.format(moment.HTML5_FMT.DATETIME_LOCAL_MS);\nI think even if it's not a bug, but maybe it could be a good feature to make some function, that will convert different types of data to timestamp, before try to fetch data from db. . Okay, found that I had to add new dependency strapi-hook-bookshelf. You could mention in migration guide that it is not only about mongoose hook, but bookshelf to.. ",
    "ivanguimam": "Will this PR take to be approved? I need it. I'm sorry I didn't tell you @lauriejim , I've been very busy at work these past few weeks and I haven't had time to test. But according to @fisher08  he still exists. ",
    "glennvgastel": "Have any of you made any progress on this?. ",
    "jonasdehovre": "Also really curious on the progress on this!. ",
    "Devilla": "Okay sure..  \u26a0\ufe0f If you do not respect this template your issue will be closed. \n Email forms not redirecting to my contact@support.com \n \u26a0\ufe0f Before writing your issue make sure you are using:\n Node v8.11.3 \n npm 5.6.0 \n Th version of Strapi : 3.0.0-alpha.12.6 \nInformations\n- Node.js version : v8.11.3:\n- npm version : 5.6.0x`:\n- Strapi version : 3.0.0-alpha.12.6:\n- Database : MongoDB:\n- Operating system : Ubuntu 16.04.4 LTS:\nWhat is the current behavior?\n Problem with sending email forms to contact@support within my website .Forms are hitting at strapi but not redirecting to email address.\nSteps to reproduce the problemstrapi\n-Email forms : Contact Us, Affiliate Register Page, demopage etc.\nPlease checkout : https://staging.useinfluence.co,\nhttps://staging.useinfluence.co/contact,\nhttps://staging.useinfluence.co/affiliateregister etc\nWhat is the expected behavior?\n Send email forms to contact@support within my website. Forms are hitting at strapi and redirecting to email address to generate tickets(freshdesk).\nSuggested solutions\nAsk user permission for sending mails.\nFake mails with user email.\n \u26a0\ufe0f Make sure to browse the opened and closed issues before submitting your issue. \n FEATURE REQUEST TEMPLATE \n \u26a0\ufe0f If you do not respect this template your issue will be closed. \nWhat is the expected behavior?\nSend email forms to contact@support within my website. Forms are hitting at strapi and must redirect to email address provide ( like contact@support )  to generate tickets(freshdesk).\n \u26a0\ufe0f Make sure to browse the opened and closed issues before submitting your issue. \n. Please reopen the issue.. @lauriejim  @derrickmehaffy  please checkout the following snaps : \n1. I create Affiliate Register Request.\n2. It's  API getting response from strapi.\n3. But now showing any mails in Freshdesk account.\n\n\n\n\n. https://github.com/strapi/strapi/issues/1498 Issue Reopened.. ",
    "brandhaug": "Thanks for the tip, I previously used environment variables for hostname, port, database, username and password. The problem was fixed when I removed these, and replaced them by using the environment variable for database uri.. ",
    "joonashak": "I'm currently developing a bilingual website using Strapi as my backend. I'm using a similar approach, namely storing two entries, one for each language and linking them with a one-to-one relation. However, the content type builder forces me to define two relational fields when linking a Page item to another Page item. I didn't want to file a bug report straight away, but currently I'm thinking that this is incorrect behaviour. As one-to-one links one and only one document to another, wouldn't it be simpler and more elegant to have only one field?\nExample:\nSay we have a Page document called A in English and want to create a corresponding document B in Finnish.\nExpected behaviour:\nCreate a one-to-one relation that links two Page entries. Only one field should suffice for this type of linking, thus it is expected that one would be able to create the relation and express it in a single field called translation (in the example case). A.translation would then contain B and B.translation would contain A.\nCurrent behaviour:\nContent type builder forces me to create two fields with unique names when creating the Page-to-Page relation. E.g., I could have fields translation and translationLink, both of which express the exact same relation. The result is that unnecessary code is required to check both fields where one would be enough (or have the user or another piece of code populate both \"directions\", i.e., all four fields).\nIs my reasoning correct, and if so, should I file a separate bug report or feature request?. ",
    "doebi": "Why?\nIf the application is broke, why should the error be in the environment?\nDo you open a issue on linux, if your node javascript code fails to run?\nRead. Think. Then think again before you answer. Please.\nThis issue is more related to the mongoose package than your docker deployment.. @lauriejim I request to reopen this issue.. I cannot leave this uncommented. Yes I was being rude, but I was being rude in response. If someone takes the time to report a problem in order to contribute making this project more stable and mature, then closing that issue, without providing any meaningful or helpful content, is just plain rude aswell.\nI can understand if you as a maintainer are overwhelmed by the amount of issues opened, but just closing them for no reason is no solution.\nThe docker not being updated to the latest version, sure deserves an issue in docker-strapi, but that is a completely different issue not related to the core of this one.\nFor your enlightenment i setup a 12.6 project and verified, that the issue still exists. You may or may not reopen this issue, I really don't care anymore. I guess, that due to our dispute this issue is not high on your priority list.\nAs a footnote I want to mention. Opensource is based on contributions of various people, where most of them spend their spare time. Still, them being maintainers does not make them better people, or allow them to be rude to users. In another project they might just be users as well. To ensure a healthy environment it requires a respectful social interaction in both directions. So keep in mind: What goes around comes around.. ",
    "yahoohung": "I am a newbie here \ud83d\udc4d \nI got same error message. Would you please share how can I fix this problem?. ",
    "gillesdm": "Same issue here. Trying to use Gatsby v2 to fetch articles and users (both which have been made through the Strapi admin panel). Also getting this error upon request.. ",
    "datboirog94": "You guys all using MySQL?. ",
    "AnilNewari": "Same issue here while accessing users data and other apis data.. ",
    "asos-VasilisKortsimelidis": "Also, in case its helpful, when you make a GET request you can't see the url of the image, its empty.\n\n. ",
    "marceloavf": "Changing the order make it work again, any reason why ?\ndiff\n{\n  \"routes\": [\n    {\n      \"method\": \"GET\",\n      \"path\": \"/arquivo\",\n      \"handler\": \"Arquivo.find\",\n      \"config\": {\n        \"policies\": []\n      }\n    },\n+   {\n+     \"method\": \"GET\",\n+     \"path\": \"/arquivo/latest\",\n+     \"handler\": \"Arquivo.latestDigitalOcean\",\n+     \"config\": {\n+       \"policies\": []\n+     }\n+   },\n    {\n      \"method\": \"GET\",\n      \"path\": \"/arquivo/count\",\n      \"handler\": \"Arquivo.count\",\n      \"config\": {\n        \"policies\": []\n      }\n    },\n    {\n      \"method\": \"GET\",\n      \"path\": \"/arquivo/:_id\",\n      \"handler\": \"Arquivo.findOne\",\n      \"config\": {\n        \"policies\": []\n      }\n    },\n-   {\n-     \"method\": \"GET\",\n-     \"path\": \"/arquivo/latest\",\n-     \"handler\": \"Arquivo.latestDigitalOcean\",\n-     \"config\": {\n-       \"policies\": []\n-     }\n-   },\n   ....\n   ]\n}. @hectorgrecco there is more routes bellow these lines in the example, I edited it to be clear.\nSeems that the route /latest doesn't work when is after some /:_id of the same method list in the structure.. Tried some of this configs using apache approach @lauriejim but no result, I also get in contact with the host and they said to me to buy another host just for the subdomain, something that I'm trying to avoid.\nThere is no way to make it work with subfolder/path request?. I'm migrating to DigitalOcean with Nginx to see if I can get it working. Nice @derrickmehaffy, the problem was that the domain was configured by another host, so what I have to do was CNAME www.subname to subname, then use A to redirect it to the digitalOcean droplet IP Address, so I use some of your configuration and blog settings to make it work, still don't configurate in case I have more than one subdomain, but I'll manage it latter.\nThank you both for the response and the awesome work on this project!. ",
    "hectorgrecco": "Voc\u00ea n\u00e3o colocou o colchete pra fechar a array \"routes\", talvez seja isso.. @derrickmehaffy Ok! \nI wrote: \"You do not have closed the brackets. Maybe, it's that\". ",
    "fedecarg": "I'm having the same issue\n\nStrapi v3.0.0-alpha.12.6\nMongoDB v2.6.10\nNode.js 10.1.0\nLinux, Ubuntu 16.04\n. I think this a bug rather than a future enhancement. Because if I add a String field, I expect to get a String, and not an Integer. . @derrickmehaffy Makes sense. Shouldn't Strapi do that for the user?. This is still happening to us. Vey annoying bug because the node server dies after this and we can't change anything else. \n\n. Nope. Restoring the files that were deleted by Strapi using git checkout -f master <files> solved the problem. . > It should be noted that Strapi doesn't rename the fields in or models stored in the DB, so by renaming you will \"lose\" that data (it is still there but no longer referenced properly)\nThanks Derrick.\nGiven that renaming a Content Type results in data not being updated (for obvious reasons), I wonder if allowing a user to clone instead of rename a Content Type would result in a better user experience.\nBecause when you rename a Content Type you don't expect to lose some data. But if you allow the user to clone it, then the user knows that it needs to update the relationships, and no data is lost in the process. \n. @derrickmehaffy Oh I see, thanks for letting me know!. Updated the title of the issue. Even if there's no validation, error message should not be added to the vat_rate field . @lauriejim I think I got it, so it's up to the developer to validate user input using beforeCreate and similar callback methods. They are different issues. What I\u2019m reporting is a bug that causes an error message to be stored as a property value.. This is because your server is not restarting whenever your make some changes. I'm using pm2 and this command worked:\nNODE_ENV=development pm2 start strapi --no-pmx --name=commerce-api -- start. ",
    "bartgarbiak": "It's a completely new app. . That's what I was afraid of (it's a too obvious error to be overlooked). Unfortunately, I can't share the repo at the moment. Can you hint me what else I can do to at least debug that? Maybe not-minimized react would give a more detailed error (like, which ref is missing).. Ok, reinstalled entire Strapi globally, and the issue doesn't appear anymore. This can be closed, I believe.. ",
    "kenjikato": "@lauriejim thanks for the feedback, but unless I'm not understanding what you mean by npm i, getting strapi to install locally isn't the issue.\nThe problem is getting strapi to actually run from a local install rather than a global install. Following through the getting started to do the setup strapi new myProject\nIt appears that the local install gets hung up on loading the admin. Below is the full transcript from my attempt to re-run the setup from a local install. My full directory structure to the parent directory is: /Users/appdevk5k4/Documents/Dev/newDataServer/strapi\nFrom within this directory I run the following (since I can't just type strapi at the command line).\n```\n./node_modules/strapi/bin/strapi.js new myProject\n\ud83d\ude80 Start creating your Strapi application. It might take a minute, please take a coffee \u2615\ufe0f\nLets configurate the connection to your database:\n? Choose your main database: MongoDB (recommended)\n? Database name: strapi\n? Host: 127.0.0.1\n? Port: 27017\n? Username: user\n? Password: ****\n? Authentication database: strapi\n? Enable SSL connection: false\n\u23f3 Testing database connection...\nError: Error: Failed to load admin... (Error: Cannot find module '/Users/appdevk5k4/Documents/Dev/newDataServer/strapi/node_modules/strapi/node_modules/strapi-generate-admin')\n    at parseTarget (/Users/appdevk5k4/Documents/Dev/newDataServer/strapi/node_modules/strapi-generate/lib/target.js:253:15)\n    at async.until.asyncCb (/Users/appdevk5k4/Documents/Dev/newDataServer/strapi/node_modules/strapi-generate/lib/target.js:46:7)\n    at whilst (/Users/appdevk5k4/Documents/Dev/newDataServer/strapi/node_modules/async/dist/async.js:5227:5)\n    at Object.until (/Users/appdevk5k4/Documents/Dev/newDataServer/strapi/node_modules/async/dist/async.js:5253:5)\n    at generateTarget (/Users/appdevk5k4/Documents/Dev/newDataServer/strapi/node_modules/strapi-generate/lib/target.js:41:9)\n    at async.eachSeries (/Users/appdevk5k4/Documents/Dev/newDataServer/strapi/node_modules/strapi-generate/lib/generate.js:117:13)\n    at /Users/appdevk5k4/Documents/Dev/newDataServer/strapi/node_modules/async/dist/async.js:3110:16\n    at replenish (/Users/appdevk5k4/Documents/Dev/newDataServer/strapi/node_modules/async/dist/async.js:1011:17)\n    at /Users/appdevk5k4/Documents/Dev/newDataServer/strapi/node_modules/async/dist/async.js:1016:9\n    at eachLimit$1 (/Users/appdevk5k4/Documents/Dev/newDataServer/strapi/node_modules/async/dist/async.js:3196:24)\n    at Object. (/Users/appdevk5k4/Documents/Dev/newDataServer/strapi/node_modules/async/dist/async.js:1046:16)\n    at async.each (/Users/appdevk5k4/Documents/Dev/newDataServer/strapi/node_modules/strapi-generate/lib/generate.js:116:17)\n    at /Users/appdevk5k4/Documents/Dev/newDataServer/strapi/node_modules/async/dist/async.js:3110:16\n    at eachOfArrayLike (/Users/appdevk5k4/Documents/Dev/newDataServer/strapi/node_modules/async/dist/async.js:1069:9)\n    at eachOf (/Users/appdevk5k4/Documents/Dev/newDataServer/strapi/node_modules/async/dist/async.js:1117:5)\n    at Object.eachLimit (/Users/appdevk5k4/Documents/Dev/newDataServer/strapi/node_modules/async/dist/async.js:3172:5)\n```\nIt appears as if the setup is looking for a node_modules within the strapi folder that is already within my parent directories node_modules folder.\nSuggested solutions (workaround)\nTo work around this for now, I created a symbolic link to the node_modules directory within the strapi directory.\nIn other words, from within the ./node_modules/strapi directory I did:\n ln -s ../../node_modules node_modules\nHere's the structure:\n```\nstrapi  <---Parent directory\n|_node_modules\n      |_strapi\n            |__node_modules  <---Created a symlink back to the 'node_moduels' in the Parent directory\n``\nThen after running the same./node_modules/strapi/bin/strapi.js new myProjectfrom within my main project directory/Users/appdevk5k4/Documents/Dev/newDataServer/strapi` I was able to get the setup to run.\nI should have changed my main directory to be something other than strapi, as that added to the confusion.\n. ",
    "osamajandali": "I will start working on it \ud83d\udc4d . @lauriejim I am sorry for being late at this as I was super busy last month.. I started working on it back then and I think I am going to finish it this weekend.. . ",
    "appsolutegeek": "Hi,\nDoes anyone know if any work has started or near finishing? I have the same issue of what I think is being explained here.\nI have strapi behind nginx on port 80 with its own domain name.\nSo going to the domain name, strapi works, but adding an image always appends localhost:1337.\nI tried updating the HOST and PORT env files but of course, then I can't access it anymore.\n. My bad, I installed an older version by accident.. ",
    "printeastwoodcz": "@derrickmehaffy same result on mongodb. Providers are saved to database, but then they are reset to default. @derrickmehaffy \nNode.js version: 10.5.0\nnpm version: 5.6.0\nStrapi version: 12.7.1 (build from source code)\nDatabase: Mongo DB v3.4.15\nOperating system: Ubuntu 16.04.4 LTS Server\nENV development. @derrickmehaffy yesterdays fresh installation. \nmodifications are only new api collections with theirs data and user objected was extended with one text field.\nbut maybe it's duplicity with #1513 and #1514 . ",
    "merijnvanessen": "request_id=: [2018-07-25T17:21:26.437Z] error association is not defined\nHello. I had the same problem. \nI changed some content types (by name) on my development strapi.\nRemoved a few content types as well..\nNow on the production strapi (heroku) I can't update the  content types..\nI only get this error with the first item within the list of restaurants..\nI'm on the nodejs v10.6.0\nStrapi v3.0.0-alpha.12.6\nUsing Postgresql\n. GraphQL error: Cannot read property 'toJSON' of null\nWhen there is no breed added to the puppy this error pops up\nMy dependencies\n\"dependencies\": {\n    \"knex\": \"latest\",\n    \"lodash\": \"4.x.x\",\n    \"mysql\": \"2.16.0\",\n    \"strapi\": \"^3.0.0-alpha.14.5\",\n    \"strapi-hook-bookshelf\": \"^3.0.0-alpha.14.5\",\n    \"strapi-hook-knex\": \"^3.0.0-alpha.14.5\"\n  },\nMy query\nquery KennelQuery($id: ID!) {\n    kennel(id: $id) {\n      id\n      name\n      puppies {\n        name\n        slug\n        description\n        breeds {\n          name\n        }\n        thumb {\n          url\n        }\n      }\n    }\n  }\nThe relation (breeds has many puppies)\n\nFull error\n\n. After a fresh install, everything works now. Thanks!. -- i will move this to another issue --. It seems that only when fresh logged in the strapi admin, \nthe GET to models is in my XHR requests\nFresh login\n\nRefresh \n\nSorry for the crooked screenshots\nosx 10.11.6\nfirefox 63.0.1 \nnodejs v10.6.0\nnpm 6.1.0\nstrapi 3.0.0-alpha.14.5\n\n. I tested it with a new install instead of updating my current app. \nNow all content types are visible in firefox. Well done!\nThen I'd better make a new install for my current app and try to migrate the data . I updated to \n\"strapi\": \"3.0.0-alpha.16\",\n    \"strapi-hook-bookshelf\": \"3.0.0-alpha.16\",\n    \"strapi-hook-knex\": \"3.0.0-alpha.16\",\n    \"knex\": \"latest\",\nBut now I've got this error \nGraphQL error: The operator \"undefined\" is not permitted\nI use graphql-tag to perform queries from nuxt to strapi\nA simple query works\nexport const GET_PUPPIES = gql`\n  {\n    puppies {\n      name\n      description\n      slug\n      thumb {\n        url\n      }\n      breeds {\n        name\n      }\n    }\n  }\n`;\na complex query with a relation fails\nexport const GET_PUPPIES_BREED = gql`\n  query findBreed($slug: String, $limit: Int, $start: Int) {\n    breeds(where: { slug: $slug }) {\n      name\n      description\n      puppies(limit: $limit, start: $start) {\n        name\n        slug\n        thumb {\n          url\n        }\n      }\n    }\n  }\n`;\nand the relations:\n\n\nno problems in the playground\n\n. I did a strapi new project with 3.0.0-alpha.16\nand then copied back the api folder\nplugins/user-permissions/models\nand public\n. Thanks. Problem solved. I'm experiencing this problem as well with the graphql plugin\n\"strapi\": \"3.0.0-alpha.16\"\nnodejs v10.6.0\nI can only update a user, when I change the emailaddress, but I think it should be possible to only change the username, for example\n\n. I tested with mongo DB and both update or delete mutations are working\nupdate\n\ndelete\n\n. \nfinding a way to search geo locations within my frontend (nuxt), from the strapi backend.\nhttps://mongoosejs.com/docs/geojson.html\nI believe I need a point schema, is it possible to add something like this to the model? \nSince point is currently not available as a strapi type (from the mongoose docs):\nlocation: {\n    type: {\n      type: String,\n      enum: ['Point'], \n      required: true\n    },\n    coordinates: {\n      type: [Number],\n      required: true\n    }\n  }\nIt would be awesome if a resolver for finding GeoJSON values would be baked in within strapi,\nfor both API and graphql.. or some clear documentation where to implement:\ndb.locations.find({\n   location: {\n     $nearSphere: {\n       $geometry: {\n         type: 'Point',\n         coordinates: [-122.5, 37.1]\n       },\n       $maxDistance: 900 * 1609.34\n     }\n   }\n })\nthanks\n. Should I open a different feature request?\nI 'just' :-) need a field within contenttypes to add points (geojson)\nSo I can add markers to my strapi model\n\"marker\":{\n      \"type\": \"Point\",\n      \"default\":[],\n      \"coordinates\": [0,0]\n    },\nThese markers can be found with something like\nMessage.find({\n  marker: {\n   $near: {\n    $maxDistance: 1000,\n    $geometry: {\n     type: \"Point\",\n     coordinates: [long, latt]\n    }\n   }\n  }\n }).find((error, results) => {\n  if (error) console.log(error);\n  console.log(JSON.stringify(results, 0, 2));\n });\nand display on any map library client sided\n. @derrickmehaffy i should write down those specs :-)\ni'm creating a compact repo of my project as well. @derrickmehaffy \nHi derrick, I created an almost empty project with monkeys instead of puppies \nhttps://github.com/merijnvanessen/strapi-nuxt-apollo-graphql. yes, within in the repo, you can find it in the frontend/graphql\n{QUERY_SINGLE_MONKEY}\nhttps://github.com/merijnvanessen/strapi-nuxt-apollo-graphql/blob/master/frontend/graphql/monkeys.js. \"raw\": \"strapi-plugin-graphql@3.0.0-alpha.18\"\nsince I installed it fromout the strapi UI, in this repo its the latest version\nhttps://github.com/merijnvanessen/strapi-nuxt-apollo-graphql\nbut its still giving me \nError GraphQL error: Cast to Number failed for value \"{ message: 'Cast to Number failed for value \"\" at path \"dadsweight\"',\n  name: 'CastError',\n  stringValue: '\"\"',\n  kind: 'Number',\n  value: '',\n  path: 'dadsweight',\n  reason: null }\" at path \"dadsweight\"\nimportant, i didn't give the field a default value, since this field isn't required within the field advanced settings tab, I would think I can leave this empty\nAnd therefore, save a new item with empty values instead of '0' or something\n\nthis would result in saving an object somehow within the strapi ui\n\nand then, the error is actually saved within the mongo db\n\n. Whats your graphql plugin version?\nI believe i created a new strapi project\nThen installed the graphql plugin\nThen added the API folder\nAnd plugins/user-permissions/models folder\nI have the Alpha 21 version as well, without problems \n. ",
    "npjonath": "Ho Alright, my bad. It's working now. thanks. Ok, I Just notice that I have to update both package.json and database.json with the correct connector \"strapi-hook-mongoose\". It may be good to add this to the \"Update hook name\" section of the wiki migration guide.. @lauriejim I think I have same behavior with mongodb. (hosted by Azur cosmodb). My upload are present in the upload folder and visible in strapi upload administration but not present in content type page. When I query it over REST or GraphQL the upload field is null.\nThe strange part is that I haven't this issue when trying to run a local mongodb server.. I have the same behavior on alpha 14. the query was working on previous version.\nedit: It works on alpha 14 using previous graphql plugin.. ",
    "steadweb": "I'm not using both Mongo / MySQL - I've tried with both configuration and they produce the same issue.. Apologies, I didn't notice the previous issue already raised. Closing.. > Can you link the issue you fix please.\nhttps://github.com/strapi/strapi/issues/1861. ",
    "millerone": "Sorry, i didn't see the other open issue.\nI can confirm that using Node v8.9.1 it works like a charm.\nThank you.. ",
    "jellybeat": "Hi there. I reported https://github.com/strapi/strapi/issues/1574 and saw that this enhancement provided the same solution, so if there is anything I can do to help to move this forward, I'll be listening. Thanks \ud83d\ude04 . Ok, so I could run more tests.\nNow, there are no problems with the undefined folders with the newest commit and everything works fine when uploading. I have set as a Bucket bucketname/folder, and uploaded standalone files and also related files to a content type, everything ok.\nBut there is a problem when trying to remove the files from the bucket if the bucket setting is a path. The specific error is: InvalidBucket: Bucket names cannot contain forward slashes. Bucket: bucketname/folder. Tipically, if the bucket setting is just a bucket name without a path, it works fine.. Oh, nevermind. Just realized that this PR: (https://github.com/strapi/strapi/pull/1572) included that line on the S3 upload. I'll move my comments out there. Sorry for the inconvenience.. When uploading through the S3 service, this part is unreachable because (refId && ref && field) all three are undefined, so path is never set.. Because file.path is undefined, this creates an undefined folder in the S3 bucket an puts the file inside it.. This works fine, the mime type is correctly declared on S3.. ",
    "ghufr": "@derrickmehaffy  I use nvm on my local machine, same version and it works. I tried to npm run build on admin folder, it works fine, but the plugins is not built. It turns out my problem is caused by memory limit :(. \nI got 403 error in /admin/plugins (production build), is this related to this issue?. @derrickmehaffy It's 3.0.0-alpha.14.1. ",
    "seanmavley": "@ghufr That's a great hint.\nI'm on a 5$ digitalocean box. Instead of upgrading, just bumped up swapfile from 1 to 2Gig. Sailed through in peace.. @simoncrypta Same here, and I don't think it has anything to do with permissions.\nIn prod, the \"Configurations\" and \"Content Type Manager\" tabs are missing. They're not showing on mine in prod, but show on local machine in dev mode.. ",
    "pelayomendez": "Still found this problem while starting a project with strapi 3.0.0-alpha.24.1 when editing a content through the admin panel.\n\nER_TRUNCATED_WRONG_VALUE: Incorrect datetime value: '2019-02-21T17:04:06.000Z' for column 'userdate' at row 1\n\nAs a workaround the MySQL Server mode can be set to ALLOW_INVALID_DATES.. ",
    "pbredenberg": "I've also run into the same issue running MariaDB 10.3.13. The workaround suggested @pelayomendez does work, but obviously not a long term solution.. ",
    "sriharsha186": "@derrickmehaffy I understand. Just a further note, I am using mongo for my implementation. I am closing this. . ",
    "jangroeneveld": "I just ran into this issue myself, after looking around a bit, there was one model variable which did not update in the settings of another endpoint.\nThe relationship between those two was a \"has one\" relationship.\nI fixed this by changing the model to the new name, and it looks like it's running smoothly now.\nYou could try a search for \"model\": \"<old name>\" in your IDE, and replace the old name with the new name.. As a workaround, using MongoDB Compass you can navigate to the collection with the unwanted unique property, and under the indexes tab, you can drop the index in question.\nWhen using the command line you can use dropIndex . ",
    "gabrielFCC": "\n@lauriejim I think I got it, so it's up to the developer to validate user input using beforeCreate and similar callback methods\n\nCan you confirm if it is the right place (models) to implement validation layer? What is your advice on validation, currently is joi the best soltuion?. ",
    "dseedah": "Any updates or quick fixes for this issue? Error exists in version v3.0.0-alpha.13.0.1. @lauriejim MongoDB 4.0\n. @bahdcoder unfortunately, that didn't work on mine installation. @bahdcoder \n```\nupdateEmailTemplate: async (ctx) => {\n    if (_.isEmpty(ctx.request.body)) {\n      return ctx.badRequest(null, [{ messages: [{ id: 'Cannot be empty' }] }]);\n    }\nawait strapi.store({\n  environment: '',\n  type: 'plugin',\n  name: 'users-permissions',\n  key: 'email'\n}).set({value: ctx.request.body['email-templates']});\n\nctx.send({ ok: true });\n\n},\n```. ",
    "svencowart": "I have reproduced this bug on Strapi version 3.0.0-alpha.13.0.1 with a fresh strapi install and fresh DB using MongoDB 4.0.0.. ",
    "devaublanc": "I also reproduce this bug with v3.0.0-alpha.13.1 version after updating the Email template UsersPermissions.updateEmailTemplate . Same problem here after migrate and deploy the 3.0.0-alpha.14.1.1 release . Hello @lauriejim \n\n\nStep 1 create a service with no controller (ex elasticemail)\n\n\n\nStep 2 create a new role\n\n\n\nhttp://localhost:1337/users-permissions/permissions?lang=en error 400\n{\"statusCode\":400,\"error\":\"Bad Request\",\"message\":[{\"message\":[{\"id\":\"Not Found\"}]}]}\n. @lauriejim done. Same issue on v3.0.0-alpha.14.3. Sorry it works for me I just forgot to replace the admin folder during the migration @kenn44 maybe the same issue ?. ",
    "Ahmedsaber9": "I Should Run \nsource ~/.profile\nIn every new terminal to get it work.\ni hope this will help someone else \nalso don't miss \nhttps://docs.npmjs.com/getting-started/fixing-npm-permissions\nThanks. . ",
    "zcqno1": "I met strapi: command not found too.\nFirst I installed strapi in node v8+, strapi start falied. OK, that's because node v10+ is required.\nThen I installed node v10+, and used it. \nstrapi start agian => strapi: command not found\nThe reason is that strapi was installed in node v8+, while migrating to node v10+ there's no strapi installed globally.\nJust re-install strapi in node v10+, strapi command comes back.\nBTW,\nbefore re-install strapi after using node v10+, the project could be run by npm start.\nHowever, new created content type shown on the left menu was empty with no field, just like issue #2213 mentioned.\nFinally, use strapi start solve this. Because adding new content type requires restart the project that's done by strapi start.. It seems everything is OK now. I could not re-produce the issue in another new application. . ",
    "dannydtk": "Bump. \nMongoDB: 4.0.3\nStrapi: v3.0.0-alpha.14.4.0\nNode: 10.12.0\nNPM: 6.4.1\n\nstrapi start\nLogs:\n(node:17179) DeprecationWarning: collection.ensureIndex is deprecated. Use createIndexes instead.\n(node:17179) DeprecationWarning: collection.update is deprecated. Use updateOne, updateMany, or bulkWrite instead.\n(node:17179) DeprecationWarning: collection.count is deprecated, and will be removed in a future version. Use collection.countDocuments or collection.estimatedDocumentCount instead\n(node:17179) DeprecationWarning: collection.remove is deprecated. Use deleteOne, deleteMany, or bulkWrite instead.. @derrickmehaffy \n\nStrapi is running in a Docker container which is Alpine 3.6.2.\nMongo is running in a Docker container which is Ubuntu 16.04 x64.\nMongo version:\ndb version v4.0.0\ngit version: 3b07af3d4f471ae89e8186d33bbb1d5259597d51\nOpenSSL version: OpenSSL 1.0.2g  1 Mar 2016\nallocator: tcmalloc\nmodules: none\nbuild environment:\n    distmod: ubuntu1604\n    distarch: x86_64\n    target_arch: x86_64\nBasic functionality works as expected. The problem occurs when installing GraphQL extension.. @derrickmehaffy  Yep, I have database auth enabled and set to 'admin' db. SSL flag disabled ('false'). I'll try to check it with the mentioned Mongo version later on.. Try with PowerShell instead of CMD.. > Can you try to remove in your DB core_store > key: plugin_content-manager_schema\n@lauriejim I've removed it and restarted the app. The issue still occurs.. > I'm going to need more info do you have a repo to share?\n@soupette https://github.com/dannydtk/barn-io-be - not much has been done there.. ",
    "adrianoresende": "I have same error of @dannydtk \nSomeone solved?\nBut with 3.0.0-alpha.15 and Node v11.3.0. I get error after I create this fields\n\n. @lauriejim Why don't add validation in field or save with lowercase or camelCase?. ",
    "yasinishyn": "@maturano it works inside module.exports = async (cb) => { but doesn't outside in the same file. most likely, has to do with the config loading queue (what files are initialized at what stages). ",
    "matthias-schulz": "I'm sorry, I said that wrong. I want it to be accessible only via localhost.. Too bad I thought it would work without the firewall. Is this behaviour desired?. Excuse me if I'm not clear. English is not my first language.\nI haven't made any changes to the configuration. I was expecting strapi to be accessible only through the local address. To make strapi accessible from the internet, I was going to use a proxy. But as already mentioned, strapi can also be reached via public ip on port 1337. This is unexpected for me. If a firewall is the only solution, then so is that.. Thanks for your support.. ",
    "tarol": "\nstrapi new test\ncd test && npm start. \n",
    "justingosan": "critical bug right here. i thought it was due to one of my commits. ",
    "amiregelz": "Why should a local build depend on strpi servers? can we make it only access plugins installed locally? it's weird that my local server depends on strapi uptime or downtime. Shouldn't it go the the if (err) block? 500 server error is an error... Nice!. I would move https://marketplace.strapi.io/plugins to a const in an appropriate file and reference it in InstallPluginPage and ListPluginsPage. Having this string hardcoded in both places is not a good practice. . ",
    "soldatovsh": "\\plugins\\users-permissions\\services\\UsersPermissions.js#90\n``js\ngetPlugins: (plugin, lang = 'en') => {\n    return new Promise((resolve, reject) => {\n      request({\n        uri:https://marketplace.strapi.io/plugins?lang=${lang},\n        json: true,\n        headers: {\n          'cache-control': 'max-age=3600'\n        }\n      }, (err, response, body) => {\n        if (err) {\n          return reject(err);\n        }\n        // fix\n        if(response.statusCode === 500){\n          console.warn(https://marketplace.strapi.io/plugins?lang=${lang}`)\n          console.warn(body)\n          return resolve([]);\n        }\n    resolve(body);\n  });\n});\n\n}\n```\n. no.\nrequest - server HTTP client and  500 code is correct answer\nClient side axios check status code . ",
    "ithieund": "I faced with the same issue here.\nAt the first time after installing, I can access this page.\nBut today after create a new content type that has a relationship with Users then this error occurs.\nI followed this instruction\nhttps://blog.strapi.io/building-a-static-website-using-gatsby-and-strapi/\nNow I stuck at the step Allow Access with with error.\n```\nTypeError: plugins.find is not a function\n    at role.permissions.role.permissions.reduce (/plugins/users-permissions/services/UsersPermissions.js:167:52)\n    at Array.reduce ()\n    at Object.getRole (/plugins/users-permissions/services/UsersPermissions.js:160:41)\n    at \n```\nIs there a fix?. ",
    "lukas-vollmer": "same. ",
    "dillonraphael": "Also having this issue all of the sudden. I create a new Content Type, then try editing the Public role.. @soldatovsh has the hardcode fix. You need todo the same for admin > admin > src > containers > InstallPlugin > saga line#52 seems to also be calling the marketplace url.. ",
    "aalbacetef": "Funny, stumbled upon here seeing if anybody else had also noticed the 500 error.\nThey've got another URL publicly available as well, so they might be in the process of moving the marketplace around. \n\nGuys, please get this fixed! \nI'm trying to propose this at work as I'm in love with how blazing fast it can be to get up and running with an API, but I can't justify hardcoding a fix for a request to fetch plugins.\nMuch less when this is in the middle of changing user-permissions!\n. ",
    "tjvanderende": "UPDATE: Also doesn't work with the normal JSON api! (So probably priority: High). \nSame errors when requesting the normal JSON API.\nAny updates on this? :(. I just did edit my original question and added the Strapi version.. Any news on this?. ",
    "jukefr": "https://github.com/strapi/strapi-plugin-graphql appears to have suddenly disappeared, that seems to be the problem for me.\nwhen installing I get an error that tells me to check https://www.npmjs.com/package/strapi-plugin-graphql and following the github repo on that page lands a 404. My issue seems to be completely independent from Strapi after all and a bug with NPM itself, I will investigate some more and open an issue here if needed.\n@nidkil sorry for hijacking your issue for no reason. ",
    "otakuf": "@jukefr as temp fix, after install plugin, just reinstall strapi in project folder. This works for me on windows.\nhttps://github.com/strapi/strapi/issues/971#issuecomment-383117930. ",
    "mickidum": "strange resolved for me:\nafter installing plugin and getting error\nnpm install strapi-plugin-graphql - still get error\nnpm remove strapi-plugin-graphql\nstrapi start - no errors. wow. ",
    "napop": "after install graph\nstrapi install graphql\nyou may have to \nnpm install\nagain\nand\nstrapi start\nI can fix this problem with this. ",
    "Charuru": "@lauriejim Yes I understand, I was asking about if I should still buy the existing stripe plugin to use as reference or should I not bother. I know I would have to write it myself.. Thanks @derrickmehaffy Downgraded to node v10.13.0 Same problem.\n\n. ",
    "basilebong": "I'm going to submit a PR later today with the missing keys \ud83d\ude04 . Yes of course. I will do this later this evening. \ud83d\ude0a @Jan10  . ",
    "sennahLessert": "i'll do that. ",
    "jbbn": "Hi @lauriejim \nI am happy to contribute with the project.\nI'm curious, why do you reopened the issue?\nDid I miss something?\nI would be glad to improve the applied solution :)\nReggards!. ",
    "Fausto95": "Hi there. \nI'll work on it this weekend!. ",
    "segush11": "Hi, @lauriejim! Can I help you with this issue?. Hi, @lauriejim! Can I help you with this issue?. @lauriejim, you are welcome!. ",
    "Leo1003": "Hi, I opened a PR for ZH translations.\n2258 . @lauriejim  I think this issue can close now. Unless you are likely to add more translation keys and keep updating this issue.. I have same issue too.\nBut I found that if using Firefox, the bootstrap function of content manager wouldn't be executed. Thus, the types won't appear. However, Chromium can run it successfully.\n----Edited----\nI think I found the problem.\nIn Firefox, checkLogin() run before the plugins register, so there is no plugin when checkLogin() is going to run the bootstrap functions of the plugins. But Chromium run in the correct order most of the time.. I also have this issue\n2252\nWe opened the issues almost at the same time.... I believed that I found the reason of this bug.\nMongoose 5.3.8 (2018-10-30):\n\nfix(mongoose): handle setting custom type on a separate mongoose global #7158 c7f216c\n\nSo, mongoose-float no longer worked because the custom type is separate now. \n\nEdited\nBy changing the codes of mongoose-float to this, I am able to resolve this issue.\n```javascript\nmodule.exports.loadType = function(mongoose, digits) {\n    var floatType = new FloatType(digits);\nmongoose.Schema.Types.Float = mongoose.SchemaTypes.Float = mongoose.Types.Float = floatType;\n\nreturn floatType;\n\n};\n```. I submitted a PR to mongoose-float. \nBut during the process, I found a new issue about the schema types problem between Decimal and Float.\n2282. The latest release of mongoose-float is 3 years ago. Maybe someone has to ask the author to release the next version.. Maybe I can do this. But I don't know when can I complete it.. I knew #2351 have fixed for #2251. But it didn't resolve #2282. So that is the main reason that I submitted this PR..",
    "kishu": "@lauriejim \nplease assign to me this issue.. ",
    "mikmar88": "@lauriejim it's a pleasure for me! I'll complete all the translations in the next days.. Sorry for my absence but i've a lot of work and i haven't no time to translate.\n fantastico is not the tight translation. It's more correct to use \"eccezionale\".. ",
    "goras": "It seems to work as expected for all other field types.. I set up another db on mlab and updated the ticket with real credentials for testing purposes.. Aha, I had no idea about this. I've changed the value of \"Authentication database\" to same as the database name, \"mydb\" and it works! I guess something's changed in alpha.14 then, since I've used a blank field for Authentication database in previous Strapi versions. Thanks for your help!. Thanks, that part of the documentation I totally missed!\nHowever, there's no mentioning about interfaces in the documentation and I haven't been able to get this to work so far.\nThis is what I've got. I specified the interface as follows:\n```\n// plugins/graphql/config/schema.graphql\nmodule.exports = {\n    definition: interface Searchable {\n            name: String!\n            description: String\n        },\n    query: search(sort: String, limit: Int, start: Int, where: JSON): [Searchable],\n    type: {},\n    resolver: {\n        Query: {\n            search: {\n                resolver: (obj, options, ctx) => {\n                        // obj is undefined\n                    return obj\n                }\n            }\n        }\n    }\n}\n```\nI have a Book content-type (created in the Strapi UI) which contains the fields name, description and author, but I assume there's no way of overriding a content-type so instead I created SearchableBook.\n```\n// api/book/config/schema.graphql\nmodule.exports = {\n    definition: type SearchableBook implements Searchable {\n            name: String!\n            description: String\n            author: String!\n        },\n    type: {},\n    resolver: {\n            SearchableBook: {\n                __isTypeOf: (obj) => !!obj.author\n            },\n        Query: {\n                search: {\n                    resolver: 'Book.find'\n                }\n            }\n    }\n}\n```\nCurrently the following query will generate an empty result.\nquery {\n    search {\n        name\n        ... on SearchableBook {\n                author\n            }\n    }\n}\nResult:\n{\n    \"data\": {\n            \"search\": null\n    }\n}\nSo I'm wondering if you have any suggestions or pointers to what is needed to make this work? I'd really appreciate it, thanks in advance!. Solved it! I don't know if it's the intended way, but it works!\nHere are the updated schema.graphql files:\nInterface\n// plugins/graphql/config/schema.graphql\nmodule.exports = {\n    definition: `\n        interface Searchable {\n            name: String!\n            description: String\n        }\n    `,\n    query: `search: [Searchable]`,\n    type: {},\n    resolver: {\n        Searchable: {\n            __resolveType: (obj, ctx, info) => {\n                if (obj.author) {\n                    return info.schema.getType('SearchableBook')\n                }\n                if (obj.director) {\n                    return info.schema.getType('SearchableMovie')\n                }\n                return null\n            }\n        },\n        Query: {\n            search: {\n                resolver: (obj, options, ctx, info) => {\n                    return Promise.all([\n                        strapi.controllers.book.find(ctx),\n                        strapi.controllers.movie.find(ctx),\n                    ]).then(result => [].concat(...result))\n                }\n            }\n        }\n    }\n}\nBook\n``\n// api/book/config/schema.graphql\nmodule.exports = {\n    definition:\n        type SearchableBook implements Searchable {\n            name: String!\n            description: String\n            author: String!\n        }\n    `\n}\n```\nMovie\n// api/movie/config/schema.graphql\nmodule.exports = {\n    definition: `\n        type SearchableMovie implements Searchable {\n            name: String!\n            description: String\n            director: String!\n        }\n    `\n}. Thanks!\nI have one more question though. It appears that the query parameters are not passed along to the controllers.\nFor example, the query search(where: { name: \"Star Wars\" }) { name } returns ALL search result items, e.g. no filtering was made. The ctx object passed to the controllers is empty.\n```\n// api/movie/controllers/Movie.js\nmodule.exports = {\n  find: async (ctx) => {\n    console.log(ctx.query) // prints {}\n    return strapi.services.movie.fetchAll(ctx.query);\n  },\n  ...\n}\n```\nHowever, if I specifically query Movies, movies(where: { name: \"Star Wars\"}) { name } I get the correct response and the ctx object now contains the query parameters.\n```\n// api/movie/controllers/Movie.js\nmodule.exports = {\n  find: async (ctx) => {\n    console.log(ctx.query) // prints { name: \"Star Wars\" }\n    return strapi.services.movie.fetchAll(ctx.query);\n  },\n  ...\n}\n```\nDo I need to somehow modify the ctx object in the custom resolver before passing it to the controller?\nI assume this is an issue for any custom resolvers and not just when working with interfaces?\nPlease let me know I you rather want me to create a separate issue about this.\n```\n// plugins/graphql/config/schema.graphql\nmodule.exports = {\n  ...,\n  resolver: {\n    ...,\n    Query: {\n      modules: {\n        resolver: (obj, options, ctx) => {\n      // the options argument contains the correct parameters, but are not included in ctx\n      return Promise.all([\n        strapi.controllers.book.find(ctx),\n        strapi.controllers.movie.find(ctx),\n      ]).then(result => [].concat(...result))\n    }\n  }\n}\n\n}\n}\n```\n. I upgraded Strapi to alpha@14.1.1 and setup a repo here based on my example above. I don't get the error message anymore, but the genre object is still empty when using graphql.. Using alpha@14.1.1 I don't get the error message anymore, but I'm still not able to access nested objects as mentioned in my previous comment. Does it work for you @Aurelsicoko ?. I just tried v14.2 and as far as I can tell, this issue has been resolved!\nWith this new version however, there seems to be another bug . Queries containing _id, like this one,\nquery {\n  characters {\n    _id\n    name\n  }\n}\nfails with the error\n\"ID cannot represent value: { _bsontype: \\\"ObjectID\\\", id: <Buffer 5b 98 fe a7 8a f9 2f 3e 93 f5 02 45> }\". ",
    "madd86": "The problem was that there already is a /upload, it was conflicting with the content type builder I added myself.. ",
    "akkys77": "Hi Alberto,\nRegarding your Tone comment, I chose the formal tone in Spanish because that's the choice that was made for French. \nIn French, Strapi is using formal style Vous that corresponds to Formal style Usted in Spanish. \nSo I totally agree with your point: Normalise the tone, I am just wondering whether we should normalise to formal or informal.\nDo you know who can weigh in on this ?\nIf having informal tone in Spanish is OK, then your corrections and addition of missing keys are definite improvements.\n. ",
    "VictorKolb": "Update:\nIf i reproduce it with another pair of objects, for example, Events and Artists, then fields updated correctly. From this comes the question: how can authenticated users update their fields? . @lauriejim thanks for your response!\nI tried to create policies but I got empty ctx.session.\n```\nmodule.exports = async (ctx, next) => {\n  if (ctx.session.user.role === 'administrator') { //\u2192 ctx.session is empty object\n    // Go to next policy or will reach the controller's action.\n    return await next();\n  }\nctx.unauthorized(You're not allowed to perform this action!);\n};\n```\nMy app architecture very similar with https://blog.strapi.io/cooking-a-deliveroo-clone-with-nuxt-vue-js-graphql-strapi-and-stripe-authentication-part-4-7/\n. update: user object is available in ctx.state.user. Maybe it may be worth updating the documentation?. @lauriejim https://github.com/strapi/strapi/pull/1686 I opened pull request. Please, check whether everything is correct?. Hi @xeastcrast! I was getting the same error, when not authorized. Make sure that token is correct. ",
    "daviyang35": "When this situation happened.\nImage still at storage and upload_file records is ok.\nupload_file_morph records has beed lose.. ",
    "CKGrafico": "Still having this error, any update? the \"related\": [] property is empty. Please, add the message. We were 1 hour with this problem :). ",
    "YouhannaSabry": "@xeastcrast did you fix it? please tell me how... @lauriejim I don't know exactly what I should do.. I installed the sdk using npm and tried posting to /upload again but still same problem.. if you'd please explain what i should do.. would be apreciated. . @derrickmehaffy I tried this but I still get { message: 'cloud_name is disabled', http_code: 401 }\nwhenever I post which means that it's still trying to post to cloudinary... Okaay got it.. Logged in to the admin panel and under Plugins, Files Upload.\nClick the settings icon and changed the providers from cloudinary to local server.. ",
    "Jan10": "@basilebong thank you!\nThe current translation is based on \"Du\". Can you please use \"Du\" instead of \"Sie\"?. Duplicate #1635. ",
    "TokenChingy": "Apologies if I'm overstepping but I manually merged this into a Strapi test project and everything seems to be working nicely except the GraphQL Playground. The playground doesn't show a cursor and settings are not being loaded properly/if at all (e.g. applying the light theme).\nA quick patch can be found: https://github.com/prisma/graphql-playground/issues/790 and that fixes the cursor.. Bug found, I would post into issues but I'm not sure what the rules are for creating issues for PR's. Nevertheless, see below:\nWhen performing a mutation to either create or update, the type \"Decimal\" will fail and expect a string.\n\nExample schema\n\njson\nitem {\n    price: Decimal\n}\n\nActual type (auto-generated)\n\njson\nitem {\n    price: String\n} \nWhat's happening? The mutations implementation isn't handling Decimals. This isn't an issue as the GraphQL standards don't support Decimals.\nDebate: Should Strapi implement the decimal type or convert decimals into floats for the GraphQL?. Bug 2:\nMutation Query:\njson\nmutation {\n  createItem(input: {\n    data: {\n      name: \"Orange\",\n      description: \"A sweet and tasty fruit.\",\n      price: 3.00,\n      inStock: true,\n    }\n  }) {\n    item {\n      name\n      description\n      price\n      inStock\n    }\n  }\n}\nReturn JSON:\njson\n{\n  \"data\": {\n    \"createItem\": null\n  },\n  \"errors\": [\n    {\n      \"message\": \" not a valid Decimal128 string\",\n      \"locations\": [\n        {\n          \"line\": 2,\n          \"column\": 3\n        }\n      ],\n      \"path\": [\n        \"createItem\"\n      ],\n      \"extensions\": {\n        \"code\": \"INTERNAL_SERVER_ERROR\",\n        \"exception\": {\n          \"stacktrace\": [\n            \"Error:  not a valid Decimal128 string\",\n            \"    at Function.Decimal128.fromString (/home/jason/LittleMenuStrapi/node_modules/mongodb-core/node_modules/bson/lib/bson/decimal128.js:252:11)\",\n            \"    at Decimal128.cast (/home/jason/LittleMenuStrapi/node_modules/mongoose/lib/schema/decimal128.js:122:27)\",\n            \"    at Decimal128.SchemaType.getDefault (/home/jason/LittleMenuStrapi/node_modules/mongoose/lib/schematype.js:702:25)\",\n            \"    at $__applyDefaults (/home/jason/LittleMenuStrapi/node_modules/mongoose/lib/document.js:309:22)\",\n            \"    at model.Document (/home/jason/LittleMenuStrapi/node_modules/mongoose/lib/document.js:104:3)\",\n            \"    at model.Model (/home/jason/LittleMenuStrapi/node_modules/mongoose/lib/model.js:72:12)\",\n            \"    at new model (/home/jason/LittleMenuStrapi/node_modules/mongoose/lib/model.js:4286:13)\",\n            \"    at toExecute.push.callback (/home/jason/LittleMenuStrapi/node_modules/mongoose/lib/model.js:2491:22)\",\n            \"    at /home/jason/LittleMenuStrapi/node_modules/async/internal/parallel.js:31:39\",\n            \"    at eachOfArrayLike (/home/jason/LittleMenuStrapi/node_modules/async/eachOf.js:65:9)\",\n            \"    at exports.default (/home/jason/LittleMenuStrapi/node_modules/async/eachOf.js:9:5)\",\n            \"    at _parallel (/home/jason/LittleMenuStrapi/node_modules/async/internal/parallel.js:30:5)\",\n            \"    at parallelLimit (/home/jason/LittleMenuStrapi/node_modules/async/parallel.js:88:26)\",\n            \"    at utils.promiseOrCallback.cb (/home/jason/LittleMenuStrapi/node_modules/mongoose/lib/model.js:2501:5)\",\n            \"    at Promise (/home/jason/LittleMenuStrapi/node_modules/mongoose/lib/utils.js:246:5)\",\n            \"    at new Promise (<anonymous>)\",\n            \"    at Object.promiseOrCallback (/home/jason/LittleMenuStrapi/node_modules/mongoose/lib/utils.js:245:10)\",\n            \"    at Function.create (/home/jason/LittleMenuStrapi/node_modules/mongoose/lib/model.js:2462:16)\",\n            \"    at Object.add (/home/jason/LittleMenuStrapi/api/item/services/Item.js:83:30)\",\n            \"    at create (/home/jason/LittleMenuStrapi/api/item/controllers/Item.js:56:33)\",\n            \"    at resolver (/home/jason/LittleMenuStrapi/plugins/graphql/services/Mutation.js:136:16)\",\n            \"    at /home/jason/LittleMenuStrapi/plugins/graphql/services/Mutation.js:218:41\"\n          ]\n        }\n      }\n    }\n  ]\n}. @Aurelsicoko interesting. Will look into my version, might be due to outdated sources for this DigitalOcean instance I'm running this on.\nWill do, Am taking it through it's paces and will patch up any bugs I find. Will also implement somethings. Does Strapi want to support the Decimal type?. @Aurelsicoko it's definetly not my MongoDB version, just did a fresh server install:\nUbuntu 18.04LTS\nMongoDB 4.x\nNodeJS 10.x\nNPM 6.x\nAlso went through and check to make sure the MongoDB Driver was up-to-date, it is. Any ideas?\nEDIT: Referencing the Issue #1859 . @Aurelsicoko I'm working on fixing this bug and also bringing inline the Decimal scalar type, but I have realised that this branch is behind and doesn't have the aggregations/groupings functions. I've merged these in and would like to be able to commit them to this PR, can I get permission?. So I\u2019ve created a new PR merging this with aggregations. I\u2019ve also fixed decimals #1924.. @byoungd That's fixed in the next release. Referencing #1924 for your information.. I'm confirming this issue for GraphQL Mutations #1650 . Initially I thought it was a MongoDB version issue (thanks to @Aurelsicoko) however upon doing a full wipe of the server and fresh install of MongoDB, it still occurs.\nNode.js version: v10.9.0\nnpm version: 6.2.0\nStrapi version: 3.0.0-alpha.14 (modified to include upstream GraphQL Mutations).\nDatabase: MongoDB 4.0\nOperating system: Ubuntu 18.04 LTS\nCurrent Behaviour\nSend a mutations query with a float input:\nmutation {\n  createItem(input: {\n    data: {\n      name: \"Orange\",\n      description: \"A sweet and tasty fruit.\",\n      price: 3.4539,\n      inStock: true,\n    }\n  }) {\n    item {\n      name\n      description\n      price\n      inStock\n    }\n  }\n}\n An error is returned:\n{\n  \"data\": {\n    \"createItem\": null\n  },\n  \"errors\": [\n    {\n      \"message\": \" not a valid Decimal128 string\",\n      \"locations\": [\n        {\n          \"line\": 2,\n          \"column\": 3\n        }\n      ],\n      \"path\": [\n        \"createItem\"\n      ],\n      \"extensions\": {\n        \"code\": \"INTERNAL_SERVER_ERROR\",\n        \"exception\": {\n          \"stacktrace\": [\n            \"Error:  not a valid Decimal128 string\",\n            \"    at Function.Decimal128.fromString (/home/jason/LittleMenuStrapi/node_modules/mongodb-core/node_modules/bson/lib/bson/decimal128.js:252:11)\",\n            \"    at Decimal128.cast (/home/jason/LittleMenuStrapi/node_modules/mongoose/lib/schema/decimal128.js:122:27)\",\n            \"    at Decimal128.SchemaType.getDefault (/home/jason/LittleMenuStrapi/node_modules/mongoose/lib/schematype.js:702:25)\",\n            \"    at $__applyDefaults (/home/jason/LittleMenuStrapi/node_modules/mongoose/lib/document.js:309:22)\",\n            \"    at model.Document (/home/jason/LittleMenuStrapi/node_modules/mongoose/lib/document.js:104:3)\",\n            \"    at model.Model (/home/jason/LittleMenuStrapi/node_modules/mongoose/lib/model.js:72:12)\",\n            \"    at new model (/home/jason/LittleMenuStrapi/node_modules/mongoose/lib/model.js:4286:13)\",\n            \"    at toExecute.push.callback (/home/jason/LittleMenuStrapi/node_modules/mongoose/lib/model.js:2491:22)\",\n            \"    at /home/jason/LittleMenuStrapi/node_modules/async/internal/parallel.js:31:39\",\n            \"    at eachOfArrayLike (/home/jason/LittleMenuStrapi/node_modules/async/eachOf.js:65:9)\",\n            \"    at exports.default (/home/jason/LittleMenuStrapi/node_modules/async/eachOf.js:9:5)\",\n            \"    at _parallel (/home/jason/LittleMenuStrapi/node_modules/async/internal/parallel.js:30:5)\",\n            \"    at parallelLimit (/home/jason/LittleMenuStrapi/node_modules/async/parallel.js:88:26)\",\n            \"    at utils.promiseOrCallback.cb (/home/jason/LittleMenuStrapi/node_modules/mongoose/lib/model.js:2501:5)\",\n            \"    at Promise (/home/jason/LittleMenuStrapi/node_modules/mongoose/lib/utils.js:246:5)\",\n            \"    at new Promise (<anonymous>)\",\n            \"    at Object.promiseOrCallback (/home/jason/LittleMenuStrapi/node_modules/mongoose/lib/utils.js:245:10)\",\n            \"    at Function.create (/home/jason/LittleMenuStrapi/node_modules/mongoose/lib/model.js:2462:16)\",\n            \"    at Object.add (/home/jason/LittleMenuStrapi/api/item/services/Item.js:83:30)\",\n            \"    at create (/home/jason/LittleMenuStrapi/api/item/controllers/Item.js:56:33)\",\n            \"    at resolver (/home/jason/LittleMenuStrapi/plugins/graphql/services/Mutation.js:136:16)\",\n            \"    at /home/jason/LittleMenuStrapi/plugins/graphql/services/Mutation.js:218:41\"\n          ]\n        }\n      }\n    }\n  ]\n}\nExpected Behaviour\nAccept the float input and create a new entry.\n. Another issue occurs in the admin panel...\nCurrent Behaviour\nDefine a new type with only one field and set that field to Float. Try and create a new content of that type. Admin panel freezes and will not load the form to do so.\nExpected Behaviour\nBe able to see the admin form to create the content.. So after a long night of looking through all of Strapi, I've come to realise that this code breaks everything in terms of floats and decimals:\n\n./node_modules/strapi-hook-mongoose/lib/utils/index.js\n\n```js\n'use strict';\n/*\n * Module dependencies\n /\nmodule.exports = mongoose => {\n  require('mongoose-float').loadType(mongoose);\nreturn {\n    convertType: mongooseType => {\n      switch (mongooseType.toLowerCase()) {\n        case 'array':\n          return Array;\n        case 'boolean':\n          return 'Boolean';\n        case 'binary':\n          return 'Buffer';\n        case 'date':\n        case 'datetime':\n        case 'time':\n        case 'timestamp':\n          return Date;\n        case 'decimal':\n          return 'Float';\n        case 'float':\n          return mongoose.Schema.Types.Decimal128;\n        case 'json':\n          return 'Mixed';\n        case 'biginteger':\n        case 'integer':\n          return 'Number';\n        case 'uuid':\n          return 'ObjectId';\n        case 'email':\n        case 'enumeration':\n        case 'password':\n        case 'string':\n        case 'text':\n          return 'String';\n        default:\n      }\n    },\n  };\n};\n```\nI suspect it's to do with that case on decimal being returned as a Float? Which causes the Decimal128 parser to freak out as it's expecting a String or NaN or Something not a Float?\nAnyway, I managed to fix floats to now allow them to be created, edited, and read via Shadow CRUD and GraphQL. This is the replacement code:\n\n./node_modules/strapi-hook-mongoose/lib/utils/index.js\n\n```js\n'use strict';\n/*\n * Module dependencies\n /\nmodule.exports = mongoose => {\n  require('mongoose-float').loadType(mongoose);\nconst SchemaTypes = mongoose.Schema.Types;\n/\n   * Since we don't want to use decimals for the time being... we can just reimplement the trivial decimal handler...\n   \n   * case 'decimal':\n   *   return 'Float';\n   \n   * would cause string expectations. Now it gets a string and is quite happy. Don't use decimals until this is properly addressed.\n   */\n  SchemaTypes.Decimal.prototype.cast = function(value) {\n    // Note: The decimal format isn't well supported by MongoDB.\n    return value.toString(); // It's recommended to use Float or Number type instead.\n  };\nreturn {\n    convertType: mongooseType => {\n      switch (mongooseType.toLowerCase()) {\n        case 'array':\n          return Array;\n        case 'boolean':\n          return 'Boolean';\n        case 'binary':\n          return 'Buffer';\n        case 'date':\n        case 'datetime':\n        case 'time':\n        case 'timestamp':\n          return Date;\n        case 'decimal':\n          return 'Decimal';\n        case 'float':\n          return mongoose.Schema.Types.Decimal128;\n        case 'json':\n          return 'Mixed';\n        case 'biginteger':\n        case 'integer':\n          return 'Number';\n        case 'uuid':\n          return 'ObjectId';\n        case 'email':\n        case 'enumeration':\n        case 'password':\n        case 'string':\n        case 'text':\n          return 'String';\n        default:\n      }\n    },\n  };\n};\n```\nI managed to dig up an old commit from Strapi that removed the trivial decimal to String trick and reimplemented it; see this commit.\nIT SHOULD BE NOTED THOUGH... we should not use this trivial fix as a permanent thing, instead we should probably look at the underlying problem and figure out how better to handle decimals.\nI personally think decimals should be depreciated.. @lauriejim a temporary patch to enable working float and semi-working decimal can be found here.\nFiles you should look at:\n\n/node_modules/strapi-hook-mongoose/libs/utils/index.js\n/plugins/graphql/services/Types.js\n\nDecimal\n- High accuracy as it's stored as a string.\n- A few more bytes could impact on large datasets.\n- Inputs and returns as a float, parsed as a String.\n- Aggregator functions: sum and avg do not work but min and max do?. Can I get access to the implementation?. Have you done the following?\n\nnpm install in the project root directory.\nnpm run setup in the project root directory.. I'll confirm that this does happen. For me however, it happens in Ubuntu and Windows only, Mac OS is unaffected.\n\nIf you don't need to build the admin interface, just run npm install and it will compile and set your plugins if that's what you need.. This isn't just a problem with Strapi. It's a problem with NPM, some install packages that prompt user input will cause a crash. Unsure when this will be fixed.\nFor the time being, manually put in your CLI options.\nCLI Documentation\nstrapi new \noptions: [--dev|--dbclient=<dbclient> --dbhost=<dbhost> --dbport=<dbport> --dbname=<dbname> --dbusername=<dbusername> --dbpassword=<dbpassword> --dbssl=<dbssl> --dbauth=<dbauth>]. strapi new --dbclient=mongo --dbhost=INSERT_YOUR_DB_URL --dbport=INSERT_YOUR_DB_PORT` --dbname=WHAT_YOU_WANT_TO_CALL_YOUR_DB --dbusername=LEAVE_BLANK_OR_DB_USERNAME --dbpassword=LEAVE_BLANK_OR_DB_USERNAME --dbssl=LEAVE_BLANK_OR_DB_SSL_CERT --dbauth=LEAVE_BLANK_OR_DB_AUTH_URL. This problem is causing massive headaches... When you refresh or click into another Type, the unsaved fields dissappear but stay in the DB. So when you go and save or create a new field, it throws errors. When you delete a field or Type and use the same name, it throws an error.. Strapi is more of a full Web Service than a instanced functional service. It's probably possible but would require a full rewrite.. @lauriejim I'll look into this one.. @DMomplaisirASC are you not having issues with GraphQL and the 14.1?. @derrickmehaffy Unfortunately no. We don't use any SQL databases here at ThinkHub.io.. @lauriejim can you review or assign someone to review to get this merged?. Will have a look in the morning.. @lauriejim All fixed. I've brought everything up to date. It now work with Strapi v3.0.0-alpha.14.1.1. Please merge. Maybe even release into v3.0.0-alpha.14.1.2? I'll now focus on the owner and contributor feature.. Will run tests and review today. I\u2019ll merge into my patch and let you know.. Good to know, I'll let @fezproof know in the morning when I see him. Will 14.1 be released today/tomorrow?. @derrickmehaffy \n\nFloat/Decimal should have user defined accuracy (above the scope of this PR I think, but needs to be done before merging)\n\nFirstly, user defined floats and decimals is a bad idea. It's better to standardise, we should agree the context of decimals and floats.\nDecimals in Strapi should be defined as the monetary convention (non-financial \u2014 which is defined at 5 decimal places) of a float that is accurate to up to 2 decimal places.\nFloats in Strapi should be as precise as possible (on the Mongoose ORM are defined as a Decimal128 to up to 20 decimal positions \u2014 when the fix is merged in 3.0.0-alpha14.1.2), natively JS handles floats as with a 64-bit precision.. Can confirm, it also breaks on Mongoose ORM.. This should be fixed in the next release when #1924 gets merged, hopefully the end of the week.. For the time being, if you really want it fixed immediately, edit packages/strapi-hook-mongoose/lib/utils/index.js if you're building from source or node_moduels/strapi-hook-mongoose/lib/utils/index.js if you are wanting to hotfix your project.\nReplace the contents with:\n```\n'use strict';\n/*\n * Module dependencies\n /\nmodule.exports = mongoose => {\n  var Decimal = require('mongoose-float').loadType(mongoose, 2);\n  var Float = require('mongoose-float').loadType(mongoose, 20);\nreturn {\n    convertType: mongooseType => {\n      switch (mongooseType.toLowerCase()) {\n        case 'array':\n          return Array;\n        case 'boolean':\n          return 'Boolean';\n        case 'binary':\n          return 'Buffer';\n        case 'date':\n        case 'datetime':\n        case 'time':\n        case 'timestamp':\n          return Date;\n        case 'decimal':\n          return Decimal;\n        case 'float':\n          return Float;\n        case 'json':\n          return 'Mixed';\n        case 'biginteger':\n        case 'integer':\n          return 'Number';\n        case 'uuid':\n          return 'ObjectId';\n        case 'email':\n        case 'enumeration':\n        case 'password':\n        case 'string':\n        case 'text':\n          return 'String';\n        default:\n      }\n    },\n  };\n};\n``. Will look tomorrow.. Won't have time this week to look at this, will do on the weekend.. Due to theuse stricttag which enforces ES5 thereforeconstandletcannot be used.. I don\u2019t mind using them but I\u2019m working off whatever code was there initially.. Subscription object is not defined. You might want to requireSubscriptions.js` in this file.\njs\nconst Subscription = require('./Subscriptions.js');. You might also want to include the dependency graphql-tools. It throws dependencies errors otherwise.\n\"graphql-tools\": \"^3.1.1\",. ",
    "CupCakeArmy": "Sure, I'll do it in a couple of days. Very busy right now\nDo you have any preferences on wether to decrease the file z or increase the reset z?. ",
    "jfrux": "I\u2019m going to add items to the list that I find before I feel like it\u2019s ready to be merged.\nI\u2019ll add this one to the list.\n:)\nOn Jul 30, 2018, 3:29 AM -0400, Jim LAURIE notifications@github.com, wrote:\n\nHello @jfrux ! Thank you for this PR !\nDoes it fix this issue #1660 ?\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub, or mute the thread.\n. \n",
    "yusufiga": "Thanks for hint @derrickmehaffy. Unfortunately without refresh JWT, authentication is more or less useless for mobile. Since I'm not familiar with nodejs or koa, it would be nice if someone can just help me to get refresh JWT feature to strapi.. @derrickmehaffy Yes it's an alternative but as a user I wouldn't agree on keeping password on the device. I mean I can keep it encrypted but still it's not nice to keep user's password somewhere in the device.. Hi, @bahdcoder are you working on this? It would be nice if you can leave a comment if you are not working on it so someone else can take a look. I still desperately need this feature :D Thanks. . ",
    "arsenx": "Password hashes are not returned due to a parameter on the field in strapi which I will check later today.  This parameter option is not shown on the GUI. I know that GraphQL is not supposed to handle this but there should be some more light shed on this situation since this does not occur in standard REST calls.  It may be confusing at first because we do set access control for the field but this does not apply in the even of a relationship call.\nLet me know if you would like me to write in more detail.\n\nOn Aug 22, 2018, at 12:10 PM, DMehaffy notifications@github.com wrote:\n@arsenx https://github.com/arsenx were you able to get password hashes?\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub https://github.com/strapi/strapi/issues/1678#issuecomment-415088473, or mute the thread https://github.com/notifications/unsubscribe-auth/AFdDX2kRpQjGcjQgSv7vvUrPc23poisdks5uTYJ-gaJpZM4VpTuV.\n\n\n. ",
    "chrisdekker1997": "@lauriejim Commited the change. @lauriejim I'll make a pull request in a minute! :smile: . Ah, should I commit the change?. ",
    "bjnsn": "This may be related to camel-case contentType names. I setup a new installation of Strapi using MySQL this time and ran into this error message with a similar query:\n{\n  \"data\": {\n    \"articles\": [\n      {\n        \"articleTags\": null\n      }\n    ]\n  },\n  \"errors\": [\n    {\n      \"message\": \"Undefined binding(s) detected when compiling SELECT query: select `articletags`.* from `articletags` where `source` = ? and `where` = ? and `sort` = ? and `start` = ? and `limit` = ? and `skip` = ? limit ?\",\n      \"locations\": [\n        {\n          \"line\": 3,\n          \"column\": 5\n        }\n      ],\n      \"path\": [\n        \"articles\",\n        0,\n        \"articleTags\"\n      ]\n    }\n  ]\n}. Seeing this behavior also. :-/. ",
    "vcolavin": "@lauriejim I am working on the same codebase as @bjnsn, and I can confirm it's not a casing issue. I've created two new models, foo and bar, with a many-to-many relationship. They have the same problem.. ",
    "markcheno": "Any news on this? I am having the same problem and my app is entirely dependent on a many to many relationship. This one is a deal breaker for me.. ",
    "aissa-bouguern": "This issue priority should be High!!. Ok, please try to fix that as soon as possible. . ",
    "razza12": "I am also getting the \"Cannot read property 'isMongoId' of undefined\"\n. Is it just the updateUser mutation that is not working? I have not been able to get the createUser mutation working either, getting a Bad Request response of  \"data\": \"values.hasOwnProperty is not a function\"\n\n. ",
    "joebentaylor": "Does this mean that Strapi can be used to create flexible layouts? Like a page builder?. ",
    "stunjiturner": "is there anyway/plugin to reorder fields for content types, can I reorder them in the settings.json file locally.. ",
    "elisegriset92": "Same problem ! \n. ",
    "EliyaFerdinand": "The problem may be caused by Syntax Error: for instance a space between...\nExample: \nin a file 'myproject/api/song/models/Song.settings.json'\nPROBLEM\n\"attributes\": {\n\"record label\": {\n      \"model\": \"record label\",\n      \"via\": \"songs\"\n    }\n}\nSOLUTION\n=> remove space, it worked for me\n\"attributes\": {\n\"recordlabel\": {\n      \"model\": \"recordlabel\",\n      \"via\": \"songs\"\n    }\n}. ",
    "sridkdhar": "I am getting the following error after installing GraphQL. Strapi is not starting. \nAfter uninstall GraphQL, strapi starts fine and my app is running ok. \nAs mentioned below ensureIndex is deprecated in Nodejs >10.\ndebug GET f5605e1347775a7276c42bee1847195f.svg (4 ms)\n(node:14241) DeprecationWarning: collection.ensureIndex is deprecated. Use createIndexes instead.\n(node:14241) UnhandledPromiseRejectionWarning: GraphQLError: Syntax Error: Invalid number, expected digit but got: \"m\".1\n. ",
    "rw3iss": "Same issue after 'strapi install graphql':\nRyans-Air:strapi rw3iss$ strapi start\n(node:83100) UnhandledPromiseRejectionWarning: GraphQLError: Syntax Error: Invalid number, expected digit but got: \"t\".\n    at syntaxError (/Users/rw3iss/Sites/kkjay/src/strapi/plugins/graphql/node_modules/graphql/error/syntaxError.js:24:10)\nNode.js version: 10.11.0\nnpm version: 6.4.1\nStrapi version: 3.0.0-alpha.14.5\nDatabase: mysql\nOperating system: OSX High Sierra. No this is a totally new installation.\nWith mysql I have the DB, and the user and password works for the rest of my apps, and command line... \nI removed the key='plugin_content-manager_schema' entry in the core_store table and that seemed to have fixed the issue! New content types do the same thing, until I clear this entry and restart the web app. \nAnyone else having that problem?\n. > You tried with fresh new app and fresh new database ?\n\nI'm not able to reproduce your issue with fresh new app and fresh new database.\n\nHi lauriejim, could you please tell me your exact environment setup, OS, npm version, node version, db version, etc?. > @rw3iss are you able to connect with a client like DBeaver or HeidiSQL?\nThanks @derrickmehaffy, turns out it was some issue with the server locally. Whenever I started through MAMP, it wouldn't work (even though MAMP Is set to use default port of 3306), but when I started the mysqld daemon manually, I'm able to create a new strapi project with it. Figured this out by trying a third party tool (DataGrip and MySQL Workbench), at your suggestion, both of which couldn't connect. For some reason I could still connect through command line 'mysql' all the time. Thank you.\n@jay7793 I was able to connect with mongodb. My prompt asks for the authentication table, and I specify \"admin\", and I also leave \"username\" and \"password\" both blank (default in mongodb install), and that seems to work. Not sure which version of strapi your using since your prompt is different, or if that's an mLabs thing, but I'm on the latest.\nLets configurate the connection to your database:\n? Choose your main database: MongoDB\n? Database name: strapi\n? Host: 127.0.0.1\n? +srv connection: false\n? Port (It will be ignored if you enable +srv): 27017\n? Username:\n? Password:\n? Authentication database (Maybe \"admin\" or blank): admin\n? Enable SSL connection: false\n\u23f3 Testing database connection...\nThe app has been connected to the database successfully!. @jay7793 Can you connect to the mongodb instance from your terminal, with just the 'mongo' command? If so, next try stopping the mongod daemon, and then starting it again without access control enabled: mongod --port 27017 --dbpath /data/db1\nIf your db path doesn't exist, just make it for this test, and then try to connect again either way.\nI don't really ever use mongodb, so I can't be of much help, but it's working for me locally, node v.10.11.0, npm v6.4, strapi latest alpha 3.0.0, mongodb v4.0.2\n. > @rw3iss I had the same error, what I did was create the database from MySQL.\nAye, had done this. Normally most installers require you to have already created the initial mysql database, in my experience. . What isn't starting? Doesn't show error in that message... ? What do you see when you go to http://localhost:1337 in your browser?\n. Thanks @derrickmehaffy As far as the actual relationship data returned by the API... it doesn't seem to return the Media field data if it is related to a parent object, when querying the parent object API. Is this non-functional and we're supposed to manually request the related/nested data separately from parent object api queries, if you're familiar with this?\nHere's the data returned by the parent object (which contains productmodels), without the Media fields (image-top and image-bottom define on productmodel):\n(from strapi api: http://localhost:1337/homepages)\n\nBut here is actual productmodel data if queried directly (containing the image-top and image-bottom Media fields). Notice that only the 'key' field is returned in the above, which is the only non-Media field in the productmodel type ('productmodel', 'shirttail_homepage', etc are from the relationship). \n \nAny ideas if that is by design, or if this might be a big in the parent data not respecting the relationship nested data? I'll just assume to manually query the nested objects in these instances for now.\n. Suppose it's known that strapi doesn't support loading of nested data: #877 \nThanks for that fix @soupette !! Do you know the best way to incorporate it into the build? Does strapi have some way to pull latest code and recompile the global package? Or does it all have to be updated manually kinda? . > You can apply the changes in the corresponding file of your app and run npm run setup --plugins at the root of your project.\nIt worked! Thanks a lot for the fix, man, awesomely fast too. Cheers.. ",
    "JayWelsh": "Bumping this as I am unable to move forward with using Strapi with GraphQL as things stand. Please provide a solution or workaround. :). @dannydtk thanks for the quick reply. Here is the error I got:\n(node:28107) UnhandledPromiseRejectionWarning: GraphQLError: Syntax Error: Expected :, found Name \"Name\". @derrickmehaffy As things stand, I have just made a new Strapi app and made one new content type and added one item to it, please view my attached screenshot. I would appreciate if you can see what might be causing the issue. :+1: \n\nKindest Regards,\nJay\n. @derrickmehaffy  is this what you are asking for? :) I seriously appreciate the help man, thank you!\n\n. @derrickmehaffy you are the best! Working perfectly now! Thank you so much, Brother!. Thanks a lot @lauriejim , I really appreciate the response! :+1: . ",
    "codepotato": "Can confirm @derrickmehaffy is the boss. Field names with spaces break this, so uninstall graphql plugin, correct your field names and then re-install. . ",
    "bobbymart1n": "I just had this issue as well. The issue was with a hyphen in one of my attributes. IE 'header-image'. I changed it to 'headerImage' and it fixed the issue. My solution to the problem was in my api directory. I fixed this issue by navigating to api > \"yourContentType\" > models. Look for anything you may have used a hyphen on or a space on as mentioned by @derrickmehaffy and @codepotato  . ",
    "jskorepa": "@Aurelsicoko That's partially the point. If someone uploads same file it is stored only once.\nBut that is not use case I was aiming for. I have a script which feeds data into strapi. This script needs efficient way to know if file in strapi is the same as it has locally - I wanted to achieve this using the hash but found out that it is not actually a hash. So for this use case I am fine with generating random filename for example with the UUID.\nSo I can modify my pull request to generate random filename and save hash to the database, but I thought that file deduplication is nice side-effect. But as I think about it - the delete button in administration deletes the file as well as the record in database, so if two files have same filename one deletes the other.\nI will send modified pull request which will save with random filename (using uuid), but provide stable hash in the API.. @Aurelsicoko Now it behaves same as previously but also has new field name sha256 which contains the hash.\nEDIT: not -> now. To clarify: by previously I mean before any changes I made. ",
    "xnfa": "You can remove node_modules in your project directory, and then run npm run setup to fix this problem.. ",
    "echappen": "I am also seeing this behavior in one of our models. Below is the current model schema.\nNode.js version: 8.11.1\nnpm version: 5.6.0\nStrapi version: 3.0.0-alpha.14.5\nDatabase: Postgres\nOperating system: Darwin 17.7.0\n```\n{\n  \"connection\": \"default\",\n  \"collectionName\": \"topics\",\n  \"info\": {\n    \"name\": \"topic\",\n    \"description\": \"\"\n  },\n  \"options\": {\n    \"increments\": true,\n    \"timestamps\": true,\n    \"comment\": \"\"\n  },\n  \"attributes\": {\n    \"title\": {\n      \"default\": \"\",\n      \"type\": \"string\",\n      \"maxLength\": 1000\n    },\n    \"body\": {\n      \"default\": \"\",\n      \"type\": \"text\",\n      \"maxLength\": 15000\n    },\n    \"slug\": {\n      \"default\": \"\",\n      \"unique\": true,\n      \"type\": \"string\",\n      \"required\": true,\n      \"maxLength\": 1000\n    },\n    \"a9_id\": {\n      \"default\": \"\",\n      \"unique\": true,\n      \"type\": \"integer\",\n      \"required\": true\n    },\n    \"content_id\": {\n      \"default\": \"\",\n      \"type\": \"integer\"\n    },\n    \"old_id\": {\n      \"default\": \"\",\n      \"unique\": true,\n      \"type\": \"integer\",\n      \"required\": true\n    },\n    \"description\": {\n      \"default\": \"\",\n      \"type\": \"text\",\n      \"maxLength\": 15000\n    },\n    \"banner_image_url\": {\n      \"default\": \"\",\n      \"maxLength\": 1000,\n      \"type\": \"string\"\n    },\n    \"tags\": {\n      \"collection\": \"tag\",\n      \"via\": \"topics\",\n      \"dominant\": true\n    },\n    \"related_topics\": {\n      \"collection\": \"topic\",\n      \"via\": \"topics\"\n    },\n    \"topics\": {\n      \"model\": \"topic\",\n      \"via\": \"related_topics\"\n    },\n    \"alternate_slugs\": {\n      \"collection\": \"alternateslugs\",\n      \"via\": \"topic\"\n    },\n    \"call_to_action\": {\n      \"default\": \"\",\n      \"maxLength\": 500,\n      \"type\": \"string\"\n    },\n    \"fact\": {\n      \"default\": \"\",\n      \"maxLength\": 1000,\n      \"type\": \"string\"\n    }\n  }\n}\n. @derrickmehaffy Re-ran the Strapi server using node v10.14.0 and got the same result. . ",
    "jeanmaried": "@derrickmehaffy I am using the latest version of Chrome. I am located in France but have my browser and strapi are set to US english. I know in France comas are used for decimals so maybe this has something to do with it. Something to do with internationalisation with react-intl maybe?. Correct. I am trying to type 1234.567 as I would be using this field for a USD$ price in my project.\nAs far as I remember, in France the coma and period are the opposite of the US. So 123,456,678.1234 in the US would be 123.456.678,1234 in France (or just spaces instead of the periods, not sure what is most common).. I will check it out when i get home tonight! Thank you @derrickmehaffy . @soupette I think you misunderstood me. I just want to be able to use periods for decimal separation. I'm not looking to do this 1.222,65. I want this: 1222.65 where . is the decimal separator.\nCurrently I can only use a coma to separate decimals. When I hit the period it replaces everything with 0. Shouldn't the period be the standard for decimals separation?. @derrickmehaffy When I change Strapi Admin UI to french it still does it. I have my browser language set to US english.. I haven\u2019t made any changes to the admin. I\u2019m going to attempt another install on my work Mac in a little bit.\nI found this which seems to describe my issue as being a problem with React/Chrome:\nhttps://github.com/facebook/react/issues/7253. Ah... i figured out. I had to change my country settings in my Mac, not my browser. That's why both my personal and work Mac had the same behavior. The really buggy behavior when typing a period with my region set to France really threw me off!. ",
    "mmichelli": "Enum also breaks if you use special characters, \u00f8\u00e6\u00e5 \n. Any attribute with a space breaks the plugin . ",
    "MrLoh": "Hi we also just ran into the Cannot read property 'policy' of null error. We are on \"strapi\": \"3.0.0-alpha.14\" but somehow this fix is not applied in our codebase? Am I missing something? . ",
    "solomia44": "Hi I'm also having this issue, using strapi 3.0.0-alpha.24.1 \nNot sure if it's due to authorisation, which is now all correct, or deletion of a file which is affecting the mongo database\nCan you let me know how to fix this? . ",
    "rickerd": "Have you checked the public role in strapi and giving it permissions for the specific models. Login to the admin.\n\"Roles & Permissions\" -> \"Public\" -> \"Permissions\" and here you'll see the types you've created.. I think the auth to the MongoDB server isn't correct than.. ",
    "marianomoretti": "Hey @rickerd. Sorry, I'm new on Strapi. Where I can find that or read about that? Thanks!. Oh, maybe I wasn't clear, but the app doesn't start. I have that error when I run strapi start. Strapi is running on my host, and mongo is running on a (docker container)[https://hub.docker.com/_/mongo/]. I could connect to the same mongo using a clean js file with mongoose. \n```\nvar mongoose = require('mongoose');\nmongoose.connect('mongodb://0.0.0.0:27017/test');\nvar db = mongoose.connection;\ndb.on('error', console.error.bind(console, 'connection error:'));\ndb.once('open', function() {\n  console.log('connected')\n});\n///console.log -> connected\n```\nI pasted you this code just to let you know that I could connect to that mongo. . Hi @rickerd and @derrickmehaffy .\nWell, I was able to start strapi, and the problem wasn't on it. I was using a docker compose that enable auth in mongo passing two env vars. When mongo has enabled the auth, the error that I posted here happens. \nThanks for your help! I will close this ticket. :) . ",
    "sdubrez": "Did you try to give some permissions to Public group on the Users Permissions plugin ?\nRole & Permission > Public > Users-Permissions > User > Find\nhttps://i.gyazo.com/8698a0e01fd49eb95ff8d3ad0e711507.png. @derrickmehaffy I spoke to @pierreburgy directly on slack, yes.. I was doin't it the wrong way. It seems that we can't update the array of relation directly.\nInstead, we have to update the linked attribute of each many model. Here we will have to update the room attribute of client to remove or add client in a specific room.. ",
    "hvmk": "Hi @derrickmehaffy ,\nThank you for informing.. ",
    "findorf": "ok, thats why the validation of decimal works and date dont.\nThanks.. ",
    "fisher08": "This bug still occurs in version 3.0.0-alpha.13.1. . ",
    "avdeyev": "Version 3.0.0-alpha.14.1.1\nBug still occurs.. ",
    "jckw": "Shouldn't this be a high priority issue? Many to Many fields are completely unusable until this is solved.. ",
    "mindgrub-rkoch": "Thanks.\nI read through what documentation was there, and did some experimenting. It seems as though you can modify responses only if the key exists on the model before-hand. It's not an ideal situation, but it could work for smaller sets of data.\nPreferably, you should be able to modify the response by inserting/removing any key/value pairs necessary, without having to first add the key to the model schema.. I believe I'm using mongoose as I am using a MongoDB.. ",
    "sefasaid": "i need help with this to. i cant find an example for afterFetchAll and i cant modify reponse. I write this code but i cant modify the result\nafterFetchAll: async (model, result) => {\n      result.map(post => {\n        console.log(post);\n        post.me = true;\n        return post;\n      })\n    },\nhow can i modify the result? Can you send one example that i can understand please. ",
    "caseyrule": "This is currently the primary reason I have not yet adopted strapi.  I know this seems somewhat trivial, but it makes a huge difference for the usability of this platform.. ",
    "dougludlow": "@lauriejim Can this issue be reopened? I followed the issue you you referenced (#1139), which was closed, and the subsequent issue that was referenced (#2097), which deals with an issue unrelated to this request. \nAs with @caseyrule, the lack of this feature is a blocker for me (and my organization) from fully embracing strapi because the way models (with multiple words) are displayed in the admin UI won\u2019t ever make sense to the average user. \nIdeally they would display with spacing instead of pascal or camel case, but I could settle with anything that isn\u2019t all lowercase with only the first letter uppercase. \nA concreate example of this is when I create a model with a name like MyAwesomeModel and then throughout the entire UI I see either Myawesomemodel or Myawesomemodels, when I would expect to see My Awesome Models or at least MyAwesomeModels. . Other related issues (closed): #1168, #661\n661 was closed in favor of #1359, which is now complete, but I still don\u2019t see anything to address this issue. . @derrickmehaffy thanks! That makes sense. It\u2019s unfortunate timing for us as we\u2019re in the process of evaluating different headless CMS\u2019s and strapi was one the top of our list, but at this point I can\u2019t recommend it as a solution in its current state. Thanks again for the explanation and refencences!.",
    "bts94": "Any idea when we'll see a new release with it?. ",
    "millette": "Oups, I missed previous responses. I was probably wrong, I haven't dived into strapi as much as I'd like yet. Sorry if I caused any confusion.\nBonne journ\u00e9e!. ",
    "sundaycrafts": "I think strapi-generate-new actually depends on connectivity.js in strapi-hook-mongoose but its package.json doesn't declare.\nSo I suggest duplicating connectivity.js into strapi-generate-new package.\nThen it will becomes more clearly dependency relationship.\nPlease give me some advice\ud83d\ude4f. Hi @lauriejim. Thank you for review!\nOh sorry, I did a mistake. I had cleaned up code by following prettierrc.js in strapi-lint!. @soupette Oh, I'm sorry I'll check the code to fix it in this weekend!. Thank you!!!. Hi @lauriejim. I made sense!\nI'm sorry to make you suffer to review in this pull request\u2026\nI will make it separately for next time!\nThank you for your review.. @lauriejim Sure! Thank you for your review.\nI will revert some lines doesn't depend on this pull request.\nThen I open another pull request.. Ok, I did it!\nI feel so good for Monorepo design \ud83d\udc4d. Oh, it's my mistake. Thank you!\nI fixed it!. Hi @gianniskarmas . It seems doesn't wrong.\nPlease check it:\n1. Have you registered your global IP address into cluster whitelist? If you already add your IP address in there, please try \u201cALLOW ACCESS FROM ANYWHERE\u201d in Atlas.\n2. Can you access the DB from Compass?\n3. Does that user have read/write permission of that DB?\n4. Does your network connection be stable?. @gianniskarmas Well, I'm also using atlas at the latest version, but I have been encountered the error yet. So I'm sorry I can't solve your issue.\nPlease check the contributing guide to debug Strapi. It's the recommended way to debug. After setupped that, your new project modules made with --dev flag will link to cloned repository.\nAlternatively, you can find and edit the code directly from YOUR_PROJECT/node_modules/strapi-hook-mongoose in this case.\nFYI, I'm debugging the code with VS Code. It can set a breakpoint.. @gianniskarmas Ok, I make sense!\nPlease try to set breakpoint or console.log() and check error.message on there.\nAnd if that code doesn't throw any errors, please check around the error message on this file.. @pierreburgy Hi! My answer is Yes. I think you can't connect URL having +srv without dbName. Could you try it yourself if you have time?\n\nSpecifies which database to connect to and overrides any database specified in the connection string. If you're using the mongodb+srv syntax to connect to MongoDB Atlas, you should use dbName to specify the database because you currently cannot in the connection string.\n\nhttps://mongoosejs.com/docs/connections.html\nI guess here is a related issue https://github.com/Automattic/mongoose/issues/6881.. Hi @lauriejim .\nI had resolved conflict and revert beautify commit because the last commit 04902d2 has logic changes.. Hi @goras . I tried it in same environment.\nI think your issue does not depend on Strapi, it is mlab's trait.\nYou have to set database name to Authentication database:.\nFor example, auth DB is sandbox in this picture\ud83d\udc4d\n\nPlease tell me if it still not working in your environment.. Oh, I see. I used MongoDB only via docker container or some IaaS like mlab. So I didn't know MongoDB can use without auth\ud83d\ude32.\nAnd I had realized if it has default auth value the user who doesn't need to authenticate will confuse.\nSo I withdraw this pull request.\n@maturanomx Thank you awesome advice!. By the way, how about it just adding a hint?\nDoes it not improve the beginner user experience? \ud83e\udd14\nPlease give me some advice\ud83d\ude4f. Thank you! I fixed it!. Maybe related issue #1892.. How about the port number is correct?\nOr can you connect to the DB from other clients like Robo 3T or Compass or mongo shell?. Thank you for your report! But I'm sorry I can't detect the problem.\nIf you have some time, please try to edit the module source code directly and get error full message.\nStrapi may throw error from this line. Just inject console.log(error). You can access this file from node_modules/strapi-hook-mongoose in your project (it may be link).. ",
    "danielehrhardt": "@soupette check out https://github.com/strapi/strapi/issues/1770 he created a more detailed ticket. Can confirm this. Thank you @sbastias . @MartinMuzatko Why did you closed the Ticket?. @MartinMuzatko could you please check the Question from derrickmehaffy. It is still not working.. @lauriejim \nhttps://drive.google.com/file/d/1XHQ0OuGm-j4dLO8JgCakxSWeYw1b4m6L/view\nWe have the same behavior with the API. Yes I tested with Alpha 14 and with a new Setup.\nI am using Windows 10. . it works with mac osx. This is extreme wried. . Thank you @NickBolles !!!. rimraf is a nice tool. It is working fine on my Windows and Mac Machine.. I think we should change rimraf to npx rimraf . ",
    "ThiagoMiranda": "I've discovered that you need to run both the npm start inside the /admin folder and the \"main server\" with strapi start.\nThanks. ",
    "ganeshkbhat": "I am just getting started with strapi and seems like Array data type is missing. what is the recommended way currently to handle array of values in a schema (especially that is coming from a different collection)? This seems like a stopper for me. Have looked at this https://stackoverflow.com/questions/38305154/why-enum-does-not-store-multiple-values-in-mysql and https://github.com/strapi/strapi/issues/1561 . Both many-to-many and one-to-many might not really help here since I am looking a multiple/few items (set) in a field (not collection) coming from a different collection. I am will to work on a pull request if there is some head way, though I am new to strapi structure yet.. ",
    "andreundefined": "I understand now that I read the guide, but the official documentation leads to user confusion in this topic. One can assume that the contributing guide is for contributors, or people who wish to help in strapi's development, not for internal local changes. I could help with a PR to update the documentation if it helps future users, anyways thanks for the help.. The response happens with any query:\nquery {\n    categories {\n       name\n   }\n}. Ok, it seems it has to do with the parameter instrospection been false on production builds. This should be documented, or we could add it as an option in packages/strapi-plugin-graphql/config/settings.json. Shall I close this issue?. ",
    "reutopiaer": "@derrickmehaffy 'strapi generate:api -t bookshelf' works\nThank you very much!\nps: Strapi is awesome! You did a god job!. @derrickmehaffy thanks for your reply!\n1. I have tried the latest version (v18), but still have problems.\n2. I deploy my app to ubuntu server 18.04, but still have problems.\n3.  I have tried Nginx, it's works \nMay be caused by  koa-proxies, but  request aborted by strapi :(  . ",
    "zeroby0": "Thanks @lauriejim :)\nShould I keep the issue open so you can track feature requests, or shall I close it?. ",
    "takahiro-yonei": "I really appreciate if there is any update.\nIs there any update?\nThank you always for great works!. ",
    "jonlov": "@lauriejim great to know! Thanks!. ",
    "giona69": "I report the same bug\nit doesn't work on macos x locally and on a linux (amazon image) deployed build.\nInformations\n- Node.js version: 10.14.1\n- NPM version: 6.4.1\n- Strapi version: alpha.19\n- Database: mysql\n- Operating system: macosx mojave\nWhat is the current behavior?\nI added a content type with a media field with \"Allow multiple files\" enabled. \nWhile when I edit a content I can add multiple files, and they are correctly uploaded, after I save I can see only one content (1/1), abnd when I query them I see only one content.  \nSteps to reproduce the problem\nadded a new content type with a media field and \"Allow multiple files\" enabled.\nadd a content item in that content type.\nadd two medias.\nsave.\nedit again that content item.\nverify that we have only one media attached now.\nWhat is the expected behavior?\nadded a new content type with a media field and \"Allow multiple files\" enabled.\nadd a content item in that content type.\nadd two medias.\nsave.\nedit again that content item.\nverify that we have two media attached now.. I have the same problem but with:\nDatabase: mysql\nOperating system: macosx\n. alpha 21 version. With alpha 22?\nI\u2019m trying to upgrade now . I just upgraded to alpha.22 and now it is working on my side \ud83d\udc4d . maybe this is on postgres? I tried with mysql & sqllite and it works, both with a scratch project and upgrding an existing project on my side. no in effect doesn't work in sqllite too here is an example scratch https://github.com/giona69/strapi.22. ok I got it, one-to-many is working, and many-to-many still not working. also we have this bug open too https://github.com/strapi/strapi/issues/2771 so for the moment as for alpha.22 graphql is not usable. last version that I can use is alpha.19. hi guys any news on this?. @derrickmehaffy I tried both, with and without. @derrickmehaffy going back to alpha.19 it still works ... just if you need to go on with your own stuff. hey guys any news? this is a quite important feature .... ",
    "kapik": "@derrickmehaffy All fields in the groups are standard but you can repeat the group as many times as you want.\nWe can't have this kind of fields (group) with Strapi (or maybe I missed something).. @derrickmehaffy of course :) I think I understood your misunderstanding.\nI did an exemple on Prismic: I would like to have a content type to explain how to assembly something.\nSo my main content type is called: \"assembly instructions\" (like blog post).\nThis is the definition of this type: \n\n\nTitle of this assembly instructions\nDescription of this assembly instructions\nStep who contains title, description and image => This group of fields is repeatable\n\nAnd if I create a new \"assembly instructions\" (like a new post article), I can have several step.\nLike this: \n\nI hope my explanations are clear.\nDo you understand ? \ud83d\ude03 \nThis kind of behaviors is not possible with Strapi I think. @derrickmehaffy I understand your point. But in this case, we considere that each step can be reused and the main model is friendlyless (because we have to create each step separately).. @derrickmehaffy I have tested with Strapi and you right, we can do this but it take long time and there is to much navigation steps.\nThx @lauriejim \ud83d\ude42  I am following this feature with great attention \ud83d\ude80 \n. ",
    "smakman": "Board says Q1 2019, any specific release date planned?. ",
    "jamesgorrie": "@Aurelsicoko this is a really important feature - when the work starts, is it going to be internal, or will there be input from the community required?. ",
    "creativeesprit": "@peckhouse and @JelaniThompson not sure if you managed to solve this, but my scenario/solution was the following (please note I'm using Strapi v3.0.0-alpha.14):\nI have Page and Contentblock content types where a Page has many Contentblock's. Therefore I updated the fetchAll method in api/page/services/Page.js only. This file now looks like the following:\nfetchAll: (params) => {\n    const filters = strapi.utils.models.convertParams('page', params);\n    return Page\n      .find()\n      .where(filters.where)\n      .sort(filters.sort)\n      .skip(filters.start)\n      .limit(filters.limit)\n      .populate([{\n        path: 'image' \n      }, {\n        path: 'contentblocks',\n        populate: {\n          path: 'images'\n        }\n      }]);\n  },\nWhere path: 'contentblocks' is the pluralised name of the related content type and images is the field name inside Contentblock.\nPlease note that in my example I required that .populate be an array as I had another relation  (image) in my Page content type. If no other relation exists in yours, you can simple use:\n.populate({\n        path: 'contentblocks',\n        populate: {\n          path: 'images'\n        }\n  })\nHope this helps.\n. @Kinark I'd need a bit more info. As I understand Screenshots MediaKit press rewards GamesListCover GameCover Logo are all media fields of Game.js. If that's the case, which related content type are you trying to pull in and what media fields do they have?\nThanks\n. Ok, try the following:\n``\nfetchAll: (params) => {\n  // Convertparams` object to filters compatible with Mongo.\n  const filters = strapi.utils.models.convertParams('game', params);\nreturn Game\n    .find()\n    .where(filters.where)\n    .sort(filters.sort)\n    .skip(filters.start)\n    .limit(filters.limit)\n    .populate([{\n       path: 'Screenshots'\n     }, {\n       path: 'MediaKit',\n     }, {\n       path: 'GamesListCover',\n     }, {\n       path: 'GameCover',\n     }, {\n       path: 'Logo'\n     }, {\n       path:  'press'\n     }, {\n       path: 'rewards',\n       populate: {\n          path: 'Badge'\n       }\n     }]);\n},\n`` \nThe reason the original Strapi code has theconst populateis to combine these in one go instead of having to have all those objects, however it doesn't pull in related media types (the problem everyone is having).  Thinking about it, you can try having two.populate()`'s. Haven't tested but that'd look like:\n``\nfetchAll: (params) => {\n  // Convertparams` object to filters compatible with Mongo.\n  const filters = strapi.utils.models.convertParams('game', params);\n  // Select field to populate.\n  const populate = Game.associations\n    .filter(ast => ast.autoPopulate !== false)\n    .map(ast => ast.alias)\n    .join(' ');\n  return Game\n    .find()\n    .where(filters.where)\n    .sort(filters.sort)\n    .skip(filters.start)\n    .limit(filters.limit)\n    .populate(populate)\n    .populate({\n        path: 'rewards',\n        populate: {\n           path: 'Badge'\n        }\n     });\n},\n```\nI don't know enough about mongo to know whether that'd work, but worth a go.\n. @Kinark No probs!\nGlad it worked.. ",
    "nicfitzgerald": "\n@peckhouse and @JelaniThompson not sure if you managed to solve this, but my scenario/solution was the following (please note I'm using Strapi v3.0.0-alpha.14):\nI have Page and Contentblock content types where a Page has many Contentblock's. Therefore I updated the fetchAll method in api/page/services/Page.js only. This file now looks like the following:\nfetchAll: (params) => {\n    const filters = strapi.utils.models.convertParams('page', params);\n    return Page\n      .find()\n      .where(filters.where)\n      .sort(filters.sort)\n      .skip(filters.start)\n      .limit(filters.limit)\n      .populate([{\n        path: 'image' \n      }, {\n        path: 'contentblocks',\n        populate: {\n          path: 'images'\n        }\n      }]);\n  },\nWhere path: 'contentblocks' is the pluralised name of the related content type and images is the field name inside Contentblock.\nPlease note that in my example I required that .populate be an array as I had another relation (image) in my Page content type. If no other relation exists in yours, you can simple use:\n.populate({ path: 'contentblocks', populate: { path: 'images' } })\nHope this helps.\n\nI was having a similar issue - and this fixed it right away. SUPER helpful. Thank you.. ",
    "AndroAmater": "Hey guys,\nHas anyone found a workaround with bookshelf? Any help would be greatly appreciated.. ",
    "dennieljoshua": "Hello, I'm interested in creating a PR for this issue. It's my first time contributing on opensource so can you give me some guidance for this issue? \ud83d\ude38 . Thanks @lauriejim I'll test things out after work tomorrow, I'll comment here again if I need further help.. Hello @lauriejim I have added provider attribute to User.settings.json of User and Permissions plugin. But for some reason if I log the this._attributes with in the create function of Content Manager's mongoose.js file the provider attribute is not there. Do i need to run some commands for Content Manager to pickup my updated User Model?. ",
    "ballerabdude": "@lauriejim @dennieljoshua I am also running into this issue. I am using facebook login. When the user is created I can see the provider attribute being set in the param. The issue is this._attributes does not get the latest from the User.settings.json. Also, the content builder is able to create the field but it disappears.\nplugins/users-permissions/config/queries/mongoose.js line 34 -> this is in charge of creating the user model. It loops through all of the params and sets based on \"this._attributes\". If the provider attribute is not there it will not save it. I am trying to find where in the code it sets that field so that I can debug why it's not getting the latest. \nMy workaround is to not use the provider field.\nplugins/users-permissions/services/Providers.js > line 65 I commented it out and added a fix under it.\n65:        // const user = _.find(users, {provider});\n66:        const user = users[0] || [];. Also, this is for any field you try to add to User.settings.json. I have a feeling that a default is being set and its not reading from the correct place.\nnode_modules/strapi/lib/Strapi.js line 339 -> This is incharge of setting the attrubutes but it seems to be getting that info like this and I could trace it any further.\n346:    const Model =\n               get(strapi.plugins, [plugin, 'models', model]) || get(strapi, ['models', model]) || undefined;\n. ",
    "MirkoVentura": "Hi @lauriejim I tried now and it does not work i post you a screen of my settings\n\n. hear it is for production\n\n. ",
    "frodoe7": "I'm facing this same issue\nwhat's the updates please?. ",
    "Thuan2000": "I'm facing this same issue\nUbuntu server 16.04. ",
    "rijn": "Seems like a bug in the upload plugin. If you go to the table core_store in the db and found the following item\n17,plugin_upload_provider,\"{\"\"enabled\"\":true,\"\"sizeLimit\"\":1000}\",object,production,\"\"\nprovider: local is missing from the schema. Can simply fix by updating the value to\n{\"enabled\":true,\"provider\":\"local\",\"sizeLimit\":1000}. ",
    "kpasargad": "I'm having the same issue.. ",
    "roghernandez": "I'm having this issue too, any ideas on what might be causing it? I tried reinstalling Strapi and the upload plugin. > @mnlbox the fix I made should also fix #1271.\n\n@Dogtiti there's a PR open #2229 until this is released you can just take the code and run the following command at the root of your project npm run setup your app should work properly after that.\n\nHey @soupette :) \nI'm running \nnode v11.1.0\nstrapi 3.0.0-alpha.14.4.0 \nMac OSX 10.14.1 here,\nWhen I run npm run setup and start the server again, I'm still not seeing that newly created content type.. Have been experiencing this issue as well. ",
    "amit-deligence": "@derrickmehaffy ok, just ignore my above code , please just explain me with example that how i can upload image from client side to a particular content type row with another fields. because i couldn't found  it on  strapi doc.. @derrickmehaffy This is not enough for my task. My task is  how i can upload image from client side to a particular content type row with another fields.. ",
    "sjorquera": "I had the same problem on windows. After searching for a lot of solutions, finally I catch the error: My Windows sesion had a space in the middle of the name. After fix that, the installation works. ",
    "rezof": "just realized it's a premium plugin. ",
    "caoer": "yeah, confirmed too that mysql with uuid column does not work.. @derrickmehaffy I can confirm that it is also not working in node 10.4.1, npm 6.1\n```\n\u279c strapi new myYproject\n\ud83d\ude80 Start creating your Strapi application. It might take a minute, please take a coffee \u2615\ufe0f\nLets configurate the connection to your database:\n? Choose your main database: MongoDB (recommended)\n? Database name: myYproject\n? Host: 127.0.0.1\n? +srv connection: false\n? Port (It will be ignored if you enable +srv): 27017\n? Username:\n? Password:\n? Authentication database (Maybe \"admin\" or blank):\n? Enable SSL connection: false\n\u23f3 Testing database connection...\nThe app has been connected to the database successfully!\n\ud83c\udfd7  Application generation:\n\u2714 Copy dashboard\n\u26a0 An error occurred during settings-manager plugin installation.\n{ Error: Command failed: node /Users/caoer115/.nvm/versions/node/v10.4.1/lib/node_modules/strapi/bin/strapi.js install settings-manager\nusage: mkdir [-pv] [-m mode] directory ...\nShellJS: internal error\nError: ENOENT: no such file or directory, open './plugins/settings-manager/package.json'\n    at Object.fs.openSync (fs.js:579:3)\n    at touchFile (/Users/caoer115/.nvm/versions/node/v10.4.1/lib/node_modules/strapi/node_modules/shelljs/src/touch.js:67:19)\n    at /Users/caoer115/.nvm/versions/node/v10.4.1/lib/node_modules/strapi/node_modules/shelljs/src/touch.js:46:5\n    at Array.forEach ()\n    at Object._touch (/Users/caoer115/.nvm/versions/node/v10.4.1/lib/node_modules/strapi/node_modules/shelljs/src/touch.js:45:9)\n    at Object.touch (/Users/caoer115/.nvm/versions/node/v10.4.1/lib/node_modules/strapi/node_modules/shelljs/src/common.js:399:25)\n    at Command.module.exports (/Users/caoer115/.nvm/versions/node/v10.4.1/lib/node_modules/strapi/bin/strapi-install.js:65:13)\n    at Command.listener (/Users/caoer115/.nvm/versions/node/v10.4.1/lib/node_modules/strapi/node_modules/commander/index.js:315:8)\n    at Command.emit (events.js:182:13)\n    at Command.EventEmitter.emit (domain.js:442:20)\nat ChildProcess.exithandler (child_process.js:291:12)\nat ChildProcess.emit (events.js:182:13)\nat ChildProcess.EventEmitter.emit (domain.js:442:20)\nat maybeClose (internal/child_process.js:961:16)\nat Process.ChildProcess._handle.onexit (internal/child_process.js:248:5)\n\nkilled: false,\n  code: 1,\n  signal: null,\n  cmd:\n   'node /Users/caoer115/.nvm/versions/node/v10.4.1/lib/node_modules/strapi/bin/strapi.js install settings-manager ' }\n\u26a0 An error occurred during content-type-builder plugin installation.\n{ Error: Command failed: node /Users/caoer115/.nvm/versions/node/v10.4.1/lib/node_modules/strapi/bin/strapi.js install content-type-builder\nusage: mkdir [-pv] [-m mode] directory ...\nShellJS: internal error\nError: ENOENT: no such file or directory, open './plugins/content-type-builder/package.json'\n    at Object.fs.openSync (fs.js:579:3)\n    at touchFile (/Users/caoer115/.nvm/versions/node/v10.4.1/lib/node_modules/strapi/node_modules/shelljs/src/touch.js:67:19)\n    at /Users/caoer115/.nvm/versions/node/v10.4.1/lib/node_modules/strapi/node_modules/shelljs/src/touch.js:46:5\n    at Array.forEach ()\n    at Object._touch (/Users/caoer115/.nvm/versions/node/v10.4.1/lib/node_modules/strapi/node_modules/shelljs/src/touch.js:45:9)\n    at Object.touch (/Users/caoer115/.nvm/versions/node/v10.4.1/lib/node_modules/strapi/node_modules/shelljs/src/common.js:399:25)\n    at Command.module.exports (/Users/caoer115/.nvm/versions/node/v10.4.1/lib/node_modules/strapi/bin/strapi-install.js:65:13)\n    at Command.listener (/Users/caoer115/.nvm/versions/node/v10.4.1/lib/node_modules/strapi/node_modules/commander/index.js:315:8)\n    at Command.emit (events.js:182:13)\n    at Command.EventEmitter.emit (domain.js:442:20)\nat ChildProcess.exithandler (child_process.js:291:12)\nat ChildProcess.emit (events.js:182:13)\nat ChildProcess.EventEmitter.emit (domain.js:442:20)\nat maybeClose (internal/child_process.js:961:16)\nat Process.ChildProcess._handle.onexit (internal/child_process.js:248:5)\n\nkilled: false,\n  code: 1,\n  signal: null,\n  cmd:\n   'node /Users/caoer115/.nvm/versions/node/v10.4.1/lib/node_modules/strapi/bin/strapi.js install content-type-builder ' }\n\u26a0 An error occurred during content-manager plugin installation.\n{ Error: Command failed: node /Users/caoer115/.nvm/versions/node/v10.4.1/lib/node_modules/strapi/bin/strapi.js install content-manager\nusage: mkdir [-pv] [-m mode] directory ...\nShellJS: internal error\nError: ENOENT: no such file or directory, open './plugins/content-manager/package.json'\n    at Object.fs.openSync (fs.js:579:3)\n    at touchFile (/Users/caoer115/.nvm/versions/node/v10.4.1/lib/node_modules/strapi/node_modules/shelljs/src/touch.js:67:19)\n    at /Users/caoer115/.nvm/versions/node/v10.4.1/lib/node_modules/strapi/node_modules/shelljs/src/touch.js:46:5\n    at Array.forEach ()\n    at Object._touch (/Users/caoer115/.nvm/versions/node/v10.4.1/lib/node_modules/strapi/node_modules/shelljs/src/touch.js:45:9)\n    at Object.touch (/Users/caoer115/.nvm/versions/node/v10.4.1/lib/node_modules/strapi/node_modules/shelljs/src/common.js:399:25)\n    at Command.module.exports (/Users/caoer115/.nvm/versions/node/v10.4.1/lib/node_modules/strapi/bin/strapi-install.js:65:13)\n    at Command.listener (/Users/caoer115/.nvm/versions/node/v10.4.1/lib/node_modules/strapi/node_modules/commander/index.js:315:8)\n    at Command.emit (events.js:182:13)\n    at Command.EventEmitter.emit (domain.js:442:20)\nat ChildProcess.exithandler (child_process.js:291:12)\nat ChildProcess.emit (events.js:182:13)\nat ChildProcess.EventEmitter.emit (domain.js:442:20)\nat maybeClose (internal/child_process.js:961:16)\nat Process.ChildProcess._handle.onexit (internal/child_process.js:248:5)\n\nkilled: false,\n  code: 1,\n  signal: null,\n  cmd:\n   'node /Users/caoer115/.nvm/versions/node/v10.4.1/lib/node_modules/strapi/bin/strapi.js install content-manager ' }\n\u26a0 An error occurred during users-permissions plugin installation.\n{ Error: Command failed: node /Users/caoer115/.nvm/versions/node/v10.4.1/lib/node_modules/strapi/bin/strapi.js install users-permissions\nusage: mkdir [-pv] [-m mode] directory ...\nShellJS: internal error\nError: ENOENT: no such file or directory, open './plugins/users-permissions/package.json'\n    at Object.fs.openSync (fs.js:579:3)\n    at touchFile (/Users/caoer115/.nvm/versions/node/v10.4.1/lib/node_modules/strapi/node_modules/shelljs/src/touch.js:67:19)\n    at /Users/caoer115/.nvm/versions/node/v10.4.1/lib/node_modules/strapi/node_modules/shelljs/src/touch.js:46:5\n    at Array.forEach ()\n    at Object._touch (/Users/caoer115/.nvm/versions/node/v10.4.1/lib/node_modules/strapi/node_modules/shelljs/src/touch.js:45:9)\n    at Object.touch (/Users/caoer115/.nvm/versions/node/v10.4.1/lib/node_modules/strapi/node_modules/shelljs/src/common.js:399:25)\n    at Command.module.exports (/Users/caoer115/.nvm/versions/node/v10.4.1/lib/node_modules/strapi/bin/strapi-install.js:65:13)\n    at Command.listener (/Users/caoer115/.nvm/versions/node/v10.4.1/lib/node_modules/strapi/node_modules/commander/index.js:315:8)\n    at Command.emit (events.js:182:13)\n    at Command.EventEmitter.emit (domain.js:442:20)\nat ChildProcess.exithandler (child_process.js:291:12)\nat ChildProcess.emit (events.js:182:13)\nat ChildProcess.EventEmitter.emit (domain.js:442:20)\nat maybeClose (internal/child_process.js:961:16)\nat Process.ChildProcess._handle.onexit (internal/child_process.js:248:5)\n\nkilled: false,\n  code: 1,\n  signal: null,\n  cmd:\n   'node /Users/caoer115/.nvm/versions/node/v10.4.1/lib/node_modules/strapi/bin/strapi.js install users-permissions ' }\n\u26a0 An error occurred during email plugin installation.\n{ Error: Command failed: node /Users/caoer115/.nvm/versions/node/v10.4.1/lib/node_modules/strapi/bin/strapi.js install email\nusage: mkdir [-pv] [-m mode] directory ...\nShellJS: internal error\nError: ENOENT: no such file or directory, open './plugins/email/package.json'\n    at Object.fs.openSync (fs.js:579:3)\n    at touchFile (/Users/caoer115/.nvm/versions/node/v10.4.1/lib/node_modules/strapi/node_modules/shelljs/src/touch.js:67:19)\n    at /Users/caoer115/.nvm/versions/node/v10.4.1/lib/node_modules/strapi/node_modules/shelljs/src/touch.js:46:5\n    at Array.forEach ()\n    at Object._touch (/Users/caoer115/.nvm/versions/node/v10.4.1/lib/node_modules/strapi/node_modules/shelljs/src/touch.js:45:9)\n    at Object.touch (/Users/caoer115/.nvm/versions/node/v10.4.1/lib/node_modules/strapi/node_modules/shelljs/src/common.js:399:25)\n    at Command.module.exports (/Users/caoer115/.nvm/versions/node/v10.4.1/lib/node_modules/strapi/bin/strapi-install.js:65:13)\n    at Command.listener (/Users/caoer115/.nvm/versions/node/v10.4.1/lib/node_modules/strapi/node_modules/commander/index.js:315:8)\n    at Command.emit (events.js:182:13)\n    at Command.EventEmitter.emit (domain.js:442:20)\nat ChildProcess.exithandler (child_process.js:291:12)\nat ChildProcess.emit (events.js:182:13)\nat ChildProcess.EventEmitter.emit (domain.js:442:20)\nat maybeClose (internal/child_process.js:961:16)\nat Process.ChildProcess._handle.onexit (internal/child_process.js:248:5)\n\nkilled: false,\n  code: 1,\n  signal: null,\n  cmd:\n   'node /Users/caoer115/.nvm/versions/node/v10.4.1/lib/node_modules/strapi/bin/strapi.js install email ' }\n\u26a0 An error occurred during upload plugin installation.\n{ Error: Command failed: node /Users/caoer115/.nvm/versions/node/v10.4.1/lib/node_modules/strapi/bin/strapi.js install upload\nusage: mkdir [-pv] [-m mode] directory ...\nShellJS: internal error\nError: ENOENT: no such file or directory, open './plugins/upload/package.json'\n    at Object.fs.openSync (fs.js:579:3)\n    at touchFile (/Users/caoer115/.nvm/versions/node/v10.4.1/lib/node_modules/strapi/node_modules/shelljs/src/touch.js:67:19)\n    at /Users/caoer115/.nvm/versions/node/v10.4.1/lib/node_modules/strapi/node_modules/shelljs/src/touch.js:46:5\n    at Array.forEach ()\n    at Object._touch (/Users/caoer115/.nvm/versions/node/v10.4.1/lib/node_modules/strapi/node_modules/shelljs/src/touch.js:45:9)\n    at Object.touch (/Users/caoer115/.nvm/versions/node/v10.4.1/lib/node_modules/strapi/node_modules/shelljs/src/common.js:399:25)\n    at Command.module.exports (/Users/caoer115/.nvm/versions/node/v10.4.1/lib/node_modules/strapi/bin/strapi-install.js:65:13)\n    at Command.listener (/Users/caoer115/.nvm/versions/node/v10.4.1/lib/node_modules/strapi/node_modules/commander/index.js:315:8)\n    at Command.emit (events.js:182:13)\n    at Command.EventEmitter.emit (domain.js:442:20)\nat ChildProcess.exithandler (child_process.js:291:12)\nat ChildProcess.emit (events.js:182:13)\nat ChildProcess.EventEmitter.emit (domain.js:442:20)\nat maybeClose (internal/child_process.js:961:16)\nat Process.ChildProcess._handle.onexit (internal/child_process.js:248:5)\n\nkilled: false,\n  code: 1,\n  signal: null,\n  cmd:\n   'node /Users/caoer115/.nvm/versions/node/v10.4.1/lib/node_modules/strapi/bin/strapi.js install upload ' }\n\ud83d\udc4c Your new application myYproject is ready at /Users/caoer115/Documents/Projects/yicai/sales-bot/webs/backend/adlfjs/myYproject.\n\u26a1\ufe0f Change directory:\n$ cd myYproject\n\u26a1\ufe0f Start application:\n$ strapi start\n```. and it success with node 10.11.0. > The options key on the model-json states.\n\nidAttribute: This tells the model which attribute to expect as the unique identifier for each database row (typically an auto-incrementing primary key named 'id').\nidAttributeType: Data type of idAttribute, accepted list of value bellow:\n\nregarding the first issue, I can totally live with not changing the name of the primary key! but in the latest documentation. it provides such option to change idAttribute, if we do not support it, probably should not put it in the documentation, or put a warning notice...\n\nCould you provide us an step by step to reproduce in the most simple way?; One-to-one relation maybe?. Would be a lot of help.\n\nfor 2 & 3. they are pretty much the same:\n   * create a new application, with database type postgres\n   * create a data model duck with a attribute name as string\n   * set idAttributeType to uuid\n   * try add one entry, it should works fine. \n   * modify the model, add a relationship to User, one to one (issue 2), or one to many (issue 3, user has many ducks)\n   * save the modification to the model \n   * try add any new entry, via admin panel, or api, error throws.\nfor 4. \n   * create a new application\n   * before application starts, we can see empty database with not table being created. \n   * set idAttributeType to uuid for User in 'users-permissions' plugin. \n   //User.setting.json\n       \"options\": {\n         \"idAttributeType\": \"uuid\"\n       },\n   * not able to start the application\n. ",
    "MaSydJun": "Not sure if my following comment is qualified for this issue, if not feel free to delete it.\nSince I wanted to use UUIDs as primary key for all my tables in strapi as well, I was able to achieve this as follows:\n\n\nTell your model to use uuid type for the pk column:\nfile \"ModelName.settings.json\":\n...\n  \"options\": {\n    \"idAttributeType\": \"uuid\"\n  },\n...\n\n\nUse the beforeCreate hook to generate a random uuid to use as pk:\nfile \"ModelName.json\":\n```\n'use strict';\n\n\nconst uuid = require('uuid');\nmodule.exports = {\n  beforeCreate: async (model) => {\n    model.set('id', uuid());\n  }\n};\n```\nNow this works for me using a plain and simple SQLite database. However it would be 100 times more comfortable if setting  idAttributeType to uuid would be already enough to tell strapi to generate a uuid for each new record by it self.\nI'm pretty sure you guys already know there's a plugin for bookshelf called bookshelf-uuid.\nIf I'm right, this should be pretty easy to integrate into strapi. For example, load the plugin in this line.\nIt is still necessary to enable the uuid property in the bookshelf model however. But this shouldn't be too tricky to do.\nIn my opinion it would be a great idea to ask the user whether to use numeric ID's or UUID's as part of the strapi project setup procedure.\nJust a couple ideas I'm throwing out there. . ",
    "nobodywithbody": "I ran lint, but output dont have errors. All style errors fixed. Sorry, i guess linter on my machine dont work correctly.. What a case should be in different language on backend and frontend? IMHO, language is user specific option. User enter in CMS, set language and frontend display in selected language and backend generate message in this language.. In description already exists steps to reproduce. Or you cannot reproduce by specified steps? Additional attach a gif for greater clearity \n\n. This bug reproduced only in my project. In new generated project this bug not occur. This changes solved bug, but i guess basic problem in my code.. I can repeat this bug on new project!)\nKnex version >= 0.14.5 (ideal is the latest version)\nIn plugins/content-manager/config/queries/bookshelf.js:12 added where to query.\nBefore 0.14.5 knex generate correct sql in both version - argument as number or argument is array of number.\nAfter 0.14.4 knex generate this sql SELECT * FROM table WHERE id IN 5 if  where is not array.\nChanges on this PR fixed this bug because where always include array type in IN expression.. @soupette done. ",
    "SimpleCookie": "And after changing the value to /api, if you go to content manager, then the images will not load.\nIf page is refreshed after this, then following error message will be shown:\n{\"statusCode\":404,\"error\":\"Not Found\",\"message\":\"Not Found\"}. @derrickmehaffy It's not a duplicate.\nI am also mentioning that the input field is missing the default value.. @derrickmehaffy the solution is simple, just set the value to '/' as default. I tested it myself. Was gonna send in a PR but did not because I had no time for it. If the value in the logic is /, then the input should mirror that value imo. It makes sense, right? . ",
    "Duncanmoo": "Similar issue for me, trying out Strapi, seems awesome, did the following all using the GUI:\n\nAdded page content type\nEnabled graphQL plugin\nadded image field to page content type (new field called \"Featured image\")\nCLI says Server wasn't able to start properly\n\n(node:57147) UnhandledPromiseRejectionWarning: GraphQLError: Syntax Error: Expected :, found Name \"image\"\n    at syntaxError (/Users/duncanm/projects/strapi/testing/plugins/graphql/node_modules/graphql/error/syntaxError.js:24:10)\n    at expect (/Users/duncanm/projects/strapi/testing/plugins/graphql/node_modules/graphql/language/parser.js:1299:32)\n    at parseFieldDefinition (/Users/duncanm/projects/strapi/testing/plugins/graphql/node_modules/graphql/language/parser.js:811:3)\n    at many (/Users/duncanm/projects/strapi/testing/plugins/graphql/node_modules/graphql/language/parser.js:1350:16)\n    at parseFieldsDefinition (/Users/duncanm/projects/strapi/testing/plugins/graphql/node_modules/graphql/language/parser.js:799:50)\n    at parseObjectTypeDefinition (/Users/duncanm/projects/strapi/testing/plugins/graphql/node_modules/graphql/language/parser.js:757:16)\n    at parseTypeSystemDefinition (/Users/duncanm/projects/strapi/testing/plugins/graphql/node_modules/graphql/language/parser.js:663:16)\n    at parseDefinition (/Users/duncanm/projects/strapi/testing/plugins/graphql/node_modules/graphql/language/parser.js:149:12)\n    at parseDocument (/Users/duncanm/projects/strapi/testing/plugins/graphql/node_modules/graphql/language/parser.js:110:22)\n    at Object.parse (/Users/duncanm/projects/strapi/testing/plugins/graphql/node_modules/graphql/language/parser.js:38:10)\n    at Object.addPolymorphicUnionType (/Users/duncanm/projects/strapi/testing/plugins/graphql/services/GraphQL.js:1263:27)\n    at Object.generateSchema (/Users/duncanm/projects/strapi/testing/plugins/graphql/services/GraphQL.js:1181:58)\n    at Function.initialize (/Users/duncanm/projects/strapi/testing/plugins/graphql/hooks/graphql/index.js:103:62)\n    at /usr/local/lib/node_modules/strapi/lib/hooks/index.js:19:29\n    at after (/usr/local/lib/node_modules/strapi/lib/hooks/index.js:122:39)\n    at /usr/local/lib/node_modules/strapi/node_modules/lodash/lodash.js:9997:23\n    at Strapi.once (/usr/local/lib/node_modules/strapi/lib/hooks/index.js:133:17)\n    at Object.onceWrapper (events.js:273:13)\n    at Strapi.emit (events.js:182:13)\n    at Strapi.EventEmitter.emit (domain.js:442:20)\n    at loadedModule.initialize.call.err (/usr/local/lib/node_modules/strapi/lib/hooks/index.js:32:12)\n    at Function.initialize (/Users/duncanm/projects/strapi/testing/node_modules/strapi-hook-bookshelf/lib/index.js:1000:7)\n(node:57147) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)\n(node:57147) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.\n[2018-09-04T09:26:50.176Z] debug \u26d4\ufe0f Server wasn't able to start properly.\n[2018-09-04T09:26:50.177Z] error (hook:graphql) takes too long to load. I was able to confirm that without the GraphQL plugin I am able to add that field with a space in its name; Strapi allows me to save data to that field, the file gets uploaded to the CMS but re-editing that field shows that the image is not associated with that content.\nNot trying to =hijack this issue but the OP issue may have been a space in the title of a field: https://github.com/strapi/strapi/issues/1789. ",
    "fatid": "I had a same problem after typing \"strapi install graphql\" . Then i delete graphql with \" strapi uninstall graphql\". Now strapi works, but i can't use graphl.. ",
    "Downloaddave": "Hi Guys, I was wondering how things were going with this issue.\nI'm currently trying to deploy Strapi to Azure but I keep running into an issue with deployment. I've came across the APP_PATH issue (which I tried to resolve using cross-env) by adding it to the admin/package.json and admin/scripts/setup.js by doing the following...\nprojectName/admin/package.json\n ```\n \"devDependencies\": {\n    \"sanitize.css\": \"^4.1.0\",\n    \"strapi-helper-plugin\": \"3.0.0-alpha.14.1.1\",\n    \"strapi-utils\": \"3.0.0-alpha.14.1.1\",\n    \"cross-env\": \"latest\"\n...\n\"scripts\": {\n    \"analyze\": \"node ./node_modules/strapi-helper-plugin/lib/internals/scripts/analyze.js\",\n    \"analyze:clean\": \"node ./node_modules/strapi-helper-plugin/node_modules/.bin/rimraf stats.json\",\n    \"build\": \"cross-env APP_PATH=$APP_PATH npm run build:dll && node ./node_modules/strapi-helper-plugin/node_modules/.bin/cross-env NODE_ENV=production IS_ADMIN=true node ./node_modules/strapi-helper-plugin/node_modules/.bin/webpack --config ./node_modules/strapi-helper-plugin/lib/internals/webpack/webpack.prod.babel.js --color -p --progress\",\n    \"build:clean\": \"node ./node_modules/strapi-helper-plugin/node_modules/.bin/rimraf admin/build\",\n    \"build:dev\": \"npm run build:dll && node ./node_modules/strapi-helper-plugin/node_modules/.bin/cross-env NODE_ENV=development IS_ADMIN=true node ./node_modules/strapi-helper-plugin/node_modules/.bin/webpack --config ./node_modules/strapi-helper-plugin/lib/internals/webpack/webpack.prod.babel.js --color -p --progress\",\n    \"build:dll\": \"cross-env APP_PATH=$APP_PATH node ./node_modules/strapi-helper-plugin/node_modules/.bin/cross-env NODE_ENV=production IS_ADMIN=true node ./node_modules/strapi-helper-plugin/node_modules/.bin/webpack --config ./node_modules/strapi-helper-plugin/lib/internals/webpack/webpack.dll.babel.js --color -p --progress\",\n    \"generate\": \"node ./node_modules/strapi-helper-plugin/node_modules/.bin/plop --plopfile ./node_modules/strapi-helper-plugin/lib/internals/generators/index.js\",\n    \"preanalyze\": \"npm run analyze:clean\",\n    \"prebuild\": \"cross-env APP_PATH=$APP_PATH node ./node_modules/strapi-helper-plugin/node_modules/.bin/cross-env NODE_ENV=production IS_ADMIN=true node ./node_modules/strapi-helper-plugin/lib/internals/scripts/loadAdminConfigurations.js\",\n    \"prepublishOnly\": \"IS_MONOREPO=true npm run build\",\n    \"presetup\": \"node ./scripts/preSetup.js\",\n    \"prestart\": \"node ./node_modules/strapi-helper-plugin/node_modules/.bin/cross-env NODE_ENV=development PORT=4000 IS_ADMIN=true node ./node_modules/strapi-helper-plugin/lib/internals/scripts/loadAdminConfigurations.js\",\n    \"prettier\": \"node ./node_modules/strapi-helper-plugin/node_modules/.bin/prettier --single-quote --trailing-comma es5 --write \\\"{admin,{tests,mocks}}/*/.js\\\"\",\n    \"setup\": \"node ./scripts/setup.js\",\n    \"start\": \"node ./node_modules/strapi-helper-plugin/node_modules/.bin/cross-env NODE_ENV=development PORT=4000 IS_ADMIN=true node ./node_modules/strapi-helper-plugin/lib/server\",\n    \"test\": \"echo \\\"Error: no test specified\\\"\"\n  },\n```\nprojectName/admin/scripts/setup.js \n(I couldn't find strapi/setup.js)\n``\nconst build = shell.exec(cd \"${path.resolve(appPath, 'admin')}\" && cross-env APP_PATH=\"${appPath}\" npm run build`, {\n  silent\n});\n...\nconst build = shell.exec(cd \"${path.resolve(plugins, plugin)}\" && cross-env APP_PATH=\"${appPath}\" npm run build, {\n        silent\n});\n```\nProcedure:\n$ strapi new projectName\n$ cd projectName\n$ strapi start\nHere's how things look under localhost:1337 (note the plugins on the left, I think those are all of them)\n\nSetup projectName/config/environments/production with relevant server.json and database.json information.\nManually delete package-lock.json from:\n\npackage-lock.json \nadmin/package-lock.json\nplugins/**/package-lock.json\n(all package-lock.json?)\n\nDeploy to Azure through a lot of trial and error, eventually it worked but I'm missing some plugin packages. \n\nNote that the Content Type Builder and Configurations are missing in the left menu.\nI can see the plugins in the projectName/plugins/ directory on Azure:\n\nWhen I go into Azure (Kudu) and run the following in the wwwroot directory:\n$ npm run setup (do I need to run this on the production server?)\nI get the following errors:\n```\n\u00f0\u0178\u2022\u201c  The setup process can take few minutes.\n\u00f0\u0178\u201d\u00b8  Administration Panel\n\u00f0\u0178\u201c\u00a6  Installing packages...\nPackaged installed successfully\n\nstrapi-admin@3.0.0-alpha.14.1.1 setup D:\\home\\site\\wwwroot\\admin\nnode ./scripts/setup.js\n\n\u00f0\u0178\u008f\u2014  Building the admin...\ninternal/modules/cjs/loader.js:583\nthrow err;\n\n^\n\nError: Cannot find module 'D:\\home\\site\\wwwroot\\admin\\node_modules\\strapi-helper-plugin\\node_modules.bin\\cross-env'\nat Function.Module._resolveFilename (internal/modules/cjs/loader.js:581:15)\n\nat Function.Module._load (internal/modules/cjs/loader.js:507:25)\n\nat Function.Module.runMain (internal/modules/cjs/loader.js:742:12)\n\nat startup (internal/bootstrap/node.js:236:19)\n\nat bootstrapNodeJSCore (internal/bootstrap/node.js:560:3)\n\nnpm ERR! code ELIFECYCLE\nnpm ERR! errno 1\nnpm ERR! strapi-admin@3.0.0-alpha.14.1.1 prebuild: cross-env APP_PATH=$APP_PATH node ./node_modules/strapi-helper-plugin/node_modules/.bin/cross-env NODE_ENV=production IS_ADMIN=true node ./node_modules/strapi-helper-plugin/lib/internals/scripts/loadAdminConfigurations.js\nnpm ERR! Exit status 1\nnpm ERR! \nnpm ERR! Failed at the strapi-admin@3.0.0-alpha.14.1.1 prebuild script.\nnpm ERR! This is probably not a problem with npm. There is likely additional logging output above.\nnpm ERR! A complete log of this run can be found in:\nnpm ERR!     D:\\local\\AppData\\npm-cache_logs\\2018-09-21T19_08_05_711Z-debug.log\nnpm ERR! code ELIFECYCLE\nnpm ERR! errno 1\nnpm ERR! strapi-admin@3.0.0-alpha.14.1.1 setup: node ./scripts/setup.js\nnpm ERR! Exit status 1\nnpm ERR! \nnpm ERR! Failed at the strapi-admin@3.0.0-alpha.14.1.1 setup script.\nnpm ERR! This is probably not a problem with npm. There is likely additional logging output above.\nnpm ERR! A complete log of this run can be found in:\nnpm ERR!     D:\\local\\AppData\\npm-cache_logs\\2018-09-21T19_08_05_904Z-debug.log\nnpm ERR! code ELIFECYCLE\nnpm ERR! errno 1\nnpm ERR! ladot-peoplestreet-cms@0.1.0 setup: cd admin && npm run setup\nnpm ERR! Exit status 1\nnpm ERR! \nnpm ERR! Failed at the ladot-peoplestreet-cms@0.1.0 setup script.\nnpm ERR! This is probably not a problem with npm. There is likely additional logging output above.\nnpm ERR! A complete log of this run can be found in:\nnpm ERR!     D:\\local\\AppData\\npm-cache_logs\\2018-09-21T19_08_05_976Z-debug.log\n```\nD:\\local\\AppData\\npm-cache_logs\\2018-09-21T19_08_05_711Z-debug.log\n0 info it worked if it ends with ok\n1 verbose cli [ 'D:\\\\Program Files (x86)\\\\nodejs\\\\10.6.0\\\\node.exe',\n1 verbose cli   'D:\\\\Program Files (x86)\\\\npm\\\\6.1.0\\\\node_modules\\\\npm\\\\bin\\\\npm-cli.js',\n1 verbose cli   'run',\n1 verbose cli   'build' ]\n2 info using npm@6.1.0\n3 info using node@v10.6.0\n4 verbose run-script [ 'prebuild', 'build', 'postbuild' ]\n5 info lifecycle strapi-admin@3.0.0-alpha.14.1.1~prebuild: strapi-admin@3.0.0-alpha.14.1.1\n6 verbose lifecycle strapi-admin@3.0.0-alpha.14.1.1~prebuild: unsafe-perm in lifecycle true\n7 verbose lifecycle strapi-admin@3.0.0-alpha.14.1.1~prebuild: PATH: D:\\Program Files (x86)\\npm\\6.1.0\\node_modules\\npm\\node_modules\\npm-lifecycle\\node-gyp-bin;D:\\home\\site\\wwwroot\\admin\\node_modules\\.bin;D:\\Program Files (x86)\\npm\\6.1.0\\node_modules\\npm\\node_modules\\npm-lifecycle\\node-gyp-bin;D:\\home\\site\\wwwroot\\admin\\node_modules\\.bin;D:\\Program Files (x86)\\npm\\6.1.0\\node_modules\\npm\\node_modules\\npm-lifecycle\\node-gyp-bin;D:\\home\\site\\wwwroot\\node_modules\\.bin;D:\\Program Files (x86)\\SiteExtensions\\Kudu\\77.10830.3542\\bin\\NativeBinaries/x86;D:\\home\\site\\deployments\\tools;D:\\Program Files (x86)\\SiteExtensions\\Kudu\\77.10830.3542\\bin\\Scripts;D:\\Program Files (x86)\\MSBuild\\14.0\\Bin;D:\\Program Files\\Git\\cmd;D:\\Program Files (x86)\\Microsoft Visual Studio 11.0\\Common7\\IDE\\CommonExtensions\\Microsoft\\TestWindow;D:\\Program Files (x86)\\Microsoft SQL Server\\110\\Tools\\Binn;D:\\Program Files (x86)\\Microsoft SDKs\\F#\\3.1\\Framework\\v4.0;D:\\Program Files\\Git\\bin;D:\\Program Files\\Git\\usr\\bin;D:\\Program Files\\Git\\mingw64\\bin;D:\\Program Files (x86)\\npm\\6.1.0;D:\\Program Files (x86)\\bower\\1.7.9;D:\\Program Files (x86)\\grunt\\0.1.13;D:\\Program Files (x86)\\gulp\\3.9.0.1;D:\\Program Files (x86)\\funcpack\\1.0.0;D:\\Program Files (x86)\\nodejs\\10.6.0;D:\\Windows\\system32;D:\\Windows;D:\\Windows\\System32\\Wbem;D:\\Windows\\System32\\WindowsPowerShell\\v1.0\\;D:\\Users\\Administrator\\AppData\\Local\\Microsoft\\WindowsApps;;D:\\Program Files (x86)\\dotnet;D:\\Windows\\system32\\config\\systemprofile\\AppData\\Local\\Microsoft\\WindowsApps;D:\\Program Files (x86)\\Git\\cmd;D:\\Program Files (x86)\\PHP\\v5.6;D:\\Python27;\n8 verbose lifecycle strapi-admin@3.0.0-alpha.14.1.1~prebuild: CWD: D:\\home\\site\\wwwroot\\admin\n9 silly lifecycle strapi-admin@3.0.0-alpha.14.1.1~prebuild: Args: [ '/d /s /c',\n9 silly lifecycle   'cross-env APP_PATH=$APP_PATH node ./node_modules/strapi-helper-plugin/node_modules/.bin/cross-env NODE_ENV=production IS_ADMIN=true node ./node_modules/strapi-helper-plugin/lib/internals/scripts/loadAdminConfigurations.js' ]\n10 silly lifecycle strapi-admin@3.0.0-alpha.14.1.1~prebuild: Returned: code: 1  signal: null\n11 info lifecycle strapi-admin@3.0.0-alpha.14.1.1~prebuild: Failed to exec prebuild script\n12 verbose stack Error: strapi-admin@3.0.0-alpha.14.1.1 prebuild: `cross-env APP_PATH=$APP_PATH node ./node_modules/strapi-helper-plugin/node_modules/.bin/cross-env NODE_ENV=production IS_ADMIN=true node ./node_modules/strapi-helper-plugin/lib/internals/scripts/loadAdminConfigurations.js`\n12 verbose stack Exit status 1\n12 verbose stack     at EventEmitter.<anonymous> (D:\\Program Files (x86)\\npm\\6.1.0\\node_modules\\npm\\node_modules\\npm-lifecycle\\index.js:304:16)\n12 verbose stack     at EventEmitter.emit (events.js:182:13)\n12 verbose stack     at ChildProcess.<anonymous> (D:\\Program Files (x86)\\npm\\6.1.0\\node_modules\\npm\\node_modules\\npm-lifecycle\\lib\\spawn.js:55:14)\n12 verbose stack     at ChildProcess.emit (events.js:182:13)\n12 verbose stack     at maybeClose (internal/child_process.js:961:16)\n12 verbose stack     at Process.ChildProcess._handle.onexit (internal/child_process.js:248:5)\n13 verbose pkgid strapi-admin@3.0.0-alpha.14.1.1\n14 verbose cwd D:\\home\\site\\wwwroot\\admin\n15 verbose Windows_NT 10.0.14393\n16 verbose argv \"D:\\\\Program Files (x86)\\\\nodejs\\\\10.6.0\\\\node.exe\" \"D:\\\\Program Files (x86)\\\\npm\\\\6.1.0\\\\node_modules\\\\npm\\\\bin\\\\npm-cli.js\" \"run\" \"build\"\n17 verbose node v10.6.0\n18 verbose npm  v6.1.0\n19 error code ELIFECYCLE\n20 error errno 1\n21 error strapi-admin@3.0.0-alpha.14.1.1 prebuild: `cross-env APP_PATH=$APP_PATH node ./node_modules/strapi-helper-plugin/node_modules/.bin/cross-env NODE_ENV=production IS_ADMIN=true node ./node_modules/strapi-helper-plugin/lib/internals/scripts/loadAdminConfigurations.js`\n21 error Exit status 1\n22 error Failed at the strapi-admin@3.0.0-alpha.14.1.1 prebuild script.\n22 error This is probably not a problem with npm. There is likely additional logging output above.\n23 verbose exit [ 1, true ]\nD:\\local\\AppData\\npm-cache_logs\\2018-09-21T19_08_05_976Z-debug.log\n```\n0 info it worked if it ends with ok\n1 verbose cli [ 'D:\\Program Files (x86)\\nodejs\\10.6.0\\node.exe',\n1 verbose cli   'D:\\Program Files (x86)\\npm\\6.1.0\\node_modules\\npm\\bin\\npm-cli.js',\n1 verbose cli   'run',\n1 verbose cli   'setup' ]\n2 info using npm@6.1.0\n3 info using node@v10.6.0\n4 verbose run-script [ 'presetup', 'setup', 'postsetup' ]\n5 info lifecycle ladot-peoplestreet-cms@0.1.0~presetup: ladot-peoplestreet-cms@0.1.0\n6 info lifecycle ladot-peoplestreet-cms@0.1.0~setup: ladot-peoplestreet-cms@0.1.0\n7 verbose lifecycle ladot-peoplestreet-cms@0.1.0~setup: unsafe-perm in lifecycle true\n8 verbose lifecycle ladot-peoplestreet-cms@0.1.0~setup: PATH: D:\\Program Files (x86)\\npm\\6.1.0\\node_modules\\npm\\node_modules\\npm-lifecycle\\node-gyp-bin;D:\\home\\site\\wwwroot\\node_modules.bin;D:\\Program Files (x86)\\SiteExtensions\\Kudu\\77.10830.3542\\bin\\NativeBinaries/x86;D:\\home\\site\\deployments\\tools;D:\\Program Files (x86)\\SiteExtensions\\Kudu\\77.10830.3542\\bin\\Scripts;D:\\Program Files (x86)\\MSBuild\\14.0\\Bin;D:\\Program Files\\Git\\cmd;D:\\Program Files (x86)\\Microsoft Visual Studio 11.0\\Common7\\IDE\\CommonExtensions\\Microsoft\\TestWindow;D:\\Program Files (x86)\\Microsoft SQL Server\\110\\Tools\\Binn;D:\\Program Files (x86)\\Microsoft SDKs\\F#\\3.1\\Framework\\v4.0;D:\\Program Files\\Git\\bin;D:\\Program Files\\Git\\usr\\bin;D:\\Program Files\\Git\\mingw64\\bin;D:\\Program Files (x86)\\npm\\6.1.0;D:\\Program Files (x86)\\bower\\1.7.9;D:\\Program Files (x86)\\grunt\\0.1.13;D:\\Program Files (x86)\\gulp\\3.9.0.1;D:\\Program Files (x86)\\funcpack\\1.0.0;D:\\Program Files (x86)\\nodejs\\10.6.0;D:\\Windows\\system32;D:\\Windows;D:\\Windows\\System32\\Wbem;D:\\Windows\\System32\\WindowsPowerShell\\v1.0\\;D:\\Users\\Administrator\\AppData\\Local\\Microsoft\\WindowsApps;;D:\\Program Files (x86)\\dotnet;D:\\Windows\\system32\\config\\systemprofile\\AppData\\Local\\Microsoft\\WindowsApps;D:\\Program Files (x86)\\Git\\cmd;D:\\Program Files (x86)\\PHP\\v5.6;D:\\Python27;\n9 verbose lifecycle ladot-peoplestreet-cms@0.1.0~setup: CWD: D:\\home\\site\\wwwroot\n10 silly lifecycle ladot-peoplestreet-cms@0.1.0~setup: Args: [ '/d /s /c', 'cd admin && npm run setup' ]\n11 silly lifecycle ladot-peoplestreet-cms@0.1.0~setup: Returned: code: 1  signal: null\n12 info lifecycle ladot-peoplestreet-cms@0.1.0~setup: Failed to exec setup script\n13 verbose stack Error: ladot-peoplestreet-cms@0.1.0 setup: cd admin && npm run setup\n13 verbose stack Exit status 1\n13 verbose stack     at EventEmitter. (D:\\Program Files (x86)\\npm\\6.1.0\\node_modules\\npm\\node_modules\\npm-lifecycle\\index.js:304:16)\n13 verbose stack     at EventEmitter.emit (events.js:182:13)\n13 verbose stack     at ChildProcess. (D:\\Program Files (x86)\\npm\\6.1.0\\node_modules\\npm\\node_modules\\npm-lifecycle\\lib\\spawn.js:55:14)\n13 verbose stack     at ChildProcess.emit (events.js:182:13)\n13 verbose stack     at maybeClose (internal/child_process.js:961:16)\n13 verbose stack     at Process.ChildProcess._handle.onexit (internal/child_process.js:248:5)\n14 verbose pkgid ladot-peoplestreet-cms@0.1.0\n15 verbose cwd D:\\home\\site\\wwwroot\n16 verbose Windows_NT 10.0.14393\n17 verbose argv \"D:\\Program Files (x86)\\nodejs\\10.6.0\\node.exe\" \"D:\\Program Files (x86)\\npm\\6.1.0\\node_modules\\npm\\bin\\npm-cli.js\" \"run\" \"setup\"\n18 verbose node v10.6.0\n19 verbose npm  v6.1.0\n20 error code ELIFECYCLE\n21 error errno 1\n22 error ladot-peoplestreet-cms@0.1.0 setup: cd admin && npm run setup\n22 error Exit status 1\n23 error Failed at the ladot-peoplestreet-cms@0.1.0 setup script.\n23 error This is probably not a problem with npm. There is likely additional logging output above.\n24 verbose exit [ 1, true ]\n```\nAny ideas on what I could be doing wrong? I tried a global search for APP_PATH so I can add the 'cross-env' command. For some reason not all plugins want to install or show up on Azure.\nThank you in advance.. Providing some (hopefully) helpful info...\nI seem to get this issue on Azure after going to Kudu/SCM (aka Azure Online App Service Terminal) and running the following:\n```\n$ cd admin\n$ npm run setup\n```\nResponse:\n\nPackaged installed successfully\nstrapi-admin@3.0.0-alpha.14.1.1 setup D:\\home\\site\\wwwroot\\admin\nnode ./scripts/setup.js\n\u00f0\u0178\u008f\u2014 Building the admin...\nD:\\home\\site\\wwwroot\\admin\\node_modules\\strapi-helper-plugin\\node_modules.bin\\cross-env:2 basedir=$(dirname \"$(echo \"$0\" | sed -e 's,\\,/,g')\") ^^^^^^^ SyntaxError: missing ) after argument list at new Script (vm.js:74:7) at createScript (vm.js:246:10) at Object.runInThisContext (vm.js:298:10) at Module._compile (internal/modules/cjs/loader.js:657:28) at Object.Module._extensions..js (internal/modules/cjs/loader.js:700:10) at Module.load (internal/modules/cjs/loader.js:599:32) at tryModuleLoad (internal/modules/cjs/loader.js:538:12) at Function.Module._load (internal/modules/cjs/loader.js:530:3) at Function.Module.runMain (internal/modules/cjs/loader.js:742:12) at startup (internal/bootstrap/node.js:236:19) npm ERR! code ELIFECYCLE npm ERR! errno 1 npm ERR!\nstrapi-admin@3.0.0-alpha.14.1.1 prebuild: cross-env APP_PATH=$APP_PATH node ./node_modules/strapi-helper-plugin/node_modules/.bin/cross-env NODE_ENV=production IS_ADMIN=true node ./node_modules/strapi-helper-plugin/lib/internals/scripts/loadAdminConfigurations.js \nnpm ERR! Exit status 1 npm ERR! npm ERR! Failed at the strapi-admin@3.0.0-alpha.14.1.1 prebuild script. \nnpm ERR! This is probably not a problem with npm. There is likely additional logging output above. npm ERR! A complete log of this run can be found in: npm ERR! \n\n. Was this issue ever resolved?. Hey there! Thanks! This is good to know.\nI had deployed Strapi locally then to a Prod environment, and was confused since I didn't see the content-type-builder in the production CMS.\nI'm trying to understand the deployment and update process as well...\nThis is where it seems like it's leading to me:\n\nDeveloper sets Strapi up locally\nCreates content-types using the content-type-builder\nStrapi makes updates to the file structure locally and on the local MongoDB\nOn production we will have to push both the code and db updates?\n\nI understand that making changes to the content-type-builder reboots the service, and we don't want production to go down during the rebuild, but it seems like data would get really out of sync between production and development.\nI'm not sure if that's the correct workflow, if I'm completely misunderstanding, or if that was what was envisioned. . Would it make more sense for all plugins to be enabled, but only admin or super admin has the ability to make updates to the content-types (that require a restart) and a warnings that updating them will restart the Service?. If we are encountering the same issue as @tacone what's the best way of reverting something that was already done in camelCase (or anything, someone might have messed up making in the Content Type Builder)?\nSo far my guess would be to do the following\n\nStop the Strapi Server\nDrop the collection \"samplecontent\" in MongoDB (with the assumption you created \"sampleContent\"\nGo to the Strapi Project Code (installed locally) and then delete the entire \"samplecontent\" folder.\nStart the Strapi Server\nGo to Strapi CMS -> Content Type Builder\nCreate a new Content Type, this time all lowercase\nGo to the api/samplecontent/samplecontent.settings.json and change the following...\n\nFROM\n\"info\": {\n    \"name\": \"samplecontent\",\n    \"description\": \"\"\n  },\nTO\n\"info\": {\n    \"name\": \"Sample Content\",\n    \"description\": \"\"\n  },\nOut of curiosity, has there been any issues with spacing; for example creating a \"Sample Content\" content type?\nCan the above steps be used to resolve spacing as well?\nThanks in advance!. Is there a recent ticket relating to the Spacing in in the Content Type Builder so we can see \"Sample Content\" in the Content Types CMS?. @lauriejim It looks like I'm running into this issue too using mongoDB, using the dominate flag as described in #2166 doesn't seem to work either. I'm noticing that the ticket commenting was locked so I'm not sure if there is a fix that you guys are working on or something else I can try to test on my end.\nTo provide some more context, it doesn't seem to happen with every content type only a specific ones. Meaning, the ordering will save for one content-type, but not another. I'm hoping to experiment with this to try and help figure it out. \nSo far are you guys thinking it could be an issue with the api/ or perhaps the structure in the mongoDB?. ",
    "wemod123": "Is there any updates of this issues?\nFor some reason, there be some big amout of coder have to work with windows, This issue definitely happend to windows, specifically win10 when I tested.\nIs there any plan to fully support win10 of this project.\nWe love this project, and hope it could spread widely in possible way, thus windows support are essential!. @mtmsuhail, correct.\nWhen I look into the module 'strapi-hook-mongoose', there was integration with mongoose in a way, and plugin to mongoose can be implemented just as what need be done as with only mongoose.\nSo simply say, we can use mongoose plugins within 'strapi-hook-mongoose'.\nWhile I think further issues of this kind of integration need be tested case by case. . This issue had been reported several times.\nWhile here is a common questing,  what is the strategy of data base migration?\nMore specifically, if one had release a strapi project to production environment, and later have to update some API model, for example, create a new API Model, what should do then?\n To copy the dev database core_store>plugin_content-manager_schema, as you suggested above\n Or to delete core_store>plugin_content-manager_schema from production database as this suggesting\nAll the above work need to do carefully each time you update the project in production environment.\nMore advance, how you run this project with CI/CD in real production building?\nShould there be a clear strategy?\ud83d\ude31\nAnd programatically fix this when updating production continuously.\n. @derrickmehaffy\nThere was a publish of issue #2194 \nWhat is the actual situation?\nSince I got error on plugin installation with yarn also.\n. @lauriejim\nThanks for the reply.\nOne of the critical reason of using yarn, is some times npm runs into fatal error which will lead to fail to deploy, due to npm cache.\nThat kind of error similar to:\nnpm WARN tar ENOENT: no such file or directory, open '***\\node_modules\\.staging\\***\nActually I reproduce the npm cache issue on Azure Webapp deployment with strapi-v18, the latest release.\nThat kind of app deployment was very popular like heroku etc. And in that way you will not have the authority to fully manage the npm cache, that at least a potential fatal issue for real production environment CI/CD.\nyarn at least will not have this kind of issue, and is much much faster with production CI/CD.\nAs you said, some yarn bug still exist, my testing results with strapi-v17 is:\nThe bug only appears with plugin-users-permissions and plugin-email.\nHope this information helps for you, for considering production targeting release.. @derrickmehaffy\nThank you for the solutions, it can be alternative to solve the cache issue.\nAnd at same time lost the lock feature, without which probably cause some other unexpected issues due to the unlock-version control, that need be checked carefully in production environment, since this project really depends on so many npm packages.\nFor me I prefer yarn as priority in production environment, but to solve the yarn issue with PR is beyond of my skill, let's see weather there will be some other one to contribute on this.. Hi guys, this issue was specifically related to Azure mssql, it was caused by the field \"encrypt\", which was mandatory if you want connected to.\nI got the same issue, I solve it with some temporary solutions, by change some node_modules.\nThe solution step is:\n1. Modify the...config/envirunments/.../database.json setting, add \"encrypt\": true\n\"mssql\": {\n      \"connector\": \"strapi-hook-bookshelf\",\n      \"settings\": {\n        \"client\": \"mssql\",\n        \"user\": \"your user get from mssql, like: username@db\",\n        \"password\": \"***\",\n        \"host\": \"you db host\",\n        \"database\": \"you db\",\n       \"encrypt\": true\n     }\n   }\n2. npm install mssql@3.3.0, it have to be specifically use the version 3.3.0, otherwise you will get error with latest mssql version.\n\n\nModify the .../node_modules/strapi-hook-knex/lib/index.js, (the strapi-hook-bookshelf depends on this  and knex etc...):\nNear line #-100 add below line:\noptions: {encrypt:_.get(connection.settings, 'encrypt') || '',}\nJust ensure you add a options inside default options.\nSo finally you will have the options like below to pass into knex:\n```\n{\n    \"client\": \"mssql\",\n    \"user\": \"your user get from mssql, like: username@db\",\n    \"password\": \"***\",\n    \"host\": \"you db host\",\n    \"database\": \"you db\",\n    \"options\":{\n        \"encrypt\": true\n    }\n }\n\n\n```\n**: you can not get this by just specify it in database.json, since the strapi-hook-knex will re-organize all options.\nNow you should able to connect to your db.\nThat's all for this topic.\nSome additional issue: \nAfter you connected to mssql,  one more issue is the model id field: it cannot be created by strapi automatically like mogodb or other db connection, I dont know why, it was a bug for mssql?\nSo you have to handle it in the .../api/model/models/Model.js , to manually add the model id before create any itmes, in beforeCreatefunction.\nFurther more:\nHello Strapi teams, it's just simple to add one line code in the strapi-hood-knex, and give a sample JSON database configuration in document, to enable Azure mssql connection.\nWill you do that in next release?\n. @derrickmehaffy\naha, I see, since bookshelf is made with Knex, and Knex support ssql officially, see their website\n\nThen I just think strapi automatically should support ssql.\nGood features to support \"mssql\".\n@umuttuncer, you are welcome to submit a PR\n. Hello @lauriejim,\nHave you reproduce this?\nI have actually reproduced this in the latest version alpha17.\nAnd one obvious help documents dis-consistence is:\n\nHere the connection is strapi-redis but it should be strapi-hook-redis,  right?\nWhile this strapi-hook-redis module firstly missing the kao-redis dependencies... and will not be work.. Hi @derrickmehaffy , thank you for your reply.\nIn that case, the documents about redis need be update, to avoid some mis-understanding.\n\nAlso, I noticed in the repo package, there are strapi-hook-redis pacakge seems keep updating. \nProbably better to document the redis-plugin road-map, good for others understanding.. @narayanan-git:\n\nI guess the cause is: \nYou have APIs generated in old Strapi version, then you copy it into your project_folder/api_folder , which is generated with Strapi V16, what you mentioned isntall alpha 16 version.\nIn that case you will get error, because of the core hook function is different, in Strapi alpha16, within the core hook do not use generateLookupStage any more.\nSo the obvious solution is:\nBuild every thing with new Strapi version, if you want re-use the old API Model setting, just copy the Model.settings.json contents to the one you new build.\n. Great PR!\nDo you have a estimation of when this \"mssql support\" feature will be released?\n. ",
    "alderla": "Had some hard time following Strapi contributing instructions on windows, build always failed at some point. I was using WSL, and my mistake was to use mounted folder /mnt/c/... to clone and build Strapi, after switching to /home/username/ everything worked just fine. You can access linux home from explorer:\nC:\\Users\\username\\AppData\\Local\\lxss\\home\nUpdate: this was not a good idea after all.. moved back to /mnt/c/.... ",
    "anderson916": "\nProviding some (hopefully) helpful info...\nI seem to get this issue on Azure after going to Kudu/SCM (aka Azure Online App Service Terminal) and running the following:\n$ cd admin\n$ npm run setup\nResponse:\n\nPackaged installed successfully\nstrapi-admin@3.0.0-alpha.14.1.1 setup D:\\home\\site\\wwwroot\\admin\nnode ./scripts/setup.js\n\u00f0\u0178\ufffd\u2014 Building the admin...\nD:\\home\\site\\wwwroot\\admin\\node_modules\\strapi-helper-plugin\\node_modules.bin\\cross-env:2 basedir=$(dirname \"$(echo \"$0\" | sed -e 's,\\,/,g')\") ^^^^^^^ SyntaxError: missing ) after argument list at new Script (vm.js:74:7) at createScript (vm.js:246:10) at Object.runInThisContext (vm.js:298:10) at Module._compile (internal/modules/cjs/loader.js:657:28) at Object.Module._extensions..js (internal/modules/cjs/loader.js:700:10) at Module.load (internal/modules/cjs/loader.js:599:32) at tryModuleLoad (internal/modules/cjs/loader.js:538:12) at Function.Module._load (internal/modules/cjs/loader.js:530:3) at Function.Module.runMain (internal/modules/cjs/loader.js:742:12) at startup (internal/bootstrap/node.js:236:19) npm ERR! code ELIFECYCLE npm ERR! errno 1 npm ERR!\nstrapi-admin@3.0.0-alpha.14.1.1 prebuild: cross-env APP_PATH=$APP_PATH node ./node_modules/strapi-helper-plugin/node_modules/.bin/cross-env NODE_ENV=production IS_ADMIN=true node ./node_modules/strapi-helper-plugin/lib/internals/scripts/loadAdminConfigurations.js\nnpm ERR! Exit status 1 npm ERR! npm ERR! Failed at the strapi-admin@3.0.0-alpha.14.1.1 prebuild script.\nnpm ERR! This is probably not a problem with npm. There is likely additional logging output above. npm ERR! A complete log of this run can be found in: npm ERR!\n\n\nsame here.. same problem here.. Yes, it works. \nWhen I use \"straps generate:api\" to create a model, one field has a name of \"averageFrequency\", the field will be changed to \"average frequency\" in the Admin UI. After I change the name back to \"averageFrequency\", the Content Manager doesn't work. But as you suggested to remove the content-manager schema entry from your DB in the core_store table (or collection in mongo), and restart Strapi manually, everything is working now.\nThanks. You save my time.. same problem here. @soupette where is \"plugin_content_manager_schema\"?. I am using MongoDB. After removing the document of plugin_content_manager_schema, Strapi cannot start.. \n. working now. thanks.. Thanks for comments. I understand that. My question is: can I see the newly-created models from the Admin UI?. Yes, I see it. Thank you. . @soupette Thanks. Yes, I am using Node 8. Let me try Node 10 now.. It works. Thanks.. ",
    "stephane-r": "I've fix my problem by running bash script before nun npm i. Not the best solution, but work for me : \n```\n!/bin/sh\ncd ./plugins\nfor d in */ ; do\n    echo $d\n    cd $d\n    npm i\n    cd ../\ndone\n```. This problem is on my local machine and Gitlab, with or without Docker. I think the problem is with Strapi ^^\nI've test with the (old) Strapi example projet, i've same result : https://github.com/strapi/strapi-examples\nProblem find only for existing project, not new.\nI will look in more detail if you want :). ",
    "mustafa-hanif": "I will be working on a PR to fix this.. I will be working on a PR to fix this.. My PR #2090 solves this.. @maturanomx thank you for the detailed reply, I learnt a lot, I agree there should be major overhaul on how this should be installed.\nNow I will write something which might get me banned. @Aurelsicoko I think you should make better software not this unstable piece of crap which fails at every single step when trying to install on linux. \nI lifted the fix from this comment https://github.com/strapi/strapi/issues/1840#issuecomment-420761076 which fixes the issue described here https://github.com/strapi/strapi/issues/1840#issuecomment-420761076. ",
    "coding-saints": "EDIT EDIT EDIT: okay, so i think my pof was not having mLab's  \"RESTful Data API\" turned on under account? I flipped the switch and re-ran my setup with success. . For the cli authentiicationDatabase value you need to use whatever the name was when creating it on mLab. So if you created a new deployment named my-sandbox, it would display something like ds100100/my-sandbox. Whatever the name is after the / is your authenticated DB (my-sandbox in this example). If I can find the reference then I'll edit this for your own research. I hope this helps. All I can say is I had a heck of a time getting started, also. Stay persistent!\nEdit: Also I believe you just leave SSL to the default (press enter). If I'm mistaken just type it explicitly then. I'll look for the issue where I found this from.... ",
    "NikhilNanjappa": "Fixed the issue myself by moving the send action code from api/email/controllers/Email.js to plugins/email/controllers/Email.js AND if using the API publicly, make sure you give permissions to all the actions listed within the 'Public' role under 'Roles & Permissions' menu.\nMy only doubt would be - Would the email service still work if I remove controllers, models, services from the ./api/email directory created as part of API generation ? Basically just keep the ./api/email/config/routes.json because thats the only file needed & it seems to call the plugin controller file directly.. @lauriejim - This issue is fixed.\nI have mentioned the steps for the fix in the above comment. Could you also clear the doubt asked please ?. ",
    "jbergstroem": "\n@derrickmehaffy said: @jbergstroem this isn't just with the language it is with the entire site \ud83d\ude1b\n\nThanks for letting me know. Is there perhaps another issue that is more relevant?. > @soupette said: If you feel like contributing for improving this part\nMy styling skills are likely as limited as your time constraints \ud83d\ude22  Lets at least keep this open, perhaps you have a \"low hanging fruit\" tag that eager frontend contributors can find?. Fixed with #1878. Closing.. Looks like this is the problem: https://github.com/strapi/strapi/blob/master/packages/strapi-plugin-content-manager/config/queries/bookshelf.js#L72. Looks like you just want to edit this file (yes, I know - I should do it myself but when I use prettier as part of my editor it completely re-indents your syntax. What eslint rig do you use for validating indentation?): https://github.com/strapi/strapi/blob/master/packages/strapi-hook-bookshelf/lib/index.js#L477\n. \nsuggestion\n  // The regex removes possible slashes from the beginning and end of the value. ",
    "akinnee": "+1. There are two logged issues related to this.\nhttps://github.com/strapi/strapi/issues/1382\nhttps://github.com/strapi/strapi/issues/1907. I don't think it would take a full rewrite. The bootup process just needs to become optional.. ",
    "henricazottes": "@lauriejim totally sorry! Missed your mention, glad you fixed it :). ",
    "fezproof": "Seems that decimal types need to be passed through a constructor of NumberDecimal(string amount) before they are passed into the database.\nSee https://docs.mongodb.com/manual/core/shell-types/#numberdecimal\nThis might be a way to fix it more permanently while keeping the accuracy difference between decimal and float. Both types should exist because they are quite different use cases.. ",
    "FinnFrotscher": "I am currently on the fence about whether to use strapi as a backend or to build it from scratch. \ni will need a lot of flexibility, so maybe it would be better for me to use something like nextjs that provides me with the building blocks, rather than an integrated solution.\nwhat do you think?. if i do decide for strapi and figure it out, i will share the solution.\n. ",
    "qubbit": "@lauriejim Oddly enough it worked on a macos. The problem was on a Linux machine (Ubuntu 18.04). I will close this for now. Thanks!. ",
    "selbersuess": "sorry, my fault. its an issue with axios in my frontend-app.... ",
    "mockbirds": "Thanks for getting back to me. Unfortunately there was no really an error\nin the chrome console, just an empty <div> respectively React component.\nBut I will collect all logs and provide them later today.\nIn the meantime, is there something I can do differently or how is the preferred way\nto deploy my locally modified versions of the content-manager, content-type-builder\nand strapi-hook-mongoose to my newly created strapi application?\nThanks for your help!. I'm glad I'm not the only one facing this problem :)\nSome updates of my latest investigations:\n\nInstalled verdaccio as local package registry\nDid a clean checkout of strapi v3.0.0-alpha.14\nDid not make any changes to the source code\nRemoved any previous strapi installations\nCleaned all local npm and verdaccio caches\nRemoved all node_modules and build folders\nRemoved all package-lock.json files\nChanged the version of all strapi modules to v3.0.0-alpha.14-custom\nDid a TAG=alpha npm run release to the local package registry\nDid a npm install strapi@alpha -g\nstrapi -v shows v3.0.0-alpha.14-custom\nCreated a new strapi project with strapi new strapi-project\nCreated a new content type with the content-type-builder plugin\ncontent-manager plugin doesn't work at all. Page doesn't load\nand screen shows endless loading wheel. Can't create any new\nitems of the new content type. Same UI-behavior. Page doesn't\nload and screen shows endless loading wheel.\n\nI can do some more investigations, but as a node, react and strapi\nnewbee I don't know where to start.\nThe only thing I was wondering about is that in a dev project\ncreated with --dev the admin UI is available over http://localhost:1337/admin\nand http://localhost:4000/admin. Under http://localhost:1337/admin the admin UI\nshows the same behavior as in a non-dev project. And under http://localhost:4000/admin\nthe admin UI is working as expected. Maybe the base routing is somehow messed up\nif the React front-end application and the API is deployed on the same server?. @soupette I seems to be fixed now. I took the latest master (see information below), put my changes on top and did a local release (see descriptions below). After installation npm install strapi@alpha -g I've created a new strapi project strapi new strapi-project and luckily all of my changes in the content-manager and content-type-builder were working. No more blank pages! Great!\nI don't know which commits or changes fixed the \"blank pages\" problem since a full release takes about 14 minutes and switching commits back and forth would take to much time ;)\nNote: I had to add the cross-spawn dependency to the following file strapi/packages/strapi/package.json otherwise strapi/packages/strapi/lib/utils/openBrowser.js would report an error in the locally released version of strapi if you do a strapi start in the newly created strapi project.\nInformations\n- Node.js version: v10.9.0\n- npm version: 6.2.0\n- Strapi version: 3.0.0-master (Commit SHA: b4dedc12f16b087ccf4cf7a51c1ff34e742e23fe)\n- Database: MongoDB v3.6.6\n- Verdaccio: 3.7.1\n- Operating system: macOS 10.12.6\nLocal Release\n1. Install verdaccio as local package registry\n- Set verdaccio as new registry: npm set registry http://localhost:4873\n- Add an user to verdaccio required for publishing: npm adduser --registry http://localhost:4873\n- Add max_body_size: 1000mb to verdaccio config file ~/.config/verdaccio/config.yaml\n- Start verdaccio from the terminal\n2. Do a clean checkout of the strapi 3.0.0 master branch (I used commit SHA: b4dedc12f16b087ccf4cf7a51c1ff34e742e23fe) and put all of your changes on top of the master\n- Don't do a npm run setup or npm run setup:build this slightly changes some of the package.json files and the manifest file and could break the build\n3. Remove any previous strapi installations, related local npm/verdaccio caches, node_modules and build folders, package-lock.json files and previously created MongoDB databases. Basically I do this in a shell script.\n```\nnpm uninstall strapi -g;\nrm -rf /usr/local/bin/strapi;\nrm -rf /usr/local/lib/node_modules/strapi;\nrm -rf ~/.npm;\nrm -rf ~/.local/share/verdaccio/storage/strapi;\nfind /PATH_TO_CLONED_STRAPI_REPO/strapi -name \"node_modules\" -type d -exec rm -rf '{}' +;\nfind /PATH_TO_CLONED_STRAPI_REPO/strapi -name \"build\" -type d -exec rm -rf '{}' +;\nfind /PATH_TO_CLONED_STRAPI_REPO/strapi -name \"package-lock.json\" -type f -exec rm -rf '{}' +;\n4. Change the version number of all strapi modules to a new unique one (e.g. v3.0.0-custom) and also update the version numbers of all strapi-related dependencies. This means you have to edit a lot of package.json files.\n{\n  ...\n  \"version\": \"3.0.0-custom\",\n  ...\n  \"dependencies\": {\n     ...\n     \"strapi-admin\": \"3.0.0-custom\",\n     \"strapi-utils\": \"3.0.0-custom\"\n   },\n   ...\n}\n``\n![bildschirmfoto 2018-09-10 um 11 36 57](https://user-images.githubusercontent.com/24314119/45289803-5e2ca380-b4ee-11e8-851e-f4694b4ca483.png)\n![bildschirmfoto 2018-09-10 um 11 37 23](https://user-images.githubusercontent.com/24314119/45289814-61c02a80-b4ee-11e8-94e9-09f56bb0c415.png)\n5. Do aTAG=alpha npm run releaseto the local package registry\n6. Do anpm install strapi@alpha -g7.strapi -vshowsv3.0.0-custom8. Create a new strapi project withstrapi new strapi-project9. Create a new content type with the content-type-builder plugin\n10. content-manager and content-type-builder plugins should show all new changes. @maturanomx I remember having similar errors during the build, especially the one with thelayout.jsfile. So, I think clean up config files, build directories, databases is really important here and to make sure that there are no changes in your cloned repo. Even anpm run setupornpm run setup:buildslightly changes some files. Secondly it is really important to change/increase the version numbers within thepackage.json` files and also to update the version numbers of the dependent strapi modules (forgot to mention this). I will update my previous answer to reflect all of my changes and give more details.. ",
    "nandiheath": "I have got the exactly the same problem. What have I done is to remove the content management plugin completely and then reinstall it through the admin panel, after a reboot it works. However when I tried to create a new entry for a model through the page, it got stuck again.\nMy project is build without --dev and was working very well. The problem appears when I checkout it on another laptop. . ",
    "joseshiru": "Same is happening here . \n@lauriejim I've tried that, however Strapi is changing its folder name after creating a new project. @lauriejim \nYeah, Windows 10 (64). \nWith and without NVM, I've tried it with different versions of nodejs (from 8.11.4 to 10.9.0) and it always displays the same issue.\nIt happens with all the database engine options.. ",
    "ochanje210": "having same issue here... @NickBolles I have tested it and it works! \ud83d\udc4d Thanks!. ",
    "stiko": "I have created a script that does the upgrade (for mongo only rn) you can see it here. @derrickmehaffy It's following the guide Strapi provided.\n1. Create a new project (in a temp folder)\n2. Move necessary files to the new project\n3. Check what plugins are installed to reinstall later\n4. Move (new project's) admin folder to the current project\n5. Move (new project's) plugin folder\n6. install any missing plugins\nFor step 1 it will show the regular strapi new project_name where the user can follow the steps and it doesn't matter what DB config will generate as we are interested only in admin and plugins folders.\nI was gonna read database.json to finish the steps needed for the DB, but thought will do Mongo first since that's what I'm using, and I'm not sure if regenerating api is unnecessary since after testing without that it upgraded just fine.. @lauriejim I don't seem to able to reproduce. It happened while I was developing and testing.. @lauriejim Sure,\n1. Visit a content type\n2. Filter to search (3 letters or more)\n3. try to delete one of the contents\n4. You should get an error. If not, try again with more letters.\n. Update: I just tested it with a different content type and it works, so I started looking at the calls it makes and when it fails (Only with this one content type).\nWhen I delete without filtering it makes this successful call\nhttp://localhost:1337/content-manager/explorer/[content_type_singular_name]/5bd237a9f0ba82d37c8a4907?source=content-manager\nBut when I filter it fails while it's making this call\nhttp://localhost:1337/content-manager/explorer/[content_type_singular_name]/?source=content-manager\nIt looks like it's missing the id for some reason.\nThis happens only with contents that were added via POST request (not via UI).\nI will update to 14.4 sometime today and see.. Updating to 14.4 does not solve this issue in addition to the weird behavior of 14.4.\nThis happens only with contents that were added via POST request (not via UI).. I found the issue. I had a json field that was empty. It makes sense for it to not save, but I think I should be able to remove it. I'm not sure if that was intentional or it's a bug.\nIf you're curious how I had an empty json field on the first place, I added the content via HTTP POST. Sure, Let me clarify some things before I explain\nBackground\nJson field: even if it's not required, it can NOT be empty. At least you have to add {} to it in order to be able to save. The UI (after the update) is smart enough to add {}, but if you make a POST request without the json field, it will leave it empty.\nIssue\nFor clarity let's add a content type called test and It's fields are title type string and jsonfield type json\nMake a POST request to localhost:1337/tests with this body \n{\n  \"title\": \"test title\"\n}\nNow go back to the UI and click on test content type\nThen add to the filter test \nIf you try to remove it, it will give you an error.\nWhat's interesting is that if you don't filter, it will remove it just fine.\nAlso, if you look at the content you just added, you'll find jsonfield is empty.\nSolution \nI think there are two solutions\n1. HTTP request should do what the UI is doing\n2. JSON field always default to {} via HTTP. I think it can go both ways. It is the only search/filter bar on that page.. My bad I never used filters :( \nIt's the search bar. Same issue here. I had to roll back to 14.3. All my content types disappear if I modify a content type from content type builder. I only get them visible if I clear cache from browser settings.. For those who get this error\nAdd data: to csp.policy.img-src in config/environment/your_env/security.json\n\"csp\": {\n    \"enabled\": true,\n    \"policy\": [\n      {\n        \"img-src\": \"'self' http: data:\"\n      },\n      \"block-all-mixed-content\"\n    ]\n  },. ",
    "eComEvo": "@derrickmehaffy what is the point of blah:string in strapi generate:api modelname blah:string? When I tried what you suggested, I was able to migrate using only strapi generate:api modelname but I wanted to be sure I didn't miss something critical here.. Could I use this script to migrate a MongoDB install to a PostgreSQL based install?. Turns out the 403 forbidden was due to some cached .htaccess restriction. Still can't get the SSL to work.. @derrickmehaffy I'm not sure if I saw your guide or someone else's. Based this off a number of tweaks and got it working on port 80, but using HTTPS does not work even if I switch from http2.\nThe nginx is just a generic Laravel Forge starting nginx file with self signed Let's Encrypt I tweaked a bit.\nThis is the current nginx conf that works on port 80. Any idea how to tweak it out to work on port 443?\n```\nupstream strapi {\n    server 127.0.0.1:1337   max_fails=1 fail_timeout=5s;\n}\nserver {\n    listen 80;\n    listen [::]:80;\n    server_name staging.api.example.com;\n    root /home/user/staging.api.example.com/public;\nssl_protocols TLSv1.2;\nssl_ciphers ECDHE-RSA-AES256-GCM-SHA512:DHE-RSA-AES256-GCM-SHA512:ECDHE-RSA-AES256-GCM-SHA384:DHE-RSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-SHA384;\nssl_prefer_server_ciphers on;\nssl_dhparam /etc/nginx/dhparams.pem;\n\nadd_header X-Frame-Options \"SAMEORIGIN\";\nadd_header X-XSS-Protection \"1; mode=block\";\nadd_header X-Content-Type-Options \"nosniff\";\n\nindex index.html index.htm index.php;\n\ncharset utf-8;\n\nlocation / {\n    try_files $uri $uri/ @strapi;\n}\n\nlocation @strapi {\n    proxy_pass http://localhost:1337;\n    proxy_http_version 1.1;\n    proxy_set_header X-Forwarded-Host $host;\n    proxy_set_header X-Forwarded-Server $host;\n    proxy_set_header X-Real-IP $remote_addr;\n    proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n    proxy_set_header X-Forwarded-Proto $scheme;\n    proxy_set_header Host $http_host;\n    proxy_set_header Upgrade $http_upgrade;\n    proxy_set_header Connection \"Upgrade\";\n}\n\nlocation = /favicon.ico { access_log off; log_not_found off; }\nlocation = /robots.txt  { access_log off; log_not_found off; }\n\naccess_log /var/log/nginx/staging.api.example.com-access.log;\nerror_log  /var/log/nginx/staging.api.example.com-error.log error;\n\nerror_page 404 /index.php;\n\nlocation ~ \\.php$ {\n    fastcgi_split_path_info ^(.+\\.php)(/.+)$;\n    fastcgi_pass unix:/var/run/php/php7.2-fpm.sock;\n    fastcgi_index index.php;\n    include fastcgi_params;\n}\n\nlocation ~ /\\.(?!well-known).* {\n    deny all;\n}\n\n}\n```\nHere is my updated server.json file to go with the port 80 change:\n{\n  \"host\": \"localhost\",\n  \"port\": 1337,\n  \"proxy\": {\n    \"enabled\": true,\n    \"ssl\": true,\n    \"host\": \"staging.api.example.com\",\n    \"port\": 443,\n    \"admin\": \"staging.api.example.com/admin\"\n  },\n  \"autoReload\": {\n    \"enabled\": true\n  },\n  \"cron\": {\n    \"enabled\": false\n  },\n  \"admin\": {\n    \"autoOpen\": false\n  }\n}\nThe admin URL still shows as localhost:1337/admin after the server starts but somehow still works when I visit staging.api.example.com/admin.. @javialon26 yep! I'll look into that issue.. @javialon26 the following snippet posted by @gksander fixed this issue with the users:\nlocation /content-manager {\n  proxy_set_header X-Forwarded-Host 'strapi';\n  proxy_pass http://localhost:1337;\n}. Found solution here:\nhttps://github.com/strapi/strapi/issues/1880. @lauriejim I installed Strapi using the package.json it generated right after I ran strapi new staging.strapi.example.com.\nThis didn't fix the 521 server issue. It only removed the mongoose warning. Strapi still repeatedly outputs these lines instead of actually running under pm2:\n0|strapi  | > staging.strapi.example.com@0.1.0 start /home/user/staging.strapi.example.com\n0|strapi  | > NODE_ENV=development node server.js\nBy accident I noticed that if I start strapi with pm2, then stop it, then start the existing pm2 processagain, that the server error goes away.\nAny idea what's causing this behavior?. @derrickmehaffy I figured out the issue. Strapi does not like it when the --watch flag is used with pm2. When pm2 is not watching, the server boots fine.\nEliminating the periods from the project name didn't fix the issue. I simply named the project \"strapi\" but it still crashes the server on a clean install under pm2 with the --watch flag.. ",
    "pauldariye": "Great guide @derrickmehaff ! Any chance you're open to sharing the script?. Hey @lauriejim this is awesome! When is it likely to get merged?. I believe this is already released @kgrosvenor. I'm using it atm on 3.0.0-alpha.24. hey @lauriejim, did you create a new content type with at least one media field type?. How can I provide more info?. It happens when I run strapi start. I think it has to do with graphql and the file type.. Thanks @jacargentina, just ran into this issue. I'll retry this again @soupette and share any errors on the console.. You're right @petre2dor! I just tried this and it works. when you run npm run setup and I've deployed it to production.. Happy to help there @soupette. . hey @lauriejim, when is the next version of Strapi scheduled for release?. Got it :D. Thanks ... Happy Thanksgiving from NY. I'm curious what setup works for other users for file uploads. I've tried to turn off CORS and use a few different options but to no avail.\ncc: @lauriejim . My bet was that that I have my server and security configuration all wrong (hence me posting the config page). I'm curious if those settings are correct. I'll give it a try without GraphQL @lauriejim . \nHey @lauriejim, I gave the rest api a try but still getting the same error.\nHere's my code:\n```javascript\n...\nconst form = new FormData()\nform.append('ref', 'file')\nform.append('field', 'avatar')\nform.append('refId', id)\nform.append('file', file)\nconst endpoint = ${process.env.API_URL}/upload\nconst response = await fetch(endpoint, {\n  method: 'POST',\n  body: form\n})\n...\n```\nCould you share the server/security config for a strapi instance you have in production that uses a provider like cloudinary or aws?\n. hey @lauriejim, you're right. I'm unsure what the right production config is to avoid this for the API. Are you able to share an example production server and security configuration?. Thanks @tombunn, I'll give this a try.. I gave it a try again @tombunn and the upload works. However, I'm getting a weird server error. (See below)\nCode\njavascript\n                          <Fragment>\n                            <Avatar src={'/static/logo.png'} width={105} height={105} />\n                            <IconButton name=\"edit\" size={16} color=\"white\" fill=\"white\" />\n                            <FileInput\n                              type=\"file\"\n                              name=\"file\"\n                              onChange={async ({\n                                target: {\n                                  validity,\n                                  files: [file]\n                                }\n                              }) => {\n                                try {\n                                  if (validity.valid) {\n                                    const form = new FormData()\n                                    form.append('ref', 'user')\n                                    form.append('refId', id)\n                                    form.append('field', 'avatar')\n                                    form.append('files', file, file.name)\n                                    const response = await uploadFile(form)\n                                  }\n                                } catch(err) {\n                                  console.log(err)\n                                }\n                              }}/>\nid here is an authenticated user's id. \nUploaded File (on heroku and using cloudinary as a provider)\n\nError\n\n. @lauriejim, the error seems to be coming from strapi-hook-mongoose#L163. Uploads work for all custom content models so the culprit is the users-permissions_user model which seems to be missing the globalId. \nI'm not too familiar with the strapi codebase but I'm happy to work on a PR if someone's able to point me in the right direction.. hey @Aurelsicoko. I see you're assigned to this. Any way I can help?. Thanks, @lauriejim !!! I'll close this as soon as I give it a try.. ",
    "bobaekang": "Thanks for sharing your upgrading strategy, @derrickmehaffy . Please allow me to ask a few questions to better understand what your method is doing:\n\nWhat stops you from simply copying the the entire /api directory from the old project rather than using strapi generate:api and then copy over the [model].settings.json files?\nAre [model].settings.json files the only items that I need to copy over to the new app in order to retain the content type settings, including media ?\nIs copying over /plugins/users-permissions/models/User.settings.json and /plugins/users-permissions/config/jwt.json all that is needed to retain the user permission settings?\nHow about uploaded files--is there anything I need to copy over from /plugins/upload/?\n\nThank you in advance for your answers\ud83d\ude03 . ",
    "gkarmas": "Sorry @lauriejim \nInformations\n- Node.js version: 9.11.2\n- npm version: 5.6.0\n- Strapi version: v3.0.0-alpha.14\n- Database: mongo\n- Operating system: CentOS Linux 7 (core) \nWhat is the current behavior?\nSimple object without using graphql on strapi, does not return anything else but string objects ! Is it a vuex problem? Everything works fine when using graphql and calling an array but I have to call the user data twice since i am already authenticating the user via object. seems like the object doesn't load anything with sub-arrays.\nSteps to reproduce the problem\nI tried to call the object via multiple vuex projects, user array doesn't return anything but string objects.\nWhat is the expected behavior?\n\nSuggested solutions\nI have nothing in mind, i tried everything I could think of.\n. @lauriejim thank you for the response. No, strapi does populate multiple levels for all custom items BUT users. I don't understand the reason why strapi is granting full multiple level access to graphql plugin and strapi's internal api but not direct object calls to strapi's sdk. Thanks for your great work and support. . thank you so much @lauriejim  - I would need a bit of guidance on how to achieve that. I tried multiple times and couldn't figure it out. Any help would be much appreciated. I am struggling with this very issue for a while.. I just did https://github.com/strapi/strapi/issues/1980 thanks @lauriejim . @Aurelsicoko no. Playground and strapi/users/, are displaying all levels. Object return doesn't for users. Direct api calls don't return any sub-levels of the users property but \"role\". Everything else is ignored. \n\n\n. @Aurelsicoko  this is still unresolved. Did you confirm ? Users -> DeepPopulate is still locked and no way to deep populate any custom fields. This is related to Strapi / Mongoose. . ",
    "jrperdomoz": "@kamalbennani I have already tried doing this before opening the issue. I'm also following the documentation: https://strapi.io/documentation/guides/graphql.html#execute-a-policy-before-a-resolve. I can see that the strapi-plugin-graphql/services/Graphql.js service look up the property \"policies\" and not \"polity\", but it does not work anyway.\nhttps://github.com/strapi/strapi/blob/fa94519c1d6a4daba2ed5238afc1060e97f47ea1/packages/strapi-plugin-graphql/services/GraphQL.js#L695. I have solved it by moving my resolver to the api controller.\njs\n  /**\n   * Retrieve contact records and count them.\n   *\n   * @return {Object|Array}\n   */\n  findCount: async (ctx) => {\n    const rows = await strapi.services.contact.fetchAll(ctx.query);\n    const count = await strapi.services.contact.count(ctx.query);\n    return { count, rows };\n  }\nthen in the schema.graphql\n``js\nmodule.exports = {\n  definition:\n    type Contacts {\n      count: Int!\n      rows: [Contact]!\n    }\n  ,\n  query:\n    _contacts(sort: String, limit: Int, start: Int, where: JSON): Contacts\n  ,\n  resolver: {\n    Query: {\n      _contacts: {\n        description:Retrieve contact records and count them.`,\n        resolverOf: 'Contact.find',\n        resolver: 'Contact.findCount'\n      }\n    }\n  }\n};\n```. The local resolve of the \"schema.graphql\" is not preceded by the policies. . I would like to know what is the procedure to have my development environment on my local machine and be uploading deployments to my production server, for example in digitalOcean. I have it not clear...\n```\nDevelopment mode\nNote that to modify the administration panel, your project needs to be created with using the dev flag, an example of such would be: strapi new strapi --dev.\n1 \u2014 Install its own dependencies\nRun npm install from the ./admin folder.\n2 \u2014 Launch the development server\nRun npm start from the ./admin folder. That's all.\n3 \u2014 Go to the browser\nYou should be able to see the admin at http://localhost:4000/admin.\n```\nIs this still valid? A little light please. Another problem that I have is the following: I want to get the count and values \u200b\u200bfor a search using \"_q\", but even though this time the values \u200b\u200bare the expected ones the count is wrong.\n\n. @Aurelsicoko The \"buildOr\" function only creates an operation $or of mongo, so it would only work for mongoose. Then what would be the ideal place for this function?. @lauriejim I don't know which is the ideal place to move the function, but if I think that for the sake of not repeating code needlessly it should be in a place of easy access. This same code snippet I've looked at it in the APIs.\n. @lauriejim @Aurelsicoko  I move the buildOr function again to Aggregator.js. @Aurelsicoko  In what way can I call the function once there?\n. @Aurelsicoko  I think everything is correct. \n\nBut after running the npm run setup command and running my project I have this bug: #2251 \n. > @jrperdomoz Can you told me why you use /* eslint-disable no-unused-vars */ in many files ?\n@lauriejim Because a few days ago the code did not pass all the checks, then I saw several alerts before doing the commit. similar to this:\n\nIf it's a nuisance, I can eliminate them. @lauriejim I have already tested the operation on my machine, now you can try it. . because it was duplicated, there was another exactly the same\n. I'm sorry it was a mistake, I've already corrected it.\n. ",
    "nikosolihin": "I found that custom resolvers string like 'Contact.findCount' remains a string during schema generation and never points to an actual controller function because queryName always includes the variable action which in the case of custom resolvers is undefined: \nhttps://github.com/strapi/strapi/blob/9b20f27657320e20f3255a2ec261ceb5a6b8be78/packages/strapi-plugin-graphql/services/Mutation.js#L40\nThis affects policies(#1887) and resolver function retrieval(#2766):\nhttps://github.com/strapi/strapi/blob/9b20f27657320e20f3255a2ec261ceb5a6b8be78/packages/strapi-plugin-graphql/services/Mutation.js#L43\nhttps://github.com/strapi/strapi/blob/9b20f27657320e20f3255a2ec261ceb5a6b8be78/packages/strapi-plugin-graphql/services/Mutation.js#L57\nThe fix is a simple conditional based on the presence of action:\nconst queryName = action ? `${action}${_.capitalize(name)}` : `${name}`;. @derrickmehaffy That works perfectly!. @mnlbox I was in a similar situation and simply callingctx.set to another value worked fine. To remove the header use ctx.remove per the Koa docs.. I can confirm this issue on a fresh strapi install.\n\nNode.js version: v10.15.0\nNPM version: 6.9.0\nStrapi version: strapi@3.0.0-alpha.24.1\nDatabase: mongo\nOperating system: Mac OS\n\nIn ./api/**/config/schema.graphql:\nresolver: {\n    Mutation: {\n      sendPromotion: {\n        resolver: strapi.controllers.promotion.send   // <----  this works\n        resolver: 'Promotion.send'  // <----  but not this\n      }\n    }\n  }. @IceOnFire I think this issue is similar to #2766 where 'Patient.find' remains a string during schema generation and never points to an actual controller function because of an undefined var queryName\nhttps://github.com/strapi/strapi/blob/9b20f27657320e20f3255a2ec261ceb5a6b8be78/packages/strapi-plugin-graphql/services/Mutation.js#L40\nCustom string resolvers and policies work after I modify queryName based on the presence of action:\nconst queryName = action ? `${action}${_.capitalize(name)}` : `${name}`;\n. I also found a few other bugs in Mutation.js that were causing my custom controller function to return null. I've made the modifications but I feel like this needs more tests on my part. I'll see if I can submit a PR soon.. Strange...I haven't encountered that error message before. Could you paste your custom schema? . ",
    "AboAdam": "can you please re-open this again . @lauriejim . hi @maturanomx  , yes it does not but there are some packages that makes that possible, and im trying with that .\nStrapi-hook-bookshelve which depends on strapi-hook-knex can make this work , but still getting some errors which i posted here . \nyou can read about the packages here\nhttps://github.com/strapi/strapi/tree/master/packages/strapi-hook-bookshelf\nhttps://www.npmjs.com/package/strapi-bookshelf\nbut still im not sure i can make it work here . And sure you could keep in touch \n. ok then , thank your for the reply , i have spent two days on this , i guess i will move to something else then \ud83e\udd47 @derrickmehaffy \n. ",
    "atlas365": "Ok so running npm run setup got me access to the admin panel, but I don't see any plugins..\n\nI ran npm install inside each of the plugins but still nothing. Is there another setup method I need to run?. Unfortunately this isn't on a public github.   And I tried to run 'npm run setup:build' but I got an error message saying 'missing script: setup:build' and I didn't see an option for setup:build in the package.json.  . Yeah no build folder. I can see it's being ignored in the .npmignore.  Is the best way to fix that to change the .npmignore? Should I restart my project using --dev? . Oh wait nevermind that's not gitignore. Perfect I think that's what I'm going to do then. Thank you very much for your helpful and very timely replies!. ",
    "adityakmr7": "But when I try to run \nstrapi new myProject terminal says strapi is not a internal or external command. \nWhy is that??. @derrickmehaffy can you please tell me how to map path for npm package\n. No I didn't found the way to modify the path. I reinstalled it and after that it was working so I closed the issue.. @TokenChingy  can you please tell me what is the command i have to run. I am not getting it, I am new here just started to learn strapi.\n. ",
    "fpetrouchka": "Thanks for reply @lauriejim , just edited bio.\n\nI tried to create a new content type from the Content Type Builder and I set test article as name.\nAnd it create my content type successfully.\n(Testarticle, cause you can't use white space in content type name)\n\nI know, it seems successfully created Content Type at the Content Type Builder w/ automatically lower-cased, but it stops at loading status when I try to create some records from left menu.\n(or...Is this issue caused by any other factor?). @Tonours @lauriejim Thank you for specify & fix that issue ;). Hi @pulpiks thanks for constructive proposition :)\nthat seems great if we had inline-JSON editor in there (but im afraid a bit this feature could fatten up the application).\nwonder if there were Strapi-esque simple way to make key-value editor like Content Type Builder though.. ",
    "sgrund14": "Hi, I'm running into the same issue! I just created a strapi app using the tutorial, and deployed it to heroku using the official guide. When I run the server locally, everything work fine. But on production I get this error when I try to upload an image via the Files Upload plugin: Error: ENOENT: no such file or directory, open '/app/public/uploads/c9b0089c4b5b4477b870573cfd00ca1f.jpg'. Do I need to change a value in the config somewhere perhaps?. @lauriejim But if I want aws to be available in the production version of app, don't I need to have the plugin in my package.json?. @lauriejim Right. But the problem is that the production build is failing when I add it as a dependency in my package.json. So I can't even deploy it : (. @lauriejim I'm also actually noticing that I get the same error for any dependency I try to add. If I add anything to the package.json dependencies (strapi-upload-aws-s3, strapi-upload-cloudinary, even a lodash.partition) I get the error mentioned above.. that's done it! thanks @derrickmehaffy . @derrickmehaffy @rw3iss I'm getting this error too, but using a MongoDB database. Cannot read property 'getIn' of undefined. It's also a completely new installation. Happening when I click on a new content type I've created from the content manager. Mongo server is running locally.\n\n. ",
    "TetHat": "@lauriejim I know this has been closed for a while, but just a suggestion on this. Your blog has a tutorial explicitly deploying the Strapi API to Heroku, in which that project uses uploaded images. I don't believe anywhere in here is it mentioned that you have to install upload providers, nor that Heroku will delete the files uploaded through Strapi admin. Would be pretty beneficial for this tutorial to at the very least mention that's going to take place when uploading Strapi to Heroku, and provide the above links on that topic. Thanks!\nhttps://blog.strapi.io/cooking-a-deliveroo-clone-with-nuxt-vue-js-graphql-strapi-and-stripe-bonus-deploy-part-7-7/. @derrickmehaffy \nThanks for the links, however I was not looking for links on the issue. My point was that the tutorial in my above comment is rather misleading and should provide users with links explaining that it would occur. Alas, the tutorial does not include any mention of this. It merely says \"deploy the Strapi API to Heroku and you're done!\" Which is far from the truth. Any newcomer to both Strapi and/or Heroku would have no idea this takes place, and adding in any of the links either you or @lauriejim mentioned into that tutorial seems like a pretty easy thing to do for anyone who comes to that tutorial in the future. Thanks again!. ",
    "EDMONDGIHOZO": "after installing strapi by npm , i tried to create project by the command line says that 'strapi' is not recognized as an internal or external command,\noperable program or batch file.. ",
    "andrewrjohn": "I have the same issue, putting npx in front of it works for me.. It's super frustrating, I feel like there should be a 'clear cache' option, or something similar.. Can this get merged please?. ",
    "robbywashere": "\"strapi\": \"3.0.0-alpha.11.2\"\n. ",
    "geometrybase": "If you server is behind nginx, it maybe nginx problem. try change client_max_body_size 1000M; in http or server config. ",
    "DMomplaisirASC": "@TokenChingy - I had this issue before and it seems like the new update fixes it, at least from checking in playground.. No,  I refound the bug - it seems to be 4 levels deep. . It seems that if you refresh the page x amount of times, it functions.  It might be sourced from the multiple instances of the babel-polyfill or something with the strapi-helper-plugin which I cant seem to source.. @derrickmehaffy I'm on Chrome right now, and I can do it after a random ammount of refreshes (about 6ish).  It seems when you get to a refresh it works but if you try to save content, it automatically white screen and crashes again. . I'm still having this issue. What should I do?. ",
    "psander-com": "I can also confirm that this Bug still exists. Upgrade from alpha@14.0.0 to alpha@14.1.0 and then alpha@14.1.1. Since alpha 14.1.0 the 4th level contains the Error.\nKind regards.. Issue is resolved, but introduced a new bug as @goras wrote. The issue is located in the graphql module in strapi-plugin-graphql.\nI have a workaround by replace the dependency back to \"graphql\": \"^0.13.2\", in the package.json of the plugin ./plugins/graphql.\nThis issue is known by the maintainers of graphql repo and an issue exists for this problem: https://github.com/graphql/graphql-js/issues/1518.\nHope it helps you for the moment.. ",
    "danielmahon": "Looks like this is landing in graphql@14.1.0 https://github.com/graphql/graphql-js/issues/1518#issuecomment-429123245. @kamalbennani @NickBolles this looks great, but are we exposing too much info here? I don't think you should be able to query all other users in your role.\n~~Maybe we should remove the users field in the User.me controller's response?~~\nEDIT: I don't think this will work since the GraphQL query will merge role and its children with the resolved relations\nhttps://github.com/strapi/strapi/blob/9b1c2c2b0d4048ac51c846381e61c5bdd2a3a246/packages/strapi-plugin-users-permissions/controllers/User.js#L43\nThis query lets me see emails and other info about other users\ngraphql\nquery {\n  me {\n    _id\n    email\n    role {\n      _id\n      name\n      users {\n        _id\n        email\n        username\n      }\n    }\n  }\n}. @NickBolles You can query that with GraphQL but AFAIK the REST API doesnt return the users and permissions relation inside role. Unless there is an additional query param or something to enable that. For GraphQL the UserPermissionsRole is where those are being generated:\n```graphql\ntype UsersPermissionsUser {\n  _id: ID!\n  username: String!\n  email: String!\n  confirmed: Boolean\n  blocked: Boolean\n  role: UsersPermissionsRole\n}\ntype UsersPermissionsRole {\n  _id: ID!\n  name: String!\n  description: String\n  type: String\n  permissions(sort: String, limit: Int, start: Int, where: JSON): [UsersPermissionsPermission]\n  users(sort: String, limit: Int, start: Int, where: JSON): [UsersPermissionsUser]\n}\n```\nIm not sure how this should be fixed as it seems like maybe a bigger systemic problem of being able to run resolvers of nested relations without needing to pass a permissions check since you already passed the root one... maybe this is only a problem with the me route?\nIm still super new to Strapi but seems like there are 3 options:\n1. me() should return its own type (not UsersPermissionsUser)\n2. /users/me route needs to be locked down\n3. nested relation resolvers should also pass permissions checks... complicated?\n. @NickBolles user and users will indeed return the nested role and users but they should (IMO). And they are disabled by default. me however, is enabled by default and doesn't require authentication.\nAs a \"Authenticated\" user I can access me, but not user or users unless I add those routes to the permissions. As an \"Administrator\" user I can access everything.\nI think the nested relation resolvers are being merged here:\nhttps://github.com/strapi/strapi/blob/9b1c2c2b0d4048ac51c846381e61c5bdd2a3a246/packages/strapi-plugin-graphql/services/Resolvers.js#L271-L438\nWe could do a permissions check on every relation but I think thats going to get crazy complicated because you can't currently define the nested permissions, my gut tells me its not feasible.\nI think the simplest solution would be to create a new return type for me =>UsersPermissionsMe and define me.role as JSON or flatten it, so that GraphQL doesnt see that as a relation and allow you to query it. Im not sure what that would break or how much is dependant on the current /users/me route.\nI suppose it comes down to when you query for me() you aren't technically querying for user() so you shouldn't be given an actual User return type...\n. @kamalbennani Thanks for the confirmation about the nested data. I don't think its too much of a problem for the standard CRUD routes since you probably shouldn't be opening those up to client apps too much anyway. (see note below)\nWhat do you think about User.me returning its own type? Like UsersPermissionsMe. Will it screw up much in the rest of Strapi?\n\nNOTE: Not to get off-topic but I have a couple of projects using Prisma and I like how they talk about isolation of your API server vs the ORM server. To \"hijack\" their graphic for Strapi's scenario:\n\n. @NickBolles I vote for the custom return type for now, since the problem is GraphQL specific, but it's probably worth exploring directives in another PR.. I'm not sure if this is the \"correct\" place to add this provider or if it should just remain a standalone package. Let me know, thanks!. As per #1975, looks like the provider's max file size isnt passed to the koa-body parser, so currently we need to manually update request.json in our respective environment and add the formidable config like so:\n\"formidable\": {\n  \"maxFileSize\": 1048576000 // defaults to 200MB\n}. Destination path will now be:\nhttps://storage.googleapis.com/[bucket-name]/[hash]/[slugified-file-name].[ext]. @NickBolles @Aurelsicoko Might be worth looking into: https://github.com/maticzav/graphql-shield. ",
    "mikebutts": "\nnpm install graphql@git://github.com/graphql/graphql-js.git#npm\n\nThis fixed it for me. ",
    "ChrisSargent": "I am also experiencing this issue - if I can provide any information to help with debugging, please let me know.. I've been doing a little bit of debugging on this this morning. In the constructor of Manager.js in content-type-builder/utils, when it is throwing an error, the variable with name layout is coming through as undefined.. Okay.... I think this could be a casing issue, it only happens if you use some camel / pascal casing and it looks like it's down to the value that's being passed to state.getIn.\nIn plugins/content-manager/admin/src/containers/App/reducer.js at this case of the reducer switch:\njs\ncase SET_LAYOUT: {\n  let updatedList = List([]);\n  const path = action.keys.split(\".\");\n  const modelName = path.length > 2 ? path[2] : path[0];\n  const layout = state.getIn([\n    \"modifiedSchema\",\n    \"layout\",\n    modelName,\n    \"attributes\"\n  ]);\nThe modelName variable comes through in all lower case but in the reducer, the value is in the original case as defined when it was setup.\nIn my case, I had setup a model as appUser but the modelName was coming as appuser and the nested value was not being found (see screenshot).\n\nI setup the same model using jjuser and it worked with no problems.\n. @hansemannn, well when I first ran in to this problem I couldn't get back to a working / clean state either. So, I setup a new repo with these changes to that I could track exactly what was being changed in the code. I also committed a working .json file from the core_store collection that Strapi creates. There is an entry there with a key called plugin_content-manager_schema and it seems to control the menu items and available content types for editing. By committing it, I could also monitor the changes being made.\nHowever, looking at the original issue it doesn't seem that they were using any casing in their models.. I\u2019m not sure. It seems that maybe this dB entry is created from scratch every time a model type is edited through the UI. Or maybe it updates it. Either way, it seems it would be better if it always recreated the entry based on data in the code. \nSent from my iPhone\n\nOn 16 Sep 2018, at 15:10, Protogon notifications@github.com wrote:\nAfter your reply @ChrisSargent looked into db's core_store and realised that is the root of these problems, at least in my case.\nIn the migration guide it does not mention anywhere that you need to copy core_store from previous db or nothing works. I assumed this entry gets automatically created when it reads what's inside the /api/ folder but it seems it doesn't. So the schema of the content-manager plugin does not have any info about these apis, thus the errors.\nThe question: Is there anyway to force core_store creation correctly from available apis?\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub, or mute the thread.\n. \n",
    "mandaputtra": "3.0.0-alpha.14.2 still problem, if i can help, where I should start?. ",
    "fsc7": "\n@anderson916 see the comment above yours, there is an incompatibility from older strapi versions with the content manager plugin, you need to purge the content-manager schema entry from your DB in the core_store table (or collection in mongo)\n\nThat did the trick. Thanks for the information.. REST Request works fine.. @lauriejim It is not exact the same problem but it can be related. My problem happens with simple one-to-many relation.. Hello @lauriejim ,\nI will not submit it as a merge request because I think is not yet a complete solution. But it solves partially the problem and I believe it might help somehow to identify where the problem is.\nIn plugins/graphql/services/Resolvers.js\nline 376\nI changed \nif (association.type === 'model') {\n              params.id = obj[association.alias];\n            }\nto\nif (association.type === 'model') {\n              if(!isNaN(obj[association.alias])){\n                params.id = obj[association.alias];\n              } else {\n                params.id = obj[association.alias].id;\n              }\n            }\nAnd now I can get the correct response.\nHope it helps somehow and you can find the proper solution.\nBest regards,\nFelipe. Hello @NickBolles,\nThanks for the response, I really liked to give it a try but unfortunately, my knowledge is limited.\nSorry for the newbie question, but here it goes anyway: I have a strapi server running, how can I test this pull request and revert it for the original state if necessary?. @shuzootani You are doing nothing wrong. Strapi is. GraphQL plugin is not fully functional right now.. ",
    "Matildahermansson": "Hi, \nI'm working with a React + Strapi project and when I ran strapi start in my terminal I get to my admin page. However, when I press Content Manager I am met by Content Manager\nConfigure the default settings for all your Content types where I can either Save or Cancel. Whichever one I choose sends me to a blank page called http://localhost:1337/admin/plugins/content-manager/ctm-configurations\nI cannot see any of my products or pics i uploaded a few weeks ago. \nWhat can i do? \n\n. ",
    "brandonin": "I just created a clean version with strapi version 3.0.0-alpha.14.4.0 and am still receiving the issue as stated above.. @jacargentina I've tried the proposed fix, but am still running into the issue.. ",
    "kenn44": "I have the same problem in a fresh project. @avirankatzsofi @T-Zahil  I solved it by running\nnpm run setup. No @devaublanc it's a fresh new project. @Globerada not really, I can't Add Content Type. This https://stackoverflow.com/a/53163646/7932879 work well. I have to run: \n\nnpm run setup. \n",
    "avirankatzsofi": "I still experience this bug in alpha 14.5 - but only on my server (on my local machine everything is fine). On my server, this bug occurs on a fresh project as well.. I'm experiencing this bug on a new strapi installation when trying to add a new user from the admin panel. Blank screen, and the same minified error.. @soupette Yes. However, after looking into #2310 I tried creating a user without using a proxy and it worked.. ",
    "rahimimo": "I have also this spinng wheel when I want to add a post and production but not development. Nothing seem to help. . I have a question @soupette If strapi uses three different database for production, staging and development and the content type which is built in development is not available in production and production does not have content type builder. Then what is the way to create a content type in production database ? Other than making the databases the same . ",
    "tombunn": "@hansemannn I had a hard time with this the other week and figured it out eventually. The documentation and examples need improving in my opinion as it was not clear at all. This example below might help you and I can confirm it does work for my React project. There are some dispatch actions for redux which you can ignore but I hope this helps.\nI'm not sure if you are trying this but you cannot add the images when you add or update your item. You must upload the image first using the /upload endpoint. When the upload is successful the response can be then used for sending a POST or a PUT request to add or update the item with the files.\n```export const uploadImages = (refId, files, setSubmitting, history) => (dispatch) => {\n  const bodyFormData = new FormData();\n  const token = localStorage.getItem('token');\nbodyFormData.append('refId', refId);\n  bodyFormData.append('field', 'images');\n  bodyFormData.append('ref', 'product');\n// Add each file upload to the form data\n  files.forEach((file) => {\n    bodyFormData.append('files', file, file.name);\n  });\ndispatch(addImagesLoading(true));\naxios({\n    async: true,\n    crossDomain: true,\n    processData: false,\n    contentType: false,\n    mimeType: 'multipart/form-data',\n    method: 'POST',\n    url: ${process.env.REACT_APP_ENDPOINT}/upload,\n    headers: {\n      Authorization: Bearer ${token},\n    },\n    data: bodyFormData,\n    onUploadProgress: (progressEvent) => {\n      dispatch(uploadProgress(getUploadPercentage(progressEvent)));\n    },\n  })\n    .then((response) => {\n      if (response.status === 200) {\n        dispatch(addImagesSuccess(response.data));\n    dispatch(addImagesLoading(false));\n\n    // Check if form is submitting\n    if (setSubmitting) {\n      setSubmitting(false);\n    }\n\n    // Check if redirect needed\n    if (history) {\n      history.push('/products');\n    }\n  }\n})\n.catch((error) => {\n  dispatch(addImagesFailed(error.response));\n  dispatch(addImagesLoading(false));\n});\n\n};\n```\nHope this helps but if you need any more help with this let me know. @lauriejim I have a very similar issue and errors with this trying to upload any files using the GraphQL plugin with apollo-client-upload. There is an error message that comes back from the node server and this is why @pauldariye might be the CORS issue i think:\n```[ { [BadRequestError: Missing multipart field \u2018operations\u2019 (https://github.com/jaydenseric/graphql-multipart-request-spec).]\n    message: 'Missing multipart field \u2018operations\u2019 (https://github.com/jaydenseric/graphql-multipart-request-spec).',\n    locations: undefined,\n    path: undefined,\n    extensions: { code: 'INTERNAL_SERVER_ERROR' } },\n  headers: { 'Access-Control-Allow-Origin': 'http://localhost:3000',\n    vary: 'Origin' } ]\nError: Cannot wrap non-Error object\n      at Object.exports.assert (/usr/local/lib/node_modules/strapi/node_modules/hoek/lib/index.js:740:11)\n      at Object.exports.wrap (/usr/local/lib/node_modules/strapi/node_modules/boom/lib/index.js:95:10)\n      at strapi.app.use (/usr/local/lib/node_modules/strapi/lib/middlewares/boom/index.js:35:20)\n      at \n      at process._tickDomainCallback (internal/process/next_tick.js:228:7)\n```\nThis is using the following mutation:\nmutation($logo: Upload!) {\n      upload(file: $logo) {\n        id\n      }\n    }\nIf I try without using apollo-client-upload the mutation will return a success response but it will return null for the id ( or anything else) and no file is added. The format of the file is correct I think as there are no validation errors from GraphQL.\nHere is the client error:\n\nAny advice would be appreciated. Possibly i'm missing something..\n. @lauriejim I can confirm other mutations and queries work fine under the same conditions. I have also tested with the example in the strapi-examples repo which I imagine did work at some point. All types of upload fail, not just a single file with the same error message.\nI tested on both alpha version 13 and 18 and the result is the same regardless.. @pauldariye Your header with your Bearer token is missing in your REST example so unless the upload endpoint permissions are public it should fail I think? I did have a working example with REST that uses axios which you might want to adapt which you can find here.. ",
    "abhirathore2006": "@lauriejim i am currently using ubuntu 18:04 and node v10.0.0\nhere are the steps to reproduce\n1. created new project using version 3.0.0-alpha.14 with mysql database\n2. using Admin Ui create new content-type with one field 'Name'   of type string with required attribute and try to save it\n3. it  will throw error . ",
    "jrasm91": "I actually was running into the same, or a very similar problem. I was able to get the new project to create by bypassing the prompt and running the command with the cli arguments. \nstrapi new myApp --dbclient=mongo --dbhost=<host> --dbport=27017 --dbname=development --dbusername=admin --dbpassword=admin --dbssl=true --dbauth=admin\n. ",
    "uyouthe": "@maturanomx fixed. Guys?.... So?... merge or not?. Yeah! Thank you guys! . ",
    "schmitzl": "I also tried this with Strapi version: 3.0.0-alpha.14.1. This does not fix the problem on heroku and it also does not fix it for manual changes in the api files. The problem still exists for the following two scenarios:\n1) Heroku\nThe local store is not pushed to heroku. Heroku has its own store. Heroku also does not allow to modify anything through the content-type-builder plugin. Which means that the changes come only through pushes which does not update the store correctly.\n2) Changes in the API model files instead of changes through the content-type-builder plugin\nI can imagine there are people who do not want to build everything through the content-type-builder plugin. Any change, that is made directly in the files leads to the same problem as in issue #1903.\nI think, that there need to be some sort of a refresh of the store on restart of the server. Compare the schema to the files in the api folder and update it. Or at least give an option for a refresh on restart, that sets the store to null and builds it from scratch. \nFor now, I solved it by manipulating the schema in the store through the strapi console.. I installed the last version and now it works. I do not know what went wrong before. Thanks for your answer.. ",
    "dualitysol": "\nHello @dualitysol, can you give use the exact name of the Strapi version you use please.\n\nalpha: 3.0.0-alpha.14.1. ",
    "tomekkozysa": "I'm experiencing similar issue with strapi 3.0.0-alpha.16 and MySql (MAMP) plugin install, both GUI and cli, breaks the app. Uninstalling the app fixes the problem. . @derrickmehaffy I've just installed the plugin, and started strapi, here's what I get:\n(node:93403) UnhandledPromiseRejectionWarning: GraphQLError: Syntax Error: Expected :, found Name \"title\"\n    at syntaxError (/Users/tk/vue/strapi/s3/plugins/graphql/node_modules/graphql/error/syntaxError.js:24:10)\n    at expect (/Users/tk/vue/strapi/s3/plugins/graphql/node_modules/graphql/language/parser.js:1463:32)\n    at parseFieldDefinition (/Users/tk/vue/strapi/s3/plugins/graphql/node_modules/graphql/language/parser.js:886:3)\n    at many (/Users/tk/vue/strapi/s3/plugins/graphql/node_modules/graphql/language/parser.js:1523:16)\n    at parseFieldsDefinition (/Users/tk/vue/strapi/s3/plugins/graphql/node_modules/graphql/language/parser.js:873:50)\n    at parseObjectTypeDefinition (/Users/tk/vue/strapi/s3/plugins/graphql/node_modules/graphql/language/parser.js:826:16)\n    at parseTypeSystemDefinition (/Users/tk/vue/strapi/s3/plugins/graphql/node_modules/graphql/language/parser.js:724:16)\n    at parseDefinition (/Users/tk/vue/strapi/s3/plugins/graphql/node_modules/graphql/language/parser.js:150:12)\n    at many (/Users/tk/vue/strapi/s3/plugins/graphql/node_modules/graphql/language/parser.js:1523:16)\n    at parseDocument (/Users/tk/vue/strapi/s3/plugins/graphql/node_modules/graphql/language/parser.js:113:18)\n    at Object.parse (/Users/tk/vue/strapi/s3/plugins/graphql/node_modules/graphql/language/parser.js:48:10)\n    at Object.addPolymorphicUnionType (/Users/tk/vue/strapi/s3/plugins/graphql/services/Types.js:153:8)\n    at Object.generateSchema (/Users/tk/vue/strapi/s3/plugins/graphql/services/Schema.js:179:15)\n    at Function.initialize (/Users/tk/vue/strapi/s3/plugins/graphql/hooks/graphql/index.js:148:50)\n    at /Users/tk/vue/strapi/s3/node_modules/strapi/lib/hooks/index.js:19:29\n    at after (/Users/tk/vue/strapi/s3/node_modules/strapi/lib/hooks/index.js:122:39)\n    at /Users/tk/vue/strapi/s3/node_modules/lodash/lodash.js:9999:23\n    at Strapi.once (/Users/tk/vue/strapi/s3/node_modules/strapi/lib/hooks/index.js:133:17)\n    at Object.onceWrapper (events.js:273:13)\n    at Strapi.emit (events.js:182:13)\n    at Strapi.EventEmitter.emit (domain.js:442:20)\n    at loadedModule.initialize.call.err (/Users/tk/vue/strapi/s3/node_modules/strapi/lib/hooks/index.js:32:12)\n    at Function.initialize (/Users/tk/vue/strapi/s3/node_modules/strapi-hook-bookshelf/lib/index.js:1003:7)\n(node:93403) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)\n(node:93403) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.\nnext is : \ndebug \u26d4\ufe0f Server wasn't able to start properly.\nerror (hook:graphql) takes too long to load\n. @derrickmehaffy + sorry, no code. I've been only using strapi for two days (highly possible there is an issue elsewhere). @derrickmehaffy  I run a clean install and added the plugin before creating anything else. No problems starting or running strapi!  Thanks for helping me out here!. ",
    "betomoretti": "Hi @derrickmehaffy, thanks for answer me!\nSo, I totally agree with you that it's related to how --dev works. Also, there are some tasks that aren't clear for me, like npm run setup or npm run postinstall. I don't know if some of those would build the admin again so the changes that i did will apply to my current project. \nThe thing here is that one of the reasons that we choose strapi was that the code is accessible to us and we can edit it. But it's surprised me that I need to create the project with --dev option to be able to customize the admin. Maybe I should had read about a little more before starting the project. My bad.\nDo you know some workaround for my necessity? I just need to change the admin view. . @soupette I ended up copying my api endpoints to the dev started project. The thing now is that when I'm trying to run a container with the dev project is failing. Here's the process that I'm using:\n```\nDockerfile\nFROM node:10-alpine\nWORKDIR /usr/src/strapi-app\nRUN npm i -g strapi@3.0.0-alpha.13.1\nCOPY . .\nRUN chmod +x ./script.sh\nEXPOSE 1338\nCMD [ \"./script.sh\" ]\n\nscript.sh\n!/bin/sh\ncd /usr/src/strapi-app\nnpm install\nnpm run postinstall\nNODE_ENV=production npm start\n```\nDo you know if I need an extra step? This building process is already working on the non --dev strapi app.\nThanks!. @soupette since i'm changing the plugin content manager, should i replace the build of the non --dev with the build dev?. Hi @sbastias, How is the final process to do it? I'm trying the same but without success. Thanks!. Hi @soupette, thanks for answer!\nDo you mean copy everything in core_store from my local db to my production db?\n. To give some context, if change the layout.json file, delete de plugin-content_manager-schema document in the core_store db, and then restart the server, the new document is created empty. That is, the attributes appearance value stay empty and the text areas don't shows with wysiwyg.. ",
    "seanpowell": "Just want to second this.  It's an extremely useful feature.. ",
    "crtl": "Because I was running node on vagrant in a shared folder I had to use another directory (this is an node issue).\nAfter moving to another directory which is not shared the installation worked better.. ",
    "copeus": "I tested it locally and looks like it works \n@kamalbennani amazing work! . > Nice work on this as it's definitely a needed feature. @Aurelsicoko any thoughts on expected merge?\nAs for me, it's a TOP-1 feature. I even have to use @kamalbennani branch to start a few new projects with it...\n. @Aurelsicoko I'm very excited to get this feature at 3.0.0-alpha.14.3. remove debug... . ",
    "hashinteractive": "Nice work on this as it's definitely a needed feature. @Aurelsicoko any thoughts on expected merge?. @lauriejim did this PR get merged into v3.0.0-alpha.14.3 as I didn't see it in the release notes and it's still open so I'm assuming it was not merged? Just wanted to double check.  If not, when are you expected to merge this PR?. @lauriejim anyway we can get this merged into the email provider?. @lauriejim you bet! Thanks for the merge . ",
    "emadicio": "Can't wait for this! Great work guys. If you run your app with NODE_ENV=production you'll notice that plugins that actually edit or create files are disabled. So that means you cannot create or edit content types in prod. Hey guys, any update for this? Date type fields are unusable for now.... ",
    "kgrosvenor": "This feature will be fantastic \ud83d\udc4d  (i'm exicted) , how long can we expect this to be released onto the master branch?. ",
    "isabolic": "@derrickmehaffy thanks for the quick response \ud83d\udc4d . ",
    "zhoub": "I also got this issue for when chose database, then it just didn't response forever, at Windows 7.. ",
    "karianpour": "Same issue on Ubunut 16.04\n```\n\ud83d\ude80 Start creating your Strapi application.\n? Choose your installation type Custom (manual settings)\n? Choose your main database: Postgres\n? Database name: (jack-cms) \nmodule.js:550\n    throw err;\n    ^\nError: Cannot find module '/tmp/strapi6986c278628f/node_modules/pg/package.json'\n    at Function.Module._resolveFilename (module.js:548:15)\n    at Function.Module._load (module.js:475:25)\n    at Module.require (module.js:597:17)\n    at require (internal/module.js:11:18)\n    at shell.exec (/usr/local/lib/node_modules/strapi/node_modules/strapi-generate-new/lib/before.js:324:26)\n    at /usr/local/lib/node_modules/strapi/node_modules/strapi-generate-new/node_modules/shelljs/src/exec.js:204:9\n    at ChildProcess.exithandler (child_process.js:288:5)\n    at emitTwo (events.js:126:13)\n    at ChildProcess.emit (events.js:214:7)\n    at maybeClose (internal/child_process.js:915:16)\n```\nnode v8.15.1\nnpm 6.9.0\nstrapi 3.0.0-alpha.24.1\n My node is installed via snap  on /snap/node/1738/bin/node\n. ",
    "LeBovin": "@lauriejim @NickBolles Hi and thanks for your replies\nAs @NickBolles said, no error in the console, and I tried on both Firefox and Chrome\n@NickBolles I'll try it and say if I can reproduce the \"solution\" you got\nAnyway, thanks guys. Hi everyone,\nAs @NickBolles said, I modified the entity structure, save the modifications and then I was able to create new entry.\nThanks you !\n@soupette I am using the 3.0.0-alpha.14.1.1 in development mode. ",
    "inoisy": "I have the same problem. > @LeBovin @inoisy I'm unable to reproduce the bug which version of strapi are you on?\n\nIs the error occuring in production or in development?\n\n3.0.0-alpha.14.1.1 in prod mode\n. I understood why this is happening to me. This started after updating the strapi. That is, he does not want to create new entry to old content type. With new created content type everything is fine. ",
    "Keatooon": "Informations\nNode.js version: v10.2.0\nnpm version: 5.6.0\nStrapi version: 3.0.0-alpha.14.3\nDatabase: Mongodb\nOperating system: Ubuntu 18.04.1 LTS\nWhat is the current behavior?\nWhen trying to creating a new entry, admin panel never stop loading\nSteps to reproduce the problem\n1) go to Content Type Builder\n2) create a new Content Type named \"division\"\n3) add 2 fields to this Content Type: name (string), title (string) then save\n4) create a new Content Type named \"subDivision\"\n5) add 2 fields to this Content Type: name (string), title (string) then save\n6) go to \"subDivision\" (top of left menu on admin panel) then click on \"Add new\"\n7) Here you should have an infinite loading\nTried:\n1) NickBolles  solution (does not work):\n\"We modified the user object, saved the modifications, and the server restarted and then we were able to create a new user just fine through the admin UI.\"\n--> I've added and remove the fields for \"subDivision\"\n2) soupette solution works!!!:\ndb.core_store.deleteMany({\u201ckey\":\u201dplugin_content-manager_schema\"})\nThanks @soupette . ",
    "ak5": "I am having this issue with postgres using docker image ID 61992ba649f9. ",
    "abegehr": "@soupette deleting \"plugin_content_manager_schema\" in core_store fixed it for me as well. The entry was regenerated. Maybe a note should be added to the deployment documentation?. ",
    "yareyaredesuyo": "Fixed this issue by this procedure (when using heroku + mlab).\n\nstrapi-verion: 3.0.0-alpha.18\n\nheroku config // get heroku's mlab config info\nmongo mongodb... // connect to mongodb\ndb.core_store.deleteMany({\"key\":\"plugin_content-manager_schema\"})\nheroku restart\nBut this is very tricky , it should be documented in somewhere (like wiki).. I got similar error, but it returns both 400 and 200. \nMainly it returns 400.\n. maybe related to this\nhttps://github.com/apollographql/apollo-server/issues/1773\nhttps://www.apollographql.com/docs/apollo-server/api/apollo-server.html#constructor-options-lt-ApolloServer-gt\n. OK.\nadd introspection: true params to plugins/graphql/hooks/index.js and it works well. \nconst serverParams = {\n  typeDefs,\n  resolvers,\n  context: async ({ ctx }) => ({\n    context: ctx,\n  }),\n  validationRules: [depthLimit(strapi.plugins.graphql.config.depthLimit)],\n  playground: false,\n  introspection: true // add this param\n};\n. refs about graphql auth \n\nhttps://www.apollographql.com/docs/apollo-server/features/authentication.html\nhttps://github.com/accounts-js/accounts\nhttps://github.com/accounts-js/accounts/tree/master/examples/graphql-server-typescript\nhttps://github.com/Volst/graphql-authentication. I had the same issue before, so I changed UserPermissionsMe config file's scheme directly.  And it worked.\n\nEdit like this \ntype UsersPermissionsMe {\n      _id: ID!\n      username: String!\n      email: String!\n      confirmed: Boolean\n      blocked: Boolean\n      role: UsersPermissionsMeRole\n      description: String  // <- add this line (change what you want to add from User scheme. )\n    }\nBut this issue is maybe not documented. \nSo, the answer is maybe... \n\nAdd document about how to change UserPermissionsMe scheme.\nAllow user to edit UsersPermissionsMe from admin panel.\n. very sorry \ud83d\ude47 \ud83d\ude47 \ud83d\ude47  !!! . \n",
    "cupojoe": "I think this issue happens at random in dev too. I experienced it when working locally a lot. What concerns me the most is that there is no error message or timeout. It hangs indefinitely. There is no apparent memory leak anywhere either. It should throw an error of some sort.. ",
    "j-rewerts": "It also seems like the text field can't be edited directly. I can take a look at this.. ",
    "kameas": "same problem, but i have decrease by 3 (GMT+0300). Same problem, it seems that the request in plugins/content-manager/admin/src/bootstrap.js is not called. I re-created the project with alpha 14.5 and the problem is solved. ",
    "derekshull": "Same issue here too.  Glad I'm not crazy :-D . ",
    "fabricioanciaes": "These are the problems I've found for the date picker, hope it helps:\nProblem 1:\nAfter saving, the hour decreases by 3:\nThis is what I set on the admin:\n\nThis is what it looks like after saving:\n\nProblem 2:\nDate picker only increases by 4 and decreases by 2, but decreasing actually increases the hour:\n\nProblem 3:\nNot being able to edit date directly by text:\n\n. Super excited for this! thanks for putting the work. I'm on strapi 3.0.0-alpha.22 and the issue still persists\nfootage of it happening: \n2659 is supposed to fix this, right? Maybe its something on my end.\n. ",
    "thkdog": "Is there any alternative solutions for now? It seems be a critical problem.... Sounds amazing! Just to make sure the new component is a pure web side improvement, fully compatible with the current db structure so I can merge it into current version out of box :D\n\u5728 2019\u5e741\u670817\u65e5\uff0c02:22\uff0cJim LAURIE notifications@github.com<mailto:notifications@github.com> \u5199\u9053\uff1a\nWe are working on a new input (component library) for the date and will be release soon and implemented in this plugin.\nWe will give you more informations when time will come. (big things are coming)\n\u2014\nYou are receiving this because you are subscribed to this thread.\nReply to this email directly, view it on GitHubhttps://github.com/strapi/strapi/issues/1960#issuecomment-454885719, or mute the threadhttps://github.com/notifications/unsubscribe-auth/AChCubBQaidQ-7pGOlJFr2s71p1JiucPks5vD23hgaJpZM4WrRnS.\n. > Did you try to delete the package-lock.json file?\nI have solved the problem, you can fixed it in 2 ways:\n1.\nnpm install --unsafe-perm\n2.\nnpm i\nnpm run postinstall\nCheck this related issue: npm WARN cannot run in wd node-gyp\nWhich causing the problem is the node_modules in plugins are not installed.\nWhen using npm i in dockerfile, the postinstall script won't be excuted, as below:\nnpm WARN lifecycle website-service@0.1.0~postinstall: cannot run in wd website-service@0.1.0 node node_modules/strapi/lib/utils/post-install.js (wd=/usr/src/app)\nSo you have to execute it manually or using --unsafe-perm options.. ",
    "aaronweatherall": "Also stuck on this one team! Dates are probably the thing stopping me deploying right now.. Any update on this? We're trying to build an event system and strapi is literally unusable without the datepicker.. . ",
    "heihachi88": "What do you use yourself? With docker you still need to rebuild the image after each push.. Basically, i can just create my own route (that would fire git pull) and point gitlab webhook to it. Is that correct way?. ",
    "lgt": "I'm using centos server v7.5. ok thanks I give a try with a mongo downgrade. After downgrade mongo to v3.6  the problem still persist. erased created project with strapi\ndowngraded mongo\ncreated a new strapi project and going through by install process. ",
    "chrishawes": "Same error occurs running Strapi following the example in the strapi-docker repo:\nhttps://github.com/strapi/strapi-docker#then-run-image\n(With both the mongo:3 and mongo images. Testing in both latest Firefox and Chrome.). ",
    "RainKolwa": "Same problem with version 3.0.0-alpha.14.1.1 here.\nenv\nnode: v10.10.0\nmongo db: v3.4\n. Updating Strapi to 3.0.0-alpha.14.1.1 works on my side.. ",
    "chydaya": "just run command npm run setup . @soupette I'm had this problem with latest docker image on macos\n. ",
    "Moldieman": "I am getting the same error after running npm run setup.  I get a blank screen when trying to go into the user permissions or any plugin related content.\nversion v3.0.0-alpha.13.1.\n\n. @soupette I have just upgraded to the latest version and everything seems to be working again. Thx \ud83d\udc4d \n. @lauriejim any progress with this? I would really like to finish off my app and deploy to production \ud83d\udc4d . Hey @lauriejim unfortunately I haven't been able to get this working. Is there anyway you could steer me in the right direction so I can get images/media? \nfetch: params => {\n    // Select field to populate.\n    const populate = Brand.associations.filter(ast => ast.autoPopulate !== false).map(ast => ast.alias)\nreturn Brand.forge(_.pick(params, 'id')).fetch({\n  withRelated: populate,\n  // I need this to also return the images,\n  // it currently returns everything related to the product expect the images\n});\n\n},\nMy relational model is called product but I can't seem to get any media from product to display.\nThanks. @lauriejim any update on the relational image data being returned? I am really really stuck and can't move on with my project unless I get past this issue. Thx. Hello @lauriejim \nCan you please assist me with this issue. I have got so far into this project already and just need the media / images to be included in the API call as described above. I would really appreciate it if you could steer me in the right direction to get this working or give me some examples to try get it working.\nThanks. @rw3iss I am having the same issue and have referenced it here - #2118 . If you ever get this right please let me know? Thx. ",
    "charleshamesse": "I got the same error using strapi-docker. Tl;dr: manually installing bash and libpng-dev fixed it for me.\nI tried  npm run setup and got an error saying it couldn't find the module  cross-env.\nFound in #1006 that  npm link strapi-helper-plugin might solve it and got an error about pngquant not compiling correctly. \nThen I installed bash and libpng-dev as in this issue, re-ran npm run setup and the error was gone.\nHope that helps!\n. ",
    "leighayanid": "I got the same error after updating to the latest version. Uninstalling strapi globally and then installing it again fixed it for me . ",
    "johncalvinroberts": "Also having this issue. Tried installing new global version of strapi, updating all dependencies, deleting all records in core_store in database, still no luck. \nEDIT: switching to node v10.10.0, re-installing strapi global, then npm run setup solved for me. Also experiencing this same issue. Seems to be occuring during npm run setup when building admin.. I resolved my issue by making sure the admin/admin/build folder is copied into the docker container, then using npm install --production && npm start to start the app. @soupette yep, autoReload is enabled.\nIs this related to production environment? Does content-type-builder get hidden in production mode?. My mistake -- content-type-builder is not accessible in production mode, when NODE_ENV=production\nClosing this out, my bad. ",
    "cosydney": "I've tried all solutions provided, recreating new project I have same error content-type-builder fails with a blank page and Minified React error #188;\nI'm running on:\nStrapi: 3.0.0-alpha.14.4.0\nNode: v10.13.0\nNpm: 6.4.1\n. Resolved: \nIt seemed I had conflict between Strapi installed on my computer (here 14.4) and the one I was running (which I saw in the bottom left of the admin panel 'powered by 3.0.0-alpha.14.2.0).... \nI just had to follow the migration guide for React minified error to disappear:\nhttps://github.com/strapi/strapi/wiki/migration-guide-alpha.14.3-to-alpha.14.4\nAfter following the guide I get the following image and minified error goes away..\n\n. Same here\n. ",
    "tlhunter": "@maturanomx Windows doesn't support any of this functionality so it's a non-issue. The server file will still be executable via node server.js on Windows.. Yes, the executability of server.js might be an accident in that case. However it's usually a good practice to enable the execute bit and add the #!/usr/bin/env node shebang to Node.js entry points.\nI'd recommend applying your PR which disables the execute bit flag on everything except for server.js, and also apply this PR which adds the shebang.. ",
    "jerembardon": "Yeah I have a 403 error but in the admin panel I have checked the r\u00f4le and permission to \"find\" like I said above and that still not work correctly. . ",
    "Alexs7zzh": "I have the same issue. Error is the same as @jerembardon already listed in the description.. ",
    "christiandelangel": "loginData: {\n          identifier: \"yourAdmin\",\n          password: \"passYourAdmin\",\n}. ",
    "jmchza": "ONe last note: if I start it with strapi start the admin seems to run with all the mentioned issues, if I follow the guide and try to start it from the admin folder the npm start fail with the next message \"Failed to exec prestart script\"\n\nstrapi-admin@3.0.0-alpha.14.1.1 prestart /Workspaces/Storyx-WKS/tmp/strapi-v3/new-faktoora-db/admin\nnode ./node_modules/strapi-helper-plugin/node_modules/.bin/cross-env NODE_ENV=development PORT=4000 IS_ADMIN=true node ./node_modules/strapi-helper-plugin/lib/internals/scripts/loadAdminConfigurations.js\n\ninternal/modules/cjs/loader.js:583\n    throw err;\n    ^\nError: Cannot find module '/Workspaces/Storyx-WKS/tmp/strapi-v3/new-faktoora-db/admin/node_modules/strapi-helper-plugin/node_modules/.bin/cross-env'\n    at Function.Module._resolveFilename (internal/modules/cjs/loader.js:581:15)\n    at Function.Module._load (internal/modules/cjs/loader.js:507:25)\n    at Function.Module.runMain (internal/modules/cjs/loader.js:742:12)\n    at startup (internal/bootstrap/node.js:279:19)\n    at bootstrapNodeJSCore (internal/bootstrap/node.js:696:3)\nnpm ERR! code ELIFECYCLE\nnpm ERR! errno 1\nnpm ERR! strapi-admin@3.0.0-alpha.14.1.1 prestart: node ./node_modules/strapi-helper-plugin/node_modules/.bin/cross-env NODE_ENV=development PORT=4000 IS_ADMIN=true node ./node_modules/strapi-helper-plugin/lib/internals/scripts/loadAdminConfigurations.js\nnpm ERR! Exit status 1\nnpm ERR! \nnpm ERR! Failed at the strapi-admin@3.0.0-alpha.14.1.1 prestart script.\nnpm ERR! This is probably not a problem with npm. There is likely additional logging output above.\n. I have found the issue to this. \nEssentially the issue is that you must have the whole strapi cloned and setup by running npm run setup.\nThis will generate all the links you will need to develop. \nSo follow soupette  comments of the 4th May on this link: https://github.com/strapi/strapi/issues/1116 and you will get set.\nA note on that link is that it seems they removed the analytics plugin from the root so no need to remove it anymore.\n. I have the same problem and I have found by cleaning the whole DB with no data in them that the admin console does display them properly and you can even create records from it and it works fine.\nI still have to find out what is the root cause for that behaviour but I think it is that the data is not properly validated with its definition (at least in my case).\nThat is an assumption I took by looking at the code and i can see that everything uses propTypes therefore if the data does not match with the definition on the props  it might become inaccessible. \nIt would be nice to have a better reporting in that one that could alert what fields are wrong so we could analyse DB and its data. Maybe there is some way to see this warnings somewhere?? Does anyone know this?\nI reported it in this issue: https://github.com/strapi/strapi/issues/1983\n. Yes resetting DB did the work, thanks. \n. After copied the stra-helper-plugin from the strapi installation or original repository into the plugins directory, it throws the following error:\n\nstrapi-admin@3.0.0-alpha.14.1.1 prestart /Workspaces/Storyx-WKS/my-forks-ones/strapi-plugin-dev/test-project/admin\nnode ./node_modules/strapi-helper-plugin/node_modules/.bin/cross-env NODE_ENV=development PORT=4000 IS_ADMIN=true node ./node_modules/strapi-helper-plugin/lib/internals/scripts/loadAdminConfigurations.js\n\n(node:49028) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'routes' of undefined\n    at _.forEach (/Workspaces/Storyx-WKS/my-forks-ones/strapi-plugin-dev/test-project/plugins/users-permissions/middlewares/users-permissions/index.js:31:35)\n    at /Workspaces/Storyx-WKS/my-forks-ones/strapi-plugin-dev/test-project/plugins/users-permissions/node_modules/lodash/lodash.js:4911:15\n    at baseForOwn (/Workspaces/Storyx-WKS/my-forks-ones/strapi-plugin-dev/test-project/plugins/users-permissions/node_modules/lodash/lodash.js:2996:24)\n    at /Workspaces/Storyx-WKS/my-forks-ones/strapi-plugin-dev/test-project/plugins/users-permissions/node_modules/lodash/lodash.js:4880:18\n    at Function.forEach (/Workspaces/Storyx-WKS/my-forks-ones/strapi-plugin-dev/test-project/plugins/users-permissions/node_modules/lodash/lodash.js:9344:14)\n    at Object.initialize (/Workspaces/Storyx-WKS/my-forks-ones/strapi-plugin-dev/test-project/plugins/users-permissions/middlewares/users-permissions/index.js:30:11)\n    at /Workspaces/Storyx-WKS/my-forks-ones/strapi/packages/strapi/lib/middlewares/index.js:30:23\n    at Promise (/Workspaces/Storyx-WKS/my-forks-ones/strapi/packages/strapi/lib/middlewares/index.js:130:43)\n    at new Promise ()\n    at Promise.all.Object.keys.map.middleware (/Workspaces/Storyx-WKS/my-forks-ones/strapi/packages/strapi/lib/middlewares/index.js:70:9)\n    at Array.map ()\n    at Strapi.module.exports (/Workspaces/Storyx-WKS/my-forks-ones/strapi/packages/strapi/lib/middlewares/index.js:68:34)\n(node:49028) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 3)\n(node:49028) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.\nWhat we suppose to do here? The contributing guide seems to be done for development of plugins not for production.\nthanks in advance.. Yes I know, I only managed to get it working with a --dev but I cannot get it working without being linked to the strapi installation.\nNo I did not do any modification it is a standard installation to probe that this can be deployed into a container without downloading the whole repository.\nThis is quite confusing to be honest. \nThere is only few steps done to reproduce this after the strapi has been installed with npm install strapi@alpha -g:\n1- strapi new my-project\n2 - cd ./my-project/admin\n3 - npm setup \n4 - npm start \nThis is assuming the the api module is deployed into a separate server, therefore the server.json is updated as per indicated in the documentation and it has been proven to work but with a local installation, the one that links strapi-helper-plugin to the strapi installation mentioned above.\nOr shall it be:\n1- strapi new my-project\n2 - cd ./my-project\n3 - npm install && npm postinstall \n4 - cd admin \n5 - npm install\n6- npm start\nthe problem It comes up with the second option is that strapi-helper-plugin is still not compiles within the node_modules of the admin folder therefore when the npm start executes fails cause there are missing entries in the node_module of the ./my-project/admin/node_modules/strapi-helper-plugin/node_modules \nPlease I only need some clarifications on where this is wrong.\nThank you very much.\n. OK I think I found out the confusion.\nfor prod deploy with the default plugins we need to run the build:setup on the strapi installation.\nthat was the root cause of all those above issues.\nafter that awe can proceed with the following steps:\n1- strapi new my-project\n2 - cd ./my-project\n3 - npm install && npm postinstall\n4 - cd admin\n5 - npm install\n6- cd node_modules/strapi-helper-plugin\n7- npm install\nand from the admin folder we run the npm start\nI have followed this steps and it finally did work. but the guide does not say anything about the helper-plugin compilation :( \nFor everyone having trouble to generate a prod version of the admin console, I believe those stepp generate you a fresh one and working ok.\n. @soupette I am only trying to deploy a prod version with no modifications, therefore i only run this:\n```\n$ strapi new my-prod-app\nthen just copy the build folder into the corresponding plugins\ncheck that the build is ok and you have no babel-polyfill error\n$ cd my-prod-app && strapi-start\n```\nand put that content into a repository that then gets deployed.\nbut I am having issues to run it as for some reason the strapi-plugin on the strapi-admin@3.0.0-alpha.14.1.1 version seems to have some issues or missing linkage.\nThis 0.1.0 node node_modules/strapi component is always missing after the install and I have tries so many things already and none of them worked. \nI've spent already 30 hours doing this and still no success.\nis it possible that on that version the npm install trys to use the 3@0.1.0 node node_modules/strapi/lib/utils/post-install.js instead of the 3.0.0-alpha.14.1.1  and therefore fails ?\n```\nroot@c7126b4b75b9:/opt/faktoora# npm install\nnpm WARN lifecycle faktoora-strapi-v3@0.1.0~postinstall: cannot run in wd faktoora-strapi-v3@0.1.0 node node_modules/strapi/lib/utils/post-install.js (wd=/opt/faktoora)\nnpm WARN bookshelf@0.12.1 requires a peer of knex@>=0.6.10 <0.15.0 but none is installed. You must install peer dependencies yourself.\nnpm WARN bootstrap@4.1.3 requires a peer of jquery@1.9.1 - 3 but none is installed. You must install peer dependencies yourself.\nnpm WARN ajv-keywords@3.2.0 requires a peer of ajv@^6.0.0 but none is installed. You must install peer dependencies yourself.\nnpm WARN eslint-config-airbnb@15.1.0 requires a peer of eslint-plugin-jsx-a11y@^5.1.1 but none is installed. You must install peer dependencies yourself.\nnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@1.2.4 (node_modules/fsevents):\nnpm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@1.2.4: wanted {\"os\":\"darwin\",\"arch\":\"any\"} (current: {\"os\":\"linux\",\"arch\":\"x64\"})\naudited 31062 packages in 18.044s\n```\nI will really appreciate some insight from you as it is hard to take assumptions without getting into a deep whole :( \nThank you in advance.\n. for some reason after the generated one gets placed into a repository it does not compile in the container as expected:\nAfter running the postinstall script in my local env i get a lot of component in the node_modules but in the container for some reason U only get these ones, but the most important one does not get created: strapi-helper-plugin\nThere is a huge missing point here at the time a prod version is intending to be deployed. guys these are the things that can put huge amount of ppl away of this. \nBy a prod version I mean only a standard one with no plugins modifications and ready to be used as a prod.\nWhat is the recommended way here: do we need to downgrade the npm version? if so please do point out one tha works with this strapi alpha version.\nMuch appreciated in advance.\nbash-4.4# ll admin/node_modules/\ntotal 108\ndrwxr-xr-x   27 root     root          4096 Sep 22 21:53 .\ndrwxrwxrwx    1 root     root          4096 Sep 22 21:53 ..\ndrwxr-xr-x    2 root     root          4096 Sep 22 21:53 .bin\ndrwxr-xr-x    2 root     root          4096 Sep 22 21:53 balanced-match\ndrwxr-xr-x    2 root     root          4096 Sep 22 21:53 brace-expansion\ndrwxr-xr-x    4 root     root          4096 Sep 22 21:53 concat-map\ndrwxr-xr-x    2 root     root          4096 Sep 22 21:53 fs.realpath\ndrwxr-xr-x    2 root     root          4096 Sep 22 21:53 glob\ndrwxr-xr-x    2 root     root          4096 Sep 22 21:53 inflight\ndrwxr-xr-x    2 root     root          4096 Sep 22 21:53 inherits\ndrwxr-xr-x    2 root     root          4096 Sep 22 21:53 interpret\ndrwxr-xr-x    2 root     root          4096 Sep 22 21:53 js-tokens\ndrwxr-xr-x    2 root     root          4096 Sep 22 21:53 loose-envify\ndrwxr-xr-x    2 root     root          4096 Sep 22 21:53 minimatch\ndrwxr-xr-x    2 root     root          4096 Sep 22 21:53 object-assign\ndrwxr-xr-x    2 root     root          4096 Sep 22 21:53 once\ndrwxr-xr-x    2 root     root          4096 Sep 22 21:53 path-is-absolute\ndrwxr-xr-x    2 root     root          4096 Sep 22 21:53 path-parse\ndrwxr-xr-x    3 root     root          4096 Sep 22 21:53 prop-types\ndrwxr-xr-x    4 root     root          4096 Sep 22 21:53 react\ndrwxr-xr-x    7 root     root          4096 Sep 22 21:53 react-ga\ndrwxr-xr-x    3 root     root          4096 Sep 22 21:53 rechoir\ndrwxr-xr-x    3 root     root          4096 Sep 22 21:53 remove-markdown\ndrwxr-xr-x    5 root     root          4096 Sep 22 21:53 resolve\ndrwxr-xr-x    4 root     root          4096 Sep 22 21:53 schedule\ndrwxr-xr-x    4 root     root          4096 Sep 22 21:53 shelljs\ndrwxr-xr-x    2 root     root          4096 Sep 22 21:53 wrappy. Yes those steps were verified @soupette, thanks for that.\nI will close this now, I have moved my priorities since I have spent too much time on this.\nCheers,\nM . Hi @lauriejim, sorry about the delay. but yes that is a POST request.\nand yes Ideally this should work out of the box right ?\nThe POST is really a previous request with only one attribute changed to test the update through the whooe data structure/tree.\nThe interesting thing here is that there is no Error thrown, bear in mind that this is running with strapi-hook-knex and strapi-hook-bookshelf with postgres DB.\nCan we reopen this? \nThank toy very much in advance.\nCheers.\n. Sorry I think I haven't explained properly the problem.\nLet me try it again: the issue is only on the persistence of the relations of a model.when an update/create relations of a model get called.\nLet's say we have a model user that contains a relation called usersetting, whenever a change on any of the attributes of the usersetting occurs that update does not hav any effect on the reference of that relation.\nIn the above example will be the next line that worst case scenario should throw an Error: \nreturn User.updateRelations(Object.assign(params, { values: relations }));\nwhich does not throw any error.\nPlease let me know if that did help. I will actively be looking at assisting in this ticket.\nThank you very much.\n. Yes I meant that one: 3.0.0-alpha.14. sorry about that.. ",
    "balarayen": "@derrickmehaffy Yes, it uses local storage and it has more than 250GB free space.. @derrickmehaffy Now it can be up to 1.5GB but in future, it will increase. So yes.. @Flux159 It works great for me. Thanks!. ",
    "Flux159": "In config/environments/development/request.json, you need to change the koa body parser config for formidable:\nExample: Setting maxFileSize to 500MB for formidable (number is in bytes so 500*1024*1024):\n...\n\"parser\": {\n    \"enabled\": true,\n    \"multipart\": true,\n    \"formidable\": {\n      \"maxFileSize\": 524288000\n    }\n  },\n...\nThis setting isn't changed when you change the upload plugin settings from the GUI so you will need to keep it synced manually (although I guess it should be). I think that you need to change it in both places otherwise there will be an error (see https://github.com/strapi/strapi/blob/master/packages/strapi-plugin-upload/controllers/Upload.js#L37 for when its using strapi upload's config.sizeLimit).\nYou will also need to do this for other environments if you change the values there (ie staging/production). \nI believe that a proper fix for this would be the strapi-upload-plugin updating the koa body parser config (seems like strapi is using koa-body for multipart parsing: https://github.com/dlau/koa-body).. The minor benefit of not having to restart your server doesn't seem to be worth it in this case - if someone wants to change their bucket or provider in production they're already going to have to run some job to transfer over files to a different place & ensure that transfers completed successfully (for this example, say AWS S3 to Google cloud). Restarting their server(s) after changing environment variables is trivial compared to changing providers entirely.\nUsing environment variables is also one of the recommended ways that AWS says to store access credentials (the other being a configuration file): https://docs.aws.amazon.com/general/latest/gr/aws-access-keys-best-practices.html#iam-user-access-keys. ",
    "phr3nzy": "I've been having this issue for a while now and have been scratching my head all day.\n. ",
    "deanjpearson": "Just incase anyone encounters the same issues after creating this I just changed the timeout variable as mentioned in this issue https://github.com/strapi/strapi/issues/1105 and it booted up correctly.. ",
    "maxime1992": "So how to do it now, until the CLI gets available?\nI've been developing locally using strapi and I'm now trying to push to production but I feel completely stuck :man_shrugging: \n\nThe real pain is to migrate the development configuration to production\n\nEven if it's painful, is there a description of how to do it for now?\n. ",
    "nickerlan": "@soupette, when I used this solution, after \"npm run setup --plugins\"  I've got: \n\ud83d\udce6  Installing packages...\nPackaged installed successfully\n\nstrapi-admin@3.0.0-alpha.14.1.1 setup /usr/local/lib/node_modules/strapi/node_modules/strapi-admin\nnode ./scripts/setup.js\n\n\ud83c\udfd7  Building the admin...\ninternal/modules/cjs/loader.js:550\n    throw err;\n    ^\nError: Cannot find module '/usr/local/lib/node_modules/strapi/node_modules/strapi-admin/node_modules/strapi-helper-plugin/lib/internals/scripts/loadAdminConfigurations.js'. ",
    "rapidexact": "\nCan you upgrade to 14.1.1?\n\nThanks a lot.\nIt did help. . @NickBolles Looks similar. But versions of node, npm, strapi are lower than in requirements.. @johncalvinroberts npm run setup also throws error. \nSomething with cross-env dependency in strapi-helper-plugin/node_modules/.bin/ directory.. @derrickmehaffy I have tried both variants.. ",
    "Rilliano": "How do u upgrade strapi?. ",
    "mkasprzyk": "@soupette I've got the same issue in v3.0.0-alpha.14.3 \ud83d\udc19 \nAnd the same error occurs, when i want to chose Role from dropdown menu for new user.\n. ",
    "simoncrypta": "I've got the same issue with v3.0.0-alpha.17 I can add on dev mode but when I go on prod mode nothing show up for add field.. My solution for now is reset my prod database each time I add model. So Pull my prod database to dev environment, add model, restart strapi server, push the database, push the code.. ",
    "heyimbrucelee": "Had same issue, stuck after choosing database without any informations/errors.\nIt may be related to nodejs version.\nFun fact strapi new works on nodejs 9.4.0 ( but they suggest NodeJS >= 10.x) so probably lead to other issues.\nRelated to #1941 ? fixed in next version. ",
    "colinmeinke": "There's definitely a need for this if Strapi is to compete with other popular CMS's. For example, Craft has Image Transforms built in https://docs.craftcms.com/v3/image-transforms.html.. ",
    "MoQ93": "I think it's the same issue as this:\nhttps://github.com/strapi/strapi-docker/issues/49\nI resolved this by adding .npmrc file to the home directory in the docker-container with the flag unsafe-perm set to true\n. @jkbaseer I just create an .npmrc file in the docker container see this for the change: https://github.com/strapi/strapi-docker/pull/53/files. ",
    "jkbaseer": "@MoQ93 Good to know that you have solved this. Could you share a bit explanation on how you have done this? . Thanks Man @ntloi95 \nYes, i went to do it again. \n` root@ed-api-v1:~/projectname/ed-api# npm i\nnpm WARN deprecated circular-json@0.3.3: CircularJSON is in maintenance only, flatted is its successor.\nnpm WARN checkPermissions Missing write access to /root/projectname/ed-api/node_modules/strapi\nnpm WARN bookshelf@0.12.1 requires a peer of knex@>=0.6.10 <0.15.0 but none is installed. You must install peer dependencies yourself.\nnpm WARN gatsby-source-filesystem@1.5.39 requires a peer of gatsby@^1.9.250 but none is installed. You must install peer dependencies yourself.\nnpm WARN eslint-config-airbnb@13.0.0 requires a peer of eslint@^3.9.1 but none is installed. You must install peer dependencies yourself.\nnpm WARN eslint-config-airbnb@13.0.0 requires a peer of eslint-plugin-jsx-a11y@^2.2.3 but none is installed. You must install peer dependencies yourself.\nnpm WARN eslint-config-airbnb@13.0.0 requires a peer of eslint-plugin-react@^6.6.0 but none is installed. You must install peer dependencies yourself.\nnpm WARN eslint-config-airbnb-base@10.0.1 requires a peer of eslint@^3.9.1 but none is installed. You must install peer dependencies yourself.\nnpm ERR! path /root/projectname/ed-api/node_modules/strapi\nnpm ERR! code ENOENT\nnpm ERR! errno -2\nnpm ERR! syscall access\nnpm ERR! enoent ENOENT: no such file or directory, access '/root/projectname/ed-api/node_modules/strapi'\nnpm ERR! enoent This is related to npm not being able to find a file.\nnpm ERR! enoent \nnpm ERR! A complete log of this run can be found in:\nnpm ERR!     /root/.npm/_logs/2019-01-07T10_45_33_952Z-debug.log\n`\n`root@ed-api-v1:~/projectname/ed-api# npm run setup --plugins\n\nprojectname@0.1.0 setup /root/projectname/ed-api\ncd admin && npm run setup\nstrapi-admin@3.0.0-alpha.17 presetup /root/projectname/ed-api/admin\nnode ./scripts/preSetup.js\n\n\ud83d\udd53  The setup process can take few minutes.\n\ud83d\udd38  Administration Panel\n\ud83d\udce6  Installing packages...\nPackaged installed successfully\n\nstrapi-admin@3.0.0-alpha.17 setup /root/projectname/ed-api/admin\nnode ./scripts/setup.js\n\n\ud83c\udfd7  Building the admin...\ninternal/modules/cjs/loader.js:583\n    throw err;\nError: Cannot find module '/root/projectname/ed-api/node_modules/strapi'\n    at Function.Module._resolveFilename (internal/modules/cjs/loader.js:581:15)\n    at Function.Module._load (internal/modules/cjs/loader.js:507:25)\n    at Module.require (internal/modules/cjs/loader.js:637:17)\n    at require (internal/modules/cjs/helpers.js:22:18)\n    at Object. (/root/ethisdigital/ed-api/admin/node_modules/strapi-helper-plugin/lib/internals/scripts/loadAdminConfigurations.js:13:18)\n    at Module._compile (internal/modules/cjs/loader.js:689:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:700:10)\n    at Module.load (internal/modules/cjs/loader.js:599:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:538:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:530:3)\nnpm ERR! code ELIFECYCLE\n` \nsame as last time. \n. Hey Guys, I would request to open up this issue because i tried running commands like\n1) installing strapi alpha on the global using npm i -g strapi@alpha\n2) root@ed-api-v1:~/ed/ed-api# ls\nREADME.md  admin  api  config  favicon.ico  node_modules  package.json  plugins  public  server.js\nroot@ed-api-v1:~/ed/ed-api# strapi start\ninternal/modules/cjs/loader.js:583\n    throw err;\n    ^\nError: Cannot find module 'immutable'\n    at Function.Module._resolveFilename (internal/modules/cjs/loader.js:581:15)\n    at Function.Module._load (internal/modules/cjs/loader.js:507:25)\n    at Module.require (internal/modules/cjs/loader.js:637:17)\n    at require (internal/modules/cjs/helpers.js:22:18)\n    at Object. (/root/ed/ed-api/plugins/content-type-builder/services/ContentTypeBuilder.js:7:31)\n    at Module._compile (internal/modules/cjs/loader.js:689:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:700:10)\n    at Module.load (internal/modules/cjs/loader.js:599:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:538:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:530:3)\n`\nit doesn't seem to help. . ",
    "BraydenGirard": "\nFor the cli authentiicationDatabase value you need to use whatever the name was when creating it on mLab. So if you created a new deployment named my-sandbox, it would display something like ds100100/my-sandbox. Whatever the name is after the / is your authenticated DB (my-sandbox in this example). If I can find the reference then I'll edit this for your own research. I hope this helps. All I can say is I had a heck of a time getting started, also. Stay persistent!\nEdit: Also I believe you just leave SSL to the default (press enter). If I'm mistaken just type it explicitly then. I'll look for the issue where I found this from...\n\nThis was the solution for me. You can not leave Authentication Database empty when using MLab. You need to specify the name of your database here.. ",
    "sujeetbuddiga": "@deevolutionism can you please conclude the solution if you were able to work it out.. Specifying authenticationDatabase in options.\nI have assigned  authenticationDatabase to the value of database and it worked for me.\nI made this change in database.json file\n```\n{\n  \"defaultConnection\": \"myapp-aws-mongod\",\n  \"connections\": {\n    \"default\": {\n      \"connector\": \"strapi-hook-mongoose\",\n      \"settings\": {\n        \"client\": \"mongo\",\n        \"host\": \"ds115613.mlab.com\",\n        \"port\": 15610,\n        \"database\": \"myapp-aws-mongod\",\n        \"username\": \"myapp\",\n        \"password\": \"myapppwd1\"\n      },\n      \"options\": {\n        \"ssl\": \"false\",\n        \"authenticationDatabase\": \"myapp-aws-mongod\"\n      }\n    }\n  }\n}\n```. ",
    "dommythekid": "What about if you get an error saying \"URL is not defined\"  when running the command of strapi start\n\n. @derrickmehaffy Worked instantly - thanks so much! . ",
    "johnnyz": "Node v11 worked for me. I just needed to provide \"strapi-test\" which was the name of my mLab instance as my authentication database. . ",
    "RasCarlito": "Hi @NickBolles I was just trying setting up a Strapi hook to integrate next.js into Strapi and I ran into similar issues.\nThis is very much a WIP so the implementation may look a bit brutal \ud83d\ude05 \nMy hook looks like this:\n```js\nconst next = require('next');\nmodule.exports = (strapi) => {\n  const hook = {\n    initialize(cb) {\n      strapi.log.info('[strapi-hook-next] Initializing');\n  const dev = process.env.NODE_ENV !== 'production';\n  const app = next({ dev });\n\n  const handle = app.getRequestHandler();\n\n  strapi.next = {\n    app,\n    handle\n  };\n\n  app.prepare().then(() => cb());\n}\n\n};\nreturn hook;\n};\n```\nI created a basic pages/index.js:\njs\nexport default () => (\n  <h1>Hello from Next!</h1>\n);\nThen I setup a Core controller with the following route config:\njson\n{\n  \"routes\": [\n    {\n      \"method\": \"GET\",\n      \"path\": \"/\",\n      \"handler\": \"Core.index\"\n    }\n  ]\n}\nAnd the controller:\n```js\n'use strict';\nmodule.exports = {\n  async index(ctx) {\n    strapi.log.info('[test] Executing test controller');\n// await strapi.next.handle(ctx.req, ctx.res); // not working :(\nawait strapi.next.app.render(ctx.req, ctx.res, '/', ctx.query);\n\nctx.respond = false;\n\n}\n};\n```\nThere was an issue with using the next request handler so I tried to force which page would be rendered using the next render method.\nThis worked ok for rendering the page server-side. But then I got a lot of 404s in the browser because next tries to fetch its resources from the /_next/... path.\nAre you still working on your next.js plugin?\nIf so, did you run into the same issue?\nHere is a screenshot of the front-end dev tools:\n\nCheers \ud83c\udf7b . Nice! Thanks @NickBolles \nBut how do you handle custom routes with Next.js render method?\nLooking at your PR you don't seem to expose the Next.js instance\nI think it'd be good to expose the Next.js instance like I was trying to do to be able to point custom routes to a specific Next.js page \ud83d\ude03 \nMaybe I just missed something looked very quickly!\nAwesome work \ud83d\udc4d . ",
    "mikkokotila": "@lauriejim No it was a fresh centOS where I did nothing but install node and mongo and then strapi. . ",
    "vedmant": "I have the same issue tried to install it and got:\n```\n\ud83c\udfd7  Application generation:\n\u2714 Copy dashboard\n\u26a0 An error occurred during settings-manager plugin installation.\n- Install settings-manager plugin\n\u2716 An error occurred during plugin installation.\n\u2714 Install plugin content-type-builder.\n\u2714 Install plugin content-manager.\n\u26a0 An error occurred during users-permissions plugin installation.\n- Install users-permissions plugin\n\u2716 An error occurred during plugin installation.\n\u2714 Install plugin email.\n\u26a0 An error occurred during upload plugin installation.\n- Install upload plugin\n\u2716 An error occurred during plugin installation.\nLink strapi dependency to the project.\n\ud83d\udc4c Your new application strapi is ready at /Users/vedmant/Projects/_Test/strapi.\n\u26a1\ufe0f Change directory:\n$ cd strapi\n\u26a1\ufe0f Start application:\n$ strapi start\n(node:99717) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'userspermissions' of undefined\n    at module.exports (/Users/iam/Projects/_Test/strapi/plugins/users-permissions/config/functions/bootstrap.js:167:48)\n(node:99717) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)\n(node:99717) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.\n[2019-03-15T16:36:29.935Z] warn Bootstrap is taking unusually long to execute its callback 3500 miliseconds).\n[2019-03-15T16:36:29.937Z] warn Perhaps you forgot to call it?\n```\nnode v10.15.1\nnpm 6.4.1\n. ",
    "Sayegh7": "@KevinFuret If I remember correctly, heroku looks for PORT not DATABASE_PORT.\nTry changing the config to this:\n\"port\": \"${process.env.PORT || 27017}\",. @lauriejim Sure thing \ud83d\ude04 . ",
    "KevinFuret": "\n@KevinFuret If I remember correctly, heroku looks for PORT not DATABASE_PORT.\nTry changing the config to this:\n\"port\": \"${process.env.PORT || 27017}\",\n\nIt didn't work\nOn the strapi demo for deploy to heroku in one click, it's DATABASE_PORT : https://github.com/strapi/strapi-heroku-app/blob/master/config/environments/production/database.json#L10. ",
    "JulioPablo": "Hello, I struggled with this exact same issue as well, turns out what I had to do to get the app to run was set some extra environment/config variables that were not listed on the blog post.\nDATABASE_AUTHENTICATION_DATABASE : YOUR_DB_NAME\nDATABASE_NAME : YOUR_DB_NAME\nTo easily set these up on Heroku you can head to your project dashboard>settings>reveal config vars\nAfter setting these two up you should be able to get the app running.\nBUT  at least for me, this didn't make it work properly, as it currently stands, I can't add new content type instances(The spinner presented when I click on \"Add new\" never goes away) and I'm getting some CORS error on the console. \n\n/admin/:1 Failed to load https://blog.strapi.io/ghost/api/v0.1/posts/?client_id=ghost-frontend&client_secret=1f260788b4ec&limit=2: No 'Access-Control-Allow-Origin' header is present on the requested resource. Origin 'https://strapi-io-test.herokuapp.com' is therefore not allowed access. If an opaque response serves your needs, set the request's mode to 'no-cors' to fetch the resource with CORS disabled.\n\nAbout the latter issues, I haven't had any time to play around, please do share if it worked for you with just setting the two variables or if you got the same.. > You can check here about Heroku file creation https://github.com/strapi/strapi/wiki/Create-files-on-Heroku\nThat's not what I meant, I understand you can't create new content types on Heroku, what I mean is, if I create a new content type, say a \"Post\" with a title(String) and description(Text) locally, when I push these changes to Heroku, the new content type is available, but if I click on the \"Add new post\" button it will just display a spinner, never presenting the form.. > Duplicate of this issue #1957 ?\nSounds similar enough, on my case the issue only presented on the hosted instance(Heroku), locally it worked fine.. Any update on this? I'd love to play around with Strapi on Heroku :). ",
    "endymion1818": "Hi Julio, the docs have recently been updated with instructions on how to clone locally after you create the Heroku app. So if you did want to create the app in Heroku using the button, then clone it locally you could do it that way:\nhttps://github.com/strapi/strapi/#try-on-heroku\nI tried it that way successfully a few moments ago. I'm going to try the full tutorial again, I'll let you know if I encounter a similar issue.. Hmm you might be right about that! I was working from memory and might have got it wrong. I will run through the process again to make sure I have it correct I will comment again to confirm.. Updated - thanks for the heads up @maturanomx !. ",
    "adprof": "@JulioPablo I experienced the same issue. Try to check URI's in Heroku Settings/Config Vars :D In my case there was URI of another instance of db (as the new one is created on deployment). So first click on addon icon in Heroku/Resources to check which db instance it uses, then edit or create in Config Vars proper MONGOLAB_URI entry. For now I have there 2 env variables MONGOLAB_URI and DATABASE_URI with the same values, have no idea if I need both, but it works.. ",
    "vaskaloidis": "Strapi does not work on Heroku right now. I am not sure the issue, but it simply does not work.. ",
    "ankur1163": "can someone help me out? I followed the guide. I deployed it on heroku via github. I am using online api tester (like postman) to make requests \nhttp://www.apirequest.io/\nbut, when i did try to use it. I see this error \n```\nError: Request has been terminated\nPossible causes: the network is offline, Origin is not allowed by Access-Control-Allow-Origin, the page is being unloaded, etc.\ncurl -X GET -v -i 'https://amplytimer-backend-development.herokuapp.com/Userprofile'\nError: {}\nIf you have trouble with CORS, check out our Chrome plugin.\n\u00d7Close alert\nRequest history will be displayed here\n```\nIn my heroku log\n2019-01-29T05:11:33.646611+00:00 app[web.1]: [2019-01-29T05:11:33.645Z] error Make sure your MongoDB database is running...\n2019-01-29T05:11:33.647958+00:00 app[web.1]: Make sure your MongoDB database is running...\n2019-01-29T05:11:33.789398+00:00 heroku[web.1]: State changed from starting to crashed\n2019-01-29T05:11:33.795460+00:00 heroku[web.1]: State changed from crashed to starting\n2019-01-29T05:11:33.770694+00:00 heroku[web.1]: Process exited with status 0\n2019-01-29T05:11:43.218197+00:00 heroku[web.1]: Starting process with command `npm start`\n2019-01-29T05:11:45.979559+00:00 app[web.1]: \n2019-01-29T05:11:45.979574+00:00 app[web.1]: > amplyTimer-backend@0.1.0 start /app\n2019-01-29T05:11:45.979576+00:00 app[web.1]: > node server.js\n2019-01-29T05:11:45.979577+00:00 app[web.1]: \n2019-01-29T05:11:49.417315+00:00 app[web.1]: [2019-01-29T05:11:49.416Z] error Make sure your MongoDB database is running...\n2019-01-29T05:11:49.418224+00:00 app[web.1]: Make sure your MongoDB database is running...\n2019-01-29T05:11:49.583221+00:00 heroku[web.1]: State changed from starting to crashed\n2019-01-29T05:11:49.564128+00:00 heroku[web.1]: Process exited with status 0\n2019-01-29T05:12:16.393624+00:00 heroku[router]: at=error code=H10 desc=\"App crashed\" method=GET path=\"/Userprofile\" host=amplytimer-backend-development.herokuapp.com request_id=3eb16f60-5ac4-4853-b383-0bb99db0f855 fwd=\"52.72.142.18\" dyno= connect= service= status=503 bytes= protocol=https\nProbably, I have 2 issues? One my mongodb is not running and second , I have some cors issue? \nHere's my configuration\n{\n  \"defaultConnection\": \"default\",\n  \"connections\": {\n    \"default\": {\n      \"connector\": \"strapi-hook-mongoose\",\n      \"settings\": {\n        \"client\": \"mongo\",\n        \"uri\": \"${process.env.DATABASE_URI || ''}\",\n        \"host\": \"${process.env.DATABASE_HOST || '127.0.0.1'}\",\n        \"port\": \"${process.env.DATABASE_PORT || 1337}\",\n        \"database\": \"${process.env.DATABASE_NAME || 'strapi-production'}\",\n        \"username\": \"${process.env.DATABASE_USERNAME || ''}\",\n        \"password\": \"${process.env.DATABASE_PASSWORD || ''}\"\n      },\n      \"options\": {\n        \"ssl\": \"${process.env.DATABASE_SSL || false}\",\n        \"authenticationDatabase\": \"${process.env.DATABASE_AUTHENTICATION_DATABASE || ''}\"\n      }\n    }\nThanks . ",
    "justinshea": "@lauriejim\nHow do I give you more precise version then what is mentioned in original post?. > @lauriejim\n\nHow do I give you more precise version then what is mentioned in original post?\n\n3.0.0-alpha.14\n. Yes, I'll try.\nI'm a little confused by the migration guide. If I install new version globally, all I have to do is npm install --save strapi@3.0.0-alpha.14.2  in root of current project?\nIf it is not that simple how would I go about preserving / reestablishing the following customization's during migration? \n\napi models (and a custom service generated within the api directory along side models)\na custom hook (in hooks directory)\nvarious values in config including custom and all connections.\n\nThanks. > Hi there.\n\nI tryied with version aplha.14.2 but without any luck.\nSelect is still limited to 20 items.\n\nThanks for the heads up.  Are your relationships \"many-to-many\"? \nI have tested using \"one way\" and \"many-to-many\" relationships. The \"one way\" relationships are working if I search by text in the select field and, there appears to be some lazy loading after the initial 20 are populated as well.\nSo, one way relationships seem to be working as intended but many-to-many and other relationship types (??????) are not.... @wemod123 I\u2019ve been tracking this for a while. Sadly, this doesn\u2019t seem like a priority. Missed opportunity.... ",
    "DejvG": "+1. Hi there.\nI tryied with version aplha.14.2 but without any luck.\nSelect is still limited to 20 items.. ",
    "DaanDD": "Noted. Will have a look tomorrow.. ",
    "sknat": "@Restry that works, so the whole 'reinstall' script looks like this :\nnpm install\nfor i in ./plugins/*\ndo \n    cd $i\n    npm install\n    cd ../..\ndone\nnpm run setup --plugins\nmkdir ./public/uploads\n\nAnyway, it would be cool that this documented somewhere + there is a comprehensive cli that allows for easy install.. @derrickmehaffy I think the point of having package-lock.json is precisely for it to be versioned and have some consistency accross deployments.\nAlso I spent almost three days trying to make this work so I've obviously tested it.. I quote \"Commit it. It's meant to be committed.\"\nhttps://www.reddit.com/r/webdev/comments/6mupqt/packagelockjson_not_sure_if_i_should_commit_or_not/. ",
    "s97712": "thanks a lot. ",
    "aljacinto": "@derrickmehaffy thanks!  I saw the images in this plugin (https://strapi.io/marketplace/content-manager) and was looking at how it has author and ispublished column.  Is that a mockup only??. ",
    "gwpantazes": "I was running a brand new created project with no changes apart from a brand new scaffolded API strapi generate:api addPoint. As far as I know, there was no way for me to make a typo in the project.\nThe only other thing I did was install the graphql plugin, which caused the problem. The server could start without the graphql plugin (I could uninstall the plugin from the command line, and it would work again).\nDoes this help narrow anything down? I think last night I noticed that there was a new alpha version, I can check again on the new version and try to reproduce this.\n. Here is a reproduction log with a brand new generated project on the most recent alpha version 3.0.0-alpha.14.2 \nThis may actually be my bad as a newbie then. If you check the log, strapi can start with graphql installed if there are no api scaffolds generated. As soon as I generate an API and try to start the server, then graphql takes too long to load.\nIf the real answer here is that I need to understand the relationship between Strapi and GraphQl better, I can read up on it and possibly come back to this issue with a solution and maybe PR for some docs. I just expected it to work, but if my expectation was wrong then this isn't a bug \ud83d\ude1b \nEDIT: I uploaded the reproducing project here: https://github.com/gwpantazes/StrapiGraphQlPluginErrorOnStart. ",
    "softerboy": "\nI have the same issue. It works without GraphQL but once I add the plugin I get the same error. Here is my repository without GraphQL. https://bitbucket.org/typerory/strapi-realty/src/master/\nis one to many the issue? Propertytype belongs to many Properties?\n\nHi. After many attempts, I solve this problem this way. So you need to do step-by-step actions as below:\n1) go to \"api/your_content_type/models/your_content_type.settings.json file and open it\n2) if you have enum type with white space fields, remove all white spaces\n3) restart strapi\nI hope this will help.. ",
    "wkolcz-UMHS": "I am not sure if this is supposed to be corrected, but I just found, installed, and created one content type with Strapi. I then went to install the graphQL plugin and it crashed the site. I have one content type (Post) with title (string), body (text), dive date (date), location (string) and a video (single) and photo upload (multiple). No camel case in my field names. No APIs generated yet. I am getting the same error and no means to roll back the install. Ideas?. Ok, so I went to my Post content type and changed Location Name to Location and Dive Date to Date and it seems to work. Either the generated needs to change the field name to something different or the UI should say NOT to put multiple words in the field name. Which is unlike every other CMS out.. Agreed. It should be like drupal where there is a title and a machine name\n(which removes spaces)\nOn Tue, Dec 18, 2018 at 3:10 AM DMehaffy notifications@github.com wrote:\n\n@wkolcz-UMHS https://github.com/wkolcz-UMHS spaces are not supported by\nGraphQL, that isn't a strapi problem but yes the \"validations\" on the\nadminUI need to reflect that. GraphQL is not built by strapi (the plugin\nis) and all the requirements come from upstream.\nEvery other headless CMS that includes graphql implements the same as they\ndon't control those requirements.\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\nhttps://github.com/strapi/strapi/issues/2063#issuecomment-448132640, or mute\nthe thread\nhttps://github.com/notifications/unsubscribe-auth/AB7zDnz01r82uqKzuYoYYsH0XZsC9a26ks5u6KMKgaJpZM4XE_Oe\n.\n. \n",
    "diana4397": "@soupette \nI have used sudo also as there was a permission issue first but then also this error comes up every time.. @lauriejim \nCan you please explain in brief. I can't get it.. @lauriejim I have solved this issue but can you provide the plugin development documentation with example where data is fetch from API. ",
    "johndows": "@soupette How can this be a intended feature?\nWe can't add new fields online, having someone on the team of a company using this. I don't understand how can this be a good user experience.\nIs the editor (with markdown, etc) also not possible to implement in production?\nWhen I created a new type of content on the content builder in development, it had the editor (text), but in production it's just a simple textarea. @lauriejim Thanks for the answer. \nWhy would you update the schema? Prepare the schema to support those fields and when you create a new type of content in production just post / other the DB.\nAnd why creating files anyway? (And if you really need them, couldn't you create a script to check for updates in the DB and update files everywhere?) \nI'm sorry if I'm not seeing the picture here. Can you explain why you are not doing just using a simple CRUD mechanism here?\nBig thanks\n. ",
    "sylvaingirardbe": "\n@Vivsss I confirm your issue.\nCan you check if one already exist and if not create one please.\nTo manually fix it you will have to migrate your core_store key plugin_content-manager_schema value from your devdatabase to production database.\n\n@lauriejim is there an issue tracking this? I seem to be running into the same problem and can't quite figure out how to easily copy that from one database into the other.. I'll open one up.. I tried that, @anitricks, based on a recommendation of @derrickmehaffy. Didn't work, however. The admin UI wouldn't even load and I didn't go as far as to also look into that.. @anitricks we're running MongoDB in a container on Azure. Restarting the container should do the trick, I'd guess. No such luck.. ",
    "ishakuta": "to make it impossible to use it, e.g. removing it is not an option, imagine it should work only if there's some env var set to true, otherwise should not be accessible . ",
    "Christilut": "I created it through the Content Manager.\njson\n    \"strapi\": \"3.0.0-alpha.14.2\",\n    \"strapi-hook-mongoose\": \"3.0.0-alpha.14.2\". I'm not sure what you mean by relation attribute name. I don't have the attributes defined in Strapi which seems to cause this.\nI've tried it some more now and what I'm seeing now is that all my subdocuments that are not defined in the Content Manager are replaced with an ObjectId as string, eg:\njson\n{\n  \"costSpecification\": {\n      \"something\": 123\n  }\n}\nturns into:\njson\n{\n  \"costSpecification\": \"5b9d3458b9ec1a5a654af467\"\n}. Where? In my database? That is the only place the word costSpecification is in regards to strapi.. ",
    "YannMLD": "The solution which worked for me was to delete my model in Strapi CMS, delete data in my database (don't know if you have to), and recreate my model (with exactly the same name) in the Strapi CMS.\nStill don't know why I had this problem but I think it cames when i edited my model attributes. ",
    "Mat-thieu": "@derrickmehaffy Alright, thanks, might look some more into graphQL. Nonetheless I still think it'd be a nice feature for the REST api, you wouldn't want all relations all the time.\nPerhaps a more general approach would be better? An option on every model property to exclude it by default, and an additional filter to add properties that are excluded by default?\nOr perhaps relations shouldn't be included by default unless specified, which is the way I usually see it happen.\nWhat do you think?. @derrickmehaffy Or perhaps more targeted, so when there's multiple depth 1 relations you can pick which one you need.\nSomething like this\n?include=products\nOr when you need to get deeper into nested relations\n?include=products.reviews\nThis is also stated in the JSON API spec and I think it's a very clear way of going about it.. @derrickmehaffy Gonna close this now, thanks for your responses, I made a feature request https://github.com/strapi/strapi/issues/2086. @FaustTheThird Sure I'd be interested to see it. @FaustTheThird Thanks for sharing, but I'm wondering if this does actually prevent the server from querying the relation on the database?\nAlso @derrickmehaffy Do you happen to know if the GraphQL request only selects the field from the database that your request?. @derrickmehaffy Yeah I tried it out, GraphQL seems great!\nI was just wondering if in the core it's requesting all fields with all relations from the database and then it filters the field you requested with GraphQL afterwards. @maturanomx Useful, thanks! I just tested it and it appears that regardless of the attributes in Graphql, it's requesting everything. So Graphql is really only transforming/filtering the response but has no effect on the database queries it seems.\nI think this might really take a hit on performance if your database grows and has a lot of relations, in the background everything related is queried and retrieved.\n@lauriejim Thanks, that's good to know. I think a global toggle for autopopulate with an out-of-the-box option to include related resources each request would be sufficient for this issue, what do you think?\n. @kamalbennani Great, thanks! Looking forward to the feature!. @kamalbennani So does this disable fetching everything by default or do you still have to disable autopopulate on each model?. @kamalbennani Sweet, thanks again. @Aurelsicoko I like it, but I think having an option to exclude all relations would be nice also, something like . ?exclude=* perhaps?. ",
    "FaustTheThird": "I made something similar (my REST requests are returning only requested fields and requested fields of relations). I can share the sources of that with you if you want. @Mat-thieu Unfortunately I don't know how to connect with you through GitHub, please write to my E-Mail: alchemilla-mod@mail.ru. Don't want to fill this issue with flood :). @Mat-thieu \nSo here's a little example that may be useful for this task: \nin api\\utils\\services\\utils.js:\nextractObjectFields: (object, fields) =>\n  {\n    let output = {};\n    object = object.toJSON ? object.toJSON() : object;\n    fields.map(function (val) {\n      let field = val.split('.');\n      if(field.length > 1) {\n        output[field[0]] = {};\n        output[field[0]][field[1]] = object[field[0]][field[1]];\n      }\n      else\n      output[field[0]] = object[field[0]];\n    });\n    return output;\n  },\nAnd here's the example of using this method:\n```\nfind: async (ctx) => {\n    let fields = [];\n    let output = [];\n//Determine if our query has 'include' param, save it to variable and exclude from query (else it will determine 'include' as a table column\n    if (ctx.query.include) {\n      fields = ctx.query.include.split(',').map(function (val) { return val.trim(); });\n      ctx.query = _.omit(ctx.query.toJSON ? ctx.query.toJSON() : ctx.query, ['include']);\n    }\nif (ctx.query._q) {\n  data = await strapi.services.example.search(ctx.query);\n} else {\n  data = await strapi.services.example.fetchAll(ctx.query);\n}\n//if we need to extract fields from result\nif(fields) {\n  data.forEach(\n     function (object) {\n     output.push(strapi.services.utils.extractObjectFields(object, fields));\n  });\n return output;\n}\n\nreturn data;\n},\n```\nI'm currently at my job so I can't write more flexible code (like using arrays of relations etc.) anyway I hope that this may be helpful for you to achieve what you want.. @lauriejim Yes, I did everything exactly same (created hooks folder, folder called custom-hook and added index.js into it but I'm still getting same message:\nwarn (hook:custom-hook) wasn't loaded due to missing key enabled in the configuration. @lauriejim \nThanks, I just figured it out right now by myself. Anyway thank you for your help :). ",
    "RichieMerchant": "Just renamed it to section from node and it works. I can't see anything about reserved words. Would you know why this happened?. This is an ongoing issues and was not resolved as I expected. The blank screen happens intermittently. \nAfter creating a content type called page, I added  fields via admin. This worked fine. I later added a field manually via Page.settings.json, after which, I was not able to visit Content Manager > Content Types > Page\nI get a blank screen with the following console error\n\nThe Content Type list for Page no longer shows the correct data, just the ID\n\nAny help resolving this would be great.  . ",
    "technical1000heads": "I am getting this same issue even when not using a reserved word (that I can see). An example of my settings.json file for one of the models in question.\n{\n  \"connection\": \"default\",\n  \"collectionName\": \"programmes\",\n  \"info\": {\n    \"name\": \"programme\",\n    \"description\": \"\"\n  },\n  \"options\": {\n    \"increments\": true,\n    \"timestamps\": true,\n    \"comment\": \"\"\n  },\n  \"attributes\": {\n    \"name\": {\n      \"default\": \"\",\n      \"type\": \"string\",\n      \"required\": true\n    },\n    \"startdate\": {\n      \"default\": \"\",\n      \"type\": \"date\"\n    },\n    \"enddate\": {\n      \"default\": \"\",\n      \"type\": \"date\"\n    },\n    \"objective\": {\n      \"default\": \"\",\n      \"type\": \"text\"\n    },\n    \"workstreams\": {\n      \"collection\": \"workstream\",\n      \"via\": \"programme\"\n    },\n    \"roi\": {\n      \"default\": \"\",\n      \"type\": \"string\"\n    },\n    \"secondarymetric\": {\n      \"default\": \"\",\n      \"type\": \"enumeration\",\n      \"enum\": [\n        \"views\",\n        \"clicks\",\n        \"shares\"\n      ]\n    },\n    \"secondarymetrictarget\": {\n      \"default\": \"\",\n      \"type\": \"string\"\n    },\n    \"goals\": {\n      \"collection\": \"goal\",\n      \"via\": \"programme\"\n    }\n  }\n}\nIt returns the exact same error in the console and also presents a blank page.\nNode.js version: 9.0.0\nnpm version: 5.5.1\nStrapi version: 3.0.0-alpha.14.1.1\nDatabase: MySQL\nOperating system: Mac OS High Sierra Version 10.13.6. Deleting those from the core_store looks like it might have done the job.. ",
    "mleko": "@lauriejim Sure, done that. Hi I am aware I skipped some keys. I wasn't sure how to translate them in a way they would be \"natural\". But I will try to get back to them.. ",
    "czanella": "Has this issue been resolved? I ran into this exact same problem. My Strapi version is 3.0.0-alpha.14.5, and yes, I'm using Firefox.\nMy OS is Ubuntu 18.04.1.. ",
    "w-biggs": "This just occurred for me in Chrome. Here are the directories for the two content types that are causing the issue... not sure if it's related to this or to #1370 or maybe neither. I tried a second time, and it did the same thing, so I deleted the API folders... but now I have contentString and page content types stuck in the side navigation, when those content types don't exist in the Content Type Builder anymore.\n[2018-12-09T00:13:11.777Z] error Something went wrong in the model `Page` with the attribute `contentStrings`\n[2018-12-09T00:13:11.780Z] error Cannot read property 'attributes' of undefined\napi.zip\n. ",
    "ryubro": "Thank you @derrickmehaffy for the explanation. My environment is Azure web app and I could just set the process.env.port to 443 to make Strapi to listen to the port in the production environment. If Strapi itself doesn't support https, maybe there is a layer that magically makes all the encrypted packets into decrypted ones in Azure. I'm not really familiar with using SSL with proxy server but, if I may guess roughly, proxy server does the same thing - communicating encrypted packets with client but decrypted packets with app -, doesn't it?\nBut to the practical point, now I see that the protocol issue is already being handled in another PR, #1851. Do you want me to revert the part regarding protocol from this PR?\n. Thank you again for the explanation and transparency, @derrickmehaffy.\n\nAll the proxy code does is overwrite URIs that are used externally by clients (think of it like giving your street address to the client not your GPS latitude /longitude)\nThe problem is when used in production many of the oauth\u00b2 providers don't support non-ssl connections and many plugins like upload were giving localhost address for files (or http addresses).\n\nMaybe one more question that is quite similar to https://github.com/strapi/strapi/pull/1851#issuecomment-419486274: why do we need separate settings for server and proxy? Let's say that the node app is running on http://localhost:1337 and the web server maps the app to https://example.com:443, does Strapi need to know the internal URL, http://localhost:1337? To me the issues about oauth2 and upload plugin should be resolved if we just set the server address as https://example.com:443 instead of http://localhost:1337, or please enlighten me if I missed something.. @derrickmehaffy \nOh sorry, it was a silly question.\nI understand that node web app should run behind the proxy server, my question was what if we just configure the server setting like it runs on https://exmpale.com:443 while it actually runs on http://localhost:1337. I just realised that we cannot configure the server port 443 and make the app to listen to 1337. Sorry, again, it was a silly question.\nThen I think it's best that I'll remove the protocol part of this PR and look into #1851 to see if anything I can do about it.\n. I removed the protocol part from this PR as it is already being addressed in #1851.\nThis PR still should fix that the SSO only works when the user first register but not when he re-login.. Hi @soupette,\nI believe _.cloneDeep(strapi) will guarantee any mutation on global strapi, but I'm bit hesitating to do so.\nI personally believe that paying more attention not to mutate any object unintentionally - or not to mutate at all - is enough to avoid mutation issues. _.cloneDeep is not efficient in terms of resource, especially if we consider that this may need to be applied on every bootstrap code.\nBut I also understand that writing code with resource optimization in mind is not really worth the effort in modern world, most of the time.\nThat's why I thought that making this module - or potentially other similar modules - less vulnerable to mutating global object deserves a separate PR.\nHow do you think?\n. Hi @jeremie-olivier,\nThank you for testing this PR. I tested from the scratch again, but it's weird that it still works for me.\nIf you still have the project that you tested on your machine, could you push the code and share the link for me, please?\n. @jeremie-olivier,\nBTW, was the user that you tested registered before you do the test? This fix only works if the user is also registered with this fixed version.\nIf you haven't, can you start from the clean database?\n. @derrickmehaffy Oh, looks like a perfect place. Also code looks clean. I'll do as you said.. @derrickmehaffy \nI'm working on it, and found something that may be confusing in the future.\nWhile strapi.config.port and strapi.config.host are always come from the server configuration, strapi.config.url can come from either server or proxy configuration.\nDo you think it's a good idea to have both strapi.config.url and strapi.config.proxy.url? Or URL is always for clients only?\n. @derrickmehaffy I see. Thanks!. This PR is ready for being reviewed again.. Hi @derrickmehaffy,\nI don't mean to urge you, but just wonder what's the status of this PR. Did you test it in production already?\n. Hi @derrickmehaffy,\nThank you for testing and the detailed screen shots.\nI cannot look into it now as I am really busy this week but I'll do it this weekend or earlier next week and let you know what I'll find.\n. Hi @derrickmehaffy,\nI tried the code again and after a few hours of struggling I could make the Discord connection.\n\nAfter checkout the correct branch and ran npm run setup:build, I had to create a strapi project with --dev, like strapi new pr-2110-test --dev. Without --dev the new packages/strapi-plugin-users-permissions/controllers/Auth.js file is, somehow, NOT copied to the new project. In that case, the localhost:1337 problem can occur. You can check by \nDepending on how you set up the port, it added unnecessary port like :80 or :433. I fixed this bug in this commit: \nhttps://github.com/strapi/strapi/pull/2110/commits/6bc30095371c7b3566b0237f65d71696a8bcc29b\n\nIf you haven't create a project without --dev could you try again with the latest commit in this branch?. Hi @derrickmehaffy,\nFor the better communication and reproducibility, I created a repository with a docker environment: https://github.com/ryubro/strapi-pr-2110-test-docker. The readme in the repository should be detailed enough, but let me know if it's not really clear.\nPlease check and let me know if it works.\n. Hi @derrickmehaffy, thank you for testing and good to hear that one problem was fixed. Probably I cannot test it until this Friday. I'll update you what I'll find.. Sorry,\nActually what happened is it loads the next 20 items when the scroll reaches the end in the dropdown menu.\nI have no idea why my previous experience didn't work in that way, but I just checked that it works. I'll close this issue.. ",
    "jeremie-olivier": "Hi @ryubro, I've tested your PR and it doesn't seem to fix the Auth.form.error.email.taken error. error yet\nI've tried only with google auth provider. @ryubro Ok by bad, I just tried again and it's working well. Thanks for this !!!. ",
    "matsupa": "Hi @lauriejim \nthanks for amazing cms!\nIt is, country code should be JP.. I've updated what you mentioned. please check it out.. ",
    "Sejori": "I don't think this issue has been solved. Can we reopen it? \nI am currently trying to change the redirect URI found in the source code here: https://github.com/strapi/strapi/blob/4b2f261604ec367c87d13d140538548789c3b32b/packages/strapi-plugin-users-permissions/admin/src/containers/AuthPage/index.js#L73\nAfter changing '/plugins/users-permissions/auth/login' to 'https://www.example.com' users are still redirected to the Strapi admin login page. \nRedirect URI after email confirmation is editable in the 'Advanced Settings' tab in the Roles & Permissions screen. I haven't tested this as not using email confirmation yet but I would have though password reset redirect URI would be found there too.. ",
    "cuvanhung": "\nYou will need to replace the WYSIWYG component with the CK Editor\n\nThanksyou so much. But i dont know how to replace the WYSIWYG component with CK Editor. I can find any document guide . Can you guide me?. sorry. My English is not good. i have issue that when i used postman to get data from sever. It return markdown text format not html code format. So my front-end team can not work with it. i want to get html code format from server. i try replace Wysiwyg by CKEditor. But not easy. i can't do it. Please help me how to get html code format from Wysiwyg of strapi. Thanks a lot. . I also think like you. When I read the introduction at the link \"https://blog.strapi.io/v3-alpha-12-graphql-rich-text-editor-redesigned-dashboard/\" and has the text   \"The text is stored in. The database is Markdown and exposed by your API in the same format. We recommend you to use a module such as Showdown to convert it into HTML in your frontend. \" \nBut i think front-end developer will use showdown in angular JS.  I want cover markdown to html by back-end developer in strapi . I think it difficult for back-end developer. Can you help me how to cover markdown to html in strapi ?  I think I  use \"stateToHTML \" to convert data before it saved to database. But I dont find code that save data to database to modify it. \nThank you so much! @soupette . Hi. Thank you so much @sdubrez  and @derrickmehaffy . I followed your instructions and have successfully implemented. I have replace the WYSIWYG component with the CK Editor successed.  But I have a problem saving the data. After I entered the data it was not saved. And I can not upload file from CKEditor. \nExample :\" If I write text then i choose \"save\" . It not save.  Check out my pictures for more information. Help me please. Sorry for my English not good. Thank you. \nCKEditor(index.js)\n```ruby mport React, { Component } from 'react';\nimport CKEditor from '@ckeditor/ckeditor5-react';\nimport ClassicEditor from '@ckeditor/ckeditor5-build-classic';\nclass App extends Component {\n   render() {\n   return (\n\n {\n         // You can store the \"editor\" and use when it is needed.\n          console.log( 'Editor is ready to use!', editor );\n    }  }\n       onChange={ ( event, editor ) => {\n       const data = editor.getData();\n       console.log( { event, editor, data } );\n} }\n        />\n \n);\n}\n}\nexport default App; \n```\nCKEditorWithErrors ( index.js)\n``` ruby import React from 'react';\nimport PropTypes from 'prop-types';\nimport { isEmpty, isFunction } from 'lodash';\nimport cn from 'classnames';\n// Design\nimport Label from 'components/Label';\nimport InputDescription from 'components/InputDescription';\nimport InputErrors from 'components/InputErrors';\nimport InputSpacer from 'components/InputSpacer';\nimport App from 'components/CKEditor';\n// Utils\nimport validateInput from 'utils/inputsValidations';\nimport styles from './styles.scss';\nclass CKEditorWithErrors extends React.Component { // eslint-disable-line react/prefer-stateless-function\nstate = { errors: [], hasInitialValue: false };\ncomponentDidMount() {\nconst { value, errors } = this.props;\n// Prevent the input from displaying an error when the user enters and leaves without filling it\nif (!isEmpty(value)) {\nthis.setState({ hasInitialValue: true });\n}\n// Display input error if it already has some\nif (!isEmpty(errors)) {\nthis.setState({ errors });\n}\n}\ncomponentWillReceiveProps(nextProps) {\n// Show required error if the input's value is received after the compo is mounted\nif (!isEmpty(nextProps.value) && !this.state.hasInitialValue) {\nthis.setState({ hasInitialValue: true });\n}\n// Check if errors have been updated during validations\nif (nextProps.didCheckErrors !== this.props.didCheckErrors) {\n// Remove from the state the errors that have already been set\nconst errors = isEmpty(nextProps.errors) ? [] : nextProps.errors;\nthis.setState({ errors });\n}\n}\n/\n Set the errors depending on the validations given to the input\n @param {Object} target\n*/\nhandleBlur = ({ target }) => {\n// Prevent from displaying error if the input is initially isEmpty\nif (!isEmpty(target.value) || this.state.hasInitialValue) {\nconst errors = validateInput(target.value, this.props.validations);\nthis.setState({ errors, hasInitialValue: true });\n}\n}\nrender() {\nconst {\nautoFocus,\nclassName,\ncustomBootstrapClass,\ndeactivateErrorHighlight,\ndisabled,\nerrorsClassName,\nerrorsStyle,\ninputClassName,\ninputDescription,\ninputDescriptionClassName,\ninputDescriptionStyle,\ninputStyle,\nlabel,\nlabelClassName,\nlabelStyle,\nname,\nnoErrorsDescription,\nonBlur,\nonChange,\nplaceholder,\nresetProps,\nstyle,\ntabIndex,\nvalue,\n} = this.props;\nconst handleBlur = isFunction(onBlur) ? onBlur : this.handleBlur;\nlet spacer = !isEmpty(inputDescription) ?  : ;\nif (!noErrorsDescription && !isEmpty(this.state.errors)) {\nspacer = ;\n}\nreturn (\n<div\nclassName={cn(\nstyles.containerCKEditor,\ncustomBootstrapClass,\n!isEmpty(className) && className,\n)}\nstyle={style}\n\n\n\n\n\n{spacer}\n\n);\n}\n}\n\nCKEditorWithErrors.defaultProps = {\nautoFocus: false,\nclassName: '',\ncustomBootstrapClass: 'col-md-12',\ndeactivateErrorHighlight: false,\ndidCheckErrors: false,\ndisabled: false,\nerrors: [],\nerrorsClassName: '',\nerrorsStyle: {},\ninputClassName: '',\ninputDescription: '',\ninputDescriptionClassName: '',\ninputDescriptionStyle: {},\ninputStyle: {},\nlabel: '',\nlabelClassName: '',\nlabelStyle: {},\nnoErrorsDescription: false,\nonBlur: false,\nplaceholder: '',\nresetProps: false,\nstyle: {},\ntabIndex: '0',\nvalidations: {},\n};\nCKEditorWithErrors.propTypes = {\nautoFocus: PropTypes.bool,\nclassName: PropTypes.string,\ncustomBootstrapClass: PropTypes.string,\ndeactivateErrorHighlight: PropTypes.bool,\ndidCheckErrors: PropTypes.bool,\ndisabled: PropTypes.bool,\nerrors: PropTypes.array,\nerrorsClassName: PropTypes.string,\nerrorsStyle: PropTypes.object,\ninputClassName: PropTypes.string,\ninputDescription: PropTypes.oneOfType([\nPropTypes.string,\nPropTypes.func,\nPropTypes.shape({\nid: PropTypes.string,\nparams: PropTypes.object,\n}),\n]),\ninputDescriptionClassName: PropTypes.string,\ninputDescriptionStyle: PropTypes.object,\ninputStyle: PropTypes.object,\nlabel: PropTypes.oneOfType([\nPropTypes.string,\nPropTypes.func,\nPropTypes.shape({\nid: PropTypes.string,\nparams: PropTypes.object,\n}),\n]),\nlabelClassName: PropTypes.string,\nlabelStyle: PropTypes.object,\nname: PropTypes.string.isRequired,\nnoErrorsDescription: PropTypes.bool,\nonBlur: PropTypes.oneOfType([\nPropTypes.bool,\nPropTypes.func,\n]),\nonChange: PropTypes.func.isRequired,\nplaceholder: PropTypes.string,\nresetProps: PropTypes.bool,\nstyle: PropTypes.object,\ntabIndex: PropTypes.string,\nvalidations: PropTypes.object,\nvalue: PropTypes.string.isRequired,\n};\nexport default CKEditorWithErrors; \n**Edit (index.js) **ruby\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport {\nfindIndex,\nget,\nhas,\nisEmpty,\nisFunction,\nupperFirst,\n} from 'lodash';\n// You can find these components in either\n// ./node_modules/strapi-helper-plugin/lib/src\n// or strapi/packages/strapi-helper-plugin/lib/src\nimport Input from 'components/InputsIndex';\nimport InputJSONWithErrors from 'components/InputJSONWithErrors';\nimport CKEditorWithErrors from 'components/CKEditorWithErrors';\nimport styles from './styles.scss';\nconst getInputType = (type = '') => {\nswitch (type.toLowerCase()) {\ncase 'boolean':\nreturn 'toggle';\ncase 'bigint':\ncase 'decimal':\ncase 'float':\ncase 'integer':\nreturn 'number';\ncase 'date':\ncase 'datetime':\nreturn 'date';\ncase 'email':\nreturn 'email';\ncase 'enumeration':\nreturn 'select';\ncase 'password':\nreturn 'password';\ncase 'string':\nreturn 'text';\ncase 'text':\nreturn 'textarea';\ncase 'file':\ncase 'files':\nreturn 'file';\ncase 'json':\nreturn 'json';\ndefault:\nreturn 'text';\n}\n};\nclass Edit extends React.Component {\ngetInputErrors = (attr) => {\nconst index = findIndex(this.props.formErrors, ['name', attr]);\nreturn index !== -1 ? this.props.formErrors[index].errors : [];\n}\n/\n Retrieve the Input layout\n @param {String} attr [description]\n @return {Object} Object containing the Input's label customBootstrapClass, ...\n/\ngetInputLayout = (attr) => {\nconst { layout } = this.props;\nreturn Object.keys(get(layout, ['attributes', attr], {})).reduce((acc, current) => {\nacc[current] = isFunction(layout.attributes[attr][current]) ?\nlayout.attributes[attr]current :\nlayout.attributes[attr][current];\nreturn acc;\n}, {});\n};\n/\n Retrieve the input's validations\n @param {String} attr\n @return {Object}\n/\ngetInputValidations = (attr) => {\nconst { formValidations } = this.props;\nconst index = findIndex(formValidations, ['name', attr]);\nreturn get(formValidations, [index, 'validations'], {});\n}\n/\n Retrieve all relations made with the upload plugin\n @param {Object} props\n @return {Object}\n/\ngetUploadRelations = (props) => (\nObject.keys(get(props.schema, 'relations', {})).reduce((acc, current) => {\nif (get(props.schema, ['relations', current, 'plugin']) === 'upload') {\nacc[current] = {\ndescription: '',\nlabel: upperFirst(current),\ntype: 'file',\n};\n}\nreturn acc;\n}, {})\n)\nfileRelationAllowMultipleUpload = (relationName) => has(this.props.schema, ['relations', relationName, 'collection']);\norderAttributes = () => get(this.props.schema, ['editDisplay', 'fields'], []);\nrenderAttr = (attr, key) => {\nif (attr.includes('col-md')) {\nconst className = attr.split('')[1];\nreturn ;\n}\nconst details = get(this.props.schema, ['editDisplay', 'availableFields', attr]);\n// Retrieve the input's bootstrapClass from the layout\nconst layout = this.getInputLayout(attr);\nconst appearance = get(layout, 'appearance');\nconst type = !isEmpty(appearance) ? appearance.toLowerCase() : get(layout, 'type', getInputType(details.type));\nconst inputDescription = get(details, 'description', null);\nconst inputStyle = type === 'textarea' ? { height: '196px' } : {};\nlet className = get(layout, 'className');\nif (type === 'toggle' && !className) {\nclassName = 'col-md-4';\n}\nreturn ( \n\n);\n}\nrender(){\nreturn (\n\n\n{this.orderAttributes().map(this.renderAttr)}\n\n\n);\n}\n}\nEdit.defaultProps = {\nattributes: {},\nformErrors: [],\nformValidations: [],\nlayout: {},\nonBlur: () => {},\nonChange: () => {},\nrecord: {},\nresetProps: false,\nschema: {},\n};\nEdit.propTypes = {\nattributes: PropTypes.object,\ndidCheckErrors: PropTypes.bool.isRequired,\nformErrors: PropTypes.array,\nformValidations: PropTypes.array,\nlayout: PropTypes.object,\nonBlur: PropTypes.func,\nonChange: PropTypes.func,\nrecord: PropTypes.object,\nresetProps: PropTypes.bool,\nschema: PropTypes.object,\n};\nexport default Edit;\n```\n\n. ",
    "buixuanlam": "@soupette Thanks for your instructions! I followed each step in the tutorial but I am having difficulty in step 5: implement the ckeditor. You can provide more detailed instructions on step 5? Thank you!. ",
    "HoangDinhVan": "Sorry for my bad english. ^^, can you give me more specific instructions? because I am needing to insert ckeditor into strapi. thank you.. ",
    "Dogtiti": "so who has successfully solved it? \nI have trouble in replacing it with CKEditor,who can show more details?\nThanks so much ! . @cuvanhung I have successfully replace it with CKEditor,also it can save.Here is some details maybe can help you .However,I think the CKEitor's upload is so complicated\uff0cand I was failed to upload successfully.So I replace CKEditor with other WYSIWYG Editor,this is all the details I can remember with CKEditor.\nCKEditor(index.js)\n```\nimport CKEditor from '@ckeditor/ckeditor5-react';\nimport ClassicEditor from '@ckeditor/ckeditor5-build-classic';\nclass App extends Component {\nconst onChange=()=>{\nthis.props.onChange({\n            target: {\n                name: this.props.name,\n                type: this.props.type,\n                value: this.props.value\n            }\n        })\n}\nrender() {\n   return (\n\n\n\n);\n}\n}\nApp.defaultProps = {\n    setRef: () => { },\n    onChange: () => { },\n    name: \"\",\n    type: \"\",\n    value: \"\",\n};\nexport default App; \n``Edit (index.js)`\n```\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport {\nfindIndex,\nget,\nhas,\nisEmpty,\nisFunction,\nupperFirst,\n} from 'lodash';\n// You can find these components in either\n// ./node_modules/strapi-helper-plugin/lib/src\n// or strapi/packages/strapi-helper-plugin/lib/src\nimport Input from 'components/InputsIndex';\nimport InputJSONWithErrors from 'components/InputJSONWithErrors';\nimport CKEditorWithErrors from 'components/CKEditorWithErrors';\nimport styles from './styles.scss';\nconst getInputType = (type = '') => {\nswitch (type.toLowerCase()) {\ncase 'boolean':\nreturn 'toggle';\ncase 'bigint':\ncase 'decimal':\ncase 'float':\ncase 'integer':\nreturn 'number';\ncase 'date':\ncase 'datetime':\nreturn 'date';\ncase 'email':\nreturn 'email';\ncase 'enumeration':\nreturn 'select';\ncase 'password':\nreturn 'password';\ncase 'string':\nreturn 'text';\ncase 'text':\nreturn 'textarea';\ncase 'file':\ncase 'files':\nreturn 'file';\ncase 'json':\nreturn 'json';\ndefault:\nreturn 'text';\n}\n};\nclass Edit extends React.Component {\ngetInputErrors = (attr) => {\nconst index = findIndex(this.props.formErrors, ['name', attr]);\nreturn index !== -1 ? this.props.formErrors[index].errors : [];\n}\n/\n Retrieve the Input layout\n @param {String} attr [description]\n @return {Object} Object containing the Input's label customBootstrapClass, ...\n/\ngetInputLayout = (attr) => {\nconst { layout } = this.props;\nreturn Object.keys(get(layout, ['attributes', attr], {})).reduce((acc, current) => {\nacc[current] = isFunction(layout.attributes[attr][current]) ?\nlayout.attributes[attr]current :\nlayout.attributes[attr][current];\nreturn acc;\n}, {});\n};\n/\n Retrieve the input's validations\n @param {String} attr\n @return {Object}\n/\ngetInputValidations = (attr) => {\nconst { formValidations } = this.props;\nconst index = findIndex(formValidations, ['name', attr]);\nreturn get(formValidations, [index, 'validations'], {});\n}\n/\n Retrieve all relations made with the upload plugin\n @param {Object} props\n @return {Object}\n/\ngetUploadRelations = (props) => (\nObject.keys(get(props.schema, 'relations', {})).reduce((acc, current) => {\nif (get(props.schema, ['relations', current, 'plugin']) === 'upload') {\nacc[current] = {\ndescription: '',\nlabel: upperFirst(current),\ntype: 'file',\n};\n}\nreturn acc;\n}, {})\n)\nfileRelationAllowMultipleUpload = (relationName) => has(this.props.schema, ['relations', relationName, 'collection']);\norderAttributes = () => get(this.props.schema, ['editDisplay', 'fields'], []);\nrenderAttr = (attr, key) => {\nif (attr.includes('col-md')) {\nconst className = attr.split('')[1];\nreturn ;\n}\nconst details = get(this.props.schema, ['editDisplay', 'availableFields', attr]);\n// Retrieve the input's bootstrapClass from the layout\nconst layout = this.getInputLayout(attr);\nconst appearance = get(layout, 'appearance');\nconst type = !isEmpty(appearance) ? appearance.toLowerCase() : get(layout, 'type', getInputType(details.type));\nconst inputDescription = get(details, 'description', null);\nconst inputStyle = type === 'textarea' ? { height: '196px' } : {};\nlet className = get(layout, 'className');\nif (type === 'toggle' && !className) {\nclassName = 'col-md-4';\n}\nconst onChange = (v) => {\n      this.props.onChange(v)\n    }\nreturn ( \n\n);\n}\nrender(){\nreturn (\n\n\n{this.orderAttributes().map(this.renderAttr)}\n\n\n);\n}\n}\nEdit.defaultProps = {\nattributes: {},\nformErrors: [],\nformValidations: [],\nlayout: {},\nonBlur: () => {},\nonChange: () => {},\nrecord: {},\nresetProps: false,\nschema: {},\n};\nEdit.propTypes = {\nattributes: PropTypes.object,\ndidCheckErrors: PropTypes.bool.isRequired,\nformErrors: PropTypes.array,\nformValidations: PropTypes.array,\nlayout: PropTypes.object,\nonBlur: PropTypes.func,\nonChange: PropTypes.func,\nrecord: PropTypes.object,\nresetProps: PropTypes.bool,\nschema: PropTypes.object,\n};\nexport default Edit;\n. I have the same issue.\nand I have tried many times to reinstall it with Quick Start guide\uff0cbut it still doesn't appear in the content types list.. @soupette  thx.\nhowever,I need it Immediately\uff0cI have took your code but I can't build them, so how can I do?\nmaybe I have built them ,but it didn't change any more, so what should be the right steps?### . So\uff0cHas it been fixed already in the latest version?\nI can't find it in the list [https\uff1a//github.com/strapi/strapi/releases/tag/v3.0.0-alpha.14.5](https\uff1a//github.com/strapi/strapi/releases/tag/v3.0.0-alpha.14.5). @mnlbox yeah, I have solved it.. @mnlbox  In my project, `createdAT` and `updatedAt` are necessary, so I have added them without selecting whether to display them. Maybe they should be selected whether to display, but I haven't done it.\nin `packages/strapi-plugin-content-manager/admin/src/components/TableHeader/index.js`\n    // Add empty th for createTime column.\n    headers.push(createdAT);\n// Add empty th for updateTime column.\nheaders.push(<th key=\"updateTime\">updatedAt</th>);\n\nin `packages/strapi-plugin-content-manager/admin/src/components/TableRow/index.js`\n renderCreateTime = () => {\n    const { createdAt } = this.props.record;\n    return (\n      \n        {this.toReadabldTime(createdAt)}\n      \n    )\n  }\nrenderUpdateTime = () => {\n    const { updatedAt } = this.props.record;\n    return (\n      \n        {this.toReadabldTime(updatedAt)}\n      \n)\n\n}\nrenderCells = () => {\n    const { headers } = this.props;\n    return [this.renderDelete()]\n      .concat(\n        headers.map((header, i) => (\n            \n\n        )))\n      .concat([this.renderAction()]);\n      .concat([this.renderCreateTime()])\n      .concat([this.renderUpdateTime()])\n      .concat([this.renderAction()])\n  }\nAlthough it is not perfect\uff0cbut it solved my needs\n. @lauriejim  emmm, I am thinking about using your method. . I have found it's because I import a component from antd as `import Upload from 'antd/lib/upload'` in `packages/strapi-plugin-content-manager/admin/src/components/BraftEditor/index.js`(I replace the defalut `editor` with `braft-editor`), and it will report an error `strapi is not defined`, I tried to not import `antd`, it works correctly. I don't know why.\nAnyone can provide some suggestions?. @soupette  I\u2019m sure the editor I use it worked well, just because of the component from `antd`, since I use the `antd`, it performed wrong. So I remove it just now,  whole things work well.\nAnd the editor,  I installed it as [this](https://github.com/strapi/strapi/issues/2111) without doing these as follow img:\n![image](https://user-images.githubusercontent.com/38354472/50473267-40c90a00-09f7-11e9-8664-992af1773194.png)\n. @soupette\nimport React from 'react'\nimport BraftEditor from 'braft-editor'\nimport { ContentUtils } from 'braft-utils'\nimport { Upload } from 'antd'\n//....\n    const extendControls = [\n      {\n        key: 'antd-uploader',\n        type: 'component',\n        component: (\n          \n\n              Upload\n            \n\n        )\n      }\n    ]\n//...\nreturn (\n      \n\n\n\n\n)\n``\nAs long as I don't use componentUploadfromantd, it works well\n. @soupette yeah,  I have changed another one. @lauriejim I don't know why, and I didn't useantdanymore instrapi`,all things are ok. ",
    "dottgonzo": "The problem of the markdown wysiwyg editor is that if you build a frontend for anyone that is not a developer and you give him the access to the strapi backend to edit their content, it will call you frustrated after 2 minutes only... So i'm interested to find a solution to this problem before i start to use strapi on some project. Anyone has some forked repo with an easy wysiwyg editor that translate content in plain html??. ",
    "rcpassos": "Some problem here using MySQL database. ",
    "donaldr": "I have the exact same issue. Process is as follows:\n\nCreate new content type, call it Client. Add a single string field. Save.\nCreate new content type, call it CpetTest. Add a relationship such that a Client can have many CpetTests. Save\nGo to Content Manager. Click on CpetTests. White screen with \"getIn\" error.. Actually, it happens when you try to create a camelCase entry.. I'll update to the latest and test but the behavior will be the same as the code in strapi-start.sh hasn't changed. \n\nI'm create a development docker instance and would prefer not to have to restart the docker instance when developing. You're already restarting when modifying files just not when adding them. I'm wondering if this functionality got dropped when switching from forever-monitor to using fs. \nI fixed the issue by having fs watch the directories for \"rename\" (i.e. file creation) events:\nChanged restart code within the setFilesToWatch function in start-start.sh from:\nconst filePath = `${src}/${file}`;\n          if (fs.statSync(filePath).isDirectory()) setFilesToWatch(filePath);\n          else fs.watchFile(filePath, () => restart(filePath));\nto:\nconst filePath = `${src}/${file}`;\n          if (fs.statSync(filePath).isDirectory()) {\n            setFilesToWatch(filePath);\n            fs.watch(filePath, eventType => eventType == \"rename\" && restart(filePath));                                                                                    \n          }\n          else {\n            fs.watchFile(filePath, () => restart(filePath));\n          }\nThis might not be the best solution as there are two watches going on. Is restart being called twice in quick succession when a file is deleted? Possibly. \nIn general, I don't think using fs manually is a good idea for this given cross-platform issues. I would look at chodikar as a wrapper for cross-platform fs functionality. . Verified on 3.0.0-alpha.14.5. npm run setup:build . ",
    "craftery": "\nActually, it happens when you try to create a camelCase entry.\n\nFor the record it also happens with underscores in field names. Although tedious, as henrych4 says you can amend the core collection (make fields lowercase) to work around the problem.. ",
    "labolado": "In production it's common to have a redis server working as cache between application servers and database server:\napp1, app2, app3... ------> cache in memory/redis/.. ------> database server. ",
    "hyingreborn": "need it too.... ",
    "themanojshukla": "Yes. Very similar to what mentioned above.* Will that be available in next release of strapi? or What is expected time of completion ?? \n*Please feel free close this issue after commenting.. Any other workaround or hint, where I can atleast get this done to complete the POC phase at minimum. I'm from Java background, if it were be the case there, I could have used 'Aspect Oriented Design' at worst (just to make sure it's possible). But I'm new to nodeJs. So don;t know if something similar is available in node or not.. or if it is available, what's the terminology for that. :( \n. ",
    "thejettdurham": "After spending a few fruitless hours around this problem, I feel like it's reasonable to request that the (at the very least) the admin deployment docs be updated to help keep others from wasting their time as well, especially since this issue has been known for nearly 3 months at this point \ud83e\udd14.\nTo elaborate, it seems that there are a few hard-coded /admin references that need to be fixed. Specifying only an admin.path param in my environment's server.json to override the default /admin route, I see a handful of requests being made to /admin anyhow:\n\n/admin/gaConfig\n/admin/strapiVersion\n/admin/currentEnvironment\n/admin/layout. \n",
    "mosesharrisjr": "One of the Content Types was named 'function.'   On correcting this, everything seems to be working now.  . ",
    "tugal": "Same issue here, how do you find out that this fields cause redirect ?\nthanks,. ",
    "msarfaraz": "Its not working bro.I tried with powershell also??. This issue is in latest release.downgrade and install it will work.\nInstalling 3.0.0-alpha.16\nsudo npm install strapi@v3.0.0-alpha.16 -g\nChecking Version\nstrapi -v\nIt should show you 3.0.0-alpha.16\nosboxes@osboxes:~/xxx-xxx$ strapi -v\n3.0.0-alpha.16\nI hope strapi.io team will fix it fast as almost everyone use this feature and use default way to install strapi.io framework.\n. ",
    "andrewmee": "@lauriejim Oh I intended this as a feature request, so I used that template instead.  Is the behaviour I've described something you expect should already be happening?\nI assumed this would be a new feature.. @Aurelsicoko I'm not sure if this is what you mean, but I just tried creating a many-to-many relationship from a content type (\"product\") to itself, manually using this in product.settings.json\n\"products\": {\n      \"collection\": \"product\",\n      \"via\": \"products\"\n    }\nIt looks as though it works, but then when I try to associate one product with another and save, I get a loop in strapi;\n```\nMongoose: product.update({ _id: ObjectId(\"5b969f1a149030087fd98d74\") }, { '$setOnInsert': { createdAt: new Date(\"Wed, 07 Nov 2018 13:44:11 GMT\") }, '$set': { updatedAt: new Date(\"Wed, 07 Nov 2018 13:44:11 GMT\"), _id: ObjectId(\"5b969f1a149030087fd98d74\") } }, { strict: false, overwrite: undefined })\nMongoose: product.findOne({ _id: ObjectId(\"5b96a0ae149030087fd98d7e\") }, { projection: {} })\nMongoose: product.find({ products: { '$in': [ ObjectId(\"5b96a0ae149030087fd98d7e\") ] } }, { projection: {} })\nMongoose: product.findOne({ _id: ObjectId(\"5b96a0ae149030087fd98d7e\") }, { projection: {} })\nMongoose: tag.find({ products: { '$in': [ ObjectId(\"5b96a0ae149030087fd98d7e\") ] } }, { projection: {} })\nMongoose: drop.find({ _id: { '$in': [ ObjectId(\"5b9669b72c0af0482ee57fd1\") ] } }, { projection: {} })\nMongoose: collaborator.find({ products: { '$in': [ ObjectId(\"5b96a0ae149030087fd98d7e\") ] } }, { projection: {} })\nMongoose: birthday.find({ products: { '$in': [ ObjectId(\"5b96a0ae149030087fd98d7e\") ] } }, { projection: {} })\nMongoose: product.find({ products: { '$in': [ ObjectId(\"5b96a0ae149030087fd98d7e\") ] } }, { projection: {} })\nMongoose: editorial.find({ products: { '$in': [ ObjectId(\"5b96a0ae149030087fd98d7e\") ] } }, { projection: {} })\nMongoose: upload_file.find({ 'related.kind': 'Product', 'related.field': 'heroImage', 'related.ref': ObjectId(\"5b96a0ae149030087fd98d7e\") }, { sort: { createdAt: -1 }, projection: {} })\nMongoose: upload_file.find({ 'related.kind': 'Product', 'related.field': 'teaserImage', 'related.ref': ObjectId(\"5b96a0ae149030087fd98d7e\") }, { sort: { createdAt: -1 }, projection: {} })\nMongoose: upload_file.find({ 'related.kind': 'Product', 'related.field': 'productImages', 'related.ref': ObjectId(\"5b96a0ae149030087fd98d7e\") }, { sort: { createdAt: -1 }, projection: {} })\n```. ",
    "ryanbelke": "Adding to this, deployment from the CLI for a project and the push button Heroku deployment both fail with the same error:\nError message received in Heroku Logs:\n```\n2018-10-13T23:08:55.014388+00:00 app[web.1]: > server@0.1.0 start /app\n2018-10-13T23:08:55.014390+00:00 app[web.1]: > node server.js\n2018-10-13T23:08:55.014392+00:00 app[web.1]: \n2018-10-13T23:09:00.978879+00:00 app[web.1]: Query files\n2018-10-13T23:09:00.979750+00:00 app[web.1]: Query role\n2018-10-13T23:09:00.979902+00:00 app[web.1]: Query roles\n2018-10-13T23:09:00.980143+00:00 app[web.1]: Mutation createRole\n2018-10-13T23:09:00.980273+00:00 app[web.1]: Mutation updateRole\n2018-10-13T23:09:00.980406+00:00 app[web.1]: Mutation deleteRole\n2018-10-13T23:09:00.980580+00:00 app[web.1]: Mutation upload\n2018-10-13T23:09:01.130935+00:00 app[web.1]: (node:22) DeprecationWarning: collection.ensureIndex is deprecated. Use createIndexes instead.\n2018-10-13T23:09:01.244937+00:00 app[web.1]: error { MongoError: not authorized on strapi-production to execute command { find: \"core_store\", filter: { key: \"plugin_content-manager_schema\", environment: \"\", tag: \"\" }, projection: {}, limit: 1, singleBatch: true, batchSize: 1, returnKey: false, showRecordId: false, $clusterTime: { clusterTime: Timestamp(1539472133, 1), signature: { hash: BinData(0, 03C5C96D082B307649839F2D71B72457A3A4E40D), keyId: 6611834180592467969 } }, lsid: { id: UUID(\"ff43bf27-6a78-4db3-9d16-e1dbcc482ef6\") }, $db: \"strapi-production\" }\n2018-10-13T23:09:01.244954+00:00 app[web.1]:     at queryCallback (/app/node_modules/mongodb-core/lib/cursor.js:248:25)\n2018-10-13T23:09:01.244956+00:00 app[web.1]:     at /app/node_modules/mongodb-core/lib/connection/pool.js:532:18\n2018-10-13T23:09:01.244958+00:00 app[web.1]:     at process.tickCallback (internal/process/next_tick.js:61:11)\n2018-10-13T23:09:01.244960+00:00 app[web.1]:   operationTime:\n2018-10-13T23:09:01.244961+00:00 app[web.1]:    Timestamp { _bsontype: 'Timestamp', low: 1, high_: 1539472133 },\n2018-10-13T23:09:01.244963+00:00 app[web.1]:   ok: 0,\n2018-10-13T23:09:01.244965+00:00 app[web.1]:   errmsg:\n2018-10-13T23:09:01.244970+00:00 app[web.1]:    'not authorized on strapi-production to execute command { find: \"core_store\", filter: { key: \"plugin_content-manager_schema\", environment: \"\", tag: \"\" }, projection: {}, limit: 1, singleBatch: true, batchSize: 1, returnKey: false, showRecordId: false, $clusterTime: { clusterTime: Timestamp(1539472133, 1), signature: { hash: BinData(0, 03C5C96D082B307649839F2D71B72457A3A4E40D), keyId: 6611834180592467969 } }, lsid: { id: UUID(\"ff43bf27-6a78-4db3-9d16-e1dbcc482ef6\") }, $db: \"strapi-production\" }',\n2018-10-13T23:09:01.244972+00:00 app[web.1]:   code: 13,\n2018-10-13T23:09:01.244973+00:00 app[web.1]:   codeName: 'Unauthorized',\n2018-10-13T23:09:01.244975+00:00 app[web.1]:   '$clusterTime':\n2018-10-13T23:09:01.244977+00:00 app[web.1]:    { clusterTime:\n2018-10-13T23:09:01.244978+00:00 app[web.1]:       Timestamp { bsontype: 'Timestamp', low: 1, high_: 1539472133 },\n2018-10-13T23:09:01.244980+00:00 app[web.1]:      signature: { hash: [Binary], keyId: [Long] } },\n2018-10-13T23:09:01.244982+00:00 app[web.1]:   name: 'MongoError',\n2018-10-13T23:09:01.244984+00:00 app[web.1]:   [Symbol(mongoErrorContextSymbol)]: {} }\n```\nReproduce by deploying:\nhttps://blog.strapi.io/deploying-a-strapi-api-on-heroku/. ",
    "juansaab": "Same issue here. Using the latest version. I remember to deploy using \"strapi\": \"3.0.0-alpha.14\" without problems. This is my current output:\n(node:22) DeprecationWarning: collection.ensureIndex is deprecated. Use createIndexes instead.\n2018-10-17T00:57:45.610653+00:00 app[web.1]: error { MongoError: not authorized on strapi-production to execute command { find: \"core_store\", filter: { key: \"plugin_content-manager_schema\", environment: \"\", tag: \"\" }, projection: {}, limit: 1, singleBatch: true, batchSize: 1, returnKey: false, showRecordId: false, $clusterTime: { clusterTime: Timestamp(1539737860, 1), signature: { hash: BinData(0, 19F98F220DB4B40283B13F42C0A719CC52440AA7), keyId: 6613065466111852545 } }, lsid: { id: UUID(\"ab46e282-0782-4fda-8865-42f3f7fb9ac8\") }, $db: \"strapi-production\" }. I managed to detect the release that stopped working on Heroku. I did downgrade the strapi dependency on my package.json from 14.3 to 14 and it deployed well. However, as soon as I updated to 3.0.0-alpha.14.1 it crashes. \nHope it can help the team to start looking for the failure. . > @lauriejim, I tried everything! I even uploaded a test project to Heroku just to make sure it's nothing something else other than Strapi that may cause the remote server to not run. I even try to go through the Deliveroo project and followed the deployment instructions there! Same issue... I'm really not sure what is the problem. https://blog.strapi.io/strapi-next-deploy/\nIf you're in a hurry, downgrade to version 14.0. I just did it and have it running. In order to downgrade you can update your package.json\n```\n  \"dependencies\": {\n    \"lodash\": \"^4.17.5\",\n    \"strapi\": \"3.0.0-alpha.14\",\n    \"strapi-hook-mongoose\": \"3.0.0-alpha.14\"\n  }. This issue might be related to #1831 but I'm not sure. @sundaycrafts . @lauriejim I finally got alpha.14.3 working on heroku by applying #2153 last comment. It is important to note that on alpha.14 it was enough to set DATABASE_URI environment variable, this time, I was forced to set all the variables by hand. \nI took a long time checking diffs between both 14.0 and 14.3 tags and the only thing I noted was related to Mongo settings was the file modified by #1831 It might be a clue to fix both (Deploy Button and the DATABASE_URI as only variable) issues.\n\n. ",
    "jinnkhan88": "@abdonrd what you can do is put the complete code on the google app engine by changing the cloud ignore files and putting up node_modules folder on the server as well. . @abdonrd Apologies i just read that you are using Standard environment. Can you try using the flex environment? as this works for me. @abdonrd oh alright. I did the deployment on Flex after messing around with standard environment. As i was facing the same issues. However once on flex it was all good. . ",
    "karimation": "same here.. ",
    "oacstevens": "Looks like in the more limited standard app engine environment the postinstall script isn't run, only basic npm install, which leaves the plugins without dependencies. In the flex environment the build script does run, so it all gets setup correctly.. ",
    "fidelsam1992": "I was facing a similar issue trying to deploy it using a docker container.\nYou need to include the npm dependencies that are in the /plugins/*/package.json \nin your main package.json\nI manually copied those dependencies into the main package.json file, all went good \nnode -v : v10.14. ",
    "maxdyy": "Unfortunately same here \ud83d\ude14\nFlexible ENV, runtime: nodejs10\nMoved all the dependencies and dev dependencies from admin and plugins but still getting 500 server error.\n\n. > It's working for me (WITH FLEX) and the last version. My app.yaml file:\n\nenv: flex\nruntime: nodejs\n\nAre you also running your db on google cloud? \n. ",
    "jesusprubio": "It's working for me (WITH FLEX) and the last version.  My app.yaml file:\nenv: flex\nruntime: nodejs. No, outside GCloud. Yes, I've followed them, as I said in the issue report. By the way, they are not easy to follow at all because they are complex and they use a lot of React stuff which is not common for a lot of devs (like me) :(.\nMoreover I think the problem is worse that we thought at first. I can't be sure because I'm in my first days with Strapi but I think this generated URI is used internally in any place (apart from the UI). Because, until I made these changes (even plugin rebuild), I couldn't get it working.\nIt's not a problem for my project because I have solved it in my code but I think it's not a good first contact with Strapi to try a provider and to see it's not working. At the end, this kind of out-of-the-box features are the biggest strengths of Strapi.. @maturanomx I can't see that requirement in the CONTRIBUTING file. So, for convenience, I prefer to use the GitHub button. :smile_cat:  . Done, then should I rebase or not?\n. Closing this PR, this new one implement the same features with a fix: https://github.com/strapi/strapi/pull/2714\nSorry, but I had problems with my fork.. > Please can you apply changes.\nSorry I'm travelling this week :). Why? It's not a big deal since any user can change it but I think that, if we can make Strapi more secure by default, we should :smile:. Its a common good practice to avoid fingerprinting.\n- https://github.com/jesusprubio/strong-node#21-the-http-header-x-powered-by-is-disabled-in-the-responses\nPeople tend to underestimate this risk but it's easy to imagine a situation in which anyone discovers a bug in Strapi (since we're in alpha it's quite probable). Or even worse, for a fixed vulnerability, every not updated user is vulnerable. And I'm sure not every user is using the last Strapi version, at the end it's still a quite manual process. The attacker only would have to look for them in engines like Shodan to compromiste them, even in an automatic way:\nhttps://www.shodan.io/search?query=X-Powered-By%3A+Strapi+%3Cstrapi.io%3E. Done.\nI'm sure it will stop a lot of script-kiddies (and others) from finding the services in specific search engines, which is a very different case. I prefer to call it \"defense in depth\" ;).\nAnyway, as I said, it's it's not a big deal :smile:.. Now I have a new problem, I can't find how to add the separator (), like in the rest of the sections.\n\n\n. But it keeps working thanks to this, isn't it? https://github.com/strapi/strapi/pull/2671#discussion_r249877420\nAnd this way we avoid to repeat the same string in 4 places.. Done. ",
    "therebelrobot": "I'm running into the same issue myself. \n\nNode.js version: v10.13.0\nnpm version: 6.4.1\nStrapi version: 3.0.0-alpha.14.5\nDatabase: MongoDB\nOperating system: macOS High Sierra 10.13.6 (17G65)\n\nError message\n```\n[2018-11-15T00:44:08.854Z] debug POST /content-type-builder/models/ (235 ms)\n[2018-11-15T00:44:08.899Z] info The server is restarting\n[2018-11-15T00:44:13.335Z] error Cannot find the controller's action Upload.find\n```\nSteps to reproduce the problem\n\nstrapi new server (and subsequent successful connection)\ncd server\nstrapi install graphql\nnpm install --save strapi-upload-aws-s3@alpha\nstrapi start\nregister new user, log in\n(optional, I've omitted this with same result) go to Plugins > Upload settings > provider > select amazon S3 and enter credentials\nGo to Content Type Builder > Create new content type\nname content type file. save.\nadd new field > string > title\nadd new field > media > media_file\nadd new field > date > date\nSave, refer to console\nSee error as described above.\n\nif I omit steps 2 and 3 above, the issue doesn't seem to occur... maybe this has something to do with how the aws plugin is interacting with it?\n. More info: When trying to install graphql via the market place after omitting 2 and three above, I get the following:\n```\n[2018-11-15T01:03:13.881Z] info Installing graphql...\n[2018-11-15T01:03:14.277Z] debug POST /admin/plugins/install (574 ms)\n[2018-11-15T01:03:14.292Z] info The server is restarting\n[2018-11-15T01:03:18.745Z] error Cannot find the controller's action Upload.find\n```\nso maybe it's a graphql plugin bug?. Dang this is a slippery bug. Fresh install, omitted 2 and three, different name of content type (test this time) and only a title and media_file field, then installed Graphql plugin. No error. Gonna try the s3 plugin now to see if that is indeed where it's failing.\nUPDATE: npm installing s3 (which because of the file watching restarts the server) didn't trigger the bug... idk at this point. I'm gonna keep an eye on this going forward, but at the very least, there's the additional information on this above.. zomgs, lol, found the error again. Tried renaming test content type to file and the error cropped up again:\n```\n[2018-11-15T01:16:58.543Z] debug GET /content-type-builder/models/test? (353 ms)\n[2018-11-15T01:17:03.468Z] debug PUT /content-type-builder/models/test (887 ms)\n[2018-11-15T01:17:03.505Z] info The server is restarting\n[2018-11-15T01:17:08.941Z] error Cannot find the controller's action Upload.find\n```\nI'm gonna avoid using the word file from now on when interacting with these content types, looks like that for some reason is breaking things up. Will update this thread with more if I see it again.. ",
    "jamesej": "Adding a note that creating a content type named Map also breaks strapi. This is a reserved word issue that likely applies to all JS built-in types and probably some other type names too.. I believe this might have to do with creating a content type named 'Map', would this make sense? If so you should be blocking use of such reserved words as content types.. Yes confirmed this was the cause as deleting api/map directory let strapi run again.. ",
    "alling1505": "I am using Chrome and the problem is there. At first time in some content types it allowed me to create the  relations but when I checked the relation had been changed but later in other content types I tried to select another relation but the error continues with alm type of relations.. ",
    "jwlawrence": "I should also note that I did try stopping the brew service and instead running mongod. I verified that the service was running, but again strapi failed to connect. Other info that might be helpful is I'm using nvm to manage my node version.. According to lsof, yes:\nmongod  20864 ... TCP localhost:27017 (LISTEN). Ok, figured it out. I mistakenly thought the prompt for Username and Password was to create credentials for the admin user of the app, rather than for the db itself. Leaving them blank worked.\nSo, I think this ticket should be changed to make the fields in the setup process clearer. You already have \"Database name\" so why not prefix all of them with \"Database\"? For example:\n? Choose your main database: MongoDB (recommended)\n? Database name: \n? Database Host: 127.0.0.1\n? +srv connection: false\n? Database Port (It will be ignored if you enable +srv): 27017\n? Database Username:\n? Database Password:\n? Authentication database (Maybe \"admin\" or blank):\n? Enable SSL connection: false. ",
    "PashalisN": "So, then I ask you guys (devs) why do you release a version with user roles and permission without having such an essential thing like this. In my opinion it doesnt make sense.\nuse case:\nImagine, If I have a bank account and I am related to my account with \"MY\" sensitive data, and any other authenticated user can make a request to all bank accounts, so for what do I need these user permission role thing??? \n I thought I am wrong with my way of thinking and had overlook something in the admin panel, but these essential thing should be the first thing to think about when I try to understand how user driven data are made for\n. another solution could be to make api endpoints more flexible, if I want to have my own articles I should be able to define it like this:\napi/user/articles ... this could make sense if you use nonsql databases.\n. ",
    "jdmann": "I found this thread while searching for a way to customize Strapi so that I can completely separate user or organization-level data from each other, without having to use multiple applications. If users could belong to an \"organization\" and all access was restricted within that organization, that would seem very useful. . ",
    "GuillaumeLe": "I'm faced with the same issue with the Discord provider.\nI think the true question is why the provider field is removed from the the schema ?. ",
    "trieutritam": "@lauriejim: \nI've just tried with latest version (14.4.0) and this issue was fixed.\nSo I close this issue.. ",
    "pbov": "Same here. Some more details:\n\nthe relations are saved in the order you added them in the first save. So 1) adding foo3, foo2, foo1 2) save -> works as expected, but rearranging relations won't work after saving.\nin MySQL the order isn't saved in a separate field but in the admin panel it's displayed in the order of the internal IDs (and saved in this way). So it will work for the first save - but rearranging and adding/removing further relations will be very tricky without having a separate order-column.\n\nAnd: the relation order in REST or graphql is absolut random. Maybe this should get its own ticket?. For for debug reasons: Works for me on High Sierra with a fresh install (with npm)\n\nnpm: 6.4.1\nnode: v9.11.1\nstrapi: 3.0.0-alpha.14.4.0\nmongodb 4.0.3\nmacOS 10.13.6. \n",
    "friendofdog": "I am experiencing the same issue. The Testimonial items below related to a Customer, where Customer is dominant. Here's the original order:\n\n... and here's the subsequent re-ordering:\n\nUI recognises the reordering. However, GraphQL does not seem to pick up on this. A call using GraphQL will return the following no matter how Testimonial items are reordered:\n{\n  \"data\": {\n    \"customer\": {\n      \"title\": \"some restaurant\",\n      \"testimonials\": [\n        {\n          \"title\": \"entered first\",\n          \"content\": \"reordered to second\"\n        },\n        {\n          \"title\": \"entered second\",\n          \"content\": \"reorederd to third\"\n        },\n        {\n          \"title\": \"entered third\",\n          \"content\": \"reordered to first\"\n        }\n      ]\n    }\n  }\n}\nOn the other hand, REST seems to work. After the Testimonial items are re-ordered, the following response is returned:\n{\n    \"title\": \"some restaurant\",\n    \"testimonials\": [\n        {\n            \"title\": \"entered third\",\n            \"content\": \"reordered to first\"\n            ...\n        },\n        {\n            \"title\": \"entered first\",\n            \"content\": \"reordered to second\"\n            ...\n        },\n        {\n            \"title\": \"entered second\",\n            \"content\": \"reorederd to third\"\n            ...\n        }\n    ],\n    ...\n}\n@mamartins, you are correct: order in the UI is retained only on the \"dominant\": true side. However, as @derrickmehaffy points out, GraphQL does not pick up on this. Calls made in REST work.. ",
    "digitslab": "Thank you for the support. I think it's better to add in framework level than api level. We may ask by the time of api creation in admin panel.. I need to know is there any option to change database name at runtime without restart or downtime.. i can do it by using mongoose, I need to backup local db to server db. did it by adding a crone job\n'use strict';\nconst mongoose = require('mongoose');\nvar _ = require('lodash');\nvar Helper = require('./custom/helper');\nvar isCompleted=[];\nvar models = [];\nvar isInitialRun = true;\nvar isErrorToReset = false;\nvar server = '127.0.0.1:27017';\nvar database = 'default';\nvar username = '';\nvar password = '';\n/\n * Cron config that gives you an opportunity\n * to run scheduled jobs.\n \n * The cron format consists of:\n * [MINUTE] [HOUR] [DAY OF MONTH] [MONTH OF YEAR] [DAY OF WEEK] [YEAR (optional)]\n /\nmodule.exports = {\n' *  *  ': async () => {\n  try{\nif(isInitialRun){\n  let dbConfig = strapi.config.environments.staging.database\n  let settings = dbConfig.connections[dbConfig.defaultConnection].settings\n\n  server = settings.host \n  database = settings.database\n  username = settings.username\n  password = settings.password\n\n  mongoose.connect('mongodb://'+ username + ':' + password + '@'+ server + ',' +\n  '/' + database + '?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true');\n  for (var key in strapi.api) {\n    for (var subkey in strapi.api[key].models) {\n      let subval = strapi.api[key].models[subkey]\n      isCompleted[subval.globalName] = true\n      models [subval.globalName] = mongoose.models[subval.globalName] || mongoose.model(subval.globalName, new mongoose.Schema(Helper.modelToMongoose(subval.attributes)))\n    }\n  }\n  isInitialRun = false\n}\n\nif(Helper.isCompletedAll(isCompleted)){\n  isErrorToReset = false\n  let syncData = await strapi.services.sync.fetchAll({})\n\n  for(let item of syncData){\n    let name = item.collection_name\n    let id = item.related_id\n\n    // set is completed to false to avoid repeatation\n    isCompleted[name] = false\n\n    // Load collection data by id\n    let data = await strapi.services[name.toLowerCase()].fetch( { _id:id } )\n\n    // save data to corresponded collection\n    models[name].findOneAndUpdate({_id:id}, data, {upsert:true}).then(async (result)=>{\n\n      // mark completed\n      isCompleted[name] = true\n\n      // remove from sync\n      await strapi.services.sync.remove( { _id: item._id } )\n\n      console.log('saved ', name)\n    }).catch(e=>{\n\n      // mark compled true for next try\n      isCompleted[name] = true\n\n      // mark error to reset\n      isErrorToReset = true\n\n      // reset if isErrorToReset and completed all false (it may lost internet or faced any error that may cleared after 5 seconds)\n      setTimeout(()=>{\n        if(isErrorToReset && !Helper.isCompletedAll(isCompleted)){\n          // set initial run to true\n          isInitialRun = true\n        }\n      },5000)\n\n      console.log('Error ', e)\n    })\n\n  }\n}\n\n}catch(err){\n    isCompleted=[]\n    models = []\n    isInitialRun = true\n    console.log(err)\n  }\n}\n};. ",
    "mtmsuhail": "can you explain a bit?. I can confirm this issue.. 3.0.0-alpha.14.4.0. The issue solved for me by changing the file node_modules/strapi-hook-mongoose/lib/utils/index.js\n`'use strict';\n/*\n * Module dependencies\n /\nmodule.exports = mongoose => {\n  return {\n    convertType: mongooseType => {\n      switch (mongooseType.toLowerCase()) {\n        case 'array':\n          return Array;\n        case 'boolean':\n          return 'Boolean';\n        case 'binary':\n          return 'Buffer';\n        case 'date':\n        case 'datetime':\n        case 'time':\n        case 'timestamp':\n          return Date;\n        case 'decimal':\n          return 'Number';\n        case 'float':\n          return  'Number';\n        case 'json':\n          return 'Mixed';\n        case 'biginteger':\n        case 'integer':\n          return 'Number';\n        case 'uuid':\n          return 'ObjectId';\n        case 'email':\n        case 'enumeration':\n        case 'password':\n        case 'string':\n        case 'text':\n          return 'String';\n        default:\n      }\n    },\n  };\n};\n`\nbut please consider The library mongoose-float can solve one well known problem with JavaScript Number arithmetic imprecise, when, for example, 3.3 * 3 becomes 9.899999999999999, ugly. This can occur when you try to save double values in Mongo DB, it can be balance, discounts etc.\nI am converting it manually.. I think strapi used mongoose with some custom functionalities that have devoloping and maintaining with strapi. If you want to use any other plugin you may required to alter core functionalities. Or you can also try for side by side with both.. ",
    "rafaneri": "I have a similar question, is possible use a different datasource for each content type? For example, Users model are stored in Security mongodb database, while Articles are stored in Content database.. ",
    "ikennobunga": "Hi Jim\nHave a look at this error and maybe u can have a clear picture of the issue am having\n\u2714 Copy dashboard\n\u2714 Install plugin settings-manager.\n\u26a0 An error occurred during content-type-builder plugin installation.\n{ Error: Command failed: node /usr/local/lib/node_modules/strapi/bin/strapi.js install content-type-builder\nat ChildProcess.exithandler (child_process.js:289:12)\nat ChildProcess.emit (events.js:182:13)\nat ChildProcess.EventEmitter.emit (domain.js:442:20)\nat maybeClose (internal/child_process.js:962:16)\nat Process.ChildProcess._handle.onexit (internal/child_process.js:251:5)\n\nkilled: false,\n  code: 1,\n  signal: null,\n  cmd:\n   'node /usr/local/lib/node_modules/strapi/bin/strapi.js install content-type-builder ' }\n\u2714 Install plugin content-manager.\n\u2714 Install plugin users-permissions.\n\u2714 Install plugin email.\n\u2714 Install plugin upload.\n\u2714 Link strapi dependency to the project.\nAs u can see the rest of the plugin are instal in just ok apart from the content-type-builder.\n\nOn Oct 22, 2018, at 5:23 PM, Jim LAURIE notifications@github.com wrote:\nHello @ikennobunga https://github.com/ikennobunga sorry for this trouble.\nCan you try to install strapi again npm i strapi@alpha -g\nAnd re-create your application please.\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub https://github.com/strapi/strapi/issues/2179#issuecomment-431850275, or mute the thread https://github.com/notifications/unsubscribe-auth/AM-yf49yTbfrgT-NTiBB8GSL7sG1V2_gks5undTjgaJpZM4XygPL.\n\n\n. ",
    "denys-aponiuk": "thanks for the answer. But I've seen this example. in front-end site the\nmethod is called (https://..../connect/provider) then open new tab and\ndisplaying user data. I can try to use it. I did\n. thanks for the answer. But I've seen this example. in front-end site the\nmethod is called <a href=\"https://..../connect/provider\"... then open the\nnew tab and displaying user data. I've tried to use it. I did\nthis.http.get('https://..../conect/provider).subscribe(data =>\nconsole.log(data))\nI thought this method return user data. But I always get error related to\nCORS. BE has settings for CORS. and then I was told that this api for BE,\nthis method need to use on BE, client-side shouldn't know data which method\nreturn. Maybe you can send other example or please explain me) because I\nspent 4 days for it((\n\u043f\u043d, 22 \u043e\u043a\u0442. 2018 \u0433. \u0432 17:24, Jim LAURIE notifications@github.com:\n\nHere is an example with React, will be the same logic with Angular\nhttps://github.com/strapi/strapi-examples/tree/master/login-react\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/strapi/strapi/issues/2180#issuecomment-431850667, or mute\nthe thread\nhttps://github.com/notifications/unsubscribe-auth/AhLkIX4kcyAtEITXMoe9CigTkDqptNzZks5undUzgaJpZM4Xyl4O\n.\n. \n",
    "wdavidw": "Without a direction, I could think of a few use cases:\n- friends in a user content type\n- related pages in a page content type\nAlso, we could have a checkbox option to filter out the current entity (eg, related pages should not propose the current page being edited). Yes, I have been thinking about this solution. I came to the conclusion that even if I can apply it to myself, it would be very hard to explain it to my content editors. Also, it is error-prone to creating parent records without children over time.. @Aurelsicoko I haven't tried to create the association manually. I am not sure how I would create the model to support it while preserving the integrity of the content type in case one of the sides of the relation is deleted or modified. Also, I am using a MongoDB backend but my understanding is that Strapi also using some additionnal ORM to interact with other DBMS.. @andrewmee I confirm that removing the dominant property create a loop in the relation.js file. Both sides of the association create relations indefinitely. I have a working prototype which enhance the model with a new mutual property which works conjointly with the dominant property to trick the system. It only modify the relation.js file. In case you wish to try it, here is the file which shall overwrite \"./node_modules/strapi-hook-mangoose/lib/relation.js\". Here's how to enrich a \"member\" model with a manyToMany \"friends\" association:\njson\n{\n  \"connection\": \"default\",\n  \"collectionName\": \"\",\n  \"info\": {\n    \"name\": \"member\",\n    \"description\": \"\"\n  },\n  \"options\": {\n    \"timestamps\": true\n  },\n  \"attributes\": {\n    \"name\": {\n      \"default\": \"\",\n      \"unique\": true,\n      \"type\": \"string\",\n      \"required\": true\n    },\n    \"friends\": {\n      \"collection\": \"member\",\n      \"via\": \"friends\",\n      \"dominant\": true,\n      \"mutual\": true\n    }\n  }\n}\n@Aurelsicoko, the solution is far from perfect. There is a little bug when a record reference itself but I havent spent time fixing it. \nThe idea is to store the new association on both sides of the relation while adding a security to prevend the recursive loop. The \"dominant\" keyword could be removed. However, when I do this, the association no longer store the ObjectId but the full object. For example, I get \njson\n{\n  \"friends\" : [ \n      {\n          \"name\" : \"Test 2\",\n          \"_id\" : \"5bf72ade662b970233e84ddd\",\n          \"createdAt\" : \"2018-11-22T22:17:02.637Z\",\n          \"updatedAt\" : \"2018-11-22T22:17:02.647Z\",\n          \"__v\" : 0,\n          \"id\" : \"5bf72ade662b970233e84ddd\",\n          \"friends\" : [ \n              \"5bf72ae2662b970233e84dde\"\n          ]\n      }\n  ]\n}\ninstead of\njs\n{\n  \"friends\" : [ \n      ObjectId(\"5bf72ae2662b970233e84dde\")\n  ]\n}\nIt seems like dominant is used somewhere else to transform the object literal into an object id but I haven't found where.. ",
    "neopit": "I am facing the same issue on PostGreSQL, I am trying to create a recursive relation on Users-permissions_user.\nThe idea is users can have several relations with other users (friends).\n. ",
    "tristantbg": "\nI am also facing a similar problem with Mysql. Only one side of the relationship is being updated in my case. I am trying to set up a parent child relation within my model. But if I add one thing as child the parent relation on the other product is being added but the child relation on the product is not being added and vice versa.\n\nSame problem with MySQL on a many-to-many relationship on the same model. If it could be fixed soon it would be amazing.\n\nProjects are never saved inside \"Projects\" and only one is saved at a time on \"Project_of\" :\n\n. Same problem here :\nhttps://github.com/strapi/strapi/issues/2185#issuecomment-464808490\nAlso the pages related are not saved as they should be on a MySQL DB. Everything is fine on MongoDB.\nAny news about this ?. ",
    "gianca970226": "I found a solution when you get a white screen, or other reasons for the admin.\nWhatever you see in the core_store there were inconsistencies, then delete that collection from the mongo db and restart the server he returned to create it full. but i have this error At least 1 approving review is required by reviewers with write access\n. @lauriejim Ready mofique the comment. @lauriejim ready add regex in split. ",
    "onooma": "Hi @lauriejim , Thanks for your quick response\n\nFollowing this repo, add a simple content type and populate it with some data.\nInstall GraphQL plugin.\nTry to access your contents ids from GraphQL.\n{\n    contents {\n        _id\n    }\n}. \n",
    "mhavci": "this node-sass bug ?. node-sass not supported node 11. node install dir C:\\nodejs , the problem is caused by the space in the user name. ",
    "taha-azzabi": "same probleme here, could you please describe how youv'e get it work, thanks. ",
    "engmagdy87": "the same error appears to me. solved by drop strapi-production db in mongo and start server again in production. ",
    "painty": "I met the same error but figured it out :\nIn my case, I have one uploaded file related to a deleted model.\nAfter empty the related array of this file, the error is gone.\nPS: I used the MongoDB Compass Comminity to do this empty operation.\n\n. ",
    "feysalikbal": "Hi,\nI am working on it :). https://github.com/strapi/strapi/pull/2209. ",
    "masiya255": "Does not work when upgrading from version 14.3 (. ",
    "jacobgelman": "Same issue. I'm running the same version of everything as cesarvarela.\nMy workaround for now is manually entering the content type name into the URL.\nEx: http://localhost:1337/admin/plugins/content-manager/{insert content type name}\nUpdate: once I created an item of the type, the type then appeared in the sidebar.\nUpdate 2: it disappeared again.. ",
    "joakgord": "I have got the same issue as @cesarvarela. ",
    "orangesmartie92": "@stiko same here.. @mnlbox I also tried migrating to 14.3 but same issues too. > For for debug reasons: Works for me on High Sierra with a fresh install (with npm)\n\n\nnpm: 6.4.1\nnode: v9.11.1\nstrapi: 3.0.0-alpha.14.4.0\nmongodb 4.0.3\nmacOS 10.13.6\n\n\nI have all the same versions for all of the above but my node version is v10.10.0.\nIt works on my mac, but when I try on a remote ubuntu 16.04, it doesn't work. @drieshooghe same here.. ",
    "davidenq": "Hi,\nI've same issue, but after some steps I've achieved that the table for a new content type appears. \nHow to reproduce it.\n\nFirst, I've run the application.\nNext, I've tried to create a new content type, then that issue appears (the table doesn't appear in database but all files inside api folder have been created). \nAfter that, I've stopped the application and I've run again it. \nFinally, now the table will appear for new content type (obviously, if you previously have tried to created that content type).\n\nAlso, I have same issues as @cesarvarela, @jacobgelman  and @stiko  (items disappear)\n. I've been working with Chrome but, I have same issue.\nGoogle Chrome Version 69.0.3497.100 (Official Build) (64-bit) on MacOS X El Capitan Version 10.11.6 (15G31). Hi,\nI had the same issue that @puneetverma05 . I had that issue when I installed the system using the custom type installation, even using MySQL version 5.7.25. But when I chose quickstart option, strapi worked fine and I was able to access to the admin panel without any problem.. ",
    "Gillinghammer": "Same issue, on Chrome.\nGot it working though by pushing my changes to my production server - then added content to the content type and pulled my changes locally... now I have it in the side bar.. ",
    "coyr": "I have a similar issue. 3.0.0-alpha.21 \n\nIs there some solution?. @lauriejim When I use the development environment strapi start works fine. When I use pm2 NODE_ENV=production pm2 start server.js --name api now it is not listing the content types in content types page. Also when I click a content type in the sidebar and I try to add new content, it keeps loading\n\nI tried to stop and delete the process, restart nginx and restart with NODE_ENV=production pm2 start server.js --name api but it doesn't work. What can I try?. @derrickmehaffy it works! thanks . ",
    "Turbiani": "Hi @lauriejim thanks for reply. To reproduce the problem, just follow this steps: \n\n\nExecute each part of the getting-started official.\nEx: \n\n\nInstall official graphQL plugin as explained here.\nEx:\n\n\nNow run strapi start and create some Content.\n  3.1 - Create Test content: \n  3.2 - Add field and put value: \n  \n\n\n\nAllow public access to get content: \n\n\n\nFinally try to retrieve  tests from Playground  and selelct field types _id and name.\n\n\n\n. @NickBolles it is the same problem. But I prefer fix at GraphQL where problem occur and not in Mongoose plugin.. @lauriejim  and @kamalbennani sorry for the delay, the last weeks was very busy for me on job, sorry a lot for not reply you.\nLet's go!\n1 - Install the last alfa version from strapi strapi@3.0.0-alpha.16. \n2 - Start strapi and follow default steps. \n3- Install official graphql plugin.\n\nNow run strapi start and create some Content.\n  4.1 - Create Test2 content: \n\n4.2 - Add field and put value: \n\n\n\n\nAllow public access to get content: \n\n\n\nFinally try to retrieve  test2S from Playground  and selelct field types _id and name.\n\n\n\nThe problem was solved \\o/ Thanks guys!. ",
    "drieshooghe": "@lauriejim I am, I launched strapi with pm2 with this command, which gave no errors:\nNODE_ENV=production pm2 start server.js --name api. Okay, sure explains a lot. Perhaps something to point out in the tutorial.\nMuch appreciated!. ",
    "martiro": "\nThe plugin is not available in production env.\nYou have to create your content type in dev mode, the deploy your ap in your dev mode.\n\n@lauriejim \nI had the same problema as drieshooghe, and now that I read the reason I'd like to go deep: \nwhere is described the deployment process? I cannot find any docs. What does the deployment involves? The \"schema\" of the CMS (i meand the entities and their relations) o also the data?\nThanks a lot.. > Here is an article of deployment on Ubuntu server - https://medium.com/strapi/how-to-deploy-a-strapi-api-on-ubuntu-16-04-17f8fbbf5c5b\n\nActually when you deploy your app, it's just files migration. We never do any action on your data.\n\n@lauriejim Thank you v very much!\nI did some trial today and now everything is clear, but I found something strange adding new instances for my contents: the fields that where declared as \"Text\" in developement are editable through WYSWYG    editor, but in production they become simple textareas. How can I fix this problem?\nThanks a lot. Is there a specific part (a document or a particular keyword of one of\nthose presents) that must be copied or do I have to copy the whole\ncollection?\nThanks a lot\nIl 26 gen 2019 23:16, \"DMehaffy\" notifications@github.com ha scritto:\n@martiro https://github.com/martiro you need to copy over your core_store\ncollection in the database\nThe WYSWYG setting is saved in the database\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\nhttps://github.com/strapi/strapi/issues/2220#issuecomment-457870538, or mute\nthe thread\nhttps://github.com/notifications/unsubscribe-auth/ABOCgf9kdAoa4bC77fGlrzQWuXNIL1g_ks5vHNOmgaJpZM4X-Eaf\n.\n. ",
    "nilsontan": "Oops I was looking at 1.x.x docs.\nThanks @lauriejim . ",
    "aDEVE": "@soupette, it should be good . For your information, i will add prettier in next few days to prevent this kind of feedback from code review. \ud83d\ude01 \n. ",
    "scorpionking90": "@jacargentina when are we planning to have a release for this? I have the same issue as #2771. @derrickmehaffy , lol I saw you have pinned all striapi stuff so thought you have been contributing to it.\nBut I am trying this from few days, I am not able to get associates from teams.\nThis works\n{\n      teams{\n            name\n       }\n}. @giona69 it is not working for me when i go back to alpha.19. . I updated strapi to alpha.24, but still I have same issue. I updated strapi to alpha.24, but still I have same issue. ",
    "BitPatty": "Alright. ",
    "gridviewdesign": "I can confirm, Im on 3.0.0-alpha.14.4.0 as well. . Has there been any progress on this bug yet?. ",
    "rejifald": "I have this issue too. How deploy project and avoid it ?. @derrickmehaffy this is not duplicate. Because this feature not about filtering by null value, but more common feature.\nI want just filter records via REST, by specifying multiple values, or null values, or exception values.\nJSON can be encoded as URI, so, why it is not good idea ? \nAre u mean that i should use GraphQL to more complex filtering ?. I am agree with you. Following industry standards is better.\nU are agree with feature purpose that i`ve described. So implementation is another question. I want to add more one example of complex filtering.\nNested fields.\nFor example:\n{'Book.Author.name': 'Peter'}\nThanks! @derrickmehaffy . Great !\nBut, WDYT about this feature ?\nWhat prio it has, by your point of view ? . > @Aurelsicoko I'm happy to hear that :D\n\n@lauriejim I'll try to resolve the conflicts as soon as possible, I think it'll be better to not merge this PR until every use case possible is tested, we don't want to revert it a second time, could we select some beta testers and let them try this new feature with their logic?\n\nI want to be a beta tester.. No, it's absolutely should be there. \nI had issue because of that. I wasn't able to update record more than once. U can check it. So it's a small fix, for a huge problem.\nReasons:\n- if error will occur here, request will be successful anyway. (I had this problem also)\n- order of execution is interrupted.\n- someone may try to use this instance, and he will be surprised, that there just promise, instead of entry.\nBTW, u can check other templates, there await keyword exists.. ",
    "skdigital": "I have exactly the same issue, I cant add decimal or float numbers in content type generator, server crashes with exactly the same message as above. I tried development on both linux and windows env but no luck crashes on both. I have also tried using different versions of node from 8xx to 10xx. I have have reinstalled node, rebooted servers, deleted node modules and this crash continues to happen. Seriously about to give up lol.. ",
    "rzylber": "I have the same issue!. ",
    "benjamin21st": "\nSomehow they all showed up \ud83e\udd26\u200d\u2642\ufe0f , I have no idea how that happened.\n\n\nAnyway, I'll close this for now. If similar issues arise I'll re-open. \nThank you all for the awesome work! . Forget what I said earlier, after deleting a content type, the left column went back to just having the \"users\" item. I'll re-open this for further discussion \ud83d\ude02  . ",
    "flowen": "I'm not sure but maybe this is related, when I change the 'path' variable of the admin panel in strapi/config/environments/development/server.json I cannot start the server. I have the same information as OP.. hi @lauriejim \nThis the pm2 command I use:\nNODE_ENV=production pm2 start server.js --name api \nfrom this tutorial\nI installed the strapi cli on my server and with your command I've been able to fix this, thanks!. ",
    "petre2dor": "@flowen @pauldariye I had the same problem because I missed one important step from the documentation: npm run setup \n\n\u26a0\ufe0f If you changed the path to access to the administration, the step #2 is required.\n\nDid you run npm run setup  after changing the path?\n. @soupette migrating the core_store feels like a workaround. Am I supposed to migrate the core_store all the time or just for this?\n. @wemod123 I really think that this needs to be solved programmatically by saving a WYSIWYG flag (boolean) in the model file: ...settings.json. That seems to be everything else is done (info, options, attributes). I will try to make time to dig deeper into how to do it. . @ssshooter I think I've seen this issue before. It seems that after certain changes in content types, there is a schema stored in the DB that needs to be deleted. Have a look here: https://github.com/strapi/strapi/issues/1957#issuecomment-430567677\nThat seems to be just an workaround, I do know if an actual fix is available.\n. ",
    "vlknakin": "Another workaround if you decide to wait for the stable version;\nx.id = x._id.toString()\nx.name = x.name.toString()\nreturn x\nquery;\n{\n  allCats {\n    id\n    name\n  }\n}\nI known bad solution.. ",
    "mroverton1": "Not sure but looks like you are exposing the mongo record id? Strapi should generate the IDs so future datasource migrations can occur.\n. I think playground should have a different path than the API. How about using /graphiql/ for the playground.. ",
    "muralimano28": "Hi, I have a workaround. \nGo to plugins/graphql/services/Resolvers.js file.\nAt line no: 61 change \nObject.assign(initialState, {\n          createdAt: \"DateTime!\",\n          updatedAt: \"DateTime!\"\n        });\nto\nObject.assign(initialState, {\n          createdAt: \"DateTime!\",\n          updatedAt: \"DateTime!\",\n          id: \"String\"\n        });\nThis section is to add timestamp attributes and I have added id to it. Now restart with strapi start and it should work.. ",
    "vanpana": "/me was enabled. But if I make a PUT request on /me, it gives me an error that \"me\" isn't an id. If I check the user update permission, one user can update another user, so that's not really the behaviour I was expecting.. I know /users/me does not exist. I was wondering how to update an user if /:id does not work. ",
    "dimitrinicolas": "I use Chrome 70.0.3538.77.. Just changed value \ud83d\udc4d . I will change it in the day \ud83d\udc4d. ",
    "alexisab": "in my case I was updating my project and I created a new project using the version number as the name (14.4). ",
    "wortkotze": "I have same issues also on keys inside of an mongo db:\nError: key system-type.XYZ must not contain '.'\n    at serializeInto (/Users/steve/Documents/Programming/XXX0/tmc_sw/node_modules/bson/lib/bson/parser/serializer.js:914:19)\nIt seems to be a bug in mongodb-core? which version is used in strapi at the moment?. ",
    "slecorvaisier": "Can be related to #1912 as every content-builder fails the same way. \nI tried to purge the content-manager schema in the core_store, but no success.  I should add that I didn't migrate from a previous version of Strapi.. @soupette npm run setup --plugins solved the problem, thank you.\nI close this issue.. ",
    "hunterbecton": "I had the same issue @soupette, but everything is back to normal after running the npm run setup --plugins. ",
    "belgianwolfie": "this remains open ?\nupdate : I added \"introspection\": true, to the settings.json in plugins/graphql/config/ folder\nand now I can do graphql queries from inside my app (on localhost)\nhttp://myappname.herokuapp.com/graphql/ still doesnt work and spits out \"error\": \"Response not successful: Received status code 400\"\n. ",
    "quangchien": "@soupette I see there is a hasAdminUser function so it means that the register page only work when there is no admin user. Is it correctly ? and what do I need to modify these files bro ?. ",
    "dalirnet": "@lauriejim updated,thanks. @derrickmehaffy sorry,no i cleared my project folder after this fault and generate a new strapi project. @lauriejim yes,thanks. I reviewed the [node_modules\\strapi-hook-bookshelf\\lib\\index.js] file and find beforeFetchCollection case in bookshelf lifecycle.\nbeforeFetchCollection work for me :)\n```\nmodule.exports = {\n  beforeSave: async (model, attrs, options) => {\n    console.log(\"beforeSave\");\n  },\n  beforeFetch: async (model, attrs, options) => {\n    console.log(\"beforeFetch\");\n  },\n  beforeFetchCollection: async (model, columns, options) => {\n    console.log(\"beforeFetchCollection\");\n  }\n};\n- **[beforeSave]** it is ok\n- **[beforeFetch]** it is ok\n- **[beforeFetchCollection]** it is ok. @lauriejim done. @halower i will do this as soon as possible. i think you should run this command for rebuild your plugin. _(for example **email** plugin)_\n$ cd plugins/email\n$ npm run build\n``\ni think this$ npm run setup` only rebuild your admin changes, not the plugins rebuild.\n@halower . ",
    "alex88": "I've the same question:\n\nhow do I delete a content type from the admin panel? This is the default app created using the deploy to heroku button. Nevermind, seems that using npm instead of yarn fixed it. ",
    "masehitam": "yes it's fresh install\nbut when I tried to create new project, error is gone.\nI am sorry, I can't give you another information. ",
    "misacorn": "@lauriejim I deleted the forked repo not to pollute my github, no big deal. ",
    "sravanireddyl": "\nHello @sravanireddyl\nCan you precise your issue. Need more information. I don't understand what you did.\n\nI am using mongo update query to update multiple records at a time (with multi=true option).\nAnd also using retrywrites option in database.json in the db connection uri.\nWhen i use these two options together (retrywrites and multiple update) am getting error as \ncan not use(or request) retrywrites with multi=true. ",
    "olimart": "Thanks @derrickmehaffy \nThe MongoDB is provisioned and I can access it. Any suggestion?. Setting up the environment variable DATABASE_NAME in Heroku resolved the \"issue\".\nThanks for your help.. ",
    "ng-hai": "Here is my approach to make it work\n1. Open Settings > Config Vars > Reveal Config Vars\n2. Copy DATABASE_URI value\n3. Analyze it to pattern mongodb://DATABASE_USERNAME:DATABASE_PASSWORD@DATABASE_HOST:DATABASE_PORT/DATABASE_NAME\n4. DATABASE_AUTHENTICATION_DATABASE has the same value with DATABASE_NAME\nAfter filling in all Config Vars, run heroku logs --tail to watch the result\n\n. ",
    "street2geek": "\nDid you migrate your core_store?\n\nI didn't migrate anything from my development db as the collections seemed to have already been generated, when I have changed the config to use the dev database it works as expected so I expect that is the issue. \nWhether its related or not I read in the docs regarding get settings but this isn't clear to me.\n\nwhen would I want to change this?\nThanks. ",
    "arogyakoirala": "I'm confused, how do I migrate my core_store?. Ah I see, thanks @derrickmehaffy. In case anyone else is looking for a fix, here's what I used in my dev db:\ndb.core_store.find().forEach(function(d){ db.getSiblingDB('strapi-production')['core_store'].insert(d); });. > Hi @arogyakoirala thanks for you contribution it's really impressive!\n\nI have tested it and I have noticed a few minor bugs:\n* I'm unable to delete a created line or tile\n\n\nThanks for pointing this out. I've fixed this issue in my latest commit. In this process, I've also remove unwanted codemirror code from the InputGJSON Component.\n\n* There are some propTypes errors in the console (string instead of object).\n\n\nWhere was this exactly? I wasn't able to find it. Maybe you can point me to where you see this?\n\nDo you want me to take a look?\nThanks a lot!\n\n. Hi @Aurelsicoko, I've opened a pull request as per #2527 \nPlease suggest next steps.\n. Hi @lauriejim, the issue around non-closing lines and zones should be fixed now. Also, regarding tiles, I've also added an attribution to the map and now changed the map source to OpenStreetMap Mapnik raster tiles, which are free forever. \n\nLet me know if there's anything else.. \n\nThe GeoJSON field wasn't one of priority. The GeoPoint (aka Map) is a priority for example. \nHowever, the work done here seems pretty good. I would love to see it merged to the project.\n\nThanks! I would be more than happy to help in any way.\n\nI'm not sure to understand the questions:\nWhere do you expect to store the vectors tiles?\n\n\nThe vector tiles that I'm currently using comes from MapTiler Cloud (see pricing here). I'm currently using the free plan which allows upto 100,000 requests a month. I guess what I'm asking is if that would be enough. If not, we will have to look for other free options (which I'm sure are available, I just haven't spent enough time researching on the same).\n\nCan you submit the PR so we'll be able to review the code and continue the work together,\n\n\nI did this the same time I opened this issue. You can find it here.\n. > The GeoJSON field wasn't one of priority. The GeoPoint (aka Map) is a priority for example.\n@Aurelsicoko I'm not sure if I understand what a GeoPoint is. Can you elaborate?    . > @arogyakoirala So if we have to depend on a third-party, we should add a provider system to this new type of field.\nI'm assuming this refers to the map tiles, let me do my research on this and get back soon.\n\nAbout the GeoPoint is nothing more than a pin that you put on Map. It just works like a GPS (lat, lon coordinates).\n\nOh that can be easily done through this new content-type. In fact, it is multi-geometry by default, meaning you can add one (or many points), lines and polygons, as part of a single entry. It gets captured as a FeatureCollection (https://macwright.org/2015/03/23/geojson-second-bite.html#featurecollection)      . @Aurelsicoko this is OpenStreetMap. However I've used vector tiles (mapboxgljs) as opposed to raster (leafletjs). . @sign0 I've merely customized the JSON input type to easily take geometries in GeoJSON format. I do see value in extending this functionality to 'geometry' data type, as it would enable backend geospatial querying. . > @arogyakoirala - Awesome work. I was pleasantly surprised to see that you are working on this. I was planning on having to do this on my own. I look forward to checking out your fork. I'd love to help if I can. Assuming the strapi folks can see the obvious benefits of this, a few areas that I'd love to work on:\n\n1. Topojson - an extension to GeoJSON that encodes topology rather than discrete geometries, allowing for smaller files and on-the-fly simplification.\n\n2. GeoJSON model -  I haven't checked out the fork yet and I don't know if it is your intent to fully model the GeoJSON spec. It would be great to have the ability for instance to create relations between GeoJSON `Features` and other strapi models.\n\n\n@cupofnestor  thanks for your appreciation, I'm really glad (first open-source contribution woot woot). I feel both of the features you suggest will ad significant value. TopoJSON will reduce the load, and a GeoJSON model should help facilitate spatial queries which would be awesome. Feel free to fiddle with my fork and make changes. Do let me know how I can help.  \n. ",
    "hoangtranson": "\n@wemod123 I really think that this needs to be solved programmatically by saving a WYSIWYG flag (boolean) in the model file: ...settings.json. That seems to be everything else is done (info, options, attributes). I will try to make time to dig deeper into how to do it.\n\nI got the same issue and I think the workaround above will not resolve the root cause. and I like your solution @wemod123. . ",
    "vfan": "\nSide note not sure where you are seeing 8Mb worth of JS files:\n\n\n\n. ",
    "simonfranzen": "Ok we will try.\nThe problem I see is, that we have a shared code base for the strapi project and whenever another dev changes a field and pushes the settings the page is broken after I am pulling it. Or even worse, when we push our changes to the production server. Is there already a feature request to clean the cache with a button in the UI?. ",
    "halower": "This is just only effect to admin ui, but there are some missing plugin translations in the plugins. what should i do?. so i actually have such a scenario, i have modified the language in a plugin, but I don't know how to compile the plugin because it already have a build folder, and  this command npm run setup just compiles the main project,but plugin not effect  and compiled at all that i have modifyed language package, so my question is, how to make a plugin after modifying the language package take effect immediately. it still report an error when I execute the command  .\n$ cd plugins/email\n$ npm run build. $ npm run setup:build\nnpm ERR! missing script: setup:build\nnpm ERR! A complete log of this run can be found in:\nnpm ERR!     C:\\Users\\Administrator\\AppData\\Roaming\\npm-cache_logs\\2018-11-19T12_47_07_463Z-debug.log\n. @donaldr @derrickmehaffy @soupette thank you very much for your answer. please allow me to ask a question.when the project in non-dev mode(use strapi new xxxx no --dev), how can I recompile the default plugin (e.g email) directly?. thanks, I just started experimenting yesterday, so I am not familiar with it, but I can feel that this project is very good.chinese multi-language support seems to be a little problem, so I will confirm and submit a new issue.. sorry, because it is a problem with my own windows system, compiling under Linux is still fast, so is the module under Dev.. ",
    "kkkkkt": "Is this feature solved\uff1f\nI\u2019m also encountered with this issue now.\nOk, I\u2019ll upgrade Strapi version and try it.\n. OK\nThis feature is similar to changing password, and there is a lot of service using it.\nbelow is the things to add and procedure to achieve this feature\nThings to add. (Snake and camel case is not considered in this example)\nAPI\n- change-email post api with new-email value\n- change-email-confirmation get api with confirmation code.\nAdd column for User scheme.\n- new-email String \n- new-email-confirmation-code String\nProcedure for changing email\n\n\nClient side: Authenticated user post change-email api with new-email value for changing.\n\n\nServer side: Auth check and make a new-email-confirmation-code and save it and new-email value, thus send confirmation email with confirmation url to new-email address.\n\n\nClient side: User open email via new-email address and click confirmation code. And Goto confirmation url.\n\n\nServer side: check confirmation code and its validation. If succeed, Change email value to new-email and delete new-email value and new-email-confirmation-code. And send email to user for telling email changing is succeeded.\n. \n\n",
    "StefKors": "Thanks for the info!. ",
    "mashiro11": "If I got it right, this issue is similar to the one I'm facing, please forgive me if I got it wrong:\nHave a model Topic, which has a Response collection, and each response has a User. By default, requesting a Topic retrieves something like this\n{\n   _id: 'someid72371' \n   title: 'Some topic title',\n   response: [{\n      _id: '766757788',\n      responseText: 'some response text',\n      user: '7876878789'\n   }]\n}\nBut I want to configure so the server retrieves more than just the user id, like its name:\n{\n   _id: 'someid72371' \n   title: 'Some topic title',\n   response: [{\n      _id: '766757788',\n      responseText: 'some response text',\n      user: {  //like this\n          _id: '7876878789',\n          username: 'John Doe'\n      }\n   }]\n}\n. Old post, but for future ones who end up here like me:\nGot exactly same situation: authorized only POST method working on postman, not working with axios.\nFixed it instead of calling axios.post(), calling:\naxios({\n        method: 'POST',\n        url: 'http://localhost:1337/post',\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem('token')}`\n        },\n        data: payload\n      })\ngot hint here:\n https://stackoverflow.com/questions/45524973/always-failed-when-post-data-with-json-body-raw. ",
    "sidsaxena0": "OK sorry for not checking my version when i asked question but what do i do now to fix this issue? Is there any work around for this for the time being. . ",
    "umuttuncer": "\nCan you please well format your JSON and error.\nIt's just not readable.\n\nI formatted my jsons and errors.. ",
    "MMayla": "I have same problem. ",
    "carlmathisen": "And now it's back up again :) Probably found the docs mid deploy or something. Closing this.. ",
    "jay7793": "I have the same problem, can not connect database with mongodb using mLabs.\nInformations\nNode.js version: v10.13.0\nnpm version: 6.4.1\nStrapi version: 3.0.0-alpha.14.5\nDatabase: mongo (mLabs)\nOperating system: OSX Mojave\n\u23f3 Testing database connection...\n\u26a0\ufe0f Database connection has failed! Make sure your database is running.\nstrapi new strapi --dbclient=mongo --dbhost=ds127321.mlab.com --dbport=27321 --dbname=strapi --dbusername=jayjay --dbpassword=jayjay123 --dbssl=true --dbauth=jayjay\nBy the way I trying connect database using this command \nmongo ds127321.mlab.com:27321/strapi -u jayjay -p jayjay123\nIt can connect to databse with message\nMongoDB shell version v3.6.2\nconnecting to: mongodb://ds127321.mlab.com:27321/strapi\nMongoDB server version: 3.6.6\nrs-ds127321:PRIMARY> \n. @rw3iss Thank you very much. it work by leave \"username\" and \"password\" both blank. @rw3iss After I successfully installed I have tried to run starpi start command, it will display the message MongoError: there are no users authenticated\nAfter that, I went to set up the file database.json In folders config/environments/development to enter mongo username and password, but not successful. It displays the error message: Authentication failed.\nI solve the problem by changed Authentication database to mLab database name like Authentication database: \"strapi\". ",
    "AnaHdez2816": "I had the same error:\n\u26a0\ufe0f Database connection has failed! Make sure your \"test\" database exists.\nSolve it by creating the database first from Mysql\n? Choose your main database: MySQL\n? Database name: test\n? Host: 127.0.0.1\n? Port: 3306\n? Username: root\n? Password:\n\u23f3 Testing database connection ...\nThe app has been connected to the database successfully!. The problem that I have now, is that it does not load strapi and it does not happen to me from here: \nC:\\pruebas_korinver\\prueba_de_la_prueba_de_la_prueba\n\u03bb strapi start\n[2018-11-23T16:51:41.183Z] info Time: Fri Nov 23 2018 10:51:41 GMT-0600 (Hora est\u00e1ndar, Am\u00e9rica Central)\n[2018-11-23T16:51:41.184Z] info Launched in: 3523 ms\n[2018-11-23T16:51:41.185Z] info Environment: development\n[2018-11-23T16:51:41.186Z] info Process PID: 19592\n[2018-11-23T16:51:41.187Z] info Version: 3.0.0-alpha.14.5 (node v8.12.0)\n[2018-11-23T16:51:41.187Z] info To shut down your server, press  + C at any time\n[2018-11-23T16:51:41.188Z] info \u2604\ufe0f  Admin panel: http://localhost:1337/admin\n[2018-11-23T16:51:41.188Z] info \u26a1\ufe0f Server: http://localhost:1337\n[2018-11-23T16:51:42.144Z] info File changed: C:\\pruebas_korinver\\prueba_de_la_prueba_de_la_prueba/plugins/users-permissions/config/actions.json\nAny suggestions?. Thanks, that solved me\nSo far I work with MySQL.\nWith MongoDB I was used to opening strapi automatically in the browser.. ",
    "sebastian-ludwig": "For anyone working with MAMP and having the same Problem:\nMake sure \"Allow network access to MySQL\" is enabled in your MySQL settings\n. ",
    "stefanmaretic": "I'm trying to create a package that would handle storing in azure blob storage.\nI'm using the aws package as reference https://github.com/strapi/strapi/blob/master/packages/strapi-provider-upload-aws-s3/lib/index.js\nDo I just need to provide functioning upload and delete functions as the return statement of the module?. ",
    "almondevon": "I'm also running into this after creating a brand new project via the \"strapi new \" command.\nNode.js version: v11.2.0\nnpm version: 6.4.1\nStrapi version: 3.0.0-alpha.14.5\nDatabase: PostgreSQL\nOperating system: Ubuntu 18\n. @lauriejim Yep, dropped the db and created a new blank one just to be sure.. ",
    "agni21": "I am having the same issue with some of models in my project.\n@BroTrue Did you find the cause?. ",
    "yao-dev": "I was correct the bug with adding this code at line 213 of the file /usr/local/lib/node_modules/strapi/node_modules/strapi-generate-new/lib/before.js (where strapi is installed globally on your machine) :\nscope.database.settings.ssl = scope.database.settings.client === 'postgres' ? true : false;\nNow I'm able to generate a project with a remote postgres database. I was correct the bug with adding this code at line 213 of the file /usr/local/lib/node_modules/strapi/node_modules/strapi-generate-new/lib/before.js (where strapi is installed globally on your machine) :\nscope.database.settings.ssl = scope.database.settings.client === 'postgres' ? true : false;\nNow I'm able to generate a project with a remote postgres database. I was correct the bug with adding this code at line 213 of the file /usr/local/lib/node_modules/strapi/node_modules/strapi-generate-new/lib/before.js (where strapi is installed globally on your machine) :\nscope.database.settings.ssl = scope.database.settings.client === 'postgres' ? true : false;\nNow I'm able to generate a project with a remote postgres database. @mohamead When you choose postgres as database maybe it's better for Strapi to ask if you want enable ssl. Because in before.js a file is generated you can log \"scope.tmpPath\" to see the content of the file, it's look like : \n``` \n'use strict';\n// Public node modules\nconst inquirer = require('inquirer');\nconst rimraf = require('rimraf');\nmodule.exports = (scope, success, error) => {\n  // eslint-disable-next-line import/no-unresolved\n  const knex = require('knex')({\n    client: scope.client.module,\n    connection: Object.assign({}, scope.database.settings, {\n      user: scope.database.settings.username\n    })\n  });\nknex.raw('select 1+1 as result').then(() => {\n    knex.raw(scope.client.database === 'postgres' ? \"SELECT tablename FROM pg_tables WHERE schemaname='public'\" : 'SELECT * FROM information_schema.tables').then((tables) => {\n      knex.destroy();\n  const next = () => {\n    rimraf(scope.tmpPath, (err) => {\n      if (err) {\n        console.log(`Error removing connection test folder: ${scope.tmpPath}`);\n      }\n      success();\n    });\n  };\n\n  if (tables.rows && tables.rows.length !== 0) {\n    console.log('\ud83e\udd14 It seems that your database is not empty. Be aware that Strapi is going to automatically creates tables & columns, and might update columns which can corrupt data or cause data loss.');\n\n    inquirer.prompt([{\n      type: 'confirm',\n      name: 'confirm',\n      message: `Are you sure you want to continue with the ${scope.database.settings.database} database:`,\n    }])\n      .then(({ confirm }) => {\n        if (confirm) {\n          next();\n        } else {\n          error();\n        }\n      });\n  } else {\n    next();\n  }\n});\n\n})\n    .catch((err) => {\n      if (err.sql) {\n        console.log('\u26a0\ufe0f Server connection has failed! Make sure your database server is running.');\n      } else {\n        console.log(\u26a0\ufe0f Database connection has failed! Make sure your \"${scope.database.settings.database}\" database exist.);\n      }\n      error();\n    });\n};\n```\nIn before.js scope.database.options.ssl is always false because strapi don't ask in the prompt and in the generated file the object used to create database connection with knex is scope.database.settings not scope.database.options and the property \"ssl\" doesn't exist in scope.database.settings.\nBecause scope.database.settings.ssl = true is missing, the query in the generated file will failed : \nknex.raw(scope.client.database === 'postgres' ? \"SELECT tablename FROM pg_tables WHERE schemaname='public'\" : 'SELECT * FROM information_schema.tables')\nI think it's to better to ask in the prompt if you want enable SSL. @mohamead You can update the prompt of before.js like that : \n``\nnew Promise(resolve => {\n            inquirer\n              .prompt([\n                {\n                  when: !hasDatabaseConfig,\n                  type: 'input',\n                  name: 'database',\n                  message: 'Database name:',\n                  default: _.get(scope.database, 'database', scope.name)\n                },\n                {\n                  when: !hasDatabaseConfig,\n                  type: 'input',\n                  name: 'host',\n                  message: 'Host:',\n                  default: _.get(scope.database, 'host', '127.0.0.1')\n                },\n                {\n                  when: !hasDatabaseConfig && scope.client.database === 'mongo',\n                  type: 'boolean',\n                  name: 'srv',\n                  message: '+srv connection:',\n                  default: _.get(scope.database, 'srv', false)\n                },\n                {\n                  when: !hasDatabaseConfig,\n                  type: 'input',\n                  name: 'port',\n                  message:Port${scope.client.database === 'mongo' ? ' (It will be ignored if you enable +srv)' : ''}:`,\n                  default: (answers) => { // eslint-disable-line no-unused-vars\n                    if (_.get(scope.database, 'port')) {\n                      return scope.database.port;\n                    }\n                const ports = {\n                  mongo: 27017,\n                  postgres: 5432,\n                  mysql: 3306\n                };\n\n                return ports[scope.client.database];\n              }\n            },\n            {\n              when: !hasDatabaseConfig,\n              type: 'input',\n              name: 'username',\n              message: 'Username:',\n              default: _.get(scope.database, 'username', undefined)\n            },\n            {\n              when: !hasDatabaseConfig,\n              type: 'password',\n              name: 'password',\n              message: 'Password:',\n              mask: '*',\n              default: _.get(scope.database, 'password', undefined)\n            },\n            {\n              when: !hasDatabaseConfig && scope.client.database === 'mongo',\n              type: 'input',\n              name: 'authenticationDatabase',\n              message: 'Authentication database (Maybe \"admin\" or blank):',\n              default: _.get(scope.database, 'authenticationDatabase', undefined)\n            },\n            {\n              when: !hasDatabaseConfig,\n              type: 'boolean',\n              name: 'ssl',\n              message: 'Enable SSL connection:',\n              default: _.get(scope.database, 'ssl', false)\n            }\n          ])\n          .then(answers => {\n            if (hasDatabaseConfig) {\n              answers = _.merge((_.omit(scope.database.settings, ['client'])), scope.database.options);\n            }\n\n            scope.database.settings.host = answers.host;\n            scope.database.settings.srv = _.toString(answers.srv) === 'true';\n            scope.database.settings.port = answers.port;\n            scope.database.settings.database = answers.database;\n            scope.database.settings.username = answers.username;\n            scope.database.settings.password = answers.password;\n            scope.database.options.authenticationDatabase = answers.authenticationDatabase;\n            scope.database.options.ssl = _.toString(answers.ssl) === 'true';\n            scope.database.settings.ssl = _.toString(answers.ssl) === 'true';\n\n            console.log();\n            console.log('\u23f3 Testing database connection...');\n\n            resolve();\n          });\n      })\n\n```. At this point a new project with a remote postgres database will fail because connection.ssl is false.\nI added this code in before.js to able to generate a new project with postgres : \nscope.database.settings.ssl = scope.database.settings.client === 'postgres' ? true : false;. ",
    "rob-gordon": "@yao-dev thank you! I just had this exact problem. Do you mind explaining why this works?. @yao-dev thank you! I just had this exact problem. Do you mind explaining why this works?. ",
    "dstuff": "Same behavior. In my case I've created a model (new content type) and then trying to change the model's name. The server didn't start at all, so I just removed this model in my IDE (delete directory) but is still in my Content Types list. Any thoughts on how to delete it completely?. It's weird and now with the same conditions srver responds me with an error:\nTypeError: Cannot read property 'globalId' of undefined\n    at acc.(anonymous function).params.values.(anonymous function).map.obj (/Users/andrew/Work/api/node_modules/strapi-hook-mongoose/lib/relations.js:162:71)\n    at Array.map (<anonymous>)\n    at params.parseRelationships.Object.keys.reduce (/Users/andrew/Work/api/node_modules/strapi-hook-mongoose/lib/relations.js:160:51)\n    at Array.reduce (<anonymous>)\n    at Function.update [as updateRelations] (/Users/andrew/Work/api/node_modules/strapi-hook-mongoose/lib/relations.js:28:129)\n    at process._tickCallback (internal/process/next_tick.js:68:7). ",
    "kamwing": "Hi @Aurelsicoko is there any new progress? . Happy holidays :) @Aurelsicoko . ",
    "e-ndrus": "Tried to upload from react-admin using axios. Got success response, but the file was not uploaded and didn't link with the content type. Is there any example on how to implement file upload from react to strapi? . Thank you! Successfully ported parts of this code to react-admin. And it worked!. Hey Derrick, sorry for that. Updated the bug report. In any case, I switched to MongoDB for my project. But I thought I would report it after hours of trying to figure it out.. ",
    "jpinxten": "You probably still need to create your database. \nyou can do this by downloading pgadmin, connect with your Heroku Postgres instance, and create your database from there.. ",
    "samohey": "I'm having the same issue. I have created a PostgreSQL database using heroku and can't connect to it while setting up a new Strapi project. Did you manage to solve this? . ",
    "magnock": "I'm having the same issue. Postgres database created on heroku but no connectivity from strapi wizard !!!\n. ",
    "Skeyelab": "I'm having the same issue.  Why was this issue closed @lauriejim ?. @lauriejim Have you created your herokuDbName database on your server?. @mohamead - edit: i tried doing what you are doing.  I am getting the same result.  Heroku creates the DB for us.  I can also successfully connect from a local client.. @mohamead, is this something that has been released in 3.0.0-alpha.18?. ",
    "harshmaur": "Hi @lauriejim Sorry it took me long to respond. Well I am not sure how to explain this, but I just ran the server and found that node wasnt listening on port 3000. \nI inspected more to find out the issue and found that on doing netstat it showed that Port 3000 of tcp6 was being listened to and not tcp. \nThe same was the case of mysql too. So I cant say if this is a strapi issue. But if you understand why this could be happening, it would be great help. \nI also confirm the same on a new ubunut 14.04 machine as well. So its definitely not OS version issue. . ",
    "kueronya": "\nfacebook\n\nI followed the google example from the provider section https://strapi.io/documentation/3.x.x/guides/authentication.html#providers. \nThe error also occurs in the react example app, so i guess there is nothing i did wrong. \nSo basically if there is a active browser session with google (check google.com if the/a user is already signed in) then the redirect back to strapi throws \"500 server error - malformed_auth_code\". . After some further research i think i nailed down the problem.\nFor all google accounts i tested so far the returned token (code parameter) by google contains a slash '/'.\n?code=4/xxxxxxxxxxxxx\nIf there is no active google session in the browser instance, the redirect uri and the query parameters are url-encoded and thus the request is handled by strapi correctly. ?code=4%2Fxxxxxxxxxxxxx\nAs soon as there is already a active google session in the browser, google redirects back to strapi with the code parameter unencoded, which cannot be handled by, i guess, the oauth middleware and is throwing the malformed_auth_token error.\nI don't know who is doing wrong here, google by redirecting unencoded or strapi/middleware by not handling both cases, encoded and unencoded parameters. \nI would be glad if someone can shed some light on this, since it actually makes it impossible for me to authenticate users without asking them to logoff from google prior doing so.. Thank you @derrickmehaffy  for pointing me in the right direction. Although the code example you mentioned is later in the flow, already requiring an access_token, which is what i don't get. But i could figure out that the callback handling the redirect after the google consent, which is the connect() function.\nBased on my first suspicion that the encoding of the code parameter could cause the issue, i tried to intercept this connect() function, encoding the query string so that it actually looks the same as successful authentications and redirect back with proper encoded query string.\nUnfortunately that doesn't change anything, so i guess the problem is somewhere inside the grant middleware, somehow failing to exchange the code for an access token.\nAt this point i gave up and looking forward for you guys implementing some other oauth middleware. Anyways, thx for your help.\n. Sorry @lauriejim, can't confirm that. I tried once again with the react sample app running against strapi alpha.16 and the error is still thrown. \nI uploaded a video https://streamable.com/4452w to make clear what's not working for me. Can you confirm that even if there is a google account already signed in you get an access_token on the redirect back to the client app?\n. > Okay that is strange!\n\nCan you give me the full url of the network url you click.\nI saw an error in the url and I want to now what it is.\nDid you have an error in your terminal ?\n\nThe url i showed in the video is the failing redirect back to the client app. Usually it should contain the jwt and user object but in case of an error it just redirects with the error object instead: \n\nhttp://localhost:1337/auth/google/callback?error%5Berror%5D=invalid_grant&error%5Berror_description%5D=Malformed%20auth%20code\n\nAnd yes, just realized there is also an error thrown in the console:\n\nnull: TypeError: Cannot read property 'Symbol(Symbol.iterator)' of object\ndata: null\nisBoom: true\nisServer: true\nmessage: \"Cannot read property 'Symbol(Symbol.iterator)' of object: Cannot read property 'Symbol(Symbol.iterator)' of object\"\noutput: Object {statusCode: 500, payload: Object, headers: Object}\nheaders: Object {}\nproto: Object {constructor: , defineGetter: , defineSetter: , \u2026}\npayload: Object {message: \"An internal server error occurred\", statusCode: 500, error: \"Internal Server Error\"}\nerror: \"Internal Server Error\"\nmessage: \"An internal server error occurred\"\nstatusCode: 500\nproto: Object {constructor: , defineGetter: , defineSetter: , \u2026}\nstatusCode: 500\nproto: Object {constructor: , defineGetter: , defineSetter: , \u2026}\nreformat: function () { \u2026 }\n[[FunctionLocation]]: internal#location\n[[Scopes]]: Scopes[2]\narguments: TypeError: 'caller', 'callee', and 'arguments' properties may not be accessed on strict mode functions or the arguments objects for calls to them\ncaller: TypeError: 'caller', 'callee', and 'arguments' properties may not be accessed on strict mode functions or the arguments objects for calls to them\nlength: 0\nname: \"\"\nprototype: Object {constructor: }\nproto: function () { \u2026 }\nstack: \"TypeError: Cannot read property 'Symbol(Symbol.iterator)' of object\n    at callback (c:\\VisualStudioCodeProjects\\Castelli\\strapi\\strapi-3.0.0-alpha.16\\castelli-strapi\\plugins\\users-permissions\\controllers\\Auth.js:94:23)\n    at process._tickCallback (internal/process/next_tick.js:68:7)\"\nproto: Error {constructor: , name: \"TypeError\", message: \"\", \u2026}. > Can you please give us an update about this issue?\n\nSorry @lauriejim , i was quite busy last weeks. \nJust setup strapi v3.0.0-alpha.23.1 (mongodb), login-react and configured google provider following this example. \nUnfortunately the problem still exists:\n\nFirst authentication (green box) issued from a chrome guest window in this example is working as expected. Subsequent auth requests fail (red box)\n. ",
    "engineertdog": "The table does exist, and I can perform queries on that database with both the CLI and with a client like MySQL Workbench.. The MySQL database is installed on the Windows machine. If there is a place that had more information about why the database check failed, that could be useful. . ",
    "Paratron": "Have the same problem on a ubuntu machine. mysql-server is running fine, the database exists but strapi refuses to connect. Well, npm remove strapi@alpha -g then.... ",
    "swappsshinde": "So we are facing Database connection has failed! Make sure your \"api\" database exist. because : we are not specifying the username and password for the MySQL database while connecting with the strapi project . ",
    "zhouyuexie": "I found it to be a network problem, I can successfully install it after I set up the taobao npm image.\nshell\nnpm config set registry https://registry.npm.taobao.org\nmaybe you can try.. ",
    "AlexanderNo": "Although the file problem should have been fixed, it still happens with e.g. with files other than images and pdfs. The changes from #2390 using:\nresource_type: \"auto\"\n don't seem to work.\n\nInformations\nNode.js version: 10.15.3\nnpm version: 6.9.0\nStrapi version: 3.0.0-alpha.25.2\nDatabase: MongoDB\nOperating system: macOS Mojave\nI've tripple checked my strapi-provider-upload-cloudinary version: 3.0.0-alpha.15. ",
    "timruiterkamp": "Did you run strapi start and not npm start ? npm start let's you change anything but it doesn't really update it, strapi start does.. Do you have any logs when trying to edit the field? Strapi logs every action you do, so maybe there is something that points to where the problem is.. ",
    "gyldcs": "yeah, I used strapi start. sorry, seems that after I upgraded my mongo the old instance were still running, now it seems to work fine. ",
    "Andrew1325": "I seem to be having this same issue. I opened an issue here as I was following a tutorial but with further investigations I am also getting an error \"The operator \\\"undefined\\\" is not permitted\" from a query like this: \nquery {\n  dishes {\n    id\n    name\n    description\n    price\n    restaurant {\n      name\n    }\n    image {\n      url\n    }\n  }\n}\nI get the error in playground. I'm on v21.. ",
    "JB1905": "I'll look at this next week. ",
    "6lackknight": "I updated to this:\n// Request API.\n      axios\n        .post(`http://localhost:1337/posts/`, {\n          headers: {\n            Authorization: `Bearer ${this.$session.get('jwt')}`,\n            'Content-Type': 'application/x-www-form-urlencoded'\n          },\n          caption: this.caption + '',\n          profile: this.$session.get('profile_id')\n        })\n        .then(response => {\n          // Handle success.\n          console.log(\n            'Well done, your post has been successfully created: ',\n            response.data\n          )\n        })\n        .catch(error => {\n          // Handle error.\n          console.log('An error occurred:', error)\n        })\n    }\nwhich still is not working, the CORS from the server is accepting wildcard origin.. @derrickmehaffy \nChanged post request data to match application/json header\nnewPost: function () {\n      // Request API.\n      axios\n        .post(`http://localhost:1337/posts/`, {\n          headers: {\n            Authorization: `Bearer ${this.$session.get('jwt')}`\n          },\n          data: {'caption': this.caption + '', 'profile': this.$session.get('profile_id') + ''}\n        })\n        .then(response => {\n          // Handle success.\n          console.log(\n            'Well done, your post has been successfully created: ',\n            response.data\n          )\n        })\n        .catch(error => {\n          // Handle error.\n          console.log('An error occurred:', error)\n        })\n    }\nI've been coding all night please forgive me if I am missing something simple \ud83d\ude2c. ",
    "ByBogon": "I also have kinda similar issue on alpha 24.1. is that fixed now on alpha 24.1?. ",
    "Zealder-Jude": "Hi @lauriejim, \nI followed the instructions here to create a local repo and --dev version  of strapi (which I believe symlink the ./admin folder from my local repo). All works well but when I want to build using npm run setup per instructions here, that's when the error occurs. \nAccording to this code:\nhttps://github.com/strapi/strapi/blob/585800b7b98093f596759b296a43f89c491d4f4f/packages/strapi-helper-plugin/lib/internals/webpack/webpack.base.babel.js#L47\nIt expects to find an exported moduletemplateConfiguration in the path as per url below, but it doesn't exist in repo:\nhttps://github.com/strapi/strapi/blob/master/packages/strapi-utils/index.js\nThe correct path is according to repo:\nhttps://github.com/strapi/strapi/blob/master/packages/strapi-utils/lib/templateConfiguration.js\nSo the code should be changed to:\nconst templateConfiguration = require(path.join(adminPath, 'node_modules', 'strapi-utils', 'lib', 'templateConfiguration'));. ",
    "masteralb": "@lauriejim \nMy seeds are very basic ( just for testing ):\n{\n        title: 'Test item ', \n        source: '5bfac7dd4cd71677a752e3e3', \n        date_created: new Date()\n    }\nBelow the relation between:\n\n\nI think this is very important, i'm planning to migrate a large database 1M+ Records, but i'm stuck with only 10K.\nDebugger:\n\n** Tried with alpha.15 same result\n\n. Hi, the issue is still present. \nThanks for your time!. @kamalbennani any way to prevent this? Why is needed to load every relation?. ",
    "StavrosKen": "Strapi hangs with the required version of Node (v10) during installation. It hangs when choosing MongoDB as database engine.\nTo overcome this limitation i had to use Node v8. But my above fix is needed then.. ",
    "mehdiraized": "hi @lauriejim \ni create content type with name health_center and see this issue. > Hello, please follow the issue template so we can get a better understanding about the origin of your bug and to be able to help you.\n\nI will reopen your issue as soon as it follows the templating guidelines.\nPlease update your issue.\nThank you.\n\nThis is a templated message\n\n\nplz reopen and help to install strapi in my server for deploy project. i install with yarn add global\nits work for me. ",
    "javialon26": "Same here with alpha 15. In my local development environment everything works well but in the staging environment, the content manager plugins break. This happens for example when I want to add a new user or edit one.\nTypeError: Cannot read property 'type' of undefined\n    at r.renderAttr (main.js:48)\n    at Array.map (<anonymous>)\n    at t.value (main.js:48)\n    at Mo (main.js:16)\n    at So (main.js:16)\n    at Fo (main.js:16)\n    at Jo (main.js:16)\n    at Zo (main.js:16)\n    at gn (main.js:16)\n    at fn (main.js:16)\nRo @ main.js:16\nWo.o.callback @ main.js:16\nJt @ main.js:16\n$t @ main.js:16\nyn @ main.js:16\ngn @ main.js:16\nfn @ main.js:16\ndn @ main.js:16\non @ main.js:16\nenqueueSetState @ main.js:24\ni.setState @ main.js:40\nd.onStateChange @ main.js:72\nl @ main.js:72\n(anonymous) @ main.js:72\n(anonymous) @ main.js:72\ndispatch @ main.js:72\n(anonymous) @ main.js:72\n(anonymous) @ main.js:72\nr @ main.js:72\na @ main.js:72\no @ main.js:72\nS @ main.js:72\nb @ main.js:72\nm @ main.js:72\nn @ main.js:72\nPromise.then (async)\nw @ main.js:72\nk @ main.js:72\nb @ main.js:72\nm @ main.js:72\na @ main.js:72\nC @ main.js:72\nb @ main.js:72\nm @ main.js:72\nn @ main.js:72\ns @ main.js:72\nt @ main.js:72\n(anonymous) @ main.js:72\n(anonymous) @ main.js:72\nr @ main.js:72\na @ main.js:72\no @ main.js:72\n(anonymous) @ main.js:72\nt @ main.js:72\n(anonymous) @ main.js:72\n(anonymous) @ main.js:72\nvalue @ main.js:48\nyn @ main.js:16\ngn @ main.js:16\nfn @ main.js:16\ndn @ main.js:16\non @ main.js:16\nenqueueSetState @ main.js:24\ni.setState @ main.js:40\nt @ main.js:72\n(anonymous) @ main.js:72\nPromise.then (async)\ns._loadModule @ main.js:72\ns.componentWillMount @ main.js:72\nfo @ main.js:16\nSo @ main.js:16\nFo @ main.js:16\nJo @ main.js:16\nZo @ main.js:16\ngn @ main.js:16\nfn @ main.js:16\ndn @ main.js:16\non @ main.js:16\nenqueueSetState @ main.js:24\na.setState @ main.js:45\np.onStateChange @ main.js:37\nnotify @ main.js:37\nt.notifyNestedSubs @ main.js:37\np.onStateChange @ main.js:37\nnotify @ main.js:37\nt.notifyNestedSubs @ main.js:37\np.onStateChange @ main.js:37\nl @ main.js:45\n(anonymous) @ main.js:37\n(anonymous) @ main.js:45\ndispatch @ main.js:45\n(anonymous) @ main.js:45\n(anonymous) @ main.js:45\nn @ main.js:45\ns @ main.js:45\nr @ main.js:45\nk @ main.js:45\nb @ main.js:45\nf @ main.js:45\no @ main.js:45\nn @ main.js:45\nt @ main.js:45\no @ main.js:45\nPromise.then (async)\nj @ main.js:45\nT @ main.js:45\nb @ main.js:45\n(anonymous) @ main.js:45\nS @ main.js:45\nb @ main.js:45\nf @ main.js:45\no @ main.js:45\nPromise.then (async)\nj @ main.js:45\nT @ main.js:45\nb @ main.js:45\nf @ main.js:45\no @ main.js:45\nC @ main.js:45\nb @ main.js:45\nf @ main.js:45\ns @ main.js:45\nP @ main.js:45\nb @ main.js:45\nf @ main.js:45\no @ main.js:45\ni @ main.js:45\nt @ main.js:45\n(anonymous) @ main.js:45\n(anonymous) @ main.js:45\nn @ main.js:45\ns @ main.js:45\nr @ main.js:45\n(anonymous) @ main.js:45\nt @ main.js:45\n(anonymous) @ main.js:45\n(anonymous) @ main.js:45\nvalue @ main.js:1\nyn @ main.js:16\ngn @ main.js:16\nfn @ main.js:16\ndn @ main.js:16\non @ main.js:16\nenqueueSetState @ main.js:24\na.setState @ main.js:45\np.onStateChange @ main.js:37\nnotify @ main.js:37\nt.notifyNestedSubs @ main.js:37\np.onStateChange @ main.js:37\nl @ main.js:45\n(anonymous) @ main.js:37\n(anonymous) @ main.js:45\n(anonymous) @ main.js:1\nPromise.then (async)\nu @ main.js:1\n./node_modules/strapi-helper-plugin/lib/src/app.js @ main.js:45\na @ main.js:1\n(anonymous) @ main.js:1\n(anonymous) @ main.js:1\nmain.js:72 uncaught at o TypeError: Cannot read property 'type' of undefined\n    at r.renderAttr (https://mysite.com/admin/content-manager/main.js:48:311414)\n    at Array.map (<anonymous>)\n    at t.value (https://mysite.com/admin/content-manager/main.js:48:312330)\n    at Mo (https://mysite.com/admin/main.js:16:42968)\n    at So (https://mysite.com/admin/main.js:16:42763)\n    at Fo (https://mysite.com/admin/main.js:16:46086)\n    at Jo (https://mysite.com/admin/main.js:16:59256)\n    at Zo (https://mysite.com/admin/main.js:16:59637)\n    at gn (https://mysite.com/admin/main.js:16:65916)\n    at fn (https://mysite.com/admin/main.js:16:65296)\nThe only difference between my environments is the URL (host with ssl) and the Nginx reverse proxy for the staging environment.. @gksander @soupette ok I have this working with my nginx reverse proxy. After a little of an investigation, I found the problem.\nIn line 13 of this file https://github.com/strapi/strapi/blob/master/packages/strapi/lib/middlewares/index.js\nstrapi do a check over x-forwarded-host header, if is equal to 'strapi' the ctx.request.admin is true, otherwise false.\nWith Nginx reverse proxy is a common practice change the x-forwarded-host to a static value, maybe the server name, this breaks the admin requests.\nI found a map header for nginx and problem solved.\nExample:\n``\nmap $http_forwarded $proxy_add_forwarded {\n    # If the incoming Forwarded header is syntactically valid, append to it\n    \"~^(,[ \\\\t]*)*([!#$%&'*+.^_|~0-9A-Za-z-]+=([!#$%&'+.^_|~0-9A-Za-z-]+|\\\"([\\\\t \\\\x21\\\\x23-\\\\x5B\\\\x5D-\\\\x7E\\\\x80-\\\\xFF]|\\\\\\\\[\\\\t \\\\x21-\\\\x7E\\\\x80-\\\\xFF])*\\\"))?(;([!#$%&'*+.^_|~0-9A-Za-z-]+=([!#$%&'+.^|~0-9A-Za-z-]+|\\\"([\\\\t \\\\x21\\\\x23-\\\\x5B\\\\x5D-\\\\x7E\\\\x80-\\\\xFF]|\\\\\\\\[\\\\t \\\\x21-\\\\x7E\\\\x80-\\\\xFF])*\\\"))?)*([ \\\\t]*,([ \\\\t]*([!#$%&'*+.^_|~0-9A-Za-z-]+=([!#$%&'+.^_|~0-9A-Za-z-]+|\\\"([\\\\t \\\\x21\\\\x23-\\\\x5B\\\\x5D-\\\\x7E\\\\x80-\\\\xFF]|\\\\\\\\[\\\\t \\\\x21-\\\\x7E\\\\x80-\\\\xFF])*\\\"))?(;([!#$%&'*+.^_|~0-9A-Za-z-]+=([!#$%&'+.^`|~0-9A-Za-z-]+|\\\"([\\t \\x21\\x23-\\x5B\\x5D-\\x7E\\x80-\\xFF]|\\\\[\\t \\x21-\\x7E\\x80-\\xFF])\\\"))?))?)*$\" \"$http_forwarded\";\n# Otherwise, replace it\ndefault \"$server_name\";\n\n}\nserver {\n  listen 80 default_server;\n  listen [::]:80 default_server;\nserver_name _;\nlocation / {\n    proxy_pass http://localhost:1337;\n    proxy_redirect off;\n    proxy_connect_timeout 2;\n    proxy_read_timeout 86400;\n    proxy_set_header Host $host;\n    proxy_set_header X-Real-IP $remote_addr;\n    proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n  }\n}\n. another better nginx config\nmap $http_x_forwarded_host $custom_forwarded_host {\n  default \"$server_name\";\n  strapi \"strapi\";\n}\nserver {\n  listen 80 default_server;\n  listen [::]:80 default_server;\nserver_name _;\nlocation / {\n    proxy_pass http://localhost:1337;\n    proxy_redirect off;\n    proxy_connect_timeout 2;\n    proxy_read_timeout 86400;\n    proxy_set_header Host $host;\n    proxy_set_header X-Real-IP $remote_addr;\n    proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n    proxy_set_header X-Forwarded-Host $custom_forwarded_host;\n  }\n}\n```. @eComEvo are you behind a reverse proxy? see this issue #2424 . ",
    "gksander": "I'm having the same issue. Running alpha 15 on MacOS development machine works fine, but my production server (Ubuntu 16.04) with SSL crashes with the same error. I'm happy to provide more details if it's helpful.. @soupette Thank you! This helped. For anyone else having this issue, here's how I solved it using Nginx:\nI added a location block for /content-manager and set the X-Forwarded-Host header to 'strapi'.\nlocation /content-manager {\n  proxy_set_header X-Forwarded-Host 'strapi';\n  proxy_pass http://localhost:1337;\n}. I want to add another comment, in case this helps anyone. I received this same error message after updating some of my schemas and pushing up to production. To fix this, I did the following (Ubuntu 16.04):\n\nShell into MongoDB shell with mongo.\nUse the DB that your Strapi instance is using\n    sh\n    use yourDBname\nFrom the core_store collection, delete the record corresponding to the Content Manager schema:\n   sh\n   db.core_store.remove({key: 'plugin_content-manager_schema'})\nThen reboot your Strapi application (I believe it'll recreate that record when it boots up, but now with your updated schema).\n\nAgain, this was an issue that I didn't have on my local machine, but my production machine (with SSL) gave me some issues.. ",
    "ron-edison": "Hello trying to resolve this issue using an apache proxy, we're using:\nProxyPass / http://127.0.0.1:1337/\nRequestHeader set X-Forwarded-Host \"strapi\"\nhave tried both with ProxyPreserveHost Off and On which doesn't seem to make a difference, strapi does see the X-Forwarded-Host header but when logging in via the proxy (with SSL) editing is not possible as described, any input or suggestions would be of interest\nthanks very much. Hi Dan, we got it working by adding this directive:\nProxyAddHeaders Off\nAlso I think your rewriterule will not achieve the needed result, you want something like this:\nProxyPass / http://127.0.0.1:1337/\nHope that helps!\n. Hi Dan, if you've already ruled out the necessary Apache modules all enabled I would say check your error log, shouldn't be too tough to troubleshoot, I can probably look in our working config and compare if it doesn't resolve. Good luck!. ",
    "danbruegge": "Hi, i have the same issue. How can i solve it with only a htaccess?\nMy htaccess:\nRewriteEngine On\nRewriteRule ^(.*) http://localhost:1337/$1 [P]. @ron-edison thanks for your answer. Sadly both cause an Internal Server Error. :(. @ron-edison looks like they are not allowed on my hoster. I will contact them. Thanks. :). ",
    "AlbanVelco": "Hi, i have the same issue. I'am using apache 2.4.\nI have tried several configurations, but none of them worked.\nWhat is your complete configuration please?\nThanks very much!. Finally, I managed to understand why the solution proposed above didn't work for me. It didn't work because I had a <Proxy></Proxy> tag in my VirtualHost declaration.\nSo if you have a  <Proxy></Proxy> tag in your VirtualHost declaration, you have to put ProxyAddHeaders Off inside this tag for it to work.\nAnd if you don't have a <Proxy></Proxy> tag in your VirtualHost declaration, it should work if you put ProxyAddHeaders Off inside your VirtualHost declaration.\nThanks. :-). ",
    "indatawetrust": "the above recommendations do not work. another solution way?. ",
    "logicware": "But it is sending emails now that the bug is fixed!. ",
    "OriginUnknown": "It's a company repository that has some sensitive data on there so I have to be very careful about sharing the repo over the net. Sorry to be a pain :/ Is there any other way?. If it helps, I've been told that there's an issue with strapi and mongoDB when it comes to camel casing. I can't confirm whether that's the case because I cannot find any errors in the console log or the network tab within the browser. I had a read of your comment in https://github.com/strapi/strapi/issues/2131#issuecomment-430580261 and I want to try and delete the core_store schema to see if that helps but I can't locate the file at the moment. Hi @derrickmehaffy; Thanks for getting back to me - much appreciated. TBH I'm new to mongoDB so concepts like 'core store' are pretty alien to me so please bear with me. Nonetheless, there is a core_store file inside the mongoDB that I'm using to extract data from and looking at its construct, it's also using camel casing to reflect the properties already within the mongoDB collections I'm using (I'm assuming here). I don't think I'm supposed to alter the camel cased properties within the DB so I'll need to come up with a work around or some sort solution to get passed this.  . Will revisit at a later date. ",
    "faustofurtado": "@sidsaxena0 Hello I have the same error in Ubuntu.  How did you solve this problem?\nstrapi console\n[2019-02-13T13:16:34.316Z] info Starting the application in interactive mode...\n[2019-02-13T13:16:36.280Z] debug \u26d4\ufe0f Server wasn't able to start properly.\n[2019-02-13T13:16:36.280Z] error URL is not defined\nReferenceError: URL is not defined\n    at Strapi.module.exports.app (/usr/local/lib/node_modules/strapi/lib/core/configurations.js:332:10)\n    at Strapi.load (/usr/local/lib/node_modules/strapi/lib/Strapi.js:222:29)\n    at <anonymous>\n. ",
    "Kriskasz": "Hi, I'm getting the same error on Ubuntu - \ndebug \u26d4\ufe0f Server wasn't able to start properly.\n[2019-02-18T13:46:36.361Z] error URL is not defined\nReferenceError: URL is not defined\n    at Strapi.module.exports.app (/usr/local/lib/node_modules/strapi/lib/core/configurations.js:332:10)\n    at Strapi.load (/usr/local/lib/node_modules/strapi/lib/Strapi.js:222:29)\n    at \nI flowed this guide https://blog.strapi.io/building-a-static-website-using-gatsby-and-strapi/ so project is completely new. Any help? It looks that issue still exist. \nOS: Ubuntu 16.04.4 LTS\nnodejs version: v10.15.1\nnpm version:  6.8.0. I have only one node\nnodejs -v\nv10.15.1\n. any help? How you see version of node is ok. No, I just installed strapi with Mongodb and that's all. Where can I find\nfile to change db configuration? Why it want to connect to SQLITE not to\nMongodb?\nOn Thu, 28 Feb 2019, 15:58 Jim LAURIE <notifications@github.com wrote:\n\nHum that's strange!\nDid you have strapi-hook-bookshelf installed some where, or did you try\nto migrate from SQL to NoSQL database ?\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/strapi/strapi/issues/2898#issuecomment-468327316, or mute\nthe thread\nhttps://github.com/notifications/unsubscribe-auth/Acpf0pQa8421K4ka0KjPIOju5xFX7KGbks5vR_yngaJpZM4bUK0Y\n.\n. \n",
    "greenkeeper[bot]": "Hey there \ud83d\udc4b,\nwe noticed that this PR isn\u2019t merged yet. Just to let you know: if you don't merge this PR, Greenkeeper will not be enabled on this repo, and you won't receive updates for your dependencies.\nIf you don't want to enable Greenkeeper here, just close or ignore this PR, we won't nag you again. \u270c\ufe0f\nHave a great day! \ud83c\udf34\n. ",
    "tomsutton1984": "Thanks @lauriejim - I'll review the contributing guide and get a PR over to you. ",
    "pwkrz": "Hi @lauriejim ,\nI have Strapi 3.0.0-alpha.16 installed globally and I created a project using strapi new ....\nUsing the global admin account I send a PUT request to http://localhost:1337/users/5c07db0fbf19483b18f1c412 with the body:\n{\"_id\":\"5c07db0fbf19483b18f1c412\",\"wid\":\"5c07db0fbf19483b18f1c412\",\"userRole\":\"EDITOR\",\"firstName\":\"Ivan\",\"lastName\":\"Johnson\",\"description\":\"// test\",\"email\":\"asdladj@o2.pl\",\"telephone\":\"234234234243\",\"password\":null,\"someNewProp\":null,\"dateOfBirth\":1228953600000,\"registeredAt\":1544018702907,\"profileImg\":null,\"fullName\":null,\"isMale\":true,\"media\":null}\nAnd I get the response {\"statusCode\":400,\"error\":\"Bad Request\",\"message\":\"Email is already taken.\"}.\nIf I change the route configuration in <myproject>\\plugins\\users-permissions\\config\\routes.json to /users/:id, the problem goes away.\nIf you need more info, please let me know!. Hi, sorry about the delay responding.\nHere is an example content type that causes the problem:\n{\n  \"connection\": \"default\",\n  \"collectionName\": \"zuno\",\n  \"info\": {\n    \"name\": \"zuno\",\n    \"description\": \"\"\n  },\n  \"options\": {\n    \"timestamps\": true\n  },\n  \"attributes\": {\n    \"xname\": {\n      \"default\": \"\",\n      \"type\": \"string\"\n    },\n    \"wid\": {\n      \"default\": \"\",\n      \"type\": \"string\"\n    }\n  }\n}\nI send a POST request to http://localhost:1337/zunos with the payload: { wid: null, _id: null, xname: 'whatever' }\nThe response is: {\"statusCode\":404,\"error\":\"Not Found\",\"message\":\"Not Found\"}\nIn the problematic model I do not introduce any customizations, but I did customize the User model as per these instructions: https://github.com/WINKgroup/winkit-cli-angular/#conf-server-strapi. ",
    "TNkemdilim": "As regards this issue, I discovered that the error was as a result of a mandatory firstname field being required during signup. I don't know why.\nAs a quick fix, I performed a manual POST request (curl/fetch/etc), while including the firstname field required.\nTO REPRODUCE THIS ERROR:\n- Create a strapi project, connect to the db, signup as admin\n- Stop the project (Ctrl + C)\n- Delete the current project's database (in my case, I was using mongodb)\n- Start the project again (strapi start): It should now take you to the admin registration page\n- Try signing up, with or without the email previously used, and the above error would occur.. I'm also facing this challenge... Thanks a lot.. ",
    "ssg-luke": "Sorry guys quick question I'm new to strapi, does this PR only refer to being able to do a deep filter using GET params or does this also apply to GraphQL queries? I seem to be unable to deep filter with GraphQL. ",
    "Nowhy": "When this could be solved? . .replace(/(/g, \"\\\\(\");. > .replace(/(/g, \"(\");.... two \\ and one (\n. @derrickmehaffy now How can I deal with this problem? . @lauriejim the actual problem is the url link. And this url link comes from the front-end. I need to send this url link through email. However, the url link sometimes went wrong. It should be \".com.cn\" but the result shows me \".comcn\".\nIn addition, I have same problem when I send some urls about static files. These static files are stored in back-end. If I want to access to these files, I also need to send links through emails. Then I fixed this problem by making url shorter.\n. I don't know why but there is no such problem appearing.... yes... node --inspect server.js\nMy project works.. ==\nwhich file contains \"strapi.start()\"...pls use that one\n. ",
    "mjurincic": "Any ETA on this, it is really a needed feature for us.. ",
    "alexandrebodin": "Hi guys,\nThank you for your work @kamalbennani We are taking over the PR to help release it asap for the community ;)\nWe are opening a new PR with the same commits merged into a freature branch on the main repo.\nHere is the new PR https://github.com/strapi/strapi/pull/2961\nGo there if you have new comments or questions \ud83d\udc4d . Hi @nyzm \nThank you for your work, right now I have a few security conserns about the auth flow you are proposing.\nWe cannot verify who (mobile app / web app etc..) is requesting the refreshtoken. And we don't have the possibility to request an access token without a refresh token.\nTo add refresh tokens in a secure way we need to work on building a more robust auth server.\nI recommend this read to get more info https://auth0.com/docs/tokens/refresh-token/current.\nAnd this one for mobile auth flow https://auth0.com/docs/flows/concepts/mobile-login-flow. Hi @DaneTheory \nThanks you for your feedback \ud83d\udc4d \nI think you could try to had your babel logic in the server.js file generated in the root directory. \nLet me know if that helps :)\nGenerally speaking @babel/register isn't supposed to be used for production so you would need to build the codebase with babel before deployment. . @DaneTheory If your are running babel-node all the code will be run with babel. What you are trying to do should work.\nCan you share your .babelrc file / a repo to test ?  . Hi,\nI think the issue isn't really about returning html but how we persist WYSIWYG content. In my opinion we shouldn't persist neither markdown nor html but an object (e.g json) representation of the content.\nThe API would return this representation in the frontend so anyone can render it how they want by default. \nWe can provide a module to convert it to markdown/html/csv or whatever.\nWeather it's used in the front end (like some CMS providing a content.toHtml() helper) or on the back end by adding a middleware to convert every field with this type or manually in the services is up to the user needs.. If your are only testing the initial state yan can juste snapshot it to avoid juste copying and pasting it every time.. Your test just gets more complexe by using a global state in your test suite\nyou could to sth like that:\njs\nexpect(adminReducer(state, getInitDataSucceeded(data)).toJS())\n.toMatchObject({ autorReload: true, //...});\n. Same goes for the other tests in general . Not sure you can but creating a function getFirstBlock in your plugin could help for maintainability. you can change the implementation without having to hupdate this code. why use strapi.injectReduce ?. I do not see, what is the point of otherComponents ?. Updated. Forgot to remove it . ",
    "oskareke": "I came across this issue as well, using npm.. ",
    "marcopesani": "Same here, using strapi Docker image. I've created a content type named \"string\" with three fields: key (string), value_it (text wyswyg), value_en (text wyswyg) \n/usr/src/api/conio-cms/node_modules/mongoose/lib/document.js:71\n     throw new ObjectParameterError(obj, 'obj', 'Document');\n     ^\n ObjectParameterError: Parameter \"obj\" to Document() must be an object, got DeprecationWarning\n     at new ObjectParameterError (/usr/src/api/conio-cms/node_modules/mongoose/lib/error/objectParameter.js:25:11)\n     at model.Document (/usr/src/api/conio-cms/node_modules/mongoose/lib/document.js:71:11)\n     at model.Model (/usr/src/api/conio-cms/node_modules/mongoose/lib/model.js:93:12)\n     at new model (/usr/src/api/conio-cms/node_modules/mongoose/lib/model.js:4486:13)\n     at model (/usr/src/api/conio-cms/node_modules/mongoose/lib/model.js:4484:16)\n     at process.emitWarning (internal/process/warning.js:132:22)\n     at emitDeprecationWarning (internal/process/promises.js:95:13)\n     at emitWarning (internal/process/promises.js:88:3)\n     at emitPromiseRejectionWarnings (internal/process/promises.js:120:9)\n     at process.internalTickCallback (internal/process/next_tick.js:78:34)\n 2019-01-07T17:07:39.147+0000 I NETWORK  [conn39] end connection 172.26.0.3:47154 (0 connections now open). ",
    "aurelienbobenrieth": "I actually have this error as well. \nnpm WARN deprecated joi@10.2.2: This version is no longer maintained. Please upgrade to the latest version.\nC:\\Users\\aurel\\AppData\\Roaming\\npm\\strapi -> C:\\Users\\aurel\\AppData\\Roaming\\npm\\node_modules\\strapi\\bin\\strapi.js\nnpm WARN react-ga@2.5.6 requires a peer of prop-types@^15.6.0 but none is installed. You must install peer dependencies yourself.\nnpm WARN react-ga@2.5.6 requires a peer of react@^15.6.2 || ^16.0 but none is installed. You must install peer dependencies yourself.\nI can't even create a new project. The creation seems to crash when I am asked to choose the kind of DB I want. And it crashes no matter which DB type I select.\nHelp wanted here as well.\n\nEdit : \nI gave it a try on my personal comp as well, manage to go one step further (asked for database name) and got stuck right after it as well.. Little up right there ! \nAny solutions anyone ? I am not managing to do any proper installation no matter on which comp I try (each one running on Windows).. There are apparently no proper solutions to our problems. The only work-around seems to use a Linux distros (even though I did not have the time to try it yet).. I'll add to that topic that the use of WSL is not really optimal since you won't be able to use MongoDB as it is not yet supported yet in WSL.. ",
    "CTBUdzy": "hello.I first use strapi.I report an error when I install strapi with the statement \"npm install strapi@alpha -g\".It display \u2018npm WARN deprecated joi@10.2.2: This version is no longer maintained. I still can't understand the solution you mentioned above.Please upgrade to the latest version.Can you tell me in detail how to solve this problem.\n\u2019 . ",
    "stact": "On Windows I've same issue when I'm installing with\nnpm install strapi -g\nNo issue with\nnpm install strapi@alpha -g\nhttps://strapi.io/documentation/3.x.x/getting-started/installation.html#setup. ",
    "tlchatt": "Having this problem on Ubuntu also, double checked my versions on all these packages \nI tried to install peer dependencies myself as WARN'ed. This output is from a non global attempt but I tried global install as well. \ndreadpirate007@0:/var/www/html/ShopifyApp$ npm show joi version\n14.3.1\ndreadpirate007@0:/var/www/html/ShopifyApp$ npm show react-ga version\n2.5.6\ndreadpirate007@0:/var/www/html/ShopifyApp$ npm show prop-types version\n15.6.2\ndreadpirate007@0:/var/www/html/ShopifyApp$ npm show react version\n16.7.0\ndreadpirate007@0:/var/www/html/ShopifyApp$ sudo npm install strapi@alpha\nnpm WARN deprecated joi@10.2.2: This version is no longer maintained. Please upgrade to the latest version.\nnpm WARN react-ga@2.5.6 requires a peer of prop-types@^15.6.0 but none is installed. You must install peer dependencies yourself.\nnpm WARN react-ga@2.5.6 requires a peer of react@^15.6.2 || ^16.0 but none is installed. You must install peer dependencies yourself.\n+ strapi@3.0.0-alpha.18\n. I believe accidentally running the npm install command as sudo was what caused this issue for me in Ubuntu and uninstall and reinstall without sudo fixed it. . Ubuntu 18.04.1 LTS, \nnode --v11.6.0\nnpm 6.5.0-next.0\nNot sure about that last question.. ",
    "justinriggio": "I get the same warnings on macOS and Unbutu 18.x\nIs there a fix for this issue?. @tlchatt  What node and npm ver are you running on Ubuntu? and did you use apt or NVM?. ",
    "ssshooter": "@lauriejim updated. @petre2dor thank you \ud83d\ude0a\ndelete plugin_content-manager_schema -> redeploy ->work. ",
    "buithuyen": "@ssshooter I'm facing the same problem. How can I delete plugin_content-manager_schema. \nI use Heroku and mLab.\nThank you in advance.. How about this PR you guys. This will be released in the next time?. I have the same one\nInformations\n- Node.js version: v10.15.0\n- NPM version: 6.8.0\n- Strapi version: 3.0.0-alpha.24.1\n- Database: MongoDB\n- Operating system: MacOS\nWhat is the current behavior?\n- Admin UI always loading when add new entry (Production).\n\n- Everything is fine in Local\n\nSteps to reproduce the problem\n- Create a model like this:\n\n. ",
    "pellandaSyn": "Sorry i still have same problem.. i don't know how to help you.. i'll try\nagain in the next project\nThanks for yours great job\nIl giorno mer 26 dic 2018 alle ore 18:44 Jim LAURIE \nnotifications@github.com ha scritto:\n\nCan you please give us an update about this issue?\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/strapi/strapi/issues/2464#issuecomment-449999729, or mute\nthe thread\nhttps://github.com/notifications/unsubscribe-auth/ApmB_FoPcL_yO71VTeO98yu1Ha2KZXymks5u87WAgaJpZM4ZNNQz\n.\n\n\n-- \n--\nfabio pellanda\nsoftware engineer\nvCard\nhttps://syx.it/mail-sign/vcard_syn.php?nome=Fabio&cognome=Pellanda&ruolo=Software+Engineer&email=%40synesthesia.it&mobile=&format=file.vcf\n[image: logo] https://synesthesia.it/\ndigital transformation \u25c6 growth strategies \u25c6 academy&events \u25c6 innovation\nHQ: C.so Dante 118, 10126 Torino, Italy https://goo.gl/maps/YsopCCXHoRo -\ntel +39 011 0437401 <+390110437401>\n[image: Footer Signature]\nhttps://syx.it/mail-sign/banner/6f385b0f8196189c81b92552d266b191/syn.gif\nTorino https://synesthesia.it/en/contacts/ \u25c6 Milano\nhttps://synesthesia.it/en/contacts/ \u25c6 synesthesia.it\nhttps://synesthesia.it/en/contacts/\n[image: LinkedIn] https://linkedin.com/company/synesthesia [image:\nFacebook] https://facebook.com/synesthesiait [image: Instagram]\nhttps://instagram.com/synesthesiait [image: Twitter]\nhttps://twitter.com/synesthesiait [image: YouTube]\nhttps://youtube.com/synesthesiait [image: Behance]\nhttps://www.behance.net/synesthesia\n. ",
    "webgururobin": "Not sure, but it looks like the problem is because of MongoDB deprecated functions, hopefully, this is resolved.. ",
    "maksugr": "Are any news here?\nI have the same bug if I create many-to-many relation within same type.. so... this issue can be closed, thank you). ",
    "huberrom": "Same problem here, it's really blocking us.\nAny progress on this @lauriejim ?\n. ",
    "georgepapas": "seeing the same issue here.. any updates?. Same issue when using postgres. need to delete the entry for plugin_content-manager_schema from the core_store table and then restart strapi. \nThis is not ideal. I tried doing this in bootstrap.js, but it is too late by that point. So you end up having to somehow delete an entry from the db before strapi is restarted for the new deployment that contains content type changes.  Not very nice. \nWould be great to see this solved, or at least a reasonable place to make this change.  . Just further to this for anyone that is interested, the issue only arises when new content types are added. Adding attributes to an existing content type works fine, in the sense new attributes migrate across environments without issue.. ",
    "KempfCreative": "@soupette I have updated this branch with the upstream master, so it should be good to go once checks pass. Thanks for the review, and for your continued work on Strapi!. @soupette Partially, yes. I found the explicit linkage to not work for me, coming from a fresh install. The only thing that got the admin server running was using the npm scripts to handle that linkage for me, and in this order. Mostly, I am updating this based on the work already done by you in your comments in #1116, so if you feel there is inaccuracies, please let me know and I can try and test them out when I am able.. ",
    "wosevision": "Confirmed bug still exists in 3.0.0-alpha.21 \u2013 just updated from alpha.19 because I was feeling optimistic!\nFor troubleshooting purposes, here are the things I've tried so far which have not worked:\n\nDelete/re-add field from Content Type Builder\nDelete/re-add field from Content Manager\nRe-rename field from Content Manager (every variation of field on its own, with other fields to update, etc)\nRemove label completely from Content Manager, save with empty label, add label back, save again\n\nFor my own information, does anyone know where that label metadata is being stored? Maybe I didn't look hard enough, but I didn't see anything that referenced the Content Manager labels anywhere in /api/{modelname}, /config, any database table, etc... Where are those labels getting saved to?. ",
    "sontranhcm": "I use docker strapi on docker hub and still get the same error. Seem it's a bug of strapi.. ",
    "micbra": "I get the same error on MacOS X 10.13.6. ",
    "8ctopotamus": "Same issue with trying to save required floats.. ",
    "ronaldaug": "As I am trying update users data,\nI am going to close this and wait for this PR . . ",
    "bearjaws": "\nCan you please add in a bit about what the index does and also add a notice header that it currently is only supported on Mongo and not MySQL/Postgres\n\nI have added a link to Mongodb's documentation on single field indexes, as there are several types of indexes. I did not add a comment about only working with Mongodb as the header of that section includes: The following supported validations are *only supported by MongoDB*\nDo you want me to add the comment about only working for mongodb anyway?. ",
    "wptheme4me": "See #1281 . ",
    "acidcrash2005": "I have error \nTypeError: strapi.services.lessons.fetchAll(...).toJSON is not a function\npleas help ((((. I did trimming like this\nreturn strapi.services.lessons.fetchAll(ctx.query).then(function (lessons) {\n        return lessons.map( (lesson) => (\n          {\n            id: lesson._id,\n            title: lesson.title\n          }\n        ))\n      });\nWork well!.. ",
    "D4n1984": "I thini that is the best choice.\nRegards,\nEl s\u00e1b., 22 dic. 2018 1:17, cyril lopez notifications@github.com escribi\u00f3:\n\nWell I'm not sure that this is actually a bug. Let's say that you have a\nmodel with only one field for instance name that is not required. Since\nthe field is not required the user is allowed to create an empty entry,\ntherefore the content-manager lets you create such entry.\nI can add a delay that will prevent you from clicking add new field and\nsave too rapidly.\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/strapi/strapi/issues/2515#issuecomment-449446289, or mute\nthe thread\nhttps://github.com/notifications/unsubscribe-auth/AH0fvVNuMb1HZgEFENr5eQzJdtXf4PX3ks5u7RfCgaJpZM4ZaNyK\n.\n. \n",
    "wuichen": "@lauriejim greatly appreciate if the instruction of setting up strapi-email-nodemailer can be provided. thanks!. ",
    "frey1esm": "I am having the same issue on my own server with MySql.  My database exists, the user exists, password is correct, and I can connect to the database from the command line. But strapi new my_project throws the error Database connection has failed! Make sure your \"db_myapp\" database exist.\n. ",
    "mohamead": "@yao-dev I tried the fix that you suggested and it works, but just so that I fully understand. The line that you added is to force enabling SSL when connecting to Postgres? Which is a precondition for connecting to Heroku Postgres as said her -> https://devcenter.heroku.com/articles/connecting-to-heroku-postgres-databases-from-outside-of-heroku#ssl\nBut isn't this something that should be done when adding the option --dbssl=true?\nWhen changing the code at line 212 in the same file\nfrom\nscope.database.options.ssl = _.toString(answers.ssl) === 'true';\nto \nscope.database.settings.ssl = _.toString(answers.ssl) === 'true';\nalso fixed this issue, and retaining the intended feature. That is when connection to remote Postgres (e.g Heroku) one must use the option --dbssl=true, but this is not required when connecting locally.\n@lauriejim what do you think?. @yao-dev updating the prompt sounds like a good idea, but that is something that I can not test as the prompt will freeze on windows (https://github.com/strapi/strapi/issues/1281). \nAs described in the ticket above windows is the OS that I' am currently using unfortunately. Hence the point about the option --dbssl=true. So to summaries running the command defined under \"Steps to reproduce ...\" on Windows, but with the option --dbssl=true will solve this issue. Given the line change mentioned before..\n. @lauriejim thank you for the feedback. Unfortunately the modification mentioned did not resolve the issue https://github.com/strapi/strapi/issues/2522. It is still failing with the same error..\nCan we consider updating before.js in strapi-generate-new from\nscope.database.options.ssl = _.toString(answers.ssl) === 'true'; =>\nscope.database.settings.ssl = scope.database.options.ssl = _.toString(answers.ssl) === 'true';\nThe change seems to work in windows, and not breaking where options.ssl is used... @lauriejim sorry my bad, I made a new one -> https://github.com/strapi/strapi/pull/2615 . It contains the respective changes suggested in my previous comment... Likewise!. ",
    "sign0": "@arogyakoirala \nYour fork is only for MongoDB ? Not for PostgreSQL/PostGIS ?\nI am starting the same, but with PG and the \"geometry\" data type.... @arogyakoirala Yes, especially since the latest versions of PostgreSQL efficiently manage the JSON with the JSONB type.\nPostgres is also suitable for storing vector or raster tiles (I use that: https://openmaptiles.org/ with SQLite/MBTile or Postgres/gis, and it's compatible with the mapbox-gl workflow like gl-style). \nUnfortunately, I'm not familiar with Knex ORM, especially when it comes to interacting with PostGIS (I more familiar with Sequelize ORM).\nAnd the management of geometry type would mean that it would be an \"exclusive feature\" for Postgres : which would go may be against the philosophy of this project which claims to be a NoSQL / SQL compatible CMS... But for example, Wordpress is \"optimized\" for MySQL).\nI have not yet tried your contribution, but the description is impressive ! :). > > Postgres is also suitable for storing vector or raster tiles (I use that: https://openmaptiles.org/ with SQLite/MBTile or Postgres/gis, and it's compatible with the mapbox-gl workflow like gl-style).\n\nThere's postGIS as well https://postgis.net/\n\nYes it is!\nPostgis also supports geometry -> TopoJSON with AsTopoJSON() function.. ",
    "azamuddin": "@lauriejim \nI still found a similar error \nUnhandled rejection Error: ER_BAD_FIELD_ERROR: Unknown column '_id' in 'field list' at Query.Sequence._packetToError (/Users/azamuddin/Development/en/strapi-new/node_modules/mysql/lib/protocol/sequences/Sequence.js:47:14) \nThis error happens whenver I tried to do mutation update on any resource, even resource with no relation defined.\nWhen I checked the fix here https://github.com/strapi/strapi/commit/51b5ea7b3f4e8c333f3f894ce20054542e0c4f32\nAnd investigateprimaryKey === current, it returns false for field id. So I tried made a change to also check if current === 'id' like below, and it works:\n``\nconvertToParams: (params, primaryKey) => {\n    return Object.keys(params).reduce((acc, current) => {\n      return Object.assign(acc, {\n        [${\n          primaryKey === current || \"id\" === current ? \"\" : \"_\"\n        }${current}`]: params[current]\n      });\n    }, {});\n  },\n```\n. @lauriejim hmm so I need to wait for it before being able to use GraphQL plugin on strapi?. ",
    "pragone": "Just to add a bit here. I think I have a better understanding of the issue.\nI think that the main issue is that the mongoose backend supports passing a filter like:\nconst users = await strapi.query('user', 'users-permissions').find({\n           where: {            \n             email: profile.email\n           }\n         });\nwhile the same query fails for bookshelf because it doesn't specify the symbol (meaning the '=') \nconst users = await strapi.query('user', 'users-permissions').find({\n           where: {            \n             email: {\n               symbol: '=',\n               value: profile.email,\n             }\n           }\n         });\nThis is not specific to the social login feature. It just happens that it does a query in that way.\nI think that the best solution would be to make bookshelf understand this type of queries. I added a comment on the PR with what the code would be. If you agree that that is the right approach I'll create a pull request for that change and discard this one.. Actually... just checked. Most times it'll be fine because the filters passed to 'find' are the result of a convertParams method call... but in this case we're just building the query manually... So I think that the fix as submitted in the associated PR is probably the right one. Meaning, let's just change how the user-permissions plugin constructs that query.. @lauriejim Could you have a read at these comments. I think that it'll be easier to reproduce after you read the actual cause, and therefore the PR would be clearer. Hey @AndinAvdiu . The fix has been merged, but I think it'll be released in 3.0.0-alpha.19\nModifying the plugin is not the right way in that it'll be overwritten every time the post-install scripts run. But it'll solve your issue in the meantime, and 3.0.0-alpha.19 shouldn't be far away.\nGood luck. There's an alternative fix, which is to change the way the query method in plugins/users-permissions/config/queries/bookshelf.js handles a string value: so in 7 where it has:\n_.forEach(params.where, (where, key) => {\n        if (_.isArray(where.value)) {\n          for (const value in where.value) {\n            qb[value ? 'where' : 'orWhere'](key, where.symbol, where.value[value]);\n          }\n        } else {\n          qb.where(key, where.symbol, where.value);\n        }\n      });\nto change for something like:\n_.forEach(params.where, (where, key) => {\n        if (typeof where === 'string') {\n          qb.where(key, '=', where);\n        } else {\n          if (_.isArray(where.value)) {\n            for (const value in where.value) {\n              qb[value ? 'where' : 'orWhere'](key, where.symbol, where.value[value]);\n            }\n          } else {\n            qb.where(key, where.symbol, where.value);\n          }\n        }\nI've only used MySQL, and I'm conscious that the change I'm proposing in the PR is somewhere that is common to MySQL and Mongo. TBH, I'm not experienced enough in strapi to know whether the contract for the find function should be able to understand a where that is just a string or not, and whether my fix makes it more generic, or we should replace it with the alternate fix in this comment. Let me know and I can submit a different PR to fix it this way instead.. Actually... just checked. That code block is repeated in a lot of places. Most time I think it'll be fine because the filters are the result of a convertParams method call... but in this case we're just building the query manually... So I think that the fix as submitted in the associated PR is probably the right one. Meaning, let's just change how the user-permissions plugin constructs that query.. @lauriejim done \ud83d\udc4d . Well... I'm not so sure now that the solve is so simple. Turns out that while the knex code that initialises the connection pool does not change between 0.13.0 (the version we're using) and 0.14.0 (the version for which the bug was raised), the version of generic-pool does change:\n knex 0.13.0 uses generic-pool ^2.4.2\n knex 0.14.0 uses generic-pool ^3.1.7\nTurns out that in 2.4.2 there's no testOnBorrow option :( \nWhile that should have been good news because the validate function is used always, the reality is that it's bad news because it means that this is failing because of another bug in the code of connection pool management.\nFrom a bit more reading they say that knex fixed quite a few connection pool related issues after 0.14.3 (which is when they switched away from generic-pool to tarn).\nSo possibly, the right thing to do is to upgrade knex.. Perhaps... But TBH, this is becoming a blocker for me. Having a dependable connection pooling mechanism is a hygiene factor of any production-ready system.\nYou'd be surprised (well... or perhaps not :) of how big a difference a proper connection pool can do in a high traffic site. So I think I'll give it a go.\nThe good news is that currently in packages/strapi-hook-knex/lib/index.js we're only passing two pool parameters that are the same that tarn expects. So it may be non-breaking from a config perspective.\nThe big question is whether the actual query building api that knex exposes (which is what is used by the generated code changes at all). From reading the breaking changes in the https://github.com/tgriesser/knex/blob/master/CHANGELOG.md it doesn't seem to be the case.. BTW... thanks @derrickmehaffy for the responsiveness \ud83d\udc4d . Hi @derrickmehaffy. I've submitted a PR with the change in question. Would love some help on defining a testing process for this.\nTBH, I tried it in my local and it worked nicely. No breaks... but well, we all know that that is probably not enough.\nI re-read the changelos, and these are all the breaking changes in Knex for the upgrade we're doing here (from 0.13.0 to 0.16.2):\n0.16.1\n\nUse datetime2 for MSSQL datetime + timestamp types. This change is incompatible with MSSQL older than 2008 This is very old, doubt it'd be an issue\nKnex.VERSION() method was removed, run \"require('knex/package').version\" instead Users of the framework rarely would need to use this\nKnex transpilation now targets Node.js 6, meaning it will no longer run on older Node.js versions I think you guys are targetting node >10, so don't think this is an issue\nAdd json type support for SQLite 3.9+ (tested to work with Node package 'sqlite3' 4.0.2+) Not sure why this would be breaking, but it doesn't sound like something that would break the framework\n\n0.15.0\n\nStop executing tests on Node 4 and 5. (not supported anymore) Again, not an issue\njson data type is no longer converted to text within a schema builder migration for MySQL databases (note that JSON data type is only supported for MySQL 5.7.8+) This one might require looking into\nRemoved WebSQL dialect Knex support wasn't good anyway, so doubt it was in much use\nDrop mariadb support You can use mysql instead\nPrimary Key for Migration Lock Table. This shouldn't affect to old loc tables, but if you like to have your locktable to have primary key, delete the old table and it will be recreated when migrations are ran next time. OK\nEnsure knex.destroy() returns a bluebird promise Not sure why this is breaking, but the change just switches a primitive promise with a bluebird one... still a promise though, doesn't change the api fundamentally\nIncrement floats Might be marked as breaking and that's \"right\", but the previous behaviour was wrong... This was a bug\nTesting removal of 'skim', Now rows are not converted to plain js objects, returned row objects might have changed type with oracle, mssql, mysql and sqlite3 skim is not used by the framework\nDrop support for strong-oracle another dialect that was dead/not well supported by knex anyway\nTimeout errors doesn't silently ignore the passed errors anymore Desirable behaviour\nRemoved WebSQL dialect Dead dialect\nVarious fixes to mssql dialect to make it compatible with other dialects , Unique constraint now allow multiple null values, float type is now float instead of decimal, rolling back transaction with undefined rejects with Error, select for update and select for share actually locks selected row, so basically old schema migrations will work a lot different and produce different schema like before. Also now MSSQL is included in CI tests. OK... this one we might be a change, but again I'm not sure it'll affect the behaviour of the framework\n\n0.14.0\n\nRemove sorting of statements from update queries Interesting issue... seems like a bug fix though\nUpdated allowed operator list with some missing operators and make all to lower case well... not really breaking. Strictly speaking the API changes, but the behaviour not\nUse node-mssql 4.0.0 Should be fine\nSupport for enum columns to SQlite3 dialect Enhancement... why breaking?\nBetter identifier quoting in Sqlite3 Enhancement... why breaking?\nMigration Errors - Display filename of of failed migration Enhancement... why breaking?. Ok... having said all that, the questions are:\n1.- What is the testing required? All the tests in the CI passed, does that give you enough confidence?\n2.- Should this be considered a breaking change? (my humble opinion is that given that this is an alpha release I wouldn't bother... but then again.. your call)\n3.- How can I help? If there's a test plan or similar, I can chip in\n. BTW... on your other comment. It would be nice to have the query aggregation support of mongoose in bookshelf as well... But at least, with the help I got in stackoverflow I was able to do the aggregation queries myself so no biggie... I would say that this functionality is desirable, but not required for being prod-ready. Again, my 2 cents :). Hey @lauriejim and @derrickmehaffy \nI was trying to test this... actually I was trying to make the tests work. But I wasn't successful. trying to get the tests to work on my machine was painful, and they're broken for me. (I must point, they're broken with the old version of knex, so it's not something caused by the upgrade).\nI'm afraid I can't invest the time now to help you fix the tests, but please get that fixed.. I guarantee  that I'll help more if the tests provide a safety net . @deeq14  ... I'll add my 2 cents here:\nThe fact that a few letters/digits change is not necessarily bad. I understand that you'd want more randomness, but look at it this way. Given an id you do know, try to guess another one. Give yourself 100 attempts or 1,000 and see if you can find another one. Again, the fact that just a few positions change does not mean that this provides little security.\n\nIn the meantime though, I'd suggest that you can lock it down by using a middleware: https://strapi.io/documentation/3.x.x/advanced/middlewares.html#structure\nYou could create a middleware that if the url patter matches, checks whether the authenticated user if matches the user id that is coming in the payload. If the answer is \"no\". Just throw an error.\nMakes sense?. Hi @Aurelsicoko If instead you changed the lint config you'd have to disable rule no-undef and that's a really useful rule, because it's the one that would prevent typos in variable names to go unnoticed. So I would suggest against that.. @lauriejim ... change done and branch updated. ",
    "AndinAvdiu": "Is this solved? because i'm having this problem also. Should it be \"the right way\" if I modify the users-permission plugin? . Make sure to make getProfile method in the \"Providers\" service accessible. \n. ",
    "mikaelgramont": "I'm really surprised to hear this argument, which IMHO is wrong on many levels:\n\nGraphQL is not \"only a query language\", it supports mutations as well, which are meant to change the state of the server, just what we need.\nThere's nothing special about authentication. Send identifier and password in, get a JWT out. It's the same type of transaction as creating any other business object, only here we're dealing in JWTs. One example of this: https://www.howtographql.com/react-apollo/5-authentication/\nWhy would it be particularly complex to do that? We need mutations in the schema, and resolvers that point to the Users Permissions Auth controller.\nIf nothing else, one benefit you get is having a single way to talk to your backend with no need to fork your code to handle talking GraphQL or REST.. We can argue over semantics regarding queries and mutations, but I think it's fair to say that logging in through GraphQL can be done :)\n\nThe fact that it's not done tells me that either GraphQL is not a priority or just starting out, which worries me a little.\nI'll look into a PR, and may also look into writing my own custom GraphQL server tailored to only what I need.. ",
    "AminZibayi": "Thank you @derrickmehaffy and @soupette.\nnpm installs strapi using command npm install strapi@alpha -g; the problem is using command npm run setup, yarn finishes the process with no error.. Command npm install strapi@alpha -g works.\nI followed this guideline;\ni ran strapi -v and npm ls strapi:\n\nthen i ran command npm run setup several times and tried to solve the problem...\n\n. It is bash not windows! @soupette . Thank you for your intelligent suggestion @derrickmehaffy! and sorry for answering late... i was fighting with an army of errors and problems...!\nYes, it is a Windows drive... should i setup strapi at AppData\\Local\\Packages\\CanonicalGroupLimited.UbuntuonWindows_79rhkp1fndgsc\\LocalState\\rootfs\\?\ncan i instead of using the command npm run setup, just run npm install strapi@alpha -g? what is the exact difference between them?. I have no project now, just want to create a new admin panel following material design concepts for strapi.\nIs it possible by running npm install strapi@alpha -g then strapi new my-project --dev?. Thanks @lauriejim, Yes... the problem still exists and i'm still interested to know the solution!. Sorry for multiple commits... as i was reading i found more problems. ",
    "MatteoGioioso": "Hei @lauriejim \nThanks for the reply, now it works.\nWould be nice to adjust the docs about this topic =). @lauriejim I completely understand your point.\nHowever there is actual documentation about it and I think this part: https://strapi.io/documentation/3.x.x/migration-guide/migration-guide-1-to-3.html#views\nshould be adjusted a little bit.. > Your front end also should not live in the public folder of Strapi and should have it's own virtual host config.\nWhat do you mean? My frontend lives in a separated container.. tried with subdomain and still not working, more or less the same error\n```\nserver {\n    listen 80;\n    server_name example.com;\nlocation / {\n    proxy_pass http://frontend:3000;\n}\n\n}\nserver {\n    listen 80;\n    server_name admin.example.com;\nlocation / {\n    proxy_pass http://api:1337;\n}\n\n}\n``\nEverything loads correctly but when I try to navigate toadmin.example.com/admincannot findmain.jsandvendor.dll. Ok, after 2 days I have solved it \ud83d\ude4f .\nIt was strapi unable to find frontend files because I kept the host aslocalhost`. \napi:\n    build: strapi/\n    environment:\n      - HOST=www.subdomain.yourdomain.com <-- change to your host\n      - NODE_ENV=production\n    volumes:\nand then in your strapi config server.json\n{\n  \"host\": \"www.subdomain.yourdomain.com\", <-- change to your host\n  \"port\": \"${process.env.PORT || 1337}\",\n  \"production\": true,\n  \"proxy\": {\n    \"enabled\": false\n  },\n .... ",
    "fauzandotme": "@MatteoGioioso hi, could you show me example how to render a view?\nI look everywhere, but i coudn't find it.. ",
    "rosdanys": "some solution to this problem globalId. I have the same error, and I can not find any solution. ",
    "Ketcap": "So we don't have any chance to pick them up , maybe in the future ? Because hooks are very useful to do some stuff which you do by hand or multiple post request from the user. ",
    "HelenDias": "Sorry, the error happened when I change a column name, and I forgot this.\nI changed a column name and this one was referenced in another column, as a foreign key.\nSo I looked for that one name in my project and find a file that wasn't changed the name.\nThe file is api/myModel/models/Model.settings.json. When I changed that name, the error doesn't showed up.\nClosing that issue because it's a duplicated from #2335\nI thought it wasn't duplicate, but it's the same error :/. ",
    "albatrocity": "I'm experiencing something similar on alpha 18 attempting to add a policy to a Query but still execute the default Shadow CRUD resolver.\nCopy/paste from the docs\napi/version/config/schema.graphql\njs\nmodule.exports = {\n  resolver: {\n    Query: {\n      versions: {\n        description: 'Return a list of versions',\n        policy: ['global.canAccessVersion']\n      },\n    },\n    Mutation: {\n      createVersion: {\n        description: 'Create a new version',\n        policy: ['global.canAccessVersion'],\n      },\n    },\n  },\n};\nyields Error: Resolver Query.versions must be object or function when starting the server. ",
    "sonovice": "@patrickblackjr Any hints on what went wrong or how you resolved it? . ",
    "anitricks": "@derrickmehaffy yes. for instance i have an Order model and a Customer model. I want to update the customer model inside the order. i could update them individually but its cumbersome and takes two requests. . @derrickmehaffy oh ok. ill create a card in the upcoming board for strapi then. thanks for quick responses.. so what is the use case for those functions then? (createRelation, updateRelation and destroyRelation) . just started having this issue.. . yes it is 3.0.0-alpha.21. i cant disclose the models names however here is somewhat a structure of the two models \njavascript\nModel A {\n  string,\n  json,\n  number,\n  relation1 -> Model B (2000-3000)\n  relation2 -> Model C (1500-2000)\n  string\n  ... //bunch of stuff\n}\nModel B {\n  string,\n  number,\n  json,\n  relation1 -> Model D 1,\n  relation2 -> Model E (10 max),\n  relation3 -> Model F (1),\n}\nmodel b has multiple relations and pulling 3000s and their relations is an overload, tho i think it is a simple case of a blog with a lot comments; comments that contains author relation etc.\nmaybe try more relations 2000-3000??. yeah it is same. the last comment\nhttps://github.com/strapi/strapi/issues/2415#issuecomment-445557424\nit loading all the relationships when loading model B. hi @sylvaingirardbe we were having the same problem. So this is what we did.. https://github.com/strapi/strapi/issues/1957#issuecomment-426587938\ndeleting the plugin_content-manager_schema value from the prod database and then restarting strapi fixed the infinite load on creating a new entry. . @sylvaingirardbe @jonmhutch7 hmm.. that might be server related then as we were using heroku so we shut the dyno, deleted the entire row from database and then just restarted the dyno. it might be because of different DB's as well. (we are using MySQL). @lauriejim  ok so we have a plugin that allows the Users model to send text messages. so every user models needs to have a relation to a Message model. (one-to-many) so we want to add a \"messages\" relation on the User model as soon as the plugin is installed and configured. ",
    "gustavpursche": "@edoardolunardi \nYou can't run strapi on Netlify, because Netlify is a static site hoster. Strapi is a dynamic application, which has different requirements. You could run Strapi on Services like Heroku ...\n. @edoardolunardi I can't suggest anything, because I just stumpled upon your question :) Heroku, DigitalOcean, AWS, Azure or any virtual server - any service, that let's you host a node web application, depending on your level of knowledge. Heroku makes it quite easy to setup everything.. @MatheusRV https://blog.strapi.io/goodbye-2018-hello-2019/\n\nFrom alpha to stable version\nCurrently, Strapi is still in alpha version. Even if it is used by thousands of companies in production, this flag can be alarming for business projects. Releasing a stable version is one of our highest priorities. We plan to release the Beta version in April and the stable one in August.. \n",
    "edoardolunardi": "Thank you for the response. So do you suggest Heroku? Are there any alternatives?. Thank you for the clarification!. ",
    "denisinvader": "No. I didn't want to fix it without a discussion about what naming should we use.\nBy the way, I would also rename \"\u041a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0442\u043e\u0440 \u0422\u0438\u043f\u043e\u0432 \u0414\u0430\u043d\u043d\u044b\u0445\" to \"\u0422\u0438\u043f\u044b \u0434\u0430\u043d\u043d\u044b\u0445\" in the left menu.\n. \"\u0414\u0430\u043d\u043d\u044b\u0435\" (data) in Russian language associates more with raw data like .csv file or SQL tables. \"\u041a\u043e\u043d\u0442\u0435\u043d\u0442\" (content) is an abstraction over data like classes and OOP. In my experience, CMS usually provides such abstractions. \n\"\u0422\u0438\u043f \u0434\u0430\u043d\u043d\u044b\u0445\" (data type) usually uses in fields or variables description (string, number, stack, array etc).\nFor example, article or user is a content type (it's \"\u0442\u0438\u043f \u043a\u043e\u043d\u0442\u0435\u043d\u0442\") and we can say that all articles in the site are \"\u043a\u043e\u043d\u0442\u0435\u043d\u0442\". Articles' title, user login or password are \"\u0434\u0430\u043d\u043d\u044b\u0435\": they are of string type and have some values in a database. \nI think \"\u0434\u0430\u043d\u043d\u044b\u0435\" it's more about importing some values or filling the table by UI, \"\u043a\u043e\u043d\u0442\u0435\u043d\u0442\" it's what the end user is working with.. @Aurelsicoko I will update it in #2589  . I didn't update translations in plugins because I decided to do it later. Should I push these updates in this PR or create a new one? . All right, then I will push more changes later. I think I'm done now. ",
    "EdenLiang": "I have uninstall the nodejs (v10.14.2) and reinstall the old version (v8.15.0) and it's worked now.\n\nFigure: It can create the database\nSo I need to reinstall the nodejs (v10.14.2) after I create the project. . @derrickmehaffy \nYes\nSo, for windows user, we can use node 8 to create the project and use node 10 to use Strapi. @janjag @derrickmehaffy \nThanks for your suggestions, :)\n. ",
    "janjag": "You can also try using npx strapi new <your-project-name> to create new project (works for me on windows + node 11.6.0). ",
    "brillout": "@derrickmehaffy It's not a duplicate; adding eject to Strapi and integrating Strapi with a frontend framework are two separate things.. ",
    "joshmorel": "Ah I see. So basically there is a larger issue around responsiveness. I guess you can close this one then.. ",
    "jimnordb": "Figured it was caused by relation\nProducts:\n{\n  \"connection\": \"default\",\n  \"collectionName\": \"products\",\n    \"deliveries\": {\n      \"collection\": \"deliveries\",\n      \"via\": \"products\"\n    }\n}\nnow gone.\nin my Deliveries i had:\n\"products\": {\n      \"model\": \"products\",\n      \"via\": \"deliveries\"\n    },\nnow \n\"products\": {\n      \"model\": \"products\"\n},. ",
    "jnaroogheh": "@lauriejim  i update to last version strapi (18) , but problem exist ,\nmy problem is why below code return CollectionBase object ? \nlet check = await strapi.services.usermobile.fetchAll({\n          mobile:(params.mobile)\n        });\ni think must be return a array object like this , (not a collection base)\n[ { id: 16,\n    user_id: 22,\n    mobile: '09306219868',\n    sms_code: '32878',\n    sms_date: '2019-01-07T09:19:16.000Z',\n    verified: true,\n    created_at: '2019-01-07T09:19:16.000Z',\n    updated_at: '2019-01-09T16:03:53.000Z',\n    user: null } ]  . in addition if convert Collection to json , decode it again ,  result is ok !\nlet check = await strapi.services.usermobile.fetchAll({\n          mobile:(params.mobile)\n        });  check = JSON.stringify(check);\n        check = JSON.parse(check);\n        console.log(check);\nresult is array object here (not collection base object)\n[ { id: 16,\n    user_id: 22,\n    mobile: '09306219868',\n    sms_code: '32878',\n    sms_date: '2019-01-07T09:19:16.000Z',\n    verified: true,\n    created_at: '2019-01-07T09:19:16.000Z',\n    updated_at: '2019-01-09T16:03:53.000Z',\n    user: null } ]. ",
    "t2": "@lauriejim I agree completely! Where would such a script go? In the Rails world we would have a migration that I would edit to have this business logic take place along side the schema update. Is there documentation showing where I would put a script like this?. @lauriejim Is there a way to run this script automatically on deploy? Is there a hook of some sorts?. ",
    "conghai": "Hi,\nI know we can customize policy of schema.graphql. But the default is when graphql generate has no policy applied.\nWhy do we have to config policies for schema.graphql and also config them in routes.json ?\n=> We should get policies from the routes.json applied to schema.graphql, if the user wants to custom, policies will overwrite with the user configs.\nYou can review my commit to understand.. ",
    "projik": "You can search for users by username and email on the following API path:\n/users-permissions/search/[search-term]\nIt returns an array of users that match.\nWere you looking for something more from the user search?. ",
    "ArthurKnoep": "Hi @suhaboncukcu,\nThank you for your answer, I will try. Hi,\nThanks again for you help, the problem seems fixed. ",
    "BenjaminVanRyseghem": "I tried adding\njs\n  if (!strapi.plugins['users-permissions'].services ||!strapi.plugins['users-permissions'].services.userspermissions) {\n    cb();\n    return;\n  } \nbefore the failing line, but this is not really solving anything.. I lost interest in this project, so I bail out. ",
    "rdbmax": "\nNode.js version: 10.13.0\nNPM version: 6.4.1\nYARN version: 1.10.1\nStrapi version: 3.0.0-alpha.19\nDatabase: mongodb\nOperating system: macOS\n\nMaybe related,\nError when i try to create an app, when strapi install plugins users-permissions and upload:\n```\n\u26a0 An error occurred during users-permissions plugin installation.\n{ Error: Command failed: node /Users/[**]/.config/yarn/global/node_modules/strapi/bin/strapi.js install users-permissions\n- Install users-permissions plugin\n\u2716 An error occurred during plugin installation.\nat ChildProcess.exithandler (child_process.js:289:12)\nat ChildProcess.emit (events.js:182:13)\nat ChildProcess.EventEmitter.emit (domain.js:442:20)\nat maybeClose (internal/child_process.js:962:16)\nat Process.ChildProcess._handle.onexit (internal/child_process.js:251:5)\n\nkilled: false,\n  code: 1,\n  signal: null,\n  cmd:\n   'node /Users/[**]/.config/yarn/global/node_modules/strapi/bin/strapi.js install users-permissions ' }\n```\n```\n\u26a0 An error occurred during upload plugin installation.\n{ Error: Command failed: node /Users/[**]/.config/yarn/global/node_modules/strapi/bin/strapi.js install upload\n- Install upload plugin\n\u2716 An error occurred during plugin installation.\nat ChildProcess.exithandler (child_process.js:289:12)\nat ChildProcess.emit (events.js:182:13)\nat ChildProcess.EventEmitter.emit (domain.js:442:20)\nat maybeClose (internal/child_process.js:962:16)\nat Process.ChildProcess._handle.onexit (internal/child_process.js:251:5)\n\nkilled: false,\n  code: 1,\n  signal: null,\n  cmd:\n   'node /Users/[**]/.config/yarn/global/node_modules/strapi/bin/strapi.js install upload ' }\n```. ",
    "Kayyow": "I had the same issue and switched from yarn global installation to npm -g installation seems to have solved the problem !. ",
    "bencehusi": "I have the same issue when trying to connect to a mLab mongodb instance.\nI have the same issue with local mongodb too.\nMy setup is exactly as described in strapi blog. The database connection seems to work since the initial schemas are created, however user-permission documents seem to be empty - not sure if that's a problem though.\n\n. Thank you @lauriejim getting back on this.\nI've used the strapi CLI and regarding my package JSON the strapi version is:\n\"strapi\": \"3.0.0-alpha.23.1\",\n\"strapi-hook-mongoose\": \"3.0.0-alpha.23.1\"\nThis is all I get:\n```\n(node:17589) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'userspermissions' of undefined\n    at module.exports (/Users/bencehusi/DEV/strapi/plugins/users-permissions/config/functions/bootstrap.js:167:48)\n    at processTicksAndRejections (internal/process/next_tick.js:81:5)\n(node:17589) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)\n(node:17589) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.\n[2019-02-19T17:14:23.089Z] warn Bootstrap is taking unusually long to execute its callback 3500 miliseconds).\n[2019-02-19T17:14:23.090Z] warn Perhaps you forgot to call it?\n```\nAnd mongodb log seems to be fine as every line states \"[listener] connection accepted...\" and \"[conn4] Successfully authenticated as principal...\"\nI've also tried to turn on debugging in database.json but there's nothing to see.\n\nNode.js version: 11.10.0\nNPM version: 6.7.0\nStrapi version: 3.0.0-alpha.23.1 ==> I've also tried 24.1, but no luck\nDatabase: mongodb\nOperating system: macOS. @n3n npm. \n",
    "n3n": "@bencehusi Did you do on yarn or npm?. ",
    "elv1n": "I had the same issue when strapi installed with yarn global. When I installed with npm it starts working. ",
    "angad777": "Node.js version: 10.14.1\nNPM version: 6.4.1\nStrapi version: 3.0.0-alpha.19\nDatabase: mongodb\nOperating system: macOS\nI can't bootstrap and start a fresh strapi install.\n`\u279c  strapisandbox strapi new strapisandbox\n\ud83d\ude80 Start creating your Strapi application.\n? Choose your installation type Quickstart (rec\nommended)\n\u2705\u00a0Connected to the database\n\ud83c\udfd7  Application generation:\n\u2714 Copy dashboard\n\u26a0 An error occurred during settings-manager plugin installation.\n- Install settings-manager plugin\n\u2716 An error occurred during plugin installation.\n\u2714 Install plugin content-type-builder.\n\u2714 Install plugin content-manager.\n\u26a0 An error occurred during users-permissions plugin installation.\n- Install users-permissions plugin\n\u2716 An error occurred during plugin installation.\n\u2714 Install plugin email.\n\u26a0 An error occurred during upload plugin installation.\n- Install upload plugin\n\u2716 An error occurred during plugin installation.\n\u2714 Link strapi dependency to the project.\n\ud83d\udc4c Your new application strapisandbox is ready at /Users/Angad/Desktop/Developer/strapisandbox/strapisandbox.\n\u26a1\ufe0f Change directory:\n$ cd strapisandbox\n\u26a1\ufe0f Start application:\n$ strapi start\n(node:2124) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'userspermissions' of undefined\n    at module.exports (/Users/Angad/Desktop/Developer/strapisandbox/strapisandbox/plugins/users-permissions/config/functions/bootstrap.js:167:48)\n(node:2124) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)\n(node:2124) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.\n[2019-03-13T02:07:15.285Z] warn Bootstrap is taking unusually long to execute its callback 3500 miliseconds).\n[2019-03-13T02:07:15.285Z] warn Perhaps you forgot to call it?`. Thank You :). ",
    "TotomInc": "I installed the latest version of Strapi (3.0.0-alpha.25.2) globally with Yarn (1.15.2) and after creating a quickstart project I have the same issue (Node 10.15.0):\njs\n\u279c node server.js\n(node:7092) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'userspermissions' of undefined\n    at module.exports (/Users/totominc/Desktop/Git/strapi/cms/plugins/users-permissions/config/functions/bootstrap.js:167:48)\n@lauriejim, please re-open issue for Yarn users.. ",
    "mccrodp": "I think this is more of a hard shutdown due to security concerns with the Google+ APIs, so when they say they are shutting it down, might be risky to bank on them offloading requests to another newer API. https://www.theverge.com/2018/12/10/18134541/google-plus-privacy-api-data-leak-developers\nWe've updated our app recently to migrate to a more recent Google API and were considering integrating with Strapi via Google Auth as our first steps to making it our new CMS, but this is a blocker at the moment. \nIf the solution we used using Sign-in API is of benefit it'd be great to share any detail on that here, @nicksp. I cannot remember if we used a custom approach to implementing that, or an available npm solution, but it's working well.\nLooking forward to hearing more on this and if there's anything the open source community can do to help, let us know here also. Cheers. Hey @lauriejim, had you any thoughts on this one / the above? Have you had any users complain of dropped connections yet here, is this a common feature in Strapi? I'm not sure if APIs are failing yet, but looks like a hard shutdown in March, so I'm curious why it's labelled as an enhancement if things might break here very soon for anyone using Strapi via Google Auth. https://developers.google.com/+/api-shutdown . Great, thanks for the update here, @lauriejim, that is completely understandable. I will definitely see if we can fit this into our upcoming roadmap. Will sync up with you here soon if we can proceed with that (I really hope so!). ",
    "fattomhk": "Here is my hot fix, waiting for passport ver.: \n```\ncase 'google': {\n  const config = {\n    \"google\": {\n      \"https://www.googleapis.com\": {\n        \"__domain\": {\n          \"auth\": {\n            \"auth\": {\"bearer\": \"[0]\"}\n          }\n        },\n        \"{endpoint}\": {\n          \"__path\": {\n            \"alias\": \"__default\"\n          }\n        },\n        \"oauth/[version]/{endpoint}\": {\n          \"__path\": {\n            \"alias\": \"oauth\",\n            \"version\": \"v3\"\n          }\n        }\n      }\n    }\n  }\n  var google = new Purest({provider: 'google', config})\n\n  google.query('oauth').get('tokeninfo').qs({id_token: access_token}).request((err, res, body) => {\n    if (err) {\n      callback(err);\n    } else {\n      const { name, email, issued_to } = body;\n      const clientIDs = [IOS_CLIENT, ANDROID_CLIENT, WEB_CLIENT];\n      if(_.findIndex(clientIDs, function(o) { return o === issued_to; }) >= 0) {\n        callback(null, {\n          username: body.email.split(\"@\")[0],\n          email: email,\n          name: name\n        });\n      } else {\n        callback(new Error(\"Invalid client ids\"));\n      }\n    }\n  });\n  break;\n}\n\n```. ",
    "driku": "I have updated the strapi & database version.. ",
    "gethup": "Hi, I did get the same problem. \nDeleting the folder \"/plugins/graphql\" allowed the app to restart. \nMaybe it can help someone.... ",
    "omerfaran": "Hey guys,\nI'm a bit afraid to update my Strapi version as I'm currently working on a project. But I did notice an action that seems to always break the project: when I try to add the Enumaration field (list of choices) in my Content Type plugin.\nOnce I add the field I have to save and restart, and then the project breaks.\nFor now I'm just not using that field.\nThanks in advance. Hey lauriejim I did solve it, my syntax was wrong. I couldn't find that in the graphql plugin documentation, but it seems that to pass a JSON object you need to write:\nconst response = await strapi.request('POST', '/graphql', {\n  data: {\n    query: mutation UpdateExam($input: updateExamInput!) {\n      updateExam(input: $input) {\n        exam { \n          questions \n        }\n      }\n    },\n    variables: {\n      input: {\n        where: {\n          id: examInfo.id\n        },\n        data: {\n          questions: [{ gf: \"hello\" }]\n        }\n      }\n    }\n  }\n});\nWith the help of a fellow on stackoverflow. Hey Lauri thnaks a lot for your help,\nI edited as you asked.\nPlease note that, at least to my knowledge, the query itself is probably not related to the problem.\nAlso, it might be confusing, but I'm sending a JSON object and not uploading a file.\nThanks in advance,\nOmer. Yes of course.\nPayloadTooLargeError: request entity too large\n    at readStream (E:\\projects\\cms12-exam-choices\\server\\node_modules\\raw-body\\index.js:155:17)\n    at executor (E:\\projects\\cms12-exam-choices\\server\\node_modules\\raw-body\\index.js:112:5)\n    at new Promise ()\n    at getRawBody (E:\\projects\\cms12-exam-choices\\server\\node_modules\\raw-body\\index.js:111:10)\n    at E:\\projects\\cms12-exam-choices\\server\\node_modules\\co-body\\lib\\json.js:41:14\n  message: 'request entity too large',\n  expected: 1163352,\n  length: 1163352,\n  limit: 1048576,\n  type: 'entity.too.large' }\n[2019-02-03T16:21:26.564Z] debug POST /graphql (9 ms)\nI didn't think about this obvious direction, but now that I check out the full error, maybe I have to change the settings of the raw-body module?\nThanks. Thanks jacargentina I'll check it out!. Hello jacargentina yes it's working!\nThanks a lot. Hello Laurie how are you?\nYes you're right to be honest I'm a bit hesitant to globally upgrady strapi, since I could theoretically lose my project settings.\nReverting is just using an older folder with all the strapi files (the server folder).\nIf you're sure it's the older version of strapi causing these problems then please close the issue.\nThank you(:. Thanks a lot Laurie\nI'll update to the latest version of Strapi\nBtw - how can I update from version * 3.0.0-alpha.19 ?\nShould I just install the latest version globally?\n. Thanks I found the relavent article and installed the latest version. After merging my project with an older one it's working and I cannot tell what the problem was so it's ok to close it thanks!. btw an alternative with axios could be ok, but when trying:\naxios\n  .put('http://localhost:1337/user/:5c43cd1fa2980a09b46e7761', {\n    username: 'Strapi user',\n    email: 'user@strapi.io',\n  })\nI'm getting an error: 404 not found.\nIs there a way to achieve updating a user with axios as an alternative?\nOf course doing it with the graphql plugin would be better.\nThanks in advance. Oh silly my thanks derrickmehaffy it's working! Plus I had to write 'users' and not 'user'.\nIt was just pure luck.\nIs there a dedicated area to all available axios functions in the Strapi documentation?\nHere I was just guessing...\nAlso regarding the original post, is the error I'm getting when trying to mutate a user in the graphql plugin is indeed a bug that still hasn't been fixed?\nThanks a lot in advance and have a nice weekend everyone. Thanks derrickmehaffy(:\nDo you happen to know how I can associate a user with a collection/model? For example I have a collection named 'institution' and I want to associate it with a user:\naxios\n  .put('http://localhost:1337/users/5c43cd1fa2980a09b46e7761', {\n    username: 'Strapi user',\n    email: 'user@strapi.io',\n    institution: '5c58bb58f4cb151d808388cb'\n  })\nI get an error: 400 bad request.\nI also tried plural institutions.\nI'm guessing that my syntax is wrong, because in the strapi panel I can associate a user to a collection with no problem\nThanks again in advance!\n. Okay I fixed it:\nYou have to wrap it inside of an array and use plural, because the relationship is one to many\ninstitutions: ['5c58bb58f4cb151d808388cb']\nThanks anyway!. Did you try to create/mutate a user with graphql plugin and it wokred fine?. So I guess my upgrade didn't go well\nI'll start a new project\nThanks Laurie and sorry for the hassle. Wow thank you so much Kamalbennani you really helped(\ud83d\udc4d \n. Hey Laurie,\nSince I changed what kamalbennani suggested it's working very well for me too thanks\nWhen you have time, could you please check about the issue I'm having with user mutation and creation in graphql? Thank you very much\nhttps://github.com/strapi/strapi/issues/2788. Hey guys I think I made it.\nI'm very new to this whole thing of ctx but I managed to restrict access of the users to their associated institution models only. \nAgain this is not a post about reporting a bug, so please close and delete it if it's not the correct place for it to be.\nTo achieve what I did I had to modify the model controller:\n```\nfind: async (ctx) => {\n    const user = ctx.state.user;\n    if (!user) {\n      return ctx.badRequest(null, [{ messages: [{ id: 'User is not authenticated' }] }]);\n    }\n      var data;\n      if (ctx.query._q) {\n            data = await strapi.services.institution.search({user:user.id});\n          } else {\n            data = await strapi.services.institution.fetchAll({user:user.id});\n          }\nif(!data){\n  return ctx.notFound();\n}\nctx.send(data);\n\n},\n```. Hello derrickmehaffy,\nI understand that the support for windows 10 is currently limited, it's just that on previous versions of strapi graphql worked fine, so I hoped to install it on the latest version as well.\ni checked at the /plugins folder and it doesn't exist there.\nIs there by any change some settings or configurations to check so that it can be fixed? If it's a more complicated issue that might be related to windows 10, I'll just stick to the older version of strapi.\nThanks in advance and have a good day. Thank you derrickmehaffy. Thanks derrickmehaffy and I'm sorry, I didn't mean to get things out of order.\nI did try to understnad the docs as explained in both the links but couldn't really get it...\nThanks anyways and I'll try slack. ",
    "ngoalongtb": "@aaronweatherall Me too,\nIn /plugins/user-permissions/controllers/User.js\nctx.params._id is undefined\nSolve: Change _id to id. ",
    "alphapseudo": "This should be fixed and released in v3.0.0-alpha.20 from #2669.. Hi @lauriejim, sorry for not getting back to you. Just for future reference, the block at line 120 is performing the same check and assertion as the block and condition at line 138.. ",
    "luc-plamondon": "The incorrect line is the one I pointed out but the replacement should not be err.message, it is a bit more complicated than that. Either the string to return has to be looked up using the message ID, either the email service has to generate its error in a \"non-admin\" context. If it helps: I'm using Sendmail.\nI would have preferred the other way around, all bad requests in Strapi returning an error ID instead of an error message (I probably have the same needs in my app than the Strapi team has for the admin app), but I am not sure of the side effects of setting ctx.request.admin to true (if it's possible) when calling the API outside Strapi's admin. Until I investigate this matter, the error format should at least be predictable.. It is not the same issue. Unlike issue #2471, I am not trying to save a null or empty value, nor requesting a new functionality. I am trying to set the enum with the first value in the list, whatever that value is.\nI understand though that the problem might reside in the same area of code that is under scrutiny in issue #2471.\nIn the experiments I described above, I didn't meddle with \"required\" and \"default\" options. Reading issue #2471 gave me the idea to set the first item as the default value to my enum field. It is a workaround, but it worked.. I agree with @soupette that selecting the first item can be fixed in the first place, independently from the outcome of the rest of the discussion. However, since currently the admin UI presents the first option when you create a new object, then saving the object without touching the field should save the first option nonetheless, not the default value of the field. Otherwise, what you see when you save the object is not consistent with what is saved, and that's where confusion begins.\nThat is not the ideal behaviour but that is step number 1: it would remove the error message I encountered while doing a \"legitimate\" action and it would keep the UI coherent to the user, and you could close the issue.\nIf you want to work on step number 2, I would strongly suggest to automatically present an empty option when displaying the enum field. This option can be named \"Select...\" or be left empty, it doesn't matter as long as the underlying behaviour is to clear the field the same way entering nothing in a text field clears it in the database.\nWith that, people who need enum fields to allow empty values are happy, and people who require enum fields to always have a value are happy too because they can achieve their goal by ticking the Required attribute just like for any other field. I don't see any technical justifications to force enum fields to have a value and therefore prevent many users from using Strapi, though the feasability should be checked by the experts who wrote the different database hooks (can enum fields be nulled in any database management system? If not, is it acceptable to use a text field?).\nAs for when default values are set for the field, there should be no difference than with any other type of field: if a default value is set, then it is used to pre-fill (pre-select) the field when creating a new object (that is already the case). If no default value is set, then it makes sense that the empty option is pre-selected. And, if a default value is set but the user selects the empty option nonetheless, it has to work like any other field: the field is saved with the default value.. It is indeed the same issue, sorry for the duplicate. My conclusion sums up issue #2811: it is a date display bug, not a database one (note that I am using a different database than issue #2811). \nIn my project, outside the admin, I had to display the date in the current timezone (same thing as the admin should do) and I found moment.format([your format here]) from Moment.js library to do the trick easily. If someone can help me pinpoint the file where the date is displayed in the Strapi admin, I might be able to help. . ",
    "alexesDev": "@derrickmehaffy strapi crashes before I enter all the params.\n\nAlso that error you have with /tmp looks like a node problem\n\nstrapi/node_modules/strapi-generate-new/lib/before.js:250\nconst lock = require(path.join(`${scope.tmpPath}`, '/node_modules/', `${scope.client.module}/package.json`));\nstrapi/node_modules/strapi-generate-new/lib/before.js:49\nscope.tmpPath = path.resolve(os.tmpdir(), `strapi${ crypto.randomBytes(6).toString('hex') }`);. @derrickmehaffy you're right, its my problem.\n$ npm install --prefix /tmp/strapia272dd19b240 strapi-hook-bookshelf@3.0.0-alpha.20 pg strapi-hook-knex@3.0.0-alpha.20\nnpm WARN registry Unexpected warning for https://registry.npmjs.org/: Miscellaneous Warning ENODATA: Cache input stream was empty\nnpm WARN registry Using stale data from https://registry.npmjs.org/ due to a request error during revalidation.\nnpm ERR! code EINTEGRITY\nnpm ERR! errno EINTEGRITY\nnpm ERR! Invalid response body while trying to fetch https://registry.npmjs.org/end-of-stream: Integrity verification failed for sha512-5X5ZiS5qefp0EZdLw+1k/CLSvoaCGUJogWrjVoCaYEhgi1FRiLuoceYbPzwhX8JfU5CVkG4tgGUiTrjawDmLcA== (/home/alexes/.npm/_cacache/content-v2/sha512/e5/7e/59892e6a79fa7411974bc3ed64fc22d2be8682194268816ae356809a6048608b515188bba871e61b3f3c215fc25f539095906e2d8065224eb8dac0398b70)\nBut\njs\n// strapi-generate-new/lib/before.js\n// npm install --prefix ...\nexec(cmd, () => {\n  // ... no error checking. ",
    "crashlab": "I did with the version alpha.21 and everything was fine.. Hello @lauriejim,\nI'll do as soon as possible. Today I was inspecting the code and I noticed another related issue.\nIf the email confirmation setting is on, I can still bypass it just sending 'confirmed: true' in the payload.\nThe following condition is the cause:\njavascript\nif (!settings.email_confirmation) {\n   params.confirmed = true;\n}\nI just changed the above into:\njavascript\nparams.confirmed = !settings.email_confirmation;\nI'll doublecheck other few things and I'll send a pull request really soon.. ",
    "alexKwonIsAwesome": "After I update to the newest version(3.0.0-alpha.21), it works like a charm. I thought I was using the latest version. \nThanks a lot @Aurelsicoko !. Thanks for the work\ud83c\udf89 I'm waiting for the bugfix . ",
    "NeOMakinG": "Found the issue, it's related to  #2556\nThe problem is the graphql plugin in services folder Resolver.js at the add timestamps attribute the conditions has not been updated since the custom timestamps columns feature has been added.\nDoing the PR in some hours\nThanks to @derrickmehaffy for the help finding the PR.. Could you please check my comment on your first one ? So I can update the PR.\nThanks. Let me know if that's ok, I was wondering what's the best way to assign vars in keys, hopefully that's right.\nDo we need to check the length of the array ?\n. options.timestamps will not be a boolean anymore ? It seems like my models got bool by default, that's why I was checking if this options was true or an array. We don't want createdAt and updateAt by default in GraphQL schemas anymore? . with of course createdAt and create_at fallbacks because of default values of options.timestamps with mongo or mariadb ?. ",
    "jonmhutch7": "Hey @lauriejim \nThis is pretty soon after your commit, but I updated strapi instance and also the strapi-hook-mongoose library and still am not seeing images on old or newly created relations. Will this require an entirely new database?  . @lauriejim Unfortunately this didn't solve any existing issues with relations and images. Will this only apply to newly created contentTypes? . @anitricks Same issue, tried deleting that schema value and ran into exactly what @sylvaingirardbe ran into. It comes down to the server not being able to be restarted on a deployed environment to regenerate that schema value. If you can manage to run the project locally with your staging/prod database you can regenerate it that way. But, like you said, its quite a hassle. . @anitricks Yea we're running mongo in kubernetes and restarting didn't have any effect. . ",
    "josepuma": "It didn't solve my issue. I still can't get images on relations. ",
    "zzmingo": "+1, it didn't solve. strapi version is 3.0.0-alpha.25. ",
    "nyzm": "Hi @lauriejim ,\nWell if I use npm run setup:build it will download the core plugins from internet and it works as expected. But I am trying to make additions on the core plugins so this won't work.\nAnd if I try to npm start in admin folder I receive below error:\n```\nnpm start\n\nstrapi-admin@3.0.0-alpha.21 prestart /Users/nyzm/Projects/test/admin\nnode ./node_modules/strapi-helper-plugin/node_modules/.bin/cross-env NODE_ENV=development PORT=4000 IS_ADMIN=true node ./node_modules/strapi-helper-plugin/lib/internals/scripts/loadAdminConfigurations.js\n\ninternal/modules/cjs/loader.js:583\n    throw err;\n    ^\nError: Cannot find module '/Users/nyzm/Projects/test/admin/node_modules/strapi-helper-plugin/node_modules/.bin/cross-env'\n    at Function.Module._resolveFilename (internal/modules/cjs/loader.js:581:15)\n    at Function.Module._load (internal/modules/cjs/loader.js:507:25)\n    at Function.Module.runMain (internal/modules/cjs/loader.js:742:12)\n    at startup (internal/bootstrap/node.js:283:19)\n    at bootstrapNodeJSCore (internal/bootstrap/node.js:743:3)\nnpm ERR! code ELIFECYCLE\nnpm ERR! errno 1\nnpm ERR! strapi-admin@3.0.0-alpha.21 prestart: node ./node_modules/strapi-helper-plugin/node_modules/.bin/cross-env NODE_ENV=development PORT=4000 IS_ADMIN=true node ./node_modules/strapi-helper-plugin/lib/internals/scripts/loadAdminConfigurations.js\nnpm ERR! Exit status 1\nnpm ERR! \nnpm ERR! Failed at the strapi-admin@3.0.0-alpha.21 prestart script.\nnpm ERR! This is probably not a problem with npm. There is likely additional logging output above.\nnpm ERR! A complete log of this run can be found in:\nnpm ERR!     /Users/nyzm/.npm/_logs/2019-01-27T05_32_14_883Z-debug.log\n```. @lauriejim  I found out that above issue is about linking issue about strapi-helper-plugin according to issue #511 . \nAfter I linked the strapi-helper-plugin now I receive below error:\n```\n/test/admin \ue0b0 npm start\n\nstrapi-admin@3.0.0-alpha.21 prestart /Users/nyzm/Projects/test/admin\nnode ./node_modules/strapi-helper-plugin/node_modules/.bin/cross-env NODE_ENV=development PORT=4000 IS_ADMIN=true node ./node_modules/strapi-helper-plugin/lib/internals/scripts/loadAdminConfigurations.js\nstrapi-admin@3.0.0-alpha.21 start /Users/nyzm/Projects/test/admin\nnode ./node_modules/strapi-helper-plugin/node_modules/.bin/cross-env NODE_ENV=development PORT=4000 IS_ADMIN=true node ./node_modules/strapi-helper-plugin/lib/server\n\n/Users/nyzm/Projects/strapi/packages/strapi-helper-plugin/lib/internals/webpack/webpack.base.babel.js:71\n    throw new Error(Impossible to access to ${serverConfig});\n    ^\nError: Impossible to access to /Users/nyzm/Projects/test/config/environments/development/server.json\n    at Object. (/Users/nyzm/Projects/strapi/packages/strapi-helper-plugin/lib/internals/webpack/webpack.base.babel.js:71:11)\n    at Module._compile (internal/modules/cjs/loader.js:689:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:700:10)\n    at Module.load (internal/modules/cjs/loader.js:599:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:538:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:530:3)\n    at Module.require (internal/modules/cjs/loader.js:637:17)\n    at require (internal/modules/cjs/helpers.js:22:18)\n    at Object. (/Users/nyzm/Projects/strapi/packages/strapi-helper-plugin/lib/internals/webpack/webpack.dev.babel.js:79:18)\n    at Module._compile (internal/modules/cjs/loader.js:689:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:700:10)\n    at Module.load (internal/modules/cjs/loader.js:599:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:538:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:530:3)\n    at Module.require (internal/modules/cjs/loader.js:637:17)\n    at require (internal/modules/cjs/helpers.js:22:18)\nnpm ERR! code ELIFECYCLE\nnpm ERR! errno 1\nnpm ERR! strapi-admin@3.0.0-alpha.21 start: node ./node_modules/strapi-helper-plugin/node_modules/.bin/cross-env NODE_ENV=development PORT=4000 IS_ADMIN=true node ./node_modules/strapi-helper-plugin/lib/server\nnpm ERR! Exit status 1\nnpm ERR! \nnpm ERR! Failed at the strapi-admin@3.0.0-alpha.21 start script.\nnpm ERR! This is probably not a problem with npm. There is likely additional logging output above.\nnpm ERR! A complete log of this run can be found in:\nnpm ERR!     /Users/nyzm/.npm/_logs/2019-01-27T14_24_50_338Z-debug.log\n```\nWhich I found out is another linking issue. \n{ Error: Cannot find module '/Users/nyzm/Projects/test/admin/node_modules/strapi-utils'\n    at Function.Module._resolveFilename (internal/modules/cjs/loader.js:581:15)\n    at Function.Module._load (internal/modules/cjs/loader.js:507:25)\n    at Module.require (internal/modules/cjs/loader.js:637:17)\n    at require (internal/modules/cjs/helpers.js:22:18)\n    at Object.<anonymous> (/Users/nyzm/Projects/strapi/packages/strapi-helper-plugin/lib/internals/webpack/webpack.base.babel.js:47:39)\n    at Module._compile (internal/modules/cjs/loader.js:689:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:700:10)\n    at Module.load (internal/modules/cjs/loader.js:599:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:538:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:530:3)\n    at Module.require (internal/modules/cjs/loader.js:637:17)\n    at require (internal/modules/cjs/helpers.js:22:18)\n    at Object.<anonymous> (/Users/nyzm/Projects/strapi/packages/strapi-helper-plugin/lib/internals/webpack/webpack.dev.babel.js:79:18)\n    at Module._compile (internal/modules/cjs/loader.js:689:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:700:10)\n    at Module.load (internal/modules/cjs/loader.js:599:32) code: 'MODULE_NOT_FOUND' }\nAfter linking strapi-utils as well admin has been started.\n```\nStrapi plugin succesfully started in development mode. \u2713\n\nAccess URL: http://localhost:4000/admin\nPress CTRL-C to stop\n```\nBut when I try to access the page I receive below errors:\n```\nERROR in Entry module not found: Error: Can't resolve '/Users/nyzm/Projects/test/plugins/content-manager/node_modules/strapi-helper-plugin/lib/src/app.js' in '/Users/nyzm/Projects/test/admin'\nERROR in Entry module not found: Error: Can't resolve '/Users/nyzm/Projects/test/plugins/content-type-builder/node_modules/strapi-helper-plugin/lib/src/app.js' in '/Users/nyzm/Projects/test/admin'\nERROR in Entry module not found: Error: Can't resolve '/Users/nyzm/Projects/test/plugins/email/node_modules/strapi-helper-plugin/lib/src/app.js' in '/Users/nyzm/Projects/test/admin'\nERROR in Entry module not found: Error: Can't resolve '/Users/nyzm/Projects/test/plugins/settings-manager/node_modules/strapi-helper-plugin/lib/src/app.js' in '/Users/nyzm/Projects/test/admin'\nERROR in Entry module not found: Error: Can't resolve '/Users/nyzm/Projects/test/plugins/upload/node_modules/strapi-helper-plugin/lib/src/app.js' in '/Users/nyzm/Projects/test/admin'\nERROR in Entry module not found: Error: Can't resolve '/Users/nyzm/Projects/test/plugins/users-permissions/node_modules/strapi-helper-plugin/lib/src/app.js' in '/Users/nyzm/Projects/test/admin'\n```\nI am clueless . More info on that : \nIn each plugin folder strapi-helper-plugin is not in dependencies in package.json but in devDependencies. I haven't started the new project with --dev option. I regenerated the project. Now it works fine. . As I see in code that all the providers are ending with jwt token at the end. \nI am not sure if we should generate a refresh token for 3rd party providers or not(Code in the commit does generate a refresh token for 3rd party providers as well). Cause user can just disconnect the app from 3rd party provider' website/app. But our mobile app will continue to get new jwt tokens with the refresh token that we generated. might need more checks on that part. . > If I login for the second time from the same agent, previous refreshToken still active.\n\nI think it have to be deleted nop ?\n\nHi Jim, There is a revoke api for refresh tokens. Clients should manage the refresh tokens. Since same OS same device will return the same agent we cannot really know which device the second login came from. Also refresh token should be revoked at logout. Which also requires client to send a revoke request. \n. Travis shows build fail for node 10.15 , it can be built successfully on my local with the same version of node and npm. . > Side note @nyzm if I might make a suggestion there should be an option to revoke all tokens for a user. It might be good to add a button in the adminUI. Just a thought \ud83d\ude04\nmight be useful maybe. but sounds like nice to have :) . done in the new commit. done in the new commit. done in the new commit. I thought keeping their logic separate is much better if there will be any changes in any of them. . ",
    "hessamhoseinkhani": "@nyzm can u gimme more clue how u solved it ?\n. @derrickmehaffy 3.0.0-alpha.21. @lauriejim i've corrected it \nit was 3.0.0-alpha.21. @lauriejim i've checked it  ,  there are different plugin files like content-manager ,  ...  but when u clicking on em it says no such a directory or file :|  so i guess technically they don't exist .. ",
    "b3rday": "try to use == > https://github.com/strapi/strapi-heroku-app , its work for me :). ",
    "gungorkocak": "@b3rday I have already made lots of changes on existing codebase, link seems to me for bootstrapping a strapi project.\nIn any case, I exhausted heroku buildpack options for me, tried docker container approach and it works like charm.\nClosing this.. ",
    "MatteoViera": "Getting the same problem on Ubuntu 18.10, both on MongoDB and MySQL. Normal projects works fine, but the --dev version nope. @lauriejim I checked, and the content-manager exist. Also i got no error when i created my app. I dont know for the creater of the issue. someone managed to resolve the problem?. @lauriejim I've tried to create a new project (following the steps on the quick start) and still got the same problem. I checked all the files in the plugins folder and they all seems to do not exist (even if you can see the file)\nI took a couple of screenshots so you can see\n\n\n. ",
    "ojengwa": "The plugins are for bookshelf itself.. @Aurelsicoko docs aren't fun man! Will take a look later.... Yes, I am aware... I left a comment on https://github.com/ojengwa/strapi/blob/41ba042fb19d2787bf9944a1f19727462e138fc7/packages/strapi-hook-bookshelf/lib/index.js#L72 to explain.... ",
    "iamrenzx": "Update i already solved it!\nThere is an email template in roles and permissions. You need to update the shipper email and response email here.. ",
    "thommedia": "Issue still exists after installation of /api and /blog. ",
    "EpicUsaMan": "Hi, @lauriejim \nI create new provider like this:\n```\nmodule.exports = {\n  provider: 'gmail',\n  name: 'Gmail',\n  auth: {\n    gmail_default_from: {\n      label: 'Gmail Default From',\n      type: 'text'\n    },\n    gmail_default_replyto: {\n      label: 'Gmail Default Reply-To',\n      type: 'text'\n    },\n    gmail_login: {\n        label: 'Gmail login',\n        type: 'text'\n    },\n    with_mjml: {\n        label: 'Enable mjml for gmail provider',\n        type: 'checkbox'\n    },\n    gmail_password: {\n        label: 'Gmail password',\n        type: 'text'\n    }\n  },\n  init(config) {\n    return {\n        send(options, cb) {\n    }\n}\n\n}\n}\n```\nBut when I try to submit this form I receive next error:\n\n(Also form have strange/broken layout)\nWithout checkbox field everything works as expected.. GET http://localhost:1337/auth/email-confirmation\n(without any token)\n\n. Hi, @lauriejim, sorry, wrong patch name. (patch-2)\nCheck this pull request: https://github.com/strapi/strapi/pull/2756 (patch-1)\nSorry again;). Hi, @lauriejim.\nSTR:\n1. Set email confirmation in admin panel\n2. Try to register new user via local provider (You can start strapi with debugger. Set breakpoint on line 317 in strapi-plugin-users-permissions/controllers/Auth.js\nAnd check \"user\" variable in local variables. \"user\" (response from const user = await strapi.query('user', 'users-permissions').create(params);) variable doesn't have email field, but have this field in attributes)\n3. Observe response\n{\"statusCode\":400,\"error\":\"Bad Request\",\"message\":[{\"messages\":[{\"id\":\"Auth.form.error.email.invalid\"}]}]}. @lauriejim , hi.\nI fix it.. @puneetverma05 one time I have same result, but reinstall helps me.\nBut currently my project with code in api/modules/etc. doenst work. It's more bigger upsetting me). @puneetverma05 Sometimes\n@lauriejim How to check permissions of routes? Anyway, routes works 2-3 days of development, but broke after some time.. @lauriejim \nCurrently init / autoReload also have 403 status ;(. @lauriejim \nSame table data on my project and on new project (this case same with @puneetverma05 case) when I receive next error (on first init only):\n(node:24311) UnhandledPromiseRejectionWarning: TimeoutError: Knex: Timeout acquiring a connection. The pool is probably full. Are you missinga .transacting(trx) call?\n    at _bluebird.default.try.tap.catch (src/backend/node_modules/knex/lib/client.js:336:13)\nFrom previous event:\n    at Client_MySQL.acquireConnection (src/backend/node_modules/knex/lib/client.js:335:13)\n    at Runner.ensureConnection (src/backend/node_modules/knex/lib/runner.js:224:24)\n    at Runner.run (src/backend/node_modules/knex/lib/runner.js:33:41)\n    at Builder.Target.then (src/backend/node_modules/knex/lib/interface.js:23:43)\n    at Child.<anonymous> (src/backend/node_modules/bookshelf/lib/model.js:1118:36)\nFrom previous event:\n    at Child.<anonymous> (src/backend/node_modules/bookshelf/lib/model.js:1117:125)\n    at runCallback (timers.js:705:18)\n    at tryOnImmediate (timers.js:676:5)\n    at processImmediate (timers.js:658:5)\n    at process.topLevelDomainCallback (domain.js:120:23)\nFrom previous event:\n    at Child.<anonymous> (src/backend/node_modules/bookshelf/lib/model.js:1000:8)\nFrom previous event:\n    at Function.addPermission (src/backend/plugins/users-permissions/config/queries/bookshelf.js:152:8)\n    at Promise.all.toAdd.map.map.action (src/backend/plugins/users-permissions/services/UsersPermissions.js:293:18)\n    at Array.map (<anonymous>)\n    at Promise.all.roles.map.role (src/backend/plugins/users-permissions/services/UsersPermissions.js:292:16)\n    at Array.map (<anonymous>)\n    at Object.updatePermissions (src/backend/plugins/users-permissions/services/UsersPermissions.js:288:15)\n(node:24311) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 5)\n(node:24311) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.\nFor both cases I receive 403 error for all requests.\nTable data:\n+-----+----------------------+--------------------+------------------------+---------+--------+------+\n| id  | type                 | controller         | action                 | enabled | policy | role |\n+-----+----------------------+--------------------+------------------------+---------+--------+------+\n|   1 | application          | token              | upgrade                |       1 |        |    1 |\n|   2 | application          | token              | refresh                |       1 |        |    1 |\n|   3 | application          | token              | confirm                |       1 |        |    1 |\n|   4 | content-manager      | contentmanager     | models                 |       1 |        |    1 |\n|   5 | content-manager      | contentmanager     | find                   |       1 |        |    1 |\n|   6 | content-manager      | contentmanager     | count                  |       1 |        |    1 |\n|   7 | content-manager      | contentmanager     | findone                |       1 |        |    1 |\n|   8 | content-manager      | contentmanager     | create                 |       1 |        |    1 |\n|   9 | content-manager      | contentmanager     | update                 |       1 |        |    1 |\n|  10 | content-manager      | contentmanager     | updatesettings         |       1 |        |    1 |\n|  11 | content-manager      | contentmanager     | delete                 |       1 |        |    1 |\n|  12 | content-manager      | contentmanager     | deleteall              |       1 |        |    1 |\n|  13 | content-type-builder | contenttypebuilder | getmodels              |       1 |        |    1 |\n|  14 | content-type-builder | contenttypebuilder | getmodel               |       1 |        |    1 |\n|  15 | content-type-builder | contenttypebuilder | getconnections         |       1 |        |    1 |\n|  16 | content-type-builder | contenttypebuilder | createmodel            |       1 |        |    1 |\n|  17 | content-type-builder | contenttypebuilder | updatemodel            |       1 |        |    1 |\n|  18 | content-type-builder | contenttypebuilder | deletemodel            |       1 |        |    1 |\n|  19 | content-type-builder | contenttypebuilder | autoreload             |       1 |        |    1 |\n|  20 | content-type-builder | contenttypebuilder | checktableexists       |       1 |        |    1 |\n|  21 | documentation        | documentation      | getinfos               |       1 |        |    1 |\n|  22 | documentation        | documentation      | index                  |       1 |        |    1 |\n|  23 | documentation        | documentation      | loginview              |       1 |        |    1 |\n|  24 | documentation        | documentation      | login                  |       1 |        |    1 |\n|  25 | documentation        | documentation      | regeneratedoc          |       1 |        |    1 |\n|  26 | documentation        | documentation      | deletedoc              |       1 |        |    1 |\n|  27 | documentation        | documentation      | updatesettings         |       1 |        |    1 |\n|  28 | email                | email              | send                   |       1 |        |    1 |\n|  29 | email                | email              | getenvironments        |       1 |        |    1 |\n|  30 | email                | email              | getsettings            |       1 |        |    1 |\n|  31 | email                | email              | updatesettings         |       1 |        |    1 |\n|  32 | settings-manager     | settingsmanager    | menu                   |       1 |        |    1 |\n|  33 | settings-manager     | settingsmanager    | environments           |       1 |        |    1 |\n|  34 | settings-manager     | settingsmanager    | languages              |       1 |        |    1 |\n|  35 | settings-manager     | settingsmanager    | databases              |       1 |        |    1 |\n|  36 | settings-manager     | settingsmanager    | database               |       1 |        |    1 |\n|  37 | settings-manager     | settingsmanager    | databasemodel          |       1 |        |    1 |\n|  38 | settings-manager     | settingsmanager    | get                    |       1 |        |    1 |\n|  39 | settings-manager     | settingsmanager    | update                 |       1 |        |    1 |\n|  40 | settings-manager     | settingsmanager    | createlanguage         |       1 |        |    1 |\n|  41 | settings-manager     | settingsmanager    | deletelanguage         |       1 |        |    1 |\n|  42 | settings-manager     | settingsmanager    | createdatabase         |       1 |        |    1 |\n|  43 | settings-manager     | settingsmanager    | updatedatabase         |       1 |        |    1 |\n|  44 | settings-manager     | settingsmanager    | deletedatabase         |       1 |        |    1 |\n|  45 | settings-manager     | settingsmanager    | autoreload             |       1 |        |    1 |\n|  46 | upload               | upload             | upload                 |       1 |        |    1 |\n|  47 | upload               | upload             | getenvironments        |       1 |        |    1 |\n|  48 | upload               | upload             | getsettings            |       1 |        |    1 |\n|  49 | upload               | upload             | updatesettings         |       1 |        |    1 |\n|  50 | upload               | upload             | find                   |       1 |        |    1 |\n|  51 | upload               | upload             | findone                |       1 |        |    1 |\n|  52 | upload               | upload             | count                  |       1 |        |    1 |\n|  53 | upload               | upload             | destroy                |       1 |        |    1 |\n|  54 | upload               | upload             | search                 |       1 |        |    1 |\n|  55 | users-permissions    | auth               | callback               |       1 |        |    1 |\n|  56 | users-permissions    | auth               | changepassword         |       1 |        |    1 |\n|  57 | users-permissions    | auth               | connect                |       1 |        |    1 |\n|  58 | users-permissions    | auth               | forgotpassword         |       1 |        |    1 |\n|  59 | users-permissions    | auth               | register               |       1 |        |    1 |\n|  60 | users-permissions    | auth               | emailconfirmation      |       1 |        |    1 |\n|  61 | users-permissions    | user               | find                   |       1 |        |    1 |\n|  62 | users-permissions    | user               | me                     |       1 |        |    1 |\n|  63 | users-permissions    | user               | findone                |       1 |        |    1 |\n|  64 | users-permissions    | user               | create                 |       1 |        |    1 |\n|  65 | users-permissions    | user               | update                 |       1 |        |    1 |\n|  66 | users-permissions    | user               | destroy                |       1 |        |    1 |\n|  67 | users-permissions    | user               | destroyall             |       1 |        |    1 |\n|  68 | users-permissions    | userspermissions   | createrole             |       1 |        |    1 |\n|  69 | users-permissions    | userspermissions   | deleteprovider         |       1 |        |    1 |\n|  70 | users-permissions    | userspermissions   | deleterole             |       1 |        |    1 |\n|  71 | users-permissions    | userspermissions   | getpermissions         |       1 |        |    1 |\n|  72 | users-permissions    | userspermissions   | getpolicies            |       1 |        |    1 |\n|  73 | users-permissions    | userspermissions   | getrole                |       1 |        |    1 |\n|  74 | users-permissions    | userspermissions   | getroles               |       1 |        |    1 |\n|  75 | users-permissions    | userspermissions   | getroutes              |       1 |        |    1 |\n|  76 | users-permissions    | userspermissions   | index                  |       1 |        |    1 |\n|  77 | users-permissions    | userspermissions   | init                   |       1 |        |    1 |\n|  78 | users-permissions    | userspermissions   | searchusers            |       1 |        |    1 |\n|  79 | users-permissions    | userspermissions   | updaterole             |       1 |        |    1 |\n|  80 | users-permissions    | userspermissions   | getemailtemplate       |       1 |        |    1 |\n|  81 | users-permissions    | userspermissions   | updateemailtemplate    |       1 |        |    1 |\n|  82 | users-permissions    | userspermissions   | getadvancedsettings    |       1 |        |    1 |\n|  83 | users-permissions    | userspermissions   | updateadvancedsettings |       1 |        |    1 |\n|  84 | users-permissions    | userspermissions   | getproviders           |       1 |        |    1 |\n|  85 | users-permissions    | userspermissions   | updateproviders        |       1 |        |    1 |\n|  86 | application          | token              | upgrade                |       0 |        |    2 |\n|  87 | application          | token              | refresh                |       0 |        |    2 |\n|  88 | application          | token              | confirm                |       0 |        |    2 |\n|  89 | content-manager      | contentmanager     | models                 |       0 |        |    2 |\n|  90 | content-manager      | contentmanager     | find                   |       0 |        |    2 |\n|  91 | content-manager      | contentmanager     | count                  |       0 |        |    2 |\n|  92 | content-manager      | contentmanager     | findone                |       0 |        |    2 |\n|  93 | content-manager      | contentmanager     | create                 |       0 |        |    2 |\n|  94 | content-manager      | contentmanager     | update                 |       0 |        |    2 |\n|  95 | content-manager      | contentmanager     | updatesettings         |       0 |        |    2 |\n|  96 | content-manager      | contentmanager     | delete                 |       0 |        |    2 |\n|  97 | content-manager      | contentmanager     | deleteall              |       0 |        |    2 |\n|  98 | content-type-builder | contenttypebuilder | getmodels              |       0 |        |    2 |\n|  99 | content-type-builder | contenttypebuilder | getmodel               |       0 |        |    2 |\n| 100 | content-type-builder | contenttypebuilder | getconnections         |       0 |        |    2 |\n| 101 | content-type-builder | contenttypebuilder | createmodel            |       0 |        |    2 |\n| 102 | content-type-builder | contenttypebuilder | updatemodel            |       0 |        |    2 |\n| 103 | content-type-builder | contenttypebuilder | deletemodel            |       0 |        |    2 |\n| 104 | content-type-builder | contenttypebuilder | autoreload             |       1 |        |    2 |\n| 105 | content-type-builder | contenttypebuilder | checktableexists       |       0 |        |    2 |\n| 106 | documentation        | documentation      | getinfos               |       0 |        |    2 |\n| 107 | documentation        | documentation      | index                  |       0 |        |    2 |\n| 108 | documentation        | documentation      | loginview              |       0 |        |    2 |\n| 109 | documentation        | documentation      | login                  |       0 |        |    2 |\n| 110 | documentation        | documentation      | regeneratedoc          |       0 |        |    2 |\n| 111 | documentation        | documentation      | deletedoc              |       0 |        |    2 |\n| 112 | documentation        | documentation      | updatesettings         |       0 |        |    2 |\n| 113 | email                | email              | send                   |       0 |        |    2 |\n| 114 | email                | email              | getenvironments        |       0 |        |    2 |\n| 115 | email                | email              | getsettings            |       0 |        |    2 |\n| 116 | email                | email              | updatesettings         |       0 |        |    2 |\n| 117 | settings-manager     | settingsmanager    | menu                   |       0 |        |    2 |\n| 118 | settings-manager     | settingsmanager    | environments           |       0 |        |    2 |\n| 119 | settings-manager     | settingsmanager    | languages              |       0 |        |    2 |\n| 120 | settings-manager     | settingsmanager    | databases              |       0 |        |    2 |\n| 121 | settings-manager     | settingsmanager    | database               |       0 |        |    2 |\n| 122 | settings-manager     | settingsmanager    | databasemodel          |       0 |        |    2 |\n| 123 | settings-manager     | settingsmanager    | get                    |       0 |        |    2 |\n| 124 | content-type-builder | contenttypebuilder | autoreload             |       1 |        |    3 |\n| 125 | content-type-builder | contenttypebuilder | checktableexists       |       0 |        |    3 |\n| 126 | documentation        | documentation      | getinfos               |       0 |        |    3 |\n| 127 | documentation        | documentation      | index                  |       0 |        |    3 |\n| 128 | documentation        | documentation      | loginview              |       0 |        |    3 |\n| 129 | documentation        | documentation      | login                  |       0 |        |    3 |\n| 130 | documentation        | documentation      | regeneratedoc          |       0 |        |    3 |\n| 131 | documentation        | documentation      | deletedoc              |       0 |        |    3 |\n| 132 | documentation        | documentation      | updatesettings         |       0 |        |    3 |. @lauriejim This behavior reproduced only with MySQL, maybe this helps you\nSQLite works fine :D . @puneetverma05 8.0.15\n@derrickmehaffy Thanks, but I think Strapi should handle wrong / failed DB insert (by one transaction, as example), because currently after one failed init (or reinit (when database flushed)) anyone can't use admin panel or any api.\nNo warning or error throwed on next runs of \"strapi start\", only deep investigation can help in this case.\n@lauriejim Maybe create some page in documentation with caveats? Because as I understand this issue  can't be fixed for all users with low count of efforts.. Also met this problem.. Hi, @lauriejim .\nhttps://github.com/strapi/strapi/blob/master/packages/strapi-plugin-users-permissions/config/policies/permissions.js\nCheck line 35:\nif (_.get(await store.get({key: 'advanced'}), 'email_confirmation') && ctx.state.user.confirmed !== true) {\n      return handleErrors(ctx, 'Your account email is not confirmed.', 'unauthorized');\n}\nctx.state.user.confirmed !== true\nWith SQLite this condition equals to\n1 !== true\nAlso, check https://github.com/strapi/strapi/blob/master/packages/strapi-plugin-users-permissions/controllers/Auth.js on line 60\nif (_.get(await store.get({key: 'advanced'}), 'email_confirmation') && user.confirmed !== true) {\n        return ctx.badRequest(null, ctx.request.admin ? [{ messages: [{ id: 'Auth.form.error.confirmed' }] }] : 'Your account email is not confirmed.');\n}\nWhere\nuser.confirmed !== true\nEquals to\n1 !== true\nAnd so one. In scope of this behavior of SQLite need review all cases where you have next conditions: anyVariable !== true\nanyVariable === true. @derrickmehaffy I know, but bug report is bug report ;). @lauriejim \nI generate project on old version, but update admin and plugins manual.\nAlso, I have example cases:\n1. Docker build (without copy ./public/upload)\n2. Manual delete\n3. My case (old version and manual update). @lauriejim Hi ;)\nOkay ;). @lauriejim \nPre conditions:\n1. Installed documentation plugin\n2. Two api exists\n3. SQLite database (not sure, but related to all cases when camelCase/uppercase names in models/db converted to lowercace)\nSTR:\n1. Create model in firstApi like featureKey\n2. Create second model in secondApi like feature\n3. Add relation between feature and featureKey (one-way) (feature -> featureKey)\n4. Run strapi via strapi start. @derrickmehaffy Okay, but some steps to support it can be implemented, based on description from your link :)\nSo I implement it.\nMaybe merge it like enchancement, not as.bug fix?. @derrickmehaffy  any plugin update breaks workaround in updated plugin ;)\n. Strange, but strapi generate:api generate service for mongoose, not for bookshelf. @derrickmehaffy \nYes, sorry ;(\nI'm idiot\nMaybe convert this issue to feature request? (auto detection for default template)\n. @derrickmehaffy \nhttps://strapi.io/documentation/3.x.x/guides/routing.html#how-to-create-a-route\nMaybe I mistake, but this functionality described as supported in documentation for version 3.x.x\nAlso, createOrUpdate / findOrCreate is not rare case ;)\nAll temporary storages works using GET / POST or PUT / POST combination..  @soupette Hi. Okay, I can do it;)\n. @soupette Can you review this pull request?:). Yes, thanks for example. I got it;). ",
    "aFINKndreas": "I also have the problem with mongodb on linux.. I also have the Alpha 21 for the graphql plugin.. just install core-js@3.0.0-beta.10 inside the graphql plugin folder. That worked for me as a quick fix.. just added a short example. thanks for your help.. Just had to adjust the limit in the graphql/services/Loader.js file on line 143. There was the default 100, but not the value from the config file.. ",
    "parikhdhruv24791": "@aFINKndreas  Thanks that worked.. maybe plugin should be updated with same.\nSolution:\n\ncd plugins/graphql\nnpm i -S core-js@3.0.0-beta.10\nstrapi start. \n",
    "lukkyjoe": "Ohhhh I see. Thank you for the super quick response!. ",
    "rezabojnordi": "hi. i use this code. but output is not compatible with my NODE JS.\nso i have to use another way. i use below code to get array of objects.\nlet a = await strapi.services.posts.fetchAll(ctx.query);\nconsole.log(JSON.stringify(a));\nreturn strapi.services.posts.fetchAll(ctx.query);\n[{\"id\":1,\"name\":\"reza\",\"lname\":\"bojnordi\",\"phone\":3,\"information\":\"noting\",\"created_at\":\"2019-02-04T08:05:30.000Z\",\"updated_at\":\"2019-02-04T08:05:31.000Z\"}]\nhave you any suggestion for this problem?. your code output for mysql\nCollectionBase {\n  model:\n   { [Function]\n     super_: [Function: Events],\n     extend: [Function: extend],\n     extended: [Function: extended],\n     __super__:\n      constructor {\n        hidden: null,\n        visible: null,\n        toJSON: [Function: toJSON],\n        fetchPage: [Function: fetchPage] },\n     NotFoundError: [Function: ErrorCtor],\n     NoRowsUpdatedError: [Function: ErrorCtor],\n     NoRowsDeletedError: [Function: ErrorCtor],\n     forge: [Function: forge],\n     collection: [Function: collection],\n     count: [Function: count],\n     fetchAll: [Function: fetchAll],\n     where: [Function],\n     query: [Function],\n     fetchPage: [Function],\n     connection: 'default',\n     collectionName: 'posts',\n     info: { name: 'posts', description: '' },\n     options: { increments: true, timestamps: [Array], comment: '' },\n     attributes:\n      { name: [Object],\n        lname: [Object],\n        phone: [Object],\n        information: [Object] },\n     globalId: 'Posts',\n     globalName: 'Posts',\n     orm: 'bookshelf',\n     client: 'mysql',\n     primaryKey: 'id',\n     primaryKeyType: 'integer',\n     associations: [],\n     _attributes:\n      { name: [Object],\n        lname: [Object],\n        phone: [Object],\n        information: [Object] },\n     updateRelations: [AsyncFunction: update] },\n  length: 1,\n  models:\n   [ constructor {\n       attributes: [Object],\n       _previousAttributes: [Object],\n       changed: [Object: null prototype] {},\n       relations: {},\n       cid: 'c796',\n       id: 1,\n       _events: [Object],\n       _eventsCount: 6 } ],\n  _byId:\n   [Object: null prototype] {\n     '1':\n      constructor {\n        attributes: [Object],\n        _previousAttributes: [Object],\n        changed: [Object: null prototype] {},\n        relations: {},\n        cid: 'c796',\n        id: 1,\n        _events: [Object],\n        _eventsCount: 6 },\n     c796:\n      constructor {\n        attributes: [Object],\n        _previousAttributes: [Object],\n        changed: [Object: null prototype] {},\n        relations: {},\n        cid: 'c796',\n        id: 1,\n        _events: [Object],\n        _eventsCount: 6 } },\n  _knex: null,\n  _events: [Object: null prototype] {},\n  _eventsCount: 0 }. Informations\nNode.js version: Need this\nv10.15.1\nNPM version: \n6.4.1\nStrapi version: Need this\nVersion: 3.0.0-alpha.21 (node v10.15.1)\nDatabase:\nmysql-server\nServer version: 5.7.25-0ubuntu0.18.04.2 (Ubuntu)\nOperating system: \nubuntu 18.04.2. ok thank you :). The output that should give me this output\n[{\"id\":1,\"name\":\"reza\",\"lname\":\"bojnordi\",\"phone\":3,\"information\":\"noting\",\"created_at\":\"2019-02-04T08:05:30.000Z\",\"updated_at\":\"2019-02-04T08:05:31.000Z\"}]. ",
    "bovidiu": "@lauriejim sure, give me 30 min and i'll come back with an update. . @lauriejim I've retested the project using both options  Quickstart and  Custom; I wasn't able to reproduce it, this issue can be close because alpha.22 seems to fix it. . ",
    "ejalfonzo": "I am having the same one-to-many relation issue.\nInformations\n\nNode.js version: 11.8.0\nNPM version: 6.50\nStrapi version: alpha.22\nDatabase: posgressql\nOperating system: macosx mojave\n(Optional) Link to your Project: https://github.com/giona69/strapi.21.graphql\n\nQuery:\n{\n  categories {\n    id\n    name\n    subcategories {\n      id\n      name\n    }\n  }\n}\nError:\n{\n      \"message\": \"The operator \\\"undefined\\\" is not permitted\",\n      \"locations\": [\n        {\n          \"line\": 5,\n          \"column\": 5\n        }\n      ],\n      \"path\": [\n        \"subcategories\",\n        0,\n        \"category\"\n      ],\n      \"extensions\": {\n        \"code\": \"INTERNAL_SERVER_ERROR\",\n        \"exception\": {\n          \"stacktrace\": [\n            \"TypeError: The operator \\\"undefined\\\" is not permitted\",\n            \"    at Formatter.operator (/proj_path/server/node_modules/knex/lib/formatter.js:179:13)\",\n            \"    at QueryCompiler_PG.whereBasic (/proj_path/server/node_modules/knex/lib/query/compiler.js:567:100)\",\n            \"    at QueryCompiler_PG.where (/proj_path/server/node_modules/knex/lib/query/compiler.js:350:34)\",\n            \"    at components.map.component (/proj_path/server/node_modules/knex/lib/query/compiler.js:96:67)\",\n            \"    at Array.map (<anonymous>)\",\n            \"    at QueryCompiler_PG.select (/proj_path/server/node_modules/knex/lib/query/compiler.js:96:35)\",\n            \"    at QueryCompiler_PG.toSQL (/proj_path/server/node_modules/knex/lib/query/compiler.js:50:29)\",\n            \"    at Builder.toSQL (/proj_path/server/node_modules/knex/lib/query/builder.js:72:44)\",\n            \"    at /proj_path/server/node_modules/knex/lib/runner.js:37:34\",\n            \"    at processImmediate (timers.js:632:19)\",\n            \"    at process.topLevelDomainCallback (domain.js:120:23)\",\n            \"From previous event:\",\n            \"    at Runner.run (/proj_path/server/node_modules/knex/lib/runner.js:33:30)\",\n            \"    at Builder.Target.then (/proj_path/server/node_modules/knex/lib/interface.js:23:43)\"\n          ]\n        }\n      }\n    }\nResponse\n\"data\": {\n    \"categories\": [\n      {\n        \"id\": \"2\",\n        \"name\": \"Category 1\",\n        \"subcategories\": null\n      },\n      {\n        \"id\": \"1\",\n        \"name\": \"Category 1\",\n        \"subcategories\": null\n      }\n    ]\n  }. ",
    "juandav": "I have the same bug and I have to do custom schemas while not fix.. ",
    "JohnMica": "i believe i've done it right now. happy to take another look ?. done now. ",
    "wes-cutting": "I guess a better way to ask this would be: where is the API encryption handled in the Strapi Code? \nThe plain text password that is seen in the documentation, 'strapiPassword', doesn't get stored in the DB. Somewhere in the code base that plain text is encrypted. So the frontend can encrypt that plain text before it is sent across the wire, then Strapi does another layer of encryption before it is stored in the database. I'd like to know if there is a way to swap out what Strapi is using to encrypt the passwords. . ",
    "cc07": "\nCan you give me the error you get please.\n\nWhen i called the mutation, it just returned null without any error.. \n. ",
    "thomaskvael": "There is another issue regarding this in strapi-examples\nhttps://github.com/strapi/strapi-examples/issues/70. This issue is not related to the the \"Windows issue\"\nSame problem with Ubuntu  \n{\n  \"errors\": [\n    {\n      \"message\": \"Post.find is not a function\",\n      \"locations\": [\n        {\n          \"line\": 2,\n          \"column\": 3\n        }\n      ],\n      \"path\": [\n        \"posts\"\n      ],\n      \"extensions\": {\n        \"code\": \"INTERNAL_SERVER_ERROR\",\n        \"exception\": {\n          \"stacktrace\": [\n            \"TypeError: Post.find is not a function\",\n            \"    at Object.fetchAll (/home/test/api/post/services/Post.js:30:8)\",\n            \"    at find (/home/test/api/post/controllers/Post.js:21:35)\",\n            \"    at /home/test/plugins/graphql/services/Query.js:279:41\"\n          ]\n        }\n      }\n    }\n  ],\n  \"data\": {\n    \"posts\": null\n  }\n}. I installed the latest strapi in a new folder. \nThen I ran strapi generate:api post title:string and copied over the post.settings.json file from the old strapi api/models folder. The instructions of what I did is more or less in my first post.\nI noticed that I can query content of a new content type that i created after the migration. But i can't query the old content. \nI will try to compare the content of /api/ and my db table to see if I can find any differences.. My problem was i did not read your post  good enough. I was missing:  \nNotes:\nIf you are using MySQL or Postgres you need to do strapi generate:api -t bookshelf modelname blahblah:string\n. ",
    "kidandcat": "It works nice with NPM. There is some kind of incompatibility with Yarn.. Update again: the error still exists, but NPM doesn't give any problem when installing, but when starting strapi, it gives errors:\nerror { MongoError: there are no users authenticated\n    at /root/strapi-galax/node_modules/mongodb-core/lib/connection/pool.js:581:63\n    at authenticateStragglers (/root/strapi-galax/node_modules/mongodb-core/lib/connection/pool.js:504:16)\n    at Connection.messageHandler (/root/strapi-galax/node_modules/mongodb-core/lib/connection/pool.js:540:5)\n    at emitMessageHandler (/root/strapi-galax/node_modules/mongodb-core/lib/connection/connection.js:310:10)\n    at Socket. (/root/strapi-galax/node_modules/mongodb-core/lib/connection/connection.js:453:17)\n    at Socket.emit (events.js:182:13)\n    at Socket.EventEmitter.emit (domain.js:441:20)\n    at addChunk (_stream_readable.js:283:12)\n    at readableAddChunk (_stream_readable.js:264:11)\n    at Socket.Readable.push (_stream_readable.js:219:10)\n    at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)\n. Thanks but as I said on a update, it is not working even with NPM. (it doesn't throws any error on installation, but later the same plugins fails, user-perms and upload). It's a clean mongo installation. I think it has no user no pass by deafult. I'm letting them blank.. It works perfectly with latest version! . ",
    "izzuddinnatsir": "The hook:bookshelf is not the problem, I already change it to 20 seconds but still failed. I only have 7 data types created. Hope this information makes it clearer.. ",
    "natsirizzuddin": "Hello @lauriejim, thanks for responding. But I'm so sorry I already delete the app to continue my project. But here is what I did:\n1. Install mongodb and start mongo as root user on Centos 7.5\n2. Install strapi globally as root, than start a new app as non-sudoer user\n3. Install graphql and downgrade the version to 0.13.2 and install nginx as reverse proxy for localhost:1337\n4. Start Strapi in development mode using PM2 by creating start_strapi.sh file containing strapi start command\n5. Create my first user\n6. Creating content types, at first it run smoothly.\n7. It freeze when I tried to save a Content Type with fields: 'Posisi' and 'Deskripsi&Kualiafikasi'\n8. The usual popup window saying it need to restart to save the new content type was keep loading\n9. I decide to close the browser window and try to access it again but it keep showing nginx code 5 error\n10. I decide to stop strapi on pm2 and start it manually with strapi start\n11. Then the above error message is showing and strapi refuse to start. Now I'm running Strapi on docker container and setting up SEL according to Juriy video on youtube, because he said it needed for nginx to run properly. But I dont think SEL is related to strapi error based on what displayed in the message. I also do not understand why it shows sqlite error while I'm using mongodb. Now Strapi run properly on the Docker container coupled with Nginx with correct SEL settings.. @lauriejim Noted, thanks! . It seems the quickstart installation need to be avoided for now. . ",
    "codivist": "I'm getting the same error. I followed the quick start guide and was on this step https://strapi.io/documentation/3.x.x/getting-started/quick-start.html#_3-create-a-content-type when it restarted from saving it threw that error and now I can't get it to start back up.\nI'm running in Mac OS X 10.14.2 not running strapi in a docker container. Just following the quickstart guide so hook:bookshelf was installed with strapi as I did not install it.. Mongo. I used all the defaults when installing. @derrickmehaffy set up a new one with just Mongo and added a content type WITHOUT the wysiwyg field and it worked. Added the wysiwyg field and it gives me the bookshelf error.. ",
    "shoan": "I am having the same problem when adding a new field to an existing content type. I am following the quickstart documentation to start up the environment. . Steps to reproduce:\n\nInstall strapi as per the documentation. I installed version 3.0.0-alpha.23.1\nCreate the admin account\nCreate a content type. I created Book.\nAdd a single string field. I created Name.\nCreate a record.\nEdit the Book content type and add a WYSIWYG Text field. \nThe server does not restart after hitting save.\n\n[2019-02-11T02:41:18.868Z] info The server is restarting\n```\n(node:11707) UnhandledPromiseRejectionWarning: Error: SQLITE_ERROR: near \"ALTER\": syntax error\n    at Client_SQLite3._query (/Volumes/Home/Users/shoan/Projects/ptl-strapi-bug-three/node_modules/knex/lib/dialects/sqlite3/index.js:108:12)\n    at Client_SQLite3.query (/Volumes/Home/Users/shoan/Projects/ptl-strapi-bug-three/node_modules/knex/lib/client.js:192:17)\n    at Runner. (/Volumes/Home/Users/shoan/Projects/ptl-strapi-bug-three/node_modules/knex/lib/runner.js:138:36)\nFrom previous event:\n    at /Volumes/Home/Users/shoan/Projects/ptl-strapi-bug-three/node_modules/knex/lib/runner.js:47:21\n    at processImmediate (timers.js:632:19)\n    at process.topLevelDomainCallback (domain.js:120:23)\nFrom previous event:\n    at Runner.run (/Volumes/Home/Users/shoan/Projects/ptl-strapi-bug-three/node_modules/knex/lib/runner.js:33:30)\n    at Raw.Target.then (/Volumes/Home/Users/shoan/Projects/ptl-strapi-bug-three/node_modules/knex/lib/interface.js:23:43)\n(node:11707) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)\n(node:11707) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.\n[2019-02-11T02:41:24.319Z] debug \u26d4\ufe0f Server wasn't able to start properly.\n[2019-02-11T02:41:24.320Z] error (hook:bookshelf) takes too long to load\n(hook:bookshelf) takes too long to load\n```. @lauriejim @derrickmehaffy I used the default Quickstart option. I am assuming this is sqlite.\n```\nstrapi new ptl-strapi-bug-three\n\ud83d\ude80 Start creating your Strapi application. It might take a minute, please take a coffee \u2615\ufe0f\n? Choose your installation type Quickstart (recommended)\n\u23f3 Testing database connection...\nThe app has been connected to the database successfully!\n\ud83c\udfd7  Application generation:\n\u2714 Copy dashboard\n\u2714 Install plugin settings-manager.\n\u2714 Install plugin content-type-builder.\n\u2714 Install plugin content-manager.\n\u2714 Install plugin users-permissions.\n\u2714 Install plugin email.\n\u2714 Install plugin upload.\n\u2714 Link strapi dependency to the project.\n\ud83d\udc4c Your new application ptl-strapi-bug-three is ready at /Volumes/Home/Users/shoan/Projects/ptl-strapi-bug-three.\n\u26a1\ufe0f Change directory:\n$ cd ptl-strapi-bug-three\n\u26a1\ufe0f Start application:\n$ strapi start\n```. I can confirm that the problem is limited to the quickstart. If you choose Custom and enter the database details, everything appears to work as expected.. ",
    "deck1187hw": "Same issue here, using mongo, but still getting (node:18232) UnhandledPromiseRejectionWarning: Error: SQLITE_ERROR: near \"ALTER\": syntax error\n    at Client_SQLite3._query (/var/www/gdadmin/gdcms/node_modules/knex/lib/dialects/sqlite3/index.js:108:12)\n    at Client_SQLite3.query (/var/www/gdadmin/gdcms/node_modules/knex/lib/client.js:192:17)\n    at Runner.<anonymous> (/var/www/gdadmin/gdcms/node_modules/knex/lib/runner.js:138:36)\nFrom previous event:\n    at /var/www/gdadmin/gdcms/node_modules/knex/lib/runner.js:47:21\n    at processImmediate (timers.js:632:19)\n    at process.topLevelDomainCallback (domain.js:120:23)\nFrom previous event:\n    at Runner.run (/var/www/gdadmin/gdcms/node_modules/knex/lib/runner.js:33:30)\n    at Raw.Target.then (/var/www/gdadmin/gdcms/node_modules/knex/lib/interface.js:23:43)\n(node:18232) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)\n(node:18232) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.\n[2019-02-10T10:47:37.896Z] debug \u26d4\ufe0f Server wasn't able to start properly.\n[2019-02-10T10:47:37.897Z] error (hook:bookshelf) takes too long to load. ",
    "GeorgWa": "Had the same error installing strapi, on a fresh, clean quickstart installation.\n```\n\nstrapi start\n(node:5376) UnhandledPromiseRejectionWarning: Error: SQLITE_ERROR: near \"ALTER\": syntax error\n    at Client_SQLite3._query (C:...\\node_modules\\knex\\lib\\dialects\\sqlite3\\index.js:108:12)\n    at Client_SQLite3.query (C:...\\node_modules\\knex\\lib\\client.js:192:17)\n    at Runner. (C:...\\node_modules\\knex\\lib\\runner.js:138:36)\nFrom previous event:\n    at C:...\\node_modules\\knex\\lib\\runner.js:47:21\n    at runCallback (timers.js:705:18)\n    at tryOnImmediate (timers.js:676:5)\n    at processImmediate (timers.js:658:5)\n    at process.topLevelDomainCallback (domain.js:120:23)\nFrom previous event:\n    at Runner.run (C:...\\node_modules\\knex\\lib\\runner.js:33:30)\n    at Raw.Target.then (C:...\\node_modules\\knex\\lib\\interface.js:23:43)\n(node:5376) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)\n(node:5376) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.\n[2019-02-11T15:14:14.312Z] debug \u26d4\ufe0f Server wasn't able to start properly.\n[2019-02-11T15:14:14.315Z] error (hook:bookshelf) takes too long to load\n(hook:bookshelf) takes too long to load\n```. \n",
    "dnszero": "I'm having the same issue as @shoan.\nstrapi 3.0.0-alpha.23.1\nnode 10.15.0\nmacos 10.13.6\n\nMade a new project with quickstart.\nCreated a content type and added 3 string fields.\nCreated a quick test entry for it.\nDeleted the third field, re-added it as text with WYSIWIG checked and hit Save.\nStrapi crashed and won't restart (same error output as above).. \n",
    "dkb868": "Same error using Quickstart and adding a number field to a new content type.\nAlso I think it's safe to say everyone in this thread was using sqlite whether they were aware of it or not.. ",
    "narkowicz": "@lauriejim thanks for update - I couldn't find the PR - could you link so we can track progress? Currently assessing using Strapi and hit this issue. Cheers.. ",
    "MarcelBlockchain": "\nI'm having the same issue as @shoan.\nstrapi 3.0.0-alpha.23.1\nnode 10.15.0\nmacos 10.13.6\n\nMade a new project with quickstart.\nCreated a content type and added 3 string fields.\nCreated a quick test entry for it.\nDeleted the third field, re-added it as text with WYSIWIG checked and hit Save.\nStrapi crashed and won't restart (same error output as above).\n\n\nsame. Works now. The one thing I did differently is that I first installed GraphQL and then added the new content type. Cannot say it was also because of an update, because I think it was already installed. Thanks for asking\nOn 14 Mar 2019 16:05 +0100, Jim LAURIE notifications@github.com, wrote:\n\nCan you please give us an update about this issue?\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub, or mute the thread.\n. \n",
    "dominusbelial": "i'm getting the same error, same scenario on my ubuntu machine, node version 11.10 npm 6.7, if you install with recommended settings then later you can add the new mysql 8.0.15 connection and it looks like authentication does work, you can see the connection listed at runtime, things will go wrong after adding new content types, as cms will crash and 'strapi start' doesn't work anymore.. > This is an upstream issue with MySQL.\n\n@dominusbelial in the mean time you are welcome to use MariaDB 10.3 which is a drop in replacement of MySQL 8 (supports all the same features). The alternative is to drop your MySQL version.\n\nthank you for your quick response, i will try with mariadb.. > This is an upstream issue with MySQL.\n\n@dominusbelial in the mean time you are welcome to use MariaDB 10.3 which is a drop in replacement of MySQL 8 (supports all the same features). The alternative is to drop your MySQL version.\n\nit works, creating new content type updates db! and moving to MariaDB is a valid option for me, thank you.. while it does work using the recommended settings workflow, if i try to create a new strapi-site using the MySql option with same credentials, it will return \"Database connection has failed! Make sure your \"cmsmaria\" database exist.\" , database does exist.. > @dominusbelial are you on the slack?\nno, im just following 'Cooking a Deliveroo clone', but i would love to have all the strapi tables ...user,roles,and all other cms related tables (sqlite), within the same mysql database, is this possible?. ",
    "vince1995": "I have the same error but in a content type object.. Hm. I've recreated a new project and now it works. I've nothing changed. . Nope, it was a brand new setup.. Chrome Version 72.0.3626.109. As I said, I tried with new setup and it worked. You can close this issue. If it occurs again I try to reproduce and open after that a new issue. :). ",
    "ahmed-hyd": "Hello @lauriejim , Thanks for your response.\nI tried to re-run npm i strapi@alpha -g but I still faced the same issue.\nAttaching below the logs for your reference.\n2019-02-08T14_43_02_570Z-debug.log\n. No, this is on an Amazon EC2 instance.. I was able to successfully install Strapi alpha.19. I will work with it for \nThanks,. ",
    "davixyz": "I also got this issue, I can confirm that I was able to install only alpha.19; Not the latest. Same error.\nThis was on Digital Ocean droplet. ",
    "optimalbliss": "\nI also got this issue, I can confirm that I was able to install only alpha.19; Not the latest. Same error.\nThis was on Digital Ocean droplet\n\nI have the same issue with alpha 24.\nDigital Ocean, Ubuntu 18.04.2 x64, Node.js v10.15.2. via NVM\n134.209.128.36 > npm ERR! file sh\n134.209.128.36 > npm ERR! code ELIFECYCLE\n134.209.128.36 > npm ERR! errno ENOENT\n134.209.128.36 > npm ERR! syscall spawn\n134.209.128.36 > npm ERR! strapi@3.0.0-alpha.24 postinstall: `node lib/utils/success.js`\n134.209.128.36 > npm ERR! spawn ENOENT\n134.209.128.36 > npm ERR!\n134.209.128.36 > npm ERR! Failed at the strapi@3.0.0-alpha.24 postinstall script.\n134.209.128.36 > npm ERR! This is probably not a problem with npm. There is likely additional logging output above.. ",
    "paescuj": "Same here on Ubuntu 18.04, 3.0.0-alpha.24.1.\nApparently \"unsafe-perm = true\" is required for it to work. \nSee https://github.com/strapi/strapi-docker/blob/master/Dockerfile.. ",
    "pdsm": "I am having the same issue on GCP, any ideas?. ",
    "raphaelmayer": "I am having a similar issue (MySQL 5.7.19). \nHad no issues until today, when put my bundled react app into the public folder to be served on \"/\".\nGot this exact error, closed and reopened terminal and it worked again. \nHowever when I went to localhost:1337 (where I serve a bundled react app, which fetches products in compDidMount) I first get a similar error, but after refreshing the browser window it works. Same deal when using the dev build and a webpack dev server.\nError: \n{ TimeoutError: Knex: Timeout acquiring a connection. The pool is probably full. Are you missing a .transacting(trx) call?\n    at _bluebird.default.try.tap.catch (C:\\Users\\Atti.DESKTOP-8LJ8HHK\\Desktop\\bznz\\WebDev\\Projekte\\strapi\\node_modules\\knex\\lib\\client.js:336:13)\n    at runCallback (timers.js:705:18)\n    at tryOnImmediate (timers.js:676:5)\n    at processImmediate (timers.js:658:5)\n    at process.topLevelDomainCallback (domain.js:120:23)\nFrom previous event:\n    at Client_MySQL.acquireConnection (C:\\Users\\Atti.DESKTOP-8LJ8HHK\\Desktop\\bznz\\WebDev\\Projekte\\strapi\\node_modules\\knex\\lib\\client.js:335:13)\n    at Runner.ensureConnection (C:\\Users\\Atti.DESKTOP-8LJ8HHK\\Desktop\\bznz\\WebDev\\Projekte\\strapi\\node_modules\\knex\\lib\\runner.js:224:24)\n    at Runner.run (C:\\Users\\Atti.DESKTOP-8LJ8HHK\\Desktop\\bznz\\WebDev\\Projekte\\strapi\\node_modules\\knex\\lib\\runner.js:33:41)\n    at Builder.Target.then (C:\\Users\\Atti.DESKTOP-8LJ8HHK\\Desktop\\bznz\\WebDev\\Projekte\\strapi\\node_modules\\knex\\lib\\interface.js:23:43)\n    at runCallback (timers.js:705:18)\n    at tryOnImmediate (timers.js:676:5) sql: undefined, bindings: undefined }\nOk update: \nAfter a whole day of trial and error I tried disabling my antivirus (Avast) and everything seems to be working again. No errors so far.. ",
    "fakedob": "Hello :)\nIt is my very first time giving some feedback and writing here. With just a couple of words, I am using Strapi (and its great \u2665) in Azure, and most (if not all) integrations with az have been done by myself. Its a hard project, but anyway... I am happy I could get my hands on this tool.\nLast night I was migrating my project from 14.5 to the latest 24.1 and while doing so, I came across something that may solve your problem, but I havent (and I will not unfortunately) had time to dig in. \nI also use mysql 5.7 so that is not the case, as I also saw the same error when I created a new project.  While I was doing the migrations on by one, I saw something interesting. If I did not specify the db at first, then the app started normally. Then, because I have implemented a lot of custom logic into the User and Auth plugin controllers, I saw that there is this new line, which was not there when I first started rewriting the plugins.\nhttps://github.com/strapi/strapi/blob/b0c12a3912c84fbd9d42e4f8ba55bac465a936ba/packages/strapi-plugin-users-permissions/controllers/Auth.js#L331\nThat triggers the first time, of course when you have no admin. I really have not spent much time, I just can confirm that commenting this line and when I finally completed the migrations, the error is now gone. Funny thing is that I just tested without DB after seeing the error and I saw your post, so the 403 mentioned in the other issue is what I also saw.\nHopefully I will have more time in the future and will be able to support more on this project. Good luck\n. ",
    "rojer95": "I am having a similar issue\nmysql version is 5.7.22\nIt display the following information  when I first time run strapi start\nerror (hook:bookshelf) takes too long to load\nIt display the following information when I second time run strapi start\nUnhandledPromiseRejectionWarning: TimeoutError: Knex: Timeout acquiring a connection.\n .....\nand then i try run strapi start again\nit run success\nbut the api of response  status code is 403 in the admin panel\nby the way, mysql is run in local (docker). ",
    "pyrbin": "Been able to reproduce without an relationship attribute. ",
    "PaddingtonTheBear": "Definitely associated to that issue and I read through part of that one before posting this one. I see your comment that it isn't being worked on at present now. I figured this was a bad situation for the server to be prevented from starting for a relatively simple use case. \nIt's not difficult to work around this manually, just annoying. You're likely not going to be trying to modify the Content Attribute type very often either, I'm just running into this as I'm starting a new project so things are changing quickly.. Closed because I see that once I added in the properties manually to my users-permissions_permission table, it will now display in the UI, however it still doesn't appear to be properly writing the base permissions when creating a new role (upload permissions missing too...). Thanks @lauriejim !\nI tried adding a new role via the UI and it was giving an error via the UI that setting the permissions wasn't successful (or something related to that, I can look and test again later). When I checked the database table, it didn't create any entries for any of the permissions in my plugins (such as upload). This made it so that the plugin permissions weren't even showing up for my newly created role. \nPerhaps doing it directly with the users/me endpoint works better...or my alpha.18 version has some issues. \nIt's likely just an issue with my environment; recommend you can close this and if I encounter it again with repeatable tests / error logs I'll come back to this. Apologies for any wasted time.. ",
    "laportem": "I created the model using the admin UI. Very simple one. I have not manually touch the files. Here is one of them but i get the same problems for all models:\nAs i mentioned early, REST works; Graphql don't\n{\n  \"connection\": \"default\",\n  \"collectionName\": \"topics\",\n  \"info\": {\n    \"name\": \"topics\",\n    \"description\": \"\"\n  },\n  \"options\": {\n    \"timestamps\": true\n  },\n  \"attributes\": {\n    \"code\": {\n      \"default\": \"\",\n      \"type\": \"string\",\n      \"required\": true,\n      \"unique\": true\n    },\n    \"name\": {\n      \"default\": \"\",\n      \"type\": \"string\"\n    },\n    \"slug\": {\n      \"default\": \"\",\n      \"type\": \"string\"\n    }\n  }\n}. indeed upgrading strapi-hook-mongoose fixed the issue. @[derrickmehaffy] thanks for the quick response, understood how busy the guys are. I was also hoping to get some best practices to do it ourselves. ",
    "samantonis": "got the same error when I tried to set up a test website with blogs and posts (using nextJS and Apollo in frontend)\nhttp://localhost:1337/blogs gives me a correct list of blogs i made , but running \n{\n  blogs {\n    _id\n    title\n  }\n}\nas a query on http://localhost:1337/graphql gives me the same error as mentioned by laportem \nis this expected to be fixed soon or is this a non strapi issue and is using mongoDB not recommended for strapi projects ? \n. I'm using mongodb locally. @lauriejim for more info , i was following this tutorial https://blog.strapi.io/strapi-next-cart/ but used blogs and posts instead of restaurants and dishes in the example. \nrest calls work , graphql does not (see error in previous posts by @laportem )\n* Node.js version: 10.15.1\n\n\nNPM version:  6.4.1\n\n\nStrapi version: 3.0.0-alpha.23.1\n\n\nDatabase: mongodb v3.6.10\n\n\nOperating system:  Mac (Mojave 10.14.2). thanks @acarrera94 , that fixed it . \n\n",
    "capaci": "Hello @lauriejim !\nI've sent  this request to PB and and I'm creating a new route right now :)\nThanks!. ",
    "rsinelle": "Hello\nDone https://github.com/strapi/strapi/pull/2850. ",
    "SeedyROM": "This issue is currently not fixed for MongoDB and alpha.24.1. ",
    "romj": "Thanks for the heads up @lauriejim !\nI had trouble with the content type builder UI because of #2847, but I guess now I should be fine.. ",
    "botzill": "I also have this issue, any updates? . ",
    "q-jason": "@Nowhy\nnode server.js not hot load.... ",
    "kasia-basia": "Hi there, I'm just playing around with strapi for the first time and got the same error after adding a new field to a previously existing and functioning model. In my case it was a Relation field. \nMy config is exactly the same as jvlaar (except for Node 10.15.2). I copied the error message here: https://pastebin.com/jhSeYcXn \nSo far I only figured out that strapi starts up again only after deleting the whole model folder from /api, but this is hardly a long term solution :( \n. ",
    "nvaken": "Same problem here. \n\nAdded a new content type \"Menus\"\nAdded a many to many relationship \"Paginas\" \nStrapi restarted after save\nWent to the Menus content type and noticed that it told me I couldn't add menus because of no existing fields.\nWent to the content builder again, noticed that the relational field was still there, added a \"Menu naam\" string field, to try and get it to work.\nRestarted again after hitting Save\nStrapi crashed with\n\n```\nWarning!\nWe can't migrate your data due to the following error.\n{ Error: SQLITE_ERROR: near \"naam\": syntax error\n    at Client_SQLite3._query (/Users/nvaken/strapi/helloworld/node_modules/knex/lib/dialects/sqlite3/index.js:108:12)\n    at Client_SQLite3.query (/Users/nvaken/strapi/helloworld/node_modules/knex/lib/client.js:192:17)\n    at Runner. (/Users/nvaken/strapi/helloworld/node_modules/knex/lib/runner.js:138:36)\nFrom previous event:\n    at /Users/nvaken/strapi/helloworld/node_modules/knex/lib/runner.js:47:21\n    at processImmediate (timers.js:632:19)\n    at process.topLevelDomainCallback (domain.js:120:23)\nFrom previous event:\n    at Runner.run (/Users/nvaken/strapi/helloworld/node_modules/knex/lib/runner.js:33:30)\n    at Raw.Target.then (/Users/nvaken/strapi/helloworld/node_modules/knex/lib/interface.js:23:43) errno: 1, code: 'SQLITE_ERROR' }\nWe created a new table \"tmp_menus\" with your latest changes.\nWe suggest you manually migrate your data from \"menus\" to \"tmp_menus\" and then to DROP and RENAME the tables.\n(node:78008) UnhandledPromiseRejectionWarning: GraphQLError: Syntax Error: Expected :, found Name \"naam\"\n    at syntaxError (/Users/nvaken/strapi/helloworld/plugins/graphql/node_modules/graphql/error/syntaxError.js:24:10)\n    at expect (/Users/nvaken/strapi/helloworld/plugins/graphql/node_modules/graphql/language/parser.js:1445:32)\n    at parseFieldDefinition (/Users/nvaken/strapi/helloworld/plugins/graphql/node_modules/graphql/language/parser.js:870:3)\n    at many (/Users/nvaken/strapi/helloworld/plugins/graphql/node_modules/graphql/language/parser.js:1516:16)\n    at parseFieldsDefinition (/Users/nvaken/strapi/helloworld/plugins/graphql/node_modules/graphql/language/parser.js:857:50)\n    at parseObjectTypeDefinition (/Users/nvaken/strapi/helloworld/plugins/graphql/node_modules/graphql/language/parser.js:811:16)\n    at parseTypeSystemDefinition (/Users/nvaken/strapi/helloworld/plugins/graphql/node_modules/graphql/language/parser.js:709:16)\n    at parseDefinition (/Users/nvaken/strapi/helloworld/plugins/graphql/node_modules/graphql/language/parser.js:144:16)\n    at many (/Users/nvaken/strapi/helloworld/plugins/graphql/node_modules/graphql/language/parser.js:1516:16)\n    at parseDocument (/Users/nvaken/strapi/helloworld/plugins/graphql/node_modules/graphql/language/parser.js:115:18)\n    at Object.parse (/Users/nvaken/strapi/helloworld/plugins/graphql/node_modules/graphql/language/parser.js:50:10)\n    at Object.addPolymorphicUnionType (/Users/nvaken/strapi/helloworld/plugins/graphql/services/Types.js:154:8)\n    at Object.generateSchema (/Users/nvaken/strapi/helloworld/plugins/graphql/services/Schema.js:179:15)\n    at Function.initialize (/Users/nvaken/strapi/helloworld/plugins/graphql/hooks/graphql/index.js:148:50)\n    at /usr/local/lib/node_modules/strapi/lib/hooks/index.js:19:29\n    at after (/usr/local/lib/node_modules/strapi/lib/hooks/index.js:122:39)\n    at /usr/local/lib/node_modules/strapi/node_modules/lodash/lodash.js:9999:23\n    at Strapi.once (/usr/local/lib/node_modules/strapi/lib/hooks/index.js:133:17)\n    at Object.onceWrapper (events.js:277:13)\n    at Strapi.emit (events.js:189:13)\n    at Strapi.EventEmitter.emit (domain.js:441:20)\n    at loadedModule.initialize.call.err (/usr/local/lib/node_modules/strapi/lib/hooks/index.js:32:12)\n    at Function.initialize (/Users/nvaken/strapi/helloworld/node_modules/strapi-hook-bookshelf/lib/index.js:1059:7)\n(node:78008) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)\n(node:78008) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.\n[2019-03-07T15:46:07.635Z] debug \u26d4\ufe0f Server wasn't able to start properly.\n[2019-03-07T15:46:07.637Z] error (hook:graphql) takes too long to load\n(hook:graphql) takes too long to load\n```\nWhen I'm trying to start Strapi it instantly crashes again:\n(node:78086) UnhandledPromiseRejectionWarning: Error: SQLITE_ERROR: table `tmp_menus` already exists\n    at Client_SQLite3._query (/Users/nvaken/strapi/helloworld/node_modules/knex/lib/dialects/sqlite3/index.js:108:12)\n    at Client_SQLite3.query (/Users/nvaken/strapi/helloworld/node_modules/knex/lib/client.js:192:17)\n    at Runner.<anonymous> (/Users/nvaken/strapi/helloworld/node_modules/knex/lib/runner.js:138:36)\nFrom previous event:\n    at /Users/nvaken/strapi/helloworld/node_modules/knex/lib/runner.js:47:21\n    at processImmediate (timers.js:632:19)\n    at process.topLevelDomainCallback (domain.js:120:23)\nFrom previous event:\n    at Runner.run (/Users/nvaken/strapi/helloworld/node_modules/knex/lib/runner.js:33:30)\n    at Raw.Target.then (/Users/nvaken/strapi/helloworld/node_modules/knex/lib/interface.js:23:43)\n(node:78086) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)\n(node:78086) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.\n[2019-03-07T15:47:10.443Z] debug \u26d4\ufe0f Server wasn't able to start properly.\n[2019-03-07T15:47:10.445Z] error (hook:bookshelf) takes too long to load\n(hook:bookshelf) takes too long to load. ",
    "ReesesSnickers": "Anytime. I'll do what I can to keep a eye for anything else that comes out at me.\n    On Saturday, March 2, 2019, 7:08:03 AM CST, Jim LAURIE notifications@github.com wrote:  \nMerged #2855 into master.\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub, or mute the thread.\n   . ",
    "dev-drprasad": "@soupette @lauriejim Hey! How can we start frontend in development mode ?? i am getting error like Error: Cannot find module '/home/username/.nvm/versions/node/v10.14.2/lib/node_modules/strapi/node_modules/strapi-admin/node_modules/strapi-helper-plugin/node_modules/.bin/cross-env'. @soupette @lauriejim we needed to change in strapi-helper-plugin for step attribute to work. i didnot know that. i fixed it. can you please review again ?. please ignore first pull request.\nI added only english translations for error messages.\nis it possible to generate translations for other languages automatically ?? or do we need to write manually ??. @soupette I am done with changes\ni used google translate for translations. i did not add translation for pt-BR because google dont have option. @soupette done. ",
    "jeanlescure": "Really excited for this! \ud83c\udf89. ",
    "JaniPM": "\nI just noticed similar issue with first item as well. I have category field with enum values: meals,drinks,snacks,desserts \nError message (see image above) happens with first field but only if I don't change the dropdown's value. However, if I first select some other enum value and then select again the first value, the issue doesn't appear.. What if the UI shows default option \"Select\" in case where enum don't have default value? In that case user is forced to select one of the options and redux state will get correct record value which then will be correctly posted to api.\nIn case there is default value this don't seem to be an issue since it will be handled in the api model level.. ",
    "shershen08": "It seemed to me that the project is in early betta version so, leaving it aside for now. So  I'm not following this issue anymore. feel free to close. ",
    "alvinchencd": "is there any followup on this issue? im trying to fix this issue on my own as well but like @luc-plamondon couldn't find the front end code that displaying the date in the admin\n. ",
    "Geoide": "3.0.0-alpha.23.1\n6.4.1 is the npm version, sorry.. ",
    "secretlifeof": "Sorry. ",
    "benforshey": "Hi, @Sentinas . I think you'll find this related to #2783.. ",
    "Sentinas": "I will add. I deleted the content manager in version 23.1 via plugins and installed the manager again. An error has occurred. Before reinstalling the content manager, the ability to save collections with date type fields was.. ",
    "chochihim": "I close this issue since it is addressed in other PR.. @derrickmehaffy It feels wrong that naming a database column should take limitation of the framework into consideration. Please consider re-visiting this problem in the future.\nAnyway, I find that value might be able to be removed from the reserved list (I have a table which consists of three columns only (id, key, value) and this is what leads me to open this bug report)\nThere was an issue https://github.com/strapi/strapi/issues/1027 about it. After a rough check, it looks like the error is really due to https://github.com/strapi/strapi/blob/c10124161108fda9710fc49ae15154e4612846f4/packages/strapi-plugin-content-manager/admin/src/containers/EditPage/saga.js#L102\nI tried to create simple content type and log the results:\njs\nconst record = {\n  stringfield: 'some value',\n  children_id: {\n    id: 1,\n    value: 'some other value'\n  }\n}\n// when current === 'children_id', cleanData returns 'some other value' instead of the expected id 1\n// which causes error\nIs my finding correct?. ",
    "lnanhkhoa": "i have same issue. ",
    "kenzicode": "\n@EpicUsaMan you will need to open up your SQLite DB in an editor and delete the table, there is likely a conflict preventing SQLite from updating it.\nSQLite support is new, and is expected to have bugs like this.\n\nHow can to do that?? I'm using mongodb not sqlite. . ",
    "eminx": "I also use MongoDB and do not know why there's even SQLite in the context... \nCould anyone please update me on this? @derrickmehaffy \n. ",
    "Ilane91": "\ud83d\udc4d \nHappens to me as well when I select a custom installation.\nError is thrown a few seconds after custom installation is selected, regardless of which database option. is selected . ",
    "DanLahav-TG": "sudo npm cache clear --force\ndidn't help. installing node with nvm solved it. run npm ls strapi -g\n. ",
    "ikesler-tenengroup": "Seems working for me. MariaDB, nodejs 11 (installed using nvm) - maybe depends on Node version?. ",
    "DaneTheory": "Apologies if this is documented elsewhere. I'm having difficulty implementing this now on my end, and have looked through Strapi documentation heavily. I've gone through every tutorial online I can find, PR's and previously closed issues on the Strapi repo. However, I cannot find a working solution. Thanks!. If anything, documentation covering Strapi's lifecycle would be very helpful Something equivalent to Fastify. \nFor reference:\nhttps://lmammino.github.io/fastify/docs/lifecycle/\nIf this isn't the level of extendability Strapi is meant to offer developers, please let me know.\n. Hi @alexandrebodin \nThanks for taking the time to reply :beers:\nI agree with foregoing @babel/register and instead utilizing one of the two following options:\nONE\n\ndevDependencies\n@babel/cli\nhttps://babeljs.io/docs/en/babel-cli\n\n\n@babel/core\nhttps://babeljs.io/docs/en/babel-core\n\n\n@babel/node\nhttps://babeljs.io/docs/en/babel-node\n\n\n@babel/preset-env\nhttps://babeljs.io/docs/en/babel-preset-env\n\n\nbabel-plugin-dynamic-import-node-babel-7\nhttps://github.com/shelldandy/babel-plugin-dynamic-import-node-babel-7#readme\n\n\n\nWith the addition of a .babelrc file containing:\n{\n    \"presets\": [\"@babel/preset-env\"],\n    \"plugins\": [\"dynamic-import-node-babel-7\"]\n}\nThen replacing scripts run using node to babel-node. Such as:\n\"start\": \"node server.js\"\nto\n\"start\": \"babel-node server.js\"\nThe downside to this approach is it removes strapi as a CLI tool for the dev tool belt. Not cool.  \nTWO\nNot to double post on purpose, but...\n\nIf anything, documentation covering Strapi's lifecycle would be very helpful Something equivalent to Fastify.\nFor reference:\nhttps://lmammino.github.io/fastify/docs/lifecycle/\nIf this isn't the level of extendability Strapi is meant to offer developers, please let me know.\n\nAs of now, ESNext features work as expected by the time server.js is run. So simply swapping out:\n- const strapi = require('strapi')\nfor\n- import strapi from 'strapi' \nin server.js does work.\nHowever,\nThe problem I'm looking to solve requires a solution that is run at the same time as either hooks or functions are executed. The way the documentation reads, I assumed functions.  Particularly, bootstrap.js`\n\nFor reference: https://strapi.io/documentation/3.x.x/configurations/configurations.html#functions\n\nBecause of the line:\nThe bootstrap function is called at every server start. You can use it to add a specific logic at this moment of your server's lifecycle.\nHere are some use cases:\nCreate an admin user if there isn't.\nBingo. It's that particular piece of functionality I'd like to implement, alongside a couple of other needed tweaks to get Strapi working correctly behind my API Gateway. \nAt the moment\n1. Running npm i axios\n2. Adding import axios from 'axios' into ./config/functions/bootstrap.js\n3. Running strapi start \nYeilds\n debug \u26d4\ufe0f Server wasn't able to start properly.\n error Unexpected identifier ////config/functions/bootstrap.js:8\n\nimport axios from 'axios'\nSyntaxError: Unexpected identifier\n    at new Script (vm.js:85:7)\n    at createScript (vm.js:266:10)\n    at Object.runInThisContext (vm.js:314:10)\n    at Module._compile (internal/modules/cjs/loader.js:698:28)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:749:10)\n    at Module.load (internal/modules/cjs/loader.js:630:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:570:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:562:3)\n    at Module.require (internal/modules/cjs/loader.js:667:17)\n    at require (internal/modules/cjs/helpers.js:20:18)\n    at Strapi.loadFile (///BASE_STRAPI>/packages/strapi/lib/utils/index.js:30:12)\n    at Object.setConfig (///BASE_STRAPI>/lib/utils/index.js:39:19)\n    at p (///BASE_STRAPI>/packages/strapi/lib/utils/index.js:115:26)\n    at ///BASE_STRAPI>/packages/strapi/node_modules/async/dist/async.js:1135:9\n    at eachOfArrayLike (///BASE_STRAPI>/packages/strapi/node_modules/async/dist/async.js:1069:9)\n    at eachOf (///BASE_STRAPI>/packages/strapi/node_modules/async/dist/async.js:1117:5)\n\n. ",
    "jegardiner": "I am also having this issue. It's because the SQLite ALTER TABLE syntax doesn't allow the addition / modification of date and time fields without an acceptable default value: https://www.sqlite.org/lang_altertable.html\n. ",
    "matheuschimelli": "I edited the User model inside the plugins folder. I don't know if that is the right way to do it, but it was worked for me . Ok, It looks like not be a strapi issue. I suggest you to close the issue and check your code. . Are you using a custom file storage like S3 bucket? And, are you using a custom code on controller?. Try to use this package\n\nThe text is stored in the database as Markdown and exposed by your Strapi API in the same format. We advise you to use a node module such as Showdown to convert it into HTML in your frontend.\n\nFrom strapi blog. ",
    "davidchalifoux": "Update: I added a different file field to the content type and the error has disappeared.. ",
    "FunnyDevs": "I have same problem when i try to play with vlc every mp4 file uploaded on strapi throgh its url, so i think is  problem of strapi / koajs. No, i'm using default file storage plugin that stores files in \"public/uploads\" folder. ",
    "tanmaiaccion": "@Mr-Chilly  sam issue here.. For anyone landing on this issue you need to update strapi version to strapi@3.0.0-alpha.24.1. That fixes the issue. . ",
    "tiberiuana": "No, I just reproduced it in a brand new project.. ",
    "chielorenz": "For anyone who is stuck here a workaround is to create the field as not required and then set it as required.. ",
    "ralphMevision": "I had the exact same issue. I had to go in the \n\nproject folder \n\non my local drive, open the \n\napi folder, \n\nselect the folder of the content type that was crashing the server then open the \n\nmodels folder\n\nthen open the \n\nxxxxx.settings.json file\n\nand remove all the required: true lines in the json file, save it and restart the project with the command line strapi start. I could then just use the admin UI to put all the required fields like mentioned by @chielorenz \nI just hope this will big fixed asap. . Have the same issue. ",
    "ChristianLJ": "Well i just saw the comments regarding strapi on Windows and installed WSL. \nEverything is working as expected now.. > > Well i just saw the comments regarding strapi on Windows and installed WSL.\n\n\nEverything is working as expected now.\n\nWSL? I am having the same issue. How did you resolved this ?\n\nTry following this guide which worked for me: https://docs.microsoft.com/en-us/windows/wsl/install-win10.  > The text is stored in the database as Markdown and exposed by your Strapi API in the same format. We advise you to use a node module such as Showdown to convert it into HTML in your frontend.\nThat's not how it should work at all. From a frontend point of view this would be terrible to work with and larger blocks of markdown would take ages to convert on mobile devices. \nI understand that it shouldn't be saved as HTML in the database but at least it should be strapis task to convert the markdown to HTML if the user wants it.\nIf not your forcing every developer that uses the WYSIWYG editor to install Showdown and handle the conversion of the markdown at render time. That's awful.\nWould it be possible to make a plugin to strapi wherin you can add some filters and make the conversion with showdown based on query parameters?. > @ChristianLJ sure by all means go for it :)\nI will but i'm finding it very hard to figure out how to register to network calls and intercept them :). ",
    "Ashutosh421": "\nWell i just saw the comments regarding strapi on Windows and installed WSL.\nEverything is working as expected now.\n\nWSL? I am having the same issue. How did you resolved this ?. Hi Lauriejim.\n        I have already tried that multiple times. Cleared npm cache, tried with yarn and npm as well. I think it is still not stable in windows. Please confirm?. I tried it without WSL first. Without wsl it always shows plugin installation error. With wsl I'll have to further explore how exactly to do it as I have enabled WSL, installed ubuntu terminal through app store. Since the linux terminal does't find my npm. I'll further work on it and keep you posted. \nAs of now I am sure it is having installation issues on windows.. ",
    "Nivek92": "@derrickmehaffy I wanted to rename the content type.\nThere is an input field for it so I expect it to work from the dashboard. If it actually is not an option, the input field has to be removed.\n\nOh and about the listed Content Types, that have already been deleted but still show:\nI did some digging and found that they are still in the Postgres DB under public.core_store -> plugin_content-manager_schema\nThey have not been removed from there for some reason.. ",
    "tpiros": "sure @lauriejim - find it below.\n```\n$ strapi new strapi-test\n\ud83d\ude80 Start creating your Strapi application.\n? Choose your installation type Quickstart (recommended)\n\u2705\u00a0Connected to the database\n\ud83c\udfd7  Application generation:\n\u2714 Copy dashboard\n\u2714 Install plugin settings-manager.\n\u2714 Install plugin content-type-builder.\n\u2714 Install plugin content-manager.\n\u2714 Install plugin users-permissions.\n\u2714 Install plugin email.\n\u2714 Install plugin upload.\n\u2714 Link strapi dependency to the project.\n\u2714 Link strapi-hook-bookshelf dependency to the project.\n\u2714 Link strapi-hook-knex dependency to the project.\n\ud83d\udc4c Your new application strapi-test is ready at /Users/tpiros/Documents/development/strapi-test.\n\u26a1\ufe0f Change directory:\n$ cd strapi-test\n\u26a1\ufe0f Start application:\n$ strapi start\nsqlite does not support inserting default values. Set the useNullAsDefault flag to hide this warning. (see docs http://knexjs.org/#Builder-insert).\n(node:51202) UnhandledPromiseRejectionWarning: TypeError: Argument 0 must be a string\n    at _bluebird.default (/Users/tpiros/Documents/development/strapi-test/node_modules/knex/lib/dialects/sqlite3/index.js:74:18)\n    at Client_SQLite3.acquireRawConnection (/Users/tpiros/Documents/development/strapi-test/node_modules/knex/lib/dialects/sqlite3/index.js:73:12)\n    at create (/Users/tpiros/Documents/development/strapi-test/node_modules/knex/lib/client.js:282:21)\n    at tryPromise (/Users/tpiros/Documents/development/strapi-test/node_modules/tarn/lib/Pool.js:366:22)\n    at tryPromise (/Users/tpiros/Documents/development/strapi-test/node_modules/tarn/lib/utils.js:57:20)\n    at Promise (/Users/tpiros/Documents/development/strapi-test/node_modules/tarn/lib/Pool.js:366:5)\n    at new Promise ()\n    at callbackOrPromise (/Users/tpiros/Documents/development/strapi-test/node_modules/tarn/lib/Pool.js:357:10)\n    at Pool._create (/Users/tpiros/Documents/development/strapi-test/node_modules/tarn/lib/Pool.js:307:5)\n    at Pool._doCreate (/Users/tpiros/Documents/development/strapi-test/node_modules/tarn/lib/Pool.js:275:32)\n    at Pool._tryAcquireOrCreate (/Users/tpiros/Documents/development/strapi-test/node_modules/tarn/lib/Pool.js:212:12)\n    at Pool.acquire (/Users/tpiros/Documents/development/strapi-test/node_modules/tarn/lib/Pool.js:119:10)\n    at _bluebird.default.try (/Users/tpiros/Documents/development/strapi-test/node_modules/knex/lib/client.js:333:50)\nFrom previous event:\n    at Client_SQLite3.acquireConnection (/Users/tpiros/Documents/development/strapi-test/node_modules/knex/lib/client.js:333:33)\n    at Runner.ensureConnection (/Users/tpiros/Documents/development/strapi-test/node_modules/knex/lib/runner.js:224:24)\n    at Runner.run (/Users/tpiros/Documents/development/strapi-test/node_modules/knex/lib/runner.js:33:41)\n    at SchemaBuilder.Target.then (/Users/tpiros/Documents/development/strapi-test/node_modules/knex/lib/interface.js:23:43)\n    at process._tickCallback (internal/process/next_tick.js:68:7)\n(node:51202) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 8)\n(node:51202) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.\n(node:51202) UnhandledPromiseRejectionWarning: TypeError: Argument 0 must be a string\n    at _bluebird.default (/Users/tpiros/Documents/development/strapi-test/node_modules/knex/lib/dialects/sqlite3/index.js:74:18)\n    at Client_SQLite3.acquireRawConnection (/Users/tpiros/Documents/development/strapi-test/node_modules/knex/lib/dialects/sqlite3/index.js:73:12)\n    at create (/Users/tpiros/Documents/development/strapi-test/node_modules/knex/lib/client.js:282:21)\n    at tryPromise (/Users/tpiros/Documents/development/strapi-test/node_modules/tarn/lib/Pool.js:366:22)\n    at tryPromise (/Users/tpiros/Documents/development/strapi-test/node_modules/tarn/lib/utils.js:57:20)\n    at Promise (/Users/tpiros/Documents/development/strapi-test/node_modules/tarn/lib/Pool.js:366:5)\n    at new Promise ()\n    at callbackOrPromise (/Users/tpiros/Documents/development/strapi-test/node_modules/tarn/lib/Pool.js:357:10)\n    at Pool._create (/Users/tpiros/Documents/development/strapi-test/node_modules/tarn/lib/Pool.js:307:5)\n    at Pool._doCreate (/Users/tpiros/Documents/development/strapi-test/node_modules/tarn/lib/Pool.js:275:32)\n    at Pool._tryAcquireOrCreate (/Users/tpiros/Documents/development/strapi-test/node_modules/tarn/lib/Pool.js:212:12)\n    at delay.then (/Users/tpiros/Documents/development/strapi-test/node_modules/tarn/lib/Pool.js:299:63)\n    at process._tickCallback (internal/process/next_tick.js:68:7)\n(node:51202) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 15)\n(node:51202) UnhandledPromiseRejectionWarning: TypeError: Argument 0 must be a string\n    at _bluebird.default (/Users/tpiros/Documents/development/strapi-test/node_modules/knex/lib/dialects/sqlite3/index.js:74:18)\n    at Client_SQLite3.acquireRawConnection (/Users/tpiros/Documents/development/strapi-test/node_modules/knex/lib/dialects/sqlite3/index.js:73:12)\n    at create (/Users/tpiros/Documents/development/strapi-test/node_modules/knex/lib/client.js:282:21)\n    at tryPromise (/Users/tpiros/Documents/development/strapi-test/node_modules/tarn/lib/Pool.js:366:22)\n    at tryPromise (/Users/tpiros/Documents/development/strapi-test/node_modules/tarn/lib/utils.js:57:20)\n    at Promise (/Users/tpiros/Documents/development/strapi-test/node_modules/tarn/lib/Pool.js:366:5)\n    at new Promise ()\n    at callbackOrPromise (/Users/tpiros/Documents/development/strapi-test/node_modules/tarn/lib/Pool.js:357:10)\n    at Pool._create (/Users/tpiros/Documents/development/strapi-test/node_modules/tarn/lib/Pool.js:307:5)\n    at Pool._doCreate (/Users/tpiros/Documents/development/strapi-test/node_modules/tarn/lib/Pool.js:275:32)\n    at Pool._tryAcquireOrCreate (/Users/tpiros/Documents/development/strapi-test/node_modules/tarn/lib/Pool.js:212:12)\n    at delay.then (/Users/tpiros/Documents/development/strapi-test/node_modules/tarn/lib/Pool.js:299:63)\n(node:51202) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 21)\n(node:51202) UnhandledPromiseRejectionWarning: TypeError: Argument 0 must be a string\n    at _bluebird.default (/Users/tpiros/Documents/development/strapi-test/node_modules/knex/lib/dialects/sqlite3/index.js:74:18)\n    at Client_SQLite3.acquireRawConnection (/Users/tpiros/Documents/development/strapi-test/node_modules/knex/lib/dialects/sqlite3/index.js:73:12)\n    at create (/Users/tpiros/Documents/development/strapi-test/node_modules/knex/lib/client.js:282:21)\n    at tryPromise (/Users/tpiros/Documents/development/strapi-test/node_modules/tarn/lib/Pool.js:366:22)\n    at tryPromise (/Users/tpiros/Documents/development/strapi-test/node_modules/tarn/lib/utils.js:57:20)\n    at Promise (/Users/tpiros/Documents/development/strapi-test/node_modules/tarn/lib/Pool.js:366:5)\n    at new Promise ()\n    at callbackOrPromise (/Users/tpiros/Documents/development/strapi-test/node_modules/tarn/lib/Pool.js:357:10)\n    at Pool._create (/Users/tpiros/Documents/development/strapi-test/node_modules/tarn/lib/Pool.js:307:5)\n    at Pool._doCreate (/Users/tpiros/Documents/development/strapi-test/node_modules/tarn/lib/Pool.js:275:32)\n    at Pool._tryAcquireOrCreate (/Users/tpiros/Documents/development/strapi-test/node_modules/tarn/lib/Pool.js:212:12)\n    at delay.then (/Users/tpiros/Documents/development/strapi-test/node_modules/tarn/lib/Pool.js:299:63)\n    at process._tickCallback (internal/process/next_tick.js:68:7)\n(node:51202) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 26)\n(node:51202) UnhandledPromiseRejectionWarning: TypeError: Argument 0 must be a string\n    at _bluebird.default (/Users/tpiros/Documents/development/strapi-test/node_modules/knex/lib/dialects/sqlite3/index.js:74:18)\n    at Client_SQLite3.acquireRawConnection (/Users/tpiros/Documents/development/strapi-test/node_modules/knex/lib/dialects/sqlite3/index.js:73:12)\n    at create (/Users/tpiros/Documents/development/strapi-test/node_modules/knex/lib/client.js:282:21)\n    at tryPromise (/Users/tpiros/Documents/development/strapi-test/node_modules/tarn/lib/Pool.js:366:22)\n    at tryPromise (/Users/tpiros/Documents/development/strapi-test/node_modules/tarn/lib/utils.js:57:20)\n    at Promise (/Users/tpiros/Documents/development/strapi-test/node_modules/tarn/lib/Pool.js:366:5)\n    at new Promise ()\n    at callbackOrPromise (/Users/tpiros/Documents/development/strapi-test/node_modules/tarn/lib/Pool.js:357:10)\n    at Pool._create (/Users/tpiros/Documents/development/strapi-test/node_modules/tarn/lib/Pool.js:307:5)\n    at Pool._doCreate (/Users/tpiros/Documents/development/strapi-test/node_modules/tarn/lib/Pool.js:275:32)\n    at Pool._tryAcquireOrCreate (/Users/tpiros/Documents/development/strapi-test/node_modules/tarn/lib/Pool.js:212:12)\n    at delay.then (/Users/tpiros/Documents/development/strapi-test/node_modules/tarn/lib/Pool.js:299:63)\n(node:51202) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 30)\n[2019-03-12T16:32:37.512Z] debug \u26d4\ufe0f Server wasn't able to start properly.\n[2019-03-12T16:32:37.513Z] error (hook:bookshelf) takes too long to load\n(hook:bookshelf) takes too long to load\n```. my bad @lauriejim - updated \u261d\ufe0f . OK, so based on your last comment I took another laptop where I have never used Strapi before and tried to replicate the error, but could not. Everything worked.\nI came back to the \"faulty\" machine, and I found that the global npm packages were a bit borked:\n$ npm list -g --depth=0\n// list of packages and errors:\nerror: ENOENT: no such file or directory, stat '/Users/tpiros/.npm-global/lib/node_modules/strapi-admin\n\u251c\u2500\u2500  error: ENOENT: no such file or directory, stat '/Users/tpiros/.npm-global/lib/node_modules/strapi-generate\n\u251c\u2500\u2500  error: ENOENT: no such file or directory, stat '/Users/tpiros/.npm-global/lib/node_modules/strapi-generate-admin\n// etc etc etc\nSo I deleted all global packages - and I mean I have actually rm -rf .npm-global ( \ud83d\ude09 ) then re-installed Strapi globally and things started to work. (I did the rm -rf because npm uninstall -g strapi didn't remove the above mentioned errors)\nI don't know what went wrong exactly but hopefully the above \u261d\ufe0f will help people who run into something similar.. ",
    "chanon": "@cupofnestor what happens in your case? Does it disallow deleting the file? Or does it allow saving the Post with missing file?. Hmm... I guess something might be wrong with my setup/config. I don't know how or why though.\nIf no one can reproduce, then feel free to close.. ",
    "elhenro": "@lauriejim thanks for the effort!\nstrange, i still cant seem to get it working.. only thing that works for me is using raw html code in the strapi text fields and then rendering it as v-html (vue) in my frontend. could it be because of cloudflare? or nginx forwarding to the docker container?. >It's really strange.\nit is..\nI'll try some (alpha) testing without the docker container.\nI will update if I find out what could cause those missing line breaks.\n. @lauriejim \nI just tried a fresh strapi install with node v10.15.3\nnpm install strapi@alpha -g\non my local machine (not on the server, no cloudflare, no nginx, no docker)\nAnd I have the exact same problem..\nmy simple text field contains:\n``` markdown\ntest\nnew line\nanother new line\n```\nthe api response is \njson\n[\n{\nid: 1,\ntext: \"test new line another new line\",\ncreated_at: 1552495580580,\nupdated_at: 1552495580658\n}\n]\nalso happends with wysiwyg: text2: \"one two ## three four\",\n(also if i used double linebreaks). Nevermind. \nI found it is because of a chrome plugin i was using :laughing: \nIt seems to hide \\n, for no obvious reason, but does not show linebreaks either..\nSorry for wasting your time on this.. ",
    "jklepatch": "I can have a look. Is this in this package?\nhttps://github.com/strapi/strapi/tree/master/packages/strapi-admin/admin\nor here?\nhttps://github.com/strapi/strapi/blob/master/packages/strapi-plugin-users-permissions/admin. ",
    "Prat041192": "The hook name is afterFetchCollection and beforeFetchCollection, Documentation needs to be updated.\nLine 239, & 241 of the file placed at location below\nhttps://github.com/strapi/strapi/blob/master/packages/strapi-hook-bookshelf/lib/index.js\nEither documentation needs to be changed or code. (Change the document would be better option). > Hello!\n\nIf you replace this code, it will not match with Mongoose template.\nThe correct way to harmonise this stuff if to update the code here to match with beforeFetchAll like here\nAnd this function look missing in the bookshelf template , that could be a good thing to add it in the same time.\nSo please can you update your PR by following my message please. Thank you!\n\nHey @lauriejim \n I think I have made the changes as you suggested. . ",
    "markjlaney": "@lauriejim  I'm not quite sure I understand what you're saying, but this is reproducible for React app endpoints and admin server endpoints. Or API endpoints. I just tried it against a content type API and an admin API (admin/currentEnvironment) and I'm able to get the origin * every time. . Ah ok, @lauriejim  and I had a discussion in slack. They use that header to disable the CORS setup if the request is coming from the admin panel. The problem is that anyone can set this header and they can disable the CORS policy. \nCouldn't you just include your admin panel host in your origin and this header wouldn't be necessary? Like I said, you could check if the CORS policy is enabled first. I mean most people probably aren't running on port 4000 as well so it's not even guaranteed that the hard-coded port value will work. That check itself probably causes people a lot of pain. . ",
    "absolux": "Hi, I think that an optional object could be passed as second argument to upload function. Such object could simply contain the folder option:\njs\n// usage\nupload(file, { folder: 'folder_name' })\nhttps://github.com/strapi/strapi/blob/aeee19bdfdf66fc77e6cfb62184537df1b77048a/packages/strapi-provider-upload-cloudinary/lib/index.js#L38-L50. @lappalj4 , @lauriejim ,\nAfter reading the documentation, and the source of strapi-provider-upload-aws-s3, I suggest to use file.path as used by aws provider.\n```js\nconst options = { resource_type: \"auto\", folder: file.path }\nconst upload_stream = cloudinary.uploader.upload_stream(options, cb)\n```. ",
    "IceOnFire": "Hi @nikosolihin,\nI think you're right and thanks to you I can now perform the queries by replacing \"Patient.find\" with \"strapi.controllers.patient.find\". So now the issue I'm having is indeed similar to #1887, because queries and mutations work but policies are not called unless we fix Mutation.js as you say.. I'm doing some tests too, and I found out a strange thing: if I don't specify a resolver in my custom schema, it is correctly resolved both on the Query.js and Mutation.js modules. For example I can console.log the patient controller that was found by Query.js, and it looks the right one:\n```js\nasync ctx => {\n  if (!ctx.params._id.match(/^[0-9a-fA-F]{24}$/)) {\n    return ctx.notFound()\n  }\nreturn strapi.services.patient.fetch(ctx.params)\n}\n```\nBut then the server still fails to start somewhere else due to\nError: Resolver Query.patient must be object or function. Sure. my last one is like this:\njs\nmodule.exports = {\n  definition: ``,\n  query: ``,\n  mutation: ``,\n  type: {},\n  resolver: {\n    Query: {\n      patients: {\n        resolver: 'Patient.find',\n        policies: ['plugins.users-permissions.permissions', 'global.filterByOwner']\n      }\n  }\n}\nMy tests lead me to these conclusions:\n\n\nIf I don't specify the resolver, it is found automatically at startup but then fails to boot with the message Error: Resolver Query.patients must be object or function\n\n\nIf I do specify it like Patient.find then the server boots, the policies are applied, but the query fails with the following stacktrace:\n\n\nTypeError: Cannot read property 'primaryKey' of undefined\nat <PROJECT_DIR>/plugins/graphql/services/Query.js:263:72\n(maybe this is the same as what @lauriejim is talking about in https://github.com/strapi/strapi/issues/2867#issuecomment-466038696)\n\n\nIf I specify it like strapi.controllers.patient.find then the server won't find the controller.\n\n\nAlso, my policy global.filterByOwner relies on the ctx.state.user variable which has no value when it is called because the policy plugins.users-permissions.permissions gets added internally by the GraphQL plugin as the last policy. The workaround for this issue is explicitly adding plugins.users-permissions.permissions as first policy in the custom schema, but I think it should always be prepended.. Model is undefined because at a certain point at startup it does\n\n\nconst model = plugin\n      ? strapi.plugins[plugin].models[name]\n      : strapi.models[name];\nwhere name is 'patients', not 'patient'. The model was correctly populated when isSingular was true and false, but then it breaks when isSingular is set to \"force\".. Yup, it definitely breaks when overriding plurals such as patients. patient works instead.. Hey @lauriejim,\nI'm not sure yet, let me make some more tests tomorrow morning.. Hi @lauriejim,\nThis is what I found after some more digging:\nThere are a lot of issues when customizing GraphQL schemas. Some are addressed in other issues, some other maybe not completely.\n\n\nWhen redefining a plural query such as patients in the custom schema like this:\npatients: {\n  resolver: 'Patient.find'\n}\nthe query breaks with the Cannot read property 'primaryKey' of undefined message just like you stated in comment https://github.com/strapi/strapi/issues/2867#issuecomment-466038696. The result is the same, but I don't know if the cause is.\n\n\nPolicies such as plugins.users-permissions.permissions are being applied after custom policies. This is bad because a custom policy such as isOwner cannot take advantage of having the user already populated in the context. It is better to unshift that policy instead of pushing it, otherwise developers need to explicitely add plugins.users-permissions.permissions as first policy in their custom schemas.\n\n\nWhen redefined in the custom schema, a mutation such as createPatient adds the patient to the db but does not return it (which maybe is similar to issue #2766):\n// redefinition in schema\ncreatePatient: {\n  resolver: 'Patient.create',\n},\n\n\n// mutation result\n{\n  \"data\": {\n    \"createPatient\": null\n  }\n}\n\nI'm not sure about what's happening in issue #1887, because @jrperdomoz was talking about a query and the solution provided by @nikosolihin seems relative to mutations. The solution does not solve point 1 for me, nor it affects point 3. I really struggled understanding the train of thought inside the service files of the GraphQL plugin and couldn't really find any clue.. \n",
    "jimmi2051": "Steps to reproduce the problem: \n1) Restore database MongoDB\n2) strapi start \n3) I use localhost:1337/graphql to query \nEx: 2 Content Type: School and Student. Relations School - Student : 1 - n\nWith data: {\nid:\"1\"\nname:\"SchoolA\"\n      students{\n         [\n              student1{\n                name:\"A\"\n                },\n              student2{\n                name:\"A\"\n                }\n         ]\n      }\n}.\nAnd Query: \n{\nschool(id:\"1\"){\n          students{\n                name\n               }\n        }\n}\n==> Result is null after i restored database. . ",
    "pnl107": "I think it can help you\nhttps://strapi.io/documentation/3.x.x/migration-guide/migration-guide-alpha.24-to-alpha.25.html. ",
    "kuzn-ilya": "\nI think it can help you\nhttps://strapi.io/documentation/3.x.x/migration-guide/migration-guide-alpha.24-to-alpha.25.html\n\n@pnl107 , thank you for suggestion, but I bootstrapped a strapi from scratch, so I cannot apply migration steps described by a link you provided. Could you please drop me a hint, if you meant something different from migration 24->25.. @lauriejim , @soupette , Let me know if you need help to reproduce this bug or any additional info from my side. @abdonrd , do you use a proper version of nodejs? I got a similar error when I used node 8 which is currently not supported by strapi. ",
    "daymont87": "@lauriejim sorry, you can keep it closed, I figure out my mistake, in pack \"field name\" i can set any name, not necessary use \"id\" . ",
    "xi-osman": "Please read this document. ",
    "harlyon": "I bet you it is.... but alot of plugins are still yet to be implemented but i tell you strapi is kool. ",
    "odykyi": "const { exec } = require('child_process');. pls add to readme this commands. pls add to readme this commands. const { exec } = require('child_process');\n. pls use module.exports instead of exports. ",
    "mtringuyen": "yes, ssl is a boolean. but this is for ssl is undefined. ",
    "muxuezi": "Maybe dayjs is the better option, https://github.com/iamkun/dayjs. ",
    "yvesdo": "compte au lieu de comtpe. discover. Node.js. link is on the current page, it's not necessary.. consume the content type API doesn't change de colour of the Chapter 6.Consume the Content API in the left menu.. change link for Node.js for (#Install-Node-and-NPM) and for strapi for (#Install-Strapi-globally). npm in small caps. Node.js and npm\nnpm is always in small caps . npm. Find instead of FInd. Replace :  A more detailed version of this Quick Start page can be found at Quick Start - Detailed in the Installation Options section.\nBy:\nA tutorial is also available for easier access here.\nNOTE: rename Installations Options and Quick Start Detailed (in left menu) (not understandable) by Tutorial.\n. You should have already completed the steps to install Strapi and the requirements from Installation Requirements. These steps continue after ensuring Node.js, npm and Strapi are all properly installed.. Remove str@pi:~/Desktop/Strapi/Projects$ . this note is a duplicate of the first one on top of page. You will need to fill in the form and click the \"Ready to Start\" button.. Delete \"At this point, your project is empty. You need to create a Content Type.\". and instead of a. Add gif of Onboarding video : Create your first content types. Move Note at line 12. \nAdd screen capture of live demo and link to youtube video of live demo.\n. Remove. Remove. remove the note. Remove the list. Remove : Next, click on the Strapi logo (top left corner) to return the main administration panel.\n. Add image: https://strapi.io/documentation/assets/img/getting-started_no_content_type.9f011b67.png. Add image: https://strapi.io/documentation/assets/img/getting-started_register.e656c1ff.png. I would just put the video and delete all from line 66 to 167, it will live in the tutorial.. See the CLI documentation for more information on how to add Content Types using the Strapi CLI.\n. Add gif Onboarding https://drive.google.com/drive/folders/19h91Z5hUXTzsEhyZfhFiS9EQVSlorlGc. Remove 187-195 => Tutorial. You will see your restaurants and your categories listed in the entries, from where you can edit, add or delete any of them.\n. Remove 199-227. Remove. Add gif : Managing Access permissions and fetching API : https://drive.google.com/drive/folders/19h91Z5hUXTzsEhyZfhFiS9EQVSlorlGc. Remove 247-259. Remove. Add a gif of Consuming the API https://drive.google.com/open?id=19h91Z5hUXTzsEhyZfhFiS9EQVSlorlGc. You should have already completed the steps to install Strapi and the requirements from Installation Requirements. These steps continue after ensuring nodejs, NPM and strapi are all properly installed.. bash\ncd Projects. bash\nstrapi new my-project --quickstart. bash\nls\nmy-project. I would remove the list. \ud83d\udc4f Congratulations, you have now completed the tutorial showing you how to get started. We invite you to join our community. Please continue reviewing our docs and tutorials to further learn how Strapi can solve your needs.. I would say: Click on Permission (Users-Permissions) and change it to Restaurant (on the right side).. miss an a at last restaurant. categories instead of catgeories. ",
    "virginieky": "Made it together to test events emitter but you're right, I will set it back to false. display: flex;\nflex-direction: column;\njustify-content: center;\nheight: 6rem;. width: 100%;\nmin-height: 100%;\nbackground: $content-background;. width: calc(100vw - #{$left-menu-width});\nmin-height: calc(100vh - #{$header-height});\nmargin-top: $header-height;\nmargin-left: $left-menu-width;\nbackground: $content-background;. 'renderAdmin should return some jsx' . correctly ?\nSame for all next. "
}