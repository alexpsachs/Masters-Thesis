{
    "fprochazka": "Cool idea! + 1\n. ",
    "dbushell": "Why didn't I think of this!\n. The defaults.itemIdAttribute is now deprecated, I'll remove that in the next update.\n. nice spot\n. Hi @zgldh sorry for the late reply! Can you submit this pull request with just the button class changes? I've just pulled in a fix for the dragEl.html() issue (you'll need to update from origin master).\n. Thanks for this, sorry for taking so long to reply. I'll give it a test soon an then merge.\n. Thanks @siruscoder, apologies for taking so long to pull :)\n. Excellent work :)\n. Hi @zvona, unfortunately this is no longer working because of the detach() method used on this line. Does Zepto have an equivalent?\n. Thanks I've had a look inside jQuery too, pushed a quick solution same as you've found here. Perhaps there is a more elegant way but it works for now :)\n. thanks :)\n. really good work thanks man. Just pushed up similar changes myself. I should have checked your pull request first! Merge in anyway to get your name on the contributor list.\n. ",
    "guopengliang": "Unfortunately, li.data() doesn't work for zepto.js\nThe .data() function in zepto.js only works when the data's id is specified, such as li.data(\"id\")\n. ",
    "siruscoder": "Hi, I tested the changes you had committed and it appears to work. \nHow I tested it: I had attached (on document load) a click function to a nestable div and then moved that div under another. Earlier, after the move the click function would not get called. Now it does. \nThanks!\n. ",
    "zvona": "Hi,\nonly equivalent reems to be remove() which actually (according to the source) behaves just like detach by only calling elem.parent.removeChild(elem). (https://github.com/madrobby/zepto/blob/master/src/assets.js#L17)\nSo, the quick'n' dirty solution would be aliasing remove() to detach() if it doesn't exist. Sounds a bit awkward, though :/\n. OK, nice.\nPlease note that https://github.com/dbushell/Nestable/blob/master/jquery.nestable.js#L286 needs to be (for Zepto):\nthis.placeEl.replaceWith(this.dragEl.children(this.options.itemNodeName).first().detach())\nwhen re-enabled, since :first/:last aren't supported.\n. ",
    "RamonDonnell": "Thanks for this. \nIt is worth mentioning this adds jQueryUI as a dependency to the project.\n. ",
    "TomNM": "Something needs to scroll, even the browser window, when you're dragging.\n. ",
    "peters": "/cc @dbushell This one as well. Works as expected with and without jquery ui.\n. /cc @dbushell Could you please merge this? It works as expected. It's silly to have to maintain a \nfork with PR's that contribute significat improvements to the library.\n. ",
    "nagarajhubli": "It's not working for me unless I include jQuery UI (draggable module and the corresponding depencies), also any help in making it work for IE8 will be appreciated\n. ",
    "dokshor": "@craigsansam  is dificulty add a new functionality like an specific node can't be moved into the root? How can i solve it you think?\n. @craigsansam thanks in advance :) .. this will be a really nice feature\n. Sorry, i didnt saw that. The dd-nochildren is yours.\n. Comments modified :)\n. ",
    "craigsansam": "@dokshor I am working on adding that, should be ready in the next few days.\n. ",
    "roelvanduijnhoven": "Also this PR is highly usefull. What about merging it?\n. Seems a very usable PR. Is the repo owner no longer active?\n. ",
    "farwinsalih": "is there anyway of doing specific node can't be moved into the root? \n. ",
    "ghost": "Sorry - how does this work then? Is this correct if I want to see the source ID in console?\n$('#nestable1').nestable({\n        dropCallback    : 'sourceId'\n    }).on('change', function(e) {\n        console.log(e);\n    });\n. Thanks - getting better results now!\n. ",
    "yhnavein": "Here is example: \njavascript\n$('#article-container').nestable({\n  dropCallback: function(details) {\n    console.log(details.sourceId);\n  }\n});\n. ",
    "psopa": "Hi! great job!\nhow can i access an item class using sourceEl? \nthanks a lot\n. ",
    "TomasVotruba": "+1\n. ",
    "rudionrails": "I was having the same need, but you can make a small change that will yield in even better results.\njavascript\n// Change lines 296..299 into the following:\n// this.el.trigger('change');\n// if (this.hasNewRoot) {\n//     this.dragRootEl.trigger('change');\n// }\n// ...into this:\nel.trigger('change');\nNow you can do something like this:\n``` javascript\n// The following will only trigger the changed element\n$('.dd').nestable({\n  // options\n}).on('change', '.dd-item', function(e) {\n  e.stopPropagation();\nvar id = $(this).data('id'),\n      parentId = $(this).parents('.dd-item').data('id');\n$.ajax({\n  // options\n})\n\n});\n```\nOR:\njavascript\n$('.dd').nestable().on('change', function() {\n  // want to know the clicked element?\n  // => check out: `e.target` and/or `e.currentTarget`\n  // the call will bubble up to the root element (and all elements in between) if you don't stop propagation\n});\nWhat do you think?\n. ",
    "mnikolovski": "Change the default settings to. I've added onDragFinished callback.\nvar defaults = {\n            listNodeName    : 'ol',\n            itemNodeName    : 'li',\n            rootClass       : 'dd',\n            listClass       : 'dd-list',\n            itemClass       : 'dd-item',\n            dragClass       : 'dd-dragel',\n            handleClass     : 'dd-handle',\n            collapsedClass  : 'dd-collapsed',\n            placeClass      : 'dd-placeholder',\n            noDragClass     : 'dd-nodrag',\n            emptyClass      : 'dd-empty',\n            expandBtnHTML   : '<button data-action=\"expand\" type=\"button\">Expand</button>',\n            collapseBtnHTML : '<button data-action=\"collapse\" type=\"button\">Collapse</button>',\n            group           : 0,\n            maxDepth        : 5,\n            threshold       : 20,\n            onDragFinished  : function(currentNode, parentNode) { }\n    };\nChange the dragStop function to:\n```\n        dragStop: function(e) {\n            var list = this;\n            var el = this.dragEl.children(this.options.itemNodeName).first();\n            el[0].parentNode.removeChild(el[0]);\n            this.placeEl.replaceWith(el);\n        this.dragEl.remove();\n\n        var $parents = $(el[0]).parents('.' + list.options.itemClass);\n        var $parent = null;\n        if ($parents.length > 0) $parent = $parents[0];\n        list.options.onDragFinished(el[0], $parent);\n        this.el.trigger('change');\n        if (this.hasNewRoot) {\n            this.dragRootEl.trigger('change');\n        }\n        this.reset();\n    },\n\n```\nNow you can have the callback with the child/parent\n. ",
    "mm01": "hi, nice work.\ndropCallback event like change event  fires after user just clicks drag handler without no change\nhow to check if user changed something like order or parent or just clicked drag handler?\n. ",
    "jffsx": "guys, how do I remove an item?\n. ",
    "lazarohcm": "Thank you man, and for @rudionrails too. \n. ",
    "irfanlateef": "I'm facing problem in nestable tree.\nI've two lists e.g. List A and List B.\nList A has multiple items and List B is empty.\nMy requirement is when user drag the items on List B e.g. empty list then it should save into database and when user drop the item from List B then it should be remove from the database so I can track how much items has been dropped on the list.\nIf any one can provide me the source code it will be great help for me.\nThanks in advance.\n. ",
    "prometherion": "+1\n. ",
    "habibmokni": "sal\u00e9\u00e9\u00e9m\n. ",
    "28pankaj": "how to use this with data table min.js\nits not working in table tag???\n if i replace ol and li its showing error: Cannot read property 'parentNode' of undefined and dd-handle showing up. ",
    "ziaRJ": "please tell me only parent and child not parent child arent child arent child\n. ",
    "edirectorios": "One problem i see here with nestable is that when you reload data into de nestable it does not render the items for the second, third time you make an ajax call with data to load on it.\nAny clues?. ",
    "spamoom": "Why would you copy code from another pull request and re-submit it with another feature added on?\n. Not mine, https://github.com/dbushell/Nestable/pull/48\n. ",
    "nback5": "I agree, it would be nice to be able to mark any node as non-draggable\n. ",
    "kiezasrac": "Thank you very much, you saved me a bunch of time! Works like a charm on IE8.\n. ",
    "jasonruesch": "I'm glad it was helpful for someone else other than myself. :)\nOn Jun 10, 2013, at 3:50 PM, kiezasrac notifications@github.com wrote:\n\nThank you very much, you saved me a bunch of time! Works like a charm on IE8.\n\u2014\nReply to this email directly or view it on GitHub.\n. \n",
    "estmatic": "Suggestion: I would drop the user agent browser detection... jQuery removed it for a reason. Attaching the events to $(document) should work on all browsers and jQuery normalizes event.which so that it's consistent across browsers (event.which === 1 // left-mouse click).\n. ",
    "andrewdisney": "I am not able to get this to work in IE 8 on Windows 7. I really like this plugin! But I cannot get the demo page to work in IE 8.\n. ",
    "iladarsda": "Thanks for sharing!\n. ",
    "pealife": "I am also not able to get this to work in IE 8 on Windows 7. Please can anyone help? \nI am having this bug: \nError message:  Object doesn't support this property or method  Sortable.js, line 96 character 9\n--CODE--\n// Define events\n        _customEvents.forEach(function (name) {\n            options[name] = _bind(this, options[name] || noop);\n            _on(el, name.substr(2).toLowerCase(), options[name]);\n        });\nThanks\n. ",
    "tchapi": "FWIW I've created a more active fork here and included your fix  amongst others ;)\n. FWIW I've created a more active fork here and included your fix  amongst others ;)\n. FWIW I've created a more active fork here and included your fix  amongst others ;)\n. Great idea ! \u2014 I've added it in my repository (which already includes a lot of other PR from this repo) but I took a slightly different approach, reusing the list.options.collapsedClass that is more standard, and removing unecessary $.\n\nSee the commit here and above (I referenced your PR)\n\nHope that helps\n. ",
    "schneikai": "Hey guys. How is this supposed to work actually? Is there an example how to use the reject option? Thanks!\n. Nice! Thank you!\n. ",
    "bperel": "Hi @schneikai, the use of the reject option is quite simple but, indeed, not documented, here's an example : \njavascript\n$('#nestable').nestable({\n      reject: [{\n        rule: function() { // The this object refers to dragRootEl i.e. the dragged element. The drag action is cancelled if this function returns true\n          return $(this).find('>ol>input input').length > 0; // The rule here is that it is forbidden to have nested inputs in the hierarchy\n        },\n        action: function(nestable) { // This optional function defines what to do when such a rule applies. The this object still refers to the dragged element, and nestable is, well, the nestable root element\n          alert('You can\\'t do that !');\n        }\n      },\n      { /* You can add another rule (and possibly an associated action) here */}\n      ]\n});\n. @sebVier I'll check this in the next days. @sebVier I had a look at this. You may have been confused by the inaccurate comments that I put on my code. I fixed that and updated from upstream into https://github.com/bperel/Nestable. Demo is on http://bperel.github.com/Nestable/. ",
    "sebVier": "Hi @bperel , i know this is an old branch but fit's my current project quite well. Do you know if it's also possible to reject something based on the destination it's moved to?\nFor example i want to prevent people dropping items in the root of my tree but all other 'levels' are OK. \n1-2\n--2-3\n--2-3\n--2-3-4\nIn the above example lvl1 would be root, so offlimit's. But all others are fine so something from lvl4 could be dropped in lvl2 etc. etc. \nhaving a hard time with this, hope you could share some insights :).\nThanks in advance!. Awesome thanks a lot!. @bperel Thank you so much! work's great now!. ",
    "jerviscui": "@bperel  so good.\nI have implemented a method like reject drop,\nafter that I see your fork.  :smile: :smile: :smile: . ",
    "bilalyilmax": "@bperel Thanks you for this solution. :+1:. ",
    "lukasoppermann": "Nice idea, but there is an error.\nIf you add a button for e.g. to toggle / destroy the draggable class, the collapse buttons are added every time.\nThe easiest way to fix this would be to remove the buttons every time you disable the draggable, since the functionality is removed anyway.\n. ",
    "CHeil402": "You can implement this by adding the following to the begining of your destroy function (line 137)\njavascript\n$(this.options.expandBtnHTML).remove();\n$(this.options.collapseBtnHTML).remove();\n. ",
    "zepernick": "I got this working with some fixes.\nAdd this to the init() function\n```javascript\nvar destroyNestable = function()\n            {\n                list.el.find(\"button[data-action]\").remove();\n            if (hasTouch) {\n                list.el[0].removeEventListener('touchstart', onStartEvent, false);\n                window.removeEventListener('touchmove', onMoveEvent, false);\n                window.removeEventListener('touchend', onEndEvent, false);\n                window.removeEventListener('touchcancel', onEndEvent, false);\n            }\n\n            list.el.off('mousedown', onStartEvent);\n            list.w.off('mousemove', onMoveEvent);\n            list.w.off('mouseup', onEndEvent);\n\n\n            list.el.off('click');\n            list.el.unbind('destroy-nestable');\n\n            list.el.data(\"nestable\", null);\n        };\n\n        list.el.bind('destroy-nestable', destroyNestable);\n\n```\nThen add this to the prototype\njavascript \ndestroy: function () {\n            this.el.trigger('destroy-nestable');\n        }. ",
    "amirpaia": "That's neat & nice.\nvery thanks Antonimo.\n. ",
    "gion": "You must make a new release with a tag matching the version from the bower.json file (in this it's  0.0.1).\n. @RamonSmit ok I guess, but I would have to test your code to see if any of the old functionalities break.\nRelated to this issue, could you make it a bower component?\n. @SerendipityNL Yes, that's the first step :).\nAfter that people could install the dependency by using something like bower install https://github-url.git.\nIf you want the package to be registered into the official bower registry then you need to also register the component like this: bower register package-name package-git-url. \nAfter registering, users will be able to install this dependency by it's name: bower install package-name.\nHope this helps.. more info on bower stuff here: http://bower.io/\n. ",
    "RamonSmit": "@gion, The original developer stopped with supporting nestable.\nI'm going to implent this in my version! \n. Lots and lots bugs fixed and new featurers! \nCheck it ;)\nVan: Bogdan Gradinariu [mailto:notifications@github.com] \nVerzonden: woensdag 23 april 2014 16:18\nAan: dbushell/Nestable\nCC: Ramon J. A. Smit\nOnderwerp: Re: [Nestable] Create bower.json (#106)\n@RamonSmit https://github.com/RamonSmit  ok I guess, but I would have to test your code to see if any of the old functionalities break.\nRelated to this issue, could you make it a bower component?\n\u2014\nReply to this email directly or view https://github.com/dbushell/Nestable/pull/106#issuecomment-41165933  it on GitHub.  https://github.com/notifications/beacon/1906631__eyJzY29wZSI6Ik5ld3NpZXM6QmVhY29uIiwiZXhwaXJlcyI6MTcxMzg4MTg2MywiZGF0YSI6eyJpZCI6Mjk5NDMxNTB9fQ==--0ecabee2bd5fdd31cb78e8061f658e3bd7ca1a3c.gif \n. ",
    "SerendipityNL": "@gion is it just creating a bower.json? Or do we need to add more?\n. ",
    "brunowego": "+1\n. Run: bower info nestable \nTo list the available versions. Now need make a tag and the bower.json file.\n. I made another pull with a little better bower syntax: #116\n. For now, I created a temporary repository: bower info jquery.nestable\n. @MilanPala you can overwrite the grunt wiredep and not depend the package more:\n``` js\n    // Automatically inject Bower components into the HTML file\n    wiredep: {\n      app: {\n        ignorePath: /^\\/|(..\\/){1,3}/,\n        src: ['<%= config.app %>/templates/layouts/master.hbs'],\n        exclude: [\n          'bower_components/bootstrap/dist',\n      'bower_components/bootstrap-datepicker/css/datepicker.css',\n      'bower_components/fontawesome/css/font-awesome.css',\n      'bower_components/toastr/toastr.css',\n      'bower_components/rv-jquery-fontsize/css/base.css',\n      'bower_components/rv-jquery-fontsize/css/rvfs.css'\n    ],\n    devDependencies: true,\n    overrides: {\n      'jQuery-Mask-Plugin': {\n        main: 'jquery.mask.js'\n      },\n      'parsleyjs': {\n        main: [\n          './dist/parsley.js',\n          './src/i18n/pt-br.js'\n        ]\n      },\n      'summernote': {\n        main: [\n          './dist/summernote.js',\n          './lang/summernote-pt-BR.js',\n          './dist/summernote.css'\n        ]\n      },\n      'bootstrap-datepicker': {\n        main: [\n          './js/bootstrap-datepicker.js',\n          './js/locales/bootstrap-datepicker.pt-BR.js',\n          './css/datepicker3.css'\n        ]\n      }\n    }\n  },\n  sass: {\n    src: ['<%= config.app %>/styles/{,*/}*.{scss,sass}'],\n    ignorePath: /(\\.\\.\\/){1,2}bower_components\\//\n  }\n},\n\n```\n. Waiting for merge :+1: \n. Waiting for merge :+1: \n. ",
    "rtconner": "+1\n@SerendipityNL you can register is also - http://devhike.blogspot.com/2013/06/how-to-register-your-library-or.html\n. ",
    "deankeen": "Thanks so much for this...was extremely helpful for me!. ",
    "sathyaprakash94": "Pls add feature to get the item name of list along with id after serialization.\nCurrent Output\n[{\"id\":13},{\"id\":14,\"children\":[{\"id\":6}]},{\"id\":15,\"children\":[{\"id\":16},{\"id\":17},{\"id\":18}]}]\nExpected:\n[{\"id\":13,\"name\":\"Item 13\"},{\"id\":14,\"name\":\"Item 14\"},{\"id\":15,\"name\":\"Item 15\",\"children\":[{\"id\":16,\"name\":\"Item 16\"},{\"id\":17,\"name\":\"Item 17\"}]}]\nThanks. ",
    "MilanPala": "Please, please, please, merge it!\n. ",
    "gyss": "I'd be great to have this pull request merged. We need support for bower...\n. ",
    "pjona": "@gyss, @brunowego @MilanPala there is active maintenance fork of this repository with support for bower. Check Nestable2. I merged this PR in this fork: https://github.com/RamonSmit/Nestable2. @wilson29thid there is active maintenance fork of this repository with support for npm. Check Nestable2. @alex1007 @iruy \nThere is a fork (with npm and bower installation) of this repository, where I added this functionality, check here: https://github.com/RamonSmit/Nestable. Can you try with this fork: https://github.com/RamonSmit/Nestable2/ ?\nI believe it should works, we using there closest instant of parents.. You can send this PR to https://github.com/RamonSmit/Nestable2 (The most maintainable fork of this project).. ",
    "chrisdeeming": "Can't this be done with the maxDepth option?\n. ",
    "haideritx": "Is there anything related to disabling any node? so that in list of 10 only 9 are draggable and list item containing specific class has been disabled.. ",
    "alekperos": "Thanks a lot! This component saved my hours!\n. ",
    "tablatronix": "Does this not create the opposite problem, in that direct changes to data() would be lost as this only grabs attributes now ? Wonder if a merge() or double extend() would be better\nitem = $.extend({}, li.data,getAttributes(li) ) \n. ",
    "maxmckenzie": "hmm why no merge @dbushell, i know you said you wont provide support but this seems very useful and the works already been done?\n. ",
    "NogerbekNurzhan": "@tsmes I notice one bug. After adding your code something wrong with default maxDepth value. I cant go deep. Do you have the same behavior?\nIt seems to me that problem in this line:\nli.addClass(this.options.collapsedClass).children('[data-action=\"collapse\"]').hide();\nExample: I have 2 node in the same level. Then I try to make on of them child of other but cant move.. ",
    "bigfoot90": "What you think about this solution instead?\n``` js\n            var onEndEvent = function(e)\n            {\n                if (list.dragEl) {\n                    e.preventDefault();\n                var item = list.dragEl.find('.'+list.options.itemClass);\n                list.dragRootEl.trigger('dragEnd', [\n                    item,           // List item\n                    list.el,        // Source list\n                    list.dragRootEl // Destination list\n                ]);\n\n                list.dragStop(e.touches ? e.touches[0] : e);\n            }\n        };\n\n```\nUsage:\njs\n            $('.dd').nestable()\n                .on('dragEnd', function(event, item, source, destination) {\n                    console.log(item, source, destination);\n                });\n. By this way you can attach more than one listener on dragEnd event.\nYou can also add or remove listeners at runtime.\nThe code listeners are decoupled from the list initialization, so you can also split your code in more files, for example 3rd party plugins.\nYou can also create or remove lists at runtime, useful when you have a single page application.\nI've also added three parameters because I need to know the list item I'm moving, and the source and destination lists.\nThis same method is also applicable to dragStart and move events.\n. @webtweakers For position in destination you can use list.placeEl.index() as fourth parameter in dragEnd and move events.\njs\nlist.dragRootEl.trigger('dragEnd', [\n    item,               // List item\n    list.el,            // Source list\n    list.dragRootEl,    // Destination list\n    list.placeEl.index()  // Position\n]);\n. @BeFiveINFO What is the state of this?\n. Placing the trigger after is right, but there is no way to prevent dragStop.\nMaybe split it into two eventsdragEnd and beforeDragEnd.\nCurrently I'm using this ugly workaround:\n``` js\n            var onEndEvent = function(e)\n            {\n                if (!list.dragEl) return;\n                e.preventDefault();\n            var feedback = {abort: false};\n\n            var item = list.dragEl.find('.'+list.options.itemClass);\n            var sourceList = list.el;\n            var destinationList = list.dragRootEl;\n            var position = list.placeEl.index();\n\n            destinationList.trigger('beforeDragEnd', [\n                item,               // List item\n                sourceList,         // Source list\n                destinationList,    // Destination list\n                position,           // Position\n                feedback\n            ]);\n\n            if (feedback.abort) return;\n\n            list.dragStop(e.touches ? e.touches[0] : e);\n\n            destinationList.trigger('dragEnd', [\n                item,               // List item\n                sourceList,         // Source list\n                destinationList,    // Destination list\n                position            // Position\n            ]);\n        };\n\n```\nAnd use case:\n``` js\n$(this)\n            .nestable()\n            .on('beforeDragEnd', function(event, item, source, destination, position, feedback) {\n                if (source[0] === destination[0]) return;\n                feedback.abort = !window.confirm('Continue?');\n            })\n            .on('dragEnd', function(event, item, source, destination, position) {\n                if (source[0] === destination[0]) return;\n            // Make an ajax request to persist move on database\n            // here i need to pass item-id, source-id, destination-id, position index to the server\n            // ....\n        });\n\n```\n@BeFiveINFO  What do you think?\n. Good ;-)\nJust few questions/suggesstions:\n- How you are using the event dragJustBeforeStart?\n- Rename dragJustBeforeStart to beforeDragStart to keep the same nomenclature, and also the shorter name is better.\n- The solution with feedback parameter is not good. I've made it only as a quick workaround. A better solution could be jQuery.Event, you can then check event.isPropagationStopped(). But currently I don't have time to work/test this.\n- Why you have renamed the script file? Maybe keeping the original name helps this PR to be merged in the future.\n. I have noticed there are some minor errors in README.md and in the first issue's post:\nCorrected:\n``` js\n$('#example-list-element').nestable({\n    afterInit: function ( event ) { \n        console.log( event ); \n    }\n})\n.on('beforeDragStart', function(handle) {\n    console.log('dragStart', handle);\n})\n.on('dragStart', function(event, item, source) {\n    console.log('dragStart', event, item, source);\n})\n.on('dragMove', function(event, item, source, destination) {\n    console.log('dragMove', event, item, source);\n})\n.on('dragEnd', function(event, item, source, destination) {\n    console.log('dragEnd', event, item, source, destination);\n})\n.on('beforeDragEnd', function(event, item, source, destination, position, feedback) {\n    // If you need to persist list items order if changes, you need to comment the next line\n    if (source[0] === destination[0]) { feedback.abort = true; return; }\nfeedback.abort = !window.confirm('Continue?');\n\n})\n.on('dragEnd', function(event, item, source, destination, position) {\n    // Make an ajax request to persist move on database\n    // here you can pass item-id, source-id, destination-id and position index to the server\n    // ....\nconsole.log('dragEnd', event, item, source, destination, position);\n\n});\n``\n. @Sysa Currently thefeedback` method is the only that works. The script must be modified to use  jQuery.Event.\n@BeFiveINFO You have reverted your commit, What is the problem?\n. There is not a destination list on dragStart event\n. This setting is not related to events\n. I don't see the destination parameter yet.\nI there any reason why you have removed it?\n. @BeFiveINFO Have you pushed it?\nhttps://github.com/dbushell/Nestable/pull/143/files\n\n. List events with the correct timeline order\nafterInit\nbeforeDragStart\ndragStart\ndragMove\nbeforeDragEnd\ndragEnd\n. Update beforeDragStart event to pass the same parameters as dragStart event do.\n. ",
    "BeFiveINFO": "Thanks bigfoot,\nI do not really know the differences. Perhaps could you please tell me benefits of your solution? Thank you in advance!\n. bigfoot90,\nThanks a lot for the detailed explanation! I have pushed the changes to the repo just as you kindly suggested.\n. Thank you. I made the changes\n.  destination list from dragMove is back now.\n. hello bigfoot90, thanks for checking up!\nI just wanted to ask you about the timing where the trigger function should be at. Currently the trigger is called before \"list.dragStop(e.touches ? e.touches[0] : e);\" (ref: line 156) The action is not completed yet at the point of trigger to be precise. But placing the trigger for dragEnd right after dragStop let dragEl and dragRootEl inaccessible.\nI wonder what we could do for this issue.\nI am now thinking to place the trigger function right after the dragStop, then return just ID of the handle (as String) with the trigger. For example:\nvar onEndEvent = function(e)\n            {\n                if (list.dragEl) {\n                    e.preventDefault();\n                    var item_id = list.dragRootEl.find('li:first').data('id');\n                    list.dragStop(e.touches ? e.touches[0] : e);\n                    /* callback for dragEnd */\n                    list.el.trigger('dragEnd',[item_id]);\n                }\n            };\nThank you for your advices in advance!\n. Thanks @bigfoot90! I have made the changes just as you suggested.\n. @bigfoot90 \nThank you for the suggestions!\n- How you are using the event dragJustBeforeStart?\n  * I use it to change the color of current item in the list\n- Rename dragJustBeforeStart to beforeDragStart \n  * I agree. It makes more sense that way. I think that the name was from my random thought at that moment.\nI will work on the issue below. I will post as soon as I have something to show.\n- The solution with feedback parameter is not good.\n. @bigfoot90 \nPlease see : https://github.com/dbushell/Nestable/pull/143#discussion_r29993318\n. @bigfoot90 Thanks for checking up. I double checked my previous modification few days ago. See the line 138, list.dragRootEl // Destination.\n@webtweakers I just woke up now. I get back to you as soon as I can.\n. I think that I have, but I might have made a mistake?\nhttps://github.com/BeFiveINFO/Nestable/commit/0f3282d70067a8e67dbcb02d50c56498ce592b25\n. Thank you, bigfoot90.\nReadme has been updated.\nUpdating the file so that beforeDragStart returns the parameters. I forgot declaring the item variables. hold on\nFYI I just added you as a collaborator at the repo, https://github.com/BeFiveINFO/Nestable Please feel free to make any changes.\n. @bigfoot90 , I just realised that the code needed to return just handle, because item may not exist depending on cases.\nIn my case, I use \"beforeDragStart\" event to determine a clicked handle element (item). When the handle is clicked, there is an information pane right next to nestable where you can edit details of selected item. I hope that you will get the image of my case scenario.\n. ",
    "webtweakers": "Would be nice if the new position of the dragged element could be added to the dragEnd event arguments. Having this information, would simplify back-end handling/storage of the tree.\n. @bigfoot90 Nice one, thanks.\n. Come to think of it, having some other functionality available at the dragEnd event would be really helpful as well:\n1. a reference to the new parent, if any\n2. being able to return false in the dragEnd callback/listener as a way to undo the move\nAs far as I have checked the code, this kind of functionality seems to fall slightly out of the scope of the project. Unfortunately I have a lack of time at the moment, otherwise I'd implement it myself.\n. ",
    "Sysa": "Is there a clever way of canceling drop and return item to previous position ?\nsomething like this:\n.on('dragEnd', function(event, item, source, destination, position) {\n        if(destination[0].id=='1337')\n    {\n/* cancel working here, maybe this\n        event.preventDefault();\n        return false;\n*/\n    }\n}); \nbut this not working. any ideas?\n. ",
    "ajhalls": "For what it is worth, I used your code to get the element and write it to the database. Here was what I used:\n```\n<?\nif ($_REQUEST){\n    if ($_REQUEST['do'] == 'updatemenu'){\n        print_r($_REQUEST);\n        $dbicons = new SQLite3('./database/icons.sqlite'); \n        $dbicons->busyTimeout(200);\n            $update = \"UPDATE icons SET parent_id = :parent_id WHERE id = :id\";\n            $stmt = $dbicons->prepare($update);\n            $stmt->bindParam(':parent_id', $_REQUEST[\"parent_id\"]);\n            $stmt->bindParam(':id', $_REQUEST[\"id\"]);\n            $stmt->execute();\n            if (!empty($_REQUEST['deletetask'])){\n                $id = $_REQUEST['deletetask'];\n                $delete = \"DELETE FROM icons where id = :id\";\n                $stmt = $db->prepare($delete);\n                $stmt->bindParam(':id', $id);\n                $stmt->execute();\n        }   \n        $dbicons->close();\n        unset($dbicons);\n\n};\n\n}else{};\n?>\n```\nJavascript:\n$(\".dd\").on('dragEnd', function(event, item, source, destination, position) {\n        var currentItem = $(item).attr('data-id');\n        var itemParent = $(item).parent().parent().attr('data-id');\n        $.ajax({\n        method: \"POST\",\n        url: \"iconadmin.php\",\n        data: { id: currentItem, parent_id: itemParent, do: \"updatemenu\" }\n        })\n        .done(function( msg ) {\n        });\n    });```\n. ",
    "FlashJunior": "+1 ;-)\n. ",
    "eflap": "+1\nThis new feature helped me a lot!\n. ",
    "litzinger": "Would someone consider pushing the Merge button on this one? Two years and its still not merged? This is very helpful functionality.. ",
    "claudiodekker": "Thanks for the approval, @tavy315.. I'm not sure whether this PR should be merged, as (now that I look at it again two years later) the code and documentation quality is not that acceptable IMO.\nIf anyone is interested in this, let me know and I'll clean it up a bit. Otherwise, I think it'd be better that @dbushell would close this PR, as keeping PR's open for too long might introduce code rot.. ",
    "SimonOrdo": "@abernh \nAssuming allow is false for both...  it doesn't seem to allow dropping on to a different parent if that parent does not already have children.  Any idea how to fix that?\nThanks for the update!\n. ",
    "chewmunyoke": "@SimonOrdo \nI have made additional changes in my PR to fix your problem. Hope you find it helpful :)\n. ",
    "leon0707": "'add' function throws an exception:\nUncaught TypeError: Cannot read property 'id' of undefined\n    at Plugin.add (jquery.nestable.js:143)\nel is undefined.. ",
    "clia042": "Sorry guys, miss-clicked.\n. ",
    "zzgab": "@dbushell Up?. @dbushell Hi, I would really appreciate it if you could merge this PR. It is a very light change with no side effect, and it can solve a battlefield problem. Then my project could reference your upstream repository reather than my technical fork that is only here to achieve this patch. Thanks!. ",
    "ghprod": "Can you make pull request for this fork which still active?\nhttps://github.com/RamonSmit/Nestable/. ",
    "kolorafa": "This is a good idea, but less hassle is to just pass the element with event. Less code and less chance to miss element move when 2 elements get dragged to fast right after another. As you need to read the last change, but when you do that it might already move second item overriding that last one.\nhttps://github.com/dbushell/Nestable/pull/209. Nestable2 have event that contain the element, so no need to my patch.\nBut thanks for the tip, i didn't know there is continuation/compatible fork.. ",
    "cepedit": "I using Bootstrap step tabs with forms  1.working but 2.form not working \n2.form get link form not working =Localhost/menu/?name=menu&slug=menu\nhttps://i.hizliresim.com/JDW1po.jpg\n\n. \n",
    "aliencms": "Hi, Is it possible to add another option: items in the hierarchy that can't be children?. ",
    "shawn24": "this helped a lot, thanks!. ",
    "trsteel88": "You have a duplicate \"noChildrenClass\" option here\n. "
}