{
    "aure": "You accidentally committed the addition of a complete copy of AudioKit so therefore there is no way I could merge this pull request.  My suggestion is that you go back to your master branch and delete this branch and re-branch and add the example again.  Call me if you have questions.\n. None of the swift projects will work on iOS7.1, only iOS8 from what I understand so I am not sure its necessary or good to make these changes.\n. So I am just going to close this pull request and you should probably delete the branch.\n. SHould be a request on develop.\n. You're welcome!\n. Your set up is the same as mine. We can get to the bottom of this. Does it depend on which device you are simulating at all?\n. Let me again offer to screen share with you.  I'd like to be able to hear the problem.\n. I am in San Francisco. Pacific-time.\nAure\n. Sounds like crap.  It does not sound like that here.  I'd like to see if your logs show any kind of sample loss.  \nI have a 2 year old so I know how it is.  I'm aure@aure.com on screenhero if you want to try that out.  Google chat might be fine too, on that I am aurephd@gmail.com.  \nAure\n. That is a pristine log file showing no potential issues.  Can you double check the Play Audio File example.  That one isn't doing much processing at all and should sound clean - the only reason the keyboard isn't the best test is because of the tone color control that I can't necessarily produce exactly here on my system.  Can also compare the play audio file example to the sound cloud.  \nAure\n. Hi there, I have a pretty good idea now what this could be and it's not at all obvious.  Simple question, do you use an AppleTV or other AirPlay enabled device?  If you do, then the sound coming from the simulator is likely to be extremely quiet and distorted.  Let me know. \nAure\n. If you can download the newest version (1.1), you should be able to run the tests and the Mac application examples and see if they have the same issue as the simulator or not.  Even if you're not using AirPlay directly, it's still likely that its a lead... I would never have suspected AirPlay screensharing would disrupt audio like it did for me today. \nAure\n. Hi, I am going to close this issue for now, but if you're still having problems and want more help, don't hesitate to bring it up again.  But, most people are not having this issue...\n. You cannot merge into master, only into the develop branch.  You can tell that it was the wrong branch by how many changes are showing made my by me vs. how many you actually made yourself.\n. Certainly none of the Swift examples will work with iOS6, but the Objective-C examples very well might.\nAure\n. Yes and no.  Yes, the folder was wrong in the README, as it should have included the Developer directory.  Thanks, and I've fixed it.  But, no these are File Templates only for now so they don't go in the Project folder directory (and there is no Application subfolder).  There are also instructions at http://audiokit.io/tutorials/xcode/ which I have now added to the README as well.  \nThanks for calling this to my attention!!\n. It should be fixed in the develop branch.  I'm surprised it is asking you for this file as it does not crash on our test machines.  I'll be curious if it demands any other dylibs.  Thanks!\n. By the way, I pushed up a \"fix\" to the RAWWAVE_PATH issue.  Basically gave it a path where we will put files, should we need them, to avoid that error popping up.\n. Yes, the Mac examples are more difficult than the iOS ones to get running, but I thought I had made it painless - clearly not!  But, we'll get to the bottom of this.  I am on Yosemite, so it's possible that the issue could be 10.9 related.  If you want any help fixing these issues together I can screenhero (screenhero.com) with you whenever you have time.  I am free most of today if you have any time.  \nAure\n. Thanks!\n. Thanks!\n. Awesome!\n. Hi there, I am running the same set up as you and I've confirmed all the Mac examples work for me (as I usually do before making commits).  But, I don't doubt that you're having problems... CoreAudio on the Mac seems much less predictable than CoreAudio on iOS devices/simulators.   I need to know if you're running on a Mac with a sound card or if you're running a laptop.  Also, if you have ever installed Avid drivers.  Do the tests run for you?  They are all Mac-based as well.  Finally, do you have portaudio installed?  Its an alternative to coreaudio that seems to be more stable.\nWould you be willing to screenshare with me using the software at screenhero.com?  I would be happy to help you debug your problems using this software.  We will figure it out!\nAure\n. Yeah, that's interesting.  I can try with my USB mic here.  I want to close this issue because the name of the issue might scare people off.  You can open a new issue with the USB mic question if you like, or else I'll just look into it and contact you directly.\n. Hi Daniel,\nI've wanted to do the CocoaPods thing since release 1.1, but I haven't had time to research what I had to.  So, first of all thanks very much.  Next, I looked at the code, and it looks like it points to the git repo at aure/AudioKit instead of the more canonical audiokit/AudioKit so I wanted to double check with you on that choice.  \nNext, what will this mean for the installation of AudioKit... basically what does this give the end user?\nThanks again,\nAure\n. Oh I get it, this will automatically create the AudioKit directory side by side to a project that requires it right?  Cool... so just the question about the git URL...\n. Reviewing this now.  AKPhasingControl was removed from AudioKit because AKPhasor can be used at k-rate without issue as part of rate agnosticism.  I don't think its needed.  Please rename AKExponentialCurvesVariableGrowth to AKVariableGrowthExponentialCurves.\n. Do you need to have \"VariableGrowth\" in these names at all, why not just AKExponentialCurves?\n. AudioKit has human readable class  names not alphabetical ones. Otherwise we'd be naming things AKEnvelopeLinear instead of AKLinearEnvelope, etc.\n. Because things are different numbered GENs in Csound don't necessitate that they have to exist in AudioKit that way.  If you're building exponential curves with different methods, that's great, the end result is what we're naming, not the method by which we get there.\n. You introduced AKPhasorControl because AKTableValueControl had not been made rate-agnostic yet.  I fixed that so now your example should work with AKPhasor.   Thanks for finding that.   Please remove AKPhasorControl from this pull request.  I don't think my request that you change the name of the variable growth exponential curves was unreasonable either.  But, now after reviewing it further, this function table closely parallels AKSegmentArray which can be linear or curved.  I propose lumping all of these into one nice AKSegments function table which can handle linear or variable growth curves.\n. Hi there, first of all I have to apologize for not seeing your original message.  Not sure why Github never notified me of the issue.  I'm glad you figure out the problem and please feel free to email me as well if you have any issues in the future. aure at aure dot com or aure at audiokit dot io will work.  I have checked out the Swarmatron project so next time it will be easy for me to help.  Sounds like a cool idea.\n. This would overwrite the settings inside of the AudioKit.plist.  Do you think the defaults there should be adc0 and dac0?\n. The other thing that is weird is that your edits specifiy -i=adc0 and -o=dac0 but according to the docs you're not supposed to use equal signs.  Perhaps they're optional?\n. I have confirmed on my end that changing the plist does change the outputs. Is there anything we can do to test this on your system?  Perhaps a screenshare?\n. There have been a bunch of changes to AudioKit since this pull request and the next version will be another big internal change, so I am going to close this pull request for now.\n. It's amazing that you got it down to one line and it seems to work.  I'll update the web site also. Thanks!\n. Hmmm, good catch, I think it has less to do with that podfile dependency and more to do with a .c file that didn't get included in AudioKit for TPCircularBuffer.c.  I have updated the Podspec in the develop branch and pushed the podspec up to cocoapds, hopefully this will fix it. \n. Actually it looks like cocoapods is going to require me to update the version number for this process.\n. Hi, yeah we were just really improving the plots so I wanted to get those done before release a 2.0.1.  Let's get this resolved one way or another today, thanks.\n. Great stuff thank you!\n. Does this warning appear only with AKMix?  This pattern is repeated throughout AudioKit's operations, so I am wondering if it needs to be a more global fix.\n. Hey so I think that we just have to remove those lines but not add the @dynamic thing.\nWould you like to change your pull request to do that?  You deserve credit for finding this! :)\n. In the develop branch there is a setting in the Core Classes/AudioKit.plist file that allows you to choose whether or not use microphone access.  P.S. Also in you can do both the lines above with \"setAudioOutput(osc)\n. Actually what Nathan did was relevant to the develop branch, but the implementation was different so I changed it to match.  Thanks again Nathan!\n. You absolutely rock!\n. Yes, I had thought of that recently, while I was upgrading the examples.  Totally the right thing to do.  The other thing I want to do is consolidate a lot of the repeated code over similar plots.  But, I have a bunch of other stuff to do if you want to be plot-master for a while, that would be so appreciated.\n. That's sounds really great.  I'd probably call it \"removeBinding\" to parallel the \"addBinding\" method but it sounds like a very good idea.\n. Wow so good!\n. What I love about this is that its much cleaner now.  In case you are interested in doing more things from the AudioKit to do list, I'll just let you know that we'd like to consolidate the most common drawing routines into a superclass, either AKPLotView or another file.  Also, we don't want to rely on the EZAudio Rolling Plot stuff so we'd like to make our own.  Anyway, you've been so helpful, just thought you might want to know where things are headed.  As for the memory leaks, I'd love to get your expert eyes on those for sure.  I really want this to be robust.\n. Thanks for the tip.  I have high hopes for the graphing capabilities here and if there's a solid core, it will easier to build features on top of.  I wanted to avoid require a package like CorePlot but we can at least see what they have that we want - tick marks, interactivity (pinch), etc.\n. Great idea. I'd really to have a static library or framework but I wasn't able to get it right and released what I had because it works for now.  The simpler it is to plug in AudioKit to a project, the better.  I'm also willing to update the docs and escort the people already using AudioKit into any changes that are  improvements.  So, definitely, proceed with my fullest blessing and support.\n. The Test Jam event was very good and we now have a start to continuous integration with math and table tests.  More to come.\n. Once again, awesome work.\n. Regarding AKPlots.h, I am thinking at some point before 2.1 when we're happy with the plots and other things that all of this just becomes part of AKFoundation.h.  I think I was reticent of including it because I knew it had some issues, but now that it's being bulletproofed by you, I think it's foundation material.  If you agree, I'll also let you decide when to move the AKPlots.h includes into AKFoundation.h - ie. if you're confident in them, I will be too.\n. I think I'd like to test all the plots from within the AudioKitDemo project.  I'll also add them to the OSX side.  Probably be there by tonight.\n. Things are definitely coming together!\n. I'm blown away.  All the memory problems seem to be gone, even stuff not having to do with plots.  This is huge!  So, I had help, but i mostly wrote the CsoundObj.m by myself.  It was obviously very close to the iOS version but there were a couple of key difference.  I'd certainly love to have one version or at least one base version that can get tweaked slightly for each OS if required.  \nAnd yes, the rolling waveform still seems to be crashing immediately at least half the time.\n. I am a beginner with cocoapods but I will be attending the CocoaPod's hosted Test Jam on the 18th, maybe they can help us get this all resolved?\n. I only recently changed the podspec to include .c files as well.  Perhaps this will get fixed if I push up a new version for pods to point to?\n. I've pushed a 2.0.1 podspec, hopefully that fixing things.  Closing for now.\n. I'll make the demo use the default tambourine.  Will commit in about 10 minutes.\n. Removed the duplicate Tambourine.h/m\n. I didn't rush to change the Swift since it's a Tambourine.swift file and couldn't be a conflict right?  I'll change it now just to not have them fall out of sync too much.\n. I just committed them.  The only thing that is inconsistent with the AudioKitDemo projects are the use of plots.  Only the iOS is really using them correctly. \n. I will need to rewrite some of the web pages before merging this changes.  In general the steps before were to just drag and drop the AudioKit folder and then remove the Platforms you don't need so I am not sure this really qualifies as \"simpler\" but if it can make the upgrade process easier, that would very good, which I think it should.  As for AudioKit.plist, can we avoid having to copy that file over by instead creating including a few definition in AKFoundation.h perhaps?  Is there a canonical way people do this?  Or perhaps one could argue that having your own personal plist file is better since it won't get overwritten when you upgrade?\n. I have just made the \"master\" branch the default download for AudioKit so that we can work through this period of change without worrying too much about the web site and the code being out of sync.\n. And if it isn't obvious by the fact that I merged these changes, I should publicly state how cool this is!  Like 2.0, 2.1 will be a big update to AudioKit.\n. Of course!\n. Awesome, thanks!\n. Merged, thanks!\n. Thanks!\n. Yesss!\n. The changes here are gorgeous, thank you!\n. Will have to rework AKTablePlot as well I guess.\n. Yeah, it definitely solves the problem.  I think AKTablePlot just has some other issue with things not necessarily existing yet.  We'll figure it out, onwards and upwards!\n. I'll keep this pull request open for now.\n. Let's not worry about the test, just the compilation.  I'm changing the way tests are done.\n. I uploaded a simple test project that uses XCTest and updated the Travis YML file, so if you merge those changes, it should build once the dummy driver is in place, I hope. \n. Thanks so much!\n. OSX projects can't be built on Travis due to storyboards which require 10.10 Yosemite\n. Cool man, I have ported all of non-sound tests to XCTests, just now looking at clever ways to test that the right sounds were made.  Thinking of creating wavs and hashing them to compare against known out put, or even just taking an FFT of the output and comparing some markers.\n. Not sure why table tests are failing but I can figure that out.  What a huge pull request!\n. The CPU usage is still high with rolling histrory of 2048 hardcoded maybe we just need to expose this length to be easily changed in IBDesginable, etc. \n. Bam!\n. Just chain these effects in the instrument, for instance:\nAKHighPassFilter hp = [[AKHighPassFilter alloc] initWithInput:mic cutoffFrequency:akp(2000)];\nAKCombFilter comb = [[AKCombFilter alloc] initWithInput:hp];\n. For me, Xcode can't find AKFoundation.h after I've pod init'ed and opened up the workspace.\n. So, just to follow up, with this podspec you're able to run pod init on a project and things just work?  I just tried and it didn't seem to set things up correctly.  I want to know so that I can push this release up to cocoapods.\n. Great start!\n. I can't import AKFoundation.h in my view controller using either of these.\nimport \"AKFoundation.h\"\nimport <AudioKit/AKFoundation.h>\nSo that would be the first problem...\n. I still can't import AKFoundation when using the Podspec.  Maybe it is me?\n. Excellent.  It works now in a brand new project.  Closing the issue!  Thanks for your help!\n. There is not enough information on this to debug.  The instrument is play but self contains the oscillator?  Makes no sense.\n. This issue needs more information since we can't act on it.  Feel free to reopen it with more details.\n. Excellent update!\n. Not yet.  In theory, we should be able to create a VST/AU plugin written in AudioKit syntax, but we haven't attempted to do so yet.  Instead of posting here, you might get more eyeballs on the idea by joining the google group mailing list.  Perhaps if enough people are interested a team can be put together to make it happen sooner rather than later\n. No tricks.  Please provide a bit more information so the issue can be made actionable.  For instance, which project are you trying to run?\n. What was the file format and size of the music file?\n. This is not really an error log, but the line \"Csound Error: Invalid ftable no. 2000.000000\" seems to state that it never loaded your audio file. Can't really tell you more unless I had the project in front of me.\n. Sure.  Or I can invite you to screenhero.\n. Send me your email address to audiokit@audiokit.io.\n. @narner no way are we having different prefixes for different parts of AudioKit.\n@megastep This actually got to this place because instruments were only mean to be examples for people, not included in AudioKit, but then it became clear that they would be so helpful that we included them in 2.1.\nSo, we have tons of operations and only a handful of instruments.  Most of the instruments will not overlap in names so I didn't feel the need to standardize the name to AKXXXXInstrument.  But in the case of physical models, this becomes an issue.  So, I guess the instruments have to be renamed and I vote for renaming only conflicting instruments by adding Instrument to the end of the name  So Mandolin becomes AKMandolinInstrument.  Sure, both Mandolin variations will come up in code completion but only one will suffice in any given context.\n. I am leaving this open if you want to finish the process in one request, or else I could merge and rename the rest myself, up to you.\n. Having the notion of a note that is specific to the instrument is useful because then you can add notes to phrases and play them back.  It's a pattern that is quite prevalent in the examples and stuff, so I think we shouldn't mess with it for now.  But, I am open to an improvement to the architecture if it makes things easier for users.\n. Well, no because an instrument can be simultaneously playing any number of notes.\n. Total pseudocode, but something like this.  mandolin can have instrument properties, and mandolinNotes have different properties, frequency being a common one.\nAKMandolinNote note1 = [[AKMandolinNote alloc] init];\nnote1.frequency = akp(440);\nnote1.duration.value = 1.0;\nAKMandolinNote note2 = [[AKMandolinNote alloc] init];\nnote1.frequency = akp(660);\nnote1.duration.value = 1.0;\nAKMandolinInstrument *mandolin = [AKMandolin presetSomeMandolin];\n[AKOrchestra addIntrument:mandolin];\n[mandolin playNote:note1];\n[mandolin playNote:note2 afterDuration: 1.0]; \n. The only reason I don't want to add the Model to the name is that Alexander Hodges has already been using the physical models to great effect and I wouldn't want to change the names on him.\n. This isn't passing travis.  Maybe while you're at it, shipHorn is probably more well known as a Foghorn.\n. Don't forget that you can run Tests/travis.sh locally to quickly check whether your changes will pass Travis.\n. You already made a web page for contributing.  I just updated it with the Run Tests part of the workflow:\nhttp://audiokit.io/tutorials/contributing\n. From looking at the Travis log I see these are not the trivial Travis hanging errors, but instead the files not really being created correctly for the MD5 hash to run on them.  None of the tests are broken on my own system or on Travis running the current branch so this is fixable\n. Fantastic!\n. The preset pattern is to start the class method named with the word \"preset\" and the instance method name with \"initWithPreset\". \n. There are a few things I'd like to change on these before moving forward.  Will contact you on Screenhero later to resolve.\n. AKTrackedFrequency Is the frequency.  It has a value associated with it that is the value you're after.  But, if you want to access outside of the instrument, turn it into an instrument property.  Depending on what you want to do you may be more comfortable using the AKInstrument implementation called the AKAudioAnalyzer which has a frequency property you can access.   For an example of thsi you can check out the AudioKitDemo projects.\n. If you need help building the project, I'd be willing to do a screen share.  It's pretty straightforward and heavily tested so I bet it is something on your system that wouldn't be too hard to debug.\n. Not much difference for Obj-C or Swift as far as setup is concerned.  Does the Objective-C app work for you?  Might be a good place to start.  You will have to do all this custom coding yourself, don't expect any libraries to do everything for you! :)\n. The license is MIT License and there is one app in the store, one more accepted and released this Tuesday.  Check http://audiokit.io/blog/ for more information about app releases.\n. You're using the default instruments, which is great, but once you start modifying, you may have to work with operations, which work inside operations.   I'll explain two things here.  \nFirst, the microphone is like any other sound source, you can send it though the other modifying instruments, in fact you are sending it to the amp.  If you want to add reverb to the sound, you would insert the the ReverbProcessor instrument in between the mic and the amp.\nBut, there aren't any pre-made instruments that do stuff like low and high pass filter, so you can either make a new instrument or just edit the microphone or amp instruments to include those filter in the appropriate place.  For instance, inside the microphone you might to do this:\nAKAudioInput *microphone = [[AKAudioInput alloc] init];\n    AKLowPassFilter *lpf =[AKLowPassFilter filterWithInput:microphone];\n    _auxilliaryOutput = [AKAudio globalParameter];\n    [self assignOutput:_auxilliaryOutput to:lpf];\nNotice I added the lpf and then sent the lpf to the auxilliary output.  Your end result will be a lot more complex than this sure, but this is a start.\nI see you are writing in Swift, but if you are  comfortable with Objective-C too, I would recommend building a playgroun around this so you can hear the output right away.\nAlso, this conversation might be better for the Google group that we have set up since its not really an issue with AudioKit but more of a conversation that we can have and others can benefit by listening in.\nAure\n. Be careful not mix up AKStereoAudio and AKAudio.  Since the microphone is a mono instrument, I wouldn't make its output stereo, but since you did, just replace the else block with this:\nlet lpf = AKLowPassFilter(audioSource: microphone)\n        let stereoLPF = AKStereoAudio(leftAudio: lpf, rightAudio: lpf)\n        appendOutput(auxilliaryOutput, withInput: stereoLPF)\n. You don't think it has to do with Xcode7 testability?\n. This is coming via EZAudio, and we've had no bites for almost a year anyway, so I'll close this issue.\n. This is great, how did you find out about it?\n. Good sleuthing!\n. Hi there,\nYeah, I am not sure if the CocoaPod support for Swift is working for AudioKit right now.  Do you think you could try the installation instructions from:\nhttp://audiokit.io/tutorials/\nI am happy to help you through Screenhero screensharing if you're so inclined.\nAure\n. I'm going to close this for now and reopen if requested.\n. I'm not worrying about Travis just yet, I didn't test on my system.   Instruments and presets are very distinct types of things.  A preset can contain multiple instruments for instance.\n. The Travis error is weird, referring to \"07AcousticGuitar\" when I don't think I have that anywhere in my code anymore.  Changing a lot of other stuff so no worries, but that is definitely strange.\n. This is useful: http://www.synthfont.com/Viena_HELP.pdf\n. It does seem like instruments and presets are necessary to have different players for at the operation level.  Instruments have the drum kits for example.  In any event, both are created now.  To make it even easier to use, I'll make a Utility AKInstrument and an example app.  This is probably okay for merging as is though.\n. Yes, this is the only place that we're parsing the output.  I don't know of anything else that uses this type of functionality, but it might come up.  I could envision bolstering AKManager to know more about the state of affairs inside the engine, for instance if there is an error, we should probably log regardless of how isLogging is set and give the user some good information back.\n. The instrument and preset list is preceded by a note saying what file it is from a la:\nInstrument list of \"/Users/aure/Library/Developer/CoreSimulator/Devices/5C73E22D-A696-4AFF-A2CA-CD1A4B944BBE/data/Containers/Bundle/Application/CC4D8D74-B041-47A2-9D99-800F2174D991/AudioKitPlayground.app/AKSoundFiles.bundle/Sounds/GeneralMidi.sf2\"\nSo I should just check this.\n. \ud83d\udc4d\n. Excellent!\n. Seems to be a minor warning on one of files from Travis:\n\u26a0\ufe0f  /Users/travis/build/audiokit/AudioKit/AudioKit/Sound Fonts/AKSoundFontInstrumentPlayer.m:133:42: values of type 'NSUInteger' should not be used as format arguments; add an explicit cast to 'unsigned long' instead [-Wformat]\n    [inputsString appendFormat:@\"%lu, \", _soundFontInstrument.number];\nbut no biggie, will merge.\n. Very nice but now I have to update screencasts! :)\n. Thank you!\n. No +1's or takers, must not be high on anyone's list.  Good to know though.\n. Will bring this up again later.\n. Done.\n. Fixing one thing, but looks good.\n. We auto-generate because it makes things easier, but you followed the mold so its good.  Will eventually add a test for this operation too.\n. Sound fonts are only on the develop branch and I think the pod spec is defaults to master - have you changed it?\n. I am going to close this issue for now.\n. Fantastic!  One thing is that rolling input and output is no longer working in playgrounds, perhaps its a plot vs. plotColor thing.  I'll check it out.\n. Can you share the project with me?  I don't think approach will work... and I think the error you're getting is somewhat of a red herring.\n. For me any non-integer files don't work.  I had to submit a bug report to csound since this is beyond me... https://github.com/csound/csound/issues/507\n. They have fixed the issue in git now it is just a matter of updating AudioKit's version of Csound with their changes which Stephane @megastep is in charge of.  Is this a rush or can it come the next time we merge?\n. Should we consider using Github's LFS stuff for these binaries so that people aren't necessarily download the history every binary we've ever used?\n. I believe this should now be repaired.\n. Unfortunately this is not really actionable without more information.  If you would like to share your project or your screen, we could help you debug this. \n. I am not hearing this behavior.  Are you on develop or master branch?\n. Even the many note bug persists, it is good to know it is not due to the midi changes.\n. Dev has got some other issues, just so you know.  Might be better off just taking the spaces out of your project folder's name.\n. Hallelujah!\n. This looks like it could be a recently solved bug.  Are you running an older develop branch?\n. That should be a stable master branch, so I think it must be something you're doing.  Unfortunately that error is the generic Csound barfed error, so I can't tell much from the screen shot alone.  Would you be willing to share the project with me on github or otherwise?\n. We're long overdue for a 2.2 which will come next week. \n. I'm going to close this for now, but feel free to reopen.\n. Sorry I was traveling and didn't have time to respond.  At the moment we don't have a callback for events like that.  I think it would be a good idea, but its not something that AudioKit does currently.\n. @megastep Not for events like that, I don't believe.  We could rig up a counter and create a callback when it reaches the file length.  Not trivial.\n. New version of AudioKit...\n. Nice!\n. I'm going to close this for now, but feel free to continue the conversation or re-open the issue as needed.\n. I can take your code and make a working project out of it without using CocoaPods if that is okay with you.\n. We'd like to help you but you haven't given us much information to go on.  There's nothing in the screenshot that helps either.  Provide more information and we'll look again.\n. That sucks.  The problem is with The dynamic code injection, not necessarily AudioKit, but necessary for the playgrounds.  Sometimes, and I am not sure when or how, it seems to mess up Xcode badly, and reinstalling Xcode is the only option.  Other times, it works perfectly.\n. Agreed, and its been on our to-do list for a while and we're hoping for the next release.  I'll leave this issue open until it can be done.\n. Working on it!\n. Trust me, working very hard on this and I can already tell you its basically working, just a few more things left.  Probably right around Christmas, but don't hold me to that.\n. Hi, yeah, Happy New Year. Looking to have it as a framework by January 21st!\n. You'll never want it to be pure Swift if you want it as fast as possible.  Next release is a lot swiftier though.  I think you'll like it a lot.  I'm just building a few example apps now to smooth out initial kinks. \n. I understand and agree, stay tuned.\n. I think this will suffice for easy framework installation....  https://vimeo.com/152398360\n. You are a rock star!\n. Thanks Daniel!\n. Tests would be nice.  Not too hard to write, just a little boring. :)\n. tvOS is supported on the develop branch and will be part of the next release.\n. No, AKSequence isn't sample accurate.  AKPhrase should be, but I haven't tested sleep conditions on that one.\n. Hey no problem at all, We are currently working on making installation much easier.\n. A bunch of the playgrounds are doing real time microphone processing, and some of them display the FFT, but if not, just use \n[self addAudioOutputFFTPlot];\nOh, and you don't need to install dyci to use playgrounds (dyci is dicey, esp on Xcode7), just run them without the interactive coding aspect.\n. It is good that you moved this to the discussion forums.  I'll close the issue here.\n. Interesting.  I'll accept this change.\n. Forgot to confirm the merge.\n. You're attempting to play a note at above the Nyquist frequency (https://en.wikipedia.org/wiki/Nyquist_frequency) which is 22.05KHz, ie half the sampling frequency of 44.1KHz.  If you attempt to play notes in this range, you will still hear a tone based on what is able to be played, but your results are unpredictable.\n. Maybe what you're describing is not offered by default, but it shouldn't be too hard to tweak to make that happen.\n. Looks great, I think this justifies a 2.3 release.\n. Yeah, can't get it pass validation, but apparently it works with instructions on http://audiokit.io/downloads/\n. We'll try again with 2.3 which shouldn't be too long now.\n. Weird, maybe you can push it up to cocoapods?  Here's what I get when I run the same command:\n\u2514\u2500\u27a4 pod spec lint --verbose\nAudioKit (2.2) - Analyzing on OS X 10.10 platform.\nPreparing\nAnalyzing dependencies\nFetching external sources\n-> Fetching podspec for AudioKit from /Users/aure/Developer/AudioKit/AudioKit.podspec.json\nResolving dependencies of\nComparing resolved specification to the sandbox manifest\n  A AudioKit\nDownloading dependencies\n-> Installing AudioKit (2.2)\n\nCopying AudioKit from /Users/aure/Library/Caches/CocoaPods/Pods/External/AudioKit/578da0c403938689e0fd15fd64a52256-35653 to ../../../../private/var/folders/5d/zkr3lw7x71vd60mckbvrnm_w0000gn/T/CocoaPods/Lint/Pods/AudioKit\n- Running pre install hooks\n\nGenerating Pods project\n- Creating Pods project\n- Adding source files to Pods project\n- Adding frameworks to Pods project\n- Adding libraries to Pods project\n- Adding resources to Pods project\n- Linking headers\n  -> AudioKit (2.2)\n- ERROR | [OSX] Encountered an unknown error (No such file or directory @ realpath_rec - /private/var/folders/5d/zkr3lw7x71vd60mckbvrnm_w0000gn/T/CocoaPods/Lint/Pods/AudioKit/AudioKit/Platforms/OSX/CsoundLib.framework/Headers) during validation.\nAnalyzed 1 podspec.\n[!] The spec did not pass validation, due to 1 error.\n/Users/aure/.rbenv/versions/2.1.2/lib/ruby/gems/2.1.0/gems/cocoapods-0.38.2/lib/cocoapods/command/spec/lint.rb:72:in run'\n/Users/aure/.rbenv/versions/2.1.2/lib/ruby/gems/2.1.0/gems/claide-0.9.1/lib/claide/command.rb:312:inrun'\n/Users/aure/.rbenv/versions/2.1.2/lib/ruby/gems/2.1.0/gems/cocoapods-0.38.2/lib/cocoapods/command.rb:48:in run'\n/Users/aure/.rbenv/versions/2.1.2/lib/ruby/gems/2.1.0/gems/cocoapods-0.38.2/bin/pod:44:in'\n/Users/aure/.rbenv/versions/2.1.2/bin/pod:23:in `load'\n. I just pushed it up. Only a few months late!\n. Appears so... https://cocoapods.org/pods/AudioKit\n. Audio is not able to be used on your system for some reason:\n\"***Failed to enable audio output.\"\nThere is very little information to investigate in this issue, so I am closing it for now.\n. Well, I think its a common enough problem that I'll add a plist entry for it.  Instead of implement a NSThread sleep like this, can you see if changing the runOrchestra method works as well?  Basically change cycles > 100 to cycles > 200 to add another second.  You can experiment to minimize the cycles.\n. In any event, the latest code in the development branch allows a wait time to be set in AudioKit.plist.\n. Thanks!\n. Looks like it is really wanting an input device while your mini reports to have none, which is strange because even the mini usually at least has a combo headphone/input jack.   The AudioKitDemo project requires an input because one of things it demonstrates is audio analysis from the microphone.\n. Any new information?\n. I've been on El Capitan from an early beta and its never been a problem.  The fact that the simulator works is puzzling.  I'm happy to do a screenshare on your machine if you want me to have a look around.\n. It makes sense that the tests pass because they are only rendering the audio to disk.  I think there's an issue grabbing the audio input or output from coreaudio.\n. Closing this issue for now since has not been updated for a few weeks.  If there is more information, please feel free to re-open the issue.\n. That's great to hear!\n. Well, its no worse than currently, and AKManager is ripe for an overhaul as we know.\n. I don't use CocoaPods much, perhaps someone else can comment on this.  I assumed it would be similar to the regular swift setup.\n. Closing this for now since there hasn't been activity on the issue for three weeks.\n. Do the examples inside the AudioKit repo, like \"HelloWorld\" or \"AudioKitDemo\" work on your machine?\n. Can we do a screensharing session on Screenhero?  I'm happy to invite you if you do not have an account.\n. Email me at aure@audiokit.io with an email address you can use for screenhero and I'll send you an invitation.\n. You can't edit the instrument after its added to the orchestra.  You can change parameters or you can change them and replace them in the orchestra.  So just try setting the audio output before adding the instrument.\n. Does the HelloWorld example work on your machine?  This doesn't seem that much different.\n. So, if that works, is the can the issue be closed or?\n. If you want to do a screen share I can kind of show you what is happening behind the scenes and why the order matters so much.\n. -        let amp = AKAmplifier(input: vcoInstrument.output)\n-        AKOrchestra.addInstrument(amp)\n-        amp.start()\n. You must not have things set up right.  This screenshot doesn't really give us any information to help you though.   My best guess is that I don't think you have the bridging header set up right.\n. I am sure it is srcroot inside, but in this view it shows the full path.  What's insider your Bridging-Header.h file?\n. You have a typo in the spelling of AKFoundation.h\n. Tracked frequency just give you a best guess of what frequency is the loudest in a signal, so it won't help you do what you're trying to do, I don't think.  It sound to me like you want the AKHighPassFilter.\n. There's a few examples in the Examples directory in AudioKit (AudioKitDemo uses AKTrackedFrequency) and in the examples repo: http://github.com/audiokit/Examples/\n. You'll want to do FFT analysis, which AudioKit can help with, but its not going to be out-of-the-box what you need.\n. This is really not very much information to go on.  Is the ipad muted?\n. Feel free to re-open this issue if you can provide more information.\n. I don't think this is a problem with AKMIDI since I've since AKMIDI used in apps a lot, but you do have an error that could be compounded by sending multiple notes at once.  Track down the one note error and you'll probably be fine.  Feel free to re-open the issue if you provide more information.\n. Are you able to do a screenshare to see the code?  You're getting a lot of invalid instrument numbers and I'm wondering how the instrument got lost.\n. This looks reasonable and if we don't use it exactly, this is still a step forward.  Thanks.\n. Did you grab the latest develop branch?  I think Stephane might have fixed this?\n. Check this out: https://github.com/audiokit/AudioKit/commit/204c9cbee0e63036a074e962e8a02b2f7ffd8e67\n. Fixed in https://github.com/audiokit/audiokit.github.io/commit/6807614bff0214670163cd621f54063effa801c2\nThanks.\n. According to our automated testing service, and my own results on my machine, AudioKit compiles fine.  I have never seen an error like this and its not really much information to analyze.\n. That's bad.  I'll make sure to test on actual devices, thanks for posting this.  I'll look into it.\n. Just released a new version of AudioKit...\n. Working on a new release that will be available today or tomorrow.\n. Brand new version, no clicking https://vimeo.com/152398360\n. In theory, yes, but I just tried to set up the project and there are a few issues.  I'll work on this and get back to you.\n. The develop branch is set up for Objective-C and has a Hello Objective-C example for iOS.\n. Seems like a fine way to do it. Thanks!\n. I think it will be 3.0.1.  There haven't been any functional changes, just better code.  This is quite a PR for sure!\n. I tried to change Cocoapods github url for previous versions but Cocoapods rejected them:\n[!] Unable to accept duplicate entry for: AudioKit (2.3)\nSo, the best you could do would be to release a v2.4 and have the github url changed for that one.   However, since this is only slightly less broken, I don't think we should bother and just move forward with Cocoapods 3.0+\n. Brilliant, so maybe tonight we can tag this as 3.0.1 and get on carthage/cocoapods!\n. Lots of good stuff here, thanks!\n. Thanks very much for this!\n. Yeah, this should be possible.  Will work up an example.\n. There's an AKAudioRecorder class in the latest Xcode7.3 development branch.  If you want to try that, it's incredibly simple.  Or, wait for it to get merged onto master.\n. I don't see any code setting up what you actually want to record.  You have to have AudioKit running and record from it. Maybe you have that set up elsewhere in your code?\n. You need to have  a recording.wav in your project already.  It can be blank, but it needs ot be there.  This is less of an issue for Github and more of a conversation for the AudioKit google group.\n. @Asbat https://github.com/audiokit/AudioKit/tree/master/Examples/iOS/Recorder\n. This looks awesome, thanks!  Just going to let the tests run before I merge.\n. Jesse, for the extension MIDIPacket: SequenceType do you think that it makes sense to call this an AKMIDIPacket (and similarly for MIDIPacketList), to avoid bashing the native CoreMIDI struct MIDIPacket?  Or am I missing the point and we want these to override the CoreMIDI versions?\n. Thanks for this fix!\n. If anyone wants to add a configuration page for Analog Synth X, we'd happily accept a pull request for that.  Matt and I already have a long list of improvements were making, so help is welcomed.\n. After discussing it with @swiftcodex I think it is a good idea to include this as a configuration option, but the default behavior is okay for now.  So, I will close this as a Github issue, but add it to our internal updates list.\n. We have updated the description on the iTunes store to say that iPad2 isn't supported.  Basically it would work if you brought the voices down, so we're adding support for that.  But, if you want to build from the source you can just bring the voice count down.  Let us know what voice count is low enough to make it work (or if that doesn't solve it).\n. Hi yeah, we're working on a version optimized for ipad2 so for now I'll close this issue.  Thanks very much for checking us out and the info that even voice count 1 has issues, that's helpful.\n. you know on second thought, I'll leave it open just so other people realize we're working on it.\n. @toydivision There are a couple of effects that we use in the synth that are CPU suckers.  But since we didn't test on older devices, it went unnoticed.  We're working to optimize everything in AudioKit.\n. Just wanted to add to this issue that the new version of the app is in the store.  It works great on the ipad2.\n. Not currently, though that's certainly intriguing.\n. Yeah. that's all it does for now.\n. I'll close this issue, but I have it my head to think about multiple mics.\n. Thanks for finding this, will definitely check it out.\n. Hi there,  I am not sure if this got fixed through some other improvements over the last few months, but I just built a midi monitor for OSX and it seems to work.  Can you try again?  Here's a link to the most up-to-date code including a midi monitor for OSX.\nhttps://github.com/audiokit/AudioKit/commit/c8094255454bdac581b7620556590e1b76b58202\n. Actually I think I may have found something wrong.  I'll update this issue when/if I figure it out.  Working on it.\n. Should be fixed on the develop branch:\nhttps://github.com/audiokit/AudioKit/commit/7d00ba80c31b916e096d8097f7e7ca5026f719e9\n. I'm happy to accept this but I remember choosing not to include it because TimePitch seemed to be more capable than varispeed?  Is there a good reason to have this?  Perhaps efficiency?\n. Cool, good to know!\n. Are you into making a playground for varispeed?  If yes, I'll hold off, otherwise I'm happy to do it.\n. Actually, I think I will do the playground for it because playgrounds are changing and any work you'd do would probably have to get rewritten for Xcode7.3.\n. Its already there in the Xcode7.3 branch if you want to try it out. (means also grabbing the latest xcode beta)\n. Glad you figured it out.  I think Jeff's info is embedded in the binary files but it shouldn't show up like that and I'm wondering what you did to fix it.  Good luck with your project and we'd love to see it when you're done.\n. What would you like to see different?  You can't change the signal chain while the engine is running. \n. good point!\n. The mixer class is pretty straightforward if you want to have a go.\n. I feel like if we give the ability to change connections after the engine was started, someone might think they can do so smoothly, and undoubtedly there would be a disruption to the audio, so I'm not sure that's beneficial.  Do you have a preference?\n. I followed your suggestion and stopped a started engine if a connection is attempted. It's in the Xcode7.3 branch that will get merged when 7.3 comes out of beta.\n. Thanks!\n. Yes, that's new, thanks for bringing it up.\n. So, it could be that this is not easily solvable.  When the simulator starts up, it populates the input and output sources from the current audio set up.  Then when you change that on your Mac, what the simulator points to is not updated and sending audio to the intended output results in a crash.  We should at least make a note about this.  What do you think?\n. I will close this issue, but feel free to open it again if you need to.\n. Joshua, do you want to close this issue then?\n. MollyBChimes is now known as the SequencerDemo I believe.. I can't reproduce this one either.  Is it possible this is fixed in newer AudioKit?\n. Feel free to reopen this issue if you can reproduce with the develop branch of AK.  Thanks!\n. Hi,  this is going to be hard to debug because it is specific to your system, but I can try to replicate a similar situation over here.\n. I'm not able to reproduce this.  Can someone provide exact steps to making this happen on any system?\n. Actually I finally see this error so I think I should be able to fix it.\n. Should be fixed on the develop branch:\nhttps://github.com/audiokit/AudioKit/commit/7d00ba80c31b916e096d8097f7e7ca5026f719e9\n. @PaulBatchelor and I will be working on a way to more easily integrate STK directly with AudioKit.\n. I'll close this issue for now since we have one example in STK, but its on our radar to add those three soon.\n. That's pretty bizarre!  At this point I have no idea why this is.  If you or anyone gets more clues, please post them to this issue thread.\n. I'm going to close this issue since it doesn't appear to be on other apps, but if you still want my help, feel free to ask for it here or by email.\n. Playgrounds cannot use custom frameworks that are prebuilt.  You have to basically have the playground in the framework project itself.  You can download the source for the framework and open up the playground there.  Does that make sense? I can make a video if you like.\n. I went ahead and created a screencast https://vimeo.com/157204402  I hope this helps and if so please close this issue.\n. Yes you can, let me whip up an example.\n. So, basically you need to replace the tempo constant with an AKOperation.parameters(parameterNumber) call.  Here is the code from a playground that increases the tempo over time:\n```\nimport AudioKit\nimport XCPlayground\nvar currentFrequency = 1.0\nlet beep = AKOperation.sineWave(frequency: 480)\nlet trig = AKOperation.metronome(AKOperation.parameters(0))\nlet beeps = beep.triggeredWithEnvelope(\n    trig,\n    attack: 0.01, hold: 0, release: 0.01)\nlet generator = AKOperationGenerator(operation: beeps)\ngenerator.parameters = [currentFrequency]\nAudioKit.output = generator\nAudioKit.start()\ngenerator.start()\nAKPlaygroundLoop(frequency: 5) {\n    currentFrequency *= 1.1\n    generator.parameters = [currentFrequency]\n}\nXCPlaygroundPage.currentPage.needsIndefiniteExecution = true\n```\n. If this wasn't sufficient, please feel free to reopen the issue, but I think for now this is resolved.\n. Yeah, it seems like things based off of AKOperations do not react well to starting and stopping AudioKit.  Good catch, I'll look into it.\n. Is there any way you can share the code with me?   In general I am not sure that its a very good idea to stop and start AudioKit, but if you do, you should probably stop all of the nodes, including processing nodes before stopping to avoid glitches.\n. @knagle I am not sure what I can really do about this without more information.  I'm happy to address it again with more info or a sample project to look at it, so feel free to re-open the issue if need be.\n. I think this has to do with making plots usable in interface builder.  If you're making the plots programmatically, try adding the frame: declaration so that you're using this initializer:\npublic init(_ input: AKNode, frame: CGRect)\nIt would be something like \nlet plot = AKNodeFFTPplot(mixer, frame: CGRect(...))\nLet me know if that helps.\n. In the Xcode 7.3 branch I have both of these playgrounds working, so you can either check it out or wait for it to get merged to master when 7.3 comes out of beta.\n. Closing since we merged the fixes in to master with release 3.1\n. I don't think extending AKAudioPlayer is the way, but maybe make a new AKStreamingAudioPlayer that utilized StreamingKit.  This would be a great addition to AudioKit.\n. After diving into StreamingKIt for some time, I think that the first step would actually have to be on the StreamingKit side to support output to an AVAudioEngine node.  Once that were done it would be easy to implement in AudioKit.  Perhaps you can encourage tumtumtum to do so?\n. Hasn't been added.  I know nothing about streaming so to me it sounds pretty difficult.. Thanks!\n. The dream of any toolkit developer is that users help each other get through issues, thanks so much Michal!\n. This will be solved when we update Cocoapods to the 7.3 version of the code (currently on develop) when we do the next release.  The next release is about a week away.  Till then do you think you could build from source?\n. Cocoapods has been updated to v3.1\n. You have to hook up the microphone.  I'm suprised Google didn't help you find this:\nhttps://groups.google.com/forum/#!topic/audiokit/L9tb9TRL9bs\nLet me know if that fixes things.\n. That looks \"correct\" - this particular frequency detection algorithm generates a lot of false mins and maxes when it can't get a good read on a frequency in the middle.  We're going to be replacing it soon.  See if singing at 440Hz gives you approx 440 out.\n. Make the min frequency like 300 and max 600 and sing 440 (A)...\n. Are you using the develop branch?  In there I make sure that the microphone is enabled on the device, but on older versions you have to do so manually using: AKSettings.audioInputEnabled = true before starting AudioKit.\n. I don't think that creating the audio file to record to should be the recorder's responsibility.\nWhy not just create a container recording.wav in your project that you will overwrite:\nlet bundle = NSBundle.mainBundle()\nlet file = bundle.pathForResource(\"recording\", ofType: \"wav\")\nAure\n. Did you put a placeholder file in there and make sure to set the target membership to be your project?\n. Since this is not really an AudioKit issue, but iOS stuff, I am going to close the issue.  But, we can still continue to communicate on this thread even after the issue is closed.\n. In addition to discussing other ways to achieve this, this method doesn't pass travis, (haven't looked, but its likely not OSX or tvOS compatible as is), so we have to address that as well.  I'll look at this a bit more later, but I wanted to respond right away.\n. So, an alternative approach would be to put a gain object automatically on the microphone and turn it down to zero if the output is the speaker.  Is that doable?\n. I am not quite understanding \"headphones unplugged then audio is routed of the phone earpiece\"... if the headphones are unplugged how could it get there?  I am not sure how \"earpiece\" is different than \"headphone\".   What I need to understand is the problem you're trying to solve or the the behavior you want to occur.  I thought you wanted to avoid feedback, in which case if we could capture the even of the headphones being unplugged, turning off the microphone's output would be an okay solution.  But maybe capturing that event is not easy.  I'm also happy to do a skype or screenshare if talking this through over voice would help.\n. Honestly my inclination is to just accept the pull request because you have given it a lot more thought than anyone else could have.  Its exactly the kind of pull request I like to see- completely motivated by a real use case scenario.\n. parameters(0) is not the frequency.  Its just the first parameter and can be assigned to whatever you want. In this case you've made it the frequency by using it in the first argument of the metronome.  If you want something else to be controlled by the next parameter, use AKOperation.parameter(1) and then it becomes whatever.  I'll try to work on making this system less index-y and more friendly.\n. You might also like the way I just updated the AutoPan playground as a way to name the parameters so that the code looks simpler:\nhttps://github.com/audiokit/AudioKit/blob/develop/AudioKit/iOS/AudioKit/AudioKit.playground/Pages/AutoPan%20Operation.xcplaygroundpage/Contents.swift\n. And btw, the i+2 from the code snippet you posted is just there because there are two behind the scenes parameters (triggers) that are reserved.\n. Looks like you're changing the parameters, but never referencing them in your operation code.  I also don't see where you trigger the generator.  Don't forget to trigger like this: \nhttp://audiokit.io/playgrounds/iOS/Linear%20and%20Exponential%20Segment%20Operations/\nand change parameters like:\nhttps://github.com/audiokit/AudioKit/blob/develop/AudioKit/iOS/AudioKit/AudioKit.playground/Pages/AutoPan%20Operation.xcplaygroundpage/Contents.swift\n. I'm glad you got something to work, but that's pretty odd behavior that I wouldn't have expected.  I'll keep this issue open while I investigate.\n. Can you email me or gist the code from above?\n. Thanks very much for the email.  You have found a bug in AudioKit indeed.  I fixed it on the develop branch.  Basically, calling trigger without any parameters was erasing all the parameters that you had set.  Now it doesn't do that.  Thanks very much!\n. I've updated the documentation to let the users know that the delay time is only up to 2 seconds on this stock delay.  AKVariableDelay allows you to set the maximum possible time, but I found a bug in that on my machine at least and it is not making sound.  I'll close this issue because it has to do with regular delay and 2 seconds, which is just the max.\n. I've committed a working AKVariableDelay node to the develop branch that will let you have longer delay times by setting the maximumDelayTime property at initialization.\n. Its also on Master as of 3.1\n. The makefile runs and builds fine on OSX and the test program sp_mandol, produces a good test.wav.  So, all systems go.  However, this doesn't do anything for AudioKit yet.  Question for you is whether you want to get your hands dirty on that Mac Mini and try to make STK work within AudioKit proper or if you want me to accept the pull request and get handed off the code.\n. I have no preference.  Probably something that uses the rawwaves, because they will have to be encoded into some text format.  Frameworks themselves can't really contain anything except code.  Files in frameworks aren't easily referenced so there would have to be extra instructions to copy a resource bundle, which we did in AK2 and I'd like to avoid.\n. I think I'd like to see one thing work in AK before committing these files to the final repo.  I'm optimistic, just cautiously so.\n. Awaiting v2 of this pr...\n. Yeah, use the code that works.  You don't want to be connecting sources after the engine has started.\n. AudioKit 3 doesn't have the kind of beginner docs AudioKit 2 had, not because we're crusty and mean, just a question of time! :)  Would love to get some help with web site docs if anyone is willing.  Otherwise, it will come after this big project I am working on is done.\n. Rewiring is not recommended for most apps.  It's kind of like you are a guitarist with a pedalboard in front of you.  If you're playing live, you don't want to be reconnecting cables.   Instead, you keep everything plugged in but route the signal turning things on and off, or mixing effects in or out.  But, if you don't mind the down sides, you can stop AudioKit, recreate a brand new signal chain and start it again.\n. You bring up a lot of good ideas.  Some would take some serious re-architecture.  For instance, if we were to introduce the concept of node container that would stay in the signal chain but the internals could be replaced.  Good stuff, would be cool if it were there! :)  Also, if you want to figure out a way to make a node copyable, that would be welcomed I am sure.  I don't think it would be that difficult to make a copy of all the parameters.  \nFinally, I'd love to see an integration with AudioBus.  I've been too busy with all the other stuff, but that's been on my todo list for over a year now!\n. Looking at this more, I do think that the best we can offer at this point is to stop the engine and then rebuild the signal chain using a system of setting parameters and then calling them back. So, I'll close the issue, but if you need to reopen it and add new information, please don't hesitate to.\n. Sure I'd love to see what you've done and incorporate it into AudioKit.  Make a pull request!\n. First of all, thanks for the very thorough bug report.  Secondly, I want to confirm that I am getting the same problem as you.  The tests passed because the project builds, but no sound is made.  I'm working on this right now.\n. This is fixed in the develop branch.  If you don't want to switch branches, just copy the AudioKit.swift file from here:  https://github.com/audiokit/AudioKit/blob/develop/AudioKit/Common/Internals/AudioKit.swift\nover yours.  We will make a minor revision release for this bug since it is killing all OSX projects.\n. And once again.... THANK YOU!!!!!!!!\n. I also notice in your report that you couldn't get the iOS or OSX playgrounds to work.  Make sure you're running them like this: https://vimeo.com/157204402  and if you're still having problems, open up a new issue or we can also do a screenhero session on your computer to get them working.\n. Sure, why not :)\n. If it doesn't make a sound, it's a bug.  Great catch.\n. I'm going to leave this open until such time as I can investigate it competely.\n. This is due to the fact 0.00001 gets printed as \"1e-05\" which is confusing the Sporth parsing engine.  You won't really heard the difference in attack between these small value, but if you really need tiny numbers for something else, you can game the system with \nAKOperation(1.0) / 100000\nso that the line would read:\nvar boomAttack = boom.triggeredWithEnvelope(AKOperation.trigger, attack: AKOperation(1.0) / 100000, hold: 0.5, release: 0.1)\nThere's not much else I can do about with a lot of effort so I'm going to close the issue for now. Perhaps Paul will support scientific notation for numbers in Sporth someday.\n. This must be a bug and I'll look at it, but if you really want that other curve, why don't you make it?  See the playground for general purpose oscillator where the custom curve is defined:  http://audiokit.io/playgrounds/General%20Purpose%20Oscillator/\n. @Joshua-Thompson I believe this is fixed in the develop branch. I ran your playground and the parameters now shape the sound a lot.  Thanks a lot!\n. You're not doing anything wrong.  Investigating, thanks!\n. After Paul's changes, which I merged onto our develop branch, methods 1 and 2 of clip seem to be acting properly, but we are still getting weird behavior on method 0.  Anyway, I think method 2 will work for your problem, but lets keep this issue open until method 0 is figured out.  I hate modes.  If anyone wants to help me out, lets at least turn this method mode into an enumeration.\n. We found that there was an initialization issue in method 0 that was fixable, but in general it wasn't worth it to have different clipping modes.  So, we chose the sine method (what was method=1) because it was just fine. :)  So, this issue is resolved by way of simplifying the code. I like that.  Thanks again Joshua.\n. Added taps for FFT and amplitude, will probably add frequency too.  The problem with taps seems to be how frequently they are updated is a constant - 0.375s which might be slow for some applications, so the node based analyzers are going to remain relevant for some.\n. What happens when you try to build?  Would you like to do a screen share with me so that I can get you set up?  Email me directly and I can invite you to screenhero if you are not a member already.\n.  Seeing as we got your playgrounds working, I'm thinking this could be a problem with your Xcode simulator set up.  Did you have any luck after our screenshare?  If so, let us know, and close the issue.\n. @GoodVillager I am sorry you're having problems.  I am not familiar with your error, but I am willing to do a screenshare if you want me to have a look at your situation personally.  Let me know and I can invite you to screenhero.\n. So, this looks like a problem where some people's Framework search paths do not get updated when dragging in the framework or using the + button to include the framework from another location.  That's a great little fix to just copy the framework into the project directory.  I'm going to close this issue, even though GoodVillager added a related problem, that could be added as a separate issue if it persists or if using your solution here doesn't work.\n. @fridemar Xcode betas are not supported.\n. Okay, still kinda hoping to clear out the really weird stuff like the tcp server included in STK, but at least those are just text files.\n. Thanks for your continued vigilance to keep AudioKit up to date with your latest finds!\n. So it works for one but not more?  I'm wondering if they are not getting connected to the output.  I could see multiple convolutions bogging down the system and even not making a sound after a while, but to just crash straight away makes me think they are not connected right.\n. sp_conv_compute is the Soundpipe part of AudioKit doing the convolution math.  So its still AudioKit, just the underlying C.\n. I'd basically need to have your project to do any real sleuthing.  Willing to share?\n. @blazejchwiecko I'll look at it this weekend.\n. @blazejchwiecko I tried your repo but it wouldn't compile for me.  It sounds like you have your problem sorted out as much as can be anyway.  Can this issue be closed or is there something we can look into for you?\n. Paul Batchelor could possibly make a morphing convolution some day.  The idea would be instead of mixing together all these expensive convolution calculation, you do one but change the impulse response file in real time.  But, that's a lot to ask of him to do unless he's personally motivated to do so for another project. :-/\n. Will you try this out on a fork? If it works for you, you could make a pull request.\n. Until more information is received I'm going to call this resolved, but reopen as necessary.\n. I think \"turnOnAKNotifications\" would be better renamed \"notificationsEnabled\" to match the other Boolean settings.  \"turnOn\" is a verb/action and so it sounds like a method.\n. Well done John!\n. Thanks!\n. Download from the source and build the framework for your system directly using the build_frameworks.sh script in the Frameworks directory or by dragging the AudioKit project into your project as a subproject.  Let us know if you have any issues.\n. I think the problem here is likely not the frequency tracking but rather the microphone.  I don't think it's going to be able to pick up vibrations at that high of a frequency.\n. Hi,\nThere are two variations of the morphing oscillator.  If you're using the one that is an operation, the tables are limited, but the one that is a generator node is completely up to you:\nvar morph = AKMorphingOscillator(waveformArray:[AKTable(.Sine), AKTable(.Triangle), AKTable(.Sawtooth), AKTable(.Square)])\nIn that example the tables are ones created with the default initializers, but you can create your own.  Check out these playgrounds for examples:\nhttp://audiokit.io/playgrounds/Morphing%20Oscillator/\nhttp://audiokit.io/playgrounds/General%20Purpose%20Oscillator/\nAure\n. When you tell AKDelay that its input it is AKCostelloReverb, this happens behind the scenes:\npublic func addConnectionPoint(node: AKNode) {\n        connectionPoints.append(AVAudioConnectionPoint(node: node.avAudioNode, bus: 0))\n        AudioKit.engine.connect(avAudioNode,\n            toConnectionPoints: connectionPoints,\n            fromBus: 0,\n            format: AudioKit.format)\n    }\nwhich forms an audio chain from one node's output to another's input.  \nAKOperations create a single audio unit from many operations however, so you could make a single audio unit that uses the operation version of delay and costello reverb.\nThis is an important process you're going through and I'm hoping that you'll provide good information back to us as you pave the path forward and I'll try to be of as much help to you as I can.\n. Most of the operation playgrounds string together several operations.  Here's one example:\nhttp://audiokit.io/playgrounds/Linear%20and%20Exponential%20Segment%20Operations/\nYes, you can access parameters at any time as demonstrated on this playground:\nhttp://audiokit.io/playgrounds/AutoPan%20Operation/\nI was just thinking if you were limiting to a single audio unit, operations would allow you to jam one audio unit with a lot of cool things.\n. ~~AKAudioRecorder only records what is coming out of the speaker, ie. the final output.~~ \nSo, if you wanted to record a specific node, you'd have to install a tap on that node and then write the incoming buffers to disk.  I agree it would be really cool if AKAudioRecorder could be given an optional node to record from.\n. @blerchy I am wrong about the AKAudioRecorder.  It does not record the output.  It only records the input.  So, I can tackle this problem in two steps.  First, record from the output node, then make a recorder attached to any node.\n. Currently AKAudioRecorder just records from the inputNode, ie. the microphone.  I am working on a node recorder right now.\n. @blerchy @arsone In the develop branch, I have committed a new AKAudioRecorder that seems to work like it should.  It defaults to recording the overall AudioKit output (like I thought it was already), but you can also initialize it with a node: so that you can tell it to record from the microphone, or any AKNode.  It seems to only record in .caf format right now and its probably brittle if you try recording the same node (why you would do that I don't know!), but it should suffice for now.  I'll make some playgrounds and examples that use it.  Definitely use with caution!  To use it, either update to the develop branch or just overwrite your AKAudioRecorder.swift contents with the following:\nhttps://github.com/audiokit/AudioKit/blob/ca0cf66af9953741cf1516e12508261892eb93cf/AudioKit/Common/Internals/AKAudioRecorder.swift\nI'll leave this issue open while we discuss things, but if you feel satisfied, feel free to close it.\n. I'll download that build of Xcode and see if I get this same error.\n. I just built AudioKit from scratch using Xcode 7.3.1 GM no problem.  The video you've referenced was re-recorded here: https://vimeo.com/157204402 and I'm wondering if that will help.  I can already see from your screen shot that you're doing something wrong because the framework icon is showing in the sidebar when it should be the project icon in order to have the playgrounds show up.  If you'd like I can invite you to screenshare on screenhero to walk you through this.  For now, try again with the new video.\n. Actually  just got this to show up.  So I can work on fixing it now.\n. Hi, I have fixed this in the develop branch.  It will be merged to the master branch shortly.\nHere's the one change that needs to be made if you just want to overwrite your AKMIDI.swift file with the new one:\nhttps://github.com/audiokit/AudioKit/commit/4241903eea3e961f0ccc1d5d5233dd6d89423659\n. I can make AKAudioPlayer play a segment of an audio file which I think would suffice.  I could make the API be something like playFromFrame: or maybe even playFromTime: and then it will play to the end of the file.  Sound good?\n. I added a playFrom(time: Double) function in the develop branch:\nhttps://github.com/audiokit/AudioKit/commit/7253673be8e1866112ae24d8944dc6e04ea7037e\nThat should allow you stop and restart playback from the appropriate point.\nHope that helps, if not you can reopen this issue.\n. Good catch.  I just made a commit that should address this issue:\nhttps://github.com/audiokit/AudioKit/commit/b9a49c6c2f4260ddbfde07145a7f0dc315238844\nUntested at this point.  Can you let me know if that works for you?\nThanks.\n. Andrea, is this still working for you?  It seems like the newest Xcode update may have broken this.\n. Actually, found a way to beef up the audio player code and things seem to be fine again.  If you're having any problems, you might want the latest updates in the develop branch.  There's a useful playhead property in there now.\n. Thanks David, looks great, I'm also going to pass this along to the mailing list. @swiftcodex We should definitely do this for the synth.\n. Done.\n. I'm happy to do a screenhero screenshare but I don't see from glancing your code what could be wrong.\n. Well, except that node1 stuff - the file placeholder and then node1.output = morph?  Not sure what you're trying to do there.\n. You absolutely cannot send AudioKit.output into the into the input of the low pass filter.  The output is there just so you can send the very last item in your signal chain to it.  So you were better off with AudioKit.output = lpf  Have you taken a look at the examples or the playgrounds?\n. I think this is more of a discussion than an issue.  We have a google forum at:  https://groups.google.com/forum/#!forum/audiokit\nAlso happy to do a screenshare with you and walk you through your signal chain setup.\n. You're right.  The video tutorial might need to be updated to include that framework search path.  Some machines seem to need it while others don't, so I might as well include it.  I'll mark this as fixed for now.\n. @eljeff I think Laurent's right about the setLength thing.  At some point, want to go through AKSequencer and see what should be in Beat instead of Double?\n. I think I've gone through and fixed the references to seconds and also changed their types to Beat, so I think this issue is pretty much resolved as much as it can be.\n. availableVoices is an array of AKVoice not an array of CustomVoice.  So, when you pull out the 1st element, all the compiler knows for sure is that it has the properties of an AKVoice.  You can either force cast the element into a CustomVoice or make a new array of CustomVoice that you use to change the preset with.\n. I am not sure if my response was helpful... \n. I'm going to close this for now, but please feel free to reopen it with new information.\n. I just tested this on both iOS and OSX playgrounds for the \"General Purpose Oscillator\" aka AKOscillator, and they stil work. I also checked HelloWorld which uses the oscillator and it still works.  Can you provide me more information or do a screenshare with me?\n. Also, which version of Xcode are you using?  3.1.2 is specifically targeted to Xcode 7.3.1.\n. You've set the detuning multiplier to zero.  The default value is 1.  Maybe this was broken in 3.1, but it is fixed now so your code is telling the frequency to be detuned to zero. Use:\nself.oscillator = AKOscillator.init(waveform: AKTable(.Sine, size: 4096), frequency: 1000, amplitude: 0.5)\nor \nself.oscillator = AKOscillator.init(waveform: AKTable(.Sine, size: 4096), frequency: 1000, amplitude: 0.5, detuningOffset: 0, detuningMultiplier: 1);\nand you'll be fine. \n. BTW, you should put the AudioKit start stuff in viewDidLoad instead instead of on the button press.\n. This isn't really an issue per se, but a discussion, which is probably best done on the Google group: https://groups.google.com/forum/#!forum/audiokit\n. Since StackOverflow discourages attaboy comments the best I could do was vote up your detailed response to your own question.  I'll cross link the blog all over the place if you let me know when you post it.\n. Hi, I think when we upgraded to AudioKit version3, the web site lost its links to the discussion forum, allowing new users to discuss stuff.  \nhttps://groups.google.com/forum/#!forum/audiokit\nGithub issues are for problems with the code, so I'll close this issue.  But, please come to the Google Group!\n. Hi Joshua,\nI am not exactly sure what you're trying to do, but it seems like its fine.  We certainly don't have a pattern in place for doing something like this.  In some ways I'm not sure this is an issue as much as a discussion, and it might be good to have it on the Google group instead of here:\nhttps://groups.google.com/forum/#!forum/audiokit\nAure\n. I read through your code a bit more in depth today and I can't really make sense of it.  To my eyes, you're trying to put too much into a subclass of AKNode.  I'm more of a compositor than a subclasser, I'd make a managing \"conductor\" class contains everything it needs and manages all instruments, collections etc.  Maybe that is helpful?\n. You're doing a lot of processing on each voice.  What we did in the Analog Synth was to try to keep the voice as simple as possible and doing the processing on the combined signal and we still ran into some troubles on older devices.  Even on a guitar hexaphonic processing is a lot more effort than pedals that affect the combined sound of the strings.\n. Thanks!\n. The pull request is failing Travis CI due to the inclusion of UIColor in the otherwise cross-platfrom EZAudio library headers.\n. If you run ./Tests/travis.sh on your machine, it will run the same tests Travis-CI runs, but your machine will run them much faster, so that's one way of assuring your \"hopefully fixed\" is an actual fix.  Maybe you knew this, but just in case, there it is.\n. Any reason why you closed this?  It looked good.\n. Still could use the clear listeners functionality...\n. huh, yeah, I have no idea why it stopped working for you.  Something must have changed right? :) Perhaps if you shared the project I could dig in, but it would be hard to test this very well.\n. I'm curious if this happens just with Operation-based generators.  For instance, if you were to use an oscillator or noise node, do those come back after interruption?\n. Any updates on this?  If so we can open the issue back up, but until then I will close it.\n. This is done inside the new \"SongProcessor\" example in AudioKit's develop branch.\n. Not to be pedantic, but what is AKRecorder?  I'd assume it was a typo but you typed it twice and you mention AKAudioRecorder too, so there must be a reason.\n. I'm working on AKAudioRecorder right now and I'm having similar issues to you.  The way it should work however, is that it will require a starting file that is in the correct format.  So, instead of using some complicated method of saving as a certain format, it instead just writes in the same format that the file from your bundle was in.  So, it really shouldn't create files.  But, even when I give it a file it was not recording so I am trying to debug that.  I just thought I'd update you about the file creation thing.\n. My latest push to the develop branch does record the file, so maybe it will work for you.  I am having some trouble loading the file back into AKAudioPlayer.  I can listen to the recording using VLC but no Audacity, so my feeling is that there is something inconsistent about the audio format settings that certain apps can ignore but others need to be perfect.\n. I'm going to rename this to AKAudioRecorder does not save in a format AKAudioPlayer can read because that seems to be the biggest issue around this right now.\n. I've introduced the AKMicrophoneRecorder which is just a lightweight wrapper around AVAudioRecorder, so I am sure that will work for you if nothing else.\n. I think this is fixed now.\n. @roecrew  Laurent Veliscek is rewriting the AKAudioPlayer and I think it will be more robust.  perhaps as soon as tomorrow.\n. And you were nice enough to contribute the fix back!  So I guess AKNodeRecorder needs this as well?\n. Hi Tanisha, this would be something for the Google Group for AudioKit, not a Github issue.  https://groups.google.com/forum/#!forum/audiokit\nThere are playgrounds that show how to use the plotting classes and how to use AKAudioPlayer, so that would be another good place to start.\n. It can't have to do with the content of the file, but it could be due to the encoding.\nThis wav file has sample rate of 48000Hz.  I wonder if the problem will go away if you use a 44.1kHz file?  Is the other file 44.1?\n. Infinity minus one!  :)  I think 16-bit is fine though.\n. Wondering what the status of this issue is...\n. I guess start() and play() methods should do the same thing AKNode expects them and I think defaults one just calling the other, but I'll have to look at this in more detail in the morning.\n. This issue seems to be in place to let us know that you've identified something that you plan to fix right?  I'll leave you to it unless you want me to get involved.\n. Everything's doable I guess, but its not like we have this exact applicationbuilt in.  You kind of have said one of everything in that paragraph.  Microphone input, sampling, spectral analysis, synth, low latency, oh my. :) This is not really an issue with AudioKit but a discussion, so I'd encourage you join the forum:\nhttps://groups.google.com/forum/#!forum/audiokit\nAure\n. Playgrounds don't come with Carthage since you wouldn't necessarily want them in  your code.  Download AudioKit directly from the source and you'll find them in the Xcode projects for both iOS and OSX.  Maybe this video will help too:  https://vimeo.com/157204402\n. CADisplay ftw\n. While I agree that an example would be useful, I don't think I'll be adding one to the repo, but rather making a separate repo with a big ol' sf2 file in it.  In any event, I believe your issue should be resolved with the two new methods in the develop branch, loadMelodicSoundFont and loadPercussiveSoundFont.\nUse like this:\nsyn1.loadMelodicSoundFont(\"GeneralUserGS\", preset: 10)\n. Are you running this in playgrounds?  Asking just because the microphone doesn't work in the playgrounds.  If you're running on an app do you have audio input enabled?\n. Can you share your project or do a screenhero screenshare with me?\n. I suppose that's good news, but yeah audio programming can be a dark art a lot of the time.\n. @returnzer0 This should be fixed in the develop branch, we'll make a new release soon.. Yeah, just build the framework and use it instead of using Cocoapods.. The session management bug fix is in the latest release, yes.  If there's a bug, probably deserves a new issue.. Thank you!\n. THanks, this breaks OSX Hello World, but it shouldn't have microphone recorder anyway, I'll take care of that.\n. By the way, I just noticed you're making these pull requests from the master branch.  Development should really be done on the \"develop\" branch so that it can be tested before going into master.  In the future, I will be more careful about this.  Thanks!\n. Can you make a pull request in to AudioKit's develop branch?  We are trying not to alter the master branch except when making releases.\n. I think you're on the master branch, right?  This should be fixed in develop and we'll make a release to master soon.\n. This pull request looks really bad because you have undone lots of work done by other.  Looks like you might have done a merge where you said \"keep mine\" and obliterating the recent changes to AudioKit.  You can see that the pull request has 141 files changed.  You only changed two files.  Here's what I suggest:\nMake a copy of your repo with the files you added (playground, akaudiofil, etc.) then fork a clean copy of AudioKit's develop branch, readd the changes, and commit, push, and create pull request.  If this is becoming too complicated, I can make the changes for you but this is a process you should learn.\nThanks.\n. Great, thanks!\n. Thanks!\n. Every little bit helps!   And... I love getting pull requests!  Thanks.\n. Thanks! Keep 'em coming!\n. You can email me a zip to aure at audiokit dot io or we can do a screenshare.\n. We've shared files and figured out that Apple's sampler unit is very touchy with file names and doesn't like dashes or numbers as the first character, etc.   Weird, but there doesn't seem like much I can do about it.  I suppose we could file a radar with Apple if it becomes an issue\n. Playing and Recording is definitely the order of the day with Laurent also looking at making improvements so we'll tackle this. \n. Nice work Laurent!\n. Bam!  Nice\n. Thank you!\n. You're on fire!\n. AudioKit/EZAudio will help you make the graph from the samples, but resizing and such is all stuff you'd have to implement yourself.  This is not really an issue for Github, perhaps you can join the Google group and engage with other users that way.\n. Normally I'd ask you to do pull requests only on the develop branch, but given how minor this was I didn't want to be so pedantic.\n. Thanks!\n. I don't think this is not what AudioKit is meant for.\n. Cool! Thanks!\n. Wow, thanks!!!!\n. You have a conflict with the playgrounds file, so you should pull from develop and make sure to discard your own edits to contents.xcplayground and use the version from our develop branch.  Then commit and I can merge.\n. Hoping to replace ADSR with something better someday.\n. Thanks!\n. I've actually updated the moog ladder filter playground to use Laurent's new AudioPlayer changes so I think its better to update the playgrounds than change code to make the current playgrounds work.  So this will be fixed soon.\n. I believe I've fixed most of the playgrounds on the develop branch. @narner if you want want to check them again, that would be great.\n. Restored those files, should work again.\n. Thank you!\n. So great to have you look at these things at such great depth.  Much appreciated!\n. Damn, I can't believe it.  You're absolutely right that no bounds are ever checked.  I will try to fix this in a global way.  Very good find.\n. I have fixed this on a local branch, will do it for all nodes and then make a push to develop.\n. I did push the oscillator fix up to develop since it will take me a little while to do it for all nodes.\n. Aside from the physical models, all of which are getting some attention, the bounds are being checked on all parameters at the DSP level so I think we're good.  Let me know if not.\n. Great strides, keep them coming!\n. BRW, in Swift 3 base enum values will start with lowercase, so we'll be going to that nicer standard soon.\n. Also, adsr recently changed again, might want to check that: https://github.com/audiokit/AudioKit/pull/416/files\n. Any updates on this?  Will close for now.\n. There needs to be some OS checks in there to make it work on OSX but I can handle that.\n. Thank you!\n. Hey, this is great, thanks.  You're really digging deep.  Would you be interested in becoming a core team member?  There aren't many perks, except you get access to our internal Slack and Trello, and show up on the about us page on audiokit.io.  We do get occassional contract work if you're interested on that level as well.\n. choosing a different curve line sine for the faster tremolo is essential.\n. Pretty sure the default values are just zeroes.  The parameters are sent in to the operation the p values, offset by two to make room for default triggers.\n. So, I think I see the issue here.  AKOperation.parameters(0) is a method to use the zeroth value inside the buliding of an operation.  If you just want to access the operation's parameters from elsewhere, you want to use operationInstance.parameters[0] ...  If that doesn't help feel free to reopen the issue.\n. Parameters are just a double array as you know, and its up to you to fill them and keep track of which index represents.   I made the enum in the AutoPan as an example of one way to manage that complexity.  Operations are built with Sporth, so these parameters are a bridge between what is available in swift as parameters[] and what is available in Sporth as p values, ie. paramers().   Perhaps you're discovering and proving that the system is kinda crappy and needs to be improved!  Or perhaps by the time I explain it here, it can be converted into real docs.\n. In the AutoPan playground, change these functions:\n```\nfunc setSpeed(slider: Slider) {\n    effect.speed = Double(slider.value)\n    speedLabel!.text = \"Speed: (String(format: \"%0.3f\", effect.speed))\"\n    printParameters()\n}\nfunc setDepth(slider: Slider) {\n    effect.depth = Double(slider.value)\n    depthLabel!.text = \"Depth: (String(format: \"%0.3f\", effect.depth))\"\n    printParameters()\n}\nfunc printParameters() {\n    let realSpeed = effect.parameters[AutoPanParameter.Speed.rawValue]\n    let realDepth = effect.parameters[AutoPanParameter.Depth.rawValue]\n    print(\"speed = (realSpeed), depth = (realDepth)\")\n}\n```\n. I'd love to see a new playground that exposes this a bit more.  I'm happy to consult on it if you want to have a go!\n. You can continue committing and this pull request will update.  When its ready to merge, add a comment letting me know.\n. Looks good to me.  Travis tests are a bit broken now so I'll do manual testing.\n. Cool!\n. This is an AVAudioSession configuration thing.  I'm not sure we can predict all the possible configurations people would want, but we will be trying to make it easier in the future.  For now, not much can be done on this issue :-/\n. Cool merge of the two playgrounds!\n. This seems kind of complex and specific for inclusion in the toolkit itself, but you should be able to implement something like this within AudioKit in a few different ways. You should probably also join the AudioKit Google group where we can discuss this further.\n. Brilliant!  Coming right up.\n. Oh, actually on develop we deprecated this instrument as it currently stands, but I will implement it this way in the next incarnation.\n. So, gonna close this issue for now. Thanks though!\n. I don't want empty files in AudioKit so let's just keep this open until there is something there of value.\n. Great start!\n. Thanks!\n. Wow, this is a big one!  Thank you!\n. Depending on the parameters, I'd just copy the folder for another similar node and make the tweaks as necessary.  Putting the soundpipe in is very easy.\n. I have some scripts to automate this process, I can run them to at least get the ball rolling unless you want to experience the full from-scratch experience Daniel.\n. I think we can move this conversation to the pull request so that things are in context with the code in question. \n. Have you seen https://github.com/audiokit/AudioKit/blob/master/Frameworks/INSTALL.md ?\n. Thanks, this playground is removed in the upcoming release, so this is not going to be relevant soon.\n. I believe this is indeed fixed in develop.\n. Do you want to send us a link to the file or email it to me at aure at audiokit.io?\n. Fixed in the develop branch: https://github.com/audiokit/AudioKit/commit/73c5aec2944adcc6a75517f117a570741899ea96\nAlso added leftInput and rightInput in case you're processing incoming stereo.\nHere's a playground that shows it working.\nThanks for finding this!\nvar lfo = AKOperation.sineWave(frequency: 1)\nvar sine = AKOperation.sineWave(frequency: lfo * 440, amplitude: 0.3)\nvar sine2 = AKOperation.sineWave(frequency: lfo * 660, amplitude: 0.3)\nvar testWave = AKOperationGenerator(left: sine, right: sine2)\nvar delayLeft = AKOperation.leftInput.delay(time: 0.23, feedback: 0.49)\nvar delayRight = AKOperation.rightInput.delay(time: 0.2, feedback: 0.69)\nvar delayed = AKOperationEffect(testWave, left: delayLeft, right: delayRight)\nAudioKit.output = delayed\ntestWave.start()\nAudioKit.start()\n. This is fixed in the develop branch, thanks!\n. Thank you so much!\n. Great!  I added some os checking compiler directives to get it to compile on OSX.\n. Looks good!\n. This won't work without the sporth version of reson installed into AudioKit.  It looks like Paul added it back to Sporth, so it means just copying some stuff over and changing some lines of code.  If you add me as a collaborator on your fork, I can push these changes to it so this all can live on one pull request.\n. You can't do framework development with CocoaPods.  I develop using playgrounds and I don't compile everything when I make any change.  Xcode does a pretty good job of knowing what needs to be recompiled.  I'll get this reson project jumpstarted for you.\n. This should be good to go.  If you make any other tweaks, just make a new pull request.\n. Thanks for this, will investigate.\n. Hmm, so is this still an issue?  If not, please don't forget to close it, thanks.\n. Thanks, these probably need footers too?\n. Awesome, thanks!\n. I assume this is on the develop branch?  It was fixed at some point, maybe it got rebroke.  @PaulBatchelor ?\n. fyi, I purposely chose sporth's biscale instead of scale for audiokit, but out of curiousity what's your need for it?\n. Yeah, I'd probably just do that with a little inline math.  Especially if it doesn't work.  I'm glad that this exposes a potential problem in Sporth, but its hardly an AudioKit issue. :)\n. No, I get it.  Its cool, just raining on my zero-issues parade. :)  Probably 3 scales (biscales) has the same problem.\n. Besides you made the coolest AK2 powered app, so you have a lot of personal credit to your name.\n. I think it was this: https://github.com/PaulBatchelor/Sporth/commit/f0e99985f0b6aa6f4e7d1abd509ac99ee09ecbea\n. Now you can access parameters as well as set them.  Thanks to @dclelland for needing this because it is a nice upgrade.  https://github.com/audiokit/AudioKit/commit/6d59892f469a0ad8e6ae253db0da1e3cb652054e\n. @laurentVeliscek I have updated the code to have callbacks as the last argument, allowing us to have trailing closure, which are demonstrated in the last part of the asynchronous playground.\n. That's a very low frequency, almost in the realm of beat detection.  I don't think it would be a matter of editing the current frequency tracker.  It would be fundamentally different.\n. Maybe @PaulBatchelor might know where to look\n. Fantastic!\n. Accepted and immediately deprecated the microphone recorder :)\n. Every little bit helps and this will be quite useful to those digging in.\n. Really nice update, thanks!\n. There is no known issue regarding this.  Hard to say with is wrong with your stuff with the amount of information provided.  If you can post the project to github I can have a look.  Closing the issue until further information.\n. If you open up the console portion of the screen (at the bottom) you're probably seeing an error message like this:  ERROR AKAudioFile export: cannot create an AVAssetExportSession!...\nwhich is stopping the rest of this playground from running.  That's the bug I am seeing and I'm going to keep this issue open until it is resolved.  There is still pretty active development of AKAudioFile by me and @laurentVeliscek so we'll definitely correct this problem.  Thank you!!!\n. Does this issue need any further action or can it be closed?\n. This seems to be an orphaned issue, possibly fixed.\n. This is not an AudioKit issue, but a request for support, which is better served by posting to the forum: https://groups.google.com/forum/#!forum/audiokit\n. Set the parameter and it will be accessible from the node's parameter array.  \"7 pset\" for instance would store the parameter into the 8th element of the array, then you can access and print it.\n. No problem!\n. Apple's changing code signing for frameworks to optional in Xcode 8 so this is not a long term issue, but we just submitted an AK3.1.3 powered app and didn't have any problems.  @megastep Helped me set that up so he may have some words of wisdom for you.\n. Instead of connecting the recorder to the bit crusher directly, try connecting the bit crusher to a mixer (even though you're not  mixing anything) and the recording the output from the mixer.\n. Yeah, its not just the bit crusher, its any of our nodes that are not based on Apple nodes but instead using our other sound engines.  Its a known problem, and I'm at a loss of how to fix it other than always having a mixer in the chain hidden behind the scenes.\n. Hello world in the examples folder.  Tons of playgrounds too.\n. Check out the synthesis Playgrounds.  Very basic.\n. http://audiokit.io/playgrounds/Introduction%20and%20Hello%20World/\n. We tried this go around but got a cryptic error.   We'll try with 3.2.1 as well to see if it has changed.\n. Going to see if this helps http://codeslingers.co.uk/2014/05/16/why-your-podspec-is-failing/\n. If anyone has any clues for me, the full output of the pod spec lint is here:\nhttps://gist.github.com/aure/49e4f8d5c4b13252608c26d60308d74d\nEverything goes well and then at the end..\n* BUILD SUCCEEDED *\n-> AudioKit (3.2)\n    - ERROR | [OSX] xcodebuild: Returned an unsuccessful exit code.\n. that error I got past by specifying source_files, but still no.\n. We're very close to fixing this I believe.\n. Ferrick, AudioKit is free and open-source written and maintained by volunteers.  I was willing to keep this issue open for you until resolution, but not now that you are suggesting a schedule for us and making statements on stability.\n. I am back from the conference and will be working on AudioKit a lot this week so hopefully everything gets done soon.  Thanks!\n. Updated cocoapods to 3.3 on iOS and tvOS.  Something still weird on macOS with Cocoapods.\n. 281 files changed?  I think you wanted to create a pull request off of develop instead of master.\n. setting the length in the example project \"Sampler Demo\" appears to be working.  The only thing that loos weird here is perhaps disabling and then re-enabling looping with setting the length in between.  Happy to take a look at the project if its shareable. \nAure\n. Can you try all this as an OSX playground?  I wonder if the problem is isolated to iOS. I know that iOS playgrounds can't do external midi for instance.\n. Are you on the develop branch?  Make sure the playground is set to be OSX and not iOS.\n. Check your \"Products\" directory and clean out any other versions of AudioKit besides the OS you want.\n. It might have been helped by the recent changes, but I am not sure.\n. Hi Joshua,\nWhere does this currently stand?\n. Olivier, could you provide a project that demonstrates what's happening and what you're expecting?\n. With Jeff's comments, can this issue be closed?  We're rearchitecting AKMIDI from the ground up so I'm not too involved in fixes to it right now.  If it works in a predictable way, I think that's the most we can expect for now.\n. This appears to have been fixed in the develop branch.  Reopen if not.\n. We haven't made the switch to Xcode8 yet, perhaps next week.\n. @gargantuan There's now an Xcode8-Swift2.3 branch that works on Xcode8 for me.\n. This is basically a repeat of this issue:  https://github.com/audiokit/AudioKit/issues/511\nIf you're using beta, you have to be able to build yourself.\n. Looks good!\n. Yes, its possible.  Not sure how drawing is related to AudioKit though.  You can scale at will.\n. Stop is effectively pause.  Reset clears the tape.\n. it writes to the same file if you hit record again.  Try it.\n. Are you defining the file that is being used to record to?  If you want to keep the file the same and add to it, you will need to do that.  That's they way it is done in the \"Recording Nodes\" playground.\n. Seems like you could just check if the playing time is greater than the length.\n. I have made that change in the develop branch, but I am a bit worried it might have unexpected consequences for other people using currentPosition as some sort of total play time measurement.  It does make sense to keep currentPosition within the bounds of the sequence length, so hopefully this is an improvement.\n. Just want to state that I've been on vacation without much time to check into this.  Perhaps @laurentVeliscek will get a chance the AKAudioFile is his baby!  If not, I should be back at it next week.\n. I just had a look at this and I'm really surprised it doesn't work.  Will keep investigating, good catch!\n. I think this is fixed in develop now.  Reopen if not.  Thanks!\n. By design.  If you want to try to go beyond that limit, change the DSP Kernel for the AKOscillator to not clamp the value:\nvoid setFrequency(float value) {\n    frequency = clamp(value, (float)0, (float)20000);\n    frequencyRamper.setImmediate(frequency);\n}\n. I see that you joined the discussion forums.  That is the appropriate place for questions like this because it is not an issue with AudioKit, more about learning to use it.  For now let me just say that there is a difference between and AKxxxOscillator and an AKxxxOscillatorBank. \n. You can't use playgrounds with an external framework.  You open up the project file for the OS you're interested, make sure the OS is correct for the playground (only an issue in the develop branch), build and then you run the playground.   Have you followed this?  https://vimeo.com/157204402\n. Looks like its telling you that you have inconsistent value for enable_bitcode are there are other frameworks in your app?\n. Thanks very much.  We will be keeping our EZAudio up to date so its great that you let us know.\n. No, you have to schedule the notes at the appropriate quantized time yourself for now.\n. Hard to help you without access to your project.  I don't think there's anything wrong in what I see here.\n. I will close this issue pending more information.\n. I just got a bluetooth midi device, but I haven't tested it with AudioKit.  Does a bluetooth midi connection show up differently from regular ones?\n. So, bluetooth MIDI works just fine with AKMIDI, but you have to be connected to it.  I don't have the boiler plate code for doing so, but all I had to do was to first use Garageband to connect to the Bluetooth MIDI.  Once it connected I could quit Garageband and use the Bluetooth MIDI to control my AudioKit synth.  Just make sure openInput() with nothing in the argument list, ie. don't specify \"Network Session 1\" or anything.\n. Excellent!\n. The one thing I should have commented but didn't notice is that you should make pull requests from forks of the develop branch back to the develop branch so that changes can get tested thoroughly before releasing onto master.  I've since merged this change back to develop.  I hope to see more awesome pull requests from you so that's why I am mentioning it after the fact.  Thanks again.\n. Well, the MIDI stuff is working well, but is definitely in the need of some careful inspection.  At least we can probably write more midi tests on 3.3 to ensure any changes don't break anything.  Stephane has a fix-frameworks.sh in the Frameworks folder that might give some clues.  We're eventually going to speed up compilation by using a precompiled soundpipe and sporth, but that will only help with the post-swift compilation which is slow to begin with.  \nAs for best practices, we try to be as swifty as possible without throwing the baby out with the bathwater, so speed and efficiency are still the most important.   I know we can do better in that department too.  \nWhen you're ready I can invite you to the AudioKit slack group if you want quick access to the core team members.\n. Also, as far as porting to Swift, there are a few things to do on that front.  What types of things are you interested in?  If you're into physical models a la the AKMandolin, lots of work to be done on that front.\n. Drop me an email to my audiokit address and I'll send you a slack invite\n. I just build using AudioKit for whateverOS.xcodeproj and build playgrounds to test additions to the framework.\n. On slack we can also do a screenshare and share setups and such.\n. Not sure why Travis wasn't passing, but I don't think there's anything wrong with this code.  Release the hounds.\n. I do agree with the hound that variable names like knob120_indicator are highly non-Swifty.\n. I don't think it is intended to work the way you are expecting.  its kind of like a multitrack recorder.  if you don't have anything from 4-8 but something is playing there, it will be silent.\n. Not that I don't think your way would be better.\n. So, yeah, I am not sure that length is telling the sequencer anything beyond \"there could be notes in this range\"much like DAW would have for a piano roll.  So, I am not sure this is an issue as much of a limitation.  Instead, we have to roll our own looping logic.\n. Yep, that's what we did in a recent project.  In fact we never looped, just constantly added the next sequences to a queue before they were needed.\n. Does this change the status of the other issue?  Could it all be related to the same thing?\n. It's a tiny amount of data to add a note every couple of seconds.  We looped once a day I think and started fresh.  I don't have an example, this was for a client. :-/\n. Cool.  Well, if you feel like things work, maybe close the issues.  Perhaps its instead a documentation issue and we can add docs to the web site.  (Something I've wanted to do for some time).\n. I love it, thanks\n. Perhaps minor to you, but clean ups like this go a long way.  Thanks!\n. You can't use Soundflower that way as far as I know.\n. Its open source, you could of course just comment out the stuff you don't want.  I'm not really sure what I should do about it.  Its on our list to revamp the category management stuff already.  If you have any suggestions, we're open.\n. I hope I didn't seem dismissive of your issue.  We will definitely look at this further. I think if you did a blame on that line it wasn't me so maybe I should have waited for someone else to respond.\n. Nope, not as far as I know anyway.  Its a bummer how closed off AVSpeechSynthesizer is.  It should be a node but it only outputs to the speaker.\n. Sorry it wasn't more positive!\n. Thanks!\n. There's also now a \"project\" on Github called \"Works in Progress\" that also lists the same tasks:  https://github.com/audiokit/AudioKit/projects/1\n. Thank you!\n. The latency or synchronization with plots seems to be very much affected by the device you're running on.  I don't really get why its not consistent.  Perhaps you've got a clue with the fact that it is made reproducible by the changing of the audio device.  We can leave this as an issue to remind us to be mindful of it when we're looking at the code, but I don't really know what steps I'd take to eradicate this problem.  It's going to take some deep diving.\n. Any update?\n. This is working well on my tests.  Can you share your project so I can see what is going on?  Otherwise I don't think much else can be done to close the issue.\n. oh wow, yeah, I am not sure I'd know how to debug that without building a project to debug with, which you've kind of already done.  Any chance of sharing, even a skeleton of your current project that shows of the issue would help?\n. I'm going to close this for now, but feel to reopen when you have the sample ready.\n. Hi, this sounds like an important issue, but I don't have the solution for it yet, so I'll leave it open until we can look at it further (probably after Xcode8 conversion is done).\n. I'm hoping this solves your issue.  I could only test with two devices though, so maybe it still needs work. I'll close this issue, but feel free to reopen it if necessary.\n. I can probably doing something similar for output, but yeah, make a new issue please.\n. Hi Colin,\nWe normally do our fixes on the develop branch to leave master as stable as possible, but these are all straightforward changes so I'll merge them anyway. just FYI.   Thanks for the fixes.\n. Yes, these are just saying that the iOS simulator has no microphone.  So an update to Non-audio tutorial would be very welcomed! (master or develop is fine in this case).\n. Thanks!\n. Public?  No.  Our slack group is open to invites though, for serious developers, if you'd like to join, send me an email.\n. Hmm, what if you send the drip through an AKMixer first?  Thanks for noticing this.\n. I guess it must have to do with a audio file spec mismatch, but we always use the standard definition so I am not sure what's causing the issue.  I don't know how you counted the empty input nodes for the panner.  Are you talking 3D or regular panner?\n. Well, there's very little I can do about that.  This is Apple's 3D engine, so however it works I don't have access at that deep of a level.\n. I'll close this issue for now, but you may reopen it as necessary.\n. Yep, thanks!\n. I suspect this will work itself out when we release the Swift3 version and push the podspec up to cocoapods.   We're just about ready to do so.\n. AudioKit v3.4 was released just now and should take care of these problems, and I'm sure it will not be perfect so a 3.4.1 is probably not too far off.\n. Sure, it should be possible, what 3rd party audio units are you using and what do they provide you for connecting them to your audio graph?\n. Feel free to contact me directly, or join the google group for discussions.\n. Hey guys, love it that you helped each other out before I could chime in.  We'll try to fix this on our end for the next release.  Stephane is the man for these kind of issues so I let him know.\n. We can keep this conversation going, but I'd like to mark the issue as closed when everyone is satisfied.\n. Thanks very much.  I think this happened due to an Xcode Swift 3 suggestion, but still, an embarrassing mistake!\n. Thanks!  Next time do the changes on the develop branch...\n. Thanks!\n. What's the status of this issue?\n. Closing this issue until further information, feel free to reopen.\n. Sadly I can't accept this pull  request because it includes a ton of files you accidentally added to your github repo.  You'll probably have to re-clone AudioKit, but I will try find the changes you made and pull those in so they are not lost.\n. I made your playground changes, but it is going to be a little hard to get your example project changes in there.  I'll clone your repo and see if I can copy the important files.\n. What's the status of this issue?\n. Closing this issue until further information, feel free to reopen.\n. No, not yet.  You can use Aubio (http://aubio.org/) for that or try to roll your own.\n. Yeah, its a pretty simple fix.  Its updated on the develop branch, or you can make the change yourself too:  https://github.com/audiokit/AudioKit/commit/c0ba34789eb49fda642f82eb80e0c40bd99e35d3\n. Thanks and Welcome!\n. I thought I had responded to this but maybe not.  Do you have this set up as an iOS playground?  The playground is running a simulator that inherits the sound set up from the host mac.  It doesn't surprise me at all that it would cause problems to change that system (by pugging or unplugging the headphones) after the simulator was launched.\n. Are you plugging and unplugging headphones into the computer or into the iOS device?\n. I guess you'll need to respond to route changes.  \nhttps://developer.apple.com/library/content/documentation/Audio/Conceptual/AudioSessionProgrammingGuide/HandlingAudioHardwareRouteChanges/HandlingAudioHardwareRouteChanges.html  \nIt would be good if AudioKit handled these events gracefully but we haven't standardized a way of handling them.\n. yes, please share the project\n. Cool, won't have a chance to check this out tonight, but tomorrow.\n. This is great!  If we can put something in AudioKit that sets this up so the users only has to worry about the reset function, that would be great.  Otherwise, we just need to provide this as a tutorial.\n. Also, If you'd like to be part of our Slack group, just ask and I'll send you invite.\n. Sure, take a look at the \"Using Functions 2\" playground which does a lot of interesting things with a metronome pulse.\n. Oops, I didn't read carefully enough.  If you want wav files I'd recommend making a sequence like in the Sequencer playground.\n. Yeah, I think it's great that you requested to be on our Slack because I think Laurent will be most helpful if he's available.\n. What's the status of this issue?\n. Last new information this issue was over a month ago so I will close the issue, but if you need to reopen it, please do.\n. So this code is part of the STK library.  I wonder if you shouldn't bubble up your findings to them because even if I make this change, it could get bashed if I later update from their code base\n. It was deliberate because we're finishing up Audiobus support which requires that setting so I thought I'd make it the default.\n. Also, just invited you to our slack since you're an advanced user.  It will give you quick access to everyone.\n. I'll close this for now.\n. Let's go ahead and make that fix and then I'll test with Audiobus, perhaps adding a configuration item for that.\n. I think you mean to create this pull request onto AudioKit's develop branch, please resubmit it!\n. Cool, thanks!\n. What version of AudioKit are you looking at?\n. AKVibrato was in AudioKit 2 only.\n. We have a pitch shift operation that could be used to do it.  I supposed that could be wrapped up into an AKVibrato but its pretty easy to use pitchShift with a sine wave.\n. I just wanted to confirm that I am getting the same error as you are when I run this code.  And I do think the code is fine.  It runs in playgrounds but not on the simulator which is very bizarre.  Clearly an issue, ie. my fault.\n. Thanks for the insight Jun Ho, but I think this particular case has to do operation initialization order, and its on me. :-/\n. @junhohong Wow, here I was chasing all these other issues and I didn't even try that.  Glad it works now!  I will close this issue.\n. I think you're missing the step of including the framework in the Xcode build process.  But yeah, the Google group might have got you a quicker answer.\n. I think the build could be successful even if it isn't linked properly.  But then you get the fatal error later when it is not found.\n. Happy to do a screenshare with you to track down the issue.\n. I am going to call this issue resolved, re-open if necessary.  Thanks Jun Ho!\n. I don't reopen issues that are several releases of AudioKit old, but you can make a new issue.. What you want to do is definitely possible, depending on how deep you'd be willing to code.  I am currently preparing for a talk on Friday, but I can switch to this once that is over.  I hope that is not too much of an inconvenience.\n. We can do it directly with Sporth, but if we want it to look like an operation, it will mean editing AudioKit source code.\n. You actually won't have to edit AudioKit source, just extend it locally. When I'm back we'll dive in.\n. I am back from my conference now so I will start looking at this after releasing an Xcode 8.1 compatible precompiled framework for AudioKit/\n. Let's do it today.  I'll try to see if I can do it within a playground to send you.  Basically just a metronome with a counter that increment each time.\n. Here's a playground that \"works\".  The UI is nothing special though, every time you change the slider, you'll see the counter printed to the console.  I'll wrap this up into AudioKit and make a nicer playground but I wanted to get this to you asap.  If it works, you could close the issue, knowing that I'll get this in develop today.\n```\nimport AudioKit\nextension AKOperation {\npublic func count(max: AKParameter = 1000000) -> AKOperation {\n    return AKOperation(module: \"count\", inputs: self.toMono(), max, 0)\n}\n\n}\nextension AKOperation {\npublic func save(parameterIndex: AKParameter) -> AKOperation {\n    return AKOperation(module: \"dup \\(parameterIndex) pset\", inputs: self.toMono())\n}\n\n}\nvar currentFrequency = 60.0\nvar count = 0.0\nlet generator = AKOperationGenerator() { parameters in\n    let beep = AKOperation.sineWave(frequency: 480)\nlet metronome = AKOperation.metronome(frequency: parameters[0] / 60)\n\nlet counter = metronome.count().save(parameterIndex: 1)\n\nlet beeps = beep.triggeredWithEnvelope(\n    trigger: metronome,\n    attack: 0.01, hold: 0, release: 0.05)\nreturn beeps + (counter * 0)\n\n}\ngenerator.parameters = [currentFrequency, count]\nAudioKit.output = generator\nAudioKit.start()\ngenerator.start()\nclass PlaygroundView: AKPlaygroundView {\noverride func setup() {\n    addTitle(\"Metronome\")\n\n    addSubview(AKPropertySlider(\n        property: \"Frequency\",\n        format: \"%0.2f BPM\",\n        value: 60, minimum: 40, maximum: 240,\n        color: AKColor.green\n    ) { frequency in\n        generator.parameters[0] = frequency\n        Swift.print(generator.parameters[1])\n    })\n}\n\n}\nimport PlaygroundSupport\nPlaygroundPage.current.needsIndefiniteExecution = true\nPlaygroundPage.current.liveView = PlaygroundView()\n```\n. also I'm on slack...\n. Looks good to me!\n. Thanks, want an invite to the Slack?\n. Not currently, but its a good idea that I think we should try to add.\n. There doesn't seem to be any distinction with USB or Bluetooth, this is just the general MIDI setup changing, so hopefully it is inclusive.\n. Yes I just added in that commit you see above.  In your MIDI listener, implement receivedMIDISetupChange()\n. There is no issue listed here.\n. This all seems reasonable to me.  Probably don't need to comment out the stuff, just remove it with good git commits, but I see why you're doing it to be extra clear and careful. \n. This looks good but the test script is failing on build, I think because you haven't added the new files to the non-Mac frameworks.  I can either attend to that when I get back (traveling today) or if you want to append some commits to this pull request, that of course would be great too.\n. Yep, that was all you need to pass the tests. Thanks!\n. Yes, someone already has used AudioKit for this.  \nhttps://gist.github.com/iamyellow/58aa2a3240cecb42bf4235bd0eb2864e\nIt's on our agenda to make it easier: https://github.com/audiokit/AudioKit/projects/2\n. The link is dead and I do not get this error.  Does it appear when running one of the example apps?  On the simulator or an actual device?\n. Hi, it sounds like the message is out of my control.  Of course, I'd love to see your example.  If you can make a repo for it, or email at aure at audiokit dot io and we can set up dropbox.  Or if it is small enough, just email the zipped project to that address.\n. Seems to be resolved, reopen if necessary.\n. Are you basically talking about recording and saving?  We have that.\n. THANKS!!!\n. Fixed by https://github.com/audiokit/AudioKit/pull/604\n. Hi, I just tested this on my machine, on the simulator and it works fine.  Can you give me more information about where you're trying to run it and what version of Xcode you have and what version of AudioKit.  etc. \n. Does it work for you using the simulator but not the actual device?\n. That's what I am getting.\n. This was working recently, so its something new, thanks for finding it.\n. Checking all the examples out on the phone and there are a few issues that might be related.  Working on it...\n. @samuelbeek If you want to help, please do.\n. This seems to be due to recorder installing the tap on a node and not getting the format set properly.  I'm not sure why this has stopped working because my code seems to be about the same.  I've even reverted some code with no luck.  I'll keep pushing on it but I thought you deserved an update at least.\n. More info: The processing format that comes from AVAudioFile appears to be reported incorrectly on the phone, but not on the simulator.\n. So, here's what happened (I had posted all of this into the wrong issue).\na) I tried out the recorder on my iPad pro and it worked fine\nb) It works on my phone too, if I disconnect the lightning cable after installing the app and rerun it.\nI had theorized that it was because I have an iPhone 7 which has no headphone jack and I thought maybe the lightning cable was taking over my audio.  But, you have an iPhone 5 and 6, so I am not sure that is truly the cause.\nCan you try this technique on your devices and see if it solves the problems?\n. Well, I have tested on all my devices and it works, so I have to ask the other basic questions.  Which branch are you using?  If you're already using develop, have you pulled the most recent changes? Have you rebuilt the framework using build_frameworks.sh in the Frameworks directory?  Thanks.\n. It could be that recent changes fixed it.  You could just try grabbing the develop branch version of the recorder demo.\n. Just because this isn't an actionable issue for me, I'm going to close it, but feel free to reopen it with more information or updates.\n. Yay!\n. @DebanjanChakrabortyCN I just tested it on my iPhone and it works.  In general its bad Github etiquette to follow up very old closed issues, so I am disabling adding comments to this issue.. I'm looking into this, didn't want you to think this was being ignored.\n. I got this to work using a reference to the audio file directly instead of referring to the player's audiofile.  When I did it your way I got your error plus a little more information:\nerror cannot readIntBuffer, Error: Error Domain=Foundation._GenericObjCError Code=0 \"(null)\"\nWARNING AKAudioFile.append: appended file should be of same format as source file!\nWARNING AKAudioFile.append: trying to fix by converting files...\nAKAudioFile.append: source file has been successfully converted\nfatal error: Array index out of range\nSo, if possible, try to access the audio file directly.\nHTH\n. I'm going to assume this is resolved, but please reopen if not.\n. This is not an issue, its more of a question, and you should turn to the forum for that: https://groups.google.com/forum/#!forum/audiokit\n. So, I just moved the tick up into the else block.  Does that work better for you?\n. Closing for now, you can reopen it if you have more issues.\n. Can you please make this request onto develop?\n. What's the benefit of this name change?\n. Awesome, love stuff like this, keep them coming!\n. Wow, this is gorgeous, assuming it passes Travis, I'll merge it right away!  Thanks!\n. Oh crap, one bad thing though, this was master to master, it should have been merged onto develop.  I'll do that \n. Merging this even though its on master instead of develop, its that good. :) \ud83d\udc4d \n. No worries, these were all great improvements I'm happy to make on all branches.\n. Thanks!\n. Update your Xcode to the latest and you should be fine.\n. Reopen this issue if new Xcode doesn't fix things.\n. Gotta love that!\n. Another great pull request!\n. Thanks!\n. Cool, has some issues but I will accept and fix.\n. Holy moly!!!!\n. Wonderful stuff\n. Okay, this just happened to me too, so we'll get to the bottom of this!\n. So, I was having this problem for a while, but its gone now.  Which branch are you using?\n. This should be fixed with tonight's release.\n. Looks good to me\n. Another person committed to clean code, I'm loving it!\n. Is this using the latest AudioKit 3.5?  I thought I had fixed that, but see if sending the microphone into an AKMixer and the putting the fft plot on the mixer instead.  It has to do with audio formats.\n. Yeah, so I guess I fixed this, but only on the iOS side, on the Mac side you'll still need to stick in a mixer whenever you want to tap an AKNode that is not built off of an Apple based processor.  I think I'll still call this issue closed, but feel free to open it or another one.  You can see I'm responsive! :)\n. I'm glad you found these bugs, definitely did not make sense the old way.\n. Well, AudioKit needs an output that is requesting the rest of the nodes to provide data.  So that null would have to do something.  What would you use it for?  Can you just put a booster at the end of the chain bringing down the volume to zero?\n. Instead of out = AKMixer(mixer), try out = AKBooster(mixer, gain: 0)\n. No, AudioKit uses AVAudioEngine which was first introduced iOS8.  Stick with TAAE if you want to maintain backwards compatibility that far.  . EZAudio is part of AudioKit and its currently the only maintained version of EZAudio.  EZAudio supplies all of our plotting functionality.. This is definitely strange.  The song processor demo loads up my mp3s just fine, and they are bigger than 8MB.  Can you send me the file / project in question?. It seems like there might be an issue where it is trying to repeatedly load the same file into memory.. That link doesn't work for me.  It's probably not the file but the implementation. Can you share a github project with me?\n. Reopen the issue when you have a project to share.. Cool, I'll have a look.  I was thinking that actually the memory going up that much may not be too bad.  It does uncompress the audio file, so I'd expect an mp3 to expand quite a bit, but why that should lead to a crash is troubling.. The thing is that I can run Song Processor (a demo included with AudioKit) and easily open up a twenty minute long piece of music and process it.  Can you try that app and in the mean time I will open up your demo project.. I tried your app and it ran fine, but if i pressed the button more than once, it crashes, is it possible that you're pressing it twice?. Well, if it is something that I can fix, then I put the time in to fix it regardless, but this seems like it may be deeper than I'm able to go.  We rely on the AVAudioPlayer for playback so if that is failing, that's not part of the AudioKit code base, but rather AVFoundation.  We've been considering the idea of writing our own player to cut the dependencies a bit but that is only in the idea stage right now.. Much better, not even sure \"float\" is even needed in the variable name, but this is definitely an improvement.. Hmm, yeah, this was working, as far as microphone selection was concerned, but a quick check seems to verify your findings.  As for the 64 channels, we don't have anything in there to mix down n channels into the standard AudioKit stereo, ie 2 channels.  So, it would be something you or someone would have to extend AudioKit to do.. I think the multi channel mixer is a good place to start.  Probably won't need the matrix mixer for this.. I've fixed the mic.setDevice on the develop branch.  It seems to me that Apple changed something because the set input device no longer sets it for the entire mac, which is good.  I'll close this issue now because that bug is fixed, and it's kind of an old issue anyway, if you ever want to recreate an issue with new information, please do, by all means.. Do you by any chance have the playground you can either zip and send me or post as a project on github?  Just would make it faster to test.  Otherwise I will get around to testing this eventually.  Thanks!. @jsbean Sure, that would be helpful. Thanks!. Well, this one is officially a stumper.  I see no reason why this happens like this.  It almost feels like a Swift bug given how thin the layer of AudioKit is on this.. @laurentVeliscek Have you had a look at this issue?  It's a weird one.. The important thing about Adam's gist is that any subclassing of AVAudioFile reveals this problem.  His gist used the name \"AKAudioFile\" but it could have been anything because it was just an empty subclass.. So, I'm going to officially classify this as a \"won't fix\" because it is so bizarre.  But, we should probably take a second look at all the AKAudioFile and AKAudioPlayer stuff.. AudioKit doesn't work like that, that is much lower basically at CoreAudio level.. You're welcome to keep contributing to this issue as a discussion forum, but its not actionable, so its really more appropriate for the Google group for AudioKit and I am closing the issue.. Thanks!. You don't run the command line framework building scripts for playgrounds.  The framework must be built either in the same workspace or same project.\nAre you opening the playgrounds up one by one or are you opening up the \"AudioKit for XXX.xcodeproj\" files where XXX is the platform?  You should be opening the project.. https://vimeo.com/153057128\n. You haven't missed anything.  It should work.  Is it just the plucked string model or would an oscillator also crash?  I'll investigate on my devices as well.. Sorry I didn't notice this earlier, but clearly you were trying to start AudioKit too many times.. @ryanschneider Thanks for helping out.  @magnus80a Sorry for closing the issue early, luckily Ryan was here to save the day.. Yeah, this is basically core audio session stuff, not specific to AudioKit and I don't really know what a compelling demo would look like anyway.  Perhaps you can make one and submit it via a pull request?. Looks like the Engine stopped when you went to the other app and then when your app came back you needed to start the engine again.. This isn't really an issue for Github, but more of a discussion of how to handle controller lifecycle events, best discussed on the Google group for AudioKit.. @adamnemecek I think this was your change.  When some initial changes were made, things got faster, but yeah, it does seem like something has gone terribly wrong.  Thanks for noticing @knagle . @knagle You can probably fairly easily revert to the 3.3 version of AKTable if you are using the source directly, or else when its fixed we'll release an updated framework and CocoaPod.. This seems to have been solved.. Dude, I saw this PR Title and thought it was just the AKTable fix.  Quite a few deletions in there too, very cool.. This fix is incorrect.  The midi note to frequency conversion is straight from this:\nhttps://en.wikipedia.org/wiki/MIDI_Tuning_Standard\nI think in all likelihood the bug you're experiencing has to do with the generator itself, probably not treating stereo properly and doubling the number of calculations.  Is this the case for all AudioKit generators?. No, this is not expected.  It should show up.  Is this in an application or playground or?. huh, that is weird that one shows up but not the other.  I used to have a few MOTU devices but I don't any longer, so I can't really test.  I'm willing do a screen share with you but I don't know what else I can do.  If you're willing to dig into the source, you could probably make good progress.. Um, EZAudio is deprecated and Haris doesn't keep up with pull requests anymore.  Can you make the same pull request onto AudioKit?  . Cool, well since you're the one pushing this forward, I'm not seeing a reason to keep the issue open, but if you want, you can reopen it.. The problem is I don't have hardware.  I suppose I'll be near a Guitar Center Tuesday and could pick up a hardware interface like yours.... Thanks!. Woot!. yeah, it probably should have gone to the develop branch, can you resubmit?. Thanks!. Very nice!. This was also posted to the forum which I think is a more appropriate place for the discussion.. You really like method names starting with _?  Its looking a bit weird like that.  . Yeah, I thought about alternatives, and couldn't come up with one so I accepted the PR.. Thanks, probably changing to float would also be a good idea.. Looks good to me but this is Stephane's territory.  You want to review and merge this @megastep ?. This is a known upgrade to AudioKit. http://audiokit.io/wip/  It's not really an issue per se, but a feature.. Not much progress that I know of but I will check with some of the people who were looking into it.. Yes, I believe so, what did you try?  I'm closing the issue until more information is added so that the issue can be actionable.. Where does the audio go?. I mean, is it just the audio player or anything from AudioKit?. Sweet!. It seems like you have an incomplete copy of AudioKit, probably you need to download the source code and instead you downloaded the framework itself?  I've tested this and its working so I will close the issue (for others) but we can still correspond by adding to the issue.. @megastep Do you know what is up with this?. @percysnoodle Have you tried the recent develop branch?  I'll assume that fixes it as @megastep suggests, but if it doesn't, please feel free to re-open this ticket.. Have you added the fix_frameworks step from https://github.com/audiokit/AudioKit/blob/master/Frameworks/INSTALL.md. I assume you mean tracks[1] on the last line?  Nobody is looking at AKSequencer currently, but you're welcome to make it better, open it up and have a look.. So, I guess the answer to your question, is \"No\".  I will close this issue since it doesn't seem like anyone else is interested in addressing it. Feel free to reopen it with more information or motivation.. That's a good point, but I am not sure how to do that.  . It's unlikely to be a bug with AudioKit because we're not really doing much beyond what Apple requires you to do.  . @dkun7944 I'm trying to address AudioKit issues this week (while at NAMM with the AudioKit core team).  If this isssue is resolved can you close it, if not can you provide the project files link so that we can look at this once and for all?  Thanks!. Sweet!. Great idea, I'll do it unless you want to make a pull request.. Fixed in https://github.com/audiokit/AudioKit/commit/4ffcbeece91e3f1e2ad0f34511ffa31cfabaead2. Thanks @geoffsdavis . Very nice!. Looks good to me.. Excellent!. Thanks a lot!. Can you provide more information?  Are you saying this worked with AudioKit in iOS9?  Do you have an example project you can share that demonstrates this so we can test?  Closing until more information.. Hi, we're working on this, its not forgotten.. I'm not sure if its taken care of by this, but here's some updated bluetooth stuff https://github.com/audiokit/AudioKit/pull/770. The state of affairs for me currently is that I can get AudioKit outputing to Bluetooth no problem, but the input is still not working.   When I ask AVAudioSession for the list of available inputs, it doesn't even show the bluetooth microphone.  Apple's music memos app also doesn't use the bluetooth input, but facetime does appear to.  Anyway have any ideas?. Alright, I basically have this working.  @pcbeard is right, it all has to do with bluetooth opts.  For mine to work, I need to have the older .allowBluetooth option set, but then it worked fine.  Once the option was set I was able to set the microphone's device to be the bluetooth mic. So, I think I might add that into the defaults for AudioKit.. Thanks!. We generated those from the docs, so that's how the 1.0 made it into AudioKit.  Thanks!. Thanks!. cool, thanks man!. I'm going to need a sample project or something to be able to act on this issue.. Was this analyzing the simulator or the app running on a device?  I have had some spuriously reported memory leaks on the simulator.. So, for the record, my idea about what is wrong here is a long standing thing with AudioKit / Audio Units v3.  Basically, there's a stage in which you create the audio unit, but we're usually ending up with two, one that works and one that just doesn't go away / isn't ever used.  It hasn't seemed to affect things too negatively yet, so it hasn't been a priority.   But perhaps now is the time.. It's only for nodes that employ AUv3.  Anything with a DSP kernel.  AKTimePitch is just a wrapper around Apple's time stretcher, so it handles its own lifecycle. If you're up for the challenge of figuring out this memory leak, we can certainly use the help!  Thanks!. Fixed by https://github.com/audiokit/AudioKit/pull/697. Too good. \ud83d\udc4d . Can you demonstrate this happening in a playground or a shared project?  I just tested the audio player playgrounds and they seem okay, but I don't doubt what you are experiencing or that there could easily be something wrong with AKAudioPlayer.. Fixed by https://github.com/audiokit/AudioKit/pull/702. Thanks!. Gorgeous!. Have you tried adding in a do nothing mixer like:\nsecondTappingSpot = AKMixer(oscillator)\nand then have plot2 connect to that instead of oscillator?. There's only support for one tap per node, perhaps we can do a better job of documenting that.  You could make your own custom grapher that uses one tap to supply the data to both plots.. Microphone doesn't have frequency or amplitude.  There's an AKFrequencyTracker and an AKAmpliutdeTracker that probably will do what you need.. Seems related to: https://github.com/audiokit/AudioKit/issues/639. Hmm, I didn't really notice that you're using AVPlayer vs. AVAudioPlayer.  From what I can tell about AVPlayer is that its a high level do-it-all player that doesn't hook into the AVAudioEngine like AVAudioPlayer.  Am I wrong about this?  If so, we can't really use it in AudioKit.. If you want to reopen this issue that's fine, but otherwise I'll say the corrupt file issue is a duplicate of issue 639 and AVPlayer can stream, but AudioKit cannot, currently  anyway.. Looks like good stuff - the start to some very good updates.. Hi, just wanted to comment on this to let you know we're working on fixes to AKAudioFile and we'll definitely port the Recorder example to OSX as a way to test for this problem.  Hopefully this week, though we are all at NAMM, I think we'll find some time to code as well.. I think this might also be fixed by the change I just committed. Can someone check and reopen the issue if necessary?. I bet its coming out of the ringtone speaker, not the actual speakers.. The earpiece is a speaker as well. Is it coming out of that?  I looked at your example project code and its definitely a style I haven't seen implemented before.  The core team and I are at NAMM this week and I'll try to have a couple of us look at this issue, and the other similar ones.. I think was already addressed:\nhttps://github.com/audiokit/AudioKit/issues/662\ndo {\n//  try AKSettings.setSession(category: .playAndRecord, with:  AVAudioSessionCategoryOptions.defaultToSpeaker)\n\nlet session = AVAudioSession.sharedInstance()\ntry session.setCategory(AVAudioSessionCategoryPlayAndRecord)\n\nif !AKSettings.headPhonesPlugged {\n    try session.overrideOutputAudioPort(AVAudioSessionPortOverride.speaker)\n }\n\n} catch {\n    print(\"Errored setting category.\")\n}. Thanks dudebro. That's pretty weird.  Thanks for reporting, I'll try to reproduce and fix.  Lots of love!. What happens when you move the recorder =  line after the AudioKit.start() line?. Hi, we were at NAMM over the weekend so I was just reading your code, not testing it, will do so this week.. Just to speed things along, any way you can share your project with me so I can run your exact same code (and not have to set up my own project)?. I'm thinking this will be fixed by https://github.com/audiokit/AudioKit/commit/6943bf32cd7a94b34f51ab82b4ee3683a782325a \non the develop branch.. Thanks, I'll clean up the Hound stuff!. One problem is that we work off of the develop branch.  Any chance you could make the pull request against the develop branch instead?. I merged this back into develop myself, thanks very much for the PR!. I don't know why this is failing, but I'll find out by accepting and then debugging, because it all looks good to me.. Thanks very much!. Welcome to the club!  . We have some build issues but they are not related to your changes.. But I am quite concerned with the number of changed files listed.  Seems like every file got touched, including all the images?  I worry that this pull request might increase the size of the repo unnecessarily.. Do you think you could check out a fresh copy of AudioKit and just make the changes from   a9dd5fe ?. Thanks for your pull request and yeah, lets get to the bottom of the OSX AKAudioFile insanity.. Hey Ryan, these both seem to be working for me on macOS.  I'll close this issue for now (trying to clean up the issues page) but hit me up on slack if you want to go over it together.. Thanks for the redo of the PR and for the playground too!. Cool, thanks!. Sorry guys I will clean this up today.  Probably just by merging master back into develop and seeing what happens . Its on develop now.  Probably will leave it in master instead of worrying about reversing the commit and just plan to have a 3.5.2 version out soon.  @ryanfrancesconi  Ryan, if there are changes you want, just make a pull request, thanks!. I don't have a solution, but thanks for making the issue.  Will keep it open until it can be addressed.. @masaldana2 Care to share your code?. So, a lot has been said on this thread and it seems like the original poster and a few others are satisfied.  Should this be closed?  Anything that should change in AudioKit as a result of this?. Who wants to be a hero and make a pull request?  I can even do a screen share with whoever if its your first time making a pull request.. Fixed by https://github.com/audiokit/AudioKit/pull/756. What metronome are you speaking of?\n. Yeah, so the metronome maybe has a bad name.  It's really just a periodic trigger for sound design.  If I were to make a full scale metronome app, I think I might just use the midi functionality.  That has callbacks as well so you can have a UI.  People have successful made traditional metronomes with AudioKit though: http://audiokit.io/blog/2016/10/30/treble/. Thanks!\n. Other than forcing the tries in the example I'm all for this kind of change.. Quick fix, go back to 3.5.  :)  But thanks for the issue and the walkthrough for reproducing the issue.  I haven't had time to do so yet but I will soon.. This works perfectly me on the develop branch for AudioKit on iOS so I am going to assume whatever it was has been addressed.. @ryanfrancesconi This is passing the test and it looks fine but I just wanted to also ask @adamnemecek to look at since he introduce the AKSporthKernel.  Also, you've changed AKAmplitudeTracker but wouldn't a lot of the nodes be affected in exactly the same way?  I've got a couple of other comments which I'll add to the lines directly.. Thanks Ryan!. @adamnemecek Well, this passes our tests, and it definitely makes sense, but I bet some things will break. :) I'll accept it and see what happens.. I admire your creativity but AudioKit's output, even though it also comes from the speakers, is not related to the output of other apps.  As far as I know you can't access other apps output unless they are doing Inter-App Audio or Audiobus, which Spotify does not.. I'm sorry, but Apple is inconsistent in the way they use both dry wet mix and wet dry mix, but in AudioKit we always use dry wet mix in that order because dry is 0 and wet is 1.  I like the other changes but you'll have to make everything else you changed back to dry wet.. Also, you committed a change to the playgrounds making the synthesis ones \"macOS\" and they should start off as \"iOS\" not a big deal, but worth mentioning.. Apple has in AUReverb2: kReverb2Param_DryWetMix and even though they might be moving to a wetDryMix standard in their Swift interface, I think that's fundamentally wrong and a direction I don't want AudioKit to take.. Lastly, its such a commonly used node that changing the name is a bigger deal than most name changes (even the examples are breaking).. Can you please remake the good changes in this pull request?. Very interesting.  I'll take a look today.. I would be surprised if AKHighShelfParametricEqualizerFilter and AKLowShelfParametricEqualizerFilter weren't also affected.. You've found a nasty, pervasive bug, we'll fix this and get a new release out asap!. So, the bug you found touches most of the effects in AudioKit.  I was using a single mono effect on both channels, so you noticed a doubling of the frequency.  Now I use two effects for everything.  It will increase memory usage but it shouldn't affect the CPU performance.  Overall, it was a great catch.  The fix is on the develop branch, but we'll make a release soon.. Updated in AudioKit 3.5.2, just released. Thanks again.. You're really a godsend putting these filters through their paces.  This particular one is troublesome because it is merely a wrapper for Apple's parametric EQ and we have less control at the DSP level.  However, if you give me a few more data points (at least one more if things are linear) of parameters you gave and what you got vs. what you were expecting, I could probably reverse Apple's mistakes.  It's a bit of a hack, but worth it to make it right.. Well, so it seems like the Q you are getting is about 8.5x smaller than the Q you want.  since Q is limited in range by Apple from 0.1 to 20, this is means the effective range is more like 0.01->2.4.  \nThis is literally all the documentation Apple provides for this:\n// Global, Hz, 0.1->20, 1.0\npublic var kParametricEQParam_Q: AudioUnitParameterID { get }\nGiven that Apple's band pass filter is totally hosed in iOS10 (I think that's when it broke), I'm not sure how much we should rely on their filters.  \nAbout all I could do for you is provide a scaling of 8.5, but that seems really lame.  I'm about ready to ditch this filter and the band pass filter. What do you think?\n. Thank you again for your critical ear.  . I think this is a common implementation so I'm going to opt to leave it.  Feel free to reopen this issue if you want to continue the discussion.. So, the included microphone analysis project works for me on my phone.  Can you try to run it on your phone to see if it works for you? . I'm also willing to test your app out directly if you can share the code.. Huh, my iPad Pro 12.9 is working just fine, but my iPhone 7 Plus does not.  At least now I can start to debug.. @maznoum Can you double check the iPad Pro to see if you have the same situation as me?. I can confirm that AudioKit v3.5.1 does not have this problem so that narrows it down.. Fixed in develop, use AudioKit 3.5.1 until AudioKIt 3.5.3 comes out if you are using the precompiled framework.. @crashingbooth It's been on my mind, but not much has been done.  I'd love to have your help with this.  Thanks in advance!. @crashingbooth Also, I should state that if you want to replace all my code with yours, that's fine.  Or they can live side by side.  Is your keyboard based on bitmap images of keys or vector?  Mine are all vector drawn, so unless they can be combined into one awesome class, we could have separate bitmap oriented and vector oriented keyboards. Basically I'm just happy for some collaboration and perhaps there can be some back and forth once you submit yours.  Looking forward to it. If you'd like to be added to AudioKit's slack, just email me aure at audiokit dot io.. Oh wow, you're way ahead of the game.  This will be great.  Thanks again.. Fixed by https://github.com/audiokit/AudioKit/pull/759 and even if it requires further development, I don't think it needs to be a Github issue, Jeff and I can be in charge. :). This filter is removed in the develop branch as discussed here https://github.com/audiokit/AudioKit/commit/859f003dee3098274938a7530407d1f69deb4353. Yeah, this is very easy.  What do you think is a good octave range?  How about +/- 10?  Effectively full range.. If you can, that would be great. Just look for clamps that instead of clamping 0.5 to 2.0 should clamp 0.1 to 10.  Also if there are comments that need updating, that would be good too.  Otherwise I can do it in the next couple of days.. Sorry, that was wrong advice.  the range would be 1/2^10 to 2^10. or 0.0009765625 to 1024.  might as well just use 0.0001 to 1000.. Good point, might as well not clamp at all.  . @dennisvennink  Shall I do this on February 9th or is a pull request imminent?. Dennis fixes his own issue ftw. https://github.com/audiokit/AudioKit/commit/615d0e07bcb7874e084ff44c6b4d13182cb13e0f. Thanks @ryanfrancesconi . @jconst @isaacengel  stick with 3.5.1 or move to the develop branch 3.5.2 has a bug in the session managemetn that has been fixed.. @jconst @isaacengel 3.5.3 has been released.  Probably still has issues, but hopefully fewer.. I don't think the framework search path gets set up when you do it like that.  If you'd like I'm happy to get you rolling via a screenshare.. @dkun7944 We saw that Apple featured your app in the \"New apps we love\" category.  Congratulations!  I hope it translates to a lot of downloads.  I do believe these bugs are related to session management.  What version of AudioKit is your app using?  If its on 3.5.2 I'd definitely recommend updating to 3.5.3.. @dkun7944 Just drop me an email and I'll add you to our slack group.. It would be awesome if you could, for the purposes of the good of all, build your changes into the framework.  It would mean not useing the framework file and instead building with an embedded AudioKit for iOS.xcodeproj.  Once you got it working, then it could be compiled and you could go back to using the framework.  \nIf it makes sense, to close this issue and start a new one, please do.  Long issue-based discussions that go off the initial issue are not so good for new users looking through the archives for previously solved issues.  Thanks!. Also \"AudioKit.start() crash\" is just a scary title. :). This is in the project list already.  Should be relatively doable, just have to find the time.. So, what I've been steering people to is the AudioKitTestSuite inside the iOS directory.  This file rips through processing at at faster than real time.  It could be the basis for writing the files.  The trick would be that instead of processing an oscillator and saving the result to memory, you'd be processing a file and saving the result to disk.  It would take some digging under the hood, not trivial, but doable as I said. I'll leave this issue open as a reminder.. Offline rendering is being worked on by a new member of AudioKit's slack, so I'll invite anyone who wants to be involved to Slack, but I want to close this issue so I can just use the issue tracker on Github for fixable bugs, not enhancements.. I don't think you should have changed the playgrounds but other than that it looks good.  Do you want to revert those playgrounds or shall I accept this pull request and do that myself. . Thanks!. The mic was purposely silenced in this project.  Simply unsilence it onl ine 43 of the view controller.. I've never even heard of priority in terms of session management.   Can you (or someone watching) do the research required to get this sorted?. Sorry its taken so long to get to this issue (as well as others).  But now that I try the link you have it comes up as missing.  I think you've closed the source to the Pitch project.  I'll close the issue for now, but reopen at will, with new information.. What filters are you using?  Apple's Band Pass Filter creates this error, so I am wondering if that is part of your equalization.. We ended up dropping Apple's ParametricEQ due to problems discussed here:  https://github.com/audiokit/AudioKit/issues/723  Maybe you could try AudioKit's filters instead.. Anyway, I think this is a problem with the lifecycle of the app, is there anyway you can leave the audio engine running in a singleton class?. That seems like a good idea. Can you try it to make sure it works and then create a pull request?. Oh well, too bad, but thanks for the contribution!. How do you do that?  My valid architecture setting is simply: \"$(ARCHS_STANDARD)\". No, not as far as I can tell.  changing it didn't have an effect on Xcode's confusion over AK classes.. @ryanfrancesconi It's interesting that it worked for you when you copy the framework into the project folder.  I verified that that \"fix\" works for me too.  Problem is, in the examples, we really want to refer the one framework that lives in the Frameworks folder rather than making copies in each example folder.  So, what's the magic setting that lets Xcode see the framework?  It's not framework search path because that is set correctly as necessary for compilation.. @megastep Here's a hint on the iOS side- if I change the target from being a simulator to being \"Generic iOS Device\" or my real physical device, then the autocomplete works fine.. So just to summarize: On Mac, you can solve this by copying AudioKit into the project folder. On iOS you can solve this by making the target not the simulator. Neither are solutions, just clues to what has to be done to fix this in a more general way.. I'll close this for now, not like we're getting anywhere with this.. So, this looks great, but normally you'd want to make the pull request to our develop branch.  But since this is new functionality and master is not that out of date, I'll accept it here and merge it to develop.  Thanks!. What version of AudioKit are you running?  I'm going to guess 3.5.2.  If so, upgrade to 3.5.3 and this problem should go away.  If it does, please close this issue.. Hi Steve, you're probably the person who will be delving into the internals of AudioKit the most.  If you see something worth adding or fixing, please feel free.  You've answered some of your own questions here so maybe you can re-ask what you most need to know.  But here's a shot:\nQ1. The y-axis is relative magnitudes, you should be able to iterate through them to find the max.\nQ3. Not sure, I believe there are sample rate / 2 / size buckets, and then each one would be exponentially bigger than the next.\nQ4. It would be a great enhancement to the plot to do these things. Could you would you? Please?\nThanks!. I'm sure its possible, just not automatic/currently built.  . I'm going to close this for now, but if there's an actionable issue to sort out, just post some more information and reopen this issue. thanks.. I can verify that something is wrong, looking into what it could be.. Okay, I am not sure why this is but this works for me if the pitch shifter is defined as an instance variable: \nvar tape: AKAudioFile?\n    var pitchShifter: AKPitchShifter?\n    var micBooster: AKBooster?\nAnd then just use it like the others.\ninputPlot.node = mic\n        pitchShifter = AKPitchShifter(mic, shift: 12)\n        let micMixer = AKMixer(pitchShifter!)\nI don't really understand why declaring it locally doesn't work.\n. What versions of AudioKit are you getting through Carthage and Cocoapods?  The same?. You want to try the code directly as a framework or or an embedded project?  I mean, we will get to this but the more information the better.. I wonder if Carthage is getting the most recent code whereas CocoaPods is getting the most recent release.  So bizarre that they act differently.. Since this is working for me can you tell me what the error you're getting is when it crashes?  I'll close this issue until more information is received, but feel free to reopen it.  Thanks.. Happy to add this, thank you!. Thanks for posting here, it may be related to another issue, but it will be a good check.. I think this is basically a duplicate to this issue: https://github.com/audiokit/AudioKit/issues/749\nfor which the solution was to have the AKPitchShifter be an instance variable like the others:\nvar tape: AKAudioFile?\n    var pitchShifter: AKPitchShifter?\n    var micBooster: AKBooster?\nAnd then just use it as so.\ninputPlot.node = mic\n        pitchShifter = AKPitchShifter(mic, shift: 12)\n        let micMixer = AKMixer(pitchShifter!)\nI don't really understand why declaring it locally doesn't work.\n. You will have to build it yourself with the build_frameworks.sh script in Frameworks/ or include AudioKit as a subproject.. Are you running playgrounds for iOS or macOS?  I assume you're on the latest 3.5.3? . Anyway, in a playground, the file is probably getting saved to your home directory.  In an app it would be the app's documents directory.  HTH, if not please reopen the issue with more information.. This was also reported in https://github.com/audiokit/AudioKit/issues/763 with a bit of a clue that the errors look like not-found errors.  Looking into it for you both.. I got the first example mixing oscillators to work on playgrounds and I was able to mix oscillators with AKAudioplayers as well. This is in playgrounds though, will make an app to test too, but you may want to try the playgrounds to see if it happens for you there too.. I'm stumped.  Mixer is somehow messed up...  It works in playgrounds and macOS, but not simulator or actual devices.  Looking at it.. Pull your oscillators out of init and define them as instance variables and it will work:\n```\nclass Conductor {\n    let osc = AKOscillator()\n    let osc2 = AKOscillator()\ninit() {\n    osc.frequency = 880.0\n    osc.amplitude = 0.5\n    osc.start()\n    osc2.frequency = 440.0\n    osc2.amplitude = 0.5\n    osc2.start()\n    let mixer = AKMixer(osc, osc2)\n    AudioKit.output = mixer\n    AudioKit.start()\n}\n\n}\n```. Thanks!. Don't set up the AudioKit signal chain on a button press and make sure the effects are all instance variables instead of local defining them and you should be fine.  Reopen if this doesn't fix the issue, but it should.. You can't reduce the size of AudioKit if you use CocoaPods, but if you build the framework yourself, or include the source, you can strip away a lot of functionality by deleting swift files and removing lines from AudioKit.h and then removing the corresponding audio units.. I don't mean to be disrespectful, because I am happy when people use AudioKit, but you seem to be asking a lot of questions that are specific to your situation.  Teaching how to build a framework is beyond my duties and I'm super busy right now anyway.. Cool! Don't worry about these hound notifications, they're nothing important.  I'll look at the code later today.. Just FYI for next time, we like to develop on the \"develop\" branch, so you should make the pull request to that branch instead of master.  In this case, there's very little chance of mission critical things being broken in master, so I'll accept it and then merge onto develop, where we can make further updates if needed. Thanks!. For the record this is working great!  THANK YOU!. I think that's reasonable, do you want to do it and make a pull request?. (If you do want to make a pull request, make sure to do it on the develop branch as there have ben a lot of changes there recently). Pull requested accepted!. Sure, please PR.. Thanks!. I can confirm this is true.  Working on it.. This is actually very similar to another issue, so I am going to combine them.. This looks good, although I may change isRecording == true to just be isRecording. Reads a little better in my opinion.. Yeah, we definitely haven't been treating Cocoapods as a legitimate way to do active development, more like just for those who want a relatively stable release.  I am not sure we should change it and I wouldn't know how to start.. In general, its a bad idea to do this with your audio engine.  When nothing is being pulled to the output, the audio engine does not do much work, so its better to keep your audio engine running and just start and stop drawing waveforms as necessary.  . Is the issue that you are changing the components in the signal chain?  You can't set up the signal chain once and leave it off until you need it?  I really need to be given an example project, not be asked to create one.  So far, I don't see why you need to be doing it this way instead of having the audio engine run as a singleton available project wide.. Messing with your project now, looks like its not the operationEffect this is the issue, but the dry/wet mixer, because if I use a regular mixer it goes back and forth fine.  So one option is to avoid dry wet mixing:\nvar mixer1: AKMixer? = nil\n    var mixer2: AKMixer? = nil\nand:\nmixer1 = AKMixer(player!)\n        mixer2 = AKMixer(effect!)\n        AudioKit.output = AKMixer(mixer1!, mixer2!)\nInstead of balance, you'd user the mixer1/2 volume property.  If you look at the dry wet mixer, it is just AKMixers behind the scenes, so I am not sure why this is happening, but while I investigate that I thought I'd at least respond with a fix that keep you developing, I hope.. I still think this is a product of the view controller lifecycle and you'd be better off with a conductor class that wouldn't have to necessarily reinitialize itself, so I'll close this for now and perhaps revisit later.. I'm updating the docs, but the problem is that you need to give it exactly four waveforms in that array.  If you only need two, just put blank AKTables in the other slots, or do sine, triangle, sine, triangle.  Making it an arbitrary size array is definitely too difficult, but perhaps a two table version makes sense.  I don't think you'll suffer too much of a hit to double up the waveforms though.. Can you just run a timer that checks the playhead location periodically as done in the Audio Player playground page in the Playback playground? http://audiokit.io/playgrounds/Playback/Audio%20Player/. Of course, submit a pull request!  That would be great.. I'll close this for now seeing as you know how to solve it.  Definitely looking forward to a pull request from you soon.. Does the delay playground work as expected?. Here's a view controller that works.  Basically just moving the nodes out of view did load and into instance variables.  HTH\n```\n//\n//  ViewController.swift\n//  TestAKDelay\n//\n//  Created by Bryan Hadlock on 3/2/17.\n//  Copyright \u00a9 2017 Bryan Hadlock. All rights reserved.\n//\nimport UIKit\nimport AudioKit\nclass ViewController: UIViewController {\nvar delay: AKDelay?\nvar ringMod: AKRingModulator?\n\n@IBAction func play(_ sender: Any) {\n    do {\n        let file = try AKAudioFile(readFileName: \"drumloop.wav\")\n\n        let player = try AKAudioPlayer(file: file)\n        player.looping = true\n\n        //: The following nodes are both acting on the original player node\n        ringMod = AKRingModulator(player)\n\n        delay = AKDelay(player)\n        delay?.time = 0.01\n        delay?.feedback = 0.8\n        delay?.dryWetMix = 1\n\n        //: Any number of inputs can be equally summed into one output, including the\n        //: original player, allowing us to create dry/wet mixes even for effects that\n        //: don't have that property by default\n        let mixer = AKMixer(player, delay!)\n\n        AudioKit.output = mixer\n        AudioKit.start()\n        player.play()\n    }\n    catch let error as NSError {\n        print(error.localizedDescription)\n    }\n}\n\n\noverride func viewDidLoad() {\n    super.viewDidLoad()\n\n}\n\noverride func didReceiveMemoryWarning() {\n    super.didReceiveMemoryWarning()\n    // Dispose of any resources that can be recreated.\n}\n\n}\n. Hi Russell, thanks but I think these might already be taken care of on the develop branch, which is where updates should be pull requested to.. Hi Tauf, the issues board here is meant for bugs.  You're asking for help, which should be done on the forums:  https://groups.google.com/forum/#!forum/audiokit. Nothing like that in AudioKit, you'll have to write it yourself, shouldn't be too difficult.. Hi, thanks for this issue and for the email you sent with a little more information and graphics.  Honestly, you're best bet for static analysis of a file is another library called Aubio or perhaps GistSwift.  You should be able to do file transformation with AudioKit, but I haven't yet fleshed it out yet with cross-platform concerns.  But, its already on our Project list, and its more of a feature than an issue, so I am going to close this Github issue.. Pretty sure this is fixed on the develop branch already as per https://groups.google.com/forum/#!searchin/audiokit/noise%7Csort:relevance/audiokit/07zOWQQQT_E/6WwCYb8kDAAJ. This looks like a problem with Audiobus or CocoaPods, but not AudioKit.. I don't get any errors like these, and I presume Stephane doesn't either, so I'll close the issue as a public issue, but feel free to continue to converse on this thread.. Make sure the playground is set to use MacOS and not iOS.  Then make sure to build the framework.  I just tested it and they work for me.. INstead of setting up the nodes as local variables, make them all instance variables in the class.  Not exactly sure why this fixes things, but it recently appeared and its not too much of a hassle to do it that way.  . Glad to help.. That's kind of weird how you're adding a a subview of the kind of plot that you're telling it it already is.  Try instead to just do:\nfunc setupPlot() {\naudioInputPlot.node = mic\naudioInputPlot.plotType = .rolling\naudioInputPlot.shouldFill = true\naudioInputPlot.shouldMirror = true\naudioInputPlot.color = UIColor.blue\n}\n```. @victorBaro I don't see where mic is defined.. I figured it was that, but I kinda need to see it all in context to try to figure out whats going wrong. The playgrounds work, I checked that much.. @victorBaro pretty much looking to replace the plotting system with a metal powered alternative.. @victorBaro Meanwhile: https://github.com/AudioKit/AudioKit/pull/1042 might help?. Doesn't stop and then play do this?. It's working as expected in the Audio Player playground page in the Playback playground.  Want to share your project?\n. Closing until then, feel free to reopen.. Probably.. do the stop and then put a while loop while player.isplaying before hitting play.  Not good style, but at least it would answer some questions.. Yeah, AKSampler is the way to go.. Yeah, its a new thing where all the nodes need to be instance variables or else they're kind of forgotten.  Not sure what caused it, if it was something we did or a change in swift.. Members of the AudioKit team think that this is now the correct behavior.  Before, there was memory leaks, but now that we have that cleared up you need to have an explicit ownership of the nodes.  So I guess its a feature!? :). Your installation of xcpretty must not be working.  You can edit the build_frameworks.sh to just use cat\nif which xcpretty > /dev/null 2>&1;\nthen\n    XCPRETTY=xcpretty\nelse\n    XCPRETTY=cat\nfi\nI just replace all that with XCPRETTY=cat. Follow the instructions in this video and it should work. https://vimeo.com/162156851 This is less of an issue and probably deserves to be a discussion on the Google group, not a Github issue:  https://groups.google.com/forum/#!forum/audiokit. This is actually true only in AudioKit 3.5.x.  In AudioKit 3.6 AudioKit Playgrounds are located at the top level Playgrounds folder.  You can still run playgrounds the way @DAC17 is describing, but I think the new way is a lot easier.. Looks good to me!. So, actually we had to revert this change, so if you need the waveform to be static, we'll have to add a static boolean or something.  Waveforms are not necessarily static.. I'm thinking something like this would do the trick for you:\n        plot.shouldOptimizeForRealtimePlot = false\n. there's no information of anything getting stuck here, again, I'd say these are not issues/bugs but rather problems you're having getting set up.  https://groups.google.com/forum/#!forum/audiokit. Probably best to join the discussion group https://groups.google.com/forum/#!forum/audiokit. yeah, this is probably related to https://github.com/audiokit/AudioKit/issues/754 but we can keep both issues open until its resolved.  Interesting that Cocoapods behaves differently.  Are you on the master branch?  There have been a few pull requests to master that its possible that its more up to date than Cocoapods.  We should probably make a release soon to see if that at least normalizes things.. Where are you compiling this, ie for iOS, macOS, or tvOS?  In any case, I do not get any such warnings in Xcode.. This type of issue probably belongs on the https://github.com/PaulBatchelor/Sporth issues page since we would want any important updates to be done at the source.  We keep a slightly modified version of Sporth, mostly just to not include things we don't need or haven't implemented.  @PaulBatchelor what is your take on this?. Okay, I will update Sporth on AudioKit shortly.. We're fully up to date with newest Soundpipe and Sporth as of https://github.com/audiokit/AudioKit/commit/3cf43e2d5a5be85538c10957c1db4fdc91853b80 so I am going to assume this is taken care of, but of course feel free to reopen as necessary.. Ideally you'd make your pull requests against the develop branch, but since I don't think these files have any difference I'll accept it and merge it into master myself.  Thank you!. And, to answer your question, I guess we should cover that potential problem, just seems pretty rare.  But, if you want to make the changes in a pull request, that would be cool.. @PaulBatchelor One of the changes here is a change to soundpipe within AudioKit. Can you look at the change and see if it is something you want for Soundpipe proper?. Good answer @pcbeard Saxjax, Github issues are meant for bugs or problems we can address. This kind of question belongs in our forum: https://groups.google.com/forum/#!forum/audiokit. Hi, so the file it is looking for is under the home directory @megastep who makes our framework file so its possible that it gets baked in when he makes them.  But, I think what's really happening is that its not finding the file in a number of local directories first and finally complaining with that error that you see.  Make sure that you actually have that file including in your project target.  . I've just confirmed this is the error you get when you don't properly include the wav file in your project, so I will call this issue addressed.  Reopen if necessary.. Have you set the playground to be for macOS?  The default is iOS.. Just reproduced this and option-cmd-1 shows the file utilities and if you change the Playground Settings to \"macOS\" it will work, so I am calling this issue addressed.. I'll take a look at the demo with the moog ladder bypassed.. I gotta say, I don't experience this problem, could it be your phone?  Reopen if you have checked another device and it continues.. @sihwapark Can you make a new issue for this?  I hate glomming onto old closed issues and this one was started almost a year ago.. Cool, in general we like to do pull requests off of the develop branch, but this won't conflict so I'll accept it and merge into the develop branch.  Thanks!. What warnings are suppressed by this?  Its seems pretty unnecessarily verbose to have to convert to String explicitly when using string interpolation.. Maybe it is giving warnings because these are optionals?  I actually don't mind it printing out optional.. While I love getting pull requests, I don't like this solution.  First of all, its possible that something changes in Xcode before it comes out of beta which allows us to leave the code unchanged, and secondly its a really inelegant solution.  I like Xcode's second suggested option better of providing a default value.  Perhaps a nil coalescing operator would do the trick.  At least then we have an opportunity to provide a bit more info than just relying on String(describing) to do whatever it will do.. I think you're right about the manner of this solution, but I am not a big fan of the name \"useBluetoothOptions\" because that implies that the var is a Boolean.  I'd just change it to \"bluetoothOptions\". I can do that after accepting the pull request or you can make the edit if you agree.  Thanks!. Cool!. Wow, this looks really great.  Just give me a little bit to fully grok this and then I'll pull it in, even if its not quite passing Travis, which I can probably fix easily.. I'm having some trouble getting the playground running:\nPlayground execution failed: error: /var/folders/5d/zkr3lw7x71vd60mckbvrnm_w0000gn/T/./lldb/99429/playground72.swift:3:8: error: no such module 'Sporth_Custom_Effect_PageSources'\nimport Sporth_Custom_Effect_PageSources. I never was able to import AudioKit from within a playground page Sources swift file, and that seems to be an issue here again.  I wonder why it is working for you.  Are you on Xcode beta?  Maybe they've finally fixed this.. I just got the playground working, but yeah, we'll have to think of something more consistent than that StackOverflow hack, clever as it is. I'm going to accept the pull request because the playground sounds really awesome and I'm eager to play with this code. I may have some small changes like capitalization to UGen or even UnitGenerator, depending on how we all feel about the name.. I don't mind including a UGens section in AudioKit with the throttle.swift file and others that we come up with.  They'll be part of the framework, so the playgrounds will see them.  I think they can be really useful and great examples anyway.. Just FYI the only thing preventing Travis from building was including the new files in the projects for macOS and tvOS.  Easy thing to forget to do or never do if you're just doing iOS development.  . If you see at the top of the screen it has said that your build of AudioKit has failed.  That's the problem and the output of the playground doesn't help me debug that. Provide more information and I'll reopen the issue.  Or, I can do a screenshare with you if you can do that.. Can you make this pull request against the develop branch instead of the master branch?  This pull request is showing 876 changed files which is impossible to review.. That is better, but doesn't compile.  Can you make the change on the develop branch and make the pull request off of that?  If it were on the develop branch I would have accepted the PR and made the changes myself.. Yeah, if you can share the project, I'll be able to look at this some more.  It seems like there's some time lost in the looping of AVAudioPlayer (under AKAudioPlayer).. Hi Trevor, thanks very much for the playground.  I have \"fixed\" this issue, in that I got the playground to work.  But it, kind of break the AKAudioPlayer's completion handler stuff.  While I figure out the best way to make this a general fix, I'll tell you what I did and maybe it will help you.  Basically on line 426 of AKAudioPlayer, I hardcoded looping:              if let buffer = audioFileBuffer {\n                internalPlayer.scheduleBuffer(buffer,\n                                              at: atTime,\n                                              options: [.interrupts, .loops],\n                                              completionHandler: internalCompletionHandler)\nWhich is not what we want, but like I said, it works. I'll work on this a bit more tonight but I wanted to at least respond with my progress and that I'm pretty confident we'll figure something out that will get you through this problem.. I would love for you to improve AudioKit with more exact timing.  We're serious about open source and letting people add to AudioKit as they need.  So please, yes, contribute some code!. I believe this latest merged pull request addresses this problem well, so I will close this issue for now.  Kudos to @sweetmandm for a world-class pull request.. I don't really know what to do about this.  What do you think would be a good solution?  It's more like a basic design issue with AVAudioEngine than anything AudioKit could be doing better, isn't it?. So, you're making pull requests and you're knowledgeable about the code base, do you think there's anything we can do to address this issue?  If yes, let me know, if not, can we close this issue.  And have I inviited you to slack?  Would you like to be part of the AudioKit Slack?. Any reason to keep this issue open?  As far as I know, you are the only person working on it.  Reopen if you want.. If you want to use Audiobus, you need that file.  I'm not sure if its included with Cocoapods, but it is not auto-generated and you can grab it here:  https://github.com/audiokit/AudioKit/blob/master/AudioKit/iOS/Audiobus/Audiobus.swift\nYou should be able to just put a copy in your folder and have things work.  Reopen the issue if you have any problems.. Thanks!. The apps didn't crash on the release testing, but I can check it all out again.  . Audiobus 3 is about to be released, so we'll be updating and testing examples for that probably tomorrow.. Well, the AudioBus 3 SDK won't be released for a couple more days so I looked at this problem.  I found one bug on the iPad and pushed that commit.  Now it works on the iPad at least.  But the iPad is stereo, and the iPhone6 is mono, so your bug may still persist.  I don't have mono phone (7 is stereo) to test.... Reopen this issue if you still have problems with this fix.. @jconst The second half of this video shows how to use .xcodeproj file instead of the framework: https://vimeo.com/214224470. I'm going to close this issue, but you can all free to continue to discuss stuff here and post results. I just don't know what actions I can take. If there's something I can do, just say so and reopen the issue, no problem. thanks.. How are you using AudioKit, from source, as a CocoaPod, from Carthage?  AudioKit works with the latest official releases.  Are you using Xcode beta?  . This would be more a discussion group item rather than issue since its not really a bug or anything.  But no, we don't have an example like that.. Hi, I see you've also posted to google group.  I'm not really sure what to do to fix this issue for you.  Perhaps sharing the code will help.. No worries about posting in two places, my apologies for not responding quicker.. Thanks for the PR!. Nice!. I can say that we'd at least want to limit the building to the OS that you actually need, but even so I wonder if this would be too slow for Cocoapods users.  We're trying to be on top of the Swift change and come out with a working build soon.. So, just to keep this moving, can you make us a new podspec that would do this?  I don't like have a separate podspec.  For now, we did come out with a release within a day of the new Xcde being officially released. Re-open the issue with new info... ore create a pull request with an alteration to the podspec.  thanks!. @tonyashah I think your Xcode has probably got a cached version of AudioKit somewhere.  It can be super persistent about holding on to old versions which is pretty annoying.. I think this may have to do with change from mono to stereo.  I'm not sure though.  Hard to say from the trace.. Good that you fixed the initial problem, but again, hard to tell what's going on from this trace.. I'd have to see more, do you have an example project to share?. Yeah, I was able to run the project.  I don't know much about EZAudioPlotGL, just enough to get AudioKit plots working.  Looks like stop is just telling the display link to stop.  That might not be enough anymore, not sure.  We added a restHistoryBuffers function to the plots the other day to do a clear.  . AKNodeOutputPlot or AKRollingOutputPlot if you just want to plot what's going to the speaker.. Reopen the issue if those plots don't work out for you.. I believe this is a duplicate issue.. There are two open issues https://github.com/audiokit/AudioKit/issues/792 https://github.com/audiokit/AudioKit/issues/754. Ugh, sorry to hear that.  This isn't enough info to go on, but I am about to convert several apps so perhaps I'll find the same issue.. I think the problem will be resolved if you declare the mixer \"noAudioOutput\" as an instance variable instead of inline.  Reopen this issue if not.. Could be that Swift 3.1 fixes a bug that we were working around.  I'll look into this.  Good that you found a temp fix.. So, I tested AKFrequencyTracker by running the playground for it, and it worked fine. Is this on a device only?. I think the problem may actually be in your view controller, or wherever you're setting up the signal chain.  Are any of the nodes declared with a \"let xxx =\" inline instead of being instance variables of the class?  There was a memory leak that was fixed, but now requires that you explicitly keep a reference to the nodes you need active.  I'm 99% sure this is the issue, but reopen the issue if not.. Yeah, please add me to the repo.  It's got to be something!. I just tested in the simulator and it works, will try an actual phone next.. It crashes on my 7+.  I am using my own copy of AudioKit, so I don't think I am using your fix.. I think it might have to do with calling AudioKit.start() twice, but right now I am waiting to update my device to 10.3. I made sure to start only once and it still crashes, so nvm that idea.. The microphone analysis example project works just fine which is why this is so strange.. No, that seems to be wrong advice as well.. Maybe you're just right and we don't need that destroy line anymore. In fact this is the only node where that code exists, and it makes no sense.  Sorry for repeatedly assuming the problem was you when it was me/us.. Thaks! :). On the actual device that's all you see as well?  ie. not the simulator. @leejust I'd love to see how you use EZAudio to control inputs and pass the processing along to AudioKit.  Can you either post the relevant code here or invite me to your project (or link to it if it is public)?  Thanks.. @leejust Huh, this looks like it just takes the AudioKit microphone and sets it to the AudioKit output.  Maybe you stripped out the post processing.  You could pick the AudioKit input device directly the \"AudioKit way\", but are you seeing more options in the EZAudio input device list?. if let inputs = AudioKit.availableInputs {\n    try AudioKit.setInputDevice(inputs[0])\n    try mic.setDevice(inputs[0])\n    dump(inputs)\n    dump(EZAudioDevice.inputDevices())\n}\nWhen I do this I see the exact same list of devices in EZAudio as in AudioKit. . @leejust what are the three devices EZAudio lists vs. the one device that AudioKit lists for you?. @leejust I see why changing the EZAudio device changes it for AudioKit too.  Under the hood we're both doing the same thing, so the only real mystery is why a different input list appears.  I mean we literally are using EZAudio on macOS.  For iOS, we probably could as well, and it might just solve everything.\n/// Enumerate the list of available input devices.\n    open static var availableInputs: [AKDevice]? {\n        #if os(macOS)\n            EZAudioUtilities.setShouldExitOnCheckResultFail(false)\n            return EZAudioDevice.inputDevices().map {\n                AKDevice(name: ($0 as AnyObject).name, deviceID: ($0 as AnyObject).deviceID)\n            }\n        #else\n            if let devices = AVAudioSession.sharedInstance().availableInputs {\n                return devices.map {\n                    AKDevice(name: $0.portName, deviceID: $0.uid)\n                }\n            }\n            return nil\n        #endif\n    }. @leejust trying this right now.... @WebberLai I think your comments are valid, but this issue I think can be closed for @leejust with the fixes on the develop branch.  For your issue, maybe make a new issue card?. You should be using AKOscillatorBank or one of various AKxxxxxOscillatorBanks.  They have polyphony straight out of the box.. Oh and they also have envelopes.. What's the point of this pull request?  It doesn't have any new code in it.  Is it just a request to make an AudioKit release soon?. You don't have to worry about the hounds unless its easy.  This looks great.. So this doesn't pass Travis tests because one of the commands you use is 10.0 or higher whereas AudioKit needs to work iOS9+.  It looks like a fairly minor thing.. Okay, so the iOS side of things passes, so everything is probably fine.  What someone (doesn't have to be you) has to do is to add your new files to the macOS and tvOS project files.   I'll do it tonight if you're uncomfortable with it.  It's not a big deal.. I propagated the change to all the project files and Travis is passing again.  Thanks so much for this awesome pull request.  Got your eyes set on any other outstanding issues?  I appreciate the help!. This looks good but since it is new development it should really be a pull request to the develop branch.  I'll accept it anyway, and merge it back to develop since it doesn't overlap with any other development.. This isn't really an issue, but a discussion, which probably should be on the google group: https://groups.google.com/forum/?#!forum/audiokit  What are you disconnecting for?  Can you just stop/bypass it?. Thank you very much!. Closing since the new pr off of develop has just come in.. Seems related to this: https://github.com/audiokit/AudioKit/issues/792\ndefinitely need to get to the bottom of this to close a few similar issues.. You're beautiful! thank you!. That seems to be old code, it has been updated in AudioKit3.6. This change breaks the SamplerDemo project.  Looks like the SamplerDemo example could be updated relatively easily to use setRate instead, but I kind of like use properties if possible.. If that's the style, you can leave it as you did it and update the example project.  I guess we have evolved a bit since then but haven't updated this code.. If you wanted to make everything property setters, I'm not going to complain, but that would be a separate pull request I guess.. I'm not sure how I would even begin to act on this issue.  I think its probably easier to mix and match obj-c in a project than try to get all of AK working with Obj-c.  Sorry.. Okay, uh, so your numberOfChannels was what?. I don't think we support numberOfChannels != 2 yet actually.. I think you'll nmeed to move the mic up out of local declaration in viewWIllAppear.  \nThis is discussed in the new \"Playgrounds To Production\" playground inside the Basics playground.\nhttps://github.com/audiokit/AudioKit/blob/master/Playgrounds/AudioKitPlaygrounds/Playgrounds/Basics.playground/Pages/Playgrounds%20to%20Production.xcplaygroundpage/Contents.swift\nAlso, its bad practice to put AudioKit in view controller life cycle.  It could easily get called twice, things like that.  Actually I think its possibly worse because you're doing AudioKit stuff within a block.  \nI don't think you're far off, but too many variables to say for sure exactly what's the cause.  Keep plugging with these suggestions.  \nIn general I don't think this is an AudioKit issue, more of a discussion forum topic, maybe post there next?\nThanks!. Trying to play before starting AudioKit... try this:\noverride func viewDidLoad() {\n    super.viewDidLoad()\n    do {\n      try sampler.loadWav(\"idle\")\n      sampler.amplitude = 0.5\n    } catch {\n      AKLog(\"NOT LOADED DAWG\")\n    }\n    AudioKit.output = sampler\n    AudioKit.start()\n    sampler.play()\n  }. The mixer, reverb, and delay effects are local and not retained, they need to be instance variables.. No, because its cross platform and the code is transportable.. Hey there, thanks for your thoughtfulness about asking first, but yeah, you're right, I love pull requests the most because its just easier.  Just make sure to make the pull request off of the develop branch because there have been quite a few playground updates there recently.. This has nothing to do with AudioKit.. Huh, this is the opposite of this pull request from a few months ago that fixed another bug:  https://github.com/audiokit/AudioKit/pull/756. I've confirmed that this does in fact break playgrounds that export audio files.  Is there a way we can have the best of both worlds?. So I will accept this, but immediately it will change a little bit.. Future reference, pull requests should be off of the develop branch. Thanks!. Is this resolved?. Its quite possible that it expects the files to have the same number of channels as in the AudioKit settings.. I'm thinking this might be easiest solved by converting the file to stereo, doing the processing, then creating a mono file again by dropping a channel.. So, there are two parts of AudioKit that convert a file from stereo to mono, and it is in Swift:\nhttps://github.com/audiokit/AudioKit/blob/master/AudioKit/Common/Nodes/Effects/Reverb/Convolution/AKConvolution.swift#L62\n. AKSamplePlayer is a new player that creates a stereo file from a mono signal.  I think you just need to use that code to create the file, process it and then do the conversion back to mono.  Sorry that it has to be so convoluted, but we're just very stereo-centric with AudioKit.. Really not enough information here to help you.  Perhaps try the Google group?. Until we get more information, I will close this issue.. AudioKit works with Objective-C. . Yeah,  I think you're right that that is the issue and should be reversed.. Merged your fix.. A little code would help have some idea what could be going wrong.. I can't think of any particular change that would have made that happen, but you can pull up the git history of the FFT or any file and show me what I screwed up.  It could also be Apple, but most likely me.. You can also attach nodes to mixers safely.  So, you can do mixer  = AKMixer(highPassFilteredsignal) and then tap that and it should be fine.\n. AudioKit output needs to be connected to the mic for the mic to generate data.  I'm pretty sure that was always the case since AudioKit nodes rely on a pull model.  I'd love to see the code that worked before but doesn't now.  In any case, what action can I do to address this issue?. This is why it is so important to post code and not just error output.  Your microphone is connected to the output, through other things.  The problem is that you have locally defined nodes that are being lost when set up is complete.  Check out this video about connecting nodes:  https://vimeo.com/audiokit/connecting-nodes-part-2. Before the only reason it worked is because there was a memory leak - the nodes continued to exist without anything owning them.  That worked, but could lead to problems.  Now, the leak is fixed, but unowned nodes will disappear.  Can you try making those local mixers instance variables on your class?. This code that you pasted in now works for me.. Hi there, I will be accepting this pull request shortly, but at the same time I'll add a fix for playgrounds.. I think the disconnect here is just that those instructions are for using the AudioKit \".xcodeproj\" file in your project rather than using the .framework file.  When you use the framework directly, you're right, all you have to do is drag it to embedded binaries. If I am wrong I'll happily reopen the issue and update the docs.  In the second half of this video I do the .xcodeproj stuff:\nhttps://vimeo.com/audiokit/audiokit-framework-issues. I see what you're saying. You're right, that is working.  Do you want to update the docs or should I?. I manually merged this. This should help: https://github.com/audiokit/AudioKit/issues/852. Really there's not enough information to go on to address this issue, so I'll close this for now.. Maybe don't trust the sampler volume and send the samplers each into booster of their own?. I heard this might have been sorted out, if so, can you make a note of the solution you came up with and then close the issue?. Closing due to lack of response, will reopen with new info.. Yes.. For things like this you should join the AudioKit forum: https://groups.google.com/forum/#!forum/audiokit. It is fixed on the develop branch, which is where pull requests should be based off.  It's also fixed in a better way there.. Don't do audio start stuff on IBActions, follow the model where there is a singleton class handling your audio signal chain, like in the more complex examples.  There's certainly nothing wrong with AKMixer.. Consider joining the google group for AudioKit instead of using the issue tracker, which we use mostly for bug tracking. https://groups.google.com/forum/#!forum/audiokit. I don't know, try making the generator an instance variable on the class instead of a locally defined variable.  What exactly is happening when you try to run this.  That would be the first thing I'd need to know.  In any event, this is much more of a discussion group thing than an \"issue\" since its not a bug in AudioKit.  Try posting more info here: https://groups.google.com/forum/#!forum/audiokit. This looks good.  I think I'll accept the pull request and then make Travis-CI happy.  Need to add three slash comments eventually too.. Hi, we use Github issues mostly for bug tracking and have a google group for discussions such as this, so I encourage you to join: https://groups.google.com/forum/#!forum/audiokit\nBut, while I am responding I might as well give you some useful now, which is that AudioKit is very stereo-centric at the moments, so our N=2.  We'd love to extend AudioKit to be multichannel configurable, but that would take some development effort.  Our plots are based of taps of these stereo nodes and you could elect to plot either the left or right channel pretty easily.. This passes so I'll merge, but I think the new files haven't been added to the macOS and tvOS projects, just fyi.  Great work!. Sweet, thanks!. Huh, yeah, never tried using AudioKit with video.  Should this type of thing work with say just using AVAudioEngine?  If so, then it should work with AudioKit.  If not, then we might be out of luck.  I'm not sure there are any steps I should take to resolve this for you, but if you find something that helps you accomplish what you're trying to do, I'd love to know more about it.. Also, its possible this is related to a bug fixed on the develop branch with a release coming soon.. Yeah, it's very hard to tell what could be done about this, especially if AVAudioEngine (AudioKit's base) is exhibiting the same behavior.  Reopen if you figure out a workaround or whatever.. Yep, that's all reasonable for running the playgrounds from source.  What is the issue?. Ahh, yeah, its definitely not bad to have this issue in the closed issues since people do search through them. I just also like to keep the issues list short so its a tradeoff. Thanks Adrian!. If you want to FFT the filter, it may help to send it through a mixer first.  For some reason taps don't like certain kinds of nodes.  So just do \nlet mixer = AKMixer(filter)\n...\nlet fft = AKFFTTap(mixer) // Should be OK. The mixer won't be doing anything to the sound, and it is low energy, so it should be a fairly easy modification. Mind you, make sure these variables are local, so in a real project you'll probably want them to be instance variables retained by a class.. You're making a pull request off of the wrong branch.  Can you submit it off of develop?  It should only be one file changed, not 121!. This has some bad stuff in it, all the AKInputDevice crap that I was experimenting with, so I can't accept the PR, sorry!. Judging from the quality of you work and your Pull Requests I bet you can track this bug down and fix it yourself!  But, I will look for it to when I get the chance. Trevor, pitch wheel works just fine.  It took me a while to figure out what was wrong with your code.  You have the wrong type, so the method signature is wrong, it should be:   \nfunc receivedMIDIPitchWheel(_ pitchWheelValue: MIDIWord, channel: MIDIChannel) {. This is good.  I am not so worried about backwards compatibility as I am about getting it right, but I'll accept the PR and see what else can be done.  The only thing is you haven't added the file to any .xcodeproj files (for iOS and macOS) so the file wouldn't show up as part of AudioKit.  You can either do that and add to this PR or I'll just accept and fix it myself, later tonight.. Yeah, good enough, I'll add it to macOS now.  thanks!. I am a mere summoner of gods like @syedhali and @PaulBatchelor . What was so bad about the implicit start on init?  I had mixed emotions but I put there because I figured that there wasn't much reason to have a mic tracker that is stopped.  99% of the time the next line would be to start the thing.  But perhaps you see it form a race condition or something.  Like I said, I had mixed emotions anyway, so I'm fine with it as you've changed it just curious.. Yeah, so you can't tap the node twice, but you can send the node into a mixer that doesn't do anything and then tap that for a second data source.. I only have the Apogee One with two inputs and one stereo output so I'd probably have to get a Quartet to really test out a fix.  Its a relative small portion of users that have this big of a hardware configuration and want to program for it, but I feel ya, it should be supported.. Don't sell yourself short, It's pretty uncommon to be a pro user at all :). @WebberLai Quartet on its way.. Alright, so I have the Quartet, but it only shows up as a single input in AudioKit for macOS.  I haven't tried for iOS, maybe it is smarter.. I think this is going to require getting down and dirty with multi route: https://forums.developer.apple.com/thread/16790\n. @Joebayld That is an incredible find!  I'm diving into the code.. Yeah, that would be incredible.  Luckily rnine has MIT license on this stuff so we can use it directly.. Thanks for finding this!. Thanks!. Thanks!!!. I am sorry, what is it that you would like AudioKit to do differently? . @qqqssagithub I thin you should try using the new AKSamplePlayer instead of AKAudioPlayer.  As long as your files aren't too huge, it should be a better player.. Its not part of AudioKit yet, but if you'd like to add it, that would be great.. It's mostly likely because you cloned the repo instead of downloaded the AudioKit project directly.  To use your repo, go in to Frameworks and run ./build_frameworks.sh  and then when that's done, try the AudioKitPlayground project again.. The video was created from the current version, so the process is up to date.  The fact that you're getting the same error from both the downloaded playground zip and the cloned repo is suspect.  Are you able to do a screenshare?  I can invite you to screenhero with an email address and name, just email me at aure at audiokit dot io.. Drag it and make a copy, and make sure its included in embedded frameworks.  Also, feel free to join the google group for general help.  We use issues for bug tracking mostly.. Short answer is no.  We tried and came up against some roadblocks.  We can discuss it in the Google groups.. That's not the frequencies and amplitudes of a file, that's the raw waveform data.  If you're looking for frequencies and amplitudes you'd want to run the file through AKFrequencyTracker.  Unfortunately currently that only work iwith real time playback, not offline processing.  Theoretically you could use AudioKit's algorithms to loop through the floatChanneldata.  But, the issue tracker is for bugs and such and this is more of a discussion, could you move it to https://groups.google.com/forum/#!forum/audiokit  Thanks.. Can you make a pull request for this fix?. First of all, you rock for providing code demonstrating the problem.   The file seems to be found, but then the app crashes, which is really strange.  Could it be a corrupt or somehow incompatible EXS24 file?. Take a look at this issue, especially the last post from Jeff: https://github.com/audiokit/AudioKit/issues/298. I'm still pretty convinced this is an EXS-24 path issue.  I think you're creating the EXS file along side the audio files, then trying to move them into subdirectories with different names once they're in Xcode. If you read the last post by Jeff on the issue I referenced, I think he was stating the difficulty of setting up the EXS file while in Logic properly so that it can work as expected outside of Logic, ie. in Xcode.. With no response on this issue and lots of responses/things to try, I'm going to close the issue for now.  If you want to reopen it with new information, you may.. Cool, thanks for the update!. @larryseyer Cool, also consider submitting a pull request.  Thanks so much for your diligence.  This is the way AudioKit gets better.. I think this is basically a closed issue.  Might be nice to include what was learned here in a documentation or tutorial.  We're going to be writing more tutorials soon, so I'll be sure to come back here for reference.. Thanks!. What are you using to send in midi?. The sequencer has its output set to the melodicSound's midi in though, so I don't think its making it to the MIDI inputs that are being listened to.. A couple of small things which you may or may not want to \"fix\" before I accept the PR.\n\nTraditionally you should work off of the develop branch, not master, so that we can merge and test out changes on that branch first. \nresetPitchBend has no documentation comments above it (no biggie, I can fix that)\nresetPitchBend has an unnamed (via the _) first parameter, but you should only do that if the first argument is implied by the function name.  So, I'd just remove the _ and let that parameter be explicitly named.. I'd say just close this pull request, switch to the develop branch, remake or merge the changes, and submit a new pull request.  Thanks!. Well, you didn't make the pull request onto the develop branch, but its okay, I'll accept it and fix it.. Great work Jeff!. AKAmplitudeTracker will  give you an RMS average amplitude of any input you give it.. When you do that you're changing the audio route, and you might need to set up your signal chain again.  It sounds like audio is probably being re-routed to the ringtone speaker sometimes, and dying other times.  Audio routing is one of the most frustrating parts of programming for the iPhone.. Thanks Matheiu!. Thanks!\n. I'd suggest making the pull request.  That will allow me to try it out easily and most likely its a good change.. This works in AudioKit 3.7 playgrounds.  I'll add the save button idea to the playgrounds in next release.. Great find! I guess we should make this change for the other units as well. . You're using an old version of Xcode with Swift 3.0.2.  Update and this will go away.. The simplified microphone tracker was never meant for installing taps, its meant for when you just want quick access to the microphone frequency and amplitude.  If you want to get your own data, yeah, you have to use AKMicrophone and tap that.  \n\nStop is a very simple function\n/// Stop the audio engine\n    open static func stop() {\n        // Stop the engine.\n        self.engine.stop()\n        shouldBeRunning = false\n        #if os(iOS)\n        do {\n            try AVAudioSession.sharedInstance().setActive(false)\n        } catch {\n            AKLog(\"couldn't stop session \\(error)\")\n        }\n        #endif\n    }\nAny reason why this is an issue and not just on Google groups?  Just wondering if you didn't think you were getting proper support there.  I tend to use Github issues for framework bugs where this is more of what is wrong with my set up type thing.\n. I'm closing this hoping we can move the discussion to google groups, but if this can be further specified, reopen it as an issue.. I don't think taps survive a stop/start.  I feel like a tap is a very temporary thing and you might need to install the tap each time.. That's pretty ugly.. Considered. :). That would be quite welcomed indeed.  Would you want us to make a copy and then maintain it along with everything else or are you thinking that we'd have an OSC example explaining how to integrate it with your Github repo?. SwiftOSC hasn't changed for 11 months... not sure if that means its just stable or not being put through its paces.  As part of AudioKit it will probably be tested by someone.  If we include it as part of AudioKit, then you become part of the AudioKit core team.  If you keep it separate, then its up to us to coordinate an example.  Eventually we do want to modularize the components of AudioKit, so maybe it makes sense to keep it separate and start going down that path.  As you can see there are pros and cons, and I don't have much of a preference.. Hi, the only problem with this is that there are a lot of things going on and simply no time, but if you want to integrate it, I'll certainly provide help.  Otherwise it might wait until someone has a need for it.. Yeah, I know, and its a great offer, I know it will happen!. Just in case you've come to this issue checking out AudioKit with OSC:  https://github.com/AudioKit/AudioKit/pull/1622/. Which version of AudioKit, what Bluetooth device?  How about a little information to go on.. Glad you figured it out!. Busy with AltConf/WWDC but will look at this soon.. I'm going to close this for now as it looks like a new a pull request is imminent and this one now is riddled with conflicts anyway.  I think it jumpstarted the process though.. Do you want to make a pull request off of the develop branch making this change?. I don't really know how to act on this.  I would need more information like what causes the problem. But, I am happy to reopen the issue with more info.. makesnsense to me!  thanks!. Microtonality Czar @marcussatellite would be the one to consider this request.. I'm closing this as an active issue on Github, but I'll leave commenting on so that you can still communicate and get notifications through this page.. Should be in develop now right?. Hi Joshua, yes, it is on our list: https://github.com/audiokit/AudioKit/projects/2\nbut no one has a project that required it yet, so it hasn't been started. I'd love to collaborate with you on it.. Can I invite you to the AudioKit Slack group?  Email me with your email address.. Closing this as an issue, because we'll be collaborating on Slack to get this done.. Thanks!  I wonder if we shouldn't have \"enableRouteChangeHandling\" or something like that.  I don't like the double negative of !disabled.  . Just wanted to respond that I have read up on the Link API and I guess this will be set up a little like Audiobus support, where it is not in AudioKit directly, but instead a file, or set of files, defining extension to AK classes could be dropped into a project.. Is there any way that you can share like a skeleton / cartoon version of your project with me privately?  I just feel like Ableton Link integration is something that is driven by an application, not a framework.  Anything we can do in AudioKit to make Link integration easier would be great, but without the context of an app, it seems like it won't be driven by a real use-case scenario.. Yeah, not sure how easy starting with their LinkHut example will be.. Sounds great to me.. I'm uncomfortable with an issue that has been commented on since December of last year still being here. It seems to me that having Ableton Link integration on the project list is enough.  Link integration should come naturally when someone on the core team adds Link to their projects using AudioKit, not from guessing how a project might implement Link.  Feel free to comment on this thread, I won't lock it for now, but I will close it as an issue.. yep, better!. Thanks for the note.  I had actually heard about this, but iOS11 isn't out yet, so its not really supported by us yet. Soon we'll have a branch for it where this will be addressed so I'll leave the issue open till then.. Fair enough, but I would counter by saying its open source and if you're a good enough developer to be working in beta OSes, you're probably good enough to also fix it and make a pull request! :) . Hmm yeah, that's troublesome. . I'm sorry for leaving this issue hanging for so long, should work for you now.. You can\u2019t control the speed of just anything, it has to be file based so it can look in the future.. Thanks!. If you've got the source, just rebuilt the framework by cd into Frameworks/ and then doing ./build_frameworks.sh. A clean and build may also do the trick.. Which version of Xcode are you using?. Pretty sure the prebuilt version with 3.7.1 is for Swift 3.1. That's why I was thinking you mihgt need to clean. Right @megastep?. I'm going to accept this because I think it doesn't do any harm, but we'll need to have to give iOS11 features a full implementation.. @megastep should be able to give you an idea of what's going wrong.  People haven't had too many issues getting AudioKit into the store, but when they do its often around that script.. Please make pull requests off the develop branch instead of master . I saw your post to the list and rejected it because it's a simple issue to fix.. Hey there, I hope you redo the pull request, sorry if it seemed harsh to just close the request without further info.. Looks good to me!\n. okay, I think your solution makes sense. Sorry you are having a crash, but this goes down as one of the least helpful bug reports anyone has ever posted here! :) No code, no evidence of AudioKit at all in fact.. You can reopen the issue with more information.. Nice job taming the hounds too!. The only issue with this pull request is that you're a bit to iOS-centric.  Need to do some OS checking around some of the additions, basically opening the for macOS project up and seeing what UI references it is seeing.  I can fix this too if you're done for the day.. We have switched from that class to http://audiokit.io/docs/Classes/AK3DPanner.html. This looks like an EZAudio question.  We don't use EZAudio in this way in AudioKit so I can't help you.. I'm not sure what I should do with this information.  Doesn't seem to egregious to me.  . @dave234 Could this also be examined as part of an audit process?. Okay, I'll just close this issue now but we'll keep a note to look for significant memory leaks.. Very nice work!. Sorry for the delay in responding.  I guess you could do something where you detect the overall amplitude using the amplitude tracker and set output to zero if the amplitude detected is below a threshold.. Of course that would be a very basic gate.   You might want to do something slicker where the amplitude from 0-threshold is not completely zero but heavily scaled, so that there's a smoother transition to sound. Perhaps tying low pass filter parameters to the detected amplitude.  I'm sure there's an art to good noise filtering.. This looks cool, and I will definitely merge once it passes Travis.. Awesome!. Awesome!. There have been updates that @warpling implemented for Blackbox, but perhaps those are still in the develop branch.. I don't see any actions I can really take on this issue, so I will close it, but it would be great if you still posted updates here about your feedback from Apple on the radar you filed.. I'll look at your issue, but firsst, Google groups should have a new topic button...\n\n. I'm not sure how AKMixer could stop you from controlling a specific AKAudioPlayer. If you're able to share your project or even message me privately on what you're trying to do, I might be able to lead you in a better direction.. I think you'd be well served to organize your files into a Soundfont and then use AKSampler to play it. It will do much better with memory handling and using standard midi to play back the appropriate sounds.  You could even use sequencing to play back at the proper times.  Do you know about soundfonts or soundfont support in AudioKit?  I should probably highlight it more.. Your control would be play and stop (playtime+duration) on any given note number.  The timing would either be up to you via scheduling or via midi sequencing.. Usually durations / stop time variations are much less noticeable, if detectable at all with notes that decay out.  As for start times, I'm not sure AKAudioPlayers start time is that accurate either.  You probably should test to make sure.  AKSamplePlayer is another option.. @ryanfrancesconi Thanks for the affirmation!. Looks good!. Thanks!. Seems good to me!. Want to do a screenshare? I can invite you to Screenhero if you send me your email address.. Just a general piece of advice.  If you download the playground stuff directly, it should \"just work\".  If you're working from the source, you'll need to run build_frameworks.sh in the Frameworks directory, and undo the changes you made that doesn't sound right.  I'll close this issue for now but you can add to it or email me directly and I'll get you up and running.. I need an email to connect with you on screenhero.  I think it has to do with cocoapods.  Can you try just downloading it direct from https://github.com/AudioKit/AudioKit/releases/download/v3.7.1/AudioKitPlaygrounds-3.7.1.zip. That version will require Xcode8.3.  You'll have to build the version for Xcode9 beta on your machine, but I can work you through that.. Did you run build on the playground project cmd-B or the play button?. You accidentally committed a copy of AudioKit in the new project.  I think in Xcode there's a checkbox for \"make copy of files\" that you had on while dragging in the framework.. You mixer logic is a little weird.  I mean, it seems like it should work but all you're doing ins mixing two things so I don't see why you've got three mixers.  Here's an example app that works with many samplers.  https://github.com/John231/Drums808/blob/master/Drums808/samplerEngine.swift\nThat example uses wavs.  I think you might need to have the sounds in a specific subdirectory named \"Sounds/\" as discussed here: https://github.com/AudioKit/AudioKit/issues/903 \nFinally if you'd like to share your project, we can probably get to the bottom of things fairly quickly.. Ha!  Well, its not flawless, but hopefully \"always improving\". :). This is possible with the latest iOS and macOS updates which should be released in September I guess.. There's an example of offline rendering in the SongProcessor now, which could be used to do analysis without playing.  . Thank you!. Thanks, Apple. :). @frakman1 this issue is getting pretty convoluted to follow so I am going to close it to additional comments.. Calling this an enhancement to separate it from known bugs.. Not sure why this issue to combine audio has changed into a discussion of TAAE, but if all you want to do play multiple files, why not just use AKMixer and multiple players?. Since this issue is ill defined, I'll close the issue for now.  You can still use this as a forum for discussion, but I just don't think it should be on our open issues page.  Its re-openable if necessary.. There's a tradeoff of course, you do have to use CPU cycle to expand mp3s and depending on the implementation, sometimes the expanded version is kept in memory.  Have you thought about wrapping all your samples up into a soundfont or EXS24 file? That would probably be best way to avoid reinventing the wheel.. oh crap.  Should we revert for now?. There have a been a number of changes to AKAudioPlayer in the develop branch, is this still an issue and if so can you make a pull request with a fix?. That's interesting, I would have thought that an invalid file would have been caught as well. hmm. So I think what's happening here is that soundfont.append cannot be in the do try catch cycle. audioFile should be declared outside of the do and try'ed inside.  Let me know if that doesn't fix things.. Since Xcode9 beta 5 breaks AVFoundation, Our integration testing is broken, but this looks like a fine change.. Yeah, I'm not for adding an isMuted thing to the player.. That's not bending the rules, you're more than welcome to extend AudioKit as you see fit!  Cheers!. I rarely get updates to example projects, so this is a real treat, thank you so much!. Thank. You.!. One of the most anticipated (by me) pull requests ever!. I don't think we use EZMicrophone for any audio output activities, so it shouldn't be a problem.  Its only used for analysis, in which case a pause in processing wouldn't resulting in any frame dropping or badness.  Unless I am mistaken?. But I don't think its being used by AudioKit apps unless they instantiate an AKMicrophoneTracker.  Why would you use a microphone in an offline render?. Cool, not be defensive, just I am not sure what to about these issues.  I'd love for more capable people to do an audit!. Are there any tasks we can take to address this issue?. Awesome, thank you!. Okay, I think I know what needs to be done and it is partially on its way, not sure this needs to be a public issue as I don't think its causing any problem.. Thank you!. Thanks very much,  keep 'em coming.. Ask and you shall receive, sometimes! Thanks!. Thanks Ryan!. Phenomenal update!. Thanks for the follow through. Oops, you did wan this merged correct?. Yeah, it looks like a good idea to me.. @warpling Might be interested in this too.. Looks like you committed some files that you didn't want to, referencing a change to the xcodeproj file for the sequencer demo.  I can fix this.. Travis CI is broken as of Xcode beta 5 I suppose we could get off the beta for our testing, but I thought I'd try to wait it out and hope for a better beta 6.. Thanks. I think I know what to look at for this, but if you can provide the crashing code, I'll be able to test my fixe against it.  Otherwise I'll see if I can reproduce first.. I don't think there's much we're going to do for Swift 4, but a lot for the new OSes.  Probably middle part of September.. @spandana-batchu You definitely could get on the develop branch and go into the Frameworks directory and run \"./build_frameworks.sh\" to create a framework file based on the up-to-date code.  I'm not sure when we'll be doing the next release yet.. This app is doable in AudioKit.\nHowever, this is not an appropriate place to ask this question.  Issues are for bug tracking.  Please use the forum instead: https://groups.google.com/forum/#!forum/audiokit. Why is it a requirement to use these settings?  I'm not trying to deny the fact that AudioKit should just work with any settings, but to get you past this point of failure I thought I would ask.. I think you could export the file with those settings to save space but probably leave AK in stereo full quality.  I'll have to look to see if I can make that easier to do (on vacation right now but will look when I'm back).. In the meantime, maybe you can make your app with the bigger file settings, just to not be impeded.. No, I don't have any news on this issue.. Passed my tests locally, hopefully Travis will be on Xcode 9beta6 soon.  Thanks once again Dave.. Love getting pull requests from you. Definitely looking forward to examples/playgrounds that show these new things off.. I will want to see this new stuff in action when I am back from my vacation!. Woohoo!. No idea what this does but you're the man. :). Thanks for finding this, I think it should be fixable.. I think its no longer leaking memory and I've tested your example.  One thing that I added was a maximumSamples: length so that the buffer has space for any potential sounds you might add.  It does require some knowledge of the sounds before hand, but its a necessary compromise.. Yeah, you should just be able to apply the changes to the master branch.  mind you there were a few more improvements after the commit referenced above so you'll want the newest version of the Sample Player stuff, from the Swift level down, basically everything in the folder.. Yeah, its pretty hard to give full range of value access and be sure nobody has found a set of parameters that makes things bad.  Be careful.  But, I can at least update the Moog Ladder one reducing the resonance which is what I've done.. ftw. I don't know if there's anything that can do be done with this issue.. I think one of the things I'd like to verify with issues like this is whether or not AudioKit is the culprit, or just AVAudioEngine. Does this happen with a simple AVAudioEngine project with those session categories? If so, then its more of an Apple bug. We'd still want whatever work around that is found to be integrated into AK. Really I have no idea where to look and I hate having issues that I can't act on.. Exciting!. There's not really enough information to go on, but this is not a forum for general discussion, but for problem/issue reports.  For general support please go to: https://groups.google.com/forum/#!forum/audiokit. This is not information for a Github issue, perhaps you want to start a discussion here: https://groups.google.com/forum/#!forum/audiokit. Not currently. Thanks for posting this.  I probably don't have time personally to look at it until next week, but maybe someone else will have a look and help out.. Hey, I see from your syntax that you're using the Sequencer from the master branch.  That sequencer is a major pain and we've deprecated it, or rather just renamed it to AKMIDIPlayer.  Its not suitable for anything but the simplest of MIDI usages.  The internals are not under our control as it is basically just AVAudioSequencer, so I can't really fix it, I don't think. You're welcome to try to fix it, but I think it will be futile.. If two people need it, then it must be good.. Which version of AudioKit are your trying this with?  Works for me on develop, which is the only Swift 4 compatible version.. Great video!  I can't be sure, but I think you probably have downloaded Xcode-beta but you still have Xcode 8.3. From the looks of it on the video, you're still having Xcode8 do the building for you. Try doing this before running build_frameworks.sh:\nsudo xcode-select -s /Applications/Xcode-beta.app/Contents/Developer/\nassuming that is where you have your beta Xcode installed. . Reopen if that doesn't solve it.. So, yeah, that's an issue because in URLs the pound sign is probably truncating the URL because it usually used for placeholders within an HTML file. I'm guessing you'll have to use a filename instead of a URL?. I believe the solution is to encode the hash in the URL with %23 as per https://stackoverflow.com/questions/4960513/using-a-hash-within-a-url-path. Another awesome addition to AudioKit, thank you!. @jandyman On Xcode9 the playground makes a sound but the gainer.gain has no effect. I've made the necessary fixes so this should pass tests, which will come right after I accept this pull request.. Thanks!. Good changes!. Weird that Travis says it failed, seems to have actually passed!. Thanks for posting this fix.  People do coming looking in the issues when they are having problems so its a great place to post it. Maybe we'll make the interface to this sort of thing better in the future as well.. Thanks very much Jeff!. I think all the ones currently in use by AudioKit are there:  https://github.com/AudioKit/AudioKit/blob/master/AudioKit/macOS/AudioKit%20For%20macOS.xcodeproj/project.pbxproj#L2320\nAnd in the finder...\n\nPerhaps it was fixed more recently than your version?. That's true. Must have been fixed more recently.  We'll be making a new release sometime next week.. Good ideas, would you like to make a pull request? If not I'll get to it shortly.. Thanks very much!  Always nicer to have a pull request than an issue! :). Does it work on the simulator?  Can you try on a different device? If its displaying the waveform, things are being generated so I am not sure why it wouldn't make sound as well.. It could be that AudioKit is obeying your mute switch while the other apps do not.  . Sure, we have a team of people, AudioKit's \"Core Team\" and a lot of do consulting on AudioKit-powered projects.  Email me for more information.. Thanks!. Just to be sure, which version of AudioKIt are you using?\n. So, are you still using Xcode8?  AudioKit 4 for Xcode 9 just came out, and its what I have to test with.. You could use the AudioKit develop branch and include the .xcodeproj in your project instead of the framework.  Then, you could find the offensive classes, add the @objc and make a pull request with the changes. That would be amazingly helpful and get you on the right track the fastest.  I can help you through screensharing if you need any help getting set up.. Not as far as I know. iOS development is like this, constantly being shoved around by toolset, device, and operating system changes. I can only offer some commiseration!. @jldunk Are you close to making a pull request? We've got a few other bugs I'd like to address with a 4.0.1 release\n. What you don't like Swift 34? :) Thanks!. I'd need a little more context. Can you share your project publicly or privately? Or do a screenshare to show me what you use that's causing this?. I'm able to reproduce your problem on iOS (for some reason its not happening on macOS) independent of your project, and I am working on it now.. Love documentation pull requests!. I would have thought it was returns too.  I rarely use that field.. It looks like you added versions of the files at the top level instead of changing the files in place. Would you like me to me move the files into the correct place?. Good catch.. Reopen if necessary.. Did you get the 4.0.1 update? It addressed a lot of the objecitve-C issues.. Re-open with any new info, or make a pull request with necessary @objc declarations.  Thanks!. A playground error is always worth reporting!  I'll fix this up.. This should be fixed in develop. Let me know if there are any other issues you find. Thanks!. Actually already done.. I just tested AKTable with a wav file and it works so unless you can provide more information, I can't really help you.. If you like, or share a project, that would be best.. I'm not going to create an example from scratch, but this is a playground for tables:\nhttp://audiokit.io/playgrounds/Basics/Tables/\nIf you have a project to load I can check it out.. ITs also printing the error in the do try catch block that drumKit.wav isn't being found in the resources folder. This isn't AudioKit related, its including files in Xcode so that they can be found by the code.  Is drumKit.wav in your project?  Does it have the appropriate target membership?. No I am not.. Thanks!. Thanks!. Yeah, actually now that I look at this, external URLs are not allowed, going to close this.. Thanks!. These answers should solve this for you, if not you can reopen the issue. Awesome work Ryan!. We don't have that capability. Maybe you could use something like Rogue Amoeba's Loopback to get the system audio back into AudioKIt: https://rogueamoeba.com/loopback/. I think you should make a PR, seems like a good problem to fix.  Thanks in advance!. I'm inclined to accept this unless you're looking for more people to make comments on it.\n. I think you're right, can you make a pull request with the change?. This is not really an issue, we prefer support to go to StackOverflow.  If you post the question there, I have a response ready.  Thanks!. I believe this issue has been addressed by this commit https://github.com/AudioKit/AudioKit/commit/8aa4625b4dffdf755e8c223705666aad66a9372c. Probably @swiftcodex and I need to make an iOS11 release of that synth. New synths are on their way too.. Can you see if turning off the filter makes sound work?. This is fixed in the latest version of AK, uploading a new Analog Synth X to the app store now.. > I'm curious; do you know if this would work with playback from AKSequencer (i.e., MIDI)?\nNo, you can't right now but we're working on it!. > It will be good if you share demo project with recorded voice + reverb effect and then save the filtered file and then share it.\nExcept the share part, this is what RecorderDemo does.. Thanks for pointing this out, I will look into it (sorry for the delay in responding).. Hi Alex, sorry my notifications about new issues was broken so I didn't see this until now.. Alex, I'd really like to break this issue up.  It seems like there are some things that might be due to your implementation, and some things that might be bugs but are a bit nebulous.  Can you submit questions individually on Stack Overflow and submit an issue once we've nailed down the problem being within AudioKit vs. in one implementation.  Thanks!. THanks for pointing this out.  My notification of new issues was broken so I didn't see this until now, but will look into it.. Closed until further information received.. What's happening in your example is that the file that is being told to be loaded is nil.  We've taken a few liberties with this example for brevity, but really there should not be any forced unwrapping and in the case of sample player, better off starting with nothing and then loading data once you're already sure something has been recorded.  I have fixed the example while researching this question though, so thank you for that.  In general we should provide a better recorder example and I've added it to our projects list:  https://github.com/AudioKit/AudioKit/projects/4. Looks cool but I'll let some more eyeballs on it... basically if @dave234 and @megastep are cool with this I think its a go.. I'm not exactly sure why this pull request is where this discussion is being had.  Seems to me if its a current thing then it should be an issue.. Nah, no reason to delete what's here already, but repeat what you need to on the issue so people don't have to dig for info.. Thanks!. New release coming tonight.. Hi, this is more of a discussion than an issue just for AudioKit. Can you perhaps ask the question on StackOverflow? It will get a lot more attention there.. You have to grab the latest AudioKit too. 4.0.3. @Zeken Thanks for the in depth analysis and sample project. Aside from the AV sampler's built in handling of certain file types, i think we'd almost be better off with our own code than relying on Apple.. @Zeken You might be well served to ask this question on StackOverflow as well since it is not necessarily an AudioKit-only problem.. That's some excellent sleuth work!. There are no plans currently, but we'll watch as Swift on Linux evolves.. This hasn't been my experience. Unless you can provide more details like the operating system you're using, which version of AudioKit you're using, and hopefully even a sample project with the audio file in question, there's not a lot I can do to help you.  Feel free to reopen this issue with more information.. That wav file is 8KHz. I resaved it as 44.1KHz and it plays appropriately.  I suppose there could be a problem with the way we convert wavs to the appropriate format.. Cool. would be great to develop a playground for this.. @dave234 Recently added the more modern offline rendering. Are you on the develop branch?. Given that this issue is 4 months old and AudioKit has changed a lot since then, I would like to close it. If you would still like help, I'd suggest StackOverflow or maybe a fresh issue with updated specifics. . That's doable, just connecting up a operation based effect to a sampler. Not sure how this classifies as an issue though, so I'll close it.. Does it ask you for permission to use the microphone?. Maybe ask on StackOverflow so we can get some points for the solution ;)\n. Reopening this issue while the StackOverflow community has a chance to weigh in: https://stackoverflow.com/questions/47401897/why-doesnt-audiokits-akmicrophonetracker-work-on-a-physical-ios-device. I'm going to close this issue, but feel free to post here any suggested fix you'd like in AudioKit or even make a pull request.. Thanks, we are aware of this.  Stems from an issue in the table generators, @PaulBatchelor any updates?. @PaulBatchelor and as you know, but just for completeness, the hack had some negative side effects so it would be cool to figure out a better overall solution if possible.  @carlosypunto you can avoid triangle for right now, in fact just a bit of smoothing or just using a sine is a pretty good solution depending on your application.. This is fixed on the develop branch.. The detuningMultiplier was renamed and rescaled to be a pitchBend, but you should be able to do the same stuff with that.. Will hopefully have a chance to look at this on Wednesday.. This works as far as I can tell, and there's no information here on what could be wrong, so I would suggest that you ask the question on Stack Overflow and then I can offer you a screenshare to get you past whatever is blocking this.. If you send me an email, I can send you a screensharing invitation.. You're using an AudioKit built with an old version of Xcode.  Please don't piggyback issues onto old issues.. It verifiably compiles using Travis. What is your configuration that it is not compiling in? Too little information provided to call this an issue, maybe bring the question to STackOverflow.. \"the errors\" are?. I wouldn't be surprised if this project builds if you ignore these errors in the editor. I think you need to reference the framework directory the same way that is done here by Eric:\nhttps://stackoverflow.com/questions/47273149/referenced-audiokit-framework-is-not-recognized-by-xcode \nHe composed this after we did a screenshare and he chronicled the solution brilliantly.. Thanks for the in-depth description of the issue. We'll definitely have a look, but also I want to encourage you to make pull requests with any changes you feel would help.. Gotcha, well, I think think this could be resolved by making it a singleton perhaps.  I think it was a singleton in the past, and we probably got into the habit of not paying it much attention and now its biting us.. @teroparvinen I'm not sure if this circumvents the problem, but I've converted all occurrences of AKMIDI() on the develop branch to use an AudioKit.midi singleton. I'd be curious how that works for you.. @teroparvinen If you want to make a pull request, that would be great, but barring that would you be willing to do a screenshare with me while I make the changes?. @teroparvinen Hi Tero, any progress towards a pull request on this or is it a dead issue?. Thanks for the thoughtful and thorough issue post.  I can't look at this until later in the week due to holidays but hopefully someone else will.. Could I get an example project to look at?. Can you share the code that prints out the \"BEFORE DB:\" and \"AFTER DB:\" output that you quote?. but maxlevel is not in dB so I am just a little suspicious.. This is the new preferred way to do normalization: https://github.com/AudioKit/AudioKit/pull/1306. Cool thanks. I am going to close this issue because its fixed, but we can continue the conversation here with Dave's insight that there might be a more general way to implement bypass.  This should be looked at once I implement @jandyman rearchitecting after the ramping works for me again.. @Selesao Thanks very much for finding this btw, it was actually affecting two other effects.. Hey Amit, I remember this being an issue on Apple's end a while ago but then they fixed it, so let me have another look and test it on a non beta Xcode. Is there a program or playground that demonstrates the problem?  That always speeds up addressing the issue.. Cool, there are some big changes ahead for audio playback so I am going to close this issue.. This is better but still not quite right especially on decreasing the volume.. This is a nice writeup, we're currently rearchitecting the audio player so hopefully these kinds of issues will go away completely.. I'm assigning @ryanfrancesconi on this issue just because he has written a new AudioKIt player, and I think he has / should have addressed this type of stuff already.. While I don't deny that this happened, its not a very helpful issue with no information provided.. Sorry if you were intended to put more commits on this pull request, but it looked good so I merged it.. Feel free to open another request for more documentation stuff or whatever. Thanks!. I don't think I've ever got a better composed issue report. :). I'm going to call this issue closed for now but if you need to reopen it or make a new issue or make a pull request, any correspondence with you is welcomed!. Cool, I think this is progress. There might be some issues, but I think this will go along way to solving most of the open issues on Github relating to this player.  Thanks!. @MrTristis Please reopen the issue with a comment if Dave's fix did not work for you.. Thanks!. This is a question for Stack Overflow.. Clever work around!. I've made a documentation page for this sort of thing, hopefully it will grow over time and be more useful than having this stuff in the issues list, so I'll close this issue in favor:\nhttps://github.com/AudioKit/AudioKit/blob/develop/Documentation/TipsAndTricks.md. I think it will be wise to target the next release as 4.1 with this change and the new AKPlayer, and possibly a deprecation marking if not removal of AKAudioPlayer.. We'll take a look at this this week, thanks for your patience.. Thanks, looks better\n. Sorry it has taken us a while to address this issue.  Hopefully this week.. Cool!. I love this pull request, thank you so much!. Does your work on https://github.com/AudioKit/AudioKit/blob/develop/Documentation/AudioUnitCreation.md make this issue closed? If not, maybe it could be made more specific. I'm not sure its doing much good here as an issue, so I'll close it, but feel free to reopen it if it really was helpful to have it here.. Nice work!. Nice updates.. pulled against master instead of develop. Ahh. Yeah, you can somewhat easily extract the parts you don't need and rebuild AudioKit to your liking. I say somewhat because there's nothing difficult about it, but its not automated and you have to go systematically. If you'd like to do a screenshare, I could probably at least get you started.. Closing until further information.. This pull request has a number of problems.  First of all, you're requesting the pull request on the wrong branch. You should do it off develop, not master.  You can always tell when you've made this mistake if the number of changed files is huge - in this case 493 files.  Next, you do not describe the pull request at all in either the title or description fields so I have no idea what change you're trying to make.. @nodeful I was wondering if there's anything you can add to AudioKit via pull request from all that you've learned.  Is there anything I can do for you for this issue anymore?  . @nodeful I'd love to see your multiple AVAudioEngine setup. Is there any way you could share this with me?. @nodeful In the meantime, could you let me know if you were using AVAudioEngine in manual rendering mode with the multiple AVAudioEngines?  I think that would be a really useful set up.  I'm trying to do that for AudioKit but having some issues, and of course there aren't many resources/examples online. Google ends up sending me back to AudioKit. :). I'm still curious.. @nodeful I accepted the PR but I haven't had a chance to check it out. Is it meant to address this issue or just point out the difficulties?. oh of course, sorry just getting back in to the swing of things after my travels. Thank you!. No, this is not possible.  Apple protects their streams and we don't have access to them.. I suppose everything is possible somehow, but I certainly don't know how to do it.. Great analysis Derek.  As it is currently broken, I'd love for you to make a PR with the solution you find most useful, and if the API has to change that is okay.. If anyone knows this its you :). You wrote tests!  Thanks for making my new year so far!. Thanks very much for this!\n. One issue with this PR is that it only addresses the problem for iOS.  If this is the right solution, then the same change should be made on the macOS and tvOS projects.. To make this pass tests, we'd have to change the examples to do try AudioKit.start() I guess.  . @warpling did you get any feedback on this on slack? . I'm going to bite the bullet and accept this PR, fixing the things it breaks.. I see an answer to the question on StackOverflow with no follow up, so perhaps we can take the question over there?. The playgrounds work, in general for me, so without further information from you I can't act on an issue this vague.  Please provide the errors at least.. THanks!. Not really, we feel like if you want to take the easy road, use Cocoapods, if you want to take the nard, manually include the framework or even the project.  I'm not sure what audience would be served by this in-between solution. I'm willing to be convinced but it'll take more than \"could be nice!\" :). For the AudioKit developer, I recommend developing your Xcode projects parallel to AudioKit in the file system, then you can point to one copy of AudioKit all the time and in any of your projects, should you find a bug you want to fix in AudioKit, you can do it right there and it will change your main AudioKit repo.. This looks to be a bunch of errors due to local declaration of variables.  Don't do let mic or let silence inside of a function.  Instead, define them as instance variables.  Also, this is not an issue with AudioKit, its an implementation question, and should have been asked on StackOverflow.. A PR would be welcomed!. This is not an issue with AudioKit, this a question about implementation and should be asked on StackOverflow.. That doesn't seem like a bug in AudioKit since we make no distinction between iOS10 and 11 in the source code for the sequencer. Probably a bug Apple fixed.  Not sure what we can really do about it.. I think @crashingbooth has the solution. I'm not sure how I can force this to be the case, so I guess I'll just document it.. Thanks!. I merged this and had to undo one part, but we'll sort it out once I am done with this round of updates.. I'm sorry it's taken so long to get back to you but this is just very strange because it does work for me. A ton of playgrounds use that exact same pattern.  Any further information?  Would you be willing to do a screenshare so I could see this happen in person (virtually)?. Strange that it didn't give you a better error message.  Wrap the try in a do catch block rather than try! if this is going to be production code.. At this point we are not interested in Android, sorry.. Since this was referred to in youtube comments I should clarify and update my \"At this point we are not interested in Android, sorry.\" response.\nAndroid is improving as a medium for music apps. And I could see other languages that could perform the swift layer functionality of AudioKit just as well (Kotlin for example).  And, as the SOUnd Language (SOUL) from Roli makes progress Android will benefit greatly.  \nThe \"we\" in AudioKit will need to change to include collaborators who have expertise in Android specific audio, but I do think AudioKit as a community will welcome implementations on Android and all other platforms.. This does not make sense to me. The binaries were not made with Xcode 8 for some time, maybe you are using an old version. In any event, this is not an issue with AudioKit, but rather your implementation/installation quirks and shouldn't be raised on Github.. Thanks,this may break our tests because its an improvement, but I will update things.. Audio is a different beast and can't be made cross-platform for Android. As for React with AudioKit, you can do that, that's just an implementation question, not an issue to be raised here.. Examples already exist: http://audiokit.io/audiobus/. We don't have an output node example, that is true, but is it much different than an effects node?. I guess the issue here is that the effects example takes one stereo input from Audiobus and does processing on that whereas you want to get a multitude of inputs correct?. Weird, yeah I guess I never considered this and it may require some code enhancements. You're the first to request this so if you end up finding a solution, it would be great to add it to our code base. I can invite you to our Slack group if you email me directly.. Unless this issue see some action, I'm going to close it and instead refer to the fact that we need a host example in our projects: https://github.com/AudioKit/AudioKit/projects/2. So it seems the answer is no for now, but if you want to try to extend AK a pull request would be appreciated.. I'm not going to worry too much about these hound issues and accept the PR. . Things look really great and even if there are a few tweaks I'm super excited to have this in the repo!. This looks incredible!\n. Can you provide a sample project?. @mscheffel Any chance you could make a pull request with your fix, at least documented where you think would be appropriate?. THe problem is not in the recorder I think , this looks like an oscillator bug that has been fixed.  What version of AudioKit are you using and what is your oscillator code?. @Scitator Can you explain what you mean by \"switching to AVSession\".  Do you mean AVAudioSession?  AVAudioSession is used in AudioKit as well, what setting of AVAudioSession solves this problem?. Closing until more information (hopefully in the form of a project exhibiting the bug) is added.. Yeah, these are identically implemented classes, I'll have to dig into STK to see what the issue is.. For me stop works on neither of them.. Thanks!. I guess Andy might have some feedback for you, but for now, this looks good.. Keep 'em coming, thanks!. Could this just be an issue with dispatching to the main queue?  I don't see how AudioKit itself could be changed to help you with this.  Its seems like an implementation issue rather than a framework issue, in which case you'd probably get better responses on StackOverflow.  Reopen the issue if you disagree and we'll discuss further.. @ilukinfusion Again, there's nothing we're doing to intentionally interfere with MPAnything so it must be something to do with session management.. THanks fixed.. If you're not using AudioKit for anything but mic tracking, use AKMicrophoneTracker which doesn't ever require an AudioKit signal chain.  Otherwise, you could maybe use AKPlayer and make that part of your signal chain, but I don't use AVPlayer and AudioKit isn't necessarily going to mix well with it.. Can you use AKPlayer?. SOrry I haven't had a chance to download your project yet, but I did notice that you seem to have a lot of stuff tied to your view controller lifecycle. This is pretty dangerous to do in general, with audio, and may have something to do with your problems.. @minikin I can help, but not on the thread of old, closed issue.  Please contact me through another means, like a new issue (preferably with a demo failing shared project).. There is a new Documentation folder in the develop branch where we can put such a guide, but for now I'd just like to suggest that you \n\nDelete the AudioKit-* directories inside of Frameworks that were generated by old versions\nClean the build folder cmd-opt-k I think\nMake sure to see the new instructions on the Frameworks/README.md concerning no longer need to run \"fix-frameworks.sh\" as a build phase\nAdd the standard c++ library linker flags as described on the same Frameworks README.\nPut AudioKit.start() inside a do try catch block\nMigrate to AKPlayer if you were using AKAudioPlayer if possible (its still there, but good to move away from it)\n\nThere may be a few more changes I am forgetting, but this is a good start, see how you get on.. Can you do a screenshare with me? There are a multitude of things that could be wrong. . You'll have to help fix this as I don't own or plan to own those Beat headphones.. I think this could be related to ordinary route changes with headphones issues as described here: https://github.com/AudioKit/AudioKit/issues/1239 so I'm going to close this issue and concentrate on that one since it has more participants anyway. Reopen with more information or solutions of course!. There were conflicts here so I just added the code to https://github.com/AudioKit/AudioKit/commit/a35d99ea7ebe1edc5781556d55b1e0f0f9671547\nThanks for pointing this out!. This is great. SVG is so small that I don't mind having that format in the repo.. I'd also love to see some documentation for this addition.. Thanks, I've alerted the author of these processors @getdunne . That's a problem with AKOperationEffect, not chorus or flanger, but the HelloWorld crash is surprising since it does not have that.. Ok so this is because the iphone6 mucks with sample rate because some parts of it are 48 and others 44.. Huh, then wtf. Cool!. I don't know how to address this issue.. SInce there hasn't been any activity on this issue, I'm going to suggest you move it over to StackOverflow.  On there you might get more eyeballs on this, even people not on the AudioKit core team who have some experience with this sort of thing.. I don't see anything obviously wrong from you description.  Perhaps you can share some code and/or a  project demonstrating the issue.  Also, until we can identify this as an issue with AudioKit and not your implementation, this is probably something better discussed on StackOverflow.. @dave234 and @ryanfrancesconi since Xcode 9.3 is out now, perhaps you both are on the same page with this project? And you're both on slack and no one else has chimed in, so I'm not sure this issue is doing much good here.. Hi, I'm going into all of these issues as I prepare a new release, and I see that no one has even responded to this. I'm sorry about that. What's the current status of this?  I don't know what should be done to fix it, so I'm hoping its fixed itself along the way.. maybe?. Reopen the issue if you like, just going to close it for now then.. Why don't you add this, it is open source after all!. Sorry for the delay - I didn't see this PR until now for some reason.  Thanks!. Nice thank you!. How about just not enabling sandbox?. I don't know, but this seems less to be an issue with AudioKit and more a question for StackOverflow.. I'll reopen this issue for you @pshannon1000 maybe someone will help.. Do you think you could give the new \"AKSampler\" in the develop branch a try?  It has MIDI by default, so you don't need the AKMIDISampler wrapper.. Without more information, there's very little that can be done with this issue.  Ideally, something like this would be posted to StackOverflow with a link to a sample project.  I'm going to close the issue for now, but feel free to update this discussion with the StackOverflow link or other new information.. I'm really going to need an example project to download to debug something like this.. Yes, sorry, will do.. Done: http://audiokit.io/docs/. This would be a question for StackOverflow, not Github issues.  If you post there I'll make a quick reply.. Hi, thanks for your contribution.  It's not really an \"issue\" though so I will close it here and communicate with you via email. Thanks!. That pull has 587 changed files. I thought we got EZAudio more recently than when that pull request was made.  Why don't you make the changes in AudioKit and make a pull request? I'll happily accept it.. I think this has to do with view life cycle.  I haven't had luck with having the node in the init either.\n. You no longer have to set the node after the init.. Post to stack overflow. Thanks!. \"Mandolin is broken\" is a known issue in 4.1 as noted here https://github.com/AudioKit/AudioKit/releases/tag/v4.1 but we might as well have an open issue for this as well.. If you know how you'd like ti to work, we're open to PRs for sure.. I really would like to deal with this issue, but its going to be a lot of work to set up the testing scenario that you have.  Is there any way you could post this as a StackOverflow question with a link to a sample project.  You'll get a lot more eyeballs on the issue that way.. Oh, and reopen this issue as necessary with more information, just closing it for now.. So, there's nothing that can be done about this save for that.  That doesn't sound unreasonable to me.. We're always interested in PRs!  I think a pause and resume file would be cool, but I'll also let @ryanfrancesconi chime in here.. This is really something that should be posted to StackOverflow. We use issues for bug tracking and StackOverflow for answering questions.  StackOverflow is a large community, and questions don't get archived like issues do.  Thanks!. Thanks!. You're pretty active on AudioKit, would you like to be part of the Slack group?\n. Just want to add that as I'm closing issues I can't act, I'm pushing this up the priority as I think I can fix it.. This change fixes the project you sent over and I think its a fine change over all. There may be even more we can do to make operations more robust, but I'll call this a win for now.. This PR isn't passing Travis:\n\u274c  /Users/travis/build/AudioKit/AudioKit/AudioKit/Common/Internals/AudioUnit Host/AKAudioUnitManager.swift:140:16: value of type '[AVAudioUnit?]' has no member 'compactMap'\n        return _effectsChain.compactMap { $0 }\nAre you using Xcode beta?. No I really don't.  You might have better luck asking this question on StackOverflow and if the solution is some work that needs to be done, come back here and reopen it as an issue. Thanks. I don't have an iPad2  to test but maybe does on SO.. It doesn't sound bad to me to have a booster in there, perhaps something is up with operation generators not being able to be the direct output of AudioKit. Hard to tell without the project in front of me.. Could you share your code?  Not a lot I can debug without something like that.  Please reopen this issue or post to StackOverflow with the example project link.. Mark has a pretty clever solution, I like that. If you're using sequencer to do a callback, you could also use AKTimeline I think.  . My feeling is that AKSequencer is not doing anything that is requiring background audio to be assigned except to use Apple's own sequencer stuff.  They might not realize that this is in fact their issue. I don't see how I could require background audio even if I tried. Feel free to reopen the issue with more information, but because I don't feel like I can act on it, I'll close it for now.. This code is not in the most recent version of AudioKit.  I think Jeff fixed it on Feb 1st but didn't make the pull request until recently, so its on the develop branch:\nhttps://github.com/AudioKit/AudioKit/commit/80a28e147d99490d7867e0cad178a81b2eb864d3#diff-f4024105244928ba6cd6889b7a204cd2. I don't think that we can keep track of what the user needs to reload in Note 2. What we could do is run a callback that the user needs to define.  Something like \nsampler.routeChangedCallback = { \n    do {\n        try sampler.loadEXS24(yourSounds) // Note 2\n    } catch  {\n        print(\"could not load samples\")\n    }\n}\nWhat do you think?. Fix-Frameworks isn't required as of AudioKit 4.1. Also, I don't think this is an issue, more of a support question, which should be on StackOverflow.. Thanks!. I understand your frustration, but this is not a forum for this.  Can you post an example project on Stack Overflow or is that what you tried already?\n. Okay, since it is on StackOverflow already, and getting some attention, I'll close this.  But if there is more information, or something to act on, go ahead and reopen it.. This has been covered in StackOverflow.. We had to switch to http instead of https because it was failing with https, we hypothesize because of a problem with github hosting connection to the Cocoapod central server.  @megastep and I worked on it for many hours. Hopefully it will be right for 4.2.1 which should be out shortly since it addresses a few other issues as well.  So, since we're on it I'll close the issue.. Could it be a static framework issue as in tip #1 from here?  https://github.com/AudioKit/AudioKit/blob/master/Documentation/TipsAndTricks.md. Would you like to try with AudioKit 4.2.1 and reopen this issue if it is not fixed?. Thanks!. How big is this memory leak?  I don't know if its a big deal because the microphone tracker is something that is usually used once and stays on during the lifetime of the app. You say you leak \"a bunch\" every time you create a tracker. Why are you creating more than one?. I'll need more information to act on this.  In general the microphone tracker is just a one time add on in a project.  I'd recommend using AKFrequencyTracker and AKAmplitudeTracker in the context of an audio graph for more complicated use cases.. Until this is isolated as a fixable issue in AudioKit and not an implementation thing, I'm going to close this issue and let it play out on https://stackoverflow.com/questions/49680078/ios-9-error-akbooster. I don't care if this isn't production ready, its great, so I am accepting the PR and we can work to improve it over the next few days!. Can you ask your question on StackOverflow, because it doesn't seem to pinpoint an actionable issue.. Thanks!. The new AKSampler is Shane's (@getdunne) baby, and I know he knows that sfz support is not complete, but perhaps he can look at this for you.  In the meantime, AKAppleSampler still exists if you want to continue to use that.. This is not a proper forum for this kind of inquiry.. Because this is not an issue, or problem with AudioKit.  Contact one of us by email, which is easy enough to discover.. Are you using the latest Xcode and Swift even with AudioKit 4.1?  Apple Sampler is a very thin wrapper to Apple's sampler so I am wondering if its not a bug in Apple's code.. This is why sometimes its better to do a question on StackOverflow than an issue, because there you might get more eyeballs that aren't familiar with AudioKit but know more about Apple Audio and potential bugs therein.. I guess I would like to see whether this is truly the case in Xcode 9.3 as that is what AudioKit 4.2 was intended for and I'm not seeing it in my app that uses AKAppleSampler.  While the code above is useful (it looks fine by the way), really testing it would require a project and assembling one around this file is a lot of work. So, if you could provide even a private github link to test this out, that would be helpful.  I'll close the issue for now, but feel free to reopen with more info, especially once you're on Xcode 9.3.. Thanks for submitting this issue in a new form, the old issue was pretty much ignored, hopefully this one will get more attention since its not buried in a sea of other issues.. I'm going to close this for now but if it is not fixed, you can reopen or start a new issue and reference that issue here (preferable).. Thanks!. Oh wow, thanks a lot!  I'm very open to changes to make the code more efficient or more readable.. Thank you!. I believe this is fixed in develop.. https://github.com/AudioKit/AudioKit/releases/tag/v4.2.3. oh its very possible the fixer didn't notice flanger and chorus since they are done a bit differently.. This is not an actionable issue because it is device independent and doesn't come with a sample project. I think you might have better luck posting it to StackOverflow. I can only guess it has something to do with sample rate on the older phone's mic. Sorry man.. No, you're just doing something wrong.  Ask this question on StackOverflow please.. Thanks, keep 'em coming.. Inactionable, perhaps try StackOverflow.. Gotta love documentation! Thanks!. How bizarre. I have some idea why this might be, but in the mean time, can you see if it happens if you don't do oscillator.start() immediately after AudioKit.start and instead wait for user interaction.. It\u2019s worth fixing but I don\u2019t think it should hold you up.. For your app, you might want to instead mix the two outputs and just change the mix rather than changing the output.  It'll be smoother, less prone to issues, and neither thing is a cpu hog.. It turns out this is not a bug at all.  What you're doing is instantiating the oscillator with default values, and then changing those values at time 0.  But, the ramp time for that change is still at the default of 0.02 seconds or so, so it takes some time to get to your new values.  Your options are to set the rampTime to 0 or set your initial values in the initializer.. Thanks!  Keep the updates coming!. I think that once this is merged, we'll come out with a 4.2.4. We've been getting these warnings even when we submit to cocoapods, I guess we just hoped it wouldn't rear its head for the user. 4.2.4 will probably drop soon and we'll have another opportunity to address this.. Next release is out so please try 4.2.4. Closing the issue for now.  Reopen if needed.. 4.2.4 is having some issues with cocoapods, hopefully resolved soon.. I've downloaded your zip, and I'll have a look, but I really think you should post this question to StackOverflow.. This is really a question you should post to StackOverflow, and you'll need to provide some code for sure, be it a playground or project.  If it boils down to an AudioKit issue that can be solved by a change to a framework, then you should come back and post the into here.. Weird, hate it when things stop working after so many changes - is it new AK or is it Swift 4.1?  Ugh. Anyway, do you think you could point me to a repo to check this out?  I realize its simple enough to set up, but anything you can do to make it easier for us, the more likely we'll find the time to check into it.. Can you provide a code example as this seems to be working over here.. Closing until more info is provided. Thanks. @pixound Love to help but that's not a lot to go on.. Cool, there are a few small things I will change but I'd like to accept this and attend to the matters on develop.. This is not an issue with AudioKit, its an implementation challenge that you have.  You should be posting questions like this to StackOverflow so that many more programmers from various walks of life can help you address the problems.. The plots work on HelloWorld, so it has to do with the view life cycle.  But along the way I found some more bugs, so this should be taken care of shortly.. Recorder example is now fixed.. Unhelpful and demonstrably false.. I can't act on this much information.  Can you provide a project, and perhaps post this to StackOverflow until we are certain what the issue is?. I think we'll go ahead and make this public and make a couple of other related changes, so I've reopened this issue.. I thought about this and I'm not sure a change to AudioKit is necessary if you don't import AudioKit.h. . easy commit ;). Thanks.. @knagle sorry for the accept/revert here, I got a bit ahead of myself and this is really jeff's baby, maybe you two can hash it out.. As per @eljeff . Looks fantastic, looking forward to trying it out. Perhaps tonight?. Thanks, I hope something comes of it, I really like the OpenCollective model, especially for this project with many people investing a lot of time and money into it.. Cool. This is an exceptionally high quality pull request, but travis does indicate that one of the example projects is broken by this change:\nBuilding iOS MIDIFileEditAndSync\n\u25b8 Cleaning MIDIFileEditAndSync/MIDIFileEditAndSync [Debug]\n\u25b8 Check Dependencies\n\u25b8 Clean Succeeded\n\u25b8 Building MIDIFileEditAndSync/MIDIFileEditAndSync [Debug]\n\u25b8 Check Dependencies\n\u25b8 Compiling MainViewController.swift\n\u274c  /Users/travis/build/AudioKit/AudioKit/Examples/iOS/MIDIFileEditAndSync/MIDIFileEditAndSync/ViewControllers/MainViewController.swift:251:1: type 'AKSequencer' does not conform to protocol 'SequencerDelegate'\nDo you want to address this before I accept the PR or shall I fix it after accepting the pull request, either way is fine by me.. THanks!. You still need to add this to macOS and tvOS. AudioKit's growing up! :). Nice!. Can you make buttonDownCallback, just \"callback\" as it was to not break previous users?  Also, buttonUpCallback could just be \"releaseCallback\" or \"upCallback\" - you're already in a \"Button\" so no reason to name the callback after the object again.. Thanks, and have a good gig!. This should have been posted to StackOverflow, only use issues once you know for sure the problem is with AudioKit and not your own code.  You forgot to set AudioKit.output = oscillator.. No worries.. Looks good to me\n. Travis complaining about the example project not building, I'll fix that tonight\n. I accepted the PR, so I'll close the issue for now, but go right ahead and open it up if you need to.  . I'm going to accept it, because I don't want this to get stale, still hoping that you get some feedback from some of our MIDI wizards.. Maybe the capital S in start?  In any event, this is very little code to go on, and it is a question for StackOverflow, not for AudioKit issues.. Code is poorly formatted.  Still, this is a support issue for StackOverflow.  Best if you could supply a non-working project on Github too.. Thanks for the vigilant update!. AudioKit no longer supports Carthage.. Thank you\n. This is cool.  Feel free to continue to discuss issues raised here, either directly on this pr or in the slack group.. I think you'd have more luck posting this to StackOverflow.  It is something hard to address, a bit vague.  Can you provide a sample project as well?  I'm willing to do a screen share with you if you like.  I'm sure I'd learn a thing or two about breakpoints from you.. Worst issue ever.. Thanks, sorry for the delay in accepting.. Right you are, I'll have to fix this.  At first I thought this was not our issue, but it certainly is.. Add -all_load to the other linker flags in your build settings.  I just pushed this up to the Objective-C HelloWorld project on the develop branch.  Thanks!. This is not an issue with AudioKit, but an implementation concern, please ask on StackOverflow and provide more information there.. THanks!. You've changed the AKButton API, breaking examples, and probably affecting a lot of playgrounds too. This is why Travis is failing.  Is this an essential change to AKButton?. I think you need to commit changes to the project files to include AKTimeSignature.swift.. Cool!. Fixed on develop. Give me something else to accept :). This is on StackOverflow, as it should be, thanks: https://stackoverflow.com/questions/50331467/audiokit-stop-and-start-produce-weird-sounds. I also disagree with Cocoapods being installed into git.  Every update to AudioKit would increase the size of your repo's history considerably.  Perhaps if you're talking about a small set of files included with Cocoapods, you might as well include it, but anything even lasrge than a few MB would be worth keeping off your repo.  This is how I have the AudioKit Examples that are external to AudioKit's central repo set up.  \nIf you wanted to do what we do with our staging environment and set up a Cocoapods spec for your own specific versions, you could build a version of AudioKit that is super small just by deleting anything you don't need.  But, that sounds like a lot more work than simply forcing users to do \"pod install\" on their systems.. In any event, the notion of splitting up AudioKit into smaller chunks is on our radar, but its much too big of an effort to be listed as an issue on here.  We try to keep issues actionable.. Maybe you could consider ways to have AudioKit parallel to your project.  That's the way I do a lot of my development.  I point up a directory and down into AudioKit.. I really think this is related to IAA that it should go into StackOverflow where it will get a lot more attention. . That would be nice to have, but there's nothing in place that would make that possible with AKAudioFile that I know.. Yeah, the primary author of this, Laurent Veliscek is no longer working on it, so I am not sure what to make of this, if it was intention it to add it or if was there and someone else clobbered it.  There are a lot of references to an internal export session, maybe this could just be exposed as a property?  Could one of you guys who could use this feature extend AudioKit and test the change in their own project?. Hmm, anybody still working on or interested in this feature?. Audiobus steals the output so you have to make the plot tap at a point earlier in the signal chain.  So, just create a fake mixer one step ahead of the output and use that as your source for the node output instead. This probably should have been asked on StackOverflow instead so that it could seen by others.. Fixed, thanks.. Inappropriate issue.. Quite possibly it doesn't work with offline rendering, I haven't tried. . @robertcapsure Vladimir's work is actually the basis of AudioKit's original objective-c renderer.  It's still in there: https://github.com/AudioKit/AudioKit/blob/master/AudioKit/Common/Nodes/Offline/OfflineRender/AKOfflineRendererAudioUnit.mm \nBut yeah, I don't think MIDI stuff is going to work with the renderToFile stuff because its based on a different timing mechanism rather than just pulling data through at a certain sample rate.. SInce you pinpointed it, would you like to make a pull request to correct it?. Yeah, I am no fan of AKAudioFile anymore, it is a target for refactoring, but of course, we will at least wait until WWDC to see what gifts / kicks in the nuts are in store first.. Reopen if the fix from the PR isn\u2019t sufficient.  Thank you!. Thank you!. It\u2019s not a quite ready for prime time so we haven\u2019t highlighted it yet but check out progress in /AudioUnits. Sort of.  A few people are working on it.  Do you want access to our Slack group?. I'm consolidating the MIDI enhancement stuff here https://github.com/AudioKit/AudioKit/projects/3 because its probably not going to be addressed until AKMIDI gets a complete overhaul.. We've recently switched to a UID based system on develop so this should be addressed.. I\u2019ll take a look but in general we don\u2019t support beta software.  The sampler requires samples to downloaded, check the readme.. iOS11.4 is out? I'm grabbing 9.4 now. I'm not ignoring this issue, I'll have a look.. The README will help to fix this problem: https://github.com/AudioKit/AudioKit/tree/master/Examples/iOS/AKSamplerDemo. I'm a little concerned about the mixWithOthers change as it seems like it will affect the expected behavior for all current users.  What's the benefit/motivation?. As this on StackOverflow.. Make a pull request!. Thanks.. Thanks!. We keep some graphics in http://github.com/AudioKit/AudioKitGraphics/  but we also have a repo for our web page at http://github.com/AudioKit/audiokit.github.io/   We're a framework so we don't want the load the framework down with too many graphics, but you can contribute to these other repos.  In general this is not an \"issue\" with AudioKit , so I am going to close it.  You can reach out to us via email.. I am not sure how AudioKit can handle this generally for all apps. This would probably be better as a StackOverflow question because it deserves a conversation, whereas we try to use Github issues for more easily identifiable and tackle-able problems.. I'm going to let this go onto StackOverflow until something becomes actionable by consensus over there.. This got merged into Ryan's pull request so I think we're good.  Thanks!. @dave234 Seems like a sample rate issue again right?. @dave234  Fair enough, any other ideas? You can remove yourself from the card, just thought it was something you may have touched on with your work.. Looks interesting, thanks for the link too.  If you want to make a stab at getting this to work, it would help get the ball rolling. You could even make a pull request if you get close but still have some issues.. I gave this a whirl and my feeling is that there's not enough documentation/walkthrough yet to make this actionable.  Perhaps someone will create a github project that does this - basically that's what is needed, a working example (even if it doesn't use AudioKit).. Yeah, this is a known sysex bug. I've assigned myself and other midi knowledgable folks on the team.. This should be fixed as soon as this pr is accepted https://github.com/AudioKit/AudioKit/pull/1444  Thanks @eljeff !. Thanks!. I don't know what to do about this. Maybe AudioKit apps can't be sandboxed?  I need more information to go on.. Can you try checking the microphone?  Even if you're not using it?. This is the repo for AudioKit, the framework, not for any of the apps built with AudioKit. If you're addressing a problem with Synth One, I've forwarded this to the proper channels.  Thanks for the feedback, despite this being the wrong place to do it.. BTW, the majority of graphics on Synth One are dynamically generated, they are not scaled, so I am not sure why things would be blurry.  Could you provide a screen shot?. Just to get the volume down to a reasonable level.  It does say hack after all.. This is fixed on the develop branch, and will be official with AudioKit 4.4.1. Wow! Thanks!. @ryanfrancesconi and @temkich This is usually just a matter of making sure to mark classes with @objc, but sometimes when heavy uses of swift enums are concerned, you lose some Objective-C capabilities. We still have AKAudioPlayer which has been used in Objective-C projects.. There are a few functions that couldn't be ported to objective-c due to incompatible arguments, but all the others, including loading a file should be fine.. Thanks!. Unfortunately there's not much info to go on here.  If you could give me a reproducible example that would help.  I'll close the issue, but please feel free to open it with more information. Thanks.. Cross posting is perfectly legit when you don't get a response, sorry about that. Been a busy time for us.  We'll get on this.. Sorry it has been a while. I should have time tomorrow (later today after sleep) to look at this and give you some advice about either how to fix or why it can't work.. I actually just forked this project and will have a look later today (hectic last couple of days, sorry). When I run the project the error I get is \nError: Error Domain=NSCocoaErrorDomain Code=260 \"The file \u201cexported.m4a\u201d couldn\u2019t be opened because there is no such file.\" UserInfo={NSFilePath=file:///private/var/mobile/Containers/Data/Application/06AD9697-7E9A-4283-9057-2F716D9A6C06/tmp/exported.m4a, NSUnderlyingError=0x1c04534a0 {Error Domain=NSPOSIXErrorDomain Code=2 \"No such file or directory\"}}. So I think its just a matter of writing to a persistent file.  I'll try to make a version that works.. Interesting that it is creating a file called exported.m4a but it is not loadable by my audio player, so its corrupt somehow.. There are other things wrong here, but I think that what's happening with the file info is that iOS is not able to see the file with the absolute path for some reason.  Seems odd that it couldn't but the file is definitely created.  The next problem is that file that is created does not seem to match the file settings of the input file.  Both of these problems do seem outside of the scope AudioKit however, so I think I will close this issue and we can take up on Stack Overflow.. That is strange.  Usually the problem with Objective-C is just when a class is not accessible from it, but here you're able to access them but then they don't work. Definitely an interesting mystery, we'll have a look.. Do you think you could throw together a quick demo project in Objective-C showing these issues?. Can you reopen this issue with an example project?. Weird. AKBooster is not only tested, but also implemented in just about every AudioKit app in existence. So, I'd love to see your implementation to see what is different. . Can you provide me some of your code for AKBooster that doesn't allow you to change its value?  The diff you are referring to is a deletion of the AKBooster2 temporary files. . Which low pass filter are you referring to?  AKLowPassFilter hasn't changed for a while.  Perhaps the butterworth version?  I really need more information.  . A sample project is necessary for me to debug, yes.. Looks like @ryanfrancesconi introduced a clamping on the boosting amount in this pull request: https://github.com/AudioKit/AudioKit/pull/1219/files \nOur tests didn't show this because we only tested doubling and halving the amplitudes. I'm inclined to agree with you Michael, that 0-2 is not a very good limit because there are definitely conceivable use cases for large amplification.  I'll let @ryanfrancesconi chime in here, but if he does not object, I'll remove the clamping.. Lets close this booster issue for now, if you want to open a new one with some evidence on the filter issues thats fine.. Always best to separate issues so that they can get crossed off independently.. I addressed your PS with the latest commit.  The underlying dsp for the nodes that you notice this issue for all closed-source Apple nodes, so I don't think I can control how they work, but I guess they are assuming that if you are changing the drywetmix parameter, you want the node to be running. . This is a lot of write up, we're working on making dynamically creating, connecting, and disconnecting nodes easier.  Perhaps @dave234 has something to say about this?. So, looking at your write up again, I would say it would be great if you could make a pull request with your fix for at least one of the nodes. I can make the update to all the rest.. The cleanest method is what I want.  I don't mind doing the busywork for the rest.. This should be addressed by the recent PR and follow up commits. Any other helpful changes would be most welcomed. Thanks!. Thanks!. There doesn't seem to be much actionable to do here, so I'm going to close this as an issue, but I'm sure @eljeff is aware of the idea.  You can still post here and if something can be done, @eljeff  or I will open it again.. Thanks. I love documentation PRs.  A lot more to be had if you're up to the task :). Not much.  The algorithm is based of Csound's Butterworth filters: \nhttp://www.csounds.com/manual/html/butterhp.html\nAnd here's a good write up of that:\nhttps://en.wikipedia.org/wiki/Butterworth_filter. Progress in the right direction for sure.. Thanks!. YOu were using a README for AudioKit 3.7 that has since changed a lot.. Pease be more specific.. Hi, this is isn't an issue, but a question, can you ask on StackOveflow please?. Thanks.. Thanks!. ?. I do not want these edits.  Analog Synth X has been moved to its own repository and you should never do pull requests onto the master branch.  You haven't even given the pull request a title or description.. This is not an issue, but more of a general support request.  YOu can either try to post the question to StackOverflow, or perhaps reach out by email if you want someone on the core team to help you with your app as a contractor.. Try instead giving the players like p1, p2, p3 and then doing p1.play() etc.. Open source at work! Thank you!. I think the last cocoapods still had this as private but newest develop and staging branches don't so you could set up your cocoapods like I describe here: \nhttps://stackoverflow.com/questions/51488835/trying-to-upload-audiokit-framework-into-github/51490479#51490479\ncan you try this and reopen this issue if necessary?. Hmm, that looks right, so maybe cocoapods is putting the header files in a weird place?  I'm not sure. Can you get by without using Cocoapods?. Huh, optimistic, but scared of 3's?  Why didn't it get 4.3?. I'm going to assign this to @megastep and myself as something to resolve on next release.  I really want to make the Audiokit UI repo dynamic anyway, which will affect this.. Can somebody verify whether this is a problem with AudioKit 4.5.1?  Reopen the issue if necessary, or make a new one as I'm not sure what action needs to be taken here.. I think you need to run pod install, I don't get those errors with your repo.. Also, you might want to do a deep clean on your project. cmd-shift-k. I am running the latest version of Xcode10 and Mojave.  Do you want to do a screen share with me today?. A prebuilt framework will only be available when Xcode is out of beta, but you can use Xcode 10 to make your own built framework as described in the Frameworks README file.. Yes, absolutely we will be up to date with Xcode within 24 hours of its release.. Sweet, gotta love the hound.. Hi Juan, I looked into this and I don't see any way of doing it for this sampler.  It is based on Apple's AVAudioUnitSampler which can only, to the best of my knowledge, load audio files into a new instrument, so there's ability filter, clear, or modify the files. I have at least added the ability to get the audioFiles loaded into a sampler for future reference. I hope that helps.. I've made a branch to continue the work on.. Why should I take your credit, its always to good to have proper attribution for changes, so please do submit a PR.  Thanks!. We don't support beta Xcode or Carthage so I'm not sure where to begin to help you out. :). The day it comes out we usually scramble to make a release.. Hey guys, I just got a Mojave/iOS12 test machine so I will be working on this.  I made a few commits last night to develop that allowed to me to compile on Xcode 10.  I didn't get many errors, but maybe I was compiling for iOS11, I'll check later today.. Weird, on Xcode10. I am only getting Umbrella header issues showing up, nothing about final/public. I'm using Xcode 10 beta 5 how about you?. I only really work on the develop branch, and yes that Is what I am saying. . BTW, I'm also on Mojave, so let me know if you are on High Sierra and still having issues with Xcode10.. Thanks!. Thi smight be fixed in develop.  I know its something that we worked on recently with Synth One. Getting duplicates is really strange though, I'm not sure how that's happening.. I think this is fixed as of 4.5.1 or earlier, but if its not let me know.. Its pretty hard to debug this without a sample project, and I\"m not sure that you've found an actual issue with AudioKit or if it is just your implementation.   I have assigned @dave234 to take a look at this and reopen it if he wants.  But, my initial reaction will be to ask you to create a sample project showing the bug and then post a question to StackOverflow.. Usually multiples of 2 means something to do with stereo not being handled properly.. Can you share a project demonstrating this?. Just acknowledging that this is also on StackOverflow: https://stackoverflow.com/questions/51892746/akaudioplayernode-play-crash  \nCould you share a project with me so I can run it myself?. A few people have noticed that relying on the engine.running property is suspect.  Can you share a project?. Just closing until more information is provided. Perhaps best to start a new issue when you have more detail on where the problem happens and how to resolve.  Thanks!. I use the rolling plot daily on an app I am developing, so I know it works.  I am able to change its color no problem.  Could you share a project with me so I can follow up appropriately?  There's not enough information for me to keep this open as an issue, and it probably should have been posted to StackOverflow instead.  Anyway, let me know what I can do to help - a shared project would be best.. Thanks for the kind words. We'd really like to make a second pass at doing MIDI right in a very modern Swifty way.. This is not really very actionable, and I'm trying to pare down the issues, so instead I've added it to our projects: https://github.com/AudioKit/AudioKit/projects/3 and when we do a bit of MIDI overhaul (coming soon) we'll be referring to that.. Thanks!. Definitely seems like it could get more attention in StackOverflow, but would need a tl;dr too. :). Basically it would be great if all our issues were actionable and I'm not really sure what to do here. Could this be broken up into smaller issues?. Verification and reproduction is made easier if you could supply a sample project. A lot of times we'll be given what people feel is the relevant code, but then to start, setup, and prove a project is time consuming.  Could you share a simple project that reproduces the problem?. Hi, I have been on travels, I will get to this asap. Looking at this today.. I was able to run your app on my iPad Pro, I think without issues, but maybe I'm not understanding what the app should be doing.  I updated to the latest AudioKit because I had to do so since I'm on beta operating systems, but other than that I only had to change some \"pause\" to \"stop\" and \"resume\" to \"play\".  I'll close the issue for now, but will reopen on more information.. Thanks!. Not sure how this could have made Travis tests not pass, but I'll accept it since it could not be the cause.. This would be a nice-to-have.  I'm currently working on beefing up our plot capabilities.. I am making great progress with the spectrograph and I've added this as a feature in the projects section: https://github.com/AudioKit/AudioKit/projects/1  I'm trying to use the issues mostly for actionable projects that don't have an owner yet, so I am going to close this issue.  But feel free to check up on my progress here.. Sorry, I was away on travels for a week, I've responded on StackOverflow.. Would you care to make a pull request with the code the way you'd like it to work? It seems like an enhancement and no better person to make that update than the person who will actually use it first.. Cool, I'll close the issue and we can continue the conversation on the pull request when it comes in.  Or if you have more information or requests before the pull request is available, feel free to post here.. How are you deciding that its a  low pass filter and not some other artifact of the stop/start process?  I'll have a look a bit later, just curious as to how you came to that conclusion.. I actually don't think this sounds like a low pass filter, but more like there are more and more samplers playing simultaneously.  The sound becomes louder and more distorted as you continue.  Since AKAppleSampler is a pretty lightweight wrapper around Apple's sampler, I wouldn't be surprised if its an issue we can't resolve.. As it is, I would advise to work around this.  Either run set up automatically when you restart AudioKit or never stop AudioKit, just mute it.  I'm not sure what else I can do so I'll close this for now.. I think its a bit different than that issue in that this one is unlikely due to sample rate. Stop AudioKit and make sure to set up the sampler each time.  Should work alright I'd think?. I answered on StackOverflow which is the proper place for the question, but since it fell under my radar and I didn't reply its okay that you cross posted here.  But I will close it for now since its not really an issue.. Hi, we'd definitely need more context to figure this out.  Its not really an issue until you can prove something is wrong with AudioKit, not just your implementation.  So, please take the question to StackOverflow. Thanks.. Its very difficult to understand your problem, but this is not the forum to discuss this in.  You should post to StackOverflow, and I would suggest instead of giving code samples you provide a sample project on Github.. I have no idea what that that means, but I do know its not an \"issue\" with AudioKit.  You can email at aure at AudioKit dot io or you can pose your question on Stack Overflow.. More information would allow this issue to be acted on.  Like what kind of compatibility issues are you encountering?  How are you attempting to use AudioKit?  Closing the issue until you can tell me more.. And as a further follow up, I have successfully installed the AudioKit app I'm currently working on onto an iPad with iOS 12.. Thanks!\n. Hi Nikita, \nWhile this may be an issue with AudioKit, it may also just be an issue with your implementation.  For those kind of problems, we use StackOverflow.  Please use the information you have provided here and make a post on that website, tagging AudioKit to make sure the team sees it.  It is also helpful, when you have this much code, to provide a project on GitHub or elsewhere for us to download and run ourselves.  So, until we can determine where the problem lies, I will close this issue and look for it on StackOverflow.\nAure. This is more of a question for Stack Overflow, not an issue with AudioKit, please post it over there and tag it with #AudioKit, thanks.. Please ask this question on stack overflow.. Great, make a pull request!. The Synth One repo has its own issue sections though, please post this there, and add a bit of code, I am not sure what you mean.. I don't really feel like you gave enough time for this to be answered on StackOverflow before coming here.  In any event, can you provide a project that exhibits this behavior share via Github or Dropbox?. Develop works on Xcode 10, or else if you're using Cocoapods, you can point to AudioKit's own spec to get access to the latest Xcode 10 build.. A la https://github.com/AudioKit/SongProcessor/blob/develop/Podfile. I see.  I'll get with @megastep on this soon.. @jbmaxwell Make sure the iOS target in your pod file is not still 9.0.  Needs to be 10.0+\n. Today, hopefully.. I'm good with this if Shane is.. I'll test\n. Works for me!. I would like issues to be proven to be problems with AudioKit that can be acted on.  But, with the information you provided I can't tell what that would be.  I'd really like if you could ask the question on StackOverflow and once we narrow the problem down, post an issue here.  Also, provide your implementation details or better yet, a project demonstrating the issue.. Sorry I hadn't seen this pull request till now.. All this discussion doesn't really help me too much. Could someone provide me a project that works with AK 4.2.2 but does not in 4.5.1?  I am happy to fix stuff, I just need actionable items.. @daviddelmonte I'm happy to have a direct look at your project too, if you have the ability to share, publicly or privately. I just want to get to the bottom of this.. Private GitHub invite or dropbox to my GitHub username at my Github username dot com.. I don't get an error with I run your app @curzel-it but I do get the same messages to the log as the microphone example.  The app is running though. Your timer never starts and your tracker has strange values for hopSize and peakCount, but once you fix those, it works.. I'm in personal contact with some of you, but its all too intertwined with implementation and simulator issues, so I'd rather not maintain communication on this particular issue.  StackOverflow, email, or a new specific issue are all fine.. Could you make a pull request for this?  We could get it into AK 4.4.1.  Or at least post some sample code here to show how you'd like it to work?. Thanks for the \"virtual PR\"!. I'll check this out for AK 4.4.1. If you just change it to AKDynamicPlayer, and leave everything else the same, the rate property will work.  Why rate is defined at that AKPlayer level, I do no know.. Actually just AudioKitUI, AudioKit is static and only needs to be linked, not embedded.  Not the installation instructions have changed in 4.4. This will be resolved AudioKit 4.4.1. @eljeff So, I think this change Jeff made for iPhones with higher sample rates is the cause, I haven't yet changed it in AudioKit because I want him to have a second look.. As I mentioned I tagged Jeff to have a look at this, but if you want to make a pull request @francdn, by all means do so.. I believe this is fixed in AudioKit 4.5.1.  Please verify and reopen the issue if it is not.. @andorfermichael Which version are you using, it should be working well in 4.5.2, I'm looking at my iPhoneX running the microphone analysis example right now.  Make sure to clean out your derived data just in case Xcode is finding an old version of AK. If Xcode can find a wrong version and a new working one, it will use the wrong one.. This is a question, not an issue, and as such should be asked on StackOverflow.. I'll check it out and make sure its working in 4.4.1. This appears to work for me with AudioKit 4.4.1 or from the develop branch, so I will close this for now.. It will probably be out tomorrow. You could build from the source on the develop branch.. AudioKitUI is back to being a static library, do the framework instructions were reverted on the develop branch too.  Looks like your copy is still dylib.. Oh thanks, we'll address this in 4.4.1. I fixed a bunch of the playgrounds on develop. . This is not an issue, but a question, which should be posted onto StackOverflow as its answer might be relevant to future users. I'll happily answer over there, okay?. Hmm, AKSlider is showing the property name in playgrounds, but that's macOS, I'll check iOS now.. Yep, you're right.. I have assigned this to @Greenwell but I also made a change so that the label at least shows up (on the bottom, even though it should be on the top). Its possible this is fixed in AudioKit 4.5.1, can you verify?. Reopen this if necessary.. Hi there, I really think its cool that you've made your own sequencer to try to accomplish the file rendering outside of the usual, utilizing midi, which doesn't work in the rendering context.  But I use this issue tracker as a way to organize bug reports and feature requests with AudioKit.  I'd encourage you to follow a few other ways of getting help.  a) Get your questions onto StackOverflow, if they are not there already, b) share a simple project, and if you can't share it publicly, share it with me privately, and c) arrange to have a screen sharing session with me, I'm happy to help as it seems you're putting in the requisite amount of effort to warrant my help (ie. you don't seem like slackers!).  So, unless you can give me a specific thing that is not working with AudioKit (separate from your code), I'll have to close this issue.  Hope to hear from you in other channels soon.. It actually makes one drip sound and then goes crazy with noise.  I made a note on the playground here https://github.com/AudioKit/AudioKit/commit/5e22faa167c50aec19ce2c9c14baa00b23095063 and I'll leave this issue open until its fixed too. . Thanks for the follow through.. Hi there, I am not sure what the issue with AudioKit you are trying to address is.  You should be able to do what you describe.  As this is not necessarily a specific problem with AudioKit but rather an implementation question, I really want to encourage you to ask the questions on StackOverflow.. Every little bit helps! Thanks.. You can send any AKParameter into periodicTrigger, it doesn't have to be a constant.  What is Synth.frequency?  In any event, I don't think this is a well defined issue with AudioKit but rather an implementation question. I'd much rather have this conversation on StackOverflow, and I can also offer to screen share with you.  But, I will close this as an issue unless we find a specific bug to deal with.. Well, that's actionable, so I'll have a look this week.. Hey, could you provide an example playground or project that doesn't work?  It seems too for me.  Here's an extension that you might like, please let me know if it works and I'll add it to AudioKit:\nextension AKParameter {\n    /// Inversion of parameters\n    ///\n    public func inversed() -> AKOperation {\n        return AKOperation(module: \"/\", inputs: 1.0, self)\n    }\n}\nI'll close the issue for now since I can't replicate and this solution might work.  You can feel free to continue to comment here.. Thanks!. You haven't missed anything, except that it would be great if you could provide more information like what the crash log said the crash was due to. If you have the ability to share a simple project that replicates the crash, that's the fast way to have someone here address it.. What's strange about this is that your code is Swift but the error is objective-C.  setPosition is defined in an extension that it looks like might need to be preceded with @objc as of swift4. I'll add that. I don't know why this would affect the Swift however. . This appears to be fixed.. Yeah, I tested it in a playground. Can you send me an invite to the project where its not working?. Thanks for the failing project.  This made it pretty easy to fix, though I don't understand why it fixes it.. Hi there, we do use Github issues mostly for fixing things in AudioKit, not answering general questions.  The reason for this is that we find StackOverflow to be a much better place for questions and answers to be archived.  The creators of both those classes are active on StackOverflow so I'd respectfully like to re-ask the question there. Thanks.. Closed this and asked @dave234 to have a look at https://stackoverflow.com/questions/52734330/when-to-use-aknoderecorded-and-akcliprecorder with me.. You should be able to record sound generated by MIDI in real time, but you can not at this time render a midi file in faster than real time because the MIDI clock is not tied to the samples being pulled through the signal chain. In the future, it would be great to post questions to StackOverflow, and then when a bug or clear direction for a fix is found, post an issue. Thanks!. I think we had some old sample code that had hopSize and peakcount reversed.  Trying leaving those parameters off or use hopsize of 4096 and peakcount of 20.. 44100 / 48000 * 110 = 101. Sounds like a sample frequency mismatch.. I'd love to help but this is not enough information to go on.  I'd like to see the code, which version of AK, what operating system, what device you're using, etc. Feel free to follow up with more info.. Noting that this is also on StackOverflow: https://stackoverflow.com/questions/52765236/use-built-in-microphone-with-audiokit-with-headphones-connected but I'll leave this issue open as well. Conversation should happen over on StackOverflow however.. For completeness, which iPhone or iPad are you using. which iPhone is it?. Cool, so if I implement a fix that works on my machine you can test on those? Is there any way you can share with me your project? It can be private and confidential and even just a crashing subset of your work, I just want a test case.. Can you try the Microphone Analysis example in AudioKit on your devices?  From the develop branch?. Given Jeff's comments and the fact the the Microphone Analysis example project works on our test 6s and iPhone X, I don't think that this is a well defined issue with AudioKit.  Implementation questions should probably be done on StackOverflow so that the Jeff's hard work above would have got him SO points!.  Use AKMixer to mix different players into one as demonstrated here:\nhttps://audiokit.io/playgrounds/Basics/Mixing%20Nodes/\nThis is not an issue with AudioKit, so I am closing it.  . Thanks, I was wondering why that wasn't working!. You should be posting questions to StackOverflow. I answered the last one, but I should have referred you to StackOverflow.. Its breaking Travis but I know how to fix. Thanks, and yeah I can see that. These are pretty simple classes to look at the code and make your own version.  I'm redoing the whole plotting environment for an upcoming release so I don't think I'll deal with this now.  I do appreciate pointing it out though.. Thanks.. Since there was no response to @ryanfrancesconi's question, I will close this issue until further information is received.. Related to https://github.com/AudioKit/AudioKit/issues/891 ?. Actually aggregate devices are not supported by AVAudioengine.  We've filed several radars with Apple only to have them closed as won't fix issues. . Assuming this was the AVAudioEngine issue, I'm going to assume we can't really deal with it on our level and I'll close the issue unless I hear different. Thanks!. Please provide a GitHub project showing the problem.. We've tested in AK4.5.2 so until more information is added to this issue, I'll close it.  Make sure you're completely up to date. Thanks!. I'd need more information than this. It looks mostly like you don't have your nodes hooked up right, but you haven't shared that part of your code.. Feel free to reopen with more info.. Thanks a lot.  Great write-up too.. @megastep do you want to change 10.0 to 9.0 in the appropriate spots?. That's fine, thanks for the PR!. Its not an uncommon error to see. Do you have an Audio interface or is this going to the macbook's speakers?. I just ran the code snippet no problem.  Do you by any chance have your audio set to 48K?  Here's my AudioMIDI Setup Audio Devices: \n\n. P.S. if 44.1K fixes it, I still will call it an AK problem and try to write a fix, just want to know all I can.. Mine is a 2018 as well, and I remember changing it, so its probably the default.  We recently fixed a similar issue on the iOS side.. We'll be severely changing the way we deal with microphone soon, so I'll close this issue for now and see if issues arise with the new method.. That's probably something the AudioKit Playgrounds need, can you post your fix as a pull request?  I think I know what to do, but since you found it I figure I'll give you first dibs.. We never liked this module very much because it is just a set of presets that you can get out of AKDistortion too, if you know the numbers that are used.. You could follow the AudioKit source code and make this but I'm not interested to have it in AudioKit, unless you can convince me otherwise.  I'll close the issue, but feel free to post a reply.. That's great! Glad to hear it.  If you want to share it in a pull request I'll have a look.. Thanks!. Working on it, but I am glad there is excitement for this.. This can't be an error in AudioKit because Travis would have caught it.  I just verified its working on my machine as well. Happy to screen share with you, but I'll close this issue unless I get corroborating evidence.. Woohoo!. I don't see how start up time can be affected, core files weren't changed.  What's in the signal chain?. I suppose the string needs to be encoded specially.  this is not my forte but I'll have a look.  Do you have a sample project I could run to see the behavior immediately? (so I don't have to set up a lot of stuff to fix this).. Thanks!. Its probably just a problem with your Mac's microphone set to 48K inside audio midi setup.  We're working to make the mic's sample rate unimportant to AudioKit, but changing it back to 44.1K should make this go away.. What about the simulator's hardware settings? \n\n. Hi Fuad, I'm traveling but will have a look at this when I get back.  Didn't want to leave you hanging. . I am on travels for a bit longer, back next week.. I think @jumbopilot's issue might be different even though the steps to reproduce also contain the one hour wait.  Thing is I don't have any idea where to look for this. We certainly haven't built in any time limits that I know of. In AudioKit 5 we're looking to have more of the session and hardware stuff based in external dependencies from AudioKit because its a very domain specific expertise that other people might be more interested in keeping on top of than I am.. AudioKit v4.5.5 just released should have this fixed @evenbrenna . Thanks!. Which version of Xcode are you using?  Build frameworks is the single most tested part of AudioKit since every time we push a change or make a pull request on Github, that is what is run to compile everything and run the unit tests.  https://travis-ci.org/AudioKit/AudioKit. I can at least confirm that it is how you describe - working on the simulator but not the phone, thanks for pointing this out.. I have tested your test project quite a bit and I can't understand what makes the drip act so strange. It doesn't seem to be at the AudioKit level though, I think its just some strangeness with the underlying STK module.  My options are to either remove it or leave it be in this very unpredictable state. What do you think?. I tried to check out your project but got this:\n\n. It's cool as is, but you could also try the other physical models in AK if you wanted. Nice work, fun game!. Hi, I am back from travels and will have a closer look.. Thanks very much!. Looks cool, I went ahead and accepted since I'm about to get on a plane without internet and I want to try it out.  The Travis failure looks like it could just be an anomaly. . Hi there,\nThis is a general question, not an issue with AudioKit, and probably should be asked on StackOverflow so everyone can fully benefit from the answer.  . Thanks for showing the playgrounds a bit of love!. @megastep How hard will this be to do?. Right.  I think this will be part of a bigger issue of having more external dependencies and doing so well.  This will be sometime in early 2019.  So, I'm willing to keep this in the back of our minds rather than as an issue.. This looks good. Any followups and edits can be added later.. Thank you I love the issue fixing PRs the most!. \u2764\ufe0f . A lot of this is being revamped and should be fixed in an upcoming version of AudioKit.. @davidjaystrauss So 4.5.4 works but 4.5.5 doesn't?  @bernikowich said it was happening in 4.5.2.  I guess I am just not clear on what to fix.  We're revamping all of the hardware integration stuff, but I don't want you all to have to wait on that.. I'm looking into the solution proposed here: https://github.com/AudioKit/AudioKit/issues/1659 which might be relevant to this error as well.  Basically, I think any route change should come with a reinitialization of the AKMicrophone because the sample rate is likely to have changed.  Can you all try the 1659 solution and get back to me?. Hoping this fixes it for everyone: https://github.com/AudioKit/AudioKit/pull/1664 we can reopen if necessary.. Should be addressed by https://github.com/AudioKit/AudioKit/pull/1634 and will be in AudioKit 4.5.7. I think you just need to open up the assistant editor window, but @crashingbooth this is more stack overflow fodder.. Thanks!. Thanks!. Hi this is a question on implementation so you should ask it on stackoverflow to get maximum response.. Great stuff!. Cool!. Feel free to reopen this issue if @ryanfrancesconi isn't correct, otherwise I'll consider this done.. @dave234 If something needs to be reverted then fine, but since this addresses issues, I am going to accept it now.. Apparently there is a problem with the new iPad Pros that Apple is addressing with an iOS update.. Thanks let me know if I need to reopen the issue. Trying to close as many as I can for the new year!. I'm going to assign this to @dave234 with the hope that it will be addressed by some of the things he's working on already.. So cool!. Looks like this is reflected in the follow up pull request to the develop branch, so I'll close this PR.. You can't import Cocoa into a cross platform framework, so this PR is failing.  Also, a little write up would be nice.  Looks like a bunch of disparate good things were added and its only the one problem keeping it from passing tests.. The travis failure looks to be after all the test pass, so I don't think that matters.  Thanks for all the cleanup.. Nice work, not sure if you wanted me to merge this yet, but keep going on a new PR please! :). Works for me. Uh yeah, like there is a lot more information that would be required.  Github issues is mainly used to call attention to a specific problem with AudioKit that is addressable.  At this point we don't even know what your app is doing with AudioKit or what makes the error happen.  Your stack trace doesn't show a hint of an AudioKit element anywhere, as far as I can tell.. This should be addressed but feel free to comment here if it is not. This will be in the next release, this weekend.. Would it be possible you to upgrade to v4.5.x as what you're using is about a year old now and many changes have occurred since then.. What device are you trying this on?  It works for me on both the simulator and on the iPhone X.. Closing until more information is received.  Or else, if the info is relevant to the 1603 issue, we can follow up there.. You're a rock star, thanks Shane.. This should be addressed but feel free to comment here if it is not. This will be in the next release, this weekend.. I need a little more information or an example project to really address this issue.  Like, does this happen if you just have AudioKit project in your build or just if you import AudioKit, or do you have start the engine?  etc. etc.  I'll have to close the issue until I get more information.. Hi there, this is not an issue with AudioKit. It would be better suited as a stack overflow question, but I'll give you a basic answer.  A VU Meter is just an amplitude meter, which can be done with AKAmplitudeTracker, but this looks more like an FFT, which could be done by AKFFTTap.  . I know its not that hard to set up an example project, but it would really help if you could zip one up for us to test. thanks.. On my iPhoneX it crashes on either 4.5.1 or 4.5.6 the same way.. Hopefully this fixes it.. I just put it onto our staging branch which you can use in about an hour using:\nhttps://github.com/AudioKit/SongProcessor/blob/develop/Podfile#L5. AKMicrophone does inherit from NSObject though.. I wonder what a good test is - I could easily remove all @objc from AudioKit.. @KozDan Just for the class declarations? Dynamic vars need the @objc, but methods and inits?. dynamic vars require the @objc for some reason, but I'll test the rest.. @KozDan Looks like a lot of @objc were at least unnecessary, perhaps destructive.. Starting the process: https://github.com/AudioKit/AudioKit/commit/f59da655b035e769e4d9b0e98e8d71621bc50690. I'm definitely seeing cases you need the @objc.. I don't see in this link https://medium.com/ios-os-x-development/swift-and-objective-c-interoperability-2add8e6d6887\nwhere it says not to have both @objc and NSObject inheritance. I'm all for cleaner code, so I'm happy to remove unnecessary text, but other than that, what's the benefit/harm?. Step 6 only provides the two solutions but says nothing about what would be wrong if you did both.  @objcMembers looks cool, but you're right about the swift < 4 question.. Ivan Buhov over on that NativeScript issue said it well \"To make Swift APIs visible by the Objective-C runtime you have to mark them with @objc attribute or to derive from Objective-C interface.\"\n. All I really know is imparted in the comments in the code, which I just looked at, pretty pathetic:\n/// - parameter input: Input node to process\n/// - parameter hopSize: Hop size.\n/// - parameter peakCount: Number of peaks.\n///\n@objc public init(\n    _ input: AKNode? = nil,\n    hopSize: Int = 4_096,\n    peakCount: Int = 20) {\n\nDefinitely seems like a hop size of 10 is problematic, perhaps if I understood it more we could add a minimum.. Still happening in 4.6?. Only an example is breaking, this is just too interesting not to merge and play with. Might make some tweaks along the way.. Thank you!. Woohoo!. I'm going to accept this and then fix the Travis build. Thanks!. AKTimePitch has the \"overlap\" proper and AKPitchShifter has the \"windowSize\" property which can be adjusted and tested.  These are the only two algorithms we currently have in AudioKit.. This is not an issue with AudioKit, but a question, which we normally like to answer on StackOverflow, but to save you the trouble, we don't have output channel support at this time. We should have that this year though.. Hi, this is not really an issue with AudioKit, but a question, which we normally like to answer on StackOverflow.  AudioKit provides basic graphing functionality, but to give it your own flair, you'll need to subclass or copy the code from our plots, and then create graphics in your own style.. That's definitely not an ideal solution, and many applications couldn't be stopped regularly, so I'd like to get to the bottom of this.  Can you provide the most barebones project that exhibits this behavior?. Could you see if simply reinitializing the microphone in the timer works as opposed to restarting AudioKit.  See this issue for reference: https://github.com/AudioKit/AudioKit/issues/1659. Is this a problem with AudioKit?  It seems like you're using AVAudioSession directly.  . Can you provide a sample project for us to reproduce this issue?. I'm using the playground on Xcode 10.1 no problem. Is your microphone set to 48K?  You can check this audio/midi setup. I'm happy to screen share with you if you need help.  . Send me an email with your Apple ID associated email address and I'll message you so share (if you have Mojave), otherwise, if you can sign up for zoom.us, we can do it with that too.. I don't see what this is needed for.. Unfortunately removed all those MIDI files from the project to do so.  I can make a commit that adds the file or you can fix the PR.. Thanks, sorry for the confusion.. Can you supply a sample project and/or make the necessary fixes to the open source microphone code?. I don't know if that's a fair addition to this issue. All iOS 11 devices have 48K microphones now? More info or a new issue please. Thanks.. This is likely that they may have changed the default microphone sample rate between the different OS versions because of the issues defaulting to 48 has caused. Can you try the solution here: https://github.com/AudioKit/AudioKit/issues/1659 and see if that helps? . Also try with this https://github.com/AudioKit/AudioKit/pull/1664, reopen the issue if necessary.. Nice someone is showing interest in the playground, but you should also be aware that they're on the move - the ones you should probably using are here https://github.com/AudioKit/Playgrounds. Thanks!. @CooperCodeComposer CocoaPod for AudioKit 4.6 just pushed. . I looked at the Examples and they work for me. Can you explain the steps to reproduce this?. @megastep is this fixable in the build script? Might be time to talk about moving this example into its own repo and set up with Cocoapods.. Organ.wav is placed in the regular repo in a place accessible to both iOS and macOS projects, but once it gets packaged up both release zips don't have the file.. Thanks, I'll definitely get the changes here over to the new playground if/when that does happen.. BTW, if you make more pull requests, its preferred practice to make them on the develop branch of AudioKit.  This one didn't have any conflicts, but other changes could. Thanks!. I'm sorry that I didn't respond to this earlier. Did you work out the first issue? Can you provide a sample project (even in a private access repo) that I could try this out in?. Next version of AK will have several API updates so I think this is good to get in now. Thanks!. This is a question and not an issue, probably better suited for StackOverflow.. It would be great if you could ask this question on StackOverflow so there could be a more permanent and findable record of the answer. Could you move it there and post a link?. Is this a question about your abilities? I don't know you or your code. :) You should probably ask this question on StackOverflow and provide some details about what you are trying.. Thanks!. Absolutely!  Thanks.. This might have been fixed already in develop, so you can either use that, switch back to 4.5.6 or wait for 4.6.1 which should be soon.. Check this: https://github.com/AudioKit/AudioKit/pull/1681\n. Please check 4.6.1 and reopen this issue if necessary.. Cool, sorry AK didn't do that right.  We're working on a hardware layer that will help this considerably. I'll close this for now.. This is a question, not an issue, and should be asked on StackOverflow, thanks!. Cool. Sorry, will be fixed in the next version.. Will be repaired shortly in develop with a new release hopefully tonight.. This is fixed in develop, as covered here: https://github.com/AudioKit/AudioKit/issues/1695. Will make. a new release soon.. Hi, yeah, I don't know if there's anything we could be doing that processes differently based on output.  But, maybe you could check the sample rate of the devices as it could be they have different rates and AudioKit doesn't handle the switch to different rates.. @francdn Can you try again with 4.6.2?. I think StackOverflow was a better place for this because I do think its inherently an AVAudioSession question.  https://stackoverflow.com/questions/55007926/audiokit-blocking. Agreed, should be fixed now. Thank you.. Hmm, so this affects only two nodes for some reason.  I will check them out to see if they still sound about the same and the precision tests can be updated.. Its just AKPinkNoise and AKPluckedString\n\nPinkNoiseTests\n    \u2717 testAmplitude, XCTAssertTrue failed - fe160cb0de91109574515f9bef8e3286\n    \u2717 testDefault, XCTAssertTrue failed - f5032eb3fc926f68a73fec67e29c6ac7\n    \u2717 testParameterSweep, XCTAssertTrue failed - db9904288c8872a06a87a6d4913eb942\nPluckedStringTests\n    \u2717 testDefault, XCTAssertTrue failed - 382cdbd27558fed9c8723ba435cdb4cf. Actually its just the operation versions which is weird.. Its obviously not doing that for us, so can you provide more information about the environment that you're trying this in?. > Of note...auv3() shows up a lot...\n\nYeah, well AudioKit is AUv3 based, so that's no surprise, not new.. I don't get this crash with the Microphone Analysis MacOS project, could you try that out and see if you get a similar issue?. Unless you can provide more details about your implementation, I will have to close this an issue. Reopen at will of course though, let me know.. Yeah, here's the project. \nhttps://github.com/AudioKit/AudioKit/tree/master/Examples/macOS/MicrophoneAnalysis\nYou might inspire me to elevate it up to its own project so that it can be tried out just with cocoa pods as opposed to compiling AudioKit from source.. Sounds like a good idea to me.  Why not make it so? Its open source!. Thanks!. Thanks to tests actually, it did not pass at first, making this bug pretty clear.\n. This is only added to in tests.  Not only for TravisCI, but locally.  And also, I will be replacing this soon.\n. Well, like I said, this will be changing and going away, so I hate to put more effort into it, but if you wanna, you can.\n. AudioKit produces the same file over and over again, it's never different for different builds, so I got sick of their being a lot of files in that directory.  I have no strong opinion, so if you want it back, I can put it back.\n. The thread version crashes in tests.\n. No idea, and its strange, it will work some of the time, maybe 10%?  And the failures are a variety of unexplained things.  With performSelector it works every time.\n. Should this be Analog Synth X?\n. I don't understand why Xcode is so weird about the handling of items in this list.\n. Did you mean for this change to get committed?  The comment is no longer correct if you want the default to be Longest.\n. This title doesn't match the filename.  Also, there should be no spaces in filenames.\n. Not a biggie, but worth noting, we standardize to let variable:[space]type  like you have in line 62\n. Again, not a biggie, but it we don't normally put spaces in front of or behind parentheses in func or init.\n. Its not obvious to me that to and from should be samples.  Perhaps fromSample: and toSample: ?\n. Indentation?\n. No spaces in the project name please\n. these tests are empty, shouldn't be included\n. these tests are empty\n. The hounds don't like white space at the end of lines, or lines that just contain some spaces when they could be returns.  Its complaining about horizontal white space, not vertical.  Its a minor thing anyway.\n. Wow, this was quite an improvement on a lot of levels.\n. Is this descriptive enough?  I for one wouldn't know what this meant when it appeared in the console.. I'm see a lot of these added commented out prints/logs.  Can't they just be comments?  Were they just around for debug?  Not a big deal, just thought I'd bring it up.  (also, lets always use AKLog and not print so it can be suppressed more easily).. Again, is this descriptive enough?  / Do we need it only for debug?. Can you revert this change?  Good to have the pages in there and it looks like your Xcode just accidentally bashed this.. Since this a trailing closure, can't you just do \nAKTry {\n    try session.setActive(true)\n}. I don't think this is how I implemented it in the end, I think I pointed to the Headers folder generated in the framework because this would contain the headers that were properly accessible once the framework was used whereas the CoreAudio reference would a) not pick them all up and b) may accidentally see a file that wasn't actually included with AK (unlikely but possible).. I'm happy to accept this PR and have another be created as time becomes available.. I think this is too bleeding edge.. Can you revert this to static?. ",
    "narner": "I made the change in the project without fixing it in the Workspace. Will address. \n. Did not realize my changes were seen automatically in the workspace. Will re-commit changes in new branch. \n. Right; that makes sense. I haven't been able to find anything on it either way, so I guess it would be best not to make the changes until we know for sure. \n. @megastep For sure; I sent him a message about it. Thanks for taking a look though!\n. Did you follow all of the steps in the 'Installation Screencasts and Walkthroughs' section on the website? http://audiokit.io/tutorials/\n. This is super useful, Stephane! \n. Crud, my mistake. I'll fix this in a bit! \n. Looks like Travis is happy with me again :)\n. @megastep I think this makes a lot of sense, but we may have to consider the fact that Apple reserves two letter prefixes for framework classes. Maybe something like AKI as a prefix for AKInstrument classes, etc. \n. Typo, fixing now. \n. Ah yes, of course!\nI'm thinking it may be worthwhile to add a small section for that on either the FAQ, or a small Tutorial page showing how to check your changes before committing them. I'll add that as a Trello card. \n. @megastep Try triggering a rebuild on Travis; there have been times where I've seen it fail on Travis but passed on my machine, and a rebuild showed nothing was wrong. \n.  AKMoogVCF, AKStringResonator, AKLowPassFilter, AKHighPassFilter, AKDecimator, AKBandPassButterworthFilter, AKBandRejectButterworthFilter, AKVibes, AKHighPassButterworthFilter, AKLowPassButterworthFilter\n. @aure Naming issue resolved with latest commit. Passed Travis check locally. \n. When you say 'the app is not doing anything at all', you are referring to the AudioKitDemo, correct?\n. Yes, it is possible to do synchronize data with sound. However, the AudioKit Users Group (https://groups.google.com/forum/#!forum/audiokit) is a better place to discuss that, rather then on GitHub.\n. @elioscordo Here's a link to the already released app that uses AudioKit: https://itunes.apple.com/WebObjects/MZStore.woa/wa/viewSoftware?id=975407337\n. @elioscordo Thank you; we can't wait to see what you make!\n. Hi @lufutu! Just an FYI, here's the link for the AudioKit Users Google Group.\n. Thanks for adding this @dclelland, I'm looking forward to hearing how it sounds!\n. Adding @megastep as a watcher on this one\n. Hi @nor-bu, what exactly is the issue with the Harmonizer Example? \n. I'd definitely agree with that...this looks awesome @megastep! \n. @Yanakyl That's good to know...definitely sounds like more of a bug with the simulator than with anything else. \n. Pining @aure to make sure he sees this one. \n. @olexl If you're comfortable with adding it yourself and making a pull-request, feel free to. If you're not, I can add this note in the INSTALL.md file. \n. This sounds a lot like this issue that was reported the other day: https://github.com/audiokit/AudioKit/issues/336\n@modulusMathews, try switching to the develop branch and seeing if that helps at all\n. Hi @blazejchwiecko, sounds like a cool project! Are you able to tell what specific line in your code the crash occurs at? \n. Hi Florian, \nYou'll want to take a look at the documentation for AKMixer. \nThere's also a Playground (Mixing Nodes) that shows you how to mix audio files using AKMixer. \n. Glad you got it figured out!\n. Hey @floriannagel that is odd. Can you attach a snippet of your code? Thanks!\n. @floriannagel, can you add in the thread error to your comment above? Thanks!\n. @aure I've pulled from develop, deleted the Derived Data folder, and rebuilt the framework in the OS X playgrounds. Seeing errors like this: \nAKAudioPlayer Warning:  \"guitarloop.wav\" is an empty file\n. @aure All working as expected. Thanks for catching that. \n. @ukelady Hey there, can you provide some detail on the problem you're having? \n. @ukelady Ahh I know what the problem is. It looks \"Rendered Documentation\" is turned off. I'm not sure why, as I made a pull request enabling documentation to be rendered by default (https://github.com/audiokit/AudioKit/pull/403). But glad things are working for you!\n. @aure I removed those blank files for the time being, and added some presets for some effects. \nIt looks like the build is failing at the moment though because the new Table Test Instrument isn't importing AKFoundation.h.\n. Yes, it is possible. But you'll have to write some code first - try looking at the example projects to get started. If you get stuck, take a look at the forum and post a question there. . Hey @aure, let me know if you want any help testing a spectrogram feature at all - would be perfect for something I'm currently working on (that already uses AudioKit in it).. Cool; let me try this on my colleague's machine (I'm on the Mojave Beta); and then I'll update & close.. (Trying with that commit fixed the issue; thanks!). I think this may be incorrect - this is just a space between methods. \n. ...same as above comment. \n. ",
    "dreamwieber": "Late response here: Hard restart of my system fixed the issue :| \nNot sure what the root cause was, but marking as closed.\n. Actually, never mind -- issue still present on restart. \n. Doesn't seem to matter which simulated device is used. \n. Perhaps tomorrow... What time zone are you in? \nI deleted sound flower just in case that was an issue -- might be easier for me to try and record a sample of the audio than it will be to coordinate a screen share...\nSent from my iPhone\n\nOn Nov 15, 2014, at 7:31 PM, Aurelius Prochazka notifications@github.com wrote:\nLet me again offer to screen share with you. I'd like to be able to hear the problem.\n\u2014\nReply to this email directly or view it on GitHub.\n. Hi Aure,\n\nI took a screen capture to demonstrate:\nhttp://media.gregwieber.com.s3.amazonaws.com/uploads/ScreenFlow.m4v\nHope to connect online at some point, but I have a young baby so my time in front of computer is a bit random right now :)\nSounds dirty right? On the device it's a much warmer tone. \nProject Settings are default / unchanged from the github repository. \n. Here's the log file: http://media.gregwieber.com.s3.amazonaws.com/uploads/csound_log.txt\n. Unfortunately no. I'll try to find some time this weekend to send over a sample from one of the other project's audio.\nBest,\nGreg \nSent from my iPhone\n\nOn Dec 18, 2014, at 8:29 PM, Aurelius Prochazka notifications@github.com wrote:\nHi there, I have a pretty good idea now what this could be and it's not at all obvious. Simple question, do you use an AppleTV or other AirPlay enabled device? If you do, then the sound coming from the simulator is likely to be extremely quiet and distorted. Let me know.\nAure\n\u2014\nReply to this email directly or view it on GitHub.\n. \n",
    "cerkut": "Fixed indeed. Then csound asks for the envar RAWWAVE_PATH to load the STK samples. Manually setting it (from an old project) advances, but runCsound makes a EXC_BAD_ACCESS during\nint ret = csoundCompile(cs, 5, argv);\nConsole does not give a hint, \n\nvirtual_keyboard real time MIDI plugin for Csound\n0dBFS level = 32768.0\nCsound version 6.04 (double samples) Dec  1 2014\nlibsndfile-1.0.25\n(lldb) \nWill check further. Thanks.\n. I am Yosemite too, the deployment target was set to 10.9 by default, though I changed it to try out 10.8 and 10.7.\nDid not know about screenhero, just installed it, ready to tackle the Mac examples. \n\nOn 19 Dec 2014, at 17:41, Aurelius Prochazka notifications@github.com wrote:\nYes, the Mac examples are more difficult than the iOS ones to get running, but I thought I had made it painless - clearly not! But, we'll get to the bottom of this. I am on Yosemite, so it's possible that the issue could be 10.9 related. If you want any help fixing these issues together I can screenhero (screenhero.com) with you whenever you have time. I am free most of today if you have any time.\nAure\n\u2014\nReply to this email directly or view it on GitHub.\n. Thanks, all examples working. Made a PullReq. Closing the issue. \n. \n",
    "Nikolozi": "Hi Aure,\nThanks for the quick response. The funniest thing happened to me just now. As I was writing the response, describing that I don't use audio interface and don't have any drivers installed, it hit me that I have Apogee's MiC connected to my iMac via USB. I thought I'd disconnect it and see if it solves anything. Sure enough, the Mac examples started working. As soon as I connect it back they stop working.\nI wonder if the example apps automatically pick the MiC as an audio interface to output sound and fail obviously since it doesn't support audio output? And as a follow up question, is there a facility in AudioKit to choose an output device if multiple audio interfaces are connected to a mac?\nCheers\nNiko\n. Good idea regarding closing the issue. It's not something I need resolved right now. I can simply disconnect the MiC when I'm working with AudioKit stuff. If I ever need it resolved I'll re-open it as a separate issue.\nCheers\nNiko\n. ",
    "gritd": "I think it has something to do with multiple sound cards and cSound selecting the wrong default, I looked up the correct outputs in the csoundQT tool and added -i and -o arguments like this in the line above the error:\nchar argv[5] = { \"csound\", \"-+ignore_csopts=0\",\n            \"-+rtaudio=coreaudio -i=adc0 -o=dac0\",\"-b256\", (char)[csdFilePath\n                                                    cStringUsingEncoding:NSASCIIStringEncoding]};\n(adc0 for microphone input and dac0 for built-in output in my case)\nAll is now working perfectly.\n. ",
    "tomByrer": "http://www.kvraudio.com/forum/viewforum.php?f=33\n. ",
    "Breno709": "thanks a lot!\n. ",
    "adambmedia": "I couldn\u2019t use AKPhasor as the index argument in AKTableValueControl as follows:\nAKTableValueControl *tableRead;\ntableRead = [[AKTableValueControl alloc] initWithFunctionTable:myTable atIndex:myPhasorControl];\n-adam\n\nAdam Boulanger\nco-founder, Hear For Yourself\nt. 617-990-2704\ne. adam@hearforyourself.com\nw. www.adamboulanger.com\nOn January 21, 2015 at 3:50:31 PM, Aurelius Prochazka (notifications@github.com) wrote:\nReviewing this now. AKPhasingControl was removed from AudioKit because AKPhasor can be used at k-rate without issue as part of rate agnosticism. I don't think its needed. Please rename AKExponentialCurvesVariableGrowth toe AKVariableGrowthExponentialCurves.\n\u2014\nReply to this email directly or view it on GitHub.\n. Don\u2019t you think AKVariableGrowthExponentialCurves is inferior in terms of autocomplete? \u00a0I\u2019m reaching for an exponential curve not a variable growth.\n-adam\n\nAdam Boulanger\nco-founder, Hear For Yourself\nt. 617-990-2704\ne. adam@hearforyourself.com\nw. www.adamboulanger.com\nOn January 21, 2015 at 3:50:31 PM, Aurelius Prochazka (notifications@github.com) wrote:\nReviewing this now. AKPhasingControl was removed from AudioKit because AKPhasor can be used at k-rate without issue as part of rate agnosticism. I don't think its needed. Please rename AKExponentialCurvesVariableGrowth toe AKVariableGrowthExponentialCurves.\n\u2014\nReply to this email directly or view it on GitHub.\n. Hmmm, there is a better name here but not VariableGrowth. \u00a0I needed something where I could customize the second order derivative of an otherwise exponential curve. \u00a0The existing exponential curves where insufficient. \u00a0It\u2019s the difference between GEN 16 and 25 and its a big difference.\n-adam\n\nAdam Boulanger\nco-founder, Hear For Yourself\nt. 617-990-2704\ne. adam@hearforyourself.com\nw. www.adamboulanger.com\nOn January 21, 2015 at 3:57:14 PM, Aurelius Prochazka (notifications@github.com) wrote:\nDo you need to have \"VariableGrowth\" in these names at all, why not just AKExponentialCurves?\n\u2014\nReply to this email directly or view it on GitHub.\n. A Linear Envelope makes sense as a thing because its concise and is readable. \u00a0When we\u2019re talking about similar classes with nuanced mathematical differences, that rationale falls apart. \u00a0The result is that you\u2019re constantly checking he docs because autocomplete fails you. \u00a0For instance, the thought process when designing sound is\n1. I know what kind of function I want, it\u2019s an exponential curve where I can control the bend\n2. is that, growth, derivative, inflection point, gah, all are equally appropriate, which ones did audiokit choose\n3. google or look at the documentation\nBetter is, I type expon... and tab through the possibilities. \u00a0Actually, this way, I may discover alternatives.\nMakes sense, no? -adam\n\nAdam Boulanger\nco-founder, Hear For Yourself\nt. 617-990-2704\ne. adam@hearforyourself.com\nw. www.adamboulanger.com\nOn January 21, 2015 at 3:57:14 PM, Aurelius Prochazka (notifications@github.com) wrote:\nDo you need to have \"VariableGrowth\" in these names at all, why not just AKExponentialCurves?\n\u2014\nReply to this email directly or view it on GitHub.\n. You would still argue that it is human readable. -adam\n\nAdam Boulanger\nco-founder, Hear For Yourself\nt. 617-990-2704\ne. adam@hearforyourself.com\nw. www.adamboulanger.com\nOn January 21, 2015 at 4:02:14 PM, Aurelius Prochazka (notifications@github.com) wrote:\nAudioKit has human readable class names not alphabetical ones. Otherwise we'd be naming things AKEnvelopeLinear instead of AKLinearEnvelope, etc.\n\u2014\nReply to this email directly or view it on GitHub.\n. Totally makes sense. I\u2019m naming to describe what the thing does and how it would be imagined by someone wanting to use it and looking for it. Where do you see a historical reference to GEN routine naming, which is just a number, no? -adam\n\nAdam Boulanger\nco-founder, Hear For Yourself\nt. 617-990-2704\ne. adam@hearforyourself.com\nw. www.adamboulanger.com\nOn January 21, 2015 at 3:57:14 PM, Aurelius Prochazka (notifications@github.com) wrote:\nDo you need to have \"VariableGrowth\" in these names at all, why not just AKExponentialCurves?\n\u2014\nReply to this email directly or view it on GitHub.\n. Variable growth does make the most sense.\n. ",
    "arsone": "Looks like it was an amplitude summing problem on my end. Apologies - fixed my code and am closing the issue. There are still some irregularities with audio output in Simulator, although they seem to be universal and not specific to AudioKit.\n. This could actually be a huge feature request. Excited about the possibility of doing multitrack recording with audiokit, particularly if an AKAudioRecorder can be attached to each node (or even custom group of nodes).\n. ",
    "thisandagain": "Good catch. What is curious is that removing the change to argv within CsoundObj.m and updating the plist seems to result in the same exception being thrown. In this case, CsOptions within the csd being generated looks like this:\nxml\n<CsOptions>\n-o dac0           ; Write sound to the host audio output\n--expression-opt  ; Enable expression optimizations\n-m0               ; Print raw amplitudes\n-i adc0           ; Request sound from the host audio input device\n</CsOptions>\nOptions should be recognized as -+ignore_csopts=0 is set. Any thoughts as to why this option would seemingly be ignored? I'll keep digging this evening (PST) as well.\n. ",
    "niklassaers": "2.0.1? :-) As it stands, Audiokit doesn't compile with Cocoapods. The workaround I mentioned doesn't work for Swift projects that need to enable module support, so in that case it's won't compile at all.\nI'd prefer the version bump to not compiling, but if you don't want to bump the version you could make the change in the podspec and then ask the user to point to your repo in the podfile in the README.md :-) For now I'll clone and send you a pull request for a version that includes the dependency, and can be included via a \"pod 'AudioKit', :git => 'https://github.com/audiokit/AudioKit.git'\"\n. I've digged a bit more into that missing header, and it seems that while stdlib.h is as expected in /Applications/Xcode62.app/Contents/Developer/Platforms/iPhoneOS.platform/Developer/SDKs/iPhoneOS.sdk/usr/include/stdlib.h, iostream.h is in /Applications/Xcode62.app/Contents/Developer/Platforms/iPhoneOS.platform/Developer/SDKs/iPhoneOS.sdk/usr/include/c++/4.2.1/backward/iostream.h\nI don't know what this 4.2.1/backward directory is. But I expect it could be added to the podspec file as an include dir? Do you have a suggestion?\n. (I should add that the includes in question are iostream, string, vector, map, fstream and sstream. Long list! Has regular C++ been deprecated? ;-) )\n. Ok, cool that you'll be joining the test jam! :-) I posted a question on Stack Overflow: http://stackoverflow.com/questions/29501154/cocoapods-spec-that-uses-c-and-compiles-as-a-framework\n. Hi Peter, thanks for the quick reply. (sorry for my slow reply, I'll monitor the thread more closely now :-) )\nThe error is the same still.\nI'm poking a bit at it and have a setup for it, so if you want to do some screen sharing or quick exchange of ideas, you can catch me on Skype as niklassaers\n. Hmm, perhaps I had something cached, because now it asks for CsoundObj.h instead. :-) (from AKManager.h)\n. Fixed that one, will send you a pull request soon\n. Pull request sent :-)\n. PS, thank you soo much for your quick reply and update to the podspec :-) (and for all the good work you put into AudioKit)\n. This is with master checked out today (of Examples). I've made another diff that just keeps a single frequency: https://www.dropbox.com/s/bmja9ppzk3hxx1q/AKFMOscillator_issue_diff2.diff?dl=0  I would capture the audio, but for some reason my audio recording went all silent. I'll make a sound recording as soon as I've got that one back online :-)\n. Here is sine: https://www.dropbox.com/s/m6jtc0omzij5ot2/Sine.mov?dl=0\nHere is square: https://www.dropbox.com/s/l8iytfgl1en0q78/Square.mov?dl=0\n. Hmm, while it did sound the same to me, now that I switch a bit back and forth, it doesn't sound all that alike. I'll try narrowing it further a bit. :-)\n. For what it's worth, what I was trying to recreate was how this sound https://www.dropbox.com/s/aplivwwl7zwoek9/Harmonic-no-adsr.mov?dl=0 morphs to this sound https://www.dropbox.com/s/r3bms8lpgac3f08/Harmonic-with-adsr.mov?dl=0 when all I do is add the ADSR instead of setting the amplitude directly.\n. (I'll work out an example and post it in the group, this does not seem to be an issue like I thought it was)\n. ",
    "megastep": "It is true that I used to get more of these warnings before upgrading to AudioKit 2.0, so it appears that it has gotten better with that new release. I'm only using the iOS side of things so I haven't tried compiling the OS X side of the library in my project, but this was the only warning I was still getting with the current code.\n. Sure, the only reason I used @dynamic was because Xcode basically suggested to do that. It's probably not necessary if the property is properly declared in the parent class. I can amend the commits here.\n. OK, new commit should take care of this!\n. In the develop branch, we now have an AKSettings class encapsulating the contents of the plist, so you now need to get the proper attribute from the singleton object instead of parsing the plist.\n. And actually, looking at the current state of the code, it already mirrors what you patch does so no further action is needed on develop. :)\n. Thanks! :) By the way, I was wondering whether it would make sense to make a call to [AKManager addBinding:self] directly from within the constructor in these classes. This would make it unnecessary to do it manually otherwise... And this way all you'd have to do to get a functional display is to connect it in the storyboard. \n. I could do that. Actually just looking at the code I think it would make more sense to do the binding in didMoveToSuperview: so that the init is fully done. I don't see an unbind method on AKManager, is that intentional? It would make sense to also remove it once the view is deleted or gone.\n. Yeah, there's definitely room for improvement still as I noticed a lot of duplicated code between all those classes as I was going through them.\nI tried to stick with the UI code as much as possible instead of messing with the processing code, so I'd have to take a closer look at memory management in there. You definitely don't want to use one of these views and have them slowly killing your app by leaking memory. :) It's a good habit when using something like malloc() to write the corresponding free() at the same time so you don't forget later.\n. Another thing I've been considering doing is making a subproject for a static library. It's kinda painful to basically have to re-add every single source file to your project when the structure of the library changes. It would be better solved by an AudioKit framework ideally, but a static library that can be included as a subproject in other projects would work well. We could even have separate iOS and OS X targets as I've seen in some other libraries.\nThis is mostly Xcode configuration stuff though, shouldn't really affect the code of the library itself. For a good example of that, I've been using the ObjectAL project as an audio library in my own apps for a while (obviously I want to switch to AudioKit!) and that's how it's structured.\nhttps://github.com/megastep/ObjectAL-for-iPhone\n. I think I'll tackle the malloc() abuse first, seems to be mostly in the plot classes with a couple of other classes. I think I have a good solution for that using NSData instead. Better to go the Objective-C way and let ARC handle that for you.\n. That's a great idea to \"graduate\" these classes to AKFoundation, however I don't think I'm confident enough yet to say that they are ready for this at the moment.\nMainly, several of these classes have not been implemented fully (some not at all) on OS X. Additionally, I've mainly tested the ones that are in the iOS version AudioKitDemo, and several of these classes are not even used in that app. The OS X side of things really needs to be tested more.\nI think first we should have a test case (maybe just an extension of the AudioKitDemo) that features every single plot class so we can test them all on both iOS and OS X. I'm sure there are some issues left here and there... Then once we have made sure they are at least functional on those, then we can confidently add them to the foundation.\n. I also just updated the OS X code of CsoundObj but I'm wondering why we even have that? Shouldn't it be mostly the same? Seems confusing to have a separate file for mostly platform-independent code. Also I noticed that you were using @autoreleasepool on that platform in some of the methods. Might want to double check with the iOS side of things.\n. TPCircularBuffer.c is definitely included in the AudioKit repository. Maybe for some reason it is not getting compiled because it's a C file and not an Objective-C module?\n. Not to nitpick here, but I see it's still in the Swift version. :smile: \nIt's helping though, I'm greatly simplifying these demo projects with the static library and going through them one by one.\n. I haven't tried it because it's a pain to merge back the changes you make to the Xcode project in my branch later, but I'm pretty sure there can be linking clashes between Swift and Objective-C classes. But yeah better all of these demos to be consistent.\n. Yeah, we can tackle that later. Right now I'm just trying to get the static lib version to compile and run properly.\n. OK, yeah the \"simpler\" aspect here is to keep up with library changes. There's still the one-time setup of your project which is arguably a little bit more involved. But in the end it is cleaner. And it will probably get easier once we have an actual framework with the headers and library all in one place.\nI agree we need to rework AudioKit.plist, I kept it the way it is for now. Ideally, I think it should be entirely optional, and the reasonable defaults (from the file distributed with AudioKit) should be in the code itself if the file can't be found. So people would only need to provide the file if they need to change any of the defaults.\nWhat I would do is create a new class to abstract these preferences, say AKPreferences, which would have properties for each of the values in the plist, would be in charge of loading it when needed, and would be shared/references by all the other classes. This would probably be a good change to accompany this.\n. Another thing you may want to consider for v2.1, since OS X 10.10.3 and iOS 8.3 just got released today. I'm sure the final version of Xcode 6.3 will be available at any moment now, with its massive improvements to Swift and new Objective-C qualifiers that can be applied to the API to make it easier to deal with in Swift. Basically you can specify which properties/arguments can't be nil, etc.\n. BTW is it ok if I add stuff to the Trello boards?\n. Might want to double-check my changes in AKTable.m, not sure if these are actually solving (or breaking) anything.\n. Quite possibly, I hadn't thought about that and it does share some of the same problems. I can take a look at it later. Did this patch fix your earlier problems though? I hear the sine waves in the HelloWorld projects, but not too sure about the output from the AKTable tests.\n. It's compiling now but failing when trying to run the test.\n. This is gonna be a problem:\n2015-04-19 04:16:14.229 Math[953:2b03] AuHAL Module: found 0 input device(s):\n2015-04-19 04:16:14.231 Math[953:2b03] selected input device: (null)\n. I'm gonna make further changes so that it uses the dummy driver when running within Travis CI. Should at least avoid these crashes.\n. Well maybe it would be good if [AKOrchestra start] itself was blocking, so that you could safely assume that it is fully started by the time the function call ends.\n. Maybe we can just get rid of all these spin-loops; warts and all, runOrchestra, which is called from [AKOrchestra start], already does that, so at best they seem already redundant.\n. Yeah I think something might have gone wrong when I merged your latest changes into this branch, should probably double-check the OS X test project.\n. Yeah, we could do that but I'm gonna take a shot at improving the way the drawing is done here. That's the crux of the issue - for every redraw, it draws thousands of line segments, many of which will never be visible. Maybe we can even have some kind of bitmap cache so that only the new samples are drawn.\n. Since the library's structure has changed quite a bit since 2.0, especially when it comes to the static library and its assortment of dependencies, it's not a surprise that this would be currently broken. We were actually hoping that CocoaPods users might help us fix this. ;)\n. Actually I see quite a few references in the pod spec to some old files. Let me try to commit a fix for that and see if it helps...\n. Can you try the pod spec on the develop branch and see if it's any better?\n. Looks good to me, but I'm rather deferring to @aure on merging that one.\n. I would guess that you probably forgot to include the CsoundLib.framework in your app, since it seems like it can't be loaded. You also need to include the run script build phase as explained in the instructions (check out INSTALL-OSX.md).\n. Cool, I'm sure we'll revisit some of that as we put the framework together.\n. Also the CI builds fail now. ;)\n. Looks good!\n. I'd personally be in favor of exploring how these classes/files could be merged to avoid spreading functionality around, or otherwise use a longer prefix, like AKInstrument... but that would be rather cumbersome.\n. Well I am looking into this, and for the instruments, I see that most of them have a separate ...Note class defined in the same file. I wonder if there's a real justification for exposing these since they seem to only be used within the module for the instrument itself, and there doesn't seem to be a way to use these in the APIs otherwise?\nFor instance look at the current Mandolin and MandolinNote classes. It seems like the note class is only used once in the initializer for Mandolin. Would it make sense to consolidate the code to the Mandolin class if the note is not really usable by end users? Or am I missing something?\n. Sure - but how would a user go about using, say the MandolinNote class? I see that it's a subclass of AKNote but where are the extra attributes it includes used outside of the Mandolin class? I see that it is used to encapsulate some of the attributes created when the Mandolin is created, but it doesn't seem to be used anywhere else...\nI guess this would make more sense if this was indeed intended to be used as example code that the user can then mess with and extend, but as is to me it looks a little bit weird in the library itself.\n. I guess this would make more sense to me if the Mandolin class had a MandolinNote property exposed that the user could interact with, something like this:\n@property (readonly) MandolinNote *note;\nWould that make sense?\n. OK, then maybe my lack of knowledge of the AudioKit API is shining here, so how would we typically go about making the current Mandolin instrument play several MandolinNotes ?\n. OK, so I guess where I'm getting confused is how this differs from the current Mandolin class (before we rename it, not the separate AKMandolin). From what I see, this Mandolin class (in Utilities/Emulation) creates its own AKMandolin, hooks up the properties from the MandolinNote it also created there, and just goes from there. Neither note nor instrument are exposed there.\nSo if I created a Mandolin object (not AKMandolin) I wouldn't have access to the actual AKMandolin it contained to send playNote: to. Since it's actually an AKParameter - not an AKInstrument, I don't think this is possible?\nSorry if I'm being a bit obtuse here, I'm trying to better understand how this all fits together and how we can maybe make it simpler. :)\n. Actually, scratch that last comment, I must have been looking at a different class, Mandolin really is an AKInstrument...\n. Alright, I think I understand this better now. This just highlights how badly we need to clarify these class names. So there's an important difference between the model (AKMandolin) and the instrument (Mandolin) that wraps it. So then it will be better if we rename that class to AKMandolinInstrument so it will make it more obvious how this fits together.\n. On a related note, while we're talking about renaming classes, how about using a ...Model suffix for model classes? So we'd have AKMandolinModel being used by an AKMandolinInstrument. Verbose but probably less confusing.\n. OK, fair enough. Just appending Instrument to the other classes is already a significant step up in clarity. I just committed to rename the rest of the classes, maybe you can merge after CI finishes checking it.\n. Generally, my main objections are with the changes to CsoundObj which tend to use a bit too much #ifdef TRAVIS_CI I think - ideally you want to keep these to a minimum so that such a core class isn't too different from what ends up in the main library.\nI suppose there are things I can make better in this class, most notably making sure the temporary files get deleted (there are notifications we can intercept for that) and double-checking that threading code. Maybe you exposed some edge case there.\n. I think I'll just merge this now, will make it easier to look at these issues closer myself.\n. Hum, lots of odd failures happening in Travis that didn't happen on my system...\n. Actually, I was wondering if the renderToFile:duration: method is supposed to be blocking? I think it might have something to do with this. Your performSelector call would wait for completion, whereas my NSThread code doesn't as is.\nThis could explain how this is getting tested before the file gets a chance to get created properly.\n. These last changes seem to help for me, I no longer get crashes in tests on either iOS or OS X, although some of those tests do fail for me (but that seems to be another issue).\nI also fixed the way the OS X test project was setup, apparently there's no need to duplicate the linking configuration for test target.\nI really wonder if we should change the record:.. APIs to either say that they are blocking, and maybe give an option for them to spawn their own threads? This really depends on what the intended usage for these is, you probably don't want to run Csound on the main thread if you have a UI.\n. Woohoo, Travis passed!\n. Funny that you mention that, we actually use some of EZAudio internally to implement some of the rolling waveform plots in AudioKit.\n. I can't really help you with the CocoaPods issue (that's a Ruby problem). However I would point you to the AudioKitDemo sample project that ships with the library (there's a Swift version), as it uses the rolling waveform plots to show the audio input in the analysis tab.\n. Make sure to follow the instructions here to set up your project (using the static library is easier) : \nhttps://github.com/audiokit/AudioKit/blob/master/INSTALL-iOS.md\n. Yes, you should see that in the analysis tab of the app.\n. You could try in the simulator first, and obviously you will need some source of audio going on through the microphone to see anything.\n. I should add that while AudioKit is now MIT, Csound itself remains under the LGPL. However you can use it in released applications as long as you use the dynamic version of the Csound library (also provided with AudioKit) - but that pretty much restricts you to iOS 8.\n. Getting some very weird Travis failures here - passes just fine on my branch, with the same code. Seems to be something on their servers.\n. That crossed my mind, but then it would fail on my branch too, and it doesn't. The log shows something failing in the simulator.\n. I went to their website to see if they had anything about it since it was a common problem, then they had a blog about this new beta. Nice to see they're trying to bring this up to date.\n. Weird, we seem to have these Travis failures occurring again... Anyway:\n- I don't particularly object to relying on notifications, but if that's something we're gonna do extensively we should probably have some utility class methods on AKManager to make that easier and abstract away some of the cruft. Might even be able to have a utility method there too to help getting the pieces of the messages back.\n- So are instruments and presets completely independent of each others then? I was under the impression that presets were attached to instruments. but I could be wrong. Maybe we can still stick with one player class that can handle both?\n. Interesting, I thought it was the other way around. Anyway, I'm gonna play around with Soundfonts as I need to create my own here. That will give me a better idea of how all of this is structured.\n. Very interesting, then it would make sense for the player to only use presets since they are the visible part of this? The instrument info would be mostly informational.\nAlso it might make sense to have a mono player too. Might be less CPU intensive if the font only has mono samples in it.\n. Looks good, by the way I was wondering about these new notifications. Is it the only place in AudioKit where we need to parse the output from Csound like this, and is this why you need to have a way to handle the messages? I'll probably make some changes to CsoundObj to make this easier.\n. Yeah, I am concerned about what may happen when you have multiple sound fonts for instance (all objects will get the global notifications), or since we now handle all messages. We need to clean this up significantly I think to avoid corruption.\nIt would probably be helpful to know more about the codes that Csound uses to send alongside these messages, we might be able to use them to filter.\n. What platform are you trying to use? We currently don't have Ogg Vorbis support on iOS, only OS X.\n. Funny, I didn't touch that piece of code. That's probably your doing. \ud83d\ude1b\nSent from my iPhone\n\nOn Jul 2, 2015, at 9:42 PM, Aurelius Prochazka notifications@github.com wrote:\nSeems to be a minor warning on one of files from Travis:\n\u26a0\ufe0f /Users/travis/build/audiokit/AudioKit/AudioKit/Sound Fonts/AKSoundFontInstrumentPlayer.m:133:42: values of type 'NSUInteger' should not be used as format arguments; add an explicit cast to 'unsigned long' instead [-Wformat]\n[inputsString appendFormat:@\"%lu, \", _soundFontInstrument.number];\nbut no biggie, will merge.\n\u2014\nReply to this email directly or view it on GitHub.\n. Looks good, I'll take a closer look later.\n. Looks good!\n. Most of AudioKit is still Objective-C at this point, though accessible in Swift.\n. If you get a network connection of any kind, why would we have to care whether it's over a VPN? It should be pretty much transparent to applications.\n. Well that's all fine and dandy, but how is that the job of an audio library?\n. OK, well I can see how that might be confusing, and arguably I know nothing about OSC.\n\nHowever the most any kind of networked audio library should do is worry about establishing and maintaining connections for the purpose of exchanging audio data. That's it. If you're doing anything like trying to set up a VPN, you are doing it wrong. That's the job of the OS, as it should be. We're at the application layer, not the network routing layer.\nThe most I'd like to see in any kind of networked audio as far as AudioKit (or any other audio library, for that matter) do is make sure that it supports IPv6, as Apple is going to start enforcing that apps support that. Anything else is out of the purview of this project.\nYes you can now write VPN and CoreAudio extensions, but these have absolutely nothing to do with each other.\n. I'd just like to emphasize that a properly designed networked library should be as network-agnostic as possible. Sure you want to make sure that it is efficient enough to handle a variety of network conditions, but you don't go about handling details of the operating system unless you absolutely, really need to, and that's just not the case for networked audio.\n. Do you have a link for that? What do you propose to achieve with an extension that is relevant to AudioKit?\nAFAIK protocol-based programming has to do with new design patterns in Swift 2.\n. OK, well I think you're confusing a few things. Again, this new syntax in Swift 2 is very nice in many ways and that blog post shows how protocol extensions can be used to make network code more intuitive. But don't let the Swift \"extension\" syntax fool you, this has absolutely nothing to do with the various extension points in iOS/OS X which are more or less independent apps that integrate in various parts of the system (think share dialogs, custom keyboards, and yes now basically VPN drivers in iOS 9).\nAnd let me be clear: I'm all for networked audio via OSC or any other protocol. It will be a great fit for AudioKit alongside the MIDI support. It just won't need any kind of fancy operating system-level stuff to achieve, beyond the regular networking APIs used in apps.\n. It will be possible to write Audio Units with AudioKit as the engine. We'll make every effort to make the process easier. It's already been done with Csound, so that's the plan.\nThe news with iOS 9 is that it will be possible to package these in apps, to have the AU available in other host apps (such as GarageBand for instance).\n. You're in luck, this was just posted to the Csound mailing list a few minutes ago: :smile: \nhttps://github.com/eddyc/CsoundAU\n. If Csound was easy, there wouldn't be a need for AudioKit. :wink: But this is an interesting proof of concept.\n. That's very likely gonna be in Xcode 7, currently in beta. You could check out their session on the subject:\nhttps://developer.apple.com/videos/wwdc/2015/?id=508\nhttp://asciiwwdc.com/2015/sessions/508 (just text)\n. This is getting rather off-topic, but I can see how it can be confusing terminology in the Apple ecosystem. These words are used with completely different meanings in both the Swift/Objective-C languages and with regards to system components like networking.\nA network protocol is mostly a conceptual definition of how to exchange data over the wire (it's not tied to any language per se). This is very different from the protocol keyword in both Swift and Objective-C, which is about defining interfaces for classes and is thus entirely a language construct. It is very similar to interfaces in Java, or abstract virtual methods in C++.\nSwift also has an extension keyword that allows you to add functionality to pretty much any existing type (be it a class or even a built-in type like Integer). This is also a programming construct that comes in very handy. This doesn't apply to Objective-C. Swift 2 adds a way to extend Swift protocols (again, nothing to do with networking), which allows for some pretty cool new design patterns making programming certain things easier and cleaner.\nAt the same time, since iOS 8 developers have been able to ship app extensions, basically apps within an app, allowing to hook up into the system and other apps via clearly-defined extension points. This is a way for app components to escape the sandbox they are normally confined to. In practice, it is basically a set of APIs that allow developers to write these kinds of extensions (and there are plenty of types of those, and iOS 9 does include Core Audio extensions among others, finally allowing to ship Audio Units on iOS). These extensions have again nothing to do with the extension keyword in Swift, and actually can be written in any language (Objective-C or Swift) as long as the proper APIs are used.\nFor more info, I suggest you look at all the Apple documentation on the subject, there is a lot there and I don't want to take this thread off the rails too much.\n. The way I see it, OSC support would affect what outputs and inputs are available when using AudioKit, as an alternative to just regular iOS/OS X audio. So you could choose to connect and send the audio from your app to another device, or vice versa to receive audio as an alternative input.\nThis should be doable regardless of the type of app you are building with AudioKit, whether it's just a vanilla app or an Audio Unit extension. In that last case, I would imagine that host apps (think GarageBand) would then automatically take advantage of the OSC support via AU extensions using AudioKit.\n. AirPlay is another beast altogether, it's a proprietary Apple technology for transparently streaming audio and not applicable here.\nAgain, any network considerations are solely the purview of the operating system and/or dealing with your network administrator. Absolutely not the job of AudioKit. It is entirely the responsibility of the user to make sure they have a working network connection to do networking of any sort. I'm assuming there's some kind of authentication that happens as part of the protocol, but that's as much as we'd be touching that.\nIf you need to use a VPN, then do so, but this has nothing to do with anything we're dealing with here.\n. I have literally no idea what you are talking about. For the last time: VPNs are of no concern to AudioKit. That's the entire point of virtual networks, to be transparent to applications. If OSC is somehow a crappy insecure protocol that needs to be secured with a VPN, then so be it, but that is not our job to provide that VPN. If our implementation of OSC works with any regular network, it will work with a VPN. That's the entire point of a VPN.\nDo you think that when you connect to a VPN, an application like Safari does anything special to work with it? I guarantee you it doesn't. Nor should we. The OS makes it look like any other network to your apps.\nCan we please drop this? I feel like we've been beating this dead horse for long enough.\n. If you can't understand this simple concept, maybe you should really stop trying to argue it. I never said to leave it to the browser, I was just using it as an example of an application that can work over VPN, without having to do anything special to work. Like every single other networked application. Including AudioKit apps.\nIt is not and never will be our problem if your admin will not allow certain ports - it is 100% the user's responsibility to solve this.\nThere is nothing to do to support VPN in an application. Nothing. So we don't need to talk about this anymore, ok?\n. :+1: \n. Bit code is a new Xcode 7 feature we haven't gotten around to implement yet. I heard that they are starting to enforce this in Beta 3.\nThis is all very beta, so I strongly recommend you stick with Xcode 6 for AudioKit stuff at the moment. We're going to be branching AudioKit at some point over the summer to support all these new features, but it won't be in the mainstream develop branch until Xcode 7 gets out of beta.\n. Oh yes, that's very likely. I didn't think these plots were used in playgrounds so I didn't check.\n. I can merge this and create new binaries later today. As a side note, the libraries become significantly bigger now that I've turned on Bitcode generation for iOS 9... but we can build with Xcode 6 for now.\n. Yeah, it would make sense for that.\n. Are you using the master or develop branch? We actually fixed quite a few problems with this in the develop branch.\n. This does look very suspiciously like something that we fixed later on in the develop branch. You should try to check it out from Github and see if it helps at all.\n. Try again, I just updated the pod spec with references to these new files.\n. This is still failing to compile in Travis...\n. Is there something that Csound does that we could hook into to implement this?\n. The main thing I think CocoaPods doesn't do is configure the run script phase in your project, which is needed for OS X. The INSTALL file for OS X explains how to do this manually. If you don't do it, then you'll get these kinds of errors as your binary won't be able to locate the embedded framework.\nI don't think that the language matters here, you just have to make sure to configure your run script phase. We have some changes slated for Xcode 7 (most notably Swift 2 support and an accompanying AudioKit framework), but this should work right now.\n. This does look like a problem with the compiler itself though (clang).\n. Yeah unfortunately you should try to reinstall Xcode from the App Store from scratch and see if it helps.\n. Unless CocoaPods actually creates the appropriate targets in the Xcode config, I kinda doubt how this actually works. But in any case, this is definitely something we want to add sooner rather than later (probably after 2.3).\n. tvOS support is on our list of things to do for the next version of AudioKit, haven't gotten around to it yet though.\n. Also adding .gitattributes files to set up Git LFS for all the binary files. This way we can do a proper release with Csound 6.06.\n. We have binaries with Bitcode support on the develop branch of the project. These will be released along with the next AudioKit version (2.3), hopefully very soon. But you can get the binaries right here by checking out the develop branch.\n. Interesting, it does pass validation with the latest cocoa pods on my system. I guess they must have fixed that bug that was preventing it from working weeks ago.\n. Very interesting, this definitely sounds like some sort of race condition. We definitely should not have 2 concurrent 'AK Csound' threads, so we need to figure out where this happens in the Mac code.\n. I'll see if I can track this down. Setting a breakpoint on on runCsound: should at least give us an idea of where the two threads get started.\n. I was able to reproduce this on my machine with AudioKitDemo. It crashes with literally a dozen Csound threads, so something is obviously very wrong here.\n. For some reason, MIDIGetNumberOfSources() (in CoreMidi) gets stuck and prevents Csound from finishing its startup, triggering a never ending loop of threads being launched. Wondering what might have changed in El Capitan to make this happen.\n. OK, so this MIDI was probably just on my system. Rebooting fixed it (I have some external USB interface with pretty shady drivers on 10.11). I'm still reproducing actual crashes though, so I'll look into this some more.\n. Yeah, Csound is a pretty nasty piece of work in places. And the crash I just got here seems to happen while we have some code running in the AK thread, while the orchestra is being compiled in the main thread inside of Csound code. So it could very well be some thread safety issue.\nWe are way overdue for a massive cleanup of AKManager / AKOrchestra and the like, maybe this will be our excuse to finally get to it. ;)\n. Yeah, the corruption is quite possibly because of the two threads trying to create the CSD file almost at the same time. I'm adding some checks over here to prevent this from happening, but this seems like a band-aid for the bigger problem.\n. I think I may have a fix, at least it doesn't crash on startup anymore on my system. This should get merged on the develop branch in a little bit.\n. Good to know, there was a race condition where it would keep trying to start the thread if it thought it wasn't started yet. So if the timing was right you could get 2 or more threads started up and conflicting with each other. It was even worse for me yesterday when my MIDI stuff was somehow frozen. The code I added should prevent that from happening now.\n. Interesting, this warning message was recently added so we can tell when we would have previously tried to start multiple threads. The whole thing should be able to work even if you have no MIDI inputs, so I doubt it is related.\nI wonder why Csound doesn't seem to start on your system however, as that's probably why we get that warning message.\n. I wonder if there's a cleaner way to do this, as it does sound like a nasty race condition.\n. It does sound like you didn't set up the libsndfile.framework properly in your project. It should be set up the same way as the CsoundLib.framework in your project, so maybe you just overlooked it.\n. You need to call fetchPresets: on the AKSoundFont object to trigger the actual loading of the data.\n. You should check the value of the loaded property from within the block you give to fetchPresets:, it's quite likely it hasn't actually finished doing the loading by the time you reach your print statement.\nAlso double check that your sf2 file is actually being included in your target so it will be copied with your binary.\n. I think it might actually be simply that AudioKit hasn't been properly initialized first, likely Csound is not able to load the file yet...\n. Mostly you could start by creating an instrument, you can look at AudioKitDemo for some examples of that.\n_instrument = [[AKMidiInstrument alloc] init];\n    _instrument.instrumentNumber = 1;\n    [AKOrchestra addInstrument:_instrument];\n. Do you see any suspicious messages in the console when running the app? Are you talking about your own project or one of the demos?\n. Yeah, you should paste more of the actual logs you get from the compiler here, but I'd guess it probably has very little to do with AudioKit itself and more with the way you set up your project.\n. Also we could upload the zip to 3.0 right now to bring Carthage support for 3.0, though it would make sense to just bring this in with 3.0.1.\n. Mmh, I wonder if it would be possible to do that by sending them a pull request directly and editing the pod specs there.\n. I just did just that, we'll see how that goes. Hopefully somebody just merges it.\n. Also did what we talked about and got rid of the AKSettings bridge in Soundpipe.\n. So there's a bunch of new stuff in this PR now, mostly related to new methods to select inputs.\n. Yes, the framework can be used in Objective-C. We even include a small example project, HelloWorldObjectiveC.\n. I just tried the app on my iPad mini (which is essentially the same hardware as an iPad 2 with a smaller screen), and indeed there is no sound coming out. We'll have to take a closer look at this...\n. @aure it would be nice to do that automatically depending on what kind of hardware is detected, I wonder if there's a way to do this reliably.\n. Actually I think we could just look at the CPU type for this. Likely armv7 is for older 32-bit devices whereas arm64 would cover the more recent and more capable 64-bit processors. We can probably determine that via uname(), assuming it is still safe to use.\n. Actually we don't even need to do that since these are different slices of the same binary. In Objective-C, you could check for the __LP64__ macro for a 64-bit CPU, I'm assuming there's an equivalent in Swift. So basically we'd have different number of voices for 32-bit and 64-bit CPUs.\n. I think it is done in the Conductor class.\n. The class was renamed to AudioKit in 3.0.1, and lost its sharedInstance() method. Everything else should be the same.\n. You don't need the let audiokit ... declaration anymore. You should use AudioKit.output and AudioKit.start() directly (these are now class methods).\n. Incidentally, you don't need to call init() explicitly in Swift, you can just do let oscillator = AKOscillator() above.\n. That's because you need to put this in the body of a method, you are doing it in the main body of a class, which is all wrong. If you're doing a view controller, you could do that inside of a viewDidLoad() method for instance.\n. Thanks for making AudioKit your first try on the platform. :)\n. Actually I had added that workspace to the project to try to get Carthage to work before 0.12, hoping it would pick it up. Since then I thought it was nice to have all 3 architecture projects in the same window to see the changes between them, so I wouldn't mind keeping it around. Does it really get in the way of Carthage?\n. I say that mostly because the individual Xcode projects are further down in the subdirectories.\n. OK, my other main worry was whether this would interfere with our other build scripts, but this seems to be fine.\n. I think I'll do it myself, I'm gonna get the release ready for 3.1.1 anyway and might as well do it at the same time.\n. OK, added a blurb in INSTALL.md in develop, will be in 3.1.1\n. Yeah the current version was built with Xcode 7.3, and Apple has been changing a bunch of things in Swift even between minor versions.\n. You probably need to run the fix-framework.sh script as part of your build process, as outlined in our INSTALL.md document: https://github.com/audiokit/AudioKit/blob/master/Frameworks/INSTALL.md\nI don't think that's something CocoaPods can do for you but it's likely the reason you get these submissions errors. This script at the very least will strip the simulator slices from the framework.\n. Yup, that's all because it also removes the simulator bits from the framework. :)\n. The proper way to generate universal frameworks is to use the build_frameworks.sh script in the Frameworks directory. Is this how you are trying to build the framework? Otherwise you will only get the architecture you selected in Xcode.\n. You don't use it in Xcode, you run it once from a terminal and it builds the frameworks that you then use in your projects. They will be located under Frameworks/AudioKit-iOS, and so on. This is essentially what we release as binary archives.\n. Mostly you want to make sure that the script we include in the framework is properly called in your build phase. We have documentation about that here:\nhttps://github.com/audiokit/AudioKit/blob/master/Frameworks/INSTALL.md\n. This is normal behavior is you are using the Xcode 8 beta. The binaries were built with Xcode 7 so they can actually be used in submitted applications to the App Store currently.\nWe'll have these once Xcode 8 is out of beta, in the meantime you'll have to compile it yourself from source.\n. It's possible the current OS X framework is somewhat broken if that's the one you are trying to install globally. That's probably why we don't have it in CocoaPods right now but fortunately I have a fix for it that will be in 3.3.1.\nFor iOS/tvOS there are requirements when submitting binaries to the App Store (including embedded frameworks) so that we need to strip out the simulator slices from them. This is the main purpose of the fix-frameworks scripts, though it has the added benefit of also making the binaries smaller.\n. @adamnemecek This is the commit that fixes it: https://github.com/audiokit/AudioKit/commit/aa1e759630ddbf7f7229d61f3882f2e747b1a65b\nYou'll still need to rebuild the OS X library yourself with the build_frameworks.sh script there, alternatively you could even use the current OS X binary and simply move out the .dSYM file that's inside the framework. It's the cause of the problems.\n. Your commit with the fix is already in the PR. ;)\n. I just pushed a fix in the fix-frameworks.sh script that should take care of it, you can check it out on the devel branch. It is basically a one-liner that calls plutil to remove these lines.\nI may consider simply re-uploading manually patched frameworks for the current release, are you guys using CocoaPods or the binaries we ship directly?\n. Another thing that occurred to me is that this may be caused by the fact that our scripts build the simulator framework first, and then append the native slices to it. It might be a good idea to try to reverse the order here, so that we start from a valid device framework.\n. Yes, we actually have a workaround in the fix-frameworks.sh script on the devel branch. The next release of AudioKit should fix this more broadly.\n. The issue was because the App Store would reject frameworks that included simulator binary slices, so we had to strip them out so that people could submit it. If this is no longer a requirement, then you could just try skipping the script.\nfix-frameworks.sh is supposed to be called as part of your own build process (in one of the run phases), whereas build_frameworks.sh is the command used to put together the universal frameworks. You typically only run that one once. However I'm thinking we'll probably move the fix for the plist issue into this script since it can be done there.\n. I'm probably gonna do that real soon (if not right now). We need to push out a new version with fixed binary frameworks anyway. Trying to get a bit more clarity on the Carthage issue though.\n. I have just committed a fix to the build_frameworks.sh script that should build correct frameworks now (on the devel branch). This is no longer fixed by the fix-framework.sh script so let me know how this works for you with or without using this script.\nHopefully this fixes the issues and we can release a new version soon.\n. Well that is interesting, and considering it is singling out an i386 slice I wonder if using the fix-frameworks.sh script might help here?\n. Also, we explicitly don't build Bitcode for simulator slices, mostly to save some disk space since it's not a requirement and these slices won't be used for device builds anyway. You could try to enable it and see if it helps by changing ENABLE_BITCODE = NO to YES in simulator.xcconfig, then rebuild the framework.\n. @iSpartak I don't think this is a language issue, rather the error is about verifying Bitcode. Another possibility is that i386 slice - it might just be completely obsolete now, we should try building with just x86_64 since I don't think 32-bit devices are even supported by iOS 9.\n. That is true, and we do build armv7 slices for devices. However I think i386 has been obsoleted in the simulator builds for a good long while...\n. @iSpartak I just committed a possible fix to the simulator configuration, please pull from the devel branch, rebuild the framework and let me know if it helps with submission.\n. @iSpartak then we might be stuck with using the fix-framework.sh script to strip the simulator slices I'm afraid.\n. @iSpartak yeah you do need to run the fix-framework.sh script in your run phase, as the App Store will reject binaries with simulator slices in them.\n. @iSpartak Sorry if this page doesn't explicitly mention it, but the following file linked to it does mention what to do: https://github.com/audiokit/AudioKit/blob/master/Frameworks/INSTALL.md\n@aure we should probably have something about the handling of Bitcode by the script on the downloads page.\n. You really don't want to include the binary framework in your commits here...\n. Thanks for your insights. I assume that this signing of frameworks is new in Xcode 8?\n. I just committed some fixes to the script that builds the framework, maybe you can check it out and let me know if this helps. Maybe Xcode 8 is smarter at handling simulator slices and this could effectively obsolete the fix-framework.sh script.\nI would check this out myself however I don't currently have an AudioKit App Store app ready for submission to try this out. :)\n. @larsacus  Well Carthage should be fetching the zip with compiled frameworks we have from the current version which obviously has some problems. Can you try to build the framework manually from our devel branch and see if it works better before we make a new release?\n. @larsacus Yeah that's to be expected, we explicitly override the required minimum version in the script to build the framework properly. The reason the deployment target is set to iOS 10 in the main configuration is to allow the playgrounds to work in Xcode 8 - it is a requirement for that.\nSo as a trade-off we do it this way and allow the binary frameworks we provide to be correctly built for iOS 9.\n. @larsacus  Are you able to just use the validate button in Xcode instead of fully submitting the build to see if these errors pop up though?\n. Yeah, we have to rebuild the binaries with Xcode 8.1, should happen in the coming days hopefully.\n. Looks like we're making a new release tomorrow which will address this issue.\n. We just released 3.4.3, built with Xcode 8.1. This should address this issue.\n. OK, I guess this is a safer way to do it, though I'm wondering why this is happening to you.. Maybe it's got to do with where he put the run phase calling the script, additionally the current version in the develop branch should first check for the presence of the architectures before attempting to strip them.. I have been getting some rather similar crash reports from users of my own AudioKit app. I wonder if this might be explained by audio session types and the user's particular configuration.. FYI my own crashes look like this: http://crashes.to/s/952f9695c5a\nI see that you are also using Crashlytics so maybe you can compare with the error codes from the exceptions.. @dkun7944 That's code for AVAudioSessionErrorInsufficientPriority, FYI. I had narrowed this down to the compiled architectures included in the framework. We don't include an armv7s slice in them (mostly because it's obsolete), but apparently Xcode complains if it's not present.\nA quick fix is to set your project architectures to exclude armv7s from the \"Valid Architectures\" setting.. You manually replace it with \"arm64 armv7\"\n. Actually, scratch that. Normally $(ARCHS_STANDARD) should expand to just these values anyway. Is it not the case for you?\n. That's rather odd, maybe you have some incorrect settings when submitting or compiling your project. Can you get the exact text of the error reported?\n. Wow, that must be a recent change on the Apple servers being less tolerant of other data files within the framework. I'm pretty sure this was not happening before. That said, you typically need to run that script before submitting. Maybe we should add some commands to automatically purge itself from the build.. I'm surprised about this as I just submitted an app using AudioKit (from CocoaPods) to Apple and didn't get any such errors with the framework.. I always build with the latest official Xcode and use the regular archive and upload. The only difference here is that my app is actually in Objective-C, but really this shouldn't make a difference since the error your get is about the framework itself.\nI think your problem might just be that you are not actually running the fix-framework.sh script in a run phase in your project. It should clean itself out of the final build if you do.\nYou need to call this as part of your build:\n\"$BUILT_PRODUCTS_DIR/$FRAMEWORKS_FOLDER_PATH/AudioKit.framework/fix-framework.sh\"\n. If you can make the pod version easier to use, feel free. :)\nIt's not just the removal though, the script itself does other things and should be called as a matter of course.\n. Let me clarify that the right time to remove the script is not after it got installed from the pod, but rather after it has been run by your target as part of your build process. It only gets removed from the final build product but must stay a part of your build chain. Otherwise you're going to run into a host of other issues when submitting binaries to Apple.. Yeah, I think we can definitely improve on the clarity of some of these instructions. Bitcode has become more ubiquitous these days, so in practice you really want to be calling that script every time now...\n. If you run the script properly in your project in a run phase, it should remove itself from the final build and this won't be a problem.\n. Also Swift 2.3 is both source and binary incompatible with Swift 3, so really no luck here short of migrating your project to Swift 3.\n. Yes, that's because our current CocoaPods setup doesn't use the source from the GitHub branch, but rather the zip file containing the compiled frameworks for that release. So in effect switching the branch won't really work since there won't be a corresponding zip file.\n. Make sure you have the Xcode command-line tools installed, you need the lipo command available for this script.\nYou can do xcode-select --install to install them.. Do you have a weird version of bash on your system? There's no reason you'd get errors unless you're running this script with the wrong shell.\n. This is likely related to debugging information with file paths embedded in the framework.. Thanks for pointing that out. Most people use a case-insensitive HFS filesystem, so this issue probably doesn't show up at all for most people.. This should be fixed in the upcoming 3.5.4 release though. :)\n. We're about to push out a new release which will have binaries built for this version of Swift.. My guess from having that kind of issue with other parts of AudioKit in Objective-C projects is that some types don't always translate to Obj-C at all, and this cascades to excluding some of the APIs using these types. In this case, I would think that the embedded enums used in these APIs is the cause (for example, ExportFormat is a complex enum inside the class extension).\nPersonally I'd be in favor of making AudioKit more open to legacy Objective-C but that comes at the cost of making the project less like a native Swift library - which has its own trade-offs.\n. The script should already remove itself from the archive - I bet you are probably just calling it at the wrong time in your run phase so that it is still there.\n. That must be new then, it certainly wasn't being done automatically by Xcode in previous versions.... Yeah, the binaries for each release are usually built on my Mac so that's why the absolute paths of the files show up with my username in the debug info for the library. Doesn't really mean much beyond that. ;). One important thing to keep in mind between the simulator and the device though, generally speaking: the Mac filesystem is usually not case sensitive (HFS+) whereas the filesystem on the device is. So your file would manage to load on the simulator even if one of the letters is incorrectly capitalized in your path name, whereas it would fail on the device. Something I would look at in this kind of situation.. To be fair, this warning seems to be pointing at a bad practice that Xcode was probably just not pointing out before Xcode 9. I doubt the semantics of the API have changed per se. We should probably fix it and I bet it might explain some of the weird crashes I have been seeing in my apps.. Yeah the current version should have been built with Swift 3.1 which is what is in the current Xcode 8.3.. The most common cause of this kind of error is the run script being called at the wrong time. Specifically you should have a phase that happens after the \"Embed Frameworks\" phase in your project. Is it the case?\nInstructions here: https://github.com/AudioKit/AudioKit/blob/develop/Frameworks/README.md\n. Yeah, the binaries referenced in the pod were compiled with Xcode 8. So you can't use the pod version with Xcode 9, you'll have to build it from source, though that it is easy enough to do with the build_frameworks.sh script in Frameworks.. Actually, that is a problem with Xcode 9 beta 5 that came out yesterday. They broke AVFoundation on macOS and as such you can't build AK for Mac with this version.\nIf you don't need the macOS version, I suggest you specify the PLATFORMS=iOS environment variable before running the build_frameworks.sh script to skip it.\n. The README here should tell you what you need to know: https://github.com/AudioKit/AudioKit/tree/develop/Frameworks\n. We could also just turn off macOS tests until Beta 6 comes out.. Shouldn't this be added to the tvOS project as well?\n. @dave234 Yeah it's pretty much on par with iOS, with very few exceptions.. Well I did check the macOS example and it was indeed still working, however I made a simple change so that the code is closer to the other examples.\n. The develop branch currently holds the Swift 4 version of the library, which we should release sometime next week after Xcode 9 becomes publicly available.\n. Mmh, I wouldn't be surprised if we're missing a few @objc qualifiers in the Swift code. I noticed that for some other classes I was using.\n. We'll likely need to make a new build, I think there's too many of these oversights. Hunting them all down might take some time though.\n. If you use CocoaPods, you now need to use pod 'AudioKit/UI' to get the AudioKitUI framework which implements these classes.\n. Do you mean the Xcode beta? We only release binaries for the current stable release (currently 9.0.1). You'll have to compile them yourself and not use the pod in the meantime if you want to stick with that. Or frankly just use Xcode 9.0.1, the changes in 9.1 are really rather minor...\n. Looks like we're probably just missing some @objc specifiers in these classes. It seems these need to be put in explicitly with Swift 4 and we've been slowly but surely uncovering more classes where that's not the case...\n. Nope, version 4.0.3 was built with Xcode 9.1. You probably have an old cached version of the framework somewhere being picked up.\n. I compiled and uploaded the binaries myself so I think I know. ;) I am specifically talking about the latest AudioKit version 4.0.3, which was compiled in Xcode 9.1 hence with Swift 4.0.2. I can see how it can be confusing with these similar version numbers for different things though.\n. @martinzp You can't just switch the branch for the pod, unfortunately. The AK pod basically just downloads pre-compiled binaries we release, and we don't put those up for the develop branch. Instead you'd have to manually compile the library yourself from a checkout of the source code, using the provided Frameworks/build_frameworks.sh script.. Did you actually follow the instructions here? Sounds like the framework is not included correctly.\nhttps://github.com/AudioKit/AudioKit/blob/master/Frameworks/README.md\n. If you use CocoaPods, you need to make sure you have the AudioKit/UI pod enabled in your Podfile.. Yes.. You need to import the AudioKitUI framework for this class.. If you used the script to compile, look at the value output by xcode-select -print-path - you need to switch the command-line tools to the beta Xcode first, else it will use the compiler from Xcode 9.2.. Ugh... That actually does sound like crashes in the tools, it is an early beta still after all.\n. Version 4.1 is now a static framework, and there's no longer a need for running this script. It's probably a leftover from the previous version. Look at the run phases for the target in your project, and there's probably a script phase calling it. You can safely remove it.\n. Yeah, I noticed that too and updated the build settings for the AudioKit frameworks. It should take effect in the next release (4.1.1 or 4.2, depending) - but in the meantime you can just ignore these warnings if you want to keep using the precompiled binary that the pod fetches.. Starting in 4.1, we now ship AudioKit as a static framework (no longer dynamic). It would appear that this is not supported by Carthage. You could switch to CocoaPods or manually include the framework in your project.\n. Actually I found some compiler options that allows pure Objective-C projects to compile without that dummy file now. The options are set in the pod, and should be in the develop branch for the HelloObjectiveC project.\n. Basically you need to make sure your library search paths include this: \"$(TOOLCHAIN_DIR)/usr/lib/swift/$(PLATFORM_NAME)\"\n. The AudioKit podspec already includes that line so that Objective-C projects using the pod should already link properly out of the box.\n. You need to add -lstdc++ to your linker flags. This is now a requirement with the static library shipping with version 4.1.\n. Thanks for the detailed report, however the main issue here is that we switched from a dynamic framework to a static framework in AudioKit 4.1.\nUnfortunately, this seems to mean that you cannot use Carthage with AudioKit because they only handle dynamic frameworks for now. This is the main reason why you get all of these issues.\nI suggest you either switch to CocoaPods (at least just for AudioKit) or manually include the compiled framework in your project.. Right, a couple of other people have also reported this and we just weren't aware of this limitation when we shipped 4.1. I suppose we'll clarify it in the next release. None of us really do use Carthage :)\n. Apparently there is no way to solve this for Carthage, since they just don't support static frameworks.. That's great news. We still ship the appropriate zip files with the releases which would work with Carthage. Have you tried it with AudioKit?\n. Unfortunately this is no longer correct for a couple of reasons:\n- The Dummy.swift file is no longer included in the example because it is not really needed;\n- There is a better way to do this by setting your library search path to include $(TOOLCHAIN_DIR)/usr/lib/swift/$(PLATFORM_NAME); this is what the pod does.\n. That seems rather unrelated, though to be safe you'd probably want to have $(inherited) in there as well so that it doesn't override any parent setting at the project level.\n. Do we have a test project exhibiting this problem?\n. Actually never mind, I think it should be fixed on develop right now.\n. Also, _private was never allocated as it should have been, causing nil pointer reference in the constructor. Should work now.\n. We could probably bracket these with #if swift(4.1) blocks so it works with both versions.. We should have version 4.2 out in the coming days, that will include binaries that work with Xcode 9.3 and Swift 4.1.\n. The frameworks need to be recompiled with the new Xcode. We actually have a new build coming out soon just for this (version 4.2), so just hold on a little bit longer...\n. It's not that simple, the pod depends on built binaries we upload on GitHub. We don't have them up for the other branches.\n. I bet this is related to changes to the STK code in 4.2 (it's probably failing to load wave files) - I may get around to fixing those later today for 4.2.1.\n. Yeah that would be a quick official release to address issues in 4.2.\n. This is actually my fault with incorrect use of [NSData dataWithBytesNoCopy:]. Easy to fix though.\n. I think it should be fixed in develop right now. Didn't crash in my test project. . That is weird, but I think this might be because we didn't include an i386 simulator slice in this release. We're planning to reintroduce it for 4.2.1 (hopefully out later tonight), because it's still needed if you target iOS 9.\n. Actually I really doubt it, the error message mentions i386 specifically. These are not the same kind of linker errors. . We're just in the middle of pushing 4.2.1 so try it again once it's out.\n. That's odd, I'm pretty sure I had explicitly unchecked that file from compilation in the framework. Actually at least on iOS it still is. Are you using another platform?\n. Actually you know what, I believe the real culprit is actually in md5.c. I think something got messed up when the code was reorganized to that Core directory.\n. But you're right for macOS the file was checked!\n. Fixed in the develop branch, will be in the next build. The mention in md5.c actually doesn't really get compiled unless the TEST macro is defined. So the code is there but not actually at fault.\n. This might have to do with some changes to the way the debug information is included in this release. Supposedly you would get loads of warnings at link time otherwise.\nOn the plus side, since this is a static framework, even though the library itself is big, only the parts you actually use should make it inside your final compiled binary.. Also the reason the iOS version is much bigger than the others is because we have 5 processor slices included (i386, x86_64 for simulators, armv7, armv7s and arm64), whereas other platforms only need 2 usually.\n. We also ran into issues with the size archive for CocoaPods becoming a problem with GitHub... you really shouldn't be checking in compiled binaries in your GitHub repos though!\n. We only provide compiled binaries built with the current non-beta version of Xcode. As such, 4.2.3 was built with Xcode 9.3 and requires Swift 4.1.\nIf AK 4.1 works for your needs, then you should probably stick with that as long as it works in Xcode 9.2. Alternatively, you could try to build the framework from source using our provided script.\n. Well it sucks that it still happening. I don't really want to disable debug symbols altogether as it would make debugging more difficult for our users. I had disabled the Clang setting producing this warning supposedly, so I'm not sure why this keeps happening.\n. These are just warnings and should not prevent you from submitting to the App Store.\n. Maybe you've turned on the setting to treat warnings as errors in your project? In any case, I believe the next release should address these warnings.\n. The biggest reasons for the file size from CocoaPods is because of: \n1) the 5 different CPU slices included (i386, x86_64, arm7, arm7s and arm64) - essentially that multiplies the size of the binary.\n2) Debugging info, we had to switch to a format that's slightly fatter for static libraries\n3) Bitcode - this adds a lot of extra cruft but is required by Apple\nThe good news is that all of it is stripped down to just what you need when you build and submit your app. This is mostly so that one single framework covers all bases.\nIn any case, you really shouldn't be including binaries in your Github repository. I suggest you stick to just the Podfile, which in turn will download the files straight from the source when you do a pod install. . When you build the framework yourself inside of Xcode, it will only build for the current architecture by default so it's normal for it to feel about 5x smaller just because of that.\n. So anyway this is not really an issue - don't try to bundle the binary in your repo and you should be fine. The main advantage of us switching to static libraries is that you no longer have to bundle and sign a 250MB framework within your app either, since the static linker strips it to just the parts you actually use. In turns this makes your own apps much smaller and faster to load. :)\n. Carthage can no longer be used with the current versions of AudioKit since we switched to static frameworks, sorry.\n. @ingconti Yes you can remove that script, it is no longer needed with the static frameworks.\n. Also: a full release build takes about 30 minutes on Travis.\n. Current versions of AudioKit typically target the current version of Swift in the current Xcode. Upgrade your Xcode if you want to use the compiled binaries for the latest version.\n. Don't forget macOS and tvOS ;)\n. Really? tvOS is usually pretty a simple port from iOS at least. Though I guess the demand for that is pretty low.\n. Yeah tvOS also has UIKIt with some minor differences so very often it's quite a bit easier than porting over to AppKit on macOS.\n. I would generally disagree with the assertion that you should check in any kind of large binary files in Git. Really you would be served just as well by simply keeping the Podfile and Podfile.lock files as references. Git is notoriously horrible at handling large binary files and you will rapidly run into all sorts of problems. LFS is the official solution to these kinds of issues, if you're OK with the other limitations that Github puts on that (such as bandwidth).\nWe ran into these limitations ourselves and had to move the hosting of the binaries outside of that Github too.\nAudioKit is a very large library and we recently switched it to a static framework so that it wouldn't bloat app binaries so much (most people only use a tiny subset of the functionality). I'm not convinced breaking it up further would necessarily alleviate what at its root is a problem with Git and Github.\n. This would be quite a bit change from the way our pod is set up, and the main reason is because it takes a long time to build the library (easily 20 minutes or so). We do have scripts for that purpose, so maybe you could call these within the Podspec, or maybe simply rely on the internal xcodebuild runs if that's good enough for your purposes.. Thanks, I just added some @objc attributes to the appropriate places on that class in the develop branch.\n. This is no longer beta though.. You need to add -lstdc++ to your linker flags.. This became a requirement when we switched to a static framework (it used to be dynamic). Apparently it is not included automatically.. It is already added automatically if you use CocoaPods, and the frameworks README already mention this (https://github.com/audiokit/AudioKit/blob/master/Frameworks/README.md) though it could be mentioned on the root README as well...\n. Can you try to remove the ~> 4.0 part from your pod? You're probably just using an old version.\n. It's out now! You can get version 4.4.0. The binaries used by CocoaPods have been built with Xcode 9 and Swift 4.1. Until Xcode 10 is out of beta, you will have to compile the frameworks manually using our provided build_frameworks.sh script.\n. I actually looked into this, but because of the massive amounts of non-Swift code in AudioKit (lots of C++ and Objective-C), it doesn't seem like we would be able to do this with the Swift package manager at the moment. Maybe if they ever expand their build options...\nThese days the easiest way to use AudioKit would be via CocoaPods.. I've been working on setting up a staging version of our code as a pod until the final 4.4 comes out, you can use it via our Specs repo at http://github.com/AudioKit/Specs\n. I should clarify this pod is built with Xcode 10 and should be suitable to use in your projects.. Until we push out the official v4.4.0 release built with Xcode 10, you can try to use our staging version in the meantime: https://github.com/AudioKit/Specs\n. Yeah you should try to use the staging build in the meantime if you use pods, otherwise use our develop branch and compile the library yourself with our provided instructions. We have a couple of things to fix before release though but hopefully an official 4.4.0 will be out very soon.\n. Are you talking about Interface Builder?\n. Yeah that was the main reason we changed the requirement to iOS 10. It seemed odd that they would remove a previous API in Swift 4.2 and definitely felt like a bug. But like often with Apple, there's no guarantee they'll ever actually fix it. :)\nIf this helps restore compatibility with iOS 9 I'm for it :)\n. Will do\n. The current version of AudioKit is a whole new library that no longer depends on libsndfile so that would not help. AFAIK there is no native way to handle Ogg Vorbis for now...\n. The scripts will use the current SDK in Xcode, however because we started using some features that are only available in Swift 4.2 / Xcode 10 this probably will not work unless you actually use Xcode 10. I suggest you install Xcode 10 separately and use xcode-select to switch the CLI between 9 and 10.. The biggest issue here is that our pod doesn't build the library from source, and just grabs the built binaries from a zip file and extracts them to use with your project. So just changing the URL won't do it unless you have a way to specify an alternative location for the zip file, which is easy enough to produce using our scripts.\n. Weird, I wonder if the script is really responsible here though...\n. Ugh, so we could add a special case to the script for this, but it might just be easier to move the file to both the iOS and macOS project directories. It's not a huge file and it would avoid complicating the scripts further for something so small.\n. Actually it was a simple enough change and that should now be fixed in develop.\n. You could even replace objectAtIndex: by a simple subscript, i.e. point[0] here.\n. Good call by the way, that old code must have been causing all sorts of bad shit, casting a pointer to an int. Hope there's not more of this in other places...\n. I'm a bit concerned about keep log lines in memory - there's a real risk of a runaway log just crashing things if it goes out of control.\nAlso if this is only for unit tests, maybe we can use #ifdef TRAVIS_CI to only include this piece then.\n. OK, then I suggest we bracket this property and the corresponding code in the message delegate so it doesn't even get included in non-test builds (save a bit of memory). That's what that TRAVIS_CI macro is for. :+1: \n. You probably shouldn't have a class method's name that starts with init..., that's pretty much against adopted conventions, and I would expect to create problems with Swift.\n. That's cool, though if we're going to make it one single script we can probably only do that set -o pipefail at the beginning once.\n. Also we should probably check for error codes at the end of each of these statements, like what Travis was doing.\n. Why did you remove the getpid() here? That actually made the temporary file more secure by making its filename less predictable...\n. I'm not completely convinced you do need to comment out all this code for testing. Even if you're rendering faster than realtime, you should still want to finish cleanly.\n. Well the right way to do this, considering these are temporary files, would be to make sure that they are removed upon program termination. :)\nArguably this is not too much of a problem on iOS where this is all within the app sandbox, but could be a security issue on the Mac.\n\nSt\u00e9phane Peter\nmegastep@megastep.org\n\nOn May 24, 2015, at 1:43 AM, Aurelius Prochazka notifications@github.com wrote:\nIn AudioKit/Core Classes/AKManager.m https://github.com/audiokit/AudioKit/pull/158#discussion_r30951034:\n\n\n_csdFile = [NSString stringWithFormat:@\"%@/AudioKit-%@.csd\", NSTemporaryDirectory(), @(getpid())];\n_csdFile = [NSString stringWithFormat:@\"%@/AudioKit.csd\", NSTemporaryDirectory()];\n  AudioKit produces the same file over and over again, it's never different for different builds, so I got sick of their being a lot of files in that directory. I have no strong opinion, so if you want it back, I can put it back.\n\n\n\u2014\nReply to this email directly or view it on GitHub https://github.com/audiokit/AudioKit/pull/158/files#r30951034.\n. Again here, why go back to the old way of performing the selector on a thread instead of what we have with NSThread? It's essentially the same but gives us some additional control on the thread to terminate it more cleanly.\n. Any idea why? That's pretty odd.\n. Weird - there's probably some kind of race condition somewhere. We should get to the bottom of it...\n. I'm pretty sure ranges are now acceptable types in Interface Builder.. You're probably right about Swift errors/exceptions, however the main goal of this was to specifically intercept Objective-C exceptions, as these are the ones that go uncaught currently. I only use AKTry() around sections of Cocoa code that should only trigger Obj-C exceptions, though there are probably a few exceptions.. I'm not sure I follow. There is a catch section that assigns the caught exception, which is in turn thrown back as a Swift exception. How is it getting lost?\n. I don't think so because I added a finally optional closure. Swift was balking at that. However I never end up using that anyway, so I could probably simplify it.\n. OK, though I think the declaration above adds Swift Error protocol conformance to NSException. That's not my original code though, so I should probably make sure it works.\n. Do we really have cases where both Swift and NSExceptions can be raised by the single call, i.e. methods that are marked throws? We could restrict this to calls that have been known to unexpectedly raise NSException, like engine.prepare() for instance. I would be OK with moving current throwing calls out of the AKTry closure if that covers all our bases.. My focus has been on the current methods we have that throw Swift errors, and the goal was basically to intercept any NSException and rethrow them in the same way, so we don't get crashes.\n. \n",
    "npahucki": "I don't think this issue is resolved. I tried with version 2.0.1 and i can see that in AKOrchestra, the setting 'Enable Audio Input By Default' is being read, AND that the [[AKManager sharedManager] disableAudioInput] is being called, however, the microphone prompt happens BEFORE this code block is ever hit, so the setting in the plist file is not doing anything to prevent the message from showing. Further suggestions? \nI'm going to see if I can pin point exactly which line of code is causing the microphone prompt, but you could probably direct me faster than I could find it by trial and error. \n. BTW: I tried HEAD of the development branch and it will not compile, missing files. \n. I found and fixed the problem, see https://github.com/audiokit/AudioKit/pull/117. \n. If I point the pod to the git repo at commit 7ea3f5b2863fd82219392f5dbf8eeb683ca0a622 which contains your recent changes, that seems to fix the problem, so I would think that pushing the new podspec should fix it the issue. \n. Thank you for the great library!\n. ",
    "jhersh": "I thought there was a problem with Travis not installing pods, but turns out :+1:\n\nAlso, pod install is not run if the Pods directory is vendored and there have been no changes to the Podfile.lock file.\n. >  As you can see, a big decision to be made is whether to use static libraries and be compatible with older versions of iOS, or use dynamic libraries and requiring iOS 8. For the cocoapod, do we make this decision for the user?\n\nIf I install AudioKit with CocoaPods then this decision is up to me; it depends whether I specify use_frameworks! in my Podfile. You can also certainly distribute AudioKit as a static library or dynamic framework in addition to CocoaPods.\n\nAfter copying the project file, there a couple of configuration steps. We've tried to add at least this line to the podspec:\n\"xcconfig\": {\n   \"OTHER_LDFLAGS\": \"-ObjC\"\n},\nbut I'm guessing we also need something in the podspec that also does the \"User Header Search Paths\" correctly. And what about the other steps in the \"Common Steps\" section of the installation instructions?\n\nCocoaPods automatically adds the -ObjC linker flag and updates header search paths for all included pods when you run pod install, so you shouldn't need to specify OTHER_LDFLAGS unless you need to pass any other custom flags. Is there a particular error you're seeing here?\n. Make sure you do a pod update AudioKit to pull in the latest source, and make sure your podfile is pointing to the develop branch of this repo.\nHere is my sample project which has the line #import <AKFoundation.h> in its app delegate.\n. ",
    "shuijinliuxi": "I try the follow way:\n//***\ninstrument.play()\nself.oscillator.frequency = 100.ak;\n******//\nBut it's failed to set the frequency after instrument.play().\n. ",
    "turtec": "Maybe you should take a look on this\nhttp://stackoverflow.com/questions/24993752/os-x-framework-library-not-loaded-image-not-found\n. ",
    "jcampbell05": "I was trying to run the blaster example with a aiff with a music file, the blaster sound works but not the music one.\n. ",
    "NehalRaj": "I am using a dynamic library from AudioKit to playback audio samples for this music app i'm working on. However, when following the tutorial for sample playback from AudioKit.io I am getting these errors.\n0dBFS level = 32768.0\nCsound version 6.05 (float samples) Sep 18 2015\nlibsndfile-1.0.26pre6\n2015-10-25 22:30:02.544 TestPrg1[29291:738144] 1 MIDI sources\n2015-10-25 22:30:02.546 TestPrg1[29291:738144] MIDI source 0: Session 1\n0dBFS level = 32768.0\nCsound version 6.05 (float samples) Sep 18 2015\nlibsndfile-1.0.26pre6\n2015-10-25 22:30:03.614 TestPrg1[29291:738168] 1 MIDI sources\n2015-10-25 22:30:03.614 TestPrg1[29291:738168] MIDI source 0: Session 1\n2015-10-25 22:30:04.574 TestPrg1[29291:738168] ***Failed to disable audio input.\n2015-10-25 22:30:04.575 TestPrg1[29291:738168] ***Failed to enable audio output.\n2015-10-25 22:30:04.620 TestPrg1[29291:738170] Csound Error: INIT ERROR in instr 1: \n2015-10-25 22:30:04.620 TestPrg1[29291:738170] Csound Error: Invalid ftable no. 2000.000000\n2015-10-25 22:30:04.620 TestPrg1[29291:738170] Csound Error: \n2015-10-25 22:30:04.621 TestPrg1[29291:738170] Csound Error:  - note deleted.  i1 had 1 init errors\n2015-10-25 22:30:04.621 TestPrg1[29291:738170] Csound Error: \nCsound tidy up: Terminated\n(lldb) \nIt appears to be a problem with the underlying Csound library that audiokit is built on top of. This is however beyond my paygrade. Has anyone experience with AudioKit or Csound who could point me in the direction of solving this?\n. Is there a way we can connect? on google/hangout or call? i can show you my project? \n. That will be great, can you please send the invite\n. Thank you\n. Any help be appreciated \n. I don't see any suspicious message, i am talking about the \"TableDemo\" project which is on Audiokit. If there are thing i can try please let me know? \n. The project runs fine in the simulator but when i deploy it on my Ipad it doesn't generate any sound. Everything else works! \n. Nope, checked the voice on ipad and it works for other stuff. \n. ",
    "aidewoode": "@aure Thanks :+1: \n. ",
    "scheung38": "Could you please show me how to add to my project? I like to use EZAudio but it is not written in Swift.\nI could not add AudioKit to my project since upgrade to Yosemite as Cocoapods doesn't work anymore\nfor example:\npod 'EZAudio', '~> 0.0.4'\nusr/local/var/rbenv/versions/2.1.5/lib/ruby/site_ruby/2.1.0/rubygems/dependency.rb:315:in to_specs': Could not find 'cocoapods' (>= 0) among 154 total gem(s) (Gem::LoadError)\nChecked in 'GEM_PATH=/usr/local/rvm/gems/ruby-1.9.3-p194:/usr/local/rvm/gems/ruby-1.9.3-p194@global', executegem envfor more information\n    from /usr/local/var/rbenv/versions/2.1.5/lib/ruby/site_ruby/2.1.0/rubygems/dependency.rb:324:into_spec'\n    from /usr/local/var/rbenv/versions/2.1.5/lib/ruby/site_ruby/2.1.0/rubygems/core_ext/kernel_gem.rb:64:in gem'\n    from /usr/local/var/rbenv/versions/2.1.5/bin/pod:22:in'\n. Tried to build the suggested AudioKitDemo but the libAudioKit iOS Dyamic.a seems to be missing in targets AudioKitDemo -> BuildPhases? as build is successful but nothing shown on my iPhone device? Though from the list I can see and import libAudioKit iOS Static.a?\n. This also allows microphone input and displays the audio in rolling buffers?\n. I added  AudioKit.xcodeproj into my project, but still cannot see the AudioKit iOS Dynamic? Please advise. Also cannot run the AudioKitDemo which already has this AudioKit.xcodeproj inside? \nOK have successfully build the example but nothing shown in device? I mean build was ok but example is not running?\n. What does it mean when Run -> Success but App not doing anything at all? Both in device or in simulator?\n. Yes the AudioKitDemo can Build, but nothing happens, no errors or warning. But do see that under the AudioKit.xcodeproj -> Products -> libAudioKit OSX.a in red, indicating missing lib? But then the list of Targets visible are AudioKit iOS Static, AudioKit iOS Dynamic and AudioKit OSX? i.e Simply clicking the AudioKitDemo.xcodeproj does not work for me.\nWill be great if to get started with the AudioKitDemo\n. Thanks Aure, I do see video demo but it is for Obj C setup? \nThere are few things I would like, record audio and also accelerometer reading with rolling buffer display and then capture these on a per user basis if possible using Parse.\n. (https://cloud.githubusercontent.com/assets/1273014/7957957/037ff676-09e3-11e5-83f2-8e1b5259ea47.png)\n. How to capture the duration of the audio to begin and end audio capture?\n. ",
    "elioscordo": "Thank you guys so much!!! amazing work!!!\n. ",
    "joeblau": "@aure Thanks for your help. This is starting to make more sense.  I just joined the google group.  And thanks for the talk at the Meetup last night :+1: \n. I was playing around with this more a little last night and there seems to be a bug.  I tried to implement the code you suggested but I don't get any output.  I know obj-c, but I'm not sure if it works in obj-c or not as I've been primarily working in Swift.  What appears to be happening is that if i just route AKAudioInput to AKStereoAudio or AKAudio then everything works fine.  As soon as I try and add a AKLowPassFilter, the audio stops coming though my headphones.\nHere is my ViewController.swift\n``` swift\nimport UIKit\nimport AudioKit\nclass ViewController: UIViewController {\nlet microphone = MicProcessor()\nvar stereoAmplifier: StereoAmplifier?\n\noverride func viewDidLoad() {\n    super.viewDidLoad()\n    if let stereoAmplifier = StereoAmplifier(audioSource: microphone.auxilliaryOutput) {\n        AKOrchestra.addInstrument(microphone)\n        AKOrchestra.addInstrument(stereoAmplifier)\n\n        microphone.start()\n        stereoAmplifier.start()\n    }\n}\n\n}\n```\nAnd here is my MicProcessor.swift\n``` swift\nimport AudioKit\nclass MicProcessor: AKInstrument {\n    let auxilliaryOutput = AKStereoAudio.globalParameter()\n    let working = false\noverride init() {\n    super.init()\n    let microphone = AKAudioInput()\n    let stereoInput = AKStereoAudio(leftAudio: microphone, rightAudio: microphone)\n\n    if working {\n        // This codepath works and I can hear the audio coming from\n        // AKAudioInput -> AKStereoAudio\n        appendOutput(auxilliaryOutput, withInput: stereoInput)\n    } else {\n\n        // This codepath fails and there is no sound coming from\n        // AKAudioInput -> AKLowPassFilter -/-> AKStereoAudio\n        let lpf = AKLowPassFilter(audioSource: stereoInput)\n        appendOutput(auxilliaryOutput, withInput: lpf)\n    }\n}\n\n}\n```\nHere is my sample project so you can see if it's working for you. https://github.com/joeblau/Silencer\nI was however able to get effects to work with other instruments that were not the AKAudioInput or Microphone\n. ",
    "glenito": "demonstrate\n. ",
    "lufutu": "I am using on iOS platform.\nThank for quick reply.\n. ",
    "Contexter": "OSC would be great a feature  - audiokit be the first swift osc implementation ? One reason more ... !\n. Send/Receive OSC over VPN ? https://github.com/shadowsocks/shadowsocks-iOS/issues/124 ... \n. ... IP addresses tend to be dynamic , generic or unknown - and ports tend to be blocked or mapped or even attacked or however router-dependend - not quite an easy or safe environment for ANY protocol . And Eventually slipping through firewalls by the grace of your fellow admin,  you lost your precious payload on UDPs \"who cares\" ...\n. Are we discussing networked audio ?\n. https://github.com/sebpiq/rhizome  ... Tough wrestler !\n. ... Both VPN and coreaudio share the  extension points API  - I wonder if there isn't something for us audiokids .... \n. ... That's all taken care of by the Extension Point API's \"Protocol based Programming\" - as far as I understand Apples system architecture strategies ... \n. http://khanlou.com/2015/06/protocol-oriented-networking/\nhttp://khanlou.com/2015/05/templating/\nhttp://download.yamaha.com/api/asset/file/?language=en&site=countrysite-master.prod.wsys.yamaha.com&asset_id=47399\nthat's more of a march through the \"wortfeld\" but worth reading ... as for Relevance and exclusions, I find khanlou's thoughts on requirement engineering interesting ... \n. How is audiokit actually intended to be fitting into the AudioUnit ecosystem fostered by apple ? \n. Do you have a link to a Csound (as) AudioUnit - just found the Book chapter, but no code to look at ...\n. Whohoo ! Thank you for that - exciting !\n. hmmm  - install csound via homebrew ? Bit of a show stopper right now ...\n. True.\n. There's promises for an audiounit xcode template published by the core audio team - do you know about any news on this ?\n. was the first I'd been watching ...but thanx !  https://github.com/csound/homebrew-csound solves my build problems - but 120 Deprecations seem quite a lot.\n. But one time back to the \"The extension point\" lingo  - is it just that, or is it to suppose an area of product enhancement (like \"Protocol Oriented Programming\") - or is it just unfortunate advertising , a misunderstanding - ? \n. What's protocols, what's extensions ?\n. Given audiokit applications being deployed as AudioUnits at clearly defined extension points on the one device - ( where and how?) - how does networked audio via OSC not merely become an audiokit decor feature but an option beside streaming buffers ?  Stated like this, does it bring back things on track & to your liking ? ( and, truly-  thank you for doing the hard work of definition !) \n. ... sounds a bit like conditionally messing with the air-streaming feature. \n. ... ah ... Bidule !\n. ... but there's still the problem of network security and the technical death of OSC, killed by sys admins. How does OSC enabling become a proper citizen in IOT ? Leave it to the browser ?\n. You never leave userland. So be kind :smirk: ! \n. We could revive OSC by means of VPN - Apple seems to want it.\n. ... and ty it to their server / MDM product.\n. So - leave it (networked audio) to the browsers ?  The current \"hot keys\"  seems to be  \"extension points\"  which is kind of a shared trait of AUUnits and VPNs of the apple flavour  - but okay - I'll map your ports because I'm a nice admin  :relieved:  Thank you and all the best !  Benedikt \n. https://twitter.com/peterkirn/status/620885038817779712\nhurry up - technical death is a fact. \n. ",
    "dclelland": "Cheers buddy! :)\n. I'm trying a bunch of random values - 0.0, 0.05, 0.1, 0.15, 1.0 all okay, 0.19, 0.2, 0.25, 0.35, 0.5, 0.75 it doesn't like... weird.\n. Sure thing - I'm pretty sure I'm doing something wrong. \nSee here: https://github.com/dclelland/GASP/blob/02a2ff62fa581aad25d43632bba804a0612975cb/GASP/Models/Audio/Filter/Components/GSChorus.m#L41\nPS thanks for all your kind help!\n. No real rush... Cheers though!\n. Whoops, forgot to import into AKFoundation.h, will do that in a second\n. huh, I'll have to take a look tonight...\n. For the record, this is what I was getting (orange AKResonator, yellow AKAntiresonator):\n\nareson should be a notch filter, but it is identical to AKResonator when iscl is 0.\nPS I'll update the tests too...\n. I feel like I oughta start writing some tests for all these FFT classes eventually...\n. Am interested in setting a CPU limit as well - see http://www.csounds.com/manual/html/cpuprc.html - would perhaps prefer some feedback before going ahead, though.\n. Did you mean to merge or close it?\n. @PaulBatchelor Thanks very much :) I'm going to be out of town for a few days but will have a look when I get back.\n. @PaulBatchelor do I need to add reson into Sporth, as well?\n. I'll show you what I have so far\n. Have added a PR with the progress I've made so far... https://github.com/audiokit/AudioKit/pull/471\n. Also, I remember, the Csound reson opcode had an iscl flag which we needed to tweak a bit in order to get it working right in AudioKit 2 (we set it to 1), I see that included in the sp_reson struct, will we need some kind of special handling for that here?\nAlso, looking at sp_reson_compute, I'm not sure if the Soundpipe implementation is actually using that flag?\nAlso looking at the history of reson.c to see if that's any help.\n(Still trying to understand how all this ties together...)\n. I'm also having trouble installing AudioKit locally so I can test things out. Usually I'll have my project in a directory next to my AudioKit fork, and install by adding a line like pod 'AudioKit', path: '../AudioKit-fork' to my podfile and it gets installed as a Development Pod, but nothing shows up in my Xcode project. I've run build_frameworks.sh but still nothing. Am I overthinking this?\n. Cool, just sent you an invite.\nIt's likely that this particular component won't work 'out of the box' - is there a way I can install AudioKit as a development pod somehow? I don't really want to have to spend ten minutes recompiling the whole framework every time I do a build...\n. Cheers buddy.\nPS I was able to get it working by:\n1. Dragging the AudioKit for iOS project into my own project\n2. Building the AudioKit-iOS framework\n3. Dragging AudioKit.framework into the Link Binary With Libraries build phase in my own project\nNow Xcode is smart enough that if I change something in AudioKit, it will only recompile what it has to. I can drop breakpoints in AudioKit code, alt+clicking on keywords takes me to implementations, it's all working good.\nEasy!\n. Looks good but... does this contain the reson Sporth integration?\n. Yeap, on develop. Just doing a pull as there's some new stuff on there...\n. Still getting it as of current develop state.\n. biscale has the common use case of scaling an LFO's output to something else, but I'm using scale in order to scale input from an X-Y pad that's already had an LFO added to it.\n. :( But my code is so much more readable this way...\n. If zero issues is what you're after, that's cheating dude :oP\n. If you can point me to where that other issue was fixed, I can have a poke around?\n. Ah true. Welp this is way over my head. Might wait on Paul to check in on this one. Thanks man! :)\n. For the record, I wound up just writing the node I'm working on in Sporth anyhow, so we might as well close this if you like.\n. ",
    "AlesTsurko": "Yes. In my Podfile I've switched to develop branch. I can't compile master because of getting \"bit code enabled/disabled\" error for csound framework, that's why I do it - just wanted to try. It's only in XCode 7 new beta. With previous beta there was no this problem. Any way, today I'm already tried to compile with develop just without sound fonts and I get this \"bit code\" error as I get it with master branch...\n\n14.7.2015, \u0432 00.45, Aurelius Prochazka notifications@github.com \u043d\u0430\u043f\u0438\u0441\u0430\u043b(\u0430):\nSound fonts are only on the develop branch and I think the pod spec is defaults to master - have you changed it?\n\u2014\nReply to this email directly or view it on GitHub.\n. \n",
    "mekohler": "Master, I'll try with dev. Thanks!\n. ",
    "gregpassmore": "We are running 2.1.1 from Cocoapods \npod 'AudioKit', '2.1.1'\n. Unfortunately I can't share it, it's a private prerelease app. I can try to get some more contextual information, I suppose. Not sure how to debug this exactly tho...  Sound \"usually\" works and then it barfs :) I am probably deallocing references to my helper class that refers to the Conductor , which refers to the  instruments/orchestra. So maybe if something is playing while that is being deallocd? Dunno how to deal with that exactly.\n. Is there a 2.1.2 coming out soon? We can try pointing cocoapods at develop branch latest. I'll let you know how it goes. We are still in dev so no worries trying out a non-release branch.\n. Cool thanks! Will let you know if we find more stability on develop branch. \n. Well, scratch that. The pod won't build if I point at develop latest. AKFoundation.h can't find AKSoundFont.h . \n. Builds now, but sounds aren't working. Getting these sorts of errors in logs. I can look more at this later but need to run now.\n2015-08-14 17:27:10.031 Spriteville[8294:6167317] Csound Error: soundin cannot open (null)\n2015-08-14 17:27:10.031 Spriteville[8294:6167317] Csound Error: \n2015-08-14 17:27:10.034 Spriteville[8294:6167317] Csound Error: ftable 2027: \n2015-08-14 17:27:10.035 Spriteville[8294:6167317] Csound Error: Failed to open file\n2015-08-14 17:27:10.036 Spriteville[8294:6167317] Csound Error: \n2015-08-14 17:27:10.036 Spriteville[8294:6167317] Csound Error: INIT ERROR in instr 0: \n2015-08-14 17:27:10.036 Spriteville[8294:6167317] Csound Error: ftgen error\n2015-08-14 17:27:10.036 Spriteville[8294:6167317] Csound Error: \n2015-08-14 17:27:10.040 Spriteville[8294:6167317] Csound Error: soundin cannot open (null)\n2015-08-14 17:27:10.041 Spriteville[8294:6167317] Csound Error: \n2015-08-14 17:27:10.041 Spriteville[8294:6167317] Csound Error: ftable 2028: \n2015-08-14 17:27:10.041 Spriteville[8294:6167317] Csound Error: Failed to open file\n2015-08-14 17:27:10.042 Spriteville[8294:6167317] Csound Error: \n2015-08-14 17:27:10.042 Spriteville[8294:6167317] Csound Error: INIT ERROR in instr 0: \n2015-08-14 17:27:10.042 Spriteville[8294:6167317] Csound Error: ftgen error\n2015-08-14 17:27:10.042 Spriteville[8294:6167317] Csound Error:\n. ",
    "ys1382": "I followed your instructions, but get the same error.\nThe Pods directory did not have AudioKit/Platforms/OSX/run-script.sh, so I had to download the AudioKit source and copy run-script.sh into my project's Pods directory.\nThen I added the build phase that calls that script, but I still get the same error: dyld: Library not loaded: @executable_path/../Frameworks/CsoundLib.framework/Versions/6.0/CsoundLib\nYou can get the code and see for yourself here: https://www.dropbox.com/sh/043m1te0lvio9az/AADuBKStDCkWK7i6dxcXlAa-a?dl=0\n. ",
    "alpadedhia": "Run script worked for me once. But ever since then it is giving me this image not loaded error. I am using XCode 7\n. ",
    "zhs2472": "But there is no more information. What should I do? This issue occurs after I run the playground's install.sh and run.sh. And I can not run any xcode project now:(\n. OK. I will reinstall Xcode and try again later. Thanks for help.\n. ",
    "j0hnm4r5": "To jump on this, CocoaPods does automatically build a framework (I think) when using use_frameworks! in your Podfile (in Swift, I'm not sure how it works in Obj-C). Instead of doing #import \"AKFoundation.h\" in a Bridging Header, you have to do import AudioKit in whatever file you want to use AudioKit classes in, including the AudioKit.swift helper.\n. ",
    "DanielAsher": "+1\n. Happy New Year !\n. @aure great news !!\n. ",
    "Gutty1": "+1\n. great to know, please let me know when is fully supported\n. ",
    "themaninthesuitcase": "This would be great, I found the setup and linking the hardest part of getting started with AK as a new Apple developer.\n. ",
    "loopbum": "When might it be a pure Swift framework?  I recall hearing some changes (every year) at WWDC, but Swift 2.1 so far produces very compact code reading and the compiler helps you do things that increase stability dramatically. \n. I realize it cannot be all Swift. But Swift is very expressive, so the more examples the quicker to solutions. Some involved know AudioKit extremely well.\nI\u2019ve chosen to abstract myself away from the core and use Swift as much as possible to focus on a long list of educational apps that teach some of the mathematics involved in sound synthesis and psychoacoustics, etc.\n\nOn Jan 5, 2016, at 9:46 PM, Aurelius Prochazka notifications@github.com wrote:\nYou'll never want it to be pure Swift if you want it as fast as possible. Next release is a lot swiftier though. I think you'll like it a lot. I'm just building a few example apps now to smooth out initial kinks.\n\u2014\nReply to this email directly or view it on GitHub https://github.com/audiokit/AudioKit/issues/227#issuecomment-169203959.\n. Truisms related to why I prefer programming AudioKit in Swift.\nEven if the inner workings need to cooperate as described @ WWDC 2015 & even the year before.\n\n\u201cPrograms must be written for people to read, and only incidentally for machines to execute\u201d\n\u2015 Harold Abelson, Structure and Interpretation of Computer Programs\n\u201cThe computing scientist\u2019s main challenge is not to get confused by the complexities of his own making\u201d\n\u2015 E. W. Dijkstra\nThanks megastep, aure & other contributors.\n. Interactive Playgrounds with AudioKit would be incredible as I've known a few people that have been trying since playgrounds have come out. Looking forward to it !!!\n. ",
    "rosano": "Ah, okay. FWIW, AKPhrase was what I used.\n. ",
    "aronsuarez": "I have found the solution.\nI had add \"Framework Search Paths\" value to build settings\nsorry for this post\n. I tab on the record button and hold, then i tap on the play butten but the is not playing\nios 9 simulator and iPhone6+\nCan you give me a little halp to start with the following use case.\nHow can i get the fft data from 0-44100hz from mic to do a special analysier algorythm?(on live input)\nthanks for help\n. Hi,\nYou need to set the \"Framework Search Paths\".\nHere the text from the install instructions:\nThis will automatically add a \"Framework Search Paths\" entry for you, but it will be an absolute reference, so if you are sharing your projects with others, you should go to Build Settings Tab and add an entry relative to $(SRCROOT) that leads to AudioKit/Platforms/iOS.\n. ",
    "neesonqk": "Thanks, it works\n. Thanks @aure \n. Hi Aure,\nI followed Configuring AudioKit 2.1 with Static Libraries for iOS Apps, but the difference was target language I chose to swift, the rest was exactly same with the tutorial.\n\nPlease see my settings\n\n\n\n\nand last one\n\nThe path I used $(SRCROOT).... it automic converted to my local path. did I miss anything?\n. This is the header file\n\n. Oh shit, I found a spelling error. ah It works. thank Aure, sorry wasting of time.\n. @aure do you have any examples about AKAudioAnalyzer, like how to use it, I googled a lot, but there isn't too much info about it.\nWhat I'm going to do is actually capturing the sound in particular frequency range, e.g. the frequency above 1000Hz, something like analyzer.trackedFrequency.floatValue > 1000, I'm not sure if AKAudioAnalyzer is the correct class to use, would you please give a guide or suggestion? thanks again.\n. I tried to timmer out the result, like this\n``` swift\nlet timer = NSTimer.scheduledTimerWithTimeInterval(0.05, target: self, selector: \"printCapturedFrequency\", userInfo: nil, repeats: true);\ntimer.fire();\nfunc printCapturedFrequency(){\n        if(analyzer.trackedFrequency.floatValue > 1000){          \n            print(\"captured frequency \", analyzer.trackedFrequency.floatValue);\n        }\n}\n```\n. The loudest frequency in a signal would be enough in my case, the sound is from the microphone, if like using timer to capture in an interval, I think there must be some missing sound.\nSo as your mentioned 'AKHighPassFilter',  is there any examples? \n. In fact I'm developing an app to capture environment sound then display the frequency of them in a graph, quite similar to below screenshot, however in the examples mostly are generating sound/waveform then display, I tried but couldn't find a clue where to start, I'm wondering if it's possible to implement by AudioKit?\nI can add microphone to instrument, from this example it shows updating UI via timer, however as you mentioned, ..Tracked frequency just give you a best guess of what frequency is the loudest in a signal..., so this wouldn't update all frequency to UI at a second except the loudest one, right?\n\n. Thanks, will have a further study, thanks for your time.\n. Yeah I saw you recommend people going to forums for discussion and study, will go there to seek a help, and thank you for making this great thing!\n. ",
    "holoman0": "Excellent. Should have tried that. Thanks!!!!\n. ",
    "ruurd": "Hmmm not nice. I was rummaging around with TuningFork on OS X which uses Audiokit and if I do that with 1.1.2 it points to CsoundLib.framework in /System/Library/Frameworks which does not exist on OS X 10.11.1 (which is what I am using currently...)\nCan yoy tell me what you did to get it validated? \n. OK at least weird:\n$ pod spec lint\n-> AudioKit (2.2)\nAnalyzed 1 podspec.\nAudioKit.podspec.json passed validation.\n. * BUILD SUCCEEDED *\n2015-10-25 19:01:38 +0000 Plugin Console Open With Application: [NSApp mainMenu] returned nil\n -> AudioKit (2.2)\nAnalyzed 1 podspec.\nAudioKit.podspec.json passed validation.\n. But I'm not sure if I can push the podspec because I did not claim the audiokit as my own. If correct you have done that. This way they prevent all sorts of rogue podspec problems...\n. ruurd:mctiny ~/Projects/ruurd/experiments/osx/Audiokit  [master]\n$ xcodebuild -version\nXcode 7.1\nBuild version 7B91b\nAnd the latest OS X...\n. OK then push the podspec please then I can go and see if I can get TuningFork to work. But anyway. A well spent Sunday for me.\n. \\0/ \\0/ who cares! You did it did you? :-) Good show guys&gals.\n. ",
    "aguycalledalex": "i am also not getting any sound out from the simulator... using swift here\n. ",
    "ghost": "I've had the same problem after setting up the project looking at the first videos.\nThe problem is just with the simulator, putting a small delay solves the error.\nWith\n\n        NSThread.sleepForTimeInterval(1)\n\nbefore\n\n        instrument.play()\n\nIt works in the simulator too.\n. @aure I'm sorry but I don't find any runOrchestra method, it's all new to me. \nAnyway in a real scenario playing a note is not the first thing you do when the program is loading up. The sleep was just to check the idea of the simulator not having time to load everything.\n. Ok I've seen it, I'm using the master branch now. I'll give it a try later on then.\n. Hi,\nfirst thing I'd do in that case is confirm the 7.3 developer tools are installed and selected (Xcode preferences -> Locations -> Developer Tools), and then try building it manually, without using Cocoapods.\nRegards,\nMichal\n. OK. I downloaded whole package from your website open example project and build it. I copied .framework file and pasted it to pod/AudioKit and replaced the old file and it's working. :) \n. Glad it worked for you! That's one of the main reasons I avoid using Cocoapods.\nOh and I'm not Aure, just a random watcher. ;)\nCheers!\n. My pleasure, Sir. Keep up the great work!\n. Thanks. :) It's crashing just after calling conv.start() in a loop.\n     AudioKit.output = mixer\n      AudioKit.start()\n      for player in self.playersWithConvolution {\n           for conv in player.audioConvolutions {\n             conv.start()\n          }\n          player.audioPlayer.play()\n      }\n. The weirdest thing here is that app is launching once in a while, for example I'm coding right now and I have to run it 4-5 times (cmd+R) before it'll boot properly. I wish it could start every time, this HRTFs creates super natural sound space. :) Removing some of middle points in HRTS (like leaving only convs for 0, 30, 60, 90, 120, 150, 180, 210, 240, 270, 300, 330 degrees) makes app boots more often. That leads to conclusion that too many convs at the same time leads to this issue. Like I wrote before the error here is 0 sp_conv_compute so it my by something under AudioKit? \n. I wasn't aware of that. :) Is there anything more information I can deliver to resolve my issue? \n. @aure I give you permission to the repository. :) Main  audio related class is AudioHelper, you will not be able to get full localisation based effects, because your room is not configured and you don't have estimote beacons in your location. To make app crash just uncomment HRTF lines in PlayerWithConvolution.swift :) \n. @aure Thanks a lot, but no rush. Right now it's working for the fewer angles (30* step)  like I wrote above. I would be great to have it working with more frequent  steps, but right now the convolution seems to be the problem. :) \n. Sure, if there's nothing we can do. \n. I have the same error after running the shell script.. This is also repro'ed in the 3.6 and playground releases from the downloads page.. Yes, i wrote that stackoverflow question too.\nUnfortunately I dont have any project to share. But i try to paste the most relevant code. My assumption is that I am using AudioKit.start() and AudioKit.stop() from 2 different locations. The MetronomeSoundProcessor above is triggered from an background thread. And then we have another module starting / stopping the AudioKit engine. Might this be an issue?. I have just moved out the triggering of play into the main thread and now i am seeing a proper error message which says\nException 'player started when engine not running' was thrown while invoking run_precounter on target MetronomeTimer with params \nBut when i check Audiokit.engine.running shortly before the crash, its set to true\nAny hints?. Oh okay. Well, can when i modify the graph while its not stopped? It seems to crash with this issue when i try to modify the graph when its not stopped, and then trigger an AKAudioPlayer to play (in an highly complicated case, but 100% reproducible. Still trying to assemble a minimal project with the crash)\nhttps://github.com/AudioKit/AudioKit/issues/1469. Sounds also a bit related to https://github.com/AudioKit/AudioKit/issues/1110 doesnt it?. @apple?. ",
    "passiomatic": "Really weird. I've tried to compile the OS X HelloWorld (Obj-C) example but I get the same crashing results. Here's the output Xcode lldb console: \n0dBFS level = 32768.0\nCsound version 6.05 (float samples) Sep 18 2015\nlibsndfile-1.0.25\n    0dBFS level = 32768.0\nCsound version 6.05 (float samples) Sep 18 2015\nlibsndfile-1.0.25\n    2015-11-03 20:29:31.393 HelloWorld[9623:2248786] 0 MIDI sources\n2015-11-03 20:29:31.393 HelloWorld[9623:2248747] 0 MIDI sources\n(lldb)\nThis time it doesn't throw a warning during start up but the debugger loads up with a EXC_BAD_ACCESS error.\n. Well, at least the iOS examples works: Hello World and AudioKit Demo run smoothly. \nI wanted to start coding on OS X because  waiting to the simulator to load up the app is boring. My idea was to develop the audio engine on OS X with a throwaway UI and then move to iOS.  \nI'm wondering what could cause the crashes: El Capitan or maybe an outdated project library/settings in the Xcode project?\n. That would be great. Please check you email. \n. I've tried the develop branch but unfortunately I'm still having crashes on the HelloWorld example. This is what I see in Xcode:\n\nHere's the console log: \n0dBFS level = 32768.0\nCsound version 6.05 (float samples) Sep 18 2015\nlibsndfile-1.0.25\n    2015-11-14 12:12:18.001 HelloWorld[16727:4051152] Csound has not started in 1.0 seconds.\n2015-11-14 12:12:18.003 HelloWorld[16727:4051152] ***Attempting to start another Csound thread - not cool!\n2015-11-14 12:12:18.809 HelloWorld[16727:4051361] 0 MIDI sources\nNot sure if it matters but I have no MIDI drivers on my system: \nMoby:~ Andrea$ ls -1 /Library/Audio/MIDI\\ Drivers\nMoby:~ Andrea$\n. For the record I'm now using El Capitan 10.11.5 and AudioKit 3.1.3 for OS X and I'm able to run the HelloWorld example. Same hardware, of course. God only knows what were causing the previous crashes.\n. ",
    "ngwese": "I have run into what appears to be the same (or very similar) behavior.\nSoftware:\nOS X 10.11.1, Xcode 7.1.1, AudioKit 2.3\nHardware:\nModel Identifier: MacBookPro6,1\nProcessor Name: Intel Core i7\nProcessor Speed: 2.66 GHz\nNumber of Processors: 1\nTotal Number of Cores: 2\nL2 Cache (per Core): 256 KB\nL3 Cache: 4 MB\nMemory: 8 GB\nWhen running the HelloWorld.app example under lldb (within Xcode) it SEGVs on this line just shortly after it starts:\nhttps://github.com/audiokit/AudioKit/blob/master/AudioKit/Platforms/Common/CsoundObj.m#L829\n...and the debugger console output is:\n0dBFS level = 32768.0\nCsound version 6.05 (float samples) Sep 18 2015\nlibsndfile-1.0.25\n    2015-11-11 23:36:50.053 HelloWorld[52032:2453705] 1 MIDI sources\n2015-11-11 23:36:50.053 HelloWorld[52032:2453705] MIDI source 0: IAC Bus 1\n2015-11-11 23:36:51.603 HelloWorld[52032:2453624] Csound has not started in 1.0 seconds.\n0dBFS level = 32768.0\nCsound version 6.05 (float samples) Sep 18 2015\nlibsndfile-1.0.25\n    2015-11-11 23:36:51.736 HelloWorld[52032:2453749] 1 MIDI sources\n2015-11-11 23:36:51.736 HelloWorld[52032:2453749] MIDI source 0: IAC Bus 1\n2015-11-11 23:36:52.817 HelloWorld[52032:2453624] Csound has not started in 1.0 seconds.\nLooking at the running threads I see what appears to be two different \"AK Csound\" threads both of which are in the csoundPerformKsmps(...) function. One thread is waiting on a mutex within the call to csoundPerformKsmps:\n* thread #11: tid = 0x2570f5, 0x00007fff8e57cf8e libsystem_kernel.dylib`__psynch_mutexwait + 10, name = 'AK Csound'\n  * frame #0: 0x00007fff8e57cf8e libsystem_kernel.dylib`__psynch_mutexwait + 10\n    frame #1: 0x00000001008eacd3 libsystem_pthread.dylib`_pthread_mutex_lock_wait + 94\n    frame #2: 0x00000001008e82a1 libsystem_pthread.dylib`_pthread_mutex_lock_slow + 330\n    frame #3: 0x00000001002f0a78 CsoundLib`csoundPerformKsmps + 72\n    frame #4: 0x000000010007e65a HelloWorld`-[CsoundObj runCsound:](self=0x00006000000c2c30, _cmd=\"runCsound:\", csdFilePath=@\"/var/folders/lb/446jfggj5pnbpjyvdxk_l9y40000gn/T//AudioKit-52032.csd\") + 1098 at CsoundObj.m:829\n    frame #5: 0x00007fff8bd4aee4 Foundation`__NSThread__start__ + 1351\n    frame #6: 0x00000001008ea815 libsystem_pthread.dylib`_pthread_body + 131\n    frame #7: 0x00000001008ea792 libsystem_pthread.dylib`_pthread_start + 168\n    frame #8: 0x00000001008e7fad libsystem_pthread.dylib`thread_start + 13\nWhile the other \"AK Csound\" thread crashed here:\n* thread #8: tid = 0x2570c9, 0x000000010020ab8b CsoundLib`spoutsf + 171, name = 'AK Csound', stop reason = EXC_BAD_ACCESS (code=2, address=0x103085000)\n  * frame #0: 0x000000010020ab8b CsoundLib`spoutsf + 171\n    frame #1: 0x00000001002f08ce CsoundLib`kperf_debug + 2030\n    frame #2: 0x00000001002f0a97 CsoundLib`csoundPerformKsmps + 103\n    frame #3: 0x000000010007e65a HelloWorld`-[CsoundObj runCsound:](self=0x00006000000c2c30, _cmd=\"runCsound:\", csdFilePath=@\"/var/folders/lb/446jfggj5pnbpjyvdxk_l9y40000gn/T//AudioKit-52032.csd\") + 1098 at CsoundObj.m:829\n    frame #4: 0x00007fff8bd4aee4 Foundation`__NSThread__start__ + 1351\n    frame #5: 0x00000001008ea815 libsystem_pthread.dylib`_pthread_body + 131\n    frame #6: 0x00000001008ea792 libsystem_pthread.dylib`_pthread_start + 168\n    frame #7: 0x00000001008e7fad libsystem_pthread.dylib`thread_start + 13\nIf I run the executable directly in the terminal it still SEGVs but based on the console output it looks like it crashes in a slightly different manner:\n0dBFS level = 32768.0\nCsound version 6.05 (float samples) Sep 18 2015\nlibsndfile-1.0.25\n2015-11-11 23:27:54.634 HelloWorld[51853:2446961] 1 MIDI sources\n2015-11-11 23:27:54.635 HelloWorld[51853:2446961] MIDI source 0: IAC Bus 1\n2015-11-11 23:27:55.613 HelloWorld[51853:2446888] Csound has not started in 1.0 seconds.\n0dBFS level = 32768.0\nCsound version 6.05 (float samples) Sep 18 2015\nlibsndfile-1.0.25\n2015-11-11 23:27:55.632 HelloWorld[51853:2447038] 1 MIDI sources\n2015-11-11 23:27:55.633 HelloWorld[51853:2447038] MIDI source 0: IAC Bus 1\nCsound tidy up: Segmentation fault\nThe other examples exhibit similar behavior.\nWhen I run Tests/travis.sh all tests execute and pass with the exception of the playground tests so whatever is triggering this does not occur in the unit tests.\n. Unfortunately I've upgraded all my machines to 10.11 so I can't test it under previous OS revs.\nI don't have anything MIDI related connected to my laptop and I just confirmed that IAC, Network, and Bluetooth midi are turned off (or not set up). The only MIDI drivers I have installed are:\n% \\ls -1 /Library/Audio/MIDI\\ Drivers\nEventideMIDIDriver.plugin\nMotu MIDI Driver.plugin\nNIUSBMIDIDriver.plugin\nI'm not too familiar with csound itself; is it possible to even run multiple (independent) csound instances in different threads or does it leverage static global data internally? I ask because while I was trying to debugging this a bit I came to the conclusion that csound itself was possibly not thread safe. I was a bit surprised to see that the CsoundObj itself wasn't ensuring the engine was a singleton and that the responsibility for thread safety landed in AKManager.\nAgain I'm completely new to csound and AudioKit so I'm just trying to wrap my head around all the moving parts - from what I've seen so far it looks very interesting (and just what I need).\n. Another data point. I removed the only IAC MIDI bus defined (on this machine) and...\n- it doesn't crash...\n- but there are still two AKCSound threads running...\n- and the generated csd file is possibly getting corrupted:\n0dBFS level = 32768.0\nCsound version 6.05 (float samples) Sep 18 2015\nlibsndfile-1.0.25\n    2015-11-12 20:25:59.134 HelloWorld[53919:2656679] 0 MIDI sources\n2015-11-12 20:26:00.169 HelloWorld[53919:2656640] Csound has not started in 1.0 seconds.\n0dBFS level = 32768.0\nCsound version 6.05 (float samples) Sep 18 2015\nlibsndfile-1.0.25\n    2015-11-12 20:26:00.281 HelloWorld[53919:2656686] 0 MIDI sources\n2015-11-12 20:26:05.513 HelloWorld[53919:2656686] Csound Error: INIT ERROR in instr 1: \n2015-11-12 20:26:05.514 HelloWorld[53919:2656686] Csound Error: Invalid ftable no. 2000.000000\n2015-11-12 20:26:05.514 HelloWorld[53919:2656686] Csound Error: \n2015-11-12 20:26:05.514 HelloWorld[53919:2656686] Csound Error:  - note deleted.  i1 had 1 init errors\n2015-11-12 20:26:05.514 HelloWorld[53919:2656686] Csound Error:\n. Looking more deeply at the two threads running it looks like the CsoundObj instance in both threads is indeed the same instance (all the addresses appear to match on casual inspection)\n. The change on develop does indeed prevent the crash and the demos appear to work now. I tried to figure out how the play method was getting called twice (instead of once) and it has proven rather hard to track down what ultimately triggers the creation of the second thread.\n. ",
    "sasfatu": "I have followed exactly the steps in the tutorial video.\nBoth *.framework files are available in my project.\nI have checked it several times but the result was always the same. \nSo are there any other steps that have not been mentioned in the tutorial?\n. One more note:\nUnder General>Linked Frameworks and Libraries\nlibsndfile.framework and CsoundLib.framework appear two times.\n. If you need more info - just let me know. \nPS: Static Framework doesn't work either - same error msg\n. Yes, they work out of the box. \nI have tried to compare the settings but wasn't able to find some. \n. Yes, that would be great. \n. With the help of Aurelius I was able to successfully run the tutorial.\nBy adding the folder AudioKit/AudioKit/Platforms/iOS to the setting \"Framework Search Paths\" it was possible to run a project from scratch with AudioKit. \nI think its worth mentioning as I have tried the tutorial from a fresh & clean XCode installation. \nRegards\nsas\n. ",
    "carlosypunto": "Thanks for your rapid response :-)\nBut I get the same\n\n. fetchPresets callback is never called\nsoundFont.fetchPresets { soundFont in\n    print(\"My font: \\(soundFont)\") // never is called\n}\nYeah, the sf2 file is member of the target\n. I've made a repository https://github.com/carlosypunto/SoundFonts, could you check it?\nThanks in advance\n. @megastep how I initialize AudioKit correctly?\n. Works!! Thank a lot\n. ``` swift\n    let oscillator = AKOscillator(waveform: AKTable.standardSineWave(),\n        frequency: AKParameter(value: 110),\n        amplitude: AKParameter(value: 1))\n\n    instrument.setAudioOutput(oscillator)\n\n    AKOrchestra.addInstrument(instrument)\n\n    instrument.play()\n\n```\nThis produce this console output\n0dBFS level = 32768.0\nCsound version 6.05 (float samples) Sep 18 2015\nlibsndfile-1.0.26pre6\n    2015-11-14 14:11:40.711 Oscilador[2571:1291493] 1 MIDI sources\n2015-11-14 14:11:40.714 Oscilador[2571:1291493] MIDI source 0: Session 1\n2015-11-14 14:11:41.061 Oscilador[2571:1291438] Csound Error: Stopping on parser failure\n2015-11-14 14:11:41.061 Oscilador[2571:1291438] Csound Error:\n. HelloWorld example works fine, but this use simplest constructor of AKOscillator. I want to control the frequency and the amplitude. But I get Csound's errors\n\n. This works fine:\n```\nclass Synth: AKInstrument {\nvar frequency = AKInstrumentProperty(value: 440, minimum: 20, maximum: 2000)\nvar amplitude = AKInstrumentProperty(value: 0.2, minimum: 0,  maximum: 1)\n\noverride init() {\n    super.init()\n\n    addProperty(frequency)\n    addProperty(amplitude)\n\n    let oscillator = AKOscillator(waveform: AKTable.standardSineWave(),\n        frequency: frequency, amplitude: amplitude)\n    setAudioOutput(oscillator)\n\n}\n\n}\nclass ViewController: UIViewController {\n@IBOutlet weak var toggleSwitchClicked: UISwitch!\n\n@IBOutlet var frequencyLabel             : AKPropertyLabel!\n@IBOutlet var amplitudeLabel             : AKPropertyLabel!\n\n@IBOutlet var frequencySlider            : AKPropertySlider!\n@IBOutlet var amplitudeSlider            : AKPropertySlider!\n\nlet synth = Synth()\n\noverride func viewDidLoad() {\n    super.viewDidLoad()\n\n    AKOrchestra.addInstrument(synth)\n\n    frequencySlider.property            = synth.frequency\n    amplitudeSlider.property            = synth.amplitude\n\n    frequencyLabel.property             = synth.frequency\n    amplitudeLabel.property             = synth.amplitude\n}\n\n@IBAction func toggleFMsynth(sender: AnyObject) {\n    toggleSwitchClicked.on ?  synth.play() : synth.stop()\n}\n\n}\n``\n. Thanks a lot. But I can not understand why the first example fails\n. I think I understand why to add the instrument at orchestra first. Other example, this port to swift ofVCOscillatorPlayground.m` don't play and no errors :-(.\n``` swift\nimport UIKit\nimport AudioKit\nclass VCOscillatorViewController: UIViewController {\nlet vcoInstrument = AKVCOscillatorInstrument(number: 1)\nlet note = AKVCOscillatorNote()\n\n@IBOutlet weak var amplitudeSlider: AKPropertySlider!\n@IBOutlet weak var frecuencySlider: AKPropertySlider!\n\noverride func viewDidLoad() {\n    super.viewDidLoad()\n\n    title = \"VCO\"\n\n    AKOrchestra.addInstrument(vcoInstrument)\n\n    amplitudeSlider.property = vcoInstrument.amplitude\n    frecuencySlider.property = note.frequency\n\n    // no play and no errors\n    nstrument.amplitude = AKInstrumentProperty(value: 0.5)\n    note.frequency = AKNoteProperty(value: 220)\n    vcoInstrument.playNote(note)\n}\n\n@IBAction func playSquareWave(sender: AnyObject) {\n    note.waveformType.value = AKVCOscillator.waveformTypeForSquare().value\n    vcoInstrument.playNote(note)\n}\n\n@IBAction func playTriangleWave(sender: AnyObject) {\n    note.waveformType.value = AKVCOscillator.waveformTypeForTriangle().value\n    vcoInstrument.playNote(note)\n}\n\n@IBAction func playSawtoothWave(sender: AnyObject) {\n    note.waveformType.value = AKVCOscillator.waveformTypeForSawtooth().value\n    vcoInstrument.playNote(note)\n}\n\n@IBAction func playIntegrated(sender: AnyObject) {\n    note.waveformType.value = AKVCOscillator.waveformTypeForIntegratedSawtooth().value\n    vcoInstrument.playNote(note)\n}\n\n@IBAction func stop(sender: AnyObject) {\n    vcoInstrument.stop()\n}\n\n}\n```\n. If you want to test the XC project I've published here: https://github.com/carlosypunto/DePlaygrounds\n. oh good :-), thanks a lot\n. Hi @megastep, I think I'm done everything in a normal way. But I can not guarantee either, because it has been doing a thousand tests that I did not go into production on the AppStore. If the issue happens again I will give you more information about it.\nAt the moment I can only tell you that I have this Podfile:\n```ruby\nplatform :ios, '9.0'\ntarget 'Dytective' do\n  use_frameworks!\npod 'Alamofire', '~> 4.2.0'\n  pod 'AudioKit', '~> 3.5'\n  pod 'CryptoSwift', '~> 0.6.6'\n  pod 'R.swift', '~> 3.1.0'\n  pod 'RealmSwift', '~> 2.1.1'\n  pod 'RxCocoa', '~> 3.0.1'\n  pod 'RxSwift', '~> 3.0.1'\n  pod 'SwiftyJSON', '~> 3.1.3'\n  pod 'RappleProgressHUD', '~> 2.1.2'\nend\npost_install do |installer|\n  installer.pods_project.targets.each do |target|\n    target.build_configurations.each do |config|\n      config.build_settings['SWIFT_VERSION'] = '3.0'\n    end\n  end\nend\n```\n. Thanks, it's Perfect!. Hi @dkun7944, Thanks in any case, but temporarily I'm using that solution as I've commented above. My intention was to report the problem. It's more I'm using several AKOscillatorBank instead of just one AKMorphingOscillatorBank, I get the impression that AKMorphingOscillatorBank makes a small transition when the index of table is changed, in any case I'm doing tests to know the framework better. Sorry for the last question, it was very obvious, I've tried it and it works great with these range. Thanks for everything. ",
    "hrkfdn": "Hey. Some more information: this was not a problem with the old AkMidi interface (e.g. version 2.1.1). Other applications can handle the MIDI input as well, so I don't think that's the culprit. These Csound errors do not show up with 2.1.1, either.\nThe MIDI notes are sent via Bluetooth and processed by iOS. In my AudioKit 2.3 application I am only listening for AKMidiNoteOnNotification notifications, but not actively generating any. So my guess is that the error lies somewhere in Csound or AKMidi. I do not have permission to reopen this issue, but if you need any further input/specific logs, please let me know!\n. Sorry, AKMidi indeed doesn't seem to be the problem. If I use it stand-alone, it works fine. When creating my instruments (and \"starting\" the orchestra), however, the error messages appear and the crash is reproduceable again. Interestingly this still doesn't seem to happen with 2.1.1.\nHere's what I do: I want to play a specific audio file, when a one of 5 given MIDI notes is pressed. I catch the MIDI event and manually play a note on the instrument representing the specific sound file.\nIs there a better/more proper way to do this? Can I link the played MIDI notes to the AKInstrument directly? If so, how?\nIn case it helps, attached is a debug log output yielding the previously described crash.\n```\n2016-01-05 15:50:30.699 TrafficJammer[375:45561] Starting \n\n\n-o dac           ; Write sound to the host audio output\n--expression-opt ; Enable expression optimizations\n-m0              ; Print raw amplitudes\n-M0              ; Enable MIDI internally\n-+rtmidi=null    ; No MIDI driver\n-i adc\n\n\nnchnls = 2 \nsr     = 44100 \n0dbfs  = 1 \nksmps  = 64 \nopcode AKControl, k, a \n ain xin \n xout downsamp(ain)     \n endop\nopcode AKAudio,   a, k \n kin xin \n xout upsamp(kin)       \n endop\nopcode AKAudio,   a, a \n ain xin \n aout = ain \n xout aout\n endop\nopcode AKControl, k, k \n kin xin \n kout = kin \n xout kout\n endop\ninstr 1000 ; Turn off all notes  \n turnoff2 p4, 0, 1 \n endin \ninstr 1001 ; Event end or note off \n turnoff2 p4, 4, 1 \n endin \n\n\nf0 10000000\n\n\n0dBFS level = 32768.0\nCsound version 6.05 (float samples) Sep 18 2015\nlibsndfile-1.0.26pre6\n2016-01-05 15:50:30.711 TrafficJammer[375:45591] UnifiedCSD:  /private/var/mobile/Containers/Data/Application/AAA26E04-3112-4D13-A8C8-49F73F0BFA2B/tmp//AudioKit-375.csd\n2016-01-05 15:50:30.711 TrafficJammer[375:45591] STARTING FILE\n2016-01-05 15:50:30.711 TrafficJammer[375:45591] Creating options\n2016-01-05 15:50:30.712 TrafficJammer[375:45591] WARNING: \n2016-01-05 15:50:30.712 TrafficJammer[375:45591] option expresson-opt has no affect\n2016-01-05 15:50:30.712 TrafficJammer[375:45591] \n2016-01-05 15:50:30.712 TrafficJammer[375:45591] Creating orchestra\n2016-01-05 15:50:30.712 TrafficJammer[375:45591] Creating score\n    2016-01-05 15:50:30.716 TrafficJammer[375:45591] sorting score ...\n2016-01-05 15:50:30.716 TrafficJammer[375:45591]    ... done\n2016-01-05 15:50:30.716 TrafficJammer[375:45591] --Csound version 6.05 (float samples) Sep 18 2015\n2016-01-05 15:50:30.716 TrafficJammer[375:45591] midi channel 1 using instr 1000\n2016-01-05 15:50:30.716 TrafficJammer[375:45591] midi channel 2 using instr 1000\n2016-01-05 15:50:30.717 TrafficJammer[375:45591] midi channel 3 using instr 1000\n2016-01-05 15:50:30.717 TrafficJammer[375:45591] midi channel 4 using instr 1000\n2016-01-05 15:50:30.717 TrafficJammer[375:45591] midi channel 5 using instr 1000\n2016-01-05 15:50:30.717 TrafficJammer[375:45591] midi channel 6 using instr 1000\n2016-01-05 15:50:30.717 TrafficJammer[375:45591] midi channel 7 using instr 1000\n2016-01-05 15:50:30.717 TrafficJammer[375:45591] midi channel 8 using instr 1000\n2016-01-05 15:50:30.717 TrafficJammer[375:45591] midi channel 9 using instr 1000\n2016-01-05 15:50:30.717 TrafficJammer[375:45591] midi channel 10 using instr 1000\n2016-01-05 15:50:30.718 TrafficJammer[375:45591] midi channel 11 using instr 1000\n2016-01-05 15:50:30.718 TrafficJammer[375:45591] midi channel 12 using instr 1000\n2016-01-05 15:50:30.718 TrafficJammer[375:45591] midi channel 13 using instr 1000\n2016-01-05 15:50:30.718 TrafficJammer[375:45591] midi channel 14 using instr 1000\n2016-01-05 15:50:30.719 TrafficJammer[375:45591] midi channel 15 using instr 1000\n2016-01-05 15:50:30.719 TrafficJammer[375:45591] midi channel 16 using instr 1000\n2016-01-05 15:50:30.719 TrafficJammer[375:45591] graphics suppressed, ascii substituted\n2016-01-05 15:50:30.719 TrafficJammer[375:45591] 0dBFS level = 1.0\n2016-01-05 15:50:30.719 TrafficJammer[375:45591] 2 MIDI sources\n2016-01-05 15:50:30.720 TrafficJammer[375:45591] MIDI source 0: Session 1\n2016-01-05 15:50:30.721 TrafficJammer[375:45591] MIDI source 1: Bluetooth\n2016-01-05 15:50:30.721 TrafficJammer[375:45591] orch now loaded\n2016-01-05 15:50:30.721 TrafficJammer[375:45591] audio buffered in 1024 sample-frame blocks\n2016-01-05 15:50:30.721 TrafficJammer[375:45591] SECTION 1:\n2016-01-05 15:50:30.869 TrafficJammer[375:45591] Csound Started.\n2016-01-05 15:50:30.877 TrafficJammer[375:45561] ftable 2000:   2 points, scalemax 0.000\n2016-01-05 15:50:30.878 TrafficJammer[375:45561] Sound File Table: giSoundFileTable2000 ftgen 2000, 0, 0, 1, \"/var/mobile/Containers/Bundle/Application/94A1E631-7DE7-42EF-8A9A-08F5F9595B2C/TrafficJammer.app/Drumkits/Default/Bass.wav\", 0, 0, 0\n2016-01-05 15:50:30.879 TrafficJammer[375:45561] ftable 2000:   13656 points, scalemax 1.000\n2016-01-05 15:50:30.879 TrafficJammer[375:45561]                    '\n2016-01-05 15:50:30.880 TrafficJammer[375:45561]              -  _              .\n2016-01-05 15:50:30.880 TrafficJammer[375:45561]   -     .             ''  '-       '    .\n2016-01-05 15:50:30.880 TrafficJammer[375:45561]  _        '                                  \n2016-01-05 15:50:30.880 TrafficJammer[375:45561]    _  .        .              -     '       -    '   -    \n2016-01-05 15:50:30.880 TrafficJammer[375:45561]      _                                 .               _       -\n2016-01-05 15:50:30.880 TrafficJammer[375:45561] _______'__'._'-_\n2016-01-05 15:50:30.880 TrafficJammer[375:45561]                                 -             .                  ' .   '''''''''\n2016-01-05 15:50:30.880 TrafficJammer[375:45561]             -                     -             '  -    .    -   .\n2016-01-05 15:50:30.880 TrafficJammer[375:45561]            -                         _     -        _    '\n2016-01-05 15:50:30.880 TrafficJammer[375:45561]     _  _            -       .             .    -\n2016-01-05 15:50:30.881 TrafficJammer[375:45561]          _               _            '\n2016-01-05 15:50:30.881 TrafficJammer[375:45561]                         '    -   -\n2016-01-05 15:50:30.881 TrafficJammer[375:45561]                      -\n2016-01-05 15:50:30.881 TrafficJammer[375:45561]               '  '\n2016-01-05 15:50:30.882 TrafficJammer[375:45561] ftable 2001:   2 points, scalemax 0.000\n2016-01-05 15:50:30.882 TrafficJammer[375:45561] Sound File Table: giSoundFileTable2001 ftgen 2001, 0, 0, 1, \"/var/mobile/Containers/Bundle/Application/94A1E631-7DE7-42EF-8A9A-08F5F9595B2C/TrafficJammer.app/Drumkits/Default/Cowbell.wav\", 0, 0, 0\n2016-01-05 15:50:30.885 TrafficJammer[375:45561] ftable 2001:   66151 points, scalemax 1.000\n2016-01-05 15:50:30.885 TrafficJammer[375:45561]  _\n2016-01-05 15:50:30.885 TrafficJammer[375:45561] _-._.__________\n2016-01-05 15:50:30.885 TrafficJammer[375:45561]   .  ' ' - '  ' ' ' '  ' ' ' ' '''' ' '    ' '''' ' '' ' ' ' ' ' '' ' ' ' '  '''\n2016-01-05 15:50:30.886 TrafficJammer[375:45561] ftable 2002:   2 points, scalemax 0.000\n2016-01-05 15:50:30.887 TrafficJammer[375:45561] Sound File Table: giSoundFileTable2002 ftgen 2002, 0, 0, 1, \"/var/mobile/Containers/Bundle/Application/94A1E631-7DE7-42EF-8A9A-08F5F9595B2C/TrafficJammer.app/Drumkits/Default/Crash.wav\", 0, 0, 0\n2016-01-05 15:50:30.888 TrafficJammer[375:45561] ftable 2002:   34656 points, scalemax 1.000\n2016-01-05 15:50:30.889 TrafficJammer[375:45561]    '\n2016-01-05 15:50:30.889 TrafficJammer[375:45561] \n2016-01-05 15:50:30.889 TrafficJammer[375:45561]                  \n2016-01-05 15:50:30.889 TrafficJammer[375:45561] \n2016-01-05 15:50:30.889 TrafficJammer[375:45561]         .    -\n2016-01-05 15:50:30.889 TrafficJammer[375:45561]                      _  _\n2016-01-05 15:50:30.889 TrafficJammer[375:45561] -'_'-'__.--...-._.___\n2016-01-05 15:50:30.889 TrafficJammer[375:45561]  .          _   -  .  -       .        -.   ''.  ' '  '-''' ''  '  ''  ''  ''' '\n2016-01-05 15:50:30.889 TrafficJammer[375:45561]        .   .  .          .'\n2016-01-05 15:50:30.890 TrafficJammer[375:45561] \n2016-01-05 15:50:30.890 TrafficJammer[375:45561]   - -\n2016-01-05 15:50:30.890 TrafficJammer[375:45561] \n2016-01-05 15:50:30.890 TrafficJammer[375:45561]           \n2016-01-05 15:50:30.891 TrafficJammer[375:45561] ftable 2003:   2 points, scalemax 0.000\n2016-01-05 15:50:30.891 TrafficJammer[375:45561] Sound File Table: giSoundFileTable2003 ftgen 2003, 0, 0, 1, \"/var/mobile/Containers/Bundle/Application/94A1E631-7DE7-42EF-8A9A-08F5F9595B2C/TrafficJammer.app/Drumkits/Default/DrumMid.wav\", 0, 0, 0\n2016-01-05 15:50:30.892 TrafficJammer[375:45561] ftable 2003:   27892 points, scalemax 1.000\n2016-01-05 15:50:30.893 TrafficJammer[375:45561]         -\n2016-01-05 15:50:30.893 TrafficJammer[375:45561] \n2016-01-05 15:50:30.893 TrafficJammer[375:45561] \n2016-01-05 15:50:30.893 TrafficJammer[375:45561]                        _\n2016-01-05 15:50:30.893 TrafficJammer[375:45561]  -     '        '   _   '     _      '\n2016-01-05 15:50:30.893 TrafficJammer[375:45561] -_.'_'__'-__-_-._---..-____\n2016-01-05 15:50:30.893 TrafficJammer[375:45561]       _  -         - '    ' -      '  _  ' ' ' .  -  '' '-  '  '    ''  '  '  '\n2016-01-05 15:50:30.893 TrafficJammer[375:45561]              ' -  -   '      -  -            .\n2016-01-05 15:50:30.893 TrafficJammer[375:45561]           '              '\n2016-01-05 15:50:30.894 TrafficJammer[375:45561]               .\n2016-01-05 15:50:30.894 TrafficJammer[375:45561]    .\n2016-01-05 15:50:30.894 TrafficJammer[375:45561]      .\n2016-01-05 15:50:30.895 TrafficJammer[375:45561] ftable 2004:   2 points, scalemax 0.000\n2016-01-05 15:50:30.896 TrafficJammer[375:45561] Sound File Table: giSoundFileTable2004 ftgen 2004, 0, 0, 1, \"/var/mobile/Containers/Bundle/Application/94A1E631-7DE7-42EF-8A9A-08F5F9595B2C/TrafficJammer.app/Drumkits/Default/Snare.wav\", 0, 0, 0\n2016-01-05 15:50:30.897 TrafficJammer[375:45561] ftable 2004:   22051 points, scalemax 1.000\n2016-01-05 15:50:30.897 TrafficJammer[375:45561]    -\n2016-01-05 15:50:30.897 TrafficJammer[375:45561] \n2016-01-05 15:50:30.897 TrafficJammer[375:45561]      _.\n2016-01-05 15:50:30.897 TrafficJammer[375:45561] \n2016-01-05 15:50:30.897 TrafficJammer[375:45561] _-._.___________\n2016-01-05 15:50:30.898 TrafficJammer[375:45561]   _      - -.-'      '' ' ''''     ' '   '' '   '  '  '' '' '        '  ' '''  '\n2016-01-05 15:50:30.898 TrafficJammer[375:45561] \n2016-01-05 15:50:30.898 TrafficJammer[375:45561]  -  .\n2016-01-05 15:50:30.900 TrafficJammer[375:45561] \n;=== TrafficJammerAudioFileInstrument1 ===\n;--- Global Parameters ---\n;--- User-defined operations ---\ninstr 1\n;---- Inputs: Note Properties ----\np3 = p3\niNoteProperty3 = p4\niNoteProperty2 = p5\n;---- Inputs: Instrument Properties ----\n;---- Opcodes ----\naMonoSoundFileLooper4 loscil3 iNoteProperty2, AKControl(iNoteProperty3), 2000, 1, 0\nouts aMonoSoundFileLooper4, aMonoSoundFileLooper4\nendin\n2016-01-05 15:50:30.901 TrafficJammer[375:45561] \n;=== TrafficJammerAudioFileInstrument2 ===\n;--- Global Parameters ---\n;--- User-defined operations ---\ninstr 2\n;---- Inputs: Note Properties ----\np3 = p3\niNoteProperty15 = p4\niNoteProperty14 = p5\n;---- Inputs: Instrument Properties ----\n;---- Opcodes ----\naMonoSoundFileLooper16 loscil3 iNoteProperty14, AKControl(iNoteProperty15), 2001, 1, 0\nouts aMonoSoundFileLooper16, aMonoSoundFileLooper16\nendin\n2016-01-05 15:50:30.903 TrafficJammer[375:45561] \n;=== TrafficJammerAudioFileInstrument3 ===\n;--- Global Parameters ---\n;--- User-defined operations ---\ninstr 3\n;---- Inputs: Note Properties ----\np3 = p3\niNoteProperty27 = p4\niNoteProperty26 = p5\n;---- Inputs: Instrument Properties ----\n;---- Opcodes ----\naMonoSoundFileLooper28 loscil3 iNoteProperty26, AKControl(iNoteProperty27), 2002, 1, 0\nouts aMonoSoundFileLooper28, aMonoSoundFileLooper28\nendin\n2016-01-05 15:50:30.904 TrafficJammer[375:45561] \n;=== TrafficJammerAudioFileInstrument4 ===\n;--- Global Parameters ---\n;--- User-defined operations ---\ninstr 4\n;---- Inputs: Note Properties ----\np3 = p3\niNoteProperty39 = p4\niNoteProperty38 = p5\n;---- Inputs: Instrument Properties ----\n;---- Opcodes ----\naMonoSoundFileLooper40 loscil3 iNoteProperty38, AKControl(iNoteProperty39), 2003, 1, 0\nouts aMonoSoundFileLooper40, aMonoSoundFileLooper40\nendin\n2016-01-05 15:50:30.905 TrafficJammer[375:45561] \n;=== TrafficJammerAudioFileInstrument5 ===\n;--- Global Parameters ---\n;--- User-defined operations ---\ninstr 5\n;---- Inputs: Note Properties ----\np3 = p3\niNoteProperty51 = p4\niNoteProperty50 = p5\n;---- Inputs: Instrument Properties ----\n;---- Opcodes ----\naMonoSoundFileLooper52 loscil3 iNoteProperty50, AKControl(iNoteProperty51), 2004, 1, 0\nouts aMonoSoundFileLooper52, aMonoSoundFileLooper52\nendin\n2016-01-05 15:50:30.907 TrafficJammer[375:45561] ftable 2005:   2 points, scalemax 0.000\n2016-01-05 15:50:30.907 TrafficJammer[375:45561] Sound File Table: giSoundFileTable2005 ftgen 2005, 0, 0, 1, \"/var/mobile/Containers/Bundle/Application/94A1E631-7DE7-42EF-8A9A-08F5F9595B2C/TrafficJammer.app/Drumkits/Japanese/a.wav\", 0, 0, 0\n2016-01-05 15:50:30.908 TrafficJammer[375:45561] ftable 2005:   16129 points, scalemax 1.000\n2016-01-05 15:50:30.909 TrafficJammer[375:45561]                                    .\n2016-01-05 15:50:30.909 TrafficJammer[375:45561] \n2016-01-05 15:50:30.909 TrafficJammer[375:45561]                                      .\n2016-01-05 15:50:30.909 TrafficJammer[375:45561] \n2016-01-05 15:50:30.909 TrafficJammer[375:45561]                                         . \n2016-01-05 15:50:30.909 TrafficJammer[375:45561]                                              _ .\n2016-01-05 15:50:30.909 TrafficJammer[375:45561] _______-._.____\n2016-01-05 15:50:30.909 TrafficJammer[375:45561]                  ''   '' '    '       .    -     '' - '' ' ' '' ' ' '  ' '  ' '\n2016-01-05 15:50:30.909 TrafficJammer[375:45561]                                            '  . '\n2016-01-05 15:50:30.909 TrafficJammer[375:45561]                                          _\n2016-01-05 15:50:30.910 TrafficJammer[375:45561]                                   '\n2016-01-05 15:50:30.910 TrafficJammer[375:45561] \n2016-01-05 15:50:30.910 TrafficJammer[375:45561]                                     -\n2016-01-05 15:50:30.911 TrafficJammer[375:45561] ftable 2006:   2 points, scalemax 0.000\n2016-01-05 15:50:30.911 TrafficJammer[375:45561] Sound File Table: giSoundFileTable2006 ftgen 2006, 0, 0, 1, \"/var/mobile/Containers/Bundle/Application/94A1E631-7DE7-42EF-8A9A-08F5F9595B2C/TrafficJammer.app/Drumkits/Japanese/b.wav\", 0, 0, 0\n2016-01-05 15:50:30.913 TrafficJammer[375:45561] ftable 2006:   59905 points, scalemax 1.000\n2016-01-05 15:50:30.913 TrafficJammer[375:45561] ___...-._.______\n2016-01-05 15:50:30.914 TrafficJammer[375:45561]       '  --'' _   '  ''' --' -'      '  '' ''' ''   '  '' ''''''   '  '' ''' ''\n2016-01-05 15:50:30.914 TrafficJammer[375:45561] ftable 2007:   2 points, scalemax 0.000\n2016-01-05 15:50:30.915 TrafficJammer[375:45561] Sound File Table: giSoundFileTable2007 ftgen 2007, 0, 0, 1, \"/var/mobile/Containers/Bundle/Application/94A1E631-7DE7-42EF-8A9A-08F5F9595B2C/TrafficJammer.app/Drumkits/Japanese/c.wav\", 0, 0, 0\n2016-01-05 15:50:30.917 TrafficJammer[375:45561] ftable 2007:   69121 points, scalemax 1.000\n2016-01-05 15:50:30.917 TrafficJammer[375:45561]         -\n2016-01-05 15:50:30.918 TrafficJammer[375:45561]          ' .\n2016-01-05 15:50:30.918 TrafficJammer[375:45561] ___._________\n2016-01-05 15:50:30.918 TrafficJammer[375:45561]     '     -   -.     ' -.'.-.--'- '''-'-'' ' '''''' ' ' ' '''' ' ' ' ' '' ' ' '\n2016-01-05 15:50:30.918 TrafficJammer[375:45561]                 -...\n2016-01-05 15:50:30.919 TrafficJammer[375:45561] ftable 2008:   2 points, scalemax 0.000\n2016-01-05 15:50:30.919 TrafficJammer[375:45561] Sound File Table: giSoundFileTable2008 ftgen 2008, 0, 0, 1, \"/var/mobile/Containers/Bundle/Application/94A1E631-7DE7-42EF-8A9A-08F5F9595B2C/TrafficJammer.app/Drumkits/Japanese/d.wav\", 0, 0, 0\n2016-01-05 15:50:30.922 TrafficJammer[375:45561] ftable 2008:   87553 points, scalemax 1.000\n2016-01-05 15:50:30.922 TrafficJammer[375:45561]            -\n2016-01-05 15:50:30.922 TrafficJammer[375:45561] \n2016-01-05 15:50:30.922 TrafficJammer[375:45561]                  .\n2016-01-05 15:50:30.922 TrafficJammer[375:45561] _'-_'..-._._..______\n2016-01-05 15:50:30.923 TrafficJammer[375:45561]     '  _    . - .     '' .-  ..   ---   '''  '-'   '''  '''  ''''  '''   '''  '\n2016-01-05 15:50:30.923 TrafficJammer[375:45561]          '   ' .   '-\n2016-01-05 15:50:30.923 TrafficJammer[375:45561] ftable 2009:   2 points, scalemax 0.000\n2016-01-05 15:50:30.924 TrafficJammer[375:45561] Sound File Table: giSoundFileTable2009 ftgen 2009, 0, 0, 1, \"/var/mobile/Containers/Bundle/Application/94A1E631-7DE7-42EF-8A9A-08F5F9595B2C/TrafficJammer.app/Drumkits/Japanese/e.wav\", 0, 0, 0\n2016-01-05 15:50:30.927 TrafficJammer[375:45561] ftable 2009:   108289 points, scalemax 1.000\n2016-01-05 15:50:30.927 TrafficJammer[375:45561]       '-\n2016-01-05 15:50:30.927 TrafficJammer[375:45561]              -  _.     -\n2016-01-05 15:50:30.927 TrafficJammer[375:45561] __..-.-_.._.._..._____\n2016-01-05 15:50:30.927 TrafficJammer[375:45561]           '-  -    -.-    '  '-_   -.'   .-'  -'-   '-    -'   '''   ''   '''\n2016-01-05 15:50:30.927 TrafficJammer[375:45561]      _          '         '\n2016-01-05 15:50:30.927 TrafficJammer[375:45561]         '\n2016-01-05 15:50:30.928 TrafficJammer[375:45561]          .\n2016-01-05 15:50:30.928 TrafficJammer[375:45561] \n;=== TrafficJammerAudioFileInstrument6 ===\n;--- Global Parameters ---\n;--- User-defined operations ---\ninstr 6\n;---- Inputs: Note Properties ----\np3 = p3\niNoteProperty68 = p4\niNoteProperty67 = p5\n;---- Inputs: Instrument Properties ----\n;---- Opcodes ----\naLeftStereoSoundFileLooper6970, aRightStereoSoundFileLooper6971 loscil3 iNoteProperty67, AKControl(iNoteProperty68), 2005, 1, 0\nouts aLeftStereoSoundFileLooper6970, aRightStereoSoundFileLooper6971\nendin\n2016-01-05 15:50:30.930 TrafficJammer[375:45561] \n;=== TrafficJammerAudioFileInstrument7 ===\n;--- Global Parameters ---\n;--- User-defined operations ---\ninstr 7\n;---- Inputs: Note Properties ----\np3 = p3\niNoteProperty79 = p4\niNoteProperty78 = p5\n;---- Inputs: Instrument Properties ----\n;---- Opcodes ----\naLeftStereoSoundFileLooper8081, aRightStereoSoundFileLooper8082 loscil3 iNoteProperty78, AKControl(iNoteProperty79), 2006, 1, 0\nouts aLeftStereoSoundFileLooper8081, aRightStereoSoundFileLooper8082\nendin\n2016-01-05 15:50:30.931 TrafficJammer[375:45561] \n;=== TrafficJammerAudioFileInstrument8 ===\n;--- Global Parameters ---\n;--- User-defined operations ---\ninstr 8\n;---- Inputs: Note Properties ----\np3 = p3\niNoteProperty90 = p4\niNoteProperty89 = p5\n;---- Inputs: Instrument Properties ----\n;---- Opcodes ----\naLeftStereoSoundFileLooper9192, aRightStereoSoundFileLooper9193 loscil3 iNoteProperty89, AKControl(iNoteProperty90), 2007, 1, 0\nouts aLeftStereoSoundFileLooper9192, aRightStereoSoundFileLooper9193\nendin\n2016-01-05 15:50:30.932 TrafficJammer[375:45561] \n;=== TrafficJammerAudioFileInstrument9 ===\n;--- Global Parameters ---\n;--- User-defined operations ---\ninstr 9\n;---- Inputs: Note Properties ----\np3 = p3\niNoteProperty101 = p4\niNoteProperty100 = p5\n;---- Inputs: Instrument Properties ----\n;---- Opcodes ----\naLeftStereoSoundFileLooper102103, aRightStereoSoundFileLooper102104 loscil3 iNoteProperty100, AKControl(iNoteProperty101), 2008, 1, 0\nouts aLeftStereoSoundFileLooper102103, aRightStereoSoundFileLooper102104\nendin\n2016-01-05 15:50:30.933 TrafficJammer[375:45561] \n;=== TrafficJammerAudioFileInstrument10 ===\n;--- Global Parameters ---\n;--- User-defined operations ---\ninstr 10\n;---- Inputs: Note Properties ----\np3 = p3\niNoteProperty112 = p4\niNoteProperty111 = p5\n;---- Inputs: Instrument Properties ----\n;---- Opcodes ----\naLeftStereoSoundFileLooper113114, aRightStereoSoundFileLooper113115 loscil3 iNoteProperty111, AKControl(iNoteProperty112), 2009, 1, 0\nouts aLeftStereoSoundFileLooper113114, aRightStereoSoundFileLooper113115\nendin\nLocation Init Complete\nview appeared\nmidiManager: Note on: 38, velocity: 35\n2016-01-05 15:50:33.236 TrafficJammer[375:45608] \n2016-01-05 15:50:33.237 TrafficJammer[375:45608] PERF ERROR in instr 1000: \n2016-01-05 15:50:33.237 TrafficJammer[375:45608] turnoff2: invalid instrument number\n2016-01-05 15:50:33.237 TrafficJammer[375:45608] \n2016-01-05 15:50:33.237 TrafficJammer[375:45608]  \n2016-01-05 15:50:33.238 TrafficJammer[375:45608] turnoff2.c \n2016-01-05 15:50:33.238 TrafficJammer[375:45608] p4 \n2016-01-05 15:50:33.238 TrafficJammer[375:45608] 0\n2016-01-05 15:50:33.238 TrafficJammer[375:45608] 1\n2016-01-05 15:50:33.239 TrafficJammer[375:45608] \n2016-01-05 15:50:33.239 TrafficJammer[375:45608]    note aborted\nmidiManager: Note on: 36, velocity: 67\n2016-01-05 15:50:33.259 TrafficJammer[375:45608] \n2016-01-05 15:50:33.260 TrafficJammer[375:45608] PERF ERROR in instr 1000: \n2016-01-05 15:50:33.260 TrafficJammer[375:45608] turnoff2: invalid instrument number\n2016-01-05 15:50:33.260 TrafficJammer[375:45608] \n2016-01-05 15:50:33.260 TrafficJammer[375:45608]  \n2016-01-05 15:50:33.261 TrafficJammer[375:45608] turnoff2.c \n2016-01-05 15:50:33.261 TrafficJammer[375:45608] p4 \n2016-01-05 15:50:33.261 TrafficJammer[375:45608] 0\n2016-01-05 15:50:33.272 TrafficJammer[375:45608] 1\n2016-01-05 15:50:33.272 TrafficJammer[375:45608] \n2016-01-05 15:50:33.273 TrafficJammer[375:45608]    note aborted\n2016-01-05 15:50:33.398 TrafficJammer[375:45608] \n2016-01-05 15:50:33.468 TrafficJammer[375:45608] \nmidiManager: Note on: 38, velocity: 16\n2016-01-05 15:50:34.419 TrafficJammer[375:45608] \n2016-01-05 15:50:34.420 TrafficJammer[375:45608] PERF ERROR in instr 1000: \n2016-01-05 15:50:34.420 TrafficJammer[375:45608] turnoff2: invalid instrument number\n2016-01-05 15:50:34.420 TrafficJammer[375:45608] \n2016-01-05 15:50:34.421 TrafficJammer[375:45608]  \n2016-01-05 15:50:34.421 TrafficJammer[375:45608] turnoff2.c \n2016-01-05 15:50:34.421 TrafficJammer[375:45608] p4 \n2016-01-05 15:50:34.421 TrafficJammer[375:45608] 0\n2016-01-05 15:50:34.422 TrafficJammer[375:45608] 1\n2016-01-05 15:50:34.422 TrafficJammer[375:45608] \n2016-01-05 15:50:34.422 TrafficJammer[375:45608]    note aborted\nmidiManager: Note on: 36, velocity: 61\n2016-01-05 15:50:34.466 TrafficJammer[375:45608] \n2016-01-05 15:50:34.466 TrafficJammer[375:45608] PERF ERROR in instr 1000: \n2016-01-05 15:50:34.467 TrafficJammer[375:45608] turnoff2: invalid instrument number\n2016-01-05 15:50:34.467 TrafficJammer[375:45608] \n2016-01-05 15:50:34.467 TrafficJammer[375:45608]  \n2016-01-05 15:50:34.467 TrafficJammer[375:45608] turnoff2.c \n2016-01-05 15:50:34.468 TrafficJammer[375:45608] p4 \n2016-01-05 15:50:34.468 TrafficJammer[375:45608] 0\n2016-01-05 15:50:34.468 TrafficJammer[375:45608] 1\n2016-01-05 15:50:34.468 TrafficJammer[375:45608] \n2016-01-05 15:50:34.469 TrafficJammer[375:45608]    note aborted\n2016-01-05 15:50:34.605 TrafficJammer[375:45608] \n2016-01-05 15:50:34.675 TrafficJammer[375:45608] \nmidiManager: Note on: 38, velocity: 72\n2016-01-05 15:50:36.114 TrafficJammer[375:45608] \n2016-01-05 15:50:36.114 TrafficJammer[375:45608] PERF ERROR in instr 1000: \n2016-01-05 15:50:36.114 TrafficJammer[375:45608] turnoff2: invalid instrument number\n2016-01-05 15:50:36.115 TrafficJammer[375:45608] \n2016-01-05 15:50:36.115 TrafficJammer[375:45608]  \n2016-01-05 15:50:36.115 TrafficJammer[375:45608] turnoff2.c \n2016-01-05 15:50:36.115 TrafficJammer[375:45608] p4 \n2016-01-05 15:50:36.116 TrafficJammer[375:45608] 0\n2016-01-05 15:50:36.116 TrafficJammer[375:45608] 1\n2016-01-05 15:50:36.116 TrafficJammer[375:45608] \n2016-01-05 15:50:36.116 TrafficJammer[375:45608]    note aborted\nmidiManager: Note on: 36, velocity: 79\n2016-01-05 15:50:36.137 TrafficJammer[375:45608] \n2016-01-05 15:50:36.137 TrafficJammer[375:45608] PERF ERROR in instr 1000: \n2016-01-05 15:50:36.138 TrafficJammer[375:45608] turnoff2: invalid instrument number\n2016-01-05 15:50:36.138 TrafficJammer[375:45608] \n2016-01-05 15:50:36.138 TrafficJammer[375:45608]  \n2016-01-05 15:50:36.138 TrafficJammer[375:45608] turnoff2.c \n2016-01-05 15:50:36.139 TrafficJammer[375:45608] p4 \n2016-01-05 15:50:36.139 TrafficJammer[375:45608] 0\n2016-01-05 15:50:36.139 TrafficJammer[375:45608] 1\n2016-01-05 15:50:36.139 TrafficJammer[375:45608] \n2016-01-05 15:50:36.139 TrafficJammer[375:45608]    note aborted\n2016-01-05 15:50:36.276 TrafficJammer[375:45608] \n2016-01-05 15:50:36.299 TrafficJammer[375:45608] \nmidiManager: Note on: 38, velocity: 18\n2016-01-05 15:50:36.903 TrafficJammer[375:45608] \n2016-01-05 15:50:36.903 TrafficJammer[375:45608] PERF ERROR in instr 1000: \n2016-01-05 15:50:36.903 TrafficJammer[375:45608] turnoff2: invalid instrument number\n2016-01-05 15:50:36.904 TrafficJammer[375:45608] \n2016-01-05 15:50:36.904 TrafficJammer[375:45608]  \n2016-01-05 15:50:36.904 TrafficJammer[375:45608] turnoff2.c \n2016-01-05 15:50:36.904 TrafficJammer[375:45608] p4 \n2016-01-05 15:50:36.905 TrafficJammer[375:45608] 0\n2016-01-05 15:50:36.905 TrafficJammer[375:45608] 1\n2016-01-05 15:50:36.906 TrafficJammer[375:45608] \n2016-01-05 15:50:36.907 TrafficJammer[375:45608]    note aborted\nmidiManager: Note on: 36, velocity: 65\n2016-01-05 15:50:36.949 TrafficJammer[375:45608] \n2016-01-05 15:50:36.950 TrafficJammer[375:45608] PERF ERROR in instr 1000: \n2016-01-05 15:50:36.950 TrafficJammer[375:45608] turnoff2: invalid instrument number\n2016-01-05 15:50:36.950 TrafficJammer[375:45608] \n2016-01-05 15:50:36.951 TrafficJammer[375:45608]  \n2016-01-05 15:50:36.951 TrafficJammer[375:45608] turnoff2.c \n2016-01-05 15:50:36.951 TrafficJammer[375:45608] p4 \n2016-01-05 15:50:36.951 TrafficJammer[375:45608] 0\n2016-01-05 15:50:36.952 TrafficJammer[375:45608] 1\n2016-01-05 15:50:36.953 TrafficJammer[375:45608] \n2016-01-05 15:50:36.954 TrafficJammer[375:45608]    note aborted\n2016-01-05 15:50:37.088 TrafficJammer[375:45608] \n2016-01-05 15:50:37.158 TrafficJammer[375:45608] \nmidiManager: Note on: 36, velocity: 74\nmidiManager: Note on: 38, velocity: 81\n2016-01-05 15:50:37.808 TrafficJammer[375:45608] \n2016-01-05 15:50:37.809 TrafficJammer[375:45608] \n2016-01-05 15:50:37.809 TrafficJammer[375:45608] PERF ERROR in instr 1000: \n2016-01-05 15:50:37.809 TrafficJammer[375:45608] turnoff2: invalid instrument number\n2016-01-05 15:50:37.809 TrafficJammer[375:45608] \n2016-01-05 15:50:37.810 TrafficJammer[375:45608]  \n2016-01-05 15:50:37.810 TrafficJammer[375:45608] turnoff2.c \n2016-01-05 15:50:37.810 TrafficJammer[375:45608] p4 \n2016-01-05 15:50:37.810 TrafficJammer[375:45608] 0\n2016-01-05 15:50:37.811 TrafficJammer[375:45608] 1\n2016-01-05 15:50:37.811 TrafficJammer[375:45608] \n2016-01-05 15:50:37.811 TrafficJammer[375:45608]    note aborted\n2016-01-05 15:50:37.811 TrafficJammer[375:45608] PERF ERROR in instr 1000: \n2016-01-05 15:50:37.812 TrafficJammer[375:45608] turnoff2: invalid instrument number\n2016-01-05 15:50:37.812 TrafficJammer[375:45608] \n2016-01-05 15:50:37.812 TrafficJammer[375:45608]  \n2016-01-05 15:50:37.812 TrafficJammer[375:45608] turnoff2.c \n2016-01-05 15:50:37.813 TrafficJammer[375:45608] p4 \n2016-01-05 15:50:37.813 TrafficJammer[375:45608] 0\n2016-01-05 15:50:37.816 TrafficJammer[375:45608] 1\n2016-01-05 15:50:37.816 TrafficJammer[375:45608] \n2016-01-05 15:50:37.817 TrafficJammer[375:45608]    note aborted\n2016-01-05 15:50:37.817 TrafficJammer[375:45608] PERF ERROR in instr 1000: \n2016-01-05 15:50:37.817 TrafficJammer[375:45608] turnoff2: invalid instrument number\n2016-01-05 15:50:37.818 TrafficJammer[375:45608] \n2016-01-05 15:50:37.818 TrafficJammer[375:45608]  \n2016-01-05 15:50:37.819 TrafficJammer[375:45608] turnoff2.c \n2016-01-05 15:50:37.820 TrafficJammer[375:45608] p4 \n2016-01-05 15:50:37.820 TrafficJammer[375:45608] 0\n2016-01-05 15:50:37.821 TrafficJammer[375:45608] 1\n2016-01-05 15:50:37.821 TrafficJammer[375:45608] \n2016-01-05 15:50:37.822 TrafficJammer[375:45608]    note aborted\n```\n. Hey, my instruments now subclass AKMidiInstrument and call startListeningOnMidiChannel(1). The errors are now gone, I do still manually have to play the notes (although maybe that's how it's supposed to be done?).\nIf you are interested, I can give you more input. Unfortunately a screenshare is not an option, however :(\nThank you, either way, for your assistance. Very impressed with AudioKit!\n. ",
    "gmcerveny": "Yes that's it, I should've checked the develop branch.\n. ",
    "alexdmiller": "That doesn't address the issue. First of all, I don't think a file called \"AudioFilePlayer.swift\" exists in the project. Secondly, the file extension isn't the confusing part. The confusing part is the documentation doesn't tell you how to use AudioFilePlayer.m (whether to create an instance of AudioFilePlayer, or extend the class, or copy and paste the code into your own project). The documentation needs to be more explicit about how to use the AudioFilePlayer class.\nI've re-opened the issue on the audiokit.github.io project:\nhttps://github.com/audiokit/audiokit.github.io/issues/62\n. ",
    "warpling": "It appears that the AKEvent setup in viewDidAppear for the AnalysisViewController never gets run on the devices I tested, but does run in the simulator.\n. Awesome! I'll go check it out :)\n~Ryan\nOn Jan 20, 2016, 10:34 AM -0800, Aurelius Prochazkanotifications@github.com, wrote:\n\nClosed#265(https://github.com/audiokit/AudioKit/issues/265).\n\u2014\nReply to this email directly orview it on GitHub(https://github.com/audiokit/AudioKit/issues/265#event-520746080).\n. I've seen this happen when developing on my iPhone 7\u2026 curious if it thinks the lightning cable at some point is an output\u2026 This could also all be a red herring. \n\nSimilar sounding thread on Apple dev forums: https://forums.developer.apple.com/thread/73166  . Wrong branch. \ud83d\ude2c . I think the thought was that it's a convenience that can also be dangerous. I'm not sure about this particular case but an implicit call to start could, trigger something like a mic permission prompt before the developer prefers to ask simply as unintended the side-effect of object initialized.\nIf we're moving towards hot-disconnecting/swapping where multiple graph objects may be kept on hand but not active I think it makes sense to make enabling/disabling them more explicit. It's definitely worth a larger discussion if we want to move things towards being more declarative which I think would prevent some pitfalls and not affect the learning curve of the library if we kept the great plethora of examples current :). Very good point. I can add the iOS checks but do you think we should investigate a similar problem exists for macOS? I don't want to introduce something that makes the platforms too uneven.\n. I'm pretty sure this had to do with the phone call triggering the app resigning and an engine interruption which AK hears and then attempts to start the AVAudioSession again; it fails when the microphone is active because it's trying to start AVAudioSession in a category that it's not allowed to be in (PlayAndRecord or Record) since the app is not in the foreground and likely doesn't have background audio entitlements. \nThis PR stops AK from attempting to restart if it doesn't have the correct entitlement to restart in the category it wants: https://github.com/AudioKit/AudioKit/pull/956\nStill in develop branch.. Thank you, personally, for filling that!\nLet me know if you get a chance to test the develop branch to see if it fixes the issue too.. I was talking with @dave234 and thought this may occur because the Phone has it's own AudioEngine that is holding resources AK's AudioEngine wants when it starts up? This may inform how to check for this before start-up more agnostically and could be tested by creating an AudioEngine that holds audio resources AudioKit needs before attempting to start AudioKit?. While checking CTCallCenter as a condition for locking might work for the mentioned use case I'm uncomfortable with this solution as it seems to overlook a more general solutions that could fix related crashes. It's unlikely the conflict is related purely to phone calls; have you looked into other audio routing callbacks to see if there's a more general way to cover this case? . Yes that's what I've seen as well \ud83e\udd14 I won't have a chance to mess with it for a bit but have you tried polling for available input devices after receiving a restart or route change notification?. It's possible to fix. Based on AudioKit's default category, mixing, and routing settings it appears it should be mixing and not pausing music when started, but it is not. I'd like to explore this more when I can because it probably will surface something else that is not as it appears configuration wise and because my users are mentioning it.. What do you mean by \"a control\"?\nWhich Audio Kit sample app are you testing with? I'll try to use the same.\n . Ah right! I'll work on this. When I first tested it I used a few AK based apps on the store and an AK sample app. I know when I used to use TAAE it wasn't an issue so I assume it's not AV unless it's a recent bug but it seems unlikely.. Would love to get @dave234's write off if possible.\n. Also not sure the hot fix procedure but might be worth getting this into master soon. Doubt many people are using it but it does fix a potential crash. . It might be a strange use case for most: I use many AKAudioPlayers to loop sound effects for different levels in my game. Init-ing them all at startup can take up to 3s on older devices. With lazy buffering start-up takes closer to 0.5s with little noticeable lag when they're played for the first time. . It was added in a PR a month or so ago that probably could have stood to have gotten a second opinion. I can understand it feeling like application logic but since AKAudioPlayer's init requires an AKAudioFile it doesn't really support that behavior without the hack of providing any empty sound file that's later swapped out? Can you think of a better way to avoid creating these objects at start-up while still being able to add them to an already connected effect chain without stopping the engine? Maybe I have yet to discover how powerful the new hot swapping stuff is.. @hhanesand because initializing and connecting each level's effect chain to the graph currently requires stopping and and starting the engine which has noticeable lag. Maybe I'm wrong?. @SwiftyFlow, could you elaborate? Are you declaring an AKMicrophone in your code before starting AudioKit and saying that when you then start AudioKit, currently playing music pauses? Are you setting AKSettings to enable audioInputEnabled?. I think @SwiftyFlow possibly thought it was related to the changes, but you're right that it'd be worth making a new issue if it's unsolved.. @SwiftyFlow Please start this as an issue. Feel free to leave the comments for posterity unless @aure wants them removed.. Hey @johnellmore, I run this sort of flow all the time. (I think my use was the impetus for the odd AKMicrophoneTracker too\u2014thank you Aure \ud83d\ude07). I'm not sure if your code example is a smaller example you made or reflects fully what you were actually trying but did you try configuring AKSettings? The point of AKMicrophoneTracker (I think) is to allow microphone tracking while bypassing the normal flow AKFrequencyTracker would so it may be a little wonky.\nAKSettings.audioInputEnabled = true\nAlso fwiw I usually call AKMicrophoneTracker.start() before I call AudioKit.start() itself.. This branch is in progress and should not be merged. Would like to test and integrate further exception catching (demoed by Dave: here). @aure I didn't see any feedback on the PR itself (afaik) just that we need to update tests to pass. . It's definitely a tough balance but as Dave mentioned I don't think this makes AK less beginner friendly and it does allow us to make less potentially harmful assumptions about how people are using the framework.. @aure pretty sure this is the bug I've mentioned before. Checking if engine is running doesn't help as mentioned. I want to think it's some sort of race condition or has do with a competing system engine but I've been at a loss about this one for awhile. It seems to most often happen when AK's engine is forced to restart due to phone call, backgrounding, wireless headphones connecting etc.. Oh man, thanks for the heads up on this. All for reducing the bug surface. I believe the reason Aure set this up for me was because using AKFrequencyTracker would touch the audio engine's input node which disabled device haptics until the input node was relinquished by replacing the engine. By using a separate tracker engine we could enable it for mic-based stuff and then throw it away immediately after to resume use of haptics.\nI'll try to test if there's a way around this now but won't be able to until October 1st or so :[. \u00ac___\u00ac\n. (\u256f\u00b0\u25a1\u00b0\uff09\u256f\ufe35 \u253b\u2501\u253b. Deal with it Hound.. (Sorry for the delay here.) I'm not sure about this one. I know an engine can be released but I'm not sure how or if AK would handle someone actually doing this. One reason to potentially release an engine is if it's input node was touched to do mic analysis (via a get or set), which would shut down the taptic engine on devices with them; the only way I've found so far to nil out the input node once touched is to annihilate the engine by nil-ing it out.. ",
    "analogcode": "You can add that \"X\" in if you'd like. \n. Super non-swifty. Agreed. It should probably be smallKnobIndicator\n. I wonder who created those property names? ;)\n. @dkun7944, congrats on the Apple love. And, it was super cool of you to upload your code to Github so others can learn from it. You should join the AudioKit slack. We're cheering you on there. . ",
    "davut5": "can u give me an example for iOS?\n. please put an example for us. :(\n. oh ok thanks..:) working now.   i want to hear the smallest frequnecy sounds.\nWhich frequency do I need to set? and which line to edit \ud83d\udc4d . ",
    "Isuru-Nanayakkara": "Hi @aure, can you please elaborate on how to use the AKAudioRecorder class? I have the following setup.\n``` swift\nimport AudioKit\nclass ViewController: UIViewController {\nvar recorder: AKAudioRecorder!\nvar recording = false\n\noverride func viewDidLoad() {\n    super.viewDidLoad()\n\n    let documentDirPath = NSSearchPathForDirectoriesInDomains(.DocumentDirectory, .UserDomainMask, true).first!\n    let recordingAudioFilePath = NSURL(string: documentDirPath)!.URLByAppendingPathComponent(\"recording.caf\").path!\n    let recordingAudioFileURL = NSURL(fileURLWithPath: recordingAudioFilePath)\n    recorder = AKAudioRecorder(recordingAudioFileURL.absoluteString)\n}\n\n@IBAction func didTapRecordButton(sender: UIButton) {\n    if recording == true {\n        print(\"Recording stopped\")\n        recording = false\n        recorder.stop()\n    } else {\n        print(\"Recording started\")\n        recording = true\n        recorder.record()\n    }\n}\n\n}\n```\nThe output of the recordingAudioFileURL is this;\nfile:///var/mobile/Containers/Data/Application/CA55306F-E145-4338-9F3E-5492CBFF13F2/Documents/recording.caf\nBut it crashes at the recorder = AKAudioRecorder(recordingAudioFileURL.absoluteString) line.\n\nWhat am I doing wrong here?\n. ",
    "nick-thompson": "Hi, I'm trying to follow along here and get recording audio from the mic in a simple iOS app, and I'm hitting a few errors.\n``` swift\nimport AudioKit\nlet mic = AKMicrophone()\nlet bundle = NSBundle.mainBundle()\nlet file = bundle.pathForResource(\"recording\", ofType: \"wav\")\n@objc(AudioEngineManager)\nclass AudioEngineManager: NSObject {\nvar recorder = AKMicrophoneRecorder(file!)\n  var sampler = AKSampler()\n@objc func prepareRecorder() -> Void {\n    AudioKit.output = sampler\n    AudioKit.start()\n  }\n@objc func startRecording() -> Void {\n    recorder.record()\n  }\n@objc func stopRecording() -> Void {\n    recorder.stop()\n  }\n@objc func play() -> Void {\n    sampler.loadWav(file!)\n    sampler.playNote()\n  }\n```\nThe current error I'm having is that file unwraps as nil while trying to initialize the microphone recorder. Perhaps that's a silly error as I'm new to swift, but I borrowed it straight from the OS X playground example for recording from mic, so I'm a little confused.\nIn a previous example that I was working through, I seemed to be able to start/stop the recorder successfully, and when trying to play(), the loadWav(file!) line would fail because it couldn't find the file.\nHoping you can help me kill two birds with one stone here, I'm brand new to swift and to AudioKit so this is all a little confusing! Thank you\n. ",
    "Asbat": "Can anyone write some simple example of how to start the microphone, record some samples and write them in a file in the documents directory? Is that so hard?! Excuse me if AudioKit has such example already. I just can't find any helpful info. Thanks!\n. I just submitted my app successfully after reading the section \"Handling Bitcode\" from INSTALL.md.\nJust one note: I was trying to submit the app without BITCODE enabled and still it didn't want to accept the build. So you could probably add that to the docs.\nThanks @aure @megastep !\n. ",
    "alejandroluengo": "Awesome work @essej \nCould you please add a short snippet showing how to create a (reachable by other apps) MIDI port?\n. ",
    "essej": "As the example I added the line to AnalogSynthX's Conductor class which simply calls midi.createVirtualPorts(). That's all you need to do! In order for the audio session to stay around in the background you also have to do AKSettings.playbackWhileMuted = true before starting the engine (so it uses the right audio session category).\nWhere do you want a snippet?\n. Turns out you need to put this line in the in Conductor's init() before you call AudioKit.start():\nAKSettings.playbackWhileMuted = true\nThis causes AudioKit to use the proper audio session category to actually keep the engine alive in the background. This should be added as an option in a configuration page in the app, so that it doesn't always just stick around if people don't want it to.\nIt goes well with the Virtual MIDI port support that was just merged into the develop branch. To use it, you just need to call midi.createVirtualPorts() near the end of Conductor's init().. then other controller apps can connect and play it while it's in the background.\n. ",
    "AnthonyMcInvale": "I have been playing with the source code and was having the same problem running in debug mode.  I thought I was doing something wrong.  Can you point me to where the voice count is controlled?\n. I had to go to voiceCount: 1 to get audio.  With one voice, the tone generated is not consistent and contains static.  Would the demand on cpu be less using an Objective C program calling your code?\n. Never mind on my question above.  I was able to compile and execute other example programs on the iPad 2 without this audio issue.  HelloWorld, HelloObjectiveC, and MollyBChimes was not a problem from the 3.0.1 code.  I am assuming that the complexity of the synthesizer code is the problem for the iPad 2 and its 32 bit CPU.  FYI, there was no issues for the Analog Synth X on an iPad Air that I tried.\nThanks!\n. Never mind.  I found my problem.\n. Nothing too complicated to fix it.  I have not had a need for a lot of resources in apps before.  I had to recreate the folder structure in the app bundle \u201cSounds/basicSamples\u201d with the EWS and WAV files in their respective folders.  Everything worked as expected after that.\nThanks,\nTony\n\nOn Feb 12, 2016, at 8:35 PM, Aurelius Prochazka notifications@github.com wrote:\nGlad you figured it out. I think Jeff's info is embedded in the binary files but it shouldn't show up like that and I'm wondering what you did to fix it. Good luck with your project and we'd love to see it when you're done.\n\u2014\nReply to this email directly or view it on GitHub https://github.com/audiokit/AudioKit/issues/298#issuecomment-183567763.\n. \n",
    "padur74": "Same problem on Ipad 3\n. ",
    "superdecent": "I installed Analog Synth on a few older devices and experienced the same issues as mentioned above.\nHowever, the same devices are more than capable of running other audio apps (Korg Gadget for example).\nI'm wondering if this is a limitation of the framework? Or if this particular app hasn't been coded with optimisation in mind and could be made to work on older devices?\n. ",
    "markostam": "Thank you for the quick response. Tried to update code to reflect the new class. Still throwing this error. What's missing..?\n\n. Still throws the same error even with updated syntax\n\n. cheers man that sorted me out. thanks for sticking with me, my first time playing with swift or ios development.\n. ok thanks. so AKMic will default to internal mic if nothing is plugged in and wired mic if something is plugged in correct?\n. sounds good. would allow for some pretty awesome applications.\n. ",
    "jdundee": "I've noticed that unplugging some interfaces or disabling the network midi port in Audio MIDI setup can avoid the exception although it's difficult to know if there's a particular pattern. For example, disabling network MIDI allows me to use the iRig Pro but trying to use my MIDISport 2x2 still throws the execption.\n. Hi Aure\nWill do - I'll have a look over the weekend and get back to you. \nJohn. \nSent from my iPhone\n\nOn 29 Apr 2016, at 23:51, Aurelius Prochazka notifications@github.com wrote:\nHi there, I am not sure if this got fixed through some other improvements over the last few months, but I just built a midi monitor for OSX and it seems to work. Can you try again? Here's a link to the most up-to-date code including a midi monitor for OSX.\nc809425\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly or view it on GitHub\n. Ok no problem.\nJohn.\n\nSent from my iPad\n\nOn 30 Apr 2016, at 20:34, Aurelius Prochazka notifications@github.com wrote:\nActually I think I may have found something wrong. I'll update this issue when/if I figure it out. Working on it.\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly or view it on GitHub\n. Thanks - I will have a look tomorrow.\n\nSent from my iPad\n\nOn 30 Apr 2016, at 20:58, Aurelius Prochazka notifications@github.com wrote:\nShould be fixed on the develop branch:\n7d00ba8\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly or view it on GitHub\n. Aure\n\nThank you so much for such a rapid and precise solution. \nBest wishes\nJohn.\nSent from my iPhone\n\nOn 27 Jul 2016, at 21:18, Aurelius Prochazka notifications@github.com wrote:\nSet the parameter and it will be accessible from the node's parameter array. \"7 pset\" for instance would store the parameter into the 8th element of the array, then you can access and print it.\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub, or mute the thread.\n. \n",
    "eirikurorri": "You can indeed get the same effect by using TimePitch, but it will introduce artifacts, making it sound a bit grainy. The VariSpeed effect is a tape-like effect, which sounds very nice and smooth if you're willing to link playback speed with pitch.\nFor instance, I'm using it to slow down a loop by half, and the difference in sound quality is very noticeable.\nThere's a nice discussion of TimePitch vs Varispeed here.\nAnd also, congrats on an awesome project! I've been having a blast using it.\n. Awesome, thanks!\n. Right, makes sense. Excited about the upcoming interactive XCode 7.3 playgrounds, though!\n. For Carthage users running into the same problem: If you're willing to switch over to the develop branch , you can do it by pointing your Cartfile to it like so:\ngithub \"audiokit/AudioKit\" \"develop\"\n. ",
    "ikesyo": "\nActually I had added that workspace to the project to try to get Carthage to work before 0.12, hoping it would pick it up.\n\nThat does not work, because Carthage before 0.12 would stop searching projects when a project with at least one shared framework scheme is found, so only one of the three projects would be used. Adding a workspace holding the projects does not affect the result since the workspace itself does not have any schemes. Anyway, you didn't have shared framework schemes, so those should be added.\n\nDoes it really get in the way of Carthage?\n\nThe answer is in the commit log:\n\nThis is noisy for Carthage and Xcode. Since the projects have the schemes those are all the same name, Xcode can't pick up the correct project to build with for the command: xcodebuild -workspace AudioKit.xcworkspace -scheme AudioKit. Removing the workspace, Carthage would use a command such as: xcodebuild -project \"AudioKit For OSX.xcodeproj\" -scheme AudioKit.\n\nIf you'd like to keep the workspace, the schemes should be renamed to respectively such as: AudioKit-OSX, AudioKit-iOS, AudioKit-tvOS.\n. I've restored the workspace and renamed the schemes: 15f7b31, 8089b87\n. Thanks for merging this!\n. ",
    "eljeff": "Glad you figured it out. It drove me crazy until I figured out sometimes saving or exporting the instrument in Logic can rewrite the paths relative to the project. One of the following has to be part of the path to the sample that the instrument looks for:\n\"/Sounds/\"\n\"/Sampler Files/\"\n\"/Apple Loops/\"\n\"/EXS Factory Samples/\"\n\"/SoundFont Samples/\"\nHere is the Tech Note that sort of explains this system a little: https://developer.apple.com/library/mac/technotes/tn2283/_index.html#//apple_ref/doc/uid/DTS40011217-CH1-TNTAG7\nHope that helps.\n-j\n. Howdy\nCheck out the MollyBChimes Example project. It sort of goes even further than midi notes, creating a midi instrument and triggering that, but you could also direct the midi to a midi out port. Try that out.\n. Who doesn't love a happy ending?!\nThanks!\n-j\nOn Monday, February 29, 2016, JoshuaBThompson notifications@github.com\nwrote:\n\nHi Aurelius,\nSorry, I should have done that earlier. Resolved.\nOn Mon, Feb 29, 2016 at 10:31 AM, Aurelius Prochazka \nnotifications@github.com\n<javascript:_e(%7B%7D,'cvml','notifications@github.com');> wrote:\n\nJoshua, do you want to close this issue then?\n\u2014\nReply to this email directly or view it on GitHub\n<https://github.com/audiokit/AudioKit/issues/302#issuecomment-190323014\n.\n\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/audiokit/AudioKit/issues/302#issuecomment-190326422.\n. AKSampler is actually already polyphonic. How are you loading the samples?\n. iOS 9.1 broke a lot of sequencing stuff at a low level. They fixed it in 9.2.\n. Howdy\nYou'll want to wrap the oscillator in an midi instrument and use that. Check out the mollyb demo for an example using an fm oscillator.\n. I did not know that - I will keep that in mind.\n\n-j\nOn Wed, May 11, 2016 at 11:27 AM, Aurelius Prochazka \nnotifications@github.com wrote:\n\nIf you run ./Tests/travis.sh on your machine, it will run the same tests\nTravis-CI runs, but your machine will run them much faster, so that's one\nway of assuring your \"hopefully fixed\" is an actual fix. Maybe you knew\nthis, but just in case, there it is.\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly or view it on GitHub\nhttps://github.com/audiokit/AudioKit/pull/376#issuecomment-218513475\n. failed the test\n-j\n\nOn Wed, May 11, 2016 at 10:01 PM, Aurelius Prochazka \nnotifications@github.com wrote:\n\nAny reason why you closed this? It looked good.\n\u2014\nYou are receiving this because you modified the open/close state.\nReply to this email directly or view it on GitHub\nhttps://github.com/audiokit/AudioKit/pull/376#issuecomment-218647556\n. RE: adding a track while playing....\nYou can't do too much editing of the sequence while it is playing. It takes some work to set it up, but properly designed, you can make the sequence behave almost however you want while it is running. Usually this involves having tracks set up before hand and moving data around between them (ie. using clear() and copyAndMergeTo(AKMusicTrack) functions.\n\nRE: EnableLooping...\nJust call it after you set the length. The sequence has a default length so the loop first sets it up for that length. When you then change the length, looping needs to be reset to the new length.\n. sorry @adamnemecek . Howdy\nSo yea loading an EXS instrument into iOS is pretty tricky to get going at first. The instrument has to be built with the intention of loading it into iOS - meaning, I couldn't take an EXS instrument I built just for a track in Logic, I would have to know, beforehand, that the instrument was going to end up on iOS.\nThat's because the samples MUST originate from one of those 'magic folders' I mention in the other thread, and then those must exist in the iOS project just like they did when the instrument was built.\nTrust me, I fought with this for days before I started to finally figure it out - it seems convoluted at first, but the results are worth it.\nIt's also worth noting that the instruments don't transfer 100% the same from Logic to iOS - for example filter drive is ignored in iOS (or was last time I checked).\nPoint being, try not to think of it as moving a Logic instrument to iOS, think of it as using Logic to very methodically build and instrument to use in iOS. Also, the Apple software AULab is pretty good for building sampler files (.aupreset) that can be used in iOS pretty much exactly as they are when you build them.. Thanks @larryseyer for explaining your journey in such detail. These are all things I was alluding to in my previous post, and I'm glad you were able to push through it.\nI want to reiterate that it CAN be done from Logic (without any external tools), it just involves quite a bit of file location madness. First, the sounds used to build the sampler must originate from somewhere within a folder that has one of those 'magic folder names' that Apple lists. This structure then has to be rebuilt on the iOS project. There was another quirk I experienced that I can't remember the details of exactly, but if I tried to save or move the logic instrument after that, it would re-write the file paths and screw it all up. It might have been that I chose to save the instruments with the Logic project (as folder) and that worked.\nIn my experience though, wav files do work - I have never used aiff and I use Logic-built instruments on ios all the time.\nWhat I have moved on to though is using AuLab and building an aupreset file. It doesn't mess with the file paths too much (they still have to match, from one of the 'magic folders' down), and all the parameters in AuLab are readable by the sampler in ios. AuLab has it's own set of issues, but since the last osx update, alot of these have been addressed.\nFill out those bug reports to apple! It really helps them catch these problems.\nFinally, there is a class in AudioKit called AKAUPresetBuilder that allows you to build aupreset sampler filers programatically. It can work fairly simply, or you can get extremely complex, defining zones, layers, envelopes, etc - that is not for the faint of heart, but it is there.\nThanks again for helping with this.. @derekfairholm what part do you need me to elaborate on? What have you you tried and what has not worked so far? Where is the AUPreset coming from? How are your samples organised?. AKSampler.loadPath(_ filePath: String)\nThat will load your aupreset file.. That is another, fairly undocumented can of worms. I use it pretty extensively myself but it was through lots of trial and error that I got it working. I'm not sure which will be better / easier to get working - trying to tackle AUPresetBuilder, or figuring out why it can't find your files.\nMy suggestion would be to make a dead simple aupreset with ONE audio file, get that working, and then see how that translates to whatever else you are doing.\nRemember, the sounds have to be in the same directory structure when you BUILD the instrument as well...so I suggest creating the Sounds folder in your code folder, then building the aupreset from those files.. Do what you can to browse the files that are actually added to the app package...I can't remember exactly but a lot of times, you can add the files into xCode in groups, and it will just throw them all in the root directory. So try loading it without the directory.\nTo get the stuff to stay in directories, I drag the files in and choose 'folder reference'.\nYou are gonna need to get the file system sorted out before anything will work, so again, stay at it as simple as possible and figure that out. Let us know what works for you!. I do think it is handy to have the offline rendering NOT related to the main audio path. What if I want to render something different offline in the background?. I actually figured out a hack....\nI routed the offlinenode to a mixer, plugged that into the output, then muted the mixer.\nSeems to work!. 1) Can you upload a test file that wasn't working? From watching the video, could you actually be creating a new sampler and then they are both playing...something like that?\n2) That's pretty crazy! There's a lot of stuff you got to get right when you change the audio route like that, how are you handling that?\n3) Also strange and not something I've experienced. In our tests, AKSampler doesn't even load the entire sample into memory. I'd also have to see some code here to see if something stands out.\nThanks for using it - hope it starts working better for you.. Can you share your code where you replaced the player with a sampleplayer? They are pretty different so I'd like to see how they're being built etc.. We fixed this in the develop branch - appreciate any feedback if it still gives you problems.. In the develop branch, we changed the way AKSamplePlayer works, so this should be fixed now. Would appreciate any feedback.\nThanks. Again - these are great bugs you found. Fixing your other issue actually fixed most of these at the same time, so this should be good now.. Awesome find. I've just submitted a pull-request that should fix this. Thank you!. There's a very quick fix for this in the new audiokit. We can make it even better, but I hope it helps for now.. We don't necessarily want to delete / reallocate memory on every load though - the maxSamples field was to basically give you a buffer you could play with in realtime, without allocating memory.\nI will probably revert this change unless I'm missing something. Yea the idea is you do need a limit somewhere on how much memory is allocated, so currently we just set it on init.\nI don't really want to do it 'lazy' because I think it should be clear that loading in new samples and allocating memory are different processes - I don't like the idea of the same function having fundamentally different behaviour under the hood.\nIf you need more time, you can init a new object, which I think makes sense since you are literally using a new chunk of memory by doing so.. @megastep these are purely ios components unfortunately. I haven't tried those yet but I'd heard they weren't compatible - I am not familiar with tvOS yet.. That's really cool if they are compatible - thanks for the reminder. If I made the change, then yes i thought is was essential. I'll look into what failed. All I've done is added a user-settable font property to AKButton, with the default value being exactly what it was before the change. I thought this should be transparent?. The motivation was because mixWithOthers is an option, so enabling it by default was confusing. I would set up a session, and not set the mixWithOthers option, yet it was still behaving as mixWithOthers. I dug down, and found out that it was being set by default. I was able to find it because I had access to the library and dug through the source - if I were just a user downloading the black-box library, I wouldn't have been able to figure this out.\nBasically, it seems counter-intuitive to me to specifically have to pass in an empty options array, vs no argument, to get no 'options'. Per the term, 'option', I didn't feel like it warranted being a hidden default.\nAlso, pretty sure I was the one who made that default and so as I giveth, I taketh away.. I've done this with user events as well. I cannot remember if those are supported in AudioKit yet.\nProbably because the callbackinstrument has been working very well for me. When you write the callback, you'll get a status, note, and velocity message. You can then choose what to do for each status / note / velocity combination as you want.\nIf there is a slight delay using the callback instrument, I have gotten around it by wrapping everything sequence related into a callback instrument - that makes the delay uniform across sequencing events so its as if there is really no delay.. @genedelisa Thanks for that - I know when I was first doing the AKSequencer I wanted to use user events but got held up passing one of the data structures around. Now that I know a little bit more about this, I will probably attempt it again.\nI smell a rewrite of AKSequencer coming on..... I have to agree with Aure on this - this is going to involve app-specific behaviour, and the way to handle that is to register for the notifications, and then do the shutdown / restart of your apps audio system yourself.. Welcome to life on the edge!\nHappy to have gotten this fixed - thanks for reminding us.. That is working as intended. You have to allocate the maximumSamples available for the sampler on init. There is a parameter 'maximumSamples' - set that as big as you'd like on init, and then you can load in samples up to that length.\nAlso - AKSAmplePlayer has been deprecated in favor of AKWaveTable - so go ahead and switch to that.\nThanks. Thanks for the request I've actually done the fade in/out already somewhere else but it hasn't made it into ak yet.\nA couple questions:\n1) are you aware that AKSamplePlayer is being deprecated to be replaced with AKWavetable? Use that from now on\n2) Can you clarify the last request, if the sample is stopped, what do you want to crossfade between? An example would really help - either an audio example or a very clear description.\nThanks. @romancfischer I am very familiar with the concept of crossfade looping if that's what you are talking about - I think I'm getting lost though in your description.\nWhen I think crossfade looping, there is a preset start and end time, and with no crossfade, the sample justs immediately from B to A. With say 100 samples of crossfade looping, point A would start to fade in, and the end would fade out 100 samples before point B.\nI think you are also suggesting making this dynamic, basically a fade-seek anytime you want?. I've found some little things I missed and cleaned up a few other things - another PR incoming.... Github might be glitching out - I specifically tried to merge into develop, then the dropdown changed back to master when I went to the PR page, I submitted not knowing this, now when I try to PR develop, it claims I already have a PR. Yet the PR says it wants to merge into master.\nVery confusing.. Good news this should be fixed in the forthcoming version of AK. Howdy\nWithout the entire project I need to just look first at suspect lines of code:\naudioQueue.sync\nI don't know what this audioQueue.sync call is, so it's hard to debug without seeing the rest of the code. I do wonder if this is actually necessary.\nmasterMixer = AKMixer()\nmixer = AKMixer()\nmic = AKMicrophone()\nWhy not just init these at the top of the file, when the entire object that contains them is created?\nreinitTimer\nWhy are you trying to start / stop audiokit so much? You should do that as infrequently as possible, only when absolutely necessary.\nmic?.start()\n analyser?.start()\nsilence?.start()\n//mixer?.stop()\nmasterMixer?.start()\nWhy all these .start()s? Starting AudioKit with the nodes connected should be enough.\nif !isHeadsetPluggedin() {\ntry AVAudioSession.sharedInstance().overrideOutputAudioPort(AVAudioSessionPortOverride.speaker)\n}\nThis looks suspect too - it is a known issue that the speaker and the headphone jack dont always run at the same sample rate (depending on device), so you could be getting a mismatch here which is causing that error.\nSo yea - if you could create and share a very basic project that demonstrates this problem, we might be able to help more. Right now I am doing a lot of guessing, but I'd love to squash this if it is indeed a bug in AK.\nThank you!. Can you copy/paste the data you are sending as text so we can test it? Alternatively, share the .syx file from the librarian.\nThanks. I've just tested this w/ the first part of your sysex:\nf000 0138 0070 2000 0101 0c48 4947 4820\n4841 524d 4f4e 5900 0000 0000 2002 01f7\nAudioKit MIDI Example project works fine:\n\nreceived 32 bytes of data\nMIDI System Command: sysex \nF0  0  1 38  0 70 20  0  1  1  C 48 49 47 48 20 48 41 52 4D 4F 4E 59  0  0  0  0  0 20  2  1 F7 \n\nI then replaced the receive function with your code, and I had to comment out 'updateData' as I don't have that function, and it still worked (with formatting issues):\n\nreceived 32 bytes of data \n(multiple lines of whitespace here)\nMIDI System Command: sysex \n240 0 1 56 0 112 32 0 1 1 12 72 73 71 72 32 72 65 82 77 79 78 89 0 0 0 0 0 32 2 1 247 \n\nSo yea...I'm not really sure what is going wrong. It would help to get all the sysex data to try instead of just that one bit I recreated.\nThanks \n. > Do you have a MIDI device that sends sysex? If I send a sysex from SysEx Librarian, the data I receive in my app and in MIDI Utility is fine.\nOk that is interesting, I was sending the data directly from Sysex Librarian.\nSo this only happens over a physical midi device + port + cable? I do have an MPC I could use to send this but I won't be back near it for at least a week. I'll keep you posted if I find anything and let me know if you do as well, thanks.\nAnd just to clarify, the .syx file you sent is from the exact same data that you copied from MIDI utility, yes?. @intonarumori I am simply loading up Sysex Librarian, adding the .syx file to that, sending that to Bus1, and having AudioKit MIDI Utility listen on Bus1.\n@RandyInNashua just a confirmation, using your provided script does appear to work out-of-the-box, sending sysex via software\nIf you use the stock AudioKit MIDI Utility, receiving via hardware, does it still work or break?\nAlso, which version of AudioKit are you using? Are you on Master or Develop?\n\nreceived 110 bytes of data\nMIDI System Command: sysex \nF0  0  1 38  0 70 21  4  0  0  1 46  0  0  0  0  0  0  0 50  0  0  0 15  0  0  0  0  0  0  1  8  0  0  0 15  0  0  0  0  0  0  0  0  0  0  0  2  0  0  0  0  0  0  0  0  0  0  0  5 7F 7F 7F 6B  0  0  0  B  0  0  0 11  0  0  0  9  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0 5E F7 \nreceived 110 bytes of data\nMIDI System Command: sysex \nF0  0  1 38  0 70 21  3 7F 7F 7F 7C 7F 7F 7F 71  0  0  0  3  0  0  0  0  0  0  0  0  0  0  0  1  0  0  0  2  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  1  0  0  0  0  0  0  0  5  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0 38  0  0  0  0 2B F7 \nreceived 110 bytes of data\nMIDI System Command: sysex \nF0  0  1 38  0 70 21  2  0  0  0  2  0  0  0  1  0  0  0 4F  0  0  0 4F  0  0  1 16  0  0  1 16  0  0  0  B  0  0  0  1  0  0  0 66  0  0  0 73  0  0  0 19  0  0  0  0  0  0  0  0  0  0  0  0 7F 7F 7F 79  0  0  0 3B  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  3  0  0  0  A 7F 7F 7F 74  0  0  0  6  0  0  0  0  0  0  0  3  5 F7 \nreceived 110 bytes of data\nMIDI System Command: sysex \nF0  0  1 38  0 70 21  1 7F 7F 7F 7A 7F 7F 7F 7A 7F 7F 7F 71 7F 7F 7F 7C  0  0  0 64  0  0  0 64  0  0  0 64  0  0  0 64  0  0  0  0  0  0  0 64  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0 17  0  0  1 39  0  0  0  0  0  0  0  2  0  0  0  0  0  0  0 7F  0  0  3 58  0  0  3 58  0  0  3 58  0  0  3 58  0  0  0 32  0  0  0 1E 57 F7 \nreceived 110 bytes of data\nMIDI System Command: sysex \nF0  0  1 38  0 70 21  0 7F 7F 7F 74  0  0  0  6  0  0  0 7D  0  0  0 3E  0  0  0 15  0  0  0 10  0  0  0  0  0  0  0  3  0  0  1  7  0  0  1 46  0  0  0 15  0  0  0 10 7F 7F 7F 62  0  0  0  0  0  0  0  A  0  0  0  0  0  0  0  1  0  0  0 16  0  0  0 16  0  0  0  0 7F 7F 7F 7B 7F 7F 7F 7E 7F 7F 7F 7B 7F 7F 7F 76 7F 7F 7F 6E 2D F7 \nreceived 32 bytes of data\nMIDI System Command: sysex \nF0  0  1 38  0 70 20  0  1  1  C 48 49 47 48 20 48 41 52 4D 4F 4E 59  0  0  0  0  0 20  2  1 F7 \n. I think I'm finally seeing this bug while I'm in here doing some MIDI plumbing...will report back. MIDI system getting a minor tuneup. Boom. Got it. Stay tuned.... I can't comment on this exact problem, but I have done it reverse - I have been able to use the phone microphone and a bluetooth speaker at the same time.. Glad you got it fixed. If it comes up again, some sample code demonstrating the problem would really help. Thank yall.. Good catch! Thank you. Of note...auv3() shows up a lot.... Its the standard 'End of Sysex' MIDI message.\n\nYes a constant would probably make a lot of sense here - I'll add that now.. Yea it is not ideal and you do run into an issue where once you are receiving sysex, you don't stop reading data as sysex until you get that byte. As far as I know - that is MIDI standard (the idea that all data sent between sysex START and sysex END is treated as sysex data).\nThis is a first iteration and I do welcome any improvements anyone would like to make. I'm just glad we finally support larger sysex messages.. ",
    "pcbeard": "At least not throwing an exception. Would it be possible to adopt swift error handling for these cases? Or do you think it's such an obvious error that it deserves an uncaught exception?\n. Another possibility would be to have the mixer stop the engine when nodes are added/removed, to avoid the error altogether. Would that be a reasonable approach?\n. Thanks!\n. I'm assuming the problem boils down to this:\nif AKSettings.audioInputEnabled and AKSettings.useBluetooth are both true, then on iOS 10 the opts parameter is set to [.allowBluetoothA2DP, .mixWithOthers]. According to the documentation,\n\nIf this option and the allowBluetooth option are both set, then when a single device supports both the Hands-Free Profile (HFP) and the Advanced Audio Distribution Profile (A2DP), the Hands-Free ports will be given a higher priority for routing.\n\nEven if this isn't the exact cause, it seems like more than a bool is needed to control how Bluetooth is configured. Some kind of enum, or perhaps a value of type AVAudioSessionCategoryOptions that lets the application configure which Bluetooth options should be set. These options would be union'd along with the options passed along to AKSettings.setSession().. Compiling for iOS using the Xcode 8.3 beta 4 tools. If you look at sporth_tblsize(), it does seem pretty obvious by inspection that ft is unitialized.. Thanks. I'll make future pull requests relative to develop instead of master.. So the real bug here was to call init() again without first calling destroy().. If you set a breakpoint on sp_ptrack_compute(), you'll see that it gets called on every buffer received from the microphone, so the frequency will depend on the input buffer size and sampling rate.. Yes, doing string interpolation with an optional is now generating a warning. I assume this change (suggested by the compiler) tells the compiler we wanted that behavior.. Here's the warning:\nAudioKit/AudioKit/Common/Internals/AKNodeRecorder.swift:189:73: String interpolation produces a debug description for an optional value; did you mean to make this explicit?\nAudioKit/Common/Internals/AKNodeRecorder.swift:189:85: Use 'String(describing:)' to silence this warning\nAudioKit/AudioKit/Common/Internals/AKNodeRecorder.swift:189:85: Provide a default value to avoid this warning. I have no problem with your assessment. I'd just like to see these warnings handled. Perhaps there's a compiler switch to suppress them.. OK, I made the change.. This should fix the travis build, since AVAudioSessionCategoryOptions isn't available on macOS.. Isn't it possible to detect the configuration change using the AVAudioEngineConfigurationChangeNotification? Changing the input device will likely change the sampling rates, so I think this comment is relevant:\n\nWhen the engine's I/O unit observes a change to the audio input or output hardware's\nchannel count or sample rate, the engine stops itself (see AVAudioEngine(stop)), and\nissues this notification.\nThe nodes remain attached and connected with previously set formats. However, the app \nmust reestablish connections if the connection formats need to change (e.g. in an \ninput node chain, connections must follow the hardware sample rate, while in an output only\nchain, the output node supports rate conversion).\n\nSo, to properly respond to input routing changes, which may include hardware sample rate changes, we'd need to restart the engine, and potentially tear down all the nodes.. Apologies, I see that you are already handling route changes in AudioKit.restartEngineAfterRouteChange.. I'm working on it. Please do invite me to the Slack. I think the recent change I made to the move the notification handlers to the main queue has fixed most of the issues I've been seeing.. ",
    "JoshuaBThompson": "Thank you, exactly what I was looking for...\n. Hi Aurelius,\nSorry, I should have done that earlier. Resolved.\nOn Mon, Feb 29, 2016 at 10:31 AM, Aurelius Prochazka \nnotifications@github.com wrote:\n\nJoshua, do you want to close this issue then?\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/audiokit/AudioKit/issues/302#issuecomment-190323014.\n. Ok, thank you Aure!\n. Great, this is exactly what I needed. Thank you for your help.\n. Ah, I see.\nThank you for clarifying that. I was racking my brain trying to figure out what was going on...\n. Great, the examples you provided were exactly what I needed.\nI left out the triggering code in the example code I referenced.\n. Looks like my understanding of the AKOperation.parameters was a little off.\nI was able to achieve the desired results using the code below. Although, it seems like it only works when I trigger the generator THEN update the parameters. It doesn't seem to work by updating the parameters then triggering the generator.\n\n. Ok, thank you Aure. \n. Hi Aure,\nAttached is the ViewController.swift file that I'm using.\nYou need to add some buttons / textfields on your storyboard and connect\nthem to the IBoutlets / actions on my file, but otherwise should be good to\ngo:)\n\nOn Wed, Apr 6, 2016 at 9:53 AM, Aurelius Prochazka <notifications@github.com\n\nwrote:\nCan you email me or gist the code from above?\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly or view it on GitHub\nhttps://github.com/audiokit/AudioKit/issues/327#issuecomment-206462464\n. Just e-mailed you :)\n. I see, thank you Aure. I'll try the new AKVariableDelay on the development branch.\n. Just wanted to say that it works great now, thanks for resolving that bug :)\n. Hi Aure,\nI guess I was being a little vague. I've been testing this code on my iPhone and it seem to not work. \nBut, when I test it on the iOS simulator it works fine. \nI thought maybe there was an issue with the way I was using the AKSequences and AKMidi in different instrument collections.\nBut, I'll take your advice and move this to the forum :)\n. On the iPhone it works when I only have one instrument collection. As soon as I add a second it fails.\n. Hi Aure,\nI see. Yes, that makes sense; I do have an older iPhone. \nI think that I'll use sound samples instead of generating them on the fly in that case. Thank you for your help again!\n. Hi Aure, \nI'll check and see what the other sample frequencies are at.\nThank you for your help :)\n. Hi Aure,\nWhat is the optimum bit depth for sampled sounds? \n. Hi Aure,\nSorry, yes your suggested bit depth fixed our problem.\nThank you!\n. Hi Aure,\nThank you. I tried removing the disable / re-enable code and the behavior changed slightly. It played the loop one time and then did not play it anymore.\n\nI'm running the 'Sequencer - single output' playground with my own edits.\nHere is the playground code:\n``` swift\nvar sequencer = AKSequencer()\nlet midi = AKMIDI()\nvar bassDrum = AKSynthKick()\nbassDrum.enableMIDI(midi.client, name: \"bassDrum midi in\")\nAudioKit.output = bassDrum\nAudioKit.start()\nsequencer.newTrack()\nsequencer.setLength(AKDuration(beats: 8))\nsequencer.setTempo(120)\nsequencer.tracks[0].setMIDIOutput(bassDrum.midiIn)\nsequencer.tracks[0].add(noteNumber: 60, velocity: 127, position: AKDuration(beats: 0), duration:AKDuration(seconds: 0.1))\nsequencer.tracks[0].add(noteNumber: 60, velocity: 100, position: AKDuration(beats: 1), duration:AKDuration(seconds: 0.1))\nsequencer.tracks[0].add(noteNumber: 60, velocity: 100, position: AKDuration(beats: 2), duration:AKDuration(seconds: 0.1))\nsequencer.tracks[0].add(noteNumber: 60, velocity: 100, position: AKDuration(beats: 3), duration:AKDuration(seconds: 0.1))\nsequencer.enableLooping()\nsequencer.play()\n//now change the length of the loop after playing\nsequencer.setLength(AKDuration(beats: 4))\n//will play loop once and the stop playing anything\nXCPlaygroundPage.currentPage.needsIndefiniteExecution = true\n```\nAm I updating the loop length correctly?\nThank you Aure,\n-Josh\n. What's interesting though is that when I initially set the length to 2 instead of 8 then it works....\n. Hi Aure,\nThere's definitely something strange going on.\nWhen I try and use the setLengthSoft then the track keeps on playing beats but not in the correct order. Also, if I set a new length greater than 8 no beats are played anymore after the first 4 are played.\nHere is my playground code:\n``` swift\nvar sequencer = AKSequencer()\nlet midi = AKMIDI()\nvar bassDrum = AKSynthKick()\nbassDrum.enableMIDI(midi.client, name: \"bassDrum midi in\")\nAudioKit.output = bassDrum\nAudioKit.start()\nsequencer.newTrack()\nsequencer.setTempo(60)\nsequencer.setLength(AKDuration(beats: 4.0))\nsequencer.tracks[0].setMIDIOutput(bassDrum.midiIn)\nsequencer.tracks[0].add(noteNumber: 60, velocity: 127, position: AKDuration(beats: 0), duration:AKDuration(seconds: 0.1))\nsequencer.tracks[0].add(noteNumber: 60, velocity: 100, position: AKDuration(beats: 1), duration:AKDuration(seconds: 0.1))\nsequencer.tracks[0].add(noteNumber: 60, velocity: 100, position: AKDuration(beats: 2), duration:AKDuration(seconds: 0.1))\nsequencer.tracks[0].add(noteNumber: 60, velocity: 100, position: AKDuration(beats: 3), duration:AKDuration(seconds: 0.1))\nsequencer.enableLooping()\nsequencer.play()\nsequencer.tracks[0].setLengthSoft(AKDuration(beats: 7.0)) //this will keep playing beats but incorrectly. If I set length to 8.0 then no beats are played after the first 4 beats.\nsequencer.rewind()\n```\nI've only tried using the sequence with a midi instrument like AKSynthKick so maybe this is just a bug with AKMidiInstrument?\nThank you Aure\n. I tried to change the length in the SequencerDemo (iOS) and got the same bug.\nWhat I did was comment out all the other beats (bass, snare, melody...etc) and just played the ghost snare then I edited the code to just update the sequence length after the user hits the regenerate sequence button on the UI.\nswift\nfunc generateSnareDrumGhostSequence(stepSize: Float = 1/8, clear: Bool = true) {\n        if(testCount > 0){\n            print(\"snare drum new length!!!\")\n            sequence.setLength(AKDuration(beats: 16.0))\n            sequence.rewind()\n            return\n        }\n        if (clear) { sequence.tracks[Sequence.SnareDrumGhost.rawValue].clear() }\n        let numberOfSteps = Int(Float(sequenceLength.beats)/stepSize)\n        //print(\"steps in sequnce: \\(numberOfSteps)\")\n        for i in 0 ..< numberOfSteps {\n            if(arc4random_uniform(17) > 14) {\n                let step = Double(i) * stepSize\n                sequence.tracks[Sequence.SnareDrumGhost.rawValue].add(noteNumber: 60,\n                                       velocity: Int(arc4random_uniform(65) + 1),\n                                       position: AKDuration(beats: step),\n                                       duration: AKDuration(beats: 0.1))\n            }\n        }\n        sequence.setLength(sequenceLength)\n        testCount += 1\n    }\nAfter updating the length to 16.0 it will continue playing the sequence loop until it finishes then it will stop playing the sequence altogether.\n. Hi Aure,\nSorry haven't tested this on the iOS playground yet. But, I noticed that there have been a few commits to the sequencer source code lately. Has this already been addressed?\n. Hi Aure, \nOk got my OSX playground working. The bug is exhibited in the OSX version  as well.\nIt seems like updating the sequence causes the significant problems.\n. Hi Aure, the last time I pulled from the dev branch ( a few weeks ago) this was still an issue.\n. Ah, ok. \nI see, thank you for that clarification. Is there a good way to do what I'm trying to do in AudioKit besides making separate AKSequence instances (which I'm doing now, but since I'm making many (over 24) it's kind of overkill).\n. I guess I could append the tracks that are meant to loop around quicker with copies of their notes to make it seem like they are looping...\n. what do you mean by 'roll our own looping logic' ?\n. ah, ok.\n. Looks like they are related.\nBut, I'm a little confused about your method. Is there an example of what you did in the other project you mentioned? Constantly adding the next sequence to a queue before they were needed?\n. Also wouldn't that create problems for AKSequence tracks? I mean, if I understand you correctly (which I probably don't ...) then you are simply doing a sequence.tracks[0].addNote(.....) every time you want the track to continue. Won't this result in the track being filled up 'infinitely' as you keep on playing the sequence...?\n. I guess my scenario would be:\ntrack 0:\nnote 1 (0 sec)....note 2 (1 sec)....note 3 (2 sec) note 4 (3 sec)....(wait 1 sec then start back at note 1)\ntrack 1:\nnote 1 (0 sec).... note2 (2 sec) ...note 3 (4 sec) ... note 4 (6 sec) (wait 1 sec then start back at note 1)\nSo using your suggestion for track 0\ntrack[0].addNote(note 1 at 0 sec)\ntrack[0].addNote(note 2 at 1 sec)\ntrack[0].addNote(note 3 at 2 sec)\ntrack[0].addNote(note 4 at 3 sec)\n//now want to make it seem like track 0 repeats / loop restarts\ntrack[0].addNote(note 1 at 4 sec)\ntrack[0].addNote(note 2 at 5 sec)\ntrack[0].addNote(note 3 at 6 sec)\ntrack[0].addNote(note 4 at 7 sec)\n....etc\nIs this what you mean?\n. Hi Aure,\nSorry, what I was trying to demonstrate was that I would be continuously adding notes to a track and incrementing the position of the note to mimic a multitrack. I got it working and so far so good.\n. Hi Aure,\nSorry, yes I'm going to attempt to update the code to make it work in the fashion I mentioned:). Hi Aure,\ngreat, we are looking to integrate link as soon as possible.\nPlease let us know how you would like to proceed collaborating.\n. @aure Sure, I'll email you.\n. Probably just need to add methods in AKSequencer init that takes in Ableton Link Enable / Disable  and Callback that user can execute to update tempo values in the View / UI.\nSomething like:\n```swift\nlet sequence = AKSequencer(ablink_en = True, ablink_callback=myCallback);\nfunc myCallback(new_tempo: Int){\n   //sequence.tempo was just updated to new_tempo\n   self.myTempoLabel.text = new_tempo\n}\n```. Just need to have something similar to what is done in (ex App from Ableton) LinkHut -> AudioEngine.m.\nSee in AudioEngine.m:\n- initWithTempo\n- initLinkData\n- setupAudioEngine\n  + audioCallback . Yeah we can show you our app code.\nI was also thinking it might be easier just to use the ableton link\n'LinkHut' example app and just replace the tempo sound generating portion\nof the app with AKSequencer loop.\nOn Wed, Jun 28, 2017 at 3:02 PM Aurelius Prochazka notifications@github.com\nwrote:\n\nIs there any way that you can share like a skeleton / cartoon version of\nyour project with me privately? I just feel like Ableton Link integration\nis something that is driven by an application, not a framework. Anything we\ncan do in AudioKit to make Link integration easier would be great, but\nwithout the context of an app, it seems like it won't be driven by a real\nuse-case scenario.\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/audiokit/AudioKit/issues/937#issuecomment-311805140,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/ALFpV6peBewvuNYy8KkhsjeCMHee2X3dks5sIs2AgaJpZM4OGzK5\n.\n. I think we should probably use a very simple AK app to demonstrate\nintegration.\nI think we can just throw up something with AKSequence looper as a click\ntrack that lets a user change the tempo.\nI can put something together this week.\nThen if that works we can test it with our app.\nWhat do you think?\n\nOn Wed, Jun 28, 2017 at 3:18 PM Aurelius Prochazka notifications@github.com\nwrote:\n\nYeah, not sure how easy starting with their LinkHut example will be.\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/audiokit/AudioKit/issues/937#issuecomment-311808144,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/ALFpV1zIthgJDvAtuB3jF30ZwxhtxDvHks5sItEegaJpZM4OGzK5\n.\n. \n",
    "Mistobaan": "I was interested in this too. What happened to the MollyBChimes example? seems has been removed? . ",
    "ClayApps": "Update, it's actually crashing processing the SysEx on the second message:\n``` Hex\nF0 41 00 14 12 00 00 00 00 00 00 00 00 00 00 00 \n00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 \n00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 \n00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 \n00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 \n00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 \n00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 \n00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 \n00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 \n00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 \n00 00 00 00 00 00 00 00 00 00 00 00 00 00 0D 00 \n00 0D 00 00 00 00 00 2C 00 00 00 00 00 00 00 00 \n00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 \n00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 \n00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 \n00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 \n00 00 00 00 00 00 00 00 3A F7 \nF0 41 00 14 12 00 02 00 00 00 00 00 00 00 00 00 \n00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 \n00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 \n00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 \n00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 \n00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 \n00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 \n00 00 00 00 00 00 00 31 00 00 00 00 00 00 00 00 \n00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 \n00 00 00 00 00 00 00 00 00 00 00 00 00 00 18 00 \n32 00 00 0C 00 00 00 34 64 2F 00 00 00 00 00 00 \n00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 \n00 00 00 00 00 00 00 00 30 F7 \n```\n. Looking at some of your recent checkins you probably have this covered. \n. Nah it's easy. Just run an App that creates a virtual source / destination then add those few lines to your demo with the names adjusted as necessary and your'e done.\n. ",
    "rmann22": "I'm getting the same crash. Is there an update to this? \n. just found this going thru emails\u2026thank you merging!\n\nOn Jul 3, 2018, at 2:14 PM, Aurelius Prochazka notifications@github.com wrote:\nWow! Thanks!\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub https://github.com/AudioKit/AudioKit/pull/1420#issuecomment-402247589, or mute the thread https://github.com/notifications/unsubscribe-auth/AAF-oWq07y1Fz-JFdNHZk03EqufLIUDkks5uC7SigaJpZM4VAyt8.\n\n\n. ",
    "PaulBatchelor": "@knagle We have just implemented the Mandolin STK instrument. \nAure will attack the instruments you've mentioned at a later time. The hard stuff should be behind us now...\n. I may want to try to port this into AK myself. This could be a good opportunity for me to understand AudioKit better. \n. And by \"port this\", I mean I'll try to port one of these. Are there any that you'd like to see in AK first?\n. Ah. Well in that case, maybe accept this pull request as is? It looks like\nthere is still stuff on my end that I have to do.\nOn Apr 8, 2016 4:20 PM, \"Aurelius Prochazka\" notifications@github.com\nwrote:\n\nI have no preference. Probably something that uses the rawwaves, because\nthey will have to be encoded into some text format. Frameworks themselves\ncan't really contain anything except code. Files in frameworks aren't\neasily referenced so there would have to be extra instructions to copy a\nresource bundle, which we did in AK2 and I'd like to avoid.\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly or view it on GitHub\nhttps://github.com/audiokit/AudioKit/pull/330#issuecomment-207644294\n. @Joshua-Thompson Hey Joshua!\n\nThis one is a \"bug\" that I think I fixed. It turns out that the sp_dist module was set up by default to distort a signal in the range [-32767, 32767] when really it should have been set up by default to process normalized signals in the range [-1, 1]. This problem is really just an artifact of the original Csound code it was ported from. \nI have put the new changes in soundpipe dev branch, so Aure can put those changes in. \n. @aure I take it this is being generated in Sporth, and not Soundpipe?\n. @Joshua-Thompson Thanks for pointing this out! What is the ideal waveform you are trying to achieve? The clip module in Soundpipe is a soft clipper intended to perceptually try to mask the clipping effects of audio signals. While they can make the signal sound better than hard clipping, the cost is often these uglier looking plots. While I don't fully claim to understand these algorithms, I believe these are the correct behaviors from the original clip opcode in Csound. \nIf you're looking to \"chop\" the tops of the triangle waveform, you'll need a hard clipper, which can be produced by putting your signal through a max and min function in series. I have posted sporth code and plots in the Soundpipe bug that Aure created for me. I am certain there's a way to achieve a similar in AudioKit. \n. @dclelland I've just re-added the reson code back into Soundpipe in the dev branch. \n. @dclelland only if you plan on using reson inside of Sporth. I'll bring it back for you.\n. @aure I know you closed this already, but I wasn't sure if this was an existing sporth bug or not. \n. @rmoughan hmm... I really don't know of any ready-to-go software suitable sub-audio frequency detection. I'd search the literature for keywords like \"warped fft\" or \"warped signal processing\". Good luck!\n. the initial stack trace posted ends with a call to sp_create. A memory leak there would indicate that sp_destroy isn't being called at cleanup. . This is actually pretty typical for FFTs. When you apply an FFT to a real signal (an audio signal is a real signal), the FFT is symmetrical, so you toss out that data. \nBecause it seems to be only returning floating point values, the thing I'd be curious about is if the FFT routine is providing just the real values or a magnitude spectrum. It doesn't seem like you would be able to access the imaginary components. . Did some more quick digging:\nhttps://github.com/audiokit/AudioKit/blob/3044f4b3fa45a2ee64eb9c6a40c533b0df606065/AudioKit/Common/Internals/EZAudio/EZAudioFFT.m#L169\nI'm going to guess based on this line that it is returning the magnitude spectrum, which would only be from 0 to N/2, or half the input buffer size. A little bit confusing if you aren't familiar with the math behind it, but very typical. . Not a fix, but if offline processing is your only concern, you may want to look at Soundpipe, which many of the AK processing/synthesis is based off of. This library by default is compiled with libsndfile support, so you get audio file writing for free. In fact, all the soundpipe example code examples write to audio files by default. \nThere is also Sporth, built on top of Soundpipe, which provides a minimal language for audio processing. If you use AKOperation or AKOperationGenerator, it's pretty much Sporth under the hood.\nBut back to this issue at hand. I worked with Aure getting the test suite up and running, as they are built on top of the Soundpipe test suite utility. The AudioKit framework is built on a collection of apple audio utilities like coreaudio, which are designed and optimized for dealing with realtime audio streams. While AK has a lot of low level control over much of the DSP, the underlying graph model in charge of getting the stuff to the speakers is all Apple and out of our control. Polling the data from the AU graph AND doing it faster than realtime required placing many square pegs into round holes while fumbling in the dark. I'm still not entirely convinced we fixed all the strange race conditions we ran into, but the MD5s in the test suite work. . I'll look into it. I usually catch these warnings. Hmmm.... Yup, I indeed see uninitialized behavior happening here with \"tblsize\"\nhttps://github.com/audiokit/AudioKit/blob/master/AudioKit/Common/Internals/Sporth/ugens/t.c#L146\nHowever, this has been fixed now:\nhttps://github.com/PaulBatchelor/Sporth/blob/master/ugens/t.c#L146\nThe other initialized variable is \"argtbl\":\nhttps://github.com/audiokit/AudioKit/blob/master/AudioKit/Common/Internals/Sporth/ugens/argtbl.c#L151\nStill an issue with my Sporth:\nhttps://github.com/PaulBatchelor/Sporth/blob/master/ugens/argtbl.c#L151\nActually, tbh whole 'argtbl' ugen is an issue if you ask me. I thought I removed it long ago.... All these warnings should be gone in the upstream version of Sporth: https://github.com/PaulBatchelor/Sporth/commit/163cb93562e6126b9051c923b50e15bf2c303b08. @aure just checked. I can see the usefulness in AK, but I'm keeping it out of Soundpipe. \nReasons:\n- I don't want init functions to call create functions. These stages should absolutely be separate. \n- I want to minimize the practice of comparing NULL in my code. I find it to be bad practice.\n- calloc zeroes out the memory too. nothings really added to it. Not worth the mass code changes.. > The question is, should all init() methods be safe to call more than once?\n@pcbeard for soundpipe-based modules, unfortunately not. Some init functions, in addition to initializing variables, allocate buffers. Poor planning on my part, I know. I've been thinking about possible fixes for a long time, but most of them are messy and require sweeping changes. . yeah. that works too :). Oh snap! . Apologies, this is a bit of a tangent... \nIt's really awesome and surprising to see AudioKit people using the Sporth API. I'm very happy about it. I don't have any documentation for plumber_ftmap_add_function() besides using it twice in polysporth. @jconst how did you figure this one out? . Amazing. I'm glad you could make the code work for you. Let me know if have any other sporth-related questions or problems :). This is an issue related to how interpolation works for table lookup\noscillators. I made a hacky fix for sp_osc, but did not apply it to\nsp_oscmorph yet.\nOn Nov 16, 2017 19:36, \"Aurelius Prochazka\" notifications@github.com\nwrote:\n\nThanks, we are aware of this. Stems from an issue in the table generators,\n@PaulBatchelor https://github.com/paulbatchelor any updates?\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\nhttps://github.com/AudioKit/AudioKit/issues/1119#issuecomment-345108847,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AHwyfTH85GEbQugEawwKCBikiXeMxi2hks5s3NT6gaJpZM4QhU39\n.\n. @aure I think I may have fixed things here: https://github.com/PaulBatchelor/Soundpipe/blob/more_osc_fixes/modules/oscmorph.c#L72\n\nI was able to get clicks using sp_osc with a triangle wave generated via sp_gen_triangled and set to be 440Hz. I was able to successfully remove those clicks with the fix I did above that did not resort to the \"initial hack\" (which I will explain with way too much detail below). This fix should also work for sp_oscmorph, since it is a modified version of sp_osc.\nFor reference, I will try to break down the bug and my various solutions here. This oscillator has been haunting me for years with bugs, so I try to leave a trail of words for my future self.\nExplanation\nThe reason why I believe clicks are happening in the first place is that the linear interpolation algorithm requires N+1 samples to work. That is to say, if I have 1024 sample lookup table and I am on sample 1024, it will look forward to 1025 to interpolate. The fix for this has been to have an extra sample allocated for these situations so it has something to reach for without segfaulting. Unfortunately, this value is always 0 because it never gets changed. For things line sine waves, this is fine because things start and end on 0. For things like a triangle wave where values end on -1 or 1, you get these larger skips which ends up sounding as an audible click.\nFix 1: the \"hack\"\nMy first solution was to assume that all tables accepted into sp_osc had that extra sample, and to set it to be the first sample of the ftable. This worked fine for all my needs, but crashed on AudioKit. My only is that some tables are segfaulting because they do not have that extra sample allocated. \n~~## Fix 2: the modulo operation~~\n~~The fix that seems to work right now is to add a modulo operation for (size - 1) samples. It sounds simple to say, but it's hard to see exactly where to put it without understanding the bit twiddling and pointer arithmetic the algorithm is doing. I'm nearly sure that is is fine, but a part of me thinks there may be some numerical side effects that I'm not factoring in.~~\nOn second thought, ANDing might be the right operation here... \n. ",
    "knagle": "The glitchy sound might be linked to my UI. If I tap a button for a popover menu the audio becomes very glitchy while the popover is presenting itself and for several seconds afterward. Basically whenever my app performs any animation I get audio glitches. Is there a audio thread priority setting I have missed?\n. I will see if I can write a quick test project demonstrating the behaviour. Our software requires a hardware controller to work, so sending you the code for our project wouldn't be much use.\n. I first noticed the delay when loading the instrument as part of my built app on an iPad, with the audio kit iOS project included in mine, so it compiles as an embedded framework for my app. My app would stall on the load screen and only fully load when the instrument had loaded, about 10 seconds later. I then ran a few tests in the playground for AKOscillatorBank using Date() to measure the times before and after the AKtable is initialised. Crude, I know, but the delay seemed to be accounted for with AKTable. I'll make sure the AudioKit project is built in release and repeat the tests in my app and the playground and see if it makes a difference. . Thanks @adamnemecek. I switched the build from debug to release and it changed everything. The 10 second delay is gone. I should have checked this before logging the issue. \nI also repeated my playground tests using CACurrentMediaTime instead of date as you suggested. The results were interesting in that the AKTable from version 3.3 performs the same in debug and release mode and AKTable from version 3.5 has such a huge discrepancy. My code is pretty basic. e.g.\nvar before = CACurrentMediaTime()\nlet sin = AKTable(.sine)\nvar after = CACurrentMediaTime()-before\nprint(\"Time to load AudioKit 3.5 sine table: \\(after)\")\nbefore = CACurrentMediaTime()\nlet sin2 = AKTable3_3(.sine)\nafter = CACurrentMediaTime()-before\nprint(\"Time to load AudioKit 3.3 sine table: \\(after))\")\nand so on for the square and sawtooth tables...\nHere are my console results for the release build:\nTime to load AudioKit 3.5 sine table: 0.0418615669987048\nTime to load AudioKit 3.3 sine table: 0.0258172339963494)\nTime to load AudioKit 3.5 square table: 0.0348588740016567\nTime to load AudioKit 3.3 square table: 0.02439965299709\nTime to load AudioKit 3.5 sawtooth table: 0.0470353819982847\nTime to load AudioKit 3.3 sawtooth table: 0.0275405590000446\nAnd the results for the debug build:\nTime to load AudioKit 3.5 sine table: 2.21423152300122\nTime to load AudioKit 3.3 sine table: 0.0270791740040295)\nTime to load AudioKit 3.5 square table: 3.21181402599905\nTime to load AudioKit 3.3 square table: 0.0296517530077836\nTime to load AudioKit 3.5 sawtooth table: 3.15386372899229\nTime to load AudioKit 3.3 sawtooth table: 0.027750578999985\nSo, the AKTable from version 3.3 performs about the same in release and debug mode, but the version from 3.5 performs terribly in debug mode. For what it's worth, AKTable in version 3.3 appears to be faster to load in release mode, even though it's much less noticeable. 3-4ms to generate a table once and pass its contents on to an oscillator is more that fast enough I would imagine, but it brings me back to the last part of my original question; was there a compelling reason to make AKTable a MutableCollection?. It turns out the two ADSRs were not working well together. If I give them the same release time then the clicking goes away.. Below is the only modification I make to the Recorder iOS demo app to get a crash on the simulator. ViewController.swift line 70 onward.\n// Will set the level of microphone monitoring\nmicBooster.gain = 0\nrecorder = try? AKNodeRecorder(node: micMixer)\nif let file = recorder.audioFile {\n// Here we're just trying to initialise a sample player object with a file\nlet samplePlayer = AKSamplePlayer(file: file)\n// original code\nplayer = try? AKAudioPlayer(file: file)\n}\nplayer.looping = true\nApologies for not sharing this code sooner.. In the app I'm currently working on I can set maxSamples to be equal to some arbitrary large file size (e.g. 10 minutes), but the app allows the user to record from the microphone as well as load samples from an external file. There's potentially always a bigger file, and a way to crash the app if the user decided to load a sample (or record audio) of 10 minutes and 1 second. \nI felt resizing the memory on each file load was a safer way to handle this scenario, but perhaps deleting/reallocating for each load causes other problems I hadn't considered (like fragmentation maybe?). \nI took inspiration from the Recorder example project, but with AKSamplePlayer instead of AKPlayer. The AKPlayer seems to handle the loading of different length audio files without issue, but the AKSamplePlayer offers more control in terms of how you can affect playback in realtime.\nI thought it might be a useful feature in AKSamplePlayer to dynamically resize the buffer, but if not I can live with it.. ",
    "pablocaro": "I see! thanks @aure! - if you can would be good the see the video, but no rush! :+1:\n. Awesome!! thanks!\n. ",
    "ianrahman": "Seconding this problem. It seems EZAudioPlot isn't initialized correctly when passed only a Node, which is the problem in the Node Output and FFT Plot-related playgrounds.\nEdit: Perhaps the inits need to edited for AKNodeFFTPlot and AKNodeOutputPlot?\n. NP!\n. ",
    "joshbruhin": "I need to add this functionality (unless streaming support has already been added?). Thing is, I know virtually nothing about audio and just a little bit about AudioKit. Any chance you can point me in the right direction? I know it makes sense to capture the stream and feed it to an AKAudioNode (not sure using StreamingKit makes sense, it seems to be not well used/supported these days). Any help appreciated!. Here's a sample project. Hit 'record' button to start recording, then see the waveform. When hitting 'stop', the recording is stopped successfully, but the waveform view (EZAudioPlotGL view) keeps drawing, even though the stop function calls .pauseDrawing (it also calls .clear, which appears to also do nothing). Thank you!\nRecorderApp.zip\n. We're you able to get the example project running? I tried subclassing EZAudioPlotGL and am having the same problem.. Ok, thanks for looking. Is there another plot type you'd recommend using instead? Just looking for a basic 'waveform' plot with rolling history.. Can you point me to original issue/resolution? I searched and couldn't find. Thank you so much!. Upgrading to 3.5.4 (thru cocoapods) solved the issue.. ",
    "palatov": "Hi Aure, thanks for your respond. I have started another project and dragged AudioKit.framework from source folder to new project's embedded binaries like it was shown in the tutorial, however I've got the same errror afterwards. Am I doing something wrong here?  \n. ",
    "blerchy": "Hi @aure! Thanks for looking into this. I changed my file to this, and we're making progress.\n``` swift\nimport UIKit\nimport AudioKit\nclass ViewController: UIViewController {\n@IBOutlet weak var frequencyLabel: UILabel!\n@IBOutlet weak var amplitudeLabel: UILabel!\n\nlet minimum: Double = 60\nlet maximum: Double = 560\n\nvar timer = NSTimer()\nlet microphone = AKMicrophone()\nvar tracker: AKFrequencyTracker?\nvar silence: AKBooster?\nvar debugIncrement = 0\n\noverride func viewDidLoad() {\n    super.viewDidLoad()\n    tracker = AKFrequencyTracker(microphone, minimumFrequency: minimum, maximumFrequency: maximum)\n    silence = AKBooster(tracker!, gain: 0)\n}\n\noverride func viewDidAppear(animated: Bool) {\n    timer = NSTimer.scheduledTimerWithTimeInterval(1, target: self, selector: \"measureFrequency\", userInfo: nil, repeats: true)\n    AudioKit.output = silence\n    AudioKit.start()\n    microphone.start()\n    tracker?.start()\n}\n\nfunc measureFrequency() {\n    print(\"NSTimer Fired \\(debugIncrement++)\")\n    print(\"microphone is on: \\(microphone.isStarted)\")\n\n    if let frequency = tracker?.frequency {\n        print(\"get frequency: \\(frequency)\")\n        frequencyLabel.text = \"\\(frequency)\"\n    } else {\n        frequencyLabel.text = \"Problem\"\n    }\n\n    if let amplitude = tracker?.amplitude {\n        amplitudeLabel.text = \"\\(amplitude)\"\n    } else {\n        amplitudeLabel.text = \"Problem\"\n    }\n}\n\n}\n```\nThe problem, now, is that I'm just getting this from my debug console:\n```\nNSTimer Fired 0\nmicrophone is on: true\nget frequency: 0.0\nNSTimer Fired 1\nmicrophone is on: true\nget frequency: 561.783447265625\nNSTimer Fired 2\nmicrophone is on: true\nget frequency: 561.783447265625\nNSTimer Fired 3\nmicrophone is on: true\nget frequency: 561.783447265625\n...\n```\nWhich is especially weird, as the maximum frequency to be detected is 560. I tried changing the max to something like 500, and then it was just giving me readings of 501.136352539062.\nI should add that throughout this the amplitude has been reading as 0.0\n. Okay, I've found something out. When I try to run on my physical device, it is stuck at 600.0 (with the new settings of min 300 and max 600)\nBut when I run in on the simulator it seems to work very well (It will give me an accurate reading when I sing A4), with the exception that it plays back whatever the mic picks up, resulting in nasty feedback. (I had to mute my computer to test it)\nIf you can see why this is, please let me know. I know you're very busy and I don't want to send you on some wild goose chase.\nThanks for all the info you've provided so far. :blush: \n. That fixed it! There are no more problems, thank you so much @aure. :bowtie: \n. @aure: Ok, this makes sense. I am, however, having an issue that AKAudioRecorder is recording nothing to a file I give it, even though there is an output to AudioKit.output(). Is there any sample code or project that you know of which uses AKAudioRecorder? Maybe I'm just missing something.\n. @aure I am a bit confused now, which input does the AKAudioRecorder record from? If I can't get it to record a specific node, can I get it to record from the microphone instead?\n. ",
    "YoanGJ": "Mmmh I tried but pathForResource returns me nil in that case...\n. ",
    "atomoil": "Drat!\nDoes Travis give any useful hints as to what it specifically doesn\u2019t like?\nThanks for the speedy reply and I\u2019m sure we can work it out.\nOn 30 March 2016 at 18:09:02, Aurelius Prochazka (notifications@github.com) wrote:\nIn addition to discussing other ways to achieve this, this method doesn't pass travis, (haven't looked, but its likely not OSX or tvOS compatible as is), so we have to address that as well. I'll look at this a bit more later, but I wanted to respond right away.\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly or view it on GitHub\n. I've found the issue, and it's exactly what you suspected - DefaultToSpeaker isn't supported on tvOS (as per https://developer.apple.com/library/tvos/releasenotes/General/tvOS90APIDiffs/Swift/AVFoundation.html)\n. Oops, missed one...\n. Hurrah! It passes!\nNow let's discuss if this is the right way of going about this or if there is a better way :-)\n. So the issue that this is trying to fix is:\nIf the microphone is active and headphones are unplugged then audio is routed out of the phone earpiece speaker not the main speaker.\nSpecifying DefaultToSpeaker means it comes out of the main speaker not the phone earpiece speaker.\nSo as far as I know changing the graph around the microphone wouldn't change where the audio comes out.\nHope that makes sense.\n. The thing I didn't realise until I added a microphone is that there are 3 places audio can play out of an iPhone:\n- speakers (e.g. at the bottom of the device)\n- earpiece (e.g. where audio comes out when you are on a call, next to the front camera)\n- headphones (e.g. if a stereo jack is plugged into the headphone socket)\nI hadn't thought of earpiece as an option, but if code activates the microphone then it appears that the OS routes audio out of the earpiece instead of the speaker.\nWhat am I doing? Well, put simply I have an app when people record themselves with a(n optional) click track playing in the background. \nIt's fine for the click track to be picked up on the recording. \nFeedback is not an issue as I record the microphone but don't have it wired up to the audio graph, so it doesn't come back out.\nThe problem is that as soon as the mic is active the player can't hear the click track anymore as it's coming out of the earpiece and is therefore very quiet. With the updated code it forces the OS to play the click track out of the bottom speaker, not the top / earpiece / next-to-front-camera speaker.\nJust done a little googling and the earpiece is also known as AVAudioSessionPortBuiltInReceiver (as opposed to the normal speaker which is AVAudioSessionPortBuiltInSpeaker). \nHope that makes a bit more sense. If not, let's Skype or somehow talk in realtime.\n. It's my absolute pleasure. AudioKit is amazingly awesome - how could I possibly not want to help take it to 11 on the awesomes dial??!\n. Ah, fair play - current code breaks the default to speaker option (which for me is to play a metronome out of the speaker while recording), so sounds like we need extra logic - I'll have a look and submit a new pull request. :-)\nAlso I think my configuration change notification code is slightly redundant now there is route change notification code, so I should prolly remove it - do u know who added the route change code, as might be worth me having a quick chat with them about it before I break something :-o\nBest,\nAdam\n\nOn 13 Oct 2016, at 19:49, Aurelius Prochazka notifications@github.com wrote:\nIt was deliberate because we're finishing up Audiobus support which requires that setting so I thought I'd make it the default.\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub, or mute the thread.\n. So... just picking this one up after the post on the audio kit google group (sorry got distracted elsewhere).\n\nI think my original submission was correct - if someone has specified 'defaultToSpeaker' then it should follow that behaviour, however that obviously conflicts with the audioBus support, but I don't know anything about audioBus support :-s\nSo, currently we have:\nif AKSettings.audioInputEnabled {\n    if AKSettings.defaultToSpeaker {\n        try AKSettings.setSession(category: .playAndRecord,\n                                  with: .mixWithOthers)\n    } else {\n        try AKSettings.setSession(category: .playAndRecord)\n    }\n}\nI think it should really be:\nif AKSettings.audioInputEnabled {\n    if AKSettings.defaultToSpeaker {\n        try AKSettings.setSession(category: .playAndRecord,\n                                  with: .defaultToSpeaker)\n    } else {\n        try AKSettings.setSession(category: .playAndRecord,\n                                  with: .mixWithOthers)\n    }\n}\n(note the updated mixWithOthers in the else)\nThe other option - as per #600 would be to change to:\nif AKSettings.audioInputEnabled {\n    try AKSettings.setSession(category: .playAndRecord,\n                                  with: .mixWithOthers)\n    if AKSettings.defaultToSpeaker {\n        try! AKSettings.session.overrideOutputAudioPort(AVAudioSessionPortOverride.speaker)\n    }\n}\nBut I don't know enough about audioBus to make an informed decision about what would work best - any thoughts?\n. d'oh - coming right up!\n. ",
    "Joshua-Thompson": "Hi Aure,\nI see, thank you. I checked out the AutoPan code and will definitely use it for our work.\nThanks again for the help!\n. My pleasure :) \nI'll checkout the latest branch.\n. Ok, glad to be off service :)\n. Hi Aure, \nThank you for that example. I made a custom wave that was pretty close to what I wanted.\nHowever, I like using the AKOperation.triangleWave since I can use the triggerWithAttack operation that ends the waveform after the hold param is complete:\nswift\nvar boom = AKOperation.triangleWave(frequency: 80, amplitude: 1.0)\nvar boomTrigger = boom.triggeredWithEnvelope(AKOperation.trigger, attack: 0.01, hold: 0.2, release: 0.1)\nI know I can do this with the AKOscillator using the amplitude envelop but it requires me to manually call the start and stop methods of the amplitude envelope which makes what I'm trying to do a little more complicated.\nI'll wait to see what you found for the other issues I mentioned (clipper and tanh distortion) .....\n. I see, ok I'll download the new code from the dev branch.\nThank you both!\n. Ok, that was driving me crazy... thank you:)\n. Great, I checkout the new code. Thanks again!\n. Hi Aure,\nI took your suggestion and dropped the AKNode inheritance. Now, I just use the InstrumentCollection.mixer (ex: AudioKit.output = InstrumentCollection.mixer).\nHowever, I decided to add 8 instruments to the InstrumentCollection class and it appears that this is a problem on the iPhone (or at least my iphone 5s v9.3.1).\nThere is a significant degradation in the output of the sound, almost to the point where not sound is made.\nThis only happens as I increase the number of instruments in the InstrumentCollection class.\nHere is the actual custom instrument and voice class I'm using:\n``` swift\n/**Custom instrument preset 1\n Desc: This synth drum replicates a low frequency bass drum using clipping, compressor and distortion / noise\n ***/\nclass Instrument1Preset1: SynthInstrument{\ninit(voiceCount: Int) {\n    super.init(instrumentVoice: Instrument1Preset1Voice(), voiceCount: voiceCount)\n    note = 90\n\n}\n\noverride func playVoice(voice: AKVoice, note: Int, velocity: Int) {\n    voice.start()\n}\n\noverride func stopVoice(voice: AKVoice, note: Int) {\n    voice.stop()\n}\n\n}\n/// Inst1 preset 1 voice\nclass Instrument1Preset1Voice: SynthInstrumentVoice{\n//operations\nvar triangleTrigger: AKOperation!\nvar triangleWave: AKOperation!\nvar noiseOperation: AKOperation!\nvar noiseTrigger: AKOperation!\n//generators\nvar noiseGenerator: AKOperationGenerator\nvar waveGenerator: AKOperationGenerator!\n\n//filters\nvar distortion: AKTanhDistortion!\nvar noiseFilter: AKLowPassFilter!\nvar compressor: AKCompressor!\n\n//mixers\nvar mixer: AKMixer!\nvar presetMixer: AKMixer! //testing\n//params\nvar frequency: AKOperation!\n\n\n\n/// Create the synth drum voice\noverride init() {\n    frequency = AKOperation.lineSegment(AKOperation.trigger, start: 30.0, end: 20.0, duration: 0.20)\n    triangleWave = AKOperation.triangleWave(frequency: frequency, amplitude: 1)\n    triangleTrigger = triangleWave.triggeredWithEnvelope(AKOperation.trigger, attack: 0.0001, hold: 0.0, release: 0.20)\n    waveGenerator = AKOperationGenerator(operation: triangleTrigger)\n\n    distortion = AKTanhDistortion(waveGenerator, pregain: 1.2, postgain: 1, postiveShapeParameter: 0, negativeShapeParameter: 0)\n\n    noiseOperation = AKOperation.whiteNoise(amplitude: 0.1)\n    noiseTrigger = noiseOperation.triggeredWithEnvelope(AKOperation.trigger, attack: 0.01, hold: 0.0, release: 0.01) //0.02 = 20 ms\n    noiseGenerator = AKOperationGenerator(operation: noiseTrigger)\n    noiseFilter = AKLowPassFilter(noiseGenerator, cutoffFrequency: 1000)\n\n    mixer = AKMixer(noiseFilter, distortion)\n\n    compressor = AKCompressor(mixer, threshold: -10, headRoom: 5, attackTime: 0.001, releaseTime: 0.05,masterGain: 5)\n    presetMixer = AKMixer(compressor, noiseFilter)\n    super.init()\n    //set avaudionode\n    self.avAudioNode = presetMixer.avAudioNode //compressor.avAudioNode\n    //start generators, filters ...etc\n    compressor.start()\n    noiseFilter.start()\n    waveGenerator.start()\n    noiseGenerator.start()\n    distortion.start()\n\n}\n\n/// Function create an identical new node for use in creating polyphonic instruments\noverride func duplicate() -> AKVoice {\n    let copy = Instrument1Preset1Voice()\n    return copy\n}\n\n/// Tells whether the node is processing (ie. started, playing, or active)\noverride var isStarted: Bool {\n    let playing: Bool = (noiseGenerator.isPlaying && waveGenerator.isPlaying)\n    return playing\n}\n\n/// Function to start, play, or activate the node, all do the same thing\noverride func start() {\n    noiseGenerator.trigger()\n    waveGenerator.trigger()\n}\n\n/// Function to stop or bypass the node, both are equivalent\noverride func stop() {\n\n}\n\n}\n```\nIt works on the iOS simulator on my macbook just fine.\nIs there a possible limitation on the complexity of a custom voice, particularly when adding many instruments to a AKSequence ?\nThank you Aure.\n. ",
    "PumpMagic": "Thank you, @aure . Is this the kind of thing that warrants a change in documentation and/or error handling? In retrospect, I should have hit the mailing lists before posting it as an issue here - sorry about that.\n. ",
    "oleiade": "Hey @aure thanks for your quick answer!\nI'm actually trying to build an effect chain, and this effect chain should be reorderable, or at least, elements of it should replacable.\nI have indeed explored the track of an immutable device chain, where I would recreate the whole chain every time in its new setup. However, to my knowledge the AKNode objects doesn't expose a copy constructor and that makes the operation much trickier, as I would like to keep the setup of existing effects. But my swift skills are still limited at the moment, and maybe I missed something!\nAny ideas, recommendations that could bring me further on this track?\nIf that's really not possible/recommended, I think I would then abandon the chaining inside the app, and would expose each of them independently to audiobus who would handle the chaining for me.\nThanks a lot! \n. @aure thanks for your support anyways!\nI was finally able to create a DeviceChain that supports moving nodes around, by\n- Implementing it as a completely immutable data structure\n- Encapsulating the nodes I'm using in a parent type that implements a copy constructor\n- Making sure the chain input node play() method is called after every restart of AudioKit\nWould you be open to the following contributions (I can't take any engagement on time though):\n- Implementing a copy constructor on AKNode/AKToggeable children classes of the lib\n- Porting my device chain concept to the project as a AKNodeChain or something like that? I'm pretty sure I'm not the only one who's hit this problem.\nI would also be really interested in participating in conception/development of nodes containers if that ever happens.\nLet me know what you think,\nCheers!\n. Thanks for your quick answer @aure \nThe AKOperation seems interesting, however this opens a bunch of other questions:\n- How can I concretely chain multiple operation based effects as a single node? Do you have any example? The documentation does not seem to provide one, and I couldn't figure out myself.\n- Is it possible to change AKOperation based effects parameters at runtime, like say delay time for example?\n- I tried to read the code of AKOperation but don't quite understand how it really works under the hood. Thus a question arises: is it possible to re-implement the existing AKNode effects using AKOperation?\n- As previously mentioned, their documentation states that the AudioUnit must have input activated, is it the case on with AKOperation (Nota: I'm not sure to know what that actually means :D)\n- Also, I'm quite new to iOS development, what is the role of the AVFoundation elements, especially in the usage you've mentioned in AKNode with the AVAudioConnection point usage\nIf I understand this properly, it means that an implementation in my case would be to create an ABAudioFilter with my AKOperation as AudioUnit right? \nI will for sure try to contribute back my learnings if I can get this to work :-)\n. Thanks for the example @aure \nAfter a lot of die and retry, I come to the conclusion that in my specific case of an effect rack AudioKit is probably not the best tool for the job (yet?). \nThanks again for the support :-)\n. ",
    "mtfrctl": "I appreciate such a quick response!\nSoon I downloaded the develop branch, run Example, and it worked well!!\nThe problem seems to be occurred because of starting an audio engine in a debug scope of the library(AudioKit.swift), right? I guess it might be hardly noticeable...\nThe problem of playground programs were also solved after following procedure below.\n1. If there is another window of Xcode, close it, or simply quit Xcode\n2. Open \"AudioKit For iOS.xcodeproj\" of the new develop branch (restarting Xcode and using new code)\n3. Build and Run\nBefore doing 1, the program didn't work, but now it works fine! :-)\nAgain, thank you so much for your fast fixing.\nI'm rooting for you and your great work!!\n. ",
    "olexl": "thanks\n. ",
    "vladtol": "Just send you a email\n. Just updating now another MacBook from Yosemite to El Captain. Next step\nwould be Xcode setup and AudioKit framework again. Let's see what we get\nfor this time )\n\u0432\u0442\u043e\u0440\u043d\u0438\u043a, 12 \u0430\u043f\u0440\u0435\u043b\u044f 2016 \u0433. \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c Aurelius Prochazka \u043d\u0430\u043f\u0438\u0441\u0430\u043b:\n\nSeeing as we got your playgrounds working, I'm thinking this could be a\nproblem with your Xcode simulator set up. Did you have any luck after our\nscreenshare? If so, let us know, and close the issue.\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly or view it on GitHub\nhttps://github.com/audiokit/AudioKit/issues/343#issuecomment-209089270\n. Just solved the problem\nStep-by-step instructions:\n1. Create a new Xcode project\n2. Close the project \n3. Drag&Drop or copy AudioKit framework file into the project folder \n4. Run the project & add AudioKit framework in Project Navigator/General/Embedded Binaries\nAfter these steps AudioKit framework is importing just fine\n. \n",
    "GoodVillager": "I was having the exact same issue. By installing AudioKit through Cocoapods, I've managed to make the import work. However, now I have a different error: linker command failed with exit code 1 (use -v to see invocation). Any help would be greatly appreciated.\n\n. ",
    "fridemar": "Hello, thank you for the work on this promising framework and the workaround hint of vlatik-t (which latter didn't work in my case on a macbook pro with OS X 10.11.6).\nPerhaps it needs only a small step for the generous developer(s) of the framework:\nUsing Xcode Version 8.0 beta 4 (8S188o) I got the error:\n\"Module file was created by an older version of the compiler; rebuild AudioKit and try again.\"\nLooking forward to the evolution of this great framework. \n. ",
    "magicwave": "I just encountered this with Xcode 8. The problem for me was that I needed to build the framework target for (any) simulator for the AudioKit to be found by the playground.\nAwesome work @aure !!!!\n. ",
    "JohnGroenhof": "Ok, I made the name change and added a deinit so the observer can be removed. Let me know if there are any other issues with this. I get some weird behavior with AKSampler after AudioKit has been restarted, but I think that's unrelated. Everything else I've tested works fine after headphones are plugged in and playback is restarted. \n. ",
    "SeedyROM": "Realizing now that even though I updated XCode recently, I'm still one version behind.\n. ",
    "EliotSlevin": "Its working! Thanks so much for your help\n. ",
    "andreamazz": "That sounds great, thank you so much for the quick reply.\n. Thank you, I'll try this right away. \ud83d\udc4d \n. It works perfectly, thank you so much for all your work in this amazing library.\n. By the way, I noticed that the currentTime returned by the player is always relative to the starting point. So if you playFrom 60, the current time reset from 0 instead of starting from 60 too. I don't know if this is intended by design or not.\n. Just tested it, it works great, now the currentTime is always relative to the whole audio file. \nThanks \ud83d\udc4d \n. Thank you @aure, this is great!\n. As a followup it's also worth noting that trying to playFrom(:_) a location near the end of the song, results in a crash:\nswift\nplayer.playFrom(song.duration * 0.95)\n. Hi @aure \nI just tested on the develop branch, and the issue persists. Now I get this warning on the console: \nAKAudioPlayer cannot set a startTime bigger that endTime: 37.6424489795918 seconds\nso that fixes the possible crash, but the cursor is still lagging behind in the waveform.\n. I'm currently testing this with a file with a duration of 40 seconds. I noticed that once the file is loaded, the player returns an endTime of roughly 37 seconds. If I understand this correctly, it should match the duration of the song, right? I'm wondering if this issue is related to the sample rate of the file. What do you think?\n. Yeah, the sample rate of the file is 44100 Hz. I just checked and it's actually rendered as 44100.0 in AudioKit, so that's not the issue.\nI can circumvent this problem by using the player's endTime as reference instead of the file duration provided by the asset importer, then apply a scaling to render the correct time for the user, but I'm still puzzled by this \ud83d\ude03 \n. Hi @aure, thanks for the help. After some digging I found the culprit. \nI'm importing files from the media library, and I double and triple checked the importer a while ago, only to find out now that it's calculating the wrong file duration.\nWhat tricked me is that the Apple Music app reports the same duration, but it's wrong.\nSo in the end I just need to discard that value and trust the endTime of AKAudioPlayer.\nThanks again for the support and the amazing library.\n. Hi @laurentVeliscek and @aure \nThanks for the quick reply. \nI'm currently using m4a files (I did notice that mp3 files take even longer). \nI'll follow your suggestion and decode them in a PCM file before feeding them to the player. I'll let you know how it ends up.\nIn the meantime thanks again for all your work. \ud83d\udc4d \nCheers\n. Sure. As I said I'm importing a song from the library and convert it in m4a format:\n``` swift\n  func exporterFor(asset: AVAsset, at exportedFileURL: NSURL) -> AVAssetExportSession {\n    // Export as a .m4a file preset\n    let exporter = AVAssetExportSession(asset: asset, presetName: AVAssetExportPresetAppleM4A)!\n    exporter.outputFileType = AVFileTypeAppleM4A\n    exporter.outputURL = exportedFileURL\n// Set the length of the export to be the length of the song\nlet duration = CMTimeGetSeconds(asset.duration)\nlet endTime = Int64(duration)\nlet startTime = CMTimeMake(0, 1)\nlet stopTime = CMTimeMake(endTime, 1)\nlet exportTimeRange = CMTimeRangeFromTimeToTime(startTime, stopTime)\nexporter.timeRange = exportTimeRange\n\nreturn exporter\n\n}\nfunc exportFromAppleMusic(chosenSong: MPMediaItem, completion: (Result -> Void)) {\n    // Set up the export\n    let filename = \"(chosenSong.persistentID).m4a\"\n    let documentsDirectory = NSFileManager.defaultManager().URLsForDirectory(.DocumentDirectory, inDomains: .UserDomainMask)[0]\n    let exportedFileURL = documentsDirectory.URLByAppendingPathComponent(filename)\n// Set up the export\nlet url = chosenSong.valueForProperty(MPMediaItemPropertyAssetURL) as! NSURL\nlet songAsset = AVAsset(URL: url)\n\nlet exporter = exporterFor(songAsset, at: exportedFileURL)\nexporter.exportAsynchronouslyWithCompletionHandler({\n  switch exporter.status {\n  case .Completed:\n\n    /// ... (skipping the part where I save the metadata in a Realm database)\n\n    Async.main {\n      completion(.Success(song)) // Song is the model object with the file URL\n    }\n\n    break\n  default:\n    print(\"Export status \\(exporter.status) error: \\(exporter.error)\")\n    completion(.Failure(exporter.error ?? NSError(domain: \"tunedown\", code: 0, userInfo: nil)))\n  }\n})\n\n}\n```\nThen I play the imported song like this:\n``` swift\n  func playSong(songToPlay: NSURL) {\n    let file = try! AKAudioFile(readFileName: songToPlay.pathComponents!.last!, baseDir: .Documents)\n    player = try! AKAudioPlayer(file: file)\ntimePitch = AKTimePitch(player!)\n\nAudioKit.output = timePitch\nAudioKit.start()\n\nplayer?.play()\n\n}\n```\nAnd I skip back with this:\n``` swift\n  @IBAction func jumpBack() {\n    guard let player = player where AudioKit.engine.running else { return }\nvar starting = player.playhead - 5\nif starting < 0 {\n  starting = 0\n}\nplayer.playFrom(starting)\n\n}\n```\n. > Would you like to add a method to AKAudioFile so it could import from library ?\n\n(That would be cool...)\n\nSure, I'll be happy to.\n\nWith Brandon, we're almost done in implementing async methods for extracting some audio and convert it in .caf un-compressed format. So we have a piece of the puzzle. You've got the other.\nI hope to publish and commit extract_async() for AKAudioFile tomorrow. It lets you convert any readable file to uncompressed .caf AKAudioFile (the most suitable format for efficient process).\nThen, if you implement a convenient init (fromMPMediaItem) for AKAudioFile, we could complete the puzzle.\n\nSounds good \ud83d\udc4d \n\nBy the way, I can't see the purpose of your application... (except for debugging AKAudioPlayer ;-)\n\n:D \nI'm a guitarist, so I wanted to build a simple app to slow down and change the pitch of a song, which helps me transcribing it.\n\nPS: Except for experimentation, never use try!, at least try? or better, do {try} catch...\n\nYep, I usually avoid any kind of ! (either forced unwrap or try!), but while I'm still figuring everything out I tend to cut some corners.\n\nPS2: About jumpBack(), you can set player.startTime\" (player.startTime = value) instead of playFrom().\nShould be more efficient...\n\nWIll do, thanks!\nCheers\n. Ok, I just tested the code by converting the file to PCM, and it works great. \ud83d\udc4d \n. ",
    "dskulina": "This option lets you mix with other audio sources - on or around line 134 of AudioKit.swift, in the playbackWhileMuted section, add withOptions:AVAudioSessionCategoryOptions.MixWithOthers  to the code that is there already, as below:\ntry AVAudioSession.sharedInstance().setCategory(AVAudioSessionCategoryPlayback, withOptions: AVAudioSessionCategoryOptions.MixWithOthers)\nFor more options see https://developer.apple.com/library/ios/documentation/AVFoundation/Reference/AVAudioSession_ClassReference/#//apple_ref/c/tdef/AVAudioSessionCategoryOptions\n. ",
    "JadinT": "Okay I have figured this out:\nI declare it as...\nlet lpf = AKLowPassFilter(AudioKit.output!)\nbut it needs to be declared after starting the output. Now I am having toruble changing the frequency as it does not let anything pas through.\n. ",
    "sigmonky": "Think I solved my own problem here. \nUsing XCode 7.3, I had to manually add the AudioKit framework file path in HelloWorld target build settings Search Paths/framework search paths to get this to work.\n. This worked great for me with just a few minor updates to the SequencerTracks example project:\nadded fluid_gm sound font to project or the GM soundfont of your choice\nIn ViewController.viewDidLoad(),made following changes:\n```\n//call loadMelodicSoundFont method instead of load EXS24 for the 4 AKSampler instances\nsyn1.loadMelodicSoundFont(\"fluid_gm\", preset: 0)\nsyn2.loadMelodicSoundFont(\"fluid_gm\", preset: 0)\nsyn3.loadMelodicSoundFont(\"fluid_gm\", preset: 0)\ndrmKit.loadMelodicSoundFont(\"fluid_gm\", preset: 0)\n```\nOf course, everything sounds like a piano with these settings but changing that is just a matter of using different preset values.\n. ok. will do.. ",
    "laurentVeliscek": "I made few more tests. In fact, the problem occurs on ios 9.1, but everything works fine on ios 9.3, even using a iphone4S . So it seems to be ios version dependant.\nThe crash seems to occur from attempting to unwrap status! value (line 67 of AKMIDIEvent.swift).\nJust to mention, the property  seq.isAvSeq is set to false (default) as timing glitches is a big issue for a sequencer...\n. I Think I can try to fix it.\nAs I'm a beginner in swift and AVFoundation, it takes years to code anything, but I learn a lot.\nI begin to have a better understanding, and I should be able to submit soon a V1 of AKAudioFile (that inheritates AVAudioFile, with some utilities and public handy properties). \nRight now, I already got some success with a my custom class in the playground.\nBut I must work on it to keep things simple and handy.\nThen, I hope I can submit an upgraded AKAudioPlayer based on your implementation. I have an idea about what is going wrong in the current version, but I haven't made tests yet.\nSo if there's no emergency, I think I should be able to fix the AKAudioPlayer within a reasonable delay.\nComing back soon with some lines of code !\n:-)\nLaurent.\n. I\u2019m just working on now !\nJust cleaning and should be ready very soon\u2026\n:-)\nLaurent\n\nLe 10 juin 2016 \u00e0 19:08, Brandon Barber notifications@github.com a \u00e9crit :\nHey @laurentVeliscek https://github.com/laurentVeliscek,\nJust curious where your at with your AKAudioPlayer. If you need any help or want to pass on the job, let me know.\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub https://github.com/audiokit/AudioKit/issues/384#issuecomment-225240104, or mute the thread https://github.com/notifications/unsubscribe/ASTVrlb14vQr2iSmspROJbPOq_Tb66eZks5qKZoagaJpZM4IkRWV.\n\nMes compos en t\u00e9l\u00e9chargement libre sont sur Soundcloud (musicatalogue) :\nhttps://soundcloud.com/musicatalogue\n. I think this one could be closed...\n. Hi Aure,\nI forked / cloned /updated  the latest develop branch of AudioKit.\nIt seems to be okay here (only see my 3 commits)\nSo I \u00ab pull requested \u00bb .\nI hope this time, it will be okay.\nI\u2019m very sorry for earlier mistakes. You last answer helped me a lot to figure out the pull request process.\nI began to investigate about AKNodeRecorder.\nI\u2019ll let you know if it give some results\u2026\nLaurent veliscek.\n\nLe 11 juin 2016 \u00e0 16:06, Aurelius Prochazka notifications@github.com a \u00e9crit :\nThis pull request looks really bad because you have undone lots of work done by other. Looks like you might have done a merge where you said \"keep mine\" and obliterating the recent changes to AudioKit. You can see that the pull request has 141 files changed. You only changed two files. Here's what I suggest:\nMake a copy of your repo with the files you added (playground, akaudiofil, etc.) then fork a clean copy of AudioKit's develop branch, readd the changes, and commit, push, and create pull request. If this is becoming too complicated, I can make the changes for you but this is a process you should learn.\nThanks.\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub https://github.com/audiokit/AudioKit/pull/396#issuecomment-225364148, or mute the thread https://github.com/notifications/unsubscribe/ASTVrpY2eyoeOrs6Y-lbIe1V3xCrso0Jks5qKsDXgaJpZM4IzgOg.\n\nMes compos en t\u00e9l\u00e9chargement libre sont sur Soundcloud (musicatalogue) :\nhttps://soundcloud.com/musicatalogue\n. Should be fixed soon !\n:-)\nI have a working beta that does the job.\nBut not happy with my implementation. Give me 2 days !...\n :-)\n. Fixed !\n(should be online soon in the develop branch)\n. it seems to be. I gonna check this.\n2016-06-18 0:20 GMT+02:00 Nick Arner notifications@github.com:\n\nIn the OS X \"Balancing Nodes\" Playground, I'm receiving the error log\nbelow:\n2016-06-17 18:14:52.842 com.apple.dt.Xcode.PlaygroundStub-macosx%5B22544:697006%5D Audio files cannot be non-interleaved. Ignoring setting AVLinearPCMIsNonInterleaved YES.\nAKAudioPlayer Warning:  \"drumloop.wav\" is an empty file\n@laurentVeliscek https://github.com/laurentVeliscek, could this be\nrelated to some of the changes you've made to AKAudioPlayer?\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\nhttps://github.com/audiokit/AudioKit/issues/418, or mute the thread\nhttps://github.com/notifications/unsubscribe/ASTVrptV6uSNzi-oYhjFtoFUmpwa0v_Jks5qMx21gaJpZM4I4xqd\n.\n. Okay !\nI found where it came from. A specific init for AKAudioFile that lets you use a string file path is missing. \nI will work tomorrow on AKAudioFile and AKAudioPlayer. Will be fixed I promise. :-)\n. Hi Andreas,\n\nThe bug you describe should have been fixed in the develop branch version of akaudioplayer. \nPlaying is much more reliable, and playhead won't be zero anymore when pausing.\nThere's an audio player playground in develop with a \"moving slider\" that reflects player playhead. I noticed too that it seemed to be some late. It may be because of long buffer length setting. \nWe're working on lowering the buffer's length so it should help to increase accuracy of playhead' value.\nPlease let us know if you still get buggy behavior with this version of akaudioplayer...\nLaurent.\nEnvoy\u00e9 de mon iPhone\n\nLe 7 juil. 2016 \u00e0 12:21, Andrea Mazzini notifications@github.com a \u00e9crit :\nHi all.\nI'm currently using AudioKit to play a file and show its waveform. It's working great so far. I'm having issues showing the current progress on the waveform though.\nI'm using CADisplayLink to update and move a simple 1px wide view (a cursor) over the waveform, like this:\nI noticed that the value of currentTime is unreliable in two ways:\ncurrentTime tends to \"lag\" behind: at the start of the song the waveform under the cursor matches the song, but as time passes, the sound and the visual cue don't match anymore. In fact when the song ends, the currentTime value is still a couple of seconds (or more) behind. So if a 40 seconds audio is played, once the song is over, currentTime is still around the 37 seconds mark.\nwhen the player is paused, currentTime defaults to either 0 or to the latest value passed in playFrom(_:). I think it would be better to always have the last known state of the song, so if the player is paused e.g. at the 30s, currentTime should reflect that value instead of 0.\nFor point 1 I'm not sure if it's an issue with my implementation, do you think that using CADisplayLink is the best approach?\ndisplayLink = CADisplayLink(target: self, selector: #selector(PlayerViewController.update)) displayLink?.addToRunLoop(NSRunLoop.mainRunLoop(), forMode: NSDefaultRunLoopMode) // ... func update() { if let player = player, song = song where song.duration > 0 { let progress = Globals.WaveWidth * ((player.currentTime ?? 0) / song.duration) progressView.frame = CGRect(x: progress, y: 0.0, width: 2.0, height: Double(plotScroll?.frame.height ?? 0)) } }\nThanks\n\u2014\nYou are receiving this because you are subscribed to this thread.\nReply to this email directly, view it on GitHub, or mute the thread.\n\nEnvoy\u00e9 de mon iPhone\n\nLe 7 juil. 2016 \u00e0 15:18, Andrea Mazzini notifications@github.com a \u00e9crit :\nAs a followup it's also worth noting that trying to playFrom(:_) a location near the end of the song, results in a crash:\nplayer.playFrom(song.duration * 0.95)\n\u2014\nYou are receiving this because you are subscribed to this thread.\nReply to this email directly, view it on GitHub, or mute the thread.\n. The answer is in the question... Did you check your files sample rate ?\n\nLaurent.\nEnvoy\u00e9 de mon iPhone\n\nLe 8 juil. 2016 \u00e0 17:51, Andrea Mazzini notifications@github.com a \u00e9crit :\nI'm currently testing this with a file with a duration of 40 seconds. I noticed that once the file is loaded, the player returns an endTime of 37,6 seconds. If I understand this correctly, it should match the duration of the song, right? I'm wondering if this issue is related to the sample rate of the file. What do you think?\n\u2014\nYou are receiving this because you commented.\nReply to this email directly, view it on GitHub, or mute the thread.\n. Hi !\n\nWhat file are you playing ? Is it an mp3 file ? That could explain why you get such a long time as audioplayer needs to feed its buffer, and it takes much longer time with mp3 / mp4 or any compressed format (it costs an expensive \"uncompress\" time...). With a long mp3, it is a problem. But if you convert to PCM format (no compression), you should get a much better performance (I hope).\nThe way develop branch's AKAudioPlayer works is very different from master's version.\nWithout entering into details, develop uses scheduleBuffer when master uses scheduleSegment.\nBoth have their advantages and their limitations. As we cannot predict if looping or playfrom will be used instead of just playing the file, I choosed to use the \"scheduleBuffer\" as it was the only option to have a working AKAudioPlayer with those features. (You may have noticed some bugs with master's version).\nIf you have any idea to optimize the actual develop version, you're very welcome.  May be we could add another player, with another approach for different purposes.\nBut please try with a PCM file and let us know if the performance is still unacceptable.\nBest,\nLaurent.\n. I just experimented with a 3 minutes mp3 file in playground. It works not so bad, but it's in playground... Must test on hardware. I suggest to not use \"playFrom()\" but just set player!.startTime. (check audioPlayer playground code). If the file is already playing, it will move the playhead, and play just like playFrom() does. Not sure it will work better, but worth to be tested...\nLet us know !\nBest !\nLaurent.\n. Could you please post your code ? Would like to check something...\nThanks :-)\nLaurent.\nEnvoy\u00e9 de mon iPhone\n\nLe 13 juil. 2016 \u00e0 19:46, Andrea Mazzini notifications@github.com a \u00e9crit :\nHi @laurentVeliscek and @aure \nThanks for the quick reply. \nI'm currently using m4a files (I did notice that mp3 files take even longer). \nI'll follow your suggestion and decode them in a PCM file before feeding them to the player. I'll let you know how it ends up.\nIn the meantime thanks again for all your work. \ud83d\udc4d \nCheers\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub, or mute the thread.\n. Ole !\n(Amazing !)\n\nWould you like to add a method to AKAudioFile so it could  import from library ?\n(That would be cool...) \nAKAudioFile.export() couldn't convert from compressed file to uncompressed format.\n(because it relies on AVAssetExport)\nBut since latest methods exist (normalize, extract...), it's now possible.\nWith Brandon, we're almost done in implementing async methods for extracting some audio and convert it in .caf un-compressed format. So we have a piece of the puzzle. You've got the other.\nI hope to  publish  and commit extract_async() for AKAudioFile tomorrow. It lets you convert any readable file to uncompressed .caf AKAudioFile (the most suitable format for efficient process).\nThen, if you implement a convenient init (fromMPMediaItem) for AKAudioFile, we could complete the puzzle.\nI planned to add some new vars to AKAudioFile: .player -> AkaudioPlayer, and .sampler -> AKSampler.\nSo our Lego box  will begin to be very fun to use...\n:-)\nBy the way, I can't see the purpose of your application... (except for debugging AKAudioPlayer ;-)\nBest !\nLaurent.\nPS: Except for experimentation, never use try!, at least try? or better, do {try} catch...\nPS2: About jumpBack(), you can set player.startTime\" (player.startTime =  value) instead of playFrom().\nShould be more efficient...\n. There's strange things with Avasset things.\nI spent hours to figure out that the file path should begin with file:// with Avasset and a file path beginning with a slash won't. I got crazy with this behavior. And I couldn't find an easy way to convert from relative to absolute and reverse. So there's a lot of mysterious code in AKaudioFile export code to handle this. \nI'm in holidays, far from a keyboard and may be it is not the reason of the bug you mentioned but it made me think of this weird behavior using Avasset universe.\nSo may be this is a clue for investigating.\nGood luck !\nLaurent.\nEnvoy\u00e9 de mon iPhone\n\nLe 28 juil. 2016 \u00e0 09:45, Marco Ferragina notifications@github.com a \u00e9crit :\nThanks. I'm trying to investigate and the problem seems to be related to the outputURL of the AVAssetExportSession. The following playground works but on first execution only. If i change anything (add a simple print somewhere for example), it throws the error you mentioned. I'm just a swift and Xcode beginner so surely you will solve before me :)\n`\nimport Foundation\nimport XCPlayground\nimport AudioKit\nlet file = try AKAudioFile(readFileName: \"drumloop.wav\", baseDir: .Resources)\nlet asset = AVURLAsset(URL: file.url)\nlet exporter = AVAssetExportSession(asset: asset, presetName: AVAssetExportPresetPassthrough)\nlet documentsDirectory = NSFileManager.defaultManager().URLsForDirectory(.DocumentDirectory, inDomains: .UserDomainMask)[0]\nvar outputPathURL = documentsDirectory.URLByAppendingPathComponent(\"out.wav\")\n// NEVER WORKS. Why?\n//\n//var filePath: String\n//filePath = \"/Users/ferama/tmp/out.wav\"\n//var outputPathURL = NSURL.fileURLWithPath(filePath)\nexporter!.outputURL = outputPathURL\nprint(exporter!.outputURL)\nexporter!.outputFileType = AVFileTypeWAVE as String\nlet timeRange = CMTimeRangeMake(kCMTimeZero, asset.duration)\nexporter!.timeRange = timeRange\nexporter!.exportAsynchronouslyWithCompletionHandler({\n() -> Void in\nprint(\"here\")\nswitch exporter!.status {\n    case  AVAssetExportSessionStatus.Failed:\n        print(\"ERROR AKAudioFile: Export Failed!...\")\n        print(\"Error: (exporter!.error)\")\n    case AVAssetExportSessionStatus.Cancelled:\n        print(\"ERROR AKAudioFile: Export Cancelled!...\")\n        print(\"Error: (exporter!.error)\")\n    default:\n        // Export succeeded !\n        // We create an AKAudioFile from the exported audioFile\n        let url = NSURL(string: exporter!.outputURL!.path!)\n        print(\"success\")\n}\n}\n)\nXCPlaygroundPage.currentPage.needsIndefiniteExecution = true\n`\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub, or mute the thread.\n. Here:\n\nprivate lazy var internalAVAsset: AVURLAsset = {\n    let avAssetUrl = NSURL(fileURLWithPath:self.url.absoluteString)\n    return AVURLAsset(URL: avAssetUrl)\n}()\nThe weird thing is that avurlasset(URL: url) won't work...\nI had to use this trick to make it work...\nBest !\nLaurent.\nEnvoy\u00e9 de mon iPhone\n\nLe 28 juil. 2016 \u00e0 09:45, Marco Ferragina notifications@github.com a \u00e9crit :\nThanks. I'm trying to investigate and the problem seems to be related to the outputURL of the AVAssetExportSession. The following playground works but on first execution only. If i change anything (add a simple print somewhere for example), it throws the error you mentioned. I'm just a swift and Xcode beginner so surely you will solve before me :)\n`\nimport Foundation\nimport XCPlayground\nimport AudioKit\nlet file = try AKAudioFile(readFileName: \"drumloop.wav\", baseDir: .Resources)\nlet asset = AVURLAsset(URL: file.url)\nlet exporter = AVAssetExportSession(asset: asset, presetName: AVAssetExportPresetPassthrough)\nlet documentsDirectory = NSFileManager.defaultManager().URLsForDirectory(.DocumentDirectory, inDomains: .UserDomainMask)[0]\nvar outputPathURL = documentsDirectory.URLByAppendingPathComponent(\"out.wav\")\n// NEVER WORKS. Why?\n//\n//var filePath: String\n//filePath = \"/Users/ferama/tmp/out.wav\"\n//var outputPathURL = NSURL.fileURLWithPath(filePath)\nexporter!.outputURL = outputPathURL\nprint(exporter!.outputURL)\nexporter!.outputFileType = AVFileTypeWAVE as String\nlet timeRange = CMTimeRangeMake(kCMTimeZero, asset.duration)\nexporter!.timeRange = timeRange\nexporter!.exportAsynchronouslyWithCompletionHandler({\n() -> Void in\nprint(\"here\")\nswitch exporter!.status {\n    case  AVAssetExportSessionStatus.Failed:\n        print(\"ERROR AKAudioFile: Export Failed!...\")\n        print(\"Error: (exporter!.error)\")\n    case AVAssetExportSessionStatus.Cancelled:\n        print(\"ERROR AKAudioFile: Export Cancelled!...\")\n        print(\"Error: (exporter!.error)\")\n    default:\n        // Export succeeded !\n        // We create an AKAudioFile from the exported audioFile\n        let url = NSURL(string: exporter!.outputURL!.path!)\n        print(\"success\")\n}\n}\n)\nXCPlaygroundPage.currentPage.needsIndefiniteExecution = true\n`\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub, or mute the thread.\n. About :\n// Doesn't Works!!! //let asset = AVURLAsset(URL: normalized.url) \nlet asset = AVURLAsset(URL: file.url)\nDid you try :\nLet asset = normalized.avAsset \n?\n\nBest,\nLaurent.\nEnvoy\u00e9 de mon iPhone\n. Hi!\nYou're welcome to add any improvement to AKaudioFile.\nAbout file formats, you must be aware of some consequences of changing convenience  write init.\nAs AKaudioFile inherits from avaudiofile, you can always create any format AKaudioFile if you wish, using standard inherited inits :\n    public override init(forWriting fileURL: NSURL,\n                                    settings: [String : AnyObject],\n                                    commonFormat format: AVAudioCommonFormat,\n                                                 interleaved: Bool) throws {\nBut for example, creating a m4a as you suggest means you have to set compression settings at least, and may be sample rate. But at the end you may reinvent a wheel:\nExcept the directory setting, you would mimic the super class init. \nThen, you should probably have to rewrite aknoderecorder, and most of AKaudioFile process convert and peripherals helpers would may be need to be rewritten as well. For example, you cannot export a m4a to wav using avexport (it won't work). And recording to a wav files seems to generate bad formatted files (wav files with a wrong header)\nThe reason I choosed .caf instead of wav, for example, is because there's an issue with .wav files that seem to be forced to be non float when you init then using avaudiofile init.\nThe idea behind AKaudioFile was to keep things as simple as they can be in most audiofile uses. Just use the default way ensures that it will work, with less code.\n(It is the major benefit of using AKaudioFile instead of avaudiofile)\nYou can record a m4a file, but it will use some cpu to encode file, so it is a better option to use pcm encoded files to avoid some cpu hog with an heavy real time process chain.\nUsing m4a format for playing will slow player's responsiveness.\n(Because audio decompression take some significant time with longer files)\nCompressed files must be converted to pcm prior to any file processing.\nSo even if the data is compressed on disk, there's no real benefit.\nM4a is only relevant for file distribution, but not working.\nSo, forcing to create .caf was a deliberate option.\nThe process I encourage is to create and record a pcm (uncompressed)  file set to match audioKit settings. Then make any process you want, and finally export to m4a if you need.\nAKaudioFile does this automatically, behind the scene, so you don't have to take care of how it is done. It's easy and efficient. \nYou still have the choice to pick another path, using nsurl inits.\nBut in very most cases, the best choice will be to use the default behavior,\nIt will work and avoid multiple decode encode passes.\nI just wanted to explain why AKaudioFile has been implemented like this. And I must say I really enjoy coding a working recorder or a sampler with a very few code lines number. It is easy and fast.\nBut I may be wrong.  And may be a m4a init is really needed.\nFor me. the init is not a priority for improvements.\nIt works fine.\nBut for example, the way normalize or extract methods has been coded is far to be optimized as it could be. And I thought about implementing offline processing using an audioKit signal chain that would be very cool. (Aurelius gave a clue to achieve this using aktest that computes a number of samples and is not real time)\nEnvoy\u00e9 de mon iPhone\n\nLe 3 ao\u00fbt 2016 \u00e0 11:01, Ferrick Chan notifications@github.com a \u00e9crit :\nHi,\nI would like to change the file created format from .caf change to .m4a format. Hope in future can add more fileExtensionFormat parameter in AKAudioFile(writeIn: .Temp, name: fileName) become AKAudioFile(writeIn: .Temp, name: fileName, ext: .ma4). It will be easy for everyone.\nRegards,\nFerrick Chan\n\u2014\nYou are receiving this because you are subscribed to this thread.\nReply to this email directly, view it on GitHub, or mute the thread.\n. Sorry, my previous mail has been sent too early (I use my iPhone :-/\n\nTo conclude, \nI just wanted to thank you for your interest on AKaudioFile. My goal is to avoid any waste of time and work (but may be I'm wrong, let's debate !), and suggest some other tracks for AKaudioFile improvements.\nBest !\nLaurent Veliscek.\nEnvoy\u00e9 de mon iPhone\n\nLe 3 ao\u00fbt 2016 \u00e0 11:01, Ferrick Chan notifications@github.com a \u00e9crit :\nHi,\nI would like to change the file created format from .caf change to .m4a format. Hope in future can add more fileExtensionFormat parameter in AKAudioFile(writeIn: .Temp, name: fileName) become AKAudioFile(writeIn: .Temp, name: fileName, ext: .ma4). It will be easy for everyone.\nRegards,\nFerrick Chan\n\u2014\nYou are receiving this because you are subscribed to this thread.\nReply to this email directly, view it on GitHub, or mute the thread.\n. Hi ferrick,\n\nI noticed this in your report :\n\n0.278639455782313 seconds)\nwriting ( file duration: 0.371519274376417 seconds)\nRecording Stopped.\nrecording\nAKNodeRecorder Warning: Cannot stop recording, already stopped !\nrecording\n\nIt is strange... Looks like a problem with multi threading. (Intuition).\nPlease check aknoderecorder code, may be something wrong somewhere.\nI'm not at home (I'm in holidays) so I cannot investigate.\nYou may check the place where \"recording\" bool is set to true.\nMay be it must be moved earlier in the code.\nI noticed random crash when record/stop occurs very fast. Checking if tape's length was not zero before allowing stop recording seemed to fix the crash in iOS recorder example. But there's definitely a problem somewhere...\nThis crash seems to occur randomly (can you confirm?). I suspect that the problem may come from the fact taponbus is a background process. just an intuition...\nI couldn't find a way to propagate errors from within the closure. Its signature doesn't allow this. Asked in apple's forum but no answer. So I haven't a solution yet. The way AKNodeRecorder is implemented is standard, no fancy things. May be experiment with different recording buffer length (in aksettings). (Setting the recording buffer size is not officially supported by Apple, I find very strange that it works, but it works. But may be it is related with the crash you mention.)\nI noticed that records seemed to truncate the last 300 ms. Shortening the record buffer length doesn't fix the problem (curiously a shorter buffer seems to increase the truncated length).\nMay be we should check that any buffer data has been properly been written to file before stopping the taponbus record loop.\nI just give some clues. This crash is really a problem. Please share if you make some progress with this issue.\nThanks again for pointing this issue.\n:-)\nBest,\nLaurent.\nEnvoy\u00e9 de mon iPhone\n\nLe 4 ao\u00fbt 2016 \u00e0 10:10, Ferrick Chan notifications@github.com a \u00e9crit :\nSorry, I encountered recording and sudden stop the recording. It will crash it.\nResult: \nrecording\nwriting ( file duration: 0.0928798185941043 seconds)\nwriting ( file duration: 0.185759637188209 seconds)\nwriting ( file duration: 0.278639455782313 seconds)\nwriting ( file duration: 0.371519274376417 seconds)\nRecording Stopped.\nrecording\nAKNodeRecorder Warning: Cannot stop recording, already stopped !\nrecording\n2016-08-04 17:29:29.300 tedmi[13325:4384304] 17:29:29.300 ERROR: [0x3798e000] AVAudioNode.mm:561: CreateRecordingTap: required condition is false: _recordingTap == nil\n2016-08-04 17:29:29.301 tedmi[13325:4384304] * Terminating app due to uncaught exception 'com.apple.coreaudio.avfaudio', reason: 'required condition is false: _recordingTap == nil'\n* First throw call stack:\n(0x20d21b0b 0x204dedff 0x20d219e1 0x26622ea9 0x266658d3 0x266629bf 0x1ab6d4c 0x471b50 0x2633dc 0x26659e4f 0x464b1c 0x464c9c 0x253376a1 0x25337631 0x2531f56b 0x2533fe23 0x25336a9f 0x2532f547 0x252ffdd5 0x252fe379 0x20ce39e7 0x20ce35d7 0x20ce193f 0x20c301c9 0x20c2ffbd 0x2224caf9 0x25368435 0x277100 0x208dc873)\nlibc++abi.dylib: terminating with uncaught exception of type NSException\n\u2014\nYou are receiving this because you are subscribed to this thread.\nReply to this email directly, view it on GitHub, or mute the thread.\n. Hi again ferrick, hi Brandon!\n\nThe warnings can be a clue to fix the problem. They shouldn't be printed as long as user don't ask to stop when record is not running. But we get those warnings. So there's something to fix here.\nHave you tried to :\n- move the \"recording = true\" earlier in the code and outside of the closure block ? \"Recording\" could be set to true as soon as the record method has been invoked, at the beginning of the function code.\n  (It's my guess about the problem)\nOther suggestions :\n- comment or remove the \"print\" line from the taponbus closure ?\n- may be remove the if \"recording is true\" check from the stop() method.\nLet us know if it helps...\nI think there's something wrong and it is probably a thread issue. It seems that it can happen that recording bool can be false even user started to record. There's a latency from when you invoke record() and when it is actually record (buffer is filled) that could explain why you get those warnings.\nSomething very annoying is the description of the error:\n\nrequired condition is false: !destNodeMixerConns.empty() && !isDestNodeConnectedToIONode'\n*** First throw call stack:\n(0x20d21b0b 0x204dedff\n\nThere's no reason to get this exception as there's no connection / deconnection that occurs.\nMay be add a debug print to track user interaction (print \"clicked record\" and print \"clicked stoprecord\") and see what is really happening, and what is the instruction that leads to crash (is it record()? Is it stop()?) \nYour report suggest that it is possible that install taponbus is triggered many times (it must not happen), or that remove taponbus is invoked while there's no taponbus set yet (that could may be explain the reason described while crashing)\nThanks,\nBest !\nLaurent.\nEnvoy\u00e9 de mon iPhone\n\nLe 5 ao\u00fbt 2016 \u00e0 05:42, Ferrick Chan notifications@github.com a \u00e9crit :\nHi, @roecrew\nThis is a example (https://github.com/audiokit/AudioKit/tree/master/Examples/iOS/Recorder) and try to commenting this line of code (self.performSegueWithIdentifier(\"stop\", sender:recorder.audioFile!.url). And, keep repeat recording and stoping quickly after that crash will appear.\nResults:\nrecording\nAKNodeRecorder Warning: Cannot stop recording, already stopped !\nrecording\nAKNodeRecorder Warning: Cannot stop recording, already stopped !\nrecording\nAKNodeRecorder Warning: Cannot stop recording, already stopped !\nrecording\nAKNodeRecorder Warning: Cannot stop recording, already stopped !\nrecording\nAKNodeRecorder Warning: Cannot stop recording, already stopped !\nrecording\nAKNodeRecorder Warning: Cannot stop recording, already stopped !\nrecording\nAKNodeRecorder Warning: Cannot stop recording, already stopped !\nrecording\nAKNodeRecorder Warning: Cannot stop recording, already stopped !\n2016-08-05 13:34:28.193 Recorder[13583:4455213] 13:34:28.193 ERROR: [0x3798e000] AVAudioEngineGraph.mm:1743: _Connect: required condition is false: !destNodeMixerConns.empty() && !isDestNodeConnectedToIONode\n2016-08-05 13:34:28.198 Recorder[13583:4455213] * Terminating app due to uncaught exception 'com.apple.coreaudio.avfaudio', reason: 'required condition is false: !destNodeMixerConns.empty() && !isDestNodeConnectedToIONode'\n* First throw call stack:\n(0x20d21b0b 0x204dedff 0x20d219e1 0x26622ea9 0x26637945 0x2663abbb 0x26671d61 0x26671ee1 0x26671e0d 0x2709d4 0x80150 0x80470 0x253376a1 0x25337631 0x2531f56b 0x2533fe23 0x25336a9f 0x2532f547 0x252ffdd5 0x252fe379 0x20ce39e7 0x20ce35d7 0x20ce193f 0x20c301c9 0x20c2ffbd 0x2224caf9 0x25368435 0x86b20 0x208dc873)\nlibc++abi.dylib: terminating with uncaught exception of type NSException\nIt different error with my project error. In my project error, I guess the recording block a bit slower than stop func.\nnode!.avAudioNode.installTapOnBus(0, bufferSize: recordingBufferLength, format: internalAudioFile.processingFormat, block: { (buffer: AVAudioPCMBuffer!, time: AVAudioTime!) -> Void in\ndo {\nbuffer.frameLength = recordingBufferLength\ntry self.internalAudioFile.writeFromBuffer(buffer)\nself.recording = true\nprint(\"writing ( file duration: (self.internalAudioFile.duration) seconds)\")\n} catch let error as NSError {\nself.recording = false\nprint(\"Write failed: error -> (error.localizedDescription)\")\n}\n})\nCould try to avoid when the user reaction too fast in this situation.\nThanks.\nRegards,\nFerrick Chan\n\u2014\nYou are receiving this because you commented.\nReply to this email directly, view it on GitHub, or mute the thread.\n. Hi !\n\nplease just change line 24:\n    public init(callback: AKMIDICallback? = nil) {\n(forgot to do it before pull request)\n. Hi Pedro,\nYou may try to create different instances of AKaudioFile for reading and writing, even if they target the same \"physical file\", depending on your purpose.\nPlaying with frame position can leads to crash in some cases. AKaudioFile inherits from avaudiofile, and I noticed that it behaves differently depending on how you instanciate it (for reading vs for writing).\nYour sample code is a little bit short for more investigation...\n:-/\nI hope this will help.\nBest :-)\nLaurent.\nEnvoy\u00e9 de mon iPhone\n\nLe 12 oct. 2016 \u00e0 20:53, Pedro Paulo Amorim notifications@github.com a \u00e9crit :\nI tried to use try mixer.appendedBy(file: layerFile) and I received this error:\nTerminating app due to uncaught exception 'com.apple.coreaudio.avfaudio', reason: 'error -50'\n\u2014\nYou are receiving this because you are subscribed to this thread.\nReply to this email directly, view it on GitHub, or mute the thread.\n. HI Ryan,\n\nInteresting. The reason I choosed to set the buffer on stop (and init) was to avoid a laggy play. So playing starts as soon as you ask for. With long files, setting buffer on play can be a problem, especially if you wish to play a few files at the same tile and needs a minimum sync.\nBut it depends on your needs.\nDid you experiment with longer files ?\n(With short files, sampler is a better option than akaudioplayer)\nWhat is the reason you wish to change this ?\nBest !\nLaurent.\nEnvoy\u00e9 de mon iPhone\n\nLe 28 oct. 2016 \u00e0 01:28, Ryan Francesconi notifications@github.com a \u00e9crit :\nThe main change here is adding the ability to schedule the buffer in the future. There are a few small notes in comments as well. I don't believe this breaks any existing functionality, but it will need testing in other circumstances than mine to be sure!\nThe only conceptual difference is that this class would schedule the buffer on initialize. This means that the first attempt to schedule in the future would be ignored. Removed that\nThe only change to your code is moving the buffer setup to the play event rather than the stop. It's working fine here in my project, but as the changes are significant to an important class. Testing!\nLet me know if you see anything weird about the way I added this! I think it's a useful feature and a mandatory one for me.\nThanks!\nRyan\nYou can view, comment on, or merge this pull request online at:\nhttps://github.com/audiokit/AudioKit/pull/592\nCommit Summary\nThe main change here is adding the ability to schedule the buffer in the future. There are a few small notes in comments as well. I don't believe this breaks any existing functionality, but it will need testing in other circumstances than mine to be sure!\nFile Changes\nM AudioKit/Common/Nodes/Playback/Player/AKAudioPlayer.swift (212)\nPatch Links:\nhttps://github.com/audiokit/AudioKit/pull/592.patch\nhttps://github.com/audiokit/AudioKit/pull/592.diff\n\u2014\nYou are receiving this because you are subscribed to this thread.\nReply to this email directly, view it on GitHub, or mute the thread.\n. I didn't check the code. But if it is an option and if you still can use akaudioplayer the way it worked (set buffer on stop), I have no objection.\n\n:-)\nLaurent.\nEnvoy\u00e9 de mon iPhone\n\nLe 28 oct. 2016 \u00e0 01:28, Ryan Francesconi notifications@github.com a \u00e9crit :\nThe main change here is adding the ability to schedule the buffer in the future. There are a few small notes in comments as well. I don't believe this breaks any existing functionality, but it will need testing in other circumstances than mine to be sure!\nThe only conceptual difference is that this class would schedule the buffer on initialize. This means that the first attempt to schedule in the future would be ignored. Removed that\nThe only change to your code is moving the buffer setup to the play event rather than the stop. It's working fine here in my project, but as the changes are significant to an important class. Testing!\nLet me know if you see anything weird about the way I added this! I think it's a useful feature and a mandatory one for me.\nThanks!\nRyan\nYou can view, comment on, or merge this pull request online at:\nhttps://github.com/audiokit/AudioKit/pull/592\nCommit Summary\nThe main change here is adding the ability to schedule the buffer in the future. There are a few small notes in comments as well. I don't believe this breaks any existing functionality, but it will need testing in other circumstances than mine to be sure!\nFile Changes\nM AudioKit/Common/Nodes/Playback/Player/AKAudioPlayer.swift (212)\nPatch Links:\nhttps://github.com/audiokit/AudioKit/pull/592.patch\nhttps://github.com/audiokit/AudioKit/pull/592.diff\n\u2014\nYou are receiving this because you are subscribed to this thread.\nReply to this email directly, view it on GitHub, or mute the thread.\n. Very impressing project !\n\nI understand your point. but for video synced DAW, you must be able to\nmanage 2 hours long files.\n(my job is sound engineer for TV programs, and I can tell that it happens\nvery often)\nIf you fill the buffer when play is pressed, you may get a very very slow\nresponsive DAW.\nAnd sync will probably be very hazardous (that's a major problem, phase\ninconsistency between tracks on a DAW is unacceptable)\nThere's no way to ensure that many AKaudioplayers will play in sync.\nSo I 'm not convinced that AKAudioPlayer is the right engine to achieve\nyour goal.\nPlease check your change with huge files.\nand check what happen with many tracks...\nFilling the buffer can be very long with long files. And If it becomes\nlaggy, I'd prefer to keep the default behaviour of AKAudioPlayer like it is.\nFor such a purpose, may be AVComposition classes would be more appropriate\n(https://developer.apple.com/reference/avfoundation/avmutablecomposition).\nBut I've never experimented with it.\nLet us know...\nAnother direction would be to \"schedule segment\" with an AVAudioPlayerNode.\n(But no looping then, that's why I prefered the scheduleBuffer method. And\nI remember to have some bugs with completion handler not beeing triggered\ncorrectly)\nGood luck !\nLaurent.\n2016-10-28 18:41 GMT+02:00 Ryan Francesconi notifications@github.com:\n\nHi Laurent, I'll do more testing with long files. Most of my testing has\nbeen with files 2 minutes or under, so you may be right. I'm developing on\na 2007 mac - so I like to think of my system as the slowest possible one to\nrun AudioKit!\nHowever, I still don't think stop() is the correct place to set the buffer\nunless you aren't using startTime and endTime. Have a look at the attached\npict of a portion of what I'm working on. I have a fairly typical DAW where\nthe files are being scheduled based on the position in the timeline sync'd\nto video generally. When the app is in the stopped or play state you can\nedit the regions, essentially resetting their startTime and endTimes.\nSo, I think the alternative in my case is to call setPCMBuffer manually\nwhen the edit is done. And change it to open rather than fileprivate. Given\nthat - what do you guys suggest?\n[image: image]\nhttps://cloud.githubusercontent.com/assets/2917795/19814175/f57d3176-9cf1-11e6-884e-1e3d2a5142fc.png\n\u2014\nYou are receiving this because you commented.\nReply to this email directly, view it on GitHub\nhttps://github.com/audiokit/AudioKit/pull/592#issuecomment-256968892,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/ASTVriCO1Kqycij6P49L2_5hGCft6v8pks5q4iWwgaJpZM4Ki7p1\n.\n. Excellent! \n\nIt seems that you fixed some stupid cpu wasting. \nI thought you wanted to set buffer at every \"play\" action but that's not the case and thank you for fixing unnecessary buffer setting.\nYou're absolutely right about renaming set buffer into update buffer.\nThanks !\n:-)\nLaurent.\nEnvoy\u00e9 de mon iPhone\n\nLe 29 oct. 2016 \u00e0 00:18, Ryan Francesconi notifications@github.com a \u00e9crit :\nI've refined the fill buffer routine more now. Also, I've changed the name of setPCMBuffer() to updatePCMBuffer(), which is more accurate to what it's doing.\nThe buffer is updated only on these occasions now:\ninitialize()\nset startTime\nset endTime\non immediate playback within a sound file (when the startTime is being set on the fly)\nPreviously the buffer was being filled with the same data over and over (on stop() which was called too often) even if it didn't need to change. So, this should be more efficient. I've tested with 20 concurrent samples all playing at the same time and it was solid. I do think the current implementation is better suited towards shorter sound files as Laurent mentioned. More on that soon.\nOne other recommended change: I've commented out the auto-play within the startTime/endTime. I think that this should be in the specific application control class rather than within the API. If you are doing edits while a group of sounds are playing, if one starting playing again immediately when you didn't ask it to, it would be a bug.\nYou can view, comment on, or merge this pull request online at:\nhttps://github.com/audiokit/AudioKit/pull/595\nCommit Summary\nI've refined the fill buffer route more now. Also, I've changed the name of setPCMBuffer() to updatePCMBuffer(), which is more accurate to what it's doing.\nFile Changes\nM AudioKit/Common/Nodes/Playback/Player/AKAudioPlayer.swift (99)\nPatch Links:\nhttps://github.com/audiokit/AudioKit/pull/595.patch\nhttps://github.com/audiokit/AudioKit/pull/595.diff\n\u2014\nYou are receiving this because you are subscribed to this thread.\nReply to this email directly, view it on GitHub, or mute the thread.\n. Did you check that the number of channels of the appended file match with the source file ?\n\nThe error message seems to give us a clue...\n(Hope this will help to figure out where the problem comes from. The \"index out of range\" may come from appending mono and stereo files...)\nBest\nLaurent.\nEnvoy\u00e9 de mon iPhone\n\nLe 8 nov. 2016 \u00e0 09:45, Aurelius Prochazka notifications@github.com a \u00e9crit :\nI got this to work using a reference to the audio file directly instead of referring to the player's audiofile. When I did it your way I got your error plus a little more information:\nerror cannot readIntBuffer, Error: Error Domain=Foundation._GenericObjCError Code=0 \"(null)\"\nWARNING AKAudioFile.append: appended file should be of same format as source file!\nWARNING AKAudioFile.append: trying to fix by converting files...\nAKAudioFile.append: source file has been successfully converted\nfatal error: Array index out of range\nSo, if possible, try to access the audio file directly.\nHTH\n\u2014\nYou are receiving this because you are subscribed to this thread.\nReply to this email directly, view it on GitHub, or mute the thread.\n. Hi !\n\nDid you try to use AKSettings.session.requestRecordPermission() BEFORE starting AudioKit ?\nThe major problem is that the permission is requested only once. \nThen, it is set to false or true.\nAfter user disallowed microphone access, he has to change manually this setting. \nGood luck,\nLaurent.\nEnvoy\u00e9 de mon iPhone\n\nLe 29 d\u00e9c. 2016 \u00e0 18:27, Daniel Kuntz notifications@github.com a \u00e9crit :\nI noticed that when I record using AKMicrophone, the record permission dialog automatically shows when I call AudioKit.start(). Is there any way to prevent this dialog from showing automatically and show it manually instead using AKSettings.session.requestRecordPermission()? I'd like to perform some custom actions on whether the user presses 'OK' or 'Don't Allow'.\n\u2014\nYou are receiving this because you are subscribed to this thread.\nReply to this email directly, view it on GitHub, or mute the thread.\n. Hi,\n\nDo you really need to record in MP4 format (not recommended) ?\nI'm not even sure it is possible to record into a compressed format using\nan avAudioNode.\nDefault values when when creating an AKAudioFile using a convenience init,\njust setting a basedir and a name should create a .caf audiofile what will\nrecord in 32 float PCM (much more recommended).\nYou can use later AudioKit facilities to convert the recorded file  into\nM4A or WAV or AIFF if you wish to.\nHope this will help.\nBest,\nLaurent.\n2017-01-18 9:06 GMT+01:00 Aurelius Prochazka notifications@github.com:\n\nHi, just wanted to comment on this to let you know we're working on fixes\nto AKAudioFile and we'll definitely port the Recorder example to OSX as a\nway to test for this problem. Hopefully this week, though we are all at\nNAMM, I think we'll find some time to code as well.\n\u2014\nYou are receiving this because you are subscribed to this thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/audiokit/AudioKit/issues/693#issuecomment-273409363,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/ASTVrna5Y45n2k912q63OGonD4WApyOuks5rTcgXgaJpZM4LlHZH\n.\n. Hi again, when I worked on AKnodeRecorder and AKAudioFile; I got some\nstrange bugs too, when trying to record to wav files.\n\nThat's why I choosed to set the default file format of AKAudioFile is set\nto .CAF.\nBut I only tested with iOs.\nTo detect silence, AKAmplitudetracker is your friend !\nBest;\nlaurent.\n2017-01-18 16:41 GMT+01:00 curtdissel notifications@github.com:\n\nThanks for the replies you two. @laurentVeliscek\nhttps://github.com/laurentVeliscek I currently record as m4a or .mp4\nand then convert to .wav to pipe the resulting file into a program that\nexpects .wav. The only reason i chose the .mp4 is because I get various\nissues relating to the format settings whenever I try anything else. I\nthought Apple made if difficult to produce .wav files with their api.\n@aure https://github.com/aure Thanks for taking the time to port the\niOS microphone project to an OS X cocoa project. On a side note, if i\nwanted to detect whether someone was speaking, would i check the frequency\nvalue or something else to do the comparison? I desire to stop recording\nonce no sound is detected for 2 or 3 seconds. Thanks all.\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\nhttps://github.com/audiokit/AudioKit/issues/693#issuecomment-273510196,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/ASTVrvBIuZpo-4k4x2HvdmpTntlhJqpmks5rTjKPgaJpZM4LlHZH\n.\n. I didn\u2019t know that\u2026\n\nSorry :-/\nLaurent.\n\nLe 14 juil. 2016 \u00e0 15:57, Aurelius Prochazka notifications@github.com a \u00e9crit :\nIn AudioKit/Common/Internals/Audio File/AKAudioFile+Async Processing.swift https://github.com/audiokit/AudioKit/pull/476#discussion_r70808869:\n\n@@ -0,0 +1,365 @@\n+//\n+//  AKAudioFile+processing Async.swift\nThis title doesn't match the filename. Also, there should be no spaces in filenames.\n\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub https://github.com/audiokit/AudioKit/pull/476/files/23c093dd84af517b2f69e8a3c258d7469e225982#r70808869, or mute the thread https://github.com/notifications/unsubscribe/ASTVrmgd3Eh0KItSoHZZ6aprfLrUXl8Rks5qVkA3gaJpZM4JMY_q.\n\nMes compos en t\u00e9l\u00e9chargement libre sont sur Soundcloud (musicatalogue) :\nhttps://soundcloud.com/musicatalogue\n. ",
    "socialvanana": "\"$BUILT_PRODUCTS_DIR/$FRAMEWORKS_FOLDER_PATH/AudioKit.framework/fix-framework.sh\"\nI don't use bitcode but..THIS IS WORKING!!\nI spent almost 3 days. \nThank you so much megastep!!!!!!\n. That sounds good!\nI'll send you a project to your email.\n. ",
    "powhu": "Thank you solved my problem.\n. ",
    "swordmanboy": "I don't know for use  \"$BUILT_PRODUCTS_DIR/$FRAMEWORKS_FOLDER_PATH/AudioKit.framework/fix-framework.sh\" Please tell me step by step. please i want to use this library.. ",
    "phin": "Just spent 4 days googling this before finding this thread. I know we need to read everything, but could be amazing to put it somewhere more prominent (ex : quick start), since I almost removed it all together :) Just a note, thanks!. ",
    "newinh": "How to Add a Run Script Build phase.\nhttp://runscriptbuildphase.com. ",
    "JoshuaThompsonSS": "Hi Aure,\nYes, thank you for the response. That resolve my issue.\n. I'm thinking that maybe it's due to the higher frequencies involves in the snare sample. Because I have a kick sample that is similar in length that works fine....\n. The kick sample has much lower frequencies\n. Ha! Touch\u00e9...\nOk, thank you:)\nOn Saturday, May 21, 2016, Aurelius Prochazka notifications@github.com\nwrote:\n\nInfinity minus one! :) I think 16-bit is fine though.\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly or view it on GitHub\nhttps://github.com/audiokit/AudioKit/issues/383#issuecomment-220807409\n\n\nJoshua Thompson\nFirmware Engineer\nSonic Sensory Inc\nMobile: 626-200-5346\n. I'm trying to get the OSX Playground to work but for some reason I can't resolve the no module named AudioKit error...\n. Using master right now. Yeah, set to OSX. \nI've had this problem before with the iOS playground but it always resolved itself after cleaning, building and restarting. \nI'll figure it out eventually. \n. Ah, ok. Thank you.\n. ",
    "devintyler": "Xcode 7.3.1\nHere's some of the code:\n```\nclass SignalGen {\n    // General\n    var waveform: AKTable;\n    var frequency: Double;\n    var oscillator: AKOscillator;\ninit() {\n    self.frequency = 1000;\n    self.waveform = AKTable(.Triangle, size: 4096);\n    self.oscillator = AKOscillator.init(waveform: AKTable(.Sine, size: 4096), frequency: 1000, amplitude: 0.5, detuningOffset: 0, detuningMultiplier: 0);\n}\n\n}\nclass UISignalGenViewController: UIViewController {\nvar oscillator: AKOscillator = SignalGen().oscillator;\nvar waveType: String = \"Sine\";\nvar freqSelect: Double = 2.0;\n\n// MARK: Property\n@IBAction func startButtonAction(sender: UIButton) {\n    AudioKit.output = self.oscillator;\n    AudioKit.start();\n    if (self.oscillator.isStarted) {\n        self.oscillator.stop();\n        self.startButton.setTitle(\"Start\", forState: UIControlState.Normal);\n    } else {\n        self.oscillator.start();\n        self.startButton.setTitle(\"Stop\", forState: UIControlState.Normal);\n    }\n}\n\n}\n```\nThat button turns the oscillator on/off\n. Thanks!\n. ",
    "codebeaulieu": "thanks or the link, was looking for something like this.\n. ",
    "jsbean": "Travis failure: \nThe job exceeded the maxmimum time limit for jobs, and has been terminated @ 47 min 3 sec.\n. I have seen this error occur on the simulator and devices, as well. Further, there has been a circumstance where it occurs on one device, yet not on another.\nIf a non-Playground project would be helpful, I can put something together.. ",
    "floriannagel": "Did it myself. You don't have to start every player at the same time.\n. Sorry of course i mean AKAudioRecorder. My code is like this:\n```\nlet format = NSDateFormatter()\nformat.dateFormat=\"yyyy-MM-dd-HH-mm-ss\"\nlet currentFileName = \"recording-(format.stringFromDate(NSDate())).m4a\"\nlet documentDirPath = NSSearchPathForDirectoriesInDomains(.DocumentDirectory, .UserDomainMask, true).first!\nlet recordingAudioFilePath = NSURL(string: documentDirPath)!.URLByAppendingPathComponent(currentFileName).path!\nself.akRecorder = AKAudioRecorder(recordingAudioFilePath)\nAudioKit.start()\nakRecorder?.record()\n```\nAnd there is a Thread Error\n. \n. My first bug! I used the standard AVAudioRecorder. But I will try AK again\n. ",
    "roecrew": "Whenever I try to play a file with AKAudioPlayer that AKMicrophoneRecorder created, I receive log 'No Audio to load.'\nWhy can't the files be read?\n. @aure So it turns out that AVAudioplayer.record() was returning false because no AVAudioSession had been initialized. So files of length 0 were being created. That's why I was receiving log 'No Audio to load' from my AKAudioplayer.\n. @aure Just tried, but no dice.\n. Hey @laurentVeliscek,\nJust curious where your at with your AKAudioPlayer. If you need any help or want to pass on the job, let me know.\n. Sounds good!\n. Tremolo clicks at higher frequencies were present before this request. It seems to get worse as the input frequency decreases and the tremolo rate increases.\n. @aure  Oooooo that's why.\nAnd yes! I'd love to become a core team member. Thanks!\n. @Ferrick90 Can you post a bit of your code? Thanks.\n. ",
    "Tanisha27": "sorry for the inconvenience and thanx for the reply... but i was facing some problem...but anyway, i'll look for the answer in the link...\n. ",
    "Jafri69": "Thanks a lot, Aurelius. Let me take it for a spin.\nRegards,\nAzfar\nOn Tue, Jun 7, 2016 at 10:39 PM, Aurelius Prochazka \nnotifications@github.com wrote:\n\nWhile I agree that an example would be useful, I don't think I'll be\nadding one to the repo, but rather making a separate repo with a big ol'\nsf2 file in it. In any event, I believe your issue should be resolved with\nthe two new methods in the develop branch, loadMelodicSoundFont and\nloadPercussiveSoundFont.\nUse like this:\nsyn1.loadMelodicSoundFont(\"GeneralUserGS\", preset: 10)\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/audiokit/AudioKit/issues/389#issuecomment-224356677,\nor mute the thread\nhttps://github.com/notifications/unsubscribe/AE44-Q74VoX6MeopYnnlziPQzTcETEbOks5qJay_gaJpZM4IugIN\n.\n\n\nRegards,\nAzfar\n. ",
    "rbaranov": "I tried this code in playgrounds and in iOS App (in Simulator) and got the same error. I've just tried it on the device and got another error:\n\n\n\nIf you're running on an app do you have audio input enabled?\n\nYes.\nAlso I tried this code:\n```\nimport Foundation\nimport AudioKit\nlet mic = AKMicrophone()\nAKSettings.audioInputEnabled = true\nAudioKit.output = mic\nAudioKit.start()\n```\nYou were right \u2014 it doesn't work in playgrounds.\nBut it works fine in simulator and on the device (I hear sounds from microphone in headphones).\nSo I guess the initial error related to FrequencyTracker, not to Microphone.\n. I'm totally confused. After your request I've prepared a new project with bug demonstration and that project worked fine.\nI returned to main project (there were many changes there), tried to use AKFrequencyTracker with AKMicrophone again and... it works fine too!\nSo I think that was my mistake. Shame on me. Sorry for this and thank you for your help, Aurelius!\n. ",
    "returnzer0": "Hey, Im having this exact same problem. I am not trying to use any frequency trackers but I downloaded the example code and I am running the RecorderDemo for iOS.\nWhen running on a simulator it works perfectly fine, but when I run it on a device it gives me the following error.\ndeleteFileWithFileName \"D96D044D-0352-45C1-8A54-508ADAEE76D7.caf\" deleted.\ncleanTempDirectory() 1 files deleted\nsetSession(category:with:) Error: Error Domain=NSOSStatusErrorDomain Code=-50 \"(null)\" Cannot set AVAudioSession Category to AVAudioSessionCategoryPlayback with options:AVAudioSessionCategoryOptions(rawValue: 8)\nErrored setting category.\ninitialize() AKAudioPlayer Warning:  \"BE9FF3CF-3DAF-42EB-BFEB-4DB51AF02680.caf\" is an empty file\n2017-02-05 12:30:32.038621 AudioKitTest[1637:454799] [mcmx] 337: input bus 0 sample rate is 0\n2017-02-05 12:30:32.040892 AudioKitTest[1637:454799] [central] 54:   ERROR:    [0x1a7df2c40] >avae> AVAudioEngineGraph.mm:2515: PerformCommand: error -10875\n2017-02-05 12:30:32.041711 AudioKitTest[1637:454799] *** Terminating app due to uncaught exception 'com.apple.coreaudio.avfaudio', reason: 'error -10875'\n*** First throw call stack:\n(0x1826c51b8 0x1810fc55c 0x1826c508c 0x19c12f300 0x19c142b3c 0x19c14c688 0x19c13f7fc 0x19c13f684 0x19c13f774 0x19c140868 0x19c143a54 0x19c1b102c 0x19c1b03d0 0x10027cf40 0x100048bfc 0x100048fa0 0x18857a924 0x18857a4ec 0x188580c98 0x18857e138 0x1885f068c 0x1887fccb8 0x188802808 0x188817104 0x1887ff7ec 0x18429b92c 0x18429b798 0x18429bb40 0x182672b5c 0x1826724a4 0x1826700a4 0x18259e2b8 0x1885e57b0 0x1885e0534 0x100050330 0x1815815b8)\nlibc++abi.dylib: terminating with uncaught exception of type NSException\n(lldb)\nI'm not sure why this is happening, I have put breakpoints and have narrowed it to the line AudioKit.start(). @aure Thanks! It works now, but for making it work on your app, would one just copy the framework from the Frameworks folder and then put it in a folder in the project instead of using cocoapods?\nIf not, how would one install cocoapods from the developer branch?\nThanks!. Thank you very much! And thanks once again for building such an awesome framework! \ud83d\ude04 . ",
    "dkun7944": "@aure Is this in the latest release now? I'm getting this error too.. Ah! It looks like the audio is coming out of the earpiece. I didn't even notice that. How do I make it come out of the bottom speakers?\n. Thanks. Really appreciate your help\n. Hi Laurent,\nI did try that, but for some reason whenever I call AudioKit.start() after using the requestRecordPermission, it doesn't always work. I'd say about 40% of the time it works. Maybe this is a bug with AudioKit? I'd be happy to link my project files so someone could take a look.\nThanks,\nDaniel. @aure I was able to resolve it on my own. Instead of doing:\nAKSettings.setSession(category: .playAndRecord, with: .defaultToSpeaker) \nI used this instead:\nAKSettings.session.overrideOutputAudioPort(AVAudioSessionPortOverride.speaker)\nSeemed to clear things up. Thanks!. @aure Thanks! I believe I'm on 3.5.2. I'll try updating to 3.5.3 and let you know if that clears things up.. @megastep Glad to know I'm not the only one with this issue. I'll let you know what happens after updating to 3.5.3. @megastep I'm getting error code 561017449.\nhttp://crashes.to/s/f3a95c95692. @megastep thanks. That's a step in the right direction.\n@swiftcodex Thanks! I learned a lot from open sourced iPhone apps in my early programming days so I thought I'd give back. How do I join the slack channel?. @aure Done.\nIn regards to the error code, I understand it means that the category AudioKit is trying to set is already being used by another app. \nHow should I work around this since the code for setting the category is being called within the AudioKit framework? Should I set the category manually at first in a try-catch block and then do AudioKit.start()?. @aure Ok, sounds good.. Google search yields virtually nothing useful, except that a phone call might while trying to set session category might be the culprit. \nCan someone attempt to call AudioKit.start() while on a phone call and see what happens? (my devices have no SIM cards so I can't test this)\nShould be as easy as cloning this and running while in a phone call.. Not entirely sure where cocoapods is pulling from, but I know it's on 3.5.3. . @gazebofire 'player started when in a disconnected state' usually means your AudioKit's output is not set to the player node. You should probably use an AKMixer to connect the recorder and player nodes and then set AudioKit.output to be the mixer. . It looks like AKFrequencyTrackerDSPKernel thinks member variable ptrack is non-null on init, so it calls sp_ptrack_destroy which crashes because ptrack hasn't been allocated. Not sure why ptrack would be non-null on init. \nThe problem file (so others don't have to dig for it): https://github.com/audiokit/AudioKit/blob/master/AudioKit/Common/Nodes/Analysis/Frequency%20Tracker/AKFrequencyTrackerDSPKernel.hpp\nUnless I'm missing something, this sounds like an error in the way Swift 3.1 is compiling and/or running C++ code. Not an expert on this though, so I could be wrong.\nEDIT:\nCommenting this line in AKFrequencyTrackerDSPKernel fixes the crash, but it's probably not the preferred fix:\n\n. Yes, running it on an iPhone 6S with iOS 10.3. @aure All of my nodes are declared as instance variables. However the AKMixer is an instance variable of a singleton. Would this cause the same memory leak? I can add you to the project repo if you'd like.. Did you uncomment the line in the temporary fix I did?\nOn Apr 2, 2017 1:53 PM, \"Aurelius Prochazka\" notifications@github.com\nwrote:\n\nI just tested in the simulator and it works, will try an actual phone next.\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/audiokit/AudioKit/issues/828#issuecomment-291002539,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/ACvyVgiwaw4_Tzx-CBQM7thxLd_3ik1wks5rr-CdgaJpZM4Mu_jl\n.\n. Ah ok. Good to hear you were able to reproduce it. Let me know if I can be of any help in getting this resolved. . Hm ok, I have it setup such that AudioKit.start() won't be called two times in a row, but will be called each time the app re-enters the foreground. But maybe you've noticed something I overlooked.. Is this the same exact crash that occurs when you don't make the frequency tracker an instance var?. Should we be worried about a memory leak?. No prob. AudioKit is rock solid otherwise so that's understandable. Glad we got this fixed.. @aure Am I supposed to be using something? I thought AKSequencer would send events as it plays through the MIDI file.. @aure Got it. Thanks for clarifying. . @carlosypunto As another temporary solution, I\u2019ve found that using the .positiveTriangle table sounds identical and has no clicks (tested on iPhone X and iPhone 6S).. \n",
    "WholeCheese": "Thank you! I'm not just seeing things?  :-)\n-Allan\n\nOn Jun 10, 2016, at 8:14 PM, Aurelius Prochazka notifications@github.com wrote:\nI think you're on the master branch, right? This should be fixed in develop and we'll make a release to master soon.\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub, or mute the thread.\n. \n",
    "zmcartor": "whoops, thanks for merging. Will be sure to target all to develop in future.\n. hello, appreciate the discussion. \nUnfortunately, that doesn't make it any clearer what the 'value' of AKOpertaion.parameters(N) represents. \nCould please post an example of what is meant by \"access operations parameters from elsewhere?\"\nThe docs are not clear on how parameter assignment works or how assigning opaque param indexes affects the params within the operation. \nThe phrase 'operation's parameters' is extremely vague. What specific params are we talking about and what are the values of these params.\nIn the AutoPan example \nlet oscillator = AKOperation.sineWave(frequency: AutoPan.speed, amplitude: AutoPan.depth) \nWhat are the values of AutoPan.speed and AutoPan.depth ? I can see that they are accessing AKOperation.parameters(0) and AKOperation.parameters(1) , but what is the REAL scalar value of the speed and pan ?\n. Thanks very much for the sample code! \nFinally clicked that the param values come from the enclosing AKOperationEffect or AKOperationGenerator . This allows parameterization of all the contained AKOperations etc from the top-level params. \nIt seems that the value of  AKOperation.parameter(0) cannot be known because of the way AKOperationEffect and AKOperationGenerator are built in a bottom-up fashion instead of top-down.\nHappy to contribute documentation playground for parameters \ud83d\udc4d \n. Sorry, and thanks very much for the suggestions! I didn't see the new \"Playgrounds To Production\" docs :D \ud83d\udc4d . ",
    "kkleidal": "Solved my problem with AKAmplitudeEnvelope.\nI'm still concerned about the AKOperation though.  If you want, I can try to do more diagnostics for that.\n. Actually, I'm still having problems, because I can't retrigger the ADSR.  I think I'm having a similar problem as was mentioned in this thread:  https://groups.google.com/forum/#!topic/audiokit/dLZxjGf2KVE\n. ",
    "ukelady": "@narner - sorry I clicked enter twice so I published a blank issue by mistake. Now the question is updated. You answered incredibly fast :D \n. So it turns out it does work. It is just the text formatting isn't working properly (see screenshot), which confuses me. I'll close the issue now. Thanks for the swift reply!\n\n\n. Thanks for the reply, aure. Could you please give some hints about what you mean by \"setting up the signal chain again\"? Do you mean just to call Audiokit.stop() and then Audiokit.start() to reset the signal chain? \nDo you think that the audio is inaudible from the ringtone speaker is an expected behavior?  Is there a way to see where is the audio from audiokit routed to? . ",
    "enriquesalas506": "Where do I have to add the script?\nIn Build Phases?\n. Yes aure I just wanted to be able to generate the framework file. \nMegastep thanks. I just used the sh file. I just builded the framework file. \nEverything is working now in the simulator and the device.\nThanks for your help\n. ",
    "iosDemo99880": "Hello EveryOne,\nI created a demo of framework using swift, working fine for both \"simulator and device\", but i want to create one (universal) framework for both (simulator and device). i am using lot of script and commands in terminal. Nothing was work for me. \nAnyone help me , how to create it to universal for using with simulator as well as Device.\nPlease\nThanks\n. ",
    "rmoughan": "Thanks for letting me know. Could you point me to any software or theory that could help?\nThanks,\nRyan Moughan\n\nOn Jul 22, 2016, at 7:37 PM, Aurelius Prochazka notifications@github.com wrote:\nThat's a very low frequency, almost in the realm of beat detection. I don't think it would be a matter of editing the current frequency tracker. It would be fundamentally different.\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub https://github.com/audiokit/AudioKit/issues/490#issuecomment-234681864, or mute the thread https://github.com/notifications/unsubscribe-auth/ATpRUM0DhRE50SOioDZNRuCFRER6uHzMks5qYVQigaJpZM4JS0Hq.\n. Great, thanks.\nOn Jul 22, 2016, at 8:28 PM, Aurelius Prochazka notifications@github.com wrote:\nMaybe @PaulBatchelor https://github.com/PaulBatchelor might know where to look\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub https://github.com/audiokit/AudioKit/issues/490#issuecomment-234687151, or mute the thread https://github.com/notifications/unsubscribe-auth/ATpRUHk8mnJ0c-gB9crr5-_S99DzAVSbks5qYWA9gaJpZM4JS0Hq.\n. \n",
    "ferama": "I'm talking about this playground \nhttps://github.com/audiokit/AudioKit/blob/master/AudioKit/iOS/AudioKit/AudioKit.playground/Pages/Reading%20and%20Writing%20Audio%20Files.xcplaygroundpage/Contents.swift\nIf you run it, \"myExportCallback\" is called and \"drumloop\" is exported correctly?\nFor me it doesn't work :/\n. Thanks. I'm trying to investigate and the problem seems to be related to the outputURL of the AVAssetExportSession. The following playground works but on first execution only. If i change anything (add a simple print somewhere for example), it throws \"Error: Optional(Error Domain=AVFoundationErrorDomain Code=-11823 \"Cannot Save\" UserInfo={NSLocalizedDescription=Cannot Save, NSLocalizedRecoverySuggestion=Try saving again.})\".\nI'm just a swift and Xcode beginner so surely you will solve before me :) \n```\nimport Foundation\nimport XCPlayground\nimport AudioKit\nlet file = try AKAudioFile(readFileName: \"drumloop.wav\", baseDir: .Resources)\nlet asset  = AVURLAsset(URL: file.url)\nlet exporter = AVAssetExportSession(asset: asset, presetName: AVAssetExportPresetPassthrough)\nlet documentsDirectory = NSFileManager.defaultManager().URLsForDirectory(.DocumentDirectory, inDomains: .UserDomainMask)[0]\nvar outputPathURL = documentsDirectory.URLByAppendingPathComponent(\"out.wav\")\n// NEVER WORKS. Why?\n//\n//var filePath: String\n//filePath = \"/Users/ferama/tmp/out.wav\"\n//var outputPathURL = NSURL.fileURLWithPath(filePath)\nexporter!.outputURL = outputPathURL\nprint(exporter!.outputURL)\nexporter!.outputFileType = AVFileTypeWAVE as String\nlet timeRange = CMTimeRangeMake(kCMTimeZero, asset.duration)\nexporter!.timeRange = timeRange\nexporter!.exportAsynchronouslyWithCompletionHandler({\n    () -> Void in\n    print(\"here\")\nswitch exporter!.status {\n    case  AVAssetExportSessionStatus.Failed:\n        print(\"ERROR AKAudioFile: Export Failed!...\")\n        print(\"Error: \\(exporter!.error)\")\n    case AVAssetExportSessionStatus.Cancelled:\n        print(\"ERROR AKAudioFile: Export Cancelled!...\")\n        print(\"Error: \\(exporter!.error)\")\n    default:\n        // Export succeeded !\n        // We create an AKAudioFile from the exported audioFile\n        let url = NSURL(string: exporter!.outputURL!.path!)\n        print(\"success\")\n\n    }\n\n}\n\n)\nXCPlaygroundPage.currentPage.needsIndefiniteExecution = true\n```\n. Ok i figured out something. The output file need to be deleted if it already exists. Here the updated playground. Now the problem is that it doesn't work if I use the normalized AKAudioFile instead of the original one.\n```\n//: Previous\nimport Foundation\nimport XCPlayground\nimport AudioKit\nlet file = try AKAudioFile(readFileName: \"drumloop.wav\", baseDir: .Resources)\nlet normalized: AKAudioFile\nnormalized = try file.normalize()\n// Doesn't Works!!!\n//let asset  = AVURLAsset(URL: normalized.url)\nlet asset  = AVURLAsset(URL: file.url)\nlet exporter = AVAssetExportSession(asset: asset, presetName: AVAssetExportPresetPassthrough)\nlet documentsDirectory = NSFileManager.defaultManager().URLsForDirectory(.DocumentDirectory, inDomains: .UserDomainMask)[0]\nvar outputPathURL = documentsDirectory.URLByAppendingPathComponent(\"out.wav\")\nlet fileManager = NSFileManager.defaultManager()\nprint(outputPathURL.path)\nif fileManager.fileExistsAtPath(outputPathURL.path!) {\n    print(\"File exists\")\n    do {\n        try fileManager.removeItemAtURL(outputPathURL)\n    }\n    catch let error as NSError {\n        print(\"Ooops! Something went wrong: (error)\")\n    }\n} else {\n    print(\"File doesn't exists\")\n}\nexporter!.outputURL = outputPathURL\nprint(exporter!.outputURL)\nexporter!.outputFileType = AVFileTypeWAVE as String\nlet timeRange = CMTimeRangeMake(kCMTimeZero, asset.duration)\nexporter!.timeRange = timeRange\nexporter!.exportAsynchronouslyWithCompletionHandler({\n    () -> Void in\n    print(\"here\")\nswitch exporter!.status {\n    case  AVAssetExportSessionStatus.Failed:\n        print(\"ERROR AKAudioFile: Export Failed!...\")\n        print(\"Error: \\(exporter!.error)\")\n    case AVAssetExportSessionStatus.Cancelled:\n        print(\"ERROR AKAudioFile: Export Cancelled!...\")\n        print(\"Error: \\(exporter!.error)\")\n    default:\n        // Export succeeded !\n        // We create an AKAudioFile from the exported audioFile\n        let url = NSURL(string: exporter!.outputURL!.path!)\n        print(\"success\")\n\n    }\n\n}\n\n)\nXCPlaygroundPage.currentPage.needsIndefiniteExecution = true\n//: Next\n```\n. normalized.avAsset works!\n. ",
    "ppierson": "That worked, thanks! \nCan you explain why I would have to do this when using the AKBitCrusher effect? Will I have to do this for all effects when recording? I assume it has to do with the format of the data passing between the underlying AVAudioUnits/Nodes, but if you can give any more information it would be appreciated \ud83d\ude04 .\n. ",
    "habemus-papadum": "I meant something different then your HelloWorld example -- unfortunately I had a silly typo in my original question.  But no worries. Cheers\n. Hi  -- This is what I was asking: \nHad any of the AudioKit developers typed in the pure swift (i.e. no c++ kernel) generator that was briefly shown at WWDC 2016 (they show it on the screen but there is no sample code to download)?  Since it seems not, I typed it in myself this morning, and here it is because it seems you might find it interesting (even though it has nothing to do with AudioKit per se):\n```\n//simple main.swift that plays a square wave; shown by Doug Wyatt at WWDC 2016\n//(likely) requires swift3\n//circa Aug 1, 2016 --> will likely not work in a few months as swift 3 changes things related to Unsafe pointers \nimport Foundation\nimport AudioToolbox\nimport AVFoundation\nclass SquareWaveGenerator {\n    let sampleRate: Double\n    let frequency : Double\n    let amplitude : Float\n    var counter   : Double  = 0.0\ninit(sampleRate: Double, frequency: Double, amplitude: Float){\n    self.amplitude = amplitude\n    self.frequency = frequency\n    self.sampleRate = sampleRate\n}\n\nfunc render(buffer: AudioBuffer) {\n    let nframes = Int(buffer.mDataByteSize) / sizeof(Float.self)\n    var ptr = UnsafeMutablePointer<Float>(buffer.mData)!\n    var j = self.counter\n    let cycleLength = self.sampleRate / self.frequency\n\n    let halfCycleLength = cycleLength / 2\n    let amp = self.amplitude, minusAmp = -amplitude\n    for _ in 0 ..< nframes {\n        if j < halfCycleLength {\n            ptr.pointee = amp\n        }\n        else {\n            ptr.pointee = minusAmp\n        }\n        ptr = ptr.successor()\n        j += 1.0\n        if ( j > cycleLength) {\n            j -= cycleLength\n        }\n    }\n    self.counter = j\n}\n\n}\nprint(\"Hello, World!\")\nlet subType = kAudioUnitSubType_HALOutput\nlet ioUnitDesc = AudioComponentDescription(componentType: kAudioUnitType_Output, componentSubType: subType, componentManufacturer: kAudioUnitManufacturer_Apple, componentFlags: 0, componentFlagsMask: 0)\nlet ioUnit = try! AUAudioUnit(componentDescription: ioUnitDesc)\nlet hardwareFormat = ioUnit.outputBusses[0].format\nlet renderFormat = AVAudioFormat(standardFormatWithSampleRate: hardwareFormat.sampleRate, channels: hardwareFormat.channelCount)\ntry! ioUnit.inputBusses[0].setFormat(renderFormat)\nlet generatorLeft = SquareWaveGenerator(sampleRate: renderFormat.sampleRate, frequency: 440.0, amplitude: 0.1)\nlet generatorRight = SquareWaveGenerator(sampleRate: renderFormat.sampleRate, frequency: 660.0, amplitude: 0.1)\nlet callback : AURenderPullInputBlock = {\n    ( flags: UnsafeMutablePointer,\n      ts: UnsafePointer,\n      fc: AUAudioFrameCount,\n      bus: Int,\n      rawBuff: UnsafeMutablePointer) -> AUAudioUnitStatus\n    in\n    let bufferList = UnsafeMutableAudioBufferListPointer(rawBuff)\n    if bufferList.count > 0 {\n        generatorLeft.render(buffer: bufferList[0])\n        if bufferList.count > 1 {\n            generatorRight.render(buffer: bufferList[1])\n    }\n}\nreturn noErr\n\n}\nioUnit.outputProvider = callback\ntry! ioUnit.allocateRenderResources()\ntry! ioUnit.startHardware()\nsleep(3)\nioUnit.stopHardware()\n```\n. ",
    "Ferrick90": "OK. Thanks Aure\n. Hi, I have tried pod lib lint to testing it. Get this error below:\n-> AudioKit (3.2)\n    - ERROR | file patterns: The source_files pattern did not match any file.\n. Could early of Sep release AudioKit v3.2.1? I noticed v3.2 that's not very stable.\n. @aure  I'm so sorry about that, just willing to know because I got project deadline. Else I can start to try another way to archive my project. Hope u can understand my situation.\n. Hi Laurent,\nI see. Thanks to explain to me. The reason why I need to create m4a instead of caf because Android couldn't support caf format. At the moment, I must convert the format before upload to server side. It duplicated the step for me.\nBetween, AudioKit is the most best library for audio. I used a lot of audio library or tried written by myself. AudioKit have provided full facilities. I like the features, coding style and structure.\nIn future, I will try to PR to enhance AudioKit become more flexible to let the developers to achieve their goals.\nThanks.\nRegards,\nFerrick Chan\n. Hi, @roecrew \nThis is a example (https://github.com/audiokit/AudioKit/tree/master/Examples/iOS/Recorder) and try to commenting this line of code (self.performSegueWithIdentifier(\"stop\", sender:recorder.audioFile!.url). And, keep repeat recording and stopping quickly after that crash will appear.\nResults:\nrecording\nAKNodeRecorder Warning: Cannot stop recording, already stopped !\nrecording\nAKNodeRecorder Warning: Cannot stop recording, already stopped !\nrecording\nAKNodeRecorder Warning: Cannot stop recording, already stopped !\nrecording\nAKNodeRecorder Warning: Cannot stop recording, already stopped !\nrecording\nAKNodeRecorder Warning: Cannot stop recording, already stopped !\nrecording\nAKNodeRecorder Warning: Cannot stop recording, already stopped !\nrecording\nAKNodeRecorder Warning: Cannot stop recording, already stopped !\nrecording\nAKNodeRecorder Warning: Cannot stop recording, already stopped !\n2016-08-05 13:34:28.193 Recorder[13583:4455213] 13:34:28.193 ERROR:    [0x3798e000] AVAudioEngineGraph.mm:1743: _Connect: required condition is false: !destNodeMixerConns.empty() && !isDestNodeConnectedToIONode\n2016-08-05 13:34:28.198 Recorder[13583:4455213] * Terminating app due to uncaught exception 'com.apple.coreaudio.avfaudio', reason: 'required condition is false: !destNodeMixerConns.empty() && !isDestNodeConnectedToIONode'\n* First throw call stack:\n(0x20d21b0b 0x204dedff 0x20d219e1 0x26622ea9 0x26637945 0x2663abbb 0x26671d61 0x26671ee1 0x26671e0d 0x2709d4 0x80150 0x80470 0x253376a1 0x25337631 0x2531f56b 0x2533fe23 0x25336a9f 0x2532f547 0x252ffdd5 0x252fe379 0x20ce39e7 0x20ce35d7 0x20ce193f 0x20c301c9 0x20c2ffbd 0x2224caf9 0x25368435 0x86b20 0x208dc873)\nlibc++abi.dylib: terminating with uncaught exception of type NSException\nIt different error with my project error. In my project error, I guess the recording block a bit slower than stop func.\nnode!.avAudioNode.installTapOnBus(0, bufferSize: recordingBufferLength, format: internalAudioFile.processingFormat, block: { (buffer: AVAudioPCMBuffer!, time: AVAudioTime!) -> Void in\n                do {\n                    buffer.frameLength = recordingBufferLength\n                    try self.internalAudioFile.writeFromBuffer(buffer)\n                    self.recording = true\n                    print(\"writing ( file duration:  (self.internalAudioFile.duration) seconds)\")\n                } catch let error as NSError {\n                    self.recording = false\n                    print(\"Write failed: error -> (error.localizedDescription)\")\n                }\n            })\nCould try to avoid when the user reaction too fast in this situation.\nThanks.\nRegards,\nFerrick Chan\n. I fixed ady. Archive upload and uncheck the bitcode. Anyway, thanks\n. ",
    "bishop800": "Check your \"Products\" directory and clean out any other versions of AudioKit besides the OS you want.\n. Excellence\n. ",
    "olivierlesnicki": "I confirm this is still an issue.\n. I've made a couple of observations (note they could be the intended behaviors, they're just not intuitive).\nAny track added after the sequencer .play() method has been called is ignored. There's no way to add a new track while the sequencer is playing.\n``` swift\ninit() {\nAudioKit.output = mixer\nAudioKit.start()\n\nlet kick = AKSynthKick()\nkick.enableMIDI(midi.client, name: \"midi\")\n\nmixer.connect(kick)\n\nsequencer.setTempo(100)\nsequencer.setLength(AKDuration(beats: 8.0))\nsequencer.enableLooping()\nsequencer.play()\n\nlet track = sequencer.newTrack()\ntrack?.setMIDIOutput(kick.midiIn)\ntrack?.add(noteNumber: 60, velocity: 127, position: AKDuration(beats: 0), duration: AKDuration(beats: 1))\n\n}\n```\nI expected the kick sound to play. It never plays.\nSetting the sequencer length after enabling the loop causes the loop to be disabled.\n``` swift\ninit() {\nAudioKit.output = mixer\nAudioKit.start()\n\nlet kick = AKSynthKick()\nkick.enableMIDI(midi.client, name: \"midi\")\n\nmixer.connect(kick)\n\nlet track = sequencer.newTrack()\ntrack?.setMIDIOutput(kick.midiIn)\ntrack?.add(noteNumber: 60, velocity: 127, position: AKDuration(beats: 0), duration: AKDuration(beats: 1))\n\nsequencer.setTempo(100)\nsequencer.enableLooping()\nsequencer.setLength(AKDuration(beats: 8.0))\nsequencer.play()\n\n}\n```\nI expected the kick sound to play in loop. It only plays once. However calling .enableLooping() after calling .setLength() allow the loop to be restored.\n. @eljeff - Will go with your suggestions\n. It also seems to work when using:\nswift\nAKSettings.defaultToSpeaker = true. Good enough answer! :). This is the exact code I ended up using:\n```swift\n// file being an AKAudioFile\nlet plot = EZAudioPlot()\nlet ezFile = EZAudioFile(url: URL(fileURLWithPath: file.url.absoluteString))\nlet data = ezFile?.getWaveformData()\nplot.updateBuffer(data?.buffers[0], withBufferSize: (data?.bufferSize)!)\n```. @ryanfrancesconi no, I'm just showing the code I ended up using for future reference - the thing you forgot to mention in your answer is that a EZAudioFile needed to be created. AKAudioFile doesn't have the method .getWaveformData(). @adamdahan how did you solve it?. ",
    "gargantuan": "Is it currently possible to compile with Xcode-beta 8? I'm new to Xcode so forgive my noobness, but when I open the source projects, Xcode-beta is unable to build it due to errors. Is there someway to configure Xcode-beta 8 to compile AudioKit, or is it just not possible at the moment?\nI've also tried the Xcode8-Swift3 branch but it looks like that branch isn't ready for public consumption yet. \n. ",
    "terenzeyuen": "I see but at the moment when you call recorder.stop() it creates a file. So if the user record and pause a few times in a session, I assume it will create multiple files?\nWhat we want is a recording session that can pause/record and playback in one file..if that make snese.\n. Okay thanks. Maybe I am missing something, just tried the iOS recorder but it seems to be writing to different .caf files.\nHere is the log output (I printed out the file path instead of pushing to play screen):\nrecording\nwriting ( file duration:  0.0928798185941043 seconds)\nwriting ( file duration:  0.185759637188209 seconds)\nwriting ( file duration:  0.278639455782313 seconds)\nwriting ( file duration:  0.371519274376417 seconds)\nwriting ( file duration:  0.464399092970522 seconds)\nwriting ( file duration:  0.557278911564626 seconds)\nwriting ( file duration:  0.65015873015873 seconds)\nwriting ( file duration:  0.743038548752834 seconds)\nRecording Stopped.\n/Library/Developer/CoreSimulator/Devices/ED9CB1E0-9E4A-4A82-B5E6-4B8BAE85651E/data/Containers/Data/Applica ... 65DB.caf\nrecording\nwriting ( file duration:  0.0928798185941043 seconds)\nwriting ( file duration:  0.185759637188209 seconds)\nwriting ( file duration:  0.278639455782313 seconds)\nwriting ( file duration:  0.371519274376417 seconds)\nwriting ( file duration:  0.464399092970522 seconds)\nwriting ( file duration:  0.557278911564626 seconds)\nwriting ( file duration:  0.65015873015873 seconds)\nwriting ( file duration:  0.743038548752834 seconds)\nRecording Stopped.\n/Library/Developer/CoreSimulator/Devices/ED9CB1E0-9E4A-4A82-B5E6-4B8BAE85651E/data/Containers/Data/Applica ... FA3D.caf\n. Still seeing this issue.. @aure this is still not fixed, should use .path. Made a PR \nhttps://github.com/audiokit/AudioKit/pull/867. Thanks @aure, any idea when it will be merged to master as recorder seems to need that fix to work.. ",
    "ivanmkc": "I could but I would expect the sequencer to stop the midi player after it\nreaches the end. Is it a bug or am I misunderstanding something?\nThanks\nOn Aug 16, 2016 10:38 PM, \"Aurelius Prochazka\" notifications@github.com\nwrote:\n\nSeems like you could just check if the playing time is greater than the\nlength.\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/audiokit/AudioKit/issues/521#issuecomment-240298295,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/ABgzgWMXHp83oJ4CK6wT_lbB7KPIC1Aoks5qgnQggaJpZM4JlmLu\n.\n. Thank you. I'll pull develop and test it out.\n\nOn Aug 17, 2016 2:21 PM, \"Aurelius Prochazka\" notifications@github.com\nwrote:\n\nI have made that change in the develop branch, but I am a bit worried it\nmight have unexpected consequences for other people using currentPosition\nas some sort of total play time measurement. It does make sense to keep\ncurrentPosition within the bounds of the sequence length, so hopefully this\nis an improvement.\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/audiokit/AudioKit/issues/521#issuecomment-240501074,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/ABgzgXlLImgVyZN5078o3rZjZYaWl4sFks5qg1ENgaJpZM4JlmLu\n.\n. Is there now a method to detect the MIDI setup changing then? That would\nserve nicely.\n\nOn Fri, Nov 18, 2016 at 3:05 PM, Aurelius Prochazka \nnotifications@github.com wrote:\n\nThere doesn't seem to be any distinction with USB or Bluetooth, this is\njust the general MIDI setup changing, so hopefully it is inclusive.\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/audiokit/AudioKit/issues/590#issuecomment-261628850,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/ABgzge3LEHM-6yAu_Akm_YkZ_hIHpYGcks5q_gUdgaJpZM4Kipx9\n.\n. Thanks, I'll let you know how it is.\n\nOn Nov 18, 2016 4:51 PM, \"Aurelius Prochazka\" notifications@github.com\nwrote:\n\nYes I just added in that commit you see above. In your MIDI listener,\nimplement receivedMIDISetupChange()\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/audiokit/AudioKit/issues/590#issuecomment-261651283,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/ABgzgbjFR6WT_BCDUMB2IT1RZrdnf256ks5q_h3QgaJpZM4Kipx9\n.\n. \n",
    "jcpsimmons": "Yikes -- pardon my ignorance, I didn't see this video on the site when installing.\n. ",
    "ryanfrancesconi": "Excellent - it seems stable to me now with this change.\n. thank you!\nRyan\n-----Original Message-----\nFrom: \"Aurelius Prochazka\" notifications@github.com\nSent: Wednesday, October 26, 2016 1:28am\nTo: \"audiokit/AudioKit\" AudioKit@noreply.github.com\nCc: \"Ryan Francesconi\" hello@are-f.com, \"Author\" author@noreply.github.com\nSubject: Re: [audiokit/AudioKit] Develop (#588)\nLooks good to me!\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly,  view it on GitHub , or  mute the thread .\n. sure sounds good! I have some more additions to the AKAudioPlayer that I need to merge in. I also have some good audio region display classes that I need to abstract out of my current project - but hope to make that available.\nRyan\n. Hi Laurent, I'll do more testing with long files. Most of my testing has been with files 2 minutes or under, so you may be right. I'm developing on a 2007 mac - so I like to think of my system as the slowest possible one to run AudioKit!\nHowever, I still don't think stop() is the correct place to set the buffer unless you aren't using startTime and endTime. Have a look at the attached pict of a portion of what I'm working on. I have a fairly typical DAW where the files are being scheduled based on the position in the timeline sync'd to video generally. When the app is in the stopped or play state you can edit the regions, essentially resetting their startTime and endTimes.\nSo, I think the alternative in my case is to call setPCMBuffer manually when the edit is done. And change it to open rather than fileprivate. Given that - what do you guys suggest?\n\n. I'll see if I can optimize this a bit more. I have a few ideas.\n. Yes - actually I was using the schedule segment method before trying to merge with AKAudioPlayer. I'll experiment what is the best solution.\nPreviously you were calling stop() before your play command. So actually you were filling the buffer on both stop and before play previously. The main thing that doesn't work for me is scheduling the buffer on stop and initialize.\nI'll work on it some more and see if I can find a good solution. I considered the mutable composition route, but am hoping that I don't need to do that!\n. cool thanks guys - It felt a little bold of me to remove your code, that's why I left it in commented out in case you didn't agree. But, I'll clean it up now!\n. Let me know if I understood you correctly. Added EZAudioFileMarker.* to iOS and tvOS. Sorry, I haven't ever even opened those projects...\n. Thanks for this. I will fix it today!\nRyan\n-----Original Message-----\nFrom: \"Bradley Furnish\" notifications@github.com\nSent: Friday, November 4, 2016 1:16pm\nTo: \"audiokit/AudioKit\" AudioKit@noreply.github.com\nCc: \"Ryan Francesconi\" hi@are-f.com, \"Mention\" mention@noreply.github.com\nSubject: [audiokit/AudioKit] Recent AKAudioPlayer Updates Break Setting startTime Ahead of Playback (#603)\n @ryanfrancesconi  It looks like this change  #592  alters the default behavior of the AKAudioPlayerNode in a way that breaks with the expected behavior. Now that play() is a synonym for play(from:0), it messes up code that relies on setting a startTime before playback. It also breaks with the documentation for  AKToggleable   which states that play() is a synonym for start().\nConsider this example with the current code:\nlet player = AKAudioPlayer! code to setup and initialize the player with an audio file _\\player.startTime = 2.0player.play()\nThe player startTime is reset by the play(from: 0) call and the player starts playing at the incorrect start time.\nOr consider this:\nlet player = AKAudioPlayerNode!_ code to setup and initialize the player with an audio file \\player.startTime = 2.0player.start()\nHere the buffer is never scheduled and there is no sound played.\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly,  view it on GitHub , or  mute the thread .\n. My comment might be related to this issue - if not, let me know and I can start a new Issue. I have found that the AKAmplitudeTracker isn't being deallocated after the containing class has had its deinit block called. I've dereferenced the object, but it persists. I see that it is using the C++ kernel audio unit method, so I'm wondering if it is related to that.\nHere's what I'm seeing in the memory graph of xcode:\n\n. I don't know if the Leaks screenshot is helpful or not, but here's what I see there in a very short run of my app instantiating and deleting a few objects. It seems like Apple's frameworks also show up as Leaks so I don't know exactly what to think. I'm new to even looking at this Instruments app so I don't know what to expect there.\n\n. So this is only with some of the Audio Units though, or is it for all of them? For example, I don't see this behavior in the AKTimePitch class - it is deallocated. I haven't yet tested too many of the effects, but have noticed it in particular with the AKAmplitudeTracker. Do you mean any of the AudioKit nodes that also use embedded C code in them?\nFor me, I'm developing a desktop application where performance is key, not an iOS app - so anything hanging around after I want to get rid of it is a bit worrying.\n. I'm also allocating up to thousands of AudioKit objects over the lifecycle of a session.. I'll do what I can though my C skills are very rusty.\nSoon I'll create a very simple project to test this with.. Hi guys, I finally had a bit of time tonight to look closer at the issue. It's actually a very simple bug in the swift code. In the closures self is a strong reference so this creates a retain cycle. All that needs to be done is to use a weak reference to it like this:\n```\n        AVAudioUnit._instantiate(with: _Self.ComponentDescription) { [weak self]\n            avAudioUnit in\n        self?.avAudioNode = avAudioUnit\n        self?.internalAU = avAudioUnit.auAudioUnit as? AKAudioUnitType\n\n        input.addConnectionPoint(self!)\n    }\n\n```\nAure, I'll go through all the AUv3 classes and make the fixes. Will send you a pull request when done!\nRyan\n. Note these strong self references in closures may be in other places in the AudioKit code besides these v3 classes, so keep an eye out for them!. Aure,\nI'm wondering about the following Dispatch block:\n```\n        token = tree.token (byAddingParameterObserver: { [weak self]\n            address, value in\n        DispatchQueue.main.async {\n            if address == self?.halfPowerPointParameter!.address {\n                self?.halfPowerPoint = Double(value)\n            }\n        }\n    })\n\n```\nSpecifically, does that DispatchQueue really need to be in there? I think it's possible in certain situations that by the time the code is executed on the main thread the reference to self could be gone.\n. Hi Allan,\nI've replicated your issue. I will see if I can fix it today.\nThanks, Ryan\n. Should be good now pending Aure's merge. Thanks for the report!. In my project on OS X I found that I had to record to a 32 bit CAF file, then convert it after. Recording to a wave file didn't work for me either. . after record completion:\nnodeRecorder.audioFile!.exportAsynchronously(name: url!.lastPathComponent, baseDir: .custom, exportFormat: fileFormat, callback: handleExportComplete)\nI added the .custom base directory type for this situation on OS X.\n. I think it was my fault actually! :/. yeah totally. let me do that. I actually didn't realize that git was going to do what it did in the pull request / commit. (in terms of touching all files)\nI had just copied my repo to a new computer and that's what happened.\nback at you with a new pull in a sec.\n-----Original Message-----\nFrom: \"Aurelius Prochazka\" notifications@github.com\nSent: Monday, January 23, 2017 2:43am\nTo: \"audiokit/AudioKit\" AudioKit@noreply.github.com\nCc: \"Ryan Francesconi\" hi@are-f.com, \"Author\" author@noreply.github.com\nSubject: Re: [audiokit/AudioKit] AKAudioPlayer in reverse (#703)\nDo you think you could check out a fresh copy of AudioKit and just make the changes from  a9dd5fe  ?\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly,  view it on GitHub , or  mute the thread .. Hmm - weird. Alright! Glad it worked for you. Unsure at this point what the issue was for me.. I haven't been able to use the playgrounds until I got a new mac this week - they didn't run at all for me on my old computer. So, will be better now about making examples when I add something!. should this of been merged into develop?. yeah, should undo that merge, aure and maybe allan do a new pull request to develop? I know for me, this will break my code as I'm already doing what you added elsewhere - but I'm happy to alter my stuff if this looks good.\n. AKAudioPlayer on the dev branch is also ahead of the master - so be sure to merge the changes. I'm all good with this change. One question though - I didn't have the issue that Allan says in terms of the AKAudioPlayer hanging around after deallocation -- I only had that problem with the AUv3 stuff. Also, I don't see this issue in other similar nodes. For example an AKMixer is deallocated despite having made many attach calls. Just a question here - but is this deinit call necessary? Or, should we add this to all nodes that access the static engine attach method, not just AKAudioPlayer ?\nIs it possible Allan, that your memory leak was elsewhere?\n. Ahh, You're right! Thanks so much for this catch. One more leak plugged. We should look for this in other places.. I tried this code and it is working as expected in the latest dev. AudioKit on OS X.. \nIt's quite possible this was the AKAudioPlayer pause bug I fixed recently - unrelated to his signal chain.\n-----Original Message-----\nFrom: \"Aurelius Prochazka\" notifications@github.com\nSent: Friday, January 27, 2017 11:28pm\nTo: \"audiokit/AudioKit\" AudioKit@noreply.github.com\nCc: \"Ryan Francesconi\" hi@are-f.com, \"Comment\" comment@noreply.github.com\nSubject: Re: [audiokit/AudioKit] Noise happened when audio file playback in v3.5.1. (#713)\nThis works perfectly me on the develop branch for AudioKit on iOS so I am going to assume whatever it was has been addressed.\n\u2014\nYou are receiving this because you commented.\nReply to this email directly,  view it on GitHub , or  mute the thread .. The memory release is in the DSPKernel class, so all the subclasses would inherit this change. I didn't change AKAmplitudeTracker in this pull request in any code way other than comments. The previous changes I made I had to go into each AUv3 class and make changes.. One other comment that I forgot to mention in the pull request. I am seeing the ~destructor being triggered everytime, but I don't see the destroy() method called everytime. I only see destroy() called if I connect up a bunch of units. If not as many connections were made, it just does the ~. I didn't trace this too deep as it seemed enough for me to simply deallocate &sp in the destructor only.\n. But yes, please whoever wrote that stuff, please check it as maybe I'm not understanding the sources of the crashes properly.. You got it! Hope I am understanding everything - but it seems good to me!. Run it through an AKAudioPlayer, then use the AKNodeRecorder on the final AudioKit.output to record to file.\nThere isn't any non-realtime export yet.\n. Btw, this isn't an issue - this is a question, so it's better to ask it in the AudioKit google group: https://groups.google.com/forum/#!forum/audiokit. This is currently in EZAudioFile / EZAudioPlot, an older API embedded in AudioKit. Note - this is a question, not an issue. So, you can ask this in the forum: https://groups.google.com/forum/#!forum/audiokit\nlet waveform = EZAudioPlot()\nlet data:EZAudioFloatData = file.getWaveformData()\nwaveform.updateBuffer( data.buffers[0], withBufferSize: data.bufferSize ). are you asking if that is correct?. yes, i know. i was just giving you the basic idea. You should verify that your optionals aren't nil before proceeding in your code there.. I don't think I have this issue:\n\nThis is with the mac os x framework. Build settings are pretty standard using link binary with libraries and embed framework.\nI have found that getting a new project started is a mix of trying these things and waving a magic wand, then at some point it starts working.\n. I also copy the framework to my project folder.. One thing though - I'm also having some weird issues starting up a new project. I'll let you know what I figure out. There's definitely some weird stuff going on.. coming from being a java programmer, i still find the sharing of resources between projects and name spaces, unintuitive and weird with xcode/swift/etc. adding myself to this issue. :). I looked at AMCoreAudio finally - it works great. We should use it if possible for macOS, or at least use the HAL calls like that.. @dave234 AKTiming extension?. @SS-HU no, AKTiming is a protocol @dave234 wrote to standardize time sync within AudioKit. . The timing is exact, yes.. Check out AKClipPlayer, AKTimeline, AKPlayer and related classes. @SS-HU AKPlayer is brand new, so that is certainly not yet for production purposes!. Sure, I'll contribute AKFreeFormJazzExplorationTiming\nYou do the rest @dave234 !. @aure AKAudioPlayer's scheduled start time is accurate.. What you should do is:\n1. Configure AKNodeRecorder to the settings that AudioKit is using. AKSettings.audioFormat\n (if you think about it expecting a tap to do sample rate conversion on the fly isn't reasonable or desireable)\n2. Record to a temp file\n3. On completion,  use the new class AKConverter to convert to whatever format you want. \n4. Delete your temp file.. We could build this functionality into AKNodeRecorder, but we haven't yet - so this is the sequence that I use myself. I'll check with @aure if that's something that might be desireable as it is a point of confusion.. I've added an example showing the new file conversion here: https://github.com/AudioKit/AudioKit/tree/develop/Examples/macOS/FileConverter. it definitely compiled and ran ok for me!. did you have time to file a bug with apple?. Hi, there is now a new player that will replace AKAudioPlayer, please give it a try and send any feedback you might have. It will solve this issue. You can also see it in action in the AudioUnitManager macOS example. Thanks!\nhttps://github.com/AudioKit/AudioKit/blob/develop/AudioKit/Common/Nodes/Playback/Player/AKPlayer.swift\n. No, it's not ok. We need to fix it!. I think he's just printing maxLevel. @aure maxLevel is returned in dB. actually, is the AKAudioFile.maxLevel dB incorrect? Shouldn't it be: \nreturn 20 * log10(maxLev). I checked the AudioUnit version of this and the bypass actually emits a weird tone like it is locked in a short loop.. bypass works in general, so the costello is an exception not the norm... would be good to fix it. oh ok. thanks @dave234 ! I meant it works as in ... I press bypass and the effect is bypassed. Generally. Glad to hear the underlying fix is happening.. Yes this issue is now fixed in the upcoming AKPlayer. Stay tuned.. Hi, Was wondering if you'd like to give the new player a try. It's a little different in terms of setup but will be self-explanatory, it's in the development branch, or you can see here:\nhttps://github.com/AudioKit/AudioKit/blob/develop/AudioKit/Common/Nodes/Playback/Player/AKPlayer.swift\n. Ok i'll switch to that. I started with it, as you saw I borrowed some of your code, but then I wasn't sure if I wanted to make the time() audioTime() function visible.. \n. I would deprecate AKAudioPlayer as soon as some others have success with AKPlayer. I've been testing it in a few different scenarios, but there could be more?. I will implement this AKTiming, then I think it's ok to merge AKPlayer. that's true, but the run phase script does check to see if it's installed or not. . \ud83d\udeb2. Hi, thanks for submitting this. @aure and I were discussing problems related to this yesterday. I'm probably one of the only macOS focused folks on here, so keen to resolve this as well. That said, this code also has issues with iOS. . the avAudioNode in AKNode is open.. avAudioNode is reverbAU:\nself.avAudioNode = reverbAU\nIs that what you are asking?\n. Cool - yeah I'm hoping others might pitch in on this. As far as I can see it's clearly from the addition of the Metronome into my graph. It only happens after I added it. Now when I stop the engine I get a pop. This happens when there is no other audio playing or connected. \nIf you're unable to reproduce easily I can try to make a test for you as it's in my large project right now.\n. MetronomeTest.zip\n. i don't get the pop when just stopping the metronome, only when stopping the metronome and the engine. It doesn't seem quite expected to me the way I'm getting these sporadic pops after stop is called. Is that normal? The pop is worse after you started/stopped about 5 times.. Note, the pop still occurs if the main output mixer volume is 0. I made with the latest xcode beta. Are you using an older version?. Oh yeah. We figured out that the bug is in the avsampleraudiounit. Sorry forgot about the issue. \n\nOn Mar 30, 2018, at 5:51 PM, Aurelius Prochazka notifications@github.com wrote:\nClosed #1248.\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub, or mute the thread.\n. I can add that for you. . Sorry, didn't notice this till today. Will just take a sec.. and thanks for pointing out the missing call. Wasn't something I need as my players are all driven by UI components.. Oh yeah. The beta. \nOn Mar 20, 2018, at 6:43 PM, Aurelius Prochazka notifications@github.com wrote:\n@aure commented on this pull request.\nIn AudioKit/Common/Internals/AudioUnit Host/AKAudioUnitManager.swift:\n\n@@ -137,7 +137,7 @@ open class AKAudioUnitManager: NSObject {\n\n // just get a non nil list of Audio Units\n private var linkedEffects: [AVAudioUnit] {\n\n\nreturn _effectsChain.flatMap { $0 }\nreturn _effectsChain.compactMap { $0 }\nI think this is too bleeding edge.\n\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub, or mute the thread.\n. I\u2019ll change it to the old syntax \nOn Mar 20, 2018, at 6:43 PM, Aurelius Prochazka notifications@github.com wrote:\n@aure commented on this pull request.\nIn AudioKit/Common/Internals/AudioUnit Host/AKAudioUnitManager.swift:\n\n@@ -137,7 +137,7 @@ open class AKAudioUnitManager: NSObject {\n\n // just get a non nil list of Audio Units\n private var linkedEffects: [AVAudioUnit] {\n\n\nreturn _effectsChain.flatMap { $0 }\nreturn _effectsChain.compactMap { $0 }\nI think this is too bleeding edge.\n\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub, or mute the thread.\n. @aure \n\n. Well, it\u2019s just a deprecation warning. I changed it back to the old syntax for now.\nSeems a bit verbose to have to do that?\nOn Mar 20, 2018, at 10:39 PM, St\u00e9phane Peter notifications@github.com wrote:\nWe could probably bracket these with #if swift(4.1) blocks so it works with both versions.\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub https://github.com/AudioKit/AudioKit/pull/1276#issuecomment-374838430, or mute the thread https://github.com/notifications/unsubscribe-auth/ACyFo-qrKJTPkR1J2-Eo9swe3w6gFf6Oks5tgeeJgaJpZM4SyxgT.\n\n\n. I don't see an immediate problem with that code and i have verified here that play(from: 1) does play from 1. What it sounds like is that you aren't using the current development build. In the first AKPlayer it would play from loop.start if isLooping is enabled. This was fixed in the latest merge a few days ago. If you still have an issue and you are using the latest dev build, please post a complete project if you don't mind. . you can verify the problem i mention by setting isLooping = false. Also, you don't need to use player.prepare(). You can manage the loop on your end if you can't get the dev build to work - though I'd recommend just doing that. All you need to do is use the completionHandler then tell it to play again (for looping). please post a project that displays this. regardless, you'll need to learn how to use frameworks if there is any fix needed. I don't understand why you can't use the develop branch build?. @dave234 updated AVAudioBufferConvenience. Please review!. thx!\n\nOn May 4, 2018, at 5:05 PM, Aurelius Prochazka notifications@github.com wrote:\nMerged #1361 https://github.com/AudioKit/AudioKit/pull/1361.\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub https://github.com/AudioKit/AudioKit/pull/1361#event-1611024331, or mute the thread https://github.com/notifications/unsubscribe-auth/ACyFo6U5n0iIM_1j3cagMnUwgbIhv_RGks5tvOy8gaJpZM4TzYpV.\n\n\n. The AKAudioFile code looks complicated, but there is almost nothing happening in its export code once you get rid of the excess stuff. AKConverter also uses the AVAssetExportSession if necessary. I would be happy to add a progress delegate to that class, but I don't really want to mess with AKAudioFile as it is too limited for macOS usage. AKConverter is a much more flexible conversion class.\nhowever if you want to do your own export, it's pretty easy. Just check the session.progress value periodically for progress values.\n```\nlet asset = AVURLAsset(url: inputURL)\nguard let session = AVAssetExportSession(asset: asset, presetName: AVAssetExportPresetAppleM4A) else { return }\n// Check:\n//session.progress\nsession.outputURL = outputURL\nsession.outputFileType = .m4a\nsession.exportAsynchronously {\n    completionHandler?(nil)\n}\n```\n. I've made a reference to internalExportSession in AVAudioFile a class variable called \"currentExportSession\". I didn't test it, but it should work. Will PR.. @dave234 review requested. I'll take a look this week.. It\u2019s good to put a reasonable upper limit. Aure, we had decided \u201c2\u201d before. The main thing is that the parameter ramper isn\u2019t going to like a zero value.\nLet\u2019s try 4? or what is the upper range needed?\n\nOn Jul 10, 2018, at 2:25 AM, Aurelius Prochazka notifications@github.com wrote:\nLooks like @ryanfrancesconi https://github.com/ryanfrancesconi introduced a clamping on the boosting amount in this pull request: https://github.com/AudioKit/AudioKit/pull/1219/files https://github.com/AudioKit/AudioKit/pull/1219/files\nOur tests didn't show this because we only tested doubling and halving the amplitudes. I'm inclined to agree with you Michael, that 0-2 is not a very good limit because there are definitely conceivable use cases for large amplification. I'll let @ryanfrancesconi https://github.com/ryanfrancesconi chime in here, but if he does not object, I'll remove the clamping.\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub https://github.com/AudioKit/AudioKit/issues/1427#issuecomment-403759082, or mute the thread https://github.com/notifications/unsubscribe-auth/ACyFo6f4bDsOYzVYNfJ527CZ-Rzvl75xks5uFHLugaJpZM4VGXrJ.\n\n\n. What is this about the audio quality changing?. I've been wondering something similar actually.. that makes sense. I'm wondering about: \ndelete _kernel;\nIn AKAudioUnitBase.mm\nI'm now getting a crash after stopping then restarting the audio engine. I think it is due to this line, triggered from engine.prepare.\n\n\n. Excellent. Thanks! I'll give it a try.. it seems good now. will report back if i find any other crashes. thanks!. AKPlayer knew about the rate property so it could do fade timings and take it into account.. I will take a look. You can re-open this issue.. Yes, I do see this issue with setPosition. It's all the properties of AKTiming actually - not just setPosition. @dave234 do you know why this might be?\nIn the meantime, use this instead if you need:\nplayer.startTime = time\nplayer.play()\nor just:\nplayer.play(from: time)\nthe stack trace is:\n2018-10-16 09:11:38.922653-0700 HelloWorld[15641:1479480] -[AudioKit.AKPlayer setPosition:]: unrecognized selector sent to instance 0x7fbb61d16630\n2018-10-16 09:11:38.930613-0700 HelloWorld[15641:1479480]  Terminating app due to uncaught exception 'NSInvalidArgumentException', reason: '-[AudioKit.AKPlayer setPosition:]: unrecognized selector sent to instance 0x7fbb61d16630'\n First throw call stack:\n(\n    0   CoreFoundation                      0x000000011190429b exceptionPreprocess + 331\n    1   libobjc.A.dylib                     0x00000001102ff735 objc_exception_throw + 48\n    2   CoreFoundation                      0x0000000111922fa4 -[NSObject(NSObject) doesNotRecognizeSelector:] + 132\n    3   CoreFoundation                      0x0000000111908fb6 forwarding + 1446\n    4   CoreFoundation                      0x000000011190ae88 _CF_forwarding_prep_0 + 120\n    5   HelloWorld                          0x000000010f7466d0 $S10HelloWorld14ViewControllerC4playyyF + 816\n    6   HelloWorld                          0x000000010f7462ca $S10HelloWorld14ViewControllerC11toggleSoundyyypF + 58\n    7   HelloWorld                          0x000000010f74631c $S10HelloWorld14ViewControllerC11toggleSoundyyypFTo + 76\n    8   UIKitCore                           0x000000011b7897c3 -[UIApplication sendAction:to:from:forEvent:] + 83\n    9   UIKitCore                           0x000000011b8c1e85 -[UIControl sendAction:to:forEvent:] + 67\n    10  UIKitCore                           0x000000011b8c21a2 -[UIControl _sendActionsForEvents:withEvent:] + 450\n    11  UIKitCore                           0x000000011b8c10e6 -[UIControl touchesEnded:withEvent:] + 583\n    12  UIKitCore                           0x000000011bf9c334 -[UIWindow _sendTouchesForEvent:] + 2729\n    13  UIKitCore                           0x000000011bf9da30 -[UIWindow sendEvent:] + 4080\n    14  UIKitCore                           0x000000011b7a3e10 -[UIApplication sendEvent:] + 352\n    15  UIKitCore                           0x000000011b6dc0d0 __dispatchPreprocessedEventFromEventQueue + 3024\n    16  UIKitCore                           0x000000011b6decf2 __handleEventQueueInternal + 5948\n    17  CoreFoundation                      0x0000000111867b31 __CFRUNLOOP_IS_CALLING_OUT_TO_A_SOURCE0_PERFORM_FUNCTION + 17\n    18  CoreFoundation                      0x00000001118673a3 __CFRunLoopDoSources0 + 243\n    19  CoreFoundation                      0x0000000111861a4f __CFRunLoopRun + 1263\n    20  CoreFoundation                      0x0000000111861221 CFRunLoopRunSpecific + 625\n    21  GraphicsServices                    0x0000000116b271dd GSEventRunModal + 62\n    22  UIKitCore                           0x000000011b788115 UIApplicationMain + 140\n    23  HelloWorld                          0x000000010f748a77 main + 71\n    24  libdyld.dylib                       0x000000011360a551 start + 1\n    25  ???                                 0x0000000000000001 0x0 + 1\n)\nlibc++abi.dylib: terminating with uncaught exception of type NSException\n. Hi, sorry for the delay in responding. This looks pretty good to me in general. I will test your changes. The only change you made that I'm not clear on is:\nfaderNode?.gain = Fade.minimumGain\nfrom \nfaderNode?.gain = gain\n. is there additional code you aren't putting above? In general, if isLooping is true no completion handler will be called.. I will look at this.. This works fine for me on macOS:\n```\nfunc setOutputDevice(name: String) {\n    guard let outputs = AudioKit.outputDevices else { return }\n// look for the device\nguard let device = outputs.filter({ (theDevice) -> Bool in\n    theDevice.name == name\n}).first else {\n    AKLog(\"Unable to find\", name, \"in audio output devices.\")\n    return\n}\n\ndo {\n    try AudioKit.setOutputDevice(device)\n    AKLog(\"Set output device to\", name)\n\n    if AudioKit.engine.isRunning {\n        try AudioKit.stop()\n        try AudioKit.start()\n    }\n} catch {\n    AKLog(\"Unable to set audio output to \\(device.name)\")\n}\n\n}\n```\n\n. > Not tested on iOS, but in addition, which may or may not be related, using Multi-output device on OSX gives error.\n\nMulti-output Aggregate device\nPlayground execution terminated: An error was thrown and was not caught:\nError Domain=com.apple.coreaudio.avfaudio Code=-10875 \"(null)\" UserInfo={false condition=IsFormatSampleRateAndChannelCountValid(outputHWFormat)}\nOnly true if default system output is not manually overridden before starting AK output.\n\nif you are testing this in a playground, try making a real application. Also, your force unwrapping of optionals is dangerous.. I will look at this, sorry for the delay.. Hi, there is a PR in that will fix this issue. Will have an update soon.\n. can you post the file that AKPlayer isn't playing?. thanks, i'll see what's up!. Hi, there is a PR in that will fix this issue. Will have an update soon.. Update from Dave: (in progress) It\u2019s still a huge project though. We need to refactor AudioKit to not use singletons and magic numbers.. I'll just close this as Dave clearly has it in progress.. was a small bug - fix will be in next update.. can you post the rest of your test code? I don't see how your code would ever work in a loop. what am i missing? What does having two players have to do with this?. Try what I'm using to test this -- which is the macOSDevelopment project: AudioKit-develop/AudioKit/Developer/macOS/macOSDevelopment/macOSDevelopment.xcodeproj\n\nLoading new files into the same player is fine and the stop envelope is correct.\n. check in an actual application vs simulator. this is now default behavior with simulator and likely no issue. @aure . @dave234 requesting review of changes to AudioKit.swift:\nhttps://github.com/AudioKit/AudioKit/pull/1618/commits/53c86bf1e814eaf9188b8b73c89a03a64f5cc805. @dave234 this is the part your review is requested for:\nDebatable change here, but it is desirable from my point of view:  \u2026\nif the assigned output is already a mixer, avoid creating an additional mixer and just use the assigned input as the finalMixer.\nThis avoids the creation of an extra mixing node and another potential spot for sample rate conversion.\nAlso made finalMixer an optional for this reason.\nI know this is ultimately going to be trashed when your new I/O stuff takes over, but it's how I use AudioKit.output over here....\n. could you post one of your files that are failing please?\n. thanks, what system version are you testing on?. I don't think this is related to short files in general - but to specifically the file(s) you are testing with. For some reason yours reports under frame counts on completion, but all the others I've tried here report over frame counts. Here's yours:\nAKPlayer+Playback.swift:handleComplete():265:Firing callback. currentFrame: 813056 frameCount: 852704\nThat matches your observation too. Would be interested to check more files to see how the counts measure up. Definitely here PCM files and other mp3s report over rather than under. What I'm seeing now in 10.14 is that the currentFrame returns 0 on user stop though. So, I will check for that now and see how things roll. Will update soon.\n. Thank you, I will check. I've not really tested AKPlayer via Objective C.. You could check the development branch too. The latest is there. . Great, thanks!. sounds fine - will check.. Thanks I'll check!. Interestingly when AKLog actually outputs that it shows up as:\ndeinit * AKAudioPlayer\nThat's pretty clear.. Because AKNode is in a bunch of spots, I didn't leave that in - however in debugging the AmplitudeTracker deinit it was helpful to see when it was called. Technically, we don't need it in there! Could just remove it.. same deal, shows up as:\ndeinit * AKAmplitudeTracker. yes, only need for debugging. I don't want to use AKAudioFile any longer, but if you think it should stay around I'll move this back. This is my function btw.. Basically I was wondering if it would be better to have a utility class for these kinds of useful but static things.. yeah, i considered that. i haven't entirely liked the blurring of lines between extensions and foundation classes. I suppose it happens a lot in other places in AudioKit, so I think I'll take your advice. Where are these type of extensions going?. AudioKitHelpers?. AVAudioBufferConvenience.swift ?. right, thank you. went with peakTime as a property.. will do.  let updateNeeded = (buffer == nil || startFrame != startingFrame || endFrame != endingFrame || fade.needsUpdate)\n. There's a lot of redundancy for startTime once AKTiming is added. Seems kind of weird to have setTime() startTime AND currentTime. What do you suggest?. optional sounds good to me.. although it doesn't really matter what the value is as long as it doesn't start with a valid one. The goal is to prevent filling the buffer needlessly. yeehaw. keep that whip a crackin. hee yaw!. setTime is part of the AKTiming protocol. One of the reasons I chose not to originally use the protocol.\nstartTime and endTime allow you to set the in point / out point independent of playback. It's also used to store the last in/out point specified by the play(from: to:). ok will do. I have wondered about this convention. I find the syntax kind of more strange to create a new variable to unwrap then just guarding to make sure the original one isn't nil. But if this is the best convention, changing!. is it in the case of if another thread could change audioFile ?. good catch!. ok cool. I just committed an AKPlayer update, so I'm going to look at this now. sorry typo... fixing. it's just the current syntax, but ok. hard to keep track with swift as they push you to upgrade all the time. I just try to stay on top of the changes now so I don't have all this refactoring to do.. is that sort of isMainThread check something people do much? I've never seen that. It is only to reduce the latency to start if it's already on main?. there's a number of examples like this one online (LIKE https://gist.github.com/sgr-ksmt/4880c5df5aeec9e558622cd6d5b477cb), with the isMainThread and sync on main, but doing a little more reading I found that it is not in fact safe as you found. I would assume that whoever wrote that saw this sort of safe dispatch example thinking it was exactly that. Seems like it's best to just get rid of the if statement entirely. I don't see why sync should be called on the main queue ever?. ",
    "tamhuynh5288": "I got this error like this, and don't know to fix, i think it related swift 3 and xcode 8 issue.\n. ",
    "adamnemecek": "Alright, thanks for the heads up. Yeah I do plan on committing a bunch actually, I think I'm going to use AudioKit for a project. I'm going to start with some stuff with the MIDI part of the codebase (at least for starters). \nAre you guys doing anything unusual with the build system btw? I tried to install the framework system wide (I do that a bunch so that I can write quick programs to try stuff out) but I keep getting an error that it was build for a target with a different name. I haven't seen this error before and the internet didn't help.\nAlso where do you guys stand on the \"good practices\" vs speed spectrum? I'm guessing in the swift part it's more towards legibility, in the c/c++ part it's more towards speed? \nAlso are there currently any parts that are yet to be ported to swift?\n. @aure: Ok, I would really appreciate the invite to the slack group. You might also want to consider setting up a public one. Google Groups is so 2005 :-).  My email is github-username@gmail.com\nThe midi part works fine but it could be cleaned up. There's quite a lot of duplication in the event iteration (c.f. the isEmpty and clearMetaEvents) that could be wrapped up in some a sequencetype.\nWhat's your migration plan toward swift 3.0? \nAlso, I was considering wrapping up all the error handling code in a function using autoclosure. Something to the tune of (I can't think of a good name though):\nfunc tryCall(@autoclosure f: () throws -> T, _ args: Any..., _ msg: String = #function) throws -> T {\n  do { \n    return try f()\n  }\n  catch let error as NSError {\n    print(\"error (error) (msg) (args)\")\n    throw error\n  }\n} \nand you'd call it with \"try tryCall(throwingFunction())\" and \"tryCall(throwingFunction())\" in swift 3.0.\nSo I'm actually not super good at synthesizer development, so I'm probably going to start with things other than modeling but I'm planning to learn.\n@megastep Yeah, I was. Do you think you could commit it to a new branch or something? Or send me the diff? \n. @megastep I can't get this to work, still the same error. I build it with the build_frameworks.sh script. I moved out the dsym file but it seems to be taking the project name from AudioKit.framework/Modules/AudioKit.swiftmodule/x86_64.swiftmodule which is a folder with binary files. \n. I think what would really help me is like the intended development workflow. Like how do you guys develop this? \n. @aure ok i sent you my email\n. Oh yeah, sorry, I'll start using the develop branch. \n. Sorry again about committing to master. I still have one outstanding to master where I just removed a file from the three projects but from then on I'm going to start committing to develop. \n. This seems to be a AVAudioFile issue. See this gist https://gist.github.com/adamnemecek/1ad587720676ae807c95518ded46c694\nAKAudioFile still fails despite having no additional code.. tell me more about your test. how did you measure this and did you run it on debug or release?. also even 1s seems like a lot. are you running this in the ios simulator by any chance?. also re: I'm not quite sure what causes the slowdown. It could be that the AKTable is now a MutableCollection and sets the entire collection to zero before performing the calculations.\nthis should actually be a speedup because we alloc the memory in one shot before setting the values as opposed to appending one by one. \nalso you shouldn't be using Date i think try CACurrentMediaTime from QuartzCore.. > was there a compelling reason to make AKTable a MutableCollection?\nmaking it idiomatic.\ni figured out what the issue. imma submit a patch to make it roughly as fast as the old version in debug.\n. if you want to give it a shot replace the aktable file with this file\nhttps://gist.github.com/adamnemecek/619d85885a030dbb9efe54be25cddae3\nand tell me what you see. i did some perf testing and it might make it slightly faster so i'm curious to compare it on your machine.. I weighted a couple of options and I think that the underscore is nice because \na.) it's a symbol used for the synthesized variables names so _ can mean \"private-ish\".\nb.) It indicates that you should watch out (which you should)\nThat being said, I'm all ears if you have some suggestions.. You might be entirely correct that it was off. The code is based on the Apple source code and it's somewhat strangely written C++ (two step initialization? cleanup in a destroy method?). The object lifetimes in AVFoundation are also a bit of a mystery to me as of right now. So it's entirely possible that some things were off.\n. Fair enough lol. You make solid points.. Lol I'm the one who should be sorry. It's cool though, I actually figured out how to do this stuff correctly (you don't want to know, lol), I'll contribute it in some time. . I'm not convinced this is a step in the right direction.. I guess i'm not crazy about plastering tries all over the place. We could also add a Result type for this. I think I'd prefer that.. Sorry I\u2019m out right now so I might not be of much help right now. You should check out mikmidi https://github.com/mixedinkey-opensource/MIKMIDI . As a framework it\u2019s bloated however it\u2019s standard compliant and it should answer your question. . what about this?\nhttps://github.com/Rexhits/soundtrack/blob/9d2b6315aaf7615e549192bc44ef8aa82925db5e/Soundtrack_final/MIDIParser.swift. i opened the pr against develop.. -677 lines of code!. -828 now!. -1082!. ",
    "ewalt": "What is this\n. ",
    "andreyz": "I was asking since it wasn't clear if that code was intentional and I didn't follow the purpose or it's just a remaining of old functionality that became irrelevant. So, I could guess and make conclusions or ask a main contributor, which I did. \nSorry for taking your time. \n. ",
    "alexbilbie": "Thank you for your swift answer!\n. ",
    "larsacus": "That's interesting -- I'll see if the synchronization gets better with a faster device (currently testing on an iPhone 5, iOS 9.3.5). It's comforting at least to know my current AudioKit configuration is at least somewhat correct. I just think it's interesting that the device can fully keep up with visualizing the audio as long as the audio category isn't switched, but as soon as it is, it becomes offset. I'm not sure if it helps, but this is with a short (<25s) looping playback file.\n\ud83c\udf7b \n. This synchronization doesn't appear to be dependent on the speed of a device. It exhibits the same behavior whether on my iPhone 5 or on my iPhone 6.\n. One more data point to consider that I did not emphasize in my original post is that the audio category switch is done simultaneously with an earpiece proximity sensor activation (screen turns off). When the proximity sensor is in the 'off' position (screen on) after proximity has been active, this desynchronization exhibits itself.\n. I apologize for the delay on getting you a sample. I haven't forgotten about this and it is still in my backlog. \ud83c\udf7b \n. I'm curious to know why out of all of my dependencies (built with Carthage) in my project, why this one is the only one that needs a fix-frameworks script? Is it even necessary? Everyone else seems to be configured properly without one.\n. @iSpartak Follow the instructions in install.md for using fix-frameworks.sh. However, if you are building on Xcode 8, you may run into the same issue I ran into in #570 with that script un-signing your framework before submission.\n. @megastep I don't use the build_frameworks.sh script. My dependencies are managed together using Carthage's cartfile and built using carthage build --platform iOS\n. @megastep For just iPhones, the 4S, 5, 5C are all supported under iOS 9 and are 32-bit devices. Even iOS 10 supports 5 and 5C. \n. I'm actually not positive as I've already deleted Xcode 7, but this is the first time I have run into it.\n. I just posted this in #567 since they're similar but different, but I don't use build-frameworks.sh. Carthage handles all of our dependency building.\n. Oh so you're saying to actually checkout AudioKit develop in another location and build manually using your script. That even if I were to specify develop and use carthage update --no-use-binaries, because your build-frameworks script isn't being used, none of what you're doing will be present.\nYeah I'll have to prioritize this and try it out later as it takes about 30 minutes to re-build all of our carthage dependencies.\n. I just rebuilt AudioKit (using carthage directly, not your script) and am now running into compilation issues when importing AudioKit in source files stating that AudioKit is requires to be linked with iOS 10+:\nmodule file's minimum deployment target is ios10.0 v10.0: /<project_dir>/Carthage/Build/iOS/AudioKit.framework/Modules/AudioKit.swiftmodule/arm64.swiftmodule\nMy application still supports iOS 9. I'm going to try with your build-frameworks.sh script next to see if something is somehow different with the script than building through Xcode via carthage.\n. This is actually really difficult for me to verify since I have essentially commit changes that I don't know if they will work yet into our production deployment workflow. Especially since you cannot delete builds from TestFlight.\nFrom going through submission to iTC with a known failing parameter in another framework (to prevent actual submission), this issue appears to be resolved (rebuild develop using build-frameworks.sh and deleted my custom build phase script altogether -- basically not running fix-frameworks.sh at all). However, I cannot validate that the iTC validation did not also prematurely terminate when it found other issues.\n. ",
    "thislooksfun": "I'm currently unable to test it, but I will get back to you as soon as I find out. Thanks for the update!\n. Well, the selection of the microphone appears to be working, however now I'm getting a new error, as documented in issue #631\n. Forgot to include this in the previous comment:\nIs there some way to set the output device as well? I see AudioKit.setOutputDevice(_:), but that has the same problem as AudioKit.setInputDevice(_:) does. If I'm missing some way to do this, I apologize, but that would be huge boost to my workflow, plus would be very useful for many audio routing applications (in both relevant senses of the word).\nIf you want, I can make this its own ticket.\nThanks again,\n-tlf\n. Can confirm: putting it through an AKMixer worked perfectly\n. Also, yes I'm using the latest 3.5. Just downloaded it 30 mins before I posted this. Totally forgot to answer that question.\n. Thanks for the prompt update, but does this allow me to set the output device to null to disable playback?\n. Well that was part one of this issue. I'm putting the microphone through an AKMixer to fix the problem of #631, and then putting the output of that through another AKMixer on which I'm setting the volume to 0, but I can still hear the output. I will try it again soon (I'm taking a very short break from a paper right now), but I'm not sure why that was happening.\n. ",
    "GreatApe": "Yes, that actually works, thanks for the painless workaround!\nIt seems like the panner fails for certain sound sources and works for others. I can hook it up to a mandolin, but not to a mandolin-delay-reverb chain for example. Here too it starts working again if I interject a mixer.\nHas this got to do with mismatches in formats and/or channel counts?\n. By the way is it normal that the panner node has 32 seemingly empty inputs, and one non-empty?\n. I'm not sure exactly what they are, since I'm new to AudioKit and audio in general, but the engine says that node 0x7f97d943c910 {'aumx' '3dem' 'appl'}, 'U' has 33 inputs, of which 32 look like this:\n(bus0) <- (bus0) 0x0, {}, [ 1 ch,  44100 Hz, 'lpcm' (0x00000029) 32-bit little-endian float, deinterleaved]\nI'm working with the 3d panner. Now that it works it has another issue, unless the listener is very close, a meter or so, the sound only reaches one ear at a time, so the 3d effect is very crude.\n. ",
    "eh1255": "Alright, I'll just sit tight for a bit then. Thanks for the quick response. \n. I haven't finished migrating my own code yet, so I can't test, but it builds properly now. Thank you.\n. ",
    "jasonmerchant": "Looking forward to this update as well. (Was about to switch my Mac app to use a different audio framework, but will wait until tomorrow) Thanks so much for your hard work aure! :)\n. ",
    "RustyDev": "Great. I'd like to create a mini daw with one track basically but with the ability to load audiounits. Similar to logic. So both instruments and fx.\n. ",
    "themichael123": "Same issue here.\n. Thank you @afnan-ahmad ! It works.\n. Sure, thank you.\n. Hi Aure. \nYes, this worked in iOS 9. Please find the Xcode Project attached. As you can see, the microphone input is not taken from a connected bluetooth headset, but rather from the internal mic. \nThanks.\nMicrophoneAnalysis.zip\n. Thanks Aure. . Thanks. Will test and let you know.... Got it. Thanks!. I am using v3.7.1. Configuration mistake on my part! Sorry and thanks for your help !. Ok, version 4.0.4 is the last version in which it is working. Afterwards the audio quality dramatically changes i.e. in version 4.1. There are some large changes between version 4.0.4 and 4.1: https://github.com/AudioKit/AudioKit/commit/d33fb9982ecbad321225e345f6e1dd0e3cee68a3#diff-738b45fb5df602caee1ce64516b82feb . We also use LowPassFilters which also seem to have changed dramatically. . Yes, the part in question is really simple. This is the logic: \nAudio input -> AKLowPassButterworthFilter or AKHighPassButterworthFilter -> AKBooster -> Mixer -> Output. \nIs this enough? if not, I will prepare a sample project and send it to you. . Here is the sample: High Pass Butterworth Filter.xcplaygroundpage.zip\n. Thank you for the help Aure.\n\nAm 10.07.2018 um 11:25 schrieb Aurelius Prochazka notifications@github.com:\nLooks like @ryanfrancesconi introduced a clamping on the boosting amount in this pull request: https://github.com/AudioKit/AudioKit/pull/1219/files\nOur tests didn't show this because we only tested doubling and halving the amplitudes. I'm inclined to agree with you Michael, that 0-2 is not a very good limit because there are definitely conceivable use cases for large amplification. I'll let @ryanfrancesconi chime in here, but if he does not object, I'll remove the clamping.\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub, or mute the thread.\n. I have created a new Booster via an extension. Thus, if you believe the clamp is necessary for most AK users, that is fine. \nAm 10.07.2018 um 11:25 schrieb Aurelius Prochazka notifications@github.com:\nLooks like @ryanfrancesconi introduced a clamping on the boosting amount in this pull request: https://github.com/AudioKit/AudioKit/pull/1219/files\nOur tests didn't show this because we only tested doubling and halving the amplitudes. I'm inclined to agree with you Michael, that 0-2 is not a very good limit because there are definitely conceivable use cases for large amplification. I'll let @ryanfrancesconi chime in here, but if he does not object, I'll remove the clamping.\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub, or mute the thread.\n. \n",
    "afnanahmad": "@themichael123 You can try following solution temporarly, I've success while removing following lines from Info.plist inside AudioKit.framework package.\n<key>CFBundleSupportedPlatforms</key>\n<array>\n<string>iPhoneSimulator</string>\n</array>\n. @megastep thanks! :)\nI'm using binary in my project as I was having issue with CocoaPods to run fix-frameworks.sh script.\nBut I can compile new binary from develop branch!\n. ",
    "ColinEberhardt": "No worries, I've spotted a few other minor issues so will raise a few more PRs\n. It's annoying that the display-mode is saved - however, as a default I think it should be rendered. A bit easier for first-time users!\n. ",
    "iSpartak": "just wonder when?  it also doesn't work for ad-hoc\n. I just downloaded dev branch and build framework for iOS via ./build_frameworks.sh   The issue is still there. Or I suppose to execute fix-frameworks.sh as well? On which particulary step? \n. Thanks guys.  @megastep when do you plan to have a fix in production version?\n. Just built from dev and added AudioKit.framework to my project but still have a problem. The issue with CFBundleSupportedPlatforms seems to be gone but now I am getting \ncode = 0;\n            description = \"Failed to verify bitcode in AudioKit.framework/AudioKit:\\nerror: Cannot extract bundle from /var/folders/ys/jb204tcx2k54gs7w0czgwn_00000gn/T/XcodeDistPipeline.mMy/Root/Payload/LS Tools.app/Frameworks/AudioKit.framework/AudioKit (i386)\\n\\n\";\n            info =             {\n            };\n            level = ERROR;\n            type = \"malformed-payload\";\n        }\n    );\n. thanks @megastep, unfortunately it did not help - the same error :(   Worth to mention I am using Objective C not Swift. But I do not think this is the issue. Everything is working perfectly in Simulator but failed when I am building Ad-Hoc :(\n. @megastep no luck ;(\ncode = 0;\n            description = \"Failed to verify bitcode in AudioKit.framework/AudioKit:\\nerror: Cannot extract bundle from /var/folders/ys/jb204tcx2k54gs7w0czgwn_00000gn/T/XcodeDistPipeline.R9y/Root/Payload/LS Tools.app/Frameworks/AudioKit.framework/AudioKit (x86_64)\\n\\n\";\n            info =             {\n            };\n            level = ERROR;\n            type = \"malformed-payload\";\n        }\n    );\n}\n. @megastep new 3.4.2 still have the same issue if complile bitcode is on :(   \ndescription = \"Failed to verify bitcode in AudioKit.framework/AudioKit:\\nerror: Cannot extract bundle from /var/folders/ys/jb204tcx2k54gs7w0czgwn_00000gn/T/XcodeDistPipeline.zlk/Root/Payload/LS Tools.app/Frameworks/AudioKit.framework/AudioKit (i386)\\n\\n\";\n            info =             {\n            };\n            level = ERROR;\n            type = \"malformed-payload\";\n        }\n    );\n}\n. @megastep sorry, I am not sure I understand. I am talking about release version from http://audiokit.io/downloads/\n\"The AudioKit-*.zip archives contain universal precompiled frameworks for each platform, ready to drag and drop in your own projects\"\nI just drag& drop framework as per instruction. This doesn't work if I try to submit my app for ad-hoc or App Store. Can this page somehow be updated with correct instruction how to use this brilliant lib (really!) in production. \n. ",
    "xshenpan": "thanks\n. ",
    "junhohong": "Another related(?) issue, all of my output sounds stop once I plug in headphones even without the metronome. I've read that this is because AudioKit restarts. Is there a way around this? \n. It's not set up as a playground. This is within the context of a full sized project. \n. into the iOS device. \n. I can share the project with you or show you the error in action if you would like. \n. https://github.com/junhohong/PracticeTools\nHere is the project. The code in question is located in the viewDidAppear method of ViewController. \nSorry it's a little bit messy!!\n. Commenting out \nmixer.connect(generator)\nin line 113 will get rid of the error. \n. Ok! Thanks so much :) \n. I fixed it! Here's how I did it:\nFirst, I set the observer from the link you showed me\nNotificationCenter.default.addObserver(\n            self,\n            selector: #selector(self.audioRouteChangeListener(notification:)),\n            name: NSNotification.Name.AVAudioSessionRouteChange,\n            object: nil)\nThen in the function, I stopped AudioKit manually and called my own reset function.\n```\nfunc audioRouteChangeListener(notification:NSNotification) {\n        let audioRouteChangeReason = notification.userInfo![AVAudioSessionRouteChangeReasonKey] as! UInt\n    switch audioRouteChangeReason {\n    case AVAudioSessionRouteChangeReason.newDeviceAvailable.rawValue:\n        AudioKit.stop()\n        print(\"headphone plugged in\")\n        reset()\n    case AVAudioSessionRouteChangeReason.oldDeviceUnavailable.rawValue:\n        AudioKit.stop()\n        print(\"headphone pulled out\")\n        reset()\n    default:\n        break\n    }\n}\n\n```\nIn the reset function, what I did was completely reset AudioKit.output. I rebuilt all the instruments (not sure if this was necessary) and mixed all of them and set them as the output. \nWhat I found was that you cannot attempt to start AudioKit again without resetting the output. Should I try to fix this with a pull request?\n. Sure, I would love to join! I'll send you an email. \n. Is there a way to incorporate AKOperation method triggeredWithEnvelope with the sequencer or sampler? I want to be able to use the frequency I set on the metronome to play a wav file. \n. @atomoil check out #586 \n. Try instantiating the generator inside viewDidLoad or viewDidAppear. This may temporarily fix the issue. \n. @aure That's the same error I got with the headphone jack issue. I think it happens when AudioKit.start() is called before the output has been properly built. My guess is that when the generator is built in the scope of the class, that may be happening before AudioKit is properly set up?\n. @aure Improper order of initializations when working with generators does seem to be the root cause of crashing when AudioKit attempts to restart though. Rebuilding the output from scratch at every restart could maybe be avoided if we figure this out. Might be worth looking into.\n. Try: AKSettings.defaultToSpeaker = true\n. Try this then. Comment out AKSettings.defaultToSpeaker as it overlaps with this. \ntry AVAudioSession.sharedInstance().setCategory(AVAudioSessionCategoryPlayAndRecord, with:AVAudioSessionCategoryOptions.defaultToSpeaker)\nAlso make sure your two lines of code are commented out.\n. Yay! Use .mixWithOthers for simulators though, otherwise you won't hear anything. \n. Awesome. That won't be a problem at all. Would this require modifying the AudioKit source code? \n. Ooo ok. I will learn about Sporth so I'm prepared to understand what we're working with. I would prefer not to edit the source code because I'm still reliant on using pods. I should learn how to work without it..\n. Sporth is a bit intimidating but I think I get the gist of it. Do I create my own sporth patch and use that to create a generator?\n. This might be a dumb question, but is there a way to use my own version of AKOperationGenerator file to extend the trigger function to fit my needs? \n. Ok that didn't work, i guess the trigger function isn't what actually triggers the metronome sound. \n. Ok! Take your time. Thank you \ud83d\ude42 \n. Hey Aure, do you think you could give an estimate on how long this would take? I could start looking into alternative methods for the metronome.\n. Awesome! Really appreciate it. \ud83d\ude42\n. I haven't had a chance to test this yet but if I'm understanding this correctly, the counter is printed every time the frequency changes through the slider. Can I do something like this then?\nvar count = 0.0{\n    willSet(newValue){\n        print(newValue)\n    }\n}\n. It's hard to see where generator.parameters[1] is modified, but I'd want it to print when that happens. \n. Let me get on a computer and test this out. \n. How does it sound through headphones? There are hardware limitations on the speakers. Is the sound coming out of the earpiece, or the bottom speakers? Have you checked the amplitude? \n. Check out #586 \n. @dkun7944  :) \n. Check out AKBalancer. I think the distortion happens when the amplitude is more than the hardware can handle. \n. ",
    "calflegal": "This is such great news! I had tweeted about this issue! Thank you all so much, great library!. ",
    "peterdouglas": "@junhohong did you end up resolving this issue? As I am currently trying to get a custom metronome sound triggered without any success so far. I have been through all of the docs, and have looked at different generators - and at the moment I think the only way is to use sporth code.\nThanks. . ",
    "ppamorim": "If I got success, I will create a sample implementing this feature. :)\n. I tried to use try mixer.appendedBy(file: layerFile) and I received this error: \nTerminating app due to uncaught exception 'com.apple.coreaudio.avfaudio', reason: 'error -50'\n. @laurentVeliscek I'm creating a new instance of AKAudioFile for every layer (as reading) and for the mixer (as writing). I moved the framePosition of the mixer because I need to move the flag that represents the position where I need to write the file, based on the layer start position.\n. Any update for the carthage fix?. Not working even if I compile a universal frameworks, any idea how to solve this?. ",
    "Joni-Aaltonen": "@ppamorim I'm actually playing with something similar, and getting same errors. How did you get around the problem?. ",
    "ThomasRehaag": "sorry, seems I was too hectic. Didn't see that I was in the wrong place\nAm 12.10.2016 um 19:29 schrieb Aurelius Prochazka:\n\nSo this code is part of the STK library. I wonder if you shouldn't\nbubble up your findings to them because even if I make this change, it\ncould get bashed if I later update from their code base\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/audiokit/AudioKit/issues/579#issuecomment-253281240, or\nmute the thread\nhttps://github.com/notifications/unsubscribe-auth/ALhdC1G8LTsU63gBXhYCaA1RJnpyTdQPks5qzRkEgaJpZM4KU3_w.\n. \n",
    "txaiwieser": "I have in my project the last version (3.4.2) and was searching on the internet for the Vibrato and found the docs the AKVibrato, but can't find locally\n. Do you guys have plans to bring it to the version 3?\n. ",
    "fever324": "Thank you for getting back to me. Please let me know if there is any way that I can help figuring this out!  \ud83d\ude42 \n. @junhohong Thanks for the help! I've moved the code inside viewDidAppear and it works now!\n. ",
    "jivers": "Hm I think Google Group is a better place for this question because it's not really an issue. \n. Build with framework is successful - I'll move to google group. Thanks -\n. ",
    "qiangyu": "Thanks guys,\nI tried \"AKSettings.defaultToSpeaker = true\" but it didn't help.\n. haha. Thanks! That works \ud83d\udc4d \n. Got it. Thanks for the hint!\n. ",
    "rickyjwhong": "hey there, \ngreat library first of all. using the example project for recorderdemo for iOS, and having trouble with the output being the speaker. I tried using try AVAudioSession.sharedInstance().setCategory(AVAudioSessionCategoryPlayAndRecord, with:AVAudioSessionCategoryOptions.defaultToSpeaker) instead of the default but it still outputs it with really low volume. any idea?\n. ",
    "petkrein": "Hi,\nhaving the same problem.\ntried:\ntry AKSettings.setSession(category: .playAndRecord, with: AVAudioSessionCategoryOptions.defaultToSpeaker)\nand...\ntry AVAudioSession.sharedInstance().setCategory(AVAudioSessionCategoryPlayAndRecord, with:AVAudioSessionCategoryOptions.mixWithOthers)\nAudio Player Output Doesn't Go To Speaker !!!\n. Thanks for the quick response\n. the audio is playing from the top speaker very low (ringtone speaker) not the bottom speaker. I found a solution. When overriding the outputAudioPort of the AVAudioSession, i am able to route the audio directly to the default speaker. That seems the only way to go!\n```\ndo {\n//  try AKSettings.setSession(category: .playAndRecord, with:  AVAudioSessionCategoryOptions.defaultToSpeaker)\n\nlet session = AVAudioSession.sharedInstance()\ntry session.setCategory(AVAudioSessionCategoryPlayAndRecord)\n\nif !AKSettings.headPhonesPlugged {\n    try session.overrideOutputAudioPort(AVAudioSessionPortOverride.speaker)\n }\n\n} catch {\n    print(\"Errored setting category.\")\n}\n```\n. ",
    "LeeMatthewHiggins": "This should be re-opened. Its not working.. Its quite a lot of code. Just been commenting out until it works, seems that when I remove my FFT stage its working again. so it looks like \nmic.avAudioNode.installTap(onBus: 0,\n                                     bufferSize: 512,\n                                     format: AudioKit.format) { [weak self] (buffer, _) -> Void in.......\nis the root of the issue....\nWas working fine.... It seems installing taps is broken! I was installing on a node after the mic (a AKHighPassFilter) if I do that it crashes. if I install directly to the mic, the tap callback(block) is never called.. :(. I will try this tomorrow. I\u00b4m finding quite a few changes in the framework behaviour on 3.6. An output must now be set  (Audiokit.output = ). In 3.5 I was just plotting a FFT of the mic without setting Audiokit.output and it worked. now it has to be set else no callbacks are invoked.. It seems my problem (the original ticket issue) was related to not holding onto the microphone object in my code. It must have worked before due to leaks. Strange that it works on the sim! I guess sim code must still have leaks, thats why it still worked. I wonder if the mic should be a singleton and be kept alive internally in audiokit?. ",
    "Tr736": "Thanks for the quick response\n. Do that you think this issue will be resolved by Monday?\n. Thanks Stephane.. I'll give it a go in a moment and let you know if the issue has been resolved\n. Thanks again works like a charm\n. just needed to add the architects to the \"Valid Achitectures\"\n. ",
    "lewislepton": "that is brilliant. and great to know. there isnt really much in terms of building AU things without having to know either something that helps you build it like reaktor or use VST instead\nthanks again. ill keep my eye out and start learning now ;)\n. i am using latest xcode 8.3.1. if that by chance may help. also this is a macOS app, not iOS. i have just tried in the same project, the oscillator. that worked perfectly. no errors popping up in the console when running. i did comment out the sampler code obviously, as it would not run properly with it in still . cool. cheers. ",
    "csann": "Here is the link again...\nhttp://stackoverflow.com/questions/40048954/xcode-8-1-beta-3-aqdefaultdevice-messages\nI think I somehow pasted it into the issue incorrectly. \nThe message occurs in various simulators but not in an actual device. I have not been able to reproduce it in one of your example apps. \nIt now seems to me that I have a problem with my app that I need to diagnose. Shall I close this issue?\n. I have found more information about this problem. This code will cause the problem...\n```\noverride func viewDidAppear(_ animated: Bool) {\n    super.viewDidAppear(animated)\nsampler = AKMIDISampler()\nsampler.loadMelodicSoundFont(\"RealFont_2_1\", preset: 26)  // or pick your own sound font.\nAudioKit.output = sampler\nAudioKit.start()\n\n```\n}\n...but only in the simulator, not in the device. The problem appears to be related to the MIDISampler. \nIncidentally, I have a simple project demonstrating the AKMidiSampler. It might make sense to include it in with the examples. If you want it, let me know how to send it to you. \n. ",
    "carbonimax": "With \n...\nAudioKit.start()\ntry! AVAudioSession.sharedInstance().setCategory(AVAudioSessionCategoryPlayAndRecord, with:AVAudioSessionCategoryOptions.defaultToSpeaker)\nsampler.play(noteNumber: 44, velocity: 96, channel: 0)\nit works but there is a lot of distorsion with few more notes.\n. Finally it works with this code :\nlet mic = AKMicrophone()\nlet tracker = AKFrequencyTracker(mic)\nlet sampler = AKSampler()\nsampler.loadMelodicSoundFont(\"Gibson\", preset: 0)\nAudioKit.output = AKMixer(AKBooster(tracker, gain: 0), sampler)\ntry! AKSettings.session.overrideOutputAudioPort(AVAudioSessionPortOverride.speaker)\nAudioKit.start()\nsampler.play(noteNumber: 44, velocity: 96, channel: 0)\nThank you\n. ",
    "lmick002": "Sure Xcode 8.1 (Version 8.1 (8B62)) and AudioKit 3.4.3. Ive been trying to run it on a iPhone 5 and a iPhone 6. The example project loads successfully but once I tapped the button to switch the state to .recording  it throws the error -> \nAKNodeRecorder: recording\n2016-11-07 01:16:33.962321 RecorderDemo[8327:2210490] [central] 54:   ERROR:    [0x1b28eec40] >avae> AVAudioNode.mm:751: AUSetFormat: error -10865\n2016-11-07 01:16:33.970065 RecorderDemo[8327:2210490] * Terminating app due to uncaught exception 'com.apple.coreaudio.avfaudio', reason: 'error -10865'\n* First throw call stack:\n(0x18da841c0 0x18c4bc55c 0x18da84094 0x1a709f78c 0x1a7115518 0x1a711544c 0x1a7114e48 0x1a7112a8c 0x1002deb6c 0x100073a88 0x100074868 0x1939027b0 0x193902730 0x1938ecbe4 0x19390201c 0x193901b44 0x1938fcd8c 0x1938cd858 0x1940bacb8 0x1940b4720 0x18da32278 0x18da31bc0 0x18da2f7c0 0x18d95e048 0x18f3e1198 0x193938628 0x193933360 0x100070d00 0x18c9405b8)\nlibc++abi.dylib: terminating with uncaught exception of type NSException\n(lldb) \n. Let me check the simulator \n. Yeah it works fine in the simulator \n. Yes it was. I was trying to figure out what specifically changed(other than the file naming, etc) between last commits that is causing it to throw the error, but to no avail. \n. okay thx\n. thanks @aure for the update. \n. looks like we're getting warmer! \n. Yeah Ive tried that method as well. and Im still getting the same node error. I tried installing and running without the lightning cable attached as well as a fresh install and running without the lightning cable\n. okay ill test from my end and update you.  I'm using 3.4.3. and I'm running the framework from a pod install\n. will do @aure I'll update you. Thanks\n. its been resolved in the development branch thanks 1\n. ",
    "samuelbeek": "Let me know if I can help @aure \n. ",
    "DebanjanChakrabortyCN": "I'm facing the same issue here. It works perfectly in simulator but crashes in iPhone. I'm using the latest code that is present in the git.\n. ",
    "doozMen": "I was on develop. Help and Quick fix is much appriciated!\n. ",
    "mkoorn": "Hi Aure,\nI have attached the file I am using. It is just a standard beat created in garageband and then exported to mp3.\nI have also tried some mp3's from my music library, while not crashing these still increases memory over 100mb.\nbeat 100bpm.mp3.zip\n. ok, will share a project later today.\nThanks!. Hi, I have created a test project.\nhttps://github.com/mkoorn/AudioKitTest\nI'm not able to reopen the issue myself.. Hi Aure, thanks for looking into this.\nI did some more testing. When running a debug session, the app crashes due to memory issues. When running without debug this mp3 loads and plays ok.\nI added a new test mp3, which is 11,5MB and 12 minutes long. Loading and playing this file crashes even when not attached to the debugger.\nI have no experience with audio programming, but I can imagine that having the complete uncompressed audio in memory lets you do more advanced processing on the audio in real time.\nIt would however be very useful to me to be able to play longer mp3's\nWould it be possible to have the option to either load the entire audio in memory and an option not pre-loading the whole file and, so to speak, stream the audio from disk?\nOne of the reasons I found AudioKit, is that it lets me change the speed of audio without affecting pitch.\nHopefully this feature could still be used when not loading the entire uncompressed audio data.\n. Yes, possible, I retested making sure this was not the case.\nI also tested the Song processor demo, with this file and ran into the same issue.\nI think the issue is due to 512MB memory of my iPad2. On my other devices (1024MB) I don't have this issue with the files tested.\nMostly songs played will be around 3 or 4 minutes. So these will be fine, but it leaves a vulnerability for older devices and larger songs.\nI guess newer devices would run into this issue as well, if the song is long enough.\nI would welcome the possibility to play larger songs without loading all uncompressed audio in memory, but I don't know if it would still be possible to use features like changing speed without pitch.\nAlso, I have no idea what the workload for such a feature is and how many users would even want it.\nAnyways,\nThanks for your time and effort checking this out.. I updated the test project with a test for AVAudioPlayer.\nusing this, I can play the file without any memory issue, but it's evidently not loading the total uncompressed audio into memory.. ",
    "scamhaji": "Thanks Aurelius, I'd like to participate and extend AudioKit if I can. Do you think dealing with kAudioUnitSubType_MultiChannelMixer or kAudioUnitSubType_MatrixMixer is the right direction?\nAnd last but not least, do I have to manipulate buffers to do the mix down (summing the samples or something like that)?. ",
    "lastcommit": "You can grab the zipped playground here: Issue639.playground.zip.\nI've noticed the crash is intermittent in the playground. If it loads fine right away, you may need to copy and paste the crashing block elsewhere in the file. Thanks for looking!\n. ",
    "magnus80a": "I tried with an Oscillator and get the same error. Works in simulator.\nprivate func play(note: Int) {\n    let waveform = AKTable(.sawtooth)\n    let oscillator = AKOscillator(waveform: waveform)\n    AudioKit.output = oscillator\n    AudioKit.start() // <-- Crashes here\n    oscillator.frequency = note.midiNoteToFrequency()\n    oscillator.play()\n  }. I'm using Cocoapods to install the framework.\n@aure  I get the crash on my first AudioKit.start() not my second so I don't think that's the cause.. @ryanschneider It seems my problem is definitely related to your problem. By making sure that the audio session category isn't AVAudioSessionCategoryRecord on playback; my app doesn't crash anymore. A big thank you! :). Thank you, that link made me realize that midi charts differ. The one I've been looking at had A4 at number 57: http://www.electronics.dit.ie/staff/tscarff/Music_technology/midi/midi_note_numbers_for_octaves.htm\nbut looking at this it starts at A0 with number 21: https://newt.phys.unsw.edu.au/jw/notes.html. ",
    "ryanschneider": "I'm getting very similar crash playing back an .aif file I recorded with an AVAudioFile from an AVAudioInputNode tap (I'm in the process of converting from raw AVFoundation -> AudioKit):\nswift\nguard let file = AKAudioFile(forReading: audioFileURL) else { return }\nprint(file, file.standard)\nlet player = try AKAudioPlayer(file: file)\nAudioKit.output = player\nAudioKit.start()\nplayer.play()\nI get this error:\n<AVAudioFormat 0x170285140:  1 ch,  44100 Hz, Int16> false\n[aurioc] 889: failed: -10851 (enable 2, outf< 2 ch,  44100 Hz, Float32, non-inter> inf< 2 ch,      0 Hz, Float32, non-inter>)\n2016-12-05 10:21:32.477861 TestApp[32451:18491098] [central] 54:   ERROR:    [0x16e517000] >avae> AVAudioEngineGraph.mm:2515: PerformCommand: error -10851\n2016-12-05 10:21:32.482728 TestApp[32451:18491098] *** Terminating app due to uncaught exception 'com.apple.coreaudio.avfaudio', reason: 'error -10851'\nThe file plays back just fine if, for example, I send it over to mac and use a standard app to play it back.\nIs it because the file isn't \"standard\"?  In my case, it's a mono file (I suspect AKOscillator and PluckedString are mono too).  \nI tried both:\nswift\nguard let file = try AKAudioFile(\n                forReading: self.filename,\n                commonFormat: .pcmFormatFloat32,\n                interleaved: false\n            ) else { return }\nAnd running the file through file.exportAsynchronously(name: \"test\", baseDir: .temp, exportFormat: .wav) {...} to get a \"standard\" file, but no luck. \nI'll try downgrading to 3.4 to see if the error still occurs.\nEdit: 3.4.3 behaves the same for me.. Also, FWIW, error -10851 is kAudioUnitErr_InvalidPropertyValue according to osstatus.com:\nhttps://www.osstatus.com/search/results?platform=all&framework=all&search=-10851. @magnus80a How are you integrating the AudioKit framework?  For me, I am using CocoaPods.  However, I just tried the HelloWorld example app that uses the build_frameworks.sh script to build AudioKit.framework, and that worked just fine on my device.  So, maybe it's a CocoaPods issue.\nMy current code base is deeply intertwined with CocoaPods, so I'll try to extract a stand-alone test app to see if I can repro the issue with and without CP installation.. Ok, I replaced the ViewController in the HelloWorld example with code that crashes for me in my app, and it played back just fine:\n```swift\nclass ViewController: UIViewController {\nvar player: AKAudioPlayer!\n\n@IBAction func toggleSound(_ sender: UIButton) {\n    self.test()\n}\n\nfunc test() {\n    do {\n        let file = try AKAudioFile(readFileName: \"rawMicrophone.aif\", baseDir: .resources)\n        self.player = try! AKAudioPlayer(file: file)\n\n        AudioKit.output = self.player\n\n        self.player.completionHandler = {\n            print(\"Done!\")\n        }\n\n        AudioKit.start()\n        self.player.play()\n    }\n    catch let exception {\n        print(exception)\n        fatalError(\"TODO: Remove this and handle errors correctly!\")\n    }\n}\n\n}\n```\nMy next step will be to convert HelloWorld over to using CocoaPods to see if I now get the crash.. Hmm, ok, well, I'm definitely at more of a loss now, as using the above view controller in a simple app where AudioKit is integrated via CocoaPods also works fine.\nI'll try pulling in some more of my AVFoundation code to see if that's what is causing my issue.  If I find something I'll probably create a new issue and refer to this one rather than hijack it further if it appears to be something different than Magnus' issue.. Ok, I found my issue, hopefully this helps Magnus as well.\nWhen I was recording, I was setting the category to the Record category, basically doing something equivalent to:\nswift\ntry! AVAudioSession.sharedInstance().setCategory(AVAudioSessionCategoryRecord)\n(But not using a try!).  Now when I go to play I get the -10851 error since the current category isn't compatible with playback.  So, it'd be great if AudioKit detected this by checking the category before starting playback, and either threw a Swift style error or other better error handling than an NSException, but at least in my case it's now really AudioKit's fault. :). Glad it helped. :). -10851 seems to be Core Audio's catch all \"something is\nwrong\" error code, I've hit it in several different scenarios today trying\nto convert my code over to AudioKit.\nOn Tue, Dec 6, 2016 at 1:03 PM Magnus Olsson notifications@github.com\nwrote:\n\n@ryanschneider https://github.com/ryanschneider It seems my problem is\ndefinitely related to your problem. By making sure that the aduio session\ncategory isn't AVAudioSessionCategoryRecord on playback; my app doesn't\ncrash anymore. A big thank you! :)\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\nhttps://github.com/audiokit/AudioKit/issues/643#issuecomment-265271533,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AADRECNbiSD8DpSsfxg9-SEQx7ovmfMcks5rFc29gaJpZM4LDjY-\n.\n. \n",
    "dylan": "I would recommend checking out: https://developer.apple.com/library/content/documentation/Audio/Conceptual/AudioSessionProgrammingGuide/AudioSessionBasics/AudioSessionBasics.html#//apple_ref/doc/uid/TP40007875-CH3-SW5, it may help you sort out the best path to take.. ",
    "Joebayld": "Tried both an Application and a playground. My Apogee Duet shows up, but not the MOTU. \nAlso, is there any documentation that explains how to use a specific input on the interface. i.e. the Duet has two inputs, is it possible to specify only input one?\nI really like the framework and hope I can use it in the future! . After digging into the source, I found where the problem is. I'm getting a NSLog error saying:\nError: Failed to get frame size ('!siz')\nEZAudio is not finding the number of inputs and outputs for the interface in the calls: \n```\ndevice.inputChannelCount = [self channelCountForScope:kAudioObjectPropertyScopeInput forDeviceID:deviceID];\ndevice.outputChannelCount = [self channelCountForScope:kAudioObjectPropertyScopeOutput forDeviceID:deviceID];\n```\nI think part of the issue is that the interface has multiple streams. See attached screenshot from another app that lists the interface input streams. I don't think AudioKit accounts for interfaces like this (thus the error). To my understanding, it currently supports a single stream interface. Which brings me back to my original question - how would you specify a specific channel on a interface? On the AKMicrophone class, you can set a device as the source, but in my scenario, that device has up to 24 individual inputs. Is this possible?\n. @aure I've submitted a pull request to EZAudio to fix the issue of it not showing the interface. It all seems good now. Now we just need to figure out how to work with multi-channel interfaces. \nI feel like it would be nice to have a channel variable on the AKMicrophone. And then maybe a channelL and channelL on the stereo input. That way, if I have a 24ch interface, I can have multiple instances of the AKMicrophone referring to different inputs. I'm willing to help make this possible. Thoughts? The only other struggle will be making sure that it works with interfaces that have multiple streams. I'll dive into the CoreAudio SDK and figure out how that works. \nThanks. Added a pull request for AudioKit. Working on a channeling solution for inputs now. \n653 . Unfortunately I've not had much luck with this. Each AKMicrophone instance has a AVAudioMixerNode. I'm trying to determine what channels of the AudioKit.engine get to each mixer, but there's not a lot of documentation. Do you have any insight on this?\nThe perfect example of what I want to do is a 2ch audio interface and 2 AKMicrophones. Each microphone gets their own input. \nThanks for everything thus far. If you can help get this in the right direction, I can put more time into it.  . Should this have gone to the Develop branch? My apologies if it's incorrect. It's my first pull request! . To add to all this... I had a post about 6 months ago but was using a Motu interface that had many multi-channel inputs. It has to do with detecting all the audio recording/playback streams. This app I found will display all the available inputs/outputs. perhaps it will also be helpful in adding this feature. \nhttps://github.com/rnine/AMCoreAudio\nlet me know how I can help.. No problem. Also, I was thinking because the AudioKit.inputDevice is a singleton, maybe we make another input class that is like a 'AKLineInput' and has a variable that lets you determine what channel to listen to, and maybe a mono/stereo option.\nJust thinking over it.. ",
    "appsforall": "Hey Aurelius!\nHope you are doing good! Any progress on the offline rendering feature?\nLooking forward to start using it! Anything I can do on my end to help or\nto make it work?\nRegards,\nWim\n2016-12-15 3:47 GMT+01:00 Aurelius Prochazka notifications@github.com:\n\nThis is a known upgrade to AudioKit. http://audiokit.io/wip/ It's not\nreally an issue per se, but a feature.\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/audiokit/AudioKit/issues/660#issuecomment-267224026,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AENQsEENlgTbK2DgfXHQ-aGCW6Wo8RW0ks5rIKpXgaJpZM4LNBHU\n.\n. Thanks!!!\n\nVerstuurd vanaf mijn iPhone\n\nOp 22 apr. 2017 om 09:57 heeft Aurelius Prochazka notifications@github.com het volgende geschreven:\nNot much progress that I know of but I will check with some of the people who were looking into it.\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub, or mute the thread.\n. \n",
    "daviddelmonte": "Thanks Aure, that was it. I have a follow on question, but I changed it to a new issue.. Thanks Aure. I recompiled the framework, and all is well.. Hi all, I've just encountered this issue with  a slight variation: SetOutputFormat: (format.sampleRate == hwFormat.sampleRate).\nI'm using AK 4.5.1. Any suggestions for me to fix?\nMany thanks. Can someone please help Aure. My project is written in Swift 4.2 and I cant use AK 4.2.2.. @aure I'd be happy to send you my project. Where shall I send it? . ",
    "percysnoodle": "Sorry for the late reply - I couldn't test until I got back after the holidays. The develop version of the script has fixed it - thanks!. ",
    "geoffsdavis": "Thank you!. ",
    "kowongh": "Hey Aure, I just ran the SamplerDemo. Thanks!. I've confirmed it happens in both the simulator and on a device in both my project and the SamplerDemo\nI also see multiple leaks for AVAudioFormat that I've experienced in my own project and SamplerDemo\n\n. The weird thing was in the initial stack trace, it did seem to call sp_destroy when I was deiniting the class that held the units and it was freeing up the memory... But the fact that there are two audio units being created makes sense...\nIs this the line?\n\n    AVAudioUnit.instantiate(with: _Self.ComponentDescription, options: []) {\n        avAudioUnit, error in\n\n        guard let avAudioUnitEffect = avAudioUnit else { return }\n\n        self.avAudioNode = avAudioUnitEffect\n        self.internalAU = avAudioUnitEffect.auAudioUnit as? AKAudioUnitType\n\n        AudioKit.engine.attach(self.avAudioNode)\n        input.addConnectionPoint(self)\n    }. I'm also using a lot of effects nodes so this adds up to hundreds of leaks and confirm the leak with AKAmplitudeEnvelope. Ryan and I are up for the challenge, but no guarantees :P\n\n\nI'm not that versed with C as much as ObjC or Swift, but I'd love to try to contribute to this amazing project.\nWhat are the two audio units being initialized? Are you saying that AVAudioUnit and AVAudioNode are the two AudioUnits? I'm not seeing where the two audio units are being created...\n\n    self.avAudioNode = avAudioUnitEffect\n    self.internalAU = avAudioUnitEffect.auAudioUnit as? AKAudioUnitType\n\n\nOr are you saying that the dsp _kernel is the second audio unit? \nInside the .mm files for AUAudioUnit subclass there is\n```\n- (instancetype)initWithComponentDescription:(AudioComponentDescription)componentDescription\n                                     options:(AudioComponentInstantiationOptions)options\n                                       error:(NSError **)outError {\n    self = [super initWithComponentDescription:componentDescription options:options error:outError];\nif (self == nil) {\n    return nil;\n}\n\n// Initialize a default format for the busses.\nAVAudioFormat *defaultFormat = [[AVAudioFormat alloc] initStandardFormatWithSampleRate:AKSettings.sampleRate\n                                                                              channels:AKSettings.numberOfChannels];\n\n// Create a DSP kernel to handle the signal processing.\n_kernel.init(defaultFormat.channelCount, defaultFormat.sampleRate);\n\n```\nis the _kernel the second \"AudioUnit\"? This would make sense because AVAudioFormat seems to be leaking consistently on that line.\n. ",
    "allanweir": "Hi Aure,\nSure. I've just tried in the Audio Player playground and I get a broken sound stuck on repeat after I try to resume playback.\nIf you add the following code to the Playback > Audio Player playground you should hear the same thing when you press the toggle pause button\naddSubview(AKButton(title: \"Toggle Pause\") {\n            if player.isPlaying {\n                player.pause()\n                return \"Paused\"\n            } else {\n                player.play()\n                return \"Resumed\"\n        }}). I've just had a play around some more. So when AKAudioPlayer has looping set to true, I get a glitchy sound on repeat. If looping is set to false then the track immediately finishes when I try to resume. Hey, yeah sorry that was my fault for doing it initially to the wrong branch.. Hey, so my memory leak wasn't with the AK classes but the AV ones that they created. Xcode Instruments would have no references to any AudioKit classes any more but it was still holding on to AVAudio ones, and the AKSequencer was deallocated but the MusicSequence and MusicTrack instances weren't. Are you seeing the same thing from AKAudioPlayer?. ",
    "ipotok": "Indeed, it works !\nBut still, I think I should be able to use them both on the same audio node :). Yes, I will, thank you for your valuable time :)\n. ",
    "seyhunak": "@aure Thanks, I did checked issue #639 but looks like file must be download at first in order to open forReading with AKAudioFile (AVAudioFile)\nIf I download audio file from network at first it working and also file is not corrupted. \nSo, I was trying to do without download, trying streaming actually.\n. ",
    "curtdissel": "Thanks for the replies you two.  @laurentVeliscek I currently record as m4a or .mp4 and then convert to .wav to pipe the resulting file into a program that expects .wav. The only reason i chose the .mp4 is because I get various issues relating to the format settings whenever I try anything else. I thought Apple made if difficult to produce .wav files with their api. @aure  Thanks for taking the time to port the iOS microphone project to an OS X cocoa project.  On a side note, if i wanted to detect whether someone was speaking, would i check the frequency value or something else to do the comparison? I desire to stop recording once no sound is detected for 2 or 3 seconds. Thanks all.. Hi @laurentVeliscek Could you provide me with the sample AKAudioFile that you used? I am mainly interested in the settings parameter. I tried various parameters for settings and they usually ended with the program crashing or corrupt wave files. I think on iOS you don't have to set the settings parameter which makes life a lot easier. Thanks for sharing the AKAmplitudetracker\ntry audioFile = AKAudioFile(forWriting: URL(fileURLWithPath: \"\\(NSHomeDirectory())/Documents/test.m4a\"), settings: AKSettings.audioFormat.settings)\n. ",
    "kharmabum": "I'm not so sure. I mean AFAIK the iPhone 7 only has one set of speakers. Could this possibly be related to AKSettings.setSession(category: .playAndRecord, with: .defaultToSpeaker)?\nI just posted a topic to the Google Group with more information and a link to an example project exhibiting the behavior (along with other wonkiness).. @aure ah yes indeed it is coming out of the earpiece. . ",
    "berkankisaoglu": "Didn't help. Have you been able to reproduce or just going instinctively?  . Sure thing, give me a sec. ",
    "tomw": "I have this too, in my own project and in that example. I can't seem to record and export, which is a pretty fundamental problem. Any workarounds until this is fixed?. I still get the same error after adding some code similar to that. It must be something wrong with the input in some way.... That looks like it's just copying the file, which I don't think would help with this error. I'm wondering if there's something wrong with the way the .caf file is created @aure . @aure, the usual export function appears to work fine with doing the following to create the audio file (with a .caf extension):\nlet format = AVAudioFormat(commonFormat: .pcmFormatFloat32, sampleRate: 44100, channels: 2, interleaved: false)\nlet audioFile = try AKAudioFile(forWriting: recordingUrl, settings: format.settings)\nNone of the copying or using AVAssetExportSession directly is needed in that case. Although I appear to have no effects in my recording, but I suspect that's a different problem.. @CharlesSieg Line 390 is correct in Swift 3. The NS has been dropped (e.g. you have FileManager not NSFileManager in your code)\nYeah that code looks like it should work. I did something similar and got a different error, but I'll try again at some point. For now it's recording fine anyway with my other change, but I'm stuck with #749.. I think one of the solutions does need building in to AudioKit. The sample project for recording from the microphone doesn't work as is.. @aure There you go, hopefully that'll be ok. @aure Ok. Is it something you need an in-depth knowledge of the framework for? I might be able to spend some time on it, if it's something that can be built with a few pointers in the right direction. I could do with it fairly soon which is why I'm asking (or any temporary workarounds you might have).. @aure Cool I'll take a look at the tests. Thanks for leaving this open.. @namitgupta15 Not yet I'm afraid, I'm feeling like it's best to leave @aure to this as it doesn't sound like a minor change. Worth looking at the tests he suggests though.. ",
    "masaldana2": "I used AVAssetExportSession and make my own converter.\nits easy couple lines.. yes, im sorry im still a noob getting around github\nhere\n`  \nfunc convertAudiotoM4A(name:String, cafURL: URL) -> URL{\n        let url         = NSURL.fileURL(withPath: cafURL.absoluteString)\n    let audioURL = AVURLAsset(url: url)\n\n\n    let exported = AVAssetExportSession(asset: audioURL, presetName: AVAssetExportPresetAppleM4A)\n    exported?.outputFileType = AVFileTypeAppleM4A\n\n    let cacheDir = NSTemporaryDirectory()\n    let filePath:String = cacheDir + name + \".m4a\"\n    print(filePath)\n\n    //delete prev recording m4a if there's already one\n    let fileManager = FileManager.default\n    do{\n        try? fileManager.removeItem(atPath: filePath)\n    }catch{\n        print(\"couldnt delete old caf\")\n    }\n\n\n    exported?.outputURL = NSURL(fileURLWithPath: filePath) as URL\n\n    exported?.exportAsynchronously(completionHandler: {\n\n        if exported?.error != nil{\n            print(exported?.error)\n        }else{\n            print(\"success creating m4a\")\n\n\n\n        }\n\n\n    })\n   return NSURL(fileURLWithPath: filePath) as URL\n}\n\n`. i did this before calling the func \n`\n    var fileURL:URL = (self.conductor.recorder.audioFile?.url)!\n\n    //rename file http://www.techotopia.com/index.php/Working_with_Files_in_Swift_on_iOS_8\n    let filemgr = FileManager.default\n    var fileNewURL = String(describing: fileURL.deletingLastPathComponent()).appending((recordingName?.text)! + \".caf\")\n\n    //clear prev file\n    let fileManager = FileManager.default\n    do{\n        try? fileManager.removeItem(atPath: fileNewURL)\n    }catch{\n        print(\"couldnt delete old caf\")\n    }\n\n    do {\n        try filemgr.copyItem(atPath: fileURL.absoluteString, toPath: fileNewURL)\n        print(\"Copy successful\")\n    } catch let error {\n        print(\"Error: \\(error.localizedDescription)\")\n\n`. ",
    "CharlesSieg": "I had the same issue as @masaldana2 above. Typical non-helpful error message from AVFoundation, specifically the -12936 code.\nHis solution is correct also. Line 390 of AKAudioFile+ProcessingAsynchronously.swift:\ninternalExportSession.outputURL = URL(fileURLWithPath: filePath)\nshould probably be replaced with\ninternalExportSession.outputURL = NSURL(fileURLWithPath: filePath) as URL\nThis issue is reproducible In the Recorder demo. This export call below will generate the error with -12396 code:\nplayer?.audioFile.exportAsynchronously(name: \"TempTestFile.m4a\", baseDir: .documents, exportFormat: .m4a) {_, error in\n                    if error != nil {\n                        print(\"Export Failed \\(error)\")\n                    } else {\n                        print(\"Export succeeded\")\n                    }\nThis can be fixed without modifying the AudioKit code directly by calling the function @masaldana2  designed above. See attached file.\nconvertAudioToM4A.txt\n. ",
    "EriFisher": "For me the code didn't work in the recorder example and I got the same error, but I just replaced it with this......... Mozel Tov!\n```\nlet fileName = player?.audioFile.url.lastPathComponent\n            do {\n\n                let nonExistentFile = try AKAudioFile(readFileName: fileName!,\n\n                                                      baseDir: .temp)\n\n                try  nonExistentFile.exportAsynchronously(name: \"exported.m4a\", baseDir: .documents, exportFormat: .m4a) { exportedFile, error in\n\n                    print(\"myExportCallBack has been triggered. It means that export ended\")\n\n                    if error == nil {\n\n                        print(\"Export succeeded\")\n\n                    }\n\n                    else {\n\n                        print(\"Export failed\\(error)\")\n\n                    }\n\n\n\n                }\n\n            } catch let error as NSError {\n\n                print(\"There's an error: \\(error)\")\n\n            }\n\n```. Hi Aure,\nFor me that worked on the simulator, but not when I deployed it unfortunately. . I got it to work on the example code though. I think you can still close this case. I probably need to mess with my own code. . ",
    "justbane": "Hi, sorry - I meant the AKOperation.metronome\nIn essence I am trying to build a simple metronome... but find the AKOperationGenerator to not be a loop - therefore I can not check for count not can I change tones on certain beats, etc.. @aure I can share the repo with you via bit bucket. What is your identity on bitbucket? Or maybe send me your email?. Agreed. I pulled the update and am no longer seeing the issue - Thanks, Aure!. ",
    "btc": "I found this comment that explains that the binary framework does support iOS 9. Sorry for the issue.\nhttps://github.com/audiokit/AudioKit/issues/570#issuecomment-251782546. ",
    "isaacengel": "Glad to help!. Well, I got a couple more for you. I hope this helps!\nIn the first one, parameters that I set: G=-20dB, f0=2kHz, Q=8.\nI would expect cutoff frequencies in: f1=1878.902Hz, f2=2128.902Hz (bandwidth = 250 Hz).\nResults I get (see image): G=-20dB, f0=2kHz, f1=1150Hz, f2=3482Hz.\nThat is bandwidth=2332Hz and Q=0.858.\n\nSecond one, parameters I set: G=-20dB, f0=2kHz, Q=12.\nExpecting BW=166.667Hz, f1=1918.402Hz, f2=2085.069Hz.\nResults I get (see image): G=-20dB, f0=2kHz, f1=1459Hz, f2=2722Hz.\nThat is bandwidth=1263Hz and Q=1.584\n\n. I agree that patching it by scaling the Q is not the cleanest solution. I don't think we can even tell if the variation in Q is exactly linear.\nI have not tried the band pass one, but in the case of the parametric EQ filter, I wouldn't miss it if you ditched it, knowing that other options like AKEqualizerFilter have the exact same purpose and work just right. I don't speak for other AudioKit users, though! . 3.5.3 is working for me too. Thank you!. ",
    "holeg": "The included microphone analysis project does not work on my iPhone 7+ I used newest code from GIT.\nWhen starting the App I was asked for mic permission, which I allowed. But then same happens as with my Objective C App. No amplitude or frequency is shown.\nSame thing on my iPad Pro 12.9 inch. But it works on simulator!\nI also tried it with the ear pods and other external mic. Same result.\nBut the App \"Partita\" (Downloaded from AppStore), which is based on AudioKit works perfectly.\n. ",
    "maznoum": "I tried yesterday with the 3.5.2 release on on iPhone SE and an iPad mini 2 with the same results as holeg: no sound received on the devices and works on the simulator.\n. I just tried the Microphone Analysis app on 3.5.1 and it works on the device. \n. ",
    "aaronhillier123": "I got the same result as they did on 3.5.2. ",
    "crashingbooth": "Hi, I've never contributed before, but I came across this issue and realized I have an almost ready-made multi-touch solution. I made a little keyboard similar to AKKeyboardView with mono/poly modes a few months back.  I think it would be almost trivial to just insert my touch logic (with minor changes) into AKKeyboard.\nIf work has already started on this, then never mind.  But if it would help, I could do this shortly.\nJeff. Actually, I already added my logic to AKKeyboard.  I just want to play around with it a bit to make sure it works as it should.\nMy old keyboard is also a simple vector based layout (and definitely nothing to write home about). It's only features that AKKeyboardView lacks, besides multi-touch, are that it can start on any white note, and you can specify how many keys you want.  Also, I layed out the C#, D#, F#, and A# keys asymmetrically between their neighbours (I measured and copied the distribution from my old keyboard) so it looks a little less boxy and more piano-ish.\nBut having a bit-mappable keyboard might be handy, something slicker that people might use outside of playgrounds.  I'll submit what I have, but maybe keep playing with it.. I've written some code that will add tracks from a new MIDI file onto the existing sequencer (i.e., Sequencer nicely layers each new midi-file on top of existing). It seems to work and seems like a useful thing to be able to do.\nBut I'm not at all sure that it is the expected default behaviour of loadMIDIFile.\nOn the other hand, maybe it is reasonable to expect that a client app should make a new AKSequencer if they want to use an entirely different MIDI file, since the two files might have different numbers of tracks etc.. FWIW, I can recall having problems getting AKSequencer to loop at one point when the call to .play()  followed immediately after AudioKit.start().  When I could space them out, either by doing the .play() call in an IBAction, or even using a timer to delay it, it looped as expected.  Now I always keep some space between the two method calls.. I just posted this to the related SO question, where it's more likely to be seen.. @SebastianBoldt, AKSequencer (and Apple's MusicSequence that it is based on) definitely loops, although admittedly it has a few quirks.  If you post your code to StackOverflow, or a link to your project, or (ideally) a link to a minimal project in which AKSequencer is not looping as expected, I'd be happy to take a look at it and see if I can help out.. I think I already am - I just haven't checked in since first joining a year or so ago.. PR to master. Okay I will go in and update the example project now (I added default arguments that I need to include in the protocol I used in the project)\n. I'm on it\n. I thought that I did: https://github.com/AudioKit/AudioKit/pull/1372/commits/5453bc4ea3e3c82504805275b2818cd020b6d8e1. I think I see what you mean\n. I might be misunderstanding something, but are you sure that you can't use AKCallbackInstrument to do something like this?. This would be a breaking change. As it is, currentRelativePosition tells you that if you have an 8 bar sequence, and your current position is 32.5, you are effectively at beat 0.5.  I can see how getting a value between 0 and 1 might be useful, but perhaps it should be a separate method entirely to avoid breaking current code.. This was addressed a few months back. The docs for .tempo note: \n\n/// NB: It looks at the currentPosition back in time for the last tempo event.\n/// If the sequence is not started, it returns default 120\n\nIf you want to guarantee that you have the correct tempo regardless of whether playback has started, use getTempo(at position: MusicTimeStamp) -> Double with the current position.\nWe could possibly use getTempo(at position: currentPosition.beats) as the default implementation for .tempo to avoid this confusion in the future.. Initializing MIDI isn't an error message - it's just a log statement that gets printed to console when AKMIDI is initialized.  Whatever problem you're having is unrelated to that.  You might want to try posting to StackOverflow for help with the sound.. ",
    "dennisvennink": "-/+ 10 octaves is perfect!\nDo you want me to work on it and send in a pull request?. Why are we clamping in the first place?. @aure Hopefully I'll have a pull request ready within the hour.. @aure Removed the changes to the playgrounds. \ud83d\udc4d. ",
    "adamdahan": "@oliviernicki\n\nDownload the master branch as a zip\nIn this repo under frameworks/INSTALL.md follow the compile from source instructions\nGo to build settings and type in bitcode\nSet enable bitcode to NO\n\nThen archive and voila! \nLet me know if you need further help - best.\n. @oliviernicki using cocoapods or simply embedding as framework will not work to submit to iTunes even if you add the run script build phase they suggest. So specifically dont follow step 1 or 2 in INSTALL.md.. ",
    "jconst": "I get exactly the same issue, but only on an actual device (my iPhone 6S). It works fine in the simulator.\nHere's my log, if it helps (pretty much identical except for some identifiers/addresses):\ncleanTempDirectory() 0 files deleted\nsetSession(category:with:) Error: Error Domain=NSOSStatusErrorDomain Code=-50 \"(null)\" Cannot set AVAudioSession Category to AVAudioSessionCategoryPlayback with options:AVAudioSessionCategoryOptions(rawValue: 8)\nErrored setting category.\ninitialize() AKAudioPlayer Warning:  \"9F351F97-525E-4CB9-9740-C30CB0692217.caf\" is an empty file\n2017-02-07 17:52:33.507757 RecorderDemo[524:100905] [mcmx] 337: input bus 0 sample rate is 0\n2017-02-07 17:52:33.508450 RecorderDemo[524:100905] [central] 54:   ERROR:    [0x1b102dc40] >avae> AVAudioEngineGraph.mm:2515: PerformCommand: error -10875\n2017-02-07 17:52:33.508811 RecorderDemo[524:100905] *** Terminating app due to uncaught exception 'com.apple.coreaudio.avfaudio', reason: 'error -10875'\n*** First throw call stack:\n(0x18b7611b8 0x18a19855c 0x18b76108c 0x1a526d300 0x1a5280b3c 0x1a528a688 0x1a527d7fc 0x1a527d684 0x1a527d774 0x1a527e868 0x1a5281a54 0x1a52ef02c 0x1a52ee3d0 0x1002c4f30 0x100076e48 0x1000771dc 0x191616924 0x1916164ec 0x19161cc98 0x19161a138 0x19168c68c 0x191898cb8 0x19189e808 0x1918b3104 0x19189b7ec 0x18d33792c 0x18d337798 0x18d337b40 0x18b70eb5c 0x18b70e4a4 0x18b70c0a4 0x18b63a2b8 0x1916817b0 0x19167c534 0x100074b88 0x18a61d5b8)\nlibc++abi.dylib: terminating with uncaught exception of type NSException\nI've poked around with some stuff and there doesn't seem to be any workaround. Removing the setSession avoids the error, but even something as simple as this always produces completely silent output (but works perfectly in the simulator):\nlet mic = AKMicrophone()\nAudioKit.output = mic\nAudioKit.start()\nIs there a good way to get a test app running against the source (not a compiled framework) so I could look into this? The examples/playgrounds all seem to depend on the compiled framework, which isn't helpful for debugging.. Thanks! Upgrading to 3.5.3 solved the issue for me. (The signal is pretty quiet on the device though, which is totally fine, but anyone checking if the mic's working should just make sure to turn their volume up.). Thanks, I actually got it working, so no need for a screenshare. It looks like your call on the framework search paths was right, because checking the \"Copy items if needed\" box when importing the framework solved the issue.\nShouldn't the docs / video / something on audiokit.io/downloads mention this, though, so other people don't have the same issue? I was just following the video exactly so I would guess it might be a common problem.. Ah, that happened to me a couple times and I assumed it was just some quirk with Xcode for me. I'm on 8.2.1, not on beta, but I could always get past it by (as dumb as this sounds), opening throttleUgen.swift, cutting out the import AudioKit line, trying to run the playground, then pasting it back in the same spot and running it again. (I read this somewhere on Stack Overflow.)\nAs for a permanent fix, I'll see if I can come up with something \u2013 but if the worst case scenario is just leaving out the playground page to merge in later when they finally fix Xcode, that would be fine with me.. Oh, and you know what, I forgot to actually organize the new files the same way they're organized in the Xcode project, so I'll do that (right now a lot of them are just in the AKOperationEffect folder). I'm not sure why Travis is unable to find AKSporthStack.h though.. Glad you're interested in these changes! It wasn't actually that hard, I was just poking around in your examples and found this, which I followed to get most of this set up. The only thing that I'm surprised I found (almost accidentally) was plumber_recompile_string_v2, which turned out to be crucial for getting this to work with AKOperationGenerator.. I just now got around to checking if the issue is resolved and I'm not seeing the crash anymore! In fact AudioBus integration seems to be working quite seamlessly now. Thanks for looking into this.. Hmm, I may have spoken too soon; it looks like the crash is still happening in certain cases. I'll look into it some more and reopen the issue if necessary.. Okay, I think you were onto something when you mentioned stereo vs mono. The crash seems to only occur when I don't have headphones plugged in on startup, and it even crashes immediately if I start it up with headphones and then pull them out.\nSo, most likely, nothing has actually changed in Audiobus/AudioKit since I opened the issue; I just thought it was working because I had headphones plugged in.\nI checked the Audiobus forums and it seems that another AudioKit user is having the exact same problem. All stereo devices / outputs work, but mono triggers the same crash: https://heroes.audiob.us/discussion/620/iphone-speaker-crash/p1\nSo maybe AudioKit isn't handling mono outputs correctly with respect to what Audiobus expects? However, in this link (not using AudioKit, just AVAudioEngine), they get a similar crash, but the fixes listed have nothing to do with the audio channels:\nhttps://forums.developer.apple.com/thread/65656\n\nSo, I've been looking around in the code, and this seems like it might be relevant? Audiobus.swift:48:\nswift\nvar audioUnit: AudioUnit {\n    return AudioKit.engine.outputNode.audioUnit!\n}\nThis is the audio unit passed into ABFilterPort's initializer. If you look at AVAudioEngine.h for the outputNode property, there's this:\n```swift\n/*! @property outputNode\n  @abstract\n    The engine's singleton output node.\n  @discussion\n    Audio output is performed via an output node. The engine creates a singleton on demand when\n    this property is first accessed. Connect another node to the input of the output node, or obtain\n    a mixer that is connected there by default, using the \"mainMixerNode\" property.\nThe AVAudioSesssion category and/or availability of hardware determine whether an app can\nperform output. Check the output format of output node (i.e. hardware format) for non-zero\nsample rate and channel count to see if output is enabled.\n\n*/\nopen var outputNode: AVAudioOutputNode { get }\n``` \nThe last paragraph mentions the node's hardware format, which seems relevant to the GetHWFormat crash. Perhaps the audio unit being passed to Audiobus is ill-formed somehow? Or the AudioKit channel count isn't in sync with the AVAudioEngine's channel count?\nI'm curious about any thoughts you might have on possible causes or things to try next. If there's a way I can run my app against the AudioKit source, instead of the compiled framework, let me know. That would be helpful so I can tweak the code in place.\n(Btw: apparently I can't reopen my issue if someone else closes it, so feel free to reopen this since the issue is still occurring.). I've been trying to dig into this a bit more, not much progress but I did notice the crash only seems to occur when the \"System Audio Output\" node is added downstream of my app in Audiobus. Up until that point, even with the input hooked up or other effects apps downstream, it works as expected. It also crashes if I add the output, then add my app.\nGiven what I mentioned about mono/stereo, I tried setting AKSettings.numberOfChannels to 1, but this didn't seem to affect anything.\nWhen I get the time I'll try this again with the FilterEffects example app. Even if the behavior is the same it should help isolate the issue. @aure is there a way to build an app against the AudioKit source instead of the compiled framework? It would help to be able to step through the code, tweak things, etc.. I tested again with FilterEffects and got the same behavior, including the crash when you unplug headphones. I dug around the Audiobus forums a bit more and there are a couple other threads describing the same issue:\nhttps://heroes.audiob.us/discussion/445/ios8-avaudioengine-integration-issue-with-audiobus/p1\nhttps://heroes.audiob.us/discussion/635/change-in-channel-processing-in-last-couple-of-weeks/p1\nSeems like a lot of people are having this issue. The first link does suggest that the problem lies in using engine.outputNode.audioUnit directly (which AudioKit's Audiobus.swift does), but it looks like the workaround doesn't work for anyone either. This seems like a likely enough cause, but if there's no actual workaround I think I'll just live with the bug for now and hope that Audiobus 3 SDK fixes this.\nAlso, probably worth noting that I tested using just IAA (no Audiobus app) through GarageBand, and I had all the same issues. I'm still using the Audiobus SDK to publish, though, so idk if this actually narrows anything down.. Some updates: Since the Audiobus 3 SDK is out, I updated to the Audiobus 3 app and SDK, but unfortunately this didn't solve the issue.\n@michaeltyson good idea; I tried that out and am still getting the same error in the same situations. I modified Audiobus.swift to remove the Audiobus stuff and publish using AudioOutputUnitPublish directly, so it looks like this (the publish is on line 67). Then I hooked it up to GarageBand, and it works until I unplug the headphones, causing my app to crash with the hwformat error. So it looks like it's not specifically an Audiobus issue, but with IAA in general.\nI also tried publishing AudioKit.engine.inputNode.audioUnit instead of the outputNode, but the crash still occurred. And, on my iPhone 6s, it doesn't make a difference whether the lighting cable to the computer is plugged into the phone.\nI think I'm going to try some of the Apple sample apps next and see if they have this issue (I'm assuming they won't). Then I can try to work from there and pinpoint the difference that's causing the crashes.. Yes, sorry, I should have updated this a while ago. The sample apps did not have this issue, because the IAA sample app (apps? can't remember) used Audio Units directly \u2013 It looks like the problem is simply caused by trying to use AVAudioEngine and Inter-App Audio together in any way on a mono device. I rewrote my app's core processing code to use Audio Units directly instead of AVAudioEngine and haven't had this issue since. (I've found that it's still safe to use AVAudioSession for simple things like setCategory(), overrideOutputAudioPort(), setPreferredSampleRate(), etc.)\nThis, of course, is slightly scary news because it looks like the remaining solutions are: replace a big chunk of AudioKit with much uglier code, hope Apple fixes the bug, or find some other workaround, which might not exist.\nAgain, I could be wrong, but what I do know is that replacing AudioKit with a Remote IO Audio Unit with a custom render callback solved the problem. To make a change this big took about a week for my app, though, so it's not a very satisfying solution.. You know, I was sure I had seen an openradar link in one of the threads I was looking at but now I can't find it, so maybe it hasn't been filed.. @wtholliday I haven't had time to test out your project, so I'm not sure what exact issues you're running into, but have you tried using the modified version of Audiobus.swift I linked a few posts ago? The comments should be cleaned out of course but it reproduced the error without having any dependencies on AudioKit or Audiobus.. ",
    "namitgupta15": "@tomw Any progress on this? I too need this feature for my project. Please let me know.. ",
    "HlebnikovIce": "How to join in your Slack.  I too need this feature for my project. ",
    "NasrullahKhan": "Also i need this feature for my project, i also want to join slack.. It will be good if you share demo project with recorded voice + reverb effect and then save the filtered file and then share it.. Hi. Thanks for your response, it worked. Currently i again need your help. i have to add echo effect. in swift i tested few codes we use this to add echo\n    let echoNode = AVAudioUnitDistortion()\n    echoNode.loadFactoryPreset(.multiEcho1)\n\nbut how we can add echo in our audiokit?. ",
    "mike-normal13": "First off, Thank you for AudioKit Aure! I would never have figured out audio fades without it! \nI'm writing a Sampler App for iOS using AVFoundation. Without boring you with too much detail, various audio route changes require me to make adjustments to my sound graph, e.g. sound coming out of my phone's Speaker is mono, while sound coming out of my headphone jack is stereo. A scenario of switching mixer nodes from mono to stereo format requires me to restart my AVAudioEngine member. \nMuch like plugging in headphones triggers my AVAudioSessionRouteChange observer, so does an incoming phone call. The problem is that if you call start() on you\u2019re engine while a call is waiting to be answered or dismissed then you get the AVAudioSessionErrorInsufficientPriority exception. \nThe way I am currently handling this is that if I nab AVAudioSession.sharedInstance().currentRoute in my handleAduioRouteChange(notification: Notification) method while a phone call is waiting to be answered or declined, the current route will have 0 outputs. So if my current route has 0 outputs I just return, without disconnecting and reconnecting my audio graph and then finally calling start() on my engine. This is a bit of a hack, but my app is no longer crashing. It works for now.\nAttached Line 293.\nThanks Again! If I ever figure out on the spot fades, I will show the world.\nMaserSoundMod.txt\n. Unfortunately, with my 6s, my above offered solution only works if the phone is in silent mode while the phone receives the call. I'm still grinding.. ",
    "NadirBertolasi": "Thankyou Aure for the answer.\nI'm using AKParametricEQ, which make use of AUParametricEQ native filter. I don't think a band pass filter is involved in this kind of processing... Please help me, this problem is really frustrating\nThanks\n. Thank you for the answer,\nWell I will try to handle the lifecycle in a singleton class, hope  it solves. Also interesting the Apple's ParametricEQ, I will look for another way.\nThank you for the support\n. Hi Dorian, the problem is an iOS bug which is still open. You can find here a work around I adopted:\nhttp://stackoverflow.com/questions/42470848/coreaudio-crash-avaudioionodeimpl-mm365-gethwformat-required-condition-is\nHope it helps. ",
    "doriansgithub": "This is happening to us, but ONLY in the device.  It runs properly in the simulator.  Any ideas how that is possible?. Nadir, were you able to solve it with the singleton?. Thanks, checking it out now.. It worked like a charm!  All my three different views work without crashing!  You dMan!  Thanks!!!. I know you\u2019re busy, but although it\u2019s no longer crashing, we are not getting audio out.  Can you glance at this real quick and give me a clue? \nThanks!\nDorian\n\nOn Apr 28, 2017, at 4:53 PM, Aurelius Prochazka notifications@github.com wrote:\nClosed #869 https://github.com/audiokit/AudioKit/issues/869.\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub https://github.com/audiokit/AudioKit/issues/869#event-1062957322, or mute the thread https://github.com/notifications/unsubscribe-auth/AFc2kPaUHRyZOHQid146fowHZazBP1Lmks5r0nvlgaJpZM4NMCvr.\n\n\n. ",
    "rrc2soft": "I will integrate the library first (I am currently using the amazing audio engine), and once it is integrated and tested I will create the pull request :-). Added pull request. Bear with me, as this is my first one :-).\nUnfortunately I might not be able to use this library for my music composition app, as both the instruments and the signal chain must be changed dynamically :-( (cf. https://groups.google.com/forum/#!topic/audiokit/ySeznsj-c80). At least, I am happy I could contribute with something.. ",
    "NicolasLourenco": "After updating Audiokit, I havent more this error, but when I try to call anything from AudioKit it crash.. The problem don't appear when integrate from CocoaPod. Only from Carthage. Exactly the same. The last version available in the two cases.. Initialy, I try to integrate as a framework through Carthage.. Exclatly the same on my side\nHere is the logs\nmyProject[1371:184970] [avas] AVAudioSessionPortImpl.mm:56:ValidateRequiredFields: Unknown selected data source for Port Haut-parleur (type: Speaker)\nmyProject[1371:184970] [avas] AVAudioSessionPortImpl.mm:56:ValidateRequiredFields: Unknown selected data source for Port Haut-parleur (type: Speaker)\nmyProject[1371:184970] [avae] AVAEInternal.h:70:_AVAE_Check: required condition is false: [AVAudioIONodeImpl.mm:910:SetOutputFormat: (IsFormatSampleRateAndChannelCountValid(hwFormat))]\nmyProject[1371:184970] *** Terminating app due to uncaught exception 'com.apple.coreaudio.avfaudio', reason: 'required condition is false: IsFormatSampleRateAndChannelCountValid(hwFormat)'\n*** First throw call stack:\n(0x1c3a6ff78 0x1c2c68284 0x1c39803b0 0x1c9a1c954 0x1c9a1be54 0x1c9ac1e7c 0x1c9a4dda4 0x1c9ac9ed0 0x1c9ac9f5c 0x1048b8544 0x1048b8624 0x1045bd6bc 0x1045bd9f0 0x1045bcbdc 0x1045bcb94 0x1083341dc 0x1083362d0 0x107a72030 0x1045bcc84 0x10459d334 0x10459d4c0 0x1f0e29728 0x1ce3237e0 0x1ce323a24 0x1ce2c12f0 0x1f1490500 0x1f10620fc 0x1ce3237e0 0x1ce323a24 0x1ce2c12f0 0x1f1490500 0x1f1298bf4 0x1045c1ba0 0x1045c1c54 0x1f0e29728 0x1ce3237e0 0x1ce323a24 0x1ce2c12f0 0x1f1490500 0x1f10620fc 0x1ce3237e0 0x1ce2c12f0 0x1f1179f5c 0x1ce3237e0 0x1ce323a24 0x1ce2c12f0 0x1f109ae20 0x1f1274f40 0x1f1279814 0x1f1279a80 0x1f1497c14 0x1045a3794 0x1045e0684 0x1045e0b20 0x1d7e87238 0x108332c44 0x1083341dc 0x1083419c4 0x1c39fc630 0x1c39f72d4 0x1c39f6844 0x1c5ca5be8 0x1f0da5428 0x10459fb58 0x1c34ac020)\nlibc++abi.dylib: terminating with uncaught exception of type NSException. Hi Robert,\nI import the AudioKit framework exactly like you with CocoaPod. Why closing this issue? It still relevant \ud83e\uddd0. @aure Still relevant on 4.5\nEDIT: After investigations, it appear that a bad configuration was made on AKSettings. \nBut I don't know why the problem didn't appear before.. ",
    "Shadberrow": "You were right. Thanks a lot !). ",
    "cenkingunlugu": "Was it a new project written in swift? Was it built with latest stable xcode? Did you use Archive & then use Upload To App Store button inside organizer?\nAll of these were yes for me.\nMaybe there can be a difference with your and my builds.. look at this: http://stackoverflow.com/a/29905611/256201\nand see 5\n. i think doing it manually is a problem. you can remove it on post install of your pod.\nwould you like me to fix it and make a pull req?. A-ha i got the point.\nhttps://github.com/audiokit/AudioKit/blob/f45c4c21d34d0c986a134f2720e55def366fc248/Frameworks/INSTALL.md#handling-bitcode\nhere you say that\nfor me it was not clear what that bitcode checkbox needed for and it was coming checked, and i did not read this before. as it was coming checked, i did not uncheck it and i think my problem was coming from here.\ni think it is a problem of apple that it comes checked when you try to publish and it is a problem for audiokit that who uses this framework and does not care (or know) what bitcode means and why it is important will fail on publishing it if they did not read the Install.MD\nIf you feel it is clear that user have to read Install.MD fully, you can close this issue.. ",
    "shanminxu": "just remove first line: \n!/bin/bash\nand it works.. ",
    "steve228uk": "Okay it seems I've been able to reduce the number of node by manually cloning AKFFTTap and reducing the buffer size. Looking at the AKSettings there is a bufferSize option there. Should this not be used as it defaults to 1024 samples anyway \nhttps://github.com/audiokit/AudioKit/blob/master/AudioKit/Common/Internals/AKSettings.swift#L18-L37\n```swift\nimport Foundation\nimport AudioKit\nclass CustomTap: NSObject, EZAudioFFTDelegate {\ninternal let bufferSize: UInt32 = 32\ninternal var fft: EZAudioFFT?\n\n/// Array of FFT data\nopen var fftData = [Double](zeros: 16)\n\n/// Initialze the FFT calculation on a given node\n///\n/// - parameter input: Node on whose output the FFT will be computed\n///\npublic init(_ input: AKNode) {\n    super.init()\n    fft = EZAudioFFT(maximumBufferSize: vDSP_Length(bufferSize), sampleRate: Float(AKSettings.sampleRate), delegate: self)\n    input.avAudioNode.installTap(onBus: 0, bufferSize: bufferSize, format: AudioKit.format) { [weak self] (buffer, time) -> Void in\n        guard let strongSelf = self else { return }\n        buffer.frameLength = strongSelf.bufferSize\n        let offset = Int(buffer.frameCapacity - buffer.frameLength)\n        let tail = buffer.floatChannelData?[0]\n        strongSelf.fft!.computeFFT(withBuffer: &tail![offset],\n                                   withBufferSize: strongSelf.bufferSize)\n    }\n}\n\n/// Callback function for FFT computation\n@objc open func fft(_ fft: EZAudioFFT!, updatedWithFFTData fftData: UnsafeMutablePointer<Float>, bufferSize: vDSP_Length) {\n    DispatchQueue.main.async { () -> Void in\n        for i in 0..<16 {\n            self.fftData[i] = Double(fftData[i])\n        }\n    }\n}\n\n}\n``. It also looks likeAKNodeFFTPlotteralso sets a buffer size of 1024 but unlikeAKFFTTap` does not half the number of elements to 512. Not sure if this is correct.\nhttps://github.com/audiokit/AudioKit/blob/master/AudioKit/Common/User%20Interface/AKNodeFFTPlot.swift#L33\nThis line accesses self.bufferSize whereas the local bufferSize argument passed through is half of the main buffer size. This seems to be the reason as to why only half of the graph is ever populated.. Reducing the buffer size in AKNodeFFTPlotter does seem to cause the delay as document in this issue though. \nhttps://github.com/audiokit/AudioKit/pull/658. Thanks @aure.\nQ1. Awesome, that might be tricky to do each time so I'll set a sensible default.\nQ3/4. It seems to be a default of 1024 buckets regardless of sample rate on a linear scale. Most spectrum analysers use a logarithmic scale which is why it seems that some of the graph is unused. I've uploaded an example of this below. As you can see the graph gets tighter toward the higher frequencies. Is such a scale possible with EZPlotter?\n\n. ",
    "ImJCabus": "It might be worth looking into Constant Q Transform for this:\nhttp://doc.ml.tu-berlin.de/bbci/material/publications/Bla_constQ.pdf\nBasically, you see so many \"peaks\" on the left because FFT output is logarithmic but you plot it on a linear axis (As far as I've understood so far - I'm a DSP newbie myself :D)\nWhat I want to build is a software version of this:\nhttps://www.youtube.com/watch?v=Vn39txtVIHc&t=14s\n(It's a long watch, but hell it's absolutely worth it!)\nThe genius in this video states that he used Constant Q Transform to extract Keyboard notes (C1 - C8) from the audio signal. I assume this is what you mean by Q2 [Number of bars].\nI've started working on this a few days ago but tbh I'm a bit scared of the maths going on in there.\nThere is even a library [C++] for usage in iOS / macOS. It leverages Accelerate just like EZFFT:\nhttps://github.com/mattrajca/CQTKit\nHowever, as I said I've not been able to get this stuff running in a satisfying manner, yet.\n. ",
    "denisb411": "Greetings @ImJCabus,\nI'm very interested at a Constant Q Transform algorithm implemented at swift. Do tou think there's something there or just C/C++ codes?\nAKFrequencyTracker probably uses autocorrelation (as this algorithm was written by M. Puckket and it's stated at the document) and unfortunately it's not as good as Constant Q Transform at low frequencies (< 100 Hz). \nSo in order to perfect make a tuner for guitar/bass I need to improve the fundamental frequency tracking...\nIf you hear something please comment here.\nReference for this conclusion: \nhttp://dafx10.iem.at/papers/VonDemKnesebeckZoelzer_DAFx10_P102.pdf\nhttp://www.cs.otago.ac.nz/tartini/papers/A_Smarter_Way_to_Find_Pitch.pdf\nGood lecture.. Nice to hear that. Do you have any example?\nWhat I'm trying to do:\n```\n    override func viewDidAppear(_ animated:Bool){\n    setupPlot(ChromaticViewController.tuner.mic)\n\n::\nfunc setupPlot(_ mic:AKMicrophone) {\n        let plot = AKNodeOutputPlot(mic, frame: nodePlotView!.bounds)\n        plot.plotType = .rolling\n        plot.shouldFill = true\n        plot.shouldMirror = true\n        plot.color = UIColor.blue\n        nodePlotView!.addSubview(plot)\n    }\n```. Solved with:\nlet mixer = AKMixer(ChromaticViewController.tuner.mic)\nsetupPlot(mixer)\nBut UIView isn't showing anything.... Solve the problem initializing a new AKMicrophone() instance. Now i'm using 'micPlot' instead of 'mic'.. Sorry. I thought it was reversed. Anyway, no updates of Xcode shows for me, don't know why.. @aure \nI don't use AKMicrophoneTrack to tap, I create a new AKMicrophone to it. I use AKMicrophoneTrack together with the tap.\nPlease check the gist code.\nMy proposition here is to warn that when firstly start() the AudioKit and then stop(), taps on AKNodes (like AKMicrophone) will not work anymore even another start() is called before. Isn't it an issue?. ",
    "sonic555gr": "Thank you. At least now I know not to spend silly time playing with cocoapods and build settings. \nCan you please add something on the wiki about compatibility because I'm pretty sure other people have faced the same problem. \nI've already started converting. I will go directly to the latest version of AudioKit. Peace.. @aure This doesn't really solve my problem. Even If I don't stop the AudioKit Engine, crash persists. Please try to replicate when you have time. Thanks.. Hey, Here is a copy of the example project. \nCan you, please tell me exactly why the example project is crashing if you tap \"button\", go back and tap \"button\" again?\nYou said that it's a bad idea to do this with the Audio engine, but I still don't understand what \"this\" is. All examples I found online say that I should first create the components, then set the output and then start() and this is exactly what is going on. \nI'm not very familiar with sound programming.\nBest. Thanks, replacing the drywet with 2 simple mixers worked. I will get back to you with more issues as I face them. . ",
    "trevor-sonic": "Hi aure,\nI use for iOS, I compiled for iPhone 7 plus. Problem is happening on playground. Version 3.5.3 yes.\nI took 12sec video screen capture 8th sec. to be helpful, you can hear a glitch sound. I don't have any clue where the files are.\nhttps://youtu.be/Apf66J_BMNE   (unlisted only by link)\n(Sorry for my late feedback I didn't receive notification from GitHub)\nThank you. (accidentally pressed enter with empty post. so I closed the issue). I'm trying to do a metronome with audio file for  accurate timing.\nin the code below I have a metronome sound perfectly sliced in DAW for 122BPM and song is 122BPM and it is perfectly start from 1st beat.\nWhen I play them as the code below it lose sync after 15 sec and later it is more noticeable.\nIf I use the 1 beat of the 1 bar metronome by .endTime properties the timing issue is drastically noticeable.\nAs metronome  was slower/behind the song; I tweak the bpm to 123.03 but it always lose the sync.\nI could achieve to perfect sync without AudioKit. By using audio node + pcm buffer etc. and it's super accurate till the end of the song 4 minutes! \nI want to use AudioKit for improve my code but how to improve this? I can test and improve AK.\nI can provide metronome + song samples if necessary.\nlet file1 = try AKAudioFile(readFileName: \"122bpm.wav\", baseDir: .resources)\nlet file2 = try AKAudioFile(readFileName: \"one_life.mp3\", baseDir: .resources)\n\nvar player1 = try AKAudioPlayer(file: file1)\nvar player2 = try AKAudioPlayer(file: file2)\n\n// uncomment line below for dividing 1 bar metronome sound to 1 beat click\n//player1.endTime = Double (60.0 / 123.03)\nplayer1.looping = true\n\nvar mixer = AKMixer(player1, player2)\n\nAudioKit.output = mixer\nAudioKit.start(). I simplified for you to test. I work on playground. It's enough to create a new play ground page and paste this code. In the zip file there are 2 files metronome and song . Drag them into resources folder. I hope that helps to find the calculation issue.\n\nsong122bpm_metronome122bpm.zip\n // Metronome sync test\nimport PlaygroundSupport\nimport AudioKit\n\nlet file1 = try AKAudioFile(readFileName: \"122bpm.wav\", baseDir: .resources)\nlet file2 = try AKAudioFile(readFileName: \"one_life.mp3\", baseDir: .resources)\n\nvar player1 = try AKAudioPlayer(file: file1)\nvar player2 = try AKAudioPlayer(file: file2)\n\n// below  * 1 is 1 beat,      * 4 is 1 bar\nplayer1.endTime = Double (60.0 / 122) * 1\nplayer1.looping = true\n\nvar mixer = AKMixer(player1, player2)\n\nAudioKit.output = mixer\nAudioKit.start()\n\npublic class PlaygroundView: AKPlaygroundView {\npublic override func setup() {\n      player1.play()\n      player2.play()\n    }\n}\n\n\nPlaygroundPage.current.liveView = PlaygroundView()\nPlaygroundPage.current.needsIndefiniteExecution = true. Hi Aure, I really appreciate your help. Be for you fix this issue; I just like to tell a bit more about the process I followed to add (maybe) some useful function to AK.\n\nI've inspired very much from this resource to have an exact timing.\nhttps://github.com/AlexShubin/MetronomeIdea/blob/master/PlaybackTest/ViewController.swift\nBy the way the think I liked in this code that using an audio file within a longer buffer.\nIt means; click sample is 0.01 but it sets the buffer according the BPM as result looping perfectly.\nCan we implement in AK kind of override timing/buffer to define the time we want?\n// click.wav is tiny wav, duration let's say around 0.05 sec.\nlet clickFile = try AKAudioFile(readFileName: \"click.wav\", baseDir: .resources)\n\nlet metroPlayer = try AKAudioPlayer(file: clickFile)\n\n// normally this definition makes nothing because wave file is shorter than endTime\nmetroPlayer.endTime = Double (60.0 / 122) * 4\n\n//(Alias code)\n// But if we set timeOverride = true buffer will be set to calculated value\nmetroPlayer.timeOverride = true\nmetroPlayer.looping = true\n\nOr any method name to allow this buffer loop size.\nI hope you like this idea. I think it can be useful in many different situations. \nMaybe in this way you'll not have to modify the code (around line 426)\nThank you\n. I do want to contribute, sure for timeOverride etc. but for the issue I've asked for I couldn't  get trough :-/ \nI'll appreciate to see a new release with correct sync.\nThank you very much.. I'm sorry Aure, I messed up with my pull request, I didn't use this before \ud83e\udd17 \nNow, I did it correctly with another pull request. . I guess this is a wrong branch, I'll change.... Hi Aure, I'ms sorry I couldn't see this different MIDIByte - > MIDIWord I was secretly feeling that pith bender has to have bigger value than a byte but in the example (MidiMonitor) it was MIDIByte so I thought something else is occurring. Thank you for your time, I'll return the favour by adding some codes in AK.. Hi Aure,\nI've added the project file in my repository and tried to add existing PR but I don't know if it is successful - anything I can do, just tell me I'll check again. @aure thanks for ignoring other unreleated files.\nBy the way, I don't know what to do against \"travis-ci\". hi @Zeken thanks for the analyse I had the same issue, not resolved, at least i see better  why it was happening. I look for a solution, if a have time I'll dig in it . ",
    "artgillespie": "Thanks for the quick reply!\nConfirmed. The following works as expected (both oscillators are audible) in a new Playground page in the AudioKit for iOS project:\n```swift\nimport AudioKit\nimport PlaygroundSupport\nlet osc = AKOscillator()\nosc.frequency = 440.0\nosc.amplitude = 0.5\nosc.start()\nlet osc2 = AKOscillator()\nosc2.frequency = 880.0\nosc2.amplitude = 0.5\nosc2.start()\nlet mixer = AKMixer(osc, osc2)\nAudioKit.output = mixer\nAudioKit.start()\nPlaygroundPage.current.needsIndefiniteExecution = true\n```\nStill not working in an otherwise blank app in the Simulator. Let me get a device provisioned and see if it's happening on-device.. I'm getting the same unexpected behavior on an iPhone 7 Plus running iOS 10.2.1.\nHere's the project in case it's helpful. (It's just a single-page view iOS template with an added Conductor.swift file)\nAudioKit_1.zip\n. Thanks, @aure!. ",
    "dreamBegin": "how can I build the framework on  my own i have no idea about that and   audiokit 3.5 doesn't work with objective-c project unless I include it with cocoapods any suggestions....\n. No probelm for sure. i can understand .appreciate your time , thanks.\n. ",
    "plm75": "Hello again,\nI tried a quick and dirty hack:\n```swift \nclass RZAudioPlayer: AKAudioPlayer {\n  dynamic var observableReversed: Bool = false\noverride var reversed: Bool {\n    didSet {\n      print(\"Changed reversed to (reversed)\")\n      observableReversed = reversed\n    }\n  }\noverride init(file: AKAudioFile, looping: Bool, completionHandler: AKCallback?) throws {\n    try super.init(file: file, looping: looping, completionHandler: completionHandler)\n  }\n}\n```\nObserving observableReversed on a instance of RZAudioPlayer then seems to work fine.\nIs there any reason why we couldn't directly add dynamic to all  AKNodes' public properties ?  This way, we could have KVO enabled for all these properties.\nThanks. ",
    "jsonfellin": "I suppose, but that feels like a hassle. I looked at the code. At a glance, it looks as simple as calling a closure after scheduleBuffer(). Correct me if I'm wrong.\nfileprivate func internalCompletionHandler() {\n        if playing {\n            if looping {\n                scheduleBuffer()\n            } else {\n                stop()\n                self.completionHandler?()\n            }\n        }\n    }\nWould you be open to me submitting a pull request? Thanks again.. ",
    "bryanhadlock": "yes it does. Awesome. Thank you.. ",
    "russellbstephens": "thanks!. ",
    "oyzh888": "Thx! Your advice is really helpful! And I will pay attention to the update of AudioKit\ud83d\ude06\n\n\u5728 2017\u5e743\u67088\u65e5\uff0c16:03\uff0cAurelius Prochazka notifications@github.com \u5199\u9053\uff1a\nHi, thanks for this issue and for the email you sent with a little more information and graphics. Honestly, you're best bet for static analysis of a file is another library called Aubio or perhaps GistSwift. You should be able to do file transformation with AudioKit, but I haven't yet fleshed it out yet with cross-platform concerns. But, its already on our Project list, and its more of a feature than an issue, so I am going to close this Github issue.\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub, or mute the thread.\n. \n",
    "macguydvd": "Thanks Aure!. ",
    "ercantulu": "lipo is avaible and is working. \nAfter removing if clause \nI echo lipo command and get following before and after stripping:\nArchitectures in the fat file: ./AudioKit.framework/AudioKit are: i386 x86_64 armv7 arm64\nArchitectures in the fat file: ./AudioKit.framework/AudioKit are: armv7 arm64\n. /bin/bash is running as normal. echo $SHELL gives me /bin/bash. ",
    "nonggiatu": "After changing the nodes to class properties, it works now. Thanks a lot!\n. ",
    "victorBaro": "I run into the same error. I can see my plot on the screen but as soon as I try to start recording, I get: \nAVAudioNode.mm:565: CreateRecordingTap: required condition is false: _recordingTap == nil\nHere is my code, it is super simple but can't get it to work... @aure I would really appreciate if you can help me.\n```swift\n    private func setup() {\n        // Clean tempFiles !\n        AKAudioFile.cleanTempDirectory()\n    // Session settings\n    AKSettings.bufferLength = .medium\n    do {\n        try AKSettings.setSession(category: .playAndRecord, with: .allowBluetoothA2DP)\n    } catch {\n        AKLog(\"Could not set session category.\")\n    }\n    startPlot()\n\n    recorder = try? AKNodeRecorder(node: mic)\n    recorder.durationToRecord = GlobalConstants.maxClipDuration\n\n    AudioKit.start()\n}\n\nprivate func startPlot() {\n    plot = AKNodeOutputPlot(mic, frame: bounds)\n    plot.backgroundColor = UIColor.white\n    plot.color = UIColor.customBlue\n    plot.gain = 5\n    plot.plotType = EZPlotType.rolling\n    plot.shouldFill = true\n    plot.shouldMirror = true\n    addSubview(plot)\n}\n\nfunc startRecording() {\n    do {\n        try recorder.record()\n    } catch { print(\"Can't record!\") }\n}\n\n```\nPS: I am using Xcode9 beta 6. Thank you @aure for your quick reply. This is my declaration of mic (most of the code is copied from your amazing playgrounds examples :) ).\nswfit\nlet mic = AKMicrophone(). @aure any updates on this? Still not working. . ",
    "ryanthon": "Hi, is there any update on this issue? I'd like to update to Xcode 9.3, but I can't get AKMicrophone to work with AKNodeOuputPlot either. This one problem is holding me back from updating my version of Xcode.. Hi,\nI just want to chime in on this issue in case my findings lead to a solution...\nI use AudioKit for a voice recording feature on my app. In the same workflow, I have a video recording option as well.\nWhen I first built it out, when I presented the UIImagePickerController and switched to video mode, the app would crash if I had AudioKit running (with AudioKit.start()). I had to solve this by calling AudioKit.stop() before presenting the UIImagePickerController, and then calling AudioKit.start() again when it is dismissed.\nOnce I solved that issue, what I see is that while the recording function worked, the output was either complete electronic noise/buzzing, or that it was a very garbled, noisy, electronic sounding version of what was actually recorded. I tried creating new AKMicrophone, AKMixer, etc. objects, but that doesn't work either. The sound doesn't go back to normal until the app is completely restarted.. @ladislas Curious, how did you get version 4.2.3 working with Xcode 9.3?. @ladislas Oh whoops, for some reason I read your comment as \"4.0.3\", and was wondering how you got it to build. Never mind!. ",
    "amotion": "For some reason when I try that it will only stop but not restart playing again (unless I reload the file). Dang! Ok, I'll post what I'm doing here. Thanks for checking!. Ok! Here's a simple example of what I'm doing:\n```\nimport UIKit\nimport AudioKit\nclass ViewController: UIViewController {\nlet mixer = AKMixer()\n  var player: AKAudioPlayer?\noverride func viewDidLoad() {\n    super.viewDidLoad()\ndo {\n  let audioFile = try AKAudioFile(readFileName: \"BS_130_POVBrushes_2.wav\")\n  let player = try AKAudioPlayer(file: audioFile)\n  self.mixer.connect(player)\n  self.player = player\n} catch {\n  fatalError()\n}\n\nAudioKit.output = self.mixer\nAudioKit.start()\n\n}\n@IBAction func play(sender: UIButton) {\n    self.player?.stop()\n    self.player?.play()\n  }\n}\n```. This seems to only stop the player on second tap when it's already playing, instead of restarting playback from the beginning. Is it because the stop() and play() methods are called so close to each other?. Ok! I'll give it a shot. FWIW this will successfully restart playback again on each tap:\nself.player?.stop()\n    do {\n      try self.player?.reloadFile()\n    } catch {\n      print(\"failed to reload\")\n    }\n    self.player?.play()\nAh never mind, this seems to work in the simulator fine but has mixed results on device.. One thing I'm noticing is if I print out something in play() and player.completionHandler, I see play gets called and then the completion handler gets called immediately afterwards.. I guess I really just should be using an AKSampler here if I want to trigger a sound to play on each tap. Getting better results with that!. Yeah! Thanks for all your help. Is there an easy way to know when a sample ends though? I'm setting an active state on the button and just want to set it to inactive once the sound stops. That was easy with the player :). ",
    "paulmasson": "Thanks for the response. Shouldn't this information be added to the documentation for AKNode?. ",
    "kevin-coelho": "I already tried that and it's still getting stuck. Here's what gets printed out:\nBuilding frameworks for platforms: iOS macOS tvOS\nBuild settings from command line:\n    BUILD_DIR = /Users/katc/Documents/coding_projects/CS194/AudioKit/Frameworks/build\n    SDKROOT = iphonesimulator10.2\nBuild settings from configuration file 'simulator.xcconfig':\n    CODE_SIGN_IDENTITY = \n    CODE_SIGNING_REQUIRED = NO\n    ENABLE_BITCODE = YES\n    IPHONEOS_DEPLOYMENT_TARGET = 9.0\n    ONLY_ACTIVE_ARCH = NO\n. ",
    "LeonidKokhnovich": "@DAC17 How did you solve the issue?. ",
    "DAC17": "Playgrounds do not support external frameworks, therefore you must open the project named \"AudioKit For IOS\" in the IOS folder of the audiokit package, and make sure all of the playgrounds are present in that project(and if not open them there) and then run the project. This might throw up a few warnings, but should still work.. ",
    "sakdanupong": "Ok after i restart device it work fine. ",
    "gazebofire": "I'm also seeing a similar issue with a variation of the RecorderDemo exercise file. Also using Cocoapods with 3.5.3.\ndeleteFileWithFileName \"79F0E6E7-DD78-450B-8E7F-4550FEEFC362.caf\" deleted.\ncleanTempDirectory() 1 files deleted\ninitialize() AKAudioPlayer Warning:  \"6096A844-A3AB-4A79-8C32-927FA0EFA247.caf\" is an empty file\nrecord() AKNodeRecorder: recording\nrecord() AKNodeRecorder writing (file duration: 0.1 seconds)\nrecord() AKNodeRecorder writing (file duration: 0.2 seconds)\nrecord() AKNodeRecorder writing (file duration: 0.3 seconds)\nrecord() AKNodeRecorder writing (file duration: 0.4 seconds)\nrecord() AKNodeRecorder writing (file duration: 0.5 seconds)\nstop() AKNodeRecorder: Recording Stopped.\nexportAsynchronously(name:baseDir:exportFormat:fromSample:toSample:callback:)\ninternalExportSession session created\nqueueExportSession(session:) ExportFactory: exporting session #0\nExport failed: Optional(Error Domain=AVFoundationErrorDomain Code=-11800 \"The operation could not be completed\" UserInfo={NSLocalizedFailureReason=An unknown error occurred (-12936), NSLocalizedDescription=The operation could not be completed, NSURL=/tmp/6096A844-A3AB-4A79-8C32-927FA0EFA247.caf, NSUnderlyingError=0x60800005c3b0 {Error Domain=NSOSStatusErrorDomain Code=-12936 \"(null)\"}})\ncompletionHandler() ExportFactory: session #0 Completed\ncompletionHandler() ExportFactory: All exports have been completed\n2017-03-27 18:38:34.847 Sampler[96192:1527313] *** Terminating app due to uncaught exception 'com.apple.coreaudio.avfaudio', reason: 'player started when in a disconnected state'. @dkun7944 - Thanks a bunch for the help! That was exactly my issue. I had forgot to add my player node to the AKMixer (in RecorderDemo, the player node passes through the AKMoogLadder, which I am not using).\nNow I can successfully playback my recording, however, I am still seeing the same export error.. ",
    "saxjax": "Thanks A lot. ",
    "marcosgriselli": "@jacobdfriedmann Did you ever solved this issue? I'm having the exact same problem. Issue has to be .defaultToSpeaker option as I don't get the clicking noise while recording with my headphones on. . @Meekohi is it only happening when you do the earpods thing? I've changed that one line and have cracking/static sound on my recording using nothing but the phone \ud83d\ude15.. The same issue happens to me when I use the Recorder demo but bypass the AKMoogLadder filter doing moogLadder.stop() after the setup. \nThis issue doesn't happen on iPad. I tested on one iPhone X and iPhone 6s with the same result, that static/cracking sound. But I tested the exact same code on two different iPads Pros and it worked correctly, perfect recording playback. . @dave234 That was my guess as well, but I tried AKSettings.sampleRate = 48000 and it didn't solve it.. @dave234 I see, is there any way I can tweak this value or is it part of the AudioKit core functionality? I'm trying to find a solution but I could use some guidance. . I can take a look at it with Jeff @aure so you can assign it to me. . @francdn \nA part from that it seems that AKFrequencyTracker is returning values of \nbetween 20000 Hz and 46000 HZ in most of the readings. I am having the\nsame result with an iphone and ipad and different IOS versions.\nDid you work around this issue? I'm having the same problem with physical devices.. ",
    "sihwapark": "@aure I have the same issue. On my iphone 7, .defaultToSpeaker = true always causes clicking noise in a recorded sound but .defaultToSpeack = false doesn't. My temporary solution is toggling defaultToSpeaker whenever I record or play back as below:\n```\nAKSettings.defaultToSpeaker = false // set when you begin to record.\n// AKSettings.defaultToSpeaker = true // set when you play a recorded file back\ndo {\n     try AVAudioSession.sharedInstance().setCategory(AVAudioSessionCategoryPlayAndRecord,\n with:AKSettings.computedSessionOptions())\n} catch {\n     print(\"Filed to change AVAudioSessionCategoryOptions\")\n}\n```\nHowever, with the above trick, it is impossible to record additionally while you are playing a recorded file because calling AVAudioSession.sharedInstance().setCategory() stops a sound that is currently playing.\nIs there any solutions for it?. No, I mean AKSlider's name which is relying on AKSlider's 'property' variable.\nFor example:\nslider = AKSlider(property: \"Gain(dB)\")\nHere \"Gain(dB)\" was shown on a screen before but now it isn't.\n. Thanks for your information. It is working with no click noise.. I resolved this problem by myself. It is necessary to load a created file separately when accessing to the file is required as below:\nlet newAudioFile = try AKAudioFile(createFileFromFloats: recorder.audioFile!.floatChannelData!, name: \"new_file\")\nlet loadedNewAudioFile = try AKAudioFile(readFileName: \"new_file.caf\", baseDir: .temp). ",
    "jacobdfriedmann": "Whoops, sorry about that! Noted for next time :) . ",
    "o-g-sus": "Thanks, I just saw, that it\u2019s in the Source code zip :)\nMaybe copy that file to the AudioKit-iOS examples, that\u2019s where I started and missed that file \u2026\nAwesome audio framework and awesome documentation (playground) by the way !!!\nI was using libPD/PD so far, but my next project will use AudioKit finally :)\nCheers,\nOliver\nPlease rate our apps in the iTunes store !!\nInfo:       http://mominstruments.com\nfluXpad:        https://itunes.apple.com/us/app/fluxpad/id975033604\nWretchUp:   https://itunes.apple.com/us/app/wretchup/id928543264\nElastic Drums:  https://itunes.apple.com/us/app/elastic-drums/id817419955\nMaking Apps That Make Music: https://www.facebook.com/groups/271117483063480\n\nAm 22.03.2017 um 17:06 schrieb Aurelius Prochazka notifications@github.com:\nIf you want to use Audiobus, you need that file. I'm not sure if its included with Cocoapods, but it is not auto-generated and you can grab it here:https://github.com/audiokit/AudioKit/blob/master/AudioKit/iOS/Audiobus/Audiobus.swift https://github.com/audiokit/AudioKit/blob/master/AudioKit/iOS/Audiobus/Audiobus.swift\nYou should be able to just put a copy in your folder and have things work. Reopen the issue if you have any problems.\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub https://github.com/audiokit/AudioKit/issues/810#issuecomment-288449591, or mute the thread https://github.com/notifications/unsubscribe-auth/ABgGUqDlm7yqQWd72MXbYnN574DEfoYDks5roUcSgaJpZM4MlW0L.\n\n\n. ",
    "michaeltyson": "Hey guys, thought I'd just chime in here. I'd be very interested to see how this works in total absence of the Audiobus SDK. It'd simply be a matter of using AudioOutputUnitPublish directly, to expose the audio unit to Inter-App Audio hosts - this would be a quick hack, but should give us an idea of whether it's crashing or not with just the IAA API alone.. Bravo @jconst, thanks for trying that! Let me know how the sample app tests go - I suspect you'll see the same issues. Either way I'll pass whatever you find on to my contact on the Core Audio team and make sure they see it. If you can log a radar, I'll email my contacts on the Core Audio team and give them a heads-up directly. Sorry about the delay, @wtholliday  - yep, I've made contact.. Good news - apparently this should be fixed in the latest iOS 11.1 beta (b5, I presume). Possibly - the only reason I'd be opposed is if the code were crappy; TAAE 1 generally no longer meets my standards, so I'd be a little skittish at the idea. TAAE 2, which despite my public claims of retirement is actually alive and well though (I just didn't want to handle all the questions =)), so happy for any DSP stuff from there to be used. It's zlib licensed, so pretty open.. ",
    "Venom57": "I have seen this same crash frequently on an iPhone 7 while playing back mono source.  Unplugging it from the computer via lightning connector did seem to reduce the frequency of crashes.  The same code on a 5s runs perfectly every time.\nWe're going to pull AudioKit out of the loop and go Straight AVAudioPlayer Kit playback for this one instance and see if we still experience problems.. ",
    "jfosterdavis": "Not sure if this helps, I am a bit of a script kiddy with the audio in iOS. I can't seem to find an answer elsewhere and it looks like it could be recent.  I hope I am not intruding on your project but this was the only worthwhile discussion on the issue I could find.  I thought since my project is so simple it might help reduce some possibilities.\nI have a prototype/just-for-fun app I have been working on that simply plays a file or speaks an utterance.  Has worked flawlessly until today when I happen to have bluetooth headphones on connected when I started the app in simulator.  \nUse Case 1:\nI put headphones on for the first time via bluetooth.  Ran app in iPhone 5s simulator.  Headphones were connected before I built and ran the project. The audio (I was also playing music from iTunes) seemed to go to a lower-quality and I thought there was an issue with iTunes, then I got the following messages in my output that I had never seen before:\n```\n2017-05-29 11:09:52.001738-0400 Charles[70453:2089239] [aqme] 1158: AQDefaultDevice: Abandoning I/O cycle because reconfig pending (1).\n2017-05-29 11:09:54.048749-0400 Charles[70453:2089239] [aqme] 254: AQDefaultDevice (32): skipping input stream 0 0 0x0\n2017-05-29 11:09:56.096854-0400 Charles[70453:2089239] [aqme] 254: AQDefaultDevice (32): skipping input stream 0 0 0x0\n2017-05-29 11:09:58.144935-0400 Charles[70453:2089239] [aqme] 254: AQDefaultDevice (32): skipping input stream 0 0 0x0\n2017-05-29 11:10:00.192980-0400 Charles[70453:2089239] [aqme] 254: AQDefaultDevice (32): skipping input stream 0 0 0x0\n2017-05-29 11:10:02.241081-0400 Charles[70453:2089239] [aqme] 254: AQDefaultDevice (32): skipping input stream 0 0 0x0\n2017-05-29 11:10:04.289179-0400 Charles[70453:2089239] [aqme] 254: AQDefaultDevice (32): skipping input stream 0 0 0x0\n2017-05-29 11:10:06.337309-0400 Charles[70453:2089239] [aqme] 254: AQDefaultDevice (32): skipping input stream 0 0 0x0\n2017-05-29 11:10:08.385381-0400 Charles[70453:2089239] [aqme] 254: AQDefaultDevice (32): skipping input stream 0 0 0x0\n2017-05-29 11:10:10.433457-0400 Charles[70453:2089239] [aqme] 254: AQDefaultDevice (32): skipping input stream 0 0 0x0\n2017-05-29 11:10:12.481531-0400 Charles[70453:2089239] [aqme] 254: AQDefaultDevice (32): skipping input stream 0 0 0x0\n2017-05-29 11:10:14.529619-0400 Charles[70453:2089239] [aqme] 254: AQDefaultDevice (32): skipping input stream 0 0 0x0\n2017-05-29 11:10:15.529760-0400 Charles[70453:2089120] [aqme] 318: Audio device 0x3a: error 0 fetching sample rate, or sample rate is 0. Defaulting to 44100.\n2017-05-29 11:10:15.535880-0400 Charles[70453:2089120] [aqme] 2162: EXCEPTION thrown (2003332927): -\n2017-05-29 11:10:17.580703-0400 Charles[70453:2097388] [aqme] 318: Audio device 0x3a: error 0 fetching sample rate, or sample rate is 0. Defaulting to 44100.\n2017-05-29 11:10:17.581942-0400 Charles[70453:2097388] [aqme] 318: Audio device 0x3a: error 0 fetching sample rate, or sample rate is 0. Defaulting to 44100.\n2017-05-29 11:10:17.584072-0400 Charles[70453:2111193] [aqme] 318: Audio device 0x3a: error 0 fetching sample rate, or sample rate is 0. Defaulting to 44100.\n2017-05-29 11:10:17.585783-0400 Charles[70453:2111193] [aqme] 318: Audio device 0x3a: error 0 fetching sample rate, or sample rate is 0. Defaulting to 44100.\n```\nwhen I disconnected the bluetooth headphones, I got this and the app crashed:\n```\n2017-05-29 11:10:17.588395-0400 Charles[70453:2089106] [central] 54:   ERROR:    >avae> AVAudioIONodeImpl.mm:365: _GetHWFormat: required condition is false: hwFormat\n2017-05-29 11:10:17.597 Charles[70453:2089106]  Terminating app due to uncaught exception 'com.apple.coreaudio.avfaudio', reason: 'required condition is false: hwFormat'\n First throw call stack:\n(\n    0   CoreFoundation                      0x000000010c9a2b0b __exceptionPreprocess + 171\n    1   libobjc.A.dylib                     0x000000010bff2141 objc_exception_throw + 48\n    2   CoreFoundation                      0x000000010c9a6cf2 +[NSException raise:format:arguments:] + 98\n    3   AVFAudio                            0x000000010f931a9e _Z19AVAE_RaiseExceptionP8NSStringz + 158\n    4   AVFAudio                            0x000000010f930fcf _ZN13AVAudioIOUnit12_GetHWFormatEjPj + 441\n    5   AVFAudio                            0x000000010f930c7f ___ZN13AVAudioIOUnit22IOUnitPropertyListenerEPvP28OpaqueAudioComponentInstancejjj_block_invoke_2 + 169\n    6   libdispatch.dylib                   0x000000011244a4a6 _dispatch_call_block_and_release + 12\n    7   libdispatch.dylib                   0x000000011247305c _dispatch_client_callout + 8\n    8   libdispatch.dylib                   0x000000011245194f _dispatch_queue_serial_drain + 221\n    9   libdispatch.dylib                   0x0000000112452669 _dispatch_queue_invoke + 1084\n    10  libdispatch.dylib                   0x0000000112454ec4 _dispatch_root_queue_drain + 634\n    11  libdispatch.dylib                   0x0000000112454bef _dispatch_worker_thread3 + 123\n    12  libsystem_pthread.dylib             0x000000011280a5a2 _pthread_wqthread + 1299\n    13  libsystem_pthread.dylib             0x000000011280a07d start_wqthread + 13\n)\nlibc++abi.dylib: terminating with uncaught exception of type NSException\n```\nUse Case 2:\nI started the app in simulator the same way (but no iTunes playing in background).  This time I connected the bluetooth headphones after the app was running.  I immediately got this output:\n2017-05-29 11:30:03.225128-0400 Charles[70808:2160962] [aqme] 1158: AQDefaultDevice: Abandoning I/O cycle because reconfig pending (1).\nFor the minute or so I ran the app, I kept getting this message over and over:\n2017-05-29 11:30:05.273250-0400 Charles[70808:2160962] [aqme] 254: AQDefaultDevice (32): skipping input stream 0 0 0x0\nThen, just like last time, when I turned off the bluetooth headphones, I got the following along with a crash:\n2017-05-29 11:32:59.451312-0400 Charles[70808:2160810] [central] 54:   ERROR:    >avae> AVAudioIONodeImpl.mm:365: _GetHWFormat: required condition is false: hwFormat\n2017-05-29 11:32:59.455 Charles[70808:2160810] *** Terminating app due to uncaught exception 'com.apple.coreaudio.avfaudio', reason: 'required condition is false: hwFormat'\n*** First throw call stack:\n(\n    0   CoreFoundation                      0x0000000107b3fb0b __exceptionPreprocess + 171\n    1   libobjc.A.dylib                     0x000000010718f141 objc_exception_throw + 48\n    2   CoreFoundation                      0x0000000107b43cf2 +[NSException raise:format:arguments:] + 98\n    3   AVFAudio                            0x000000010aacea9e _Z19AVAE_RaiseExceptionP8NSStringz + 158\n    4   AVFAudio                            0x000000010aacdfcf _ZN13AVAudioIOUnit12_GetHWFormatEjPj + 441\n    5   AVFAudio                            0x000000010aacdc7f ___ZN13AVAudioIOUnit22IOUnitPropertyListenerEPvP28OpaqueAudioComponentInstancejjj_block_invoke_2 + 169\n    6   libdispatch.dylib                   0x000000010d6754a6 _dispatch_call_block_and_release + 12\n    7   libdispatch.dylib                   0x000000010d69e05c _dispatch_client_callout + 8\n    8   libdispatch.dylib                   0x000000010d67c94f _dispatch_queue_serial_drain + 221\n    9   libdispatch.dylib                   0x000000010d67d669 _dispatch_queue_invoke + 1084\n    10  libdispatch.dylib                   0x000000010d67fec4 _dispatch_root_queue_drain + 634\n    11  libdispatch.dylib                   0x000000010d67fbef _dispatch_worker_thread3 + 123\n    12  libsystem_pthread.dylib             0x000000010da355a2 _pthread_wqthread + 1299\n    13  libsystem_pthread.dylib             0x000000010da3507d start_wqthread + 13\n)\nlibc++abi.dylib: terminating with uncaught exception of type NSException\nProject\nHere is a link to my repo:\nPrototype with simple AV\nHere is a link to the commit where this happened:\nCommit where I first saw this error (and first used headphones with this project)\nIf you don't want to bother with the repo, I have pasted the few spots where I used AV things:\nswift\n// MARK: AV Variables\n    let synth = AVSpeechSynthesizer()\n    var textUtterance = AVSpeechUtterance(string: \"\")\n    var audioPlayer: AVAudioPlayer!\n    var audioEngine: AVAudioEngine!\n    var audioPlayerNode: AVAudioPlayerNode!\n    var changePitchEffect: AVAudioUnitTimePitch!\n...\n```swift\n//audio\n        audioEngine = AVAudioEngine()\n        audioPlayer = AVAudioPlayer()\n        //setup node\n        audioPlayerNode = AVAudioPlayerNode()\n        audioEngine.attach(audioPlayerNode)\n        changePitchEffect = AVAudioUnitTimePitch()\n        audioEngine.attach(changePitchEffect)\n    audioEngine.connect(audioPlayerNode, to: changePitchEffect, format: nil)\n    audioEngine.connect(changePitchEffect, to: audioEngine.outputNode, format: nil)\n\n```\n...\n```swift\ntry audioPlayer = AVAudioPlayer(contentsOf: url)\n                audioPlayer.enableRate = true\n            resetAudioEngineAndPlayer()\n\n//                try audioPlayer = AVAudioPlayer(contentsOf: url)\n                let audioFile = try AVAudioFile(forReading: url)\n            changePitchEffect.pitch = currentPhrase.slots![currentButtons.index(of: sendingButton!)!].tone\n\n            audioPlayerNode.scheduleFile(audioFile, at: nil, completionHandler: nil)\n\n            try audioEngine.start()\n            audioPlayerNode.play()\n\n```\n...\nswift\nfunc resetAudioEngineAndPlayer() {\n        audioEngine.stop()\n        audioPlayerNode.stop()\n    }. ",
    "wtholliday": "@jconst Did you get a chance to try the Apple sample apps?. @jconst Has the bug been filed with Apple? I've got an example project to reproduce it: https://github.com/wtholliday/AudioEngine.. @jconst Ah, ok. I'm preparing a DTS (and possibly a radar). My earlier DTS was rejected because my example project was using AudioBus. I've tried to use IAA directly, but I'm out of my element. Could you take a look at my example project (https://github.com/wtholliday/AudioEngine)?. @michaeltyson I filed a bug, which was duped to 34838819. Could you bug them about that one?. ",
    "CreateLex": "This issue only appears to be happening when I use quickTime player VideoScreen Recording . So clearly there is a bug somewhere apples needs to test and resolve.  I have a silly work around.  AlexKissiJr. ",
    "ashusath": "@lususvir Hey, were you able to achieve this?\n. @sinewavemultimedia Which script? i have installed it via cocoapod. its giving me same error while uploading to testflight\n. Thanks for the response. \nI thought this was the issue with AudioKit implementation because while recording with AVAudioRecorder it does not generate temporary CAF file.\nIt creates an m4a file which is compact in size anyways I will ask this question on StackOverflow.. ",
    "OfTheWolf": "If you create AKNodeRecorder(node: mic) instance each time on pause and play it will restart the record file. But i have seen that if you create instance once and just call recorder.record() / recorder.stop() on play / pause it will append to the record file. I don't know if there is a doc about this. i noticed that just by experience.. ",
    "pardeike": "Yes, I have a project using the latest beta of Xcode 8.3 and I tried AudioKit via Carthage.. ",
    "fobin": "This seems to be the issue with yesterdays release of 10.12.4 and Xcode updating using swift 3.1.\n\nAnd using cocoapods.. ",
    "pavan309": "I am using AudioKit 3.5.3, Xcode 8.2 on iOS 10.2.1. Hi Aure,\nSorry for posting in both places. Some how I missed google group before posting it here.\nI have attached the code as an attachment to this comment. I was unable to attach AudioKit framework as GitHub is allowing me to only attach files below 10mb. So can you please add the framework after downloading.\nTo give you more context on this issue, it is only happening only on devices iOS 10.2 and above. Some times its device specific too, we are unable to reproduce in iPhone 5 and 5 SE even on iOS 10.2.1\nRegarding the sample code, please record something before playing.\nSampleAudio.zip\nThank you for taking time for helping us with this issue. :). Hi,\nJust figured out the issue on why it is happening, raised a PR to fix it. Not sure on larger scope of the project if that change will work or not.\nPlease let me know if you are happy with the change or not.\nThanks. . Do you think the reason I am seeing this issue because of the condition that was added in this commit in the method displayLinkNeedsDisplay?. Hi Aure,\nI have raised PR which I think it will fix. Do let me know if that works.\nIs there a way where I can debug AudioKit code along with the my code?\nThanks.. ",
    "frasersdev": "indeed, and easily worked around by putting onto an insensitive HFS filesystem. \ncheers,\nF. ",
    "Legoless": "Definitely, this was just an example, how this can be done. Surely we do not need to build it for all platforms. Likely the build_frameworks.sh script would need to be modified to take a parameter which platform to build. I think it's possible to do something like this:\ns.ios.prepare_command = ...\ns.tvos.prepare_command = ...\nAs for the build time, it is not really a problem. Both Realm and OpenCV do this. Alternatively, this could be a separate Podspec, like AudioKitSwift or something like that, while keeping the original one intact.. ",
    "tonyashah": "Aure, \nYou mention \"for now, we did come out with a release within a day of the new Xcde being officially released.\"\nMy XCode updated this AM, and not my project won't build due to the AudioKit module being compiled with Swift 3.0.2 (vs 3.1).  I have tried removing / re-installing via my Podfile (currently pop 'AudioKit', '~.3.5'), but no dice.  Any suggestions?  I suppose I can simply stop using Cocoapods & compile from source, but I thought I would double-check ,first just in case I a missing something...\nThanks in advance!. Sure sounds plausible to me, thanks for the tip!  After installing / removing the framework with Cocoapods (clean, restarting, searching for rogue AudioKit mentions, etc), I finally opted to just manually move the a copy of framework 3.5.4 over, and it worked.  \nCheers!. ",
    "alenak11": "I made a work around by adding an observer of AVAudioSessionRouteChange notification to my code, and calling AudioKit.start() whenever I get this notification. This works on my device and it fixed the problem with strange behaviour on my iPhone, however I got a new crash report from a user today (on iPhone 6).\nNow AudioKit.start () is throwing an exception:\n0   libswiftCore.dylib              0x000000010079f30c TTSfq4n_s_n_n_nTFs17assertionFailureFTVs12StaticStringSS4fileS_4lineSu5flagsVs6UInt32_Os5Never + 164 (hidden#17347:134)\n1   libswiftCore.dylib              0x000000010079f30c TTSfq4n_s_n_n_nTFs17assertionFailureFTVs12StaticStringSS4fileS_4lineSu5flagsVs6UInt32_Os5Never + 164 (hidden#17347:134)\n2   AudioKit                        0x00000001002f4690 TZFC8AudioKit8AudioKit5startfT_T + 1264 (AudioKit.swift:191). ",
    "pjvea": "No problem! I will continue to look into it as well. . ",
    "leejust": "I use iPhone 6s and show the availableInputs is one device. But using EZaudio the inputs content three.So if it is possible to get more inputs in audioKit, please give me some advice.Thank you.. I try to use EZAudio to control inputs and use AudioKit to process audio and find it work! But sometimes when I stop and reopen the AudioKit ,I get a crash like this:\n\nError: Failed to fill complex buffer in float converter ('insz')\n\nI check all my codes and didn't find any problem.The only change is that I add EZAudio to my program . I replace EZAudio included in AudioKit to source  EZAudio and until now I don't get that crash anymore.\nAnd in my project I get another crash:\n\nTerminating app due to uncaught exception 'com.apple.coreaudio.avfaudio', reason: 'required condition is false: hwFormat'\n\nand this is a small probability of crash when I run the program on iPhone 7(p) .I try it on 6 and iPad Pro and it work fine. \nI am a complete beginner to audio progressing so I don't have any idea. Maybe you can do something about this.\nFinally,I appreciate all you did. AudioKit is a great Project. Best wishes to you.. @aure I write a demo using OC and all the code as follows:\n\nimport \"ViewController.h\"\nimport \nimport \n@interface ViewController ()\n@property (nonatomic, strong)AKNodeOutputPlot *plot;\n@property (nonatomic, strong)AKNode *akMic;\n@property (nonatomic, strong) UIPickerView *pickerView;\n@property (nonatomic, strong) EZMicrophone *ezMic;\n@property (nonatomic, strong) NSArray *inputs;\n@end\ndefine rgba(r, g, b, a) [UIColor colorWithRed:r / 255.0 green:g / 255.0 blue:b / 255.0 alpha:a]\n@implementation ViewController\n\n\n(void)viewDidLoad {\n    [super viewDidLoad];\nself.akMic = [[AKMicrophone alloc] init];\n[AudioKit setOutput:self.akMic];\nself.plot = [[AKNodeOutputPlot alloc] init:self.akMic frame:CGRectMake(2, 60, self.view.frame.size.width - 4, self.view.frame.size.width* 70.f / 667.f - 4) bufferSize:1024];\nself.plot.plotType = EZPlotTypeBuffer;\nself.plot.shouldFill = YES;\nself.plot.backgroundColor = [UIColor clearColor];\nself.plot.shouldMirror = YES;\nself.plot.color = rgba(95,218,229,1);\n[self.view addSubview:self.plot];\nself.pickerView = [[UIPickerView alloc] initWithFrame:CGRectMake(0, 60 + self.view.frame.size.width 70.f / 667.f - 4 + 200, self.view.frame.size.width, self.view.frame.size.width 200.f / 667.f)];\n[self.view addSubview:self.pickerView];\nself.pickerView.delegate = self;\nself.pickerView.dataSource = self;\nself.ezMic = [EZMicrophone microphoneWithDelegate:self];\n[self.ezMic setOutput:[EZOutput sharedOutput]];\n[AudioKit start];\n// Do any additional setup after loading the view, typically from a nib.\n}\n\n\n(void)viewDidAppear:(BOOL)animated {\n[super viewDidAppear:animated];\nself.inputs = [EZAudioDevice inputDevices];\n[self.pickerView reloadAllComponents];\n\n\n}\npragma mark - UIPickerViewDelegate\n\n(NSInteger)numberOfComponentsInPickerView:(UIPickerView *)pickerView {\n    return 1;\n\n}\n\n\n(NSInteger)pickerView:(UIPickerView *)pickerView numberOfRowsInComponent:(NSInteger)component {\nreturn self.inputs.count;\n\n\n}\n//           setDevice\n- (NSString )pickerView:(UIPickerView )pickerView titleForRow:(NSInteger)row forComponent:(NSInteger)component {\nreturn self.inputs[row].name;\n\n}\n\n\n(void)pickerView:(UIPickerView *)pickerView didSelectRow:(NSInteger)row inComponent:(NSInteger)component {\n[self.ezMic setDevice:self.inputs[row]];\n\n\n}\npragma mark - EZMicrophoneDelegate\n\n(void)microphone:(EZMicrophone )microphone\n  hasAudioReceived:(float *)buffer\n    withBufferSize:(UInt32)bufferSize\nwithNumberOfChannels:(UInt32)numberOfChannels\n{\n\n//    __weak typeof (self) weakSelf = self;\n//  \n//    dispatch_async(dispatch_get_main_queue(), ^{\n//      \n//        [weakSelf.audioPlot updateBuffer:buffer[0] withBufferSize:bufferSize];\n//      \n//      \n//    });\n}\n//------------------------------------------------------------------------------\n\n\n(void)microphone:(EZMicrophone *)microphone hasAudioStreamBasicDescription:(AudioStreamBasicDescription)audioStreamBasicDescription\n{\n//    [MFEZAudioUtilities printASBD:audioStreamBasicDescription];\n\n\n}\n//------------------------------------------------------------------------------\n\n(void)microphone:(EZMicrophone )microphone\n     hasBufferList:(AudioBufferList )bufferList\n    withBufferSize:(UInt32)bufferSize\nwithNumberOfChannels:(UInt32)numberOfChannels\n{\n\n}\n//------------------------------------------------------------------------------\n\n(void)microphone:(EZMicrophone )microphone changedDevice:(EZAudioDevice )device\n{__weak typeof(self) weakSelf = self;\n\ndispatch_async(dispatch_get_main_queue(), ^{\n\n    NSLog(@\"mic output change\");\n\n    weakSelf.inputs = [EZAudioDevice inputDevices];\n\n    [weakSelf.pickerView reloadAllComponents];\n\n});\n\n\n\n}\n\n\n(void)outputDeviceChanged:(NSNotification *)aNotification\n{\nNSLog(@\"output device change\");\ndispatch_async(dispatch_get_main_queue(), ^{\nself.inputs = [EZAudioDevice inputDevices];\n\n});\n\n\n}\n\n(void)didReceiveMemoryWarning {\n    [super didReceiveMemoryWarning];\n    // Dispose of any resources that can be recreated.\n}\n@end\n\n\n\nAnd scroll the pickerView you can change the input mic so maybe it is not a native way to solve this problem but it really work.Hope this can help you.\n. @aure I don't know how to get the input device list without using EZAudio. availableInputs in AudioKit is only one device.So I have to change EZMicrophone's input device and don know the reason but it also change AKMicrophone's input.And what's that mean of more options?I just got three EZAudioDeivce instance from EZAudio availableInputs.. @aure \nI don't know why this difference happens.\n```\n    self.inputs = [EZAudioDevice inputDevices];\nself.akInputs = [AudioKit availableInputs];\n\nNSLog(@\" AKAudioOutputs = %@ \\n EZAudioOutputs = %@  \", _akInputs, _inputs);\n\n```\nAKAudioOutputs = (\n    \"<Device: iPhone \\U9ea6\\U514b\\U98ce (Built-In Microphone)>\"\n) \n EZAudioOutputs = (\n    \"<EZAudioDevice: 0x170226220> { port: <AVAudioSessionPortDescription: 0x174010d80, type = MicrophoneBuiltIn; name = iPhone \\U9ea6\\U514b\\U98ce; UID = Built-In Microphone; selectedDataSource = \\U4e0b>, data source: <AVAudioSessionDataSourceDescription: 0x170010b00, ID = 1835216945; name = \\U4e0b> }\",\n    \"<EZAudioDevice: 0x1702261e0> { port: <AVAudioSessionPortDescription: 0x174010d80, type = MicrophoneBuiltIn; name = iPhone \\U9ea6\\U514b\\U98ce; UID = Built-In Microphone; selectedDataSource = \\U4e0b>, data source: <AVAudioSessionDataSourceDescription: 0x170010a20, ID = 1835216946; name = \\U524d> }\",\n    \"<EZAudioDevice: 0x170225820> { port: <AVAudioSessionPortDescription: 0x174010d80, type = MicrophoneBuiltIn; name = iPhone \\U9ea6\\U514b\\U98ce; UID = Built-In Microphone; selectedDataSource = \\U4e0b>, data source: <AVAudioSessionDataSourceDescription: 0x170010a10, ID = 1835216947; name = \\U8fd4\\U56de> }\"\n)\nAnd I also agree that AudioKit could list all device as well. Otherwise you would not call it as availableInputs :). I 'm sorry I can do nothing and just watching. Really hope you can fix it.Good luck\uff01. ",
    "WebberLai": "First , I have to thank @aure  that you create a such great framework\nAnd I also have the same need as this issue\nie. When using external sound card via lightning cable , in EZAudio still not enough for this case, if you just select specific device , you also need select specific inputs\nFor me , I use Apogee Quartet recording interface , It has 4 analog input , so when I use Garage band ,I have to select which input is I want , not just select Quartet. \nMy suggestion is add a \"Setting Input/Output\" example , Like this image(It is setting app by Apogee - Maestro )\n/ Update /\nIn iOS Garage Band I can select input channels , how to do list available channels , And select specific one ??? \n\n. OKAY , Thank you . Thanks : )\nI think you must face some problem you have check your code is working correct \nafter connect to external device \nCan't see the log for developing is a pain in the ass .... Hi , I just think maybe you don't need to get a quartet , I think Duet is enough for testing. Amazing ~ I will pull new code today , and test it later \nMany thanks . Sorry , I forgot to ask , how can I verify that I can select other inputs for recording ???. The link this exactly I neeeeeeeeeed !!!\nThank you\nBTW,Quartet works on iOS , but only if input is from \"input1\". ",
    "bencbernstein": "makes sense, cheers. ",
    "sweetmandm": "thanks hound :D sorry, wish i'd seen the lint rules before submitting this, I'll clean this up. Ah somehow I totally missed that, should be fixed in 22c264d. Cool I can get to it tomorrow as well, sorry to submit a busted build, been cramming this into those spare moments :P. Thanks for the merge! And for a really great piece of open-source. I haven't looked into any of the other issues too deeply yet but I'm happy to keep looking for issues to pick off as I hack around with this project and get more acquainted with it. . ",
    "zakkhoyt": "I apologize for submitting to the incorrect branch. Glad you found the PR\nuseful enough to merge.\nI've been updating a project which now uses AudioKit. It's a very nice\nframework vs doing AudioUnit code with Swift. Thanks much for publishing\nit.\n-Zakk\nOn Mon, Apr 3, 2017 at 10:21 AM, Aurelius Prochazka \nnotifications@github.com wrote:\n\nMerged #835 https://github.com/audiokit/AudioKit/pull/835.\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/audiokit/AudioKit/pull/835#event-1026907003, or mute\nthe thread\nhttps://github.com/notifications/unsubscribe-auth/ACIEoBw52fJGxTLpfpPc7TANwKqUs37Eks5rsSqRgaJpZM4Mx1aY\n.\n. \n",
    "erngarcar": "Hi, the problem seems to be the line 328 from /AudioKit/Common/Internals/Audio File/AKAudioFile+ProcessingAsynchronously.swift\nI think that instead of \n        let asset = AVURLAsset(url: URL(fileURLWithPath: url.absoluteString))\nit should be like this\n        let asset = AVURLAsset(url: url)\nBest regards.. ",
    "Audiograins": "I had this same error until I reverted this change (I was building from source in my project). Is this a change from Swift 3.0 to 3.1?. Thanks Aure, Sorry, I wasn't clear in my earlier comment since I'm using AudioKit3.6\nI'm still using Swift 3.0.2 as I can't upgrade Xcode just yet, but using AudioKit 3.6 source (so I had this fix in my project). It seems to me that the fix for this issue works only with Swift 3.1 but fails for earlier versions, so I reverted to the old code and it seems to work now. I think the reason given by hwiorn is probably correct but couldn't find anything in the Swift documentation to confirm a change between Swift 3.0 and 3.1 that would cause this issue in the first place.. Thanks Aure, I just updated the code with AKSettings.numberOfChannels = 1 and load only mono files but I get the same error, so that doesn't seem to be the case. That should be easy enough to do alright. Is there a function or approach in AudioKit to do this already?. ",
    "hwiorn": "@Audiograins \nI have a same error.\nI think AVURLAsset(url:URL) make \"file://\" prefix to file path in Swift 3.0. In 3.1, however, there is no \"file://\" prefix.(It is only speculation.)\nI tested using below code.\n/AudioKit/Common/Internals/Audio File/AKAudioFile+ProcessingAsynchronously.swift:328\nvar asset = AVURLAsset(url: url)\n        if !asset.isExportable {\n            asset = AVURLAsset(url: URL(fileURLWithPath: url.absoluteString))\n        }. I got same error on iPhone5(iOS 9.3.3) and Xcode 8.2.1(Swift 3.0.2) and AudioKit 3.6. So it seems to be not related to version of swift or Xcode.  \nI don't know why url of AKAudioFile(AVAudioFile) has a url file scheme(file://) in previous of this commit(ab6c72006b913213e1192f99111fddc121675dde). It may be due to a side effect of other commit in AudioKit 3.6.\n/AudioKit/Common/Internals/Audio File/AKAudioFile+ProcessingAsynchronously.swift:328\nlet asset = AVURLAsset(url: url) # asset.isExportable == false, in AudioKit 3.6\n        let asset = AVURLAsset(url: URL(fileURLWithPath: url.absoluteString))  # asset.isExportable == true\nFollowing is simple playground test code\n```\n//: Playground - noun: a place where people can play\nimport UIKit\nimport AVFoundation\nlet f = \"/System/Library/Sounds/Basso.aiff\"\nlet asset = AVURLAsset(url: URL(string: f)!)\nlet asset2 = AVURLAsset(url: URL(fileURLWithPath: f))\nprint(\"url: (asset.url.absoluteString) exportable: (asset.isExportable)\")\nprint(\"url2: (asset2.url.absoluteString) exportable: (asset2.isExportable)\")\nResult:\nurl: /System/Library/Sounds/Basso.aiff exportable: false\nurl2: file:///System/Library/Sounds/Basso.aiff exportable: true\n```. ",
    "JSMilton": "Ah ok, I'll update to use the property setter. The reason I didn't was because there are other properties, such as tempo and length, that have a separate method for the setter so I thought that was the style you guys were going for.  . I'll probably just update the Demo for now, then I'll make a separate PR if I get round to refactoring the property setters. Cheers! . ",
    "NathanWalker": "Thank you for the insight @megastep - I may try simplifying the enum in a fork and rebuild the frameworks and see if that helps.. Totally understand @aure - would be too large an undertaking for such an elegant Swift codebase at moment. In meantime, I was able to expose the methods I need to ObjC by flattening the complex enum's, ie:\n```\n@objc public enum ExportFormat: Int {\n        /// Waveform Audio File Format (WAVE, or more commonly known as WAV due to its filename extension)\n        case wav\n    /// Audio Interchange File Format\n    case aif\n\n    /// MPEG-4 Part 14 Compression\n    case mp4\n\n    /// MPEG 4 Audio\n    case m4a\n\n    /// Core Audio Format\n    case caf\n\n}\n\n// MARK: - AKAudioFile public interface with private AKAudioFile ProcessFactory singleton\n\n// Returns a Uniform Type identifier for each audio file format\nstatic public func stringUTI(type: ExportFormat) -> CFString {\n    switch type {\n    case .wav:\n        return AVFileTypeWAVE as CFString\n    case .aif:\n        return AVFileTypeAIFF as CFString\n    case .mp4:\n        return AVFileTypeAppleM4A as CFString\n    case .m4a:\n        return AVFileTypeAppleM4A as CFString\n    case .caf:\n        return AVFileTypeCoreAudioFormat as CFString\n    }\n}\n\n// Available Export Formats\nstatic public var supportedFileExtensions: [String] {\n    return [\"wav\", \"aif\", \"mp4\", \"m4a\", \"caf\"]\n}\n\n```\nThen adjusting the usage throughout and that opened all those extensions up to ObjC.. ",
    "Pikachu7074": "thank u for your answer ,Aure numberOfChannels is 1 or 2 ,. ",
    "DiAvisoo": "Updated Xcode with Swift 3.1, solved the problem.. ",
    "Greenwell": "I am getting the exact same error in the exact same scenario.. Good point! I've submitted another pull request addressing that.. ",
    "hhanesand": "The let asset = AVURLAsset(url: url) code snippet discussed in #839 is still present in master...\nI monkey patched it with the following code : \nThis is just a temporary solution\n```swift\nimport Foundation\nimport AudioKit\nextension AKAudioFile.ExportFormat {\nfileprivate var UTI: CFString {\n    switch self {\n    case .wav:\n        return AVFileTypeWAVE as CFString\n    case .aif:\n        return AVFileTypeAIFF as CFString\n    case .mp4:\n        return AVFileTypeAppleM4A as CFString\n    case .m4a:\n        return AVFileTypeAppleM4A as CFString\n    case .caf:\n        return AVFileTypeCoreAudioFormat as CFString\n    }\n}\n\n// Available Export Formats\nstatic var supportedFileExtensions: [String] {\n    return [\"wav\", \"aif\", \"mp4\", \"m4a\", \"caf\"]\n}\n\n}\nextension AKAudioFile {\nfileprivate class ExportSession {\n    fileprivate var avAssetExportSession: AVAssetExportSession\n    fileprivate var id: Int\n    fileprivate var callback: AsyncProcessCallback\n\n    fileprivate init(AVAssetExportSession avAssetExportSession: AVAssetExportSession,\n                     callback: @escaping AsyncProcessCallback) {\n        self.avAssetExportSession = avAssetExportSession\n        self.callback = callback\n        self.id = ExportFactory.lastExportSessionID\n        ExportFactory.lastExportSessionID += 1\n    }\n}\n\n// Export Factory is a singleton that handles Export Sessions serially\nfileprivate class ExportFactory {\n\n    fileprivate static var exportSessions = [Int: ExportSession]()\n    fileprivate static var lastExportSessionID: Int = 0\n    fileprivate static var isExporting = false\n    fileprivate static var currentExportProcessID: Int = 0\n\n    // Singleton\n    static let sharedInstance = ExportFactory()\n\n    fileprivate static func completionHandler() {\n\n        if let session = exportSessions[currentExportProcessID] {\n            switch session.avAssetExportSession.status {\n            case  AVAssetExportSessionStatus.failed:\n                session.callback(nil, session.avAssetExportSession.error as NSError?)\n            case AVAssetExportSessionStatus.cancelled:\n                session.callback(nil, session.avAssetExportSession.error as NSError?)\n            default :\n                if  let outputURL = session.avAssetExportSession.outputURL {\n                    do {\n                        let audiofile = try AKAudioFile(forReading: outputURL)\n                        session.callback(audiofile, nil)\n                    } catch let error as NSError {\n                        session.callback(nil, error)\n                    }\n                } else {\n                    AKLog(\"ERROR AKAudioFile export: outputURL is nil!...\")\n                    session.callback(nil,\n                                     NSError(\n                                        domain: NSURLErrorDomain,\n                                        code: NSURLErrorCannotCreateFile,\n                                        userInfo: nil))\n                }\n            }\n            AKLog(\"ExportFactory: session #\\(session.id) Completed\")\n            exportSessions.removeValue(forKey: currentExportProcessID)\n            if !exportSessions.isEmpty {\n                //currentExportProcessID = exportSessions.first!.0\n                currentExportProcessID += 1\n                AKLog(\"ExportFactory: exporting session #\\(currentExportProcessID)\")\n                exportSessions[currentExportProcessID]!.avAssetExportSession.exportAsynchronously(\n                    completionHandler: completionHandler\n                )\n\n            } else {\n                isExporting = false\n                AKLog(\"ExportFactory: All exports have been completed\")\n            }\n        } else {\n            AKLog(\"ExportFactory: Error : sessionId:\\(currentExportProcessID) doesn't exist!\")\n        }\n    }\n\n    // Append the exportSession to the ExportFactory Export Queue\n    fileprivate static func queueExportSession(session: ExportSession) {\n        exportSessions[session.id] = session\n\n        if !isExporting {\n            isExporting = true\n            currentExportProcessID = session.id\n            AKLog(\"ExportFactory: exporting session #\\(session.id)\")\n            exportSessions[currentExportProcessID]!.avAssetExportSession.exportAsynchronously(\n                completionHandler: completionHandler\n            )\n        } else {\n            AKLog(\"ExportFactory: is busy!\")\n            AKLog(\"ExportFactory: Queuing session #\\(session.id)\")\n        }\n    }\n}\n\npublic func REMOVE_ME_SOON_exportAsynchronously(name: String, baseDir: BaseDirectory, exportFormat: ExportFormat, fromSample: Int64 = 0, toSample: Int64 = 0, callback: @escaping AsyncProcessCallback) {\n    let fromFileExt = fileExt.lowercased()\n\n    // Only mp4, m4a, .wav, .aif can be exported...\n    guard ExportFormat.supportedFileExtensions.contains(fromFileExt) else {\n        AKLog(\"ERROR: AKAudioFile \\\".\\(fromFileExt)\\\" is not supported for export.\")\n        callback(nil,\n                 NSError(domain: NSURLErrorDomain, code: NSURLErrorCannotCreateFile, userInfo: nil))\n        return\n    }\n\n    // Compressed formats cannot be exported to PCM\n    let fromFileFormatIsCompressed = (fromFileExt == \"m4a\" || fromFileExt == \"mp4\")\n    let outFileFormatIsCompressed = (exportFormat == .m4a || exportFormat == .mp4 )\n\n    // set avExportPreset\n    var avExportPreset: String = \"\"\n\n    if fromFileFormatIsCompressed {\n        if !outFileFormatIsCompressed {\n            AKLog(\"ERROR AKAudioFile: cannot export from .\\(fileExt) to .\\(String(describing: exportFormat))\")\n            callback(nil, NSError(domain: NSURLErrorDomain, code: NSURLErrorCannotCreateFile, userInfo: nil))\n        } else {\n            avExportPreset = AVAssetExportPresetPassthrough\n        }\n    } else {\n        if outFileFormatIsCompressed {\n            avExportPreset = AVAssetExportPresetAppleM4A\n        } else {\n            avExportPreset = AVAssetExportPresetPassthrough\n        }\n    }\n\n    let asset = AVURLAsset(url: URL(fileURLWithPath: url.absoluteString))\n    if let internalExportSession = AVAssetExportSession(asset: asset, presetName: avExportPreset) {\n        AKLog(\"internalExportSession session created\")\n\n        var filePath: String = \"\"\n        var fileName = name\n\n        let fileExt = String(describing: exportFormat)\n\n        // only add the file extension if it isn't already there\n        if !fileName.hasSuffix(fileExt) {\n            fileName += \".\" + fileExt\n        }\n\n        switch baseDir {\n        case .temp:\n            filePath = (NSTemporaryDirectory() as String) + fileName\n        case .documents:\n            let documentsPath = NSSearchPathForDirectoriesInDomains(.documentDirectory, .userDomainMask, true)[0]\n            filePath = documentsPath + \"/\" + fileName\n        case .resources:\n            AKLog(\"ERROR AKAudioFile export: cannot create a file in applications resources\")\n            callback(nil,\n                     NSError(domain: NSURLErrorDomain, code: NSURLErrorCannotCreateFile, userInfo: nil))\n        // Save in same directory as original file\n        case .custom:\n            let defaultBase: URL = url.deletingLastPathComponent()\n            filePath = defaultBase.path +  \"/\" + fileName\n        }\n\n        guard let nsurl = URL(string: filePath) else {\n            AKLog(\"ERROR AKAudioFile export: directory \\\"\\(filePath)\\\" isn't valid\")\n            callback(nil,\n                     NSError(domain: NSURLErrorDomain, code: NSURLErrorCannotCreateFile, userInfo: nil))\n            return\n        }\n        let directoryPath = nsurl.deletingLastPathComponent()\n        // Check if directory exists\n        let fileManager = FileManager.default\n        if fileManager.fileExists(atPath: (directoryPath.absoluteString)) == false {\n            AKLog(\"ERROR AKAudioFile export: directory \\\"\\(directoryPath)\\\" doesn't exists!...\")\n            callback(nil,\n                     NSError(domain: NSURLErrorDomain, code: NSURLErrorCannotCreateFile, userInfo: nil))\n        }\n\n        // Check if out file exists\n        if fileManager.fileExists(atPath: nsurl.absoluteString) {\n            // Then delete file\n            AKLog(\"AKAudioFile export: Output file already exists, trying to delete...\")\n            do {\n                try fileManager.removeItem(atPath: nsurl.absoluteString)\n            } catch let error as NSError {\n                AKLog(\"Error !!! AKAudioFile: couldn't delete file \\\"\\(nsurl)\\\" !...\")\n                AKLog(error.localizedDescription)\n                callback(nil, error)\n            }\n            AKLog(\"AKAudioFile export: Output file has been deleted !\")\n        }\n\n        internalExportSession.outputURL = URL(fileURLWithPath: filePath)\n        // Sets the output file encoding (avoid .wav encoded as m4a...)\n        internalExportSession.outputFileType = exportFormat.UTI as String\n\n        // In and OUT times triming settings\n        let inFrame: Int64\n        let outFrame: Int64\n\n        if toSample == 0 {\n            outFrame = samplesCount\n        } else {\n            outFrame = min(samplesCount, toSample)\n        }\n\n        inFrame = abs(min(samplesCount, fromSample))\n\n        if outFrame <= inFrame {\n            AKLog(\"ERROR AKAudioFile export: In time must be less than Out time!...\")\n            callback(nil,\n                     NSError(domain: NSURLErrorDomain, code: NSURLErrorCannotCreateFile, userInfo: nil))\n        }\n        let startTime = CMTimeMake(inFrame, Int32(sampleRate))\n        let stopTime = CMTimeMake(outFrame, Int32(sampleRate))\n        let timeRange = CMTimeRangeFromTimeToTime(startTime, stopTime)\n        internalExportSession.timeRange = timeRange\n\n        let session = ExportSession(AVAssetExportSession: internalExportSession, callback: callback)\n\n        ExportFactory.queueExportSession(session: session)\n\n    } else {\n        AKLog(\"ERROR AKAudioFile export: cannot create AVAssetExportSession!...\")\n        callback(nil, NSError(domain: NSURLErrorDomain, code: NSURLErrorCannotCreateFile, userInfo: nil))\n        return\n    }\n}\n\n}\n``. Probably just a merge error. I copied theAudioKitfolder into my project folder, added theAudioKit.xcodeprojto my project in Xcode, and then added theAudioKit.frameworkto the Embedded Binaries, and also automatically did steps 2 and 3.. @kvacquier Building from source is also an option if you can't get this resolved.. I managed to fix this by editingAKAudioPlayer` function on line 660 to this :\nDispatchQueue.main.async {\n    self.stop()\n    self.completionHandler?()\n}. @glm4 are you installing any taps anywhere else in your program?. I believe `mixloop` and `player` will go out of scope if they are not saved in instance variables.\n\nThis was in the issue template. https://vimeo.com/audiokit/connecting-nodes-part-2. Are you saving mixloop in an instance variable? Either that, or there is some issue with your file.\nCheck https://stackoverflow.com/a/34563535/4080860 for suggestions. Make sure the initializer for AKAudioFile you are using ends up calling the same init function as described by the person in SO answer.\nIf that does not fix, I'm all out of ideas. You should post the updated code so someone else can take a look.\nBTW, you can look up the error codes on https://www.osstatus.com (doesn't give you any more info than what you have here, but its a useful tool). so lazy buffering doesn't start loading the data into the pcm buffer until after the player is started?\nforgive me for being obtuse, but if so, what's the use case for lazy loading?. > feels a little like application logic\n\nInit-ing them all at startup can take up to 3s on older devices\n\nwhy init them all at start up if they're for different levels in the game?. I'm not too sure about the specific mechanics of stopping/starting/hotswapping, but I found this on Apple's documentation.\n\nYou create each audio node separately and attach it to the audio engine. You can perform all audio node operations during runtime\u2014connecting them, disconnecting them, and removing them\u2014with only minor limitations:\nReconnect audio nodes only when they are upstream of a mixer.\nIf you remove an audio node that has differing input and output channel counts, or which is a mixer, the result will likely be a broken graph.. Doesn't that still leave the question of how to synchronize the start of playback with the start of recording?. Ah, I see. Thanks so much!. This isn't working as expected yet, I'm getting a callback before the clip finishes. Gotta go read docs...\ndid recieve time playback 3.377000\ntrack with length 4.71793650793651 finished. this IS the longest track. looping true\nlooping!. As it is right now, this is only useful to me on iOS11, because of the new callback APIs provided. This lets us do something like this :\nNotice the completionCallbackType that lets us specify that we want the callback to happen after playback.\n\n```swift\nlet completion = completion.flatMap { (completion) in\n    return { (_ type: AVAudioPlayerNodeCompletionCallbackType) in\n        completion()\n    }\n}\nplayerNode.scheduleSegment(audioFile, startingFrame: offsetFrame, frameCount: frameCount, at: startTime, completionCallbackType: .dataPlayedBack, completionHandler: completion)\n```\nThat leaves this PR kind of in limbo until iOS11 comes out... The callback was getting called early because of this.\n@dave234 I don't see this addition being useful to anyone until we support only iOS11.  We could add an #available check, but that would result in the callback being called earlier on pre-ios11 versions....\n(I'm ok with there being a delay between loops). ",
    "icare-petibles": "all my excuses. ",
    "MDBox": "That could be the case.  It was the default cocoapod build with pod install command. Perhaps the issue is with cocoapod itself. I'm not sure why the file is needed at all in the cocoa package but I'm not that familiar to know one way or another.  Anyways thanks for your comment I'll check out if there are settings I can adjust or integrate the framework another way.  . I just reinstalled pod and version 3.6 and didn't have the problem this time.  Not sure the root cause but perhaps it is safe to close this issue.  . ",
    "StefanNestorov": "I have the same problem with the latest version of AudioKit integrated by cocoa pods. Had to manualy delete the fix-framework.sh file from the archive to be able to upload the build.. ",
    "luizv": "I have the same crash when trying to offlineRender.renderToUrl(_:) an AKAudioFile created with mono settings. ie.:\n    settings[\"AVNumberOfChannelsKey\"] = 1 // only one channel\n\nDirect offlineRender.renderToURL(_:) is supported for mono files?\nAKConvolution >>> AKOfflineRenderNode is still the recommended procedure?. Reporting that I have the same problem with SongProcessor demo. When I export default app generated guitar samples, it turns out to be a silent file. Built it from Xcode 9.4.1 into an Ipad Mini with iOS 9.3.\nI'm trying it because I can't make offline render to work (I need to support iOS < 11).\nI need export audio direct from player, modified by AKTimePitch. My last try was with self.player.audioFile?.exportAsyncronous method, but it returns me the original sound without volume/pitch/tempo changes. (renderToFile works great with iOS >= 11).\nPlease, can anyone dealing with same problem shed some light on how to proceed?. ",
    "mnearents": "I am also getting an exception error. I changed nothing in my code except upgrading from 3.5 to 3.6. \n54: ERROR: >avae> AVAudioEngineGraph.mm:2515: PerformCommand: error -10851\nMy setup code:\n AKSettings.bufferLength = .medium\n\n    do {\n        try AKSettings.setSession(category: .playAndRecord, with: .defaultToSpeaker)\n    } catch {\n        print(\"Errored setting category.\")\n    }\n    AKAudioFile.cleanTempDirectory()\n\n    // Session settings\n    AKSettings.bufferLength = .medium\n    AKSettings.defaultToSpeaker = true\n\n    // Patching\n    let mic = AKMicrophone()\n    let micMixer = AKMixer(mic)\n    micBooster = AKBooster(micMixer)\n\n    // Will set the level of microphone monitoring\n    micBooster!.gain = 0\n    recorder = try? AKNodeRecorder(node: micMixer)\n    player = try? AKAudioPlayer(file: (recorder?.audioFile)!)\n    player?.looping = false\n    player?.completionHandler = playingEnded\n\n    moogLadder = AKMoogLadder(player!)\n\n    let mainMixer = AKMixer(moogLadder!, micBooster!)\n\n    AudioKit.output = mainMixer\n    AudioKit.start()\n\nAll I'm trying to do in my app is record audio. No effects or audio processing of any kind. It's basically a voice memos type app.. Actually, here is the entire output if it helps:\n54: ERROR: >DDAgg> DefaultDeviceAggregate.cpp:724: BuildAggregate: Error finding valid input or output devices!\n318: error -66680 finding/initializing AQDefaultDevice\n892: failed: -10851 (enable 1, outf< 2 ch,      0 Hz, Int16, inter> inf< 2 ch,      0 Hz, Int16, inter>)\n318: error -66680 finding/initializing AQDefaultDevice\n108: * * * NULL AQIONode object\n771: Can't make UISound Renderer\ninitialize() AKAudioPlayer Warning:  \"976E8C71-7E07-43B1-866A-DD4364362E56.caf\" is an empty file\n318: error -66680 finding/initializing AQDefaultDevice\n318: error -66680 finding/initializing AQDefaultDevice\n892: failed: -10851 (enable 3, outf< 2 ch,      0 Hz, Int16, inter> inf< 2 ch,      0 Hz, Int16, inter>)\n318: error -66680 finding/initializing AQDefaultDevice\n318: error -66680 finding/initializing AQDefaultDevice\n892: failed: -10851 (enable 3, outf< 2 ch,  44100 Hz, Float32, non-inter> inf< 2 ch,      0 Hz, Int16, inter>)\n54:   ERROR:    >avae> AVAudioEngineGraph.mm:2515: PerformCommand: error -10851\n *** Terminating app due to uncaught exception 'com.apple.coreaudio.avfaudio', reason: 'error -10851'\n*** First throw call stack:\n(\n0   CoreFoundation                      0x0000000114aa8b0b __exceptionPreprocess + 171\n1   libobjc.A.dylib                     0x000000011410e141 objc_exception_throw + 48\n2   CoreFoundation                      0x0000000114aaccf2 +[NSException raise:format:arguments:] + 98\n3   AVFAudio                            0x0000000115f9ca9e _Z19AVAE_RaiseExceptionP8NSStringz + 158\n4   AVFAudio                            0x0000000115f41cf0 _ZNK18AVAudioEngineGraph14PerformCommandER11AUGraphNodeNS_12ENodeCommandEPvj + 1764\n5   AVFAudio                            0x0000000115f42a42 _ZN18AVAudioEngineGraph10InitializeEv + 524\n6   AVFAudio                            0x0000000115fa5145 _ZN17AVAudioEngineImpl10InitializeEv + 29\n7   AVFAudio                            0x0000000115fa45a4 -[AVAudioEngine prepare] + 58\n8   AudioKit                            0x0000000113a24e63 _TZFC8AudioKit8AudioKit5startfT_T_ + 371\n9   Audiomesh                           0x000000010debebfc _TFC9Audiomesh13RecorderModal11viewDidLoadfT_T_ + 3052\n10  Audiomesh                           0x000000010debefb2 _TToFC9Audiomesh13RecorderModal11viewDidLoadfT_T_ + 34\n11  UIKit                               0x0000000111bb3cca -[UIViewController loadViewIfRequired] + 1235\n12  UIKit                               0x0000000111bb410a -[UIViewController view] + 27\n13  UIKit                               0x0000000111c005eb -[UINavigationController preferredContentSize] + 197\n14  UIKit                               0x0000000111b938bf -[UIPresentationController preferredContentSizeDidChangeForChildContentContainer:] + 64\n15  UIKit                               0x0000000111b8f893 __56-[UIPresentationController runTransitionForCurrentState]_block_invoke + 109\n16  UIKit                               0x0000000111a1d7f3 _runAfterCACommitDeferredBlocks + 318\n17  UIKit                               0x0000000111a0a7bc _cleanUpAfterCAFlushAndRunDeferredBlocks + 532\n18  UIKit                               0x0000000111a3c28c _afterCACommitHandler + 137\n19  CoreFoundation                      0x0000000114a4e717 __CFRUNLOOP_IS_CALLING_OUT_TO_AN_OBSERVER_CALLBACK_FUNCTION__ + 23\n20  CoreFoundation                      0x0000000114a4e687 __CFRunLoopDoObservers + 391\n21  CoreFoundation                      0x0000000114a33720 __CFRunLoopRun + 1200\n22  CoreFoundation                      0x0000000114a33016 CFRunLoopRunSpecific + 406\n23  GraphicsServices                    0x0000000116e2aa24 GSEventRunModal + 62\n24  UIKit                               0x0000000111a110d4 UIApplicationMain + 159\n25  Audiomesh                           0x000000010dede0c7 main + 55\n26  libdyld.dylib                       0x0000000115bbf65d start + 1\n27  ???                                 0x0000000000000001 0x0 + 1\n)\nlibc++abi.dylib: terminating with uncaught exception of type NSException. I'm not sure that's the issue. It was fully working before and after changing nothing, it now doesn't work. I have been successfully recording audio files until today. Plus, it's almost line for line based on the AudioKit recorder demo: http://audiokit.io/examples/RecorderDemo/. Yeah, I tried that and it still crashed. Here's the new code:\n\nvar recorder: AKNodeRecorder?\nvar mic: AKMicrophone?\nvar micMixer: AKMixer?\nvar mainMixer: AKMixer?\nvar player: AKAudioPlayer?\nvar micBooster: AKBooster?\nvar moogLadder: AKMoogLadder?\nvar delay: AKDelay?\n\nView did load:\ndo {\n        try AKSettings.setSession(category: .playAndRecord, with: .defaultToSpeaker)\n    } catch {\n        print(\"Errored setting category.\")\n    }\n\n    // Clean tempFiles !\n    AKAudioFile.cleanTempDirectory()\n\n    // Session settings\n    AKSettings.bufferLength = .medium\n    AKSettings.defaultToSpeaker = true\n\n    // Patching\n    mic = AKMicrophone()\n    //        inputPlot.node = mic\n    micMixer = AKMixer(mic)\n    micBooster = AKBooster(micMixer)\n\n    // Will set the level of microphone monitoring\n    micBooster!.gain = 0\n    recorder = try? AKNodeRecorder(node: micMixer)\n    player = try? AKAudioPlayer(file: (recorder?.audioFile)!)\n    player?.looping = false\n    player?.completionHandler = playingEnded\n\n    moogLadder = AKMoogLadder(player!)\n\n    mainMixer = AKMixer(moogLadder!, micBooster!)\n\n    AudioKit.output = mainMixer\n    AudioKit.start(). That's interesting, mine was crashing on the simulator. Just realized I was on Swift 3.1 instead of 3.1.1. Updating Xcode fixed my issues.. I am actually experiencing this same crash on the simulator. I have attached my internal mic's settings:\n\n\n. It crashes no matter what I select in the simulator hardware settings.. ",
    "kvacquier": "Removed then re-installed and that didn't worked.. That's really interresting. I works on an app using audio kit to analyse microphone & midi input to manage lightning fixtures and we planned to use Ableton Link so that's really interesting . \nI believe that sync/control need to be a separated control listener like the midi one that give informations from a listener to let the user do \"what he want\" with it ;) . ",
    "ZoebHusainSheikh": "Thanks, Have sent request to join. I have posted on group, can you please reply\nhttps://groups.google.com/forum/#!topic/audiokit/8XbQfrfpi-U. ",
    "marcussatellite": "I submitted the pull request before updating.. Doh!  I'm too mobile-centric...I keep forgetting mac os and tv os...I'll add the new files there\n. @mahal I am interested in developing methods for software instruments to play microtonal scales by any means necessary, including midi+pitch bend schemes, so I'm happy to work on this with you.  \nCurrently AKTuningTable doesn't limit you to 12 notes per octave (\"NPO\"), in fact most of the presets are 6 or 7 notes per octave.  I haven't designed how a \"deviation from equal temperament\" would work for non-12 NPO...not sure how, and am open to ideas that you have.\nHere are some illustrations for our discussion:\nHere's 12 ET:\n\nHere's a tempered 12 NPO scale...the \"deviation from 12\" scheme will work with scales like this:\n\nBut what about non-12 NPO scales?  Here's a 9 tone scale where the values are clustered.  How would a \"deviation from 12\" work for this?\n\nExample of more than 12 NPO: The popular 31 tone scale cannot be represented by \"deviation from 12\"\n\n. Brainstorming here...haven't thought this all the way through.  What if we did something like this:\nswift\npublic func etnnPitchBend(NN nn: MIDINoteNumber) -> (ETNN etnn: MIDINoteNumber, pitchbend pitchbend: Int)?\nGiven NN, AKTuningTable looks up frequency, then determines the nearest 12 ET NN + pitchbend and returns a tuple (ET_NN, PITCH_BEND).  For tunings of non-12 NPO the input NN and the output 12ET_NN would not be the same except for middle C.\nExample:\nUser has loaded a 7 NPO scale in AKTuningTable.  60nn = middle c.\nswift\nAKPolyphonicNode.tuningTable.etnnPitchBend(NN: 60) // returns (60, 8192) because input nn and 12etnn are the same for middle c, no pitchbend.\nswift\nAKPolyphonicNode.tuningTable.etnnPitchBend(NN: 67) // returns (72, 8192) because 67 is the octave of a 7NPO scale, 72 is the octave of 12ET, no pitchbend necessary\nswift\nAKPolyphonicNode.tuningTable.etnnPitchBend(NN: 127) // returns nil because the frequency of a 7NPO scale at 127nn is not representable by 12ETNN + pitchbend.\n. One more thing...we need to add a property for the range of pitch bend on your soft synth, typically given in cents.  Soft synths have different pitch bend ranges in general.  Users will have to make sure their soft synth pitch bend range matches their AKTuningTable pitch bend range.\ni.e., 0 -> -200 cents, 16384 -> +200 cents, \nor 0 -> -1200 cents, 16384 -> +1200 cents. Example of a default Kontakt instrument.  Note the 2 \"PB Range\" parameters: the lower maps to 0 [screen grab], and the upper maps to 16383.  Your application layer must bind the values of any soft synth you use to the pitch bend range of AudioKit's tuning table for the midi/pitchbend scheme to work.\n. And here's \"Massive\".  Note Pitchbend -> \"Up\" and \"Down\".  Your application must bind the values in the soft synth to those in the AKTuningTable proposal:\n. Workflow proposal for this scheme:\n1) In your soft synth set the pitch bend range to 50 cents for both up and down.  This will give an accuracy of 0.006 cents/pitch bend unit.\n2) In your soft synth: set voice mode to monophonic.\n3)  Set AKPolyphonicNode.tuningTable.etnnPitchBendRangeUp to 50, and AKPolyphonicNode.tuningTable.etnnPitchBendRangeDown to -50 (matches step 1)\n4) Load a tuning.  i.e., AKPolyphonicNode.tuningTable.presetHighlandBagpipes()\n5) In your application layer capture incoming midi notes from a sequencer/controller.  For each midi note lookup the transformed note number+pitchbend.  i.e., AKPolyphonicNode.tuningTable.etnnPitchBend(NN: 60)\n6) In your application layer output the transformed midi note number and pitch bend to the midi destination of your soft synth.. I coded up the request...I have not created a pull request yet.  Wanna try to put together a playground or something to go along with it.\nI tested Highland Bagpipes, a 7 tone scale, and logged the output (see below).  Because a 7 tone scale has a wider frequency range for 128 notes than a 12 tone scale, only notes 25-99 of the 7 tone scale can be mapped to 12 ET.  Notes 0-24 and 100-127 would be \"nil\".  \nNote that note number 60 is the same for both the 7 tone scale and 12et. \"60: (etNN: 60, pitchBend: 8191)\"\nupdateTuningTable() this tuning's note number:0 is out of range of 12ET note numbers:-42.9857698213692\nupdateTuningTable() this tuning's note number:1 is out of range of 12ET note numbers:-40.9804499913461\nupdateTuningTable() this tuning's note number:2 is out of range of 12ET note numbers:-39.5947233823069\nupdateTuningTable() this tuning's note number:3 is out of range of 12ET note numbers:-38.0053198300231\nupdateTuningTable() this tuning's note number:4 is out of range of 12ET note numbers:-36.0\nupdateTuningTable() this tuning's note number:5 is out of range of 12ET note numbers:-33.9608999826923\nupdateTuningTable() this tuning's note number:6 is out of range of 12ET note numbers:-32.575173373653\nupdateTuningTable() this tuning's note number:7 is out of range of 12ET note numbers:-30.9857698213692\nupdateTuningTable() this tuning's note number:8 is out of range of 12ET note numbers:-28.9804499913461\nupdateTuningTable() this tuning's note number:9 is out of range of 12ET note numbers:-27.5947233823069\nupdateTuningTable() this tuning's note number:10 is out of range of 12ET note numbers:-26.0053198300231\nupdateTuningTable() this tuning's note number:11 is out of range of 12ET note numbers:-24.0\nupdateTuningTable() this tuning's note number:12 is out of range of 12ET note numbers:-21.9608999826923\nupdateTuningTable() this tuning's note number:13 is out of range of 12ET note numbers:-20.575173373653\nupdateTuningTable() this tuning's note number:14 is out of range of 12ET note numbers:-18.9857698213692\nupdateTuningTable() this tuning's note number:15 is out of range of 12ET note numbers:-16.9804499913461\nupdateTuningTable() this tuning's note number:16 is out of range of 12ET note numbers:-15.5947233823069\nupdateTuningTable() this tuning's note number:17 is out of range of 12ET note numbers:-14.0053198300231\nupdateTuningTable() this tuning's note number:18 is out of range of 12ET note numbers:-12.0\nupdateTuningTable() this tuning's note number:19 is out of range of 12ET note numbers:-9.96089998269225\nupdateTuningTable() this tuning's note number:20 is out of range of 12ET note numbers:-8.57517337365302\nupdateTuningTable() this tuning's note number:21 is out of range of 12ET note numbers:-6.98576982136922\nupdateTuningTable() this tuning's note number:22 is out of range of 12ET note numbers:-4.98044999134612\nupdateTuningTable() this tuning's note number:23 is out of range of 12ET note numbers:-3.5947233823069\nupdateTuningTable() this tuning's note number:24 is out of range of 12ET note numbers:-2.0053198300231\nupdateTuningTable() this tuning's note number:100 is out of range of 12ET note numbers:128.405276617693\nupdateTuningTable() this tuning's note number:101 is out of range of 12ET note numbers:129.994680169977\nupdateTuningTable() this tuning's note number:102 is out of range of 12ET note numbers:132.0\nupdateTuningTable() this tuning's note number:103 is out of range of 12ET note numbers:134.039100017308\nupdateTuningTable() this tuning's note number:104 is out of range of 12ET note numbers:135.424826626347\nupdateTuningTable() this tuning's note number:105 is out of range of 12ET note numbers:136.765575861691\nupdateTuningTable() this tuning's note number:106 is out of range of 12ET note numbers:136.765575861691\nupdateTuningTable() this tuning's note number:107 is out of range of 12ET note numbers:136.765575861691\nupdateTuningTable() this tuning's note number:108 is out of range of 12ET note numbers:136.765575861691\nupdateTuningTable() this tuning's note number:109 is out of range of 12ET note numbers:136.765575861691\nupdateTuningTable() this tuning's note number:110 is out of range of 12ET note numbers:136.765575861691\nupdateTuningTable() this tuning's note number:111 is out of range of 12ET note numbers:136.765575861691\nupdateTuningTable() this tuning's note number:112 is out of range of 12ET note numbers:136.765575861691\nupdateTuningTable() this tuning's note number:113 is out of range of 12ET note numbers:136.765575861691\nupdateTuningTable() this tuning's note number:114 is out of range of 12ET note numbers:136.765575861691\nupdateTuningTable() this tuning's note number:115 is out of range of 12ET note numbers:136.765575861691\nupdateTuningTable() this tuning's note number:116 is out of range of 12ET note numbers:136.765575861691\nupdateTuningTable() this tuning's note number:117 is out of range of 12ET note numbers:136.765575861691\nupdateTuningTable() this tuning's note number:118 is out of range of 12ET note numbers:136.765575861691\nupdateTuningTable() this tuning's note number:119 is out of range of 12ET note numbers:136.765575861691\nupdateTuningTable() this tuning's note number:120 is out of range of 12ET note numbers:136.765575861691\nupdateTuningTable() this tuning's note number:121 is out of range of 12ET note numbers:136.765575861691\nupdateTuningTable() this tuning's note number:122 is out of range of 12ET note numbers:136.765575861691\nupdateTuningTable() this tuning's note number:123 is out of range of 12ET note numbers:136.765575861691\nupdateTuningTable() this tuning's note number:124 is out of range of 12ET note numbers:136.765575861691\nupdateTuningTable() this tuning's note number:125 is out of range of 12ET note numbers:136.765575861691\nupdateTuningTable() this tuning's note number:126 is out of range of 12ET note numbers:136.765575861691\nupdateTuningTable() this tuning's note number:127 is out of range of 12ET note numbers:136.765575861691\nupdateTuningTable() etnn dictionary:[30: (etNN: 8, pitchBend: 14831), 77: (etNN: 89, pitchBend: 8424), 68: (etNN: 74, pitchBend: 8832), 99: (etNN: 127, pitchBend: 8511), 32: (etNN: 12, pitchBend: 8191), 58: (etNN: 56, pitchBend: 14831), 28: (etNN: 5, pitchBend: 8424), 84: (etNN: 101, pitchBend: 8424), 50: (etNN: 43, pitchBend: 8511), 25: (etNN: 0, pitchBend: 8191), 90: (etNN: 111, pitchBend: 15151), 78: (etNN: 91, pitchBend: 8511), 45: (etNN: 34, pitchBend: 8104), 63: (etNN: 65, pitchBend: 8424), 37: (etNN: 20, pitchBend: 14831), 98: (etNN: 125, pitchBend: 8424), 27: (etNN: 3, pitchBend: 15151), 71: (etNN: 79, pitchBend: 8511), 87: (etNN: 106, pitchBend: 8104), 76: (etNN: 87, pitchBend: 15151), 44: (etNN: 32, pitchBend: 14831), 35: (etNN: 17, pitchBend: 8424), 29: (etNN: 7, pitchBend: 8511), 52: (etNN: 46, pitchBend: 8104), 85: (etNN: 103, pitchBend: 8511), 56: (etNN: 53, pitchBend: 8424), 97: (etNN: 123, pitchBend: 15151), 89: (etNN: 110, pitchBend: 8832), 62: (etNN: 63, pitchBend: 15151), 53: (etNN: 48, pitchBend: 8191), 36: (etNN: 19, pitchBend: 8511), 57: (etNN: 55, pitchBend: 8511), 69: (etNN: 75, pitchBend: 15151), 91: (etNN: 113, pitchBend: 8424), 41: (etNN: 27, pitchBend: 15151), 93: (etNN: 116, pitchBend: 14831), 49: (etNN: 41, pitchBend: 8424), 38: (etNN: 22, pitchBend: 8104), 74: (etNN: 84, pitchBend: 8191), 42: (etNN: 29, pitchBend: 8424), 47: (etNN: 38, pitchBend: 8832), 59: (etNN: 58, pitchBend: 8104), 39: (etNN: 24, pitchBend: 8191), 34: (etNN: 15, pitchBend: 15151), 46: (etNN: 36, pitchBend: 8191), 67: (etNN: 72, pitchBend: 8191), 95: (etNN: 120, pitchBend: 8191), 81: (etNN: 96, pitchBend: 8191), 96: (etNN: 122, pitchBend: 8832), 43: (etNN: 31, pitchBend: 8511), 51: (etNN: 44, pitchBend: 14831), 64: (etNN: 67, pitchBend: 8511), 31: (etNN: 10, pitchBend: 8104), 26: (etNN: 2, pitchBend: 8832), 61: (etNN: 62, pitchBend: 8832), 66: (etNN: 70, pitchBend: 8104), 73: (etNN: 82, pitchBend: 8104), 79: (etNN: 92, pitchBend: 14831), 65: (etNN: 68, pitchBend: 14831), 40: (etNN: 26, pitchBend: 8832), 83: (etNN: 99, pitchBend: 15151), 82: (etNN: 98, pitchBend: 8832), 72: (etNN: 80, pitchBend: 14831), 70: (etNN: 77, pitchBend: 8424), 88: (etNN: 108, pitchBend: 8191), 60: (etNN: 60, pitchBend: 8191), 86: (etNN: 104, pitchBend: 14831), 80: (etNN: 94, pitchBend: 8104), 75: (etNN: 86, pitchBend: 8832), 55: (etNN: 51, pitchBend: 15151), 48: (etNN: 39, pitchBend: 15151), 33: (etNN: 14, pitchBend: 8832), 54: (etNN: 50, pitchBend: 8832), 94: (etNN: 118, pitchBend: 8104), 92: (etNN: 115, pitchBend: 8511)]\n. This is the interface I'm testing right now.  I haven't submitted a pull request yet.\n```Swift\n//\n//  AKTuningTable.swift\n//  AudioKit\n//\n//  Created by Marcus W. Hobbs on 3/17/17.\n//  Copyright \u00a9 2017 AudioKit. All rights reserved.\n//\n/// Tuning table stores frequencies at which to play MIDI notes\n@objc open class AKTuningTable : NSObject {\n/// For clarity, typealias Frequency as a Double\npublic typealias Frequency = Double\n\n/// For clarify, typealias Cents as a Double.\n/// Cents = 1200 * log2(Frequency)\npublic typealias Cents = Double\n\n/// Total number of MIDI Notes available to play\nstatic public let midiNoteCount: Int\n\n/// Note number for standard reference note\npublic var middleCNoteNumber: MIDINoteNumber { get set }\n\n/// Frequency of standard reference note\n/// equivalent to noteToHz: return 440. * exp2((60 - 69)/12.)\npublic var middleCFrequency: Frequency { get set }\n\n/// Octave number for standard reference note.  Can be negative\n/// ..., -2, -1, 0, 1, 2, ...\npublic var middleCOctave: Int { get set }\n\n/// Range of downwards Pitch Bend used in etNN calculation.  Must match your soft synth pitch bend UP range\npublic var etNNPitchBendRangeDown: Cents { get set }\n\n/// Range of downwards Pitch Bend used in etNN calculation.  Must match your soft synth pitch bend DOWN range\npublic var etNNPitchBendRangeUp: Cents { get set }\n\n/// provide a dictionary of midiNoteNumber to a tuple of 12ET note numbers plus pitch bend.\n/// \"etNN\" = Note number of 12ET.  1 etNN = 100 cents (i.e., semitone)\npublic func etNNPitchBend(NN nn: MIDINoteNumber) -> (etNN: MIDINoteNumber, pitchBend: Int)?\n\n/// Initialization for standard default 12 tone equal temperament\npublic override init()\n\n/// Pull out frequency information for a given note number\npublic func frequency(forNoteNumber noteNumber: MIDINoteNumber) -> Frequency\n\n/// Set frequency of a given note number\npublic func setFrequency(_ frequency: Frequency, at noteNumber: MIDINoteNumber) -> <<error type>>\n\n/// Create the tuning using the input frequencies\n///\n/// - parameter fromFrequencies: An array of frequencies\n///\npublic func tuningTable(fromFrequencies inputFrequencies: [Frequency])\n\n}\n```. My bad...my day job is taking all my time for the next few weeks.. @mahal Hi Martin, The commit that removed the etnn functionality was an error on my part.  I'm working with Aure to find out the fastest way to commit the feature again.. @mahal We're wrapping up the commit.  When it's available myself or Aure will let you know.  Regarding the best forum for debugging etc. let's use this GitHub forum.  I use Slack daily, but it doesn't maintain a history given our team size, so this is the best place for other interested folks to refer to.\n. @mahal Aure merged to the develop branch.  You can see the file here:\nhttps://github.com/AudioKit/AudioKit/blob/develop/AudioKit/Common/Internals/Microtonality/AKTuningTable.swift\n. You need to use the new functionality something like this pseudo-code:\n````swift\n//set the tuning\n_ = AKPolyphonicNode.tuningTable.hexany(1, 17, 19, 23) // someone make a track with this tuning please\n// configure the pitch bend params to match your destination synth's pitch bend\nAKPolyphonicNode.tuningTable.etNNPitchBendRangeDown = -100 // -1 semitone\nAKPolyphonicNode.tuningTable.etNNPitchBendRangeUp = 100 // +1 semitone\n// given an input midi note number (\"nn\") in this tuning's space convert it to a 12ET nn and a pitchbend\n            for etnn: MIDINoteNumber in 0 ... 127 {\n                if let ff = AKPolyphonicNode.tuningTable.etNNPitchBend(NN: etnn) {\n                    // ff is an NSObject subclass of type AKTuningTableETNN...a helper class for objc interoperability\n                    AKLog(\" etnn:(etnn): nn:(ff.nn), pitchBend:(ff.pitchBend)\")\n                } else {\n                    // an audible frequency is not achievable via 12et NN + pitchBend.\n                    AKLog(\" etnn:(etnn): nil\")\n                }\n            }\n````. For sure...Trying to figure out how to revert this change only.. I think there might be different white-space formatting between the iOS and MacOS Xcode projects. if you have a more elegant, less-than-120-chars-per-line solution I'm all in. ",
    "bennnjamin": "@aure it's possible it is an issue (i.e. bug) with the iOS platform. I found some sample code to record using AVAudioEngine directly and replaced AudioKit with that, and the issue is identical. You can record audio fine at first but then if you record a video and go back to audio, the file is filled with silence (still being written to though). \nFurthermore, if I used AVAudioRecorder, it works no problem! I am assuming AVAudioRecorder uses AVAudioEngine but since it's closed source it is possible Apple is using some other implementation internally.. ",
    "AdrianBinDC": "I thought I'd throw up a solution in case anyone else encountered difficulty.. ",
    "AlbanPerli": "Thx for the quick response!\nIt doesn't crash when using a AKMixer.. ",
    "syedhali": "@warpling your logic makes sense for not explicitly starting the mic. Optionally, you could provide a constructor that automatically starts the mic (if people end up wanting that behavior).. ",
    "larryseyer": "I have several interfaces with multiple Ins and outs.\nRME 18 channel\nRoland 4 channel\nPreSonus 2 Channel\nIt's not that uncommon for pro users to have several multi channel\ninterfaces.\nL\nOn Wednesday, May 10, 2017, WebberLai notifications@github.com wrote:\n\nHi , I just think maybe you don't need to get a quartet , I think Duet is\nenough for testing\n\u2014\nYou are receiving this because you are subscribed to this thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/audiokit/AudioKit/issues/891#issuecomment-300700825,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AHxL7pyoN56fh_q9jKTfs0MGixuj5-Rpks5r4rJAgaJpZM4NXjeR\n.\n\n\n-- \nLarry Seyer\nhttp://LarrySeyer.com\nl\n. Thank you for replying so quickly.\n...and of course I provide code to reproduce the problem.  How else could\nyou find it? (Smiles)\nSorry for the deslexia.\nRe: corrupt EXS24\nPossibly.  But when I load that same file in either MainStage or Logic Pro\nX, the file loads fine with no errors.\nL\nOn Thursday, May 18, 2017, Aurelius Prochazka notifications@github.com\nwrote:\n\nFirst of all, you rock for providing code demonstrating the problem. In\nthis post you make the minor mistake of calling the files ESX, but I see it\nis correct as EXS in the sample project. The file seems to be found, but\nthen the app crashes, which is really strange. Could it be a corrupt or\nsomehow incompatible EXS24 file?\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/audiokit/AudioKit/issues/903#issuecomment-302653950,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AHxL7oeSpoV7BNck4RzfkydfMDXP_YLlks5r7V95gaJpZM4NgOAe\n.\n\n\n. Today I created a new version of an exs24 file with new samples.  Same problem.  \nThat same exs24 file loads fine into MainStage with no issues and plays just fine.  \nFYI. \nL\n. Aurelius,\nI have to admit, I'm getting frustrated.\nI've read the thread you suggested to read... and the Apple page that it\nreferred to also.\nWith every combination, both pages suggested, it bombs.  i.e. using\n'Sounds', 'Sampler Instruments', etc...\nI've placed the EXS24 file on top, underneath, in the same directory... all\nwith no success.  I've moved the samples higher and lower within the\nhierarchy to no avail.\nYet, I can load that EXACTLY same EXS24 file in ANY combination of where\nthe samples are in relation to the EXS24 file and it will load with no\nproblem in MainStage or Logic Pro X.\nIt does not appear to be a problem with the EXS24 file or the samples.  It\nappears to be a problem with the  .loadEXS24 method from all I can tell.\nI find it interesting that I see the path\n\"/Users/megastep/src/ak/AudioKit/AudioKit/Common/Nodes/Playback/Sampler/AKSampler.swift\"\nlisted in the error message.\nThere is no user 'megastep' on my system... which leads me to believe there\nis some kind of hard coded path within the loadEXS24 method?\nAre you seeing the same error messages that I am?\nL\n\u200b\n\u200b\nOn Fri, May 19, 2017 at 7:01 PM, Aurelius Prochazka \nnotifications@github.com wrote:\n\nTake a look at this issue, especially the last post from Jeff: #298\nhttps://github.com/audiokit/AudioKit/issues/298\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/audiokit/AudioKit/issues/903#issuecomment-302851075,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AHxL7jXZ2hm461n90publq8elfj00-UKks5r7nOkgaJpZM4NgOAe\n.\n. The reason I have not responded is because I am still experimenting with this.\n\nI have not had any success so far.  However, I have gained a great deal of information.\nOne thing that I am currently experimenting with is using something called 'Translator' to fix the paths of the EXS24 files.\nhttps://samplerzone.com/collections/translator\nWhen I get something to actually work, I will post my results here.\nIt does appear to be a problem with paths since the EXS24 format stores FULL paths in it's file.\nI've been talking with Garth (the creator of Translator) about this issue and he has given me several suggestions on how to fix this issue... along with the Apple suggestion (which did not work for me).\nAs I know more, I will post it here.\nThanks for everyone for all of the help.\nTogether, we will figure this out.\nL\n. I think I may have found the problem.\nIn the AKSampler.swift file I find this:\n/// Load an EXS24 sample data file\n    ///\n    /// - parameter file: Name of the EXS24 file without the .exs extension\n    ///\n    open func loadEXS24(_ file: String) throws {\n        try loadInstrument(file, type: \"exs\")\n    }\nBut according to the docs from Apple about loadInstrument, it takes an array of URL types like this:\nprivate var drumKit = AVAudioUnitSampler()\nlet kits = [URL(string: \"/Users/larryseyer/Dropbox/Soloist XCode/Test Sampler/TestSampler/TestSampler/Brushes.sf2\"),\n            URL(string: \"/Users/larryseyer/Music/Audio Music Apps/Sampler Instruments/Brushes/Brushes.exs\")]\n\ninit()\n{\n    do\n    {\n        try drumKit.loadInstrument(at: kits[1]!)\n    }\n    catch\n    {\n        print(\"file was not found.\")\n    }       \n}\n\nWhen I send it an array of URLs (see above) it does NOT bomb out.\nI will post a link to an Xcode project later today demonstrating what I've found...\nBut I was so excited to find something that actually LOADED, that I had to post what I found so far...  \nMore to come.\n. OK, here is what I've found out:\nAs far as I can tell, there is nothing wrong with AudioKit with regards to this issue.\nInititally, I had thought there was an issue with AudioKit's array's vs. strings in the LoadEXS24 method, but after further investigating, that turned out not to be the issue at all.\nThe EXS format has some peculiarities that have to be dealt with specially in IOS.\nFirst of all, the EXS format stores ABSOLUTE paths in it's file structure.  This is a huge problem unless you follow the following guidelines to remedy it's flaws.\nMost of the developers that I know (myself included) will use MainStage ($30) or Logic Pro X ($200) to make their EXS formated files.\nThis is because both of those program have most of the tools necessary to build the file format fairly quickly and easily.  You can audition the layout, sounds, and groupings in real time using a keyboard to trigger the sounds.\nThe problem with using those two tools is that the EXS format will store YOUR absolute path to the samples inside of the EXS file format.  (including your personal \"users/username\" path)\nMainStage stores it's sample files in the following folder:\n/users/username/music/audio music apps/sampler instruments\nHowever, Logic Pro X store it's sample files in the following folder:\n/library/application support/logic/sampler instruments\nApple suggests using the following file locations for all EXS files when developing IOS apps:\nyourappbundle/sounds/sampler instruments\nYou can see the inherent problem here.\nNeither one of the two tools will store the files in the proper location for IOS.\nThe other problem is that BOTH of these programs store their samples in .WAV format.\nIOS devices want to see .AIFF format files.\nSo what is the solution?\nAfter many many hours of experimenting with this and after consulting with another respected developer, I found a tool that will 'fix' the paths of an EXS file to work properly inside of an IOS application.\nThe tool is called 'Translator' ( see  http://www.chickensys.com/products2/translator/  ) and without it, I can honestly say I don't think I would have ever gotten this to work.\nI used Translator to fix all of the file paths of the EXS24 file WHILE it was inside of my IOS project folder named \"Sounds/Sampler Instruments\".  This folder was located INSIDE of my IOS project.\nThe Translator function that I used to fix the paths is a red labeled tool marked 'Fix References'.  This will RE-WRITE the paths to the samples correctly for IOS to be able to 'see' them.\nThe other function you will need to use is the one that converts the .WAV files into .AIFF files.  Both of these functions can be done using Translator.\nThen, using AudioKit's AKSampler you tell the LoadEXS24 method to load as follows:\ntry drumKit.loadEXS24(\"Sounds/Sampler Instruments/YourEXSFile.exs\")\nThis works reliably and every time.\nThanks to all who helps figure out this issue.\nWe can mark this issue as 'closed'\nAll the best to you!\nL\n. Thanks @eljeff for the help!\nNow on to other things!\nL\n. Yay!!!!!. I've done more investigating... it appears that ANY time AKSequencer is called more than once, it will simply stop working.\nEven if it points to a different variable, when it is called a 2nd time, it bombs out.\nFor instance, the following can be called:\nsequenceStick = AKSequencer(filename: thisNewPath.stickPath, engine: AudioKit.engine)\nAnd it will work fine.\nBut the following WILL NOT WORK - everything is muted:\nsequenceStick = AKSequencer(filename: thisNewPath.stickPath, engine: AudioKit.engine)\n   sequenceSnare = AKSequencer(filename: thisNewPath.snarePath, engine: AudioKit.engine)\nSo it has something to do with calling AKSequencer a 2nd time.\nL. Ok.  Understood.  \nI'll try the one in the developer branch.   Hopefully that one will work. \nThanks!\nL. I, for one, need this today!  Thank you for suggesting this!. I'm using the latest developer branch from github.\nOn Wednesday, September 6, 2017, Aurelius Prochazka \nnotifications@github.com wrote:\n\nWhich version of AudioKit are your trying this with? Works for me on\ndevelop, which is the only Swift 4 compatible version.\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/AudioKit/AudioKit/issues/1035#issuecomment-327610515,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AHxL7g5wrjZcoJ8Ocenkn2wfNej4QE7Xks5sfwcRgaJpZM4PNsQj\n.\n. Watch this.\n\nhttps://youtu.be/OW7Wfa0qsqQ\nI've tried this on a MacBook Pro Retina, MacMini quad core, and 2009 iMac. None of them compile. There is definitely something wrong here. Downloaded the latest version of Xcode from Apple today. Downloaded the latest developer build of AudioKit today. What you see is what happens.\n. Thank you.  \nThat makes perfect sense.  \nI'll try it again using your suggestion. \nL\n. ",
    "GeorgeL9": "Also interested in seeing this functionality. Been struggling with multichannel inputs the last few days (on iOS). I am interested in seeing how to do this as well.. ",
    "qqqssagithub": "I wrote a demo with AudioKit, so you can listen to the difference in speed between the two ends of the audio\nhttps://github.com/qqqssagithub/AudioTest.git. ",
    "ingconti": "for XCode 9 simply check \"build Phases\" -> Embed framework\n\n. :)\nI think other people will have it.. I ma not usinf (horrible) cocoaPods technology.\nbut diag are similar for me. \nit works fine on dev device, but cannot submit to apple Store.\n...\nwhile processing /Volumes/10.12._Sierra_HD/Users/ingconti/GIT/iOS/bvitech/XcodeProjects/../AUdioKitFrameworks/AudioKit.framework/AudioKit(MIDIPacketList+SequenceType.o):\nwarning: /var/folders/g3/3gw8_98n3d7_qkzthq9tx6t00000gn/C/org.llvm.clang.megastep/ModuleCache/3JV2FAR4ZLRCM/CoreMIDI-2EI6TA9W8P2TQ.pcm: No such file or directory\n. I will be try again (I tried twice.) but for me is NOT a warning, it stops building for archiving.\n\nOn Apr 25, 2018, at 9:14 PM, St\u00e9phane Peter notifications@github.com wrote:\nThese are just warnings and should not prevent you from submitting to the App Store.\n\u2014\nYou are receiving this because you commented.\nReply to this email directly, view it on GitHub https://github.com/AudioKit/AudioKit/issues/1325#issuecomment-384402175, or mute the thread https://github.com/notifications/unsubscribe-auth/AD3GJ9mu_uaxYLwbjbG4bITeVZ9oT2xsks5tsMsAgaJpZM4TRKuE.\n\n\ning. Conti G. Enrico\ningconti@ingconti.com ingconti@ingconti.com\nOrdine Ingegneri di Monza al n. A894 \nvia Duca degli Abruzzi, 29\n20090 MONZA MI ITALY\n0039-039-324723\nwww.ingconti.com http://www.ingconti.com/\n. a minor note. I built up form scratch frameworks. My project failed as I had an OLD setting:\n\"$BUILT_PRODUCTS_DIR/$FRAMEWORKS_FOLDER_PATH/AudioKit.framework/fix-framework.sh\"\nin runScript (maybe an old requirements?)\n. Happy to hear so... but I need to test in advance under  iOS12 devices...so.. I have to use (in may case..) Xcode Version 10.0 beta 2 with cmd lien tools (10L177m)\nOnly a couple of notes:\n1) I downloaded Audiokit 4.3 from \"https://github.com/audiokit/AudioKit/releases\" : \nI tried to add new frameworks to my Xcode 10 project but I got: Module compiled with Swift 4.1 cannot be imported in Swift 4.1.50. \n2) I downloaded \"AudioKit-iOS-4.3\" from the same page, of course your samples do to compile, same error.\n3) I downloaded  \"Source code (zip)\" (same page). examples do not link as frameworks are missing, so I built them from scratch after reading README.\nI run form terminal:\na) \nPLATFORMS=\"iOS\" ./build_frameworks.sh\nb) at run I got:\nwarning: file type '::com.apple.instruments.instrdst' is based on missing file type 'default::com.apple.package\nc) after some time I got:\n BUILD FAILED \nThe following build commands failed:\n    CompileSwift normal x86_64\n    CompileSwiftSources normal x86_64 com.apple.xcode.tools.swift.compiler\n(2 failures)\nd) I opened Xcode project \"AudioKit For iOS.xcodeproj\" and tried to build both \"AudioKit\" and \"AudioKitUI\"  from here:\n(I got a LOT of warning \"...'let' properties are implicitly 'final'; use 'public' instead of 'open'\")\nI can get 4 frameworks inside \"Products\", 2 for device and 2 for simulator.\n I did get frameworks but once imported in \"HelloWorld\" project I get: \n\".....Frameworks/AudioKitUI.framework/Modules/module.modulemap:9:12: Header 'AudioKitUI-Swift.h' not found\". happy to hear so.\nAnyway I succeded in creating  an iOS  project from scratch for ios12 using Xcode 10.\nI added \"AudioKit For iOS.xcodeproj\" as  a subproject.\nI got a LOT of warnings (mainly Static declarations are implicitly 'final'; use 'public' instead of 'open'), but works.  . dirty patch for now to build against Xcode 10/iOS12 beta.\nchange:\npublic enum  State {\nto:\npublic enum TouchState {\n...\nand line:\npublic var multitouchState: TouchState {\n\nnow I can build in code 10 helloWorld (importing framework subproject..). ",
    "MathieuLescure": "No problem, I will.. ",
    "discohead": "@larryseyer interesting, looks like one of the AudioKit contributors, Stephane Peter, is https://github.com/megastep. ",
    "markjeschke": "@larryseyer,  \nKudos again, for posting a test Xcode project to allow others to help you out with troubleshooting. I looked at it and noticed that your audio files associated with your EXS24 file are in aif format, rather than wav. I'm wondering if you convert them to wav, then AKSampler will be able to load them correctly?\n\nIt would be great if AKSampler could load aif, caf, or m4a formats, in addition to wav. @aure, do you think that the audio format could be the culprit with Larry's issue? It doesn't explain the console output error referencing @megastep:\n/Users/megastep/src/ak/AudioKit/AudioKit/Common/Nodes/Playback/Sampler/AKSampler.swift\nTake care,\nMark . What if you were to add a MIDI Learn type of calibration to capture the controller's pitch bend minimum and maximum values?. Good call, @aure! I was also thinking that it was the hardware's mute button. Add this to your code before AudioKit.start():\nAKSettings.playbackWhileMuted = true\nPlease let us know if that works!. @mani9876,\nWithout seeing your code, perhaps the delayed UILabel update is happening, because the request is not occurring on the main thread? Check out this example:\nfunc updateText(_ input: String) {\n        DispatchQueue.main.async(execute: {\n            self.outputTextView.text = \"\\(input)\\n\\(self.outputTextView.text!)\"\n        })\n    }\nSource used in context: \nhttps://github.com/AudioKit/AudioKit/blob/master/Examples/iOS/MidiMonitor/MidiMonitor/ViewController.swift#L62\nIf you need further support, I recommend that you join and post questions to the AudioKit Google group:\nhttps://groups.google.com/forum/#!forum/audiokit\nThat way, the rest of the AudioKit community can benefit and learn from your solutions. :). Instead of ditching all of your sequencers, what if you were to add the free Audiobus 3 SDK into your app and make it Audiobus compatible? Audiobus requires background audio (that Apple will approve) and will ultimately extend the usage and visibility of your app, since Audiobus allows your app\u2019s audio to be processed with third-party effects, or recorded into GarageBand, Loopy, or Cubasis. \nFor Audiobus integration, you can check out these resources:\nhttp://audiokit.io/audiobus/\nhttps://github.com/AudioKit/ROMPlayer\n. Since you said that you were in a hurry, it was meant as a quick solution to your background audio/Apple rejection, rather than a fix to the sequencer issue. I have no idea what is causing the \u201cstrange things\u201d with your sequencer. A sample project would help with trouble-shooting in order to truly test and replicate the bug that you\u2019re experiencing. \nYou\u2019re right; my comment did not address the question issue, but I was just trying to help. . @Ufosek, Yes, a sample project would help!. @Ufosek, I'm sorry for the delayed response with this. After looking at your code, I don't think that you need to stop and restart the AudioKit engine every time you wish to play an audio file or record. Honestly, I ran out of time, and couldn't find the solution or culprit in your code. :(\nI created an AudioKit example project, demonstrating how to record AKMidiSampler and/or AKAudioPlayer output and save it to your FileManager. You may find it, here:\nhttps://github.com/markjeschke/SaveAKRecordings\nPlease let me know if you have any questions.\nTake care,\nMark. Perhaps, this can help:\nhttps://developer.apple.com/library/archive/documentation/Audio/Conceptual/AudioSessionProgrammingGuide/RequestingPermission/RequestingPermission.html\nAt the bottom of this page: \nImportant:\u00a0As of iOS 10, all apps that access any of the device's microphones must statically declare their intent to do so. To do this, apps must now include the NSMicrophoneUsageDescription key in their Info.plist file and provide a purpose string for this key. When the system prompts the user to allow access, this string is displayed as part of the alert.\nIf an app attempts to access any of the device's microphones without this key and value present, the app will terminate.\nThe following page shows how to ask for permission to capture other types of media via the Info.plist: \nhttps://developer.apple.com/documentation/avfoundation/cameras_and_media_capture/requesting_authorization_for_media_capture_on_ios. ",
    "derekfairholm": "@eljeff can you elaborate on how to load an AUPreset file using AudioKit? . Thanks for replying @eljeff. I'm just looking for an alternative to loading the EXS24 file for use with the AKSampler. I've really exhausted my patience trying to load the EXS24 file with all of the info on this thread and can't manage to do it. It sounds like you're saying that an AUPreset file is a less problematic alternative to EXS24, but AudioKit doesn't seem to have a method to load that filetype from the AKSampler. I've been using a .SF2 sound font to build my project so far, but sound quality wise it falls short. I've built an AUPreset in AULab and I'm wondering how to load that file into the AKSampler. My samples are in my project bundle with the path \"/Sounds/Samples\". Thank you! Now for some reason it can't find the audio files, logging: \nloadPath Error loading audio file at /Sounds/AURhodes_1\nI've used the samples in my project to create the preset file so I can't imagine what's going on. I wonder if using the AUPresetBuilder is the best option?\nThanks again. It's really bizarre--I think I've tried just about everything I can think of here and xCode can't even find the .aupreset file in my project when I run it. When I include file path with the extension it logs:\nPreset file 'Sounds/Rhodes.aupreset -- file:///' not found\nEXCEPTION (-43): \"Preset file not found\"\nI've triple checked the location all files involved. The aupreset has been built with samples that are in the project bundle. I think I might need to move on to AUPresetBuilder. What a strange and frustrating issue.... ",
    "TomPeak": "Ok Singleton\u2026 and \non viewWillDisappear\n    [AudioKit stop];\ndoes the trick!\ndid it on viewDidUnload but did't work..?. ",
    "narcodog": "OK, cool. I was wondering about if I should use the develop branch.\nI'm a bit new to this, so\nShould I just make a new fork off the develop branch and redo what I \nhave done?\nor\nDo I have to do something to delete what I have already done?\nThanks\nMatt\nAurelius Prochazka wrote:\n\nA couple of small things which you may or may not want to \"fix\" before\nI accept the PR.\n\nTraditionally you should work off of the develop branch, not\nmaster, so that we can merge and test out changes on that branch\nfirst.\nresetPitchBend has no documentation comments above it (no biggie,\nI can fix that)\nresetPitchBend has an unnamed (via the _) first parameter, but you\nshould only do that if the first argument is implied by the\nfunction name. So, I'd just remove the _ and let that parameter be\nexplicitly named.\n\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/audiokit/AudioKit/pull/908#issuecomment-302957998, or \nmute the thread\nhttps://github.com/notifications/unsubscribe-auth/AF5HSLa0DiP4XCKfxZSmWfdu9E8Nmw_iks5r8JJ-gaJpZM4Nhsge.\n. Re: These trailing whitespace violations found by the hound. Do you know what is causing this? In my Xcode preferences I have \"Automatically trim trailing white space\" selected, I would have thought this should sort this for me?. \n",
    "whisper-bye": "+1 pods need a bug-fix release #849\nhttps://github.com/audiokit/AudioKit/commit/724d14cb77183dc57e8c47e5afca8e0163ed807f\n. AudioKit 4.0.3\niPhone 7, iOS 11\ngentle.wav.zip\n. ",
    "devinroth": "I haven't given it much thought. Either way would be fine with me. What do you think would be better?. SwiftOSC is sable for me but I'm probably the only one using it. If you're planning on modularizing AudioKit it's probably best to just keep them separate. Probably make it easier to deal with issues. I must say you're great at keeping on top of AudioKit. \nSo what are you thinking would be a good example? Use OSC to control an audio synth?. I'm looking to create work without reason. SwiftOSC is more of an altruistic offering.  No point creating more work unless someone actually has need. You know where to find me. . ",
    "OscarBouwmans": "Figure53 (maker of QLab) has made open source an Objective-C OSC library called F53OSC, using CocoaAsyncSocket.\nMaybe not of much use for AudioKit, as it isn't written in Swift, but potentially interesting for developers reading this thread.\nhttps://github.com/Figure53/F53OSC. ",
    "cheng-kang": "\ud83d\ude05\nAudioKit v3.7\nPowerbeats Wireless. I just accidentally made it work by adding the following code before playing the audio:\nif let _ = try? AKSettings.setSession(category: .playAndRecord, with: .allowBluetooth) {\n    // code for play audio file\n}\nDon't know why the session needs to be set twice though.\nI'll create another project to reproduce the issue. Hope I could provide some useful information then. . ",
    "chashmeetsingh": "No problem, I got it fixed already. Thanks.\nUsed EZAudio instead.. ",
    "mahal": "thank you for making Audiokit even more microtonal; the approach with a tupel as return value sounds promising.   As I'm pretty new Audiokit  programming, I can't really say how and where to map the ranges of cent and pitchbend. Alternatively the new function returns a value in cent and caller will map to pitchbend?. Thank your for your detailed instructions and the etNNPitchBendRangeDown / Up functions. Looks promising! . As by using this new interface, I'd like to change my initial proposal. It would work exactly the same, just a change in unit from pitchBend to cent. This would make it more musical and less technical leaving the user of API then to bend or tune their samplers and synthesizers. \n```\n/// Pull out tuning information for a given note number to use with a equal tempered sampler\n/// returns: \n///   The value of deviation from Equal Temperament in cents.\n///   The mapping to the new note number for tunings with other than 12 notes per octave\n///   0 is no deviation and the default for twelveToneEqualTemperament\npublic func etNNDeviation(NN nn: MIDINoteNumber) -> (etNN: MIDINoteNumber, centDeviation: Double)?\n\n```\nEg. for etNNPitchBendRangeDown = -100 and Up = 100 it would then return deviationInCents = ((ff.pitchBend) - (16384 / 2)) / (16384 / 2). Thanks for the link. As mikmidi is in Objective-C it doesn't help me getting the values from the buffer as in lines 362ff \n                    let arrayBuffer = UnsafeBufferPointer(start: data, count: Int(data.pointee.dataLength))\n                    let array = Array(arrayBuffer)\n                    timeSignatureTop = array[0].data\n\n                    // lower doesn't work\n                    let isThisLower = array[1].data\n\n. thanks for the link; looks feasible. I'll have a detailed look in the next days. . Thanks @crashingbooth for making this happen!. \"user event\" is what I have now in my ObjC-Code with MusicSequenceSetUserCallback(). I'd like to migrate this to AudioKit. Would the user event be added with AKMusicTrack addController or AKMusicTrack addSysex? Or somewhere else?\nWhen the AKCallbackInstrument is in the event flow: which AKMIDIStatus would I have to listen to the \"user event\"?. As this issue is too specific, I wanted to ask for a more general solution: Add user events to AudioKit-MIDI. See #1472. Ok got it; thanks for the detailed answer.  thought that there is some use for it. I'll create a new PR with improved docu. . ",
    "SS-HU": "Hello! \nThis feature would be awesome. Are there any working examples? \nWould be delighted to help! . Does AKTiming connect with Live? . That's awesome. \nIs it tight enough for production purposes?. Awesome. Thanks, Ryan! I will! . Perhaps we could put together a tutorial of some sort for the purpose while testing. . Awesome, great to know. \nAlthough as long as the timing for AKTiming protocol is tight and stable, putting together a tutorial for Live integration could be done.. Simplicity and time consuming are apart. . Would be delighted to contribute time towards the objective.. Would that accommodate timing changes?. Sweet. Considering the expertise, please lead on! \n. Was considering the metronome to solve the background requirement of CoreMidi in AudioKit, while it appears to render the metronome, and could not find a metronome callback. Maybe I'm doing it wrong, but the live clock is Midi protocol. Would that be performance plausible?. Which in turn does not solve the equation of wanting to synchronise with sequencers which might not be sample based, but oscillated and would require triggering. . ",
    "dave234": "We still need to test the AKPlayer implementation of AKTiming.. @SS-HU That makes a lot of sense.\n. Back to Link integration.  My idea for this is to create AKBeatTiming that will inherit from AKTiming.  It will have similar function as AKTiming, but will specify the facilities necessary for converting seconds to beats (tempo, time signature, beatAtTime, timeAtBeat).  Once we've nailed down AKBeatTiming, we can create AKLoopTiming which will inherit from AKBeatTiming.  AKLoopTiming will specify the facilities needed to synchronize looping audio.  Then finally, we can create something like AKLinkNode.  AKLinkNode would call a callback when link state changes, the callback will include the new link state.  Where it all comes together:  We can create a class that uses AKLinkNode and an array of AKLoopTiming objects to synchronize the playback of all the AKLoopTiming objects.  All of the names and protocol/class relationships are subject as the only part implemented is AKTiming, so this is basically a rough draft at this point.  Simple, right?. AKLoopTiming is the tricky part.  If we decide that loop start is at zero, it's not so bad.  However, if we decide that loopStart can be non-zero, then we need to be able to handle the offset which involves \"resetting\" the reference time (The playback started time that all other times will be derived from).  . That's the hope!. Here's a naive implementation of what AKBeatTiming might look like.\nhttps://github.com/AudioKit/AudioKit/blob/f99e45103f42b02f995df7271264828d9d3e1dc1/Examples/iOS/MetronomeSamplerSync/MetronomeSamplerSync/ViewController.swift#L45\nThis implementation has loop start locked at zero.. These are the important lines though.\nlet now = AVAudioTime(hostTime: mach_absolute_time())\nmetronome1.setBeatCount(beatCount, at: now)\nmetronome2.setBeatCount(beatCount, at: now). AKSamplerMetronome doesn't have a callback, it just triggers a sampler.. I'll try to reproduce the leak, but it seems negligible at < 1K.  Foundation leaks way more than that in my experience.. Oh, iOS 11, lets wait until release.\n. Hi Julien,  I'm working on a file based player called AKClipPlayer.  You can use it to schedule multiple audio clips of multiple files in a sequence .  It's based off of AVAudioPlayerNode so there's very low memory usage and it does give sample accuracy.  It's in a good working state, but I need to clean it up and try to push it to develop.  I'll try to get to it sooner than later.  . I just read further up the thread.  Why not AKSampler/AKSequencer?  Seems like the way to go.. FYI I'm using the SongProcssor example to demonstrate offline renderer\nbefore I create a pull request for it.  I actually did end up using an\narray of file players so that I could also demonstrate how to synchronize\nthe AKAudioPlayer in an offline context (merge pending).  The offline\nrenderer isn't in there yet, but will be soon.  Anyhow, here it is\nhttps://github.com/dave234/AudioKit/tree/songProcessorUpdate.\nDave\nOn Thu, Aug 10, 2017 at 11:37 AM, Aurelius Prochazka \nnotifications@github.com wrote:\n\nThere's a tradeoff of course, you do have to use CPU cycle to expand mp3s\nand depending on the implementation, sometimes the expanded version is kept\nin memory. Have you thought about wrapping all your samples up into a\nsoundfont or EXS24 file? That would probably be best way to avoid\nreinventing the wheel.\n\u2014\nYou are receiving this because you are subscribed to this thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/AudioKit/AudioKit/issues/981#issuecomment-321637322,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AEIkSwuK1zPRwbWgfa043fyIWeJIjFiLks5sW03RgaJpZM4Oyw5S\n.\n. I'm actually working on this on the same example :)\n\nI'm still cleaning up the iTunes importer, but it's doing exactly what you were hoping.\n. If an AKAudioPlayer is upstream from a mixer you can just set AKAudioPlayer.volume = 0 to mute, and . AKAudioPlayer.volume = 1 to un-mute. . Unless you're using it in an offline render, it will be called from the audio render thread.  So even if it's not producing audio directly in the callback, it can block the thread, choking other operations on that thread.  This can even affect inter-app audio, it's a system priority thread used across all apps.  I think this is why audio developers have to restart their devices more than others :). This particular issue will often not have any noticeable side effects during development, but will definitely cause problems when multiple audio apps are running with low latency.  I think we should do an audit at some point.  This would be a good place to start.. You wouldn't I suppose, I only mentioned it for completeness.  An offline render would be the only context where it could be called on a thread other than the audio render thread.\n. Didn't seem defensive :)  One way to test is to just add a breakpoint and look at the thread it breaks on.  There shouldn't ever be any Swift or Objective-C on that thread.  Michael Tyson's watchdog MACRO will catch Objective-C, but we just need to be diligent for Swift.. Yes.  I'm creating a fast tap implementation where audio can be pulled from the render thread, rather than on a callback like a normal tap.  This will allow for faster updates in general.  In the case of EZAudio, it will look the same visually, but will use considerably less CPU, and will not risk mucking up the render thread.  Currently it's dispatching to the main thread every render which is expensive, and risks audio pops.. I looked at implementing the fix I was talking about, but after looking at the rest of EZAudio it looks to me like we should strip out most of what's there, leaving just the plotting functions.  There's a lot of use of AUGraph, which IMO doesn't belong in the same codebase.. This should really be a support question.\nHere is how I do it in the SongProcessor Example.  GitHub's not previewing all of the relevant code so follow the link.\nhttps://github.com/AudioKit/AudioKit/blob/292ccaccdb8680509fff0c40aa993572b8d85fc4/Examples/iOS/SongProcessor/SongProcessor/SongProcessor.swift#L119\n. The AVAudioTime that play(at:) accepts is a time in the future that the players will play.. Sorry about all the formatting stuff!  How do I get the warnings before making a PR?. @megastep  I have pretty much neglected tvOS.  What's the status on AVAudioEngine?  Does it all work?. @megastep Ok, it's in there.  Moving forward I guess I'll just test on the simulator.. Great idea!\n. Do you have a control that you're using?  If another background app uses\nmixwithothers, it works.\nOn Thu, Oct 12, 2017 at 10:07 AM, Aurelius Prochazka \nnotifications@github.com wrote:\n\nI think one of the things I'd like to verify with issues like this is\nwhether or not AudioKit is the culprit, or just AVAudioEngine. Does this\nhappen with a simple AVAudioEngine project with those session categories?\nIf so, then its more of an Apple bug. We'd still want whatever work around\nthat is found to be integrated into AK. Really I have no idea where to look\nand I hate having issues that I can't act on.\n\u2014\nYou are receiving this because you are subscribed to this thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/AudioKit/AudioKit/issues/1025#issuecomment-336202408,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AEIkS_Uh9DgHY7gkqWmPkUfR33Z7S21wks5srkdlgaJpZM4PIKes\n.\n. By control I meant two apps where you can produce the desired result.  So\napp a is in the background playing, then app b starts playback in the\nforeground, result is - a keeps playing.  Then swap out app b for an\nAudioKit app and test.\n\nOn Thu, Oct 12, 2017 at 3:32 PM, Ryan McLeod notifications@github.com\nwrote:\n\nWhat do you mean by \"a control\"?\nWhich Audio Kit sample app are you testing with? I'll try to use the same.\n\u2014\nYou are receiving this because you commented.\nReply to this email directly, view it on GitHub\nhttps://github.com/AudioKit/AudioKit/issues/1025#issuecomment-336296122,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AEIkS2IZ_lvA59VNBNhdGrkoGp__zjfpks5srpOOgaJpZM4PIKes\n.\n. You could also try AKClipRecorder in AudioKit 4.  You can record with a precise start time and duration.  . This is the bug found by ryanfrancesconi.  If a mixer has 0 input connections when AudioKit is started, you can't make any subsequent connections while it's running.  A workaround is to stop AudioKit prior to making connections to \"empty mixers\", then restarting AudioKit after the connection has been made.. I've been meaning to address this issue, I speculate that it's an internal optimization of the mixer to just disable itself completely if there aren't any connections.  One way to get around this is to just connect a throwaway generator like AVAudioUnitSampler to the mixer before starting the engine.  I haven't tested this so if you do try it, let us know if it works. . So this is a known issue/bug, there is a workaround.  The mixer will automatically make more inputs available when the setOutput(to: mixer) function is used rather than the connect(to: mixer) syntax.  You can solve this by creating a dummy node, set it's output to the mixer, then remove it.  Then there will be another input ready to be connected to.\n\nif mixer.nextAvailableInputBus >= mixer.numberOfInputs {\n        let dummy = AVAudioMixerNode()\n        dummy.setOutput(to: mixer)\n        dummy.disconnectOutput()\n    }\nThen make your connection using the regular syntax.\n. Also, you could just use setOutput, but it will clear any other output connections from that node.. I think AKNode is supposed to be an abstract class.  Try using AVAudioMixerNode instead.. @szczepanwaclaw I've made a PR addressing this issue, let us know if it fixes it.  It uses the dummy node technique described above.  Let us know if it's still broken.\nhttps://github.com/AudioKit/AudioKit/pull/1068. Not yet.  . They might say that the empty mixer not rendering is a feature, but I think the mixer not accommodating new connections when one method is used vs another can\u2019t be called anything but a bug.. This makes me think that Aure was right about checking target membership. Xcode 8 would make a File a target when importing while Xcode 9 does not.  When a file is selected, in the details pane (on the right) you need to make sure the target box is checked.. What is the use case for the lazy loading of the buffer?. If it's like this now and this fixes it I'm all for it.  My only complaint is that this doesn't actually improve file reading time, it defer's it which feels a little like application logic.  Is there a scenario where deffered buffering within this class is necessary?  . Good catch.  Thanks for finding the commit, fixing now.. AKClipRecorder and AKClipPlayer are great for what you're doing.  AKClipRecorder writes to a temp directory, then calls back with the temp URL when complete (or stopped).  Timing is sample accurate.\nhttp://audiokit.io/docs/Classes/AKClipPlayer.html#/s:8AudioKit12AKClipPlayerC8setClipsySayAA8FileClip_pG5clips_tKF\n. AKClipPlayer and AKClipRecorder both use play(at:) for synchronization.. NIce!  You could just name it completion instead of completionCallback though.. Are you working on looping it?  If so, awesome!  If it helps, here's an AVAudioPlayerNode wrapper that loops 1 entire file by scheduling at least 2 loops out using the completion handler.    \nhttps://github.com/dave234/AKFilePlayer. It would be really cool to be able to set loopStart and loopEnd though.. @hhanesand I think this change would still be useful.  Another user made a similar PR, but closed it after seeing this one.  We can always extend the function to match the iOS 11 implementation later.  Could you make the requested changes?  I'll merge it.. Arg.  I'll look into it.  I made the Offline render to address pre iOS 11 offline rendering.  Maybe the offline render node needs to be altered to use the new AVAudioEngine offline rendering.. Well I didn't troubleshoot the issue in your example, but I was able to test the offline render node on my 6s running 11.0.3 and it still works.  The test I used was the example iOS project SongProcessor.  Keep us in the loop on your progress with this, please.  It will be good to pinpoint the OS related changes so we can better generalize and document things.. So just to make sure I understand correctly.  The silent file was produced from the SongProcessor example?. Can you SongProcessor on your iPad?\nOn Mon, Oct 23, 2017 at 11:53 AM, ygoncharov-ideas <notifications@github.com\n\nwrote:\nYep, I input 2 as a number of loops and then uploaded result file from:\n/Users/Yuri/Library/Developer/CoreSimulator/Devices/\nE508F7BA-A400-4B13-A47B-E6512CBCD431/data/Containers/\nData/Application/DFF0F2FC-15C3-4AC2-91B6-520DC4C5ED92/tmp/mixDown.m4a\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\nhttps://github.com/AudioKit/AudioKit/issues/1096#issuecomment-338760428,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AEIkSwyFTFlh_A5xSOGTtvWbWSK2wwuWks5svOCPgaJpZM4QC-MK\n.\n. This is great!  Thank you for contributing!  There's a bit of an API flaw on my part when implementing the offline render node.  I made it for backward compatibility with < iOS 11.0, but didn't create an API where the implementation could be swapped.  May thinking was that a separate node would be preferable so that audio could continue to play on the rest of the engine while a single \"path\" could be manually rendered.  This has proven to be a mistake.\n\nSo the biggest inconsistency with the AVAudioEngine manual rendering and my implementation is the use of a separate node rather than rendering the output node.  I think if you are going to implement offline rendering using the new enableManualRenderingMode under the hood, that it should be a method on the global AudioKit, rather than a node because that better reflects the behavior.  I'm tempted to just make the offline render node unavailable in iOS 11.0, and implement offline rendering on AudioKit, then call it a day.  This is probably the most straightforward way of dealing with the issue.    \nHowever, if you want to try to make the offlineRender node work >= iOS 11.0, I think a different approach is necessary (hacks).  Since I am not able to reproduce the behavior locally on my 6S, do you think you could try something for me?  Just after the call offlineRenderer.internalRenderEnabled = false (in the original snippet), try playing around with enableManualRenderingMode with/without stopping the engine, or any other ideas around sending the \"We're rendering offline\" message to all of the nodes.  If you can't produce results easily with these sorts of hacks, I vote to make the offline render node unavailable >= iOS 11, and to re-implement offline rendering with an API that is consistent with AVAudioEngine's offline rendering, and that works both pre iOS 11 and post iOS 11 (i.e. render the output node rather than a separate node in the chain).   . Thanks so much for helping with this.\n\nAre you sure? enableManualRenderingMode marked as @available(iOS 11.0, *)\n\nMy thinking is that if >= iOS 11, we use the new iOS 11 AVAudioEngine manualRender under the hood, and if < iOS 11, we use the (previously working) node approach, but devise a common interface to both of those methods (i.e. AudioKit.renderToURL(url, seconds: 123.45) ).\n\nDo you have other scenarios to try?\n\nIn AKOfflineRenderNode.m, could you try setting pullFlags to kAudioOfflineUnitRenderAction_Render?\nSort of a long shot, but maybe worth a try.. Ok I've got a working offline render function implemented as AudioKit.renderToFile, and I've deprecated AKOfflineRenderNode.  Thanks for finding this.\nhttps://github.com/AudioKit/AudioKit/pull/1114. @eljeff I\u2019m with you on this.  It\u2019s a bit of work though.  Currently AudioKit uses a global AVAudioEngine, I believe that we will need to make all audiokit functions pass around an audioEngine if we want to achieve this.  We could default to a global engine if audioEngine argument is missing.  I also think that it\u2019s totally worth it to do this.  Not only will we have more control over offline rendering; we would also gain the ability to  let AudioKit act as a \u201cslave\u201d engine.  For my projects it\u2019s worth it to bounce tracks without stopping playback.  I have some thoughts on how to do this, I\u2019d love to hear yours.  . The other PR is a little stale.  I asked the author to make a few changes so I can merge it.  I like the inclusion of the clip in the callback.  . Bypass isn't implemented in the AUAudioUnitOverrides.  I think we are supposed to memset the buffer to 0 if bypassed.  Otherwise, whatever was in the buffer before being bypassed might get processed every render, leading to the weird short loop tone.. Bypass works in general is a bit of an overstatement.  It just starts/stops the kernel.  If we were to really bypass, it should be done in the AUAudioUnitOverrides, bypassing the kernel.  It would also subsequently solve the problem.. I had this problem and it ruined an entire day.  The fix was to delete derived data and restart my Mac.  I wish I were joking about the restart.  I think there\u2019s some cache that this ham fisted approach clears.. Maybe move osc.start() down after AudioKit.Start()?. If AKTiming is adopted, we can start making extensions for players and sequencers and anything else that we might want to synchronize.  Extensions like myPlayer.synchronizeWith(other: AKTiming) become possible.. I think it\u2019s alright.  The thing I like about setPosition and position(at audioTime) is that it\u2019s not a convenience like var position set get, or currentTime set get.  This allows each implementor to have the conveniences as part of their class.  If someone is doing something AKTiming related, it should be with the intent to accurately schedule audio.  That was part of the reasoning behind removing the start() function.. I think you just need to cast it to an AVAudioUnit, then you can access .audioUnit.  Yep, the AVFoundation naming is a continuous source of pain :/\nif let avAudioUnit = akNode.avAudioNode as? AVAudioUnit {\n    let cAudioUnit = avAudioUnit.audioUnit\n}. @adamnemecek Why not?  . I understand the preference for result types (especially when Swift starts supporting result types), but generally speaking those should be at the application level rather than within a library.  For most users, the only change will be try? AudioKit.start() vs AudioKit.start().  Other than that there's updateSessionCategoryAndOptions which most users won't use, and AKSampler.loadInstrument, which users really should catch if there are loading errors.  . This is not going to happen with AudioKit, at it's core it is built on Apple technologies, so it would be an entire port.. There's currently no callback built in to AKSamplerMetronome.. This is really cool.\n. I'll make sure to test the preset.\n. My gues is that it\u2019s related to the hard coded 44100 sample rate issue.. I don\u2019t think AKSettings.sampleRate is respected throughout the project.  . @Scitator Do you still get the distortion without inputPlot.node = mic.\n@gaphex Do you have a code sample as well?  It might help narrow down the issue.. This is awesome.. This is more of a StackOverflow question.  Something like,  \u201cHow do I synchronize AKPlayers?\u201d . 6 still has a 44.1K sample rate, 6S has the 48K rate.. This is an implementation artifact from the underlying AVAudioPlayerNode.  If play() is used (rather than play(at:)) the actual start time will be set to two render cycles in the future.  So with a default IOBufferDuration of 0.023, this seems about right.. To be more specific, it\u2019s actually two render cycles from the beginning of the last render cycle.  This can be obtained from AVAudioNode.lastRenderTime.. You can get the lastRenderTime from any node, as long as there aren't any time/pitch effects in-line.  I usually get the output node.\nif let lastRenderTime = AudioKit.engine.outputNode.lastRenderTime {\n    // Code\n}. If you are scheduling different segments of file(s) to play at precise times, you should try out AKClipPlayer.. It always pops when stopping the engine?  Or is there a specific scenario where this happens.  In general, if audio is playing when the engine stops (without first fading valine to zero) you\u2019re likely to hear a pop from any node.. A test project would be great!. I'm getting a \" incompatible project version.\" message when trying to open that project.. Yes, I'm on the 9.2 release.\nOn Tue, Feb 27, 2018 at 10:44 AM, Ryan Francesconi <notifications@github.com\n\nwrote:\nI made with the latest xcode beta. Are you using an older version?\n\u2014\nYou are receiving this because you commented.\nReply to this email directly, view it on GitHub\nhttps://github.com/AudioKit/AudioKit/issues/1248#issuecomment-368983051,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AEIkS2q_an6sRY-llv9uTchH1tJY8Vt7ks5tZE0EgaJpZM4SUWlO\n.\n. Addresses this SO question.\n. I wouldn't close https://github.com/AudioKit/AudioKit/issues/1311 until all of the EZAudio based nodes have been gone over.. @aure Changing bufferLength to .long shouldn't fix a sample rate mis-match.. I'm looking at it.\n\n. Nothing stands out.\n@Ufosek Could you create a minimal test project with instructions to reproduce the issue? . I haven't yet, but still intend too.  I can reprioritize if it's holding you up.. @Ufosek I looked at the repo. It looks like you are making the node connections every time you start.  It's best to make the connections just once and enable/disable as needed.  . In my opinion it should be 0->~.  I created my own booster a few weeks ago that went to +24db.  The clamp is application logic and should not be in the library.. Great work! . @warpling Could you test this?. That commit message should have said remove AKMicrophoneTrackerEngine instead of AKFrequencyTracker :/. October works for me!. Re-trigger CI. Retry CI. @getdunne You can test locally without merging. \n\nPull the latest into develop\n    git checkout develop\ngit pull origin develop\nCreate a test branch from develop and check it out.\n    git checkout -b test_ revert_changes_to_AK4_bases develop\nMerge changes from the PR repo's branch into your test branch.\n    git pull https://github.com/dave234/AudioKit revert_changes_to_AK4_bases. The changes are largely find and replace except where commented.. The changes are largely find and replace except where commented.. This issue will be easier to diagnose after AVAudioSession is de-coupled from AudioKit's core functionality.. I realized that I didn't need to add AKCoreSynth to the umbrella header. I don't really know enough about the implementation to have an opinion on this. I just removed that addition so that there were minimal changes.\n. At the time I wrote this, there were some issues around microphone usage and AudioKit\u2019s implicit AVAudioSession management. Bypassing AudioKit.start() was just a lazy way to avoid these issues. I would suggest using AudioKit.start() unless there are specific issues that arise. . Awesome, thanks!. AKSamplerMetronome was originally created to demonstrate AKTimeLine, it's mostly unrelated to AKMetronome. If I were to improve the metronome, I would probably base it off of AKSampler and just do away with AKSamplerMetronome altogether. AKSamplerMetronome is a bit of an anomaly in that it subclasses AVAudioUnitSampler and adds a timing tap to it. While this works, it's harder to extend than other nodes as it uses the built in node, which is somewhat of a black box. . WRT nextSyncOportunity, I think it is a great idea to generalize the timing mechanisms. I originally hoped that we could use/extend AKTiming to encapsulate much of this logic. You can see an example of this here in syncStart. I'm not sure if this is helpful, just putting it on your radar. . Since this is already an objc protocol, I think it would be better to make this addition optional.\n@objc optional \nvar completion: AKCallback? { get }. If made optional just coalesce clip.completionCallback ?? nil. If made optional just coalesce clip.completionCallback ?? nil. I think it should be called completion rather than completionCallback, this name along with the type makes it clear what it's purpose is.. This seems backwards to me.  The peak finding should be at the file or buffer level, then the player should call into that.. If I were to implement it myself, I would probably do an extension on AVAudioPCMBuffer because that is the common denominator.\n. It would look like this let peak = myBuffer.peak()\n. Or let peak = myBuffer.floatPeak(), since buffers can contain non-float data.. AudioKit/AudioKit/Common/Internals/Utilities/AVAudioBufferConvenience.swift. Why are these -1?\n. startTime = max(0, startTime). endTime = min(endTime,duration). peak = max(peak, absSample)\n\nAny time you can remove an \"if\" and maintain readability.. This seems a little fragile.  I'm sure it works great now, but maintainers need to understand why it's -1.  While clunkier, a notSet Bool would be clearer, hopefully there's a more elegant solution.  In general, I try not to use special values in the place of flags.  An optional might work here too.. Why remove the setter?. A function, rather than a property makes more sense here.  Calling a function is a hint to the user that there is work being done.  If it were a cacheable value on an immutable object, a property would make sense.. I would just remove setTime.  What's startTime for?. So it is.  That is confusing. . So startTime is the same as setTime, correct?. This should return an optional Double and return nil if !isHostTimeValid.\nif !audioTime.isHostTimeValid { return nil }\n . Also, it should be moved from this class as it's unrelated to the player.  Add it as an extension to AVAudioTime in AudioKit/Common/Internals/Utilities/AVAudioTimeShim.swift.  Or make it private.  Another option, which you may prefer, is to create an AKUtility class and add it as a static function there.. guard let audioFile = audioFile else { return }\nThen get rid of the the forced unwrapping audioFile!.\n. let refTime = hostTime ?? mach_absolute_time()\nRemoved forced unwrapping.. Here's a crasher.\nThere's nothing here to prevent optional hostTime from being force unwrapped while nil.\nMake hostTime non-optional, or guard where it'll be used.\nForced unwrapping should be avoided as a rule. . Is this expected?  If so remove print statement.  . Optional bad!\nguard let buffer = AVAudioPCMBuffer(pcmFormat: processingFormat, frameCapacity: frameCount ) else { return }. Remove print statements for expected behavior.. When there's more than two conditions, format them like this:\nguard isBuffered,\n    let buffer = self.buffer,\n    let audioFile = self.audioFile else {\n        return\n}. Unwrapped optional again.\nMaybe throw this in with your guard statement at the top.\nguard isBuffered,\n    let buffer = self.buffer,\n    let audioFile = self.audioFile,\n    let floatChannelData = buffer.floatChannelData else {\n        return\n}. Might as well through fadedBuffer in the guard statement too as it's integral to what the function does.. It is exactly that.. It's also just better to work with non optionals as a best practice.  . @ryanfrancesconi Moving the AKTiming functions to an extension makes it clear that the functions are there to satisfy AKTiming.  Maybe AKPlayer could do the same.. @ryanfrancesconi I removed play() from AKTiming it's just a convenience for play(at:nil) I'm sorry about isStarted, it had to be done.. These will not be in sync if started this way.  Should be play(at: futureTime). Ok looks good as far as the example.  I didn't look at the rest.. This should throw a custom error.  If a function can throw, than it should when failing.. Maybe this should be func setOutput(node: AKOutput) throws?  . You could remove this do-catch, just let the error message bubble up to the user if not able to recover internally.. This is a code smell.  You mentioned thrashing as a motivation for this refactor.  Notifications that throw that can potentially trigger notifications (that also throw) seems like a good place to look for the thrashing.  Refactor if you have any ideas for how to deal with this, otherwise add a TODO, but it's definitely stinky :) \n . Maybe there could be a callback that has a default value, engineWasInterrupted?  The default closure could restart the engine, but more serious apps would have an opportunity to control this behavior by setting a custom closure, then choosing whether or not to restart within the closure.. If ex is a Swift error, rather than an exception, it will just be ignored here.  We need to figure out how to rethrow here, or do away with the do-try-catch here and make operation non-throwing. . As it is now, operation should not take a throwing closure as any error caught will be ignored.  . I guess we could try to wrap the error in an NSError (if it's a Swift error and not an exception).  Re-throwing the original would be ideal though.. error = ex as? NSException If ex is a Swift error (not a NSException),  error will be nil and no exception will be thrown.\n. I agree that the exception cases will be handled, but swallowing Swift errors might lead to troubles down the road.  Rethrowing would be best, but we should at least print them (if not NSException).  I couldn\u2019t figure out a general solution, I worry we might need to handle these on a case by case basis.. Maybe the error var should just be an Error? rather than NSException?, then you could just throw that.. AVAudioEngine.start() and some of the throwing AVAudioSession funcs are suspected to throw exceptions.. I never use finally.. Here's what I was doing for the exception wrapping.  Take it or leave it :)\nvar userInfo = [String: Any]()\nuserInfo[NSLocalizedDescriptionKey] = exception.description\nuserInfo[NSLocalizedFailureReasonErrorKey] = exception.reason\nuserInfo[\"exception\"] = exception\nreturn NSError(domain: \"io.audiokit.AudioKit\", code: 0, userInfo: userInfo)\nIt would be really cool if we could print the stack trace too.. Great minds think alike https://developer.apple.com/documentation/avfoundation/avaudiounitmidiinstrument/1390430-sendpitchbend. This was the issue, input connected to both inputGain and effectGain on init.  inputGain was the inputNode, so connection after instantiation wouldn't route through the effect.. Fixed by adding inputMixer and splitting, and returning inputMixer for inputNode.. Use if let rather than checking for nil and force unwrapping.\nif let rco = routeChangeObserver { NotificationCenter.default.removeObserver(rco) }. Use if let here too.\nAre configurationChangeObserver and routeChangeObserver being conflated here?. Use if let for these too.. Note: didSet will only be called in the case of engine = myEngine, it won't be called on init.  I wasn't aware that the engine was settable, if it wasn't a breaking change I would prefer that it be a let constant.  Either that, or we manage all of the implications that are associated with dynamically changing the engine.. @warpling If the notification. was called on the main thread you would get a deadlock on DispatchQueue.main.sync.  In general, use async unless there's a concrete reason to use sync on the main thread.. Not really, no.\nI'm not sure why it's there in the first place, but it was DispatchQueue.main.sync which was deadlocking on me.  So this just fixes the deadlock without having to read up why there was a dispatch_sync here originally. . I suppose I\u2019m just assuming that sync was a mistake.. I\u2019d let @warpling answer this.  The fix is using async, not sync, so it should be good to go AFAIK.. What's 247?  Could we use a let constant for clarity?. Ok I see, you have to manually search for an end byte.  . If we wanted to future proof for multiple inputs we could change ProcessEventsBlock to something more like this:\ntypedef void(^ProcessEventsBlock)(\n    AudioBufferList * _Nullable * _Nonnull  inBuffers,\n    int                                     inBuffersCount,\n    AudioBufferList             * _Nonnull  outBuffer,\n    const AudioTimeStamp        * _Nonnull  timestamp,\n    AVAudioFrameCount                       frameCount,\n    const AURenderEvent         * _Nullable eventsListHead);\nI'm just hesitant to do this now because we might end up with something entirely different once we actually implement it.. @getdunne Here's where I'm zeroing things out.. Another option would be to change the sampler\u2019s internals so that it does not generate additively.. Here's the AKDSPRef definition.. Here's the attribute adding macro.. Here's the attribute adding macro.. Here's the AKDSPRef definition.. I think these can just be node.connect(to: otherNode). The connect function will end up using inputNode implicitly.. ",
    "ekscrypto": "While this may not be officially supported by you guys, many of your developers are currently testing/developing their apps to support iOS 11 when it gets out.  Would be nice to have a working library!. ",
    "tghs": "Perfect, thanks very much!. ",
    "Tauf": "Thanks for your response. I was just wondering if you guys plan to provide a pre-built version any time soon.. Thanks for the answers. I have removed EZAudio, and installed both 4.01 AK and AK UI. I cleaned and built it. Still having problem: \n\nI think AudioKitUI.h is calling EZAudioPlot.h, but it does not find it in the same folder as other headers. Could it be because developers somehow forget to include it?\nRESOLVED: I manually added EZAudioPlot.h from EZAudio GitHub to:\nPods/AudioKit/iOS/AudioKitUI.framework/Headers\nand it is working now. Can you please include it in future updates? Thanks!. ",
    "stonehouse": "I was able to reproduce the crash with AVFoundation in a separate sample app (which I submitted to Apple in the radar).\n```\nlet engine = AVAudioEngine()\nguard let inputNode = engine.inputNode else {\n    return\n}\nlet bus = 0\ninputNode.installTap(onBus: bus, bufferSize: 2048, format: inputNode.inputFormat(forBus: bus), block: { (,) in      \n})\nengine.prepare()\n```\nIf you start a phone call, and run an app with this code, the app will crash immediately. (The app is in the foreground, and has already asked for permission to use the microphone.). So, I've tried out the develop branch and I saw the same crash again. I've made a PR #1005 demonstrating a fix. I've done something similar in my app to check before we start the AudioKit engine, but something like what I've done in the PR is necessary (IMHO) to prevent a crash on resuming the audio session if a route change notification is received.\nI understand if you consider this a low priority problem, but it is currently a major cause of crashes for my app.. I'm happy for it to be merged. I wasn't totally sure if you'd think it was a good idea for this kind of logic to be there. I thought you might want to have a bit of a discussion, but if you think it looks good then no worries.. I'm also happy to push check style fixes if you want.. I'm definitely still looking for a better solution. Any suggestions? As far as I can tell, it seems like it relates specifically to trying to access the microphone while a phone call is in progress. But I'll try to test a bit more with the routing changes.. When are you planning on supporting Xcode 10? I understand it's still in beta, but we're on beta 5 at this point, it's not too far of it being released. And regarding Carthage, I've been using it with Carthage for over a year without problem. CocoaPods doesn't build either.. So are you saying you're not seeing any compilation issues with Xcode 10? Are you using latest master or develop branch?. Great, I'll try it out, thank you.. ",
    "julienfouilhe": "Yup it does now, it appears that I had to be accepted into the group to be able to post. Do you want me to take the conversation there?\nThanks a lot!. Well I have a file, basically, with a description of notes (like A1 Piano, C3 Organ...), their duration, effects that have to be applied to them, and when they should be played.\nBy pressing the play button here, you'll see what I'm trying to achieve, but for iOS: https://flat.io/score/5981ff27fb744b7fe7b44977-fur-elise?sharingKey=ce5e918fe9f1975dd93e49785db02772581df45932e79d78de6054f853f2981860a6ca2f564070a570194243e6da334a88c6f42b3be9aa02e1b6e5b480865f17\nThe \"F\u00fcr Elise\" music you see there, contains thousands of notes that have to be played. If I create all the AKAudioPlayer at first, it brings the memory usage to 3Gb, and takes about 5 seconds to load. What I would like to do is to create only the first few AKAudioPlayer that need to be played, plug them into the AKMixer, then later on add a few other AKAudioPlayer, plug them into the mixer, etc.\nThis would allow me to only use a small amount of memory, and also would considerably reduce the setup time.\nUnfortunately, if i try that, AKMixer.connect stops the audio engine with AudioKit.stop, and therefore stops the notes currently being played.\nHere is a non functioning example of what would be great:\n```\n// Configuring basics, such as mainMixer\nlet mixer = AKMixer()\nAudioKit.output = mixer\nAudioKit.start()\n// later\nlet player = AVAudioPlayer(file: file)\nplayer.play(from: 0, to: duration, avTime: startTime)\nmixer.connect(player)\n// and later again, possibly while previous note is playing, or before previous note has played\nlet player = AVAudioPlayer(file: file2)\nplayer.play(from: 0, to: duration, avTime: startTime)\nmixer.connect(player) // this prevents the previous note from playing, since it calls AudioKit.stop()\n```\nHere is what I have to do if I want it to work:\n```\n// Configuring basics, such as mainMixer\nlet mixer = AKMixer()\nAudioKit.output = mixer\n// setup all players (possibly thousands)\nlet player1 = AVAudioPlayer(file: file)\nmixer.connect(player)\nlet player2 = AVAudioPlayer(file: file2)\nmixer.connect(player) // this is ok, since we'll call play later\n// start audiokit\nAudioKit.start()\n// play them\nplayer1.play(from: 0, to: duration, avTime: startTime1)\nplayer2.play(from: 0, to: duration, avTime: startTime2)\n```. I abandonned the idea of using AKSampler because I didn't find how to schedule notes for later and how to set a duration.\nIs there a way to do that? Just like AKAudioPlayer is doing with play(from:to:avTime:) :)\nThanks a lot!. If I understand correctly what you're saying, I would have to play/stop notes using some kind of timer such as Timer.scheduledTimer, do you think I can expect at least a microseconds accuracy? If notes are delayed or playing for too long it won't sound right to our users :/\nThat's why I was really liking AVAudioTime \ud83d\ude1b \nAgain, thanks a lot for your help!. @aure @dave234 Ok, thank you very much, I'll try it to see if we can work with that! I'll come back then to keep you guys and potentially future struggling users updated!. Hi guys!\n@aure First of all thank you for your help, I use AKSampler now and it seems to work great for now (not tested thoroughly yet).\nBasically what I do is load each instrument into a AKSampler, that I connect to a mixer, which is connected to my main mixer.. I tried to do a playground with my use case but it was working, so I had a look at my code again and realized that since I'm using On Demand Resources, samplers were initialized after AudioKit.start() was called. Since there was no problem when only one Sampler was initialized I didn't look there.\nI find it weird though that it does this, should throw an error or something maybe?\nSorry and again thank you for this flawless library! :). ",
    "kcorey": "Hi Aurelius,\nThanks for the offer!  I\u2019ll take you up on it.\nI\u2019m on Screenhero as \u2018kcorey\u2019.\nIs there a specific time over the next few days that would be good for you?\nFor the record, I am pulling in AudioKit as a Cocoapod.  I was on version 3.5.0, but I\u2019m on 3.7.1 now.\nI\u2019ve installed the iOS beta on my iPad (and XCode 9 beta on my iMac, as well as 8.3.3).  Could that have caused issues?\n-Ken\n. Sorry...my email is 'ken@kencorey.com'.\nI've downloaded the zip file you've linked to...still says no such module AudioKit/AudioKitPlayground.\n. ",
    "amarunko": "Cool, thanks, waiting next release. ",
    "johndpope": "ah - thank you.. not Audiokit's problem but fyi - \nseems like you need to be on high sierra to build successfully.\nI'm on sierra 10.12.6 (16G29)\nted from /Users/jpope/Desktop/AudioKit/AudioKit/Common/Internals/AudioKit.h:10:\nimport \n    ^\n\n:1:9: note: in file included from :1:\nimport \"Headers/AVFoundation.h\"\n    ^\n\n/Applications/Xcode-beta.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.13.sdk/System/Library/Frameworks/AVFoundation.framework/Headers/AVFoundation.h:88:9: error: 'AVFoundation/AVRouteDetector.h' file not found\nimport \n    ^\n\n:1:9: note: in file included from :1:\nimport \"Headers/AudioKit.h\"\n    ^\n\n/Users/jpope/Desktop/AudioKit/AudioKit/Common/Internals/AudioKit.h:10:9: error: could not build module 'AVFoundation'\nimport \n    ^\n\n:0: error: could not build Objective-C module 'AudioKit'\n BUILD FAILED \nThe following build commands failed:\n    CompileSwift normal x86_64\n    CompileSwiftSources normal x86_64 com.apple.xcode.tools.swift.compiler\n(2 failures). thanks again.\n. here's a video from - https://github.com/TheAmazingAudioEngine/TheAmazingAudioEngine\n@michaeltyson - has retired this code base and yielded to this repo - but it looks like it is still valid and has merit. \nMichael - would you be opposed to salvaging some of your code for mixing (providing it's appropriately licensed / attributed)\nvideo \nhttps://drive.google.com/open?id=0B-w3I-xzXGu0TC1jb09DXzI4cjA\n. no problem @michaeltyson - \nI also found this - seems Apple have gone to some efforts to catch up in this space.\n https://developer.apple.com/library/content/samplecode/AVAEMixerSample/Introduction/Intro.html#//apple_ref/doc/uid/TP40015134  - the demo sucks - you need to swipe down to close the vc (it wasn't clear when I first tried it) you can actually add multiple effects / sounds / recording.. video of apple mixer - 2017 - august\nhttps://drive.google.com/open?id=0B-w3I-xzXGu0bFBya0labW9xRGc. sorry about google drive sharing permissions - I updated.\nI threw this code together this morning - https://gist.github.com/johndpope/059f8aaaafab14b28756fa47558102e5\nmy intention is to be able to play / pause a whole bunch of tracks / fade in / out.\n\nyou mentioned using layers - I'm running into memory issues when I use so many players - but will keep digging.  I'm using caf - but might try to switch to mp3 to reduce memory foot print.\n. for some unknown reason - memory problems resolved using full blown caf files.\n(maybe because I'm using 6s not iphone 6.) \nhttps://gist.github.com/johndpope/059f8aaaafab14b28756fa47558102e5\nalmost done - \nI will recode so that player has all players playing synchronised - but will mute tracks on / off. \njust need to dive into documentation. frankly looking for the isMuted selector.. Nice. It seems like the only way to mute a track here is by stopping it then to unmute would be .....schedule a start time from current playing time ???. that's not a problem. can bend the rules here with this hack.\nunfortunately ran into a new challenge - new ticket to follow.\n```\nextension AKAudioPlayer{\n    func isMuted()->Bool{\n        if (self.volume > 0){\n            return false\n        }else{\n            return true\n        }\n    }\nfunc unmute(){\n    self.volume = 1\n}\nfunc mute(){\n    self.volume = 0\n}\n\n}\n```\n. nice nice. Thanks Dave. Need to get a PR in for your code. . ",
    "lamgadekamal": "@megastep could you elaborate a bit how is it possible to build it from source or with build_frameworks.sh script in frameworks? I am having the same error as below:\nThe following build commands failed:\n`CompileSwift normal x86_64`\n\n`CompileSwiftSources normal x86_64 com.apple.xcode.tools.swift.compiler`.\n",
    "frakman1": "\nUsing cocoapods for AudioKit and \nRun into this very problem, then\nBuilt AudidoKit from source using build_frameworks.sh\n\nNow what?\nI still get this error despite removing Audiokit from the Podfile and manually adding the freshly built AudioKit Framework to my project. What am I missing?. ",
    "Xcoder89": "From the discussion in #940, I suppose dispatch_async is needed only when called within the completion handler.. \ntrack.zip\n. ",
    "WrightsCS": "When will AK update to Swift 4?. ",
    "Arlindog": "Thanks for the fast response! . ",
    "spandana-batchu": "@aure  I see that this is merged into develop. Im facing the same issue and want my app on the appstore to be ready by the time iOS 11 officially released to public. Do you have any idea on when you guys are you planning for the next release.? Or should I update my app with AudioKit's latest develop version? . ",
    "ygoncharov-ideas": "I try to reduce the size of final recording. Since I'm going to record only voice then I use these poor quality settings. I tested these settings  on a voice and it sounds reasonable and takes about 10 times less space than in 44100 and 2 channels.\nAhead of your question. I export recording to m4a when it's finished:\n```\nfunc exportRecording(){\n        guard let player = player else {\n            return\n        }\n    let audioFile = player.audioFile\n\n    if audioFile.duration > 0.0 {\n        audioFile.exportAsynchronously(name: \"record.m4a\",\n                                       baseDir: .documents,\n                                       exportFormat: .m4a) {[unowned self] file, exportError in\n                                            if let error = exportError {\n                                                print(\"Export Failed \\(error)\")\n                                            } else {\n                                                DispatchQueue.main.async {\n                                                    self.postRecording(path: file!.url)\n                                                }\n                                            }\n        }\n    }\n}\n\n```. Sure, I use bigger file setting for now. But I suppose that there is a problem with AKNodeRecorder when you change format from stereo 44 to mono and less than 44.\nPlease let me know if you need any additional info or test project to reproduce the issue. Don't want to be annoying but do you have any news about the issue?. @dave234 thank you for investigating the issue. I utilized a code from SongProcessor to build my App. So I've just downloaded the latest source code from Github(4.0.2) and build AudioKit framework from source. Next I run SongProcessor example on iPhone 6 - iOS 11 simulator and get this strange silent file(mixDown.zip)\nMy XCode version: Version 9.0 (9A235).\nMac OS version: 10.13 (17A405)\nPlease let me know if you need any additional details?. Yep, I input 2 as a number of loops and then uploaded result file from: /Users/Yuri/Library/Developer/CoreSimulator/Devices/E508F7BA-A400-4B13-A47B-E6512CBCD431/data/Containers/Data/Application/DFF0F2FC-15C3-4AC2-91B6-520DC4C5ED92/tmp/mixDown.m4a . Unfortunately I will be able to run SongProcessor on iPad only tomorrow.\nBTW, added AudioKit framework as a source code to the project and try to debug it. \nSo I put breakpoint at first line of method:\n-(BOOL)renderToFile:(NSURL * _Nonnull)fileURL\n            seconds:(double)seconds\n           settings:(NSDictionary<NSString *, id> * _Nullable)settings\n              error:(NSError * _Nullable * _Nullable)outError{\nI checked out error at it wan't nil. Here is a screenshot - \n\n. I've just tried to increase duration  player.duration * 2 but AKOfflineRenderNode produces silent audio with double length of file.. > Can you SongProcessor on your iPad?\n@dave234, instead of iPad I run SongProcessor on iPhone 6 with iOS 11.0.3(15A432) and then shared result to my Mac via AirDrop. I still got silent file - mixDown-iPhone6.zip\nAlso I disabled \"Inter-App Audio\" and Background Mode capabilities since it requires to register separate bundle id to run the App on real devices. But I guess it used for playback and communication with iTunes so shouldn't be a root cause of reported problem.. @dave234, in meanwhile I decided to implement solution based on AVAudioEngine. Details at: https://developer.apple.com/videos/play/wwdc2017/501/\nHere is a rough code for Offline Renderer:\n```\nclass OfflineRenderer: AKNode {\n    public func enableManualRendering() {\n        do {\n            AudioKit.engine.stop()\n        let maxNumberOfFrames: AVAudioFrameCount = 4096\n        try AudioKit.engine.enableManualRenderingMode(.offline, format: AudioKit.format, maximumFrameCount: maxNumberOfFrames)\n\n        try AudioKit.engine.start()\n    } catch {\n        print(\"could not enable manual rendering mode, \\(error)\")\n    }\n}\n\npublic func disableManualRendering() {\n    AudioKit.engine.disableManualRenderingMode()\n}\n\npublic func renderToURL(_ url: URL, length: AVAudioFramePosition, settings: [String : Any]) throws {\n    let outputFile = try AVAudioFile(forWriting: url, settings: settings)\n    let engine = AudioKit.engine\n\n    let buffer: AVAudioPCMBuffer = AVAudioPCMBuffer(pcmFormat: engine.manualRenderingFormat,\n                                                    frameCapacity:  engine.manualRenderingMaximumFrameCount)\n\n    while engine.manualRenderingSampleTime < length {\n        do {\n            let framesToRender = min(buffer.frameCapacity, AVAudioFrameCount(length - engine.manualRenderingSampleTime))\n            let status = try engine.renderOffline(framesToRender, to: buffer)\n\n            if status == .success {\n                try outputFile.write(from: buffer)\n            }\n        } catch {\n            print(\"render failed, \\(error)\")\n        }\n    }\n}\n\n}\nHere an example of usage:\n        let settings = [\n            AVFormatIDKey : kAudioFormatMPEG4AAC,\n            AVSampleRateKey: 44100.0,\n            AVNumberOfChannelsKey: 2,\n            AVEncoderAudioQualityKey: AVAudioQuality.high.rawValue\n            ] as [String : Any]\n    let documentsPath = NSSearchPathForDirectoriesInDomains(.documentDirectory, .userDomainMask, true)[0]\n    let renderURL = URL(fileURLWithPath: documentsPath + \"processed.m4a\")\n    let sampleTimeZero = AVAudioTime(sampleTime: 0, atRate: AudioKit.format.sampleRate)\n\n    offlineRenderer.enableManualRendering()\n\n    player.schedule(from: 0, to: player.duration, avTime: nil)\n    player.play(at: sampleTimeZero)\n\n    do {\n        try offlineRenderer.renderToURL(renderURL, length: player.audioFile.length, settings: settings)\n    } catch {\n        print(error)\n    }\n    player.stop()\n\n    offlineRenderer.disableManualRendering()\n\n```\nI've tested it on simulator and problematic iPhone and got correct processed recordings for both. I found 2 inconveniences with this approach: App should be targeted to iOS 11+ and render process is synchronous. \nCould you please review my code and help to adjust it into AudioKit architecture because I'm not sure how it should be integrated. Also any help to make a rough code more production like is appreciated. Ideally we can make new feature pull request .. @dave234, thank you for feedback!\n\nshould be a method on the global AudioKit\n\nI absolutely agree with you. I will create an extension for AudioKit class.\n\nI'm tempted to just make the offline render node unavailable in iOS 11.0\n\nPlease don\u2019t rush. Something \u201cmystical\u201d happens around offline render. When I started to develop my App I had same problem for my iPhone 6s.\nI decided that it software problem and updated my Mac OS, XCode and iOS version. But problem remained. After a few hours of fight the problem disappeared  by itself. I didn\u2019t do any reasonable fix. Next I started to test on iPad and problem appeared on iPad. You can't believe but problem disappeared on iPad after several hours of testing and now randomly appears. Now I have iPhone 6 where problem is reproducible 100% of time. So it looks like offline renderer(AudioKit) conflicts/fights with other process for audio service privileges and when it won then everything works well. I also noticed that when tried to play remote(streaming) recording via AVPlayer in other ViewController. AudioKit behaved really strange and recorded a voice with x3 extra speed. I can advice to test SongProcessor on \u201cclean\u201d device with iOS 11. By clean I mean device that was never used with AudioKit.\n\ntry playing around with enableManualRenderingMode with/without stopping the engine\n\nI understood idea of your hack. I will check it on problematic iPhone 6 and let you know results.\n\nre-implement offline rendering with an API that is consistent with AVAudioEngine's offline rendering, and that works both pre iOS 11 and post iOS 11\n\nAre you sure? enableManualRenderingMode marked as @available(iOS 11.0, *). I tried to enable manual rendering mode for SongProcessor and tested on iPhone 6s on iOS 11.\nfileprivate func mixDownLoops(url: URL, loops: Int) throws {\n        offlineRender.internalRenderEnabled = false\n        if #available(iOS 11, *) {\n            do {       \n                let maxNumberOfFrames: AVAudioFrameCount = 4096\n                try AudioKit.engine.enableManualRenderingMode(.offline, format: AudioKit.format, maximumFrameCount: maxNumberOfFrames)\n            } catch (let error) {\n                print(\"\\(error)\")\n            }\n        }\n....\nI saw following error: Error Domain=com.apple.coreaudio.avfaudio Code=-80801 \"(null)\"\nNext I added engine stop/start methods:\n```\n    fileprivate func mixDownLoops(url: URL, loops: Int) throws {\n        offlineRender.internalRenderEnabled = false\n        if #available(iOS 11, *) {\n            do {\n                AudioKit.stop()\n            let maxNumberOfFrames: AVAudioFrameCount = 4096\n            try AudioKit.engine.enableManualRenderingMode(.offline, format: AudioKit.format, maximumFrameCount: maxNumberOfFrames)\n\n            AudioKit.start()\n        } catch (let error) {\n            print(\"\\(error)\")\n        }\n    }\n\n...\n``\nBut it failed ontry offlineRender.renderToURL(url, seconds: duration)with error:Error Domain=AKOfflineRenderAudioUnit Code=1 \"Node needs to be connected and engine needs to be running`\nDo you have other scenarios to try?. @dave234 sorry for a delay.\nAs you recommended I set:\nAudioUnitRenderActionFlags pullFlags = kAudioOfflineUnitRenderAction_Render;\n        AUAudioUnitStatus status = _inputBus.pullInput(&pullFlags, &ts, renderLen, 0, pullInputBlock); \nUnfortunately it didn't give any positive result. SongProcessor's recording is still silent.\nIf I add AudioKit.engine.enableManualRenderingMode then I still see Error Domain=AKOfflineRenderAudioUnit Code=1. @dave234 do you have any updates or fixes for code to try?. @dave234 in meanwhile I tried to test SongProcessor with XCode 9.1(9B55) on iOS 11.1. Unfortunately, result is same. I still get silent audio.\nAlso I tested solution based on AVAudioEngine's enableManualRenderingMode but it doesn't work as expected. I can render(export) recording only once. So when I start new recording then AKNodeRecorder doesn't record any sound and I don't see any error in log.\nIt looks like there is no possible way to render offline sound on iOS 11. . ",
    "nigamshah": "Thanks Aurelius, sorry to post on a closed issue, but I have a simple question - will this work if I merge the changes into master (I won't push)?\nI tried to compile develop and had some issues at runtime, but I can successfully compile and run master. I don't really have the time to dive into my issues with develop, so I'd like to stick with master for now.\nOh yeah - thanks for fixing so quickly!. ",
    "markuswustenberg": "Thanks for the quick turnaround! So adding a limiter of sorts to playgrounds in general is not a good idea?. ",
    "EssamSoft": "seem here \ud83d\udc4d . https://github.com/AudioKit/AudioKit/blob/9ae8641551bc5f7b4c9b4c887aa327155fac83b5/Examples/iOS/SongProcessor/SongProcessor/SongExporter.swift. @yarivadam \nI\u2019ve avoided this issue by using AVaudiorecorder with AudioKit . ",
    "tengyifei": "Hmmm. But if you download AudioKit 3.7.1 from https://github.com/AudioKit/AudioKit/releases/download/v3.7.1/AudioKit-macOS-3.7.1.zip it's different. Specifically, it's missing the sinewave.raw file which the Rhodes instrument depends on.\nOnly the iOS release has sinewave.raw.. Targeting iOS 10 and experiencing the same issue. Problem goes away once you disable iOS targets and stick to macOS only.. Ah gotcha. I'm using the macOS build. Maybe that's why :). You're right there's also a main function in md5.c. Xcode was only able to report the first conflict though, which it did say sporth.o.. Stack trace:\n* thread #31, name = 'com.apple.audio.IOThread.client', stop reason = breakpoint 3.1\n  * frame #0: 0x0000000117c2d7cc CoreAudio`AUBase::DoRender(unsigned int&, AudioTimeStamp const&, unsigned int, unsigned int, AudioBufferList&) + 1652\n    frame #1: 0x0000000117c36cab CoreAudio`AUMethodRender(void*, unsigned int*, AudioTimeStamp const*, unsigned int, unsigned int, AudioBufferList*) + 45\n    frame #2: 0x00007fff3cdb94c1 AudioToolbox`___ZN28AUAudioUnitV2Bridge_Renderer11renderBlockEv_block_invoke + 117\n    frame #3: 0x00007fff3ce22683 AudioToolbox`__26-[AUAudioUnit renderBlock]_block_invoke + 174\n    frame #4: 0x00007fff3a65f9ef AVFAudio`___ZN17AUGraphNodeBaseV318AllocateInputBlockEv_block_invoke + 197\n    frame #5: 0x0000000117c142c1 CoreAudio`AUMultiChannelMixerInputElement::PullMixerInput(unsigned int, unsigned int&, AudioTimeStamp const&, unsigned int, AudioBufferList*) + 543\n    frame #6: 0x0000000117c1368a CoreAudio`AUMultiChannelMixer::MixerCore::RenderInput(unsigned int, AudioTimeStamp const&, unsigned int) + 182\n    frame #7: 0x0000000117c15a0b CoreAudio`AUMultiChannelMixer::MixerCore::Mix(InputRenderOrderInfo const*, int, AudioTimeStamp const&, unsigned int) + 411\n    frame #8: 0x0000000117c1567d CoreAudio`AUMultiChannelMixer::MixerCore::MasterMix(AudioTimeStamp const&, unsigned int) + 1935\n    frame #9: 0x0000000117c14c4e CoreAudio`AUMultiChannelMixer::Render(unsigned int&, AudioTimeStamp const&, unsigned int) + 682\n    frame #10: 0x0000000117c2dca4 CoreAudio`AUBase::DoRenderBus(unsigned int&, AudioTimeStamp const&, unsigned int, AUOutputElement*, unsigned int, AudioBufferList&) + 166\n    frame #11: 0x0000000117c2d37a CoreAudio`AUBase::DoRender(unsigned int&, AudioTimeStamp const&, unsigned int, unsigned int, AudioBufferList&) + 546\n    frame #12: 0x0000000117c36cab CoreAudio`AUMethodRender(void*, unsigned int*, AudioTimeStamp const*, unsigned int, unsigned int, AudioBufferList*) + 45\n    frame #13: 0x00007fff3cdb94c1 AudioToolbox`___ZN28AUAudioUnitV2Bridge_Renderer11renderBlockEv_block_invoke + 117\n    frame #14: 0x00007fff3ce22683 AudioToolbox`__26-[AUAudioUnit renderBlock]_block_invoke + 174\n    frame #15: 0x00007fff3a65f9ef AVFAudio`___ZN17AUGraphNodeBaseV318AllocateInputBlockEv_block_invoke + 197\n    frame #16: 0x0000000117c142c1 CoreAudio`AUMultiChannelMixerInputElement::PullMixerInput(unsigned int, unsigned int&, AudioTimeStamp const&, unsigned int, AudioBufferList*) + 543\n    frame #17: 0x0000000117c1368a CoreAudio`AUMultiChannelMixer::MixerCore::RenderInput(unsigned int, AudioTimeStamp const&, unsigned int) + 182\n    frame #18: 0x0000000117c159a8 CoreAudio`AUMultiChannelMixer::MixerCore::Mix(InputRenderOrderInfo const*, int, AudioTimeStamp const&, unsigned int) + 312\n    frame #19: 0x0000000117c1567d CoreAudio`AUMultiChannelMixer::MixerCore::MasterMix(AudioTimeStamp const&, unsigned int) + 1935\n    frame #20: 0x0000000117c14c4e CoreAudio`AUMultiChannelMixer::Render(unsigned int&, AudioTimeStamp const&, unsigned int) + 682\n    frame #21: 0x0000000117c2dca4 CoreAudio`AUBase::DoRenderBus(unsigned int&, AudioTimeStamp const&, unsigned int, AUOutputElement*, unsigned int, AudioBufferList&) + 166\n    frame #22: 0x0000000117c2d37a CoreAudio`AUBase::DoRender(unsigned int&, AudioTimeStamp const&, unsigned int, unsigned int, AudioBufferList&) + 546\n    frame #23: 0x0000000117c36cab CoreAudio`AUMethodRender(void*, unsigned int*, AudioTimeStamp const*, unsigned int, unsigned int, AudioBufferList*) + 45\n    frame #24: 0x00007fff3cdb94c1 AudioToolbox`___ZN28AUAudioUnitV2Bridge_Renderer11renderBlockEv_block_invoke + 117\n    frame #25: 0x00007fff3ce22683 AudioToolbox`__26-[AUAudioUnit renderBlock]_block_invoke + 174\n    frame #26: 0x00007fff3a65f9ef AVFAudio`___ZN17AUGraphNodeBaseV318AllocateInputBlockEv_block_invoke + 197\n    frame #27: 0x0000000117c142c1 CoreAudio`AUMultiChannelMixerInputElement::PullMixerInput(unsigned int, unsigned int&, AudioTimeStamp const&, unsigned int, AudioBufferList*) + 543\n    frame #28: 0x0000000117c1368a CoreAudio`AUMultiChannelMixer::MixerCore::RenderInput(unsigned int, AudioTimeStamp const&, unsigned int) + 182\n    frame #29: 0x0000000117c15a0b CoreAudio`AUMultiChannelMixer::MixerCore::Mix(InputRenderOrderInfo const*, int, AudioTimeStamp const&, unsigned int) + 411\n    frame #30: 0x0000000117c1567d CoreAudio`AUMultiChannelMixer::MixerCore::MasterMix(AudioTimeStamp const&, unsigned int) + 1935\n    frame #31: 0x0000000117c14c4e CoreAudio`AUMultiChannelMixer::Render(unsigned int&, AudioTimeStamp const&, unsigned int) + 682\n    frame #32: 0x0000000117c2dca4 CoreAudio`AUBase::DoRenderBus(unsigned int&, AudioTimeStamp const&, unsigned int, AUOutputElement*, unsigned int, AudioBufferList&) + 166\n    frame #33: 0x0000000117c2d37a CoreAudio`AUBase::DoRender(unsigned int&, AudioTimeStamp const&, unsigned int, unsigned int, AudioBufferList&) + 546\n    frame #34: 0x0000000117c36cab CoreAudio`AUMethodRender(void*, unsigned int*, AudioTimeStamp const*, unsigned int, unsigned int, AudioBufferList*) + 45\n    frame #35: 0x00007fff3cdb94c1 AudioToolbox`___ZN28AUAudioUnitV2Bridge_Renderer11renderBlockEv_block_invoke + 117\n    frame #36: 0x00007fff3ce22683 AudioToolbox`__26-[AUAudioUnit renderBlock]_block_invoke + 174\n    frame #37: 0x00007fff3a65f9ef AVFAudio`___ZN17AUGraphNodeBaseV318AllocateInputBlockEv_block_invoke + 197\n    frame #38: 0x00007fff3cdb8d09 AudioToolbox`AUHALOutputUnit_ProvideOutputCallback(void*, unsigned int*, AudioTimeStamp const*, unsigned int, unsigned int, AudioBufferList*) + 60\n    frame #39: 0x0000000117c26da9 CoreAudio`AUInputElement::PullInput(unsigned int&, AudioTimeStamp const&, unsigned int, unsigned int) + 185\n    frame #40: 0x0000000117b03f97 CoreAudio`AUInputFormatConverter2::InputProc(OpaqueAudioConverter*, unsigned int*, AudioBufferList*, AudioStreamPacketDescription**, void*) + 199\n    frame #41: 0x00007fff3ccb3257 AudioToolbox`AudioConverterChain::CallInputProc(unsigned int) + 613\n    frame #42: 0x00007fff3ccb2f0d AudioToolbox`AudioConverterChain::FillBufferFromInputProc(unsigned int*, CABufferList*) + 127\n    frame #43: 0x00007fff3ccb2e6f AudioToolbox`BufferedAudioConverter::GetInputBytes(unsigned int, unsigned int&, CABufferList const*&) + 207\n    frame #44: 0x00007fff3ccb2c71 AudioToolbox`CBRConverter::RenderOutput(CABufferList*, unsigned int, unsigned int&, AudioStreamPacketDescription*) + 107\n    frame #45: 0x00007fff3cca598a AudioToolbox`BufferedAudioConverter::FillBuffer(unsigned int&, AudioBufferList&, AudioStreamPacketDescription*) + 346\n    frame #46: 0x00007fff3cca5cda AudioToolbox`AudioConverterChain::RenderOutput(CABufferList*, unsigned int, unsigned int&, AudioStreamPacketDescription*) + 106\n    frame #47: 0x00007fff3cca598a AudioToolbox`BufferedAudioConverter::FillBuffer(unsigned int&, AudioBufferList&, AudioStreamPacketDescription*) + 346\n    frame #48: 0x00007fff3cca531f AudioToolbox`AudioConverterFillComplexBuffer + 1076\n    frame #49: 0x0000000117b036cb CoreAudio`AUInputFormatConverter2::PullAndConvertInput(AudioTimeStamp const&, unsigned int&, AudioBufferList&, AudioStreamPacketDescription*, bool&) + 107\n    frame #50: 0x0000000117b0350c CoreAudio`AUConverterBase::RenderBus(unsigned int&, AudioTimeStamp const&, unsigned int, unsigned int) + 572\n    frame #51: 0x0000000117c2dca4 CoreAudio`AUBase::DoRenderBus(unsigned int&, AudioTimeStamp const&, unsigned int, AUOutputElement*, unsigned int, AudioBufferList&) + 166\n    frame #52: 0x0000000117c2d37a CoreAudio`AUBase::DoRender(unsigned int&, AudioTimeStamp const&, unsigned int, unsigned int, AudioBufferList&) + 546\n    frame #53: 0x0000000117b06d44 CoreAudio`AUHAL::AUIOProc(unsigned int, AudioTimeStamp const*, AudioBufferList const*, AudioTimeStamp const*, AudioBufferList*, AudioTimeStamp const*, void*) + 1726\n    frame #54: 0x00007fff3dd69885 CoreAudio`HALC_ProxyIOContext::IOWorkLoop() + 5021\n    frame #55: 0x00007fff3dd6831c CoreAudio`HALC_ProxyIOContext::IOThreadEntry(void*) + 128\n    frame #56: 0x00007fff3dd6805e CoreAudio`HALB_IOThread::Entry(void*) + 72\n    frame #57: 0x000000010db64665 libsystem_pthread.dylib`_pthread_body + 340\n    frame #58: 0x000000010db64511 libsystem_pthread.dylib`_pthread_start + 377\n    frame #59: 0x000000010db63bfd libsystem_pthread.dylib`thread_start + 13. ",
    "dorjeozer": "I can do it, no problem.. ",
    "mani9876": "Hello,\nI only have the IPad mini as test device. I tried the simulator and you are right, in the simulator everything works fine.\nI've never had any problems with my IPad and writing Apps for it. I've also checked with other apps, if they can play sound, and they can. Have you any suggestions, what there could be wrong? Or is it an IPad Mini 2 problem?. Hello,\nthank you very much. You were absolutely right, it was the mute button. As my mute button is defective, and I don't want to here that system sounds it was always muted, but normal Apps like Youtube etc. played sound just like normal. \n\"AKSettings.playbackWhileMuted = true\" did the trick, thank you very much!\nI know it's a little bit off topic, but do you know why there is a little delay, when I change the oscillator frequency? I display the Oscillator Frequency in a label, and there are sometimes 2 - 3 seconds in beetween the display changes, and I can hear the frequency change.. Thank you, I am going to open a Thread there, and close this, as the mean issue was solved :)!. ",
    "cyberdude": "Same here. I've been trying to get a simple click track with the AKSynthKick or Snare and no audio is coming back.   I went ahead and build AudioKit tag 3.7.1 and ran the Sequencer demo and to my surprise the melody works but the Snare nor Drum Kick doesn't not.\nI'm getting 2017-09-17 16:27:40.073541+0200 SequencerDemo[16093:179547] [i-aa] 957: AUParameterSet 2 (1/8): err -10867\nBtw, I'm using. Xcode 9.0  My code was working before.. ",
    "glm4": "@aure Using 3.7.1 via cocoapods with scrip to fix framework. @dave234 Im trying to record the mic input in one screen and then send the AKAudioFile to the next view controller for listening to.\n@aure As soon as I can update to XCode9 I will let you know. Thanks. @aure I update to Xcode 9, used the 4.0 pod version and now the class AKNodeOutputPlot is not being recognized. ANy clue?\nUpdate: Never mind, I realized that the classes are under AudioKitUI now.. Still happening after updating to AudioKit 4.0 in XCode9. Very randomly.. @hhanesand I was using audiokit as well for playing the recording after that. I changed to EZAudioRecorder and solved the problem.. ",
    "jldunk": "any ideas how to work around or do I need to wait for an AudioKit new version?\n. I would be more than happy to help.  Is there any way for the time being to use the previous version I was using which was AudioKit 3.7.1 with XCode 9?  I seem to remember the issue with this was around Swift 4.. I will start tonight with the develop branch and then do the pull request with my findings.  Thanks again for your help.. I am closing this issue as I was able to compile my app last night using the develop branch xcode project adding @objc where needed.  I'll do a pull request this morning, but basically found that several effects needed @objc added for the init so you could instantiate the object in obj-c.. Just uploaded changes. \nJason \n\nOn Sep 23, 2017, at 3:29 PM, Aurelius Prochazka notifications@github.com wrote:\n@jldunk Are you close to making a pull request? We've got a few other bugs I'd like to address with a 4.0.1 release\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub, or mute the thread.\n. Sure aure, first time doing this!. \n",
    "szczepanwaclaw": "Thanks for such a quick response. I will test in a bit but already I can say I can connect players to my mixer, it fails after couple connections (and .play() causes crash not .connect(to:)), not immediately. Although I need to test your feedback first, cheers.. @dave234, a workaround you suggested works but AudioKit.stop() causes all active players stop and I want them to continue fluently, is there another trick I can use?\nI also tried to look for ryanfrancesconi bug but cannot find it in the archive here or Google groups, if you could share link maybe it would limit size of this thread.\nOnce again thanks for help, cheers.. @dave234 thank you very much for your help & time. I think I have solution to my problem.\nApparently there is a limit of items (at least AKAudioPlayer) added to the mixer and to clear the capacity I have to disconnect players once they're done. Every time I connect & play new player I set completionHandler and in it I disconnect from mixer.\nIt works but still rapid creation of new players kills the app I limited number of active players to 7.\nAgain thanks for help and maybe this will save someones time.. Thank you! I will test and confirm, cheers.. To be honest I can't make it work, here is code\nlet dummy = AKNode()\ndummy.setOutput(to: mixer)\ndummy.disconnectOutput()\nmixer is AKMixer. This code throws error\n\n*** Terminating app due to uncaught exception 'com.apple.coreaudio.avfaudio', reason: 'required condition is false: node != nil'\n\nBTW I have acceptable version now working, solution described in earlier post.. @dave234 I will for sure but know I am offline for a while, cheers.. ",
    "emrahgunduz": "Oh, I did not... I will look into the update and write if any errors appear.. Do you have any code/comment style requirements?. ",
    "highestage": "Is it possible that I can upload screenshots of the issue after some time?. I'll do that. But could you just show me how you use a .wav file to init aktable and where you are placing the audio file in the project explorer. Thanks. \nAs you can see, I am following exactly what happens in the playground you mentioned. But still it gives me the error that AKTable is accessing a nil value\n. Yes. But I wanted to ask if you are facing the same issue in your Xcode. Also I am using Xcode 9.0. I found the solution. It\u2019s bit of a workaround. You need Xcode 8 and 9 both. So, in order to import the file, I opened the project in Xcode 8, copies the files, and then reopened the entire project in Xcode 9. So I think I am good. Thanks for the help. ",
    "zishanj": "Thanks, that error has gone. But now I receive this error when I play any MP3 URL:\n2017-10-12 08:50:41.931215+0500 AKAudioPlayer[15941:3859240] 231: EXCEPTION (2003334207): \"open audio file\"\n2017-10-12 08:50:41.933073+0500 AKAudioPlayer[15941:3859240] [avae] AVAEInternal.h:77:_AVAE_CheckNoErr: [AVAudioFile.mm:133:AVAudioFileImpl: (ExtAudioFileOpenURL((CFURLRef)fileURL, &_extAudioFile)): error 2003334207. Still no luck... I am in doubt that AKAudioPlayer does not support playing external file from URL. I have tried with native AVFoundation library and it playing well.. ",
    "andresinaka": "@Tauf I was having the same problem. If you are using CocoaPods you have to import AudioKitUI the same way you are importing AudioKit\nimport AudioKit\nimport AudioKitUI. ",
    "MattTimmons": "I am having the same issue with Xcode 9.1 and iOS 11.1. \nI have both in my pod file:\npod 'AudioKit'\npod 'AudioKit/UI'\nimport AudioKit\nimport AudioKitUI\nModule compiled with Swift 4.0 cannot be imported in Swift 4.0.1: ..../Pods/AudioKit/iOS/AudioKit.framework/Modules/AudioKit.swiftmodule/x86_64.swiftmodule\n. ",
    "fictorial": "OK maybe that was too terse.  Aren't audio file samples root-power or field quantities since they are amplitudes?  If so, the conversions between decibels and gain would be: gainRatio = 10^(dB/20) and db = 20 x log10(gainRatio).\nI've only gotten into audio processing since a few months ago so if I'm missing something, forgive me (and tell me what I'm missing).  Thanks!\nE.g. https://github.com/AudioKit/AudioKit/blob/f45c4c21d34d0c986a134f2720e55def366fc248/AudioKit/Common/Internals/Soundpipe/modules/peaklim.c#L13-L20\nE.g. https://github.com/AudioKit/AudioKit/blob/9ae8641551bc5f7b4c9b4c887aa327155fac83b5/AudioKit/Common/Nodes/Mixing/Booster/AKBooster.swift#L94-L101. ",
    "timroesner": "https://stackoverflow.com/questions/46840362/audiokit-issue-mic-not-sensitive-enough. ",
    "karapas": "Great, thanks a lot!. ",
    "eposien": "Indeed. Turning of \u201cFilter\u201d does make the sound (and everything else as far as I can see) work ...!. ",
    "evenbrenna": "Hi,\nI have a very similar issue on iOS 11 (not tested on iOS 10), but in my case, the file rendered by AKOfflineRenderNodehas a long stretch of silence in the beginning. The silent part is about as long as the duration of the original file. \nIf I do something like offlineRenderer.renderToURL(renderURL, seconds: player.duration * 2) I get a file where the first half (not exactly half, but pretty close) is silent, and then the rest contains the expected result.\nHappy to post some code if that would be helpful. . In my case, the duration of the silent part relative to the duration of the part with signal seems to vary depending on the length of the original file. \nWhen player.duration is around 220 seconds I get about 50/50 silence/signal when I render a file of length player.duration * 2.\nFor a shorter file (14 seconds) I have to render player.duration * 16 seconds to see some signal at the end of the rendered file.... Glad to contribute! Thank you for a great framework (and amazing response time!). We have seen a lot of crashes out in the wild that I think might be this same issue (or at least related). \nI could only reproduce the crash by initing AKMicrophone while having wired earbuds and a Bluetooth headset connected at the same time. The app would crash with this error message:\n'required condition is false: format.sampleRate == hwFormat.sampleRate'\nThe good news is that #1578 seems to fix the issue for me! Big \ud83d\udc4d to @netizen01 and fingers crossed for a new release that includes this fix soon :). ",
    "jbmaxwell": "I'm curious; do you know if this would work with playback from AKSequencer (i.e., MIDI)?. Quick update: I was able to get around the data race warnings with the following suppressions:\nrace:AKBoosterDSP::setParameter\nrace:AKCostelloReverbDSP::setParameter\nrace:AKAmplitudeEnvelopeDSP::setParameter\nrace:ParameterRamper::startRamp\nrace:AKCostelloReverbDSP::process. Okay, perhaps I'm misunderstanding something about how AudioKit is working/written and the Thread Sanitizer. It's more or less unusable with the TS running... I keep adding `race` entries to my Tsan.supp file, but it just pushes the data race warning to the next operation. I'm going to try a `called_from_lib` entry... \n[UPDATE: Seems to work okay, so far, by just having a blanket `race:AK*` entry in Tsan.supp.]. Well, no, I've just left the Tsan.supp as it was, withrace: AK*```... seems to keep me running at least.. Thanks for the quick reply. \nWell, there's a question on SO with the above code (https://stackoverflow.com/questions/49549611/ios-akmidisampler-no-audio-output). Posting the project is impractical, unfortunately... I suppose I could post a project, but if it doesn't replicate the problem, then I'm no further along, am I?\nI should mention here that a simple AKOscillator, in the same init, will output from the speaker.. Just a note that this is solved by the new AKSampler (never tried AKAppleSampler, but I'm assuming it would have the same problem).\n[UPDATE: Actually, it's outputting to both the speaker and receiver. Same in .playAndRecord + .defaultToSpeaker, and .playback + .mixWithOthers.]. Sure, no worries. I just added a little tweak/fix for sample file names containing spaces (who does that anyway? Hehe...)\nI just thought, since I made some changes to help it load the sfz files I'm seeing in the wild, I might as well post it. Maybe it's a bit kludgey, but working... . No problem, glad to help. I also wondered about the loops not playing, but longer notes do seem to speak reasonably well (i.e., they're not cut off). It really seems to be more related to the envelope somehow\u2014it seems to me like new onsets re-articulate everything... As if, in a polyphonic context, there is only one series of envelopes (if that makes sense). But I think I'd have to test with various different types of musical material, to better understand the problem..  Sorry about that!\nextension Collection {\n\n    func splitBefore(isSplit: (Iterator.Element) throws -> Bool) rethrows -> [SubSequence] {\n        var p = self.startIndex\n        var result:[SubSequence] = try self.indices.compactMap {\n            i in\n            guard try isSplit(self[i]) else {\n                return nil\n            }\n            defer {\n                p = self.index(i, offsetBy: 0)\n            }\n            return self[p..<i]\n        }\n        if p != self.endIndex {\n            result.append(suffix(from: p))\n        }\n        return result\n    }\n}\n\n.     internal func noteStringToMIDINote(_ noteString: String, isRoland: Bool?) -> String {\n        var midiNote = 60\n        let chars = \"-0123456789\"\n        let pitch = noteString.trimmingCharacters(in: CharacterSet(charactersIn: chars))\n        let octave = Int(noteString.trimmingCharacters(in: CharacterSet(charactersIn: chars).inverted))\n        var offset = 1\n        if let cFlag = isRoland {\n            if cFlag == false { offset = 2 }\n        }\n        if pitch == \"\" {\n            return noteString\n        }\n        assert(octave != nil, \"ERROR: noteString must contain a numeric element (e.g., octave number)\")\n        let names = [\"c\", \"c#\", \"d\", \"d#\", \"e\", \"f\", \"f#\", \"g\", \"g#\", \"a\", \"a#\", \"b\"]\n        let pc = names.map { $0.localizedCaseInsensitiveContains(pitch) }.index(of: true)!\n        midiNote = pc + ((octave! + offset) * 12)\n        return \"(midiNote)\"\n    }. Yes, I totally understand about the depth of the sfz format\u2014there's definitely a lot that would have to be done for full support.. Just curious; are you experiencing the choppy playback, or does it sound correct? (I'm wondering if there's some more general problem with my project.). Ah, okay. Good to know. I've had nothing but trouble, so I'm really wondering if there's something wrong elsewhere in the project (AKAppleSampler only plays very quietly from the receiver, regardless of session settings, playback is choppy in AKSampler, etc.). I need to get to the bottom of this... Thanks!\n. Sorry for the stupid question, but how do I get this build from my podfile. With no arguments it installs 4.3.\nerm... okay, rtfm moment: pod repo update... sorry for the spam!\n. Thanks for the heads-up, @aure. No worries here, we're elitists; our target is iOS 11+! ;-). I've also been trying to do offline rendering of sequences but keep getting empty files. They're the expected length, and are well-formed files, but empty/silent. Is offline rendering from the sequencer expected to work or not? It isn't exactly clear from what I've found searching around.. Okay, I'll post some code to a new issue. Thanks!. Yes, we have our Conductor handling the midi events. (And the Conductor has the current instrument\u2014a sampler or SynthOne).. Well, we're not using an AU directly, so the only thing that seems to make sense is setMidiOutput. There is a setNodeOutput() but it takes an AUNode... But maybe that's still usable? (That is, maybe we could use setNodeOutput() with AudioKit.output?... but something has to handle the MIDI events.). Totally understand. Actually, this -- \"...which doesn't work in the rendering context\" -- is really what I needed to know, since it isn't explicitly stated anywhere (that I could find). We actually set something up using an AKLazyTap, which will work for our purposes right now. Thanks for the brilliant framework.. ",
    "SwiftyFlow": "I noticed it happens because of the declaration of:\n    let mic = AKMicrophone()\nIf not done the music stays, AudioKit lowers it a bit but it remains. \nHowever I loose my wave form because of the impossibility to call AKMicrophone() :( I can't afford that... Gotta display a message to the user telling that if the music is restarted after app starts it will stay. Not graceful...\nAny idea?\n. Ok guys sorry if it wasn't clear.\nI have an app with the main screen having in the top declarations:\n//MARK: - Players and Recorder\n    var wavFileName = \"\"\n    var audioRecorder: AVAudioRecorder!\n    var audioSettings = String : Int\n    var classicPlayer: AVAudioPlayer?\n    var timerForClassicPlayer: Timer!\n    var fullRecordingDuration: Double = 0.0\n//MARK: - Declarations Audio.io\n@IBOutlet private var waveForm: AKNodeOutputPlot!\nvar micBooster: AKBooster!\nvar moogLadder: AKMoogLadder!\nvar mainMixer: AKMixer!\nlet mic = AKMicrophone()     <------- that's the guy...\n\n...\nIf I leave the let mic = AKMicrophone() it pauses the music (ie: Spotify) when the app starts\nIf I remove it, it keep playing thanks to later in the code:\nlet quality = LowSpecDevice ? AVAudioQuality.low.rawValue : AVAudioQuality.medium.rawValue\n        self.audioSettings = [AVFormatIDKey: Int(kAudioFormatMPEG4AAC), AVSampleRateKey: 6000, AVNumberOfChannelsKey: 1, AVEncoderAudioQualityKey: quality]\nAKSettings.bufferLength = .medium\n        do {\n            try AKSettings.setSession(category: .playAndRecord, with: .mixWithOthers)\n        }catch {\n            AKLog(\"Could not set session category.\")\n        }\nAKSettings.defaultToSpeaker = true\n        self.micBooster = AKBooster(AKMixer(self.mic)) ; self.micBooster.gain = 0\n        self.mainMixer = AKMixer(self.moogLadder, self.micBooster)\n    AudioKit.output = self.mainMixer\n    AudioKit.start()\n\n    self.waveForm.node = self.mic\n\n...\nBut like this, as the self.mic has never been initialised, I loose my waveForm (AKNodeOutputPlot) visual\nArf, I'll leave the message for now as like I was saying if the user play again spotify after opening it remains so it's good enough for now. \nHowever, you guys are right it might not have it's place on this discussion. Tell me when you've read and I'll delete the comments to clean.... ",
    "GadgetBlaster": "This is probably the wrong place to ask, but... the Drums example crashes for me. You?. ",
    "bijiasuo2006": "Thanks. ",
    "antonyharfield": "Sorry guys, I just saw there is exactly the same work going on in #1091... I'm going to close this!. ",
    "StevenArmandLee": "@megastep I've deleted my derive data and it's still the same. Have googled and it says 9.1 is version 4.0.2 for example from https://github.com/realm/realm-cocoa/issues/5442 also has the similar issue.. I see, my apologise, I thought you were referring to swift version.\nthis case can be closed.. ",
    "Zeken": "@aure Small update: I didn't observe the problem on iPad (both iOS v9.3 and v11.1), so it might be an iPhone-only problem (I tested shortly on iPhone under iOS 10, and I just got no sound output after headphones connect/disconnect). @aure Found a workaround! If the internal AVAudioUnitSampler gets re-initialised a bit later than the route change (caused by connecting/disconnecting the headphones), everything works good:\n```\nclass MidiController: NSObject, AKMIDIListener {\nvar sampler = AKSampler()\n\n// ...\n\noverride public init() {\n    NotificationCenter.default.addObserver(\n        self,\n        selector: #selector(handleRouteChange),\n        name: .AVAudioSessionRouteChange,\n        object: nil)\n\n    initSampler()\n    AudioKit.output = sampler\n    // ...\n}\nfunc initSampler() {\n    do {\n        try sampler.loadWav(\"piano\")\n    } // ...\n}\n@objc func handleRouteChange(notification: NSNotification) {\n    let deadlineTime = DispatchTime.now() + .milliseconds(100)\n    DispatchQueue.main.asyncAfter(deadline: deadlineTime) {\n        self.initSampler()\n    }\n}\n// ....\n\n}\n```\nSo it looks indeed a problem related with the iOS audio engine rather than AudioKit. Still spooky, as I have no clue as to why do we need to re-initialise the samplers some time after the route change, and only in iPhone.... also, it doesn't solve the problem when someone (for some strange reason) would like to use the samplers uninitialised, but this workaround seem to work for the normal use-case of having a sampler loaded with some audio files.\nI updated my branch as a code reference.\nTested on iPhone, both iOS 10 and 11.. ",
    "mgill404": "This sounds related to the issue presented in this thread. The hardware speaker for some recent devices only support a sampling rate of 48 kHz. Unplugging the headphones on these devices will cause the operating sample rate to change.\nhttps://forums.developer.apple.com/thread/22197. ",
    "sacred0x01": "So it's unable to render offline on devices prior iOS 11 now? Because I initially started to digging into you framework only because of offline render for iOS <= 10. ",
    "martinzp": "@aure I'm not, but I will try it out and post the result here. Thanks!. Hi, I wanted to try this out but I am having trouble installing the library from the develop branch.\nI am using CocoaPods and I'm using this in my Podfile:\npod 'AudioKit', :git => 'https://github.com/AudioKit/AudioKit.git', :branch => 'develop'\nI am getting a this error: No such module 'AudioKit'\nAny thoughts or tips? I'm using Xcode 9.1\nThanks. Thanks @megastep for your answer. After posting here I checkout out the develop branch and built the frameworks.\nDoing that the project built successfully, but just after starting the app crashed with this error:\n\"dyld: Library not loaded: @rpath/AudioKit.framework/AudioKit\n  Referenced from: /Users/martin/Library/Developer/CoreSimulator/Devices/70D4EF90-C3D5-41CB-ADED-609BB9C9A09F/data/Containers/Bundle/Application/3EDA9F3C-7138-43B0-8530-B3AB5CF2F870/memphis.app/memphis\n  Reason: image not found\"\nAny thoughts on why this is happening? Am I doing something wrong?\n. ",
    "juangz": "Hello, I'm working with Martin and we couldn't make the new method to work properly.\nWe do get the exported file, but the result is not the expected one (the song has some weird speed effects, plus there are some noises on it). I'm attaching a test project in which we initialize a sequencer playing a midi + a WAV file, and the exported file (export.m4a). \nIn the \"save\" method you'll find the following line: self.sequencer!.setRate(60)\nIf you don't set it, or you set it to a small int, the result it's not the same as if it were just playing the sequencer. Can you verify you get the same issue? \nPlease, let us know if there's a way in which we can help you. \nThanks\nhttps://www.dropbox.com/s/rhgqgah46k4lh43/testRenderToFile.zip?dl=0\n. ",
    "levitatingpineapple": "Thanks for all the efforts! The current workaround (kind of) that I am using is to initialise AKSamplePlayer with a \"dummy sample\" which is just 5 minutes of silence and then use the second approach. This makes the first loop really short and almost inaudible.. Finally had time to build my app using AudioKit:develop and I am happy to say that the issues with regard to: https://github.com/AudioKit/AudioKit/issues/1121 are no longer present - sample lengths are calculated correctly. Thanks for the good work!. ",
    "DHaylock": "HI @aure, \nHave been through everything twice even reinstalled XCode, cleared Derived Data and compiled from source.\nSame error. \nDoes not appear to be a common issue, appreciate any advice.\nCheers\n. ",
    "iblagajic": "Were you guys able to fix this? Getting the same error here.. ",
    "paulorrfilho": "I just selected the AudioKitPlaygrounds.framework and checked on/off the \"Target Membership\" option in the file inspector and it worked away.. ",
    "mamadfrhi": "I have this problem in Mac OS Xcode !\n\n. @megastep you mean add --> $ pod AudioKit/UI ?\n. I have an error again.\nthis is my pod file:\n\nthis is my terminal and my Xcode error:\n\n@megastep . ",
    "AppleEducate": "I am using the latest version of Xcode, and downloaded the project from Github. After importing the latest iOS AudioKit framework binary it displays the errors and keeps it from building. . Use of unresolved identifier:\n'AKPropertySlider'\nRody Davis - Content Creator\nRodydavis.com - Rody.davis.jr@gmail.com\nOn Nov 17, 2017, 9:06 PM -0500, Aurelius Prochazka notifications@github.com, wrote:\n\n\"the errors\" are?\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub, or mute the thread.\n. I was doing that too. Not sure why it\u2019s not working. Ill try a few more things\n\nRody Davis - Content Creator\nRodydavis.com - Rody.davis.jr@gmail.com\nOn Nov 17, 2017, 9:16 PM -0500, St\u00e9phane Peter notifications@github.com, wrote:\n\nYou need to import the AudioKitUI framework for this class.\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub, or mute the thread.\n. \n\nError Persists even while having both frameworks\nAnd I also added at the top:\nimport AudioKitUI\nInfo about my set up:\nMacOS High Sierra\nXcode 9.1. ",
    "teroparvinen": "I will see what I can do, but the problem is that to solve this, some overall changes to the MIDI classes would need to be done, and I'm not super confident in my CoreMIDI knowledge. For example, I think all references to AKMIDI() should be prohibited in all instrument classes (and probably other supporting classes like samplers etc., haven't dug that deep yet) because there should only ever be one instance of MIDIClientRef per app.. It's not a singleton though. Maybe if this was the idea, it all makes a bit more sense. Easy to test using:\nprint(AKMIDI().client)\nprint(AKMIDI().client)\nFrom my initial look into this, maybe simply removing enableMIDI from all constructors (as probably was the intention) might remedy this, but would definitely not be directly downward compatible. My workaround looks like this currently:\n```\nclass CallbackInstrument: AKCallbackInstrument {\nvar sanitized = false\n\ninit(handler: AKMIDI, name: String) {\n    super.init()\n\n    sanitized = true\n    enableMIDI(handler.client, name: name)\n}\n\noverride func enableMIDI(_ midiClient: MIDIClientRef, name: String) {\n    if sanitized {\n        super.enableMIDI(midiClient, name: name)\n    }\n}\n\n}\n``. @aure I think the biggest concern was to overrideenableMIDIas I described above, because the stock version creates an end point with a default name and does not release it if called again with a custom name. Since you will need to do this, it typically takes care of the singleton issue at the same time (did for me at least). So the fix would obviously be to remove allenableMIDIcalls from the default initializers and leave it to the user or to provide aninit` that takes the name as a parameter (what I did).\nAlso, if everything but virtual ports were private by default (as described in #1127), the singleton fix would most likely be enough for the typical user for now.. The reason background audio was initially on was because I was looking into Audiobus integration at one point. I decided against it because it was a bit too complicated at that point and wasn't exactly needed in my case. I may look into it in the future, but for now I managed to just replace the sequencers with a custom timer loop, because my needs were limited indeed.\nHowever, this does not address this issue at all. Requiring all apps that use Audiokit's sequencers to also include Audiobus doesn't sound like a solution to me.. ",
    "rsimenok": "Example\n\nRun project.\nPress \"Record\", record some voice, then \"Stop\"\nSee the logs\n\nIn code:\nLook at lines 131-134\nThank you!. UPD: Guy from stackoverfrow answered to me right now:\n\nRather than use the internal audio file of the player, make a new instance like so:\nif let file = try? AKAudioFile(forReading: url) {\n    if let normalizedFile = try? file.normalized(newMaxLevel: -4) {\n        Swift.print(\"Normalized file sucess: \\(normalizedFile.maxLevel)\")\n    }\n}\nI can add a normalize func to the AKAudioPlayer so that it's available for playback. Essentially, the player just uses the AKAudioFile for initialization, and all subsequent operations happen in a buffer.\n\nas url I've used self.player.audioFile.url\nIt's working! But new file maxLevel not as I expect. For example if I execute file.normalized(), means set maxLevel to 0, i got this:\nExample 1:\nBEFORE: DB: -2.38453\nAFTER: DB: -1.19227\nExample 2:\nBEFORE: DB: -1.30329\nAFTER: DB: -0.651646\nIs it ok? :). @aure so you want to say that in normalize function i should set newMaxLevel in db but maxLevel is not in db?). ",
    "jandyman": "Try ramping now and see if if works for you.. OK I\u2019ll do that too, though I don\u2019t use tvOS.\nFrom: Aurelius Prochazka notifications@github.com\nReply-To: AudioKit/AudioKit reply@reply.github.com\nDate: Tuesday, January 2, 2018 at 2:36 PM\nTo: AudioKit/AudioKit AudioKit@noreply.github.com\nCc: jandyman andy@voelkel.us, Author author@noreply.github.com\nSubject: Re: [AudioKit/AudioKit] Make a couple headers public (#1186)\nOne issue with this PR is that it only addresses the problem for iOS. If this is the right solution, then the same change should be made on the macOS and tvOS projects.\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub, or mute the thread.\n. I think I updated the PR, though I\u2019m quite confused by what GitHub is showing me right now.\nFrom: Andrew Voelkel jandyman.voelkel@gmail.com\nDate: Tuesday, January 2, 2018 at 4:45 PM\nTo: AudioKit/AudioKit reply@reply.github.com, AudioKit/AudioKit AudioKit@noreply.github.com\nCc: jandyman andy@voelkel.us, Author author@noreply.github.com\nSubject: Re: [AudioKit/AudioKit] Make a couple headers public (#1186)\nOK I\u2019ll do that too, though I don\u2019t use tvOS.\nFrom: Aurelius Prochazka notifications@github.com\nReply-To: AudioKit/AudioKit reply@reply.github.com\nDate: Tuesday, January 2, 2018 at 2:36 PM\nTo: AudioKit/AudioKit AudioKit@noreply.github.com\nCc: jandyman andy@voelkel.us, Author author@noreply.github.com\nSubject: Re: [AudioKit/AudioKit] Make a couple headers public (#1186)\nOne issue with this PR is that it only addresses the problem for iOS. If this is the right solution, then the same change should be made on the macOS and tvOS projects.\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub, or mute the thread.\n. ",
    "abw2912": "Hey !! Actually i am developing voice changer app with audiokit. Everything working normal pause(), play(),stop(). But when voice is playing then if i called stop and play then after play is called then suddenly it triggers completion handler.   Can you give me your email or mail me on abw2912@gmail.com. I will send you code if you wanna to take a look. Do you think it is happening because i am using xcode beta ??. Hey @aure ..thanks for your help. I solved it with some minor changes in code. If we call stop() and play() instantly then we could have problem. But if we call play() after some it. It will automatically solves the issue. I'm not sure why it happened. But now my issue is solved. Thanks again :) :+1: . ",
    "meech-ward": "It works as expected now, thanks.\nswift\nplayer.stop()\nplayer.play()\nThis stops the file and starts playing from the beginning. . ",
    "cemolcay": "OK, it's good, I did squash and force update the last doc commit and it seems it merged too.. I'm also still getting this error, with version 4.2.3. ",
    "johnellmore": "Haha--it's in my best interest to be thorough! \ud83d\ude04 . ",
    "MrTristis": "Unfortunately Dave's fix did not do the trick, even after deleting the relevant folder for the project in the derived data folder and restarting my mac. Here's the error message \nAKOscillator.swift:init(waveform:frequency:amplitude:detuningOffset:detuningMultiplier:):145:Parameter Tree Failed\nAKOscillator.swift:init(waveform:frequency:amplitude:detuningOffset:detuningMultiplier:):145:Parameter Tree Failed\n2017-12-08 19:09:36.068283-0500 BembeTEST[818:18450] [avae] AVAEInternal.h:69:_AVAE_Check: required condition is false: [AVAudioEngine.mm:348:AttachNode: (node != nil)]\n2017-12-08 19:09:36.118578-0500 BembeTEST[818:18450] Failed to set (contentViewController) user defined inspected property on (NSWindow): required condition is false: node != nil. ",
    "SolidusMortis": "Hmm tried that dave234, but still getting the same error message. I'm going to repost my code and the subsequent error message, any ideas would be most appreciated as I'm getting a bit desperate:\n//CODE: \nimport AudioKit\nimport Cocoa\nclass Conductor {\n//  var mixer = AKMixer(osc, osc2)\ninit() {\n\n    let osc = AKOscillator()\n    let osc2 =  AKOscillator()\n\n    osc.frequency = 880.0\n    osc.amplitude = 0.5\n\n    osc2.frequency = 440.0\n    osc2.amplitude = 0.5\n\n    let mixer = AKMixer(osc, osc2)\n\n    AudioKit.output = mixer\n    AudioKit.start()\n\n\n    osc2.play()\n    sleep(2)\n\n    }\n}\n\nclass ViewController: NSViewController {\noverride func viewDidLoad() {\n    super.viewDidLoad()\n\n\n    // Do any additional setup after loading the view.\n\n    var engine =  Conductor.init()\n\n   // engine.osc2.play()\n\n//   var engine = Conductor.init()\n     // engine.osc.play()\n    //            osc2.play()\n           // sleep(3)\n\n}\n\noverride var representedObject: Any? {\n    didSet {\n    // Update the view, if already loaded.\n    }\n}\n\n}\n// End of code\n//ERROR OUTPUT: \n2017-12-09 21:28:28.144972-0500 BembeTEST[1073:75836] Month 13 is out of bounds\nAKOscillator.swift:init(waveform:frequency:amplitude:detuningOffset:detuningMultiplier:):145:Parameter Tree Failed\nAKOscillator.swift:init(waveform:frequency:amplitude:detuningOffset:detuningMultiplier:):145:Parameter Tree Failed\n2017-12-09 21:28:36.157373-0500 BembeTEST[1073:75836] [avae] AVAEInternal.h:69:_AVAE_Check: required condition is false: [AVAudioEngine.mm:348:AttachNode: (node != nil)]\n2017-12-09 21:28:36.359521-0500 BembeTEST[1073:75836] Failed to set (contentViewController) user defined inspected property on (NSWindow): required condition is false: node != nil\n. ",
    "omarperacha": "seems this hasn't actually been solved yet? I'm having the same issue, can confirm Dave's fix didn't solve it. I've had the problem on two separate machines, a laptop and a desktop. Not just with AKOscillator but a few other oscillator/generator objects too like AKWhiteNoise. . ",
    "josevazquez": "I ran against this very same problem in my own app. I have a patch working under v4.0.4. I'll open a PR as soon as I can, but I am currently having trouble compiling against develop (see issue https://github.com/AudioKit/AudioKit/issues/1254) . I went ahead and opened the PR https://github.com/AudioKit/AudioKit/pull/1255 with the potential fix. I did not throw an exception when the data is too large (>65536 bytes) I just post an error to AKLog. I'm new to this project so I'm not sure how such situations should be handled.. That worked, thank you.. ",
    "nodeful": "Not even sure if the setting of Input/Output is standardised because:\nIf you look at the Input setting method: https://github.com/AudioKit/AudioKit/blob/f99e45103f42b02f995df7271264828d9d3e1dc1/AudioKit/Common/Internals/AudioKit.swift#L136-L143\nYou are changing the Input device globally on the whole system.\nBut if you look at the equivalent Output setter:\nhttps://github.com/AudioKit/AudioKit/blob/f99e45103f42b02f995df7271264828d9d3e1dc1/AudioKit/Common/Internals/AudioKit.swift#L186-L193\nIt is setting the preferred output device to the Output node of the AVEngine (which doesn't work in my case anyway, but that's another issue)\nI noticed that this frameworks main focus is iOS, so if you need any help with macOS I can poke around and see if I can make it work and make a PR. Thanks for the reply @ryanfrancesconi \nLet me go on a bit of a rant here...\nWhat I'm trying to achieve:\nRoute Audio from Microphone to ANY output audio device (without that device being selected) on macOS\nHow do I know it's possible?\nIn my eqMac app I am able to route audio to any output device even when the Driver (based on Soundflower) device is selected. But I am using AUGraph for this, rather than AVAudioEngine. Here's the code (bit messy) I'm using to set the output device:\nhttps://github.com/nodeful/eqMac2/blob/24b3f847026c789988f4a59d4717a29aa880d03f/eqMac2/Source/EQEngine/EQEngine.mm#L199-L228\nWhat problem am I having?\nWhen I do this:\nswift\ninput = AKMicrophone()\nAudioKit.output = input\nAudioKit.start()\nAnd the default output device is selected... I can hear the passthrough of my Mic.\nWhen I try to force the output to go through the built-in device (while some other device is selected for output):\n```swift\n        input = AKMicrophone()\n        AudioKit.output = input\n    var id = 42 // Built-in Output ID\n    checkErr(AudioUnitSetProperty(AudioKit.engine.outputNode.audioUnit!,\n                 kAudioOutputUnitProperty_CurrentDevice,\n                 kAudioUnitScope_Global, 0,\n                 &id,\n                 UInt32(MemoryLayout<DeviceID>.size)))\n\n    AudioKit.start()\n\nI get an OSStatus error code -10851 `kAudioUnitErr_InvalidPropertyValue` and this in the console\n2017-12-27 19:22:13.724708+0000 eqMacAudio[68555:13441906] [AudioHAL_Client] AudioHardware.cpp:578:AudioObjectGetPropertyDataSize:  AudioObjectGetPropertyDataSize: no object with given ID 0\n2017-12-27 19:22:13.724737+0000 eqMacAudio[68555:13441906] [AudioHAL_Client] AudioHardware.cpp:666:AudioObjectGetPropertyData:  AudioObjectGetPropertyData: no object with given ID 0\n2017-12-27 19:22:13.724759+0000 eqMacAudio[68555:13441906] [AudioHAL_Client] AudioHardware.cpp:3446:AudioDeviceSetProperty:  AudioDeviceSetProperty: no device with given ID\n2017-12-27 19:22:13.724775+0000 eqMacAudio[68555:13441906] 1599:  ca_verify_noerr: [AudioDeviceSetProperty(mDeviceID, NULL, 0, isInput, kAudioDevicePropertyIOProcStreamUsage, theSize, theStreamUsage), 560227702]\n2017-12-27 19:22:13.724788+0000 eqMacAudio[68555:13441906] [AudioHAL_Client] AudioHardware.cpp:578:AudioObjectGetPropertyDataSize:  AudioObjectGetPropertyDataSize: no object with given ID 0\n2017-12-27 19:22:13.724799+0000 eqMacAudio[68555:13441906] [AudioHAL_Client] AudioHardware.cpp:666:AudioObjectGetPropertyData:  AudioObjectGetPropertyData: no object with given ID 0\n2017-12-27 19:22:13.724969+0000 eqMacAudio[68555:13441906] [AudioHAL_Client] AudioHardware.cpp:3446:AudioDeviceSetProperty:  AudioDeviceSetProperty: no device with given ID\n2017-12-27 19:22:13.724980+0000 eqMacAudio[68555:13441906] 1599:  ca_verify_noerr: [AudioDeviceSetProperty(mDeviceID, NULL, 0, isInput, kAudioDevicePropertyIOProcStreamUsage, theSize, theStreamUsage), 560227702]\n2017-12-27 19:22:13.725986+0000 eqMacAudio[68555:13441906] [avae] AVAEInternal.h:69:_AVAE_Check: required condition is false: [AVAudioEngineGraph.mm:1265:Initialize: (IsFormatSampleRateAndChannelCountValid(outputHWFormat))]\n2017-12-27 19:22:13.726163+0000 eqMacAudio[68555:13441906] required condition is false: IsFormatSampleRateAndChannelCountValid(outputHWFormat)\n```\nBut it works with files:\nIf I don't have any input device in AudioKit chain and use a Player to produce audio:\n```swift\n do {\n            file = try AKAudioFile(readFileName: \"drumloop.wav\")\n            player = try AKAudioPlayer(file: file)\n        } catch {\n            print(\"could not start player\")\n            return\n        }\n    player.looping = true\n\n    AudioKit.output = player\n\n    var id = 42 // Built-in Output ID\n    checkErr(AudioUnitSetProperty(AudioKit.engine.outputNode.audioUnit!,\n                 kAudioOutputUnitProperty_CurrentDevice,\n                 kAudioUnitScope_Global, 0,\n                 &id,\n                 UInt32(MemoryLayout<DeviceID>.size)))\n\n    AudioKit.start()\n    player.start()\n\n```\nEverything working as it should and I hear the track, through the Built-in speaker, even if my Bluetooth headphones are currently my default output device.\nDo I have any other info about what can cause this?\nAs I mentioned before in my app I am using AUGraph based on an example provided by Apple (CAPlaythrough) you can find a Swift based port of that here: \nhttps://github.com/jasminlapalme/caplaythrough-swift\nIn it you can find this piece of information:\nhttps://github.com/jasminlapalme/caplaythrough-swift/blob/1f95734a91d1f9cf281c4743f27781e39e3a38f4/CAPlayThroughSwift/CAPlayThrough.swift#L140-L144\nSo I guess the problem still persists even in AVAudioEngine, you can't have multiple output units (input is also considered an output unit) within the same engine...\nI guess to achieve what I want I would have to yet again, create a Buffer to store the generated Microphone audio data with one AVAudioEngine and then pull it with another instance of AVAudioEngine.\nMaybe there's some other way? I would love to use AudioKit as much as possible! \nBefore I had to write 100 lines of code just to do 1 node in AUGraph, and you have so many other effects abstracted to a very high level. It's amazing!. I made a little sketch of the setup I'm trying to achieve:\n\nDo you guys think this would work? \nEspecially curious about the sections with the question mark. I know it's not a support forum, but maybe this can lead to some features / fixes added to AudioKit. \nAnd excuse me if I'm making some newbie mistakes in my understanding of this Library and/or CoreAudio. \nCheers guys!\n  . Ok I managed to implement my design.\nHad to add a AVAudioUnitReverb to the end of AudioKit engines node chain, just before the mainMixerNode. \nSet the mixer volume to 0. \nAdd Post Render Render Notify (not sure how realtime it is compared to a normal RenderCallback) to the Reverb AudioUnit and store the processed audio in a CARingBuffer (MIT).\nThen I just spawn as many AVAudioEngines as I need. Set the output device and set a render callback on the Varispeed unit and read from the CARingBuffer on each proc.\nYou guys can close the issue or keep open for reference.\nJust a suggestion, would be nice if the internal AVAudioNodes inside each AKNode would be exposed as public variables. \nThis way people can inject their own Render Callbacks into their AudioUnits.\nKeep up the good work @aure and the team :). Sorry I mean the AVAudioUnit. For example:\nhttps://github.com/AudioKit/AudioKit/blob/f99e45103f42b02f995df7271264828d9d3e1dc1/AudioKit/Common/Nodes/Effects/Reverb/Apple%20Reverb/AKReverb.swift#L12\nThe AVAudioNode exposes only the AUAudioUnit, which for some reason in my case, requires deployment target to be OSX 10.13+, as I described here\nNot sure if that's a bug in SDK 10.13 or my XCode settings are broken. Yeah, it is an AVAudioNode. Very sorry for the confusion, this AU vs AV naming convention is making me a bit dizzy. \nWhy I can't access the .audioUnit variable then? Keep in mind the .auAudioUnit is not what I want.. Thanks @dave234 ! Didn't know you can cast it like that. \n. @aure as soon as I will have more time and feel a bit more confident in my Swift skills I will definitely consider contributing :) For the moment, I'm not sure how can I help with this issue. @aure sure I will try to assemble an example in the next week. I will post it here.. @aure No, I just hook up an Output render callback of the output device I'm using. When the callback gets called I just read the audio data from the Ring Buffer. If there is no data then I just write a silent buffer to the output device. Basically, the \"multiple\" output engines are independent of each other and work on a Pull basis. Not sure if this helps. @aure I've added a small example in a PR: #1591 . @aure has nothing to do with this issue, unfortunately. I'm not sure if this issue needs to be opened still as I'm not using AudioKits device handling logic. This example was a response to your request on how to run a multi-AVAudioEngine setup and pipe audio to different devices.. #1568. Hey @aure thanks for your reply. Have you managed to replicate the same issue on your hardware?\nI think it's a problem internally with the AVAudioEngine as even iTunes Equalizer is suffering from the same bug.\nThe Apple DTS team has been looking into this for about 3 weeks now.. ",
    "skylifewww": "Greetings to you Aurelius! Thanks for the answer. I assumed that this would be so). And if intercept a signal coming from AVPlayer to the speaker of the device and send it to AKMicrophone? Make a \"bridge\" between them.. I'll try, maybe it will)\n02 \u044f\u043d\u0432\u0430\u0440\u044f 2018, 21:56:29, \u043e\u0442 Aurelius Prochazka notifications@github.com: \nI suppose everything is possible somehow, but I certainly don't know how to do it.\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub, or mute the thread.\n. ",
    "derekleerock": "Thanks @aure! Happy New Year! =) \nI created PR #1185 today and included the details of the fix in there. Please take a look when you have a chance and let me know what you think. \ud83d\udc4d . Fix for issue #1182 . My pleasure! I've been doing TDD for the last couple of years so for better or worse, I can't not write tests any longer. \ud83d\ude05 Need to be confident that the code I'm contributing is solid and that's the only way I know to feel comfortable. \ud83d\udc4d\ud83c\udffc\nThanks again for all of the great work in AudioKit! Hope I'll have more opportunities to contribute in the future. . Thanks for the quick reply @megastep - I really appreciate it!\nI just built the framework myself and included it in my app and as you mentioned this does solve the problem. \nHowever, I'm admittedly a bit disappointed that I spent a couple of hours trying to debug this. \ud83d\ude05\nWould it be possible to update the documentation to make this a bit more clear? Maybe the best course of action is to remove Carthage from the list of available dependency managers in the main readme file? It might also help to include this in the release notes for 4.1 as well as the Frameworks readme file. . Thanks @aure! I'll be following up on Slack with some more thoughts on this topic. \ud83d\udc4d . ",
    "RickDT": "I had the same the same problem. Don't forget to hit Build. I still couldn't hear anything, even on the Hello World sample (errors logged, but no sound coming out). Xcode appeared to be stuck on \"Running...\" in the tasks list. Restarting my Mac worked! When in doubt, restart everything :). ",
    "b3ll": "Fair enough. Personally I wanted to just point the podfile at my own fork as I make changes and such, and then eventually turn those into pull requests. I'll just use the manual Xcode project route for now. Thanks!. ",
    "Meekohi": "Nevermind I get it now. This is feeding as many samples as it can to sp_ptrack_compute to try and fill up the hopsize buffer faster. sp_ptrack_compute only gets updated when the buffer fills up.. Hey reopening this -- upon further reflection this really doesn't make any sense, and is the reason in other places the frequency is mis-estimated by a factor of two and needs to be multipled by channels. For the ptrack algorithm it doesn't matter but you can imagine in the future this causing major issues (any algorithm that is intentionally biased toward certain frequencies). Fix is pretty simple I will probably make a PR after this deadline if nobody else has thoughts. Simple thing is to just average both channels or take 1, but there are some other places where this bug is \"corrected for\" that also need to be fixed.. Closing this for now but expect a PR in the future when I get a little breathing room to work on it!. Hey @aure what would be a good way to package it up for you? What I've been doing is:\n1. Download https://github.com/AudioKit/AudioKit/releases/download/v4.0.4/AudioKit-iOS-4.0.4.zip\n2. Open Examples/Recorder/Recorder.xcodeproj\n3. Change L81 of ViewController.swift from\n  mainMixer = AKMixer(moogLadder, micBooster)\nto\n  mainMixer = AKMixer(player, micBooster)\n4. Run on a physical iOS device.\n  4a. If you have the headphones plugged in when the app starts, it sounds good\n  4b. If you wait and plug the headphones in after the app already launched, there is static/crackling in the audio.\n. Also to clarify, I've only seen this behavior on devices with lightning-plug earpods. Had some other devs test and they say it is worst on iPhone X, I'm testing on an iPhone 8.. I just got some new headphones (the Beats Studio 3 that have the \"seamless switching\" feature I was hypothesizing is the source of this problem) to test with and confirmed I see this problem with them.\nThen I tested the app normally (no headphones, just standard iPhone 8) and was surprised to still hear the problem! Perhaps I didn't test this very carefully originally, or I have updated the iOS version in the meantime which introduced this problem?. Just out of curiosity since it may relate to my bug, which mic are you using for this (mobile device? lightning plug earpods?). I have been doing some reading and my understanding is that most of the newer devices have mics that prefer a sampling rate of 48,000Hz instead of 41,100Hz. Also curious if you still see this behavior when switching to 48,000Hz (unfortunately doesn't help my case since we need to combine with some 41.1KHz data). . Thanks! Currently I'm building from source, so following this:\n\nDrag and drop the AudioKit For {platform}.xcodeproj file to your project in Xcode. The file is located within the AudioKit/{platform} subdirectory in the repository, where {platform} is one of iOS, macOS or tvOS.\nIn the Build Phases tab, add AudioKit.framework in Target Dependencies for your target. Also add AudioKitUI.framework as needed.\nMake sure to add -lstdc++ to the Other Linker Flags setting in your target.\n\nbut am still getting the error above.. Sure thing if you have time! I could do gchat:meekohi@gmail.com, or you can invite me to Slack if that's easier, or shoot me an e-mail if scheduling a time would be more convenient. . @polpiellaabadia Speculating, but I think in that case you may want to follow the 'build from source' instructions rather than try to use the Framework? I'm just using the normal stable XCode (which I think is still on Swift 3.2 by default?). Hey everyone, the solution to my problem was to move AudioKit.framework from the \"Embedded Binaries\" section of project settings to the \"Linked Frameworks and Libraries\" section. See if that works for you!\nhttps://www.dropbox.com/s/yy2l6eww4znmdn1/Screenshot%202018-02-01%2012.20.58.png?dl=0. ",
    "xJonas": "Your right @aure  it's really not an issue, however - Now I have asked the question on StackOverflow instead. . ",
    "halldorel": "I'm seeing this behaviour on iOS 11, that is looping is not working. Plays once and then never again. \nAs a workaround, I created a MIDI note 40 which plays when the loop should start again, and it calls sequencer.rewind(). Not sure if it's 100% accurate timing but is good enough for me at the moment.\n```\nlet track = sequencer.newTrack()\ntrack!.setLength(AKDuration(beats: 5))\ntrack!.add(noteNumber: 36, velocity: 127, position: AKDuration(beats:0), duration: AKDuration(beats: 1))\ntrack!.add(noteNumber: 40, velocity: 1, position: AKDuration(beats:5), duration: AKDuration(beats: 1))\nsequencer.setTempo(86.0)\nsequencer.setLength(AKDuration(beats: 4))\nlet callback = AKCallbackInstrument() { status, note, velocity in\n    if status == .noteOn {\n        if(note == 36) {\n            print(\"Callback triggered\")\n            self.updatePlayStatusOnLoops()\n        } else if (note == 40) {\n            sequencer.rewind()\n        }\n    }\n}\nsequencer.setGlobalMIDIOutput(callback.midiIn)\nmixer.start()\nsequencer.enableLooping()\nsequencer.play()\n```. ",
    "SebastianBoldt": "Is there any progress on this issue? \nI am experiencing the same faulty behaviour. \nThe fix @crashingbooth suggested does not work for me. . @crashingbooth Alright, i am not able to provide the whole project but i will try to create a project where things not working as expected. I will keep you updated.. ",
    "powsimian": "Yes I'm willing to do a screen share. I hope the problem isn't just user-error. I don't know how you want to do this. Skype or Facetime?. I just changed the code a TINY bit. The \"try AKAudioFile!\" is now \"try! AKAudioFile\"\nBEFORE\nvar input: AKAudioPlayer!\nvar song = try AKAudioFile!(readFileName: \"TEST.mp3\") // ... the error is here\nAFTER\nvar input: AKAudioPlayer!\nvar song = try! AKAudioFile(readFileName: \"TEST.mp3\") // ... the error is here\nSorry I struggled with it all last weekend but I think I figured it out after the week off.. ",
    "jeden": "I'm new to this project, but I doubt that it will ever be ported to a cross-platform technology - if that is even possible, taking into account that you're mentioning javascript-based technology.\nBtw I'd be happy to hear that I'm wrong... :). ",
    "jamesharvey2": "It happened once before. This person converted EzAudio into NativeScript plugin... NativeScript is just like React Native. It builds android & iOS with javascript (www.nativescript.org)\nhttps://github.com/NathanWalker/nativescript-ezaudio\nand EzAudio is one of source libraries of AudioKit.\nI hope someone can make this happen. I would love to use AudioKit on Android.... especially on React Native.. Even SDK version of AudioKit would solve the problems... then Java programmers can use AudioKit on android.. That's very unfortunate :( \n. ",
    "mikegazzaruso": "Thank you Sir -------- Messaggio originale --------Oggetto: Re: [AudioKit/AudioKit] Enhanced AKRhinoGuitarProcessor Algorithms (better sounding). (#1204)Da: Aurelius Prochazka A: AudioKit/AudioKit CC: Mike Gazzaruso ,Author Thanks,this may break our tests because its an improvement, but I will update things.\n\u2014You are receiving this because you authored the thread.Reply to this email directly, view it on GitHub, or mute the thread.\n{\"api_version\":\"1.0\",\"publisher\":{\"api_key\":\"05dde50f1d1a384dd78767c55493e4bb\",\"name\":\"GitHub\"},\"entity\":{\"external_key\":\"github/AudioKit/AudioKit\",\"title\":\"AudioKit/AudioKit\",\"subtitle\":\"GitHub repository\",\"main_image_url\":\"https://cloud.githubusercontent.com/assets/143418/17495839/a5054eac-5d88-11e6-95fc-7290892c7bb5.png\",\"avatar_image_url\":\"https://cloud.githubusercontent.com/assets/143418/15842166/7c72db34-2c0b-11e6-9aed-b52498112777.png\",\"action\":{\"name\":\"Open in GitHub\",\"url\":\"https://github.com/AudioKit/AudioKit\"}},\"updates\":{\"snippets\":[{\"icon\":\"PERSON\",\"message\":\"@aure in #1204: Thanks,this may break our tests because its an improvement, but I will update things.\"}],\"action\":{\"name\":\"View Pull Request\",\"url\":\"https://github.com/AudioKit/AudioKit/pull/1204#issuecomment-358155263\"}}}. ",
    "AnthonyMyatt": "Hi @aure,\nCould you please provide more details. On that page I can only find examples for a generator (Sender Synth) and filter (Filter Effects App), not a host. I need my app to receive audio from IAA and Audiobus apps as the output node of a chain.. Normally in a host app, you would get a list of published AudioUnits and then connect one of the audio units as the input to the audio engine. I can use CoreAudio functions to get the list of AudioUnits as I have done before, I really just need to know how to set an AudioUnit as the AudioKit input. I assume I would need to create an AKNode subclass with a runtime settable AudioUnit and then I could just connect this AKNode as normal.\nIn regards to Audiobus, I need to call ABAudioReceiverPortReceive() to get the audio data from Audiobus and then pass the data to AudioKit. Again, I assume I would need to create an AKNode subclass with an AudioUnit subclass that calls ABAudioReceiverPortReceive() within its render function.. I only need a single input. The difference is that the effects example uses ABAudioFilterPort passing in the AudioKit input AudioUnit as the filter ports AudioUnit. ABAudioReceiverPort does not take an AudioUnit.. Thanks. Will see if I can work it out myself and contribute back to the project if I find a solution.. ",
    "mscheffel": "Had the same problem. Our fix was to set AudioKit.defaultToSpeaker to false everytime we connected the microphone. AudioKit has to be stopped to set this value!!! This is important - otherwise you will have crackling audio all the time.\nMaybe this could be documented at defaultToSpeaker, to make sure developers understand the risk of crackling audio. Additionally we tested this with many devices (iPhone 5s -> iPhone X). The behaviour only appears to happen on devices newer than iPhone 6 (6s and newer).. Same problem here. As soon as I connect the output to a node-output, I get 48kHz on iPhone 6s or higher. iPhone 6 and older are fine...\nEven when I set the samplerate to 48kHz (or to the guiding samplerate of AVAudioSession.sharedInstance().sampleRate) I get the clicking noise, as it was the wrong samplerate...\nThis stuff always happens, as soon as you connect the output.. Appreciated - Thanks!. ",
    "Scitator": "@aure \nSo, my code below:\n```\nfunc setupMicrophone() {\n    AKAudioFile.cleanTempDirectory()\nAKSettings.sampleRate = 44100\n\nAKSettings.audioInputEnabled = true\nAKSettings.bufferLength = .medium\n\ndo {\n    try AKSettings.setSession(category: .playAndRecord)\n} catch let error as NSError {\n    // bad\n}\nAKSettings.defaultToSpeaker = true\n\nmic = AKMicrophone()\nmicMixer = AKMixer(mic)\nrecorder = try? AKNodeRecorder(node: micMixer)\nmicBooster = AKBooster(micMixer)\nmicBooster?.gain = 0\n\nmainMixer = AKMixer(micBooster)\nAudioKit.output = mainMixer\n\ninputPlot.node = mic\n\nAudioKit.start()\n\n}\n``. @dave234 \nYes, I have commented all lines withinputPlot` and still had this issue.\n@aure \nThe bug is also reproducible in develop branch.. @Meekohi \nI use Bottom microphone.\nAll tested KHz(16, 44.1, 48) have this bug.\nAll tested number of channels (1, 2) have this bug.\nInteresting one: switching to AVSession - resolves this bug. So, looks like something in AudioKit goes wrong.\n. ",
    "gaphex": "Can confirm that the bug is still present on the latest version of AudioKit (4.0.4).\nPlease find attached some screenshots\n\n\n. @dave234 I was using the Recorder example from the repository, https://github.com/AudioKit/AudioKit/tree/master/Examples/iOS/Recorder\n@Meekohi I was using an IPhone 6S for recording. Interestingly, the bug does not reproduce in the XCode simulator.\n. ",
    "ilukinfusion": "@aure I have exactly the same issue and I managed to narrow it down to the following: As soon as I call AudioKit.start() MPNowPlayingInfoCenter stops working. Even if it was working before that.. @aure do you have any clues about that? Does AKSettings require a special session setup to make it work? Would it work if setup is made without usage of AKSettings with default AVAudioSession? \nI mean if the problem would be with the session, than usual AVAudioPlayer wouldn't work as well, but it does work. The moment I start AudioKit something happens and previous implementation turns off. I've tried it in a clean project and the problem reproduces itself. . ",
    "ydemartino": "I am using AudioKit only for mic tracking, but I also want to display the waveform with EZAudioPlot.\nI tried to only use AKMicrophoneTracker but I'm not able to link it to an EZAudioPlot.. Not really, I am using AVPlayer in a lot of screens, but on the specific screen I am using AudioKit, there is no AVPlayer instance. That's why I don't understand why it's crashing :/. I created the sample project from the microphone analysis example provided in AudioKit. My file is the exact copy of https://github.com/AudioKit/AudioKit/blob/master/Examples/iOS/MicrophoneAnalysis/MicrophoneAnalysis/ViewController.swift\nThe only thing I added was the InitialViewController which starts an AVPlayer and pauses the item before moving to the microphone analysis view controller.\nThis was just to demonstrate the issue. In my code, AudioKit is not controlled by a view controller lifecycle.. ",
    "minikin": "I have a related problem in an app with AudioKit and AVQueuePlayer.\n@aure Any chance to get an advice from you, please?\nTerminating app due to uncaught exception 'com.apple.coreaudio.avfaudio', reason: 'required condition is false: _engine->IsRunning()'\nAs I understand both of them trying to use AVAudioEngine which is a singleton.. Demo project at Dropbox. @aure Can you have a look, please?. ",
    "polpa": "I am having the same problem here, need some functionality from the new XCode beta (swift 4.1) and when importing the latest AudioKit, it gives me an error since it is built with swift 4.0.2. What should i do?. alright i am going to try that, it is really vital because a quite big upgrade has been done to ARKit, so i would like to use the new version of Xcode. Will get back to you. . Did not work... still having the same error.. I have actually switched the command-line tools to the beta Xcode and, when building, there are these errors and it fails to build. Any clue what to do now?\n :0: error: unable to execute command: Segmentation fault: 11\n:0: error: compile command failed due to signal 11 (use -v to see invocation). Yes it does seem like that, let's see when 9.3 actually comes out \ud83d\udc4d . ",
    "sinewavemultimedia": "I got it working. I was not actually running that script first.. ",
    "pratik1311": "@ashusath Did you solve your issue ?\n. @Ged2323 @alimehdipk \nGuys how to fix this issue ?\n. ",
    "getdunne": "I am unable to reproduce the problem, testing on an iPad Air 2. This code has recently been revamped quite extensively, including changes to the init() functions. Please test again with the latest AudioKit code (pull the Develop branch and be sure to re-compile the frameworks), and let us know if the problem persists.. Hi JB, thanks for the feedback and especially for improvements to SFZ interpretation. There's potentially a huge amount of work to do there, and any help would by hugely appreciated! I'll have a look at the SFZ file you linked to, and see if I can figure out what's going wrong. My first thought is that samples might not be looping correctly, or maybe not at all.. JB can you please post the source for your String.splitBefore() function? I can't compile your code without it.. Also noteStringToMIDINote() please.. Here's a simpler version, which works on all three Kawai SFZ files:\nimport AudioKit\n\nextension AKSampler\n{\n    open func betterLoadUsingSfzFile(folderPath: String, sfzFileName: String) {\n        var lokey: Int32 = 0\n        var hikey: Int32 = 127\n        var pitch: Int32 = 60\n        var lovel: Int32 = 0\n        var hivel: Int32 = 127\n        var sample: String = \"\"\n        var loopmode: String = \"\"\n        var loopstart: Float32 = 0\n        var loopend: Float32 = 0\n\n        let baseURL = URL(fileURLWithPath: folderPath)\n        let sfzURL = baseURL.appendingPathComponent(sfzFileName)\n        do {\n            let data = try String(contentsOf: sfzURL, encoding: .ascii)\n            let lines = data.components(separatedBy: .newlines)\n            for line in lines {\n                let trimmed = String(line.trimmingCharacters(in: .whitespacesAndNewlines))\n                if trimmed == \"\" || trimmed.hasPrefix(\"//\") {\n                    // ignore blank lines and comment lines\n                    continue\n                }\n                for part in trimmed.components(separatedBy: .whitespaces) {\n                    if part.hasPrefix(\"<global>\") {\n                        lokey = 0\n                        hikey = 127\n                        pitch = 60\n                        lovel = 0\n                        hivel = 127\n                        sample = \"\"\n                        loopstart = 0\n                        loopend = 0\n                    }\n                    // group and region don't really tell us anything in the Kawai files\n                    //if part.hasPrefix(\"<group>\") {\n                    //}\n                    //else if part.hasPrefix(\"<region>\") {\n                    //}\n                    else if part.hasPrefix(\"key=\") {\n                        pitch = Int32(part.components(separatedBy: \"=\")[1])!\n                        lokey = pitch\n                        hikey = pitch\n                    } else if part.hasPrefix(\"lokey\") {\n                        lokey = Int32(part.components(separatedBy: \"=\")[1])!\n                    } else if part.hasPrefix(\"hikey\") {\n                        hikey = Int32(part.components(separatedBy: \"=\")[1])!\n                    } else if part.hasPrefix(\"pitch_keycenter\") {\n                        pitch = Int32(part.components(separatedBy: \"=\")[1])!\n                    }\n                    else if part.hasPrefix(\"lovel\") {\n                        lovel = Int32(part.components(separatedBy: \"=\")[1])!\n                    } else if part.hasPrefix(\"hivel\") {\n                        hivel = Int32(part.components(separatedBy: \"=\")[1])!\n                    } else if part.hasPrefix(\"loop_mode\") {\n                        loopmode = part.components(separatedBy: \"=\")[1]\n                    } else if part.hasPrefix(\"loop_start\") {\n                        loopstart = Float32(part.components(separatedBy: \"=\")[1])!\n                    } else if part.hasPrefix(\"loop_end\") {\n                        loopend = Float32(part.components(separatedBy: \"=\")[1])!\n                    } else if part.hasPrefix(\"sample\") {\n                        sample = trimmed.components(separatedBy: \"sample=\")[1].replacingOccurrences(of: \"\\\\\", with: \"/\")\n                    }\n                }\n\n                if sample != \"\" {\n                    let noteFreq = Float(AKPolyphonicNode.tuningTable.frequency(forNoteNumber: MIDINoteNumber(pitch)))\n                    print(\"load \\(pitch) \\(noteFreq) Hz range \\(lokey)-\\(hikey) vel \\(lovel)-\\(hivel) \\(sample)\")\n\n                    let sd = AKSampleDescriptor(noteNumber: pitch,\n                                                noteHz: noteFreq,\n                                                min_note: lokey,\n                                                max_note: hikey,\n                                                min_vel: lovel,\n                                                max_vel: hivel,\n                                                bLoop: loopmode != \"\" && loopmode != \"no_loop\",\n                                                fLoopStart: loopstart,\n                                                fLoopEnd: loopend,\n                                                fStart: 0.0,\n                                                fEnd: 0.0)\n                    let sampleFileURL = baseURL.appendingPathComponent(sample)\n                    if sample.hasSuffix(\".wv\") {\n                        loadCompressedSampleFile(sfd: AKSampleFileDescriptor(sd: sd, path: sampleFileURL.path))\n                    } else {\n                        if sample.hasSuffix(\".aif\") || sample.hasSuffix(\".wav\") {\n                            let compressedFileURL = baseURL.appendingPathComponent(String(sample.dropLast(4) + \".wv\"))\n                            let fileMgr = FileManager.default\n                            if fileMgr.fileExists(atPath: compressedFileURL.path) {\n                                loadCompressedSampleFile(sfd: AKSampleFileDescriptor(sd: sd, path: compressedFileURL.path))\n                            } else {\n                                let sampleFile = try AKAudioFile(forReading: sampleFileURL)\n                                loadAKAudioFile(sd: sd, file: sampleFile)\n                            }\n                        }\n                    }\n                    sample = \"\"\n                }\n            }\n        } catch {\n            print(error)\n        }\n\n        buildKeyMap()\n    }\n}\n\nThe big change here is that I no longer expect elements to be grouped together on one line, which actually makes the code a bit simpler.\nThe largest of the three Kawai files confuses buildKeyMap() slightly at middle C (note 60, and probably elsewhere also) because C4vL.wav is mapped to keys 59-61 at velocities 0-80, but at higher velocities, B3vH.wav maps to keys 58-61. The result is that sometimes middle C sounds a B instead. I will look into this and try to fix buildKeyMap(). In the meantime you could probably hand-tweak the SFZ file to make the map ranges line up.\nFleshing out the SFZ support will not happen overnight. Dealing with syntactic variations (as here) is the easy part. The hard part is understanding what additional capabilities the SFZ standard expects in the underlying sampler engine, and expanding AKSampler to support them all. From what I have seen in a few advanced SFZ files, full support of the SFZ standard would require a much more advanced and capable sampler engine than what I've written so far.\n. Thanks @jbmaxwell for sharing your extra code. My code above is now available as part of the AKSamplerDemo for macOS example in the Develop branch of AudioKit.\nI'm going to close this GitHub issue, but as we've discussed this is an area for further work. We can use all the help we can get with understanding the SFZ format in terms of syntax/parsing and expectations/requirements for the sampler engine.. My playback is fine. Try the AKSamplerDemo example code and see if that works smoothly.. Fixed in develop.. A compromise approach is \"lazy\" reallocation: the buffer size can grow (get reallocated larger) when necessary, but setting it smaller does not reallocate--you just use less of it. Ideally one would also implement a forced-reallocate function (to reallocate smaller when you have to use less memory) and a user-settable upper limit on buffer size (with a suitable default) to avoid accidentally overflowing memory.. You must be missing something in your setup code. Have a look at https://github.com/AudioKit/SamplerDemo, to see the usual process for setting up an AKSampler. The init() gets called automatically when you call AudioKit.start(); you should not call it yourself.. There have been changes to this section of the code since 4.5.3. Can you test with a more recent build? Which version are you using now?\nAs far as I can tell, the crash occurs when you have AKSampler set to mono mode, but with legato off. You may want to concentrate your testing on that case.. Stop/start seems like a possible cause. I will try doing some tests with AKSampler and start/stop.. I have tested starting and stopping AudioKit using AKSampler on the Mac, and I can't reproduce this yet.\nYou mentioned \"We load samples using loadSFZ()and play samples using the play() and release() method.\". AKSampler has no release() method, only stop(). Was this a typo?. Hi Jason!. All the best people are with AudioKit!. @dave234 I thought about that, but since BufferedAudioUnit is already all about buffer management, it makes sense to zero the output buffer there for two reasons:\n1. Additive generation is the most natural approach for all multi-voice instrument AUs.\n2. It ensures that a \"null\" AU (which does no DSP at all) will output silence.. @dave234 I will test myself this morning and approve this PR if no problems. BTW thanks for tracking this down.. @dave234 I just looked again and realized you're simply adding buffer zeroing to my code. I can do that at a lower level in AKCoreSampler.cpp, with no need to add a processWithEvents() member to AKSamplerDSP.. ",
    "Paulcoops": "I've build the Develop branch framework and found out the problems persists and might be somewhere deeper. With AKChorus & AKFlanger the app crashes after the first time I plug-in/-out the headphone. And I get errors like:\nCould not find function called '\\321'.\n\\321 returned an error.\nI discovered that without AKChorus & AKFlanger the app crashes after the second time I plug-in/-out the headphones. The first time I get a similar \"Could not find function\" message and the app continues. Second time: *boom.\nCould not find function called '\\243'.\n\\243 returned an error.\nPlynx(37361,0x16f9c7000) malloc: *** error for object 0x103065820: pointer being freed was not allocated\nI figured out that when I take out the AKOperationEffect, AKChorus & AKFlanger I can plug-in/-out my headphones all the time without any problems, just with a less desirable sound.\nI can reproduce the problem with the Hello World example for iOS by adding an AKChorus:\n20    var chorus = AKChorus()\n21\n22   required init?(coder aDecoder: NSCoder) {\n23        super.init(coder: aDecoder)\n24        mixer = AKMixer(oscillator1, oscillator2)\n25        chorus = AKChorus(mixer)\n26\n27        // Cut the volume in half since we have two oscillators\n28        mixer.volume = 0.5\n29        AudioKit.output = chorus\nI hope this helps to solve the issue.\nThank you!. Okay, found out a bit more: Issue is with iPhone 6. Just tested it on an iPad Air 2 and it works all fine.... Sorry, I wasn't aware this. Should I close this issue, or do you think there could be a solution?. Hi Aure, Thanks for looking in to this! I've already implemented a sampled version of AKDrip as backup, so I will continue using that. The AKDrip-sound is just too perfect for what I'm working on ;) In case you're curious: https://testflight.apple.com/join/r99I4wDr And thanks again for developing AudioKit! . I'm sorry about that. It should work now: https://testflight.apple.com/join/r99I4wDr. ",
    "kunalzigma": "I also have the same issue with AKOperationEffect. I posted on stackoverflow - https://stackoverflow.com/questions/47965943/disconnecting-headphones-with-audiokit-running-gives-malloc-error-with-akoperati?noredirect=1#comment82902844_47965943\nsome time back.\nAny help would be appreciated. Thanks. ",
    "ianclawsonhq": "Thank you for the quick response! This is very helpful. From what you said, and after checking AKSettings.ioBufferDuration and including it * 2 for some calculations, this definitely seems to be the case. I will code accordingly. Thank you!. I see, thank you! That would explain the very, very small difference in time that we're sometimes seeing, even after applying AKSettings.ioBufferDuration * 2.\nIf possible, I would like to get the lastRenderTime so we can get a more accurate calculation. But with AKPlayer, its underlying AVAudioPlayerNode is (understandably) private, so there's no way currently that I can see to get its lastRenderTime.\nour current implementation is this:\nfunc mPlayFrom(newPosition position: Double) {\n    player.setPosition(position + (AKSettings.ioBufferDuration * 2 + 0.00001))\n}\nWe allow the user to input a time down to the millisecond that the audio will jump to at a given other time in the audio playback. Once the given time is reached, the above function is called, passing in the user input time. We have + 0.00001 in there because, without it, the player will sometimes play just ever so slightly before the input time, which throws off some of our dependent logic.\nIs there another way for us to get the players lastRenderTime?. ",
    "amardeepranu": "I'm still seeing these warnings in Xcode 9.3 on AudioKit 4.2.3 @megastep . Getting this error as well - I can't build my app. Is there an ETA on the v4.4.0 release?. ",
    "zbydonuts": "The AudioKit in AudioKit.framework is not executable,  However, the previous version has the executable AudioKit in the framework.. ",
    "huangxinyu1213": "@megastep How to setting \"$(TOOLCHAIN_DIR)/usr/lib/swift/$(PLATFORM_NAME)\" in podspec?. ",
    "ajrdileva": "Is it possible to submit an OS X app to the Mac App Store without enabling\nsandbox?\nOn Thu, Mar 1, 2018 at 8:13 PM Aurelius Prochazka notifications@github.com\nwrote:\n\nHow about just not enabling sandbox?\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/AudioKit/AudioKit/issues/1256#issuecomment-369787025,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AHlYbAex2oG26w2xm1gEkNzO1K_t9h6kks5taJy8gaJpZM4SY7NB\n.\n. \n",
    "pshannon1000": "Still struggling with this issue, as it is not possible to submit an app to the Mac App Store without enabling sandbox...\nAdding the com.apple.security.temporary-exception.audio-unit-host entitlement does theoretically solve the problem, if the user agrees to a pop-up dialog from Apple with this text: \n\"Use of the requested Audio Unit(s) require lowering the security settings for [App Name]. Are you sure you want to proceed?\"\nMost users are not going to agree to that...\nIf they don't, AudioKit crashes with the error when try AudioKit.start() is called:\n*** Terminating app due to uncaught exception 'com.apple.coreaudio.avfaudio', reason: 'required condition is false: node != nil'\nThere doesn't seem to be any way to resolve the problem other than to make AudioKit sandbox safe?\n- It does seem to me like this could be an issue for this forum, because the only way to resolve this issue seems to be from within the AudioKit framework.  \n\nI've been trying to edit the AudioKit framework to make it sandbox safe, but I just don't know the code well enough.  It seems like other users must be encountering this problem - anyone trying to use the app in an app for the Mac App Store?  Any help would be appreciated.. Thank you!\n\nTo clarify, the issue in my app is caused by trying to use AudioKit for pitch detection through the microphone.  \nThe issue can be immediately replicated by running the MicrophoneAnalysis example project from AudioKit, with the App Sandbox capability turned on.\n. ",
    "AviDutta": "https://github.com/Carthage/Carthage/releases/tag/0.28.0 of Carthage supports static binaries.. ",
    "ideaMarcos": "So setting the library search path does work but then I get a warning:\nwarning: using 'ALWAYS_SEARCH_USER_PATHS = YES' while building targets which define modules ('DEFINES_MODULE = YES') may fail. Please migrate to using 'ALWAYS_SEARCH_USER_PATHS = NO'.\nSearching around I see that ALWAYS_SEARCH_USER_PATHS is deprecated so I'm not sure is the right way. I'm write Obj-C infrequently so I don't really know which is correct. I'm just trying to clean up the readme.\nFrom Stackoverflow https://stackoverflow.com/a/43488650\n. ",
    "ajgr": "This got away from me for a minute there, sorry about that. Haven't had any success using AKSamplers instead of AKMIDISamplers, but I came across the same issue in the iOS SequencerDemo in AK 4.0.4 as well as the develop branch of AK 4.1.\nIf a breakpoint is added in the last line of Conductor/generateNewMelodicSequence, the app will often crash after halting at the breakpoint for a couple of seconds. To force a crash with the same breakpoint one can also click the \"!\" in the melody lane once the app is running. \nsequencer.setLength(sequenceLength)\nThe crash occurs in AKMIDIEvent.swift on line 166 with length == nil and the subsequent EXC_BAD_INSTRUCTION (code=EXC_I386_INVOP, subcode=0x0):\ninternalData = Array(internalData.prefix(Int(length!)))\n. OK - I attached 2 small projects based on the sequencer demo to demonstrate. I reduced things to the bare minimum. MidiSampler.zip is using Cocoapods to easily switch between 4.0.4 / 4.1.0. The MidiSampler_dev project links to the develop branch of AK 4.1 and will need updated paths depending on where it is run from.\nMidiSampler.zip\nMidiSampler_dev.zip\n. Well, it seems AudioKit already does the right thing in several instances like interruptions by Siri for example. Plus it manages the AVSession object IIRC. But ultimately this is of course a decision that remains at your discretion. In any case a StackOverFlow post exists regarding the issue, but not much of a discussion so far.. ",
    "funct7": "I have strong suspicion that this issue is really an AKSequencer issue. I had similar problems, but decided it's more about the sequencer. A possibly related post on Stack Overflow.. I'm not convinced this issue is resolved. Maybe I'm doing something wrong, but I get No such module 'AudioKitUI' in the AKPhoneView.swift file. I checked out the develop branch.. ",
    "leonardocustodio": "Ok, no problem. There you go: https://github.com/AudioKit/AudioKit/pull/1269\nThanks Aure. ",
    "nCr78": "Well, adding it manually right after the init call seems to solve this. Calling newPlot.pause() only works if you had set the newPlot.node .. I've been trying to make it work without fiddling with AudioKit's files but so far had no luck. I know how it should be working but I have no idea how to fix this myself. The node is being attached to the engine and there's no proper way to deallocate it apparently.\nThings I've tried:\n\nDetaching its node\nResetting the engine\nRemoving the taps from input/output/mixer nodes on bus 0\nSetting AKSettings.audioInputEnabled = false\nSetting session to playback only\nCalling disconnectNodeInput/Output\nRestarting AudioKit\n\nAll of the above work together in the correct order\n\n\nSetting the engine to a new AVAudioEngine() -> crashes\n\n\nThese just seem to not solve the issue. Once the shared engine starts again, the red bar is back. Surely this is just a sub-problem of a bigger one: nodes stay in memory because they do no harm since their model is 'pull data from me'. I guess Apple wants to protect their users by telling them that there's a disconnected node in memory that used to be attached to the microphone, watch out! \u26a0\ufe0f \nIf you have no further input on this issue and can't point me to the right direction (since I'm obviously lacking a lot of knowledge here) go ahead and close this!. I took the time to upload 2 versions of the same implementation on github. One with AKMicrophone (from your Recorder sample app) and one that that uses the default AVFoundation microphone to test a few things.\nhttps://github.com/nCr78/RecPlayer-iOS\nSo, in this project you can test the recorder app with the following steps:\n\nRun the project that is located inside the \"TheAudioKitVersionHere/recorder_\" folder\nTap first button (red)\nGo in background, check red recording bar\nGo in foreground\nTap cancel button on top left corner\nGo in background, red recording bar is gone\nTap second button (black)\nGo in background, red recording bar is there but there wasn't any recorder initialised in this VC\nGo in foreground\nTap cancel and that's it\n\nThe main project's microphone is properly deinitialised when the VC gets dismissed/popped and thus the red recording bar doesn't reappear when AudioKit starts again in a different VC (I think I don't show that in the implementation but I don't have to, there's no mic attached to AudioKit's engine anyway).\nPS: My code may be a mess so feel free to correct me anywhere you see fit \ud83d\ude05 . ",
    "nfaulkner9312": "Hey Aure,\nI was the one that had posted in the google group and on stackoverflow about this in the past.  The best way to get a good testing scenario is to just take the \"Recorder\" sample project and add this to the plist.\nRequired background modes\nItem 0:  App plays audio or streams audio/video using AirPlay\nIn this example it would be nice to disable recording after you have recorded and are simply playing back your track.  Currently if the app is in the background the red bar will show up.  For my app OffTop the only solution I could find was turning off Audiokit after exiting the studio (which, as you know, is just stopping the AVAudioEngine).  \nA few things I have discovered/tried:\nI found that connecting the AVAudioEngine's inputNode (the last line of the AKMicrophone init method) triggers the red recording bar.  It then seemed logical that disconnecting the inputNode in AKMicrophone's \"stop\" method ( Audiokit.engine.disconnectNodeInput(AudioKit.engine.inputNode) ) would make the recording bar go away because the mic hardware was no longer connected to anything.  This doesn't work however.\nI've also tried this in combination with changing the avaudiosession category to playBack, stopping and starting audiokit, setting inputEnabled=false, and a few variations of this with no luck. \nThere is an app called \"RapChat\" that is able to remove the red bar as soon as they are done recording so it is certainly possible, however I have no idea what their underlying setup is so it could be very different from the AVAudioEngine approach of Audiokit.  \nAudiokit has been awesome for me and I'm getting ready to push a great new update utilizing the new AKPlayer and offline rendering introduced with iOS 11.  This is the last little thing that my app's studio could really use that I haven't been able to figure out.   \nAppreciate any help you can give, and if you find some good detailed documentation that might shed some light on how apple decides when the red bar should be presented please share it with me.\nLet me know if there's anything I can do to help you out with this.\n-Nathan. Can you reopen this issue so it gets some more eyes on it?. Unfortunately it looks like this may not be possible.  I took a look at the documentation for the AVAudioEngine's inputNode property and it says \"The audio engine creates a singleton on demand when inputNode is first accessed\".  Which made me think that the mic hardware is accessed, and red bar is triggered, simply during the creating of this singleton.  So to confirm this I simply put the line \"let input = Audiokit.engine.inputNode\"  and sure enough this is all it took to trigger the red recording bar.  Since inputNode is a singleton and a read only property it looks like the only way to remove the red bar after inputNode has been accessed is to stop the associated AVAudioEngine.  . I'm having this same problem, but only when I have two AKPlayers playing at once. ",
    "cojo": "Awesome, thanks!  Turns out I didn't have as much time available as I thought I did to try to add it myself.. No worries, 3 days is way faster than many projects I've worked with elsewhere!  Thanks for the quick follow-up and implementation - really appreciate the responsiveness and the effort on the project in general :+1:. @aure thanks for the quick response!\nI guess one first step / TL;DR version of this might be - as far as I can tell in my local testing, if I create an AKMixer as AudioKit.output and then connect AKPlayer nodes to the mixer over time, AudioKit will not handle a MediaServicesReset gracefully and the app using it will crash on the next AKPlayer.play().\nSeparate from all the other details / questions above, is that a concise enough version for the team to verify / reproduce and go from there?. Hi @aure,\nI'll try to put together my own example project I can send that is super clean for this specific case, but in the meantime, if it's of any value, it appears some of the existing examples in the AudioKit repository that include interactivity (\"play this sound now\") etc. will break as-is if you hit the Reset Media Services button from the Developer menu on a physical device.  I'll see if I can find a specific good existing example with a write up of steps to send you to make it super easy.\nIn the meantime, I went ahead and integrated the source code version of AudioKit to play around a bit more and also did some more research.\nBased on Apple's audio presentation at WWDC: http://devstreaming.apple.com/videos/wwdc/2016/507n0zrhzxdzmg20zcl/507/507_delivering_an_exceptional_audio_experience.pdf?dl=1 (slide 58), I do think that there is some additional plumbing needed to handle this event cleanly.  They specifically mention:\nNeed to destroy and recreate objects\n\u2022 AVAudioEngine, queues, remote I/Os, players, etc\nAnd I believe it is the lack of this which is causing a crash when this event occurs.\nI implemented a basic test function in AudioKit+StartStop to test this:\n```\n    @objc open static func reset() throws {\n        let temp = output\n        engine = AVAudioEngine()\n        finalMixer = AKMixer()\n        output = temp\n    try AKTry {\n        try start()\n    }\n}\n\n```\nAnd it does indeed prevent the crash in question, but because I am not sure how to clean up all the other nodes (for example previous AKPlayer's and all of their sub-nodes), subsequent crashes still occur (e.g. the dealloc of the old AVAudioEngine ends up triggering AKPlayer's completion callback, which in turn then goes and looks for the currentFrame and causes a crash because the old AVAudioEngine is now nil and triggers an assert...\nAnyhow - I'll see if I can find a very specific example / set of steps I can send to allow a quick repro on your side.  Just thought I'd share my ongoing findings in the meantime as well.\n. Hi @extnous and @aure \nSorry for the extreme delay in my response.\nWe've finally gotten around to tackling this for our own app / use case and have come up with a potential solution, which partially involves some AudioKit changes.\nI've gone ahead and submitted a PR (https://github.com/AudioKit/AudioKit/pull/1522) - feel free to use it if it's helpful (or at least reference it if you come across this later as a user experiencing this issue, even if it isn't something worth merging).\nThanks!. ",
    "GrantJEmerson": "So, I looked into it some more and I found the root of the problem. \nFirst I create a variable to hold an AKOperationGenerator called synth. Then, inside of setUpAudioKit() I initialize a variable called voltageControlledAmplifer with AKBooster(synth, gain: 1). Right after this, I set AudioKit.output to voltageControlAmplifier. This results in the crash. However, if I set AudioKit.output directy to AKBooster(synth, gain: 1), no crash occurs. \nI tried looking into the code of AKBooster, but I couldn't find anything wrong. Do you have any further ideas of what this might be?. I refactored my code to a Conductor class because my code was becoming a mess. Here is the audio set-up on my Conductor class if you have the time to take a look at it:\n`  public var modulin: AKOperationGenerator!\n    public var voltageControlledAmplifier: AKBooster!\n    public var recordingNode: AKMixer!\nprivate lazy var recorder = AKNodeRecorder(node: recordingNode)\nprivate var player: AKAudioPlayer?\n\nprivate let midi = AKMIDI()\npublic var midiChannelIn: MIDIChannel = MIDIChannel(UserDefaults.midiChannel)\nprivate var currentlySelectedMidiNotes = Set<MIDINoteNumber>()\n\n// MARK: Init\n\ninit() {\n    setUpAudioKit()\n    setUpMidi()\n}\n\n// MARK: Private Functions\n\nprivate func setUpAudioKit() {\n    modulin = AKOperationGenerator.modulin()\n    voltageControlledAmplifier = AKBooster(modulin, gain: 1)\n    recordingNode = AKMixer(voltageControlledAmplifier)\n    AKSettings.playbackWhileMuted = true\n    AKSettings.defaultToSpeaker = true\n    do {\n        try AKSettings.setSession(category: .playAndRecord, with: [.defaultToSpeaker, .allowBluetooth, .mixWithOthers])\n        AudioKit.output = voltageControlledAmplifier\n        try AudioKit.start()\n        modulin.start()\n    } catch {\n        print(\"AudioKit failed to set itself up.\")\n    }\n}`\n\nThanks for all your help.. Have you found anything else on this issue lately? It's still resulting in an error for me on the iOS 9.3 simulator in Xcode.. Okay, thanks for the quick reply!. ",
    "adarhef": "Thanks for replying Ryan. \nI'm indeed using the production build since I wasn't able to embed the development build like I mentioned. I didn't realize this issue was fixed anyway so thanks for letting me know.\nGood to know I can make it work without looping, even though I need it to loop... I'll see what I can do about that.. Thanks for the tip Ryan. Unfortunately though the handler isn't called. I made sure isLooping is false and have no called .stop() on the player like the documentation instructed.\nIf you can't confirm this or shed light here I may have another go at embedding the framework instead.. Every way of embedding the dev branch build (even including from source) was met with compilation issues I was not able to resolve, following the instructions in the repo.\nI can\u2019t afford to spend more time on this unfortunately. Hopefully when I get back to it I\u2019ll have better luck. \nThank you for your time so far.. ",
    "Ged2323": "Ok no worries thanks anyways. I think I've figured it out.. Thank you for such a quick reply. You guys rock!!. ",
    "alimehdipk": "@Ged2323 what was the issue?. @killerham that problem was not related to audiokit. i have alot of assets in which an asset contain invalid character thats why it was not causing that issue in my project. . ",
    "killerham": "@Ged2323 how did you fix this? @alimehdipk were you able to fix it?\n. The issue is here: https://github.com/AudioKit/AudioKit/blob/78800e4b58d5cdf033ba0365194453f8ef2a14b9/AudioKit/Common/Nodes/Playback/Players/Player/AKPlayer%2BPlayback.swift#L52. There's also an issue if you have looping audio that you have paused. It will only loop from the point where you paused. As a temporary fix, use AKAudioPlayer. It works with pause/resume as well as looping.. ",
    "yarivadam": "I've tried to do the same using:\npod 'AudioKit', :git => 'https://github.com/audiokit/AudioKit.git', :branch => 'develop'\nin my Podfile, but I get an empty directory under /Pods/AudioKit. It only contains the License and Readme files.. Ok, got it. I'll eagerly wait for the release, since my code can't compile without it, so I'm stuck in the meantime.\nI realize this isn't easy - I appreciate the hard work your putting into this library!. thanks for the quick response, and thanks for your hard work!\nI was able to install by removing the pod and adding it back again - just FYI.. Hi!\nAny news on this? I'm getting the same clicking noise, and I couldn't make it go away by setting AKSettings.defaultToSpeaker = false before recording (does this AudioKit engine need to be reset for this to take effect?).\nAnyway, we'd love to have a solution!\nThanks. Thanks EssamSoft,\nI'm using AudioKit mainly for the FFT function (the AKFFTTap class)... perhaps the solution is getting the FFT data from the mic using AudioKit and recording using AVAudioRecorder. Are there any clashes between using AVFoundation and AudioKit I should be aware of? Should I set the AVAudioSession category in parallel to the AKSettings.setSession(category:) call?\nThanks,\nYariv.. > There's a very quick fix for this in the new audiokit. We can make it even better, but I hope it helps for now.\nThanks! Is this a fix for the clicking sound or the feedback? or both?. OK, Thanks. I'll try SO.. ",
    "bernikowich-cedoni": "@yarivadam you can build framework yourself from develop branch, but I prefer to use Xcode 9.2 for these few days.. ",
    "dodiku": "Thanks!\nLooking forward to it!\nIs this going to be an official (production) release?. ",
    "buffpojken": "Hmm, that might make sense - this is indeed targeting iOS 9 as minimum deployment target.\nI'll be happy to take 4.2.1 for a spin and see if it resolves the issue at hand once it's released!. ~~Which, of course, would be nice - but this is an iOS-project.~~\n( Sorry @megastep , didn't see your comment when I posted mine ). Testing right away!. It works just fine - thanks for the quick help and info!. ",
    "michellevey": "Creating a singleton tracker would minimize the issue so I will look into it. \nI'm seeing about 20 or so blocks get leaked ranging from 147456 bytes - 80 bytes. \nThe issue is also the noise in the memory tracking console. \nYou might be able to recreate this issue by creating a basic app with two views/controllers and create a tracker on ViewDidAppear of one . Then just navigate back/forth and drop into \"Debug Memory Graph\" to see leaks.. ",
    "omarojo": "I see... so it's expected.\nI just had issues with Github.. because I cant commit because file is too large haha. :(\n . ",
    "redmusic27": "Why?. ",
    "robtize": "Opps sorry about that, i'll be sure to use Github next time. As of now I haven't updated to the newest Xcode i'm still using 9.2. I can use AudioKit 4.1 with Xcode 9.2 everything is fine. With the exact same code base I just update my pod to AudioKit 4.2 and I get the memory leak. //\n//  TZAudioEngine.swift\n//  Tize\n//\n//  Created by Robert on 3/5/18.\n//  Copyright \u00a9 2018 Tize Music, Inc. All rights reserved.\n//\nimport Foundation\nimport AudioKit\n@objc open class TZAudioEngine: NSObject {\n    static let EngineStartedNotificationName = Notification.Name(\"com.tize.engine.engine_started\")\n    static let EngineStoppedNotificationName = Notification.Name(\"com.tize.engine.engine_stopped\")\nstatic let sharedManager = TZAudioEngine()\npublic override init() {\n    super.init()\n    setupAudioSettings()\n    startEngine()\n}\n\n//engine state\nvar isPlaying: Bool {\n    if let sequencer = sequencer {\n        return sequencer.isPlaying\n    }\n    return false\n}\n\nvar isRecordingMidi: Bool = false\nvar isRecordingAudio: Bool = false\nvar isRecording: Bool {\n    return isRecordingMidi || isRecordingAudio\n}\n\n//core data\nvar coreDataManager = CoreDataManager.sharedInstance()\nvar currentProject: Project?\n\n//audiokit\nvar mixer: AKMixer?\nvar sequencer: Sequencer?\nvar metronomeNode: AKMIDISampler?\nvar metronomeTrack: AKMusicTrack?\nvar outputUnit: AVAudioUnitReverb?\n\n//sequencer\nvar getCurrentPositionInBeats: Double {\n    if let beats = sequencer?.currentPositionInBeats {\n        if let songLength = currentProject?.actualSongLengthInBeats?.doubleValue {\n            return beats.truncatingRemainder(dividingBy: songLength)\n        }\n        return beats\n    }\n    return 0\n}\n\nvar getCurrentPositionInSeconds: Double {\n    if let seconds = sequencer?.currentPositionInSeconds {\n        if let songLengthInBeats = currentProject?.actualSongLengthInBeats?.doubleValue, let songLength = currentProject?.getTimeInSecondsFromTime(inBeats: CGFloat(songLengthInBeats))  {\n            return seconds.truncatingRemainder(dividingBy: Double(songLength))\n        }\n        return seconds\n    }\n    return 0\n}\n\n//setup audio settings\nfunc setupAudioSettings() {\n    AKSettings.enableRouteChangeHandling = true\n    AKSettings.enableCategoryChangeHandling = true\n    AKSettings.playbackWhileMuted = true\n    AKSettings.defaultToSpeaker = true\n    AKSettings.useBluetooth = true\n    AKSettings.audioInputEnabled = true\n    AKSettings.sampleRate = AVAudioSession.sharedInstance().sampleRate\n}\n\n//engine controls\nfunc startEngine() -> Bool {\n    guard AudioKit.engine.isRunning == false else { return true }\n    //setup mixer\n    mixer = AKMixer()\n    outputUnit = AVAudioUnitReverb()\n    guard let mixer = mixer, let outputUnit = outputUnit, AVAudioSession.sharedInstance().currentRoute.outputs.count > 0 else { return false }\n    outputUnit.wetDryMix = 0\n    mixer >>> outputUnit\n    AudioKit.output = AKNode(avAudioNode: outputUnit)\n\n    do {\n        try AudioKit.start()\n        NotificationCenter.default.post(name: TZAudioEngine.EngineStartedNotificationName, object: nil)\n        return true\n    } catch {\n        print(\"error starting engine\")\n        return false\n    }\n}\n\nfunc playSong() {\n    playSong(atTime: 0)\n}\n\nfunc pauseSong() {\n    self.sequencer?.stop()\n}\n\nfunc playSong(atTime: CGFloat) {\n    var time = atTime\n    if ABLLinkManager.sharedInstance().isLinkEnabled {\n        time = coreDataManager!.currentProject.getTimeInSecondsFromTime(inBeats: ABLLinkManager.sharedInstance().getQuantizedBeat(forLinkTime: time))\n    }\n    if isRecording && currentProject?.metronome?.boolValue == true {\n        metronomeNode?.volume = 1\n    } else {\n        metronomeNode?.volume = 0\n    }\n    playAudioFiles(atTime: time)\n    playSequencerAt(seconds: time)\n    playSequencer()\n}\n\nfunc playSong(atBeat: CGFloat) {\n    if let seconds = currentProject?.getTimeInSecondsFromTime(inBeats: atBeat) {\n        playSong(atTime: seconds)\n    }\n}\n\nfunc playAudioFiles(atTime: CGFloat) {\n    stopAudioFiles()\n    guard let tracks = currentProject?.tracks else { return }\n    for track in tracks {\n        guard let track = track as? Track, let pattern = track.pattern else { break }\n        if track.loopAudio?.boolValue == true {\n            track.audioPlayer?.buildAndPlayLoops(with: pattern, atTime: atTime)\n        } else {\n            track.audioPlayer?.playTime(inSeconds: atTime)\n        }\n    }\n}\n\nfunc playAudioFiles(atBeat: CGFloat) {\n    if let seconds = currentProject?.getTimeInSecondsFromTime(inBeats: atBeat) {\n        playAudioFiles(atTime: seconds)\n    }\n}\n\nfunc playSequencerAt(seconds: CGFloat) {\n    sequencer?.currentPositionInSeconds = TimeInterval(seconds)\n}\n\nfunc playSequencer() {\n    do {\n        try sequencer?.start()\n    } catch {\n        print(\"Error starting sequencer\")\n    }\n}\n\nfunc stopAudioFiles() {\n    guard let tracks = currentProject?.tracks else { return }\n    for track in tracks {\n        guard let track = track as? Track else { break }\n        track.audioPlayer?.stop()\n    }\n}\n\nfunc clearProject() {\n    isRecordingMidi = false\n    isRecordingAudio = false\n    stopAudioFiles()\n    sequencer?.stop()\n    removeUnitsFromTracks()\n    removeUnitsFromSequencer()\n    sequencer = nil\n    mixer?.disconnectInput()\n    outputUnit?.disconnectInput()\n}\n\nfunc removeUnitsFromSequencer() {\n    guard let sequencer = sequencer else { return }\n    for track in sequencer.tracks {\n        track.destinationAudioUnit = nil\n    }\n}\n\nfunc removeUnitsFromTracks() {\n    guard let tracks = currentProject?.tracks else { return }\n    for track in tracks {\n        guard let track = track as? Track else { return }\n        do {\n            try track.samplerUnit?.loadWav(\"\")\n        } catch {\n            print(\"Error loading empty wave to sampler unit\")\n        }\n        track.samplerUnit?.destroyEndpoint()\n        track.samplerUnit = nil\n        track.audioPlayer = nil\n    }\n}\n\n//build engine\nfunc buildProject() {\n\n    //make sure engine is not running\n    clearProject()\n\n    //check to make sure engine is running\n    guard startEngine() == true else { return }\n\n    //set engine's current project\n    currentProject = coreDataManager?.currentProject\n\n    //initialize sequencer\n\n    guard let engine = outputUnit?.engine else {\n        return\n    }\n    sequencer = Sequencer(audioEngine: engine)\n\n    //setup metronome\n    setupMetronome()\n\n    guard let tracks = currentProject?.tracks else { return }\n\n    //setup track units\n    for track in tracks {\n        guard let theTrack = track as? Track else { return }\n        guard let trackType = theTrack.trackType?.intValue else { return }\n\n        switch trackType {\n\n        //audio track\n        case 0:\n            if let player = AudioPlayerNode(url: theTrack.getAudioURL()) {\n                theTrack.audioPlayer = player\n            }\n            break\n\n        //Instrument/Percussion Track\n        case 1, 2:\n            let sampler = AKMIDISampler()\n            do {\n                try sampler.loadPath(theTrack.getSoundBankUrl().path)\n            } catch {\n                print(\"Error loading sound for instrument/percussion track\")\n            }\n            theTrack.samplerUnit = sampler\n            break\n\n        //Existing track\n        case 3:\n            break\n\n        //Sampler track\n        case 4:\n            var audioFiles = [AKAudioFile]()\n            for sampleURL in theTrack.samplesArray {\n                do {\n                    //Use EZAudio to see if audio file loads\n                    EZAudio.setShouldExitOnCheckResultFail(false)\n                    if EZAudioFile(url: sampleURL) != nil {\n                        let audioFile = try AKAudioFile(forReading: sampleURL)\n                        audioFiles.append(audioFile)\n                    }\n                } catch {\n                    print(\"Error loading sound for sample track\")\n                }\n            }\n            let sampler = AKMIDISampler()\n            do {\n                try sampler.loadAudioFiles(audioFiles)\n            } catch {\n                print(\"Error loading sampler track\")\n            }\n            theTrack.samplerUnit = sampler\n            break\n        default:\n            break\n        }\n    }\n\n    // Build effects if any before connecting tracks to mixer and starting engine\n    finishedBuildingEffects = {\n\n        //connect mixer to output effects and output node\n        self.connectMixerToOutput()\n\n        //connect track units to effects and mixer\n        self.connectTracksToMixer()\n\n        //Build Sequence\n        self.rebuildSequence()\n\n        AudioEngine.sharedInstance().buildSoloTracks()\n    }\n    buildTrackEffects(forTrack: 0)\n}\n\n//sequencer\n\nfunc rebuildSequence() {\n\n    guard let tracks = coreDataManager?.currentProject.tracks else { return }\n    sequencer?.buildMidiFile(withMetronome: true)\n\n    let isPlaying = self.isPlaying\n    let currentPosition = self.getCurrentPositionInSeconds\n    if isPlaying {\n        pauseSong()\n    }\n\n    self.removeUnitsFromSequencer()\n    sequencer?.loadMidiFile()\n\n    for (index, track) in tracks.enumerated() {\n        guard let track = track as? Track, let trackType = track.trackType?.intValue else { return }\n        switch trackType {\n        case 1,2,4:\n            if let sequencer = sequencer, index < sequencer.tracks.count {\n                sequencer.tracks[index].destinationAudioUnit = track.samplerUnit?.samplerUnit\n            }\n            break\n        default:\n            break\n        }\n    }\n    if let sequencer = sequencer, tracks.count < sequencer.tracks.count {\n        sequencer.tracks[tracks.count].destinationAudioUnit = metronomeNode?.samplerUnit\n    }\n    if let sequencer = sequencer, let songLength = currentProject?.actualSongLengthInBeats?.doubleValue {\n        for track in sequencer.tracks {\n            if songLength > 1 {\n                track.isLoopingEnabled = true\n                track.loopRange = AVMakeBeatRange(0, songLength)\n            }\n        }\n    }\n\n    if isPlaying {\n        playSong(atTime: CGFloat(currentPosition))\n    }\n}\n\n//metronome\nfunc setupMetronome()  {\n    metronomeNode = AKMIDISampler()\n    do {\n        if let url = Bundle.main.url(forResource: \"metronome\", withExtension: \"sf2\") {\n            try metronomeNode?.loadPath(url.path)\n        }\n    } catch {\n        print(\"Error loading metronome\")\n    }\n}\n\nfunc connectMetronomeToMixer() {\n    //connect metronome to mixer\n    if let metronome = metronomeNode, let mixer = mixer {\n        metronome >>> mixer\n    }\n}\n\n//mixer\nfunc connectTracksToMixer() {\n    guard let mixer = mixer, let tracks = currentProject?.tracks else { return }\n\n    //get first node from track based on type\n    for track in tracks {\n        guard let track = track as? Track,\n            let trackType = track.trackType?.intValue else { return }\n\n        var trackNode = AKNode()\n        switch  trackType {\n        case 0: //if audio file\n            if let playerUnit = track.audioPlayer {\n                let playerNode = AKNode(avAudioNode: playerUnit, attach: true)\n                trackNode = playerNode\n            }\n        default:\n            if let samplerUnit = track.samplerUnit {\n                trackNode = samplerUnit\n            }\n        }\n\n        //connect any effects on track if any to the mixer if not connect first node directly to the mixer\n        if let effects = track.effects, effects.count > 0 {\n            var previousNode = trackNode.avAudioNode\n            for effect in effects {\n                guard let effect = effect as? Effect, let effectNode = effect.unit else { break }\n                AudioKit.engine.attach(effectNode)\n                AudioKit.engine.connect(previousNode, to: effectNode)\n                previousNode = effectNode\n            }\n            AudioKit.engine.connect(previousNode, to: mixer.avAudioNode)\n        } else {\n            AudioKit.engine.connect(trackNode.avAudioNode, to: mixer.avAudioNode)\n        }\n    }\n    connectMetronomeToMixer()\n}\n\nfunc connectMixerToOutput() {\n    guard let effects = currentProject?.outputMixer?.effects, let mixer = mixer, let outputUnit = outputUnit else { return }\n    var previousNode = mixer.avAudioNode\n    for effect in effects {\n        guard let effect = effect as? Effect, let effectNode = effect.unit else { break }\n        AudioKit.engine.attach(effectNode)\n        AudioKit.engine.connect(previousNode, to: effectNode)\n        previousNode = effectNode\n    }\n    AudioKit.engine.connect(previousNode, to: outputUnit)\n}\n\n//effects build async so using recursion to let them build\nvar finishedBuildingEffects: (()->Void)?\nfunc buildTrackEffects(forTrack trackIndex: Int) {\n    guard let trackCount = currentProject?.tracks?.count,\n        trackIndex < trackCount else {\n            buildOutputEffects(effectindex: 0)\n            return\n    }\n    buildEffect(forTrack: trackIndex, atIndex: 0)\n}\n\nfunc buildEffect(forTrack trackIndex: Int, atIndex effectIndex: Int) {\n    guard let tracks = currentProject?.tracks,\n        trackIndex < tracks.count,\n        let track = tracks.object(at: trackIndex) as? Track,\n        let effects = track.effects,\n        effectIndex < effects.count,\n        let effect = effects.object(at: effectIndex) as? Effect else {\n            buildTrackEffects(forTrack: trackIndex + 1)\n            return\n    }\n    effect.build({ (avAudioUnit) in\n        self.buildEffect(forTrack: trackIndex, atIndex: effectIndex + 1)\n    }) {\n        track.removeEffectsObject(effect)\n        self.buildEffect(forTrack: trackIndex, atIndex: effectIndex)\n    }\n}\n\nfunc buildOutputEffects(effectindex: Int) {\n    guard let effects = currentProject?.outputMixer?.effects,\n        effectindex < effects.count,\n        let effect = effects.object(at: effectindex) as? Effect else {\n            finishedBuildingEffects?()\n            return\n    }\n    effect.build({ (aavAudioUnit) in\n        self.buildOutputEffects(effectindex: effectindex + 1)\n    }) {\n        self.currentProject?.outputMixer?.removeEffectsObject(effect)\n        self.buildOutputEffects(effectindex: effectindex)\n    }\n}\n\nfunc projectHasAudioTracks() -> Bool {\n    guard let tracks = currentProject?.tracks?.array as? [Track] else { return false }\n    for track in tracks {\n        if track.trackType?.intValue == 0 {\n            return true\n        }\n    }\n    return false\n}\n\n}\n. This is all of the code in my audioengine file. Can you paste some of your code here? I had this problem before too but\nit\u2019s working for me now so maybe if you paste your code I can see what I\ndid differently\nOn Mon, Oct 1, 2018 at 6:07 PM jbmaxwell notifications@github.com wrote:\n\nI've also been trying to do offline rendering of sequences but keep\ngetting empty files. They're the expected length, and are well-formed\nfiles, but empty/silent. Is offline rendering from the sequencer expected\nto work or not? It isn't exactly clear from what I've found searching\naround.\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/AudioKit/AudioKit/issues/1506#issuecomment-426113105,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/Ahi8FsWIM7lJohK9KaXV1wUKAbI8tWZUks5ugrxPgaJpZM4WzVUR\n.\n. how are you importing the framework? did you add it manually or through the cocoapod?. You have to add the library to embedded libraries\n\nOn Sat, Sep 22, 2018 at 7:59 AM fredz999 notifications@github.com wrote:\n\nOK... atacand1920 and robotize, thanks so much for the quick reply! So I\ntried again, and this time I used 4.4 like what atacand said, (zip from\nAudioKit.io, the IOS one),\n[image: screenshot 2018-09-22 at 15 58 32]\nhttps://user-images.githubusercontent.com/42743729/45918542-62f33f00-be80-11e8-9f0d-d1b8f0a6a288.png\nunzipped the AudioKit-iOS folder into the project folder which also\ncontains base.Iproj\n[image: screenshot 2018-09-22 at 15 49 07]\nhttps://user-images.githubusercontent.com/42743729/45918477-7fdb4280-be7f-11e8-827c-4e73e3a9ff59.png\nimported the two .framework files within that folder into an Xcode project\n[image: screenshot 2018-09-22 at 15 35 51]\nhttps://user-images.githubusercontent.com/42743729/45918326-325dd600-be7d-11e8-88b3-e31aac0a61db.png\n[image: screenshot 2018-09-22 at 15 38 10]\nhttps://user-images.githubusercontent.com/42743729/45918349-8963ab00-be7d-11e8-8077-52641d1b1680.png\nput -lc++ into 'other linker flags' in build settings then tried to run\nthe app (without any calls to the imported AudioKit) but got an error that\nseemed to be concerned with the library:\n[image: screenshot 2018-09-22 at 15 43 21]\nhttps://user-images.githubusercontent.com/42743729/45918491-b0bb7780-be7f-11e8-9692-c507a3c2e6f4.png\nAny idea what I have missed here?\n\u2014\nYou are receiving this because you commented.\nReply to this email directly, view it on GitHub\nhttps://github.com/AudioKit/AudioKit/issues/1508#issuecomment-423749924,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/Ahi8FqwxHiRzfs-wOnPK7AfRiybicVETks5udlBYgaJpZM4W0zN5\n.\n. Are you outputting your sequencer tracks  tracks to a sampler unit?. Instead of setMidiOutput can you try setDestinationUnit I forget the exact property sorry I\u2019m not at my computer right now lol. \n",
    "jbjbhatcher": "Hi, \nI was reading the source, specifically: \nhttps://github.com/AudioKit/AudioKit/blob/master/AudioKit/Common/Internals/AKNotifications.swift\nit says that the engine is restarted when the route changes. \nDoes anyone think it is possible that the route is continually being switched, resulting in a clicking noise?. ",
    "timrichardsn": "Hey guys, I'm just wondering if anyone found a workaround for this yet? I've tried using AVAudioRecorder as suggested by @yarivadam, but it hasn't worked with our setup. Anyone else have any ideas, or updates?. ",
    "Dane456": "+1. However I'm not getting clicking sounds, I'm getting really bad feedback when I override through try AVAudioSession.sharedInstance().overrideOutputAudioPort(AVAudioSessionPortOverride.speaker). Not to mention the recording audio is getting fed through my earpiece speaker for some reason. I notice this happens only when the category is set to AVAudioSessionCategoryPlayAndRecord with AudioKit enabled. If I remove AudioKit and set to AVAudioSessionCategoryRecord it works as expected.\nI ended up solving it by switching the category to Playback before playing the audioclip, then after the clip finished revert back to 'PlayAndRecord`. Not sure if any other way is possible for the time being.. ",
    "temkich": "Thanks a lot, it's cool, now the AKPitchShifter  stops when I want. And what about AKFlanger? It does not respond to the start/stop.. I have a similar problem with https://github.com/AudioKit/AudioKit/issues/1139 but in Objective C, and i so I wanted to use AKPlayer.. ",
    "simonpierreroy": "It works fine with the user interaction (when AudioKit it started before) only if I never change the AudioKit.output. Code below.\n```\nclass ViewController: UIViewController {\nlet oscillator = AKOscillator()\n\noverride func viewDidLoad() {\n    super.viewDidLoad()\n\n    self.oscillator.frequency = 500\n    self.oscillator.amplitude = 0.004\n    AudioKit.output = self.oscillator\n    try! AudioKit.start()\n}\n\n@IBAction func stopStart() {\n    if self.oscillator.isStarted {\n        self.oscillator.stop()\n    } else {\n        self.oscillator.start()\n    }\n}\n\n}\n```\nI manage to reproduce the problem systematically, I suffice to change the AudioKit.output before starting the node. See the code below (do a start/stop/start). (In my real app I would like to switch the output between an AKPlayer and an AKOscillator upon user interaction.)\nIs there something I can do the help fixing it?\n```\n class ViewController: UIViewController {\nvar currentOsc: AKOscillator? = nil\n\noverride func viewDidLoad() {\n    super.viewDidLoad()\n\n    AudioKit.output = AKOscillator()\n    try! AudioKit.start()\n}\n\n@IBAction func start() {\n    let osc = AKOscillator()\n    self.currentOsc = osc\n    osc.amplitude = 0.004\n    osc.frequency = 500\n    AudioKit.output = osc\n    osc.start()\n}\n\n@IBAction func stop() {\n    self.currentOsc?.stop()\n}\n\n} \n```. Good, thank you :). Thank you so much!. ",
    "ladislas": "Thanks! I eventually managed to fix my issue and I'm back to Xcode 9.3 and AudioKit 4.2.3! . @ryanthon well it just works out of the box.\nDo you have any specific issue?. ",
    "bmgire": "Thank you so much for the info!. ",
    "tigert1998": "By the way, the app is built on iOS.. ",
    "pixound": "I'm experiencing such a crash myself though I'm new to AudioKit. My sf2 files were working using TAAE but I'm sure it's something simple. Crashes on load with few clues.. ",
    "mekeo": "This is the project I'm trying to test: https://github.com/cemolcay/AUSequencer\nJust to see an example of Ableton Link implementation from this post: https://audiokitpro.com/integrating-ableton-linkkit-with-audiokit-apps/\nTried several times and always getting this issue: ModulatedDelay.hpp' file not found\nAlso tried to install in my own project with Cocoa Pods with the same error.. @cemolcay Aurelius gave this solution on stackoverflow, for your AUSequencer \n\" So, actually I took a look at his example and he's doing an \"import AudioKit/AudioKit.h\" for no reason apparently, try commenting line 12 of AudioEngine.mm. \". I'm having the same issue. Supposedly, this should render the audio ...\ntry! AudioKit.renderToFile(audioFile, seconds: seconds, prerender: {\n        self.sequencer.play()\n    })\n\nUsing sampler only the first note is rendering. Would like to contribute to solve it. Hi Aure. Testing it with the last version seems to work but something weird is happening here... \nIf receivedMIDISetupChange() at init opens some MIDI inputs, can't be closed later, and opening again those inputs will duplicate\n. ",
    "monkeywithacupcake": "Best of luck to you and your team!. ",
    "arduino-man": "My apologies. ",
    "Maulik699": "Not like that,\nLet me put my code here\noscillator = AKFMOscillator()\noscillator!.amplitude = 0.0   // avoid clicks by ramping up from silence\noscillator!.baseFrequency = Double(calibration.frequency)\noscillator!.carrierMultiplier = 1.0\noscillator!.modulatingMultiplier = HolmesMethod.warbleModulationFrequency / Double(calibration.frequency)\noscillator!.modulationIndex = HolmesMethod.warbleModulationIndex\noscillator!.rampTime = HolmesMethod.clickMillis / 1000.0\nAudioKit.output = panner\ndo {  try AudioKit.start() } catch  { }\noscillator!.start()\npanner = AKPanner(oscillator, pan: calibration.channel == .Right ? 1.0 : -1.0)\n panner?.start(). @alimehdipk Did you found any solution for that weird sound? It happen to me as well. Here is my code.\n@aure Can you please look into it?\n  oscillator = AKFMOscillator()\n    oscillator!.amplitude = 0.0  \n    oscillator!.baseFrequency = Double(calibration.frequency)\n    oscillator!.carrierMultiplier = 1.0\n    oscillator!.modulatingMultiplier = HolmesMethod.warbleModulationFrequency / Double(calibration.frequency)\n    oscillator!.modulationIndex = HolmesMethod.warbleModulationIndex\n    oscillator!.rampDuration = HolmesMethod.clickMillis / 1000.0\n\n\n    panner = AKPanner(oscillator, pan: calibration.channel == .Right ? 1.0 : -1.0)\n    AudioKit.output = panner\n    do {\n        try AudioKit.start()\n        } catch  {\n    }\n\n    oscillator!.start()\n    panner?.start().\n",
    "DJBen": "Good to know. Any reasons to keep the Carthage badges and Carthage installation guide in the README?. ",
    "auguststurm": "Oh dang, I'm not sure why I didn't get a notice for this message.. I totally agree, and found that I could simply press the \"play\" button and it would continue without error. Thought it was strange enough to bring up, and totally get why Stackoverflow would be a better platform.. I too am having this issue. \nIn my case, I am able to render an output file for a sequencer with a single track, and a single sample, set to position: 0 \u2013\u00a0anything but zero produces a blank output.\nBut, set to position zero, the resulting output file also includes a ~260Hz \"error tone\" on top of the actual sample. Though, I play the sequence in-app (on device) and I do not hear the error tone. Only with the renderToFile output file. \nAny insight would greatly be appreciated!. ",
    "jack-xiaobaicai": "Using this method on iphone6sp to save songs that have changed the sound, there is no problem, but replaced by 7sp and 6s, iphone will make a lot of noise in the process of saving, can you help me give me some suggestions? Project tomorrow To carry the package, the current version is 4.0, I would like to know whether this is a bug in version 4.0 or a problem I wrote myself. Thank you very much.\n\n. ",
    "dddx80": "Worked! Thanks a lot! . ",
    "khanlou": "@aure Totally cool with you closing this, but our team is going to have to make a move on this soon. It's a lot of cognitive load on us to download pods each time we switch branches, as well as not being able to work offline, people accidentally doing pod update instead of pod install, git bisect requiring a pod install, etc.\nDo you have any recommendations on how we might set up CocoaPods to build AudioKit from source rather than relying on a pre-built static lib?. Okay \u2014 if it will make the build times intolerably long, what we may do is track pods with git but gitignore only the AudioKit binary. This way, we only have to pod install when we upgrade AudioKit.. ",
    "cgossain": "Hi Aurelius,\nThanks for the reply. Specifically I was thinking that the exportAsynchronously method creates an AVAssetExportSession internally. The export session is the part that actually contains progress information. If we can somehow expose this export session, or even have the method return the export session, then we could externally latch onto its progress value.. ",
    "colinhumber": "@aure The documentation in AKAudioFile+ProcessingAsynchronously.swift mentions that the ExportSession object that is created to wrap the AVAssetExportSession has a progress property that can be used to track progress. However, this property is never defined in the internal class.\nhttps://github.com/AudioKit/AudioKit/blob/2473c7d58d1d731df7cac884a3e0822329889671/AudioKit/Common/Internals/Audio%20File/AKAudioFile%2BProcessingAsynchronously.swift#L278\nAs @cgossain mentioned the wrapped AVAssetExportSession already reports progress, so I'm not sure if the internal documentation is incorrect and there used to be a progress property available externally.\n. I don't have the bandwidth to work on it at the moment, but I could hope on it at some point. It's not critical by any means, however.. \ud83d\ude4c\ud83c\udffc. Just to confirm there will be a prebuilt Swift 4.2-compatible framework available once Xcode 10 is publicly available. I hadn't seen any work updating the codebase for Swift 4.2, so was just curious. I'm happy to help out with the conversion, if needed.. We have a library that has a dependency on AudioKit, so our podspec has the reference to the dependency, not our Podfile. We would need a released version (eg. 4.3.1) to reference, since we can't specify a branch in the dependency. I'm sure you're all working hard on this. Just curious if there's a general timeline for a release that supports this.. You all rule. :D. Awesome, I'll give this a go this afternoon and see how it works.. @megastep Integrated 4.4.0b1 pod and everything seemed to be working as expected. I'm able to integrate our library that relies on AudioKit into our main app running Xcode 10 and Swift 4.2.\nThanks for all the work on this!\n/cc @aure . @atacand1920 As mentioned on https://github.com/AudioKit/AudioKit/issues/1499 there's a staging spec for 4.4.0b1 that can be used. I've been testing this in our project and it's been working great. . ",
    "robertcapsure": "Ok so from my personal experience this seems to be an on going problem with AVAudioEngine. The closes i've ever gotten to getting this to work is with this code here\nhttps://github.com/VladimirKravchenko/AVAudioEngineOfflineRender\nI had to make a few changes to the code to actually get it to work like adding an AudioUnitAddRenderNotify callback to a final output node that's not the actual output node. I hope this makes since. This part of my code is in Obj C and it's some of my first code i've written so it's super messy but i'm willing to help anyone to get this to work. How are you importing the AudioKit Framework? I've noticed I got this crash when I imported manually but works fine when I use cocoapods. Xcode 10 iOS12 AudioKit 4.4. @aure sorry for the late reply been busy but this would be amazing thank you!\nAVAudioEngine+Extensions.swift -> Line 25\n```\n    public func renderToFile(_ audioFile: AVAudioFile, maximumFrameCount: AVAudioFrameCount = 4_096, duration: Double, prerender: (() -> Void)? = nil) throws {\n        guard duration >= 0 else {\n            throw NSError(domain: \"AVAudioEngine ext\", code: 1,\n                          userInfo: [NSLocalizedDescriptionKey: \"Seconds needs to be a positive value\"])\n        }\n        try AKTry {\n            // Engine can't be running when switching to offline render mode.\n            if self.isRunning { self.stop() }\n            try self.enableManualRenderingMode(.offline, format: audioFile.processingFormat, maximumFrameCount: maximumFrameCount)\n        // This resets the sampleTime of offline rendering to 0.\n        self.reset()\n        try self.start()\n    }\n\n    guard let buffer = AVAudioPCMBuffer(pcmFormat: manualRenderingFormat, frameCapacity: manualRenderingMaximumFrameCount) else {\n        throw NSError(domain: \"AVAudioEngine ext\", code: 1,\n                      userInfo: [NSLocalizedDescriptionKey: \"Couldn't create buffer in renderToFile\"])\n    }\n\n    // This is for users to prepare the nodes for playing, i.e player.play()\n    prerender?()\n\n    // Render until file contains >= target samples\n    let targetSamples = AVAudioFramePosition(duration * manualRenderingFormat.sampleRate)\n    while audioFile.framePosition < targetSamples {\n        let framesToRender = min(buffer.frameCapacity, AVAudioFrameCount( targetSamples - audioFile.framePosition))\n        let status = try renderOffline(framesToRender, to: buffer)\n        switch status {\n        case .success:\n            try audioFile.write(from: buffer)\n        case .cannotDoInCurrentContext:\n            AKLog(\"renderToFile cannotDoInCurrentContext\")\n            continue\n        case .error, .insufficientDataFromInputNode:\n            throw NSError(domain: \"AVAudioEngine ext\", code: 1,\n                          userInfo: [NSLocalizedDescriptionKey: \"renderToFile render error\"])\n        }\n    }\n\n    try AKTry {\n        self.stop()\n        self.disableManualRenderingMode()\n    }\n}\n\n```. Actually if you can create a new issue and tag me I can try and help you\nthere\nOn Mon, Oct 1, 2018 at 6:13 PM robtize notifications@github.com wrote:\n\nCan you paste some of your code here? I had this problem before too but\nit\u2019s working for me now so maybe if you paste your code I can see what I\ndid differently\nOn Mon, Oct 1, 2018 at 6:07 PM jbmaxwell notifications@github.com wrote:\n\nI've also been trying to do offline rendering of sequences but keep\ngetting empty files. They're the expected length, and are well-formed\nfiles, but empty/silent. Is offline rendering from the sequencer expected\nto work or not? It isn't exactly clear from what I've found searching\naround.\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\n<https://github.com/AudioKit/AudioKit/issues/1506#issuecomment-426113105\n,\nor mute the thread\n<\nhttps://github.com/notifications/unsubscribe-auth/Ahi8FsWIM7lJohK9KaXV1wUKAbI8tWZUks5ugrxPgaJpZM4WzVUR\n.\n\n\n\u2014\nYou are receiving this because you commented.\nReply to this email directly, view it on GitHub\nhttps://github.com/AudioKit/AudioKit/issues/1506#issuecomment-426114107,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/Aelp2R-26IQGFrqbrtARpb6I0UF8aFRFks5ugr2rgaJpZM4WzVUR\n.\n. \n",
    "CrossProd": "I don't mind making a pull request for this. Will do that today.\nThe underlying problem seems to be that the AKAudioFile reports a length & sampleCount of 0. Not sure how to fix that. I now changed my code to use recorder.audioFile instead for exporting.. I'm trying to push some code to a branch but it appears I have no rights to do this. Error on my side or do I need to be given permissions?\nedit: apologies, I will fork. I'm not familiar with contributing to open source projects :). We have tested it with 4.5.5 and 4.5.6 (recently updated to this version hoping it would fix this crash.)\nThe AKSampler is used with its default settings except:\n\nreleaseDuration is set to values between 0.5 and 5 seconds\nmasterVolume is set to values between 0.5 and 1.0\n\nWe do not set any other properties on AKSampler.\nWe load samples using loadSFZ()and play samples using the play() and release() method. We only interact with AudioKit on the main thread.\nThe complete audio chain is very basic:\nAudioKit.output is set to an instance of AKMixer initialised with the AKSampler singleton. After that AudioKit.start is called. \nMaybe the issue can occur when going to background/foreground. We call AudioKit.stop when the app has entered background status. When the app comes back to the foreground we call AudioKit.start. We also recall loadSFZ after coming back to the foreground, because otherwise no sound would be played interacting with the sampler.\n. My bad, I indeed meant stop() instead of release().\nAnd apologies for not mentioning this previously but this crash occurs in an iOS app.. This is still happening in production with version 4.6.1.. ",
    "victorporof": "Is this being actively worked on? Anything I can do to help?. Sure thing! Happy to help however I can.. ",
    "Yilinm": "Since internal var inputPorts: [String: MIDIPortRef] = [:]  in AKMIDI.swift is internal, is very hard for users to find a work around without modifying the AudioKit itself. \nOne possible way of resolving this issue is giving aliases to the duplicated midi devices, like what Ableton does: \n\n. ",
    "genedelisa": "What I do is add a \"user event\" to the MusicSequence and loop manually based on receiving that event simply because getting a \"done\" message was flaky at best.. This is how I do it in regular Core MIDI\n```\nlet sequencerCallback: MusicSequenceUserCallback = {\n            (clientData: UnsafeMutableRawPointer?,\n            sequence: MusicSequence,\n            track: MusicTrack,\n            eventTime: MusicTimeStamp,\n            eventData: UnsafePointer,\n            startSliceBeat: MusicTimeStamp,\n            endSliceBeat: MusicTimeStamp)\n            -> Void in\n        let mySelf = Unmanaged<GridModel>.fromOpaque(UnsafeRawPointer(clientData)!).takeUnretainedValue()\n\n\n        let d = eventData.pointee\n\n        if d.data == 0xAA {\n            //print(\"got the marker\")\n            DispatchQueue.main.async {\n                mySelf.hitEnd()\n            }\n        }\n\n        if d.data == 0xBE {\n            mySelf.gridDelegate?.beatReceived(eventTime)\n        }\n\n    }\n    status = MusicSequenceSetUserCallback(musicSequence!, sequencerCallback, p)\n\n```\nand I add the markers like this\nfunc addMarker(startBeat: MusicTimeStamp) {\n        let endBeat = startBeat + MusicTimeStamp(numBeats)\n        print(\"adding end of phrase marker at \\(endBeat)\")\n        var event = MusicEventUserData(length: 1, data: (0xAA))\n        let status = MusicTrackNewUserEvent(markerTrack!, endBeat, &event)\n        if status != noErr {\n            AudioUtils.checkError(status)\n        }\n}\n. ",
    "Vasili802": "I created question on stackoverflow https://stackoverflow.com/questions/50746837/audiokit-how-to-record-own-app-audio-output-on-ios. Could you help me?. ",
    "wangrenzhu": "still have click noise in Recorder demo. I try this before recording\nlet input = AudioKit.engine.inputNode\n let bus = 0\n let inputFormat = input.outputFormat(forBus: bus) \n AKSettings.sampleRate = inputFormat.sampleRate \n AKSettings.channelCount = inputFormat.channelCount\nit's useful with the commit\nhttps://github.com/AudioKit/AudioKit/commit/a67674168adaf6e46da0ce6b0c07f4b41eefd999. Make AKPlayer fadeOut public like this\n @objc public func fadeOut() \n. ",
    "Restructural": "I\u2019d say the framework probably needs a full pattern library of sorts, for\nvarious ui elements and ux processes. It might be going a bit far to roll\nout a full on \u2018systems design framework\u2019, but I\u2019m sure the community could\nprobably use a few preset interactions and displays etc, at least for\nconcepting or prototyping.\nI\u2019d be happy to help with this, if it\u2019s something others are interested in.\nClifton Evans\nOn Tue 12 Jun 2018 at 1:12 p.m., vensurfer61 notifications@github.com\nwrote:\n\nGreetings @AudioKit https://github.com/AudioKit\nI'm a Graphic Designer and I've reached you believing that a logo proposal\nwould be helpful to this project!\nA good logo that transmit a message its helpful when it comes to\npublicity, making it appealing to the eye.\nThe logo will be made completely free for you, as a way to support open\nsource software\nIf this is something of your interest, we can get started towards the\nlogo-making process.\nI'll be looking forward for your reply\nBest Regards,\n-Luis Baute\n\u2014\nYou are receiving this because you are subscribed to this thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/AudioKit/AudioKit/issues/1402, or mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AYFLm27kFXqDWPbMGor8HGMmRSgjrb0dks5t77AqgaJpZM4UkT5Q\n.\n. \n",
    "Ufosek": "@dave234 Of course: https://github.com/Ufosek/AudioKitProblemTest\nIn SongPlayer class there is a field INIT_MIC_ONCE - when it's set to true - mic is initialized only once and crackling sounds appear after few plug-in-out (mostly heard on iPhone X). When set to false - mic doesn't work after second plug-in-out.. @dave234 Hello, do you have any progress/workarounds for this?. @dave234 That would be great! Our whole project depends on AudioKit.\n@wangrenzhu Could you tell me how to use it in my case and what do you mean \"it's useful with the commit\"? Or if you could make a pull request to my sample project that would be awesome.\n. @dave234 It looks like it is working - I will test all scenarios and get back to this if something is wrong. My solution was inspired by https://github.com/audiokit/AudioKit/issues/575, especially:\n\nIn the reset function, what I did was completely reset AudioKit.output. I rebuilt all the instruments (not sure if this was necessary) and mixed all of them and set them as the output.\n. @aure Hello, any progress with this? Do you need sample project?. @aure @markjeschke I just created sample project: https://github.com/Ufosek/AudioKitRenderProblem\n\nIt just takes player as input to Mixer, set it as output and renders. However as I said - output file is always empty.\n. @aure @markjeschke  Hello, did you look at sample project?. @aure @markjeschke sorry for double post but I really need to move on with this - if it is not possible with AudioKit - I will have to move to \"lower\" AVFoundation but it would require to implement a lot of things that are already done with AK.\nI would not bother you if there would be an example of this, but I could not find anything :/\nThx in advance!. I am also facing this issue on 4.5.6 - I could not manage to reproduce it but I see crashes in ~5% of my users\n[EDIT] What is interesting - 100% crashes happened on iOS 11, none on iOS 12. ",
    "hipwelljo": "Unfortunately I don't think I will have the time and resources to implement it given my current workload.. ",
    "viclabs": "Thanks @eljeff  and @aure \nLooks like I am shifting to the develop branch (y). ",
    "appsandwich": "Messed up the PR. Will try again.... ",
    "serg-vinnie": "@aure \nSandboxing is mandatory if you need to submit app to the app store.  It limiting access to filesystem, networking, camera, microphone, etc. For example if you caching some files in app's folder it is ok, but if you access file system out of app's folder you need to specify exactly what you need:\n\nIf you need any assistance I will be glad to help you.. enabling of microphone in App Sandbox didn't help. . @aure, @megastep  I did try to debug Sandboxed Hello Word sample from AudioKit.\nAnd have figured out the source of problem: AVAudioUnit.instantiate returns nil.\nIt turns out that sandboxing of audio unit more complicated than turning some checkbox \"on\".\nhttps://developer.apple.com/library/archive/technotes/tn2312/_index.html\nCurrently i'm trying to investigate the problem, but i'm not sure if have enough competence in CoreAudio to resolve this issue quick enough. So your help will be highly appreciated.\n. This entitlements file did work for me, but it doesn't cover all possible cases\n\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<!DOCTYPE plist PUBLIC \"-//Apple//DTD PLIST 1.0//EN\" \"http://www.apple.com/DTDs/PropertyList-1.0.dtd\">\n<plist version=\"1.0\">\n<dict>\n    <key>com.apple.security.app-sandbox</key>\n    <true/>\n    <key>com.apple.security.device.audio-input</key>\n    <true/>\n    <key>com.apple.security.device.audio-video-bridging</key>\n    <true/>\n    <key>com.apple.security.files.bookmarks.document-scope</key>\n    <true/>\n    <key>com.apple.security.network.client</key>\n    <true/>\n    <key>com.apple.security.temporary-exception.audio-unit-host</key>\n    <true/>\n    <key>com.apple.security.temporary-exception.mach-lookup.global-name</key>\n    <array>\n        <string>com.apple.midiserver</string>\n        <string>com.apple.midiserver.io</string>\n    </array>\n</dict>\n</plist>. I'm closing the issue. Please add sandboxing info to your documentation and please check documentation about kAudioComponentFlag_SandboxSafe for  AudioComponentFindNext(,).\nI'm sure it will be helpful for someone else.. ",
    "ddoe777": "0.05 seems to be too low. I guess a \"gain\" parameter should rather be allowed and 0.05 can be the default. . ",
    "RockerHX": "@aure You're welcome. \ud83d\ude0a\ud83d\ude0a\ud83d\ude0a. @romancfischer A simple way that you can use a AKNodeRecorder record player, and fadeIn & fadeOut like this:\n```Swift4\n    static func fadeIn(with player: AKPlayer?) {\n        guard let node = player else { return }\n        let helper = PlayerHelper.shared\n        helper.timer = Repeater.every(.milliseconds(helper.durationInterval)) { [weak helper] timer in\n            guard let this = helper else { return }\n            if node.gain <= this.maxGrain {\n                node.gain += this.rampInterval\n            } else {\n                timer.pause()\n            }\n        }\n    }\nstatic func fadeOut(with player: AKPlayer?) {\n    guard let node = player else { return }\n    let helper = PlayerHelper.shared\n    helper.timer = Repeater.every(.milliseconds(helper.durationInterval)) { [weak helper] timer in\n        guard let this = helper else { return }\n        if node.gain >= this.minGrain {\n            node.gain -= this.rampInterval\n        } else {\n            timer.pause()\n        }\n    }\n}\n\n```\nrecord a player you can take mutiple fadeIn & fadeOut to a audio.. ",
    "PawanmSpaceo": "Even I'm getting silent audio file after rendering...\nAny solution???. I'm using below code to render\nlet audioFile = try AKAudioFile(forWriting: self.exportURL, settings: self.player!.audioFile!.fileFormat.settings, commonFormat: .pcmFormatFloat64, interleaved: true)\n        try AudioKit.renderToFile(audioFile, duration: self.player!.duration, prerender: {\n            self.player?.play()\n        }).\n",
    "JamesOrdner": "I'm happy to :) Though I'd like to discuss the best course of action before creating a pull request, as these are some potential high level changes that may require changes in a lot of child classes.\nThere's two parts to this leak. The first is that delete is never called on the  AKDSPBase* _kernel object in the AKAudioUnitBase and AKGeneratorAudioUnitBase classes. This must happen, otherwise the DSP objects are leaked (as they are created with a new call). The second part is that, currently, all Soundpipe DSP classes do their memory cleanup in a function called destroy which is never called.\nThe solution to the first is to add a virtual destructor to AKDSPBase by adding virtual ~AKDSPBase() {} to the header. This is a one line fix for subclasses that define their own destructor (automatic override), or subclasses that declare no destructor. However, for some reason there are many DSP subclasses that declare a destructor in the header, but never actually define the destructor. This will cause linking errors with a virtual destructor in AKDSPBase unless the destructor declarations are removed in any subclasses without a corresponding definition (we could also just define an empty destructor in these classes, but if it's currently undefined what's the point of having a destructor at all?).\nFor the Soundpipe cleanup problem, there are two solutions that I can think of and I don't know which you'd prefer to do. The first would be to rename all destroy functions in soundpipe DSP classes to deinit (including the one in AKSoundpipeDSPBase), thus overriding the virtual and currently empty deinit function in AKDSPBase. deinit is already being called in AKAudioUnitBase despite being an empty function, so it seems like destroy was intended to be deinit in the first place? The second option would be to make destroy a private function and call it from the destructor (which will actually be called now that we are calling delete). We would need to make it private to ensure that someone couldn't unknowingly call it manually and then delete the object, thus calling it twice. The first seems to be the cleanest method but I wanted to ask as this will require changing pretty much all of the soundpipe classes.. I've modified the podfile accordingly, so that it looks like this:\n```\nsource 'https://github.com/AudioKit/Specs.git'\ntarget 'audiokitDaw' do\n  use_frameworks!\n  pod 'AudioKit', '~> 4.3'\nend\n```\nI then did pod deintegrate and pod install. It is still failing to build with the same error.. Hmm okay, I haven't gotten this error in my project but we completely rebuild the audio graph upon each audiokit restart. My guess would be that initWithComponentDescription is called only once for each node, when it is first created, which creates the kernel. Seems like allocateRenderResourcesAndReturnError and deallocateRenderResources are being called upon each audiokit start and stop, in which case the solution would be to leave _kernel->deinit() inside deallocateRenderResources, because it frees anything created with _kernel->init(), and move delete _kernel to the equivalent of the AudioUnit's destructor, or something called during the AudioUnit's cleanup. I don't know much about Obj-C, do the classes have a built in destructor we can use?. Alright perfect, I added\n- (void)dealloc {\n    delete _kernel;\n}\nto both AKAudioUnitBase and AKGeneratorAudioUnitBase and removed the delete call from deallocateRenderResources. It still fixes the memory leak, and now _kernel is persistent for the lifetime of the AudioUnit object and fixes that issue!\n@aure do you want to make this change or should I make a pull request?. Sounds good :) Submitted.. ",
    "romancfischer": "Hi Eljeff,\nThanks for your quick reply.\n1. No, I actually didn't know that. Thanks for letting me know, I will switch to AKWavetable then.\n2. I actually made a drawing, see below. \n\nI basically want to be able to spontaniously loop the sample on the fly with a crossfade inbetween.\nBackground: I have a step sequencer where samples are dynamically triggered. I don't use your internal sequencer feature though - but my own.\nLet's say you have a sample ( Start to End ) and you define the startposition as A. Sometimes I need to reset the playposition to A before the defined end has been reached. In this case this would be B then. The pointer should immediately jump to A ( with a 2ms fadeIn ) then and at the same time additionally continue reading / playing from position B for 2ms with a fadeOut. So you would have a crossfade.\nIf this is something you don't really see fitting in to your library then I might have to consider to change to AKTable and try creating something like that on my own, even though that will be challenging for me ;)\nOne more question: Does the internal looper of AKWavetable fade inbetween the end and the startposition? Can it be activated on the fly or is it necessary to define the .loopEnabled = true before play() was applied?\nPlease let me know if this was clear enough.\n. @eljeff sorry if it's confusing. yes, I guess that's what I am asking for.. @RockerHX thanks, I will give that a try. I just managed to play around with the framework extension for the first time.\nHere is a temporary solution for the fade-in and fade-out feature:\nIn AKWaveTableDSPKernel.hpp void process:\n```\n// insert in line 197:\nfloat fadeVol = 1;\nif (position >= startPointToUse && position <= startPointToUse + fadeLength){\n     fadeVol = 1 - (position - (startPointToUse - fadeLength)) / fadeLength;\n}else if(position >= endPointToUse - fadeLength && position <= endPointToUse){\n     fadeVol = 1 - (position - (endPointToUse - fadeLength)) / fadeLength;\n}\n// replace line 209 with\nout = volume * fadeVol;\n```\nIt works with different start and end-points and a mutated rate but unfortunately it doesn't work in reversed mode. I guess I'll have to dig deeper and implement the sp_tabread_compute function into the class and modify that one. Especially for the seek-fade feature, since buffer from the end-point has to be copied and mixed together with buffer from the start-point under different output-levels in order to achieve a fast transition.\n. I just realized that that's not a good approach. Ramping is much better. I'll get more into it and come back if I have a more satisfying result.\n```\n// fade in & out\nfloat fadeDuration = float(fade) * rate;\nfloat fadeVol = float(fadeVolRamper.getAndStep());\nif(fade > 0){\nif (position == startPointToUse){\n    fadeVol = 0;\n    fadeVolRamper.setImmediate(0);\n    fadeVolRamper.startRamp(1, fadeDuration);\n\n}else if(position == endPointToUse - fadeDuration){\n    fadeVolRamper.startRamp(0, fadeDuration);\n}\n\n}else{\n    fadeVol = 1;\n}\n```. sure, I'd love to. I just need a bit of time to prepare this since I've never done a pull request before.. @aure ah ok thanks. Strange, I just realized it works better with the headphone jack adapter plugged in. I will keep an eye on the next iOS updates.. ",
    "aliuzunoglu": "If you check MetronomeSamplerSync example you can detect sound problem just plug and unplug microphone more than one.. ",
    "rob-k": "To my knowledge, the optimistic operator will lead to using the latest compatible version according to semver. So in my case, both ~> 4.0 and no version will lead to:\nInstalling AudioKit (4.3)\nThat being said, I removed the version operator from the Podfile, but the issue remains.\nEdit:\nSame issue when I use AudioKit (4.3). Yes, that was my bad. I had to update my Repos by using pod repo update first to get the latest version. The issue remains though.. I was unable to use AudioKitUI the way @thomjordan described, as I could not resolve some issues:\n```\n:1:136: error: module 'AudioKit' does not use additional module map '***/AudioKit/../../Pods/AudioKit/iOS/AudioKit.framework/Modules/module.modulemap' not used when the module was built\n:0: error: cannot load underlying module for 'AudioKit'\n:1:9: note: in file included from :1:\nimport \"Headers/AudioKitUI.h\"\n/Pods/AudioKit/iOS/AudioKitUI.framework/Headers/AudioKitUI.h:28:9: note: in file included from /Pods/AudioKit/iOS/AudioKitUI.framework/Headers/AudioKitUI.h:28:\nimport \"EZPlot.h\"\n```\nNot sure if this was caused by an error on my end, but I eventually gave up on this approach.\nManually importing the frameworks as suggested by @ryangrimm is working as expected though, thanks!. ",
    "maksutovic": "hi @rob-k I am having exactly the same issue. Was building/running my experiments with AudioKit with no issues whatsoever, and as soon as I wanted to use some of the UI components, I'm having the issue with non-modular headers.\nFor me the issue is with EZPlot.h line 27: #import \"AudioKit/EZAudioUtilities.h\"\nI attempted the usual (now old) fixes like \npost_install do |installer|  \n    installer.pods_project.build_configuration_list.build_configurations.each do |configuration|  \n        configuration.build_settings['CLANG_ALLOW_NON_MODULAR_INCLUDES_IN_FRAMEWORK_MODULES'] = 'YES'  \n    end  \nend\nbut to no avail. \nMy only concern is I am working on a project which has both Swift and Objective-C code, I was unsure if AudioKit did not support such an enviorment.\nIs there a possible hotfix to moving the header to the .m file or is this on our end? Thanks so much\n. Thanks so much @thomjordan and @ryangrimm , i'm sorry for the delay in response it was a very busy weekend. I will give these suggestions a go and see if we can correct the issue. One thing I haven't gotten my head around is that it does not seem that all users have this issue, as well as the working example projects like MicrophoneAnalaysis which use AudioKitUI without any issues, I'll do my best to see if I can correct it, otherwise it would be nice to get some input from contributors to AudioKitUI to suss out if this is solely our issue or a potential problem to correct in the framework. . @ryangrimm Thanks so much for your attention on this Ryan! I downloaded your repo --> pod install in the directory and opened the new workspace and low and behold, a swift only project provides the same non-modular header issue. \nTo check my sanity, I made a new swift only project, and in the ViewController.swift file, added import AudioKit and import AudioKitUI -- same exact non modular header problem. Specifically the problem is the header file EZAudioUtilities.h being imported in EZPlot.h. The entire error is as follows:\n```\n/Users/maximilianmaksutovic/Programming/Mayosoft/TestingAudioKitUI/Pods/AudioKit/iOS/AudioKitUI.framework/Headers/AudioKitUI.h:28:9: note: in file included from /Users/maximilianmaksutovic/Programming/Mayosoft/TestingAudioKitUI/Pods/AudioKit/iOS/AudioKitUI.framework/Headers/AudioKitUI.h:28:\nimport \"EZPlot.h\"\n    ^\n\n/Users/maximilianmaksutovic/Programming/Mayosoft/TestingAudioKitUI/Pods/AudioKit/iOS/AudioKitUI.framework/Headers/EZPlot.h:27:9: error: include of non-modular header inside framework module 'AudioKitUI.EZPlot': '/Users/maximilianmaksutovic/Programming/Mayosoft/TestingAudioKitUI/Pods/Headers/Public/AudioKit/AudioKit/EZAudioUtilities.h'\nimport \"AudioKit/EZAudioUtilities.h\"\n    ^\n\n:0: error: could not build Objective-C module 'AudioKitUI'\n```\n@thomjordan thank you for giving a possible solution however I was unable to get the module map to work unfortunately.\nI'm going to continue to just use AudioKitUI imported manually into my projects, however I do think it's time to formally mark this as a bug because, as of right now, any user who attempts to use the cocoapod of AudioKitUI will run into this issue. \nI had to deal with non modular headers for a huge internal library at my last job, I'm happy to take this challenge on, however I've never made a static linked cocoapod before and I don't want to step on any toes. And personally would perfer to work on a Carthage iteration of AudioKit (as I'm more of a Carthage guy) as opposed to fixing this problem specifically. \nWould love some input from the core team on this and your guidance. \n. Been testing with zero issues on iOS 12 devices, my partner has a 7th gen iPad running iOS 11.4, app has worked for him in the past, now it's hard crashing no matter what on AKMicrohpone(). Tried the above fixes, interestingly enough the device is returning 44100 for sample rate form AVAudioSession. Cannot reproduce on any iOS 12 devices, I'll look to see if I have any other iOS 11 devices but so far have no idea how to fix this issue for iOS 11. Crash is coming from AKMicrophone.getInputFromDevice()\nThis is a weird one... Code below:\ninternal func setupMicrophone()\n    {\n        var inputFormat = AudioKit.engine.inputNode.outputFormat(forBus: 0)\n        AKLog(\"wrong rate---> session rate: \\(AVAudioSession.sharedInstance().sampleRate) input rate: \\(inputFormat.sampleRate)\")\n        inputFormat = AudioKit.engine.inputNode.outputFormat(forBus: 0)\n        AKSettings.sampleRate = inputFormat.sampleRate\n        AKSettings.channelCount = inputFormat.channelCount\n        AKLog(\"correct rate--->  session rate: \\(AVAudioSession.sharedInstance().sampleRate) input rate: \\(inputFormat.sampleRate) aksettings rate:\\(AKSettings.sampleRate)\")\n        mic = AKMicrophone()\n    }. Hi Charles,\nFor AudioKit implementation questions, we highly encourage you to post a question on Stack Overflow, and keep GitHub issues solely for bugs or issues with the framework itself. Would you mind making a Stack Overflow question, and I'd be happy to give some guidance on this, thanks!. ",
    "thomjordan": "I haven't encountered this kind of issue with AudioKit yet, but I have\nbefore when wrapping an Objective-C written framework inside of a new Swift\nframework, most recently over this past weekend. This solution I found\nworked very well and resolved the issue immediately, hopefully it can do\nthe same for you.\nI adapted the instructions I found on StackOverflow here (also included\nbelow):\nhttps://stackoverflow.com/questions/32149371/import-objective-c-framework-into-swift-framework-google-analytics-cocoapod\nFor those who have continued to ask if I had solved this problem, the\nfollowing is how I accomplished this task importing the KochavaTracker SDK\nCocoapod into a framework. That SDK is currently written in Objective-C.\nThis answer is based on the answer provided by nuKs, with these specific\nsteps.\n1) Create a folder named KochavaTracker under your project folder, i.e.\nMyFramework/MyFramework/KochavaTracker.\n2) Within that folder create a file named module.modulemap and insert the\nfollowing content:\n/*\nThis is the private module which is used to make private ObjC headers\navailable to Swift code.\nNote how all header files need to be specified with paths relative to this\nfile.\nThis file lives inside a folder, and that folder is the actual module. In\nXcode the SWIFT_INCLUDE_PATHS needs to include the parent directory to that\nfolder.\n*/\nmodule KochavaTracker {\nheader\n\n\"../../Pods/KochavaTrackeriOS/KochavaTrackeriOS/Classes/KochavaTracker.h\"\nexport *\n\n}\nThis effectively creates a module which is a wrapper for interface of the\nSDK, which Swift can later import like it does other Swift modules. Note\nthat it relies on a relative path to the Pods folder.\n3) As found in build settings, modify your SWIFT_INCLUDE_PATHS to include:\n$(SRCROOT)/MyFramework\nThis makes it so that you will be able to import the module and it will\nlocate it in/as the KochavaTracker folder which you created under it.\n4) Add to your Swift code, where appropriate:\nimport KochavaTracker\nFrom there you should be able to reference the classes in the\nKochavaTracker module.\nOn Fri, Aug 3, 2018 at 7:38 PM Maximilian Maksutovic \nnotifications@github.com wrote:\n\nhi @rob-k https://github.com/rob-k I am having exactly the same\nissue. Was building/running my experiments with AudioKit with no issues\nwhatsoever, and as soon as I wanted to use some of the UI components, I'm\nhaving the issue with non-modular headers.\nFor me the issue is with EZPlot.h line 27: #import\n\"AudioKit/EZAudioUtilities.h\"\nI attempted the usual (now old) fixes like\npost_install do |installer|\n    installer.pods_project.build_configuration_list.build_configurations.each do |configuration|\n        configuration.build_settings['CLANG_ALLOW_NON_MODULAR_INCLUDES_IN_FRAMEWORK_MODULES'] = 'YES'\n    end\nend\nbut to no avail.\nMy only concern is I am working on a project which has both Swift and\nObjective-C code, I was unsure if AudioKit did not support such an\nenviorment.\nIs there a possible hotfix to moving the header to the .m file or is this\non our end? Thanks so much\n\u2014\nYou are receiving this because you are subscribed to this thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/AudioKit/AudioKit/issues/1454#issuecomment-410416807,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AFunMP0OrAQApEKL6o8fQKgX2Wc9ySuxks5uNQkRgaJpZM4VjdgH\n.\n. \n",
    "ryangrimm": "I've been having this problem as well:\nInclude of non-modular header inside framework module 'AudioKitUI.EZPlot': '\u2026/Pods/Headers/Public/AudioKit/AudioKit/EZAudioUtilities.h'.\nCould not build Objective-C module 'AudioKitUI'\nHowever, I did find that downloading the AudioKit framework and adding it to my project manually instead of using CocoaPods did the trick! It's not ideal, but it keeps me moving until we figure out what's truly going on.\nSo that makes me feel like it's a strange interaction with CocoaPods.. I may be wrong, but I suspect that all of us in this thread that are having problems are using Objective-C in our app. Given the errors that I'm seeing, that seems to be central to the problem and why it doesn't show up in the MicrophoneAnalysis project for example (plus, the MicrophoneAnalysis project doesn't use a Podfile, it includes the framework directly). If I can find a few minutes I might take the MicrophoneAnalysis code, switch it over to using a Podfile and if it still works that way I'll include some Objective-C and see if that teases out the problem.. Okay, my assumption about a project needing to have some portions written in Objective-C was incorrect. I created a new Swift project, copied the MicrophoneAnalysis files into it, added a Podfile, tried to build and am having the exact same two errors show up that I'm having in my own project.\nThe quick sample app I whipped up to show the problem can be found here: \nhttps://github.com/ryangrimm/MicrophoneAnalysis\nHopefully this simple test case will help the team figure out a solution.. @aure I have a sample Swift project that reproduces the issue here: https://github.com/ryangrimm/MicrophoneAnalysis\nI did a pod update to grab the 4.5.1 version, opened the workspace in Xcode 10 and the problem remains.\nI don't have access to reopen the issue myself, let me know if you'd like me to file a new one.. My Podfile.lock reports 4.5.1. I did a pod install just for safe measure. Cleaned (again). Build still fails:\n```\n/Users/test/MicrophoneAnalysis/Pods/AudioKit/iOS/AudioKitUI.framework/Headers/EZPlot.h:27:9: \n    error: include of non-modular header inside framework module 'AudioKitUI.EZPlot': \n    '/Users/test/MicrophoneAnalysis/Pods/Headers/Public/AudioKit/AudioKit/EZAudioUtilities.h'\nimport \"AudioKit/EZAudioUtilities.h\"\n```. @aure What version of Xcode are you running? Perhaps that could explain the differences.. ",
    "iwuvjhdva": "Have the same issue with EZPlot and AudioKit 4.5.3 after upgrading to Mojave.\n\n. Thanks markjeschke! I am on macOS, not on iOS, and AVAudioSession is not present for that platform, although adding NSMicrophoneUsageDescription to the Info.plist file did the trick!\n--\n. ",
    "tdubik": "I have the same issue after upgrade to XCode 10.1. I tried clean-up of project and pods but compilation still fails with this error. Do you have any ideas how can I solve it ? . btw. I have no idea why XCode made changes to some AKMIDIFile files. Files are still in the project tree. . @aure To solve Pods/AudioKit/iOS/AudioKitUI.framework/Headers/EZPlot.h:27:9: Include of non-modular header inside framework module 'AudioKitUI.EZPlot': 'Pods/Headers/Public/AudioKit/AudioKit/EZAudioUtilities.h'\n. @aure  I think that XCode run the cleanup when I updated project file. I'm using XCode 10.1. I quickly checked develop branch and it looks like MIDIFile group was twice in the project xml. \n```\nC4F4D27D21EABA970099CBDF / MIDIFile / = {\n                        isa = PBXGroup;\n                        children = (\n                                C4F4D27E21EABA970099CBDF / AKMIDIFileChunk.swift /,\n                                C4F4D27F21EABA970099CBDF / AKMIDIFileChunkEvent.swift /,\n                                C4F4D28021EABA970099CBDF / AKMIDIFileHeaderChunk.swift /,\n                                C4F4D28121EABA970099CBDF / AKMIDIFileTrackChunk.swift /,\n                                C4F4D28221EABA970099CBDF / AKMIDIFile.swift /,\n                        );\n                        path = MIDIFile;\n                        sourceTree = \"\";\n                };\n            FE081EEC21E94B3B00653575 /* MIDIFile */ = {\n                    isa = PBXGroup;\n                    children = (\n                            FE081EF121E94B3B00653575 /* AKMIDIFile.swift */,\n                            FE081EED21E94B3B00653575 /* AKMIDIFileChunk.swift */,\n                            FE081EEE21E94B3B00653575 /* AKMIDIFileChunkEvent.swift */,\n                            FE081EEF21E94B3B00653575 /* AKMIDIFileHeaderChunk.swift */,\n                            FE081EF021E94B3B00653575 /* AKMIDIFileTrackChunk.swift */,\n                    );\n                    path = MIDIFile;\n                    sourceTree = \"<group>\";\n            };\n\n```\nMIDIFiles are still in the project file and they are added to the AudioKit target. I would appreciate if you could double check it or provide this simple tick on EZAudioUtilities.h to add it to AudioKitUI lib with public access. (and keep this pull request closed)\nI have a feeling that #1454 do not appear always as it may be some race condition during compilation time as this file is included to AudioKit core lib.. ",
    "JuanPabloBoero": "@aure Thanks! that will help indeed, i was using a workaround that is having a dict to keep track of the files added.. ",
    "trlniagto": "Seems like I found a problem of such behaviour. It is on my side. Thanks. ",
    "mlostekk": "Unfortunately i cannot reproduce it with a fresh setup project, digging into legacy code now.... ",
    "extnous": "Hi, did you solve the problem? \nSimilar crash sometimes occurs when you try play() for AKPlayer (Fatal Exception: com.apple.coreaudio.avfaudio player started when engine not running). This bug is repeated when trying to create a second AKMicrophone() for a period of time. AudioKit.engine.inputNode.inputFormat(forBus: 0).sampleRate changes from 48000 to 44100 after stopping the first AKMicrophone. AKMicrophone() crash in iOS 11.4 \n0. Crashed: com.apple.main-thread\n0  0x102fbe94c specialized AKMicrophone.getFormatForDevice() (AKMicrophone.swift:93)\n1   0x102fbdcb8 AKMicrophone.init() ()\n2  0x102fbe068 @objc AKMicrophone.init() (). ",
    "eupston": "Awesome thanks Aure!! Would definitely be a game changer for me, because spectrograms are so useful in Machine Learning and audio classification. The only open source implementation i've seen so far is Auriotouch which seems very bloated and complex. Definitely appreciate your help, and thanks for all you've done so far with AudioKit, its amazing!. ",
    "omatheus015": "@aure, Thanks for replying in StackOverflow, but what do you suggest we do? This feature is essential in our project. . > @aure, Thanks for replying in StackOverflow, but what do you suggest we do? This feature is essential in our project.\n??. ",
    "jhhl": "Do you have a schedule for a Cocoapod update for iOS12, which was officially released earlier this week?. It took some convincing, but I found it and installed it!\nI'm getting a weird error, but that's for another issue. \n. ",
    "atacand1920": "Any updates for 4.4.0 framework, i am unable to pursue my work unless you guys finish the 4.4.0 framework, i didn't used pods. . It worked perfectly, and if you guys want to build the framework from the develop branch , just use the script \"build_frameworks.sh\" inside Frameworks directory and thank you @yoiang  . yes on my main project , i have this error too , still wondering how to solve it \"IsFormatSampleRateAndChannelCountValid(hwFormat)\" , everything was working great with xcode9 and AudioKit 4.2. update : i found that the problem is coming from AudioKit.output so i am assuming that the SIGABRT occurs somehow when connecting the  nodes to the the output of AudioKit.\nI also tried the short way debugging by passing the AKmicrphone directly to the output but same crash  : \n`\n     AKSettings.audioInputEnabled = true\n     mic =  AKMicrophone()\n    AudioKit.output = mic\n    do {\n        try AudioKit.start()\n\n\n    }catch(let error){\n        print(\"AudioKit:\",error.localizedDescription)\n    }`\n\ndebbuger : \n` 2018-09-22 02:06:33.496112+0100 SINGTN[54588:1444863] [avae] \nAVAEInternal.h:70:_AVAE_Check: required condition is false: [AVAudioEngine.mm:686:ConnectMultipleOutputs: ([_nodes containsObject: connPoint.node])]\n2018-09-22 02:06:33.517225+0100 SINGTN[54588:1444863]  Terminating app due to uncaught exception 'com.apple.coreaudio.avfaudio', reason: 'required condition is false: [_nodes containsObject: connPoint.node]'\n First throw call stack:\n(\n    0   CoreFoundation                      0x000000011176929b exceptionPreprocess + 331\n    1   libobjc.A.dylib                     0x000000010f8a2735 objc_exception_throw + 48\n    2   CoreFoundation                      0x0000000111769022 +[NSException raise:format:arguments:] + 98\n    3   AVFAudio                            0x000000011519a89c _Z19AVAE_RaiseExceptionP8NSStringz + 156\n    4   AVFAudio                            0x00000001151d795b _Z11_AVAE_CheckPKciS0_S0_b + 323\n    5   AVFAudio                            0x000000011521c31e _ZN17AVAudioEngineImpl22ConnectMultipleOutputsEP11AVAudioNodeP7NSArraymP13AVAudioFormat + 540\n    6   AVFAudio                            0x000000011521c0ba -[AVAudioEngine connect:toConnectionPoints:fromBus:format:] + 94\n    7   SINGTN                              0x000000010e43c139 $S8AudioKitAAC7connect_2to7fromBus6formatySo11AVAudioNodeC_SaySo0H15ConnectionPointCGSiSo0H6FormatCSgtFZTf4nnnnd_n + 1945\n    8   SINGTN                              0x000000010e40b9a8 $S8AudioKit8AKOutputPAAE7connect2to3busAA7AKInput_pAaG_p_SitFAA18AKPeriodicFunctionC_Tg5Tf4nnn_g + 616\n    9   SINGTN                              0x000000010e40ca79 $S8AudioKit8AKOutputPAAE7connect2to3busAA7AKInput_pAaG_p_SitFAA6AKNodeC_Tg5Tf4nnn_g + 9\n    10  SINGTN                              0x000000010e3e75f5 $S8AudioKitAAC6outputAA6AKNodeCSgvWZTf4dd_n + 1653\n    11  SINGTN                              0x000000010e3e6552 $S8AudioKitAAC6outputAA6AKNodeCSgvsZ + 66\n    12  SINGTN                              0x000000010e2c582b $S6SINGTN11AppDelegateC11application_29didFinishLaunchingWithOptionsSbSo13UIApplicationC_SDySo0j6LaunchI3KeyaypGSgtF + 411\n    13  SINGTN                              0x000000010e2c6484 $S6SINGTN11AppDelegateC11application_29didFinishLaunchingWithOptionsSbSo13UIApplicationC_SDySo0j6LaunchI3KeyaypGSgtFTo + 228\n    14  UIKitCore                           0x000000012089c4d7 -[UIApplication _handleDelegateCallbacksWithOptions:isSuspended:restoreState:] + 280\n    15  UIKitCore                           0x000000012089dec4 -[UIApplication _callInitializationDelegatesForMainScene:transitionContext:] + 3979\n    16  UIKitCore                           0x00000001208a3527 -[UIApplication _runWithMainScene:transitionContext:completion:] + 1623\n    17  UIKitCore                           0x0000000121145e3e __111-[__UICanvasLifecycleMonitor_Compatability _scheduleFirstCommitForScene:transition:firstActivation:completion:]_block_invoke + 866\n    18  UIKitCore                           0x0000000121142403 +[_UICanvas _enqueuePostSettingUpdateTransactionBlock:] + 153\n    19  UIKitCore                           0x0000000121145a7b -[__UICanvasLifecycleMonitor_Compatability _scheduleFirstCommitForScene:transition:firstActivation:completion:] + 233\n    20  UIKitCore                           0x0000000121146435 -[__UICanvasLifecycleMonitor_Compatability activateEventsOnly:withContext:completion:] + 1085\n    21  UIKitCore                           0x0000000121103b31 __82-[_UIApplicationCanvas _transitionLifecycleStateWithTransitionContext:completion:]_block_invoke + 795\n    22  UIKitCore                           0x00000001211037db -[_UIApplicationCanvas _transitionLifecycleStateWithTransitionContext:completion:] + 435\n    23  UIKitCore                           0x000000012114892c __125-[_UICanvasLifecycleSettingsDiffAction performActionsForCanvas:withUpdatedScene:settingsDiff:fromSettings:transitionContext:]_block_invoke + 584\n    24  UIKitCore                           0x0000000121149256 _performActionsWithDelayForTransitionContext + 100\n    25  UIKitCore                           0x000000012114868b -[_UICanvasLifecycleSettingsDiffAction performActionsForCanvas:withUpdatedScene:settingsDiff:fromSettings:transitionContext:] + 221\n    26  UIKitCore                           0x0000000121141aa1 -[_UICanvas scene:didUpdateWithDiff:transitionContext:completion:] + 392\n    27  UIKitCore                           0x00000001208a1d46 -[UIApplication workspace:didCreateScene:withTransitionContext:completion:] + 515\n    28  UIKitCore                           0x00000001208d3856 -[UIApplicationSceneClientAgent scene:didInitializeWithEvent:completion:] + 357\n    29  FrontBoardServices                  0x000000011bbf5dda -[FBSSceneImpl _didCreateWithTransitionContext:completion:] + 448\n    30  FrontBoardServices                  0x000000011bc00f43 __56-[FBSWorkspace client:handleCreateScene:withCompletion:]_block_invoke_2 + 271\n    31  FrontBoardServices                  0x000000011bc0063a __40-[FBSWorkspace _performDelegateCallOut:]_block_invoke + 53\n    32  libdispatch.dylib                   0x0000000114d7b63e _dispatch_client_callout + 8\n    33  libdispatch.dylib                   0x0000000114d7ebb4 _dispatch_block_invoke_direct + 301\n    34  FrontBoardServices                  0x000000011bc353c8 __FBSSERIALQUEUE_IS_CALLING_OUT_TO_A_BLOCK + 30\n    35  FrontBoardServices                  0x000000011bc35080 -[FBSSerialQueue _performNext] + 457\n    36  FrontBoardServices                  0x000000011bc35660 -[FBSSerialQueue _performNextFromRunLoopSource] + 45\n    37  CoreFoundation                      0x00000001116ccb31 CFRUNLOOP_IS_CALLING_OUT_TO_A_SOURCE0_PERFORM_FUNCTION + 17\n    38  CoreFoundation                      0x00000001116cc3a3 __CFRunLoopDoSources0 + 243\n    39  CoreFoundation                      0x00000001116c6a4f __CFRunLoopRun + 1263\n    40  CoreFoundation                      0x00000001116c6221 CFRunLoopRunSpecific + 625\n    41  GraphicsServices                    0x0000000116b061dd GSEventRunModal + 62\n    42  UIKitCore                           0x00000001208a5115 UIApplicationMain + 140\n    43  SINGTN                              0x000000010e2c7cc7 main + 71\n    44  libdyld.dylib                       0x0000000114df1551 start + 1\n    45  ???                                 0x0000000000000001 0x0 + 1\n)\nlibc++abi.dylib: terminating with uncaught exception of type NSException\n`. @NicolasLourenco  i found a way to solve this.\nSo i downloaded the AudioKit 4.2.2 source code from here https://github.com/audiokit/AudioKit/releases and then fixed all the warnings => build the frameworks (AudioKit,AudioKitUI) then i have removed the AudioKit 4.4 pod and installed the generated frameworks manually (drag & drop then import embedded Binaries)with the old -lstdc++ and voila , everything back to work perfectly :D \nXcode10, iOS12. yes totally, it's true that i found a way with the 4.2.2 but still can't upgrade AudioKit to the lastest version and also if  i build my project on simulator (just build) , i got many build errors like 'AKVariableDelay' is unavailable: cannot find Swift declaration for this class and all the AK classes are like that , it only work when i run on a real device.\n. Yes , download the 4.2.2 source code and build it with xcode 10 then use the build frameworks script.. what version of AudioKit did you import or installed with pods? you should use AudioKit 4.4 for swift 4.2. no , first , you need to drag and drop AudioKit directory into you main source project , not the on that contains pod, .xcworkspace or .xcodeproj and from there , drag & drop AudioKit.framework into the linked Frameworks and Libraries then add -lc++ .\nSo before that, you need to unlink AudioKit from your project.. my pleasure \ud83d\udc4d . ",
    "yoiang": "In the interim for those of us that don't use pods one can pull/download the latest from the develop branch, add it to one's project manually and link that way.. ",
    "JPonczek": "I resolved the problem by using AKMixer to add more than one output. However, I did find another unrelated bug. It seems as though the AKTracker frequencies are way off when I tested on my iPhone Xs. The levels are around 4000 and up.. ",
    "curzel-it": "Hi @aure , I am getting the same error as above. Here is a minified version of the project with screenshot and console log.\nhttps://we.tl/t-FCoHEmjQvs\nTested, and crash happens with Xcode 10 and 10.1, iOS 12.0 and 12.1.\nAlso tried installing latest version via Cocoapods, and by linking the framework (4.5.1 and 4.5.0) from the releases page.\nThanks in advance.. ",
    "fredz999": "OK... atacand1920 and robotize, thanks so much for the quick reply! So I tried again, and this time I used 4.4 like what atacand said, (zip from AudioKit.io, the IOS one), \n\nunzipped the AudioKit-iOS folder into the project folder which also contains base.Iproj\n\nimported the two .framework files within that folder into an Xcode project\n\n\nput -lc++ into 'other linker flags' in build settings then tried to run the app (without any calls to the imported AudioKit)\nbut got an error that seemed to be concerned with the library:\n\nAny idea what I have missed here?\n. thanks guys. ...it was trying (I think) to render a keyboard in a playground view, It actually plays the sound fine, basically I need to go through this a few times to make sure I understand what's happening properly, but thanks for both your responses, appreciate that . ",
    "gertjanjansen": "Where can I find the installations instructions for 4.4? I'm trying to upgrade from 4.0 tot 4.4 but I haven't been able to do so. Both with CocoaPods and manually. Can 4.4 be installed with CocoaPods at all?\nNever mind; found them: https://github.com/audiokit/AudioKit/blob/master/Frameworks/README.md\n. I followed the instructions, but I'm still running into trouble. I'm new to the world of Swift and Xcode. \nI don't want to use AudioKitUI, so adding AudioKit.framework to Linked Frameworks and Libraries and adding -lc++ to linker flags should do it, right? Xcode (10) did not ask me to 'Copy if Needed'.\nThe only way I've been able to get this working was by the folder that contains AudioKit.framework to Framework Search Paths (but that's a folder outside my Xcode project). Is this the recommended way to do it?. Thanks a lot!. ",
    "francdn": "I am having a similar problem. On device the frequency is not being detected properly (it goes up and down) and on the simulator I get a crash when I initialize the microphone (AKMicrophone).\nThis is the error returned by the crash:\n'com.apple.coreaudio.avfaudio', reason: 'required condition is false: format.sampleRate == hwFormat.sampleRate'\nI am using pretty much the same code you posted but in objective c. It was working fine with the previous versions of Audiokit and Xcode 9.X.\nI am also having the warning you mentioned for \"AudioKit classes being implemented in two places\".. A part from that it seems that AKFrequencyTracker is returning values of between 20000 Hz and 46000 HZ in most of the readings. I am having the same result with an iphone and ipad and different IOS versions.. Btw, the example MicrophoneAnalysis is also crashing in the simulator and device. And the warning \"AudioKit classes being implemented in two places\" is also there.\n2018-09-26 14:15:11.443412-0400 MicrophoneAnalysis[6046:537331] libMobileGestalt MobileGestalt.c:890: MGIsDeviceOneOfType is not supported on this platform.\n2018-09-26 14:15:11.939325-0400 MicrophoneAnalysis[6046:537331] [avae] AVAEInternal.h:70:_AVAE_Check: required condition is false: [AVAudioEngine.mm:686:ConnectMultipleOutputs: ([_nodes containsObject: connPoint.node])]\n2018-09-26 14:15:11.951759-0400 MicrophoneAnalysis[6046:537331]  Terminating app due to uncaught exception 'com.apple.coreaudio.avfaudio', reason: 'required condition is false: [_nodes containsObject: connPoint.node]'\n First throw call stack:\n(\n    0   CoreFoundation                      0x0000000103cab29b exceptionPreprocess + 331\n    1   libobjc.A.dylib                     0x00000001026a6735 objc_exception_throw + 48\n    2   CoreFoundation                      0x0000000103cab022 +[NSException raise:format:arguments:] + 98\n    3   AVFAudio                            0x000000010783c89c _Z19AVAE_RaiseExceptionP8NSStringz + 156\n    4   AVFAudio                            0x000000010787995b _Z11_AVAE_CheckPKciS0_S0_b + 323\n    5   AVFAudio                            0x00000001078be31e _ZN17AVAudioEngineImpl22ConnectMultipleOutputsEP11AVAudioNodeP7NSArraymP13AVAudioFormat + 540\n    6   AVFAudio                            0x00000001078be0ba -[AVAudioEngine connect:toConnectionPoints:fromBus:format:] + 94\n    7   MicrophoneAnalysis                  0x0000000100fdfcd9 $S8AudioKitAAC7connect_2to7fromBus6formatySo11AVAudioNodeC_SaySo0H15ConnectionPointCGSiSo0H6FormatCSgtFZTf4nnnnd_n + 1945\n    8   MicrophoneAnalysis                  0x0000000100faf528 $S8AudioKit8AKOutputPAAE7connect2to3busAA7AKInput_pAaG_p_SitFAA18AKPeriodicFunctionC_Tg5Tf4nnn_g + 616\n    9   MicrophoneAnalysis                  0x0000000100fb05f9 $S8AudioKit8AKOutputPAAE7connect2to3busAA7AKInput_pAaG_p_SitFAA6AKNodeC_Tg5Tf4nnn_g + 9\n    10  MicrophoneAnalysis                  0x0000000100f8b135 $S8AudioKitAAC6outputAA6AKNodeCSgvWZTf4dd_n + 1653\n    11  MicrophoneAnalysis                  0x0000000100f8a092 $S8AudioKitAAC6outputAA6AKNodeCSgvsZ + 66\n    12  MicrophoneAnalysis                  0x0000000100f59ad6 $S18MicrophoneAnalysis14ViewControllerC13viewDidAppearyySbF + 342\n    13  MicrophoneAnalysis                  0x0000000100f59f53 $S18MicrophoneAnalysis14ViewControllerC13viewDidAppearyySbFTo + 51\n    14  UIKitCore                           0x000000010e3707e4 -[UIViewController _setViewAppearState:isAnimating:] + 947\n    15  UIKitCore                           0x000000010e37351d __64-[UIViewController viewDidMoveToWindow:shouldAppearOrDisappear:]_block_invoke + 42\n    16  UIKitCore                           0x000000010e371882 -[UIViewController _executeAfterAppearanceBlock] + 78\n    17  UIKitCore                           0x000000010dc47aba _runAfterCACommitDeferredBlocks + 634\n    18  UIKitCore                           0x000000010dc36424 _cleanUpAfterCAFlushAndRunDeferredBlocks + 384\n    19  UIKitCore                           0x000000010dc56d5a __34-[UIApplication _firstCommitBlock]_block_invoke_2 + 153\n    20  CoreFoundation                      0x0000000103c0ea3c __CFRUNLOOP_IS_CALLING_OUT_TO_A_BLOCK + 12\n    21  CoreFoundation                      0x0000000103c0e1f0 __CFRunLoopDoBlocks + 336\n    22  CoreFoundation                      0x0000000103c08a64 __CFRunLoopRun + 1284\n    23  CoreFoundation                      0x0000000103c08221 CFRunLoopRunSpecific + 625\n    24  GraphicsServices                    0x0000000108ffd1dd GSEventRunModal + 62\n    25  UIKitCore                           0x000000010dc3c115 UIApplicationMain + 140\n    26  MicrophoneAnalysis                  0x0000000100f5d634 main + 68\n    27  libdyld.dylib                       0x0000000105079551 start + 1\n)\nlibc++abi.dylib: terminating with uncaught exception of type NSException. > This will be resolved AudioKit 4.4.1\nI am not sure if you were referring to 4.5.1 instead of 4.4.1 but 4.5.0 still has the same issues I mentioned before except for the \"duplicate class\" message.. > @francdn\n\nA part from that it seems that AKFrequencyTracker is returning values of \nbetween 20000 Hz and 46000 HZ in most of the readings. I am having the\nsame result with an iphone and ipad and different IOS versions.\nDid you work around this issue? I'm having the same problem with physical devices.\n\nNope. I am waiting until the new version is released with all this fixed.. Same issue here when using it on Objective-C. I think this problem has been already there since version 4.4. This issue was reported  back then. https://github.com/AudioKit/AudioKit/issues/1510\nIt was supposed to be fixed, maybe it was not? I have been trying to avoid updating the framework version on my app but since March 1st I believe you have to target IOS 10 as a minimum so I am forced to upgrade Audiokit on my app.\nAlso, the MicrophoneAnalysis example crashes on the simulator still/again.\nAlso, when using the framework from objective c now and trying to do:\nAudioKit.output = silence;\nI get: Property 'output' not found on object of type 'AudioKit'\nAny help on this would be appreciated.. I was able to make it work (on device) by changing the hop size and peak count in a previous version (4.5.2) to default values. \nBut with the latest versions I get the error I mentioned before:\nAudioKit.output = silence; -> Property 'output' not found on object of type 'AudioKit'. ",
    "lucaji": "I am trying with the develop branch and got the same problems: frequency discrepancy from the AKTracker and a crash on the simulator when initialising the microphone as below quote from @francdn \n\nI am having a similar problem. On device the frequency is not being detected properly (it goes up and down) and on the simulator I get a crash when I initialize the microphone (AKMicrophone).\nThis is the error returned by the crash:\n'com.apple.coreaudio.avfaudio', reason: 'required condition is false: format.sampleRate == hwFormat.sampleRate'\n\nI edited AKMicrophone.swift and changed the initialisation frequencies from 48KHZ to 44.1\n        {\n        desiredFS = 44100.0\n        AKSettings.sampleRate = 44100.0\n    }\n\nand now it runs on the simulator without crashing and apparently the frequency is correct.\nStill having troubles with a real device though.\n. ",
    "andorfermichael": "I also got the message of duplicate implementation. Furthermore, my app is crashing.. From my point of view, this issue still exists, while the issue was fixed for the simulators I still get the error on real hardware devices which in my case is the iPhone X.. @aure well, you are right, cleaning out the derived data solved it, thank you.. ",
    "amcinnis": "Issue has been fixed for me. Thank you all for your hard work!. ",
    "rzil": "Where do I get AudioKit 4.4.1? I didn\u2019t realise it was out yet.\n\nOn 27 Sep 2018, at 3:19 pm, Aurelius Prochazka notifications@github.com wrote:\nThis appears to work for me with AudioKit 4.4.1 or from the develop branch, so I will close this for now.\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub https://github.com/AudioKit/AudioKit/issues/1513#issuecomment-424984984, or mute the thread https://github.com/notifications/unsubscribe-auth/AA_Ly5ujIH3jHKRsLFeKVdCFv7B316pvks5ufHv3gaJpZM4W6j3T.\n\n\n. I built the frameworks from the develop branch. Dropped it into the Recorder sample code. Crash on launch with following error\ndyld: Library not loaded: @rpath/AudioKitUI.framework/AudioKitUI\n  Referenced from: /var/containers/Bundle/Application/C6482D91-94D7-45E9-B600-325934DDC5E6/Recorder.app/Recorder\n  Reason: no suitable image found.  Did find:\n    /private/var/containers/Bundle/Application/C6482D91-94D7-45E9-B600-325934DDC5E6/Recorder.app/Frameworks/AudioKitUI.framework/AudioKitUI: no matching architecture in universal wrapper\n\nOn 27 Sep 2018, at 3:24 pm, Aurelius Prochazka notifications@github.com wrote:\nIt will probably be out tomorrow. You could build from the source on the develop branch.\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub, or mute the thread.\n\n\n. ",
    "notahat": "Seeing the same thing here. Xcode Version 10.0 (10A255), OS X 10.14.\nTrying to run the \"Introduction and Hello World\" page gives:\nerror: Couldn't lookup symbols:\n  type metadata accessor for AudioKit.AKOscillator\n  static AudioKit.AudioKit.output.setter : Swift.Optional<AudioKit.AKNode>\n  static AudioKit.AudioKit.start() throws -> ()\n  type metadata accessor for AudioKit.AudioKit\n  AudioKit.AKOscillator.__allocating_init() -> AudioKit.AKOscillator\nAdding import AudioKitUI fixes it for me too.. ",
    "MWAudioAI": "Same error: No such module 'AudioKitUI' on everything in AudioKit. Tried develop, cleaning rebuilding etc. with no difference. Is this an Xcode 10 issue?. ",
    "irae": "@funct7 @MWAudioAI For Playgrounds in [repo]/Playgrounds/ you need to use the terminal to build the frameworks first.\nSee Building universal frameworks from scratch. Thanks for the fast reply! Good to know things should be fixed.\nI'll do the following: I'll test a version of the example with AudioKit.start() and also try my own implementation. If everything works out fine, I'll make a PR to change the example and remove comments.. Well, as I went through and played with each playground, I found more examples that didn't quite work. Unfortunately, the playback playground cannot be easily fixed. So maybe this should actually be an issue.\nhttps://github.com/AudioKit/AudioKit/blob/50d75151417fd5a3c008d6876456c11ab3f078f2/Playgrounds/AudioKitPlaygrounds/Playgrounds/Playback.playground/Pages/Audio%20Player.xcplaygroundpage/Contents.swift#L11\nI was reading the documentation and realized both classes are not feature compatible. So I am now trying to figure out if this can be fixed in another way, or if we have a bug with current version of AKPlayer.. Sure, I'll try to do it.\nThe reason I tried to stay on master is because I am still relearning Swift (used to program in Swift 1 when it was released and never again) and also learning AudioKit.\nRunning the stable release feels better. When something is wrong I can almost 100% believe it is on me and not a delelopment branch bug. \ud83d\ude04 . ",
    "fuad-adetoro": "In the past when creating beats I used an OscillatorBank, AKMusicTrack, AKSequencer and the AKKeyboardDelegate to record and playback beats. I would like to do something similar with the AKSampler.. It's great to know that it's possible. Can you explain to me where I went wrong with my code?\n    let path = \"recordedAudio.caf\"\n    let url = FileManager.default.urls(for: .documentDirectory, in: .userDomainMask).first!.appendingPathComponent(path)\n    let format = AVAudioFormat(commonFormat: .pcmFormatFloat64, sampleRate: 44100, channels: 0, interleaved: true)!\n\n    do {\n        let audioFile = try AVAudioFile(forWriting: url, settings: format.settings, commonFormat: .pcmFormatFloat64, interleaved: true)\n\n        try AudioKit.renderToFile(audioFile, duration: 4.0, prerender: {\n            self.sequencer.play()\n        })\n    } catch {\n        AKLog(\"Error when converting\")\n    }\n\nI also playing around with the AKMIDISampler, playing the notes inside of the prerender closure but it doesn't work well. @aure . @aure Also I did end up opening a question on stackOverflow. If you would like to answer it I would appreciate it greatly.\nhttps://stackoverflow.com/questions/52778524/audiokits-rendertofile-not-working-correctly. I'm using AKMIDISampler with a soundfont file and I just wanted to know what my boundaries are.. @bradhowes Thank you for that, extremely helpful. . Hi Aure, That's fine, thankx.. Hey Aure, I just wanted to know if you've been able to look into this. It's not too urgent but I'd very much like to fix the issue on my app, Thanks :). . @aure Any update on this?. ",
    "jumbopilot": "Dear Aurelius, delighted to hear from you.\nI'm not quite sure whether this is only an implementation issue.\nI'd like to achieve a variable period trigger for amplitude of the morphingoscillator. I understand that the AKParameters are re-evaluated at each AKOperation cycle. I could use a separate AKParameter or re-use the available Synth.frequency (of type AKOperation.parameters) as the trigger shall be dependent of the requested frequency in:\ntrigger: AKOperation.periodicTrigger(period: periodTrigg)\nAs you say it should work.\nI may have been misleading in my 1st request: the AKParameter for trigger seems to be instantiated first (or may be not even when using the initialiser let periodTrigg: AKParameter = 880 / Synth.frequency) and then not updated using the above line of code (leaving the periodTrigg constant).\nPS: \nstruct Synth {\n    ...\nstatic var frequency: AKOperation {\n        return AKOperation.parameters[SynthParameter.frequency.rawValue]\n    }\n...\n}\nI'm able to programmatically let Synth.frequency vary in a range from 0 to 3k Hz, which is fine (AK audio sweep output according requested frequency). However, the dependency of the period trigger to the same Synth.frequency is not working.\n. I've found out that \n```\n            let periodTrigg: AKParameter = 1 / Synth.frequency.dividedBy(880.0) // is not working\n            let periodTrigg: AKParameter = Synth.frequency.dividedBy(880.0) // is working\n```. The AKParameter operations like plus(), minus(), dividedBy() work fine. Original swift operators like '/' or '*' don't seem to be supported on application level, eventhough no warning is thrown.\nI'm missing the AKOperation inverse(x: AKParameter), which does nothing else than 1/x, where x is a AKParameter.\nThxs a bunch. Hi Aurelius, perfect. This addresses the issue. I'd be happy to have it integrated in AudioKit. Thx. Hi Aurelius, I experience a similar issue likely related to the same issue/root cause.\nI do use a\nlet oscillator = AKOperationGenerator { _ in            \n            let oscillator = AKOperation.fmOscillator(baseFrequency: Synth.frequency,\n                                                      carrierMultiplier: 2,\n                                                      modulatingMultiplier: 0.8,\n                                                      modulationIndex: 1,\n                                                      amplitude: Synth.amplitude.triggeredWithEnvelope(\n                                                        trigger: AKOperation.periodicTrigger(period: Synth.cyclic),\n                                                        attack: 0.01,\n                                                        hold: Synth.hold,\n                                                        release: 0.01))\n            return oscillator\n        }\n        return oscillator\nand the following overwritten AKSettings:\nAKSettings.playbackWhileMuted = true\n        AKSettings.useBluetooth = true\n        AKSettings.defaultToSpeaker = true\nPreconditions:\niOS Audio background mode is set, AudioKit v4.5.0, iOS12.x, Xcode 10, Swift4.2.\nNow, starting and playing the required audio is all fine. I do connect an external BT device (Audiostreaming receiver) and the output is correctly routed to the BT Audio device.\nThe application does produce discontinued oscillator output, upon request.\nOnce the BT device disconnects by itself, the audio is again correctly routed to the default speaker.\nAction: Lock the device and continue listening to the discontinued audio output. In this condition, the oscillator output is triggered very rarely (OK).\nObserved: For some not yet understood reason, the audio is cut after approx. 3-5 hours; may be because of some timeout process or re-initialisation (not programmatically, 100% reproducible).\nWhile the system under test is kept unchanged, make the BT audio streaming device again available after 7-8 hours... the audio gets switched again to the BT streaming device and the oscillator output is still running stable and audible. \nSo, the whole question is what happens after a while when audio route is kept unchanged for longer? Does iOS or AudioKit cause the timeout?\nPS: should you have any debug procedure to follow, just let me know.. ",
    "relpot": "Yes of course, sorry for the missing code, I'm newbie in reporting issue on GitHub, but I get it.\nhere is the code I use:\n```\nlet audioFile = try? AKAudioFile(readFileName: \"pianoC3.wav\")\nlet player = AKPlayer(audioFile: audioFile!)\nAudioKit.output = player\ntry? AudioKit.start()\nplayer.play()\nplayer.setPosition(0.5)\n```\nThis code crash on the last line when setPosition is called (tested with the last AudioKit version 4.5.1).\nThe error log message is: [AudioKit.AKPlayer setPosition:]: unrecognized selector sent to instance\nThe audio file pianoC3 is a standard mono 16bit/44.1Khz wav file.\nTell me if you need anything else.\nThanks!!\n. Ok cool thanks for having check this, I'm glad it's not a big bug to repair but only a swift4 syntax \"@objc\" missing prefix.\nThanks!. Aure,\nI have made home test with the last Audiokit version 4.5.2, with the AKPlayer setPosition fix, \nbut unfortunately it does not fix the issue for me, the app still crashing when using AKPlayer.setPosition.\nDid you test it ? Does it works for you ?. I have done an example project based on the HelloWorld example project from the AudioKit Releases page..\nAudioKit-iOS-4.5.2-SetPosition.zip\nI did not included the AudioKit framework file because of file size, so once you unzipped the file, you will need to add the AudioKit frameworks file at the unzip folder root.\nHope it helps!\n. I have the same problem as Irskep, don't know how to use AKMIDICallbackInstrument, an example would be perfect!. ",
    "dimagimburg": "Thank Aurelius, will do!. ",
    "carlh": "Thanks!  That worked. \nI have a couple of questions (let me know if I should ask on Stack Overflow) \nIs there any documentation about what those values are for?  It seems that the frequency that it's reporting is a bit low (or I'm expecting it to be too accurate).  For example, when I play an open A string, my KORG TM-60 and the Fender  Play tuner on my phone show that it's in tune, but tracker.frequency shows 100-101 Hz instead of 110.  Is this something I can account for with those parameters, or maybe there's another class I should be using for that kind of accuracy?. Thanks again, that was it.. ",
    "brizzly": "The version of AK, that is also mentioned in the first line of my bug report, is the latest version 4.5.1 for iOS, that release who did fix issues about Microphone.\nOur code is here :\n`@objc public func initAudioTracking() {\n        audioQueue.sync {\n            print(\"initAudioTracking\")\n            do {\n                try AVAudioSession.sharedInstance().setCategory(AVAudioSessionCategoryPlayAndRecord)\n                try AVAudioSession.sharedInstance().setActive(true)\n            masterMixer = AKMixer()\n            mixer = AKMixer()\n            mic = AKMicrophone()\n            if mic != nil && mixer != nil && masterMixer != nil {\n\n                analyser = AKFrequencyTracker(mic)\n                silence = AKBooster(analyser, gain: 0)\n                silence?.connect(to: masterMixer!)\n                //analyser?.connect(to: mixer!)\n                //mixer?.connect(to: masterMixer!)\n                AudioKit.output = masterMixer\n            } else {\n                initiated = false\n                Crashlytics.sharedInstance().setFloatValue(timeInSeconds(), forKey: \"last_failed_audio_init_time\")\n                if #available(iOS 10.0, *) {\n                    reinitTimer?.invalidate()\n                    reinitTimer = Timer.scheduledTimer(withTimeInterval: 2.0, repeats: false, block: { (timer) in\n                        self.stopAudio()\n                        self.initAudioTracking()\n                    })\n                }\n                return\n            }\n            mic?.start()\n\n            analyser?.start()\n            silence?.start()\n            //mixer?.stop()\n            masterMixer?.start()\n            try AudioKit.start()\n\n            initiated = true\n\n            if !isHeadsetPluggedin() {\n                try AVAudioSession.sharedInstance().overrideOutputAudioPort(AVAudioSessionPortOverride.speaker)\n            }\n\n            Crashlytics.sharedInstance().setFloatValue(timeInSeconds(), forKey: \"last_audio_init_time\")\n        } catch {\n            print(error.localizedDescription)\n            initiated = false\n            if #available(iOS 10.0, *) {\n                reinitTimer?.invalidate()\n                reinitTimer = Timer.scheduledTimer(withTimeInterval: 2.0, repeats: false, block: { (timer) in\n                    self.stopAudio()\n                    self.initAudioTracking()\n                })\n            }\n        }\n    }\n}`. iPhone with iOS10 & 11 & 12.\n\nMostly iOS11 &12 as my users are iOS up to date I guess.\nThank you very much. Actually any iPhone : 5,6,7,8 and X\nThanks.. Unfortunately I can't because i'm not the project owner, but if you feel pretty confident with the fix I should be able to give you positive feedbacks asap. Let me know? Thank you !. ",
    "ajay2c9": "HI,\nThank you for the reply and support. From the suggested link, I understand that by using the AKMixer we can play the multiple audio tracks into one audio. I want to save the final track(i.e AKMixer final output i.e All audios into one track) in the local storage.\nPlease give suggestions\nThank you. Have a nice day.. Hi,\n I already asked in stack over flow I didn't get any response.\nOn Thu 20 Dec, 2018, 12:26 AM Aurelius Prochazka <notifications@github.com\nwrote:\n\nHi this is a question on implementation so you should ask it on\nstackoverflow to get maximum response.\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/AudioKit/AudioKit/issues/1613#issuecomment-448705923,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AIsNQxYYkKPLGLW8lkzmA-RKI4m-be9lks5u6ovvgaJpZM4ZaELG\n.\n. This is the link. Please check once.\n\nhttps://stackoverflow.com/questions/52853880/how-to-mix-the-audio-files-and-upload-to-the-server\nOn Thu 20 Dec, 2018, 12:29 AM ajay p <ajay@stellentsoft.com wrote:\n\nHi,\n I already asked in stack over flow I didn't get any response.\nOn Thu 20 Dec, 2018, 12:26 AM Aurelius Prochazka <notifications@github.com\nwrote:\n\nHi this is a question on implementation so you should ask it on\nstackoverflow to get maximum response.\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/AudioKit/AudioKit/issues/1613#issuecomment-448705923,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AIsNQxYYkKPLGLW8lkzmA-RKI4m-be9lks5u6ovvgaJpZM4ZaELG\n.\n\n\n. \n",
    "borg": "Not tested on iOS, but in addition, which may or may not be related, using Multi-output device on OSX gives error.\nMulti-output Aggregate device \nPlayground execution terminated: An error was thrown and was not caught:\nError Domain=com.apple.coreaudio.avfaudio Code=-10875 \"(null)\" UserInfo={false condition=IsFormatSampleRateAndChannelCountValid(outputHWFormat)}\nOnly true if default system output is not manually overridden before starting AK output.. ",
    "hoopes": "@sihwapark here's an example repo that proved (for me) that the bug was fixed. please feel free to try it.. ",
    "bradhowes": "According to https://www.cs.cmu.edu/~music/cmsip/readings/davids-midi-spec.htm the MIDI note value is 0 - 127 with middle C being 60. That gives 5 octaves below, and a little more than 5 octaves above.. ",
    "vanshg": "This is through my MacBook's speakers. I tried connecting headphones as well to see if that made a difference, but no dice.. Yeah so mine was set to 48K. I just changed to 44.1K and it fixed running the sample program. But the actual project code doesn't seem to work still. I'll maybe try to diagnose that separately. \nInteresting though, I don't remember setting my format to 48K. Do you know if the new MacBooks default to that when they ship? Or do you think I probably changed it and just forgot?. Okay fixed the issue on my project now too (the new issue was related to App Sandbox, irrelevant to discussion here). I think going forward, it would be great if AudioKit would handle the different formats, because those with 2018 MacBooks will surely be using apps with AudioKit in them. Thanks for the help and quick replies!. Btw, just tried plugging in my wired headphones (Apple EarPods) and they defaulted to 48K as well.. Sounds good. \nFor anyone else who may be experiencing this issue with this version (4.5.2), I was able to fix the crash by writing AKSettings.sampleRate = AudioKit.engine.inputNode.inputFormat(forBus: 0).sampleRate before I initialized my microphone (from code found here: https://github.com/AudioKit/AudioKit/commit/a69b249338ee0d73676ca185969b23b493516d61#diff-0345b5e840a1686dfc15209bac76c73bL77). ",
    "ClassicalDude": "A quick comment that may help others: it seems like the 3rd generation of iPad Pro devices changed the default microphone sample rate. If you want AKMicrophone to initialize correctly with these devices you have to implement vanshg's suggested fix above for version 4.5.2.\nEDIT: It is not possible to set any other sample rate other than the device's default. This means that features that depend on sample rate, such as FFT analysis, will produce different result on different devices. I hope this will also be addressed as part of the microphone overhaul.. Adding my 2 cents, since this issue is bugging me also: it seems that it is related to a change in the mic hardware sample rate from 44.1K in older devices to 48K in new devices.\nWhen I try to set\ntry AVAudioSession.sharedInstance().setPreferredSampleRate(48_000)\nThe result is a working microphone in newer devices, and a crashed one in older devices. When the rate is 44_100 it is reversed.\nWith the simulator there is no issue - regardless of the sample rate set by the Audio MIDI Setup, any session sample rate I set is respected, and working, on the simulator.\nInterestingly, if both the session sample rate and the AK sample rate are set to the same value before the session is setActive, the reported sample rate will be what was set (in my case, 48K), but the actual analysis is performed according to the device's default (in my case, 44.1K). There is no crash.\nFor the time being I am querying in my code what's the actual device sample rate, and according to the result I have two datasets for analysis. I would very much like to be able to always set 48K.\nFor those looking for a workaround that seems to prevent the crash, this did it for me:\nAKSettings.sampleRate = AudioKit.engine.inputNode.inputFormat(forBus: 0).sampleRate\nPlace that line before you do anything microphone related, except declaring the mic constant.\nEDIT: I edited the post based on some more experiments I did. My conclusion is that for the time being there is no way to override the default sample rate of the device's microphone, whereas it is possible with the simulator.\n. ",
    "icarusfire": "any update on this? Still we cant set different sample rates? \n. ",
    "kevin-lxh": "Thanks for your response. I added a new class (just like AKReverb) to wrap AVAudioUnitDistortion. It's working now.. ",
    "Granfalloner": "@wahidac yes, for sure.\n@aure this change needs to be reverted.. ",
    "irskep": "I feel like I should be happy this got merged, but it's completely undocumented and it's not clear how it's actually better, since I can't figure out how to actually hook it up to AKSequencer. :-). ",
    "charneykaye": "Thanks for the quick reply @megastep . ",
    "apprithm": "@aure I think Im wrong about startup time. \nBut the isPause flag is indeed broken.. My APP is experiencing something similar, but Im not able to reproduce it personally. It's a definitely happening since I'm getting crash from about 1% of DAUs.\nHere is the AKSettings I have configured:\nlet input = AudioKit.engine.inputNode\n        let bus = 0\n        let inputFormat = input.outputFormat(forBus: bus)\n        AKSettings.sampleRate = inputFormat.sampleRate\n        AKSettings.channelCount = inputFormat.channelCount\n        AKSettings.defaultToSpeaker = true\n        AKSettings.audioInputEnabled = true\n        AKSettings.useBluetooth = true\n        AKSettings.bufferLength = .medium\n        AKSettings.enableLogging = true\nStack trace. Hope it will help the investigation:\nFatal Exception: com.apple.coreaudio.avfaudio\nrequired condition is false: format.sampleRate == hwFormat.sampleRate\nFatal Exception: com.apple.coreaudio.avfaudio\n0  CoreFoundation                 0x1ca8c3ec4 __exceptionPreprocess\n1  libobjc.A.dylib                0x1c9a94a40 objc_exception_throw\n2  CoreFoundation                 0x1ca7d9b3c +[_CFXNotificationTokenRegistration keyCallbacks]\n3  AVFAudio                       0x1d07d460c AVAE_RaiseException(NSString*, ...)\n4  AVFAudio                       0x1d07d3c2c _AVAE_Check(char const*, int, char const*, char const*, bool)\n5  AVFAudio                       0x1d0879650 AVAudioIONodeImpl::SetOutputFormat(unsigned long, AVAudioFormat*)\n6  AVFAudio                       0x1d0805958 AVAudioEngineGraph::_Connect(AVAudioNodeImplBase*, AVAudioNodeImplBase*, unsigned int, unsigned int, AVAudioFormat*)\n7  AVFAudio                       0x1d0881648 AVAudioEngineImpl::Connect(AVAudioNode*, AVAudioNode*, unsigned long, unsigned long, AVAudioFormat*)\n8  AVFAudio                       0x1d08816d0 -[AVAudioEngine connect:to:format:]\n9  Lookwide                       0x100604c44 AKMicrophone.init() (<compiler-generated>)\n10 Lookwide                       0x100604cb0 @objc AKMicrophone.init() (<compiler-generated>)\n11 Lookwide                       0x100272bf4 AudioKitManager.init() (AudioKitManager.swift:167)\n12 Lookwide                       0x1002703a8 $S8Lookwide15AudioKitManagerC06sharedD033_CB25F120035AD99142715FCFE02DB161LLACvpZfiACyXEfU_ (AudioKitManager.swift)\n13 Lookwide                       0x10027033c globalinit_33_CB25F120035AD99142715FCFE02DB161_func105 (AudioKitManager.swift:176)\n14 libdispatch.dylib              0x1ca2fd484 _dispatch_client_callout\n15 libdispatch.dylib              0x1ca29f6c8 _dispatch_once_callout\n16 libswiftCore.dylib             0x101e01e18 swift_once\n17 Lookwide                       0x1002abef4 CreateAudioViewController.viewDidLoad() (AudioKitManager.swift:174)\n18 Lookwide                       0x1002b1584 @objc CreateAudioViewController.viewDidLoad()\n19 UIKitCore                      0x1f67e3fc8 -[UIViewController loadViewIfRequired]\n20 UIKitCore                      0x1f67e43f8 -[UIViewController view]\n21 UIKitCore                      0x1f675dcf0 -[UINavigationController preferredContentSize]\n22 UIKitCore                      0x1f6712e6c -[UIPresentationController preferredContentSizeDidChangeForChildContentContainer:]\n23 UIKitCore                      0x1f670ee90 __56-[UIPresentationController runTransitionForCurrentState]_block_invoke\n24 UIKitCore                      0x1f6db713c _runAfterCACommitDeferredBlocks\n25 UIKitCore                      0x1f6da5138 _cleanUpAfterCAFlushAndRunDeferredBlocks\n26 UIKitCore                      0x1f6dd4140 _afterCACommitHandler\n27 CoreFoundation                 0x1ca8537cc __CFRUNLOOP_IS_CALLING_OUT_TO_AN_OBSERVER_CALLBACK_FUNCTION__\n28 CoreFoundation                 0x1ca84e460 __CFRunLoopDoObservers\n29 CoreFoundation                 0x1ca84ea00 __CFRunLoopRun\n30 CoreFoundation                 0x1ca84e1f0 CFRunLoopRunSpecific\n31 GraphicsServices               0x1ccac7584 GSEventRunModal\n32 UIKitCore                      0x1f6dab4c0 UIApplicationMain\n33 Lookwide                       0x1000e11ec main (AppDelegate.swift:24)\n34 libdyld.dylib                  0x1ca30dbb4 start. I managed to reproduce this issue(but I believe this is not the only way to cause this particular crash):\nSteps to reproduce:  init AKMicrophone while you're on a phone call.\nThe crash points to this line of the code in file AKMicrophone.swift \nlet format = AVAudioFormat(commonFormat: AudioKit.engine.inputNode.inputFormat(forBus: 0).commonFormat,\n                                  sampleRate: desiredFS,\n                                  interleaved: AudioKit.engine.inputNode.inputFormat(forBus: 0).isInterleaved,\n                                 channelLayout: AudioKit.engine.inputNode.inputFormat(forBus: 0).channelLayout!). @aure \nMy app is also having the same problem that causing recordings have crackling sound.\nAfter poking around for a while, I found temporary solution, hope this will help you to fix the root problem:\nvar inputFormat = AudioKit.engine.inputNode.outputFormat(forBus: 0)\n        DDLogDebug(\"wrong rate---> session rate: \\(AVAudioSession.sharedInstance().sampleRate) input rate: \\(inputFormat.sampleRate)\")\n        manager.mic = AKMicrophone()\n        inputFormat = AudioKit.engine.inputNode.outputFormat(forBus: 0)\n        AKSettings.sampleRate = inputFormat.sampleRate\n        AKSettings.channelCount = inputFormat.channelCount\n        DDLogDebug(\"correct rate--->  session rate: \\(AVAudioSession.sharedInstance().sampleRate) input rate: \\(inputFormat.sampleRate) aksettings rate:\\(AKSettings.sampleRate)\")\noutput:\n2019-01-29 18:54:50:695 session rate: 44100.0 input rate: 44100.0\n2019-01-29 18:54:50:783 session rate: 48000.0 input rate: 48000.0 aksettings rate:48000.0\nSo far, I have tested this code on iPhoneX(48K hz native), iPhone 6s plus(48K hz native), iPhone 6(44.1K hz native).\nIt looks like AudioKit isn't using correct input device sample rate before the AKMicrophone is being initialized.. ",
    "wahidac": "also seeing this, looks like the pauseTime gets nilled out immediately after getting set by stopCompletion(). I'm also noticing that after calling pause() on an AKPlayer, it starts broadcasting a currentTime of 0 because the internal player node has been stopped (and therefore reset to t=0 in the timeline). Is that expected behavior?. ",
    "cerupcat": "I'll see if I can get a chance to create a sample project since I don't have one right now. If there's a example project included with AudioKit that shows how to export, it might be easy enough to just rename the included file to include a space and use that.. ",
    "vivdub": "@mnearents I did faced similar stuff and tried your settings, did not worked.\nI then connected a microphone, it worked.\n. ",
    "duiyueliu": "I have the same question. i have  the same crash. ",
    "netizen01": "This might be fixed with my PR. Might be worth testing ...\nhttps://github.com/AudioKit/AudioKit/pull/1578. ",
    "tetrohed": "I am running Version 9.3.1, maybe the problem is that I have manually installed  macOS SDK 10.9, I need this for my other projects. How can I check if the script is using the right sdk? you can point me in the right direction, and I can see if I can fix it. ",
    "nevosegal": "@aure I looked a bit into this and it looks like endTime is only updated after you call play on the AKPlayer. If that's the intended behaviour then the only issue is that there is a  division by 0 (endTime - startTime) in currentTime. I made a PR to address that.. Looks like the travis failure is unrelated to the PR... Some sort of flaky behaviour. Found this reporting the same issue - https://github.com/Microsoft/azure-pipelines-tasks/issues/8840. ",
    "Pash237": "Thank you!\nI figured it out.\nI was starting AudioKit in background thread, which somehow works, but seems to be not supported.. ",
    "NBelfast": "There is  there is potentially dangerous code in func getFormatForDevice()  of class AKMicrophone.swift, which was committed 24 days ago. \n```\nprivate func getFormatForDevice() -> AVAudioFormat? {\n    var channelCount: UInt32 = 2\n    #if os(iOS) && !targetEnvironment(simulator)\n    channelCount = AudioKit.engine.inputNode.inputFormat(forBus: 0).channelCount\n    let currentFormat = AudioKit.engine.inputNode.inputFormat(forBus: 0)\n    let desiredFS = AudioKit.deviceSampleRate\n    return AVAudioFormat(commonFormat: currentFormat.commonFormat,\n                         sampleRate: desiredFS,\n                         interleaved: currentFormat.isInterleaved,\n                         channelLayout: currentFormat.channelLayout!)\n    #else\n    let desiredFS = AKSettings.sampleRate\nreturn AVAudioFormat(standardFormatWithSampleRate: desiredFS, channels: 2)\n#endif\nreturn AVAudioFormat(standardFormatWithSampleRate: desiredFS, channels: channelCount)\n\n}\n```\nplease look at currentFormat.channelLayout!\nIs it save to use explicit unwrapping here?\n. have had the same crash in 4.5.5 as well.  What I found that 4.5.5 works well on iPhone 5s and 6 however crashes on iPhone 8 and X. Downgrading AudioKit to 4.5.2 works in my case.. ",
    "bernikowich": "It's not fixed in 4.5.5:\n\n. @NBelfast same crash on 4.5.2.. Not sure if it's true, but according to the code we should do following:\nAKSettings.audioInputEnabled = true\ntry? AudioKit.start()\nmic = AKMicrophone(). ",
    "hartwoolery": "Anybody find any workarounds for this?  This is the last major bug with my app affecting about 3% of users.... @bernikowich thanks, for now I've tried submitting a new version that replaces the getFormatForDevice() function with one that safely sets the channelLayout parameter. Does anybody know how to duplicate this error?  I have tried numerous things in the setup of the audio engine, but haven't found a fix yet--or a way to reproduce... code below, which is called inside a viewDidLoad function of a UIViewController:\n```\nAKSettings.audioInputEnabled = true\nAKSettings.bufferLength = .medium\nAKSettings.defaultToSpeaker = true\nlet session = AVAudioSession.sharedInstance()\nAKSettings.sampleRate = session.sampleRate\nplayer = AKPlayer()\nmic = AKMicrophone() // crashes here occasionally for 4% of users\nmicMixer = AKMixer(mic)\nboostedMic = AKBooster(micMixer, gain: 5)\namplitudeTracker = AKAmplitudeTracker(boostedMic)\nmicSilencer = AKBooster(amplitudeTracker, gain: 0)\nplayerAmplitudeTracker = AKAmplitudeTracker(player)\npitchNode = AKTimePitch(playerAmplitudeTracker)\noutputMixer = AKMixer(micSilencer, pitchNode)\nAudioKit.output = outputMixer\nstartEngine()\n```\nCrash: AKMicrophone.swift - Line 93\nspecialized AKMicrophone.getFormatForDevice(). @aure uploading a version with this potential fix now -- I will let you all know results tomorrow. It looks like AKMicrophone.init() still crashes on iOS 11 devices at AKMicrophone.getFormatForDevice(), after implementing the solution proposed at #1659 .  However, I haven't gathered enough data to confirm it is only on iOS 11.. ",
    "SunilSpaceo": "getting same error on 'AKMicrophone()'. I am using xcode 10(cocoapod 4.5.5). please fix this. ",
    "davidjaystrauss": "I've downgraded to 4.5.4 until I see mention of an AKMicrophone fix. Is there an ETA on when those fixes will go live?. @aure it seems that there's still a crash in mic init() but possibly not in the same place. Fabric is showing me that it's crashing on connect to the AVAudio engine, whereas I believe the 4.5.5 crash is in getFormat correct? Either way, it seems the crash is still present although maybe not quite as volatile as in 4.5.5, with only one reported crash in the last couple weeks.. ",
    "codelance": "Not sure if this is helpful, but figured I would drop my two cents in case it's helpful to someone. \nI started getting this same crash with 4.5.4 - 4.5.6 when I added the line below in a different view controller prior to a segue into another view controller that called \nmic = AKMicrophone()\n...\nAudioKit.start()\ntry? AVAudioSession.sharedInstance().setCategory(.playback, mode: .default, options: [])\nI added the line above mainly just to allow for playback of video sound when the phone was in silent mode. \nOnce I removed that line, everything is working again, but only tested taking it out with 4.5.6. . commenting AKSettings.channelCount = inputFormat.channelCount seems to avoid the crash. seems like a weird state to me, but closing as his seems to be a coding issue.. ",
    "dloker": "I have had this issue multiple times over the past few months for my app. I'm currently using 4.5.2 and have solved it mostly with the following:\n\nMove AKMicrophone() to be the very first thing that's done. Before any AKSettings changes, before anything. For myself, it's in a singleton class that instantiates it at the start of my app after asking for Microphone permissions - before putting up the engine - anything.\nTo switch between .playback and .playAndRecord I use AKSettings.setSession and make sure to restart the engine when I switch to record mode. (This is for people who use recording only on one view and might not want the microphone up all the time - especially for the pass-through-audio on bluetooth headphones with a mic)\nImplement listeners on AVAudio route changes and set the session to the appropriate state after headphones plugged in/out\n\nYou may also have to bring the engine back up after some route changes, depending on your setup. The biggest problem I have is with crackling audio when the app is started with bluetooth headphones plugged in, followed by unplugging them when the microphone is active. This is also because my headphones are 44.1K while the microphone on the iPhone 8 is 48K. That's a separate issue I believe from what was asked.\nHope this helps.. ",
    "ghubaddole": "I've seen a spike of these crashes in my app.\nLine 93, AKMicrophone.swift (called from init()).\niphone 6 running 12.1.2. latest Audiokit release.\nThis is affecting about 8% of my users now (~600+).. I just tested with the latest build. 4.5.6.\nThe bug still exists.\nI have a very simple test. \nMake an array of 2 AKPlayers. Set the stopEnvelopeTime to 0.5 on both. \nIn a loop, trigger alternate players' stop() and play(), like this:\nswift\nforever {\n    for i in 0..1 {\n         players[i % 1].stop()   // stop the other player. should fade out in 0.5 seconds.\n         players[i].loadFile(...) // should reset any fades on this player?\n         players[i].play() // should play file at full volume\n    }  \n}\nThe expected result should be all samples should be played at full volume with a very smooth merge (due to the 0.5 second) fade. but after the first two samples have played, everything else plays at a low volume, and then at 0 volume and never really recovers.\nDo I need to do anything else to stop the fade on a new load, play()  sequence?. I'm trying this on iOS. \nI just created a fresh project with a start and stop button.\npressing start button just loads a file and calls player.play(), pressing stop button calls player.stop().\nI've set stopEnvelopeTime to 0.5\nThis setup works with latest audiokit with the fader being reset correctly. \nThanks!\ng. typo: read this as:\n// AKSettings.useBluetooth = true seems to mess up things a bit. E.g. if a new device is connected and this flag is true, it would not automatically switch!. Is there an ETA for when that is to happen?. ",
    "RandyInNashua": "The updateData() function formats the received data for display in my app so it's not important.  The app is for editing the presets of a TC Helicon Play Acoustic.  To get the sysex for a preset I send a 10 byte package and the Play Acoustic sends back one 32 byte package and five 110 byte packages.  I have attached a typical sysex from the Play Accoustic as recieved through SysEx Librarian and a text file of the sysex as received through MIDI Utility.  I send F0 00 01 38 00 70 45 00  xx F7 to the Play Acoustic. \"xx\" is replace with the preset number that I am asking for.  I am including the code for the function I use to send this MIDI to the Play Acoustic.  This works fine so probably is not related to the problem.  Not sure how you can recreate this.  Do you have a MIDI device that sends sysex?  If I send a sysex from SysEx Librarian, the data I receive in my app and in MIDI Utility is fine.\nSyx Files.zip\n. My test setup is pretty much the code you have.  I set up a test project just to send and recv sysex.  You have the send and recv code.  I have a couple of controls to select the correct USB midi port and to send the sysex and catch the return data, and a label and scroll view to display the returned data.  I'm very new to programming with swift and xcode.  I have some experience with Visual Basic, so I'm struggling.  I have everything working except for receiving this sysex data.  Updating the settings and sending them down to the Play Acoustic is working.  I did manage to get the same thing happening with CoreMIDI.  The first time I ask for data, what I get looks good, but when I ask for another preset the data is bad again.  I think it's something I am doing wrong in how I deal with the returned data.  Like I need to clear some buffer or memory, but I am kind of in over my head right now.. the .syx file was from SysEx Librarian.  The .rft file is what I got in MIDI Utility and includes text that is added by the app.. yes, my app sends sysex fine, it just does not recv sysex the same as SysEx Librarian and Monitor do from my midi device.  If I send a sysex from SysEx Librarian, my app as well as MIDI Utility receive the sysex fine.\nI am using the MIDI Utility from the Example in the Master AudioKit.\n. over the last few days I have managed to build code using CoreMIDI and another open source midi app called WebMIDIKitDemo to receive sysex from my midi device.  AudioKit and both of these are giving similar but not exactly the same results.  I have looked at the source code for SysEx Librarian and MIDI Monitor.  I don't know Objective C so I can't figure out how or even where those apps receive midi messages, but that seems like something that should be looked into since they both work.  I have another midi device that sends sysex.  I plan to give that a try today to see if it has the same issues.. so I tried 3 other midi devices with similar results.. I have managed to finally get something that works for my app but had to do it using CoreMIDI.  I think it may help with this bug as well so I figured I would share it here.  Turns out that the midi data that is captured when a midi message is received comes in a PacketList with 256 bytes of data as well as other information all presented in a tuple (I believe).  Each of these tuples can have multiple packets of valid midi bytes in various size groups.  the packtList.numPackets is the number of groups of data and the packet.length is the number of bytes of valid midi data in each group.  This code finally got me the results I was looking for:\n`\nvar sysEx = UInt8\nfunc myMIDIReadProc(pktList: UnsafePointer, readProcRefCon: UnsafeMutableRawPointer?,  srcConnRefCon: UnsafeMutableRawPointer?) -> Void \n{\nlet packetList:MIDIPacketList = pktList.pointee\nvar packet:MIDIPacket = packetList.packet\n\nfor _ in 1...packetList.numPackets { //there can be >1 group of valid data/packetList\n    let bytes = Mirror(reflecting: packet.data).children\n    var i = packet.length  //number of valid bytes in this group\n    var dumpStr = \"\"\n    for (_, attr) in bytes.enumerated() {\n        let val = (attr.value as! UInt8)\n        if val == 240 { dumpStr += \"\\n\" }\n        dumpStr += String(format:\"%02X \", val)\n        sysEx.append(val)\n        i -= 1\n        if (i <= 0) { break }\n    }//end bytes.enumerated loop\n\n    print(\"\\(dumpStr) #=\\(packet.length)\")\n    packet =  MIDIPacketNext(&packet).pointee\n}//end packetList.numPackets loop\n\n}\n`. I think we are almost there on this bug.  Don't give up yet!. I don't think I closed this, but I am still waiting for some help here.  . ",
    "intonarumori": "@eljeff if you can give me a hint about what code you use to set up your testing, I have plenty of MIDI devices to send sysex between so I could give it a shot.\nI did a sysex editor in the past and had a lot of strange behaviour parsing longer messages in Swift.\nIn the end I had to revert back to a C++  implementation for parsing that actually worked and couldn't figure out the differences.\nI also noticed strange bugs while using CoreMIDI over WIFI with the simulator (ex. dropping NRPN parameter addressing etc.)\nI will take a look at the AudioKit MIDI implementation and run some tests and report back.\n. ",
    "Lou-E": "Hi Ryan,\nIt's just any AKAudioFile recorded by the AKNodeRecorder in the above code. I've actually found a way to use AKAudioPlayer in my project so this isn't so much of an issue for me anymore, but I am fairly sure this is some kind of bug in AKPlayer at any rate so probably worth looking at!\nThanks,\nLou. ",
    "sujinnaljin": "I installed v4.5.6 and run example project 'Record' again, but in this time it crashed immediately. I got error message like this.\nAVAEInternal.h:70:_AVAE_Check: required condition is false: [AVAudioIONodeImpl.mm:911:SetOutputFormat: (format.sampleRate == hwFormat.sampleRate)]\n2019-01-11 13:51:31.644414+0900 Recorder[49747:2834358] *** Terminating app due to uncaught exception 'com.apple.coreaudio.avfaudio', reason: 'required condition is false: format.sampleRate == hwFormat.sampleRate'\nAnd I found this is similar to issue #1603 . So is this the issue to be fixed?. ",
    "techfreak01": "Thanks you for the very fast fix. That really rocks!\nI wanted to test it, but I didn't yet find the new release.\nI assume, it will be in v4.5.7, since v4.5.6 was before I reported the issue. . Ok, I tested it now with the development branch.\nIt works fine, thank you!. ",
    "KozDan": "Adding the sample zip here and have also sent an invite to you to download.  It is currently pointing to pod version 4.5.1 since as per comments I saw that there was issue with AKMicrophone which got resolved in that version. Thanks\nVoice.zip\n. Thanks look forward to testing it soon.  Maybe add a podspec to develop branch.... No @Aure has added @objc prefix to one of his swift class which is still crashing.  I believe instead of @objc prefix to Swift classes, to make it global without linking issues should try just public prefix and inherit from NSObject.  I recently created a pod in swift and saw that those fixes helped.  Here is a link which explains it better:\nhttps://medium.com/ios-os-x-development/swift-and-objective-c-interoperability-2add8e6d6887\n. right but you are using @objc prefix in addition to public.  In above article she has pointed out that its an option to use @objc or public and NOT both.  Thats my current take\nSo my suggestion is trying just public/open in your class and remove @objc from init and other places\nhttps://github.com/AudioKit/AudioKit/blob/master/AudioKit/Common/Nodes/AKNode.swift. Could try one class first and then if it works all across.  We still don't know if there are more issues in that class in importing to objective C.  But thats where it is failing in the sample I have added( _mic = [[AKMicrophone alloc] init];).  Also I did add this import to be sure of which is missing in the attached sample I think\nimport . Test case would be to init . just public for vars and methods should be suffice.  For me it worked with just public. yes author does say there are two solutions(step 6).  I did some more digging and there seem to be simpler way to handle multiple vars and functions to be marked for Objective C compatibility:\"@objcMembers\"\nhttps://useyourloaf.com/blog/objc-warnings-upgrading-to-swift-4/\nNot sure impact on Swift version < 4.0\nAlso looks like many other libraries have started migrating away from @objc\nhttps://github.com/NativeScript/ios-runtime/issues/663\nFor me I had to cleanup objc and switch to only public.  I have set it for Swift 3.0 in build setting. hi tudorached,  your example does work i.e init of AKMicrophone succeeds in viewdidload.  But for me it still is throwing exception on its init in ViewdidLoad.  I did pod deintegrate and pod install. I have attached zip here. \nVoiceWavePoc.zip\n. Daniel,  yes that worked.  I need to understand this API a bit... Thank you so much appreciate that. . @Aure,  real question is why is it an issue only in objective C.  Swift version works just fine.  . ",
    "tudorached": "I am having the same problem.\nVoice.zip throws the same error.\nI have also updated to the last version: AudioKit 4.5.6 from the staging branch.\n@KozDan Did you fix it?. Edited:\nI fixed it by initing the tracker with these values:\ntracker = [[AKFrequencyTracker alloc] init:mic hopSize:512.0 peakCount:20.0];\nHere's a demo project:\nTestMicrophoneObjC.zip\nI have removed the AudioKit library because of the size limitations. You will need to pod update it.\n. @KozDan \nFix:\nReplace:\ntracker = [[AKFrequencyTracker alloc] init:mic hopSize:10 peakCount:10];\nwith:\ntracker = [[AKFrequencyTracker alloc] init:mic hopSize:512.0 peakCount:20.0];\n. Cheers!\n@aure \nCan you please tell us what hopSize and peakCount mean and actually do? \nI have tried to find some info but didn't find any. If this question seems trivial, please know I am noob in audio.\nThank you for AudioKit!\n. @syedhali \nCan you, please, give us some info? Thanks!. Hi!\nDid you made the release?\n4.6.1 is still bugged\nThanks!. ",
    "sbuys": "We hacked a fix for the installation that needed to go live -->\nWe call AudioKit.stop() followed by AudioKit.start() in a Timer every x seconds...\nNot ideal but it works and might be helpful in understanding the problem?. ",
    "PrinceAbraham": "The issue might be that since I'm using a headset I can't playback on a different speaker. Can you confirm this behavior? Solution would be to use a bluetooth mic (only mic), right?. It's the same code as given above. I'm using a bluetooth mic, which for some reason shows up as output, I'm trying to get iput from the mic and play back through a bluetooth speaker. > I can't comment on this exact problem, but I have done it reverse - I have been able to use the phone microphone and a bluetooth speaker at the same time.\nHow did you achieve this? Currently my bluetooth speaker cuts off most of the words I say. ",
    "antiero": "Looks like it could be a duplicate of #1603 , as other Playground Examples which create AKMicrophone (ADC 2018,  Node FFT Plot) also fail with the same error.. Hi @aure - thanks for getting back to me. I've tried setting the Mic to 48kHz, 44.1kHz, 16/24-bit, it seems to make no difference to the crash I'm seeing unfortunately! Your offer to screen share would be much appreciated!. ",
    "690858187": "\nWhen recording and playback are turned on at the same time, if the headphones are plugged in at this time, the headphones will be unplugged, there will be no sound during playback and recording, but the results are all running. ? ?\ndo {\n            try AKSettings.setSession(category: .playAndRecord, with: .defaultToSpeaker)\n            try AKSettings.session.setMode(.gameChat)\n            try AKSettings.session.setActive(true, options: .notifyOthersOnDeactivation)\n        } catch {\n            print(\"Couldn't override output audio port\")\n        }\n\u662f\u53ef\u4ee5\u5b9e\u73b0\u8fb9\u5f55\u8fb9\u64ad\u7684\u6548\u679c\u7684\uff0c\u4f46\u662f\u8fd9\u79cd\u6a21\u5f0f\u4e0bAKplay\u6682\u505c\u540e\u5c31\u4e0d\u80fdresume\uff0c\u662f\u65e0\u6548\u7684. \n",
    "saqibkafeel": "@apprithm Thanks ! its work for me ! . Related to this issue AKmicrophone() is not working in ios 11 devices  !\nany solutions ?. ",
    "yberdnikov": "@aure  On my iPhone 7+, when you're creating AKMicrophone and headphones with mic are connected to the device - AVAudioSession.sharedInstance().sampleRate returns 44800 - and, because of deviceSampleRate from AudioKit class is static let - AudioKit uses everywhere deviceSampleRate as 44800. The magic is - when you're disconnecting headphones - after that AVAudioSession.sharedInstance().sampleRate returns 44100, while deviceSampleRate is still 44800 and I think that's why it crashes with exception 'required condition is false: format.sampleRate == hwFormat.sampleRate'. ",
    "GabiGVeesto": "Hi there , I'm is still getting a lot of crashes due to the issue, downgrading to 4.5.3 seems to lower the amounts but crashes still occur, what release will contain a final fix for the issue? \n\n. @VAndrJ\n I have added the following code before the AKMicrophone():\nAKSettings.audioInputEnabled = true\nAKSettings.sampleRate = AudioKit.engine.inputNode.inputFormat(forBus:\n0).sampleRate\ntry? AKSettings.setSession(category: .playAndRecord)\nit reduced the crashes count but hasn't fixed the issue completely\nOn Tue, Feb 5, 2019 at 2:39 PM VAndrJ notifications@github.com wrote:\n\n@GabiGVeesto https://github.com/GabiGVeesto it seems that you faced\nanother issue. Looks like it attempt to initialize multiple input audio\nunits. But I could be wrong. Is something still being done before the\nmicrophone is initialized?\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\nhttps://github.com/AudioKit/AudioKit/pull/1664#issuecomment-460623241,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/Aq-flpQbI81ndToZv3HZqT1q43yhftI9ks5vKXt1gaJpZM4ahFw4\n.\n. \n",
    "VAndrJ": "@GabiGVeesto it seems that you faced another issue. Looks like it attempt to initialize multiple input audio units. But I could be wrong. Is something still being done before the microphone is initialized?. > @VAndrJ I have added the following code before the AKMicrophone(): AKSettings.audioInputEnabled = true AKSettings.sampleRate = AudioKit.engine.inputNode.inputFormat(forBus: 0).sampleRate try? AKSettings.setSession(category: .playAndRecord) it reduced the crashes count but hasn't fixed the issue completely\n\n\u2026\n\nWhat was previous session category? \nIdea. Maybe on microphone init it is necessary to check inputNode audioUnit and uninitialize it if present?. ",
    "CooperCodeComposer": "Looks like we're experiencing the same crash on AKMicrophone.getFormatForDevice() on an iPhone 6 (and an iPad Pro). I see a fix was merged. May I ask is there any idea when an updated Cocoapod would be available? Thx! . @aure awesome - thank you very much!. Not sure if this is related but after upgrading to 4.6 I get a crash from AKMIDISampler whenever I start recording. \n0 closure #1 in AKMIDISampler.enableMIDI(_:name) \nSwitching back to AK 4.5.6 - will check out 4.6.1 when available. Thx! . ",
    "tomshen": "\nGo to releases: https://github.com/AudioKit/AudioKit/releases\nDownload AudioKit-macOS-4.5.6.zip\nUnzip.\nOpen SimpleAudioUnit.xcodeproj in the Examples folder. \n",
    "Wiksnet": "I was wrong about item # 1 - so only the issue with item # 1. ",
    "ChaseStas": "link. ",
    "oettam": "@maksutovic the problem was affecting subclasses of AKPolyphonicNode, so AKMIDICallbackInstrument should also be fixed. ",
    "willsmillie": "Decided to use Apple's AVRoutePickerView in the meantime which will display the stock output select.. ",
    "sparist": "Shane! You beat me to saying hello. Didn't think I'd run into anyone I knew here!. ",
    "joe-howard": "Here's the Swift interface FWIW\n```\n@objc open class AKFFTTap : NSObject, EZAudioFFTDelegate {\n/// Array of FFT data\nopen var fftData: [Double]\n\n/// Initialze the FFT calculation on a given node\n///\n/// - parameter input: Node on whose output the FFT will be computed\n///\n@objc public init(_ input: AudioKit.AKNode)\n\n/// Callback function for FFT computation\n@objc open func fft(_ fft: EZAudioFFT!, updatedWithFFTData fftData: UnsafeMutablePointer<Float>, bufferSize: vDSP_Length)\n\n```. ",
    "JonathanDLR": "Thx for the link francdn. It's OK on my device with AKSettings.sampleRate = 44100.. ",
    "timprepscius": "Oops, sorry, I read things incorrectly, don't require ios 9 support after all, so non-issue.  Thanks. ",
    "sieren": "@aure I didnt know we had tests on AK so I never ran them. I can also look into it. (And worst case force the reinitialising of sp from the init() call - which im right now not doing if theres already an instance).. Yeah, and the root cause is\n```\nif (sp == nullptr) {\n            sp_create(&sp);\n        }\n```\nas in repeated calls to init. Mhmmmm.\n. ",
    "vallasd": "I'm running High Sierra.  Xcode 10.1.  Im using the library from pod 'AudioKit/Core'.  I tried this on two different macs (an older mac and a new one) running this setup and see the same error.  I would like to test if this is a High Sierra bug (I saw some issues raised for the exception in High Sierra) but I can't currently update either of the macs I'm on.. Also, this is with a macOS project. Could you provide a link to the Microphone Analysis MacOS project?  I tried this on Mohave now and am getting a different error but this is still failing.. So I actually had already found the project here:\nhttp://github.com/audiokit/AudioKit/releases/download/v4.6/AudioKit-macOS-4.6.zip\nI was able to run Microphone Analysis fine when downloading there and everything worked.  So I just moved this folder, renamed project, copied the libraries over, and I had a good starting point for what I am trying to make.  So I am good for now.\nBefore I was attempting to use AudioKit's Cocoapod.  I basically set up a default macOS project, added the pod, opened the workspace, and started coding.  Basic player stuff was working but whenever I attempted to assign a microphone the app crashed at that line of Code.  I attempted both the Core and UI version of the Cocoapod.  I think you still have an issue with the cocoa pods, you may want to check that out.\n. ",
    "bakeddean": "Done.. ",
    "houndci-bot": "Legacy Constructor Violation: Swift constructors are preferred over legacy convenience functions. (legacy_constructor)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Legacy Constructor Violation: Swift constructors are preferred over legacy convenience functions. (legacy_constructor)\n. Line Length Violation: Line should be 100 characters or less: currently 157 characters (line_length)Legacy Constructor Violation: Swift constructors are preferred over legacy convenience functions. (legacy_constructor)\n. Line Length Violation: Line should be 100 characters or less: currently 119 characters (line_length)Legacy Constructor Violation: Swift constructors are preferred over legacy convenience functions. (legacy_constructor)\n. Line Length Violation: Line should be 100 characters or less: currently 165 characters (line_length)Legacy Constructor Violation: Swift constructors are preferred over legacy convenience functions. (legacy_constructor)\n. Line Length Violation: Line should be 100 characters or less: currently 172 characters (line_length)\n. Line Length Violation: Line should be 100 characters or less: currently 124 characters (line_length)\n. Line Length Violation: Line should be 100 characters or less: currently 126 characters (line_length)\n. Line Length Violation: Line should be 100 characters or less: currently 122 characters (line_length)\n. Line Length Violation: Line should be 100 characters or less: currently 137 characters (line_length)\n. Variable Name Violation: Variable name should only contain alphanumeric characters: 'slider_track' (variable_name)\n. Variable Name Violation: Variable name should only contain alphanumeric characters: 'slider_top' (variable_name)\n. Line Length Violation: Line should be 100 characters or less: currently 135 characters (line_length)\n. Line Length Violation: Line should be 100 characters or less: currently 125 characters (line_length)\n. Line Length Violation: Line should be 100 characters or less: currently 122 characters (line_length)Legacy Constructor Violation: Swift constructors are preferred over legacy convenience functions. (legacy_constructor)\n. Line Length Violation: Line should be 100 characters or less: currently 103 characters (line_length)Legacy Constructor Violation: Swift constructors are preferred over legacy convenience functions. (legacy_constructor)\n. Variable Name Violation: Variable name should only contain alphanumeric characters: 'knob120_indicator' (variable_name)\n. Trailing Newline Violation: Files should have a single trailing newline. (trailing_newline)\n. Valid Docs Violation: Documented declarations should be valid. (valid_docs)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace)\n. Valid Docs Violation: Documented declarations should be valid. (valid_docs)\n. Valid Docs Violation: Documented declarations should be valid. (valid_docs)\n. Line Length Violation: Line should be 100 characters or less: currently 102 characters (line_length)\n. Line Length Violation: Line should be 100 characters or less: currently 102 characters (line_length)\n. Line Length Violation: Line should be 100 characters or less: currently 102 characters (line_length)\n. Line Length Violation: Line should be 100 characters or less: currently 102 characters (line_length)\n. Line Length Violation: Line should be 100 characters or less: currently 102 characters (line_length)\n. Line Length Violation: Line should be 100 characters or less: currently 102 characters (line_length)\n. Line Length Violation: Line should be 100 characters or less: currently 102 characters (line_length)\n. Valid Docs Violation: Documented declarations should be valid. (valid_docs)\n. Valid Docs Violation: Documented declarations should be valid. (valid_docs)\n. Valid Docs Violation: Documented declarations should be valid. (valid_docs)\n. Valid Docs Violation: Documented declarations should be valid. (valid_docs)\n. Valid Docs Violation: Documented declarations should be valid. (valid_docs)\n. Valid Docs Violation: Documented declarations should be valid. (valid_docs)\n. Line Length Violation: Line should be 100 characters or less: currently 104 characters (line_length)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Line Length Violation: Line should be 100 characters or less: currently 107 characters (line_length)\n. Line Length Violation: Line should be 100 characters or less: currently 107 characters (line_length)\n. Line Length Violation: Line should be 100 characters or less: currently 216 characters (line_length)\n. Line Length Violation: Line should be 100 characters or less: currently 216 characters (line_length)\n. Line Length Violation: Line should be 100 characters or less: currently 215 characters (line_length)\n. Line Length Violation: Line should be 100 characters or less: currently 215 characters (line_length)\n. Line Length Violation: Line should be 100 characters or less: currently 145 characters (line_length)\n. Line Length Violation: Line should be 100 characters or less: currently 145 characters (line_length)\n. Line Length Violation: Line should be 100 characters or less: currently 181 characters (line_length)\n. Line Length Violation: Line should be 100 characters or less: currently 181 characters (line_length)\n. Colon Violation: Colons should be next to the identifier when specifying a type. (colon)\n. Colon Violation: Colons should be next to the identifier when specifying a type. (colon)\n. Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace)Statement Position Violation: Else and catch should be on the same line, one space after the previous declaration. (statement_position)\n. Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace)Statement Position Violation: Else and catch should be on the same line, one space after the previous declaration. (statement_position)\n. Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace)\n. Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Line Length Violation: Line should be 100 characters or less: currently 107 characters (line_length)\n. Line Length Violation: Line should be 100 characters or less: currently 216 characters (line_length)\n. Line Length Violation: Line should be 100 characters or less: currently 181 characters (line_length)\n. Colon Violation: Colons should be next to the identifier when specifying a type. (colon)\n. Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace)Statement Position Violation: Else and catch should be on the same line, one space after the previous declaration. (statement_position)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Line Length Violation: Line should be 100 characters or less: currently 109 characters (line_length)\n. Line Length Violation: Line should be 100 characters or less: currently 108 characters (line_length)\n. Force Cast Violation: Force casts should be avoided. (force_cast)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Line Length Violation: Line should be 100 characters or less: currently 146 characters (line_length)\n. Line Length Violation: Line should be 100 characters or less: currently 137 characters (line_length)\n. Line Length Violation: Line should be 100 characters or less: currently 140 characters (line_length)\n. Line Length Violation: Line should be 100 characters or less: currently 185 characters (line_length)\n. Line Length Violation: Line should be 100 characters or less: currently 158 characters (line_length)\n. Line Length Violation: Line should be 100 characters or less: currently 140 characters (line_length)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Line Length Violation: Line should be 100 characters or less: currently 162 characters (line_length)\n. Line Length Violation: Line should be 100 characters or less: currently 162 characters (line_length)\n. Line Length Violation: Line should be 100 characters or less: currently 117 characters (line_length)\n. Force Try Violation: Force tries should be avoided. (force_try)Line Length Violation: Line should be 100 characters or less: currently 137 characters (line_length)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Line Length Violation: Line should be 100 characters or less: currently 211 characters (line_length)\n. Line Length Violation: Line should be 100 characters or less: currently 211 characters (line_length)\n. Line Length Violation: Line should be 100 characters or less: currently 166 characters (line_length)\n. Line Length Violation: Line should be 100 characters or less: currently 166 characters (line_length)\n. Line Length Violation: Line should be 100 characters or less: currently 142 characters (line_length)\n. Line Length Violation: Line should be 100 characters or less: currently 142 characters (line_length)\n. Line Length Violation: Line should be 100 characters or less: currently 212 characters (line_length)\n. Line Length Violation: Line should be 100 characters or less: currently 212 characters (line_length)\n. Line Length Violation: Line should be 100 characters or less: currently 165 characters (line_length)\n. Line Length Violation: Line should be 100 characters or less: currently 165 characters (line_length)\n. Line Length Violation: Line should be 100 characters or less: currently 212 characters (line_length)\n. Line Length Violation: Line should be 100 characters or less: currently 212 characters (line_length)\n. Line Length Violation: Line should be 100 characters or less: currently 166 characters (line_length)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Line Length Violation: Line should be 100 characters or less: currently 166 characters (line_length)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Line Length Violation: Line should be 100 characters or less: currently 107 characters (line_length)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Line Length Violation: Line should be 100 characters or less: currently 107 characters (line_length)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Comma Spacing Violation: There should be no space before and one after any comma. (comma)Line Length Violation: Line should be 100 characters or less: currently 113 characters (line_length)\n. Line Length Violation: Line should be 100 characters or less: currently 116 characters (line_length)\n. Comma Spacing Violation: There should be no space before and one after any comma. (comma)Line Length Violation: Line should be 100 characters or less: currently 158 characters (line_length)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Line Length Violation: Line should be 100 characters or less: currently 104 characters (line_length)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Line Length Violation: Line should be 100 characters or less: currently 127 characters (line_length)\n. Line Length Violation: Line should be 100 characters or less: currently 139 characters (line_length)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Line Length Violation: Line should be 100 characters or less: currently 132 characters (line_length)\n. Line Length Violation: Line should be 100 characters or less: currently 120 characters (line_length)\n. Line Length Violation: Line should be 100 characters or less: currently 102 characters (line_length)\n. Line Length Violation: Line should be 100 characters or less: currently 140 characters (line_length)\n. Line Length Violation: Line should be 100 characters or less: currently 232 characters (line_length)\n. Line Length Violation: Line should be 100 characters or less: currently 131 characters (line_length)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Line Length Violation: Line should be 100 characters or less: currently 135 characters (line_length)\n. Line Length Violation: Line should be 100 characters or less: currently 106 characters (line_length)\n. Line Length Violation: Line should be 100 characters or less: currently 102 characters (line_length)\n. Colon Violation: Colons should be next to the identifier when specifying a type. (colon)\n. Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace)Colon Violation: Colons should be next to the identifier when specifying a type. (colon)\n. Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace)Returning Whitespace Violation: Return arrow and return type should be separated by a single space or on a separate line. (return_arrow_whitespace)\n. Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace)Returning Whitespace Violation: Return arrow and return type should be separated by a single space or on a separate line. (return_arrow_whitespace)\n. Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace)Returning Whitespace Violation: Return arrow and return type should be separated by a single space or on a separate line. (return_arrow_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace)Colon Violation: Colons should be next to the identifier when specifying a type. (colon)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Line Length Violation: Line should be 100 characters or less: currently 155 characters (line_length)Valid Docs Violation: Documented declarations should be valid. (valid_docs)\n. Valid Docs Violation: Documented declarations should be valid. (valid_docs)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Line Length Violation: Line should be 100 characters or less: currently 129 characters (line_length)\n. Line Length Violation: Line should be 100 characters or less: currently 140 characters (line_length)\n. Line Length Violation: Line should be 100 characters or less: currently 232 characters (line_length)\n. Line Length Violation: Line should be 100 characters or less: currently 131 characters (line_length)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Type Body Length Violation: Type body should span 200 lines or less excluding comments and whitespace: currently spans 209 lines (type_body_length)\n. Type Body Length Violation: Type body should span 200 lines or less excluding comments and whitespace: currently spans 251 lines (type_body_length)\n. Valid Docs Violation: Documented declarations should be valid. (valid_docs)\n. Variable Name Violation: Variable name should be between 3 and 40 characters long: 'cd' (variable_name)\n. Variable Name Violation: Variable name should be between 3 and 40 characters long: 'cd' (variable_name)\n. Variable Name Violation: Variable name should be between 3 and 40 characters long: 'cd' (variable_name)\n. Variable Name Violation: Variable name should be between 3 and 40 characters long: 'cd' (variable_name)\n. Variable Name Violation: Variable name should be between 3 and 40 characters long: 'cd' (variable_name)\n. Variable Name Violation: Variable name should be between 3 and 40 characters long: 'cd' (variable_name)\n. Variable Name Violation: Variable name should be between 3 and 40 characters long: 'cd' (variable_name)\n. Variable Name Violation: Variable name should be between 3 and 40 characters long: 'cd' (variable_name)\n. Variable Name Violation: Variable name should be between 3 and 40 characters long: 'cd' (variable_name)\n. Variable Name Violation: Variable name should be between 3 and 40 characters long: 'cd' (variable_name)\n. Variable Name Violation: Variable name should be between 3 and 40 characters long: 'cd' (variable_name)\n. Variable Name Violation: Variable name should be between 3 and 40 characters long: 'cd' (variable_name)\n. Variable Name Violation: Variable name should be between 3 and 40 characters long: 'cd' (variable_name)\n. Variable Name Violation: Variable name should be between 3 and 40 characters long: 'cd' (variable_name)\n. Variable Name Violation: Variable name should be between 3 and 40 characters long: 'cd' (variable_name)\n. Trailing Newline Violation: Files should have a single trailing newline. (trailing_newline)\n. Variable Name Violation: Variable name should be between 3 and 40 characters long: 'cd' (variable_name)\n. Variable Name Violation: Variable name should be between 3 and 40 characters long: 'cd' (variable_name)\n. Trailing Newline Violation: Files should have a single trailing newline. (trailing_newline)\n. Variable Name Violation: Variable name should be between 3 and 40 characters long: 'cd' (variable_name)\n. Variable Name Violation: Variable name should be between 3 and 40 characters long: 'cd' (variable_name)\n. Variable Name Violation: Variable name should be between 3 and 40 characters long: 'cd' (variable_name)\n. Variable Name Violation: Variable name should be between 3 and 40 characters long: 'cd' (variable_name)\n. Variable Name Violation: Variable name should be between 3 and 40 characters long: 'cd' (variable_name)\n. Variable Name Violation: Variable name should be between 3 and 40 characters long: 'cd' (variable_name)\n. Variable Name Violation: Variable name should be between 3 and 40 characters long: 'cd' (variable_name)\n. Variable Name Violation: Variable name should be between 3 and 40 characters long: 'cd' (variable_name)\n. Variable Name Violation: Variable name should be between 3 and 40 characters long: 'cd' (variable_name)\n. Line Length Violation: Line should be 100 characters or less: currently 117 characters (line_length)\n. Trailing Newline Violation: Files should have a single trailing newline. (trailing_newline)File Line Length Violation: File should contain 400 lines or less: currently contains 711 (file_length)\n. Trailing Newline Violation: Files should have a single trailing newline. (trailing_newline)File Line Length Violation: File should contain 400 lines or less: currently contains 711 (file_length)\n. Line Length Violation: Line should be 100 characters or less: currently 112 characters (line_length)\n. Line Length Violation: Line should be 100 characters or less: currently 112 characters (line_length)\n. Line Length Violation: Line should be 100 characters or less: currently 109 characters (line_length)\n. Line Length Violation: Line should be 100 characters or less: currently 109 characters (line_length)\n. Control Statement Violation: if,for,while,do statements shouldn't wrap their conditionals in parentheses. (control_statement)\n. Control Statement Violation: if,for,while,do statements shouldn't wrap their conditionals in parentheses. (control_statement)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Line Length Violation: Line should be 100 characters or less: currently 153 characters (line_length)\n. Line Length Violation: Line should be 100 characters or less: currently 153 characters (line_length)\n. Line Length Violation: Line should be 100 characters or less: currently 150 characters (line_length)\n. Line Length Violation: Line should be 100 characters or less: currently 150 characters (line_length)\n. Valid Docs Violation: Documented declarations should be valid. (valid_docs)\n. Valid Docs Violation: Documented declarations should be valid. (valid_docs)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Line Length Violation: Line should be 100 characters or less: currently 129 characters (line_length)\n. Line Length Violation: Line should be 100 characters or less: currently 129 characters (line_length)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Line Length Violation: Line should be 100 characters or less: currently 153 characters (line_length)\n. Line Length Violation: Line should be 100 characters or less: currently 153 characters (line_length)\n. Line Length Violation: Line should be 100 characters or less: currently 150 characters (line_length)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Line Length Violation: Line should be 100 characters or less: currently 150 characters (line_length)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Operator Function Whitespace Violation: Operators should be surrounded by a single whitespace when defining them. (operator_whitespace)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Newline Violation: Files should have a single trailing newline. (trailing_newline)\n. Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)\n. Trailing Newline Violation: Files should have a single trailing newline. (trailing_newline)\n. Line Length Violation: Line should be 100 characters or less: currently 128 characters (line_length)\n. Line Length Violation: Line should be 100 characters or less: currently 113 characters (line_length)\n. Line Length Violation: Line should be 100 characters or less: currently 124 characters (line_length)\n. Line Length Violation: Line should be 100 characters or less: currently 101 characters (line_length)\n. Line Length Violation: Line should be 100 characters or less: currently 108 characters (line_length)\n. Line Length Violation: Line should be 100 characters or less: currently 101 characters (line_length)\n. Line Length Violation: Line should be 100 characters or less: currently 110 characters (line_length)\n. Line Length Violation: Line should be 100 characters or less: currently 101 characters (line_length)\n. Line Length Violation: Line should be 100 characters or less: currently 109 characters (line_length)\n. Line Length Violation: Line should be 100 characters or less: currently 101 characters (line_length)\n. Line Length Violation: Line should be 100 characters or less: currently 110 characters (line_length)\n. Line Length Violation: Line should be 100 characters or less: currently 101 characters (line_length)\n. Line Length Violation: Line should be 100 characters or less: currently 111 characters (line_length)\n. Line Length Violation: Line should be 100 characters or less: currently 101 characters (line_length)\n. Line Length Violation: Line should be 100 characters or less: currently 110 characters (line_length)\n. Line Length Violation: Line should be 100 characters or less: currently 101 characters (line_length)\n. Line Length Violation: Line should be 100 characters or less: currently 107 characters (line_length)\n. Line Length Violation: Line should be 100 characters or less: currently 101 characters (line_length)\n. Line Length Violation: Line should be 100 characters or less: currently 113 characters (line_length)\n. Line Length Violation: Line should be 100 characters or less: currently 101 characters (line_length)\n. Line Length Violation: Line should be 100 characters or less: currently 113 characters (line_length)\n. Line Length Violation: Line should be 100 characters or less: currently 101 characters (line_length)\n. Line Length Violation: Line should be 100 characters or less: currently 113 characters (line_length)\n. Variable Name Violation: Variable name should be between 3 and 40 characters long: 'au' (variable_name)\n. Variable Name Violation: Variable name should be between 3 and 40 characters long: 'au' (variable_name)\n. Variable Name Violation: Variable name should be between 3 and 40 characters long: 'au' (variable_name)\n. Variable Name Violation: Variable name should be between 3 and 40 characters long: 'au' (variable_name)\n. Line Length Violation: Line should be 100 characters or less: currently 103 characters (line_length)\n. Line Length Violation: Line should be 100 characters or less: currently 103 characters (line_length)\n. Variable Name Violation: Variable name should be between 3 and 40 characters long: 'au' (variable_name)\n. Variable Name Violation: Variable name should be between 3 and 40 characters long: 'au' (variable_name)\n. Variable Name Violation: Variable name should be between 3 and 40 characters long: 'au' (variable_name)\n. Variable Name Violation: Variable name should be between 3 and 40 characters long: 'au' (variable_name)\n. Trailing Newline Violation: Files should have a single trailing newline. (trailing_newline)\n. Trailing Newline Violation: Files should have a single trailing newline. (trailing_newline)\n. Line Length Violation: Line should be 100 characters or less: currently 108 characters (line_length). Line Length Violation: Line should be 100 characters or less: currently 108 characters (line_length). Line Length Violation: Line should be 100 characters or less: currently 115 characters (line_length). Line Length Violation: Line should be 100 characters or less: currently 117 characters (line_length). Line Length Violation: Line should be 100 characters or less: currently 116 characters (line_length). Line Length Violation: Line should be 100 characters or less: currently 118 characters (line_length). Line Length Violation: Line should be 100 characters or less: currently 117 characters (line_length). Line Length Violation: Line should be 100 characters or less: currently 117 characters (line_length). Line Length Violation: Line should be 100 characters or less: currently 120 characters (line_length). Line Length Violation: Line should be 100 characters or less: currently 120 characters (line_length). Line Length Violation: Line should be 100 characters or less: currently 120 characters (line_length). Line Length Violation: Line should be 100 characters or less: currently 113 characters (line_length). Line Length Violation: Line should be 100 characters or less: currently 113 characters (line_length). Line Length Violation: Line should be 100 characters or less: currently 113 characters (line_length). Line Length Violation: Line should be 100 characters or less: currently 114 characters (line_length). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Line Length Violation: Line should be 100 characters or less: currently 111 characters (line_length). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Variable Name Violation: Variable name should be between 3 and 40 characters long: 'i' (variable_name). Variable Name Violation: Variable name should be between 3 and 40 characters long: 'i' (variable_name)Variable Name Violation: Variable name should be between 3 and 40 characters long: 'n' (variable_name). Variable Name Violation: Variable name should be between 3 and 40 characters long: 'i' (variable_name). Variable Name Violation: Variable name should be between 3 and 40 characters long: 'i' (variable_name). Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Line Length Violation: Line should be 100 characters or less: currently 113 characters (line_length). Trailing Newline Violation: Files should have a single trailing newline. (trailing_newline). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Colon Violation: Colons should be next to the identifier when specifying a type. (colon). Colon Violation: Colons should be next to the identifier when specifying a type. (colon)Returning Whitespace Violation: Return arrow and return type should be separated by a single space or on a separate line. (return_arrow_whitespace). Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace)Statement Position Violation: Else and catch should be on the same line, one space after the previous declaration. (statement_position). Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace)Statement Position Violation: Else and catch should be on the same line, one space after the previous declaration. (statement_position). Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace)Statement Position Violation: Else and catch should be on the same line, one space after the previous declaration. (statement_position). Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace)Line Length Violation: Line should be 100 characters or less: currently 119 characters (line_length). Vertical Whitespace Violation: Limit vertical whitespace to a single empty line. Currently 2. (vertical_whitespace). Variable Name Violation: Variable name should be between 3 and 40 characters long: 'au' (variable_name). Variable Name Violation: Variable name should be between 3 and 40 characters long: 'au' (variable_name). Variable Name Violation: Variable name should be between 3 and 40 characters long: 'au' (variable_name). Variable Name Violation: Variable name should be between 3 and 40 characters long: 'au' (variable_name). Variable Name Violation: Variable name should be between 3 and 40 characters long: 'au' (variable_name). Variable Name Violation: Variable name should be between 3 and 40 characters long: 'au' (variable_name). Variable Name Violation: Variable name should be between 3 and 40 characters long: 'au' (variable_name). Variable Name Violation: Variable name should be between 3 and 40 characters long: 'au' (variable_name). Colon Violation: Colons should be next to the identifier when specifying a type. (colon). Colon Violation: Colons should be next to the identifier when specifying a type. (colon). Colon Violation: Colons should be next to the identifier when specifying a type. (colon). Variable Name Violation: Variable name should be between 3 and 40 characters long: 'au' (variable_name). Variable Name Violation: Variable name should be between 3 and 40 characters long: 'au' (variable_name). Variable Name Violation: Variable name should be between 3 and 40 characters long: 'au' (variable_name). Line Length Violation: Line should be 100 characters or less: currently 105 characters (line_length). Line Length Violation: Line should be 100 characters or less: currently 105 characters (line_length). Variable Name Violation: Variable name should be between 3 and 40 characters long: 'au' (variable_name). Variable Name Violation: Variable name should be between 3 and 40 characters long: 'au' (variable_name). Line Length Violation: Line should be 100 characters or less: currently 269 characters (line_length). Line Length Violation: Line should be 100 characters or less: currently 105 characters (line_length). Line Length Violation: Line should be 100 characters or less: currently 101 characters (line_length). Line Length Violation: Line should be 100 characters or less: currently 105 characters (line_length). Line Length Violation: Line should be 100 characters or less: currently 105 characters (line_length). Line Length Violation: Line should be 100 characters or less: currently 105 characters (line_length). Line Length Violation: Line should be 100 characters or less: currently 105 characters (line_length). Line Length Violation: Line should be 100 characters or less: currently 105 characters (line_length). Line Length Violation: Line should be 100 characters or less: currently 105 characters (line_length). Line Length Violation: Line should be 100 characters or less: currently 105 characters (line_length). Line Length Violation: Line should be 100 characters or less: currently 105 characters (line_length). Line Length Violation: Line should be 100 characters or less: currently 105 characters (line_length). Line Length Violation: Line should be 100 characters or less: currently 105 characters (line_length). Line Length Violation: Line should be 100 characters or less: currently 105 characters (line_length). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Line Length Violation: Line should be 100 characters or less: currently 102 characters (line_length). Line Length Violation: Line should be 100 characters or less: currently 105 characters (line_length). Line Length Violation: Line should be 100 characters or less: currently 110 characters (line_length). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Line Length Violation: Line should be 100 characters or less: currently 138 characters (line_length). Line Length Violation: Line should be 100 characters or less: currently 138 characters (line_length). Variable Name Violation: Variable name should be between 3 and 40 characters long: 'au' (variable_name). Variable Name Violation: Variable name should be between 3 and 40 characters long: 'au' (variable_name). Variable Name Violation: Variable name should be between 3 and 40 characters long: 'au' (variable_name). Variable Name Violation: Variable name should be between 3 and 40 characters long: 'au' (variable_name). Trailing Newline Violation: Files should have a single trailing newline. (trailing_newline). Trailing Newline Violation: Files should have a single trailing newline. (trailing_newline). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Newline Violation: Files should have a single trailing newline. (trailing_newline)Vertical Whitespace Violation: Limit vertical whitespace to a single empty line. Currently 2. (vertical_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Vertical Whitespace Violation: Limit vertical whitespace to a single empty line. Currently 2. (vertical_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Vertical Whitespace Violation: Limit vertical whitespace to a single empty line. Currently 2. (vertical_whitespace). Line Length Violation: Line should be 100 characters or less: currently 115 characters (line_length). Operator Function Whitespace Violation: Operators should be surrounded by a single whitespace when defining them. (operator_whitespace). Operator Function Whitespace Violation: Operators should be surrounded by a single whitespace when defining them. (operator_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Line Length Violation: Line should be 100 characters or less: currently 120 characters (line_length). Line Length Violation: Line should be 100 characters or less: currently 167 characters (line_length). Line Length Violation: Line should be 100 characters or less: currently 153 characters (line_length). Line Length Violation: Line should be 100 characters or less: currently 146 characters (line_length). Line Length Violation: Line should be 100 characters or less: currently 119 characters (line_length). Line Length Violation: Line should be 100 characters or less: currently 166 characters (line_length). Line Length Violation: Line should be 100 characters or less: currently 102 characters (line_length). Line Length Violation: Line should be 100 characters or less: currently 103 characters (line_length). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Colon Violation: Colons should be next to the identifier when specifying a type. (colon). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Line Length Violation: Line should be 100 characters or less: currently 147 characters (line_length). Line Length Violation: Line should be 100 characters or less: currently 147 characters (line_length). Colon Violation: Colons should be next to the identifier when specifying a type. (colon). Colon Violation: Colons should be next to the identifier when specifying a type. (colon). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Line Length Violation: Line should be 100 characters or less: currently 138 characters (line_length). Line Length Violation: Line should be 100 characters or less: currently 103 characters (line_length). Line Length Violation: Line should be 100 characters or less: currently 133 characters (line_length). Line Length Violation: Line should be 100 characters or less: currently 133 characters (line_length). Line Length Violation: Line should be 100 characters or less: currently 120 characters (line_length). Line Length Violation: Line should be 100 characters or less: currently 105 characters (line_length). Line Length Violation: Line should be 100 characters or less: currently 153 characters (line_length). Statement Position Violation: Else and catch should be on the same line, one space after the previous declaration. (statement_position). Statement Position Violation: Else and catch should be on the same line, one space after the previous declaration. (statement_position). Statement Position Violation: Else and catch should be on the same line, one space after the previous declaration. (statement_position). Statement Position Violation: Else and catch should be on the same line, one space after the previous declaration. (statement_position). Statement Position Violation: Else and catch should be on the same line, one space after the previous declaration. (statement_position). Trailing Newline Violation: Files should have a single trailing newline. (trailing_newline). Vertical Whitespace Violation: Limit vertical whitespace to a single empty line. Currently 2. (vertical_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Line Length Violation: Line should be 100 characters or less: currently 146 characters (line_length). Vertical Whitespace Violation: Limit vertical whitespace to a single empty line. Currently 2. (vertical_whitespace)Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Colon Violation: Colons should be next to the identifier when specifying a type. (colon). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Line Length Violation: Line should be 100 characters or less: currently 128 characters (line_length). Colon Violation: Colons should be next to the identifier when specifying a type. (colon). Line Length Violation: Line should be 100 characters or less: currently 118 characters (line_length). Line Length Violation: Line should be 100 characters or less: currently 104 characters (line_length). Line Length Violation: Line should be 100 characters or less: currently 103 characters (line_length). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Line Length Violation: Line should be 100 characters or less: currently 168 characters (line_length). Line Length Violation: Line should be 100 characters or less: currently 129 characters (line_length). Line Length Violation: Line should be 100 characters or less: currently 168 characters (line_length). Force Cast Violation: Force casts should be avoided. (force_cast). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Force Cast Violation: Force casts should be avoided. (force_cast). Force Try Violation: Force tries should be avoided. (force_try). Force Try Violation: Force tries should be avoided. (force_try). Force Try Violation: Force tries should be avoided. (force_try). Force Try Violation: Force tries should be avoided. (force_try). Force Try Violation: Force tries should be avoided. (force_try). Force Try Violation: Force tries should be avoided. (force_try). Force Try Violation: Force tries should be avoided. (force_try). Line Length Violation: Line should be 100 characters or less: currently 148 characters (line_length). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Line Length Violation: Line should be 100 characters or less: currently 107 characters (line_length). Line Length Violation: Line should be 100 characters or less: currently 126 characters (line_length). Line Length Violation: Line should be 100 characters or less: currently 109 characters (line_length). Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Line Length Violation: Line should be 100 characters or less: currently 110 characters (line_length). Line Length Violation: Line should be 100 characters or less: currently 117 characters (line_length). Line Length Violation: Line should be 100 characters or less: currently 126 characters (line_length). Line Length Violation: Line should be 100 characters or less: currently 112 characters (line_length). Line Length Violation: Line should be 100 characters or less: currently 136 characters (line_length). Line Length Violation: Line should be 100 characters or less: currently 134 characters (line_length). Line Length Violation: Line should be 100 characters or less: currently 130 characters (line_length). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Control Statement Violation: if,for,while,do statements shouldn't wrap their conditionals in parentheses. (control_statement). Trailing Semicolon Violation: Lines should not have trailing semicolons. (trailing_semicolon). Trailing Semicolon Violation: Lines should not have trailing semicolons. (trailing_semicolon). Trailing Semicolon Violation: Lines should not have trailing semicolons. (trailing_semicolon). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Line Length Violation: Line should be 100 characters or less: currently 101 characters (line_length). Line Length Violation: Line should be 100 characters or less: currently 105 characters (line_length). Variable Name Violation: Variable name should be between 3 and 40 characters long: 'z' (variable_name). Variable Name Violation: Variable name should be between 3 and 40 characters long: 'y' (variable_name). Variable Name Violation: Variable name should be between 3 and 40 characters long: 'x' (variable_name). Variable Name Violation: Variable name should be between 3 and 40 characters long: 'dB' (variable_name). Variable Name Violation: Variable name should be between 3 and 40 characters long: 'q' (variable_name). Variable Name Violation: Variable name should be between 3 and 40 characters long: 'y' (variable_name). Variable Name Violation: Variable name should be between 3 and 40 characters long: 'x' (variable_name). Variable Name Violation: Variable name should be between 3 and 40 characters long: 'q' (variable_name). Variable Name Violation: Variable name should be between 3 and 40 characters long: 'q' (variable_name). Variable Name Violation: Variable name should be between 3 and 40 characters long: 'z' (variable_name). Variable Name Violation: Variable name should be between 3 and 40 characters long: 'y' (variable_name). Variable Name Violation: Variable name should be between 3 and 40 characters long: 'x' (variable_name). Variable Name Violation: Variable name should be between 3 and 40 characters long: 'dB' (variable_name). Variable Name Violation: Variable name should be between 3 and 40 characters long: 'q' (variable_name). Variable Name Violation: Variable name should be between 3 and 40 characters long: 'y' (variable_name). Variable Name Violation: Variable name should be between 3 and 40 characters long: 'x' (variable_name). Variable Name Violation: Variable name should be between 3 and 40 characters long: 'q' (variable_name). Variable Name Violation: Variable name should be between 3 and 40 characters long: 'q' (variable_name). Line Length Violation: Line should be 100 characters or less: currently 119 characters (line_length). Line Length Violation: Line should be 100 characters or less: currently 119 characters (line_length). Line Length Violation: Line should be 100 characters or less: currently 119 characters (line_length). Line Length Violation: Line should be 100 characters or less: currently 126 characters (line_length). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Statement Position Violation: Else and catch should be on the same line, one space after the previous declaration. (statement_position). Line Length Violation: Line should be 100 characters or less: currently 101 characters (line_length). Line Length Violation: Line should be 100 characters or less: currently 107 characters (line_length). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Line Length Violation: Line should be 100 characters or less: currently 115 characters (line_length). Line Length Violation: Line should be 100 characters or less: currently 104 characters (line_length). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Line Length Violation: Line should be 100 characters or less: currently 108 characters (line_length). Line Length Violation: Line should be 100 characters or less: currently 125 characters (line_length). Line Length Violation: Line should be 100 characters or less: currently 108 characters (line_length). Line Length Violation: Line should be 100 characters or less: currently 125 characters (line_length). Line Length Violation: Line should be 100 characters or less: currently 108 characters (line_length). Line Length Violation: Line should be 100 characters or less: currently 125 characters (line_length). Line Length Violation: Line should be 100 characters or less: currently 108 characters (line_length). Line Length Violation: Line should be 100 characters or less: currently 125 characters (line_length). Line Length Violation: Line should be 100 characters or less: currently 128 characters (line_length). Line Length Violation: Line should be 100 characters or less: currently 108 characters (line_length). Line Length Violation: Line should be 100 characters or less: currently 125 characters (line_length). Line Length Violation: Line should be 100 characters or less: currently 108 characters (line_length). Line Length Violation: Line should be 100 characters or less: currently 125 characters (line_length). Line Length Violation: Line should be 100 characters or less: currently 108 characters (line_length). Line Length Violation: Line should be 100 characters or less: currently 125 characters (line_length). Line Length Violation: Line should be 100 characters or less: currently 108 characters (line_length). Line Length Violation: Line should be 100 characters or less: currently 125 characters (line_length). Line Length Violation: Line should be 100 characters or less: currently 128 characters (line_length). Line Length Violation: Line should be 100 characters or less: currently 125 characters (line_length). Colon Violation: Colons should be next to the identifier when specifying a type. (colon). Line Length Violation: Line should be 100 characters or less: currently 130 characters (line_length). Line Length Violation: Line should be 100 characters or less: currently 119 characters (line_length). Line Length Violation: Line should be 100 characters or less: currently 109 characters (line_length). Line Length Violation: Line should be 100 characters or less: currently 108 characters (line_length). Line Length Violation: Line should be 100 characters or less: currently 116 characters (line_length). Line Length Violation: Line should be 100 characters or less: currently 108 characters (line_length). Line Length Violation: Line should be 100 characters or less: currently 106 characters (line_length). Line Length Violation: Line should be 100 characters or less: currently 101 characters (line_length). Line Length Violation: Line should be 100 characters or less: currently 101 characters (line_length). Line Length Violation: Line should be 100 characters or less: currently 106 characters (line_length). Line Length Violation: Line should be 100 characters or less: currently 111 characters (line_length). Line Length Violation: Line should be 100 characters or less: currently 104 characters (line_length). Line Length Violation: Line should be 100 characters or less: currently 104 characters (line_length). Line Length Violation: Line should be 100 characters or less: currently 105 characters (line_length). Line Length Violation: Line should be 100 characters or less: currently 120 characters (line_length). Line Length Violation: Line should be 100 characters or less: currently 102 characters (line_length). Line Length Violation: Line should be 100 characters or less: currently 104 characters (line_length). Line Length Violation: Line should be 100 characters or less: currently 111 characters (line_length). Line Length Violation: Line should be 100 characters or less: currently 114 characters (line_length). Line Length Violation: Line should be 100 characters or less: currently 102 characters (line_length). Line Length Violation: Line should be 100 characters or less: currently 102 characters (line_length). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Line Length Violation: Line should be 100 characters or less: currently 122 characters (line_length). Vertical Whitespace Violation: Limit vertical whitespace to a single empty line. Currently 2. (vertical_whitespace). Colon Violation: Colons should be next to the identifier when specifying a type. (colon). Colon Violation: Colons should be next to the identifier when specifying a type. (colon)Line Length Violation: Line should be 100 characters or less: currently 110 characters (line_length). Colon Violation: Colons should be next to the identifier when specifying a type. (colon). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Line Length Violation: Line should be 100 characters or less: currently 122 characters (line_length). Vertical Whitespace Violation: Limit vertical whitespace to a single empty line. Currently 2. (vertical_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Line Length Violation: Line should be 100 characters or less: currently 103 characters (line_length). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Line Length Violation: Line should be 100 characters or less: currently 105 characters (line_length). Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Colon Violation: Colons should be next to the identifier when specifying a type and next to the key in dictionary literals. (colon). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Todo Violation: TODOs should be avoided (Example of new AKPolyphonic me...). (todo). Todo Violation: TODOs should be avoided (Must remove this implementatio...). (todo). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Vertical Whitespace Violation: Limit vertical whitespace to a single empty line. Currently 2. (vertical_whitespace). Vertical Whitespace Violation: Limit vertical whitespace to a single empty line. Currently 2. (vertical_whitespace)Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Todo Violation: TODOs should be avoided (Aure:). (todo). Colon Violation: Colons should be next to the identifier when specifying a type and next to the key in dictionary literals. (colon). Colon Violation: Colons should be next to the identifier when specifying a type and next to the key in dictionary literals. (colon)Returning Whitespace Violation: Return arrow and return type should be separated by a single space or on a separate line. (return_arrow_whitespace). Colon Violation: Colons should be next to the identifier when specifying a type and next to the key in dictionary literals. (colon). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Vertical Whitespace Violation: Limit vertical whitespace to a single empty line. Currently 2. (vertical_whitespace)Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Line Length Violation: Line should be 120 characters or less: currently 125 characters (line_length). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Function Body Length Violation: Function body should span 40 lines or less excluding comments and whitespace: currently spans 59 lines (function_body_length). Comma Spacing Violation: There should be no space before and one after any comma. (comma). Colon Violation: Colons should be next to the identifier when specifying a type and next to the key in dictionary literals. (colon). Line Length Violation: Line should be 120 characters or less: currently 125 characters (line_length). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Function Body Length Violation: Function body should span 40 lines or less excluding comments and whitespace: currently spans 59 lines (function_body_length). Comma Spacing Violation: There should be no space before and one after any comma. (comma). Colon Violation: Colons should be next to the identifier when specifying a type and next to the key in dictionary literals. (colon). Colon Violation: Colons should be next to the identifier when specifying a type and next to the key in dictionary literals. (colon). Colon Violation: Colons should be next to the identifier when specifying a type and next to the key in dictionary literals. (colon). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Todo Violation: TODOs should be avoided (Add error checking for table s...). (todo). Line Length Violation: Line should be 120 characters or less: currently 125 characters (line_length). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Function Body Length Violation: Function body should span 40 lines or less excluding comments and whitespace: currently spans 59 lines (function_body_length). Comma Spacing Violation: There should be no space before and one after any comma. (comma). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Vertical Whitespace Violation: Limit vertical whitespace to a single empty line. Currently 3. (vertical_whitespace)Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Cyclomatic Complexity Violation: Function should have complexity 10 or less: currently complexity equals 22 (cyclomatic_complexity)Function Body Length Violation: Function body should span 100 lines or less excluding comments and whitespace: currently spans 105 lines (function_body_length). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Line Length Violation: Line should be 120 characters or less: currently 141 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 133 characters (line_length). Colon Violation: Colons should be next to the identifier when specifying a type and next to the key in dictionary literals. (colon). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Line Length Violation: Line should be 120 characters or less: currently 142 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 121 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 134 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 121 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 121 characters (line_length). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Function Body Length Violation: Function body should span 40 lines or less excluding comments and whitespace: currently spans 80 lines (function_body_length). Type Name Violation: Type name should start with an uppercase character: 'presetClosure' (type_name). Line Length Violation: Line should be 120 characters or less: currently 149 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 203 characters (line_length). Type Body Length Violation: Type body should span 200 lines or less excluding comments and whitespace: currently spans 250 lines (type_body_length). Line Length Violation: Line should be 120 characters or less: currently 168 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 168 characters (line_length). Function Body Length Violation: Function body should span 40 lines or less excluding comments and whitespace: currently spans 63 lines (function_body_length). Todo Violation: TODOs should be avoided (Add error checking for table s...). (todo). Todo Violation: TODOs should be avoided (Add error checking for table s...). (todo). Line Length Violation: Line should be 120 characters or less: currently 142 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 121 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 134 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 121 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 121 characters (line_length). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Function Body Length Violation: Function body should span 40 lines or less excluding comments and whitespace: currently spans 80 lines (function_body_length). Type Name Violation: Type name should start with an uppercase character: 'presetClosure' (type_name). Line Length Violation: Line should be 120 characters or less: currently 149 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 203 characters (line_length). Type Body Length Violation: Type body should span 200 lines or less excluding comments and whitespace: currently spans 250 lines (type_body_length). Line Length Violation: Line should be 120 characters or less: currently 168 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 168 characters (line_length). Legacy Constructor Violation: Swift constructors are preferred over legacy convenience functions. (legacy_constructor). Legacy Constructor Violation: Swift constructors are preferred over legacy convenience functions. (legacy_constructor). Cyclomatic Complexity Violation: Function should have complexity 10 or less: currently complexity equals 22 (cyclomatic_complexity)Function Body Length Violation: Function body should span 100 lines or less excluding comments and whitespace: currently spans 107 lines (function_body_length). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Statement Position Violation: Else and catch should be on the same line, one space after the previous declaration. (statement_position)Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Colon Violation: Colons should be next to the identifier when specifying a type and next to the key in dictionary literals. (colon)Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Control Statement Violation: if,for,while,do statements shouldn't wrap their conditionals in parentheses. (control_statement)Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Line Length Violation: Line should be 120 characters or less: currently 172 characters (line_length). Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Control Statement Violation: if,for,while,do statements shouldn't wrap their conditionals in parentheses. (control_statement). Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Control Statement Violation: if,for,while,do statements shouldn't wrap their conditionals in parentheses. (control_statement). Line Length Violation: Line should be 120 characters or less: currently 172 characters (line_length). Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Vertical Whitespace Violation: Limit vertical whitespace to a single empty line. Currently 2. (vertical_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Force Cast Violation: Force casts should be avoided. (force_cast). Force Cast Violation: Force casts should be avoided. (force_cast). Force Cast Violation: Force casts should be avoided. (force_cast). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Colon Violation: Colons should be next to the identifier when specifying a type and next to the key in dictionary literals. (colon). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Line Length Violation: Line should be 120 characters or less: currently 142 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 121 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 134 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 121 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 121 characters (line_length). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Function Body Length Violation: Function body should span 40 lines or less excluding comments and whitespace: currently spans 80 lines (function_body_length). Type Name Violation: Type name should start with an uppercase character: 'presetClosure' (type_name). Type Body Length Violation: Type body should span 200 lines or less excluding comments and whitespace: currently spans 250 lines (type_body_length). Line Length Violation: Line should be 120 characters or less: currently 168 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 168 characters (line_length). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Function Body Length Violation: Function body should span 40 lines or less excluding comments and whitespace: currently spans 63 lines (function_body_length). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Todo Violation: TODOs should be avoided (Add error checking for table s...). (todo). Line Length Violation: Line should be 120 characters or less: currently 142 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 121 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 134 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 121 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 121 characters (line_length). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Function Body Length Violation: Function body should span 40 lines or less excluding comments and whitespace: currently spans 80 lines (function_body_length). Type Name Violation: Type name should start with an uppercase character: 'presetClosure' (type_name). Type Body Length Violation: Type body should span 200 lines or less excluding comments and whitespace: currently spans 250 lines (type_body_length). Line Length Violation: Line should be 120 characters or less: currently 168 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 168 characters (line_length). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Function Body Length Violation: Function body should span 40 lines or less excluding comments and whitespace: currently spans 63 lines (function_body_length). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Todo Violation: TODOs should be avoided (Add error checking for table s...). (todo). Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Trailing Newline Violation: Files should have a single trailing newline. (trailing_newline). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Vertical Whitespace Violation: Limit vertical whitespace to a single empty line. Currently 3. (vertical_whitespace)Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Colon Violation: Colons should be next to the identifier when specifying a type and next to the key in dictionary literals. (colon). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Colon Violation: Colons should be next to the identifier when specifying a type and next to the key in dictionary literals. (colon)Identifier Name Violation: Variable name should be between 3 and 40 characters long: 'to' (identifier_name)Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Colon Violation: Colons should be next to the identifier when specifying a type and next to the key in dictionary literals. (colon)Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Colon Violation: Colons should be next to the identifier when specifying a type and next to the key in dictionary literals. (colon)Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Line Length Violation: Line should be 120 characters or less: currently 149 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 124 characters (line_length). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Line Length Violation: Line should be 120 characters or less: currently 149 characters (line_length). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Vertical Whitespace Violation: Limit vertical whitespace to a single empty line. Currently 2. (vertical_whitespace)Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Colon Violation: Colons should be next to the identifier when specifying a type and next to the key in dictionary literals. (colon)Returning Whitespace Violation: Return arrow and return type should be separated by a single space or on a separate line. (return_arrow_whitespace)Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Identifier Name Violation: Variable name should be between 3 and 40 characters long: 'to' (identifier_name). Colon Violation: Colons should be next to the identifier when specifying a type and next to the key in dictionary literals. (colon)Returning Whitespace Violation: Return arrow and return type should be separated by a single space or on a separate line. (return_arrow_whitespace)Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Function Body Length Violation: Function body should span 40 lines or less excluding comments and whitespace: currently spans 63 lines (function_body_length)Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Vertical Whitespace Violation: Limit vertical whitespace to a single empty line. Currently 2. (vertical_whitespace)Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Closure Parameter Position Violation: Closure parameters should be on the same line as opening brace. (closure_parameter_position). Colon Violation: Colons should be next to the identifier when specifying a type and next to the key in dictionary literals. (colon). Colon Violation: Colons should be next to the identifier when specifying a type and next to the key in dictionary literals. (colon). Colon Violation: Colons should be next to the identifier when specifying a type and next to the key in dictionary literals. (colon). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Void Return Violation: Prefer -> Void over -> (). (void_return). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Vertical Whitespace Violation: Limit vertical whitespace to a single empty line. Currently 2. (vertical_whitespace)Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Line Length Violation: Line should be 120 characters or less: currently 122 characters (line_length). Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Redundant Discardable Let Violation: Prefer _ = foo() over let _ = foo() when discarding a result from a function. (redundant_discardable_let). Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Returning Whitespace Violation: Return arrow and return type should be separated by a single space or on a separate line. (return_arrow_whitespace). Colon Violation: Colons should be next to the identifier when specifying a type and next to the key in dictionary literals. (colon). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Identifier Name Violation: Variable name should be between 3 and 40 characters long: 'i' (identifier_name). Identifier Name Violation: Enum element name should start with a lowercase character: 'Noisy' (identifier_name). Identifier Name Violation: Enum element name should start with a lowercase character: 'SlowPad' (identifier_name). Identifier Name Violation: Enum element name should start with a lowercase character: 'Saw' (identifier_name). Identifier Name Violation: Enum element name should start with a lowercase character: 'Square' (identifier_name). Identifier Name Violation: Enum element name should start with a lowercase character: 'Arpeggio' (identifier_name)Identifier Name Violation: Enum element name should start with a lowercase character: 'Pad' (identifier_name)Identifier Name Violation: Enum element name should start with a lowercase character: 'Bass' (identifier_name)Identifier Name Violation: Enum element name should start with a lowercase character: 'Drum' (identifier_name). Identifier Name Violation: Enum element name should start with a lowercase character: 'Arpeggio' (identifier_name)Identifier Name Violation: Enum element name should start with a lowercase character: 'Pad' (identifier_name)Identifier Name Violation: Enum element name should start with a lowercase character: 'Bass' (identifier_name). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). File Line Length Violation: File should contain 400 lines or less: currently contains 703 (file_length). For Where Violation: where clauses are preferred over a single if inside a for. (for_where). For Where Violation: where clauses are preferred over a single if inside a for. (for_where). Type Body Length Violation: Type body should span 350 lines or less excluding comments and whitespace: currently spans 363 lines (type_body_length). Redundant Discardable Let Violation: Prefer _ = foo() over let _ = foo() when discarding a result from a function. (redundant_discardable_let). Redundant Discardable Let Violation: Prefer _ = foo() over let _ = foo() when discarding a result from a function. (redundant_discardable_let). Redundant Discardable Let Violation: Prefer _ = foo() over let _ = foo() when discarding a result from a function. (redundant_discardable_let). Redundant Discardable Let Violation: Prefer _ = foo() over let _ = foo() when discarding a result from a function. (redundant_discardable_let). Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Identifier Name Violation: Enum element name should be between 3 and 40 characters long: 'C' (identifier_name)Identifier Name Violation: Enum element name should be between 3 and 40 characters long: 'Db' (identifier_name)Identifier Name Violation: Enum element name should be between 3 and 40 characters long: 'D' (identifier_name)Identifier Name Violation: Enum element name should be between 3 and 40 characters long: 'Eb' (identifier_name)Identifier Name Violation: Enum element name should be between 3 and 40 characters long: 'E' (identifier_name)Identifier Name Violation: Enum element name should be between 3 and 40 characters long: 'F' (identifier_name)Identifier Name Violation: Enum element name should be between 3 and 40 characters long: 'Gb' (identifier_name)Identifier Name Violation: Enum element name should be between 3 and 40 characters long: 'G' (identifier_name)Identifier Name Violation: Enum element name should be between 3 and 40 characters long: 'Ab' (identifier_name)Identifier Name Violation: Enum element name should be between 3 and 40 characters long: 'A' (identifier_name)Identifier Name Violation: Enum element name should be between 3 and 40 characters long: 'Bb' (identifier_name)Identifier Name Violation: Enum element name should be between 3 and 40 characters long: 'B' (identifier_name). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Cyclomatic Complexity Violation: Function should have complexity 10 or less: currently complexity equals 11 (cyclomatic_complexity). Cyclomatic Complexity Violation: Function should have complexity 10 or less: currently complexity equals 13 (cyclomatic_complexity). Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Identifier Name Violation: Enum element name should be between 3 and 40 characters long: 'C' (identifier_name)Identifier Name Violation: Enum element name should be between 3 and 40 characters long: 'Db' (identifier_name)Identifier Name Violation: Enum element name should be between 3 and 40 characters long: 'D' (identifier_name)Identifier Name Violation: Enum element name should be between 3 and 40 characters long: 'Eb' (identifier_name)Identifier Name Violation: Enum element name should be between 3 and 40 characters long: 'E' (identifier_name)Identifier Name Violation: Enum element name should be between 3 and 40 characters long: 'F' (identifier_name)Identifier Name Violation: Enum element name should be between 3 and 40 characters long: 'Gb' (identifier_name)Identifier Name Violation: Enum element name should be between 3 and 40 characters long: 'G' (identifier_name)Identifier Name Violation: Enum element name should be between 3 and 40 characters long: 'Ab' (identifier_name)Identifier Name Violation: Enum element name should be between 3 and 40 characters long: 'A' (identifier_name)Identifier Name Violation: Enum element name should be between 3 and 40 characters long: 'Bb' (identifier_name)Identifier Name Violation: Enum element name should be between 3 and 40 characters long: 'B' (identifier_name). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Line Length Violation: Line should be 120 characters or less: currently 123 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 127 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 121 characters (line_length). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Control Statement Violation: if,for,while,do statements shouldn't wrap their conditionals in parentheses. (control_statement). Control Statement Violation: if,for,while,do statements shouldn't wrap their conditionals in parentheses. (control_statement)Line Length Violation: Line should be 120 characters or less: currently 130 characters (line_length). Control Statement Violation: if,for,while,do statements shouldn't wrap their conditionals in parentheses. (control_statement). Control Statement Violation: if,for,while,do statements shouldn't wrap their conditionals in parentheses. (control_statement). Control Statement Violation: if,for,while,do statements shouldn't wrap their conditionals in parentheses. (control_statement). Line Length Violation: Line should be 120 characters or less: currently 123 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 127 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 121 characters (line_length). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Control Statement Violation: if,for,while,do statements shouldn't wrap their conditionals in parentheses. (control_statement). Control Statement Violation: if,for,while,do statements shouldn't wrap their conditionals in parentheses. (control_statement)Line Length Violation: Line should be 120 characters or less: currently 130 characters (line_length). Control Statement Violation: if,for,while,do statements shouldn't wrap their conditionals in parentheses. (control_statement). Control Statement Violation: if,for,while,do statements shouldn't wrap their conditionals in parentheses. (control_statement). Control Statement Violation: if,for,while,do statements shouldn't wrap their conditionals in parentheses. (control_statement). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Line Length Violation: Line should be 120 characters or less: currently 135 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 143 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 140 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 135 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 147 characters (line_length). Identifier Name Violation: Variable name should be between 3 and 40 characters long: 'AKEngineRestartedAfterConfigurationChange' (identifier_name). Line Length Violation: Line should be 120 characters or less: currently 162 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 158 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 127 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 182 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 126 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 154 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 126 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 194 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 128 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 136 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 156 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 140 characters (line_length). Valid IBInspectable Violation: @IBInspectable should be applied to variables only, have its type explicit and be of a supported type (valid_ibinspectable). Valid IBInspectable Violation: @IBInspectable should be applied to variables only, have its type explicit and be of a supported type (valid_ibinspectable). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Line Length Violation: Line should be 120 characters or less: currently 249 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 125 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 165 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 285 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 121 characters (line_length). Colon Violation: Colons should be next to the identifier when specifying a type and next to the key in dictionary literals. (colon). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Vertical Whitespace Violation: Limit vertical whitespace to a single empty line. Currently 3. (vertical_whitespace). Vertical Whitespace Violation: Limit vertical whitespace to a single empty line. Currently 4. (vertical_whitespace). Vertical Whitespace Violation: Limit vertical whitespace to a single empty line. Currently 5. (vertical_whitespace). Vertical Whitespace Violation: Limit vertical whitespace to a single empty line. Currently 2. (vertical_whitespace). Vertical Whitespace Violation: Limit vertical whitespace to a single empty line. Currently 3. (vertical_whitespace). Vertical Whitespace Violation: Limit vertical whitespace to a single empty line. Currently 2. (vertical_whitespace). Vertical Whitespace Violation: Limit vertical whitespace to a single empty line. Currently 2. (vertical_whitespace). Vertical Whitespace Violation: Limit vertical whitespace to a single empty line. Currently 3. (vertical_whitespace). File Line Length Violation: File should contain 400 lines or less: currently contains 430 (file_length). Line Length Violation: Line should be 120 characters or less: currently 143 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 121 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 151 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 150 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 174 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 152 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 153 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 170 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 148 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 171 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 175 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 285 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 150 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 150 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 152 characters (line_length). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Line Length Violation: Line should be 120 characters or less: currently 177 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 141 characters (line_length). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Line Length Violation: Line should be 120 characters or less: currently 247 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 127 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 268 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 127 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 268 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 131 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 130 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 251 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 127 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 272 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 127 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 272 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 132 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 144 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 217 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 217 characters (line_length). Identifier Name Violation: Variable name should be between 3 and 40 characters long: 'au' (identifier_name). Legacy Constructor Violation: Swift constructors are preferred over legacy convenience functions. (legacy_constructor). Legacy Constructor Violation: Swift constructors are preferred over legacy convenience functions. (legacy_constructor). Legacy Constructor Violation: Swift constructors are preferred over legacy convenience functions. (legacy_constructor). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Line Length Violation: Line should be 120 characters or less: currently 134 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 132 characters (line_length). Identifier Name Violation: Variable name should be between 3 and 40 characters long: 'id' (identifier_name). Identifier Name Violation: Variable name should be between 3 and 40 characters long: 'id' (identifier_name). Identifier Name Violation: Variable name should be between 3 and 40 characters long: 'id' (identifier_name). Identifier Name Violation: Variable name should be between 3 and 40 characters long: 'fm' (identifier_name). Legacy Constructor Violation: Swift constructors are preferred over legacy convenience functions. (legacy_constructor). For Where Violation: where clauses are preferred over a single if inside a for. (for_where). For Where Violation: where clauses are preferred over a single if inside a for. (for_where). For Where Violation: where clauses are preferred over a single if inside a for. (for_where). Trailing Newline Violation: Files should have a single trailing newline. (trailing_newline)File Line Length Violation: File should contain 400 lines or less: currently contains 586 (file_length). Colon Violation: Colons should be next to the identifier when specifying a type and next to the key in dictionary literals. (colon). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Line Length Violation: Line should be 120 characters or less: currently 136 characters (line_length). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Line Length Violation: Line should be 120 characters or less: currently 182 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 131 characters (line_length). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Trailing Newline Violation: Files should have a single trailing newline. (trailing_newline). Mark Violation: MARK comment should be in valid format. (mark). Line Length Violation: Line should be 120 characters or less: currently 124 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 121 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 125 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 123 characters (line_length). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Vertical Whitespace Violation: Limit vertical whitespace to a single empty line. Currently 2. (vertical_whitespace)Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Vertical Whitespace Violation: Limit vertical whitespace to a single empty line. Currently 2. (vertical_whitespace)Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Line Length Violation: Line should be 120 characters or less: currently 147 characters (line_length). Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Vertical Whitespace Violation: Limit vertical whitespace to a single empty line. Currently 6. (vertical_whitespace)Trailing Newline Violation: Files should have a single trailing newline. (trailing_newline). Line Length Violation: Line should be 120 characters or less: currently 147 characters (line_length). Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Line Length Violation: Line should be 120 characters or less: currently 147 characters (line_length). Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Line Length Violation: Line should be 120 characters or less: currently 136 characters (line_length). Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Void Return Violation: Prefer -> Void over -> (). (void_return). Colon Violation: Colons should be next to the identifier when specifying a type and next to the key in dictionary literals. (colon). Colon Violation: Colons should be next to the identifier when specifying a type and next to the key in dictionary literals. (colon)Line Length Violation: Line should be 120 characters or less: currently 135 characters (line_length). Colon Violation: Colons should be next to the identifier when specifying a type and next to the key in dictionary literals. (colon). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Function Body Length Violation: Function body should span 40 lines or less excluding comments and whitespace: currently spans 41 lines (function_body_length). Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Vertical Whitespace Violation: Limit vertical whitespace to a single empty line. Currently 2. (vertical_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Vertical Whitespace Violation: Limit vertical whitespace to a single empty line. Currently 3. (vertical_whitespace)Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). File Line Length Violation: File should contain 400 lines or less: currently contains 515 (file_length). Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace)Line Length Violation: Line should be 120 characters or less: currently 162 characters (line_length). Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace)Line Length Violation: Line should be 120 characters or less: currently 161 characters (line_length). Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Vertical Whitespace Violation: Limit vertical whitespace to a single empty line. Currently 2. (vertical_whitespace). Comma Spacing Violation: There should be no space before and one after any comma. (comma). Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Line Length Violation: Line should be 120 characters or less: currently 172 characters (line_length). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Line Length Violation: Line should be 120 characters or less: currently 172 characters (line_length). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Vertical Whitespace Violation: Limit vertical whitespace to a single empty line. Currently 3. (vertical_whitespace). Vertical Whitespace Violation: Limit vertical whitespace to a single empty line. Currently 3. (vertical_whitespace). Vertical Whitespace Violation: Limit vertical whitespace to a single empty line. Currently 2. (vertical_whitespace). Vertical Whitespace Violation: Limit vertical whitespace to a single empty line. Currently 3. (vertical_whitespace). Vertical Whitespace Violation: Limit vertical whitespace to a single empty line. Currently 2. (vertical_whitespace). Identifier Name Violation: Variable name should be between 3 and 40 characters long: 'id' (identifier_name). For Where Violation: where clauses are preferred over a single if inside a for. (for_where). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Identifier Name Violation: Variable name should be between 3 and 40 characters long: 'id' (identifier_name). Comma Spacing Violation: There should be no space before and one after any comma. (comma). Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Line Length Violation: Line should be 120 characters or less: currently 122 characters (line_length). Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Identifier Name Violation: Variable name should be between 3 and 40 characters long: 'x' (identifier_name)Identifier Name Violation: Variable name should be between 3 and 40 characters long: 'y' (identifier_name)Identifier Name Violation: Variable name should be between 3 and 40 characters long: 'z' (identifier_name). Line Length Violation: Line should be 120 characters or less: currently 124 characters (line_length). Comma Spacing Violation: There should be no space before and one after any comma. (comma). Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Line Length Violation: Line should be 120 characters or less: currently 122 characters (line_length). Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Identifier Name Violation: Variable name should be between 3 and 40 characters long: 'x' (identifier_name)Identifier Name Violation: Variable name should be between 3 and 40 characters long: 'y' (identifier_name)Identifier Name Violation: Variable name should be between 3 and 40 characters long: 'z' (identifier_name). Line Length Violation: Line should be 120 characters or less: currently 124 characters (line_length). For Where Violation: where clauses are preferred over a single if inside a for. (for_where). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Identifier Name Violation: Variable name should be between 3 and 40 characters long: 'cx' (identifier_name). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Vertical Whitespace Violation: Limit vertical whitespace to a single empty line. Currently 2. (vertical_whitespace). Vertical Whitespace Violation: Limit vertical whitespace to a single empty line. Currently 2. (vertical_whitespace). Vertical Whitespace Violation: Limit vertical whitespace to a single empty line. Currently 2. (vertical_whitespace). Valid IBInspectable Violation: @IBInspectable should be applied to variables only, have its type explicit and be of a supported type (valid_ibinspectable). Cyclomatic Complexity Violation: Function should have complexity 10 or less: currently complexity equals 22 (cyclomatic_complexity)Function Body Length Violation: Function body should span 100 lines or less excluding comments and whitespace: currently spans 124 lines (function_body_length). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Unused Optional Binding Violation: Prefer != nil over let _ = (unused_optional_binding). Unused Optional Binding Violation: Prefer != nil over let _ = (unused_optional_binding). Unused Optional Binding Violation: Prefer != nil over let _ = (unused_optional_binding). Unused Optional Binding Violation: Prefer != nil over let _ = (unused_optional_binding). Unused Optional Binding Violation: Prefer != nil over let _ = (unused_optional_binding). Unused Optional Binding Violation: Prefer != nil over let _ = (unused_optional_binding). Unused Optional Binding Violation: Prefer != nil over let _ = (unused_optional_binding). Unused Optional Binding Violation: Prefer != nil over let _ = (unused_optional_binding). Unused Optional Binding Violation: Prefer != nil over let _ = (unused_optional_binding). Unused Optional Binding Violation: Prefer != nil over let _ = (unused_optional_binding). Unused Optional Binding Violation: Prefer != nil over let _ = (unused_optional_binding). Unused Optional Binding Violation: Prefer != nil over let _ = (unused_optional_binding). Unused Optional Binding Violation: Prefer != nil over let _ = (unused_optional_binding). Unused Optional Binding Violation: Prefer != nil over let _ = (unused_optional_binding). Unused Optional Binding Violation: Prefer != nil over let _ = (unused_optional_binding). Unused Optional Binding Violation: Prefer != nil over let _ = (unused_optional_binding). Unused Optional Binding Violation: Prefer != nil over let _ = (unused_optional_binding). Unused Optional Binding Violation: Prefer != nil over let _ = (unused_optional_binding). Unused Optional Binding Violation: Prefer != nil over let _ = (unused_optional_binding). Unused Optional Binding Violation: Prefer != nil over let _ = (unused_optional_binding). Unused Optional Binding Violation: Prefer != nil over let _ = (unused_optional_binding). Unused Optional Binding Violation: Prefer != nil over let _ = (unused_optional_binding). Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Returning Whitespace Violation: Return arrow and return type should be separated by a single space or on a separate line. (return_arrow_whitespace). Trailing Newline Violation: Files should have a single trailing newline. (trailing_newline). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Vertical Whitespace Violation: Limit vertical whitespace to a single empty line. Currently 2. (vertical_whitespace). Vertical Whitespace Violation: Limit vertical whitespace to a single empty line. Currently 2. (vertical_whitespace). Vertical Whitespace Violation: Limit vertical whitespace to a single empty line. Currently 2. (vertical_whitespace). Vertical Whitespace Violation: Limit vertical whitespace to a single empty line. Currently 2. (vertical_whitespace). Comma Spacing Violation: There should be no space before and one after any comma. (comma). Trailing Semicolon Violation: Lines should not have trailing semicolons. (trailing_semicolon). Trailing Semicolon Violation: Lines should not have trailing semicolons. (trailing_semicolon). Trailing Semicolon Violation: Lines should not have trailing semicolons. (trailing_semicolon). Trailing Semicolon Violation: Lines should not have trailing semicolons. (trailing_semicolon). Trailing Semicolon Violation: Lines should not have trailing semicolons. (trailing_semicolon). Trailing Semicolon Violation: Lines should not have trailing semicolons. (trailing_semicolon). Trailing Semicolon Violation: Lines should not have trailing semicolons. (trailing_semicolon). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Identifier Name Violation: Variable name should be between 3 and 40 characters long: 'a' (identifier_name)Identifier Name Violation: Variable name should be between 3 and 40 characters long: 'b' (identifier_name). Function Body Length Violation: Function body should span 40 lines or less excluding comments and whitespace: currently spans 52 lines (function_body_length). Force Cast Violation: Force casts should be avoided. (force_cast). Force Cast Violation: Force casts should be avoided. (force_cast). Identifier Name Violation: Variable name should be between 3 and 40 characters long: 'a' (identifier_name)Identifier Name Violation: Variable name should be between 3 and 40 characters long: 'b' (identifier_name). Identifier Name Violation: Variable name should be between 3 and 40 characters long: 'a' (identifier_name)Identifier Name Violation: Variable name should be between 3 and 40 characters long: 'b' (identifier_name). Vertical Parameter Alignment Violation: Function parameters should be aligned vertically if they're in multiple lines in a declaration. (vertical_parameter_alignment). Vertical Parameter Alignment Violation: Function parameters should be aligned vertically if they're in multiple lines in a declaration. (vertical_parameter_alignment). Vertical Parameter Alignment Violation: Function parameters should be aligned vertically if they're in multiple lines in a declaration. (vertical_parameter_alignment). Trailing Semicolon Violation: Lines should not have trailing semicolons. (trailing_semicolon). Function Body Length Violation: Function body should span 40 lines or less excluding comments and whitespace: currently spans 79 lines (function_body_length). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Newline Violation: Files should have a single trailing newline. (trailing_newline). Vertical Whitespace Violation: Limit vertical whitespace to a single empty line. Currently 2. (vertical_whitespace). Vertical Whitespace Violation: Limit vertical whitespace to a single empty line. Currently 3. (vertical_whitespace). Identifier Name Violation: Variable name should be between 3 and 40 characters long: 'dB' (identifier_name). Identifier Name Violation: Variable name should start with a lowercase character: 'GainParameter' (identifier_name). Unused Optional Binding Violation: Prefer != nil over let _ = (unused_optional_binding). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Todo Violation: TODOs should be avoided (make this variable on init()). (todo). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Line Length Violation: Line should be 120 characters or less: currently 324 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 324 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 141 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 151 characters (line_length). Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Colon Violation: Colons should be next to the identifier when specifying a type and next to the key in dictionary literals. (colon). Colon Violation: Colons should be next to the identifier when specifying a type and next to the key in dictionary literals. (colon). Colon Violation: Colons should be next to the identifier when specifying a type and next to the key in dictionary literals. (colon)Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Colon Violation: Colons should be next to the identifier when specifying a type and next to the key in dictionary literals. (colon). Colon Violation: Colons should be next to the identifier when specifying a type and next to the key in dictionary literals. (colon). Colon Violation: Colons should be next to the identifier when specifying a type and next to the key in dictionary literals. (colon). Colon Violation: Colons should be next to the identifier when specifying a type and next to the key in dictionary literals. (colon). Colon Violation: Colons should be next to the identifier when specifying a type and next to the key in dictionary literals. (colon). Colon Violation: Colons should be next to the identifier when specifying a type and next to the key in dictionary literals. (colon). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Vertical Whitespace Violation: Limit vertical whitespace to a single empty line. Currently 2. (vertical_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Unused Optional Binding Violation: Prefer != nil over let _ = (unused_optional_binding). File Line Length Violation: File should contain 400 lines or less: currently contains 689 (file_length). Line Length Violation: Line should be 120 characters or less: currently 136 characters (line_length). Type Body Length Violation: Type body should span 200 lines or less excluding comments and whitespace: currently spans 335 lines (type_body_length). Vertical Parameter Alignment Violation: Function parameters should be aligned vertically if they're in multiple lines in a declaration. (vertical_parameter_alignment). Vertical Parameter Alignment Violation: Function parameters should be aligned vertically if they're in multiple lines in a declaration. (vertical_parameter_alignment). Vertical Parameter Alignment Violation: Function parameters should be aligned vertically if they're in multiple lines in a declaration. (vertical_parameter_alignment). Unused Optional Binding Violation: Prefer != nil over let _ = (unused_optional_binding). File Line Length Violation: File should contain 400 lines or less: currently contains 689 (file_length). Line Length Violation: Line should be 120 characters or less: currently 136 characters (line_length). Type Body Length Violation: Type body should span 200 lines or less excluding comments and whitespace: currently spans 335 lines (type_body_length). Vertical Parameter Alignment Violation: Function parameters should be aligned vertically if they're in multiple lines in a declaration. (vertical_parameter_alignment). Vertical Parameter Alignment Violation: Function parameters should be aligned vertically if they're in multiple lines in a declaration. (vertical_parameter_alignment). Vertical Parameter Alignment Violation: Function parameters should be aligned vertically if they're in multiple lines in a declaration. (vertical_parameter_alignment). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Line Length Violation: Line should be 120 characters or less: currently 125 characters (line_length). Implicit Getter Violation: Computed read-only properties should avoid using the get keyword. (implicit_getter). Vertical Parameter Alignment Violation: Function parameters should be aligned vertically if they're in multiple lines in a declaration. (vertical_parameter_alignment). Colon Violation: Colons should be next to the identifier when specifying a type and next to the key in dictionary literals. (colon). Colon Violation: Colons should be next to the identifier when specifying a type and next to the key in dictionary literals. (colon). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Semicolon Violation: Lines should not have trailing semicolons. (trailing_semicolon). Trailing Semicolon Violation: Lines should not have trailing semicolons. (trailing_semicolon)Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Semicolon Violation: Lines should not have trailing semicolons. (trailing_semicolon)Colon Violation: Colons should be next to the identifier when specifying a type and next to the key in dictionary literals. (colon). Colon Violation: Colons should be next to the identifier when specifying a type and next to the key in dictionary literals. (colon). Implicit Getter Violation: Computed read-only properties should avoid using the get keyword. (implicit_getter). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Line Length Violation: Line should be 120 characters or less: currently 191 characters (line_length). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)Vertical Whitespace Violation: Limit vertical whitespace to a single empty line. Currently 2. (vertical_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Vertical Parameter Alignment Violation: Function parameters should be aligned vertically if they're in multiple lines in a declaration. (vertical_parameter_alignment). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Line Length Violation: Line should be 120 characters or less: currently 134 characters (line_length). Function Body Length Violation: Function body should span 40 lines or less excluding comments and whitespace: currently spans 43 lines (function_body_length). Force Cast Violation: Force casts should be avoided. (force_cast). Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Identifier Name Violation: Variable name should be between 3 and 40 characters long: 'id' (identifier_name). Identifier Name Violation: Variable name should be between 3 and 40 characters long: 'id' (identifier_name). Legacy Constructor Violation: Swift constructors are preferred over legacy convenience functions. (legacy_constructor). Legacy Constructor Violation: Swift constructors are preferred over legacy convenience functions. (legacy_constructor). For Where Violation: where clauses are preferred over a single if inside a for. (for_where). For Where Violation: where clauses are preferred over a single if inside a for. (for_where). Mark Violation: MARK comment should be in valid format. e.g. '// MARK: ...' or '// MARK: - ...' (mark). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Line Length Violation: Line should be 120 characters or less: currently 154 characters (line_length). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)Vertical Whitespace Violation: Limit vertical whitespace to a single empty line. Currently 2. (vertical_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Line Length Violation: Line should be 120 characters or less: currently 129 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 129 characters (line_length). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Newline Violation: Files should have a single trailing newline. (trailing_newline). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Line Length Violation: Line should be 120 characters or less: currently 129 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 129 characters (line_length). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Newline Violation: Files should have a single trailing newline. (trailing_newline). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Colon Violation: Colons should be next to the identifier when specifying a type and next to the key in dictionary literals. (colon)Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Colon Violation: Colons should be next to the identifier when specifying a type and next to the key in dictionary literals. (colon)Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Vertical Whitespace Violation: Limit vertical whitespace to a single empty line. Currently 2. (vertical_whitespace). Void Return Violation: Prefer -> Void over -> (). (void_return). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Line Length Violation: Line should be 120 characters or less: currently 133 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 128 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 123 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 128 characters (line_length). Vertical Whitespace Violation: Limit vertical whitespace to a single empty line. Currently 2. (vertical_whitespace). Colon Violation: Colons should be next to the identifier when specifying a type and next to the key in dictionary literals. (colon)Line Length Violation: Line should be 120 characters or less: currently 139 characters (line_length). Colon Violation: Colons should be next to the identifier when specifying a type and next to the key in dictionary literals. (colon)Line Length Violation: Line should be 120 characters or less: currently 147 characters (line_length). Colon Violation: Colons should be next to the identifier when specifying a type and next to the key in dictionary literals. (colon)Line Length Violation: Line should be 120 characters or less: currently 146 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 133 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 128 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 123 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 128 characters (line_length). Vertical Whitespace Violation: Limit vertical whitespace to a single empty line. Currently 2. (vertical_whitespace). Colon Violation: Colons should be next to the identifier when specifying a type and next to the key in dictionary literals. (colon)Line Length Violation: Line should be 120 characters or less: currently 139 characters (line_length). Colon Violation: Colons should be next to the identifier when specifying a type and next to the key in dictionary literals. (colon)Line Length Violation: Line should be 120 characters or less: currently 147 characters (line_length). Colon Violation: Colons should be next to the identifier when specifying a type and next to the key in dictionary literals. (colon)Line Length Violation: Line should be 120 characters or less: currently 146 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 133 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 128 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 123 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 128 characters (line_length). Vertical Whitespace Violation: Limit vertical whitespace to a single empty line. Currently 2. (vertical_whitespace). Colon Violation: Colons should be next to the identifier when specifying a type and next to the key in dictionary literals. (colon)Line Length Violation: Line should be 120 characters or less: currently 139 characters (line_length). Colon Violation: Colons should be next to the identifier when specifying a type and next to the key in dictionary literals. (colon)Line Length Violation: Line should be 120 characters or less: currently 147 characters (line_length). Colon Violation: Colons should be next to the identifier when specifying a type and next to the key in dictionary literals. (colon)Line Length Violation: Line should be 120 characters or less: currently 146 characters (line_length). File Line Length Violation: File should contain 400 lines or less: currently contains 476 (file_length). Line Length Violation: Line should be 120 characters or less: currently 123 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 122 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 159 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 136 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 143 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 136 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 122 characters (line_length). Type Body Length Violation: Type body should span 200 lines or less excluding comments and whitespace: currently spans 276 lines (type_body_length). Colon Violation: Colons should be next to the identifier when specifying a type and next to the key in dictionary literals. (colon). Colon Violation: Colons should be next to the identifier when specifying a type and next to the key in dictionary literals. (colon). Colon Violation: Colons should be next to the identifier when specifying a type and next to the key in dictionary literals. (colon). Colon Violation: Colons should be next to the identifier when specifying a type and next to the key in dictionary literals. (colon). Colon Violation: Colons should be next to the identifier when specifying a type and next to the key in dictionary literals. (colon). Colon Violation: Colons should be next to the identifier when specifying a type and next to the key in dictionary literals. (colon). Colon Violation: Colons should be next to the identifier when specifying a type and next to the key in dictionary literals. (colon). Trailing Newline Violation: Files should have a single trailing newline. (trailing_newline). Trailing Newline Violation: Files should have a single trailing newline. (trailing_newline). Line Length Violation: Line should be 120 characters or less: currently 144 characters (line_length). Trailing Newline Violation: Files should have a single trailing newline. (trailing_newline). Vertical Whitespace Violation: Limit vertical whitespace to a single empty line. Currently 2. (vertical_whitespace). Vertical Whitespace Violation: Limit vertical whitespace to a single empty line. Currently 2. (vertical_whitespace). Implicit Getter Violation: Computed read-only properties should avoid using the get keyword. (implicit_getter). Line Length Violation: Line should be 120 characters or less: currently 135 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 143 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 142 characters (line_length). File Line Length Violation: File should contain 400 lines or less: currently contains 476 (file_length). Line Length Violation: Line should be 120 characters or less: currently 123 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 122 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 159 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 136 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 143 characters (line_length). Force Try Violation: Force tries should be avoided. (force_try). Force Try Violation: Force tries should be avoided. (force_try). Colon Violation: Colons should be next to the identifier when specifying a type and next to the key in dictionary literals. (colon). Line Length Violation: Line should be 120 characters or less: currently 135 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 143 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 142 characters (line_length). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)Vertical Whitespace Violation: Limit vertical whitespace to a single empty line. Currently 2. (vertical_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Newline Violation: Files should have a single trailing newline. (trailing_newline). Trailing Newline Violation: Files should have a single trailing newline. (trailing_newline). Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Colon Violation: Colons should be next to the identifier when specifying a type and next to the key in dictionary literals. (colon). Colon Violation: Colons should be next to the identifier when specifying a type and next to the key in dictionary literals. (colon). Line Length Violation: Line should be 120 characters or less: currently 164 characters (line_length). Vertical Whitespace Violation: Limit vertical whitespace to a single empty line. Currently 2. (vertical_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)Vertical Whitespace Violation: Limit vertical whitespace to a single empty line. Currently 2. (vertical_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Force Try Violation: Force tries should be avoided. (force_try). Force Try Violation: Force tries should be avoided. (force_try). Colon Violation: Colons should be next to the identifier when specifying a type and next to the key in dictionary literals. (colon). Line Length Violation: Line should be 120 characters or less: currently 132 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 201 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 168 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 171 characters (line_length). Vertical Whitespace Violation: Limit vertical whitespace to a single empty line. Currently 2. (vertical_whitespace)Trailing Newline Violation: Files should have a single trailing newline. (trailing_newline)File Line Length Violation: File should contain 400 lines or less: currently contains 611 (file_length). Type Body Length Violation: Type body should span 200 lines or less excluding comments and whitespace: currently spans 268 lines (type_body_length). Todo Violation: TODOs should be avoided (add other fade curves or ditch...). (todo). Todo Violation: TODOs should be avoided (allow for different exponentia...). (todo). Identifier Name Violation: Variable name should be between 3 and 40 characters long: 'to' (identifier_name). Identifier Name Violation: Variable name should be between 3 and 40 characters long: 'to' (identifier_name). Identifier Name Violation: Variable name should be between 3 and 40 characters long: 'to' (identifier_name). Identifier Name Violation: Variable name should be between 3 and 40 characters long: 'to' (identifier_name). Mark Violation: MARK comment should be in valid format. e.g. '// MARK: ...' or '// MARK: - ...' (mark). Mark Violation: MARK comment should be in valid format. e.g. '// MARK: ...' or '// MARK: - ...' (mark). Mark Violation: MARK comment should be in valid format. e.g. '// MARK: ...' or '// MARK: - ...' (mark). Mark Violation: MARK comment should be in valid format. e.g. '// MARK: ...' or '// MARK: - ...' (mark). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)Vertical Whitespace Violation: Limit vertical whitespace to a single empty line. Currently 2. (vertical_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)Vertical Whitespace Violation: Limit vertical whitespace to a single empty line. Currently 2. (vertical_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Vertical Whitespace Violation: Limit vertical whitespace to a single empty line. Currently 3. (vertical_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Line Length Violation: Line should be 120 characters or less: currently 164 characters (line_length). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Vertical Whitespace Violation: Limit vertical whitespace to a single empty line. Currently 3. (vertical_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Line Length Violation: Line should be 120 characters or less: currently 164 characters (line_length). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Vertical Whitespace Violation: Limit vertical whitespace to a single empty line. Currently 2. (vertical_whitespace). Type Body Length Violation: Type body should span 200 lines or less excluding comments and whitespace: currently spans 226 lines (type_body_length). Trailing Newline Violation: Files should have a single trailing newline. (trailing_newline)File Line Length Violation: File should contain 400 lines or less: currently contains 729 (file_length). Type Body Length Violation: Type body should span 200 lines or less excluding comments and whitespace: currently spans 343 lines (type_body_length). Todo Violation: TODOs should be avoided (add other fade curves or ditch...). (todo). Trailing Semicolon Violation: Lines should not have trailing semicolons. (trailing_semicolon). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)Vertical Whitespace Violation: Limit vertical whitespace to a single empty line. Currently 2. (vertical_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Vertical Whitespace Violation: Limit vertical whitespace to a single empty line. Currently 2. (vertical_whitespace). Type Body Length Violation: Type body should span 200 lines or less excluding comments and whitespace: currently spans 226 lines (type_body_length). Trailing Newline Violation: Files should have a single trailing newline. (trailing_newline)File Line Length Violation: File should contain 400 lines or less: currently contains 729 (file_length). Type Body Length Violation: Type body should span 200 lines or less excluding comments and whitespace: currently spans 343 lines (type_body_length). Todo Violation: TODOs should be avoided (add other fade curves or ditch...). (todo). Trailing Semicolon Violation: Lines should not have trailing semicolons. (trailing_semicolon). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)Vertical Whitespace Violation: Limit vertical whitespace to a single empty line. Currently 2. (vertical_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Newline Violation: Files should have a single trailing newline. (trailing_newline)File Line Length Violation: File should contain 400 lines or less: currently contains 724 (file_length). Trailing Newline Violation: Files should have a single trailing newline. (trailing_newline)File Line Length Violation: File should contain 400 lines or less: currently contains 722 (file_length). Trailing Newline Violation: Files should have a single trailing newline. (trailing_newline)File Line Length Violation: File should contain 400 lines or less: currently contains 722 (file_length). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Newline Violation: Files should have a single trailing newline. (trailing_newline)File Line Length Violation: File should contain 400 lines or less: currently contains 626 (file_length). Type Body Length Violation: Type body should span 200 lines or less excluding comments and whitespace: currently spans 293 lines (type_body_length). Todo Violation: TODOs should be avoided (add other fade curves or ditch...). (todo). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Line Length Violation: Line should be 120 characters or less: currently 138 characters (line_length). File Line Length Violation: File should contain 400 lines or less: currently contains 476 (file_length). Line Length Violation: Line should be 120 characters or less: currently 123 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 122 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 159 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 136 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 143 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 136 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 122 characters (line_length). Type Body Length Violation: Type body should span 200 lines or less excluding comments and whitespace: currently spans 276 lines (type_body_length). Colon Violation: Colons should be next to the identifier when specifying a type and next to the key in dictionary literals. (colon). Control Statement Violation: if,for,while,do statements shouldn't wrap their conditionals in parentheses. (control_statement). Control Statement Violation: if,for,while,do statements shouldn't wrap their conditionals in parentheses. (control_statement). Control Statement Violation: if,for,while,do statements shouldn't wrap their conditionals in parentheses. (control_statement). Cyclomatic Complexity Violation: Function should have complexity 10 or less: currently complexity equals 21 (cyclomatic_complexity)Function Body Length Violation: Function body should span 40 lines or less excluding comments and whitespace: currently spans 118 lines (function_body_length). Cyclomatic Complexity Violation: Function should have complexity 10 or less: currently complexity equals 26 (cyclomatic_complexity)Function Body Length Violation: Function body should span 40 lines or less excluding comments and whitespace: currently spans 118 lines (function_body_length). Line Length Violation: Line should be 120 characters or less: currently 144 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 127 characters (line_length). Trailing Newline Violation: Files should have a single trailing newline. (trailing_newline). File Line Length Violation: File should contain 400 lines or less: currently contains 700 (file_length). Type Body Length Violation: Type body should span 200 lines or less excluding comments and whitespace: currently spans 330 lines (type_body_length). Todo Violation: TODOs should be avoided (allow for different exponentia...). (todo). Type Body Length Violation: Type body should span 200 lines or less excluding comments and whitespace: currently spans 273 lines (type_body_length). File Line Length Violation: File should contain 400 lines or less: currently contains 706 (file_length). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Line Length Violation: Line should be 120 characters or less: currently 132 characters (line_length). Todo Violation: TODOs should be avoided (allow for different exponentia...). (todo). Line Length Violation: Line should be 120 characters or less: currently 121 characters (line_length). Vertical Whitespace Violation: Limit vertical whitespace to a single empty line. Currently 2. (vertical_whitespace). Discarded Notification Center Observer Violation: When registering for a notification using a block, the opaque observer that is returned should be stored so it can be removed later. (discarded_notification_center_observer). Discarded Notification Center Observer Violation: When registering for a notification using a block, the opaque observer that is returned should be stored so it can be removed later. (discarded_notification_center_observer). Trailing Newline Violation: Files should have a single trailing newline. (trailing_newline)File Line Length Violation: File should contain 400 lines or less: currently contains 574 (file_length). Todo Violation: TODOs should be avoided (remove from signal chain). (todo). Todo Violation: TODOs should be avoided (This might not be working?). (todo). Identifier Name Violation: Variable name should be between 3 and 40 characters long: 'au' (identifier_name). Identifier Name Violation: Variable name should be between 3 and 40 characters long: 'au' (identifier_name). Identifier Name Violation: Variable name should be between 3 and 40 characters long: 'au' (identifier_name). Line Length Violation: Line should be 120 characters or less: currently 125 characters (line_length). Type Body Length Violation: Type body should span 200 lines or less excluding comments and whitespace: currently spans 281 lines (type_body_length). Cyclomatic Complexity Violation: Function should have complexity 10 or less: currently complexity equals 19 (cyclomatic_complexity)Function Body Length Violation: Function body should span 40 lines or less excluding comments and whitespace: currently spans 106 lines (function_body_length). Vertical Whitespace Violation: Limit vertical whitespace to a single empty line. Currently 2. (vertical_whitespace). Discarded Notification Center Observer Violation: When registering for a notification using a block, the opaque observer that is returned should be stored so it can be removed later. (discarded_notification_center_observer). Discarded Notification Center Observer Violation: When registering for a notification using a block, the opaque observer that is returned should be stored so it can be removed later. (discarded_notification_center_observer). Trailing Newline Violation: Files should have a single trailing newline. (trailing_newline)File Line Length Violation: File should contain 400 lines or less: currently contains 574 (file_length). Todo Violation: TODOs should be avoided (remove from signal chain). (todo). Todo Violation: TODOs should be avoided (This might not be working?). (todo). Identifier Name Violation: Variable name should be between 3 and 40 characters long: 'au' (identifier_name). Identifier Name Violation: Variable name should be between 3 and 40 characters long: 'au' (identifier_name). Identifier Name Violation: Variable name should be between 3 and 40 characters long: 'au' (identifier_name). Cyclomatic Complexity Violation: Function should have complexity 10 or less: currently complexity equals 19 (cyclomatic_complexity)Function Body Length Violation: Function body should span 40 lines or less excluding comments and whitespace: currently spans 106 lines (function_body_length). File Line Length Violation: File should contain 400 lines or less: currently contains 502 (file_length). Line Length Violation: Line should be 120 characters or less: currently 125 characters (line_length). Type Body Length Violation: Type body should span 200 lines or less excluding comments and whitespace: currently spans 289 lines (type_body_length). Cyclomatic Complexity Violation: Function should have complexity 10 or less: currently complexity equals 22 (cyclomatic_complexity)Function Body Length Violation: Function body should span 40 lines or less excluding comments and whitespace: currently spans 119 lines (function_body_length). Cyclomatic Complexity Violation: Function should have complexity 10 or less: currently complexity equals 21 (cyclomatic_complexity)Function Body Length Violation: Function body should span 40 lines or less excluding comments and whitespace: currently spans 111 lines (function_body_length). Cyclomatic Complexity Violation: Function should have complexity 10 or less: currently complexity equals 21 (cyclomatic_complexity)Function Body Length Violation: Function body should span 40 lines or less excluding comments and whitespace: currently spans 111 lines (function_body_length). Type Body Length Violation: Type body should span 200 lines or less excluding comments and whitespace: currently spans 289 lines (type_body_length). Line Length Violation: Line should be 120 characters or less: currently 128 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 138 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 133 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 133 characters (line_length). Discarded Notification Center Observer Violation: When registering for a notification using a block, the opaque observer that is returned should be stored so it can be removed later. (discarded_notification_center_observer)Line Length Violation: Line should be 120 characters or less: currently 142 characters (line_length). Discarded Notification Center Observer Violation: When registering for a notification using a block, the opaque observer that is returned should be stored so it can be removed later. (discarded_notification_center_observer)Line Length Violation: Line should be 120 characters or less: currently 131 characters (line_length). Vertical Whitespace Violation: Limit vertical whitespace to a single empty line. Currently 2. (vertical_whitespace). Todo Violation: TODOs should be avoided (handle this better). (todo). Identifier Name Violation: Variable name should be between 3 and 40 characters long: 'au' (identifier_name). Identifier Name Violation: Variable name should be between 3 and 40 characters long: 'au' (identifier_name). Identifier Name Violation: Variable name should be between 3 and 40 characters long: 'au' (identifier_name). Line Length Violation: Line should be 120 characters or less: currently 128 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 138 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 133 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 133 characters (line_length). Discarded Notification Center Observer Violation: When registering for a notification using a block, the opaque observer that is returned should be stored so it can be removed later. (discarded_notification_center_observer)Line Length Violation: Line should be 120 characters or less: currently 142 characters (line_length). Discarded Notification Center Observer Violation: When registering for a notification using a block, the opaque observer that is returned should be stored so it can be removed later. (discarded_notification_center_observer)Line Length Violation: Line should be 120 characters or less: currently 131 characters (line_length). Vertical Whitespace Violation: Limit vertical whitespace to a single empty line. Currently 2. (vertical_whitespace). Todo Violation: TODOs should be avoided (handle this better). (todo). Identifier Name Violation: Variable name should be between 3 and 40 characters long: 'au' (identifier_name). Identifier Name Violation: Variable name should be between 3 and 40 characters long: 'au' (identifier_name). Identifier Name Violation: Variable name should be between 3 and 40 characters long: 'au' (identifier_name). Line Length Violation: Line should be 120 characters or less: currently 128 characters (line_length). Discarded Notification Center Observer Violation: When registering for a notification using a block, the opaque observer that is returned should be stored so it can be removed later. (discarded_notification_center_observer)Line Length Violation: Line should be 120 characters or less: currently 131 characters (line_length). Identifier Name Violation: Variable name should be between 3 and 40 characters long: 'au' (identifier_name). Vertical Whitespace Violation: Limit vertical whitespace to a single empty line. Currently 2. (vertical_whitespace)Trailing Newline Violation: Files should have a single trailing newline. (trailing_newline)File Line Length Violation: File should contain 400 lines or less: currently contains 626 (file_length). Colon Violation: Colons should be next to the identifier when specifying a type and next to the key in dictionary literals. (colon). Line Length Violation: Line should be 120 characters or less: currently 138 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 127 characters (line_length). Discarded Notification Center Observer Violation: When registering for a notification using a block, the opaque observer that is returned should be stored so it can be removed later. (discarded_notification_center_observer)Line Length Violation: Line should be 120 characters or less: currently 142 characters (line_length). Discarded Notification Center Observer Violation: When registering for a notification using a block, the opaque observer that is returned should be stored so it can be removed later. (discarded_notification_center_observer)Line Length Violation: Line should be 120 characters or less: currently 131 characters (line_length). Vertical Whitespace Violation: Limit vertical whitespace to a single empty line. Currently 2. (vertical_whitespace). Vertical Whitespace Violation: Limit vertical whitespace to a single empty line. Currently 2. (vertical_whitespace). Vertical Whitespace Violation: Limit vertical whitespace to a single empty line. Currently 2. (vertical_whitespace). Todo Violation: TODOs should be avoided (This might not be working?). (todo). Identifier Name Violation: Variable name should be between 3 and 40 characters long: 'au' (identifier_name). Identifier Name Violation: Variable name should be between 3 and 40 characters long: 'au' (identifier_name). Identifier Name Violation: Variable name should be between 3 and 40 characters long: 'au' (identifier_name). Todo Violation: TODOs should be avoided (This might not be working?). (todo). Identifier Name Violation: Variable name should be between 3 and 40 characters long: 'au' (identifier_name). Line Length Violation: Line should be 120 characters or less: currently 126 characters (line_length). Force Try Violation: Force tries should be avoided. (force_try). Trailing Newline Violation: Files should have a single trailing newline. (trailing_newline). Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Discarded Notification Center Observer Violation: When registering for a notification using a block, the opaque observer that is returned should be stored so it can be removed later. (discarded_notification_center_observer). Discarded Notification Center Observer Violation: When registering for a notification using a block, the opaque observer that is returned should be stored so it can be removed later. (discarded_notification_center_observer). Discarded Notification Center Observer Violation: When registering for a notification using a block, the opaque observer that is returned should be stored so it can be removed later. (discarded_notification_center_observer). Discarded Notification Center Observer Violation: When registering for a notification using a block, the opaque observer that is returned should be stored so it can be removed later. (discarded_notification_center_observer). Identifier Name Violation: Variable name should be between 3 and 40 characters long: 'to' (identifier_name). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). File Line Length Violation: File should contain 400 lines or less: currently contains 733 (file_length). Type Body Length Violation: Type body should span 200 lines or less excluding comments and whitespace: currently spans 336 lines (type_body_length). Todo Violation: TODOs should be avoided (add other fade curves or ditch...). (todo). Todo Violation: TODOs should be avoided (allow for different exponentia...). (todo). Implicit Getter Violation: Computed read-only properties should avoid using the get keyword. (implicit_getter). Colon Violation: Colons should be next to the identifier when specifying a type and next to the key in dictionary literals. (colon). Line Length Violation: Line should be 120 characters or less: currently 126 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 143 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 132 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 121 characters (line_length). Syntactic Sugar Violation: Shorthand syntactic sugar should be used, i.e. [String: Int] instead of Dictionary. (syntactic_sugar). Implicit Getter Violation: Computed read-only properties should avoid using the get keyword. (implicit_getter). Unused Optional Binding Violation: Prefer != nil over let _ = (unused_optional_binding). Identifier Name Violation: Variable name should be between 3 and 40 characters long: 'to' (identifier_name). File Line Length Violation: File should contain 400 lines or less: currently contains 733 (file_length). Type Body Length Violation: Type body should span 200 lines or less excluding comments and whitespace: currently spans 336 lines (type_body_length). Todo Violation: TODOs should be avoided (add other fade curves or ditch...). (todo). Todo Violation: TODOs should be avoided (allow for different exponentia...). (todo). Colon Violation: Colons should be next to the identifier when specifying a type and next to the key in dictionary literals. (colon). Line Length Violation: Line should be 120 characters or less: currently 126 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 143 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 132 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 121 characters (line_length). Syntactic Sugar Violation: Shorthand syntactic sugar should be used, i.e. [String: Int] instead of Dictionary. (syntactic_sugar). Implicit Getter Violation: Computed read-only properties should avoid using the get keyword. (implicit_getter). Identifier Name Violation: Variable name should be between 3 and 40 characters long: 'nn' (identifier_name). Identifier Name Violation: Variable name should be between 3 and 40 characters long: 'nn' (identifier_name)Identifier Name Violation: Variable name should be between 3 and 40 characters long: 'pb' (identifier_name). Vertical Parameter Alignment Violation: Function parameters should be aligned vertically if they're in multiple lines in a declaration. (vertical_parameter_alignment). Vertical Parameter Alignment Violation: Function parameters should be aligned vertically if they're in multiple lines in a declaration. (vertical_parameter_alignment). Control Statement Violation: if,for,while,do statements shouldn't wrap their conditionals in parentheses. (control_statement). Control Statement Violation: if,for,while,do statements shouldn't wrap their conditionals in parentheses. (control_statement). Comma Spacing Violation: There should be no space before and one after any comma. (comma). Void Return Violation: Prefer -> Void over -> (). (void_return)Line Length Violation: Line should be 120 characters or less: currently 157 characters (line_length). Vertical Whitespace Violation: Limit vertical whitespace to a single empty line. Currently 2. (vertical_whitespace). Vertical Whitespace Violation: Limit vertical whitespace to a single empty line. Currently 2. (vertical_whitespace). Vertical Whitespace Violation: Limit vertical whitespace to a single empty line. Currently 2. (vertical_whitespace). Vertical Whitespace Violation: Limit vertical whitespace to a single empty line. Currently 2. (vertical_whitespace). Vertical Whitespace Violation: Limit vertical whitespace to a single empty line. Currently 2. (vertical_whitespace). Vertical Whitespace Violation: Limit vertical whitespace to a single empty line. Currently 2. (vertical_whitespace). Vertical Whitespace Violation: Limit vertical whitespace to a single empty line. Currently 2. (vertical_whitespace). Vertical Whitespace Violation: Limit vertical whitespace to a single empty line. Currently 2. (vertical_whitespace). Vertical Whitespace Violation: Limit vertical whitespace to a single empty line. Currently 2. (vertical_whitespace). Vertical Whitespace Violation: Limit vertical whitespace to a single empty line. Currently 2. (vertical_whitespace). Vertical Whitespace Violation: Limit vertical whitespace to a single empty line. Currently 2. (vertical_whitespace). Implicit Getter Violation: Computed read-only properties should avoid using the get keyword. (implicit_getter). Control Statement Violation: if,for,while,do statements shouldn't wrap their conditionals in parentheses. (control_statement). Line Length Violation: Line should be 120 characters or less: currently 159 characters (line_length). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Line Length Violation: Line should be 120 characters or less: currently 143 characters (line_length). Discarded Notification Center Observer Violation: When registering for a notification using a block, the opaque observer that is returned should be stored so it can be removed later. (discarded_notification_center_observer). Discarded Notification Center Observer Violation: When registering for a notification using a block, the opaque observer that is returned should be stored so it can be removed later. (discarded_notification_center_observer). Line Length Violation: Line should be 120 characters or less: currently 152 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 132 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 136 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 122 characters (line_length). Identifier Name Violation: Variable name should be between 3 and 40 characters long: 'q' (identifier_name). Identifier Name Violation: Variable name should be between 3 and 40 characters long: 'q' (identifier_name). Identifier Name Violation: Variable name should be between 3 and 40 characters long: 'q' (identifier_name). Line Length Violation: Line should be 120 characters or less: currently 129 characters (line_length). Trailing Semicolon Violation: Lines should not have trailing semicolons. (trailing_semicolon). Trailing Semicolon Violation: Lines should not have trailing semicolons. (trailing_semicolon). Trailing Semicolon Violation: Lines should not have trailing semicolons. (trailing_semicolon). Trailing Semicolon Violation: Lines should not have trailing semicolons. (trailing_semicolon). Function Body Length Violation: Function body should span 40 lines or less excluding comments and whitespace: currently spans 42 lines (function_body_length). Control Statement Violation: if,for,while,do statements shouldn't wrap their conditionals in parentheses. (control_statement)Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Control Statement Violation: if,for,while,do statements shouldn't wrap their conditionals in parentheses. (control_statement)Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Control Statement Violation: if,for,while,do statements shouldn't wrap their conditionals in parentheses. (control_statement)Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Identifier Name Violation: Variable name should only contain alphanumeric characters: 'ch_feedbackReadout' (identifier_name). Identifier Name Violation: Variable name should only contain alphanumeric characters: 'ch_wetFractionReadout' (identifier_name). Identifier Name Violation: Variable name should only contain alphanumeric characters: 'ch_modDepthReadout' (identifier_name). Identifier Name Violation: Variable name should only contain alphanumeric characters: 'ch_modFreqReadout' (identifier_name). Identifier Name Violation: Variable name should only contain alphanumeric characters: 'ch_feedbackSlider' (identifier_name). Identifier Name Violation: Variable name should only contain alphanumeric characters: 'ch_wetFractionSlider' (identifier_name). Identifier Name Violation: Variable name should only contain alphanumeric characters: 'ch_modDepthSlider' (identifier_name). Identifier Name Violation: Variable name should only contain alphanumeric characters: 'ch_modFreqSlider' (identifier_name). Identifier Name Violation: Variable name should only contain alphanumeric characters: 'fl_feedbackReadout' (identifier_name). Identifier Name Violation: Variable name should only contain alphanumeric characters: 'fl_wetFractionReadout' (identifier_name). Identifier Name Violation: Variable name should only contain alphanumeric characters: 'fl_modDepthReadout' (identifier_name). Identifier Name Violation: Variable name should only contain alphanumeric characters: 'fl_modFreqReadout' (identifier_name). Identifier Name Violation: Variable name should only contain alphanumeric characters: 'fl_feedbackSlider' (identifier_name). Identifier Name Violation: Variable name should only contain alphanumeric characters: 'fl_wetFractionSlider' (identifier_name). Identifier Name Violation: Variable name should only contain alphanumeric characters: 'fl_modDepthSlider' (identifier_name). Identifier Name Violation: Variable name should only contain alphanumeric characters: 'fl_modFreqSlider' (identifier_name). Trailing Newline Violation: Files should have a single trailing newline. (trailing_newline). Implicit Getter Violation: Computed read-only properties should avoid using the get keyword. (implicit_getter). Identifier Name Violation: Variable name should be between 3 and 40 characters long: 'dB' (identifier_name). Unused Optional Binding Violation: Prefer != nil over let _ = (unused_optional_binding). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Identifier Name Violation: Function name should start with a lowercase character: 'OffsetNote(:semitones:)' (identifier_name). Colon Violation: Colons should be next to the identifier when specifying a type and next to the key in dictionary literals. (colon). Colon Violation: Colons should be next to the identifier when specifying a type and next to the key in dictionary literals. (colon). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Semicolon Violation: Lines should not have trailing semicolons. (trailing_semicolon)Colon Violation: Colons should be next to the identifier when specifying a type and next to the key in dictionary literals. (colon). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Colon Violation: Colons should be next to the identifier when specifying a type and next to the key in dictionary literals. (colon). Colon Violation: Colons should be next to the identifier when specifying a type and next to the key in dictionary literals. (colon). Implicit Getter Violation: Computed read-only properties should avoid using the get keyword. (implicit_getter). Identifier Name Violation: Variable name should be between 3 and 40 characters long: 'dB' (identifier_name). Unused Optional Binding Violation: Prefer != nil over let _ = (unused_optional_binding). Identifier Name Violation: Variable name should be between 3 and 40 characters long: 'i' (identifier_name). Colon Violation: Colons should be next to the identifier when specifying a type and next to the key in dictionary literals. (colon). Colon Violation: Colons should be next to the identifier when specifying a type and next to the key in dictionary literals. (colon). Control Statement Violation: if,for,while,do statements shouldn't wrap their conditionals in parentheses. (control_statement). Line Length Violation: Line should be 120 characters or less: currently 128 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 194 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 155 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 141 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 218 characters (line_length). Vertical Whitespace Violation: Limit vertical whitespace to a single empty line. Currently 2. (vertical_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Line Length Violation: Line should be 120 characters or less: currently 127 characters (line_length). Todo Violation: TODOs should be avoided (this would tell Booster what r...). (todo). Todo Violation: TODOs should be avoided (allow for different curve slop...). (todo). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Line Length Violation: Line should be 120 characters or less: currently 129 characters (line_length). Void Return Violation: Prefer -> Void over -> (). (void_return). Void Return Violation: Prefer -> Void over -> (). (void_return). Void Return Violation: Prefer -> Void over -> (). (void_return). Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Identifier Name Violation: Variable name should be between 3 and 40 characters long: 'ex' (identifier_name)Void Return Violation: Prefer -> Void over -> (). (void_return). Identifier Name Violation: Variable name should only contain alphanumeric characters: '_code' (identifier_name). Identifier Name Violation: Variable name should only contain alphanumeric characters: '_domain' (identifier_name). Colon Violation: Colons should be next to the identifier when specifying a type and next to the key in dictionary literals. (colon). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Identifier Name Violation: Variable name should be between 3 and 40 characters long: 'ex' (identifier_name). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Line Length Violation: Line should be 120 characters or less: currently 144 characters (line_length). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Line Length Violation: Line should be 120 characters or less: currently 129 characters (line_length). Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Colon Violation: Colons should be next to the identifier when specifying a type and next to the key in dictionary literals. (colon). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Function Body Length Violation: Function body should span 40 lines or less excluding comments and whitespace: currently spans 51 lines (function_body_length). Implicit Getter Violation: Computed read-only properties should avoid using the get keyword. (implicit_getter). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Line Length Violation: Line should be 120 characters or less: currently 130 characters (line_length). Todo Violation: TODOs should be avoided (this would tell Booster what r...). (todo). Vertical Whitespace Violation: Limit vertical whitespace to a single empty line. Currently 2. (vertical_whitespace). Colon Violation: Colons should be next to the identifier when specifying a type and next to the key in dictionary literals. (colon)Line Length Violation: Line should be 120 characters or less: currently 140 characters (line_length). Colon Violation: Colons should be next to the identifier when specifying a type and next to the key in dictionary literals. (colon). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Function Body Length Violation: Function body should span 40 lines or less excluding comments and whitespace: currently spans 136 lines (function_body_length). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Semicolon Violation: Lines should not have trailing semicolons. (trailing_semicolon). Trailing Semicolon Violation: Lines should not have trailing semicolons. (trailing_semicolon). Line Length Violation: Line should be 120 characters or less: currently 179 characters (line_length). Trailing Newline Violation: Files should have a single trailing newline. (trailing_newline). Type Body Length Violation: Type body should span 200 lines or less excluding comments and whitespace: currently spans 202 lines (type_body_length). Function Body Length Violation: Function body should span 40 lines or less excluding comments and whitespace: currently spans 59 lines (function_body_length). Identifier Name Violation: Variable name should be between 3 and 40 characters long: 'sd' (identifier_name). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Type Body Length Violation: Type body should span 200 lines or less excluding comments and whitespace: currently spans 207 lines (type_body_length). Unused Optional Binding Violation: Prefer != nil over let _ = (unused_optional_binding). Trailing Semicolon Violation: Lines should not have trailing semicolons. (trailing_semicolon). Trailing Semicolon Violation: Lines should not have trailing semicolons. (trailing_semicolon). Trailing Semicolon Violation: Lines should not have trailing semicolons. (trailing_semicolon). Trailing Semicolon Violation: Lines should not have trailing semicolons. (trailing_semicolon). Line Length Violation: Line should be 120 characters or less: currently 123 characters (line_length). Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Colon Violation: Colons should be next to the identifier when specifying a type and next to the key in dictionary literals. (colon). Force Try Violation: Force tries should be avoided. (force_try). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Colon Violation: Colons should be next to the identifier when specifying a type and next to the key in dictionary literals. (colon). Colon Violation: Colons should be next to the identifier when specifying a type and next to the key in dictionary literals. (colon). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Line Length Violation: Line should be 120 characters or less: currently 121 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 131 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 124 characters (line_length). Implicit Getter Violation: Computed read-only properties should avoid using the get keyword. (implicit_getter). Colon Violation: Colons should be next to the identifier when specifying a type and next to the key in dictionary literals. (colon). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Line Length Violation: Line should be 120 characters or less: currently 132 characters (line_length). Syntactic Sugar Violation: Shorthand syntactic sugar should be used, i.e. [String: Int] instead of Dictionary. (syntactic_sugar). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Line Length Violation: Line should be 120 characters or less: currently 132 characters (line_length). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Line Length Violation: Line should be 120 characters or less: currently 156 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 126 characters (line_length). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Line Length Violation: Line should be 120 characters or less: currently 135 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 162 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 126 characters (line_length). Vertical Whitespace Violation: Limit vertical whitespace to a single empty line. Currently 3. (vertical_whitespace)Trailing Newline Violation: Files should have a single trailing newline. (trailing_newline). Unused Enumerated Violation: When the item is not used, .indices should be used instead of .enumerated(). (unused_enumerated). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)Vertical Whitespace Violation: Limit vertical whitespace to a single empty line. Currently 2. (vertical_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Line Length Violation: Line should be 120 characters or less: currently 156 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 155 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 142 characters (line_length). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Line Length Violation: Line should be 120 characters or less: currently 123 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 123 characters (line_length). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Line Length Violation: Line should be 120 characters or less: currently 172 characters (line_length). Vertical Whitespace Violation: Limit vertical whitespace to a single empty line. Currently 3. (vertical_whitespace). Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Colon Violation: Colons should be next to the identifier when specifying a type and next to the key in dictionary literals. (colon). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Unused Closure Parameter Violation: Unused parameter \"eventTime\" in a closure should be replaced with . (unused_closure_parameter)Unused Closure Parameter Violation: Unused parameter \"eventDataSize\" in a closure should be replaced with . (unused_closure_parameter). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Line Length Violation: Line should be 120 characters or less: currently 162 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 184 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 152 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 152 characters (line_length). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Line Length Violation: Line should be 120 characters or less: currently 144 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 124 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 128 characters (line_length). Todo Violation: TODOs should be avoided (Replace this with a comment ex...). (todo). Todo Violation: TODOs should be avoided (Replace this with a comment ex...). (todo). Line Length Violation: Line should be 120 characters or less: currently 124 characters (line_length). Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Statement Position Violation: Else and catch should be on the same line, one space after the previous declaration. (statement_position)Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Identifier Name Violation: Enum element name should start with a lowercase character: 'Unexplained' (identifier_name). Identifier Name Violation: Enum element name should start with a lowercase character: 'CouldNotOpenFile' (identifier_name). Identifier Name Violation: Enum element name should start with a lowercase character: 'AudioKitNotRunning' (identifier_name). Colon Violation: Colons should be next to the identifier when specifying a type and next to the key in dictionary literals. (colon)Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Identifier Name Violation: Variable name should be between 3 and 40 characters long: 'up' (identifier_name). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Line Length Violation: Line should be 120 characters or less: currently 143 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 168 characters (line_length). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Line Length Violation: Line should be 120 characters or less: currently 137 characters (line_length). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Line Length Violation: Line should be 120 characters or less: currently 135 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 143 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 182 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 166 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 151 characters (line_length). Vertical Whitespace Violation: Limit vertical whitespace to a single empty line. Currently 2. (vertical_whitespace). Trailing Semicolon Violation: Lines should not have trailing semicolons. (trailing_semicolon). Force Try Violation: Force tries should be avoided. (force_try). Line Length Violation: Line should be 120 characters or less: currently 156 characters (line_length). Vertical Whitespace Violation: Limit vertical whitespace to a single empty line. Currently 2. (vertical_whitespace)Trailing Newline Violation: Files should have a single trailing newline. (trailing_newline)File Line Length Violation: File should contain 400 lines or less: currently contains 442 (file_length). Redundant Discardable Let Violation: Prefer _ = foo() over let _ = foo() when discarding a result from a function. (redundant_discardable_let). Redundant Discardable Let Violation: Prefer _ = foo() over let _ = foo() when discarding a result from a function. (redundant_discardable_let). Redundant Discardable Let Violation: Prefer _ = foo() over let _ = foo() when discarding a result from a function. (redundant_discardable_let). Redundant Discardable Let Violation: Prefer _ = foo() over let _ = foo() when discarding a result from a function. (redundant_discardable_let). Redundant Discardable Let Violation: Prefer _ = foo() over let _ = foo() when discarding a result from a function. (redundant_discardable_let). Redundant Discardable Let Violation: Prefer _ = foo() over let _ = foo() when discarding a result from a function. (redundant_discardable_let). Redundant Discardable Let Violation: Prefer _ = foo() over let _ = foo() when discarding a result from a function. (redundant_discardable_let). Redundant Discardable Let Violation: Prefer _ = foo() over let _ = foo() when discarding a result from a function. (redundant_discardable_let). Redundant Discardable Let Violation: Prefer _ = foo() over let _ = foo() when discarding a result from a function. (redundant_discardable_let). Redundant Discardable Let Violation: Prefer _ = foo() over let _ = foo() when discarding a result from a function. (redundant_discardable_let). Redundant Discardable Let Violation: Prefer _ = foo() over let _ = foo() when discarding a result from a function. (redundant_discardable_let). Redundant Discardable Let Violation: Prefer _ = foo() over let _ = foo() when discarding a result from a function. (redundant_discardable_let). Redundant Discardable Let Violation: Prefer _ = foo() over let _ = foo() when discarding a result from a function. (redundant_discardable_let). Force Try Violation: Force tries should be avoided. (force_try). Function Body Length Violation: Function body should span 40 lines or less excluding comments and whitespace: currently spans 44 lines (function_body_length). Identifier Name Violation: Variable name should be between 3 and 40 characters long: 'to' (identifier_name). Unused Optional Binding Violation: Prefer != nil over let _ = (unused_optional_binding). Control Statement Violation: if,for,while,do,catch statements shouldn't wrap their conditionals or arguments in parentheses. (control_statement). Control Statement Violation: if,for,while,do,catch statements shouldn't wrap their conditionals or arguments in parentheses. (control_statement). Control Statement Violation: if,for,while,do,catch statements shouldn't wrap their conditionals or arguments in parentheses. (control_statement). Force Try Violation: Force tries should be avoided. (force_try). Function Body Length Violation: Function body should span 40 lines or less excluding comments and whitespace: currently spans 44 lines (function_body_length). Identifier Name Violation: Variable name should be between 3 and 40 characters long: 'to' (identifier_name). Unused Optional Binding Violation: Prefer != nil over let _ = (unused_optional_binding). Control Statement Violation: if,for,while,do,catch statements shouldn't wrap their conditionals or arguments in parentheses. (control_statement). Control Statement Violation: if,for,while,do,catch statements shouldn't wrap their conditionals or arguments in parentheses. (control_statement). Control Statement Violation: if,for,while,do,catch statements shouldn't wrap their conditionals or arguments in parentheses. (control_statement). Force Try Violation: Force tries should be avoided. (force_try). Function Body Length Violation: Function body should span 40 lines or less excluding comments and whitespace: currently spans 44 lines (function_body_length). Identifier Name Violation: Variable name should be between 3 and 40 characters long: 'to' (identifier_name). Unused Optional Binding Violation: Prefer != nil over let _ = (unused_optional_binding). Control Statement Violation: if,for,while,do,catch statements shouldn't wrap their conditionals or arguments in parentheses. (control_statement). Control Statement Violation: if,for,while,do,catch statements shouldn't wrap their conditionals or arguments in parentheses. (control_statement). Control Statement Violation: if,for,while,do,catch statements shouldn't wrap their conditionals or arguments in parentheses. (control_statement). Line Length Violation: Line should be 120 characters or less: currently 129 characters (line_length). Todo Violation: TODOs should be resolved (.logarithmic). (todo). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Cyclomatic Complexity Violation: Function should have complexity 10 or less: currently complexity equals 15 (cyclomatic_complexity)Function Body Length Violation: Function body should span 40 lines or less excluding comments and whitespace: currently spans 45 lines (function_body_length). Cyclomatic Complexity Violation: Function should have complexity 10 or less: currently complexity equals 15 (cyclomatic_complexity)Function Body Length Violation: Function body should span 40 lines or less excluding comments and whitespace: currently spans 45 lines (function_body_length). Line Length Violation: Line should be 120 characters or less: currently 151 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 139 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 134 characters (line_length). Returning Whitespace Violation: Return arrow and return type should be separated by a single space or on a separate line. (return_arrow_whitespace). Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Colon Violation: Colons should be next to the identifier when specifying a type and next to the key in dictionary literals. (colon). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Statement Position Violation: Else and catch should be on the same line, one space after the previous declaration. (statement_position). Statement Position Violation: Else and catch should be on the same line, one space after the previous declaration. (statement_position). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Line Length Violation: Line should be 120 characters or less: currently 121 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 153 characters (line_length). Cyclomatic Complexity Violation: Function should have complexity 10 or less: currently complexity equals 19 (cyclomatic_complexity)Function Body Length Violation: Function body should span 40 lines or less excluding comments and whitespace: currently spans 77 lines (function_body_length). Cyclomatic Complexity Violation: Function should have complexity 10 or less: currently complexity equals 19 (cyclomatic_complexity)Function Body Length Violation: Function body should span 40 lines or less excluding comments and whitespace: currently spans 79 lines (function_body_length). Line Length Violation: Line should be 120 characters or less: currently 182 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 181 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 180 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 182 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 181 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 180 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 181 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 180 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 179 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 182 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 181 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 180 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 181 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 180 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 179 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 182 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 200 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 199 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 198 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 200 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 199 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 198 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 199 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 198 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 197 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 200 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 199 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 198 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 199 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 198 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 197 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 200 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 135 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 127 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 148 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 123 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 122 characters (line_length). Colon Violation: Colons should be next to the identifier when specifying a type and next to the key in dictionary literals. (colon). Colon Violation: Colons should be next to the identifier when specifying a type and next to the key in dictionary literals. (colon). Colon Violation: Colons should be next to the identifier when specifying a type and next to the key in dictionary literals. (colon). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)Vertical Whitespace Violation: Limit vertical whitespace to a single empty line. Currently 2. (vertical_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Line Length Violation: Line should be 120 characters or less: currently 132 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 124 characters (line_length). Identifier Name Violation: Variable name should be between 3 and 40 characters long: 'au' (identifier_name). Line Length Violation: Line should be 120 characters or less: currently 132 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 124 characters (line_length). Identifier Name Violation: Variable name should be between 3 and 40 characters long: 'au' (identifier_name). Line Length Violation: Line should be 120 characters or less: currently 200 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 199 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 198 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 200 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 199 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 198 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 199 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 198 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 197 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 200 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 199 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 198 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 199 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 198 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 197 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 200 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 132 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 123 characters (line_length)Force Try Violation: Force tries should be avoided. (force_try). Line Length Violation: Line should be 120 characters or less: currently 134 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 127 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 124 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 139 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 215 characters (line_length). Trailing Newline Violation: Files should have a single trailing newline. (trailing_newline). Vertical Whitespace Violation: Limit vertical whitespace to a single empty line. Currently 2. (vertical_whitespace). Vertical Whitespace Violation: Limit vertical whitespace to a single empty line. Currently 2. (vertical_whitespace). Vertical Whitespace Violation: Limit vertical whitespace to a single empty line. Currently 3. (vertical_whitespace). Vertical Whitespace Violation: Limit vertical whitespace to a single empty line. Currently 2. (vertical_whitespace). Vertical Whitespace Violation: Limit vertical whitespace to a single empty line. Currently 2. (vertical_whitespace). Function Body Length Violation: Function body should span 40 lines or less excluding comments and whitespace: currently spans 69 lines (function_body_length). Redundant Discardable Let Violation: Prefer _ = foo() over let _ = foo() when discarding a result from a function. (redundant_discardable_let). Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Large Tuple Violation: Tuples should have at most 2 members. (large_tuple). Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace)Type Body Length Violation: Type body should span 200 lines or less excluding comments and whitespace: currently spans 298 lines (type_body_length). Nesting Violation: Types should be nested at most 1 level deep (nesting). Colon Violation: Colons should be next to the identifier when specifying a type and next to the key in dictionary literals. (colon). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Line Length Violation: Line should be 120 characters or less: currently 127 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 131 characters (line_length). Discarded Notification Center Observer Violation: When registering for a notification using a block, the opaque observer that is returned should be stored so it can be removed later. (discarded_notification_center_observer)Line Length Violation: Line should be 120 characters or less: currently 146 characters (line_length). Discarded Notification Center Observer Violation: When registering for a notification using a block, the opaque observer that is returned should be stored so it can be removed later. (discarded_notification_center_observer)Line Length Violation: Line should be 120 characters or less: currently 150 characters (line_length). Todo Violation: TODOs should be resolved (remove from signal chain). (todo). Identifier Name Violation: Variable name should be between 3 and 40 characters long: 'au' (identifier_name). Identifier Name Violation: Variable name should be between 3 and 40 characters long: 'au' (identifier_name). Identifier Name Violation: Variable name should be between 3 and 40 characters long: 'au' (identifier_name). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Cyclomatic Complexity Violation: Function should have complexity 10 or less: currently complexity equals 43 (cyclomatic_complexity)Function Body Length Violation: Function body should span 40 lines or less excluding comments and whitespace: currently spans 90 lines (function_body_length). Discarded Notification Center Observer Violation: When registering for a notification using a block, the opaque observer that is returned should be stored so it can be removed later. (discarded_notification_center_observer). Line Length Violation: Line should be 120 characters or less: currently 130 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 129 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 130 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 186 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 172 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 175 characters (line_length). Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace)Function Body Length Violation: Function body should span 40 lines or less excluding comments and whitespace: currently spans 63 lines (function_body_length). Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Colon Violation: Colons should be next to the identifier when specifying a type and next to the key in dictionary literals. (colon). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Line Length Violation: Line should be 120 characters or less: currently 133 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 129 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 130 characters (line_length). Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace)Function Body Length Violation: Function body should span 40 lines or less excluding comments and whitespace: currently spans 66 lines (function_body_length). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Line Length Violation: Line should be 120 characters or less: currently 168 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 126 characters (line_length). Trailing Newline Violation: Files should have a single trailing newline. (trailing_newline)File Line Length Violation: File should contain 400 lines or less: currently contains 671 (file_length). Redundant Discardable Let Violation: Prefer _ = foo() over let _ = foo() when discarding a result from a function. (redundant_discardable_let). Redundant Discardable Let Violation: Prefer _ = foo() over let _ = foo() when discarding a result from a function. (redundant_discardable_let). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Large Tuple Violation: Tuples should have at most 2 members. (large_tuple). Colon Violation: Colons should be next to the identifier when specifying a type and next to the key in dictionary literals. (colon). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Line Length Violation: Line should be 120 characters or less: currently 151 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 151 characters (line_length). Vertical Whitespace Violation: Limit vertical whitespace to a single empty line. Currently 2. (vertical_whitespace). Line Length Violation: Line should be 120 characters or less: currently 125 characters (line_length). Function Body Length Violation: Function body should span 40 lines or less excluding comments and whitespace: currently spans 51 lines (function_body_length). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Force Try Violation: Force tries should be avoided. (force_try). Vertical Parameter Alignment Violation: Function parameters should be aligned vertically if they're in multiple lines in a declaration. (vertical_parameter_alignment). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). File Line Length Violation: File should contain 400 lines or less: currently contains 471 (file_length). Line Length Violation: Line should be 120 characters or less: currently 156 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 126 characters (line_length). Cyclomatic Complexity Violation: Function should have complexity 10 or less: currently complexity equals 13 (cyclomatic_complexity)Function Body Length Violation: Function body should span 40 lines or less excluding comments and whitespace: currently spans 48 lines (function_body_length). Line Length Violation: Line should be 120 characters or less: currently 128 characters (line_length). File Line Length Violation: File should contain 400 lines or less: currently contains 471 (file_length). Line Length Violation: Line should be 120 characters or less: currently 156 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 126 characters (line_length). Cyclomatic Complexity Violation: Function should have complexity 10 or less: currently complexity equals 13 (cyclomatic_complexity)Function Body Length Violation: Function body should span 40 lines or less excluding comments and whitespace: currently spans 48 lines (function_body_length). Line Length Violation: Line should be 120 characters or less: currently 128 characters (line_length). Identifier Name Violation: Variable name should be between 3 and 40 characters long: 'to' (identifier_name). Unused Optional Binding Violation: Prefer != nil over let _ = (unused_optional_binding). Force Try Violation: Force tries should be avoided. (force_try). Force Try Violation: Force tries should be avoided. (force_try). Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Colon Violation: Colons should be next to the identifier when specifying a type and next to the key in dictionary literals. (colon). Colon Violation: Colons should be next to the identifier when specifying a type and next to the key in dictionary literals. (colon). Colon Violation: Colons should be next to the identifier when specifying a type and next to the key in dictionary literals. (colon). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)Vertical Whitespace Violation: Limit vertical whitespace to a single empty line. Currently 3. (vertical_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)Vertical Whitespace Violation: Limit vertical whitespace to a single empty line. Currently 3. (vertical_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Force Cast Violation: Force casts should be avoided. (force_cast). Force Cast Violation: Force casts should be avoided. (force_cast). Force Cast Violation: Force casts should be avoided. (force_cast). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)Vertical Whitespace Violation: Limit vertical whitespace to a single empty line. Currently 2. (vertical_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)Vertical Whitespace Violation: Limit vertical whitespace to a single empty line. Currently 2. (vertical_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Identifier Name Violation: Enum element name should only contain alphanumeric characters: 'kMusicEventType_AUPreset' (identifier_name). Identifier Name Violation: Enum element name should only contain alphanumeric characters: 'kMusicEventType_Parameter' (identifier_name). Identifier Name Violation: Enum element name should only contain alphanumeric characters: 'kMusicEventType_MIDIRawData' (identifier_name). Identifier Name Violation: Enum element name should only contain alphanumeric characters: 'kMusicEventType_MIDIChannelMessage' (identifier_name). Identifier Name Violation: Enum element name should only contain alphanumeric characters: 'kMusicEventType_MIDINoteMessage' (identifier_name). Identifier Name Violation: Enum element name should only contain alphanumeric characters: 'kMusicEventType_Meta' (identifier_name). Identifier Name Violation: Enum element name should only contain alphanumeric characters: 'kMusicEventType_User' (identifier_name). Identifier Name Violation: Enum element name should only contain alphanumeric characters: 'kMusicEventType_ExtendedTempo' (identifier_name). Identifier Name Violation: Enum element name should only contain alphanumeric characters: 'kMusicEventType_ExtendedNote' (identifier_name). Identifier Name Violation: Enum element name should only contain alphanumeric characters: 'kMusicEventType_NULL' (identifier_name). For Where Violation: where clauses are preferred over a single if inside a for. (for_where). Cyclomatic Complexity Violation: Function should have complexity 10 or less: currently complexity equals 13 (cyclomatic_complexity)Function Body Length Violation: Function body should span 40 lines or less excluding comments and whitespace: currently spans 48 lines (function_body_length). Force Try Violation: Force tries should be avoided. (force_try). Force Try Violation: Force tries should be avoided. (force_try). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)Vertical Whitespace Violation: Limit vertical whitespace to a single empty line. Currently 2. (vertical_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Newline Violation: Files should have a single trailing newline. (trailing_newline). Vertical Whitespace Violation: Limit vertical whitespace to a single empty line. Currently 2. (vertical_whitespace). Line Length Violation: Line should be 120 characters or less: currently 128 characters (line_length). Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)Vertical Whitespace Violation: Limit vertical whitespace to a single empty line. Currently 2. (vertical_whitespace). Line Length Violation: Line should be 120 characters or less: currently 133 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 124 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 124 characters (line_length). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Line Length Violation: Line should be 120 characters or less: currently 138 characters (line_length). Identifier Name Violation: Variable name should be between 3 and 40 characters long: 'id' (identifier_name). Identifier Name Violation: Variable name should be between 3 and 40 characters long: 'id' (identifier_name). Vertical Whitespace Violation: Limit vertical whitespace to a single empty line. Currently 2. (vertical_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)Vertical Whitespace Violation: Limit vertical whitespace to a single empty line. Currently 2. (vertical_whitespace). Line Length Violation: Line should be 120 characters or less: currently 131 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 244 characters (line_length). Large Tuple Violation: Tuples should have at most 2 members. (large_tuple). Identifier Name Violation: Variable name should be between 3 and 40 characters long: 't' (identifier_name). Identifier Name Violation: Variable name should be between 3 and 40 characters long: 'f0' (identifier_name)Identifier Name Violation: Variable name should be between 3 and 40 characters long: 'f1' (identifier_name)Line Length Violation: Line should be 120 characters or less: currently 150 characters (line_length). Colon Violation: Colons should be next to the identifier when specifying a type and next to the key in dictionary literals. (colon)Redundant Discardable Let Violation: Prefer _ = foo() over let _ = foo() when discarding a result from a function. (redundant_discardable_let). Colon Violation: Colons should be next to the identifier when specifying a type and next to the key in dictionary literals. (colon). Colon Violation: Colons should be next to the identifier when specifying a type and next to the key in dictionary literals. (colon). Colon Violation: Colons should be next to the identifier when specifying a type and next to the key in dictionary literals. (colon). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Statement Position Violation: Else and catch should be on the same line, one space after the previous declaration. (statement_position). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Line Length Violation: Line should be 120 characters or less: currently 141 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 127 characters (line_length). Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Line Length Violation: Line should be 120 characters or less: currently 122 characters (line_length). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Line Length Violation: Line should be 120 characters or less: currently 124 characters (line_length). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Line Length Violation: Line should be 120 characters or less: currently 121 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 122 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 132 characters (line_length). Cyclomatic Complexity Violation: Function should have complexity 10 or less: currently complexity equals 11 (cyclomatic_complexity). Line Length Violation: Line should be 120 characters or less: currently 126 characters (line_length). For Where Violation: where clauses are preferred over a single if inside a for. (for_where). Identifier Name Violation: Variable name should only contain alphanumeric characters: '_engine' (identifier_name)Redundant Set Access Control Rule Violation: Property setter access level shouldn't be explicit if it's the same as the variable access level. (redundant_set_access_control). Line Length Violation: Line should be 120 characters or less: currently 142 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 144 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 125 characters (line_length). Function Body Length Violation: Function body should span 40 lines or less excluding comments and whitespace: currently spans 62 lines (function_body_length). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Line Length Violation: Line should be 120 characters or less: currently 146 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 145 characters (line_length). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Implicit Getter Violation: Computed read-only properties should avoid using the get keyword. (implicit_getter). File Line Length Violation: File should contain 400 lines or less: currently contains 410 (file_length). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Vertical Whitespace Violation: Limit vertical whitespace to a single empty line. Currently 2. (vertical_whitespace). Trailing Semicolon Violation: Lines should not have trailing semicolons. (trailing_semicolon). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Line Length Violation: Line should be 120 characters or less: currently 123 characters (line_length). Trailing Semicolon Violation: Lines should not have trailing semicolons. (trailing_semicolon). Control Statement Violation: if, for, guard, switch, while, and catch statements shouldn't unnecessarily wrap their conditionals or arguments in parentheses. (control_statement). Identifier Name Violation: Variable name should be between 3 and 40 characters long: 'n' (identifier_name). Todo Violation: TODOs should be resolved. (todo). Vertical Parameter Alignment Violation: Function parameters should be aligned vertically if they're in multiple lines in a declaration. (vertical_parameter_alignment). Function Body Length Violation: Function body should span 40 lines or less excluding comments and whitespace: currently spans 50 lines (function_body_length). Unused Optional Binding Violation: Prefer != nil over let _ = (unused_optional_binding). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Semicolon Violation: Lines should not have trailing semicolons. (trailing_semicolon). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Line Length Violation: Line should be 120 characters or less: currently 142 characters (line_length). Force Cast Violation: Force casts should be avoided. (force_cast). Identifier Name Violation: Variable name should only contain alphanumeric characters: '_engine' (identifier_name)Redundant Set Access Control Rule Violation: Property setter access level shouldn't be explicit if it's the same as the variable access level. (redundant_set_access_control). Line Length Violation: Line should be 120 characters or less: currently 143 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 122 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 135 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 139 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 130 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 122 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 123 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 130 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 122 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 123 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 130 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 122 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 123 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 129 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 122 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 122 characters (line_length). Trailing Newline Violation: Files should have a single trailing newline. (trailing_newline). Trailing Newline Violation: Files should have a single trailing newline. (trailing_newline). Vertical Whitespace Violation: Limit vertical whitespace to a single empty line. Currently 2. (vertical_whitespace). Vertical Whitespace Violation: Limit vertical whitespace to a single empty line. Currently 3. (vertical_whitespace). Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Statement Position Violation: Else and catch should be on the same line, one space after the previous declaration. (statement_position). Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Statement Position Violation: Else and catch should be on the same line, one space after the previous declaration. (statement_position). Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Statement Position Violation: Else and catch should be on the same line, one space after the previous declaration. (statement_position). Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Line Length Violation: Line should be 120 characters or less: currently 128 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 137 characters (line_length). Trailing Newline Violation: Files should have a single trailing newline. (trailing_newline). Line Length Violation: Line should be 120 characters or less: currently 122 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 128 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 122 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 128 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 128 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 137 characters (line_length). Trailing Newline Violation: Files should have a single trailing newline. (trailing_newline). Colon Violation: Colons should be next to the identifier when specifying a type and next to the key in dictionary literals. (colon). Vertical Parameter Alignment Violation: Function parameters should be aligned vertically if they're in multiple lines in a declaration. (vertical_parameter_alignment). Vertical Parameter Alignment Violation: Function parameters should be aligned vertically if they're in multiple lines in a declaration. (vertical_parameter_alignment). Vertical Parameter Alignment Violation: Function parameters should be aligned vertically if they're in multiple lines in a declaration. (vertical_parameter_alignment). Vertical Parameter Alignment Violation: Function parameters should be aligned vertically if they're in multiple lines in a declaration. (vertical_parameter_alignment). Vertical Parameter Alignment Violation: Function parameters should be aligned vertically if they're in multiple lines in a declaration. (vertical_parameter_alignment). Vertical Whitespace Violation: Limit vertical whitespace to a single empty line. Currently 2. (vertical_whitespace). Function Parameter Count Violation: Function should have 5 parameters or less: it currently has 6 (function_parameter_count). Function Parameter Count Violation: Function should have 5 parameters or less: it currently has 6 (function_parameter_count). Line Length Violation: Line should be 120 characters or less: currently 165 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 176 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 128 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 123 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 137 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 220 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 175 characters (line_length). Colon Violation: Colons should be next to the identifier when specifying a type and next to the key in dictionary literals. (colon). Vertical Whitespace Violation: Limit vertical whitespace to a single empty line. Currently 2. (vertical_whitespace). Identifier Name Violation: Variable name should be between 3 and 40 characters long: 'q' (identifier_name). Vertical Whitespace Violation: Limit vertical whitespace to a single empty line. Currently 2. (vertical_whitespace). Vertical Whitespace Violation: Limit vertical whitespace to a single empty line. Currently 2. (vertical_whitespace). Identifier Name Violation: Variable name should be between 3 and 40 characters long: 'q' (identifier_name). Identifier Name Violation: Variable name should be between 3 and 40 characters long: 'q' (identifier_name). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Vertical Whitespace Violation: Limit vertical whitespace to a single empty line. Currently 2. (vertical_whitespace). Vertical Whitespace Violation: Limit vertical whitespace to a single empty line. Currently 2. (vertical_whitespace). Vertical Whitespace Violation: Limit vertical whitespace to a single empty line. Currently 2. (vertical_whitespace). Vertical Whitespace Violation: Limit vertical whitespace to a single empty line. Currently 2. (vertical_whitespace). Vertical Whitespace Violation: Limit vertical whitespace to a single empty line. Currently 2. (vertical_whitespace). Vertical Whitespace Violation: Limit vertical whitespace to a single empty line. Currently 2. (vertical_whitespace). Vertical Whitespace Violation: Limit vertical whitespace to a single empty line. Currently 2. (vertical_whitespace). Vertical Whitespace Violation: Limit vertical whitespace to a single empty line. Currently 2. (vertical_whitespace). Vertical Whitespace Violation: Limit vertical whitespace to a single empty line. Currently 2. (vertical_whitespace). Vertical Whitespace Violation: Limit vertical whitespace to a single empty line. Currently 2. (vertical_whitespace). Vertical Whitespace Violation: Limit vertical whitespace to a single empty line. Currently 2. (vertical_whitespace). Vertical Whitespace Violation: Limit vertical whitespace to a single empty line. Currently 2. (vertical_whitespace). Vertical Whitespace Violation: Limit vertical whitespace to a single empty line. Currently 2. (vertical_whitespace). Vertical Whitespace Violation: Limit vertical whitespace to a single empty line. Currently 2. (vertical_whitespace). Vertical Whitespace Violation: Limit vertical whitespace to a single empty line. Currently 2. (vertical_whitespace). Vertical Whitespace Violation: Limit vertical whitespace to a single empty line. Currently 2. (vertical_whitespace). Vertical Whitespace Violation: Limit vertical whitespace to a single empty line. Currently 2. (vertical_whitespace). Vertical Whitespace Violation: Limit vertical whitespace to a single empty line. Currently 2. (vertical_whitespace). Vertical Whitespace Violation: Limit vertical whitespace to a single empty line. Currently 2. (vertical_whitespace). Vertical Whitespace Violation: Limit vertical whitespace to a single empty line. Currently 2. (vertical_whitespace). Vertical Whitespace Violation: Limit vertical whitespace to a single empty line. Currently 2. (vertical_whitespace). Line Length Violation: Line should be 120 characters or less: currently 151 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 151 characters (line_length). Identifier Name Violation: Variable name should be between 3 and 40 characters long: 'q' (identifier_name). Identifier Name Violation: Variable name should be between 3 and 40 characters long: 'q' (identifier_name). Identifier Name Violation: Variable name should be between 3 and 40 characters long: 'q' (identifier_name). Trailing Comma Violation: Collection literals should not have trailing commas. (trailing_comma). Function Body Length Violation: Function body should span 40 lines or less excluding comments and whitespace: currently spans 143 lines (function_body_length). Unused Optional Binding Violation: Prefer != nil over let _ = (unused_optional_binding). Function Body Length Violation: Function body should span 40 lines or less excluding comments and whitespace: currently spans 59 lines (function_body_length). Identifier Name Violation: Variable name should be between 3 and 40 characters long: 'y' (identifier_name). Identifier Name Violation: Variable name should be between 3 and 40 characters long: 'x' (identifier_name). Comma Spacing Violation: There should be no space before and one after any comma. (comma). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Unused Optional Binding Violation: Prefer != nil over let _ = (unused_optional_binding). Line Length Violation: Line should be 120 characters or less: currently 129 characters (line_length). Unused Optional Binding Violation: Prefer != nil over let _ = (unused_optional_binding). Control Statement Violation: if, for, guard, switch, while, and catch statements shouldn't unnecessarily wrap their conditionals or arguments in parentheses. (control_statement). Unused Optional Binding Violation: Prefer != nil over let _ = (unused_optional_binding). Redundant Optional Initialization Violation: Initializing an optional variable with nil is redundant. (redundant_optional_initialization). Line Length Violation: Line should be 120 characters or less: currently 128 characters (line_length). Identifier Name Violation: Variable name should be between 3 and 40 characters long: 'i' (identifier_name). Function Body Length Violation: Function body should span 40 lines or less excluding comments and whitespace: currently spans 54 lines (function_body_length). Unused Optional Binding Violation: Prefer != nil over let _ = (unused_optional_binding). Colon Violation: Colons should be next to the identifier when specifying a type and next to the key in dictionary literals. (colon). Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Large Tuple Violation: Tuples should have at most 2 members. (large_tuple)Line Length Violation: Line should be 120 characters or less: currently 1807 characters (line_length). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Todo Violation: FIXMEs should be resolved (we currently assume this is on...). (todo). Line Length Violation: Line should be 120 characters or less: currently 146 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 132 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 122 characters (line_length). Vertical Parameter Alignment Violation: Function parameters should be aligned vertically if they're in multiple lines in a declaration. (vertical_parameter_alignment). Control Statement Violation: if, for, guard, switch, while, and catch statements shouldn't unnecessarily wrap their conditionals or arguments in parentheses. (control_statement). Identifier Name Violation: Variable name should only contain alphanumeric characters: 'sysex_timeout' (identifier_name)Line Length Violation: Line should be 120 characters or less: currently 152 characters (line_length)Unused Closure Parameter Violation: Unused parameter \"note\" in a closure should be replaced with . (unused_closure_parameter). Identifier Name Violation: Variable name should only contain alphanumeric characters: 'sysex_success' (identifier_name)Line Length Violation: Line should be 120 characters or less: currently 152 characters (line_length)Unused Closure Parameter Violation: Unused parameter \"note\" in a closure should be replaced with . (unused_closure_parameter). Shorthand Operator Violation: Prefer shorthand operators (+=, -=, =, /=) over doing the operation and assigning. (shorthand_operator). Control Statement Violation: if, for, guard, switch, while, and catch statements shouldn't unnecessarily wrap their conditionals or arguments in parentheses. (control_statement). Shorthand Operator Violation: Prefer shorthand operators (+=, -=, =, /=) over doing the operation and assigning. (shorthand_operator). Control Statement Violation: if, for, guard, switch, while, and catch statements shouldn't unnecessarily wrap their conditionals or arguments in parentheses. (control_statement). Control Statement Violation: if, for, guard, switch, while, and catch statements shouldn't unnecessarily wrap their conditionals or arguments in parentheses. (control_statement). Colon Violation: Colons should be next to the identifier when specifying a type and next to the key in dictionary literals. (colon)Identifier Name Violation: Variable name should only contain alphanumeric characters: 'output_index' (identifier_name). Colon Violation: Colons should be next to the identifier when specifying a type and next to the key in dictionary literals. (colon). Colon Violation: Colons should be next to the identifier when specifying a type and next to the key in dictionary literals. (colon)Identifier Name Violation: Variable name should only contain alphanumeric characters: 'input_index' (identifier_name). Colon Violation: Colons should be next to the identifier when specifying a type and next to the key in dictionary literals. (colon). Colon Violation: Colons should be next to the identifier when specifying a type and next to the key in dictionary literals. (colon). File Line Length Violation: File should contain 400 lines or less: currently contains 449 (file_length). Colon Violation: Colons should be next to the identifier when specifying a type and next to the key in dictionary literals. (colon). Colon Violation: Colons should be next to the identifier when specifying a type and next to the key in dictionary literals. (colon). Trailing Newline Violation: Files should have a single trailing newline. (trailing_newline). Colon Violation: Colons should be next to the identifier when specifying a type and next to the key in dictionary literals. (colon). Colon Violation: Colons should be next to the identifier when specifying a type and next to the key in dictionary literals. (colon)Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Colon Violation: Colons should be next to the identifier when specifying a type and next to the key in dictionary literals. (colon). Line Length Violation: Line should be 120 characters or less: currently 123 characters (line_length). Colon Violation: Colons should be next to the identifier when specifying a type and next to the key in dictionary literals. (colon)Identifier Name Violation: Variable name should be between 3 and 40 characters long: 'b' (identifier_name). Trailing Newline Violation: Files should have a single trailing newline. (trailing_newline). Type Name Violation: Type name should only contain alphanumeric characters: 'K5000W_messages' (type_name). Type Name Violation: Type name should only contain alphanumeric characters: 'K5000_messages' (type_name). Identifier Name Violation: Enum element name should only contain alphanumeric characters: 'dump_request_drum_inst' (identifier_name). Identifier Name Violation: Enum element name should only contain alphanumeric characters: 'dump_request_drum_kit' (identifier_name). Identifier Name Violation: Enum element name should only contain alphanumeric characters: 'area_b_dump_request_pcm' (identifier_name). Identifier Name Violation: Enum element name should only contain alphanumeric characters: 'dump_reqest' (identifier_name). Type Name Violation: Type name should only contain alphanumeric characters: 'K5000W_Requests' (type_name). Identifier Name Violation: Enum element name should only contain alphanumeric characters: 'area_f_dump_reqest' (identifier_name). Identifier Name Violation: Enum element name should only contain alphanumeric characters: 'area_e_dump_reqest' (identifier_name). Vertical Whitespace Violation: Limit vertical whitespace to a single empty line. Currently 2. (vertical_whitespace). Function Body Length Violation: Function body should span 40 lines or less excluding comments and whitespace: currently spans 143 lines (function_body_length). Function Body Length Violation: Function body should span 40 lines or less excluding comments and whitespace: currently spans 59 lines (function_body_length). Line Length Violation: Line should be 120 characters or less: currently 137 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 175 characters (line_length). Identifier Name Violation: Variable name should be between 3 and 40 characters long: 'q' (identifier_name). Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Trailing Newline Violation: Files should have a single trailing newline. (trailing_newline). Type Name Violation: Type name should only contain alphanumeric characters: 'K5000W_messages' (type_name). Type Name Violation: Type name should only contain alphanumeric characters: 'K5000_messages' (type_name). Identifier Name Violation: Enum element name should only contain alphanumeric characters: 'dump_request_drum_inst' (identifier_name). Identifier Name Violation: Enum element name should only contain alphanumeric characters: 'dump_request_drum_kit' (identifier_name). Identifier Name Violation: Enum element name should only contain alphanumeric characters: 'area_b_dump_request_pcm' (identifier_name). Identifier Name Violation: Enum element name should only contain alphanumeric characters: 'dump_reqest' (identifier_name). Type Name Violation: Type name should only contain alphanumeric characters: 'K5000W_Requests' (type_name). Identifier Name Violation: Enum element name should only contain alphanumeric characters: 'area_f_dump_reqest' (identifier_name). Colon Violation: Colons should be next to the identifier when specifying a type and next to the key in dictionary literals. (colon)Identifier Name Violation: Variable name should only contain alphanumeric characters: 'SYSEX_END' (identifier_name). Colon Violation: Colons should be next to the identifier when specifying a type and next to the key in dictionary literals. (colon)Identifier Name Violation: Variable name should only contain alphanumeric characters: 'K5000_SYSEX_START' (identifier_name). Colon Violation: Colons should be next to the identifier when specifying a type and next to the key in dictionary literals. (colon). Colon Violation: Colons should be next to the identifier when specifying a type and next to the key in dictionary literals. (colon)Type Name Violation: Type name should start with an uppercase character: 'kawaiK5000' (type_name). Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Multiple Closures with Trailing Closure Violation: Trailing closure syntax should not be used when passing more than one closure argument. (multiple_closures_with_trailing_closure). Identifier Name Violation: Variable name should start with a lowercase character: 'K5000' (identifier_name). Colon Violation: Colons should be next to the identifier when specifying a type and next to the key in dictionary literals. (colon). Identifier Name Violation: Variable name should be between 3 and 40 characters long: 't' (identifier_name). Colon Violation: Colons should be next to the identifier when specifying a type and next to the key in dictionary literals. (colon). Colon Violation: Colons should be next to the identifier when specifying a type and next to the key in dictionary literals. (colon). Force Cast Violation: Force casts should be avoided. (force_cast). Operator Function Whitespace Violation: Operators should be surrounded by a single whitespace when defining them. (operator_whitespace). Colon Violation: Colons should be next to the identifier when specifying a type and next to the key in dictionary literals. (colon). Operator Function Whitespace Violation: Operators should be surrounded by a single whitespace when defining them. (operator_whitespace). Colon Violation: Colons should be next to the identifier when specifying a type and next to the key in dictionary literals. (colon). Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Multiple Closures with Trailing Closure Violation: Trailing closure syntax should not be used when passing more than one closure argument. (multiple_closures_with_trailing_closure). Identifier Name Violation: Variable name should start with a lowercase character: 'K5000' (identifier_name). Colon Violation: Colons should be next to the identifier when specifying a type and next to the key in dictionary literals. (colon). Identifier Name Violation: Variable name should be between 3 and 40 characters long: 't' (identifier_name). Colon Violation: Colons should be next to the identifier when specifying a type and next to the key in dictionary literals. (colon). Colon Violation: Colons should be next to the identifier when specifying a type and next to the key in dictionary literals. (colon). Line Length Violation: Line should be 120 characters or less: currently 128 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 122 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 128 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 128 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 123 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 220 characters (line_length). Control Statement Violation: if, for, guard, switch, while, and catch statements shouldn't unnecessarily wrap their conditionals or arguments in parentheses. (control_statement). Identifier Name Violation: Variable name should only contain alphanumeric characters: 'sysex_timeout' (identifier_name)Line Length Violation: Line should be 120 characters or less: currently 152 characters (line_length)Unused Closure Parameter Violation: Unused parameter \"note\" in a closure should be replaced with . (unused_closure_parameter). Identifier Name Violation: Variable name should only contain alphanumeric characters: 'sysex_success' (identifier_name)Line Length Violation: Line should be 120 characters or less: currently 152 characters (line_length)Unused Closure Parameter Violation: Unused parameter \"note\" in a closure should be replaced with . (unused_closure_parameter). Colon Violation: Colons should be next to the identifier when specifying a type and next to the key in dictionary literals. (colon)Line Length Violation: Line should be 120 characters or less: currently 173 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 169 characters (line_length). Colon Violation: Colons should be next to the identifier when specifying a type and next to the key in dictionary literals. (colon)Line Length Violation: Line should be 120 characters or less: currently 184 characters (line_length). Identifier Name Violation: Function name should start with a lowercase character: 'GetMIDIObjectIntegerProperty(ref:property:)' (identifier_name). Identifier Name Violation: Function name should start with a lowercase character: 'GetMIDIObjectStringProperty(ref:property:)' (identifier_name). Identifier Name Violation: Variable name should start with a lowercase character: 'SysexEnd' (identifier_name). Identifier Name Violation: Variable name should start with a lowercase character: 'K5000sysexStart' (identifier_name). Control Statement Violation: if, for, guard, switch, while, and catch statements shouldn't unnecessarily wrap their conditionals or arguments in parentheses. (control_statement). Colon Violation: Colons should be next to the identifier when specifying a type and next to the key in dictionary literals. (colon). Trailing Newline Violation: Files should have a single trailing newline. (trailing_newline). Colon Violation: Colons should be next to the identifier when specifying a type and next to the key in dictionary literals. (colon). Colon Violation: Colons should be next to the identifier when specifying a type and next to the key in dictionary literals. (colon). Line Length Violation: Line should be 120 characters or less: currently 123 characters (line_length). Colon Violation: Colons should be next to the identifier when specifying a type and next to the key in dictionary literals. (colon)Identifier Name Violation: Variable name should be between 3 and 40 characters long: 'b' (identifier_name). Control Statement Violation: if, for, guard, switch, while, and catch statements shouldn't unnecessarily wrap their conditionals or arguments in parentheses. (control_statement). Identifier Name Violation: Variable name should only contain alphanumeric characters: 'output_index' (identifier_name). Identifier Name Violation: Variable name should only contain alphanumeric characters: 'input_index' (identifier_name). Identifier Name Violation: Variable name should start with a lowercase character: 'SysexEnd' (identifier_name). Identifier Name Violation: Variable name should start with a lowercase character: 'K5000sysexStart' (identifier_name). Type Name Violation: Type name should start with an uppercase character: 'kawaiK5000' (type_name). Trailing Newline Violation: Files should have a single trailing newline. (trailing_newline). Line Length Violation: Line should be 120 characters or less: currently 176 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 136 characters (line_length). Identifier Name Violation: Variable name should be between 3 and 40 characters long: 'q' (identifier_name). Line Length Violation: Line should be 120 characters or less: currently 165 characters (line_length). Trailing Newline Violation: Files should have a single trailing newline. (trailing_newline). Type Name Violation: Type name should start with an uppercase character: 'sysexEnd' (type_name). Trailing Semicolon Violation: Lines should not have trailing semicolons. (trailing_semicolon). Closure Parameter Position Violation: Closure parameters should be on the same line as opening brace. (closure_parameter_position). Closure Parameter Position Violation: Closure parameters should be on the same line as opening brace. (closure_parameter_position). Trailing Semicolon Violation: Lines should not have trailing semicolons. (trailing_semicolon). Closure Parameter Position Violation: Closure parameters should be on the same line as opening brace. (closure_parameter_position). Colon Violation: Colons should be next to the identifier when specifying a type and next to the key in dictionary literals. (colon). Closure Parameter Position Violation: Closure parameters should be on the same line as opening brace. (closure_parameter_position). Trailing Semicolon Violation: Lines should not have trailing semicolons. (trailing_semicolon). Closure Parameter Position Violation: Closure parameters should be on the same line as opening brace. (closure_parameter_position). Control Statement Violation: if, for, guard, switch, while, and catch statements shouldn't unnecessarily wrap their conditionals or arguments in parentheses. (control_statement). Line Length Violation: Line should be 120 characters or less: currently 129 characters (line_length). Force Cast Violation: Force casts should be avoided. (force_cast). Unused Optional Binding Violation: Prefer != nil over let _ = (unused_optional_binding). Redundant Optional Initialization Violation: Initializing an optional variable with nil is redundant. (redundant_optional_initialization). Identifier Name Violation: Variable name should be between 3 and 40 characters long: 'i' (identifier_name). Function Body Length Violation: Function body should span 40 lines or less excluding comments and whitespace: currently spans 54 lines (function_body_length). Identifier Name Violation: Variable name should be between 3 and 40 characters long: 'y' (identifier_name). Identifier Name Violation: Variable name should be between 3 and 40 characters long: 'x' (identifier_name). Identifier Name Violation: Variable name should be between 3 and 40 characters long: 'q' (identifier_name). Trailing Semicolon Violation: Lines should not have trailing semicolons. (trailing_semicolon). Closure Parameter Position Violation: Closure parameters should be on the same line as opening brace. (closure_parameter_position). Closure Parameter Position Violation: Closure parameters should be on the same line as opening brace. (closure_parameter_position). Trailing Semicolon Violation: Lines should not have trailing semicolons. (trailing_semicolon). Closure Parameter Position Violation: Closure parameters should be on the same line as opening brace. (closure_parameter_position). Colon Violation: Colons should be next to the identifier when specifying a type and next to the key in dictionary literals. (colon). Type Name Violation: Type name should start with an uppercase character: 'sysexEnd' (type_name). Unused Optional Binding Violation: Prefer != nil over let _ = (unused_optional_binding). Line Length Violation: Line should be 120 characters or less: currently 128 characters (line_length). Comma Spacing Violation: There should be no space before and one after any comma. (comma). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Unused Optional Binding Violation: Prefer != nil over let _ = (unused_optional_binding). Unused Optional Binding Violation: Prefer != nil over let _ = (unused_optional_binding). Colon Violation: Colons should be next to the identifier when specifying a type and next to the key in dictionary literals. (colon). Line Length Violation: Line should be 120 characters or less: currently 146 characters (line_length). Closure Parameter Position Violation: Closure parameters should be on the same line as opening brace. (closure_parameter_position). Trailing Semicolon Violation: Lines should not have trailing semicolons. (trailing_semicolon). Closure Parameter Position Violation: Closure parameters should be on the same line as opening brace. (closure_parameter_position). Colon Violation: Colons should be next to the identifier when specifying a type and next to the key in dictionary literals. (colon). Line Length Violation: Line should be 120 characters or less: currently 151 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 151 characters (line_length). Colon Violation: Colons should be next to the identifier when specifying a type and next to the key in dictionary literals. (colon). Colon Violation: Colons should be next to the identifier when specifying a type and next to the key in dictionary literals. (colon). Colon Violation: Colons should be next to the identifier when specifying a type and next to the key in dictionary literals. (colon). Large Tuple Violation: Tuples should have at most 2 members. (large_tuple)Line Length Violation: Line should be 120 characters or less: currently 1807 characters (line_length). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Todo Violation: FIXMEs should be resolved (we currently assume this is on...). (todo). For Where Violation: where clauses are preferred over a single if inside a for. (for_where). Line Length Violation: Line should be 120 characters or less: currently 133 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 133 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 133 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 133 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 133 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 133 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 131 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 131 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 131 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 131 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 133 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 133 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 133 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 133 characters (line_length). No Fallthrough Only Violation: Fallthroughs can only be used if the case contains at least one other statement. (no_fallthrough_only). Line Length Violation: Line should be 120 characters or less: currently 141 characters (line_length)Todo Violation: FIXMEs should be resolved (we currently assume this is on...). (todo). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Opening Brace Spacing Violation: Opening braces should be preceded by a single space and on the same line as the declaration. (opening_brace). Unneeded Break in Switch Violation: Avoid using unneeded break statements. (unneeded_break_in_switch). Identifier Name Violation: Variable name should be between 3 and 40 characters long: 'l' (identifier_name). Unneeded Break in Switch Violation: Avoid using unneeded break statements. (unneeded_break_in_switch). Identifier Name Violation: Variable name should be between 3 and 40 characters long: 'l' (identifier_name). Unneeded Break in Switch Violation: Avoid using unneeded break statements. (unneeded_break_in_switch). Identifier Name Violation: Variable name should be between 3 and 40 characters long: 'l' (identifier_name). Colon Violation: Colons should be next to the identifier when specifying a type and next to the key in dictionary literals. (colon). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Colon Violation: Colons should be next to the identifier when specifying a type and next to the key in dictionary literals. (colon). Colon Violation: Colons should be next to the identifier when specifying a type and next to the key in dictionary literals. (colon). Trailing Newline Violation: Files should have a single trailing newline. (trailing_newline)Vertical Whitespace Violation: Limit vertical whitespace to a single empty line. Currently 2. (vertical_whitespace). Colon Violation: Colons should be next to the identifier when specifying a type and next to the key in dictionary literals. (colon). Colon Violation: Colons should be next to the identifier when specifying a type and next to the key in dictionary literals. (colon)Identifier Name Violation: Variable name should only contain alphanumeric characters: 'mnid_low' (identifier_name). Colon Violation: Colons should be next to the identifier when specifying a type and next to the key in dictionary literals. (colon)Identifier Name Violation: Variable name should only contain alphanumeric characters: 'mnid_high' (identifier_name). Identifier Name Violation: Enum element name should only contain alphanumeric characters: 'v1_0' (identifier_name). Type Name Violation: Type name should start with an uppercase character: 'midiCiVersion' (type_name). Type Name Violation: Type name should start with an uppercase character: 'midiCiSubID2' (type_name). Type Name Violation: Type name should start with an uppercase character: 'midiCiSubID1' (type_name). Type Name Violation: Type name should start with an uppercase character: 'midiCiDeviceId' (type_name). Type Name Violation: Type name should start with an uppercase character: 'midiCiMessageTypeByte' (type_name). Identifier Name Violation: Variable name should only contain alphanumeric characters: 'sysex_timeout' (identifier_name)Unused Closure Parameter Violation: Unused parameter \"note\" in a closure should be replaced with . (unused_closure_parameter). Identifier Name Violation: Variable name should only contain alphanumeric characters: 'sysex_success' (identifier_name)Unused Closure Parameter Violation: Unused parameter \"note\" in a closure should be replaced with _. (unused_closure_parameter). Trailing Newline Violation: Files should have a single trailing newline. (trailing_newline). Colon Violation: Colons should be next to the identifier when specifying a type and next to the key in dictionary literals. (colon). Colon Violation: Colons should be next to the identifier when specifying a type and next to the key in dictionary literals. (colon). Colon Violation: Colons should be next to the identifier when specifying a type and next to the key in dictionary literals. (colon). Colon Violation: Colons should be next to the identifier when specifying a type and next to the key in dictionary literals. (colon). Colon Violation: Colons should be next to the identifier when specifying a type and next to the key in dictionary literals. (colon). Colon Violation: Colons should be next to the identifier when specifying a type and next to the key in dictionary literals. (colon). Colon Violation: Colons should be next to the identifier when specifying a type and next to the key in dictionary literals. (colon). Colon Violation: Colons should be next to the identifier when specifying a type and next to the key in dictionary literals. (colon). Colon Violation: Colons should be next to the identifier when specifying a type and next to the key in dictionary literals. (colon). Colon Violation: Colons should be next to the identifier when specifying a type and next to the key in dictionary literals. (colon). Trailing Newline Violation: Files should have a single trailing newline. (trailing_newline). Colon Violation: Colons should be next to the identifier when specifying a type and next to the key in dictionary literals. (colon). Colon Violation: Colons should be next to the identifier when specifying a type and next to the key in dictionary literals. (colon). Colon Violation: Colons should be next to the identifier when specifying a type and next to the key in dictionary literals. (colon). Control Statement Violation: if, for, guard, switch, while, and catch statements shouldn't unnecessarily wrap their conditionals or arguments in parentheses. (control_statement). Control Statement Violation: if, for, guard, switch, while, and catch statements shouldn't unnecessarily wrap their conditionals or arguments in parentheses. (control_statement). Line Length Violation: Line should be 120 characters or less: currently 124 characters (line_length). Colon Violation: Colons should be next to the identifier when specifying a type and next to the key in dictionary literals. (colon). Trailing Newline Violation: Files should have a single trailing newline. (trailing_newline). Colon Violation: Colons should be next to the identifier when specifying a type and next to the key in dictionary literals. (colon). Colon Violation: Colons should be next to the identifier when specifying a type and next to the key in dictionary literals. (colon). Colon Violation: Colons should be next to the identifier when specifying a type and next to the key in dictionary literals. (colon). Line Length Violation: Line should be 120 characters or less: currently 136 characters (line_length). Identifier Name Violation: Variable name should only contain alphanumeric characters: 'BEAT_TICKS' (identifier_name). Colon Violation: Colons should be next to the identifier when specifying a type and next to the key in dictionary literals. (colon). Vertical Whitespace Violation: Limit vertical whitespace to a single empty line. Currently 2. (vertical_whitespace). Identifier Name Violation: Enum element name should start with a lowercase character: 'RpnMsb' (identifier_name). Identifier Name Violation: Enum element name should start with a lowercase character: 'RpnLsb' (identifier_name). Identifier Name Violation: Enum element name should start with a lowercase character: 'NrpnMsb' (identifier_name). Identifier Name Violation: Enum element name should start with a lowercase character: 'NrpnLsb' (identifier_name). Vertical Parameter Alignment Violation: Function parameters should be aligned vertically if they're in multiple lines in a declaration. (vertical_parameter_alignment). Vertical Parameter Alignment Violation: Function parameters should be aligned vertically if they're in multiple lines in a declaration. (vertical_parameter_alignment). Vertical Parameter Alignment Violation: Function parameters should be aligned vertically if they're in multiple lines in a declaration. (vertical_parameter_alignment). Vertical Parameter Alignment Violation: Function parameters should be aligned vertically if they're in multiple lines in a declaration. (vertical_parameter_alignment). Vertical Parameter Alignment Violation: Function parameters should be aligned vertically if they're in multiple lines in a declaration. (vertical_parameter_alignment). Vertical Parameter Alignment Violation: Function parameters should be aligned vertically if they're in multiple lines in a declaration. (vertical_parameter_alignment). Vertical Parameter Alignment Violation: Function parameters should be aligned vertically if they're in multiple lines in a declaration. (vertical_parameter_alignment). Vertical Parameter Alignment Violation: Function parameters should be aligned vertically if they're in multiple lines in a declaration. (vertical_parameter_alignment). Vertical Parameter Alignment Violation: Function parameters should be aligned vertically if they're in multiple lines in a declaration. (vertical_parameter_alignment). Vertical Parameter Alignment Violation: Function parameters should be aligned vertically if they're in multiple lines in a declaration. (vertical_parameter_alignment). Vertical Parameter Alignment Violation: Function parameters should be aligned vertically if they're in multiple lines in a declaration. (vertical_parameter_alignment). Vertical Parameter Alignment Violation: Function parameters should be aligned vertically if they're in multiple lines in a declaration. (vertical_parameter_alignment). Vertical Parameter Alignment Violation: Function parameters should be aligned vertically if they're in multiple lines in a declaration. (vertical_parameter_alignment). Vertical Parameter Alignment Violation: Function parameters should be aligned vertically if they're in multiple lines in a declaration. (vertical_parameter_alignment). Vertical Parameter Alignment Violation: Function parameters should be aligned vertically if they're in multiple lines in a declaration. (vertical_parameter_alignment). Vertical Parameter Alignment Violation: Function parameters should be aligned vertically if they're in multiple lines in a declaration. (vertical_parameter_alignment). Vertical Parameter Alignment Violation: Function parameters should be aligned vertically if they're in multiple lines in a declaration. (vertical_parameter_alignment). Line Length Violation: Line should be 120 characters or less: currently 132 characters (line_length). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Identifier Name Violation: Variable name should be between 3 and 40 characters long: 'au' (identifier_name). Line Length Violation: Line should be 120 characters or less: currently 132 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 130 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 128 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 123 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 128 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 128 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 122 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 122 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 122 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 122 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 122 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 135 characters (line_length). Line Length Violation: Line should be 120 characters or less: currently 123 characters (line_length). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace). Trailing Whitespace Violation: Lines should not have trailing whitespace. (trailing_whitespace)Vertical Whitespace Violation: Limit vertical whitespace to a single empty line. Currently 2. (vertical_whitespace). Trailing Semicolon Violation: Lines should not have trailing semicolons. (trailing_semicolon). Line Length Violation: Line should be 120 characters or less: currently 123 characters (line_length). "
}