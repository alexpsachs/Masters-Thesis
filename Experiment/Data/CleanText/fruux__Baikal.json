{
    "jeromeschneider": "Hello Frank, \nIt might be possible to base Ba\u00efkal on MySQL, yes.\nI'm at work right now, but I will provide you with a more elaborated\nanswer this weekend. \nRegards \n\nJ\u00c9R\u00d4ME SCHNEIDER\nmail@jeromeschneider.fr [2]  \nOn Wed, 9 May 2012 16:05:06 -0700,\nflashtopia wrote: \n\nSqlLite is great.\nWe are looking for a CardDav /\nCalDav server that would support mysql.\nThe reason for this is that\nmany people use Postfix / DovCot with MySQL to manage user accounts.\nBeing able to add a few tables to the same database, and then add\ncalendering functionality / vcard storage would be a very valuable\nproject. Add Z-Push as an alternative to pull calendar, vcard, and mail\nand you have a winner.\nPlease let me know if you are planning on\nbuilding a MySQL version.\nFrank\n\nReply to this email\ndirectly or view it on GitHub:\nhttps://github.com/jeromeschneider/Baikal/issues/1 [1]\n\nLinks:\n[1]\nhttps://github.com/jeromeschneider/Baikal/issues/1\n[2]\nmailto:mail@jeromeschneider.fr\n. @flashtopia Nope, but it seems that @mashimaro-jp has a plan to implement this. I would happily pull your work in the master if you implement this, @mashimaro-jp :)\nAnyway, @flashtopia you're right, it seems a must for Ba\u00efkal, as many people already have a MySQL server at hand.\n\nAre vcards stored in SQL or in some filesystem directory?\nThe vcards are stored in the DB, in the table \"cards\"\nAre all the fields used by apple devices available (nickname, email, photo?)\nYes, all third-party properties are handled, as cal and card elements are stored in their raw DAV format in the DB.\nCalDAV and CardDAV are basically a remote-storage protocols, each specialized in their field (for instance, some specific filters are available to access data) - and Ba\u00efkal store cal and card elements as they are produced by your client, including third parties properties (like the ones used by Apple).\nDoes it support the apple global address list ?\nI'm not sure what this is, so I guess the answer is no :)\nDoes it support permissions (read only).\nNo, but I have plans to include .ics stream export and later permissions and shared calendars / addressbooks\n. > Last question, does it support (read only) contacts?\n\n@flashtopia no. I'm going to create a milestone in the project and attach these feature requests.\n. @mashimaro-jp @flashtopia I'm going to implement MySQL support in the core. As pointed by @mashimaro-jp this should be pretty straight-forward. I'll keep you updated via this topic :)\n. Hello @flashtopia, i'm working on this this very morning :)\n. Hello @flashtopia, MySQL is now fully supported by Ba\u00efkal.\nYou'll find the updated packages at http://baikal.codr.fr\nMySQL settings are found in the admin, under the \"System settings\" section.\nPlease provide feedback :)\n. Right now, it's necessary, yes.\nThere's plan to change this in the future, though.\nRegards,\nJ\u00e9r\u00f4me\nLe 30 ao\u00fbt 2012 \u00e0 14:26, Olivier Simard-Casanova notifications@github.com a \u00e9crit :\n\nIs it necessary to first install Baikal with SQLite and then change to MySQL or is it possible to directly install with MySQL?\n\u2014\nReply to this email directly or view it on GitHub.\n. @simardcasanova with new version 0.2.3 you may now setup MySQL right at initialization time.\n. @DjSlash I move this request to another issue.\n. @tilllt have you found a solution to this ?\n. Hello @facconi\nI have seen that the CardDAV support does not handle contacts picture\nWell, it should, so this is a bug. What is the client you're using (including OS and versions) ?\n. This has been implemented in Core 0.2.0\n. This has been implemented in Core 0.2.0.\n. @Svish I find two aspects in that demand:\n1. Single sign on\n2. CALDAV Web client (like the one pointed by @flashtopia)\n\nFor the first, this is going to happen.\nFor the second, I'm not quite sure yet Ba\u00efkal should provide such features, as some other projects are specialized on this particular subject (client side of the protocol).\nWhat do you think ?\n. it was a bug in the hosting PHP environment.\n. If I remember well, Tobias simply upgraded his hosting environment. I don't think he eventually found out what the glitch was. His PHP was not able to invoke a class when the classname was in a variable.\n. I'm willing to help you, but for the moment I have not much time, at least until next Tuesday. Would that be ok for you ?\n. This is really weird as I used it successfully many times on hosting environments similar to you former one (PHP 5.3.2 and above)\nI will add this to the readme, thanks !\n. This might be Ba\u00efkal messing with the file perms. I'll have to check that.\n. email as username: agreed, this would be nice to have, especially for third party integration.\n. This is fixed now in master (not packaged yet).\n. @bennibu @jmorais this should be corrected since version 0.2.3 (some PHP servers with CGI store AUTH headers in non-standard variables).\n. Thank you, Sir :)\n. @viiri This is nice :) although I don't understand it. I would like to add it to the INSTALL.md to help out users that want to host Ba\u00efkal on nginx. Could you help me with this ? If you could fork the project and update the INSTALL.md, I would be happy to pull your additions in the master :)\n. This is done. Thanks @viiri !\n. I investigated, and it turns out that when PHP runs as CGI, php_flag directives are not allowed in .htaccess files, but should be put inside php.ini\nOf course, shared hosting means you don't have access to this global php.ini file, so I googled that problem, and I found this: http://businessleader.blogspot.fr/2008/12/phpflag-settings-when-php-runs-as-cgi.html\nBriefly: it should be possible to put a local php.ini file inside Ba\u00efkal's home root to set these php_flags\nI'll try this and report here.\n. @fliegerle @passmo @simardcasanova this should be solved now (in v0.2.3). I disabled the .htaccess php_flag for magic_quotes, and I emulated this using pure PHP code, to be compatible with environments where PHP is installed as CGI\n. Yes, these are due  to the fact that the FTP package is a flattened version of the regular package, which means that symlinks have been resolved and contents duplicated for some folders.\nI'll improve the \"FTP\" packaging script so that the dups are removed.\n. hello,\nYou should use the \"Flat package\", it's exactly what you want, I think.\n. Should be corrected since 0.2.3.\n. Fixed, thanks for that. It seems my english is not that fine after all :) (not my native language)\n. Done since version 0.2.3.\n. Unfortunately, everything works fine except HTTP methods that DAV uses (OPTIONS, MKLABEL, MKCOL, ...) that are not supported by Heroku servers.\n. @rngtng I'm afraid it does, yes.\nSee https://twitter.com/jeromeschneider/status/271522229169319938\n@heroku never answered...\n. Hello Frank,\nNope, it's not :) I don't have much time these days though.\nI will process this.\n. Hello @rtrtr @gaokx @BluePyth In 0.2.3, I made some improvements with the BASEURL calculation. Could you confirm that this works better now ?\n. @BluePyth Yup, keep me informed :) Thanks !\n. Hello,\n1. If you are using MySQL, backup your database (you never know, right ?); if SQLite, your db is a file inside the \"Specific\" folder, so backup this also (and keep it SAFE)\n2. Rename your Ba\u00efkal root folder (let's call it \"baikal\") to \"baikal-old\"\n3. Download and unzip Ba\u00efkal next to this folder; you should have a folder called \"baikal-flat-xxx\" or something of the like\n4. Rename \"baikal-flat-xxx\" to \"baikal\" (or whatever your previous folder name was)\n5. If working on SSH, apply correct ownership/permissions to files (ie, the ones set on \"baikal-old\"; use \"ls -lah\" to determine this); if for instance, ownership is: \"root:www-data\", just do a \"sudo chown -Rf root:www-data baikal && sudo chmod -Rf 770 baikal\"\n6. Replace the folder \"baikal/Specific\" (the new one) with \"baikal-old/Specific\" the old one\n7. Using your web browser, navigate to your baikal admin, and the \"Upgrade wizard\" should kick in \n. @BluePyth Please :)\n. great news :)\n. @yannickt @fliegerle this should be solved now. I disabled the .htaccess php_flag for magic_quotes, and I emulated this using pure PHP code, to be compatible with environments where PHP is installed as CGI\n. Hello @spandi, I second that, and I'll update asap.\n. @spandi @n8theo SabreDAV has been updated to 1.8.0 in today's Ba\u00efkal revision (0.2.4) :)\n. @freeblue Great :) thanks for the feedback.\n. Hello Louis, could I have no IIS so it might be hard to debug. Could you provide a test environment or something of the like ?\n. although this seems piece of cake, it might not be, as both Ba\u00efkal and SabreDAV have to be aware of such a prefix. For Ba\u00efkal, no problem, but I do not own SabreDAV, as far as I know this is not possible with SabreDAV.\n. @DjSlash thanks :) So, piece of cake it is !\n. Pulling @viiri's work about nginx virtualhost configuration. Thanks @viiri :) \n. @flashtopia it seems that s3cmd is a Amazon S3 client, not server; are your proposing that Ba\u00efkal should be able to connect to an Amazon S3 drive ? And maybe give access to Amazon S3 via WebDAV requests through Ba\u00efkal ?\n. Thank you @BluePyth !!\n. I succesfuly configured a roundcube setup (0.9.2) with CardDAV plugin (0.8.0) using these settings:\nUser: username\nPassword: password\nURL: https://myserver/card.php/addressbooks/username/default\nCardDAV plugin used: http://www.crash-override.net/carddavdownload.html\nShould work also with: https://github.com/graviox/Roundcube-CardDAV\n. I had a look at http://bugs.mysql.com/bug.php?id=4541 and http://www.developpez.net/forums/d643098/bases-donnees/mysql/administration/specified-key-was-too-long/ and it seems that:\n- keys are limited to 1000B in MySQL, wether you're using MyISAM or InnoDB;\n- if your keys are UTF8 (that's the case here), MySQL considers every char to be potentially of a length of 4B (instead of only 1B for latin1)\n- So, if we do the math: varchar(255) * 4 > 1000, and that's the problem\nWe could solve this by declaring principaluri and uri as VARCHAR(100) just as @JoeeTheGreat proposes, but I guess some CardDAV clients would not like this (like the bynari outlook plugin, according to this http://code.google.com/p/sabredav/source/browse/examples/sql/mysql.addressbook.sql )\n@evert are you aware of such a problem ?\n. Hi @evert, I just did yes :)\nI still have to figure out how to manage composer \"stabilities\". For now, one has to execute:\nbash\ncomposer create-project jeromeschneider/baikal -s dev\nto install baikal using composer.\nThanks again; I just went through some really rough times, and it's really nice to see that the project went on even then.\n. Hello @SimonSimCity, it looks like it was rather a problem of parse error in the default config file generated (missing ';' on line 47). Could you confirm that ?\nThank you vm.\n. Hello @maulwuff ,\nthanks for the feedback; the typo has been corrected, and revision bumped to 0.2.6.\n.  Thank you @Busch\n. @lukasepple @Cybertooth79 worked for me too.\nIOS 7 seems to refuse the SSL certificate when it's self-signed (which is of course often the case for domestic usage). The trick seems indeed to ignore the 'Try without SSL' dialog, and save anyway.\n. This is great @janpieper  ! Thanks alot\n. @janpieper I think single quotes also have to be escaped. What do you think ?\n. Could you check if your host is serving PHP via fastcgi ? A simple\nphp\n<?php phpinfo(); ?>\nwould do.\nAlso, please check your apache error log (if you're using apache, but I think that's the case as you're using the .htaccess) and look for potential errors happening when Lightning connects (tail -f /var/log/apache2/my-error.log)\nCould you maybe try to serve baikal on a dedicated subdomain, rather than in a subdir ? The subdir case should work OK, but you never know, right ?\nThis curl command will send a PROPFIND HTTP method to your server; it would be interesting to see the result of your server (please, adapt user:user and the path to cal.php in your case)\nbash\ncurl -so - --digest --user test:test -X PROPFIND -d '<D:propfind xmlns:D=\"DAV:\" xmlns:CS=\"http://calendarserver.org/ns/\" xmlns:C=\"urn:ietf:params:xml:ns:caldav\">\n<D:prop>\n<D:resourcetype/>\n<D:owner/>\n<D:supported-report-set/>\n<C:supported-calendar-component-set/>\n<CS:getctag/>\n</D:prop>\n</D:propfind>' http://example.com/dav/baikal/cal.php\n. @sspssp twig is used in Ba\u00efkal, but statically linked (ouch, I know) and not fetched via composer.\nThanks to @evert Baikal installs sabredav using composer, but that's the only component fetched this way by Ba\u00efkal for the moment, so twig is not required in composer.json\nUltimately this will change with Ba\u00efkal2 (using the symfony2 framework) - see https://github.com/jeromeschneider/Baikal2\n. Yes thanks.\n. Thank you @janpieper :)\n. Yes, you are right, Thunderbird needs an extension (usually Sogo connector) to handle CardDAV.\nThank you @skyhook19 !\n. Hello @fhemberger @sejtam @evert @rsrsrsrs, I just set up a dedicated forum at http://forum.baikal-server.com/\nThank you :)\n. @GeeF thanks !\n. Thanks !\n. Merged, see 70e5550.\nI left apart the replacement of symlink by cp. Thanks @Jentsch !!\n. Merged, see 32ce4c9\n. Hello :)\n@jeromeschneider: New error detection: composer has not been installed\n@Busch: added rewrite rules for apache2 hosts\n@jeromeschneider: Corrected the http/https protocol detection\n@josteink, @janpieper, @jaltek, @Jentsch, @GeeF and @fhemberger: Improved INSTALL.md\n@janpieper: Added CalDAV and CardDAV instructions for BlackBerry OS 10\nJames Lay: Add Quick & Dirty install guide for Ubuntu 12.04 in INSTALL.md\n@torzak: Auth more compatible with Synology software\n@skyhook19: Added Thunderbird CardDAV setup instructions\n@cimm: Update OS X and iOS installation instructions\n@Jentsch: Removing eXecutable flag from non executables like text files or php scripts\n@Jentsch: Adding eXecutable flag to a bash script\n@altima: Improved CardDAV and CalDAV auth compatibility with Windows Phones\n@fhemberger: Make calendar description optional\n@fhemberger: Make HTML5 shiv a local resource\n@fhemberger: Improve application security\n@janpieper and @evert: Fixing #139: Prevent PHP from parsing your MySQL credentials\nExtracted from https://github.com/jeromeschneider/Baikal/compare/0.2.6...0.2.7\nI'll go ahead and update the changelog, as I should have when bumping rev to 0.2.7.\n. Changelog updated.\n. Hello Frank, \nIt might be possible to base Ba\u00efkal on MySQL, yes.\nI'm at work right now, but I will provide you with a more elaborated\nanswer this weekend. \nRegards \n\nJ\u00c9R\u00d4ME SCHNEIDER\nmail@jeromeschneider.fr [2]  \nOn Wed, 9 May 2012 16:05:06 -0700,\nflashtopia wrote: \n\nSqlLite is great.\nWe are looking for a CardDav /\nCalDav server that would support mysql.\nThe reason for this is that\nmany people use Postfix / DovCot with MySQL to manage user accounts.\nBeing able to add a few tables to the same database, and then add\ncalendering functionality / vcard storage would be a very valuable\nproject. Add Z-Push as an alternative to pull calendar, vcard, and mail\nand you have a winner.\nPlease let me know if you are planning on\nbuilding a MySQL version.\nFrank\n\nReply to this email\ndirectly or view it on GitHub:\nhttps://github.com/jeromeschneider/Baikal/issues/1 [1]\n\nLinks:\n[1]\nhttps://github.com/jeromeschneider/Baikal/issues/1\n[2]\nmailto:mail@jeromeschneider.fr\n. @flashtopia Nope, but it seems that @mashimaro-jp has a plan to implement this. I would happily pull your work in the master if you implement this, @mashimaro-jp :)\nAnyway, @flashtopia you're right, it seems a must for Ba\u00efkal, as many people already have a MySQL server at hand.\n\nAre vcards stored in SQL or in some filesystem directory?\nThe vcards are stored in the DB, in the table \"cards\"\nAre all the fields used by apple devices available (nickname, email, photo?)\nYes, all third-party properties are handled, as cal and card elements are stored in their raw DAV format in the DB.\nCalDAV and CardDAV are basically a remote-storage protocols, each specialized in their field (for instance, some specific filters are available to access data) - and Ba\u00efkal store cal and card elements as they are produced by your client, including third parties properties (like the ones used by Apple).\nDoes it support the apple global address list ?\nI'm not sure what this is, so I guess the answer is no :)\nDoes it support permissions (read only).\nNo, but I have plans to include .ics stream export and later permissions and shared calendars / addressbooks\n. > Last question, does it support (read only) contacts?\n\n@flashtopia no. I'm going to create a milestone in the project and attach these feature requests.\n. @mashimaro-jp @flashtopia I'm going to implement MySQL support in the core. As pointed by @mashimaro-jp this should be pretty straight-forward. I'll keep you updated via this topic :)\n. Hello @flashtopia, i'm working on this this very morning :)\n. Hello @flashtopia, MySQL is now fully supported by Ba\u00efkal.\nYou'll find the updated packages at http://baikal.codr.fr\nMySQL settings are found in the admin, under the \"System settings\" section.\nPlease provide feedback :)\n. Right now, it's necessary, yes.\nThere's plan to change this in the future, though.\nRegards,\nJ\u00e9r\u00f4me\nLe 30 ao\u00fbt 2012 \u00e0 14:26, Olivier Simard-Casanova notifications@github.com a \u00e9crit :\n\nIs it necessary to first install Baikal with SQLite and then change to MySQL or is it possible to directly install with MySQL?\n\u2014\nReply to this email directly or view it on GitHub.\n. @simardcasanova with new version 0.2.3 you may now setup MySQL right at initialization time.\n. @DjSlash I move this request to another issue.\n. @tilllt have you found a solution to this ?\n. Hello @facconi\nI have seen that the CardDAV support does not handle contacts picture\nWell, it should, so this is a bug. What is the client you're using (including OS and versions) ?\n. This has been implemented in Core 0.2.0\n. This has been implemented in Core 0.2.0.\n. @Svish I find two aspects in that demand:\n1. Single sign on\n2. CALDAV Web client (like the one pointed by @flashtopia)\n\nFor the first, this is going to happen.\nFor the second, I'm not quite sure yet Ba\u00efkal should provide such features, as some other projects are specialized on this particular subject (client side of the protocol).\nWhat do you think ?\n. it was a bug in the hosting PHP environment.\n. If I remember well, Tobias simply upgraded his hosting environment. I don't think he eventually found out what the glitch was. His PHP was not able to invoke a class when the classname was in a variable.\n. I'm willing to help you, but for the moment I have not much time, at least until next Tuesday. Would that be ok for you ?\n. This is really weird as I used it successfully many times on hosting environments similar to you former one (PHP 5.3.2 and above)\nI will add this to the readme, thanks !\n. This might be Ba\u00efkal messing with the file perms. I'll have to check that.\n. email as username: agreed, this would be nice to have, especially for third party integration.\n. This is fixed now in master (not packaged yet).\n. @bennibu @jmorais this should be corrected since version 0.2.3 (some PHP servers with CGI store AUTH headers in non-standard variables).\n. Thank you, Sir :)\n. @viiri This is nice :) although I don't understand it. I would like to add it to the INSTALL.md to help out users that want to host Ba\u00efkal on nginx. Could you help me with this ? If you could fork the project and update the INSTALL.md, I would be happy to pull your additions in the master :)\n. This is done. Thanks @viiri !\n. I investigated, and it turns out that when PHP runs as CGI, php_flag directives are not allowed in .htaccess files, but should be put inside php.ini\nOf course, shared hosting means you don't have access to this global php.ini file, so I googled that problem, and I found this: http://businessleader.blogspot.fr/2008/12/phpflag-settings-when-php-runs-as-cgi.html\nBriefly: it should be possible to put a local php.ini file inside Ba\u00efkal's home root to set these php_flags\nI'll try this and report here.\n. @fliegerle @passmo @simardcasanova this should be solved now (in v0.2.3). I disabled the .htaccess php_flag for magic_quotes, and I emulated this using pure PHP code, to be compatible with environments where PHP is installed as CGI\n. Yes, these are due  to the fact that the FTP package is a flattened version of the regular package, which means that symlinks have been resolved and contents duplicated for some folders.\nI'll improve the \"FTP\" packaging script so that the dups are removed.\n. hello,\nYou should use the \"Flat package\", it's exactly what you want, I think.\n. Should be corrected since 0.2.3.\n. Fixed, thanks for that. It seems my english is not that fine after all :) (not my native language)\n. Done since version 0.2.3.\n. Unfortunately, everything works fine except HTTP methods that DAV uses (OPTIONS, MKLABEL, MKCOL, ...) that are not supported by Heroku servers.\n. @rngtng I'm afraid it does, yes.\nSee https://twitter.com/jeromeschneider/status/271522229169319938\n@heroku never answered...\n. Hello Frank,\nNope, it's not :) I don't have much time these days though.\nI will process this.\n. Hello @rtrtr @gaokx @BluePyth In 0.2.3, I made some improvements with the BASEURL calculation. Could you confirm that this works better now ?\n. @BluePyth Yup, keep me informed :) Thanks !\n. Hello,\n1. If you are using MySQL, backup your database (you never know, right ?); if SQLite, your db is a file inside the \"Specific\" folder, so backup this also (and keep it SAFE)\n2. Rename your Ba\u00efkal root folder (let's call it \"baikal\") to \"baikal-old\"\n3. Download and unzip Ba\u00efkal next to this folder; you should have a folder called \"baikal-flat-xxx\" or something of the like\n4. Rename \"baikal-flat-xxx\" to \"baikal\" (or whatever your previous folder name was)\n5. If working on SSH, apply correct ownership/permissions to files (ie, the ones set on \"baikal-old\"; use \"ls -lah\" to determine this); if for instance, ownership is: \"root:www-data\", just do a \"sudo chown -Rf root:www-data baikal && sudo chmod -Rf 770 baikal\"\n6. Replace the folder \"baikal/Specific\" (the new one) with \"baikal-old/Specific\" the old one\n7. Using your web browser, navigate to your baikal admin, and the \"Upgrade wizard\" should kick in \n. @BluePyth Please :)\n. great news :)\n. @yannickt @fliegerle this should be solved now. I disabled the .htaccess php_flag for magic_quotes, and I emulated this using pure PHP code, to be compatible with environments where PHP is installed as CGI\n. Hello @spandi, I second that, and I'll update asap.\n. @spandi @n8theo SabreDAV has been updated to 1.8.0 in today's Ba\u00efkal revision (0.2.4) :)\n. @freeblue Great :) thanks for the feedback.\n. Hello Louis, could I have no IIS so it might be hard to debug. Could you provide a test environment or something of the like ?\n. although this seems piece of cake, it might not be, as both Ba\u00efkal and SabreDAV have to be aware of such a prefix. For Ba\u00efkal, no problem, but I do not own SabreDAV, as far as I know this is not possible with SabreDAV.\n. @DjSlash thanks :) So, piece of cake it is !\n. Pulling @viiri's work about nginx virtualhost configuration. Thanks @viiri :) \n. @flashtopia it seems that s3cmd is a Amazon S3 client, not server; are your proposing that Ba\u00efkal should be able to connect to an Amazon S3 drive ? And maybe give access to Amazon S3 via WebDAV requests through Ba\u00efkal ?\n. Thank you @BluePyth !!\n. I succesfuly configured a roundcube setup (0.9.2) with CardDAV plugin (0.8.0) using these settings:\nUser: username\nPassword: password\nURL: https://myserver/card.php/addressbooks/username/default\nCardDAV plugin used: http://www.crash-override.net/carddavdownload.html\nShould work also with: https://github.com/graviox/Roundcube-CardDAV\n. I had a look at http://bugs.mysql.com/bug.php?id=4541 and http://www.developpez.net/forums/d643098/bases-donnees/mysql/administration/specified-key-was-too-long/ and it seems that:\n- keys are limited to 1000B in MySQL, wether you're using MyISAM or InnoDB;\n- if your keys are UTF8 (that's the case here), MySQL considers every char to be potentially of a length of 4B (instead of only 1B for latin1)\n- So, if we do the math: varchar(255) * 4 > 1000, and that's the problem\nWe could solve this by declaring principaluri and uri as VARCHAR(100) just as @JoeeTheGreat proposes, but I guess some CardDAV clients would not like this (like the bynari outlook plugin, according to this http://code.google.com/p/sabredav/source/browse/examples/sql/mysql.addressbook.sql )\n@evert are you aware of such a problem ?\n. Hi @evert, I just did yes :)\nI still have to figure out how to manage composer \"stabilities\". For now, one has to execute:\nbash\ncomposer create-project jeromeschneider/baikal -s dev\nto install baikal using composer.\nThanks again; I just went through some really rough times, and it's really nice to see that the project went on even then.\n. Hello @SimonSimCity, it looks like it was rather a problem of parse error in the default config file generated (missing ';' on line 47). Could you confirm that ?\nThank you vm.\n. Hello @maulwuff ,\nthanks for the feedback; the typo has been corrected, and revision bumped to 0.2.6.\n.  Thank you @Busch\n. @lukasepple @Cybertooth79 worked for me too.\nIOS 7 seems to refuse the SSL certificate when it's self-signed (which is of course often the case for domestic usage). The trick seems indeed to ignore the 'Try without SSL' dialog, and save anyway.\n. This is great @janpieper  ! Thanks alot\n. @janpieper I think single quotes also have to be escaped. What do you think ?\n. Could you check if your host is serving PHP via fastcgi ? A simple\nphp\n<?php phpinfo(); ?>\nwould do.\nAlso, please check your apache error log (if you're using apache, but I think that's the case as you're using the .htaccess) and look for potential errors happening when Lightning connects (tail -f /var/log/apache2/my-error.log)\nCould you maybe try to serve baikal on a dedicated subdomain, rather than in a subdir ? The subdir case should work OK, but you never know, right ?\nThis curl command will send a PROPFIND HTTP method to your server; it would be interesting to see the result of your server (please, adapt user:user and the path to cal.php in your case)\nbash\ncurl -so - --digest --user test:test -X PROPFIND -d '<D:propfind xmlns:D=\"DAV:\" xmlns:CS=\"http://calendarserver.org/ns/\" xmlns:C=\"urn:ietf:params:xml:ns:caldav\">\n<D:prop>\n<D:resourcetype/>\n<D:owner/>\n<D:supported-report-set/>\n<C:supported-calendar-component-set/>\n<CS:getctag/>\n</D:prop>\n</D:propfind>' http://example.com/dav/baikal/cal.php\n. @sspssp twig is used in Ba\u00efkal, but statically linked (ouch, I know) and not fetched via composer.\nThanks to @evert Baikal installs sabredav using composer, but that's the only component fetched this way by Ba\u00efkal for the moment, so twig is not required in composer.json\nUltimately this will change with Ba\u00efkal2 (using the symfony2 framework) - see https://github.com/jeromeschneider/Baikal2\n. Yes thanks.\n. Thank you @janpieper :)\n. Yes, you are right, Thunderbird needs an extension (usually Sogo connector) to handle CardDAV.\nThank you @skyhook19 !\n. Hello @fhemberger @sejtam @evert @rsrsrsrs, I just set up a dedicated forum at http://forum.baikal-server.com/\nThank you :)\n. @GeeF thanks !\n. Thanks !\n. Merged, see 70e5550.\nI left apart the replacement of symlink by cp. Thanks @Jentsch !!\n. Merged, see 32ce4c9\n. Hello :)\n@jeromeschneider: New error detection: composer has not been installed\n@Busch: added rewrite rules for apache2 hosts\n@jeromeschneider: Corrected the http/https protocol detection\n@josteink, @janpieper, @jaltek, @Jentsch, @GeeF and @fhemberger: Improved INSTALL.md\n@janpieper: Added CalDAV and CardDAV instructions for BlackBerry OS 10\nJames Lay: Add Quick & Dirty install guide for Ubuntu 12.04 in INSTALL.md\n@torzak: Auth more compatible with Synology software\n@skyhook19: Added Thunderbird CardDAV setup instructions\n@cimm: Update OS X and iOS installation instructions\n@Jentsch: Removing eXecutable flag from non executables like text files or php scripts\n@Jentsch: Adding eXecutable flag to a bash script\n@altima: Improved CardDAV and CalDAV auth compatibility with Windows Phones\n@fhemberger: Make calendar description optional\n@fhemberger: Make HTML5 shiv a local resource\n@fhemberger: Improve application security\n@janpieper and @evert: Fixing #139: Prevent PHP from parsing your MySQL credentials\nExtracted from https://github.com/jeromeschneider/Baikal/compare/0.2.6...0.2.7\nI'll go ahead and update the changelog, as I should have when bumping rev to 0.2.7.\n. Changelog updated.\n. ",
    "flashtopia": "The idea was to store contacts vcards in MySQL.\nA lot of companies already have some sort of user / contacts system in place usually in MySQL or MSSQL.\nIts hard to sync sqllite and mysql.  Might just be cleaner to offer other \"backend\" options such as mysql.\n-----Original Message-----\nFrom: J\u00e9r\u00f4me Schneider [mailto:reply@reply.github.com] \nSent: Friday, May 11, 2012 12:03 AM\nTo: Frank Basti\nSubject: Re: [Baikal] MySQL Version (#1)\nHello Frank, \nIt might be possible to base Ba\u00efkal on MySQL, yes.\nI'm at work right now, but I will provide you with a more elaborated answer this weekend. \nRegards \n\nJ\u00c9R\u00d4ME SCHNEIDER\nmail@jeromeschneider.fr [2]  \nOn Wed, 9 May 2012 16:05:06 -0700,\nflashtopia wrote: \n\nSqlLite is great.\nWe are looking for a CardDav /\nCalDav server that would support mysql.\nThe reason for this is that\nmany people use Postfix / DovCot with MySQL to manage user accounts.\nBeing able to add a few tables to the same database, and then add calendering functionality / vcard storage would be a very valuable project. Add Z-Push as an alternative to pull calendar, vcard, and mail and you have a winner.\nPlease let me know if you are planning on\nbuilding a MySQL version.\nFrank\n\nReply to this email\ndirectly or view it on GitHub:\nhttps://github.com/jeromeschneider/Baikal/issues/1 [1]\n\nLinks:\n[1]\nhttps://github.com/jeromeschneider/Baikal/issues/1\n[2]\nmailto:mail@jeromeschneider.fr\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/jeromeschneider/Baikal/issues/1#issuecomment-5644957\n. Jerome,\nWere you ever able to look into MySQL?\nAlso few small questions:\n1. Are vcards stored in SQL or in some filesystem directory?\n2. Are all the fields used by apple devices available (nickname, email, photo?)\n3. Does it support the apple global address list?\n4. Does it support permissions (read only).\nReally looking forward to mysql support. \n. Great I will try it tonight.\nLast question, does it support (read only) contacts?\n. Thanks Jerome.  I am working on writing rewrite rules for Apache / IIS that default to the phone/ipad settings for conctacts.myserver.com and calendar.myserver.com.   Once i get everything working properly ill make sure the share the updates.  \nThe plan again is to build an interface to existing MySQL contact stores.  This allows in house CRM systems, to update carddav devices so that if a contact calls, it simply shows up on caller id. \n. @mashimaro-jp  i was under the impression that the flake framwork supported mysql.  Actually not sure what the flake framework actually is.   Can you share your MySQL code?\n. Thanks Jerome.  Greatly appreciate the work you do!\nMashimaro- Thank you for getting things cooking!\n. @mashimaro-jp  do you have an estimate on when this will be completed?  Really looking forward to this featureset. \n. Sorry to be a pest, but any updates on this issue?\n. Thanks @jeromeschneider .  I really appreciate being able to use MySQL. \nI have successfully been able to use SQL inserts to create contacts in the CARDS table and have them show up on ipad.  Essentially just do SQL inserts with the correct addressbookid, carddata, random uri with vcf extension, and lastmodified time stamp.  The only catch is everytime an update takes place I also need to change the ctag value in the addressbooks table.\nWhat is the ctag?  is it some sort of freshness stamp?\nAlso two little things:\n1. for some reason the default addressbook does not sync on Ipad.  Meaning contacts created in it, do not work.\n2. the download is missing the htaccess .\nI have gotten Baikal to work with DNS Srv records for contacts.  This makes configuring iOS clients really simple.  The catch is that this only works on port 80.  I am running baikal on port 8800 now and SRV record auto configure breaks.\nSo  srv record like this works:\n_carddav._tcp  0 0 80 contacts.domain.com/card.php.   <--- WORKS\n_carddav._tcp 0 0 8800 contacts.domain.com:8800/card.php  <--- INVALID FORMAT (cannot create srv).\nIn an attempt to change things, i tried to make card.php the default document in my virtual host.\nBut adding \"DirectoryIndex card.php\" to to virtual host breaks sabredav. \nQuestion:\nIs it possible to have two virtual hosts:\nA) baikal.mydomain.com \n    where it defaults to index.php and I am able to access the admin interface. \nB) contacts.mydomain.com \n     where it automatically connects to card.php and there is no more need to type in the card.php name?\n     This is useful for fixing the SRV issue, makes for a cleaner setup.\nPlease advise.\nAnd thanks again for great work!!!\n. Are the contacts simply not base64 encoded and included in the vCard file?  I dont think Bailak actually modifies the Vcard files?  Am I wrong?\n. Please take a look at this:\nhttp://www.staze.org/carddav-caldav-autodiscovery-on-mac-os-x-and-ios/\nSRV records work for carddav.\nTested with DNSmadeEasy.com \n. This would be great!  Specially if there were read only permissions on some resources.\n. @Svish I too am trying to figure out how to create users.  The new SQL back end should make it a bit simpler.  I think a REST api is planned to allow for us to programatically create, view, read  different items. \nin the meanwhile I wanted to share this with you. \nhttp://agendav.org/\nI think using baikal as a backend to serve your calendars makes total sense.  That way, any device (ios, android, etc) that supports caldav can connect and read / update calendars.  You can try using agendav as a web based ical client for web based calendar access. \n. Its not an email server, it can be thought about as a calendar / contacts server.   If you are looking for an email server that would work on the same server (box) take a look at iRedMail. its a way to quickly install a postfx/imap/mysql email server on  a linux machine. \n. THANK YOU\n. @jeromeschneider  I wanted to share this with you:\nhttps://github.com/dupondje/PHP-Push-2\nMight be a quick way to put activesync on top of the Baikal / SabreDav  (Carddav/Caldav) system and give more features as mentioned above. \nIf you can merge the two, all that would be missing is Tasks.\n. Is Baikal abandoned? \n. @jeromeschneider, I completely understand.  I have tried to contribute, but from a php and mvc perspective i am useless.\n. @jeromeschneider  - GREAT TO SEE YOU BACK !!!\nReally love this project, and i get a bit depressed when you are tied up on other things.\nI am struggling to learn php, so that I can contribute. \nAs for IIS\nI run Baikal on apache, but have rund webdav on IIS before. \nIIS Supports dav, and that might be what is giving you the conflict.\nBased on this thread on sabredav you need to completely disable Dav support in IIS\nhttps://groups.google.com/forum/?fromgroups=#!topic/sabredav-discuss/T9EToqkQlCc\n. @JKantonen Did you try to disable webdav on IIS?  Webdav on IIS conflicts with SabreDav\n. If you are going to implement it, please add S3 Support.   Adding S3 would pretty much bake Baikal only working on linux, since the frameworks for intergrating with S3  S3cmd and windows S3 components vary.   But having S3 support would be super sick! \n. There is the s3fs which i confused for s3cmd.    Its a fuse file system backed with Amazon S3.   It would be pretty neat to use something like that.  I dont know how reliable it is.  \nMaybe S3Cmd could be used like this.\nDav client connects to baikal.  If the file does not exist, then S3 is checked for it using s3cmd.   The file is pulled and saved on the local server.   \nFiles that are modified through dav, are pushed back to amazon s3 as backup.\nFiles which have not been modified or accessed for x days are deleted from the local server but maintained on s3. \nFiles that are deleted are deleted on S3 and local server. \nThis way the local server acts as a cache reducing s3 bandwith and requests, but you get the ability to use amazon s3 with dav.  It would be super neat.   Imagine you are working on a big web dev project, but dont touch it for 5 months, the files are safe on amazon s3 but not on your web server.  Or a law office using WebDav can store documents.  The case documents that are currently being worked on are available on the dav directory on the server & s3.  Old case files are nice and safe on S3. \nIts probably a lot of work.  But if baikal is going to be the premier webdav server then having S3 fallback would be SUPER COOL.\n- PS.  my favorite feature request still remains a REST or JSON api. \n. http://code.google.com/p/s3fs/\n. The idea was to store contacts vcards in MySQL.\nA lot of companies already have some sort of user / contacts system in place usually in MySQL or MSSQL.\nIts hard to sync sqllite and mysql.  Might just be cleaner to offer other \"backend\" options such as mysql.\n-----Original Message-----\nFrom: J\u00e9r\u00f4me Schneider [mailto:reply@reply.github.com] \nSent: Friday, May 11, 2012 12:03 AM\nTo: Frank Basti\nSubject: Re: [Baikal] MySQL Version (#1)\nHello Frank, \nIt might be possible to base Ba\u00efkal on MySQL, yes.\nI'm at work right now, but I will provide you with a more elaborated answer this weekend. \nRegards \n\nJ\u00c9R\u00d4ME SCHNEIDER\nmail@jeromeschneider.fr [2]  \nOn Wed, 9 May 2012 16:05:06 -0700,\nflashtopia wrote: \n\nSqlLite is great.\nWe are looking for a CardDav /\nCalDav server that would support mysql.\nThe reason for this is that\nmany people use Postfix / DovCot with MySQL to manage user accounts.\nBeing able to add a few tables to the same database, and then add calendering functionality / vcard storage would be a very valuable project. Add Z-Push as an alternative to pull calendar, vcard, and mail and you have a winner.\nPlease let me know if you are planning on\nbuilding a MySQL version.\nFrank\n\nReply to this email\ndirectly or view it on GitHub:\nhttps://github.com/jeromeschneider/Baikal/issues/1 [1]\n\nLinks:\n[1]\nhttps://github.com/jeromeschneider/Baikal/issues/1\n[2]\nmailto:mail@jeromeschneider.fr\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/jeromeschneider/Baikal/issues/1#issuecomment-5644957\n. Jerome,\nWere you ever able to look into MySQL?\nAlso few small questions:\n1. Are vcards stored in SQL or in some filesystem directory?\n2. Are all the fields used by apple devices available (nickname, email, photo?)\n3. Does it support the apple global address list?\n4. Does it support permissions (read only).\nReally looking forward to mysql support. \n. Great I will try it tonight.\nLast question, does it support (read only) contacts?\n. Thanks Jerome.  I am working on writing rewrite rules for Apache / IIS that default to the phone/ipad settings for conctacts.myserver.com and calendar.myserver.com.   Once i get everything working properly ill make sure the share the updates.  \nThe plan again is to build an interface to existing MySQL contact stores.  This allows in house CRM systems, to update carddav devices so that if a contact calls, it simply shows up on caller id. \n. @mashimaro-jp  i was under the impression that the flake framwork supported mysql.  Actually not sure what the flake framework actually is.   Can you share your MySQL code?\n. Thanks Jerome.  Greatly appreciate the work you do!\nMashimaro- Thank you for getting things cooking!\n. @mashimaro-jp  do you have an estimate on when this will be completed?  Really looking forward to this featureset. \n. Sorry to be a pest, but any updates on this issue?\n. Thanks @jeromeschneider .  I really appreciate being able to use MySQL. \nI have successfully been able to use SQL inserts to create contacts in the CARDS table and have them show up on ipad.  Essentially just do SQL inserts with the correct addressbookid, carddata, random uri with vcf extension, and lastmodified time stamp.  The only catch is everytime an update takes place I also need to change the ctag value in the addressbooks table.\nWhat is the ctag?  is it some sort of freshness stamp?\nAlso two little things:\n1. for some reason the default addressbook does not sync on Ipad.  Meaning contacts created in it, do not work.\n2. the download is missing the htaccess .\nI have gotten Baikal to work with DNS Srv records for contacts.  This makes configuring iOS clients really simple.  The catch is that this only works on port 80.  I am running baikal on port 8800 now and SRV record auto configure breaks.\nSo  srv record like this works:\n_carddav._tcp  0 0 80 contacts.domain.com/card.php.   <--- WORKS\n_carddav._tcp 0 0 8800 contacts.domain.com:8800/card.php  <--- INVALID FORMAT (cannot create srv).\nIn an attempt to change things, i tried to make card.php the default document in my virtual host.\nBut adding \"DirectoryIndex card.php\" to to virtual host breaks sabredav. \nQuestion:\nIs it possible to have two virtual hosts:\nA) baikal.mydomain.com \n    where it defaults to index.php and I am able to access the admin interface. \nB) contacts.mydomain.com \n     where it automatically connects to card.php and there is no more need to type in the card.php name?\n     This is useful for fixing the SRV issue, makes for a cleaner setup.\nPlease advise.\nAnd thanks again for great work!!!\n. Are the contacts simply not base64 encoded and included in the vCard file?  I dont think Bailak actually modifies the Vcard files?  Am I wrong?\n. Please take a look at this:\nhttp://www.staze.org/carddav-caldav-autodiscovery-on-mac-os-x-and-ios/\nSRV records work for carddav.\nTested with DNSmadeEasy.com \n. This would be great!  Specially if there were read only permissions on some resources.\n. @Svish I too am trying to figure out how to create users.  The new SQL back end should make it a bit simpler.  I think a REST api is planned to allow for us to programatically create, view, read  different items. \nin the meanwhile I wanted to share this with you. \nhttp://agendav.org/\nI think using baikal as a backend to serve your calendars makes total sense.  That way, any device (ios, android, etc) that supports caldav can connect and read / update calendars.  You can try using agendav as a web based ical client for web based calendar access. \n. Its not an email server, it can be thought about as a calendar / contacts server.   If you are looking for an email server that would work on the same server (box) take a look at iRedMail. its a way to quickly install a postfx/imap/mysql email server on  a linux machine. \n. THANK YOU\n. @jeromeschneider  I wanted to share this with you:\nhttps://github.com/dupondje/PHP-Push-2\nMight be a quick way to put activesync on top of the Baikal / SabreDav  (Carddav/Caldav) system and give more features as mentioned above. \nIf you can merge the two, all that would be missing is Tasks.\n. Is Baikal abandoned? \n. @jeromeschneider, I completely understand.  I have tried to contribute, but from a php and mvc perspective i am useless.\n. @jeromeschneider  - GREAT TO SEE YOU BACK !!!\nReally love this project, and i get a bit depressed when you are tied up on other things.\nI am struggling to learn php, so that I can contribute. \nAs for IIS\nI run Baikal on apache, but have rund webdav on IIS before. \nIIS Supports dav, and that might be what is giving you the conflict.\nBased on this thread on sabredav you need to completely disable Dav support in IIS\nhttps://groups.google.com/forum/?fromgroups=#!topic/sabredav-discuss/T9EToqkQlCc\n. @JKantonen Did you try to disable webdav on IIS?  Webdav on IIS conflicts with SabreDav\n. If you are going to implement it, please add S3 Support.   Adding S3 would pretty much bake Baikal only working on linux, since the frameworks for intergrating with S3  S3cmd and windows S3 components vary.   But having S3 support would be super sick! \n. There is the s3fs which i confused for s3cmd.    Its a fuse file system backed with Amazon S3.   It would be pretty neat to use something like that.  I dont know how reliable it is.  \nMaybe S3Cmd could be used like this.\nDav client connects to baikal.  If the file does not exist, then S3 is checked for it using s3cmd.   The file is pulled and saved on the local server.   \nFiles that are modified through dav, are pushed back to amazon s3 as backup.\nFiles which have not been modified or accessed for x days are deleted from the local server but maintained on s3. \nFiles that are deleted are deleted on S3 and local server. \nThis way the local server acts as a cache reducing s3 bandwith and requests, but you get the ability to use amazon s3 with dav.  It would be super neat.   Imagine you are working on a big web dev project, but dont touch it for 5 months, the files are safe on amazon s3 but not on your web server.  Or a law office using WebDav can store documents.  The case documents that are currently being worked on are available on the dav directory on the server & s3.  Old case files are nice and safe on S3. \nIts probably a lot of work.  But if baikal is going to be the premier webdav server then having S3 fallback would be SUPER COOL.\n- PS.  my favorite feature request still remains a REST or JSON api. \n. http://code.google.com/p/s3fs/\n. ",
    "ghost": "Hi All.\nBaikal is using PDO. I think it easy to implement for mySQL.\nSo I'd like to try this issue.\nMy plan is\n- implent /usr/local/github/Baikal/Core/Frameworks/Flake/Core/Database/MySql.php\n- edit /usr/local/github/Baikal/Core/Frameworks/Flake/Framework.php for Mysql\nphp\n$this->oDb = new \\PDO(\n            'mysql:host='.$host_name.';dbname='.$db_name, \n            $user_name, \n            $password, \n            array(PDO::MYSQL_ATTR_INIT_COMMAND => \"SET NAMES utf8\")\n. @flashtopia Sorry, I'm under implement too. But I wanna share part of code. please look https://gist.github.com/3169542 \n. Jep, Upgrading my PHP 5.3 to PHP 5.4 helped out. But saldly it didn't Help for the final Goal, Synchronizing Contacts doen't work with iPhone. Now I am Using SOGo.\n. @passmo \nWhat url do you use to sync with carddav-sync for android. i found nor url that works...\n. Set # before php_flag magic_quotes_gpc Off\n. The .htaccess File is generated new after the installation. You should uncomment the line again.\n. Of course, i have tried a sync with this url. But there is no sync possible...\n. I'm having a similar problem: http://myhost.org/my_user/baikal/ becomes http://myhost.org/al .\nI'm using baikal-flat-0.2.4.zip downloaded from main website just one day ago, on Ubuntu Server 12.04 LTS with the default Apache 2.2.22 and PHP 5.3.10-1ubuntu3.4 installations . I solved changing in baikal-flat/Core/Frameworks/Flake/Framework.php the $sBaseUrl variable to my correct path. \nStrangely, I don't get this error if I use the same Baikal version with Apache 2.2.22, PHP 5.2.xx or PHP 5.3.19 on Windows 7.\nI hope anyway it's not a matter of some strange configuration I did on my Ubuntu server.\n. Look at https://github.com/jeromeschneider/Baikal/issues/19\n. It seems it's related to IOS 4.3 version, i have tested with higher version of IOS and can access contact on Baikal server.\nhttps://discussions.apple.com/thread/2613260?start=105&tstart=0\nIssue can be closed.\n. Any news about a small and simple webdav support for files storage ? Nothing fancy. Just a storage quota per user should be enough for many needs.\n. +1\n. We're currently looking in our University to implement a new CalDAV/CardDAV solution to replace the unreliable ownCloud service. If Baikal could do sharing it would be perfect, as we need users to be able to share particular calendars with particular user(s) and groups. Thus a group concept wouldn't be bad either.\nGreat job guys! +1\n. I found this in Core/Frameworks/Flake/Framework.php. Or you can change line 162 to:\n$sProtocol = \"https\";\nIt would be nice if HTTPS URLs and cookies could be enforced via configuration eventually.\n. baikal is based on sabredav, which is listed. It probably works.\n. Solve it for ios 7.02, Debian Wheezy, Baikal 0.2.6, Apache 2 for me, scraperonces suggestion worked, with additions pulled from my log files:\nApply this to both SSL and non-SSL Apache files:\nhttps://github.com/jeromeschneider/Baikal/commit/ec25cbe5322cea005812c270b4d6688dc994dd63\nTo be more precise, add\nRewriteEngine On\nRewriteRule /.well-known/carddav /card.php [R,L]\nRewriteRule /.well-known/caldav /cal.php [R,L]\nRestart Apache server.\nOn the iphone, make a NEW CardDav account:\nServer: dav.mydomain.com\nUser Name: username\nPassword: password\nThe key trick is not to put card.php behind the dav.mydomain.com.\nI should perhaps add that I have a default redirect to SSL for baikal:\nRewriteEngine On\nRewriteCond %{HTTPS} off\nRewriteRule (.*) https://%{HTTP_HOST}%{REQUEST_URI} [R=301,L]\nRewriteRule /.well-known/carddav /card.php [R,L]\nRewriteRule /.well-known/caldav /cal.php [R,L]\n. +1\n. Hello!\nHow to setup the vhost for apache to get a rewrite rule for OS X calendar and addressbook, so I just enter server.domain.tld as host?\nGreat job and +1 for the authors.\n. I had the same problem with Baikal and NGINX. it is solved here: http://yalis.fr/cms/index.php/post/2013/10/26/Configure-PHP-with-Nginx-only-once-for-several-aliases\njust adapt it to your configuration, something like: \nlocation /baikal {\n            #root   /usr/share/nginx/html;\n            alias  /usr/share/nginx/html/baikal/html;\n            index index.php;\n            rewrite ^(/baikal)(/.?.php)(/.)?$ /...$document_root/...$1/...$2/...$3 last;\n```\n            rewrite ^/.well-known/caldav /cal.php redirect;\n            rewrite ^/.well-known/carddav /card.php redirect;\ncharset utf-8;\nlocation ~ \\.php$ {\nfastcgi_split_path_info ^(.+?\\.php)(/.*)?$;\nfastcgi_pass unix:/var/run/php5-fpm.sock;\nfastcgi_index index.php;\ninclude fastcgi_params;\n}\n\n```\nlocation ~* /baikal/(.ht|Core|Specific) {\n    deny  all;\n    return 404;\n}\n}\n        location /... {\n                internal;\n                autoindex off;\n                location ~ ^/...(?.)/...(?.)/...(?..php)/...(?.)$ {\n                        fastcgi_pass unix:/var/run/php5-fpm.sock;\n                        fastcgi_index index.php;\n                        include fastcgi_params;\n                        fastcgi_param SCRIPT_FILENAME $p_doc_root$p_script;\n                        fastcgi_param SCRIPT_NAME     $p_prefix$p_script;\n                        fastcgi_param REQUEST_URI     $p_prefix$p_script$p_pathinfo$is_args$query_string;\n                        fastcgi_param DOCUMENT_URI    $p_prefix$p_script$p_pathinfo;\n                        fastcgi_param DOCUMENT_ROOT   $p_doc_root;\n                        fastcgi_param PATH_INFO       $p_pathinfo if_not_empty;\n                        #fastcgi_param PATH_TRANSLATED $p_doc_root$p_pathinfo;\n                }\n        }\n. I'm using ba\u00efkal and had the same issue. Digging around based on this comment https://bugzilla.mozilla.org/show_bug.cgi?id=799184#c7 I switched from Digest to Basic authentication (in the Settings of the Ba\u00efkal web gui) and it worked.\n. The problem was related to SPDY of the Synology NAS which hosts my Baikal server.\nSwitching off SPDY in the Web Services resolves the issue.\n. Cool! ;-) If you need any details you can find the complete iOS Configuration Profile specification online.\n. I'm getting this error on every page of my baikal2-server, I think I have found the problem! This error appears when a script is not used over SSL. In this file, thats the case: src/Baikal/AdminBundle/Ressources/views/Dashboard/index.html.twig\n<script defer=\"defer\" src=\"http://baikal-server.com/remote/versioncheck.js?version={{ app_version }}&distrib={{ app_distrib }}\"></script>\nThe js-file for the version check! https:// is missing, but I thing that baikal-server.com has no SSL connection!\n. Will it be fixed in a future version? \n. The issue still exists. Anyone got a fix for this problem? \n. I have this to, using mysql (mariadb)\n. I've tried this since El Cap was released and 10.11.1 update on a baikal 0.2.7 flat package with FreeBSD FAMP or Ubuntu LAMP.\nThe 2 main points to get it working with El Cap is that...\nSSL with Baikal and El Cap is Broken\njust use HTTP  :(\nYou must have the \nRedirect /.well-known/carddav /baikal/card.php\nRedirect /.well-known/caldav /baikal/cal.php\nin your .htaccess via the mod_rewrite module or apache httpd config\nI wish Apple would disable these options in the accounts section of OS X if they're so terribly broken.  It's clear they only made sure the proprietary players worked with this release.\n. @0-wiz-0 \nThat sounds excellent.  It'd be nice to ssl again.  I'm gonna try this after coffee tomorrow.  Will give an update.\n. SSL still not working. \n. +1\n. ah funny ... just wanted to confirm that i have the same Problem. \nThe trick with the emtpy db folder is working for me too :)\n. debian 8 + unzip\n. I don't think this is an issue with the upgrade from an earlier version per se.\nAfter a clean first installation of version 0.3.5 under Gentoo Linux, I had the same issue. First time user of the baikal-server, it took me a while to get here. Went through the problem on the client side (Thunderbird and sogo-connector under different Linux flavours) and when I finally came to read this 'issue' entry I found your solution. Thanks, BTW. ;-)\nUpdated the 'synctoken' column to '1' in the SQlite db in both the 'calendars' and 'addressbooks' tables and everything started to flow as expected.\n. Hey I've installed baikal 0.4.5 but I still can't enable Todos and Notes at the same time.\n. It breaks the admin interface.\n. Yeah, that was the problem. And I didn't know what the exact CalDAV and CardDAV URL's were. But now it's running perfectly.. Hi All.\nBaikal is using PDO. I think it easy to implement for mySQL.\nSo I'd like to try this issue.\nMy plan is\n- implent /usr/local/github/Baikal/Core/Frameworks/Flake/Core/Database/MySql.php\n- edit /usr/local/github/Baikal/Core/Frameworks/Flake/Framework.php for Mysql\nphp\n$this->oDb = new \\PDO(\n            'mysql:host='.$host_name.';dbname='.$db_name, \n            $user_name, \n            $password, \n            array(PDO::MYSQL_ATTR_INIT_COMMAND => \"SET NAMES utf8\")\n. @flashtopia Sorry, I'm under implement too. But I wanna share part of code. please look https://gist.github.com/3169542 \n. Jep, Upgrading my PHP 5.3 to PHP 5.4 helped out. But saldly it didn't Help for the final Goal, Synchronizing Contacts doen't work with iPhone. Now I am Using SOGo.\n. @passmo \nWhat url do you use to sync with carddav-sync for android. i found nor url that works...\n. Set # before php_flag magic_quotes_gpc Off\n. The .htaccess File is generated new after the installation. You should uncomment the line again.\n. Of course, i have tried a sync with this url. But there is no sync possible...\n. I'm having a similar problem: http://myhost.org/my_user/baikal/ becomes http://myhost.org/al .\nI'm using baikal-flat-0.2.4.zip downloaded from main website just one day ago, on Ubuntu Server 12.04 LTS with the default Apache 2.2.22 and PHP 5.3.10-1ubuntu3.4 installations . I solved changing in baikal-flat/Core/Frameworks/Flake/Framework.php the $sBaseUrl variable to my correct path. \nStrangely, I don't get this error if I use the same Baikal version with Apache 2.2.22, PHP 5.2.xx or PHP 5.3.19 on Windows 7.\nI hope anyway it's not a matter of some strange configuration I did on my Ubuntu server.\n. Look at https://github.com/jeromeschneider/Baikal/issues/19\n. It seems it's related to IOS 4.3 version, i have tested with higher version of IOS and can access contact on Baikal server.\nhttps://discussions.apple.com/thread/2613260?start=105&tstart=0\nIssue can be closed.\n. Any news about a small and simple webdav support for files storage ? Nothing fancy. Just a storage quota per user should be enough for many needs.\n. +1\n. We're currently looking in our University to implement a new CalDAV/CardDAV solution to replace the unreliable ownCloud service. If Baikal could do sharing it would be perfect, as we need users to be able to share particular calendars with particular user(s) and groups. Thus a group concept wouldn't be bad either.\nGreat job guys! +1\n. I found this in Core/Frameworks/Flake/Framework.php. Or you can change line 162 to:\n$sProtocol = \"https\";\nIt would be nice if HTTPS URLs and cookies could be enforced via configuration eventually.\n. baikal is based on sabredav, which is listed. It probably works.\n. Solve it for ios 7.02, Debian Wheezy, Baikal 0.2.6, Apache 2 for me, scraperonces suggestion worked, with additions pulled from my log files:\nApply this to both SSL and non-SSL Apache files:\nhttps://github.com/jeromeschneider/Baikal/commit/ec25cbe5322cea005812c270b4d6688dc994dd63\nTo be more precise, add\nRewriteEngine On\nRewriteRule /.well-known/carddav /card.php [R,L]\nRewriteRule /.well-known/caldav /cal.php [R,L]\nRestart Apache server.\nOn the iphone, make a NEW CardDav account:\nServer: dav.mydomain.com\nUser Name: username\nPassword: password\nThe key trick is not to put card.php behind the dav.mydomain.com.\nI should perhaps add that I have a default redirect to SSL for baikal:\nRewriteEngine On\nRewriteCond %{HTTPS} off\nRewriteRule (.*) https://%{HTTP_HOST}%{REQUEST_URI} [R=301,L]\nRewriteRule /.well-known/carddav /card.php [R,L]\nRewriteRule /.well-known/caldav /cal.php [R,L]\n. +1\n. Hello!\nHow to setup the vhost for apache to get a rewrite rule for OS X calendar and addressbook, so I just enter server.domain.tld as host?\nGreat job and +1 for the authors.\n. I had the same problem with Baikal and NGINX. it is solved here: http://yalis.fr/cms/index.php/post/2013/10/26/Configure-PHP-with-Nginx-only-once-for-several-aliases\njust adapt it to your configuration, something like: \nlocation /baikal {\n            #root   /usr/share/nginx/html;\n            alias  /usr/share/nginx/html/baikal/html;\n            index index.php;\n            rewrite ^(/baikal)(/.?.php)(/.)?$ /...$document_root/...$1/...$2/...$3 last;\n```\n            rewrite ^/.well-known/caldav /cal.php redirect;\n            rewrite ^/.well-known/carddav /card.php redirect;\ncharset utf-8;\nlocation ~ \\.php$ {\nfastcgi_split_path_info ^(.+?\\.php)(/.*)?$;\nfastcgi_pass unix:/var/run/php5-fpm.sock;\nfastcgi_index index.php;\ninclude fastcgi_params;\n}\n\n```\nlocation ~* /baikal/(.ht|Core|Specific) {\n    deny  all;\n    return 404;\n}\n}\n        location /... {\n                internal;\n                autoindex off;\n                location ~ ^/...(?.)/...(?.)/...(?..php)/...(?.)$ {\n                        fastcgi_pass unix:/var/run/php5-fpm.sock;\n                        fastcgi_index index.php;\n                        include fastcgi_params;\n                        fastcgi_param SCRIPT_FILENAME $p_doc_root$p_script;\n                        fastcgi_param SCRIPT_NAME     $p_prefix$p_script;\n                        fastcgi_param REQUEST_URI     $p_prefix$p_script$p_pathinfo$is_args$query_string;\n                        fastcgi_param DOCUMENT_URI    $p_prefix$p_script$p_pathinfo;\n                        fastcgi_param DOCUMENT_ROOT   $p_doc_root;\n                        fastcgi_param PATH_INFO       $p_pathinfo if_not_empty;\n                        #fastcgi_param PATH_TRANSLATED $p_doc_root$p_pathinfo;\n                }\n        }\n. I'm using ba\u00efkal and had the same issue. Digging around based on this comment https://bugzilla.mozilla.org/show_bug.cgi?id=799184#c7 I switched from Digest to Basic authentication (in the Settings of the Ba\u00efkal web gui) and it worked.\n. The problem was related to SPDY of the Synology NAS which hosts my Baikal server.\nSwitching off SPDY in the Web Services resolves the issue.\n. Cool! ;-) If you need any details you can find the complete iOS Configuration Profile specification online.\n. I'm getting this error on every page of my baikal2-server, I think I have found the problem! This error appears when a script is not used over SSL. In this file, thats the case: src/Baikal/AdminBundle/Ressources/views/Dashboard/index.html.twig\n<script defer=\"defer\" src=\"http://baikal-server.com/remote/versioncheck.js?version={{ app_version }}&distrib={{ app_distrib }}\"></script>\nThe js-file for the version check! https:// is missing, but I thing that baikal-server.com has no SSL connection!\n. Will it be fixed in a future version? \n. The issue still exists. Anyone got a fix for this problem? \n. I have this to, using mysql (mariadb)\n. I've tried this since El Cap was released and 10.11.1 update on a baikal 0.2.7 flat package with FreeBSD FAMP or Ubuntu LAMP.\nThe 2 main points to get it working with El Cap is that...\nSSL with Baikal and El Cap is Broken\njust use HTTP  :(\nYou must have the \nRedirect /.well-known/carddav /baikal/card.php\nRedirect /.well-known/caldav /baikal/cal.php\nin your .htaccess via the mod_rewrite module or apache httpd config\nI wish Apple would disable these options in the accounts section of OS X if they're so terribly broken.  It's clear they only made sure the proprietary players worked with this release.\n. @0-wiz-0 \nThat sounds excellent.  It'd be nice to ssl again.  I'm gonna try this after coffee tomorrow.  Will give an update.\n. SSL still not working. \n. +1\n. ah funny ... just wanted to confirm that i have the same Problem. \nThe trick with the emtpy db folder is working for me too :)\n. debian 8 + unzip\n. I don't think this is an issue with the upgrade from an earlier version per se.\nAfter a clean first installation of version 0.3.5 under Gentoo Linux, I had the same issue. First time user of the baikal-server, it took me a while to get here. Went through the problem on the client side (Thunderbird and sogo-connector under different Linux flavours) and when I finally came to read this 'issue' entry I found your solution. Thanks, BTW. ;-)\nUpdated the 'synctoken' column to '1' in the SQlite db in both the 'calendars' and 'addressbooks' tables and everything started to flow as expected.\n. Hey I've installed baikal 0.4.5 but I still can't enable Todos and Notes at the same time.\n. It breaks the admin interface.\n. Yeah, that was the problem. And I didn't know what the exact CalDAV and CardDAV URL's were. But now it's running perfectly.. ",
    "gillecaluim": "I'm also interested in integrating baikal into an ubuntu12.04 lamp server using mysql instead of sqlite.  The main purpose being that I'm building a joomla home website and would like to sync a joomla calendar with baikal.  with the end result being that mobile phone sync (android) would be possible with the home server rather than google calendars.\nI downloaded the current \"regular package\" but nothing in the install/readme.md files mentions mysql support. Do i need the git repository instead?\nAlso, are you available for installation/customization consulting?\n. I'm also interested in integrating baikal into an ubuntu12.04 lamp server using mysql instead of sqlite.  The main purpose being that I'm building a joomla home website and would like to sync a joomla calendar with baikal.  with the end result being that mobile phone sync (android) would be possible with the home server rather than google calendars.\nI downloaded the current \"regular package\" but nothing in the install/readme.md files mentions mysql support. Do i need the git repository instead?\nAlso, are you available for installation/customization consulting?\n. ",
    "simardcasanova": "Is it necessary to first install Baikal with SQLite and then change to MySQL or is it possible to directly install with MySQL?\n. Thanks for your answer. Do you have any idea of a schedule for this implementation?\n. Is it necessary to first install Baikal with SQLite and then change to MySQL or is it possible to directly install with MySQL?\n. Thanks for your answer. Do you have any idea of a schedule for this implementation?\n. ",
    "DjSlash": "It would be nice to prefix the tables. This makes it easy to install Baikal in a single database.\n. According to https://github.com/evert/SabreDAV/issues/116 it's already implemented.\n. Please use Github's Markdown to show code, it makes your posts better readable. \n. Why won't those work and displayname will? What did mysql report when you initialy tried the original table definition?\nFor the record: the definition did worked at my mysql-server just fine.\n. It would be nice to prefix the tables. This makes it easy to install Baikal in a single database.\n. According to https://github.com/evert/SabreDAV/issues/116 it's already implemented.\n. Please use Github's Markdown to show code, it makes your posts better readable. \n. Why won't those work and displayname will? What did mysql report when you initialy tried the original table definition?\nFor the record: the definition did worked at my mysql-server just fine.\n. ",
    "tilllt": "i google that i am supposed to check library depencies and did this with \"ldd\"\nthis was the output for pdo:\nldd: can't open cache '/ffp/etc/ld.so.cache'\nchecking sub-depends for '/ffp/lib/libgcc_s.so.1'\nchecking sub-depends for '/ffp/lib/libc.so.0'\n    ld-uClibc.so.0 => /ffp/lib/ld-uClibc.so.0 (0x2a000000)\n    libgcc_s.so.1 => /ffp/lib/libgcc_s.so.1 (0x00000000)\n    libc.so.0 => /ffp/lib/libc.so.0 (0x00000000)\n    /ffp/lib/ld-uClibc.so.0 => /ffp/lib/ld-uClibc.so.0 (0x00000000)\nand this for pdo_sqlite.so\nldd: can't open cache '/ffp/etc/ld.so.cache'\nchecking sub-depends for '/ffp/lib/librt.so.0'\n    libc.so.0 => /ffp/lib/libc.so.0 (0x4000d000)\n    libdl.so.0 => /ffp/lib/libdl.so.0 (0x40072000)\n    libpthread.so.0 => /ffp/lib/libpthread.so.0 (0x4007d000)\n    ld-uClibc.so.0 => /ffp/lib/ld-uClibc.so.0 (0x2a000000)\nchecking sub-depends for '/ffp/lib/libc.so.0'\n    ld-uClibc.so.0 => /ffp/lib/ld-uClibc.so.0 (0x2a000000)\n    librt.so.0 => /ffp/lib/librt.so.0 (0x00000000)\n    libc.so.0 => /ffp/lib/libc.so.0 (0x00000000)\n    /ffp/lib/ld-uClibc.so.0 => /ffp/lib/ld-uClibc.so.0 (0x00000000)\n. although enabled in php.ini, phpinfo() does not list any PDO drivers... no idea how to fix this.\n. i think i had to recompile php 50 times before everything was working as i wanted too, it was something in the configure options... i must admit that i dropped my experimenting with baikal in favor of owncloud which does the DAV synching as well but a lot of things more... maybe you can combine your knowledge with theirs?\ncheers! till\n. i google that i am supposed to check library depencies and did this with \"ldd\"\nthis was the output for pdo:\nldd: can't open cache '/ffp/etc/ld.so.cache'\nchecking sub-depends for '/ffp/lib/libgcc_s.so.1'\nchecking sub-depends for '/ffp/lib/libc.so.0'\n    ld-uClibc.so.0 => /ffp/lib/ld-uClibc.so.0 (0x2a000000)\n    libgcc_s.so.1 => /ffp/lib/libgcc_s.so.1 (0x00000000)\n    libc.so.0 => /ffp/lib/libc.so.0 (0x00000000)\n    /ffp/lib/ld-uClibc.so.0 => /ffp/lib/ld-uClibc.so.0 (0x00000000)\nand this for pdo_sqlite.so\nldd: can't open cache '/ffp/etc/ld.so.cache'\nchecking sub-depends for '/ffp/lib/librt.so.0'\n    libc.so.0 => /ffp/lib/libc.so.0 (0x4000d000)\n    libdl.so.0 => /ffp/lib/libdl.so.0 (0x40072000)\n    libpthread.so.0 => /ffp/lib/libpthread.so.0 (0x4007d000)\n    ld-uClibc.so.0 => /ffp/lib/ld-uClibc.so.0 (0x2a000000)\nchecking sub-depends for '/ffp/lib/libc.so.0'\n    ld-uClibc.so.0 => /ffp/lib/ld-uClibc.so.0 (0x2a000000)\n    librt.so.0 => /ffp/lib/librt.so.0 (0x00000000)\n    libc.so.0 => /ffp/lib/libc.so.0 (0x00000000)\n    /ffp/lib/ld-uClibc.so.0 => /ffp/lib/ld-uClibc.so.0 (0x00000000)\n. although enabled in php.ini, phpinfo() does not list any PDO drivers... no idea how to fix this.\n. i think i had to recompile php 50 times before everything was working as i wanted too, it was something in the configure options... i must admit that i dropped my experimenting with baikal in favor of owncloud which does the DAV synching as well but a lot of things more... maybe you can combine your knowledge with theirs?\ncheers! till\n. ",
    "facconi": "I am using Mac Os X Lion (10.7.4) with Address Book 6.1.2. All versions are updated to the latest versions.\nI have copied to contacts with pictures on the Baikal server, and when I have reopened them I have not found the contact picture any more.\n. I am using Mac Os X Lion (10.7.4) with Address Book 6.1.2. All versions are updated to the latest versions.\nI have copied to contacts with pictures on the Baikal server, and when I have reopened them I have not found the contact picture any more.\n. ",
    "richii93": "Well, it\u00b4s been a while since this bug was reported and I don\u00b4t know if it\u00b4s still an issue.\nI just started to use Baikal and I do like it! Good work! \nI use contact pictures with different devices (Mac OS X 10.8, Mac OS X 10.9, iOS 7) and it works fine for me.\nI just wanted to let you know.\n. Well, it\u00b4s been a while since this bug was reported and I don\u00b4t know if it\u00b4s still an issue.\nI just started to use Baikal and I do like it! Good work! \nI use contact pictures with different devices (Mac OS X 10.8, Mac OS X 10.9, iOS 7) and it works fine for me.\nI just wanted to let you know.\n. ",
    "ryanmitchell": "+1 for this, or an alternative way of keeping two data-sets in sync\n. +1 for this. Would be really useful for a project I'm working on.\nIdeally a way of having multiple users share the same address box for reading + optionally writing if they have permission.\n. +1\n. I've written a change to the PDO backend that turns a addressbook or calendar into a shared one, however it forces all users subscribed to it to only have that addressbook/calendar (which is my needs).\nHappy to share the code if that helps anyone else get started on this feature.\n. Yeah (on that DAV server). \nIt only shows 1 calendar/addressbook for the group you belong to.\ni.e.\nI'm a user\nI'm subscribed to group x\nI can see the calendar/addressbook associated with group x\nOn 15 May 2013, at 14:44, Torleif Berger notifications@github.com wrote:\n\n@ryanmitchell What do you mean? That if I subscribed to that calendar/addressbook on my iPhone for instance, I could not subscribe to any others?\n\u2014\nReply to this email directly or view it on GitHub.\n. Sure - drop me an email and i'll send you the file.\nryan@rt.to\n. To get it working in IOS i did the following (using nginx, but I'd imagine similar for apache).\n\nrewrite  ^/.well-known/carddav$  /card.php last;\nrewrite  ^/.well-known/caldav$  /cal.php last;\nrewrite  ^/addressbooks/(..*)$  /card.php/addressbooks/$1 last;\nrewrite  ^/principals/(..*)$  /cal.php/principals/$1 last;\nBasically, pointing it to the right places uses well-known and some other urls iOS seemed to request.\n. Do you get errors? If so what are they?\n. Are you adding events through a client? Surely it displays on that?\nDid the setup of your clients seem to complete correctly?\nOn 13 May 2013, at 18:04, qnappy notifications@github.com wrote:\n\nHi again,\nthanks for getting back to me. No I dont get error messages. I can add \nevents and they end up in the database. It's just that NO client shows them.\nI know it sounds weird but this is how it is.\nThanks again Hope you have an idea?\nOlaf\n\nRyan Mitchell mailto:notifications@github.com\nMonday, May 13, 2013 11:49 AM\nDo you get errors? If so what are they?\n\u2014\nReply to this email directly or view it on GitHub \nhttps://github.com/jeromeschneider/Baikal/issues/83#issuecomment-17802243.\n\u2014\nReply to this email directly or view it on GitHub.\n. +1 for this, or an alternative way of keeping two data-sets in sync\n. +1 for this. Would be really useful for a project I'm working on.\n\n\nIdeally a way of having multiple users share the same address box for reading + optionally writing if they have permission.\n. +1\n. I've written a change to the PDO backend that turns a addressbook or calendar into a shared one, however it forces all users subscribed to it to only have that addressbook/calendar (which is my needs).\nHappy to share the code if that helps anyone else get started on this feature.\n. Yeah (on that DAV server). \nIt only shows 1 calendar/addressbook for the group you belong to.\ni.e.\nI'm a user\nI'm subscribed to group x\nI can see the calendar/addressbook associated with group x\nOn 15 May 2013, at 14:44, Torleif Berger notifications@github.com wrote:\n\n@ryanmitchell What do you mean? That if I subscribed to that calendar/addressbook on my iPhone for instance, I could not subscribe to any others?\n\u2014\nReply to this email directly or view it on GitHub.\n. Sure - drop me an email and i'll send you the file.\nryan@rt.to\n. To get it working in IOS i did the following (using nginx, but I'd imagine similar for apache).\n\nrewrite  ^/.well-known/carddav$  /card.php last;\nrewrite  ^/.well-known/caldav$  /cal.php last;\nrewrite  ^/addressbooks/(..*)$  /card.php/addressbooks/$1 last;\nrewrite  ^/principals/(..*)$  /cal.php/principals/$1 last;\nBasically, pointing it to the right places uses well-known and some other urls iOS seemed to request.\n. Do you get errors? If so what are they?\n. Are you adding events through a client? Surely it displays on that?\nDid the setup of your clients seem to complete correctly?\nOn 13 May 2013, at 18:04, qnappy notifications@github.com wrote:\n\nHi again,\nthanks for getting back to me. No I dont get error messages. I can add \nevents and they end up in the database. It's just that NO client shows them.\nI know it sounds weird but this is how it is.\nThanks again Hope you have an idea?\nOlaf\n\nRyan Mitchell mailto:notifications@github.com\nMonday, May 13, 2013 11:49 AM\nDo you get errors? If so what are they?\n\u2014\nReply to this email directly or view it on GitHub \nhttps://github.com/jeromeschneider/Baikal/issues/83#issuecomment-17802243.\n\u2014\nReply to this email directly or view it on GitHub.\n. \n\n",
    "pensan": "+1\nIt would be great to have a possibility to add user through external scripts (e.g. cron-job) \n. Hi,\nI got the addressbook running on OSX 10.6.8 but not the calendar (ical 4.0.4). I got no connection problem, but only the description is shown in the calendar list, not the individual calendars.\nI have installed the \"flat\" package. can this problem be solved by installing another package? Or is there also some kind of plist hack necessary?\ntroubleshooting Nr.3 returns \"GET is only implemented on File objects\"\n. +1\n. +1\nalso shared address books\n. I want to group contacts to that I can, for example, send an email to all people in the group. Thunberbird and also Mail support this kind of contact-lists. \n. +1\nIt would be great to have a possibility to add user through external scripts (e.g. cron-job) \n. Hi,\nI got the addressbook running on OSX 10.6.8 but not the calendar (ical 4.0.4). I got no connection problem, but only the description is shown in the calendar list, not the individual calendars.\nI have installed the \"flat\" package. can this problem be solved by installing another package? Or is there also some kind of plist hack necessary?\ntroubleshooting Nr.3 returns \"GET is only implemented on File objects\"\n. +1\n. +1\nalso shared address books\n. I want to group contacts to that I can, for example, send an email to all people in the group. Thunberbird and also Mail support this kind of contact-lists. \n. ",
    "briceb": "Definitely would make Baikal a lot more powerful... Thank you for the great project.\n. Definitely would make Baikal a lot more powerful... Thank you for the great project.\n. ",
    "karlkaefer": "+1 \nAny updates, comments or issues with this idea? @jeromeschneider ?\n. +1 \nAny updates, comments or issues with this idea? @jeromeschneider ?\n. ",
    "netgusto": "REST API is implemented in Ba\u00efkal2.\n. Continued in #282.\n. This will be implemented in Ba\u00efkal2. See #222.\n. Ba\u00efkal 2 has web clients for calendars and contacts.\n. Continued in #210.\n. Permissions and ACLs should allow readonly resources. We'll see about that in Ba\u00efkal2 (See #303)\n. We really want to stick with Calendar/Contacts (and maybe Todos) on Ba\u00efkal but not file storage.\nThis might be implemented on the side as a complementary project, though, if anyone is up to it.\n. filter_var should be packed in every PHP > 5.2 (Ba\u00efkal needs 5.3+). I have no idea why this function would not be available.\nComments ?\n. Thanks, this is now fixed. See https://github.com/netgusto/Baikal/blob/master/Core/Frameworks/Flake/Core/Database/Mysql.php#L56\n. Yes, MySQL 5.5+ required. The INSTALL.md has been updated accordingly.\n. Resource sharing will be supported by Ba\u00efkal 2. See #303.\n. @GuidoRed Thanks ! Could you maybe provide a pull request, so that we can integrate it in Ba\u00efkal ?\n. @GuidoRed I rewrote your comment so that the code is properly displayed.\n. @ammoniak found out eventually ? It would be nice to have Windows Server support.\n. Database structure is determined by the lib Ba\u00efkal relies upon for Dav services.\nIf other experience such troubles, we will widen URI columns to 255.\n. This is useful, and will be available in Ba\u00efkal2. See #222.\n. I think the realm is used in the password HASH, and therefore we cannot accomplish this easily.\n. Yes, CVS and ICS are the common format for static card and cal exchange.\nExports are considered for Ba\u00efkal 2. See #282\n. This is fixed now, thanks.\n. Will be implemented in Ba\u00efkal2. See #303 :)\n. Merged (a while ago); thanks !\n. Closing until we hear from talkinggoat.\n. Thanks @klosterallee :)\n. This works fine (tested on Flat and regular). How can I reproduce this ?\n. This will be supported in Ba\u00efkal 2. See #303\n. Continued in #304.\n. The admin password is set by you during install procedure in the web installer. Am I mis-understanding something here ? \n. MySQL 5.5 requirement added to INSTALL.md, thanks.\n. Have you found the reason ?\n. B2 supports PAAS out of the box. We'll have to try this though.\n. Fixed by https://github.com/netgusto/Baikal/pull/277.\n. You should try the flat package, because from the looks your URL contains segments that are not meant to be there (html).\n. Resource sharing will be supported by Ba\u00efkal 2. See #200, #303.\n. We will implement this (hopefully) in B2. See #304.\n. The magic quotes problem shoud be fixed in be7f499.\n. Continued in #294.\n. Fixed in be7f499. See #155.\n. +1 :) This is implemented in B2.\n. Thanks. See also https://github.com/netgusto/Baikal/issues/48#issuecomment-12155757\n. Wow, never thought of that. I have no idea how to build this reliably. Any pointers ?\n. Yep, will be in B2. See https://github.com/netgusto/Baikal/issues/282\n. Done :) https://github.com/netgusto/Baikal/blob/master/ChangeLog.md\n. Not a fork, but a rewrite: https://github.com/netgusto/Baikal2\n. I write it :) It works, yes, but UX is unfinished. Expecting a release for Q1 2015.\n. Yes, as long as CalDAV/CardDAV is supported on these devices, thanks to the efforts of @evert :)\n. The frontend view (new, non-existing in B1); the carddav web client and the caldav web client (to edit your data online); resources sharing.\n. Yes. Be aware that things may change (code and DB) until release, though.\n. For the code: I can only recommend to use git to fetch code until release.\nFor the DB: yes, DB migrations are implemented on top of Symfony/Doctrine; use like so:\n``` bash\non the command line, root of the project\n$ php app/console doctrine:migrations:migrate\n```\nI don't intend to produce much migrations until release, though (for obvious reasons :) ).\n. Resource sharing will be supported by Ba\u00efkal 2. See #303.\n. Continued in #305.\n. PG is not supported by Ba\u00efkal 1.\nIt IS supported by Ba\u00efkal2 though !\n. Thanks.\n. B2 will support imports; see https://github.com/netgusto/Baikal/issues/282\n. Yes, no-subdomains works out of the box.\n. Thanks, this has been merged back then.\n. Non-admin users cannot log in in Ba\u00efkal 1.\nIn B2 they can :)\n. Right. Also, use the regular package when possible, as it's always better to not expose private resources in the public web folder.\n. Yes, https:// on baikal-server.com is a good idea. Have not done it yet because certificates cost money :)\nDo you know any certificate authority that provide ssl certificates for open-source projects ?\n. This has made its way to the doc (see 65d23e4).\nThank you @jeff-h !\n. > Am I supposed to use composer to install any dependencies?\nIf the zip has been downloaded from Github, yes.\nIf the zip has been downloaded from baikal-server.com, no, the builds here have dependencies statically packaged.\n. Thanks, closing.\n. No experience with this client, sorry.\n. Made any discovery that might help us ?\n. These errors (CalDAVWriteEntityQueueableOperation) have been fixed in Ba\u00efkal2.\n. Thanks @cimm.\n. Fixed in be7f499. Thanks !\n. Fixed !\n. Nope, only RDBMS are supported in B2 through PDO and Doctrine. \nIn B1, only Sqlite and Mysql.\n. Closing, thanks.\n. Thanks :)\n. Have eventually sorted this out ?\n. User can change password in B2.\n. @fhemberger Right. This is the namespace char \\ not being recognised by the PHP setup (introduced in 5.3).\n. Please, do not write directly in the database :) Have a look at http://sabre.io/vobject/\n. Thanks.\n. It seems that OSX Contacts.app expects you to provide the URL your addressbooks one at a time, and not the URL where your addressbooks are available at (like it's the case for Calendars.app).\n. There might be a network node between you and your server that refuses to handle exotic HTTP methods (a proxy or a reverse-proxy maybe). Have you checked that ?\n. Have a look at your calendar client logs, that'll be useful to understand what's going on.\n. Thanks :)\n. Continued in #304.\n. Fixed by 59d9a65.\n. Thanks !\n. This is implemented in Ba\u00efkal2.\n. Resource sharing will be implemented in Ba\u00efkal2. See #303 also.\n. Hello, this mysterious bug is fixed in branch2 :)\n. Yes, you're right, responsiveness of the menu is perfectible between 960px and 760px.\n. Better password hashes are a planned feature of branch2.\nKeeping this one opened for reminder.\n. Thanks. sqlite should not behave that way, no. Maybe is it some kind of race condition (not sure if sqlite handles very well resource lock).\n. Updated the doc (TROUBLESHOOTING.md). Thanks !\n. Added to the doc in 7fe4ac3. Thanks @RubenMarsman !\n. Merged #288. Thanks :)\n. Hi, readonly shared access will be available in Ba\u00efkal 2 (branch2).\n. This has been fixed, thanks.\n. What's the use case for a calendar that the owner cannot update ?\n. @LaServiette thnx, I guess this can be closed yes.\n. If you really want to manipulate database entries, you should use vobject (https://github.com/fruux/sabre-vobject), and not doing this manually.\n. Before manipulating data, the client has to unencode it (because it's always encoded by the server).\nAnd then, before posting it back to the server, it has to encode it.\nWe can't handle this server side besides hacks based on user agent (and boy that's ugly and unreliable).\n. Thanks @LostKobrakai \n. Merged, thanks !\n. Merged ! Thanks !\n. It's not possible AFAIK. But you could implement this in PHP, so that the calendar gets deleted after a certain date.\n. @itiboi Hi Tim,\nWe experimented with a ColorPicker for Ba\u00efkal 2\nClosed:\n\nOpened:\n\nBut I agree, the colorpicker you present is better suited for picking clearly distinct colors.\n. Have you found a way ?\n. Ba\u00efkal 2 features a REST API that allows full access to calendars, events, addressbooks and contacts.\nFor the moment (2.0.0-alpha1), the API is readonly though, but in the end, it will follow ACLs defined in the application.\n. Absolutely. What about :\n- branch master for development;\n- branch stable for stable releases (always to the latest release);\n- tags for freezing versions in time (like 2.0.0-alpha);\n?\n. Branch 2 implements a web interface for calendars (and also for contacts, for that matter) out of the box, using https://github.com/netgusto/ember-cli-cal\nSo it's a yes :)\n. Thanks ! Fixed in c3b3ffa.\n. Merged ! Thanks.\n. Interesting.\nNot for 2.0.0 but later. Using https://github.com/lelag/otphp ?\n. Not for the moment, but calendar/addressbook sharing will make it's way in 2.0.0.\nSee #287.\n. Nope, but there will be in branch-2. See #282.\n. Not sure it's practical / efficient to achieve this on a (Postgre|My)SQL system.\nFurthermore, this would only protect data theft operated on a filesystem level, as data theft operated thru a vulnerability of the application would have access to the unencrypted db (obviously).\n. @lapoigne right, thanks.\n. Merged ! Thanks !\n. ok :) no problem.\n. Fixed by d484bf83090f64cf0ed0bb0b86d76fc382278c55 and eef1df314ebf535306a782257c95bf6f92e90cd5\n. Hey ! Export will be featured out of the box in the upcoming release of Ba\u00efkal (branch branch-2 of this repo). See #282 \n. Baikal (see branch branch-2) features a json REST api that allows to read (and ultimately to write) events and contacts :)\n. Thanks. Fixed by 0a96f7c\n. Fixed ! Thanks !\n. There will be: see #282 \n. Fixed by reducing the index length (line 40: INDEX(uri(100)))\n. Thanks for the trick. It's true, SQLite lacks good GUIs (AFAIK).\n. Looks like it has something to do with your hosting. Make sure they allow https trafic. I know Ba\u00efkal does :)\n. If you have no data to recover (it seems to be your case) just reinstall from scratch.\n. Yes, Apple clients rely a lot on the .well-known service discovery.\nBa\u00efkal 2 implements this out of the box, to ease the connection process.\n. I merged it manually. Thanks @jhnns !\n. Hello @ComputingFroggy, this is a great idea, and we are going to implement it on Ba\u00efkal 2 (branch-2 on this repo).\nThanks !\n. @albansch cool :)\n. @iBuff thank you.\n. @Cubytus no idea, really. As @smaug95 pointed it out, this has worked tens of times for me on SL (Ba\u00efkal -> Apple iCal and the other way around also).\n. @stevewi have you tried https://github.com/netgusto/Baikal/issues/17#issuecomment-52555852 ?\n. This somehow seems to be an issue with your client. Maybe could you try another, just to inject your data (I know Apple Calendar works fine with that).\nUntil #282, Ba\u00efkal won't feature import.\n. Considering that Ba\u00efkal does not support shared calendars, it does not feature private events (they're all supposed to be private).\nNow, shared calendars is a recurring request, and we consider adding it for branch-2 (see branch branch-2 of this repo).\n. Continued in #303.\n. Currently, there's no log for authentication errors, neither for the admin nor the DAV services.\nIndeed, activating access logs is trivial, but does not present info about auth.\nWe might consider this for branch-2 (this the branch branch-2 of this repo).\n. As @evert points it out here https://github.com/WhisperSystems/Flock/issues/19#issuecomment-56572029:\n- sabre/dav 2.x is required\n- http://sabre.io/dav/property-storage has to be enabled in Ba\u00efkal DAV services\nWe will do this in branch2.\n. The ICS import is going to be considered for branch 2.\nExport will be there (SabreDAV does this).\nI tagged this for branch2.\n. @evert thanks for curating the backlog !\n. Yes, the project is alive, although the codebase is rewritten to eliminate structural problems, and allow for much simpler maintenance and feature extension; see https://github.com/netgusto/Baikal2\nI'm working actively on it, but I must do it on my spare time, and as you can imagine, it's a long process. The v2 iteration is close to a beta release though.\n. @plattenschieber @marcusmoller Does your android CalDAV client support timezones, or does it consider everything as GMT.\nSame thing with your Apple Calendar; I know timezones are supported there, but that's an option you have to activate.\n\n. Hello @api984, this is nice :)\nWe are willing to implement sharing in branch 2. (see branch branch-2 of this repo).\nI will use your feedback and your mod when doing so.\nNote: implement also readonly / writeonly / RW on resources (use SabreDAV ACLs)\n. @adcdao ?\n. Ba\u00efkal 2 (alpha released today) will support mssql (in fact, it might already support it, but I have never tested it.\nSee https://github.com/netgusto/Baikal/tree/branch-2 for Ba\u00efkal 2, and https://github.com/netgusto/Baikal/tree/branch-2/app/config/defaults/data.environment.dist.yml for the mssql:// explanation.\n. Hey thanks ! I did not know that feature of iOS devices.\nThis will be added to branch2.\n. Hello !\nB2 is still alpha, so there's no helper for the migration yet, but this is required for the main release, yes.\nFor now, you may (for 1 user):\n1. use your native client (like Apple Calendar or Apple Contacts)\n2. Set up your native client to connect to your account in B2\n3. Export all your events / contacts from B1 to big ics / vcs files using your native client\n4. Import these ics/vcs exports using your native, and in the B2 account you just setup in (2)\n. Hello,\nMaybe the user does not have rights to create DB. Are you using MySQL ? \nYou may create an empty database beforehand. For instance, for MySQL:\nsql\nCREATE DATABASE baikal2 CHARACTER SET utf8 COLLATE utf8_general_ci;\nAnd then:\n``` sh\nInitialize the application settings\n$ cp app/config/defaults/data.parameters.dist.yml data/parameters.yml\n$ cp app/config/defaults/data.environment.dist.yml data/environment.yml\n```\nAnd then edit data/environment.yml and uncomment and set DATABASE_URL to something like:\nyml\nDATABASE_URL: mysql://user:password@hostname/baikal2\nThen, rerun composer install; symfony/bootcamp should see your database, and use it to inject data.\n. Nice :) Thanks @bluegreenhorde !!!\n. Right, Ba\u00efkal setups should not be visible in search indexes.\nFixed by 943fb02; thanks !\n. Right, sabredav under the hood.\nI keep this opened to give us a chance to find out what's missing for this to work.\n. Continuing in #304.\n. Any news ?\n. I have no Synology NAS unfortunately. The URI looks fishy (double slash at the end ?)\nThe URL should look like the one presented here:\nhttps://github.com/netgusto/Baikal/blob/master/INSTALL.md#56---thunderbirdlightning\n. Very informative link :) thanks. Any recommendation on which solution to implement (v3 or v4) ?\n. We are planning to release Ba\u00efkal2 during the 1st quarter of 2015.\n. See https://github.com/netgusto/Baikal/wiki/Ba%C3%AFkal-2.0-contribution-dashboard \n. Problem: OAuth2 expects third party applications (clients) to be registered in Ba\u00efkal before tokens can be emitted.\n. Solution: Ba\u00efkal user has to declare the third party application in his Ba\u00efkal instance before using it.\nExample: https://github.com/settings/applications/new\nAlso:\n- Client apps should use Implicit Grant flow (Client-Side Flow) (?); https://developers.google.com/accounts/docs/OAuth2UserAgent\n. Tasks:\n1. Implement OAuth2 auth and token endpoint\n2. Secure OAuth2 auth endpoint behind the Ba\u00efkal Interactive login firewall\n3. Build a per-user OAuth2 \"Third party Application management\" interface\n4. Determine the list of Ba\u00efkal scopes (calendar read/write, addressbook read/write maybe ?)\n   - This has to be implemented with #303 at sight\n. Thank you !\n. Now that's nice, thanks.\n. Thanks @Soulou !\n. Thanks :)\n. Fixed in branch-2.\n. Humm, this worked in the past.\n@Soulou any pointers ?\n. @Soulou patched the instructions for #340.\n. Thanks ! That's the Scalingo reactivity me likey :)\n. Ba\u00efkal 2 is unfinished, yet, so this section in not achieved.\nHave a look at: https://github.com/netgusto/Baikal/blob/branch-2/README.md#calendar-and-contacts-client-subscription\nThe subscription URL should be the same in many cases.\n. Hey ! There's a Flattr already :) https://flattr.com/thing/1596708\nThis is one of the nicest issues I ever commented =)\n. And now, on Gratipay too : https://gratipay.com/netgusto/\nCheers !\n. Could you precise a bit ?\n. Fixed; checkout the HEAD of branch-2.\n. > @janlimpens how to push alpha2 to scalingo\nI think this will work:\nbash\ngit push scalingo 2.0.0-alpha2:master\n. Fixed in the repo.\n. It's there: https://github.com/netgusto/Pulpy\nBatteries not included.\n. @evert haha :) :+1:\n. Hey guys, it's now fixed in the repo.\nThanks @RaSKoR :)\n. Hey guys,\nAs you may have noticed, we have not had much time to work on Ba\u00efkal these past weeks, hence the lack of dev support.\nThe deploy should be straightforward, granted, so I'll have a look at this particular issue asap.\nKeep calm and carry on :)\n. Hey guys, it's fixed now :) Thank you for not loosing your patience.\n. Thanks !\n. The project is not dead, but stopped to a stand still, due to a lack of resource - which is a shame really. We love the project @ netgusto, and invested a lot of time and effort in it when it was possible.\nNot dead because we're not letting go. We ported Ba\u00efkal to Symfony hopping that the community would take on (https://github.com/netgusto/Baikal/wiki/Ba%C3%AFkal-2.0-contribution-dashboard) but that didn't happen yet.\n. Fixed !\n. Exactly, thank you.\n. Thanks, It's up again, now.\n. Thank you !\n. Hey ! Webdav does not offer a web admin, but baikal does. Try adding /admin to the URL.\n. Hello,\nThis is weird, as line 49 of this file does not contain any \u2018/\u2018 character.\nCould you post the content of this file, please ?\n\nOn 07 Oct 2015, at 17:32, galinet notifications@github.com wrote:\nHello,\nI just installed 0.2.7 flat package on my server. Running PHP Version 5.5.22 - verified thru phpinfo()\nI unzipped the files and FTP the whole baikal-flat directory into it.\nIf I go to that directory, : (url : http://www.galinou.fr/baikal-flat/ http://www.galinou.fr/baikal-flat/)\nParse error: syntax error, unexpected '/' in /home/galinou/www/baikal-flat/index.php on line 49\nlines 48 and 49 are :\nBootstraping Flake\n\\Flake\\Framework::bootstrap();\nI know that server requires at least PHP 5.3 to provide namespace support, then where am I wrong ?\nif you have any idea, I'd really like to know, I'm lost.\nThanks in advance.\n\u2014\nReply to this email directly or view it on GitHub https://github.com/netgusto/Baikal/issues/402.\n. Ah ? Why close the ticket ? I tried http monkey yesterday night, but could not run php with it (php-fpm). Have you had any success with that ?\n. Awesome :)\n. Wow @evert this is impressive. Thanks !\n\nThe sql structures have changed, right ? IIRC, there's a mechanism that triggers a migration wizard when installed code revision is higher than that of the declared configured version; also, some DB migration process is supposed to be triggered in Core/Frameworks/BaikalAdmin/Controller/Install/VersionUpgrade.php.\nAre there any migrations to be done for users coming from 0.2.7 ?\n. >  I do have several command-line scripts for it\nNice; If they're ready to fly, maybe could you paste them somewhere and reference it in UPGRADE.md.\nThanks ! Merging !\n. Or maybe just document your existing scripts in UPGRADE.md ?\nSome users do not have access to command line, though (shell-less hosting).\n. I understand. LGTM.\n. Hey Evert, I'll review this in the weekend (and other P/R as well), if it's ok for you.\nThanks !!\n. Makefile : great :)\nNo flat : it's gonna be a problem for users with only FTP access (Synology users I believe, mainly). Let's see if this change yields issues; maybe it's not necessary anymore.\n. http://baikal-server.com is obsolete, and we're in he process of making things up to date.\n. Actually the redirect is made to http://sabre.io/baikal\nbash\n$ curl --head 'http://baikal-server.com'\nHTTP/1.1 301 Moved Permanently\nServer: nginx/1.11.4\nDate: Mon, 24 Oct 2016 08:15:49 GMT\nContent-Type: text/html\nContent-Length: 185\nConnection: keep-alive\nLocation: http://sabre.io/baikal/\nEdit - got it, a link redirecting to itself in the doc :)\n. REST API is implemented in Ba\u00efkal2.\n. Continued in #282.\n. This will be implemented in Ba\u00efkal2. See #222.\n. Ba\u00efkal 2 has web clients for calendars and contacts.\n. Continued in #210.\n. Permissions and ACLs should allow readonly resources. We'll see about that in Ba\u00efkal2 (See #303)\n. We really want to stick with Calendar/Contacts (and maybe Todos) on Ba\u00efkal but not file storage.\nThis might be implemented on the side as a complementary project, though, if anyone is up to it.\n. filter_var should be packed in every PHP > 5.2 (Ba\u00efkal needs 5.3+). I have no idea why this function would not be available.\nComments ?\n. Thanks, this is now fixed. See https://github.com/netgusto/Baikal/blob/master/Core/Frameworks/Flake/Core/Database/Mysql.php#L56\n. Yes, MySQL 5.5+ required. The INSTALL.md has been updated accordingly.\n. Resource sharing will be supported by Ba\u00efkal 2. See #303.\n. @GuidoRed Thanks ! Could you maybe provide a pull request, so that we can integrate it in Ba\u00efkal ?\n. @GuidoRed I rewrote your comment so that the code is properly displayed.\n. @ammoniak found out eventually ? It would be nice to have Windows Server support.\n. Database structure is determined by the lib Ba\u00efkal relies upon for Dav services.\nIf other experience such troubles, we will widen URI columns to 255.\n. This is useful, and will be available in Ba\u00efkal2. See #222.\n. I think the realm is used in the password HASH, and therefore we cannot accomplish this easily.\n. Yes, CVS and ICS are the common format for static card and cal exchange.\nExports are considered for Ba\u00efkal 2. See #282\n. This is fixed now, thanks.\n. Will be implemented in Ba\u00efkal2. See #303 :)\n. Merged (a while ago); thanks !\n. Closing until we hear from talkinggoat.\n. Thanks @klosterallee :)\n. This works fine (tested on Flat and regular). How can I reproduce this ?\n. This will be supported in Ba\u00efkal 2. See #303\n. Continued in #304.\n. The admin password is set by you during install procedure in the web installer. Am I mis-understanding something here ? \n. MySQL 5.5 requirement added to INSTALL.md, thanks.\n. Have you found the reason ?\n. B2 supports PAAS out of the box. We'll have to try this though.\n. Fixed by https://github.com/netgusto/Baikal/pull/277.\n. You should try the flat package, because from the looks your URL contains segments that are not meant to be there (html).\n. Resource sharing will be supported by Ba\u00efkal 2. See #200, #303.\n. We will implement this (hopefully) in B2. See #304.\n. The magic quotes problem shoud be fixed in be7f499.\n. Continued in #294.\n. Fixed in be7f499. See #155.\n. +1 :) This is implemented in B2.\n. Thanks. See also https://github.com/netgusto/Baikal/issues/48#issuecomment-12155757\n. Wow, never thought of that. I have no idea how to build this reliably. Any pointers ?\n. Yep, will be in B2. See https://github.com/netgusto/Baikal/issues/282\n. Done :) https://github.com/netgusto/Baikal/blob/master/ChangeLog.md\n. Not a fork, but a rewrite: https://github.com/netgusto/Baikal2\n. I write it :) It works, yes, but UX is unfinished. Expecting a release for Q1 2015.\n. Yes, as long as CalDAV/CardDAV is supported on these devices, thanks to the efforts of @evert :)\n. The frontend view (new, non-existing in B1); the carddav web client and the caldav web client (to edit your data online); resources sharing.\n. Yes. Be aware that things may change (code and DB) until release, though.\n. For the code: I can only recommend to use git to fetch code until release.\nFor the DB: yes, DB migrations are implemented on top of Symfony/Doctrine; use like so:\n``` bash\non the command line, root of the project\n$ php app/console doctrine:migrations:migrate\n```\nI don't intend to produce much migrations until release, though (for obvious reasons :) ).\n. Resource sharing will be supported by Ba\u00efkal 2. See #303.\n. Continued in #305.\n. PG is not supported by Ba\u00efkal 1.\nIt IS supported by Ba\u00efkal2 though !\n. Thanks.\n. B2 will support imports; see https://github.com/netgusto/Baikal/issues/282\n. Yes, no-subdomains works out of the box.\n. Thanks, this has been merged back then.\n. Non-admin users cannot log in in Ba\u00efkal 1.\nIn B2 they can :)\n. Right. Also, use the regular package when possible, as it's always better to not expose private resources in the public web folder.\n. Yes, https:// on baikal-server.com is a good idea. Have not done it yet because certificates cost money :)\nDo you know any certificate authority that provide ssl certificates for open-source projects ?\n. This has made its way to the doc (see 65d23e4).\nThank you @jeff-h !\n. > Am I supposed to use composer to install any dependencies?\nIf the zip has been downloaded from Github, yes.\nIf the zip has been downloaded from baikal-server.com, no, the builds here have dependencies statically packaged.\n. Thanks, closing.\n. No experience with this client, sorry.\n. Made any discovery that might help us ?\n. These errors (CalDAVWriteEntityQueueableOperation) have been fixed in Ba\u00efkal2.\n. Thanks @cimm.\n. Fixed in be7f499. Thanks !\n. Fixed !\n. Nope, only RDBMS are supported in B2 through PDO and Doctrine. \nIn B1, only Sqlite and Mysql.\n. Closing, thanks.\n. Thanks :)\n. Have eventually sorted this out ?\n. User can change password in B2.\n. @fhemberger Right. This is the namespace char \\ not being recognised by the PHP setup (introduced in 5.3).\n. Please, do not write directly in the database :) Have a look at http://sabre.io/vobject/\n. Thanks.\n. It seems that OSX Contacts.app expects you to provide the URL your addressbooks one at a time, and not the URL where your addressbooks are available at (like it's the case for Calendars.app).\n. There might be a network node between you and your server that refuses to handle exotic HTTP methods (a proxy or a reverse-proxy maybe). Have you checked that ?\n. Have a look at your calendar client logs, that'll be useful to understand what's going on.\n. Thanks :)\n. Continued in #304.\n. Fixed by 59d9a65.\n. Thanks !\n. This is implemented in Ba\u00efkal2.\n. Resource sharing will be implemented in Ba\u00efkal2. See #303 also.\n. Hello, this mysterious bug is fixed in branch2 :)\n. Yes, you're right, responsiveness of the menu is perfectible between 960px and 760px.\n. Better password hashes are a planned feature of branch2.\nKeeping this one opened for reminder.\n. Thanks. sqlite should not behave that way, no. Maybe is it some kind of race condition (not sure if sqlite handles very well resource lock).\n. Updated the doc (TROUBLESHOOTING.md). Thanks !\n. Added to the doc in 7fe4ac3. Thanks @RubenMarsman !\n. Merged #288. Thanks :)\n. Hi, readonly shared access will be available in Ba\u00efkal 2 (branch2).\n. This has been fixed, thanks.\n. What's the use case for a calendar that the owner cannot update ?\n. @LaServiette thnx, I guess this can be closed yes.\n. If you really want to manipulate database entries, you should use vobject (https://github.com/fruux/sabre-vobject), and not doing this manually.\n. Before manipulating data, the client has to unencode it (because it's always encoded by the server).\nAnd then, before posting it back to the server, it has to encode it.\nWe can't handle this server side besides hacks based on user agent (and boy that's ugly and unreliable).\n. Thanks @LostKobrakai \n. Merged, thanks !\n. Merged ! Thanks !\n. It's not possible AFAIK. But you could implement this in PHP, so that the calendar gets deleted after a certain date.\n. @itiboi Hi Tim,\nWe experimented with a ColorPicker for Ba\u00efkal 2\nClosed:\n\nOpened:\n\nBut I agree, the colorpicker you present is better suited for picking clearly distinct colors.\n. Have you found a way ?\n. Ba\u00efkal 2 features a REST API that allows full access to calendars, events, addressbooks and contacts.\nFor the moment (2.0.0-alpha1), the API is readonly though, but in the end, it will follow ACLs defined in the application.\n. Absolutely. What about :\n- branch master for development;\n- branch stable for stable releases (always to the latest release);\n- tags for freezing versions in time (like 2.0.0-alpha);\n?\n. Branch 2 implements a web interface for calendars (and also for contacts, for that matter) out of the box, using https://github.com/netgusto/ember-cli-cal\nSo it's a yes :)\n. Thanks ! Fixed in c3b3ffa.\n. Merged ! Thanks.\n. Interesting.\nNot for 2.0.0 but later. Using https://github.com/lelag/otphp ?\n. Not for the moment, but calendar/addressbook sharing will make it's way in 2.0.0.\nSee #287.\n. Nope, but there will be in branch-2. See #282.\n. Not sure it's practical / efficient to achieve this on a (Postgre|My)SQL system.\nFurthermore, this would only protect data theft operated on a filesystem level, as data theft operated thru a vulnerability of the application would have access to the unencrypted db (obviously).\n. @lapoigne right, thanks.\n. Merged ! Thanks !\n. ok :) no problem.\n. Fixed by d484bf83090f64cf0ed0bb0b86d76fc382278c55 and eef1df314ebf535306a782257c95bf6f92e90cd5\n. Hey ! Export will be featured out of the box in the upcoming release of Ba\u00efkal (branch branch-2 of this repo). See #282 \n. Baikal (see branch branch-2) features a json REST api that allows to read (and ultimately to write) events and contacts :)\n. Thanks. Fixed by 0a96f7c\n. Fixed ! Thanks !\n. There will be: see #282 \n. Fixed by reducing the index length (line 40: INDEX(uri(100)))\n. Thanks for the trick. It's true, SQLite lacks good GUIs (AFAIK).\n. Looks like it has something to do with your hosting. Make sure they allow https trafic. I know Ba\u00efkal does :)\n. If you have no data to recover (it seems to be your case) just reinstall from scratch.\n. Yes, Apple clients rely a lot on the .well-known service discovery.\nBa\u00efkal 2 implements this out of the box, to ease the connection process.\n. I merged it manually. Thanks @jhnns !\n. Hello @ComputingFroggy, this is a great idea, and we are going to implement it on Ba\u00efkal 2 (branch-2 on this repo).\nThanks !\n. @albansch cool :)\n. @iBuff thank you.\n. @Cubytus no idea, really. As @smaug95 pointed it out, this has worked tens of times for me on SL (Ba\u00efkal -> Apple iCal and the other way around also).\n. @stevewi have you tried https://github.com/netgusto/Baikal/issues/17#issuecomment-52555852 ?\n. This somehow seems to be an issue with your client. Maybe could you try another, just to inject your data (I know Apple Calendar works fine with that).\nUntil #282, Ba\u00efkal won't feature import.\n. Considering that Ba\u00efkal does not support shared calendars, it does not feature private events (they're all supposed to be private).\nNow, shared calendars is a recurring request, and we consider adding it for branch-2 (see branch branch-2 of this repo).\n. Continued in #303.\n. Currently, there's no log for authentication errors, neither for the admin nor the DAV services.\nIndeed, activating access logs is trivial, but does not present info about auth.\nWe might consider this for branch-2 (this the branch branch-2 of this repo).\n. As @evert points it out here https://github.com/WhisperSystems/Flock/issues/19#issuecomment-56572029:\n- sabre/dav 2.x is required\n- http://sabre.io/dav/property-storage has to be enabled in Ba\u00efkal DAV services\nWe will do this in branch2.\n. The ICS import is going to be considered for branch 2.\nExport will be there (SabreDAV does this).\nI tagged this for branch2.\n. @evert thanks for curating the backlog !\n. Yes, the project is alive, although the codebase is rewritten to eliminate structural problems, and allow for much simpler maintenance and feature extension; see https://github.com/netgusto/Baikal2\nI'm working actively on it, but I must do it on my spare time, and as you can imagine, it's a long process. The v2 iteration is close to a beta release though.\n. @plattenschieber @marcusmoller Does your android CalDAV client support timezones, or does it consider everything as GMT.\nSame thing with your Apple Calendar; I know timezones are supported there, but that's an option you have to activate.\n\n. Hello @api984, this is nice :)\nWe are willing to implement sharing in branch 2. (see branch branch-2 of this repo).\nI will use your feedback and your mod when doing so.\nNote: implement also readonly / writeonly / RW on resources (use SabreDAV ACLs)\n. @adcdao ?\n. Ba\u00efkal 2 (alpha released today) will support mssql (in fact, it might already support it, but I have never tested it.\nSee https://github.com/netgusto/Baikal/tree/branch-2 for Ba\u00efkal 2, and https://github.com/netgusto/Baikal/tree/branch-2/app/config/defaults/data.environment.dist.yml for the mssql:// explanation.\n. Hey thanks ! I did not know that feature of iOS devices.\nThis will be added to branch2.\n. Hello !\nB2 is still alpha, so there's no helper for the migration yet, but this is required for the main release, yes.\nFor now, you may (for 1 user):\n1. use your native client (like Apple Calendar or Apple Contacts)\n2. Set up your native client to connect to your account in B2\n3. Export all your events / contacts from B1 to big ics / vcs files using your native client\n4. Import these ics/vcs exports using your native, and in the B2 account you just setup in (2)\n. Hello,\nMaybe the user does not have rights to create DB. Are you using MySQL ? \nYou may create an empty database beforehand. For instance, for MySQL:\nsql\nCREATE DATABASE baikal2 CHARACTER SET utf8 COLLATE utf8_general_ci;\nAnd then:\n``` sh\nInitialize the application settings\n$ cp app/config/defaults/data.parameters.dist.yml data/parameters.yml\n$ cp app/config/defaults/data.environment.dist.yml data/environment.yml\n```\nAnd then edit data/environment.yml and uncomment and set DATABASE_URL to something like:\nyml\nDATABASE_URL: mysql://user:password@hostname/baikal2\nThen, rerun composer install; symfony/bootcamp should see your database, and use it to inject data.\n. Nice :) Thanks @bluegreenhorde !!!\n. Right, Ba\u00efkal setups should not be visible in search indexes.\nFixed by 943fb02; thanks !\n. Right, sabredav under the hood.\nI keep this opened to give us a chance to find out what's missing for this to work.\n. Continuing in #304.\n. Any news ?\n. I have no Synology NAS unfortunately. The URI looks fishy (double slash at the end ?)\nThe URL should look like the one presented here:\nhttps://github.com/netgusto/Baikal/blob/master/INSTALL.md#56---thunderbirdlightning\n. Very informative link :) thanks. Any recommendation on which solution to implement (v3 or v4) ?\n. We are planning to release Ba\u00efkal2 during the 1st quarter of 2015.\n. See https://github.com/netgusto/Baikal/wiki/Ba%C3%AFkal-2.0-contribution-dashboard \n. Problem: OAuth2 expects third party applications (clients) to be registered in Ba\u00efkal before tokens can be emitted.\n. Solution: Ba\u00efkal user has to declare the third party application in his Ba\u00efkal instance before using it.\nExample: https://github.com/settings/applications/new\nAlso:\n- Client apps should use Implicit Grant flow (Client-Side Flow) (?); https://developers.google.com/accounts/docs/OAuth2UserAgent\n. Tasks:\n1. Implement OAuth2 auth and token endpoint\n2. Secure OAuth2 auth endpoint behind the Ba\u00efkal Interactive login firewall\n3. Build a per-user OAuth2 \"Third party Application management\" interface\n4. Determine the list of Ba\u00efkal scopes (calendar read/write, addressbook read/write maybe ?)\n   - This has to be implemented with #303 at sight\n. Thank you !\n. Now that's nice, thanks.\n. Thanks @Soulou !\n. Thanks :)\n. Fixed in branch-2.\n. Humm, this worked in the past.\n@Soulou any pointers ?\n. @Soulou patched the instructions for #340.\n. Thanks ! That's the Scalingo reactivity me likey :)\n. Ba\u00efkal 2 is unfinished, yet, so this section in not achieved.\nHave a look at: https://github.com/netgusto/Baikal/blob/branch-2/README.md#calendar-and-contacts-client-subscription\nThe subscription URL should be the same in many cases.\n. Hey ! There's a Flattr already :) https://flattr.com/thing/1596708\nThis is one of the nicest issues I ever commented =)\n. And now, on Gratipay too : https://gratipay.com/netgusto/\nCheers !\n. Could you precise a bit ?\n. Fixed; checkout the HEAD of branch-2.\n. > @janlimpens how to push alpha2 to scalingo\nI think this will work:\nbash\ngit push scalingo 2.0.0-alpha2:master\n. Fixed in the repo.\n. It's there: https://github.com/netgusto/Pulpy\nBatteries not included.\n. @evert haha :) :+1:\n. Hey guys, it's now fixed in the repo.\nThanks @RaSKoR :)\n. Hey guys,\nAs you may have noticed, we have not had much time to work on Ba\u00efkal these past weeks, hence the lack of dev support.\nThe deploy should be straightforward, granted, so I'll have a look at this particular issue asap.\nKeep calm and carry on :)\n. Hey guys, it's fixed now :) Thank you for not loosing your patience.\n. Thanks !\n. The project is not dead, but stopped to a stand still, due to a lack of resource - which is a shame really. We love the project @ netgusto, and invested a lot of time and effort in it when it was possible.\nNot dead because we're not letting go. We ported Ba\u00efkal to Symfony hopping that the community would take on (https://github.com/netgusto/Baikal/wiki/Ba%C3%AFkal-2.0-contribution-dashboard) but that didn't happen yet.\n. Fixed !\n. Exactly, thank you.\n. Thanks, It's up again, now.\n. Thank you !\n. Hey ! Webdav does not offer a web admin, but baikal does. Try adding /admin to the URL.\n. Hello,\nThis is weird, as line 49 of this file does not contain any \u2018/\u2018 character.\nCould you post the content of this file, please ?\n\nOn 07 Oct 2015, at 17:32, galinet notifications@github.com wrote:\nHello,\nI just installed 0.2.7 flat package on my server. Running PHP Version 5.5.22 - verified thru phpinfo()\nI unzipped the files and FTP the whole baikal-flat directory into it.\nIf I go to that directory, : (url : http://www.galinou.fr/baikal-flat/ http://www.galinou.fr/baikal-flat/)\nParse error: syntax error, unexpected '/' in /home/galinou/www/baikal-flat/index.php on line 49\nlines 48 and 49 are :\nBootstraping Flake\n\\Flake\\Framework::bootstrap();\nI know that server requires at least PHP 5.3 to provide namespace support, then where am I wrong ?\nif you have any idea, I'd really like to know, I'm lost.\nThanks in advance.\n\u2014\nReply to this email directly or view it on GitHub https://github.com/netgusto/Baikal/issues/402.\n. Ah ? Why close the ticket ? I tried http monkey yesterday night, but could not run php with it (php-fpm). Have you had any success with that ?\n. Awesome :)\n. Wow @evert this is impressive. Thanks !\n\nThe sql structures have changed, right ? IIRC, there's a mechanism that triggers a migration wizard when installed code revision is higher than that of the declared configured version; also, some DB migration process is supposed to be triggered in Core/Frameworks/BaikalAdmin/Controller/Install/VersionUpgrade.php.\nAre there any migrations to be done for users coming from 0.2.7 ?\n. >  I do have several command-line scripts for it\nNice; If they're ready to fly, maybe could you paste them somewhere and reference it in UPGRADE.md.\nThanks ! Merging !\n. Or maybe just document your existing scripts in UPGRADE.md ?\nSome users do not have access to command line, though (shell-less hosting).\n. I understand. LGTM.\n. Hey Evert, I'll review this in the weekend (and other P/R as well), if it's ok for you.\nThanks !!\n. Makefile : great :)\nNo flat : it's gonna be a problem for users with only FTP access (Synology users I believe, mainly). Let's see if this change yields issues; maybe it's not necessary anymore.\n. http://baikal-server.com is obsolete, and we're in he process of making things up to date.\n. Actually the redirect is made to http://sabre.io/baikal\nbash\n$ curl --head 'http://baikal-server.com'\nHTTP/1.1 301 Moved Permanently\nServer: nginx/1.11.4\nDate: Mon, 24 Oct 2016 08:15:49 GMT\nContent-Type: text/html\nContent-Length: 185\nConnection: keep-alive\nLocation: http://sabre.io/baikal/\nEdit - got it, a link redirecting to itself in the doc :)\n. ",
    "SimonSimCity": "@jeromeschneider, how far have you come with that? I really need this feature and am willing to write the code for it ...\nI think we just need to cherry-pick the changes in https://github.com/helgeeichelberg/Baikal/commit/5a463449df2f7efa9d9d79730e867861f3e9e66e and add an option, that you have read-only access for anonymous users or fully implement #73 ...\n. @lpirl, I don't know how to set permissions in Ba\u00efkal, but the spec has already thought of something like that (http://www.ietf.org/rfc/rfc4791.txt - Chapter 6.1.1: CALDAV:read-free-busy Privilege). This feature seems supported by the underlying library Sabre CalDAV (I've seen some unit-tests for this), so it shouldn't be hard to implement ;)\nRequires #51 \n. @dsp1986 I did it by using a proxy-server. Here's a sample configuration for nginx:\nserver {\n    location /iCalendar/export {\n        proxy_pass http://localhost/baikal/html/cal.php/calendars/{USERNAME}/default?export;\n        proxy_set_header Authorization \"Basic dXNlcm5hbWU6cGFzc3dvcmQ=\";\n    }\n}\nThe encrypted string for basic authentication is created by this: base64_encode(\"{USERNAME}:{PASSWORD}\");\nWhen you now send a request to a domain, where this configuration has been added to, you can use the calendar by calling http://example.org/iCalendar/export\n. @dsp1986 nearly correct. The system does not need to be the same server, as it is a proxy. In my case, it's a different vhost. You can't access this link externally. You can't do it using mod_rewrite, because mod_rewrite will not do something with proxying, it just rewrites links, that are available to the clients.\nWhat could help is a combination of http://www.zeitoun.net/articles/http-basic-auth-through-reverse-proxy/start and http://httpd.apache.org/docs/2.2/mod/mod_proxy.html so - something like this:\nhttp://stackoverflow.com/questions/567814/apache2-reverse-proxy-to-an-end-point-that-requires-basicauth-but-want-to-hide-t#answer-8901645\nHaven't done this with apache until now, but as far as I understand, the second answer to the stackoverflow-question should get you in the right direction.\n. @MatonAnthony here a 1-2-3 setup for it:\n1. Set up a Ba\u00efkal installation \n2. Activate the ICSExportPlugin, as done in https://github.com/helgeeichelberg/Baikal/commit/5a463449df2f7efa9d9d79730e867861f3e9e66e\n3. Verify, that you can export the calendar (read the instructions in the commit-message, linked in step 2)\n4. Copy the URL, you used for the calendar-export\n5. Create a new directive in your nginx-configuration on a host of your likes\n6. Set up a proxy as I did (use the URL you copied as proxy_pass and add the login-credentials as proxy_set_header as described above)\nI think, what confused you, was, that I used localhost has hostname here. But this has nothing to say. The Ba\u00efkal setup can also run on example.com or another domain, not hosted on the server your nginx-installation runs on.\nIf you got to step 4, but no further, I advice you to read some tutorials about proxies - what they are, what they do and how to set one up using nginx.\n. @MatonAnthony Sorry, don't know. The configuration looks good, but there's maybe something with your Ba\u00efkal configuration ... had myself a pretty hard time on that. You're using basic authentication, on Ba\u00efkals side, right? Try to send this request from the command line using curl or turn the verbosity of nginx to debug and view the logs, that's what I did.\nPlease keep this ticket now focused on updates for native support in Ba\u00efkal.\n. @osiefart, your first decision is depending on the choice you took in the Ba\u00efkal administration (Settings - WebDAV authentication type). I don't really know how to create a digest-header, so I just took basic to make the implementation easier for me :)\n. I would not try to put one of the systems to fit to the other ... I'd rather write a trigger in SQL, that will add a row to the users-table in Ba\u00efkal when you add a new user in postfixadmin.\nThis should give you a hint on how to start:\nhttp://stackoverflow.com/questions/4753878/how-to-program-a-mysql-trigger-to-insert-row-into-another-table\nThe link only has an example for the trigger ON INSERT ... but I don't think it's hard to write another one for ON UPDATE and ON DELETE. \n. @jeromeschneider, after generating the configuration-file, I had this constant in there two times ... and, yes, for the file to be valid, the semicolon was missing as well.\n. @jeromeschneider have you tested it? Please leave a comment why you closed this pull-request ...\n. @jeromeschneider, how far have you come with that? I really need this feature and am willing to write the code for it ...\nI think we just need to cherry-pick the changes in https://github.com/helgeeichelberg/Baikal/commit/5a463449df2f7efa9d9d79730e867861f3e9e66e and add an option, that you have read-only access for anonymous users or fully implement #73 ...\n. @lpirl, I don't know how to set permissions in Ba\u00efkal, but the spec has already thought of something like that (http://www.ietf.org/rfc/rfc4791.txt - Chapter 6.1.1: CALDAV:read-free-busy Privilege). This feature seems supported by the underlying library Sabre CalDAV (I've seen some unit-tests for this), so it shouldn't be hard to implement ;)\nRequires #51 \n. @dsp1986 I did it by using a proxy-server. Here's a sample configuration for nginx:\nserver {\n    location /iCalendar/export {\n        proxy_pass http://localhost/baikal/html/cal.php/calendars/{USERNAME}/default?export;\n        proxy_set_header Authorization \"Basic dXNlcm5hbWU6cGFzc3dvcmQ=\";\n    }\n}\nThe encrypted string for basic authentication is created by this: base64_encode(\"{USERNAME}:{PASSWORD}\");\nWhen you now send a request to a domain, where this configuration has been added to, you can use the calendar by calling http://example.org/iCalendar/export\n. @dsp1986 nearly correct. The system does not need to be the same server, as it is a proxy. In my case, it's a different vhost. You can't access this link externally. You can't do it using mod_rewrite, because mod_rewrite will not do something with proxying, it just rewrites links, that are available to the clients.\nWhat could help is a combination of http://www.zeitoun.net/articles/http-basic-auth-through-reverse-proxy/start and http://httpd.apache.org/docs/2.2/mod/mod_proxy.html so - something like this:\nhttp://stackoverflow.com/questions/567814/apache2-reverse-proxy-to-an-end-point-that-requires-basicauth-but-want-to-hide-t#answer-8901645\nHaven't done this with apache until now, but as far as I understand, the second answer to the stackoverflow-question should get you in the right direction.\n. @MatonAnthony here a 1-2-3 setup for it:\n1. Set up a Ba\u00efkal installation \n2. Activate the ICSExportPlugin, as done in https://github.com/helgeeichelberg/Baikal/commit/5a463449df2f7efa9d9d79730e867861f3e9e66e\n3. Verify, that you can export the calendar (read the instructions in the commit-message, linked in step 2)\n4. Copy the URL, you used for the calendar-export\n5. Create a new directive in your nginx-configuration on a host of your likes\n6. Set up a proxy as I did (use the URL you copied as proxy_pass and add the login-credentials as proxy_set_header as described above)\nI think, what confused you, was, that I used localhost has hostname here. But this has nothing to say. The Ba\u00efkal setup can also run on example.com or another domain, not hosted on the server your nginx-installation runs on.\nIf you got to step 4, but no further, I advice you to read some tutorials about proxies - what they are, what they do and how to set one up using nginx.\n. @MatonAnthony Sorry, don't know. The configuration looks good, but there's maybe something with your Ba\u00efkal configuration ... had myself a pretty hard time on that. You're using basic authentication, on Ba\u00efkals side, right? Try to send this request from the command line using curl or turn the verbosity of nginx to debug and view the logs, that's what I did.\nPlease keep this ticket now focused on updates for native support in Ba\u00efkal.\n. @osiefart, your first decision is depending on the choice you took in the Ba\u00efkal administration (Settings - WebDAV authentication type). I don't really know how to create a digest-header, so I just took basic to make the implementation easier for me :)\n. I would not try to put one of the systems to fit to the other ... I'd rather write a trigger in SQL, that will add a row to the users-table in Ba\u00efkal when you add a new user in postfixadmin.\nThis should give you a hint on how to start:\nhttp://stackoverflow.com/questions/4753878/how-to-program-a-mysql-trigger-to-insert-row-into-another-table\nThe link only has an example for the trigger ON INSERT ... but I don't think it's hard to write another one for ON UPDATE and ON DELETE. \n. @jeromeschneider, after generating the configuration-file, I had this constant in there two times ... and, yes, for the file to be valid, the semicolon was missing as well.\n. @jeromeschneider have you tested it? Please leave a comment why you closed this pull-request ...\n. ",
    "lpirl": "I'd love to see an option \"Show only 'busy' instead of appointment titles\" or similar.\nI've done this with other server by granting only \"read Free/Busy\" so that people can see where an appointment would be possible (human free/busy scheduling).\n. I'd love to see an option \"Show only 'busy' instead of appointment titles\" or similar.\nI've done this with other server by granting only \"read Free/Busy\" so that people can see where an appointment would be possible (human free/busy scheduling).\n. ",
    "dsp1986": "is there any progress to be expected? \nI found the ?export option (e.g. http://my.server.com/cal.php/calendars/me/public?export)\nThis asks name and password though. I would need to have read-only access without login, for a chosen calendar.\n. i understand this as follows:\nif you visit example.org/iCalendar/export from any Browser on any Computer your server adds a header to the original request that tells itself (same server) you are logged in.\nI use apache2 and am no big expert on it. Conditional changing of requests rings the mod_rewrite bell for me. Am I thinking the right direction? Can anybody give me a hint what i need to learn to make this happen in Apache?\nthank you\n. @SimonSimCity thank you for the directions. I'm still looking for some time to try them out. I will post my solution when I find it.\n. is there any progress to be expected? \nI found the ?export option (e.g. http://my.server.com/cal.php/calendars/me/public?export)\nThis asks name and password though. I would need to have read-only access without login, for a chosen calendar.\n. i understand this as follows:\nif you visit example.org/iCalendar/export from any Browser on any Computer your server adds a header to the original request that tells itself (same server) you are logged in.\nI use apache2 and am no big expert on it. Conditional changing of requests rings the mod_rewrite bell for me. Am I thinking the right direction? Can anybody give me a hint what i need to learn to make this happen in Apache?\nthank you\n. @SimonSimCity thank you for the directions. I'm still looking for some time to try them out. I will post my solution when I find it.\n. ",
    "MatonAnthony": "Hi @SimonSimCity , after many try, I was unable to reproduce your tricks with nginx could you explain it with more details ?\n. Ok thanks ! I think it's because I was using the digest auth ...\n. @SimonSimCity In fact not, I've make the proxy but it seems the Authentification header don't pass.\n``` php\nserver {\n    listen 80;\n    server_name agenda.local;\nroot /Users/anthony/Documents/Mozilla/Agenda/;\nindex index.php;\n\nrewrite ^/.well-known/caldav /cal.php redirect;\nrewrite ^/.well-known/carddav /card.php redirect;\n\ncharset utf-8;\n\nlocation ~ /(\\.ht|Core|Specific) {\n    deny all;\n    return 404;\n}\n\nlocation ~ ^(.+\\.php)(.*)$ {\n    try_files $fastcgi_script_name =404;\n    fastcgi_split_path_info ^(.+\\.php)(.*)$;\n    fastcgi_pass 127.0.0.1:9000;\n    fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;\n    fastcgi_param PATH_INFO $fastcgi_path_info;\n    include /usr/local/etc/nginx/fastcgi_params;\n}\n\nerror_page 500 502 503 504 /50x.html;\nlocation = /50x.html {\n    root /var/www/nginx-default;\n}\nlocation /iCalendar {\n    proxy_pass http://agenda.local/cal.php/calendars/Mozilla-be/default?export;\n    proxy_set_header Authorization \"Basic e01vemlsbGEtYmV9OntMb2ZvdHU5NX0=\";\n}\n\n}\n```\nThanks a lot for the help.\n. @osiefart : Thanks, i've take the decision to use a script write in shell who generate the hash and create the .ics, after my user just have to download it.\n. The file /Specific/virtualhosts/baikal.nginx don't exist anymore.\n(Sorry for the close, bad button)\n. The files is not present in the flat-baikal package.\nIssue could be closed if it's volunteer.\n. Ok my bad ...\nThanks for the help.\n. Hi @SimonSimCity , after many try, I was unable to reproduce your tricks with nginx could you explain it with more details ?\n. Ok thanks ! I think it's because I was using the digest auth ...\n. @SimonSimCity In fact not, I've make the proxy but it seems the Authentification header don't pass.\n``` php\nserver {\n    listen 80;\n    server_name agenda.local;\nroot /Users/anthony/Documents/Mozilla/Agenda/;\nindex index.php;\n\nrewrite ^/.well-known/caldav /cal.php redirect;\nrewrite ^/.well-known/carddav /card.php redirect;\n\ncharset utf-8;\n\nlocation ~ /(\\.ht|Core|Specific) {\n    deny all;\n    return 404;\n}\n\nlocation ~ ^(.+\\.php)(.*)$ {\n    try_files $fastcgi_script_name =404;\n    fastcgi_split_path_info ^(.+\\.php)(.*)$;\n    fastcgi_pass 127.0.0.1:9000;\n    fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;\n    fastcgi_param PATH_INFO $fastcgi_path_info;\n    include /usr/local/etc/nginx/fastcgi_params;\n}\n\nerror_page 500 502 503 504 /50x.html;\nlocation = /50x.html {\n    root /var/www/nginx-default;\n}\nlocation /iCalendar {\n    proxy_pass http://agenda.local/cal.php/calendars/Mozilla-be/default?export;\n    proxy_set_header Authorization \"Basic e01vemlsbGEtYmV9OntMb2ZvdHU5NX0=\";\n}\n\n}\n```\nThanks a lot for the help.\n. @osiefart : Thanks, i've take the decision to use a script write in shell who generate the hash and create the .ics, after my user just have to download it.\n. The file /Specific/virtualhosts/baikal.nginx don't exist anymore.\n(Sorry for the close, bad button)\n. The files is not present in the flat-baikal package.\nIssue could be closed if it's volunteer.\n. Ok my bad ...\nThanks for the help.\n. ",
    "osiefart": "Hi,\nthanks for the description, now it is working for me too. I had to solve two problems until it worked:\n1. Configure baikal to basic authentication (Default is Digest, not Basic) in the baikal settings admin page\n2. It is important to use the php base64_encode function (and not the command line base64 tool) to generate the UserPasswordHash. On the command line:\nphp -r 'echo base64_encode(\"user:password\");'\n@MatonAnthony: Maybe this is solving your problem? \n. Hi,\nthanks for the description, now it is working for me too. I had to solve two problems until it worked:\n1. Configure baikal to basic authentication (Default is Digest, not Basic) in the baikal settings admin page\n2. It is important to use the php base64_encode function (and not the command line base64 tool) to generate the UserPasswordHash. On the command line:\nphp -r 'echo base64_encode(\"user:password\");'\n@MatonAnthony: Maybe this is solving your problem? \n. ",
    "cbmainz": "@MatonAnthony, how does this shell script look like?\n@SimonSimCity, how would the Proxy rule look like for Apache2?\n. @MatonAnthony, how does this shell script look like?\n@SimonSimCity, how would the Proxy rule look like for Apache2?\n. ",
    "abraxxa": "Please also include INSTALL.md in the admin UI.\n. Please also include INSTALL.md in the admin UI.\n. ",
    "user1007017": "a GUI where i can see if the server is working as expected would be nice.\n. I tried to set up the baikal-regular-0.2.7.tgz with nginx 1.2.1 and 1.4.4 follwing the documentation exactly.\nBut with the nginx configuration provided it just ends always in a \"403 Forbidden\" error instead of displaying the GUI\nI have tried it on a brand new Debian GNU/Linux 7.5 (wheezy) host.\n. a GUI where i can see if the server is working as expected would be nice.\n. I tried to set up the baikal-regular-0.2.7.tgz with nginx 1.2.1 and 1.4.4 follwing the documentation exactly.\nBut with the nginx configuration provided it just ends always in a \"403 Forbidden\" error instead of displaying the GUI\nI have tried it on a brand new Debian GNU/Linux 7.5 (wheezy) host.\n. ",
    "drzraf": "not sure it should be a priority, there are already good software for this (like http://agendav.org)\nconcentrating on the spec, the API, user privileges and other caldav backend features may be a better strategy.\n. what means implements an UI for Sabre_DAVACL_Plugin isn't ?\n. => https://code.google.com/p/sabredav/wiki/CalDAVProxy\n. It's doable right now (without the UI), see https://groups.google.com/group/sabredav-discuss/browse_thread/thread/1e8869a1feff3b28\n( create a simple USER2 account into principals, let's say its ID is 2 for the example)\nINSERT a principals/<USER1>/calendar-proxy-read entry into principals (let's say the ID is 18)\nThen INSERT INTO groupmembers (principal_id, member_id) VALUES (18, 2);\n=> the calendar is readable by USER2.\nAnyway this will apply to every calendars belonging to USER1.\nI don't know yet how to get something more granular.\n. About the 1st question, I would say \"no\" according to WWWRoot/cal.php which already uses Sabre_CalDAV_Principal_Collection.\nAbout the connection itself I didn't tried myself yet but given that:\nThe usual scheme is:\n\ncurl -so - --user username:password -X PROPFIND http://hostname/cal.php/calendars/username/default\n\nor, using the handy cadaver...\n\necho ls|cadaver http://hostname/cal.php/calendars/username/default\n\nand according to the RFC (http://svn.calendarserver.org/repository/calendarserver/CalendarServer/trunk/doc/Extensions/caldav-proxy.txt) and sabredav thread:\nI would guess that if\n\nX = select basename(uri) from principals where id = 18 # above example\n\nThen the URL and credentials could be expressed as:\n\ncurl --user user2:pwd2 http://cal3/cal.php/calendars/USER1/X\n\nie, simple case, connection to default calendar of user1, connected as user2:\n\ncurl --user user2:pwd2 http://cal3/cal.php/calendars/USER1/default\n\nPS: you're right about my markdown failure above, I just edited my previous post.\n. When you said \"use webdav\", do you speak about the storage backend for calendar entries ? for .ics files ?\nIn such case, indeed, that would be great. But note that Apache mod_dav already provides a workable file-storage solution.\nThe way I interpret this feature request is:\n- install mod_dav\n- setup webdav accounts access and directories for users\n- setup bailkal to use <username>/calendar.ics as the storage for <username>'s calendar\n  is that right ?\n. I don't believe it's up to Baikal to support this if this is avoidable: please don't rely on yet-another-account-system\nsee already issue #52 \nIt would be better that PAM auth could be hooked into baikail - sabredav so that people could use any auth PAM-supported scheme they want (htpasswd, unix, imap, kerberos, CMS X or Y, ...) and delegate account creation, management to other apps'.\nBut principals/ format should be flexible enough.\n. Though this is painful and error-prone, I believe vcard and ics intermediate formats are the way to go.\nI opened issue #25 because some app' are currently very bad at exporting ICS data and attempting direct DB migration may be worse the attempt.\nIE: webcalendar => ICS => thunderbird/lightning => baikal was a very lossy translation.\n. not sure it should be a priority, there are already good software for this (like http://agendav.org)\nconcentrating on the spec, the API, user privileges and other caldav backend features may be a better strategy.\n. what means implements an UI for Sabre_DAVACL_Plugin isn't ?\n. => https://code.google.com/p/sabredav/wiki/CalDAVProxy\n. It's doable right now (without the UI), see https://groups.google.com/group/sabredav-discuss/browse_thread/thread/1e8869a1feff3b28\n( create a simple USER2 account into principals, let's say its ID is 2 for the example)\nINSERT a principals/<USER1>/calendar-proxy-read entry into principals (let's say the ID is 18)\nThen INSERT INTO groupmembers (principal_id, member_id) VALUES (18, 2);\n=> the calendar is readable by USER2.\nAnyway this will apply to every calendars belonging to USER1.\nI don't know yet how to get something more granular.\n. About the 1st question, I would say \"no\" according to WWWRoot/cal.php which already uses Sabre_CalDAV_Principal_Collection.\nAbout the connection itself I didn't tried myself yet but given that:\nThe usual scheme is:\n\ncurl -so - --user username:password -X PROPFIND http://hostname/cal.php/calendars/username/default\n\nor, using the handy cadaver...\n\necho ls|cadaver http://hostname/cal.php/calendars/username/default\n\nand according to the RFC (http://svn.calendarserver.org/repository/calendarserver/CalendarServer/trunk/doc/Extensions/caldav-proxy.txt) and sabredav thread:\nI would guess that if\n\nX = select basename(uri) from principals where id = 18 # above example\n\nThen the URL and credentials could be expressed as:\n\ncurl --user user2:pwd2 http://cal3/cal.php/calendars/USER1/X\n\nie, simple case, connection to default calendar of user1, connected as user2:\n\ncurl --user user2:pwd2 http://cal3/cal.php/calendars/USER1/default\n\nPS: you're right about my markdown failure above, I just edited my previous post.\n. When you said \"use webdav\", do you speak about the storage backend for calendar entries ? for .ics files ?\nIn such case, indeed, that would be great. But note that Apache mod_dav already provides a workable file-storage solution.\nThe way I interpret this feature request is:\n- install mod_dav\n- setup webdav accounts access and directories for users\n- setup bailkal to use <username>/calendar.ics as the storage for <username>'s calendar\n  is that right ?\n. I don't believe it's up to Baikal to support this if this is avoidable: please don't rely on yet-another-account-system\nsee already issue #52 \nIt would be better that PAM auth could be hooked into baikail - sabredav so that people could use any auth PAM-supported scheme they want (htpasswd, unix, imap, kerberos, CMS X or Y, ...) and delegate account creation, management to other apps'.\nBut principals/ format should be flexible enough.\n. Though this is painful and error-prone, I believe vcard and ics intermediate formats are the way to go.\nI opened issue #25 because some app' are currently very bad at exporting ICS data and attempting direct DB migration may be worse the attempt.\nIE: webcalendar => ICS => thunderbird/lightning => baikal was a very lossy translation.\n. ",
    "heidarymr": "agendav is caldav client, can u introduce webbase carddav client?\n. agendav is caldav client, can u introduce webbase carddav client?\n. ",
    "stephane-martin": "im looking for a carddav web based editor too. found \"carddavmate\", but it\nkinda sucks (coded in slow old javascript).\nkind regards,\nstephane\nOn Sat, Apr 26, 2014 at 9:40 AM, Amir Abbasi notifications@github.comwrote:\n\nagendav is caldav client, can u introduce webbase carddav client?\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/jeromeschneider/Baikal/issues/9#issuecomment-41462468\n.\n. ask the web server (apache, nginx) to perform auth using PAM system. they\nhave modules for that. after auth the webserver will provide credentials\nthrough Authorization headers (http basic auth). in baikal you just have to\nhandle http basic auth, and create the baikal user the first times it logs\nin.\n\nthats what i do now with a patched baikal1.\nsame method would work eg for LDAP auth\nregards,\nstephane\nLe 26 nov. 2014 10:41, \"Net Gusto\" notifications@github.com a \u00e9crit :\n\nWow, never thought of that. I have no idea how to build this reliably. Any\npointers ?\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/netgusto/Baikal/issues/113#issuecomment-64537873.\n. hi.\n\nsame os here, same behavior. would like to debug it, but dont really know\nhow to start.\nregards,\nstephane\nLe 2 ao\u00fbt 2014 19:06, \"pitangaweb\" notifications@github.com a \u00e9crit :\n\nHello,\nI've managed to setup a carddav account in contacts.app under OS X 10.9.\nLooks like it works great.\nBut If I take a look at the account in System Preferences > Internet\nAccounts, I'm prompted to re-enter the password and it always says \"wrong\npassword\"\nBut once again, Contacts.app works great and there is no connection error\n(= I can add a new contact in contacts.app and it appears a few seconds\nlater on my iPhone).\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/jeromeschneider/Baikal/issues/267.\n. 2sec of google later:\nhttp://stackoverflow.com/questions/17018586/apache-2-4-php-fpm-and-authorization-headers\nLe 17 nov. 2014 23:10, \"Alexandre Kraft\" notifications@github.com a \u00e9crit\n:\n@netgusto https://github.com/netgusto I can also report the problem on\nBaikal 0.2.7, PHP 5.4.34 using FPM/FastCGI, Apache 2.4.10, GNU/Linux. #17\nhttps://github.com/netgusto/Baikal/issues/17 comment doesn't fix it in\nmy case.\nRunning the following as explained in TROUBLESHOOTING.md...\ncurl -so - --user username:password http://hostname/cal.php/calendars/username/default\n... returns me the following (the same for the --digest mode):\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n\nSabre\\DAV\\Exception\\NotAuthenticated/s:exception\n    No basic authentication headers were found/s:message\n    1.8.7/s:sabredav-version\n/d:error\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/netgusto/Baikal/issues/276#issuecomment-63385652.\n. OpenID is obsolete. \"OpenID Connect\" (aka Oauth2+) would be more useful.\n\nhttp://openid.net/connect/\nRegards,\nStephane\nOn Tue, Dec 9, 2014 at 12:27 AM, Sven notifications@github.com wrote:\n\noh sorry, my fault. Thought I'd be in another repository.\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/netgusto/Baikal/issues/312#issuecomment-66207945.\n. where can i send you some love???\nLe 3 avr. 2015 09:14, \"Net Gusto\" notifications@github.com a \u00e9crit :\nIt's there: https://github.com/netgusto/Pulpy\nBatteries not included.\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/netgusto/Baikal/issues/359#issuecomment-89199270.\n. im looking for a carddav web based editor too. found \"carddavmate\", but it\nkinda sucks (coded in slow old javascript).\n\nkind regards,\nstephane\nOn Sat, Apr 26, 2014 at 9:40 AM, Amir Abbasi notifications@github.comwrote:\n\nagendav is caldav client, can u introduce webbase carddav client?\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/jeromeschneider/Baikal/issues/9#issuecomment-41462468\n.\n. ask the web server (apache, nginx) to perform auth using PAM system. they\nhave modules for that. after auth the webserver will provide credentials\nthrough Authorization headers (http basic auth). in baikal you just have to\nhandle http basic auth, and create the baikal user the first times it logs\nin.\n\nthats what i do now with a patched baikal1.\nsame method would work eg for LDAP auth\nregards,\nstephane\nLe 26 nov. 2014 10:41, \"Net Gusto\" notifications@github.com a \u00e9crit :\n\nWow, never thought of that. I have no idea how to build this reliably. Any\npointers ?\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/netgusto/Baikal/issues/113#issuecomment-64537873.\n. hi.\n\nsame os here, same behavior. would like to debug it, but dont really know\nhow to start.\nregards,\nstephane\nLe 2 ao\u00fbt 2014 19:06, \"pitangaweb\" notifications@github.com a \u00e9crit :\n\nHello,\nI've managed to setup a carddav account in contacts.app under OS X 10.9.\nLooks like it works great.\nBut If I take a look at the account in System Preferences > Internet\nAccounts, I'm prompted to re-enter the password and it always says \"wrong\npassword\"\nBut once again, Contacts.app works great and there is no connection error\n(= I can add a new contact in contacts.app and it appears a few seconds\nlater on my iPhone).\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/jeromeschneider/Baikal/issues/267.\n. 2sec of google later:\nhttp://stackoverflow.com/questions/17018586/apache-2-4-php-fpm-and-authorization-headers\nLe 17 nov. 2014 23:10, \"Alexandre Kraft\" notifications@github.com a \u00e9crit\n:\n@netgusto https://github.com/netgusto I can also report the problem on\nBaikal 0.2.7, PHP 5.4.34 using FPM/FastCGI, Apache 2.4.10, GNU/Linux. #17\nhttps://github.com/netgusto/Baikal/issues/17 comment doesn't fix it in\nmy case.\nRunning the following as explained in TROUBLESHOOTING.md...\ncurl -so - --user username:password http://hostname/cal.php/calendars/username/default\n... returns me the following (the same for the --digest mode):\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n\nSabre\\DAV\\Exception\\NotAuthenticated/s:exception\n    No basic authentication headers were found/s:message\n    1.8.7/s:sabredav-version\n/d:error\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/netgusto/Baikal/issues/276#issuecomment-63385652.\n. OpenID is obsolete. \"OpenID Connect\" (aka Oauth2+) would be more useful.\n\nhttp://openid.net/connect/\nRegards,\nStephane\nOn Tue, Dec 9, 2014 at 12:27 AM, Sven notifications@github.com wrote:\n\noh sorry, my fault. Thought I'd be in another repository.\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/netgusto/Baikal/issues/312#issuecomment-66207945.\n. where can i send you some love???\nLe 3 avr. 2015 09:14, \"Net Gusto\" notifications@github.com a \u00e9crit :\nIt's there: https://github.com/netgusto/Pulpy\nBatteries not included.\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/netgusto/Baikal/issues/359#issuecomment-89199270.\n. \n",
    "markuman": "I'm running AgenDAV too.\n. +1\n. I've no problems running lighttpd + baikal + agendav + roundcube carddav plugin. no special config...\n. I've write a small changepwd.php file, so that user can change their passwords without needing the baikal admin password.\n```\n<?php\n// options\n$dbfile = 'Specific/db/db.sqlite';\n$pwdlen = 8; // minimum passwd length\n// inputs\n$user = $_POST[\"username\"];\n$cpwd = $_POST[\"cpasswd\"];\n$pwd1 = $_POST[\"passwd1\"];\n$pwd2 = $_POST[\"passwd2\"];\nheader(\"Content-type: text/html; charset=utf-8\");\n// functionality\nif (strlen($pwd1) < $pwdlen) die('Password is to short!');\nif ( $pwd1!==$pwd2 ) die('New passwords are not equal!');\nif (!preg_match('/^[a-zA-Z]+$/i',$user)) die('Illegal characters in username');\n    $q = \"SELECT username FROM users WHERE username='$user'\";\n    $db = new SQLite3($dbfile);\n    $result = $db->query($q);\n    $test=($result->fetchArray());\n    if (count($test)==2) {\n        $realuser=$test['username'];\n        $q = \"select digesta1 from users where username='$user'\";\n        $result = $db->query($q);\n        $test=($result->fetchArray());\n        $oldpwd=$test['digesta1'];\n        $hash = md5( $realuser . ':BaikalDAV:' . $cpwd );\n        if ( $oldpwd === $hash ) {\n            $newhash = md5( $realuser . ':BaikalDAV:' . $pwd1 );\n            $q=\"update users set digesta1='$newhash' where username='$realuser'\";\n            $db->exec($q);\n            echo \"password updated\";\n        } else {\n            echo \"current password is wrong!\";\n        }\n    } else {\n        echo \"User don't exist\";\n    }\n    $db->close();\n?>\n```\nThis can be covered by a small html form\nChange your Baikal Passwort.\n<form method=\"post\" action=\"changepwd.php\">\nUsername: <input type=\"text\" name=\"username\"></br>\nCurrend PWD: <input type=\"password\" name=\"cpasswd\"></br>\nNew password have to be at least 8 characters long.<br />\nNew PWD: <input type=\"password\" name=\"passwd1\"></br>\nNew PWD: <input type=\"password\" name=\"passwd2\"></br>\n<input type=\"submit\" name=\"Check\" value=\">>&Auml;ndern\">\n</form>\n. Ah, don't know that :) Thx\n. I don't think this is baikal related.\nYou need a webserver like apache, nginx or lighttpd with php (this server have to be started!).\n. Maybe it's easy....more or less.\nTry (after make backups) grep -lR md5 * | xargs sed -i s/\"md5(\"/\"hash('sha512',\"/g\nWhat definitely should work is switching to sha1 by grep -lR md5 * | xargs sed -i s/\"md5\"/\"sha1\"/g.\nBut you need in any case to recreate all passwords in table users, column digsta1, by yourself in the database. \n. What does you apache error and php error log said?\nI'm running php5-fpm with lighttpd without any troubles. And it works even with the Mac OS X calendar without any problems.\n. I'm running AgenDAV too.\n. +1\n. I've no problems running lighttpd + baikal + agendav + roundcube carddav plugin. no special config...\n. I've write a small changepwd.php file, so that user can change their passwords without needing the baikal admin password.\n```\n<?php\n// options\n$dbfile = 'Specific/db/db.sqlite';\n$pwdlen = 8; // minimum passwd length\n// inputs\n$user = $_POST[\"username\"];\n$cpwd = $_POST[\"cpasswd\"];\n$pwd1 = $_POST[\"passwd1\"];\n$pwd2 = $_POST[\"passwd2\"];\nheader(\"Content-type: text/html; charset=utf-8\");\n// functionality\nif (strlen($pwd1) < $pwdlen) die('Password is to short!');\nif ( $pwd1!==$pwd2 ) die('New passwords are not equal!');\nif (!preg_match('/^[a-zA-Z]+$/i',$user)) die('Illegal characters in username');\n    $q = \"SELECT username FROM users WHERE username='$user'\";\n    $db = new SQLite3($dbfile);\n    $result = $db->query($q);\n    $test=($result->fetchArray());\n    if (count($test)==2) {\n        $realuser=$test['username'];\n        $q = \"select digesta1 from users where username='$user'\";\n        $result = $db->query($q);\n        $test=($result->fetchArray());\n        $oldpwd=$test['digesta1'];\n        $hash = md5( $realuser . ':BaikalDAV:' . $cpwd );\n        if ( $oldpwd === $hash ) {\n            $newhash = md5( $realuser . ':BaikalDAV:' . $pwd1 );\n            $q=\"update users set digesta1='$newhash' where username='$realuser'\";\n            $db->exec($q);\n            echo \"password updated\";\n        } else {\n            echo \"current password is wrong!\";\n        }\n    } else {\n        echo \"User don't exist\";\n    }\n    $db->close();\n?>\n```\nThis can be covered by a small html form\nChange your Baikal Passwort.\n<form method=\"post\" action=\"changepwd.php\">\nUsername: <input type=\"text\" name=\"username\"></br>\nCurrend PWD: <input type=\"password\" name=\"cpasswd\"></br>\nNew password have to be at least 8 characters long.<br />\nNew PWD: <input type=\"password\" name=\"passwd1\"></br>\nNew PWD: <input type=\"password\" name=\"passwd2\"></br>\n<input type=\"submit\" name=\"Check\" value=\">>&Auml;ndern\">\n</form>\n. Ah, don't know that :) Thx\n. I don't think this is baikal related.\nYou need a webserver like apache, nginx or lighttpd with php (this server have to be started!).\n. Maybe it's easy....more or less.\nTry (after make backups) grep -lR md5 * | xargs sed -i s/\"md5(\"/\"hash('sha512',\"/g\nWhat definitely should work is switching to sha1 by grep -lR md5 * | xargs sed -i s/\"md5\"/\"sha1\"/g.\nBut you need in any case to recreate all passwords in table users, column digsta1, by yourself in the database. \n. What does you apache error and php error log said?\nI'm running php5-fpm with lighttpd without any troubles. And it works even with the Mac OS X calendar without any problems.\n. ",
    "pierr0t": "Hello,\nI am just trying to implement the above suggestion by drzraf. I think I got the database side ok, but now after many tests, I'm still wondering about how to use it ...\n1/ in the link to Google Groups, they mention the fact that I shoud use \"Sabre_CalDAV_Principal_Collection\" instead of \"Sabre_DAVACL_PrincipalCollection\" ... I was wondering if this did apply to a Ba\u00efkal install ... if yes, what should be done ?\n2/ assuming 1/ is of no concern, I was wondering what url I should use to have USER2 read USER1's calendars. Let's say I want USER2's iCal to access one (or more apparently because of granularity), how shoud I do\n- create USER2 account in iCal and then ... ?\n- or just use the \"Subscribe to calendar\" menu and enter an url ? I tried (among many) \"https://cal.domain.tld/cal.php/calendars/USER1/\" or \"https://cal.domain.tld/cal.php/principals/calendar-proxy-read/USER1/\", etc  etc etc ... none working ... \nAny hint would be greatly appreciated !!\nThks \nPierre.\nPS: I am guessing that in the post above, \"principals//calendar-proxy-read\" should in fact be \"principals/USER1/calendar-proxy-read\".\n. Hello,\nThks for taking the time, however no success so far ...\nMost of the urls I am testing do lead to \"non existant calendar\" ... The only one that gives a different result (like I did find the calendar but cannot open it) is:\nhttps://user2:pawd2@domain.tld/cal.php/calendars/user1/token-id-of-calendar\nThis one returns a -1 error (... une erreur impr\u00e9vue s'est produite ...)\nWell, I'll try asking a question on the mentioned Google Group.\nThks.\nPierre.\n. Answering to myself !\nEvert in the SabreDAV Google group answered ... once proxy is properly setup, using the \"delegation\" tab in Calendar allows user2 to see user1's calendars, no need to build a complicated url ...\nNow trying to reproduce the same thing with OSX Reminders ..\nPierre\n. Again ...\nWell it's a no go with Reminders, does not support delegation. In fact was removed with 10.8 .... :-( ... Sometimes Apple is really going backwards. Tested with Busycal, perfect ... Bye bye apple :-)\nThanks for yous answers !\nPierre.\n. Hello,\nI am just trying to implement the above suggestion by drzraf. I think I got the database side ok, but now after many tests, I'm still wondering about how to use it ...\n1/ in the link to Google Groups, they mention the fact that I shoud use \"Sabre_CalDAV_Principal_Collection\" instead of \"Sabre_DAVACL_PrincipalCollection\" ... I was wondering if this did apply to a Ba\u00efkal install ... if yes, what should be done ?\n2/ assuming 1/ is of no concern, I was wondering what url I should use to have USER2 read USER1's calendars. Let's say I want USER2's iCal to access one (or more apparently because of granularity), how shoud I do\n- create USER2 account in iCal and then ... ?\n- or just use the \"Subscribe to calendar\" menu and enter an url ? I tried (among many) \"https://cal.domain.tld/cal.php/calendars/USER1/\" or \"https://cal.domain.tld/cal.php/principals/calendar-proxy-read/USER1/\", etc  etc etc ... none working ... \nAny hint would be greatly appreciated !!\nThks \nPierre.\nPS: I am guessing that in the post above, \"principals//calendar-proxy-read\" should in fact be \"principals/USER1/calendar-proxy-read\".\n. Hello,\nThks for taking the time, however no success so far ...\nMost of the urls I am testing do lead to \"non existant calendar\" ... The only one that gives a different result (like I did find the calendar but cannot open it) is:\nhttps://user2:pawd2@domain.tld/cal.php/calendars/user1/token-id-of-calendar\nThis one returns a -1 error (... une erreur impr\u00e9vue s'est produite ...)\nWell, I'll try asking a question on the mentioned Google Group.\nThks.\nPierre.\n. Answering to myself !\nEvert in the SabreDAV Google group answered ... once proxy is properly setup, using the \"delegation\" tab in Calendar allows user2 to see user1's calendars, no need to build a complicated url ...\nNow trying to reproduce the same thing with OSX Reminders ..\nPierre\n. Again ...\nWell it's a no go with Reminders, does not support delegation. In fact was removed with 10.8 .... :-( ... Sometimes Apple is really going backwards. Tested with Busycal, perfect ... Bye bye apple :-)\nThanks for yous answers !\nPierre.\n. ",
    "Eases": "The (temporally) workaround from drzraf still works fine! (calendar-proxy-read/write)\nBut then, if you also want to use the addressbook function you need to \"fix\" this: https://github.com/jeromeschneider/Baikal/issues/93 (from foomaster)\nNow my question:\nDoes anyone know if there is also the possibility of a CardDAV proxy read & write ?\nWe use Ubuntu / OS X / Windows + Thunderbird + Lightning + SOGo Connector\n(http://www.sogo.nu/english/downloads/frontends.html)\n. The (temporally) workaround from drzraf still works fine! (calendar-proxy-read/write)\nBut then, if you also want to use the addressbook function you need to \"fix\" this: https://github.com/jeromeschneider/Baikal/issues/93 (from foomaster)\nNow my question:\nDoes anyone know if there is also the possibility of a CardDAV proxy read & write ?\nWe use Ubuntu / OS X / Windows + Thunderbird + Lightning + SOGo Connector\n(http://www.sogo.nu/english/downloads/frontends.html)\n. ",
    "evert": "I am closing this ticket. We might pick this up again once we have a clearer roadmap.\n. afaik PHP 5.3.2 was a very bad release. Many projects require specifically PHP 5.3.3 and up.\n. This issue was moved to fruux/Baikal2#18\n. I personally have to plans to add support for this, and I don't think I should re-open a ticket for that reason.. No plans, sorry for the typo. No further feedback received, so I'm closing this. If you're still having an issue just comment here so we can discuss.\n. This issue was moved to fruux/Baikal2#17\n. Glad to see this merged! :) Did you register baikal at packagist.org yet?\n. To create a stable version, all you need to do is tag your project in github. It's based on semver (http://semver.org/)\nSo anything before 1.0.0 will still be treated as dev. \nI noticed you were off the radar for a little bit, hope everything is ok again!\n. I'm closing this ticket as it's quite old. If you're still having issues with this just comment here so we can look at this again.\n. I would not merge this PR. This only works for a limited number of webservers.\n. Thanks for looking into this!\n. This ticket is a bit old. Sorry for the slow response so far :/\nI'm closing this to clean out old tickets, but if this is still an issue for you (and still important to you) just comment here so we can reopen.\n. This ticket is a bit old. Sorry for the slow response so far :/\nI'm closing this to clean out old tickets, but if this is still an issue for you (and still important to you) just comment here so we can reopen.\n. No further feedback received, so I'm closing this. If you're still having an issue just comment here so we can discuss.\n. Different schemes should just work but you absolutely must have the same path-prefix on both your proxy and the origin server. If you are proxying a path to a different internal sub-path all the protocols will break.\nI'm closing this ticket for now though as it's quite old. If you're still having issues with this just comment here so I can reopen it.\n. This ticket is a bit old. Sorry for the slow response so far :/\nI'm closing this to clean out old tickets, but if this is still an issue for you (and still important to you) just comment here so we can reopen.\n. I'm closing this ticket as it's quite old. If you're still having issues with this just comment here so we can look at this again.\n. This ticket is a bit old. Sorry for the slow response so far :/\nI'm closing this to clean out old tickets, but if this is still an issue for you (and still important to you) just comment here so we can reopen.\n. Baikal does not manage the start of the week. This is a feature of your client software. \n. I'm closing this ticket as it's quite old. If you're still having issues with this just comment here so we can look at this again.\n. If you're interested, open a new ticket in the sabre/dav project. It needs to land there first, and then it's relatively easy to get it back into Baikal.\n. Here's the newly created ticket:\nhttps://github.com/fruux/sabre-dav/issues/804\n+1 it to show your interest =) Helps me too \n. Closing this ticket as it's quite old. We might re-engineer some of this stuff in the future, but it's not really need to keep the ticket open for it. \n. Many carddav applications have a backup & restore feature that would make this quite easy.\nBit harder on most smartphones though\n. I'm not speaking for the project owner, so whether or not a feature is unwanted or missing is entirely up to him. I just wanted to provide a workaround.\n. GPG is free\n. This issue was moved to fruux/Baikal2#42\n. Reopening this ticket here. Future releases will probably be done using Github Releases, which means that they are behind HTTPS. \n. Downloadables are now available here : https://github.com/fruux/Baikal/releases\n.  http://ca3.php.net/var_export\n. Since this ticket is quite old I will close it. If you're still having issues just comment here and we can reopen this.\n. why add a dependency if it's not used?\n. Hoping this is not spammy: there's a lot of overlap in http://groups.google.com/group/sabredav-discuss\nFeel free to drop in and ask questions.\n. Pushing this off till a later release.\n. Baikal actually hasn't seen a release in that long. I'm working hard towards getting all the most critical issues out of the way and out the door. I will most likely fix this in a release immediately after that one. It's hard to balance things because there's a lot of 'high priority' stuff, and this one (to me) will be a bit harder because I'm not 100% familiar with the source yet.\nIf you're willing to lend a hand with this task, it would be very welcome though!\n. Good idea. I'm 100% for adding these in the release after 0.3.x though\n. Sending invitations by email using the imip handler is a feature that only exists as a workaround for an iCal bug, and only iCal can ever trigger sending of invitation emails.\nIn the upcoming sabredav 2.1 release we added full scheduling support, which will work for every client. \n. This issue was moved to fruux/Baikal2#41\n. Read-only proxy is supported by baikal since a little while, so that should work. You just need a client that supports setting it up, such as apple calendar.\n. This issue was moved to fruux/Baikal2#40\n. This issue was moved to fruux/Baikal2#39\n. I'm closing this ticket as it's quite old. If you do still have issues just comment here and I will reopen. Sorry for not having a response earlier.\n. @derMart development of this branch has stopped and we've gone back (for the moment) to just an admin interface. If you're looking for a web interface, you might want to give AgenDAV a shot, which supports Baikal\n. Closing this as the issue is quite broad. Better documentation will happen though.\n. This issue was moved to fruux/Baikal2#38\n. There's something really really wrong with this pull request.\n. This pull request is completely broken :/\n. Baikal doesn't \"care\" what size your photos are in, as long as the entire contact does not exceed 1MB. If it's bigger than that, we do throw an error. There are no plans to increase this limit currently.\n. I'm closing this ticket as it's quite old and I assume you moved on or solved your problem. If not, comment here and I will reopen it.\n. Duplicate of #389 \n. Looks like a misconfigured server. For some reason it's trying to redirect the request, when it definitely shouldn't.\n. Well it looks like a MKCALENDAR request triggers a redirect, this is not something sabredav/baikal does. It must be a server issue.\nSo if you're unable to change the server's configuration, you are out of luck. \n. Whoops. Messed up two different issues. This is not related to MKCALENDAR.\nRegardless, the 302 should not happen in this particular case. There's something going on the server that's performing an incorrect redirect.\nIf you refuse to believe, try setting up a local server and test it from there. If you get an identical issue, there's a reasonable chance there's some bug in baikal and/or sabredav. If not, it's obviously a server-specific issue.\n. This issue was moved to fruux/Baikal2#36\n. This issue was moved to fruux/Baikal2#35\n. That script doesn't do a good job, it messed up recurrences so events can disappear. Never insert in the database directly.\n. This issue was moved to fruux/Baikal2#34\n. I don't think you selected \"CalDAV\" but you selected \"iCalendar\" when setting up the calendar.\n. This can't really be a baikal problem. Baikal doesn't really care what timezone events are in. This is all handled by clients. I'd be happy to help investigate which client is causing the issue (if this is still an issue), but then the best action would be to report the bug at the relevant project.\n. @Poorchop , it would over ever affect dates and times that are actually displayed in the admin interface. The DAV server does not use it.\n. I'd really like to rewrite the frontend using slim php. I feel that this will be a better foundation to rapidly add new features. So I'm treating this a bit like a feature request, rather than something to be merged.\nI agree that  is a great idea though. It looks like it actually has decent support now =)\n. This issue was moved to fruux/Baikal2#33\n. This issue was moved to fruux/Baikal2#32\n. This issue was moved to fruux/Baikal2#31\n. WebDAV publishing is currently not supported in Baikal. \n. This issue was moved to fruux/Baikal2#30\n. Sharing in baikal 0.x will land when this PR lands: https://github.com/fruux/sabre-dav/pull/696\n. This issue was moved to fruux/Baikal2#29\n. This issue was moved to fruux/Baikal2#28\n. This is quite an old ticket, so I'm closing it. If you do still have an issue just comment here and we can reopen.\n. This issue was moved to fruux/Baikal2#27\n. This issue was moved to fruux/Baikal2#26\n. Gonna take a look and see if this is indeed fixed.\n. This is currently not fixed, but I am pushing this off to the version after 0.3.\n. I'm actually removing the ability to change database settings altogether from the admin interface. It won't make sense in the future, because the admin interface will need a database to function. Instead I'll make people change the configuration file manually. This is on track for 0.5\n. I wish Persona wasn't closing down. The first non-terrible solution to this problem. \n. I am closing this ticket though. Something like this might eventually come back on the roadmap, but unsure when.\n. I saw a fix for this in the current master branch\n. This is currently not planned. I'm also a bit out of my depth here. This could be better resubmitted as a pull request.\n. I think we might change the plan a bit regarding version 2.0 of baikal. Possibly a different starting point for at least the backend code. We do appreciate the PR, and I'm sorry this was not responded to earlier.\nThe frontend code will live on, but we're not sure yet what to do with the baikal2 backend code.\n. Since this ticket is quite old, I'm closing it for now. If you're still having issues comment here and we can reopen.\n. This ticket is a bit old. Sorry for the slow response so far :/\nI'm closing this to clean out old tickets, but if this is still an issue for you (and still important to you) just comment here so we can reopen.\n. Not a bad idea for a future release, but I'm still closing this ticket. We got a few bigger fish to fry =)\n. The OS X stuff is quite broken in Yosimite. The best I can recommend is a re-install. You really want to dump all your calendar/contacts profiles and make sure that all related entries are removed from the keychain. If it still fails after that, come back and reopen this ticket\n. Are you getting an error anywhere?\n. Did you test this with a baikal 0.2.7 or 2.0-alpha?\n. Gotcha, thanks\n. This will land in baikal once it's submitted as a fully functional patch in sabre/dav.\nThe reason it's not happening right now is because the work needs to be actually done for it, and we don't get paid for this. The best thing to get anything done is to either do it yourself, or pay for the work. If neither of those are an option you have to wait until we get around building it, and this is not a feature that's currently scheduled. \n. I opened up a ticket for it here:\nhttps://github.com/fruux/sabre-dav/issues/838\nIf you're willing to sponsor it you can post a bounty here: https://www.bountysource.com/issues/34401397-ldap-authentication-backend?utm_campaign=plugin&utm_content=tracker%2F294006&utm_medium=issues&utm_source=github\n. This is something that's changing in baikal2.\n. You need to specify zulu time in the time-range query:\n<C:time-range  start=\"20150111T140000\" end=\"20150111T145959\"/>\nneeds to be:\n<C:time-range  start=\"20150111T140000Z\" end=\"20150111T145959Z\"/>\nThe first shouldn't actually be supported, but it's likely interpreted as UTC time. This makes sense for your event in the Europe/Paris timezone, as it's 1 or 2 hours behind UTC.\n. Not a bad idea for Baikal2. \n. This issue was moved to fruux/Baikal2#25\n. This issue was moved to fruux/Baikal2#24\n. Closing this ticket due to it's old age. If you're still having issues, feel free to reopen. I'm tempted to say we simply don't support all-inkl. Lots of people have issues with those host, so it might be better to look for something else.\n. Correct! It's a simply md5 hash currently.\n. Honestly i think it's important to try to not automatically detect anything if you have more complex needs.\nimho it's better to find a way to hardcode your exact paths. None of these variables are universally reliable.\nMy understanding is that you're looking for a way to support the idea that the proxy base url is different than the origin url. To properly support this, it's not enough to just set the relevant $_SERVER variables. Every XML response for example would have incorrect urls.\n. Must-have for next release =)\n. This is not a planned feature. It makes sense, but really this is something that you will have to custom develop.\n. That looks like a very complete configuration. I'll definitely add this to the site\n. This issue was moved to fruux/Baikal2#23\n. This issue was moved to fruux/Baikal2#22\n. The next version of baikal will require PHP 5.5. If you run outdated software, you are stuck running outdated software on top of that ;)\n. Keeping this ticket open because the minimum baikal2 php version does need to be set.\n. Yea you are totally right. I'll address this as soon as I've talked to @netgusto about where to host the baikal2 source.\n. This issue was moved to fruux/Baikal2#21\n. If you are comfortable with PHP development, you can intercept sabre/dav events. There is a specific calendarObjectChange event that basically has what you need. If you still need this and want to try this, I can point you in the right direction.\n. I don't think this is appropriate as a general purpose feature just yet, so yea it would really be me telling you where to hack the source you can do it on your own installation. Not ideal maybe :/\n. Awesome, just let me know =) I'll close the ticket for now, but comment here if you need more info.\n. lighttpd is a pretty broken and unmaintaned http server. Would you be able to switch to nginx instead? We also know a bit more about nginx so any issues you have there might be easier for us to troubleshoot.\nSince this ticket a bit old I'm closing it, because you might have moved on. If you still need help with this just comment here so we can reopen.\n. Well that's great to hear. Surprising that rewriting works, normally you really need redirects for these.\n. This issue was moved to fruux/Baikal2#44\n. No further feedback given\n. When Baikal 2 is released, there will be an upgrade path. At the moment there isn't.\n. This issue was moved to fruux/Baikal2#20\n. This issue was moved to fruux/Baikal2#16\n. Yes, once baikal 2 is released there will be an upgrade path.\n. Installing Baikal with full permissions to the Specific directory is required. So the reason this is happening is due to you probably making your own customizations in terms of permissions. \nIt's fine if you want to do this, but because it's a non-standard case I think it's fine for us to emit a developer-friendly but maybe not user-friendly exception for this.\n. This issue was moved to fruux/Baikal2#15\n. https://www.google.com/maps/place/Lake+Baikal,+Irkutsk+Oblast,+Russia,+666137/@53.6961404,106.8394669,7z/data=!3m1!4b1!4m2!3m1!1s0x5dab7dedcf8dd873:0xf2489412c5853349\n. Could you reformat your xml samples? I can't see many of the important details.\n. That's odd. I know the blackberry client tried to fetch events before by specifying a timerange that starts and ends at the exact same time, but this isn't that.\nAre you certain that you have events that fall in that time-range? For these types of requests there's extensive unittests. If you do have events in that time-range, could you share one or two?\n. Use triple backticks to mark a block as code.\nIf you are able to, the best way to send an iCalendar event that should overlap with the time-range is to look in the database.\n. The CREATED field is not, and should not be taken into consideration for that query. The rules around what is considered are extremely specific.\nSo this doesn't sound like a bug to me.\n. @DigiAngel the date range applies to the actual moment the event is happening. This is based on DTSTART and DTEND (or DURATION).\nIn the case of recurring events, you need to be looking at RRULE. But RRULE won't have a specific date and time, it just has some information about the recurrence rules (such as 'weekly').\n. A few questions:\nHow did you add the iCalendar objects to the database? Did you do it manually, with curl, or a specific client?\nCould you share the entire request and response for sabre/dav for this. I noticed for example that you didn't include a Depth: 1 header, which would be required for this type of request.\n. Good to know. The Depth: 1 header is a HTTP header for the REPORT request.\n. Alright in that case I would want to ask (and sorry for the repetition)\n1. The full request as it's sent to the server.\n2. The full response from the server \n3. 1 example of an iCalendar object that is in the 'shared' calendar that should have been returned.\n4. Exact version of baikal you are running.\nAnd keep an eye out for formatting, the correct way to do this is to start your data with 3 backticks and end it as well.. so not per line, but for the entire block. This is not my repository so I can't format it for you and I do want to see the exact details.\nTo get 1 and 2, you could just specify the -v option.\nBased on that exact information I will be able to write a unittest to see if I can confirm the problem locally. If I can, I can write a fix, if not... then I have no idea what's wrong ;)\n. Feel free to upload them somewhere and link back here =)\n. Hi!\nYou are amazing, thanks for gathering all that. The only problem is that the iCalendar object is partially cut off... Not sure if I need anything above that line, so I will try it out first without that.\n. Hi @DigiAngel \nI just wrote a unittest replicating exactly your situation. I wrote it for the sabre/dav 1.8 branch here:\nhttps://github.com/fruux/sabre-dav/commit/6a7b4ad4433faca5a5dae754f8d0828c9da59dd9\nThe test had no issues. After downgrading to 1.8.7 (baikal uses a version more than 2 years old), the problem still didn't appear.\nRight now I have no idea why you have this issue and I don't. So one last question: which PHP version are you running?\nIf you're on a PHP version with a date-time related bug, this may explain it. If that doesn't explain it either then the last resort is giving me credentials to a server that has the problem, so I can try to replicate it myself.\n. Never mind, you are running PHP 5.5.9, which is quite recent and I don't suspect there's any issues with that. I know early PHP 5.3 versions had issues.\nSo then I would indeed ask: could you give me access to the server. I would like to step through it and test it myself :S \n. Got your message. Just replied\n. @check0104 :\nIf I change the caldav-base uri in the system settings to PROJECT_BASEURI . \"groupdav/cal.php/\", I get the following error messag, whenever I try to load https://ip/baikal/cal.php in my webbrowser\nDon't do this =) If you change the base uri, you also need to actually access the server using that uri. I would suggest just keeping the default.\n@fberke \nYou absolutely MUST turn off this:\ndav_methods     PUT DELETE MKCOL COPY MOVE;\ndav_ext_methods PROPFIND OPTIONS;\nWhere did you even get that? If it's in our documentation somewhere we need to get rid of it. Turning on those settings with cause nginx to handle WebDAV methods and that's not what you want. Baikal itself is responsible for handling those methods and this setting will just cause nginx to intercept it and send responses for it instead.\n@spidernik84 if you're still experiencing issues, please open a new ticket with a lot more information (baikal version, nginx config, which client you are using).\nSince this ticket is a bit old I'm closing it, but if there are further issues/comments just comment here and I will reopen.\n. @atrioom nginx's DAV module is absolutely not needed and should be disabled.\n. Might be interesting in the future. The main issue will still be that you still need a username and password combo to setup caldav/carddav clients, but this could work for the web interface.\nClosing this ticket though, as we'll figure out later if this is something we want to put on the roadmap.\n. This is simply not supported by thunderbird. The only option is to use multiple subdomains and use 1 subdomain for each username/password pair.\n. Duplicate of #397 \n. The problem you are having and the actual xml error pasted there are unrelated. The xml error is 100% expected when you try to open the URL in a browser. If the so-called 'browser plugin' was loaded by default by baikal, it would not happen... but it's not a problem either.\n. You might need these rewrite rules to make this work:\nRewriteEngine On\nRewriteRule /.well-known/carddav /card.php [R,L]\nRewriteRule /.well-known/caldav /cal.php [R,L]\n. No further feedback received, so I'm closing this. If you're still having an issue just comment here so we can discuss further.\n. This issue was moved to fruux/Baikal2#13\n. This issue was moved to fruux/Baikal2#14\n. This should be solved once we update to sabre/dav 3.1. This ticket duplicates #228 \n. Wrong ticket, i meant #388\n. No response received in a while. Let me know if this is still an issue, in which case we can reopen this.\n. This issue was moved to fruux/Baikal2#12\n. Sorry for the late response. We can recommend this app for android:\nhttps://play.google.com/store/apps/details?id=org.dmfs.caldav.lib&hl=en\n- On iOS you don't need any apps, it's supported natively by the OS.\n- Only the latest iOS is supported. iOS6 is too old.\n- Z-push is a completely different system, unrelated to baikal.\nLet me know if that answers your questions. If not, we can reopen this ticket.\n. Where are you seeing null null null null exactly. Is this the web interface?\n. Alright, lets close it. It if pops up again I'm sure we'll see a new bug report. Thanks for responding =)\n. This issue was moved to fruux/Baikal2#11\n. This issue was moved to fruux/Baikal2#10\n. Postgres is currently not supported. It might be in the future though.\n. This tells me that there is a database error. Are you still having this issue?\n. The curl statement you are using doesn't really do a normal supported request. What are you trying to achieve exactly? Does this error prevent you from using the software?\n. Could you post the full curl response to:\ncurl -X OPTIONS -v --digest --user 'user:password' https://myserver/cal.php/calendars/bestuser/default/ -k -S\n. Alright, the error at least seems very consistent everywhere... Would you be able to share the schema and perhaps even do a dump of the 'principals' table. Either there's something broken in that database table, or that table doesn't exist at all. It's unfortunate that we can't see the real underlying MySQL error :(\n. Sorry about that, the same thing applies then to sqlite. You can get the information by running:\n.schema principals\n.dump principals\nfrom the sqlite3 console.\n. I think it should be the latter, yes.. the schema looks fine here though. Are there any entries inside of the table (.dump should give you this). Feel free to censor as you see fit.\n. Nothing out of the ordinary... what are the file permissions for that database file? Both the file as well as the parent directory of the file need to be accessible by the webserver. The easiest way to do this is:\nchmod -Rv a+rw Specific/\nBut don't do this if this is a shared server and you are concerned about other users on the same user accessing that database.\n. What about its parent folder? Same thing?\n. I think that's highly doubtful, you're getting a clear PHP error. \n. I'm running out of ideas :( I guess there's nothing interesting in the error logs either?\n. On most systems php errors would just appear in the apache error log. The thing I'm really looking for is an error thrown specifically by PDO /Sqlite3.\n. Alright, I do have a hunch. I looks like baikal copies over a default sqlite database (from Db/Sqlite/db.sqlite) and uses that as a 'starting database'. I don't know how good of an idea that is. I have a feeling it could mess up if the sqlite used to create the file is not identical to the sqlite that you are running.\nSince you are just getting started, I think I would recommend just re-creating the database manually.\nYou can do so by running:\nsqlite3 Specific/db/db.sqlite < Core/Resources/Db/db.sqlite\nMake sure you move the original database out of the way.\nnote that this creates a completely new database, and you need to re-create that username. I hope that's not too much trouble.\nThis might fix the problem, but I'm not 100% sure. If it does, we need to make sure that Baikal does this by default during installation.\n. wow wtf.. there's somethign really weird going on with that output!\n. no, wait.. I gave you the wrong command:\nsqlite3 Specific/db/db.sqlite < Core/Resources/Db/db.sql\nNote the missing 'ite' at the end. We need the orginal text .sql file\n. Great to hear. I'm keeping this ticket open because we need to prevent this from ever happening.\n. The HTTP 200 response indicates that baikal is not sending back a correct response. Could be a server misconfiguration. What happens if you open that url in a browser?\n. Are you using rewriting? If you put this full url in a browser: \nhttp://baikal.raspi.home/cal.php/calendars/tiphergane/default/\nAnd you're getting that message, this might suggest you're rewriting urls.\n. No further responses received. If you're willing to help me debug this further, I'll happily reopen this ticket.\n. Makes sense @hermann-san , that's a known problem. Thunderbird cannot remember more than 1 username/password for a domain.\nYour only real option here is to create multiple subdomains that all point to baikal, and use a different subdomain for each user.\n. Sounds pretty bad!\n. The only reason this can happen is if there's some data in your sessions that doesn't belong there. Perhaps you had a different application running in the same session path that stored a bunch of stuff there that now messes with Baikal.\nSo this is not really something I think we can solve, other than a suggestion to not run multiple php applications that use sessions in shared path. Clearing cookies should fix this though.\n. If PHP can't connect to your MySQL server, I'm not sure what we can do here... Are you able to connect via the command line on the same server?\nI'm closing this ticket because it's a bit old, but if you still need help with this just comment here and we can reopen.\n. Will be fixed once we integrate sabre/dav 3.1\n. Locks is not really used in caldav, carddav. Instead of trying to understand the database, it might be better to try and understand the caldav protocol and speak directly to the caldav server.\nI'm closing this ticket for now, but if you have other questions, ping me so I can reopen it.\n. This is not possible with baikal.\n. If there are other questions related to this, let us know!\n. This issue was moved to fruux/Baikal2#9\n. This line was wrong in your VCALENDAR object:\nVERSION:2.1.7\nShould have been:\nVERSION:2.0\n. Will be fixed once we update to sabre/dav 3.1\n. This issue was moved to fruux/Baikal2#8\n. @Vlaaaaaaad this error line:\nIP - - [XX/XXX/2016:XX:XX:XX +XXXX] \"PROPFIND /cal.php/principals/jerome HTTP/1.1\" 400 264 \"-\" \"Mac+OS+X/10.11.2 (15C50) CalendarAgent/361.1\"\ntells me something else might be going on. The \"400\" indicates Bad Request, but I'm not sure what could cause that. Would you be able to trace the HTTP requests/responses with wireshark or Charles HTTP proxy? It would be interesting to see what was in the HTTP response...\n. No problem, I'm glad you figured it out.\nThere's quite a few different people with different issues here. I hope it's all resolved for everyone, but if anyone still has issues please comment here to give me a heads-up. happy to help.\n. Making this a documentation bug\n. What webserver are you using? \n. No further feedback received, so I'm closing this. If you're still having an issue just comment here so we can discuss further.\n. Rewriting like this is not supported. Remove the rule and connect directly to the correct path instead.\n. Is this baikal 1 or 2?\n. No further responses received. Works on baikal 1\n. This issue was moved to fruux/Baikal2#43\n. Indeed the PHP error log should say more about this. You could alternatively turn on display_errors in your php.ini to see what's going on.\nI'm closing this ticket for now, because it's been a while since the last comment. If you are still having an issue just comment here and I will reopen.\n. The only thing I can really say about this is that 'it's done when it's done'. The project is not dead, but it's not going as fast as it could have been.\n. Is this baikal 1 or 2?\n. It's not clear to me that it's an actual problem. What client are you using that's failing for you?\n. No response received.\n. Chances are indeed that PHP encountered a fatal error, and an error was logged somewhere.\nCheck out your php error log , or turn on display_errors in your php.ini to get the error to show up in your browser. I'm closing this ticket because it's been a while since the last activity, but if you still have an issue just comment here and we can reopen.\n. This issue was moved to fruux/Baikal2#7\n. Github has a \"thumbs up\" feature now, at the top of every issue and comment. Use that instead of commenting.\nIn terms of what we'll do with this: I think we'll add calendar/addressbook sharing functionality first. This allows a user to share specific calendars / address books to other users.\n. Manually changing the mysql database is not supported. You must use the CalDAV apis to make changes. The reason you are not seeing the changes is because other fields must be updated for the server and clients to notice that anything have changed.\n. This issue was moved to fruux/Baikal2#6\n. Hi @dtberlin ,\nSorry for the late response. It does indeed sound like you don't have PHP configured correctly yet. This is not really the best place for questions like this, I would suggest a more general purpose forum for PHP issues. Most of us would never run Windows as a server unfortunately. Not even microsoft does for Azure ;)\n. This is correct. Thunderbird uses a single password store, and things will definitely mess up if you try to use different users. The only real workaround is to create multiple subdomains so you can authenticate to each subdomain with a different user.\n. Looks like that line was removed in 0c5e3fea\n. This is a PHP7 issue. We need to update to sabre/dav 3.1 to make this work.\n. It's not the only issue with PHP 7 unfortunately.\n. Hi!\nI don't think this is a precondition for making baikal work. I suspect that your issue might have been an unrelated one related to your server configuration. I appreciate the comment though, and I'm glad you figured it out\n. This issue was moved to fruux/Baikal2#5\n. This issue was moved to fruux/Baikal2#4\n. I think we might change the plan a bit regarding version 2.0 of baikal. Possibly a different starting point for at least the backend code. We do appreciate the PR, and I'm sorry this was not responded to earlier.\nThe frontend code will live on, but we're not sure yet what to do with the baikal2 backend code.\n. This issue was moved to fruux/Baikal2#3\n. This issue was moved to fruux/Baikal2#2\n. This issue was moved to fruux/Baikal2#1\n. Hi @Amenocy ,\nAre you talking about baikal1 or 2?\n. No further feedback received, so I'm closing this. If you're still having an issue just comment here so we can discuss further.\n. 405 would indicate 'Method not allowed'. Typically this means that it is a server configuration issue. I don't know caddy at all, is it possible that it blocks HTTP methods that it doesn't understand? PROPFIND isn't really a common HTTP method outside of webdav.\n. No further feedback received, so I'm closing this. If you're still having an issue just comment here so we can discuss further.\n. Yes I can tell you with a really high degree of certainty that baikal will correctly emit a 207 Multi-status. If you need more help debugging it would be really helpful if you can share the HTTP response body.\n. So yea, you should see a 207 Multi-status for every PROPFIND or REPORT. That, or an error code (400-599), but never 200.\n. This is expected. Apple Calendar will not do a GET request on calendars, it will do PROPFIND and REPORT requests. \n. How are you setting up Apple Calendar? Manual, automatic, advanced? What are you using for the address and/or other settings?\n. No further feedback received, so I'm closing this. If you're still having an issue just comment here so we can discuss further.\n. It's not a problem at all. I've just been trying my hardest to make sure that the issue list contains real bug. Will reopen for another week.\n. @netgusto this is ready for a merge. Do you want to review it? If you are happy with it, hit the merge button.\n. Yes, there will be. I didn't know there was a migration mechanism, that might be helpful. It's a fairly complex upgrade. I do have several command-line scripts for it, but I'm not sure if I can use it for web-based upgrades.\n. Sorry for the large diff, if you want to know what actually  changed, just take a look at the individual comments (and skip the twig one, should have done that in a separate PR).\n. If you think using UPGRADE.md and shell scripts is good enough to release version 0.3.0, I might skip creating a web-based migration script (because it's a fair bit of work), but if you think it's important enough I will definitely write the script for it. So let me know, either way...\n. This is ready for review @netgusto \n. Did not yet get a response, so I'm going to assume that this is an OK change. if you are unhappy with it, just let me know @netgusto . Merging for now.\n. This is ready for review and merging @netgusto \n. Merging this. If you have objections later definitely let me know =)\n. NP take your time\n. Yea I'm happy to go in the other direction again too, but I also think it's useful to have a single package. So we can always release 0.3.0 and see how quickly people start complaining ;) \n. We haven't fully figured it out the long term yet, but yea it would make sense to eventually merge them.\nAn official announcement regarding this will follow when we're doing the 0.3.0 release of Baikal.\n. http://sabre.io/blog/2016/baikal-joins-sabre-io/\n. Are you able to navigate to:\nhttp://10.8.0.122:8181/cal.php/calendars/user1@test.com/default\nUsing a browser? \n. That's a good sign already. Some more questions:\n1. What client are you using to connect?\n2. What URL are you using within that client to connect?\n3. Are you using Digest or Basic auth?\n4. Can you share a bit of your log files, in particular from when it's going wrong?\n. I am thinking IIS is interfering with the WebDAV methods. Is there a setting somewhere in IIS that allows you to perhaps:\n1. Turn off IIS built-in WebDAV. IIS must not be allowed to handle webdav methods itsef.\n2. Edit a whitelist of allowed HTTP methods, or a list of HTTP methods PHP is allowed to handle.\n. Here's some more information that might help. I'm super unfamiliar with IIS so I'm just guessing here:\nhttp://stackoverflow.com/questions/6739124/iis-7-5-enable-put-and-delete-for-restful-service-extensionless\n. It's called 'WebDAV' in case you looked for the wrong thing. Did you read that link as well?\n. Well you need more than that! There's PROPFIND, 'PROPPATCH,REPORTand others. Whitelist everything.\n. I don't seeREPORT` in that list!\n. In that case, do you have an error log? Maybe IIS has some information about why it rejects the requests.\n. That's just the access log. I imagine that IIS also produces an error log with other messages?\n. Here's another person running into an issue with IIS and a potential solution:\nhttps://github.com/owncloud/core/issues/1210#issuecomment-12487154\nI'm basically just trying to google for you =) I hope it helps\n. I also wonder if you could try to do this with a username that does not contain the @ symbol. \n. I'm going to take this PR one step further and completely remove the synctoken. The database has a default value, so there's no need for baikal to supply one.\n. Just did that, thanks for the report!\n. I've never seen anything like this or any idea what could cause this.\nDoes sync still work or is that broken too?\n. Would you be able to share the contents of the calendars table in sqlite? \n. SQLite doesn't use a port, it's a plain file. You can find it in Specific/db/db.sqlite\n. ok that's bad news. I wonder if your sqlite database is corrupted. \nThere's at least some data in there, because you're somehow able to extract calendar uris..\nCould you try this:\nhttp://stackoverflow.com/questions/18259692/how-to-recover-a-corrupt-sqlite3-database\n. If you have active users, I would recommend temporarily turning off your webserver.\n. Super weird!\n. Haven't heard anything in a bit. Feel free to reopen if you have new information!\n. Can't believe I missed this :/ thanks\n. Good idea.\n. It makes sense as a feature request for Baikal 1 as well.\n. Ouch that sucks\n. Really need some unittests for this project\n. If you're stuck in the middle of the upgrade after hitting this bug, recovering is fortunately simple:\nJust open Specific/config.system.php and find the line that has the Baikal version number (should be 0.2.7, or 0.3.0 depending on what you were running).\nSimply change it to 0.3.2 and things should be working again after.\n. There's some magic going on under the hood in both baikal and sabre/dav that helps guess some of these urls. I think that magic is slightly different for both.\nHowever, in Baikal you are able to specify these base urls in your config. The configuration can be found in Specific/config.system.php\nI would also recommend using the dav.php endpoint instead of cal.php and card.php. The former will be the only option in the future, but cal.php and card.php is kept around for BC reasons.\n. Yea that's an issue. This is due to the fact that multiget will attempt to convert any vcard version to vcard 3. Moving this to the sabre/dav project.\n. This issue was moved to fruux/sabre-dav#779\n. Doing this release right now\n. If you're stuck in the middle of the upgrade after hitting this bug, recovering is fortunately simple:\nJust open Specific/config.system.php and find the line that has the Baikal version number (should be 0.2.7, or 0.3.0 depending on what you were running).\nSimply change it to 0.3.2 and things should be working again after.\n. There was a problem with Digest auth, which I've now fixed and released in 0.3.3. As a temporary workaround you may try switching to Basic auth.\nHowever, changing the realm manually probably just makes things worse, unless you also re-generate the passwords. \n. - What operating system are you on?\n- How did you install baikal? \n- Does your vendor folder and Core folder exist?\n. Really odd! Glad it works now though.\n. Hi! The DAV server supports it. You just can't make a calendar that can contain VJOURNAL objects from the admin front-end. Is that what you're looking for?\n. Well, one way would be to manually create a calendar that can hold VJOURNAL. One way to do this, is to go in your database, find a calendar you've previously created and add VJOURNAL to the components column. That should be enough to get evolution Journal sync up and running.\n. No feedback received.\n. @The-Compiler if you're looking for an automated install, you might be better off using the sabre/dav command line scripts for upgrading. They do the exact same thing.\nThen all you would need to do is:\n- Write all the new files (Skipping Specific/)\n- Run the migration scripts from vendor/sabre/dav/bin/.\n- Set the updated version in Specific/config.system.php.\nHope this helps!\n. Yea that's really odd. It will be hard to figure out what the original problem was at this point, but it seems like this user has had other really weird stuff going on in #458, so it might be a fluke.\n. Is it completely white? Is there anything in your error log? What PHP version are you on?\n. This implies that the migration to 0.3.3 partially succeeded. The synctoken column is there. It's hard to know where it failed. Make sure that when you upgrade you go straight from 0.2.7 to 0.3.3. No in-between versions. There were some problems with those.\n. Before there was indeed a flat installation package, but I've gotten rid of that in the latest version. I felt like it didn't make a lot of sense to have two different packages, so I rather create one that works for everyone.\nBut you are absolutely right, it does mean that the url structure has changed a little bit. I didn't consider this and will add this to the upgrade instructions.\nThe difference with this package is that you only need to expose the html/ directory to your webserver. \n. I also updated the docs here a bit: \nhttp://sabre.io/baikal/upgrade/\nAs for not being able to select mysql, I think you can only do this during the initial install. There's no switching afterwards. On top of that, I think I borked the zip package again so I'll be generating 0.3.4 (but this is only relevant for you if you want to do another fresh install, with mysql)\n. Not without more information. Try opening dav.php in your browser. What do you see there?\n. - Are you using ssl?\n- What information (urls) are you using to connect?\n- Make sure that the well-known redirects work from the \"root\" of your domain. They are 100% pointless in a subdirectory.\n. Well, when you setup iOS, what url do you use to tell iOS where to connect? \n. Try using just myip for setting up, nothing more. If your \"well-known\" redirects are indeed working, that should be all iOS needs.\n. and <ifmodule is in 99% of the cases a bad idea. When you don't have a certain module, you want apache to tell you and give you an error message, not silently ignore it.\n. You should delete the entire .htaccess file and create a new one that just contains this:\nRewriteEngine On\nRewriteRule ^\\.well-known/carddav /baikal/html/dav.php [R=301,L]\nRewriteRule ^\\.well-known/caldav /baikal/html/dav.php [R=301,L]\nAfter that, make sure that your changes were successful by going to:\nhttps://yourserver.example.org/.well-known/caldav\nAnd make sure it redirected to \nhttps://yourserver.example.org/baikal/html/dav.php\nOn that url, confirm that you can log in with a username and password. After that, try setting up iOS again, and this time only use yourserver.example.org for the server field. Replace yourserver.example.org with whatever your domain is ofcourse. \n. We just had another ticket of someone that also had problems syncing, and this was due to the fact that they didn't have the XMLWriter extension here #468.\nWould you be able to share your phpinfo() somewhere, so we can look at a list of installed php extensions? This error should also show up in your php error log, but if you don't have access to that it might be a bit harder.\nWorth checking at least.\n. All the required extensions are indeed there, including mbstring. And there's nothing in your error log either that would indicate a problem?\nThen the last thing I can think off is, could you create an account for me on your server so I'm able to test OS X myself? \n. Yep that works!\n. I just took a look at your server, and I'm greated with firefox's 'Insecure connection' message. This doesn't bode well, but I'm trying it out with OS X nevertheless.\n. Yea I'm definitely blaming it on that for the moment. I enabled more debugging information and my console is mainly talking about ssl errors. I'd recommend getting a domain and a real ssl certificate. They're free these days: https://letsencrypt.org/\n. For the moment you can also try disabling ssl altogether and using http to connect, just to validate that it's really related to ssl. However, you can't setup OS X calendar if there's still something running on port 443, so it really has to be off.\nHope that works, and if that's not an answer to your problem come back here and I'll reopen this ticket.\n. It's hard to be a 100% sure. I'm hoping I'm right. Not sure why baikal 0.2.7 would work.\n. You can actually just check the access log. Because we use basic/digest auth all the information shows up there. There's currently no plans to log something in the database to track this, because it would be redundant with the access log.\n. Consult the documentation of your webserver to find the access log.\n. I just released 0.3.4, solving a problem with installation. Could you give that a shot and report back?\n. @perlbo , no it is actually expected that it's empty now. The file inside this folder should be created by the installer.\n@perfect7gentleman the error message you provide does indicate an error, but for me I'm getting something that looks a bit like this:\n\nBut that red-box error message is currently expected, and something I want to fix in the future. That error message does not prevent you from continuing setup... but I guess you are getting the error message in a different way?\nSo at what point are you actually getting that error? Is it after having setup mysql, or immediately after clicking the 'Use MySQL' checkbox?\n. alright =)\n. Ah weird, there was no db folder already? Fairly sure I included an empty one in the zip.\n. Super weird. What platform / unzip program did you guys use?\n. thanks, I'll think I'll just drop a little hidden file in that directory to make sure it gets retained.\n. I just had a look, and when I look at the zip I don't see the db folder either. Oddly enough, rebuilding the zip does include it. I'm thinking there might be a difference during zipping, as I use both OS X and linux on a regular basis.\nAnyway, it will be included in the next release.\n. Just released 0.3.5, fixing this. If your installation is working now you don't need to upgrade though.\n. Hi!\nAs long as the version in the config/config.system.php is not 0.3.4, baikal will always redirect to the installer / upgrader.\nThe error message you are getting does seem to imply that the upgrade was at least partially successful. I don't know why the config file has not updated as well ... baikal should check if the file can be written to before the upgrade. You might want to try manually setting the version to 0.3.4 in that file, but it doesn't really explain why it happened in the first place. Very odd.\n. Ah interesting. You are missing the XMLReader PHP extension. Installing that should fix this for you.\n. That's a fair point.. as an alternative, maybe we can just let people set it via the config files...\n. If I'm not mistaken though, we can simply tell them to block html/admin and this will actually 100% disable admin features. \n. Absolutely. I also want to provide a few config rules for apache and nginx on how to achieve the same effect.\n. Since you're a user of this feature, may I ask what your motivation is for using it? It would help me.\n. How do you determine today whether admin access is intended or unintended? \n. That makes sense. I guess the biggest loss is not the ENABLE_INSTALL/ENABLE_ADMIN stuff itself, but rather the 'autolock' facility that is not easily replicated.\nFrom a personal point of view, I can live with that. I think most similar software also never has features like that. I can understand that taking something away can always be a bit painful though :/\nIf your users have a big problem with it, it would be interesting to hear it. If there's really a lot of people relying on the feature we can consider adding it back in a future version.\n. Hi @deg0nz ,\nThis is not entirely correct. We added support for Subscriptions, but not sharing. What this means in practice is that you can use iOS and OS X to store calendar feeds (webcal: type stuff). But I'm not aware of other clients that also use this specification.\nBut as long as you use the apple products, and you create a new subscription to a calendar, those subscriptions will be synced to your other apple devices.\n. Hi Loader23,\nI'm not really familiar with QNAP hardware. Does it run Linux and Apache? If so, just get yourself a domainname and lets encrypt! \n. Closing due to lack of feedback.\n. Rolling back to 0.2.7 if you didn't make a backup of your database is indeed not possible. I'm fairly certain that you are experiencing this problem because I forgot to enable the sync plugin.\nGoing to fix this, would you testing trying my patch? (follows in about 5 minutes)\n. Check out ab55d18. Does that fix your problem?\n. After adding that patch, only new items will start to show up though. Items that have been  created/modified since the plugin was enabled.\nBut if that doesn't solve things, and you're still seeing the 500 error, can you take a look at your apache error log and see if there's any error messages there?\n. alright. If the error log doesn't mention anything, the only debugging option after that will be to log HTTP traffic and see if there's anything unusual in there.\nI'd also be happy do dive in for you, if you're willing to create a username/password for me on your server. This should at least allow me to reproduce the issue and likely also find out why it was happening.\n. Got your email @jbeyerstedt , thanks! My goal is to take a look tomorrow. Bit busy!\n. Just took a look @jbeyerstedt , and I'm fairly certain that the sync plugin is in fact not yet enabled on that system. Please make sure that change ab55d18 is applied!\n. Hi @jbeyerstedt . I didn't see a sync-token returned by the server, but oddly enough I do now see a different indicator that the sync plugin is in fact enabled. This means there must be some kind of deeper problem.\nI'm testing a bit further. Thanks for your patience.\n. Could you take a look at your calendars table and let me know what the value is for the synctoken field for my calendar? I gave it the displayname 'Everts calendar' so you can easily find it.\nIf it currently has the value NULL I have a hunch what the problem might be.\n. If you manually run UPDATE calendars SET synctoken=1, this should solve your problem. I'll look at the upgrade scripts again and try to find out why this isn't happening automatically.\n. You might need to do the same for the  addressbooks table btw =)\n. Confirmed that a fresh install of at least sqlite does NULL these fields by default. \n. Upgrade script now fixes this issue, but fresh installs are still affected by this bug.\n. What operating system is this? Can you describe the steps you used to install Baikal? (which OS to download and unzip, did you FTP? Did you use the zip installer or use Git?)\n. Hi @GitOTR ,\nBaikal got a new version of sabre/dav, which became a lot stricter in terms of what it considers valid vcards. My best guess is that you have an invalid vcard in your database that was accepted earlier, but now causing sabre/dav to throw an error.\nIf you're interested, you could export all your contacts and I could take a look at the export file and see if I spot the error and then try to repair it for you. Sorry that this is such a pain!\n. No feedback received.\n. Interesting. It's hard to say what the real cause of this is. The original vcard validates just fine here.  Since you modified it manually, it's possible that the original bug is now gone. Could have been an unexpected hidden unicode character for example.\n. It's hard to say @GitOTR why it's slower. We've actually done a lot of optimizations in the past to actually make things faster. Are you just noticing that the initial sync is slow, or also subsequent syncs after the initial one? At the very least when you sync again, in theory it should be super fast compared to baikal 0.2.7.\n. I decided to always keep the original tables, in the off chance that there is something wrong with the upgrade script. It's basically a 'last resort' type of thing. I wanted to minimize risk of data-loss.\nYou can safely delete those tables afterwards though.\n. Hey @GitOTR,\nwant to give 0.4.4 a shot? I have a feeling it might solve all your problems\n. A charles session demonstrating this problem would also really help.\n. Probably even more than giving me the sqlite db. Note that you don't need charles on the server. Just on a desktop computer, and then you can point iOS to use the charles proxy.\n. I got your charles dump! Unfortunately it's helping me a lot less than I had hoped :(\nWhat I'm seeing is that most requests are really fast. But then the client does a multiget response, and the server responds with:\n\nFatal error:  Maximum execution time of 240 seconds exceeded in /volume1/web/baikal.test/vendor/sabre/vobject/lib/Property.php on line 252\nThe client only requests 50 vcards, so that's a LONG time for that many vCards. The only reasonable possibility I see now is that maybe...\nYou have some really really massive vCards in your system. Like, many megabytes and it's just taking a long time to parse all that. This is possible if your vCards have big attachments such as photos. \nHow big was your vCard export?\n. No, we don't do anything specifically with pictures. But one big difference between the old and the new version, is that we now parse every vCard before sending it back to the client. We do this to figure out the version of the vcard (3 or 4). And we then convert to vCard 4 if a client requests it.\nemClient specifically will always request vCard 4 if the server advertises support for it (we do). So my guess is that what's happening now is:\n1. You upgraded from 0.27, and all vCards are stored as vCard 3.\n2. emClient accesses the new server, asks for vCard 4.\n3. We convert all vCards from 3 to 4 before sending it back to emClient.\n4. This is taking too long.\nThe reason it's probably not slow when you let emClient import the data, is because emClient will send the vCards as version 4. And if emClient later on requests those same vCards, sabre/dav does not need to do the conversion.\nSo what can be done? I could\n1. Create a cache for the vCard 3 -> 4 conversion, so the conversion only happens the first time.\n2. Start profiling the parser and converter. Given a backup file of x MB I should be able to measure how long its taking, and where most of the time is spent. Based on that I should be able to create optimizations that make this fast enough for you so this will work.\n3. Our plan was also to take every attachment/photo from any vCard, and take them out of the vCard and store them somewhere else. This will also make a huge difference, but also a bit more of a long-term feature.\nWe'd really like 3. Ideally I would like to avoid 1, but 2 is probably the easiest to achieve right now. \nIn the meantime, you can:\n1. Increase the PHP time limit. This is not ideal, and it will still be slow... but chances are that the requests will eventually complete given enough time.\n2. Upgrade to PHP 7. This will make a real difference.\n. Awesome! We did make some performance improvements, so it's great to hear that it has had an effect for you.\n. Hi @fberke ,\nCan you take a look at the error log for your webserver? Error 500 hopefully means that the server logged what went wrong.\n. My first guess would then be that you are running a PHP version older than 5.5.\n. Well, PHP 5.5 is the minimum required PHP version =) So there's your problem\n. My first guess would be a webserver configuration issue. The first thing you might want to check is your webserver's error log. If that doesn't yield anything, logging HTTP traffic would indeed be helpful, and I can walk you through the steps.\n. No feedback received.\n. Based on this, I am fairly certain that the problem is in your webserver configuration. This request works fine:\n223.104.38.164 - - [16/Mar/2016:09:15:47 +0800] \"PROPFIND /cal.php/calendars/xalphay/default/ HTTP/1.1\" 207 1000 \"-\" \"DAVdroid/0.8.4.1\"\nBut this one fails:\n223.104.38.164 - - [16/Mar/2016:09:15:48 +0800] \"PUT /cal.php/calendars/xalphay/default/20160316T011522Z-520_b486750d7f0f7220.ics HTTP/1.1\" 404 662 \"-\" \"DAVdroid/0.8.4.1\"\nThis makes no sense at all for a standard webserver configuration. My advice would be to contact your web host and see if they can help you resolve this issue.\n. If you can, I would simply try to point your current server administrator to this thread. Perhaps they can make sense of it. It might be that certain HTTP methods are blocked for example. If they read this thread and have further questions, I would also be happy to help them.\nI don't really have any recommendations for a different host. I think it's best these days to find something that gives you a virtual machine as opposed to shared hosting, so you have root access and you can do whatever you need.\n. Frankly I doubt that downgrading Baikal will fix anything, if Akonadi indeed never attempts to send the password. Regardless, downgrade is possible if you followed the upgrade instructions. Step 1 in the upgrade instructions was: make a backup ;) Without the backup, there's no downgrade though.\nI would suggest submitting this as a bug to Akonadi though! Another thing you could try: try removing stored passwords from kde wallet. Perhaps it stored some information about the server and refuses to authenticate since it's different now.\n. If you're interested in researching a bit more, it would be interesting to see an exact diff between what Baikal 0.2.7 sends and 0.3.5, if it still works with 0.2.7, then at the very least this should give us a hunt as to what could be a potential workaround for this issue.\n. Or: apache error log. If there's something there, it might make it a bit easier.\n. Maybe console.app is giving you slightly more detailed error messages? \n. There's some more debugging options documented here too:\nhttp://sabre.io/dav/clients/ical/\n. connection: close is indeed normal. I believe (but I'm not sure) what's triggering your error is not the delete, but maybe it's the PROPFIND that follows it.\nThat would at least explain that you're getting an xml parsing error.\nThe client is doing a PROPFIND on https://5fW25eu65m3H@tempo2.condition-alpha.com/, and that request is probably being responded to with an html page...\nWhat I don't know is, why is it doing that...\n. > Um, to get the list of calendars resulting after the previous delete operation? Just guessing...\\\nIt's possible, but it's doing it at the wrong location.\n\nSo far my impression was that Baikal was one of the least worse? At least trying to?\n\nCorrect. In fact, we pride ourselves in being one of the least worst. Great to see that people are picking up on that. /s\nCould you share how you setup iCal? Are you using the automatic, manual or advanced setup, and which urls are you using?\n. I actually have an alternative idea... could you try enabling the scheduling plugin?\nThe property that iCal is requesting is free-busy-set which isn't standard, as it's part of an old version of the scheduling specification. I believe that iCal might fall back for certain requests to the old spec, if the server does not specifically advertise the new spec.\nI haven't enabled the scheduling plugin in Baikal yet. Mostly because I just forgot it.\n. I'm going to go out of a limb here and assume that this problem is indeed fixed with #491. If this is incorrect, let me know!\n. I think this is mostly a timing issue. I've noticed this myself many times too, but I don't think we can solve this server-side. It must be fixed by the client developers unfortunately. Next time I see them I will bring it up.\n. Not helpful @perfect7gentleman \n@Jonny007-MKD how does that error present itself? Could you make a screenshot? I believe baikal will immediately try to connect to mysql with its default settings (which are probably wrong) but it should catch that exception and give you a chance to modify the settings.\nWhat happened for you?\n. That's odd then :/ I wonder how I can reproduce it so I can trigger the error here too.\n. Good point, lets add this.\n. Hi @ohcibi ,\nThe source file for this is here:\nhttps://github.com/fruux/sabre.io/blob/master/source/baikal/install.md\n. Thank you @fabianwolf !\n. This is a duplicate of #472 \n. Does #485 fix your issue @wordofglass ?\n. No, this is not something we support. However, the MySQL and Sqlite schemas are supposed to be identical. If you can find a generic tool that does conversions for you, in theory this should work.\n. I would recommend simply switching to Basic auth all together. Instead of reintroducing this patch, I will make a note of this in the troubleshooting documentation.\n. Note that this upgrades existing databases to be correct, but we also need a sabre/dav 3.1 upgrade.\n. I'm not too concerned about CSRF timing attacks, but once we switch to PHP 5.6, we can switch to that function for robustness.\n\nOn Mar 13, 2016, at 6:30 AM, fabianwolf notifications@github.com wrote:\nThe current Csrf Token check uses !==.\nFor timing attack security \"hash_equals()\" should be used.\nBut this would require php 5.6.0\n\u2014\nReply to this email directly or view it on GitHub.\n. The calendar-proxy related problems are definitely related to those tools. Default baikal does not do this. Also, version 0.2.7 is no longer supported.\n. Yea we're waiting for @netgusto  to redirect baikal-server.com to sabre.io/baikal =)\n. Try going into your password manager and remove the stored password for your baikal server. Sometimes Thunderbird gets confused. If that doesn't work, I would recommend posting a bug at the lightning project, as this error looks a bit like an internal problem.\n. In the future I'd like everyone to be able to log into the admin interface and show/hide interfaces depending on what access level they have.\n. @untitaker it will require new permissions on the server. Currently the upgrade instructions practically already tell users to unzip and only keep the Specific directory. So based on that I feel it's not a huge step to also tell them to rename that directory, since they're already messing around with files and folders.\n. Hi @ErikBasalt ,\n\nI don't disagree that it's a change with a relatively small gain, and potentially annoying for folks.\nHowever, I have a vision in mind for Baikal and how it should look like to call it \"1.0\". To get there, a lot of small changes are needed to make it look and behave more like a modern PHP codebase.\nSo the unfortunate truth is that the next few releases are likely to be a bit painful, until we get to a solid 1.0. I really want to make this change, but if there is a way where I can make this change so it's less painful for you, I'm all ears\n. The nice thing about Slim is that it's a PSR-7-based microframework. Silex is another option, but I feel that Silex and the Symfony ecosystem has stagnated a bit. It's also rather bulky.\n. I actually made a start with this, but Slim 3 is not at all like Slim 2. They've made it a lot harder to do simple stuff. My main goal was to make it very easy for new people to jump into this, so now I want to do this with Silex instead, which is pretty simple still, thankfully.\nSo if you're also interested in doing this, even if it is Silex, I could definitely help and break down some of the required steps.\n. The first thing that would already be tremendously helpful, would be:\n1. Create a branch / fork of Baikal\n2. Install silex and twig\n3. Port the baikal templates to silex\nSo for now it would be ok if it's just a static version of baikal and the templates. That would give us something to work off, and we can start making the templates dynamic one-by-one...\nI would strongly suggest that if you'd like to help with this, you commit often and let me review as early as possible. That way I can make suggestions early in the process and will ensure that things are going reasonably in the correct direction ;) \nLet me know if you have more questions. I'd be happy to answer any.\n. Awesome! Well... same thing goes. Let me know how I can assist in starting =) \n. Good point.\n. This issue was moved to fruux/sabre-dav#798\n. If your 0.2.7 database had a synctoken, then it was not a 0.2.7 database. Can you start the upgrade over?\n. The problem is that your old database is not supposed to have a synctoken column. Any idea why that might be in there?\n. Could you go into your sqlite database (on your old database, before attempting the upgrade):\nsqlite3 Specific/db/db.sqlite\nAnd then type:\n.schema\nAnd share the result? That should provide some insight I hope.\n. Interesting. There's no synctoken in there. I'm going to run the upgrade from 0.2.7 to 0.4.0 and see if there's a reproducible error.\n. Confirmed that there is a problem, but the synctoken problem is actually not the first issue. During upgrade there's a different sql error. Then trying to run the update again yields the synctoken problem (which makes sense because the first attempt to an upgrade was half completed).\n. This is the first error:\nUncaught exception during upgrade: exception 'PDOException' with message 'SQLSTATE[HY000]: General error: 1 table calendars has 11 columns but 12 values were supplied' in /Users/evert/code/baikal/test/baikal/Core/Frameworks/BaikalAdmin/Controller/Install/VersionUpgrade.php:422 Stack trace: #0 /Users/evert/code/baikal/test/baikal/Core/Frameworks/BaikalAdmin/Controller/Install/VersionUpgrade.php(422): PDO->exec('INSERT INTO cal...') #1 /Users/evert/code/baikal/test/baikal/Core/Frameworks/BaikalAdmin/Controller/Install/VersionUpgrade.php(61): BaikalAdmin\\Controller\\Install\\VersionUpgrade->upgrade('0.2.7', '0.4.0') #2 /Users/evert/code/baikal/test/baikal/Core/Frameworks/Flake/Core/Render/Container.php(71): BaikalAdmin\\Controller\\Install\\VersionUpgrade->render() #3 /Users/evert/code/baikal/test/baikal/Core/Frameworks/Flake/Controller/Page.php(85): Flake\\Core\\Render\\Container->renderBlocks() #4 /Users/evert/code/baikal/test/baikal/html/admin/install/index.php(80): Flake\\Controller\\Page->render() #5 {main}\n. This definitely just affects upgrades from 0.2.7 and earlier, a path I didn't test. But I have a solution\n. Ok guys, I just uploaded 0.4.1. Upgrading to 0.4.1 will only work from your original 0.2.7 database.\n. yea the upgrade instructions are actually a bit better. Basically, you only need to keep the Specific directory. But the main point is that if @mehlkopf is still getting an error, it means that he/she is not running the upgrade from the old 0.2.7 sqlite backup.\n. That's interesting. The reason you get the error though is because you run an incomplete upgrade twice. The real problem is : why does the initial upgrade not complete?\nHow big is your database? I'm wondering if it simply never completes because it's just taking a very long time to upgrade.\n. So I'm thinking this is still the cause of your problem. Even though 3000 events might not sound that big, in order to upgrade the script actually has to parse every single event in order to extract some information from it. I suspect that if you check your PHP or webserver log, you will either see an out of memory, or a maximum execution time-related error. If it's either of those, you can just increase those numbers and wait longer.\nIf none of that is an option, there is a way to do a manual upgrade on the command line. It's not super easy, but I can definitely write step-by-step instructions for it. Let me know what you would like me to do!\n. Hi @bjo81 ,\nPlease re-read this thread and go over the troubleshooting steps we've already done. I can ask you all the same questions again, but it wouldn't be a very good use of my time.\n. This is indeed bad news. I was under the impression that the installation will not run, if baikal is already fully configured/installed.\n. I'm now disabling the installer altogether if baikal was configured. Sorry I missed this :/\n. You're right. Missed that one. Fixing it now.\n. Just in case it wasn't clear, baikal does indeed require PHP 5.5\n. Fixed \n. I guess this problem got introduced because warnings are now shown, whereas before they were always hidden?\n. That's already the case. sqlite and mysql databases are now automatically generated.\n. Not yet, but I'm very interested in this in the future! Hopefully a few versions down the line we will be ready for this.\n. Baikal configuration is in a file.\n. Hi @RobinWoodo ,\nmy best guess is that you have done an incomplete upgrade. On the current version, there should no longer be a line calling 'assertUnlocked' in that file.\nI'd recommend you try the upgrade again, and make sure you overwrite all directories, except Specific.\n. I don't think this is correct! I think you may have updated from an older version before and never removed that old directory. Next time I would strongly suggest to follow the upgrade instructions and only keep the Specific directory, but remove everything else.\n. Are you able to open the admin? If not, do you have a file called Specific/config.system.php. Do the database settings in that file look correct you?\n. Did you say you do not have a file called Specific/config.system.php ? If so, the installation did not complete. Do you have PHP 5.5?\n. @fabianwolf: is it possible that this is a new issue? I don't fully understand why the error is being triggered yet.\n. Just making sure: which Baikal version is this?\n. Alright. Could you share what your settings you are using for MySQL? Could you copy-paste the relevant bits from config.system.php ?\n. =( weird\n. It's possible. I'm going to test the process again tonight and see what I missed :/\n. This was indeed introduced with c199ac7b2\n. Just fixed this, and released 0.4.3!\n. The main issue here is that if we hash the password in a different way, we can no longer use Digest authentication. Basic is an option, but it's even worse for those that are not on HTTPS yet (for whatever reason).\nIf you want to know more about the current hashing approach, look no further than rfc7616.\n. It actually has a chapter named A2\n. I think if we would do anything new, it would be bcrypt based. Seems to be the best choice these days ;)\nIf you're interested in using that as well, I think the best place for a PR would be in the sabre/dav project. Then eventually it can make its way back into Baikal.\n. http://security.stackexchange.com/questions/16809/is-a-hmac-ed-password-is-more-secure-than-a-bcrypt-ed-or-scrypt-ed-password\n. Well, HTTPS is not really everywhere yet. It would be nice to provide some protection for the people that don't have it. Although I can definitely see a future where we ditch Digest altogether. It also makes the server slow!\n. I agree, lets make it official:\n1. Ditch Digest completely. It has other issues anyway.\n2. Make Basic the default\n3. Only use bcrypt for password hashes. No point in using SHA256/512.\n. @muelli that's not a great solution for the average baikal user. It means that they need to understand apache configuration even more than they do already. It might be nice to have that as an option though. Definitely open a feature request if you want it.. Hi dms4,\nThe libxml requirement is basically just want's compiled into PHP. You should be able to see which version you are using by running php -i or phpinfo() and finding the appropriate line.\nIf your QNAP is up to date and still using libxml 2.7.0, then it's using > 8 year old software. Let that sink in for a moment ;)\nIn order to use a newer libxml, you need to compile PHP against a newer library. I don't think there's a way around that.\n. Yea this is a great point. There's also a few extensions / configuration settings we could check. I really like the YII2 approach to this.\n. The info is all in here. 2.7.0 or higher. And yes, you need a libxml that's not a decade old. \n. Great!. What happens if you open those images directly? I assume it's still a 404 page, but I'm curious if it's sabre/dav or nginx that's generating it. Could you share the result?\n. yup!\n. Please re-read my question ;)\n. No I mean the in-browser response body\n. So thats an nginx response. That would imply that the dav.php script doesn't even get a chance to serve the request. \nCan you open dav.php/ including the slash at the end but without ?sabreAsset ?\n. Glad you figured it out. So our template was wrong?\n. don't use rewrite rules. Remove them all except the two well-known ones, which should be redirects: \nrewrite ^/.well-known/caldav /dav.php redirect;\n    rewrite ^/.well-known/carddav /dav.php redirect;\nIf there are any rewrite rules in your configuration besides those, just get rid of them. I suspect that that's the root of your issue. \n. Are you able to share the response body for the 415 error? The body should contain an xml document with more information about what might be wrong,\n. In that case, are you also able to share the XML document for that REPORT request? \n. Ok that makes sense. We haven't enabled the sync plugin yet. Enabling this might actually also solve #474 and #518 . I don't think that CardDAVMate is doing the correct thing here, but enabling the sync plugin on our side will make Baikal much faster and fix your problem.\nI'm going to add this and try to do a release this weekend somewhere.\n. I just did a release. I feel that this should solve all your problems. Want to give it a shot?\n. Hi @GitOTR , I know you have some issues. I honestly believe that there is something currently broken in your vCards. Some ways I can help debugging the issue:\n1. Install Charles HTTP Proxy and log the requests / responses from em client and/or iOS. Send the result to me for analysing.\n2. Get me a copy of your addressbooks or sqlite database.\nWith either of those I should be able to dig in and see if there's obvious problems. \n. Interesting. Is this upgraded from an older baikal version?\n. The components column is too small to hold \"VEVENT,VJOURNAL,VTODO\". If you are comfortable with this, you can modify the column to have a width of 21 instead of 20. I'm making this the default.\n. This issue was moved to fruux/sabre-dav#805\n. Are you able to log into the admin? Or does it just not work with AgenDAV?\n. Good to know! =)\n. google calendar does not support authentication on calendar feeds.\n. 1. you are not supposed to rewrite that url. It's suposed to be a redirect.\n2. Lighttpd is not officially supported. It has weird issues, you might be better off trying nginx.\n. We've actually recently found that problem and fixed it in sabre/dav already. After a new sabre/dav release, we'll do a baikal release so this is fixed too.\nGlad that the manual fix worked for you for now.\nI'll keep this ticket open until we've done that release.\n. 0.4.5 is released.\n. Hi @ritzelbuerste ,\nThe fields are not updated automatically, so you might need to manually change the MySQL schema to state VARBINARY(21) instead of VARBINARY(20).\n. Hi,\nFrankly I'm not sure what could cause this.  Would you be able to share the file that's being uploaded? The object might be invalid, or it might not. In either case sabre/vobject has problems parsing it.\nSo what's in the request body for that PUT request?\n. Those access logs all actually have correct statuses. There's 207's, 201's and all the 401s basically tell iOS to reauthenticate and repeat the request (because its' digest auth).\nThe errors as they are logged from your first email should result in a 500 status code. None of these requests have that.\n. Excellent! The file you posted allows me to reproduce the bug. I'm looking into it.\n. So there are a lot of lines in your file like this:\nDTEND;VALUE=:20071114T173000Z\nI'm fairly certain that that is invalid. The VALUE= part should be removed, which will fix this. I am going to add a change to vobject to make the error more clear.\nWhat application generated that ics file?\n. Could you share both the iCalendar and owncloud version? It seems a bit strange that both have the exact same bug.\nBasically your file is simply invalid, and sabre/dav is doing the right thing rejecting it.\n. Well, the problem definitely exists there too :/ weird. I don't understand how sabre/vobject would allow this file to be created.\n. Correct. You should be able to remove the following two strings: VALUE=; and VALUE=:\n. Great! I assume it will be good now as well.\n. Hi @HubEight ,\nSorry for the lack of response on this ticket. I completely missed it back when you reported it. Can you let me know if this is still a problem?\nIf so, it would be great if you could give 0.4.5 a shot, and you still have a bug then, take a look at your apache error logs.\n. Alright, closing this ticket then.\n. What PHP version are you running?\nHi there!\nA few questions:\n1. Are you able to see the error log, and is there anything in it that could indicate what issue you are having?\n2. What PHP version are you running?\nThe changes to Baikal are significant. They do have to do with the underlying components (sabre/dav) but it's basically an accumulation of 4 years of work on it, including fixing many bugs related to security, syncing, and performance. Also yea, there are several new user-facing features such as scheduling.\n. I'm closing this ticket because it's been a while since the last comment.\nIf this is indeed still an issue, feel free to comment here so we can continue discussing.\n. Makes sense, we do need to do this a bit better.\n. Not a bad idea perse, but this should be solved by sending more values to the templates and by introducing new template variables, and not by adding the value to the label.\nRegardless though, I think it might be better for you to target the \"silex-rewrite\" branch, as that branch will form the basis of the 0.5 and is basically a major rewrite.\n. Hi @netgusto / @jeromeschneider  , would it be possible to switch over the website and perhaps also the forum?\nThe forum could redirect to :\nhttp://groups.google.com/group/sabredav-discuss\nAnd the website should probably just go to:\nhttp://sabre.io/baikal/\n. This was fixed by @netgusto \n. There's two main ways to do 'sharing':\n1. Delegation\n2. Sharing\nDelegation is what @schmimat describes. It works today, but no UI. If you use apple iCal or BusyCal you can manage delegates from the client. Delegation does not work for every client. Delegation is for entire accounts.\n\"Sharing\" is something being worked on in sabre/dav. It will be released as sabre/dav 3.2 and after that release there will also be a baikal update. Sharing is per-calendar, not per-account. Sharing works for every caldav client out of the box, but can only be managed by some clients (again iCal and BusyCal).\nOne day there will be a web UI for this, but not sure yet when. Keeping this ticket open until baikal has integrated sabre/dav 3.2.\n. Next few weeks I'd say. But after release I'll wait a few more weeks until I also do a baikal release. \n. This app will at one point in the future: http://dmfs.org/caldav/ I don't know what DavDroid supports.\nBut even if they don't \"support\" sharing, they will still see shared calendars. That's the nice thing about the sharing spec.\n. sabre/dav 3.2 has been released this week, which has this feature... but I want that version to be out there for people to test for a few months before I upgrade baikal. Baikal users are usually less savvy than sabre/dav users, so it's important that it gets some real-word usage first as the changes are pretty major.\n. Yes I think that would be a realistic timeline. Sorry for being so conservative, but this project needs stability first \n. Thanks for the testing @Mischosch . I'd say that the biggest thing that you didn't test but is a problem, is that creating/managing calendars from the web interface won't work.\nThe Model system in Baikal is a bit clunky and really to release this, I just want to overhaul this part of the source so it uses the sabre/dav backends, instead of directly writing to the database.\nThe real blocker here is \"Moving to silex\" and some work has been done in #558 for this. \n. Currently he's the only one. I've been meaning to review his work so far and get it to the next level, but I haven't really been able to focus on Baikal as much as I'd like recently.\n. Maybe not a bad idea. \n. If we can get baikal 0.5 out the door, which is based on silex, that would make it very easy for me to take the next step and get sabre/dav 3.2 in here. The big problem for me is time constraints, even if the project were funded I still wouldn't be able to complete it quickly.\nI need help basically with this branch: https://github.com/fruux/Baikal/pull/568\n. Great! I had some problems with bountysource, so I opened a ticket for that:\nhttps://github.com/bountysource/core/issues/1057\nAfter that I should be able to re-enable bounties for the baikal project.\n. Hi!\nHere it is: https://www.bountysource.com/issues/33145013-share-calendar-between-baikal-users\nBountysource has been pretty buggy lately.\nKeep in mind that the main thing that needs to happen before calendar sharing can be added, is the move for silex. I'm pausing everything else until then because any work done before it would be double work.. Odd... I wonder if the upgrade process simply fails because it's not allowed to update the version number. From what I can tell though (from your log), the database upgrade was 100% successful. So one other workaround is to just do a clean 0.4.4 install and just move your (upgraded) database over the empty one....\n. But let me know if you have any more info or if there's anything we can do here...\n. Do you know if such a situation is_writable() will return true? I believe that's the check we use.\n. Interesting... turning this into a bug.\n. If you are running 0.5.0 it means you're running off the git version, which is not a good idea unless you are developer and testing.\n. Hi there,\nCould you please please share the following information:\n1. Which URL are you using to setup your client. Please share the exact url\n2. Can you share your webserver configuration? Either your apache or nginx virtual host configuration, or any custom .htaccess you might have.\n3. Are you using Digest or Basic authentication?\n4. What PHP version are you running?\n. For OS X, try removing the account, setting it up from scratch and try using one of these paths for setup:\nwww.domain.com/dav.php/principals/username/\nwww.domain.com\nNote the extra slash at the end of the user name. \n. Closing as it's been a while since the last feedback.\n. There's no plans like this currently. Sorry about that. We're mainly following standards and there is no standard for something like this yet.\n. The error pretty much explained it. You set up the baikal user in mysql so it is not allowed to execute the ALTER TABLE statement. Change this and it will work. Note that you need to restart your upgrade process from your backup, as you might otherwise end up with an inconsistent state.\n. Hi @MrFloya , could you tell me on which URL ifCloud is attempting to do this REPORT method?\n. Well.. are you sure? One way to explain this issue is that the correct REPORT request is being done, but on the wrong resource. I've seen some clients sometimes do this request on (in your example):\ndav.1wilkens.org/dav.php/addressbooks/<user>/\nwhich some servers support, but sabre/dav does not. So do you have more proof? Perhaps the webserver log line that shows the 415 response and REPORT method?\n. Hmm... could you try something for me? Check the database and read the value of the synctoken field for this particular addressbook in the addressbooks table.\n. It's the wrong file. Look in Specific/db. It's not encrypted and there's no username or password.\n. could you run this query and try again?\nUPDATE addressbooks SET synctoken = 1\n. I need to investigate this a bit more. I thought this was fixed, but I may have missed something. Definitely a bug\n. Should be fixed now and it's also part of the migration from old databases that have this bug.\n. The browser plugin is actually enabled by default now! What are you expecting to happen?\n. What version are you running?\n. Try downloading the latest version!\n. There's two issues with the patch:\n1. The firstoccurence column is pretty much just an index. For dates that long ago, I think it's fine to just change the php code to store 0 instead of a negative number. For most 'sane' use-cases this will be good enough, and I rather do that than change the data type.\n2. Any changes like this need to be submitted to the sabre/dav project, not the baikal project.\n. INT is by far a compacter format. I wanted to go for something fast. The firstoccurence and lastoccurence is not at all meant for humans to read, it's really only for speeding up certain queries. So no I think INT is the best type here.\n. Hi @omg1976 , forcing 0 for negative values should indeed be enough to solve this problem, but remember that a patch for this has to be submitted to https://github.com/fruux/sabre-dav\nIf you're not sure how to approach it, you can also just open a ticket there. I'll make sure then to fix it before the next release.\n. That's a very suspicious error. Does the file vendor/sabre/vobject/lib/Property/DateAndOrTime.php exist?\n. Sorry it's actually in the VCard subdirectory... missed that.\n. vendor/sabre/vobject/lib/Property/VCard\n. Then something went when you installed or uploaded the files.\n. Ah I was not aware that documentation was on the existing site. I will make sure we add it to sabre.io as well.\n. Interesting. Should be a somewhat easy fix. Probably a good idea to make STRICT_TRANS_TABLES an option in our unittests\n. This problem is actually happen because of an incomplete / incorrect upgrade. That statement (assetUnlocked) only appears in old baikal versions.\nSo when upgrading try to only retain the Specific directory and delete everything else (after a backup). If that doesn't solve the problem, we can reopen this ticket but I suspect it will.\n. This error indicates that the baikal user in MySQL was not permitted to execute ALTER TABLE. If you use some kind of MySQL management tool you should be able to see the Baikal user and change what it's allowed to do. If you simply add all the privileges for the baikal user, the upgrade should complete.\nHowever, you must make sure you start the upgrade over and don't try to complete the existing upgrade as this will likely cause corruption.\n. If you are not developing Baikal, then the only installation method you need to use is the one documented on http://sabre.io/baikal/install/, which means:\n- You use the zip.\n- You don't do anything with composer.\n- You don't do anything with git.\n. Could you give me some info about the size of your addressbook? How many contacts?\nAre you using Sqlite or MySQL? Lastly, could you run this sql command:\nSELECT SUM(LENGTH(carddata)) FROM cards WHERE addressbookid = ?\nMake sure you replace ? with your address book id.\n. Thanks for the correction @sirnone \nIf my hunch is correct, then the problem is not in the upgrade. The initial sync is just taking too much time to complete. Perhaps when you tried it the third time it managed to just complete. As soon as that initial sync is done, things should be fast again.\nThat's why I'm hoping to see some numbers. How much is too much? If you're willing to share your numbers and which DB you are using @sirnone that would also be helpful.\n. @sirnone , that is very small. I suspect that you had a different issue than @pgaufillet .\n@pgaufillet . Thanks for that. What this tells me is that for your initial sync we need to parse 10MB worth of vCard data. That doesn't sound like a lot, but it actually does take a lot of time.\nWhile I would be interested to see if we can improve performance for these operations, I'm not sure how easy that will be. At least in the future my plan is to implement something called 'managed attachments' which would automatically take embedded photos and store them on the filesystem.\nIn the short term the best workaround I can give is to simply increase php's execution time to a lot higher. Yes this means that the initial sync takes more than the 10 minutes you saw now, but I promise subsequent syncs should be a lot faster.\nYou can also try upgrading to PHP 7 if you're not running that already. Should at least double performance.\n. No. If the upgrade said it was successful, then it was succesful. This is unrelated to the upgrade and would also happen with a new installation (if the new installation had a 10MB addressbook)\n. Thanks that would be super helpful! Definitely interested in making this better, but it's not super easy.\n. The sync plugin actually partially solves the issue. I think the issue actually originates from the fact that we now parse vCards to ensure that we are returning the correct version (3 or 4) depending on what the client requested.\nThere are some potential workarounds. We could for example store in the backends what the version was (so we don't parse/convert if we know we don't have to) and we could actually modify the sync plugin to only send back a few vcards, forcing the client to do multiple requests, thus splitting up the responses in several smaller chunks.\nBut before deploying a workaround I would just love to get profile, because these workarounds help split up the load over multiple requests, but don't solve the core underlying issue. If the profile yields some information about clear bottlenecks, I'd love to just see if I can solve that first.\nIf you are willing to give up the info, I would volunteer to log in to your server and try to get the information out myself. I imagine that the actual profiling info would probably several gigabytes large though.\n. I just released sabre/dav 3.1.4 and baikal 0.4.5.\nThe sabre/dav version contains an improvement for CardDAV sync. Specifically, @pgaufillet sent me a profile for a carddav sync that should in theory now run twice as fast.\nClosing this as fixed, but if things are still terrible, let me know if I need to dig deeper!\n. Awesome!\n. I think the most likely is that a client is accessing your server, while you are simultaneously trying to upgrade. You might want to try making sure that only you can access the server (maybe with a firewall rule, or apache access rule).\nLet me know if that works! \n. The weird part is basically that that error is a SQLite specific error, indicating that something else is messing with the data. Copying from server to server doesn't really change this though. File-system locks are (as far as I know) mostly a thing on Windows. SQLite would have its own mechanism for this.\nYou could try to dump your entire sqlite database and re-create it. That should get rid of the locks for sure.\n. Ah I'm sorry, I was certain that that would have actually solved the problem. I'm not really sure then where else to look :/\n. I personally have no clue what could cause this. I've never seen this and as far as I know, the only situation where this can happen is if something has the sqlite database open while you are attempting to do the upgrade.\nIf you're absolutely sure there is no DAV client at all, and no browser open accessing baikal, it should work, but if it doesn't... I don't have a clue how to debug this :/\n. The core point here is, and both your threads point to this @c-mauderer , is that this problem occurs when we're doing modifications in the sqlite database while something else is as well (or is doing a select).\nPHP only does one thing at a time, so in theory this can only happen if something else also interfaces with baikal at the same time.\nPerhaps you could share some of your apache error logs from your server during the time you are doing the upgrade?\n. @c-mauderer , yes absolutely. In PDO queries everything is synchronous, so the first query has to fully complete before the next one starts.\n. alright, I'm very curious if that solves it then! \n. Try deleting the contents of the /var/lib/php/session directory.\n. Currently we didn't enable the iMip plugin. What this means is that if you invite someone who's not on the server, we don't sen the invites anywhere.\nWe certainly can enable it in a future version though.\n. I agree with the above, basically if you can find a generic migration tool for databases, it should in theory work as the schemas for sqlite and mysql are almost equivalent.\n. P.S. I never saw @untitaker 's previous comment.\n. I'm closing this ticket because it's been a while since the last comment.\nIf this is indeed still an issue, feel free to comment here so we can continue discussing.\n. I'm closing this as this is more of a general PHP question rather than a baikal specific one. There are plenty of other places to look for help.\nI will add though:\n1. Just running sudo apt install php-mysql should be enough. No further changes should be needed.\n2. It won't work until you restart the php fastcgi daemon (php-fpm)\n. What kind of issues does the wrong base uri start? I realize it's incorrect, but what does it actually break?\n. Baikal has an installation guide, if you use external websites chances are that the information you find is outdated.\nI'm also a bit curious if you ran chmod and a directory did not exist, why you didn't assume that that would be useful information to share here... kind of critical if one of the commands is not working!\nThese are the official installation docs:\nhttp://sabre.io/baikal/install/\nLet me know if you have questions following it. I'd be happy to help.\n. P.S.: the reason I closed the ticket was because it was identified you used the wrong instructions to install baikal. The solution to this was to use the correct instructions. Me closing the issue does not mean I was not listening to follow-up questions, and I would have reopened or at least answer any further questions you may have had. You missed that chance though.\n. As pointed out by @untitaker , we do this work for free. While we might not be perfect, we try to improve while delivering good support. If you're looking for commercial-class support, you can purchase it or use a different commercially supported application.\nLocking this thread. If you still want help and you're able to ask politely I'd still be happy to help. If not, please go away.\n. Interesting. Will take a look at this.\n. I want to add that if you're looking at a different way to do this, you should at the very least include some information on why the .htaccess route is not good enough. It's a bit hard to propose an alternative if you don't share why the official recommendation doesn't work.\n. Make sure you follow the upgrade instructions. Since you just copied your old database over a new installation, baikal could never detect this this and assumes you are fully up to date.\n. Hi @zbits,\nIf your admin interface says that you are running version 0.4.5, it means that the upgrade completed successfully. Upgrading can take a quite a bit, and longer than the nginx timeout. But I'm guessing in this situation the PHP script just continued the upgrade until completion while nginx sent back a timeout.\nBut only after all the database migrations are done, the upgrade script will update the system version (so 0.4.5) so I think this is a good indicator that it worked.\n. This is a good idea, but tasks actually support this just fine and so does Baikal.\nTasks can have a DTSTART which can be used as an indicator when you are supposed to start the task. There is nothing really on the server that we can do, because we supply clients all the info they need.\nThis feature request really needs to be implemented on the clients themselves. So the only advice I can give is to open feature requests there.\n. Yes you should ask them :) And if they have questions, I'm definitely willing to answer them.\n. This is a great start \ud83d\udc4d \n. I continued this in #568 . If you're making additional changes, feel free to target that branch for PR's. I'd also be happy to give you commit access.\n. Yes, will do! And we can definitely keep the discussion in the PRs, but maybe new questions can go into #568 \nThanks so much for your work so far. I have changed a bunch of stuff, but your foundation has been SUPER helpful.\n. The only open question I see is , 'is it ok to bump the minimum version to PHP 5.6', and that's fine to me. Idk If I missed anything.\n. Ah I also see some questions related to formbuilders/orms. I don't see a need for either at the moment. ORMS are especially bad for this, because one of the goals is to actually use sabre/dav's internal API's for managing calendars and addressbooks.\nDoing this is not yet possible for for users/principals, so those will get SQL queries for now, but the ultimate goal is that the Baikal admin only uses sabre/dav APis for managing data.\nAs for form-builders, I'd love to avoid it for a first version. I'd like to keep things somewhat simple, but it's something we could add later if there's a real need. I don't mind people doing a bit more work if it means less dependencies/systems/ideas to learn.\nI liked your UserRepository idea though, but also there I've simplified a bit. Less classes basically, but mostly the same overall design.\n. - Is there a possibility you have more than 1 account setup?\n- Does iOS still display the contact, even if creation failed? Maybe it landed in a local address book?\n. Just released 0.4.6 which should fix this issue.\n. Awesome! Sorry this took so long\n. Worry a little. It basically means that those calendar objects are all invalid. It means scheduling won't work on those, and there's a possibility that syncing the calendar that contains those objects will also fail.\nThe best thing you can do is delete the records (hoping you no longer need it). You can identify them in the database because those records in the calendarobjects table have no value for the uid column.\n. The only reason this would work if you attempted a previous upgrade, and that upgrade failed halfway through.\nI'm closing this ticket, because without information about the original failure, there's not really anything sensible we can do about this.\n. Hi @migu , just in case: it wasn't meant as a sort of criticism, and I did appreciate the report. It's just not something I can do something about ;)\n. Hi @spampitr ,\nLocking is indeed no longer a feature. If you upgraded to 0.4.5 and you are accessing the admin, it means that the upgrade must already have been successful. \n. There are changes. If you reached the admin it means the changes have already been applied.\n. Hi @accuraz,\nIn 0.4.5 I took out that feature. I think it's a bit of an usual feature to completely disable the admin automatically, and only allow logging in after manually setting a php source file.\nInstead, the recommended solution is to block access using your webserver configuration. This way you could for example even allow access only from certain IP addresses.\n. When using alternative tcp ports, the port goes after the hostname and not the path.\n. Hi @nickwaring \nCould you share more or less how your directory structure looks like? Do you have a html directory? In there, there should be a dav.php that you need to use instead of cal.php.\n. No feedback received\n. To set up thunderbird sync you need a full path to a calendar url, not a principal url. You can find your own calendar urls by opening dav.php in a browser and browsing to the correct calendar locations. The url will look something like this:\nhttp://server/dav.php/calendars/[username]/[calendar]/\n. awesome =)\n. Hi @enoversum , I would simply not recommend using HHVM. HHVM has not gotten the love and maintenance it once did, and after waiting very long for certain bugs to get fixed, I've given up on it and I'm no longer automatically unittesting it in most sabre/* projects.\nSorry about that, I'm happy to support HHVM if other people take the initiative and create workarounds for and submit patches.\n. Hey @felixfkrull ,\nThe intention is to put everything in config/config.php and write this file automatically by using PHP's var_export. Basically baikal will automatically generate that file when saving.\n. Great work @felixfkrull \n. I'd say this is the main news:\nhttps://evertpot.com/sabredav-eol/. A very common problem is a too old PHP version, but if that's not it, try to get those logs.\n. That function existed in 0.2.7, but not 0.4.5. I'm thinking you're using the old index.php. You can delete that, make sure you use the ones from the html directory instead.\nIf you feel better about it, you can also just do a fresh install of 0.4.5 and simply move your current Specific directory into that installation folder. You end up with a cleaner installation that way.\nClosing this issue, assuming this will fix your problem. If not, comment here.\n. Thank you! Patch is appreciated. In the future I think we'll combine the 2 settings panels, but getting closer to making baikal work the way it did pre-silex is a great help.\n. This is not possible currently. It likely will in the future though.\n. This is not currently planned.\n. Currently all the apis that deal with things like sharing, scheduling and delegation require this. The fact that it shows up in the debugging console is just a side-effect of this.\nWhile I can see that we might expose a 'private sync-only' mode later in the future, there's enough going on today that needs to be tackled first. \n. There's a search/autocomplete feature that clients use. Also the admin user will need to enumerate all users in the future. We could later on add more privileges that control specific things like this, it's just not something I see happening in the near-term.\nIf you're a user on a baikal system, you can find out who else is a user on that system. It's a feature, not a bug.\n. I'm not saying I don't understand the use-case, I'm saying I have limited time and this is not a priority for me.\n. My goal with this issue tracker is to only keep things that are actually tied to something that needs to be done. By closing the ticket I explicitly say, I don't plan on doing this.\nI acknowledge that a lot of people will want certain features from Baikal, that doesn't mean I should keep tickets open for all of them. I think it sends a clearer message if I don't.\nIf the ticket is kept open solely to document that this is a feature, the website is a more appropriate place to document it.\nAside from that, this was a fairly low effort feature request. If OP did a better job explaining motivations rather than jumping to conclusions I would be a lot more receptive.\n. @Globulino the problem with that approach is that the email addresses are still definitely exposed. It's security through obscurity. But if you're happy with that solution, I am too.\n. The likely problem here is that you simply need to wait even longer. This is frustrating, but I guarantee that the upgrade is happening in the background.\nTry set max_execution time to something ridiculous like 1800 (for 30 minutes). It might be enough to get to completion.\nThere is also a manual command-line upgrade possible. It's more obvious stuff is going on there and you're not tied to the browser. If you want, I can give you the instructions.\n. This is a good idea, and worth considering for a future version. We're doing a lot of re-writing so this could maybe be done then as well.\n. Some distros ship a default apache configuration that denies certain HTTP methods such as PROPFIND. Maybe try finding a Limit or LimitExcept clause in your apache config\n. I'm merging this for now because it has some good improvements, but the biggest issue is that the calendars list must not be generated from the database and must use the sabre/dav backends instead. This will give us a massive payout in the future for new features.\n. That is correct, but also an interesting point. I wonder if there's a way to escape the { in twig. Otherwise, we might have to convert those values to something else. We could for example turn it into something like dav.displayname.\n. That error is not something that is normally emitted by baikal or webservers. Can you perhaps share a screenshot or share the real error?\n. I'm closing this ticket because it's been a while since the last comment.\nIf this is indeed still an issue, feel free to comment here so we can continue discussing.\n. I think this is a duplicate of #559 \n. How did you do the upgrade? The upgrade script should create this table. This makes me feel that you maybe didn't follow the upgrade instructions but instead just put your old database in a new installation?\n. Closing this as 'Won't fix' as this is clearly a bug in this very old iOS version. This also sort of answers the other question:\n\nBut why should I buy a new device, if the old one is still fine?\n\nI actually applaud someone keeping old hardware going for that long. Well done, there's too much wastefulness already. Apple is just not good for people such as yourself. Apple stops caring really fast after they stop selling a product-line and basically leave consumers unsupported and insecure.\n. Not meant to be an Apple vs. Android argument. Just an argument against planned obsolescence. \n. Yes, that would be possible, but not really something that I would like to see in this project. We have some workarounds specific to badly-behaving clients, but one requirement to implement that is that there's has to be a large amount of users affected by it. For example, we do some special stuff for Windows Phone, because there's a bug in the current version that everyone sees. The hope is that over time new Windows Phone versions come out that fix that bug, and then eventually we can retire the workaround. We've also retired many apple-specific workarounds in the past and a whole bunch for Windows XP.\nHowever, the plugin system would allow you to implement this yourself. You can hook into a calendarObjectChange event and dynamically make that change in your installation. It would require you to do some digging into sabre/dav though.\n. This will eventually happen. Likely Q3 or Q4 of this year.\n. As far as I know, this is supported. Is there something specific you'd expect? What's not working?\n. Ah that is definitely out of scope for this project. A very interesting idea nonetheless. Would love to see something like this, and would even help someone write this but I can't take it on myself.\n. This setting has been removed, so this is expected behavior. If you want to block access to the admin, you should do this by changing your webserver configuration to block access.\n. Hi @Godi22 ,\nCan you access the php error log? The 500 error indicates that a PHP error happened, and the error log might help with extracting it.\n. The error log indicates that the database is not upgraded. Try performing the upgrade steps again. You really don't want to be stuck on 0.2.7. It's several years old\n. You messed up your installation. PHP is not functioning on your server. What you are seeing is your webserver spitting out php files without parsing them.\n. Install the 'mbstring' extension for php on ubuntu. Surprised that this is not yet the default!\n. WebDAV support in your webserver must be disabled. It's a fair mistake to make, but PHP needs to be responsible for handling WebDAV methods. If you let nginx intercept them, they never arrive in php and sabre/dav.\n. Try it in \"manual\" mode and use /dav.php/ \n. Hi zg. If /dav.php works, but /dav.php/principals/ does not, it might be a problem with your nginx configuration. Woudl you mind sharing the PHP settings?\n. Great to hear!\n. Hey! sorry for not messaging here earlier.\nGenerally the cause for this particular error is as follows:\n1. You upgrade baikal from 0.2.7 to 0.4.6\n2. The database upgrade fails\n3. You try again\n4. The upgrade fails again\nThis error is the error that would appear when trying upgrading again after a failed earlier upgrade. \nSo in order for me to help figure out what went wrong and to fix this bug, I really need the original error. The only way you (@DigiAngel @joschal) can get this information if you go back to your original 0.2.7 backup, attempt the upgrade again and describe the symptoms =)\n. Good to hear!\n. Hi @joschal ,\nIs it possible that you messed up with your previous backup? If you didn't make a backup before the upgrade process you're basically stuck here.\n. Nothing really has changed. The part of the upgrade code that this is hitting is from 0.3.0, which runs because you're upgrading from an older version.\nSo as of right now I don't have an answer. I maintain that the error is actually happining earlier, and the real error you are seeing is a side-effect of running the upgrade again, after a previous failed one.\nHowever, I have a manual upgrade process that you can try. Requires some console skills though.\nsabre/dav ships with a command-line upgraders that provides more feedback. It's shipped with baikal. You'll need to run the following commands:\n./vendor/sabre/dav/bin/migrate20.php\n./vendor/sabre/dav/bin/migrate21.php\n./vendor/sabre/dav/bin/migrate30.php\nYou must run them in order, and please report if one of them failed and with what error.\nWhen you first run the commands, it gives you some information on what arguments it needs. Specifically, you will need to pass it information on how to connect to your database.\nAfter all that you can change a configuration file in the Specific/ directory to tell baikal you are now upgraded.\nLet me know if that works!\n. Note that you can run vendor/bin/sabre-cs-fixer fix src/ to automatically fix all CS problems. No manual work!\n. Hi @saesh ,\n- Are you using mysql or sqlite?\n- How long did you wait to see if the items show up?\n- Could you tell me the value of the synctoken column in the calendars table for the calendar that's not syncing?\n. @saesh the empty synctoken is the bug here. Can you run .schema calendars and send me the output? I fixed this for addressbooks but apparently I missed something for calendars :(\nAfter that you can run:\nupdate calendars set synctoken = 1 where synctoken is null\nThis will temporarily fix syncing for calendars again.\n. Definitely a problem then. We'll need another db migration for those that have a version of sabre/dav that has this issue =(\n. Duplicate of #589 \n. Please ignore earlier comments, this is the full answer:\n1. You can do a database backup and restory\n2. But you must also retain the Specific directory in your baikal installation. This directory holds a number of settings and without this, the upgrade will not succeed.\nThere's more details, but they are described here:\nhttp://sabre.io/baikal/upgrade/\n. Hi, it doesn't seem to be an issue right now.Did you solve this?\n. From this point forward, please remove <IfModule in all the apache configuration you write. It's rarely ever what you want. It just causes things to silently fail.\nBut I don't think that your problem is related to that. Do you have anything in your error logs perhaps? Maybe the session couldn't be started, but i also don't know why that would fail between baikal 0.2.7 and 0.4.x\n. It's also possible that that directory does not exist. Based on the URL I suspect that you are on a shared host, and this is really a support question for them. If the directory doesn't exist, and you can't create it (and make it world-writable), you should contact support.\nHope that works, but if you (or they) get stuck, feel free to post here and I will do my best to help.\n. This plugin is loaded by default\n. The way the uri is configured will completely get ditched in 0.5, so this will no longer be an issue then.\n. Which version of baikal are you running? We've recently fixed some contact-related syncing bugs.\n. Hi @sirnone ,\nCould you try opening the exact url you used for lighting in a browser? It should also pop up the username and password screen. Do you get a correct result?\n@pr3d4t0r dav.php is indeed the correct endpoint now. The other two will be removed.\n. This is all really odd and I wonder if it's caused by some configuration on the server interfering. OPTIONS should usually be pretty \"simple\" to handle.\nAre you able to manually send the options request via the curl command line tool? I would be curious what the full response is. Example:\ncurl -v -X OPTIONS [url]\n. you're missing the url part =)\n. The OPTIONS argument belongs to -X, not -k. \n. There you go, getting a bit further :)\nNext step would be to add --username [youruser]:[yourpassword]. This should at least fully reproduce the same request you originally had.\n. Hi @jonasongithub ,\nThat last request went through perfectly. To me that might suggest that there's a difference between that request and the original request you did via Lightning.\nSo a few questions:\n1. Are you using the same url you used in lightning?\n2. Are you using the same username and password?\n3. Maybe something has changed in the meantime? Could you try setting up lightning again and see if you're getting an identical error as the first time you ran this?\n. In that case I'm completely lost why OPTIONS works from your command-line, but not lightning. I have no idea how to go further from this. The only thing I have left to offer is me actually going into your server and try to see if I can reproduce and/or fix this (which I would be happy to do, just drop me an email).\nGiven that that's the case, I have no other option but to close this until there is more detailed information about why one fails and the other doesn't.\n. Once a calendar is created, you can no longer change which components it contains. However, the only CalDAV client I'm aware of that actually uses this is Evolution. (Maybe KOrganizer as well).\n. Typically with 405 errors it means that your apache configuration has Limit or LimitExcept directives that blocks certain HTTP methods. If you find and fix this configuration, it should start working.\nAs an aside, OS X addressbook only supports 1 addressbook. If you add a second, it will be ignored.\n. I'm all for defense in-depth, but in this particular case I'm not sure if this is such a good idea.\nSetting this to 0600 fixes two attack vectors:\n1. The host (not Baikal, but some other process) is already compromised. Someone has access to the machine through a user that's not the webserver.\n2. It's a shared host, there's no chroot jailing, and there's a different user on the system that can't be trusted.\nThese are legit vectors, but small. The problem is that if we set it to 0600 we prevent people from FTP'ing into their machine and do a backup of their sqlite database. I'd consider that to be slightly worse.\nHowever, nothing is preventing you from setting it to 0600. If that's important to you, do it. You can also set php's umask setting globally, which is probably a good idea if you are worried about this. But I'm uncomfortable to make this the default.\nAnyway, the choice between security and usability is always a tough one and often it means one of the two needs to compromise in favor of the other. In this case I choose usability.\nI'm leaving this ticket open for further discussion. If I'm wrong, convince me!\n. Yea we obviously want this ;)\nA few notes for implementation:\n1. Must be done in a PR that uses the silex-rewrite branch as its basis. This branch is currently incomplete but it doesn't make sense to build new features on code we will eventually drop.\n2. Swiftmailer must be specified and installed as a composer package\n3. Which email provider is used (mail() or swiftmailer) and the smtp settings should be configurable in config/\n. Goal #1 is to make it work with the admin interface, and consistent with the rest of the code. Goal #2 is to also make it work well with docker.\nSince the configuration file is a php file, it is absolutely possible to specify configuration settings from the environment.\n. In the case of docker it should just be something like this:\nphp\nreturn [\n    'mail.plugin' => 'swiftmailer',\n    'mail.relayhost' => $_ENV['BAIKAL_STMP_RELAY']\n];\nBut please focus on the non-docker case, and figure that out later. Any PR submitted should first provide support for smtp ignoring the docker-case please.\n. There's no rush, and I don't know exactly when 0.5 is released. This feature can totally come after though.\n. The entire schema from Baikal is from stock sabre/dav. No changes have been made, making it easy for people to switch between sabre/dav and baikal and reducing the maintenance overhead.\n\nNo foreign keys are used in the schema, is there a reason for this (I guess many columns are actually related, such as the \"principals\" \"uri\" column and the \"principaluri\" columns in other tables)?\n\nthe reason for this is that you should be able to swap out the principals backend for your own store, and still have a functioning calendaring backend. If there were a foreign key, this would be very hard. This way there's less dependencies between the various stores (and also why we're not just using ids to connect a calendar to a principal).\n\nIs there some conscious assumption about the version of SQLite and MySQL used? (And therefore about the functionality that is/is not available?)\n\nJust use a maintained package, it will work. Postgres requires 9.5.\n\nThere seem to be tables that are not used (\"groupmembers\" for example), but are required in the code. Is this for future functionality, or are the schema designed with sabre/dav in mind and not just Baikal?\n\nGroupmembers are used for calendar delegation and can also be used for other kinds of access control delegation.\n. Hi,\nthe error suggest that the database migration actually did not happen. It's important to follow the instructions. It sounds to me like you did a fresh installation with an old database. This way baikal doesn't know it needs to upgrade the DB.\nIt would be best to go to your old backup and follow the upgrade instructions to the letter.\nI'm closing this ticket, but if you're having further problems feel free to comment here.\n@zbigniewcebula the log messages you shared are not errors and perfectly expected. If you're having an issue open a new ticket, this is unrelated.\n. Hey @equaeghe ,\nWhen you open the URL to the asset directly, the 404 that you are getting, is it emitted by sabre/dav or by nginx? If you're not sure, just make a screenshot of the 404 page and share it here. It will be a good indicator for where to look for the source of the issue.\n. The files come from `vendor/sabre/dav/lib/DAV/Browser/Assets'.\nBut this is really weird. I don't understand why this url doesn't work:\nhttps://baikal.example.org/dav.php/?sabreAction=asset&assetName=favicon.ico\nbut this one does:\nhttps://baikal.example.org/dav.php/\nI wonder if it's a botched nginx configuration.\n. Oh awesome, I will fix the docs immediately\n. Hi @herold2k ,\nThe short version to your answer is, if you are on sharing hosting it is probably not possible to lock this down this way. You need to be able to control vhost-level configufration.\nYou might be able to add deny rules via .htaccess, if your shared host allows it. Regardless, if you care about security, you might also want to stop using FTP ;) chmod is not gonna do much for you here.\nI'm closing this ticket, but I would be more than happy to answer follow-up questions. You might want to also consider more general forums where you can ask webserver configuration-related questions.\n. > You say on shared hosting it is not possible to lock Baikal down this way. Is it dangerous to use Baikal on shared hosting then? Would your advice be to not use Baikal on shared hosting? Or is it still 'secure enough'?\n\nWhen it comes to shared hosting, I think a better indicator is that they keep your PHP up to date. If you're running less than the latest version, that would be much more cause for concern. However, a bigger concern with shared hosting is all the people that are also on your server. This is not unique to baikal. \nWould it be better to change the owner (CHOWN) of all (sub-)directories and files in the baikal-directory to solely the PHP-user (wwwrun/www-data)? Will Baikal still run smoothly then?\n\nNo, this would likely be worse because it likely means that other users on your shared host can now modify baikal files. Best to keep everything under your own user name.\n\nAt the moment (after installation without changing anything) in the Baikal-directory all folders have permissions 755 and all files 644. Is that correct, does it make sense? Or should I change something here? If so: what should I change explicitly?\n\nYea, this makes sense to me.\n\nw.r.t. .htaccess: How should a .htaccess look like to make Baikal as secure as possible here?\n\nThe easiest thing to do would be to create a .htaccess file for every folder you want no one to access (this is everything except html/) and in that .htaccess file you put:\ndeny from all\n. Can you try removing the alias statement in your nginx config? I have a feeling it's related to that.\n. the fact that nginx is trying to map /dav.php/principals/ to some local path like /dav.php/principals/index.php definitely tells me that there is something still going on that is non-standard, and not typically found in nginx + PHP configurations.\nPerhaps I can suggest to simply start from your operating system default. I suspect some other nginx configuration is still interfering with this. Never seen this before!\n. Take a look at the server-side log. That log would imlpy there should also have been an error on the server.\n. Hi @tsia ,\nWhile the PR is appreciated, this is not yet something I'm ready to support. It needs a lot more fleshing out if in the future we decide to support file-server features. I much rather find a way for people to support this as a baikal plugin, and us trying harder to create a plugin system.\nThe big issue at the moment is that I don't have a ton of time, and we're in the midst of a rewrite which has been taking longer than I had hoped.\nI don't see myself building out and maintaining another large feature, especially given that it's built in the 'old' framework. I'm very sorry for that.\n. The best thing you can do is do a full download of the calendar, and see if there's an error appearing. When you open the calendar url in firefox, and add ?export to the end of the url you should get one big ics file.\nThat file can be validated. One tool for this is shipped with baikal (in vendor/bin/vobject). If that doesn't catch it, some other validator might. Let me know!. I don't really know at this point then. One option might be to contact the lightning bug tracker and see if you can find anything through there... . ?export mainly is processed by sabre/vobject and might clean up a few things because all files need to be parsed and re-generated. Going through the normal caldav process doesn't do this. It mainly just sends all the objects as they are stored to the client.\nIf export fully works for you, and the regular caldav route does not, I might have a workaround for you though. \n\nMake a backup (this is always step 1, I don't want to be responsible for data-loss ;))\nDo an export\nEmpty or remove your existing calendars\nCreate new calendars and use the export file to do an import again. I believe lightning can do this with \"File, Open\" and then selecting your .ics. file.\n\nNote that for 2000 events, this process might take a long time. Do this at home, where your computer is plugged in and the internet is uninterrupted.. Hi @pguth ,\nIt's a bit hard to tell without more information. If you received a 200 OK then this probably means there is something interesting in the response body that better describes a potential problem. You are right though that this should respond with a 207.\nIf you can get the full HTTP response from sabre/dav I can help you further, otherwise this will be hard.\n. To know what could be the cause of this, I need to see the HTTP response that gave you a 500 error. In the response body there would be a more detailed error.\n. To further debug this, I really need a bit more debugging information. In particular, the error that the server is really returning.\nNormally when the server emits an error, it will set both a status code and in the response body there will be a small XML document with some details about the error.\nIf you can get access to that info: great. If not, try downloading Charles HTTP Proxy (trial is free), start it and restart your client.\nWhen the client is making requests they should now be logged in charles. Either find the HTTP response that returns the error and send me the response body, or if you are not sure how to do that, save the session and email it to me personally.\nLet me know!\n. That's great =) I think the reason emClient is slow is because it uses vCard 4, and if your database contains mostly vCard 3 cards, we need to do conversions when emClient requests the cards, one by one.\nAs you may have found already, there's two things that would help a great deal speeding this up:\n\nPHP 7.\nMySQL\n\nAnyway, I'm closing this ticket because the original poster is MIA.. Maybe not the permanent state, but the original site got outdated and this made it possible for me to manage. I imagine with more time in the future a marketing site could get another look. Tnx!\n. Hi @philions ,\nCan you describe the symptoms? Are you saying that iOS prevents you from using the chinese keyboard? It's not really clear what the exact problem is. Regardless 0.2.7 is not supported and we won't accept bug reports about it.\n. In that case it's definitely an iOS bug. We don't do anything like that that would influence the client. Maybe report an apple bug?\n. Hi @khorben , I appreciate the patch, but there's a number of things wrong with it.\nI want to wait with upgrading to 3.2 until after we did our silex rewrite. One of the goals is that Baikal no longer directly interacts with the DB but instead relies on sabre/dav APIs to manipulate data. This ensures future compatibility.\nif you want to help move this project forwards, help with #558 / #575 . Once the silex rewrite is done, the upgrade to 3.2 should be relatively pain-free.\n. To further debug this, I really need a bit more debugging information. In particular, the error that the server is really returning.\nNormally when the server emits an error, it will set both a status code and in the response body there will be a small XML document with some details about the error.\nIf you can get access to that info: great. If not, try downloading Charles HTTP Proxy (trial is free), start it and restart your client.\nWhen the client is making requests they should now be logged in charles. Either find the HTTP response that returns the error and send me the response body, or if you are not sure how to do that, save the session and email it to me personally.\nLet me know!\n. You can hook into an exception event and log the information if you'd like. Documentation is here: http://sabre.io/dav/writing-plugins/\n. Hi @modir ,\nVARCHAR instead of VARBINARY doesn't really make a difference. The latter takes up less space on a harddisk, which is a small benefit, so it wasn't worth adding to the upgrader.\nThe 418 I'm a Teapot response is not an error. It's not an oddity in the protocol, but an excepted response.\nThe file where new plugins would be added, would be Baikal/DAV/Server.php, but again, I'm not providing support here. If you want my help, you'll need charles HTTP proxy.\nI'm closing this ticket, since you refuse to take the neccesary steps to help me get the correct information. If you do find it on your own, and there is a real bug, I would still like to know though.\n. This is great, thank you!!! :heart: \n. Ah I wish you separated the auth/session stuff from calendar/addressbook creation. One of my goals is actually to migrate the Baikal admin user to the sabre/dav auth system, so a baikal Admin is a sabre/dav admin and in the future other baikal users can use the baikal interface.\nThis might be ok for an intermediate solution though. Maybe I can postpone that auth migration to a later (0.6 or 0.7) version. Will take me a bit to fully review, but thanks as always!\n. Hey @felixfkrull , I can tell you more or less what my plan was:\nStep 1 for me was to move the baikal admin user into the sabre/dav database. Then I would still use normal silex/session based authentication, but I would simply call the internal sabre/dav API to check if the username and password is correct (so no http basic auth).\nAt this point my plan was also to do a hard check and only let the 'admin' user log in.\nStep 2 (maybe baikal 0.6 or 0.7) is to move more of the new baikal services to use access-control enabled sabre/dav api's. We're calling sabre/dav backend classes/tree classes now directly, but instead I would want to construct fake http requests so sabre/dav can do all internal access checking. This also means I can now let any user log in and manage their own calendars, because other user's calendars would be inaccessible out of the box.\nStep 3 (much later) would be to construct real HTTP requests to a real sabre/dav server. This mean that the sabre/dav server and baikal server don't have to share a code-base and you could hyptothetically host sabre/dav and baikal on completely different machines.\nAt this point it would also be possible for Baikal to manage other caldav/cardav servers that aren't sabredav.\nFor now, don't worry about spitting up this PR. I just need a bit more time to go over it. I've been preparing conference presentations for the past few weeks. Conference is this weekend so after that some time will free up again.\n. Hi @Crazyphil ,\nThe work is appreciated, but unfortunately I can't really accept it, as it's taking an approach to this feature that doesn't really match the direction I want to take Baikal in, for a number of reasons:\n1. We're doing an almost full rewrite of Biakal in Silex in #621. Simplifying the code a great deal.\n2. An LDAP auth backend should really be written for the sabre/dav project, not here. An IMAP backend has been contributed recently there too.\n3. Similarly, I think approach to provisioning here is not great. I want to automatically generate principals, calendars and addressbooks when a user signs on for the first time, but it shouldn't involve the 'users' table, and this feature is also something I'd want in sabre/dav, not baikal.\nIf you're willing to take on some of these things, it would definitely be welcome and appreciated. If not, I do think that all of this stuff will one day come. \n. Hi @dopefishh ,\nsince you already have a part of the access logs, are you able to share more? The response to the PROPFIND and OPTIONS are expected.\n. Is that the same amount of responses you're getting when you are setting up the client from scratch? Or is this only after it was already set up?\nThe odd thing about those long entries is that there's far too little. I'd expect a lot more :/\n. interesting! How many different users do you have in your baikal?\n. This is a known problem. Server-sent invitations are planned for addition in the next Baikal version\n. Hi @ffstone ,\nWe simply don't support client-sent invitations at the moment, and I have no plans to add support back for that.\n. Hi @ffstone,\nI actually took another look at the actual error. The error itself is actually likely caused because there is a corrupted iCalendar object in your database. The request itself is meant to see if the attendees are busy or not, and to do that it will read the attendees calendars.\nThis indicates that while it's doing that reading, it came across a broken iCalendar, causing the operation to fail.\nTo find this, if you are able to, I think the most likely is that there's some object in the calendarobjects table that doesn't end with END:VCALENDAR. They all should, but this error indicates that maybe there's one that doesn't. This last paragraph is a hunch, it could also be a missing END:VEVENT or something else.\n. Hi @ffstone ,\nIf you're getting the same error a completely empty calendar then there's definitely something odd going on. Are you getting the exact same HTTP/1.1 500 error or a different, but similar error?. I have a bunch of problems with this PR. The biggest is that it's a bit incomplete. I don't think it makes sense to enable this, without also enabling a provisioning system. Right now enabling this means that users still have to be created in Baikal. Baikal will still ask for a password. This is all a bit odd to me.\nIt's also inaccurate to call it http authentication, because Digest and Basic are both also HTTP authentication.\nSo for now I don't want to integrate this, unless:\n- A provisioning system is in place.\n- This targets the silex-rewrite branch.\n- Thought has gone into what happens to existing users if the authentication system is switched, and how the interface changes.\n. Two factor auth is a good idea. I'm keeping this here as a future idea, but it's hard to make any promises for when I get around to it.\nI agree with unittaker that this doesn't do much for bruteforce. \n. Yup I'm aware of Google Authenticator ;) use it myself quite a bit.. Duplicate of #116 . Good idea. What I don't like about this setting is that it's likely to be a false positive. In many real-world situations we can't detect whether SSL is used because it's done by a local reverse proxy. This is true for cloudfront and others. This means that for many security conscious that have SSL in place actually need the setting to be off for it to work.\nI think the right answer is to indeed listen to @florianl and find a way to solve it on the webserver level. If your shared host doesn't support it, there's many virtual private hosters these days where you do have full control over the environment. How security conscious can you really be if you can't control your security settings and you share one machine with others?. Hey! You're not wrong. There's a pretty low amount of sql indexes in the sqlite files. MySQL is a lot better in that regard. This is definitely worth fixing.. This issue was moved to fruux/sabre-dav#918. Hi! I don't think this is still an issue on the silex-rewrite branch. This branch is the future baikal 0.5 version. I believed we fixed the major issues with this. Thanks for the contribution though.. Hi! It's not rely clear what your question is, but regardless Baikal 0.2.7 is no longer supported. Hi @bisento ,\nDOing a new installation with old data is not hard:\n\nUnzip the new version\nOverwrite the Specific/ directory from your old version.\n\nAs long as you do that, baikal will pick up the old data and initiate the upgrade.. Hi @philions , I'm fairly sure that Cardav-Sync only allows you to sync one address book. If you don't see it on other servers, it probably just means they only have 1 addressbook (which is pretty common).\nI'd suggest taking it up with the maintainers of Cardav-Sync!. Hi @kurt89523 ,\n\nYes, changing things like that is fine.\nNo, we haven't really planned this feature. File storage can be pretty complicated. Maybe later in the future, if there's more time.. Hi @RMHogervorst ,\n\nI agree that the documentation is a bit sparse. Could definitely use some help here. I'll keep it open in case someone wants to pick this up.. sabre/dav (and thus baikal) supports vCard 3.0 and 4.0 and stores the cards as it received them.\nIf a vCard 4 client access the server, it will return only 4.0 cards and convert the 3.0 cards to 4.0 on the fly. It will do the same for vCard 3 clients (but convert from 4 to 3 if needed).\n. Hi @wsdefghjk-23124 ,\nDo you see any server-side error messages? The client is doing a fairly simply operation, and there's no way that that operation should take as long as it does for you (over 30 seconds).\nThis makes me feel that maybe there's something misconfigured on your server.. Hi @wsdefghjk-23124 ,\nA time difference should not make a real difference for CalDAV. The current wall time is never really used for anything.\nReally ideally you'd increase the apache log level and see from there. I'm not entirely certain where you can put error_log statements. What we need to know really is why the connection is broken.. Hi @theelectricsoul ,\nThe most likely reason for this problem is that Thunderbird can only remember 1 username/password set for a domainname. So if you did a fresh installation and your username and/or password is now different, thunderbird might just use the old/wrong one.\nThe best thing you can do is remove all saved passwords and go from there, but keep in mind that you can't have both your new and old installation on the same domainname if you want both to work at the same time with Thunderbird.\nClosing this as I think it will answer your question, but if it doesn't just let me know.. Hi @beli3ver , is this still an issue? I also noticed this question: #646 which is also your issue.. Do you have a fastcgi or php log? What does it say? (104: Connection reset by peer) while reading upstream, tells me that the fastcgi might be crashing, but I can't be certain.. I don't think I can answer this. I do think that it's a problem with your SSL configuration. Are you able to open the url with plain safari? Maybe take a look at this tool to see if your SSL is configured correctly:\nhttps://www.ssllabs.com/ssltest/. For the OP, I'm getting this error on the domain you gave us:\ndav.mailgermania.de uses an invalid security certificate. The certificate is only valid for mail.mailgermania.de\nI think that error is pretty clear ;) Closing this ticket for that reason. A cross-migration between databases is not supported. I think it should be possible to find tools that help you do the migration (as the schema between sqlite and mysql should be identical), but it's not something we want to officially support as we don't know the quality of those tools.\nThat error (no such column: synctoken) definitely indicates something went really wrong in this process, as the much older database schema did not have that column, but never versions do. . That's good to hear. I'm glad that worked. It might actually be the better / more reliable way to migrate.. Hi!\nI don't really know what could be wrong in this case. I don't think there's a reason for the OPTIONS request to fail. What happens if you open the relevant urls in a browser?. The intention definitely is to change and improve this process a bit. Are there still outstanding critical bugs here, or was there a misunderstanding? The thread is a bit hard to follow.. That version of baikal does not have an export function. It was added much later. To use it, upgrade first.. Excellent!. First, try opening that same url in a browser. What do you see?On Jan 8, 2017 1:18 PM, dm85d notifications@github.com wrote:Install baikal 4.6\nThunderbird 45.5.1 + Light 4.7.4\nhttps://mx.dm.ru/baikal/cal.php/calendars/public/default\n\u041a\u043e\u0434 \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u044f: 2147746065, \u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0430\u043d.\nServer Replied with 500\nPrompt how to diagnose?\n\u2014You are receiving this because you are subscribed to this thread.Reply to this email directly, view it on GitHub, or mute the thread.. Hi Robbie,\nYou should use the sync token, but that's not why this is failing. You are doing the request on a principal, not a calendar . Glad that helped! . Indeed there would not really be a security difference. I don't see the point of this.. Email invitations will be enabled in the next release of baikal. It's coming. I'll keep this open as a feature request as I can't find the original ticket.. I'd like both :) this one is a bit quicker than also adding swiftmailer . This is a good idea. We have some support for it in sabre/dav, but not yet in baikal. The important thing is that we need to have 'provisioning support' first. This means that for new users logging in, we need to automatically do a bit of work to make sure that the users are setup correctly. One that part is implemented, adding something like imap-based auth should be relatively easy.. @SeLLeRoNe agreed. that's exactly what's need to happen, along with creation of default calendars/addressbooks.. Than you!. LGTM. Note that these will be removed in a future version. Just dav.php is the one you want to use.. No, this is not possible. Every .vcf must only have 1 contact in it.. Thanks. These are covered in composer.json, but it makes sense to add them to sabre.io too.. Nah not your fault at all. We should document it ;). I'm not sure, and I don't have a lot of experience with this. I heard this mentioned before though, so I'm interested.\nCan you give me some examples of other well-known applications that support this? It would be good to know how others do this so I have something to copy.. Ah sorry I meant to be more specific. Do you know of any PHP applications that have good support for this? I just want to see how they approached this. I really just want to look at something that is pretty close to Baikal that I can kind of use as a template for this.\n. Thanks @staabm , that's helpful. @chris42 I understand but it's still nice to look at other implementations.. How did you install Baikal?. I see. The problem is that you're using an outdated file to access baikal. The upgrade process is a bit sloppy at the moment, and I need to fix it. A better way to upgrade is to take the following steps:\n\nDo a clean installation of Baikal\nCopy your old Specific folder from to the new Baikal directory.\nOpen the admin interface.\n\nThis works much better because you don't end up with a lot of 'leftover' files that don't do anything.. Will be fixed in 0.5.0. Closing this issue at it seems like it is answered. If there's still problems, don't hesitate commenting here.. Hi @gaedol , \nThat sounds like bad news. Can you try the upgrade again? The upgrade should not successfully complete if it can't create propertystorage. It's basically part of the upgrade.. This is a good idea. No client I know of will support this out of the box.. No, this is not possible with baikal at the moment. We might add something like this in the future, but no client I'm aware of would be 'aware' that there's actually multiple calendars contained within a single file.. @chrisdecker1201 is right, although the fix is specifically for windows.If you're not on windows, try to find the correct way for your operating system to install this package. . https://evertpot.com/sabredav-maintenance-update/. What PHP version is this?\n. The default transport (local delivery) works just fine.. There's a lot of assumptions in both your original message and this new comment, which frankly I find a bit rude. I don't know what the 'boundary' of groupware and non-groupware is, but scheduling within teams is a pretty powerful feature and something I'd definitely not remove. Features like freebusy also rely on this, and is also something that was requested a lot by users and well-loved. . Hi @Yogui79 ,\nGive cardbook a shot: https://addons.mozilla.org/en-US/thunderbird/addon/cardbook/\nI think it's maintained a bit better and seems to be more stable.\nEvert. Newer sabre/vobject versions (the lib that parses icalendar) have become more strict in terms of what kind of data they accept. In the past it ignored a lot of problems that it shouldn't have.\nThe issue in this case is that you have a broken iCalendar object in your database. vobject tries to parse it to expand it, but can't because the object is invalid. If you can find out in your db which the broken iCalendar object might be, deleting it will solve this problem. It's not a very easy solution, I know.... I am closing this ticket. We might pick this up again once we have a clearer roadmap.\n. afaik PHP 5.3.2 was a very bad release. Many projects require specifically PHP 5.3.3 and up.\n. This issue was moved to fruux/Baikal2#18\n. I personally have to plans to add support for this, and I don't think I should re-open a ticket for that reason.. No plans, sorry for the typo. No further feedback received, so I'm closing this. If you're still having an issue just comment here so we can discuss.\n. This issue was moved to fruux/Baikal2#17\n. Glad to see this merged! :) Did you register baikal at packagist.org yet?\n. To create a stable version, all you need to do is tag your project in github. It's based on semver (http://semver.org/)\nSo anything before 1.0.0 will still be treated as dev. \nI noticed you were off the radar for a little bit, hope everything is ok again!\n. I'm closing this ticket as it's quite old. If you're still having issues with this just comment here so we can look at this again.\n. I would not merge this PR. This only works for a limited number of webservers.\n. Thanks for looking into this!\n. This ticket is a bit old. Sorry for the slow response so far :/\nI'm closing this to clean out old tickets, but if this is still an issue for you (and still important to you) just comment here so we can reopen.\n. This ticket is a bit old. Sorry for the slow response so far :/\nI'm closing this to clean out old tickets, but if this is still an issue for you (and still important to you) just comment here so we can reopen.\n. No further feedback received, so I'm closing this. If you're still having an issue just comment here so we can discuss.\n. Different schemes should just work but you absolutely must have the same path-prefix on both your proxy and the origin server. If you are proxying a path to a different internal sub-path all the protocols will break.\nI'm closing this ticket for now though as it's quite old. If you're still having issues with this just comment here so I can reopen it.\n. This ticket is a bit old. Sorry for the slow response so far :/\nI'm closing this to clean out old tickets, but if this is still an issue for you (and still important to you) just comment here so we can reopen.\n. I'm closing this ticket as it's quite old. If you're still having issues with this just comment here so we can look at this again.\n. This ticket is a bit old. Sorry for the slow response so far :/\nI'm closing this to clean out old tickets, but if this is still an issue for you (and still important to you) just comment here so we can reopen.\n. Baikal does not manage the start of the week. This is a feature of your client software. \n. I'm closing this ticket as it's quite old. If you're still having issues with this just comment here so we can look at this again.\n. If you're interested, open a new ticket in the sabre/dav project. It needs to land there first, and then it's relatively easy to get it back into Baikal.\n. Here's the newly created ticket:\nhttps://github.com/fruux/sabre-dav/issues/804\n+1 it to show your interest =) Helps me too \n. Closing this ticket as it's quite old. We might re-engineer some of this stuff in the future, but it's not really need to keep the ticket open for it. \n. Many carddav applications have a backup & restore feature that would make this quite easy.\nBit harder on most smartphones though\n. I'm not speaking for the project owner, so whether or not a feature is unwanted or missing is entirely up to him. I just wanted to provide a workaround.\n. GPG is free\n. This issue was moved to fruux/Baikal2#42\n. Reopening this ticket here. Future releases will probably be done using Github Releases, which means that they are behind HTTPS. \n. Downloadables are now available here : https://github.com/fruux/Baikal/releases\n.  http://ca3.php.net/var_export\n. Since this ticket is quite old I will close it. If you're still having issues just comment here and we can reopen this.\n. why add a dependency if it's not used?\n. Hoping this is not spammy: there's a lot of overlap in http://groups.google.com/group/sabredav-discuss\nFeel free to drop in and ask questions.\n. Pushing this off till a later release.\n. Baikal actually hasn't seen a release in that long. I'm working hard towards getting all the most critical issues out of the way and out the door. I will most likely fix this in a release immediately after that one. It's hard to balance things because there's a lot of 'high priority' stuff, and this one (to me) will be a bit harder because I'm not 100% familiar with the source yet.\nIf you're willing to lend a hand with this task, it would be very welcome though!\n. Good idea. I'm 100% for adding these in the release after 0.3.x though\n. Sending invitations by email using the imip handler is a feature that only exists as a workaround for an iCal bug, and only iCal can ever trigger sending of invitation emails.\nIn the upcoming sabredav 2.1 release we added full scheduling support, which will work for every client. \n. This issue was moved to fruux/Baikal2#41\n. Read-only proxy is supported by baikal since a little while, so that should work. You just need a client that supports setting it up, such as apple calendar.\n. This issue was moved to fruux/Baikal2#40\n. This issue was moved to fruux/Baikal2#39\n. I'm closing this ticket as it's quite old. If you do still have issues just comment here and I will reopen. Sorry for not having a response earlier.\n. @derMart development of this branch has stopped and we've gone back (for the moment) to just an admin interface. If you're looking for a web interface, you might want to give AgenDAV a shot, which supports Baikal\n. Closing this as the issue is quite broad. Better documentation will happen though.\n. This issue was moved to fruux/Baikal2#38\n. There's something really really wrong with this pull request.\n. This pull request is completely broken :/\n. Baikal doesn't \"care\" what size your photos are in, as long as the entire contact does not exceed 1MB. If it's bigger than that, we do throw an error. There are no plans to increase this limit currently.\n. I'm closing this ticket as it's quite old and I assume you moved on or solved your problem. If not, comment here and I will reopen it.\n. Duplicate of #389 \n. Looks like a misconfigured server. For some reason it's trying to redirect the request, when it definitely shouldn't.\n. Well it looks like a MKCALENDAR request triggers a redirect, this is not something sabredav/baikal does. It must be a server issue.\nSo if you're unable to change the server's configuration, you are out of luck. \n. Whoops. Messed up two different issues. This is not related to MKCALENDAR.\nRegardless, the 302 should not happen in this particular case. There's something going on the server that's performing an incorrect redirect.\nIf you refuse to believe, try setting up a local server and test it from there. If you get an identical issue, there's a reasonable chance there's some bug in baikal and/or sabredav. If not, it's obviously a server-specific issue.\n. This issue was moved to fruux/Baikal2#36\n. This issue was moved to fruux/Baikal2#35\n. That script doesn't do a good job, it messed up recurrences so events can disappear. Never insert in the database directly.\n. This issue was moved to fruux/Baikal2#34\n. I don't think you selected \"CalDAV\" but you selected \"iCalendar\" when setting up the calendar.\n. This can't really be a baikal problem. Baikal doesn't really care what timezone events are in. This is all handled by clients. I'd be happy to help investigate which client is causing the issue (if this is still an issue), but then the best action would be to report the bug at the relevant project.\n. @Poorchop , it would over ever affect dates and times that are actually displayed in the admin interface. The DAV server does not use it.\n. I'd really like to rewrite the frontend using slim php. I feel that this will be a better foundation to rapidly add new features. So I'm treating this a bit like a feature request, rather than something to be merged.\nI agree that  is a great idea though. It looks like it actually has decent support now =)\n. This issue was moved to fruux/Baikal2#33\n. This issue was moved to fruux/Baikal2#32\n. This issue was moved to fruux/Baikal2#31\n. WebDAV publishing is currently not supported in Baikal. \n. This issue was moved to fruux/Baikal2#30\n. Sharing in baikal 0.x will land when this PR lands: https://github.com/fruux/sabre-dav/pull/696\n. This issue was moved to fruux/Baikal2#29\n. This issue was moved to fruux/Baikal2#28\n. This is quite an old ticket, so I'm closing it. If you do still have an issue just comment here and we can reopen.\n. This issue was moved to fruux/Baikal2#27\n. This issue was moved to fruux/Baikal2#26\n. Gonna take a look and see if this is indeed fixed.\n. This is currently not fixed, but I am pushing this off to the version after 0.3.\n. I'm actually removing the ability to change database settings altogether from the admin interface. It won't make sense in the future, because the admin interface will need a database to function. Instead I'll make people change the configuration file manually. This is on track for 0.5\n. I wish Persona wasn't closing down. The first non-terrible solution to this problem. \n. I am closing this ticket though. Something like this might eventually come back on the roadmap, but unsure when.\n. I saw a fix for this in the current master branch\n. This is currently not planned. I'm also a bit out of my depth here. This could be better resubmitted as a pull request.\n. I think we might change the plan a bit regarding version 2.0 of baikal. Possibly a different starting point for at least the backend code. We do appreciate the PR, and I'm sorry this was not responded to earlier.\nThe frontend code will live on, but we're not sure yet what to do with the baikal2 backend code.\n. Since this ticket is quite old, I'm closing it for now. If you're still having issues comment here and we can reopen.\n. This ticket is a bit old. Sorry for the slow response so far :/\nI'm closing this to clean out old tickets, but if this is still an issue for you (and still important to you) just comment here so we can reopen.\n. Not a bad idea for a future release, but I'm still closing this ticket. We got a few bigger fish to fry =)\n. The OS X stuff is quite broken in Yosimite. The best I can recommend is a re-install. You really want to dump all your calendar/contacts profiles and make sure that all related entries are removed from the keychain. If it still fails after that, come back and reopen this ticket\n. Are you getting an error anywhere?\n. Did you test this with a baikal 0.2.7 or 2.0-alpha?\n. Gotcha, thanks\n. This will land in baikal once it's submitted as a fully functional patch in sabre/dav.\nThe reason it's not happening right now is because the work needs to be actually done for it, and we don't get paid for this. The best thing to get anything done is to either do it yourself, or pay for the work. If neither of those are an option you have to wait until we get around building it, and this is not a feature that's currently scheduled. \n. I opened up a ticket for it here:\nhttps://github.com/fruux/sabre-dav/issues/838\nIf you're willing to sponsor it you can post a bounty here: https://www.bountysource.com/issues/34401397-ldap-authentication-backend?utm_campaign=plugin&utm_content=tracker%2F294006&utm_medium=issues&utm_source=github\n. This is something that's changing in baikal2.\n. You need to specify zulu time in the time-range query:\n<C:time-range  start=\"20150111T140000\" end=\"20150111T145959\"/>\nneeds to be:\n<C:time-range  start=\"20150111T140000Z\" end=\"20150111T145959Z\"/>\nThe first shouldn't actually be supported, but it's likely interpreted as UTC time. This makes sense for your event in the Europe/Paris timezone, as it's 1 or 2 hours behind UTC.\n. Not a bad idea for Baikal2. \n. This issue was moved to fruux/Baikal2#25\n. This issue was moved to fruux/Baikal2#24\n. Closing this ticket due to it's old age. If you're still having issues, feel free to reopen. I'm tempted to say we simply don't support all-inkl. Lots of people have issues with those host, so it might be better to look for something else.\n. Correct! It's a simply md5 hash currently.\n. Honestly i think it's important to try to not automatically detect anything if you have more complex needs.\nimho it's better to find a way to hardcode your exact paths. None of these variables are universally reliable.\nMy understanding is that you're looking for a way to support the idea that the proxy base url is different than the origin url. To properly support this, it's not enough to just set the relevant $_SERVER variables. Every XML response for example would have incorrect urls.\n. Must-have for next release =)\n. This is not a planned feature. It makes sense, but really this is something that you will have to custom develop.\n. That looks like a very complete configuration. I'll definitely add this to the site\n. This issue was moved to fruux/Baikal2#23\n. This issue was moved to fruux/Baikal2#22\n. The next version of baikal will require PHP 5.5. If you run outdated software, you are stuck running outdated software on top of that ;)\n. Keeping this ticket open because the minimum baikal2 php version does need to be set.\n. Yea you are totally right. I'll address this as soon as I've talked to @netgusto about where to host the baikal2 source.\n. This issue was moved to fruux/Baikal2#21\n. If you are comfortable with PHP development, you can intercept sabre/dav events. There is a specific calendarObjectChange event that basically has what you need. If you still need this and want to try this, I can point you in the right direction.\n. I don't think this is appropriate as a general purpose feature just yet, so yea it would really be me telling you where to hack the source you can do it on your own installation. Not ideal maybe :/\n. Awesome, just let me know =) I'll close the ticket for now, but comment here if you need more info.\n. lighttpd is a pretty broken and unmaintaned http server. Would you be able to switch to nginx instead? We also know a bit more about nginx so any issues you have there might be easier for us to troubleshoot.\nSince this ticket a bit old I'm closing it, because you might have moved on. If you still need help with this just comment here so we can reopen.\n. Well that's great to hear. Surprising that rewriting works, normally you really need redirects for these.\n. This issue was moved to fruux/Baikal2#44\n. No further feedback given\n. When Baikal 2 is released, there will be an upgrade path. At the moment there isn't.\n. This issue was moved to fruux/Baikal2#20\n. This issue was moved to fruux/Baikal2#16\n. Yes, once baikal 2 is released there will be an upgrade path.\n. Installing Baikal with full permissions to the Specific directory is required. So the reason this is happening is due to you probably making your own customizations in terms of permissions. \nIt's fine if you want to do this, but because it's a non-standard case I think it's fine for us to emit a developer-friendly but maybe not user-friendly exception for this.\n. This issue was moved to fruux/Baikal2#15\n. https://www.google.com/maps/place/Lake+Baikal,+Irkutsk+Oblast,+Russia,+666137/@53.6961404,106.8394669,7z/data=!3m1!4b1!4m2!3m1!1s0x5dab7dedcf8dd873:0xf2489412c5853349\n. Could you reformat your xml samples? I can't see many of the important details.\n. That's odd. I know the blackberry client tried to fetch events before by specifying a timerange that starts and ends at the exact same time, but this isn't that.\nAre you certain that you have events that fall in that time-range? For these types of requests there's extensive unittests. If you do have events in that time-range, could you share one or two?\n. Use triple backticks to mark a block as code.\nIf you are able to, the best way to send an iCalendar event that should overlap with the time-range is to look in the database.\n. The CREATED field is not, and should not be taken into consideration for that query. The rules around what is considered are extremely specific.\nSo this doesn't sound like a bug to me.\n. @DigiAngel the date range applies to the actual moment the event is happening. This is based on DTSTART and DTEND (or DURATION).\nIn the case of recurring events, you need to be looking at RRULE. But RRULE won't have a specific date and time, it just has some information about the recurrence rules (such as 'weekly').\n. A few questions:\nHow did you add the iCalendar objects to the database? Did you do it manually, with curl, or a specific client?\nCould you share the entire request and response for sabre/dav for this. I noticed for example that you didn't include a Depth: 1 header, which would be required for this type of request.\n. Good to know. The Depth: 1 header is a HTTP header for the REPORT request.\n. Alright in that case I would want to ask (and sorry for the repetition)\n1. The full request as it's sent to the server.\n2. The full response from the server \n3. 1 example of an iCalendar object that is in the 'shared' calendar that should have been returned.\n4. Exact version of baikal you are running.\nAnd keep an eye out for formatting, the correct way to do this is to start your data with 3 backticks and end it as well.. so not per line, but for the entire block. This is not my repository so I can't format it for you and I do want to see the exact details.\nTo get 1 and 2, you could just specify the -v option.\nBased on that exact information I will be able to write a unittest to see if I can confirm the problem locally. If I can, I can write a fix, if not... then I have no idea what's wrong ;)\n. Feel free to upload them somewhere and link back here =)\n. Hi!\nYou are amazing, thanks for gathering all that. The only problem is that the iCalendar object is partially cut off... Not sure if I need anything above that line, so I will try it out first without that.\n. Hi @DigiAngel \nI just wrote a unittest replicating exactly your situation. I wrote it for the sabre/dav 1.8 branch here:\nhttps://github.com/fruux/sabre-dav/commit/6a7b4ad4433faca5a5dae754f8d0828c9da59dd9\nThe test had no issues. After downgrading to 1.8.7 (baikal uses a version more than 2 years old), the problem still didn't appear.\nRight now I have no idea why you have this issue and I don't. So one last question: which PHP version are you running?\nIf you're on a PHP version with a date-time related bug, this may explain it. If that doesn't explain it either then the last resort is giving me credentials to a server that has the problem, so I can try to replicate it myself.\n. Never mind, you are running PHP 5.5.9, which is quite recent and I don't suspect there's any issues with that. I know early PHP 5.3 versions had issues.\nSo then I would indeed ask: could you give me access to the server. I would like to step through it and test it myself :S \n. Got your message. Just replied\n. @check0104 :\nIf I change the caldav-base uri in the system settings to PROJECT_BASEURI . \"groupdav/cal.php/\", I get the following error messag, whenever I try to load https://ip/baikal/cal.php in my webbrowser\nDon't do this =) If you change the base uri, you also need to actually access the server using that uri. I would suggest just keeping the default.\n@fberke \nYou absolutely MUST turn off this:\ndav_methods     PUT DELETE MKCOL COPY MOVE;\ndav_ext_methods PROPFIND OPTIONS;\nWhere did you even get that? If it's in our documentation somewhere we need to get rid of it. Turning on those settings with cause nginx to handle WebDAV methods and that's not what you want. Baikal itself is responsible for handling those methods and this setting will just cause nginx to intercept it and send responses for it instead.\n@spidernik84 if you're still experiencing issues, please open a new ticket with a lot more information (baikal version, nginx config, which client you are using).\nSince this ticket is a bit old I'm closing it, but if there are further issues/comments just comment here and I will reopen.\n. @atrioom nginx's DAV module is absolutely not needed and should be disabled.\n. Might be interesting in the future. The main issue will still be that you still need a username and password combo to setup caldav/carddav clients, but this could work for the web interface.\nClosing this ticket though, as we'll figure out later if this is something we want to put on the roadmap.\n. This is simply not supported by thunderbird. The only option is to use multiple subdomains and use 1 subdomain for each username/password pair.\n. Duplicate of #397 \n. The problem you are having and the actual xml error pasted there are unrelated. The xml error is 100% expected when you try to open the URL in a browser. If the so-called 'browser plugin' was loaded by default by baikal, it would not happen... but it's not a problem either.\n. You might need these rewrite rules to make this work:\nRewriteEngine On\nRewriteRule /.well-known/carddav /card.php [R,L]\nRewriteRule /.well-known/caldav /cal.php [R,L]\n. No further feedback received, so I'm closing this. If you're still having an issue just comment here so we can discuss further.\n. This issue was moved to fruux/Baikal2#13\n. This issue was moved to fruux/Baikal2#14\n. This should be solved once we update to sabre/dav 3.1. This ticket duplicates #228 \n. Wrong ticket, i meant #388\n. No response received in a while. Let me know if this is still an issue, in which case we can reopen this.\n. This issue was moved to fruux/Baikal2#12\n. Sorry for the late response. We can recommend this app for android:\nhttps://play.google.com/store/apps/details?id=org.dmfs.caldav.lib&hl=en\n- On iOS you don't need any apps, it's supported natively by the OS.\n- Only the latest iOS is supported. iOS6 is too old.\n- Z-push is a completely different system, unrelated to baikal.\nLet me know if that answers your questions. If not, we can reopen this ticket.\n. Where are you seeing null null null null exactly. Is this the web interface?\n. Alright, lets close it. It if pops up again I'm sure we'll see a new bug report. Thanks for responding =)\n. This issue was moved to fruux/Baikal2#11\n. This issue was moved to fruux/Baikal2#10\n. Postgres is currently not supported. It might be in the future though.\n. This tells me that there is a database error. Are you still having this issue?\n. The curl statement you are using doesn't really do a normal supported request. What are you trying to achieve exactly? Does this error prevent you from using the software?\n. Could you post the full curl response to:\ncurl -X OPTIONS -v --digest --user 'user:password' https://myserver/cal.php/calendars/bestuser/default/ -k -S\n. Alright, the error at least seems very consistent everywhere... Would you be able to share the schema and perhaps even do a dump of the 'principals' table. Either there's something broken in that database table, or that table doesn't exist at all. It's unfortunate that we can't see the real underlying MySQL error :(\n. Sorry about that, the same thing applies then to sqlite. You can get the information by running:\n.schema principals\n.dump principals\nfrom the sqlite3 console.\n. I think it should be the latter, yes.. the schema looks fine here though. Are there any entries inside of the table (.dump should give you this). Feel free to censor as you see fit.\n. Nothing out of the ordinary... what are the file permissions for that database file? Both the file as well as the parent directory of the file need to be accessible by the webserver. The easiest way to do this is:\nchmod -Rv a+rw Specific/\nBut don't do this if this is a shared server and you are concerned about other users on the same user accessing that database.\n. What about its parent folder? Same thing?\n. I think that's highly doubtful, you're getting a clear PHP error. \n. I'm running out of ideas :( I guess there's nothing interesting in the error logs either?\n. On most systems php errors would just appear in the apache error log. The thing I'm really looking for is an error thrown specifically by PDO /Sqlite3.\n. Alright, I do have a hunch. I looks like baikal copies over a default sqlite database (from Db/Sqlite/db.sqlite) and uses that as a 'starting database'. I don't know how good of an idea that is. I have a feeling it could mess up if the sqlite used to create the file is not identical to the sqlite that you are running.\nSince you are just getting started, I think I would recommend just re-creating the database manually.\nYou can do so by running:\nsqlite3 Specific/db/db.sqlite < Core/Resources/Db/db.sqlite\nMake sure you move the original database out of the way.\nnote that this creates a completely new database, and you need to re-create that username. I hope that's not too much trouble.\nThis might fix the problem, but I'm not 100% sure. If it does, we need to make sure that Baikal does this by default during installation.\n. wow wtf.. there's somethign really weird going on with that output!\n. no, wait.. I gave you the wrong command:\nsqlite3 Specific/db/db.sqlite < Core/Resources/Db/db.sql\nNote the missing 'ite' at the end. We need the orginal text .sql file\n. Great to hear. I'm keeping this ticket open because we need to prevent this from ever happening.\n. The HTTP 200 response indicates that baikal is not sending back a correct response. Could be a server misconfiguration. What happens if you open that url in a browser?\n. Are you using rewriting? If you put this full url in a browser: \nhttp://baikal.raspi.home/cal.php/calendars/tiphergane/default/\nAnd you're getting that message, this might suggest you're rewriting urls.\n. No further responses received. If you're willing to help me debug this further, I'll happily reopen this ticket.\n. Makes sense @hermann-san , that's a known problem. Thunderbird cannot remember more than 1 username/password for a domain.\nYour only real option here is to create multiple subdomains that all point to baikal, and use a different subdomain for each user.\n. Sounds pretty bad!\n. The only reason this can happen is if there's some data in your sessions that doesn't belong there. Perhaps you had a different application running in the same session path that stored a bunch of stuff there that now messes with Baikal.\nSo this is not really something I think we can solve, other than a suggestion to not run multiple php applications that use sessions in shared path. Clearing cookies should fix this though.\n. If PHP can't connect to your MySQL server, I'm not sure what we can do here... Are you able to connect via the command line on the same server?\nI'm closing this ticket because it's a bit old, but if you still need help with this just comment here and we can reopen.\n. Will be fixed once we integrate sabre/dav 3.1\n. Locks is not really used in caldav, carddav. Instead of trying to understand the database, it might be better to try and understand the caldav protocol and speak directly to the caldav server.\nI'm closing this ticket for now, but if you have other questions, ping me so I can reopen it.\n. This is not possible with baikal.\n. If there are other questions related to this, let us know!\n. This issue was moved to fruux/Baikal2#9\n. This line was wrong in your VCALENDAR object:\nVERSION:2.1.7\nShould have been:\nVERSION:2.0\n. Will be fixed once we update to sabre/dav 3.1\n. This issue was moved to fruux/Baikal2#8\n. @Vlaaaaaaad this error line:\nIP - - [XX/XXX/2016:XX:XX:XX +XXXX] \"PROPFIND /cal.php/principals/jerome HTTP/1.1\" 400 264 \"-\" \"Mac+OS+X/10.11.2 (15C50) CalendarAgent/361.1\"\ntells me something else might be going on. The \"400\" indicates Bad Request, but I'm not sure what could cause that. Would you be able to trace the HTTP requests/responses with wireshark or Charles HTTP proxy? It would be interesting to see what was in the HTTP response...\n. No problem, I'm glad you figured it out.\nThere's quite a few different people with different issues here. I hope it's all resolved for everyone, but if anyone still has issues please comment here to give me a heads-up. happy to help.\n. Making this a documentation bug\n. What webserver are you using? \n. No further feedback received, so I'm closing this. If you're still having an issue just comment here so we can discuss further.\n. Rewriting like this is not supported. Remove the rule and connect directly to the correct path instead.\n. Is this baikal 1 or 2?\n. No further responses received. Works on baikal 1\n. This issue was moved to fruux/Baikal2#43\n. Indeed the PHP error log should say more about this. You could alternatively turn on display_errors in your php.ini to see what's going on.\nI'm closing this ticket for now, because it's been a while since the last comment. If you are still having an issue just comment here and I will reopen.\n. The only thing I can really say about this is that 'it's done when it's done'. The project is not dead, but it's not going as fast as it could have been.\n. Is this baikal 1 or 2?\n. It's not clear to me that it's an actual problem. What client are you using that's failing for you?\n. No response received.\n. Chances are indeed that PHP encountered a fatal error, and an error was logged somewhere.\nCheck out your php error log , or turn on display_errors in your php.ini to get the error to show up in your browser. I'm closing this ticket because it's been a while since the last activity, but if you still have an issue just comment here and we can reopen.\n. This issue was moved to fruux/Baikal2#7\n. Github has a \"thumbs up\" feature now, at the top of every issue and comment. Use that instead of commenting.\nIn terms of what we'll do with this: I think we'll add calendar/addressbook sharing functionality first. This allows a user to share specific calendars / address books to other users.\n. Manually changing the mysql database is not supported. You must use the CalDAV apis to make changes. The reason you are not seeing the changes is because other fields must be updated for the server and clients to notice that anything have changed.\n. This issue was moved to fruux/Baikal2#6\n. Hi @dtberlin ,\nSorry for the late response. It does indeed sound like you don't have PHP configured correctly yet. This is not really the best place for questions like this, I would suggest a more general purpose forum for PHP issues. Most of us would never run Windows as a server unfortunately. Not even microsoft does for Azure ;)\n. This is correct. Thunderbird uses a single password store, and things will definitely mess up if you try to use different users. The only real workaround is to create multiple subdomains so you can authenticate to each subdomain with a different user.\n. Looks like that line was removed in 0c5e3fea\n. This is a PHP7 issue. We need to update to sabre/dav 3.1 to make this work.\n. It's not the only issue with PHP 7 unfortunately.\n. Hi!\nI don't think this is a precondition for making baikal work. I suspect that your issue might have been an unrelated one related to your server configuration. I appreciate the comment though, and I'm glad you figured it out\n. This issue was moved to fruux/Baikal2#5\n. This issue was moved to fruux/Baikal2#4\n. I think we might change the plan a bit regarding version 2.0 of baikal. Possibly a different starting point for at least the backend code. We do appreciate the PR, and I'm sorry this was not responded to earlier.\nThe frontend code will live on, but we're not sure yet what to do with the baikal2 backend code.\n. This issue was moved to fruux/Baikal2#3\n. This issue was moved to fruux/Baikal2#2\n. This issue was moved to fruux/Baikal2#1\n. Hi @Amenocy ,\nAre you talking about baikal1 or 2?\n. No further feedback received, so I'm closing this. If you're still having an issue just comment here so we can discuss further.\n. 405 would indicate 'Method not allowed'. Typically this means that it is a server configuration issue. I don't know caddy at all, is it possible that it blocks HTTP methods that it doesn't understand? PROPFIND isn't really a common HTTP method outside of webdav.\n. No further feedback received, so I'm closing this. If you're still having an issue just comment here so we can discuss further.\n. Yes I can tell you with a really high degree of certainty that baikal will correctly emit a 207 Multi-status. If you need more help debugging it would be really helpful if you can share the HTTP response body.\n. So yea, you should see a 207 Multi-status for every PROPFIND or REPORT. That, or an error code (400-599), but never 200.\n. This is expected. Apple Calendar will not do a GET request on calendars, it will do PROPFIND and REPORT requests. \n. How are you setting up Apple Calendar? Manual, automatic, advanced? What are you using for the address and/or other settings?\n. No further feedback received, so I'm closing this. If you're still having an issue just comment here so we can discuss further.\n. It's not a problem at all. I've just been trying my hardest to make sure that the issue list contains real bug. Will reopen for another week.\n. @netgusto this is ready for a merge. Do you want to review it? If you are happy with it, hit the merge button.\n. Yes, there will be. I didn't know there was a migration mechanism, that might be helpful. It's a fairly complex upgrade. I do have several command-line scripts for it, but I'm not sure if I can use it for web-based upgrades.\n. Sorry for the large diff, if you want to know what actually  changed, just take a look at the individual comments (and skip the twig one, should have done that in a separate PR).\n. If you think using UPGRADE.md and shell scripts is good enough to release version 0.3.0, I might skip creating a web-based migration script (because it's a fair bit of work), but if you think it's important enough I will definitely write the script for it. So let me know, either way...\n. This is ready for review @netgusto \n. Did not yet get a response, so I'm going to assume that this is an OK change. if you are unhappy with it, just let me know @netgusto . Merging for now.\n. This is ready for review and merging @netgusto \n. Merging this. If you have objections later definitely let me know =)\n. NP take your time\n. Yea I'm happy to go in the other direction again too, but I also think it's useful to have a single package. So we can always release 0.3.0 and see how quickly people start complaining ;) \n. We haven't fully figured it out the long term yet, but yea it would make sense to eventually merge them.\nAn official announcement regarding this will follow when we're doing the 0.3.0 release of Baikal.\n. http://sabre.io/blog/2016/baikal-joins-sabre-io/\n. Are you able to navigate to:\nhttp://10.8.0.122:8181/cal.php/calendars/user1@test.com/default\nUsing a browser? \n. That's a good sign already. Some more questions:\n1. What client are you using to connect?\n2. What URL are you using within that client to connect?\n3. Are you using Digest or Basic auth?\n4. Can you share a bit of your log files, in particular from when it's going wrong?\n. I am thinking IIS is interfering with the WebDAV methods. Is there a setting somewhere in IIS that allows you to perhaps:\n1. Turn off IIS built-in WebDAV. IIS must not be allowed to handle webdav methods itsef.\n2. Edit a whitelist of allowed HTTP methods, or a list of HTTP methods PHP is allowed to handle.\n. Here's some more information that might help. I'm super unfamiliar with IIS so I'm just guessing here:\nhttp://stackoverflow.com/questions/6739124/iis-7-5-enable-put-and-delete-for-restful-service-extensionless\n. It's called 'WebDAV' in case you looked for the wrong thing. Did you read that link as well?\n. Well you need more than that! There's PROPFIND, 'PROPPATCH,REPORTand others. Whitelist everything.\n. I don't seeREPORT` in that list!\n. In that case, do you have an error log? Maybe IIS has some information about why it rejects the requests.\n. That's just the access log. I imagine that IIS also produces an error log with other messages?\n. Here's another person running into an issue with IIS and a potential solution:\nhttps://github.com/owncloud/core/issues/1210#issuecomment-12487154\nI'm basically just trying to google for you =) I hope it helps\n. I also wonder if you could try to do this with a username that does not contain the @ symbol. \n. I'm going to take this PR one step further and completely remove the synctoken. The database has a default value, so there's no need for baikal to supply one.\n. Just did that, thanks for the report!\n. I've never seen anything like this or any idea what could cause this.\nDoes sync still work or is that broken too?\n. Would you be able to share the contents of the calendars table in sqlite? \n. SQLite doesn't use a port, it's a plain file. You can find it in Specific/db/db.sqlite\n. ok that's bad news. I wonder if your sqlite database is corrupted. \nThere's at least some data in there, because you're somehow able to extract calendar uris..\nCould you try this:\nhttp://stackoverflow.com/questions/18259692/how-to-recover-a-corrupt-sqlite3-database\n. If you have active users, I would recommend temporarily turning off your webserver.\n. Super weird!\n. Haven't heard anything in a bit. Feel free to reopen if you have new information!\n. Can't believe I missed this :/ thanks\n. Good idea.\n. It makes sense as a feature request for Baikal 1 as well.\n. Ouch that sucks\n. Really need some unittests for this project\n. If you're stuck in the middle of the upgrade after hitting this bug, recovering is fortunately simple:\nJust open Specific/config.system.php and find the line that has the Baikal version number (should be 0.2.7, or 0.3.0 depending on what you were running).\nSimply change it to 0.3.2 and things should be working again after.\n. There's some magic going on under the hood in both baikal and sabre/dav that helps guess some of these urls. I think that magic is slightly different for both.\nHowever, in Baikal you are able to specify these base urls in your config. The configuration can be found in Specific/config.system.php\nI would also recommend using the dav.php endpoint instead of cal.php and card.php. The former will be the only option in the future, but cal.php and card.php is kept around for BC reasons.\n. Yea that's an issue. This is due to the fact that multiget will attempt to convert any vcard version to vcard 3. Moving this to the sabre/dav project.\n. This issue was moved to fruux/sabre-dav#779\n. Doing this release right now\n. If you're stuck in the middle of the upgrade after hitting this bug, recovering is fortunately simple:\nJust open Specific/config.system.php and find the line that has the Baikal version number (should be 0.2.7, or 0.3.0 depending on what you were running).\nSimply change it to 0.3.2 and things should be working again after.\n. There was a problem with Digest auth, which I've now fixed and released in 0.3.3. As a temporary workaround you may try switching to Basic auth.\nHowever, changing the realm manually probably just makes things worse, unless you also re-generate the passwords. \n. - What operating system are you on?\n- How did you install baikal? \n- Does your vendor folder and Core folder exist?\n. Really odd! Glad it works now though.\n. Hi! The DAV server supports it. You just can't make a calendar that can contain VJOURNAL objects from the admin front-end. Is that what you're looking for?\n. Well, one way would be to manually create a calendar that can hold VJOURNAL. One way to do this, is to go in your database, find a calendar you've previously created and add VJOURNAL to the components column. That should be enough to get evolution Journal sync up and running.\n. No feedback received.\n. @The-Compiler if you're looking for an automated install, you might be better off using the sabre/dav command line scripts for upgrading. They do the exact same thing.\nThen all you would need to do is:\n- Write all the new files (Skipping Specific/)\n- Run the migration scripts from vendor/sabre/dav/bin/.\n- Set the updated version in Specific/config.system.php.\nHope this helps!\n. Yea that's really odd. It will be hard to figure out what the original problem was at this point, but it seems like this user has had other really weird stuff going on in #458, so it might be a fluke.\n. Is it completely white? Is there anything in your error log? What PHP version are you on?\n. This implies that the migration to 0.3.3 partially succeeded. The synctoken column is there. It's hard to know where it failed. Make sure that when you upgrade you go straight from 0.2.7 to 0.3.3. No in-between versions. There were some problems with those.\n. Before there was indeed a flat installation package, but I've gotten rid of that in the latest version. I felt like it didn't make a lot of sense to have two different packages, so I rather create one that works for everyone.\nBut you are absolutely right, it does mean that the url structure has changed a little bit. I didn't consider this and will add this to the upgrade instructions.\nThe difference with this package is that you only need to expose the html/ directory to your webserver. \n. I also updated the docs here a bit: \nhttp://sabre.io/baikal/upgrade/\nAs for not being able to select mysql, I think you can only do this during the initial install. There's no switching afterwards. On top of that, I think I borked the zip package again so I'll be generating 0.3.4 (but this is only relevant for you if you want to do another fresh install, with mysql)\n. Not without more information. Try opening dav.php in your browser. What do you see there?\n. - Are you using ssl?\n- What information (urls) are you using to connect?\n- Make sure that the well-known redirects work from the \"root\" of your domain. They are 100% pointless in a subdirectory.\n. Well, when you setup iOS, what url do you use to tell iOS where to connect? \n. Try using just myip for setting up, nothing more. If your \"well-known\" redirects are indeed working, that should be all iOS needs.\n. and <ifmodule is in 99% of the cases a bad idea. When you don't have a certain module, you want apache to tell you and give you an error message, not silently ignore it.\n. You should delete the entire .htaccess file and create a new one that just contains this:\nRewriteEngine On\nRewriteRule ^\\.well-known/carddav /baikal/html/dav.php [R=301,L]\nRewriteRule ^\\.well-known/caldav /baikal/html/dav.php [R=301,L]\nAfter that, make sure that your changes were successful by going to:\nhttps://yourserver.example.org/.well-known/caldav\nAnd make sure it redirected to \nhttps://yourserver.example.org/baikal/html/dav.php\nOn that url, confirm that you can log in with a username and password. After that, try setting up iOS again, and this time only use yourserver.example.org for the server field. Replace yourserver.example.org with whatever your domain is ofcourse. \n. We just had another ticket of someone that also had problems syncing, and this was due to the fact that they didn't have the XMLWriter extension here #468.\nWould you be able to share your phpinfo() somewhere, so we can look at a list of installed php extensions? This error should also show up in your php error log, but if you don't have access to that it might be a bit harder.\nWorth checking at least.\n. All the required extensions are indeed there, including mbstring. And there's nothing in your error log either that would indicate a problem?\nThen the last thing I can think off is, could you create an account for me on your server so I'm able to test OS X myself? \n. Yep that works!\n. I just took a look at your server, and I'm greated with firefox's 'Insecure connection' message. This doesn't bode well, but I'm trying it out with OS X nevertheless.\n. Yea I'm definitely blaming it on that for the moment. I enabled more debugging information and my console is mainly talking about ssl errors. I'd recommend getting a domain and a real ssl certificate. They're free these days: https://letsencrypt.org/\n. For the moment you can also try disabling ssl altogether and using http to connect, just to validate that it's really related to ssl. However, you can't setup OS X calendar if there's still something running on port 443, so it really has to be off.\nHope that works, and if that's not an answer to your problem come back here and I'll reopen this ticket.\n. It's hard to be a 100% sure. I'm hoping I'm right. Not sure why baikal 0.2.7 would work.\n. You can actually just check the access log. Because we use basic/digest auth all the information shows up there. There's currently no plans to log something in the database to track this, because it would be redundant with the access log.\n. Consult the documentation of your webserver to find the access log.\n. I just released 0.3.4, solving a problem with installation. Could you give that a shot and report back?\n. @perlbo , no it is actually expected that it's empty now. The file inside this folder should be created by the installer.\n@perfect7gentleman the error message you provide does indicate an error, but for me I'm getting something that looks a bit like this:\n\nBut that red-box error message is currently expected, and something I want to fix in the future. That error message does not prevent you from continuing setup... but I guess you are getting the error message in a different way?\nSo at what point are you actually getting that error? Is it after having setup mysql, or immediately after clicking the 'Use MySQL' checkbox?\n. alright =)\n. Ah weird, there was no db folder already? Fairly sure I included an empty one in the zip.\n. Super weird. What platform / unzip program did you guys use?\n. thanks, I'll think I'll just drop a little hidden file in that directory to make sure it gets retained.\n. I just had a look, and when I look at the zip I don't see the db folder either. Oddly enough, rebuilding the zip does include it. I'm thinking there might be a difference during zipping, as I use both OS X and linux on a regular basis.\nAnyway, it will be included in the next release.\n. Just released 0.3.5, fixing this. If your installation is working now you don't need to upgrade though.\n. Hi!\nAs long as the version in the config/config.system.php is not 0.3.4, baikal will always redirect to the installer / upgrader.\nThe error message you are getting does seem to imply that the upgrade was at least partially successful. I don't know why the config file has not updated as well ... baikal should check if the file can be written to before the upgrade. You might want to try manually setting the version to 0.3.4 in that file, but it doesn't really explain why it happened in the first place. Very odd.\n. Ah interesting. You are missing the XMLReader PHP extension. Installing that should fix this for you.\n. That's a fair point.. as an alternative, maybe we can just let people set it via the config files...\n. If I'm not mistaken though, we can simply tell them to block html/admin and this will actually 100% disable admin features. \n. Absolutely. I also want to provide a few config rules for apache and nginx on how to achieve the same effect.\n. Since you're a user of this feature, may I ask what your motivation is for using it? It would help me.\n. How do you determine today whether admin access is intended or unintended? \n. That makes sense. I guess the biggest loss is not the ENABLE_INSTALL/ENABLE_ADMIN stuff itself, but rather the 'autolock' facility that is not easily replicated.\nFrom a personal point of view, I can live with that. I think most similar software also never has features like that. I can understand that taking something away can always be a bit painful though :/\nIf your users have a big problem with it, it would be interesting to hear it. If there's really a lot of people relying on the feature we can consider adding it back in a future version.\n. Hi @deg0nz ,\nThis is not entirely correct. We added support for Subscriptions, but not sharing. What this means in practice is that you can use iOS and OS X to store calendar feeds (webcal: type stuff). But I'm not aware of other clients that also use this specification.\nBut as long as you use the apple products, and you create a new subscription to a calendar, those subscriptions will be synced to your other apple devices.\n. Hi Loader23,\nI'm not really familiar with QNAP hardware. Does it run Linux and Apache? If so, just get yourself a domainname and lets encrypt! \n. Closing due to lack of feedback.\n. Rolling back to 0.2.7 if you didn't make a backup of your database is indeed not possible. I'm fairly certain that you are experiencing this problem because I forgot to enable the sync plugin.\nGoing to fix this, would you testing trying my patch? (follows in about 5 minutes)\n. Check out ab55d18. Does that fix your problem?\n. After adding that patch, only new items will start to show up though. Items that have been  created/modified since the plugin was enabled.\nBut if that doesn't solve things, and you're still seeing the 500 error, can you take a look at your apache error log and see if there's any error messages there?\n. alright. If the error log doesn't mention anything, the only debugging option after that will be to log HTTP traffic and see if there's anything unusual in there.\nI'd also be happy do dive in for you, if you're willing to create a username/password for me on your server. This should at least allow me to reproduce the issue and likely also find out why it was happening.\n. Got your email @jbeyerstedt , thanks! My goal is to take a look tomorrow. Bit busy!\n. Just took a look @jbeyerstedt , and I'm fairly certain that the sync plugin is in fact not yet enabled on that system. Please make sure that change ab55d18 is applied!\n. Hi @jbeyerstedt . I didn't see a sync-token returned by the server, but oddly enough I do now see a different indicator that the sync plugin is in fact enabled. This means there must be some kind of deeper problem.\nI'm testing a bit further. Thanks for your patience.\n. Could you take a look at your calendars table and let me know what the value is for the synctoken field for my calendar? I gave it the displayname 'Everts calendar' so you can easily find it.\nIf it currently has the value NULL I have a hunch what the problem might be.\n. If you manually run UPDATE calendars SET synctoken=1, this should solve your problem. I'll look at the upgrade scripts again and try to find out why this isn't happening automatically.\n. You might need to do the same for the  addressbooks table btw =)\n. Confirmed that a fresh install of at least sqlite does NULL these fields by default. \n. Upgrade script now fixes this issue, but fresh installs are still affected by this bug.\n. What operating system is this? Can you describe the steps you used to install Baikal? (which OS to download and unzip, did you FTP? Did you use the zip installer or use Git?)\n. Hi @GitOTR ,\nBaikal got a new version of sabre/dav, which became a lot stricter in terms of what it considers valid vcards. My best guess is that you have an invalid vcard in your database that was accepted earlier, but now causing sabre/dav to throw an error.\nIf you're interested, you could export all your contacts and I could take a look at the export file and see if I spot the error and then try to repair it for you. Sorry that this is such a pain!\n. No feedback received.\n. Interesting. It's hard to say what the real cause of this is. The original vcard validates just fine here.  Since you modified it manually, it's possible that the original bug is now gone. Could have been an unexpected hidden unicode character for example.\n. It's hard to say @GitOTR why it's slower. We've actually done a lot of optimizations in the past to actually make things faster. Are you just noticing that the initial sync is slow, or also subsequent syncs after the initial one? At the very least when you sync again, in theory it should be super fast compared to baikal 0.2.7.\n. I decided to always keep the original tables, in the off chance that there is something wrong with the upgrade script. It's basically a 'last resort' type of thing. I wanted to minimize risk of data-loss.\nYou can safely delete those tables afterwards though.\n. Hey @GitOTR,\nwant to give 0.4.4 a shot? I have a feeling it might solve all your problems\n. A charles session demonstrating this problem would also really help.\n. Probably even more than giving me the sqlite db. Note that you don't need charles on the server. Just on a desktop computer, and then you can point iOS to use the charles proxy.\n. I got your charles dump! Unfortunately it's helping me a lot less than I had hoped :(\nWhat I'm seeing is that most requests are really fast. But then the client does a multiget response, and the server responds with:\n\nFatal error:  Maximum execution time of 240 seconds exceeded in /volume1/web/baikal.test/vendor/sabre/vobject/lib/Property.php on line 252\nThe client only requests 50 vcards, so that's a LONG time for that many vCards. The only reasonable possibility I see now is that maybe...\nYou have some really really massive vCards in your system. Like, many megabytes and it's just taking a long time to parse all that. This is possible if your vCards have big attachments such as photos. \nHow big was your vCard export?\n. No, we don't do anything specifically with pictures. But one big difference between the old and the new version, is that we now parse every vCard before sending it back to the client. We do this to figure out the version of the vcard (3 or 4). And we then convert to vCard 4 if a client requests it.\nemClient specifically will always request vCard 4 if the server advertises support for it (we do). So my guess is that what's happening now is:\n1. You upgraded from 0.27, and all vCards are stored as vCard 3.\n2. emClient accesses the new server, asks for vCard 4.\n3. We convert all vCards from 3 to 4 before sending it back to emClient.\n4. This is taking too long.\nThe reason it's probably not slow when you let emClient import the data, is because emClient will send the vCards as version 4. And if emClient later on requests those same vCards, sabre/dav does not need to do the conversion.\nSo what can be done? I could\n1. Create a cache for the vCard 3 -> 4 conversion, so the conversion only happens the first time.\n2. Start profiling the parser and converter. Given a backup file of x MB I should be able to measure how long its taking, and where most of the time is spent. Based on that I should be able to create optimizations that make this fast enough for you so this will work.\n3. Our plan was also to take every attachment/photo from any vCard, and take them out of the vCard and store them somewhere else. This will also make a huge difference, but also a bit more of a long-term feature.\nWe'd really like 3. Ideally I would like to avoid 1, but 2 is probably the easiest to achieve right now. \nIn the meantime, you can:\n1. Increase the PHP time limit. This is not ideal, and it will still be slow... but chances are that the requests will eventually complete given enough time.\n2. Upgrade to PHP 7. This will make a real difference.\n. Awesome! We did make some performance improvements, so it's great to hear that it has had an effect for you.\n. Hi @fberke ,\nCan you take a look at the error log for your webserver? Error 500 hopefully means that the server logged what went wrong.\n. My first guess would then be that you are running a PHP version older than 5.5.\n. Well, PHP 5.5 is the minimum required PHP version =) So there's your problem\n. My first guess would be a webserver configuration issue. The first thing you might want to check is your webserver's error log. If that doesn't yield anything, logging HTTP traffic would indeed be helpful, and I can walk you through the steps.\n. No feedback received.\n. Based on this, I am fairly certain that the problem is in your webserver configuration. This request works fine:\n223.104.38.164 - - [16/Mar/2016:09:15:47 +0800] \"PROPFIND /cal.php/calendars/xalphay/default/ HTTP/1.1\" 207 1000 \"-\" \"DAVdroid/0.8.4.1\"\nBut this one fails:\n223.104.38.164 - - [16/Mar/2016:09:15:48 +0800] \"PUT /cal.php/calendars/xalphay/default/20160316T011522Z-520_b486750d7f0f7220.ics HTTP/1.1\" 404 662 \"-\" \"DAVdroid/0.8.4.1\"\nThis makes no sense at all for a standard webserver configuration. My advice would be to contact your web host and see if they can help you resolve this issue.\n. If you can, I would simply try to point your current server administrator to this thread. Perhaps they can make sense of it. It might be that certain HTTP methods are blocked for example. If they read this thread and have further questions, I would also be happy to help them.\nI don't really have any recommendations for a different host. I think it's best these days to find something that gives you a virtual machine as opposed to shared hosting, so you have root access and you can do whatever you need.\n. Frankly I doubt that downgrading Baikal will fix anything, if Akonadi indeed never attempts to send the password. Regardless, downgrade is possible if you followed the upgrade instructions. Step 1 in the upgrade instructions was: make a backup ;) Without the backup, there's no downgrade though.\nI would suggest submitting this as a bug to Akonadi though! Another thing you could try: try removing stored passwords from kde wallet. Perhaps it stored some information about the server and refuses to authenticate since it's different now.\n. If you're interested in researching a bit more, it would be interesting to see an exact diff between what Baikal 0.2.7 sends and 0.3.5, if it still works with 0.2.7, then at the very least this should give us a hunt as to what could be a potential workaround for this issue.\n. Or: apache error log. If there's something there, it might make it a bit easier.\n. Maybe console.app is giving you slightly more detailed error messages? \n. There's some more debugging options documented here too:\nhttp://sabre.io/dav/clients/ical/\n. connection: close is indeed normal. I believe (but I'm not sure) what's triggering your error is not the delete, but maybe it's the PROPFIND that follows it.\nThat would at least explain that you're getting an xml parsing error.\nThe client is doing a PROPFIND on https://5fW25eu65m3H@tempo2.condition-alpha.com/, and that request is probably being responded to with an html page...\nWhat I don't know is, why is it doing that...\n. > Um, to get the list of calendars resulting after the previous delete operation? Just guessing...\\\nIt's possible, but it's doing it at the wrong location.\n\nSo far my impression was that Baikal was one of the least worse? At least trying to?\n\nCorrect. In fact, we pride ourselves in being one of the least worst. Great to see that people are picking up on that. /s\nCould you share how you setup iCal? Are you using the automatic, manual or advanced setup, and which urls are you using?\n. I actually have an alternative idea... could you try enabling the scheduling plugin?\nThe property that iCal is requesting is free-busy-set which isn't standard, as it's part of an old version of the scheduling specification. I believe that iCal might fall back for certain requests to the old spec, if the server does not specifically advertise the new spec.\nI haven't enabled the scheduling plugin in Baikal yet. Mostly because I just forgot it.\n. I'm going to go out of a limb here and assume that this problem is indeed fixed with #491. If this is incorrect, let me know!\n. I think this is mostly a timing issue. I've noticed this myself many times too, but I don't think we can solve this server-side. It must be fixed by the client developers unfortunately. Next time I see them I will bring it up.\n. Not helpful @perfect7gentleman \n@Jonny007-MKD how does that error present itself? Could you make a screenshot? I believe baikal will immediately try to connect to mysql with its default settings (which are probably wrong) but it should catch that exception and give you a chance to modify the settings.\nWhat happened for you?\n. That's odd then :/ I wonder how I can reproduce it so I can trigger the error here too.\n. Good point, lets add this.\n. Hi @ohcibi ,\nThe source file for this is here:\nhttps://github.com/fruux/sabre.io/blob/master/source/baikal/install.md\n. Thank you @fabianwolf !\n. This is a duplicate of #472 \n. Does #485 fix your issue @wordofglass ?\n. No, this is not something we support. However, the MySQL and Sqlite schemas are supposed to be identical. If you can find a generic tool that does conversions for you, in theory this should work.\n. I would recommend simply switching to Basic auth all together. Instead of reintroducing this patch, I will make a note of this in the troubleshooting documentation.\n. Note that this upgrades existing databases to be correct, but we also need a sabre/dav 3.1 upgrade.\n. I'm not too concerned about CSRF timing attacks, but once we switch to PHP 5.6, we can switch to that function for robustness.\n\nOn Mar 13, 2016, at 6:30 AM, fabianwolf notifications@github.com wrote:\nThe current Csrf Token check uses !==.\nFor timing attack security \"hash_equals()\" should be used.\nBut this would require php 5.6.0\n\u2014\nReply to this email directly or view it on GitHub.\n. The calendar-proxy related problems are definitely related to those tools. Default baikal does not do this. Also, version 0.2.7 is no longer supported.\n. Yea we're waiting for @netgusto  to redirect baikal-server.com to sabre.io/baikal =)\n. Try going into your password manager and remove the stored password for your baikal server. Sometimes Thunderbird gets confused. If that doesn't work, I would recommend posting a bug at the lightning project, as this error looks a bit like an internal problem.\n. In the future I'd like everyone to be able to log into the admin interface and show/hide interfaces depending on what access level they have.\n. @untitaker it will require new permissions on the server. Currently the upgrade instructions practically already tell users to unzip and only keep the Specific directory. So based on that I feel it's not a huge step to also tell them to rename that directory, since they're already messing around with files and folders.\n. Hi @ErikBasalt ,\n\nI don't disagree that it's a change with a relatively small gain, and potentially annoying for folks.\nHowever, I have a vision in mind for Baikal and how it should look like to call it \"1.0\". To get there, a lot of small changes are needed to make it look and behave more like a modern PHP codebase.\nSo the unfortunate truth is that the next few releases are likely to be a bit painful, until we get to a solid 1.0. I really want to make this change, but if there is a way where I can make this change so it's less painful for you, I'm all ears\n. The nice thing about Slim is that it's a PSR-7-based microframework. Silex is another option, but I feel that Silex and the Symfony ecosystem has stagnated a bit. It's also rather bulky.\n. I actually made a start with this, but Slim 3 is not at all like Slim 2. They've made it a lot harder to do simple stuff. My main goal was to make it very easy for new people to jump into this, so now I want to do this with Silex instead, which is pretty simple still, thankfully.\nSo if you're also interested in doing this, even if it is Silex, I could definitely help and break down some of the required steps.\n. The first thing that would already be tremendously helpful, would be:\n1. Create a branch / fork of Baikal\n2. Install silex and twig\n3. Port the baikal templates to silex\nSo for now it would be ok if it's just a static version of baikal and the templates. That would give us something to work off, and we can start making the templates dynamic one-by-one...\nI would strongly suggest that if you'd like to help with this, you commit often and let me review as early as possible. That way I can make suggestions early in the process and will ensure that things are going reasonably in the correct direction ;) \nLet me know if you have more questions. I'd be happy to answer any.\n. Awesome! Well... same thing goes. Let me know how I can assist in starting =) \n. Good point.\n. This issue was moved to fruux/sabre-dav#798\n. If your 0.2.7 database had a synctoken, then it was not a 0.2.7 database. Can you start the upgrade over?\n. The problem is that your old database is not supposed to have a synctoken column. Any idea why that might be in there?\n. Could you go into your sqlite database (on your old database, before attempting the upgrade):\nsqlite3 Specific/db/db.sqlite\nAnd then type:\n.schema\nAnd share the result? That should provide some insight I hope.\n. Interesting. There's no synctoken in there. I'm going to run the upgrade from 0.2.7 to 0.4.0 and see if there's a reproducible error.\n. Confirmed that there is a problem, but the synctoken problem is actually not the first issue. During upgrade there's a different sql error. Then trying to run the update again yields the synctoken problem (which makes sense because the first attempt to an upgrade was half completed).\n. This is the first error:\nUncaught exception during upgrade: exception 'PDOException' with message 'SQLSTATE[HY000]: General error: 1 table calendars has 11 columns but 12 values were supplied' in /Users/evert/code/baikal/test/baikal/Core/Frameworks/BaikalAdmin/Controller/Install/VersionUpgrade.php:422 Stack trace: #0 /Users/evert/code/baikal/test/baikal/Core/Frameworks/BaikalAdmin/Controller/Install/VersionUpgrade.php(422): PDO->exec('INSERT INTO cal...') #1 /Users/evert/code/baikal/test/baikal/Core/Frameworks/BaikalAdmin/Controller/Install/VersionUpgrade.php(61): BaikalAdmin\\Controller\\Install\\VersionUpgrade->upgrade('0.2.7', '0.4.0') #2 /Users/evert/code/baikal/test/baikal/Core/Frameworks/Flake/Core/Render/Container.php(71): BaikalAdmin\\Controller\\Install\\VersionUpgrade->render() #3 /Users/evert/code/baikal/test/baikal/Core/Frameworks/Flake/Controller/Page.php(85): Flake\\Core\\Render\\Container->renderBlocks() #4 /Users/evert/code/baikal/test/baikal/html/admin/install/index.php(80): Flake\\Controller\\Page->render() #5 {main}\n. This definitely just affects upgrades from 0.2.7 and earlier, a path I didn't test. But I have a solution\n. Ok guys, I just uploaded 0.4.1. Upgrading to 0.4.1 will only work from your original 0.2.7 database.\n. yea the upgrade instructions are actually a bit better. Basically, you only need to keep the Specific directory. But the main point is that if @mehlkopf is still getting an error, it means that he/she is not running the upgrade from the old 0.2.7 sqlite backup.\n. That's interesting. The reason you get the error though is because you run an incomplete upgrade twice. The real problem is : why does the initial upgrade not complete?\nHow big is your database? I'm wondering if it simply never completes because it's just taking a very long time to upgrade.\n. So I'm thinking this is still the cause of your problem. Even though 3000 events might not sound that big, in order to upgrade the script actually has to parse every single event in order to extract some information from it. I suspect that if you check your PHP or webserver log, you will either see an out of memory, or a maximum execution time-related error. If it's either of those, you can just increase those numbers and wait longer.\nIf none of that is an option, there is a way to do a manual upgrade on the command line. It's not super easy, but I can definitely write step-by-step instructions for it. Let me know what you would like me to do!\n. Hi @bjo81 ,\nPlease re-read this thread and go over the troubleshooting steps we've already done. I can ask you all the same questions again, but it wouldn't be a very good use of my time.\n. This is indeed bad news. I was under the impression that the installation will not run, if baikal is already fully configured/installed.\n. I'm now disabling the installer altogether if baikal was configured. Sorry I missed this :/\n. You're right. Missed that one. Fixing it now.\n. Just in case it wasn't clear, baikal does indeed require PHP 5.5\n. Fixed \n. I guess this problem got introduced because warnings are now shown, whereas before they were always hidden?\n. That's already the case. sqlite and mysql databases are now automatically generated.\n. Not yet, but I'm very interested in this in the future! Hopefully a few versions down the line we will be ready for this.\n. Baikal configuration is in a file.\n. Hi @RobinWoodo ,\nmy best guess is that you have done an incomplete upgrade. On the current version, there should no longer be a line calling 'assertUnlocked' in that file.\nI'd recommend you try the upgrade again, and make sure you overwrite all directories, except Specific.\n. I don't think this is correct! I think you may have updated from an older version before and never removed that old directory. Next time I would strongly suggest to follow the upgrade instructions and only keep the Specific directory, but remove everything else.\n. Are you able to open the admin? If not, do you have a file called Specific/config.system.php. Do the database settings in that file look correct you?\n. Did you say you do not have a file called Specific/config.system.php ? If so, the installation did not complete. Do you have PHP 5.5?\n. @fabianwolf: is it possible that this is a new issue? I don't fully understand why the error is being triggered yet.\n. Just making sure: which Baikal version is this?\n. Alright. Could you share what your settings you are using for MySQL? Could you copy-paste the relevant bits from config.system.php ?\n. =( weird\n. It's possible. I'm going to test the process again tonight and see what I missed :/\n. This was indeed introduced with c199ac7b2\n. Just fixed this, and released 0.4.3!\n. The main issue here is that if we hash the password in a different way, we can no longer use Digest authentication. Basic is an option, but it's even worse for those that are not on HTTPS yet (for whatever reason).\nIf you want to know more about the current hashing approach, look no further than rfc7616.\n. It actually has a chapter named A2\n. I think if we would do anything new, it would be bcrypt based. Seems to be the best choice these days ;)\nIf you're interested in using that as well, I think the best place for a PR would be in the sabre/dav project. Then eventually it can make its way back into Baikal.\n. http://security.stackexchange.com/questions/16809/is-a-hmac-ed-password-is-more-secure-than-a-bcrypt-ed-or-scrypt-ed-password\n. Well, HTTPS is not really everywhere yet. It would be nice to provide some protection for the people that don't have it. Although I can definitely see a future where we ditch Digest altogether. It also makes the server slow!\n. I agree, lets make it official:\n1. Ditch Digest completely. It has other issues anyway.\n2. Make Basic the default\n3. Only use bcrypt for password hashes. No point in using SHA256/512.\n. @muelli that's not a great solution for the average baikal user. It means that they need to understand apache configuration even more than they do already. It might be nice to have that as an option though. Definitely open a feature request if you want it.. Hi dms4,\nThe libxml requirement is basically just want's compiled into PHP. You should be able to see which version you are using by running php -i or phpinfo() and finding the appropriate line.\nIf your QNAP is up to date and still using libxml 2.7.0, then it's using > 8 year old software. Let that sink in for a moment ;)\nIn order to use a newer libxml, you need to compile PHP against a newer library. I don't think there's a way around that.\n. Yea this is a great point. There's also a few extensions / configuration settings we could check. I really like the YII2 approach to this.\n. The info is all in here. 2.7.0 or higher. And yes, you need a libxml that's not a decade old. \n. Great!. What happens if you open those images directly? I assume it's still a 404 page, but I'm curious if it's sabre/dav or nginx that's generating it. Could you share the result?\n. yup!\n. Please re-read my question ;)\n. No I mean the in-browser response body\n. So thats an nginx response. That would imply that the dav.php script doesn't even get a chance to serve the request. \nCan you open dav.php/ including the slash at the end but without ?sabreAsset ?\n. Glad you figured it out. So our template was wrong?\n. don't use rewrite rules. Remove them all except the two well-known ones, which should be redirects: \nrewrite ^/.well-known/caldav /dav.php redirect;\n    rewrite ^/.well-known/carddav /dav.php redirect;\nIf there are any rewrite rules in your configuration besides those, just get rid of them. I suspect that that's the root of your issue. \n. Are you able to share the response body for the 415 error? The body should contain an xml document with more information about what might be wrong,\n. In that case, are you also able to share the XML document for that REPORT request? \n. Ok that makes sense. We haven't enabled the sync plugin yet. Enabling this might actually also solve #474 and #518 . I don't think that CardDAVMate is doing the correct thing here, but enabling the sync plugin on our side will make Baikal much faster and fix your problem.\nI'm going to add this and try to do a release this weekend somewhere.\n. I just did a release. I feel that this should solve all your problems. Want to give it a shot?\n. Hi @GitOTR , I know you have some issues. I honestly believe that there is something currently broken in your vCards. Some ways I can help debugging the issue:\n1. Install Charles HTTP Proxy and log the requests / responses from em client and/or iOS. Send the result to me for analysing.\n2. Get me a copy of your addressbooks or sqlite database.\nWith either of those I should be able to dig in and see if there's obvious problems. \n. Interesting. Is this upgraded from an older baikal version?\n. The components column is too small to hold \"VEVENT,VJOURNAL,VTODO\". If you are comfortable with this, you can modify the column to have a width of 21 instead of 20. I'm making this the default.\n. This issue was moved to fruux/sabre-dav#805\n. Are you able to log into the admin? Or does it just not work with AgenDAV?\n. Good to know! =)\n. google calendar does not support authentication on calendar feeds.\n. 1. you are not supposed to rewrite that url. It's suposed to be a redirect.\n2. Lighttpd is not officially supported. It has weird issues, you might be better off trying nginx.\n. We've actually recently found that problem and fixed it in sabre/dav already. After a new sabre/dav release, we'll do a baikal release so this is fixed too.\nGlad that the manual fix worked for you for now.\nI'll keep this ticket open until we've done that release.\n. 0.4.5 is released.\n. Hi @ritzelbuerste ,\nThe fields are not updated automatically, so you might need to manually change the MySQL schema to state VARBINARY(21) instead of VARBINARY(20).\n. Hi,\nFrankly I'm not sure what could cause this.  Would you be able to share the file that's being uploaded? The object might be invalid, or it might not. In either case sabre/vobject has problems parsing it.\nSo what's in the request body for that PUT request?\n. Those access logs all actually have correct statuses. There's 207's, 201's and all the 401s basically tell iOS to reauthenticate and repeat the request (because its' digest auth).\nThe errors as they are logged from your first email should result in a 500 status code. None of these requests have that.\n. Excellent! The file you posted allows me to reproduce the bug. I'm looking into it.\n. So there are a lot of lines in your file like this:\nDTEND;VALUE=:20071114T173000Z\nI'm fairly certain that that is invalid. The VALUE= part should be removed, which will fix this. I am going to add a change to vobject to make the error more clear.\nWhat application generated that ics file?\n. Could you share both the iCalendar and owncloud version? It seems a bit strange that both have the exact same bug.\nBasically your file is simply invalid, and sabre/dav is doing the right thing rejecting it.\n. Well, the problem definitely exists there too :/ weird. I don't understand how sabre/vobject would allow this file to be created.\n. Correct. You should be able to remove the following two strings: VALUE=; and VALUE=:\n. Great! I assume it will be good now as well.\n. Hi @HubEight ,\nSorry for the lack of response on this ticket. I completely missed it back when you reported it. Can you let me know if this is still a problem?\nIf so, it would be great if you could give 0.4.5 a shot, and you still have a bug then, take a look at your apache error logs.\n. Alright, closing this ticket then.\n. What PHP version are you running?\nHi there!\nA few questions:\n1. Are you able to see the error log, and is there anything in it that could indicate what issue you are having?\n2. What PHP version are you running?\nThe changes to Baikal are significant. They do have to do with the underlying components (sabre/dav) but it's basically an accumulation of 4 years of work on it, including fixing many bugs related to security, syncing, and performance. Also yea, there are several new user-facing features such as scheduling.\n. I'm closing this ticket because it's been a while since the last comment.\nIf this is indeed still an issue, feel free to comment here so we can continue discussing.\n. Makes sense, we do need to do this a bit better.\n. Not a bad idea perse, but this should be solved by sending more values to the templates and by introducing new template variables, and not by adding the value to the label.\nRegardless though, I think it might be better for you to target the \"silex-rewrite\" branch, as that branch will form the basis of the 0.5 and is basically a major rewrite.\n. Hi @netgusto / @jeromeschneider  , would it be possible to switch over the website and perhaps also the forum?\nThe forum could redirect to :\nhttp://groups.google.com/group/sabredav-discuss\nAnd the website should probably just go to:\nhttp://sabre.io/baikal/\n. This was fixed by @netgusto \n. There's two main ways to do 'sharing':\n1. Delegation\n2. Sharing\nDelegation is what @schmimat describes. It works today, but no UI. If you use apple iCal or BusyCal you can manage delegates from the client. Delegation does not work for every client. Delegation is for entire accounts.\n\"Sharing\" is something being worked on in sabre/dav. It will be released as sabre/dav 3.2 and after that release there will also be a baikal update. Sharing is per-calendar, not per-account. Sharing works for every caldav client out of the box, but can only be managed by some clients (again iCal and BusyCal).\nOne day there will be a web UI for this, but not sure yet when. Keeping this ticket open until baikal has integrated sabre/dav 3.2.\n. Next few weeks I'd say. But after release I'll wait a few more weeks until I also do a baikal release. \n. This app will at one point in the future: http://dmfs.org/caldav/ I don't know what DavDroid supports.\nBut even if they don't \"support\" sharing, they will still see shared calendars. That's the nice thing about the sharing spec.\n. sabre/dav 3.2 has been released this week, which has this feature... but I want that version to be out there for people to test for a few months before I upgrade baikal. Baikal users are usually less savvy than sabre/dav users, so it's important that it gets some real-word usage first as the changes are pretty major.\n. Yes I think that would be a realistic timeline. Sorry for being so conservative, but this project needs stability first \n. Thanks for the testing @Mischosch . I'd say that the biggest thing that you didn't test but is a problem, is that creating/managing calendars from the web interface won't work.\nThe Model system in Baikal is a bit clunky and really to release this, I just want to overhaul this part of the source so it uses the sabre/dav backends, instead of directly writing to the database.\nThe real blocker here is \"Moving to silex\" and some work has been done in #558 for this. \n. Currently he's the only one. I've been meaning to review his work so far and get it to the next level, but I haven't really been able to focus on Baikal as much as I'd like recently.\n. Maybe not a bad idea. \n. If we can get baikal 0.5 out the door, which is based on silex, that would make it very easy for me to take the next step and get sabre/dav 3.2 in here. The big problem for me is time constraints, even if the project were funded I still wouldn't be able to complete it quickly.\nI need help basically with this branch: https://github.com/fruux/Baikal/pull/568\n. Great! I had some problems with bountysource, so I opened a ticket for that:\nhttps://github.com/bountysource/core/issues/1057\nAfter that I should be able to re-enable bounties for the baikal project.\n. Hi!\nHere it is: https://www.bountysource.com/issues/33145013-share-calendar-between-baikal-users\nBountysource has been pretty buggy lately.\nKeep in mind that the main thing that needs to happen before calendar sharing can be added, is the move for silex. I'm pausing everything else until then because any work done before it would be double work.. Odd... I wonder if the upgrade process simply fails because it's not allowed to update the version number. From what I can tell though (from your log), the database upgrade was 100% successful. So one other workaround is to just do a clean 0.4.4 install and just move your (upgraded) database over the empty one....\n. But let me know if you have any more info or if there's anything we can do here...\n. Do you know if such a situation is_writable() will return true? I believe that's the check we use.\n. Interesting... turning this into a bug.\n. If you are running 0.5.0 it means you're running off the git version, which is not a good idea unless you are developer and testing.\n. Hi there,\nCould you please please share the following information:\n1. Which URL are you using to setup your client. Please share the exact url\n2. Can you share your webserver configuration? Either your apache or nginx virtual host configuration, or any custom .htaccess you might have.\n3. Are you using Digest or Basic authentication?\n4. What PHP version are you running?\n. For OS X, try removing the account, setting it up from scratch and try using one of these paths for setup:\nwww.domain.com/dav.php/principals/username/\nwww.domain.com\nNote the extra slash at the end of the user name. \n. Closing as it's been a while since the last feedback.\n. There's no plans like this currently. Sorry about that. We're mainly following standards and there is no standard for something like this yet.\n. The error pretty much explained it. You set up the baikal user in mysql so it is not allowed to execute the ALTER TABLE statement. Change this and it will work. Note that you need to restart your upgrade process from your backup, as you might otherwise end up with an inconsistent state.\n. Hi @MrFloya , could you tell me on which URL ifCloud is attempting to do this REPORT method?\n. Well.. are you sure? One way to explain this issue is that the correct REPORT request is being done, but on the wrong resource. I've seen some clients sometimes do this request on (in your example):\ndav.1wilkens.org/dav.php/addressbooks/<user>/\nwhich some servers support, but sabre/dav does not. So do you have more proof? Perhaps the webserver log line that shows the 415 response and REPORT method?\n. Hmm... could you try something for me? Check the database and read the value of the synctoken field for this particular addressbook in the addressbooks table.\n. It's the wrong file. Look in Specific/db. It's not encrypted and there's no username or password.\n. could you run this query and try again?\nUPDATE addressbooks SET synctoken = 1\n. I need to investigate this a bit more. I thought this was fixed, but I may have missed something. Definitely a bug\n. Should be fixed now and it's also part of the migration from old databases that have this bug.\n. The browser plugin is actually enabled by default now! What are you expecting to happen?\n. What version are you running?\n. Try downloading the latest version!\n. There's two issues with the patch:\n1. The firstoccurence column is pretty much just an index. For dates that long ago, I think it's fine to just change the php code to store 0 instead of a negative number. For most 'sane' use-cases this will be good enough, and I rather do that than change the data type.\n2. Any changes like this need to be submitted to the sabre/dav project, not the baikal project.\n. INT is by far a compacter format. I wanted to go for something fast. The firstoccurence and lastoccurence is not at all meant for humans to read, it's really only for speeding up certain queries. So no I think INT is the best type here.\n. Hi @omg1976 , forcing 0 for negative values should indeed be enough to solve this problem, but remember that a patch for this has to be submitted to https://github.com/fruux/sabre-dav\nIf you're not sure how to approach it, you can also just open a ticket there. I'll make sure then to fix it before the next release.\n. That's a very suspicious error. Does the file vendor/sabre/vobject/lib/Property/DateAndOrTime.php exist?\n. Sorry it's actually in the VCard subdirectory... missed that.\n. vendor/sabre/vobject/lib/Property/VCard\n. Then something went when you installed or uploaded the files.\n. Ah I was not aware that documentation was on the existing site. I will make sure we add it to sabre.io as well.\n. Interesting. Should be a somewhat easy fix. Probably a good idea to make STRICT_TRANS_TABLES an option in our unittests\n. This problem is actually happen because of an incomplete / incorrect upgrade. That statement (assetUnlocked) only appears in old baikal versions.\nSo when upgrading try to only retain the Specific directory and delete everything else (after a backup). If that doesn't solve the problem, we can reopen this ticket but I suspect it will.\n. This error indicates that the baikal user in MySQL was not permitted to execute ALTER TABLE. If you use some kind of MySQL management tool you should be able to see the Baikal user and change what it's allowed to do. If you simply add all the privileges for the baikal user, the upgrade should complete.\nHowever, you must make sure you start the upgrade over and don't try to complete the existing upgrade as this will likely cause corruption.\n. If you are not developing Baikal, then the only installation method you need to use is the one documented on http://sabre.io/baikal/install/, which means:\n- You use the zip.\n- You don't do anything with composer.\n- You don't do anything with git.\n. Could you give me some info about the size of your addressbook? How many contacts?\nAre you using Sqlite or MySQL? Lastly, could you run this sql command:\nSELECT SUM(LENGTH(carddata)) FROM cards WHERE addressbookid = ?\nMake sure you replace ? with your address book id.\n. Thanks for the correction @sirnone \nIf my hunch is correct, then the problem is not in the upgrade. The initial sync is just taking too much time to complete. Perhaps when you tried it the third time it managed to just complete. As soon as that initial sync is done, things should be fast again.\nThat's why I'm hoping to see some numbers. How much is too much? If you're willing to share your numbers and which DB you are using @sirnone that would also be helpful.\n. @sirnone , that is very small. I suspect that you had a different issue than @pgaufillet .\n@pgaufillet . Thanks for that. What this tells me is that for your initial sync we need to parse 10MB worth of vCard data. That doesn't sound like a lot, but it actually does take a lot of time.\nWhile I would be interested to see if we can improve performance for these operations, I'm not sure how easy that will be. At least in the future my plan is to implement something called 'managed attachments' which would automatically take embedded photos and store them on the filesystem.\nIn the short term the best workaround I can give is to simply increase php's execution time to a lot higher. Yes this means that the initial sync takes more than the 10 minutes you saw now, but I promise subsequent syncs should be a lot faster.\nYou can also try upgrading to PHP 7 if you're not running that already. Should at least double performance.\n. No. If the upgrade said it was successful, then it was succesful. This is unrelated to the upgrade and would also happen with a new installation (if the new installation had a 10MB addressbook)\n. Thanks that would be super helpful! Definitely interested in making this better, but it's not super easy.\n. The sync plugin actually partially solves the issue. I think the issue actually originates from the fact that we now parse vCards to ensure that we are returning the correct version (3 or 4) depending on what the client requested.\nThere are some potential workarounds. We could for example store in the backends what the version was (so we don't parse/convert if we know we don't have to) and we could actually modify the sync plugin to only send back a few vcards, forcing the client to do multiple requests, thus splitting up the responses in several smaller chunks.\nBut before deploying a workaround I would just love to get profile, because these workarounds help split up the load over multiple requests, but don't solve the core underlying issue. If the profile yields some information about clear bottlenecks, I'd love to just see if I can solve that first.\nIf you are willing to give up the info, I would volunteer to log in to your server and try to get the information out myself. I imagine that the actual profiling info would probably several gigabytes large though.\n. I just released sabre/dav 3.1.4 and baikal 0.4.5.\nThe sabre/dav version contains an improvement for CardDAV sync. Specifically, @pgaufillet sent me a profile for a carddav sync that should in theory now run twice as fast.\nClosing this as fixed, but if things are still terrible, let me know if I need to dig deeper!\n. Awesome!\n. I think the most likely is that a client is accessing your server, while you are simultaneously trying to upgrade. You might want to try making sure that only you can access the server (maybe with a firewall rule, or apache access rule).\nLet me know if that works! \n. The weird part is basically that that error is a SQLite specific error, indicating that something else is messing with the data. Copying from server to server doesn't really change this though. File-system locks are (as far as I know) mostly a thing on Windows. SQLite would have its own mechanism for this.\nYou could try to dump your entire sqlite database and re-create it. That should get rid of the locks for sure.\n. Ah I'm sorry, I was certain that that would have actually solved the problem. I'm not really sure then where else to look :/\n. I personally have no clue what could cause this. I've never seen this and as far as I know, the only situation where this can happen is if something has the sqlite database open while you are attempting to do the upgrade.\nIf you're absolutely sure there is no DAV client at all, and no browser open accessing baikal, it should work, but if it doesn't... I don't have a clue how to debug this :/\n. The core point here is, and both your threads point to this @c-mauderer , is that this problem occurs when we're doing modifications in the sqlite database while something else is as well (or is doing a select).\nPHP only does one thing at a time, so in theory this can only happen if something else also interfaces with baikal at the same time.\nPerhaps you could share some of your apache error logs from your server during the time you are doing the upgrade?\n. @c-mauderer , yes absolutely. In PDO queries everything is synchronous, so the first query has to fully complete before the next one starts.\n. alright, I'm very curious if that solves it then! \n. Try deleting the contents of the /var/lib/php/session directory.\n. Currently we didn't enable the iMip plugin. What this means is that if you invite someone who's not on the server, we don't sen the invites anywhere.\nWe certainly can enable it in a future version though.\n. I agree with the above, basically if you can find a generic migration tool for databases, it should in theory work as the schemas for sqlite and mysql are almost equivalent.\n. P.S. I never saw @untitaker 's previous comment.\n. I'm closing this ticket because it's been a while since the last comment.\nIf this is indeed still an issue, feel free to comment here so we can continue discussing.\n. I'm closing this as this is more of a general PHP question rather than a baikal specific one. There are plenty of other places to look for help.\nI will add though:\n1. Just running sudo apt install php-mysql should be enough. No further changes should be needed.\n2. It won't work until you restart the php fastcgi daemon (php-fpm)\n. What kind of issues does the wrong base uri start? I realize it's incorrect, but what does it actually break?\n. Baikal has an installation guide, if you use external websites chances are that the information you find is outdated.\nI'm also a bit curious if you ran chmod and a directory did not exist, why you didn't assume that that would be useful information to share here... kind of critical if one of the commands is not working!\nThese are the official installation docs:\nhttp://sabre.io/baikal/install/\nLet me know if you have questions following it. I'd be happy to help.\n. P.S.: the reason I closed the ticket was because it was identified you used the wrong instructions to install baikal. The solution to this was to use the correct instructions. Me closing the issue does not mean I was not listening to follow-up questions, and I would have reopened or at least answer any further questions you may have had. You missed that chance though.\n. As pointed out by @untitaker , we do this work for free. While we might not be perfect, we try to improve while delivering good support. If you're looking for commercial-class support, you can purchase it or use a different commercially supported application.\nLocking this thread. If you still want help and you're able to ask politely I'd still be happy to help. If not, please go away.\n. Interesting. Will take a look at this.\n. I want to add that if you're looking at a different way to do this, you should at the very least include some information on why the .htaccess route is not good enough. It's a bit hard to propose an alternative if you don't share why the official recommendation doesn't work.\n. Make sure you follow the upgrade instructions. Since you just copied your old database over a new installation, baikal could never detect this this and assumes you are fully up to date.\n. Hi @zbits,\nIf your admin interface says that you are running version 0.4.5, it means that the upgrade completed successfully. Upgrading can take a quite a bit, and longer than the nginx timeout. But I'm guessing in this situation the PHP script just continued the upgrade until completion while nginx sent back a timeout.\nBut only after all the database migrations are done, the upgrade script will update the system version (so 0.4.5) so I think this is a good indicator that it worked.\n. This is a good idea, but tasks actually support this just fine and so does Baikal.\nTasks can have a DTSTART which can be used as an indicator when you are supposed to start the task. There is nothing really on the server that we can do, because we supply clients all the info they need.\nThis feature request really needs to be implemented on the clients themselves. So the only advice I can give is to open feature requests there.\n. Yes you should ask them :) And if they have questions, I'm definitely willing to answer them.\n. This is a great start \ud83d\udc4d \n. I continued this in #568 . If you're making additional changes, feel free to target that branch for PR's. I'd also be happy to give you commit access.\n. Yes, will do! And we can definitely keep the discussion in the PRs, but maybe new questions can go into #568 \nThanks so much for your work so far. I have changed a bunch of stuff, but your foundation has been SUPER helpful.\n. The only open question I see is , 'is it ok to bump the minimum version to PHP 5.6', and that's fine to me. Idk If I missed anything.\n. Ah I also see some questions related to formbuilders/orms. I don't see a need for either at the moment. ORMS are especially bad for this, because one of the goals is to actually use sabre/dav's internal API's for managing calendars and addressbooks.\nDoing this is not yet possible for for users/principals, so those will get SQL queries for now, but the ultimate goal is that the Baikal admin only uses sabre/dav APis for managing data.\nAs for form-builders, I'd love to avoid it for a first version. I'd like to keep things somewhat simple, but it's something we could add later if there's a real need. I don't mind people doing a bit more work if it means less dependencies/systems/ideas to learn.\nI liked your UserRepository idea though, but also there I've simplified a bit. Less classes basically, but mostly the same overall design.\n. - Is there a possibility you have more than 1 account setup?\n- Does iOS still display the contact, even if creation failed? Maybe it landed in a local address book?\n. Just released 0.4.6 which should fix this issue.\n. Awesome! Sorry this took so long\n. Worry a little. It basically means that those calendar objects are all invalid. It means scheduling won't work on those, and there's a possibility that syncing the calendar that contains those objects will also fail.\nThe best thing you can do is delete the records (hoping you no longer need it). You can identify them in the database because those records in the calendarobjects table have no value for the uid column.\n. The only reason this would work if you attempted a previous upgrade, and that upgrade failed halfway through.\nI'm closing this ticket, because without information about the original failure, there's not really anything sensible we can do about this.\n. Hi @migu , just in case: it wasn't meant as a sort of criticism, and I did appreciate the report. It's just not something I can do something about ;)\n. Hi @spampitr ,\nLocking is indeed no longer a feature. If you upgraded to 0.4.5 and you are accessing the admin, it means that the upgrade must already have been successful. \n. There are changes. If you reached the admin it means the changes have already been applied.\n. Hi @accuraz,\nIn 0.4.5 I took out that feature. I think it's a bit of an usual feature to completely disable the admin automatically, and only allow logging in after manually setting a php source file.\nInstead, the recommended solution is to block access using your webserver configuration. This way you could for example even allow access only from certain IP addresses.\n. When using alternative tcp ports, the port goes after the hostname and not the path.\n. Hi @nickwaring \nCould you share more or less how your directory structure looks like? Do you have a html directory? In there, there should be a dav.php that you need to use instead of cal.php.\n. No feedback received\n. To set up thunderbird sync you need a full path to a calendar url, not a principal url. You can find your own calendar urls by opening dav.php in a browser and browsing to the correct calendar locations. The url will look something like this:\nhttp://server/dav.php/calendars/[username]/[calendar]/\n. awesome =)\n. Hi @enoversum , I would simply not recommend using HHVM. HHVM has not gotten the love and maintenance it once did, and after waiting very long for certain bugs to get fixed, I've given up on it and I'm no longer automatically unittesting it in most sabre/* projects.\nSorry about that, I'm happy to support HHVM if other people take the initiative and create workarounds for and submit patches.\n. Hey @felixfkrull ,\nThe intention is to put everything in config/config.php and write this file automatically by using PHP's var_export. Basically baikal will automatically generate that file when saving.\n. Great work @felixfkrull \n. I'd say this is the main news:\nhttps://evertpot.com/sabredav-eol/. A very common problem is a too old PHP version, but if that's not it, try to get those logs.\n. That function existed in 0.2.7, but not 0.4.5. I'm thinking you're using the old index.php. You can delete that, make sure you use the ones from the html directory instead.\nIf you feel better about it, you can also just do a fresh install of 0.4.5 and simply move your current Specific directory into that installation folder. You end up with a cleaner installation that way.\nClosing this issue, assuming this will fix your problem. If not, comment here.\n. Thank you! Patch is appreciated. In the future I think we'll combine the 2 settings panels, but getting closer to making baikal work the way it did pre-silex is a great help.\n. This is not possible currently. It likely will in the future though.\n. This is not currently planned.\n. Currently all the apis that deal with things like sharing, scheduling and delegation require this. The fact that it shows up in the debugging console is just a side-effect of this.\nWhile I can see that we might expose a 'private sync-only' mode later in the future, there's enough going on today that needs to be tackled first. \n. There's a search/autocomplete feature that clients use. Also the admin user will need to enumerate all users in the future. We could later on add more privileges that control specific things like this, it's just not something I see happening in the near-term.\nIf you're a user on a baikal system, you can find out who else is a user on that system. It's a feature, not a bug.\n. I'm not saying I don't understand the use-case, I'm saying I have limited time and this is not a priority for me.\n. My goal with this issue tracker is to only keep things that are actually tied to something that needs to be done. By closing the ticket I explicitly say, I don't plan on doing this.\nI acknowledge that a lot of people will want certain features from Baikal, that doesn't mean I should keep tickets open for all of them. I think it sends a clearer message if I don't.\nIf the ticket is kept open solely to document that this is a feature, the website is a more appropriate place to document it.\nAside from that, this was a fairly low effort feature request. If OP did a better job explaining motivations rather than jumping to conclusions I would be a lot more receptive.\n. @Globulino the problem with that approach is that the email addresses are still definitely exposed. It's security through obscurity. But if you're happy with that solution, I am too.\n. The likely problem here is that you simply need to wait even longer. This is frustrating, but I guarantee that the upgrade is happening in the background.\nTry set max_execution time to something ridiculous like 1800 (for 30 minutes). It might be enough to get to completion.\nThere is also a manual command-line upgrade possible. It's more obvious stuff is going on there and you're not tied to the browser. If you want, I can give you the instructions.\n. This is a good idea, and worth considering for a future version. We're doing a lot of re-writing so this could maybe be done then as well.\n. Some distros ship a default apache configuration that denies certain HTTP methods such as PROPFIND. Maybe try finding a Limit or LimitExcept clause in your apache config\n. I'm merging this for now because it has some good improvements, but the biggest issue is that the calendars list must not be generated from the database and must use the sabre/dav backends instead. This will give us a massive payout in the future for new features.\n. That is correct, but also an interesting point. I wonder if there's a way to escape the { in twig. Otherwise, we might have to convert those values to something else. We could for example turn it into something like dav.displayname.\n. That error is not something that is normally emitted by baikal or webservers. Can you perhaps share a screenshot or share the real error?\n. I'm closing this ticket because it's been a while since the last comment.\nIf this is indeed still an issue, feel free to comment here so we can continue discussing.\n. I think this is a duplicate of #559 \n. How did you do the upgrade? The upgrade script should create this table. This makes me feel that you maybe didn't follow the upgrade instructions but instead just put your old database in a new installation?\n. Closing this as 'Won't fix' as this is clearly a bug in this very old iOS version. This also sort of answers the other question:\n\nBut why should I buy a new device, if the old one is still fine?\n\nI actually applaud someone keeping old hardware going for that long. Well done, there's too much wastefulness already. Apple is just not good for people such as yourself. Apple stops caring really fast after they stop selling a product-line and basically leave consumers unsupported and insecure.\n. Not meant to be an Apple vs. Android argument. Just an argument against planned obsolescence. \n. Yes, that would be possible, but not really something that I would like to see in this project. We have some workarounds specific to badly-behaving clients, but one requirement to implement that is that there's has to be a large amount of users affected by it. For example, we do some special stuff for Windows Phone, because there's a bug in the current version that everyone sees. The hope is that over time new Windows Phone versions come out that fix that bug, and then eventually we can retire the workaround. We've also retired many apple-specific workarounds in the past and a whole bunch for Windows XP.\nHowever, the plugin system would allow you to implement this yourself. You can hook into a calendarObjectChange event and dynamically make that change in your installation. It would require you to do some digging into sabre/dav though.\n. This will eventually happen. Likely Q3 or Q4 of this year.\n. As far as I know, this is supported. Is there something specific you'd expect? What's not working?\n. Ah that is definitely out of scope for this project. A very interesting idea nonetheless. Would love to see something like this, and would even help someone write this but I can't take it on myself.\n. This setting has been removed, so this is expected behavior. If you want to block access to the admin, you should do this by changing your webserver configuration to block access.\n. Hi @Godi22 ,\nCan you access the php error log? The 500 error indicates that a PHP error happened, and the error log might help with extracting it.\n. The error log indicates that the database is not upgraded. Try performing the upgrade steps again. You really don't want to be stuck on 0.2.7. It's several years old\n. You messed up your installation. PHP is not functioning on your server. What you are seeing is your webserver spitting out php files without parsing them.\n. Install the 'mbstring' extension for php on ubuntu. Surprised that this is not yet the default!\n. WebDAV support in your webserver must be disabled. It's a fair mistake to make, but PHP needs to be responsible for handling WebDAV methods. If you let nginx intercept them, they never arrive in php and sabre/dav.\n. Try it in \"manual\" mode and use /dav.php/ \n. Hi zg. If /dav.php works, but /dav.php/principals/ does not, it might be a problem with your nginx configuration. Woudl you mind sharing the PHP settings?\n. Great to hear!\n. Hey! sorry for not messaging here earlier.\nGenerally the cause for this particular error is as follows:\n1. You upgrade baikal from 0.2.7 to 0.4.6\n2. The database upgrade fails\n3. You try again\n4. The upgrade fails again\nThis error is the error that would appear when trying upgrading again after a failed earlier upgrade. \nSo in order for me to help figure out what went wrong and to fix this bug, I really need the original error. The only way you (@DigiAngel @joschal) can get this information if you go back to your original 0.2.7 backup, attempt the upgrade again and describe the symptoms =)\n. Good to hear!\n. Hi @joschal ,\nIs it possible that you messed up with your previous backup? If you didn't make a backup before the upgrade process you're basically stuck here.\n. Nothing really has changed. The part of the upgrade code that this is hitting is from 0.3.0, which runs because you're upgrading from an older version.\nSo as of right now I don't have an answer. I maintain that the error is actually happining earlier, and the real error you are seeing is a side-effect of running the upgrade again, after a previous failed one.\nHowever, I have a manual upgrade process that you can try. Requires some console skills though.\nsabre/dav ships with a command-line upgraders that provides more feedback. It's shipped with baikal. You'll need to run the following commands:\n./vendor/sabre/dav/bin/migrate20.php\n./vendor/sabre/dav/bin/migrate21.php\n./vendor/sabre/dav/bin/migrate30.php\nYou must run them in order, and please report if one of them failed and with what error.\nWhen you first run the commands, it gives you some information on what arguments it needs. Specifically, you will need to pass it information on how to connect to your database.\nAfter all that you can change a configuration file in the Specific/ directory to tell baikal you are now upgraded.\nLet me know if that works!\n. Note that you can run vendor/bin/sabre-cs-fixer fix src/ to automatically fix all CS problems. No manual work!\n. Hi @saesh ,\n- Are you using mysql or sqlite?\n- How long did you wait to see if the items show up?\n- Could you tell me the value of the synctoken column in the calendars table for the calendar that's not syncing?\n. @saesh the empty synctoken is the bug here. Can you run .schema calendars and send me the output? I fixed this for addressbooks but apparently I missed something for calendars :(\nAfter that you can run:\nupdate calendars set synctoken = 1 where synctoken is null\nThis will temporarily fix syncing for calendars again.\n. Definitely a problem then. We'll need another db migration for those that have a version of sabre/dav that has this issue =(\n. Duplicate of #589 \n. Please ignore earlier comments, this is the full answer:\n1. You can do a database backup and restory\n2. But you must also retain the Specific directory in your baikal installation. This directory holds a number of settings and without this, the upgrade will not succeed.\nThere's more details, but they are described here:\nhttp://sabre.io/baikal/upgrade/\n. Hi, it doesn't seem to be an issue right now.Did you solve this?\n. From this point forward, please remove <IfModule in all the apache configuration you write. It's rarely ever what you want. It just causes things to silently fail.\nBut I don't think that your problem is related to that. Do you have anything in your error logs perhaps? Maybe the session couldn't be started, but i also don't know why that would fail between baikal 0.2.7 and 0.4.x\n. It's also possible that that directory does not exist. Based on the URL I suspect that you are on a shared host, and this is really a support question for them. If the directory doesn't exist, and you can't create it (and make it world-writable), you should contact support.\nHope that works, but if you (or they) get stuck, feel free to post here and I will do my best to help.\n. This plugin is loaded by default\n. The way the uri is configured will completely get ditched in 0.5, so this will no longer be an issue then.\n. Which version of baikal are you running? We've recently fixed some contact-related syncing bugs.\n. Hi @sirnone ,\nCould you try opening the exact url you used for lighting in a browser? It should also pop up the username and password screen. Do you get a correct result?\n@pr3d4t0r dav.php is indeed the correct endpoint now. The other two will be removed.\n. This is all really odd and I wonder if it's caused by some configuration on the server interfering. OPTIONS should usually be pretty \"simple\" to handle.\nAre you able to manually send the options request via the curl command line tool? I would be curious what the full response is. Example:\ncurl -v -X OPTIONS [url]\n. you're missing the url part =)\n. The OPTIONS argument belongs to -X, not -k. \n. There you go, getting a bit further :)\nNext step would be to add --username [youruser]:[yourpassword]. This should at least fully reproduce the same request you originally had.\n. Hi @jonasongithub ,\nThat last request went through perfectly. To me that might suggest that there's a difference between that request and the original request you did via Lightning.\nSo a few questions:\n1. Are you using the same url you used in lightning?\n2. Are you using the same username and password?\n3. Maybe something has changed in the meantime? Could you try setting up lightning again and see if you're getting an identical error as the first time you ran this?\n. In that case I'm completely lost why OPTIONS works from your command-line, but not lightning. I have no idea how to go further from this. The only thing I have left to offer is me actually going into your server and try to see if I can reproduce and/or fix this (which I would be happy to do, just drop me an email).\nGiven that that's the case, I have no other option but to close this until there is more detailed information about why one fails and the other doesn't.\n. Once a calendar is created, you can no longer change which components it contains. However, the only CalDAV client I'm aware of that actually uses this is Evolution. (Maybe KOrganizer as well).\n. Typically with 405 errors it means that your apache configuration has Limit or LimitExcept directives that blocks certain HTTP methods. If you find and fix this configuration, it should start working.\nAs an aside, OS X addressbook only supports 1 addressbook. If you add a second, it will be ignored.\n. I'm all for defense in-depth, but in this particular case I'm not sure if this is such a good idea.\nSetting this to 0600 fixes two attack vectors:\n1. The host (not Baikal, but some other process) is already compromised. Someone has access to the machine through a user that's not the webserver.\n2. It's a shared host, there's no chroot jailing, and there's a different user on the system that can't be trusted.\nThese are legit vectors, but small. The problem is that if we set it to 0600 we prevent people from FTP'ing into their machine and do a backup of their sqlite database. I'd consider that to be slightly worse.\nHowever, nothing is preventing you from setting it to 0600. If that's important to you, do it. You can also set php's umask setting globally, which is probably a good idea if you are worried about this. But I'm uncomfortable to make this the default.\nAnyway, the choice between security and usability is always a tough one and often it means one of the two needs to compromise in favor of the other. In this case I choose usability.\nI'm leaving this ticket open for further discussion. If I'm wrong, convince me!\n. Yea we obviously want this ;)\nA few notes for implementation:\n1. Must be done in a PR that uses the silex-rewrite branch as its basis. This branch is currently incomplete but it doesn't make sense to build new features on code we will eventually drop.\n2. Swiftmailer must be specified and installed as a composer package\n3. Which email provider is used (mail() or swiftmailer) and the smtp settings should be configurable in config/\n. Goal #1 is to make it work with the admin interface, and consistent with the rest of the code. Goal #2 is to also make it work well with docker.\nSince the configuration file is a php file, it is absolutely possible to specify configuration settings from the environment.\n. In the case of docker it should just be something like this:\nphp\nreturn [\n    'mail.plugin' => 'swiftmailer',\n    'mail.relayhost' => $_ENV['BAIKAL_STMP_RELAY']\n];\nBut please focus on the non-docker case, and figure that out later. Any PR submitted should first provide support for smtp ignoring the docker-case please.\n. There's no rush, and I don't know exactly when 0.5 is released. This feature can totally come after though.\n. The entire schema from Baikal is from stock sabre/dav. No changes have been made, making it easy for people to switch between sabre/dav and baikal and reducing the maintenance overhead.\n\nNo foreign keys are used in the schema, is there a reason for this (I guess many columns are actually related, such as the \"principals\" \"uri\" column and the \"principaluri\" columns in other tables)?\n\nthe reason for this is that you should be able to swap out the principals backend for your own store, and still have a functioning calendaring backend. If there were a foreign key, this would be very hard. This way there's less dependencies between the various stores (and also why we're not just using ids to connect a calendar to a principal).\n\nIs there some conscious assumption about the version of SQLite and MySQL used? (And therefore about the functionality that is/is not available?)\n\nJust use a maintained package, it will work. Postgres requires 9.5.\n\nThere seem to be tables that are not used (\"groupmembers\" for example), but are required in the code. Is this for future functionality, or are the schema designed with sabre/dav in mind and not just Baikal?\n\nGroupmembers are used for calendar delegation and can also be used for other kinds of access control delegation.\n. Hi,\nthe error suggest that the database migration actually did not happen. It's important to follow the instructions. It sounds to me like you did a fresh installation with an old database. This way baikal doesn't know it needs to upgrade the DB.\nIt would be best to go to your old backup and follow the upgrade instructions to the letter.\nI'm closing this ticket, but if you're having further problems feel free to comment here.\n@zbigniewcebula the log messages you shared are not errors and perfectly expected. If you're having an issue open a new ticket, this is unrelated.\n. Hey @equaeghe ,\nWhen you open the URL to the asset directly, the 404 that you are getting, is it emitted by sabre/dav or by nginx? If you're not sure, just make a screenshot of the 404 page and share it here. It will be a good indicator for where to look for the source of the issue.\n. The files come from `vendor/sabre/dav/lib/DAV/Browser/Assets'.\nBut this is really weird. I don't understand why this url doesn't work:\nhttps://baikal.example.org/dav.php/?sabreAction=asset&assetName=favicon.ico\nbut this one does:\nhttps://baikal.example.org/dav.php/\nI wonder if it's a botched nginx configuration.\n. Oh awesome, I will fix the docs immediately\n. Hi @herold2k ,\nThe short version to your answer is, if you are on sharing hosting it is probably not possible to lock this down this way. You need to be able to control vhost-level configufration.\nYou might be able to add deny rules via .htaccess, if your shared host allows it. Regardless, if you care about security, you might also want to stop using FTP ;) chmod is not gonna do much for you here.\nI'm closing this ticket, but I would be more than happy to answer follow-up questions. You might want to also consider more general forums where you can ask webserver configuration-related questions.\n. > You say on shared hosting it is not possible to lock Baikal down this way. Is it dangerous to use Baikal on shared hosting then? Would your advice be to not use Baikal on shared hosting? Or is it still 'secure enough'?\n\nWhen it comes to shared hosting, I think a better indicator is that they keep your PHP up to date. If you're running less than the latest version, that would be much more cause for concern. However, a bigger concern with shared hosting is all the people that are also on your server. This is not unique to baikal. \nWould it be better to change the owner (CHOWN) of all (sub-)directories and files in the baikal-directory to solely the PHP-user (wwwrun/www-data)? Will Baikal still run smoothly then?\n\nNo, this would likely be worse because it likely means that other users on your shared host can now modify baikal files. Best to keep everything under your own user name.\n\nAt the moment (after installation without changing anything) in the Baikal-directory all folders have permissions 755 and all files 644. Is that correct, does it make sense? Or should I change something here? If so: what should I change explicitly?\n\nYea, this makes sense to me.\n\nw.r.t. .htaccess: How should a .htaccess look like to make Baikal as secure as possible here?\n\nThe easiest thing to do would be to create a .htaccess file for every folder you want no one to access (this is everything except html/) and in that .htaccess file you put:\ndeny from all\n. Can you try removing the alias statement in your nginx config? I have a feeling it's related to that.\n. the fact that nginx is trying to map /dav.php/principals/ to some local path like /dav.php/principals/index.php definitely tells me that there is something still going on that is non-standard, and not typically found in nginx + PHP configurations.\nPerhaps I can suggest to simply start from your operating system default. I suspect some other nginx configuration is still interfering with this. Never seen this before!\n. Take a look at the server-side log. That log would imlpy there should also have been an error on the server.\n. Hi @tsia ,\nWhile the PR is appreciated, this is not yet something I'm ready to support. It needs a lot more fleshing out if in the future we decide to support file-server features. I much rather find a way for people to support this as a baikal plugin, and us trying harder to create a plugin system.\nThe big issue at the moment is that I don't have a ton of time, and we're in the midst of a rewrite which has been taking longer than I had hoped.\nI don't see myself building out and maintaining another large feature, especially given that it's built in the 'old' framework. I'm very sorry for that.\n. The best thing you can do is do a full download of the calendar, and see if there's an error appearing. When you open the calendar url in firefox, and add ?export to the end of the url you should get one big ics file.\nThat file can be validated. One tool for this is shipped with baikal (in vendor/bin/vobject). If that doesn't catch it, some other validator might. Let me know!. I don't really know at this point then. One option might be to contact the lightning bug tracker and see if you can find anything through there... . ?export mainly is processed by sabre/vobject and might clean up a few things because all files need to be parsed and re-generated. Going through the normal caldav process doesn't do this. It mainly just sends all the objects as they are stored to the client.\nIf export fully works for you, and the regular caldav route does not, I might have a workaround for you though. \n\nMake a backup (this is always step 1, I don't want to be responsible for data-loss ;))\nDo an export\nEmpty or remove your existing calendars\nCreate new calendars and use the export file to do an import again. I believe lightning can do this with \"File, Open\" and then selecting your .ics. file.\n\nNote that for 2000 events, this process might take a long time. Do this at home, where your computer is plugged in and the internet is uninterrupted.. Hi @pguth ,\nIt's a bit hard to tell without more information. If you received a 200 OK then this probably means there is something interesting in the response body that better describes a potential problem. You are right though that this should respond with a 207.\nIf you can get the full HTTP response from sabre/dav I can help you further, otherwise this will be hard.\n. To know what could be the cause of this, I need to see the HTTP response that gave you a 500 error. In the response body there would be a more detailed error.\n. To further debug this, I really need a bit more debugging information. In particular, the error that the server is really returning.\nNormally when the server emits an error, it will set both a status code and in the response body there will be a small XML document with some details about the error.\nIf you can get access to that info: great. If not, try downloading Charles HTTP Proxy (trial is free), start it and restart your client.\nWhen the client is making requests they should now be logged in charles. Either find the HTTP response that returns the error and send me the response body, or if you are not sure how to do that, save the session and email it to me personally.\nLet me know!\n. That's great =) I think the reason emClient is slow is because it uses vCard 4, and if your database contains mostly vCard 3 cards, we need to do conversions when emClient requests the cards, one by one.\nAs you may have found already, there's two things that would help a great deal speeding this up:\n\nPHP 7.\nMySQL\n\nAnyway, I'm closing this ticket because the original poster is MIA.. Maybe not the permanent state, but the original site got outdated and this made it possible for me to manage. I imagine with more time in the future a marketing site could get another look. Tnx!\n. Hi @philions ,\nCan you describe the symptoms? Are you saying that iOS prevents you from using the chinese keyboard? It's not really clear what the exact problem is. Regardless 0.2.7 is not supported and we won't accept bug reports about it.\n. In that case it's definitely an iOS bug. We don't do anything like that that would influence the client. Maybe report an apple bug?\n. Hi @khorben , I appreciate the patch, but there's a number of things wrong with it.\nI want to wait with upgrading to 3.2 until after we did our silex rewrite. One of the goals is that Baikal no longer directly interacts with the DB but instead relies on sabre/dav APIs to manipulate data. This ensures future compatibility.\nif you want to help move this project forwards, help with #558 / #575 . Once the silex rewrite is done, the upgrade to 3.2 should be relatively pain-free.\n. To further debug this, I really need a bit more debugging information. In particular, the error that the server is really returning.\nNormally when the server emits an error, it will set both a status code and in the response body there will be a small XML document with some details about the error.\nIf you can get access to that info: great. If not, try downloading Charles HTTP Proxy (trial is free), start it and restart your client.\nWhen the client is making requests they should now be logged in charles. Either find the HTTP response that returns the error and send me the response body, or if you are not sure how to do that, save the session and email it to me personally.\nLet me know!\n. You can hook into an exception event and log the information if you'd like. Documentation is here: http://sabre.io/dav/writing-plugins/\n. Hi @modir ,\nVARCHAR instead of VARBINARY doesn't really make a difference. The latter takes up less space on a harddisk, which is a small benefit, so it wasn't worth adding to the upgrader.\nThe 418 I'm a Teapot response is not an error. It's not an oddity in the protocol, but an excepted response.\nThe file where new plugins would be added, would be Baikal/DAV/Server.php, but again, I'm not providing support here. If you want my help, you'll need charles HTTP proxy.\nI'm closing this ticket, since you refuse to take the neccesary steps to help me get the correct information. If you do find it on your own, and there is a real bug, I would still like to know though.\n. This is great, thank you!!! :heart: \n. Ah I wish you separated the auth/session stuff from calendar/addressbook creation. One of my goals is actually to migrate the Baikal admin user to the sabre/dav auth system, so a baikal Admin is a sabre/dav admin and in the future other baikal users can use the baikal interface.\nThis might be ok for an intermediate solution though. Maybe I can postpone that auth migration to a later (0.6 or 0.7) version. Will take me a bit to fully review, but thanks as always!\n. Hey @felixfkrull , I can tell you more or less what my plan was:\nStep 1 for me was to move the baikal admin user into the sabre/dav database. Then I would still use normal silex/session based authentication, but I would simply call the internal sabre/dav API to check if the username and password is correct (so no http basic auth).\nAt this point my plan was also to do a hard check and only let the 'admin' user log in.\nStep 2 (maybe baikal 0.6 or 0.7) is to move more of the new baikal services to use access-control enabled sabre/dav api's. We're calling sabre/dav backend classes/tree classes now directly, but instead I would want to construct fake http requests so sabre/dav can do all internal access checking. This also means I can now let any user log in and manage their own calendars, because other user's calendars would be inaccessible out of the box.\nStep 3 (much later) would be to construct real HTTP requests to a real sabre/dav server. This mean that the sabre/dav server and baikal server don't have to share a code-base and you could hyptothetically host sabre/dav and baikal on completely different machines.\nAt this point it would also be possible for Baikal to manage other caldav/cardav servers that aren't sabredav.\nFor now, don't worry about spitting up this PR. I just need a bit more time to go over it. I've been preparing conference presentations for the past few weeks. Conference is this weekend so after that some time will free up again.\n. Hi @Crazyphil ,\nThe work is appreciated, but unfortunately I can't really accept it, as it's taking an approach to this feature that doesn't really match the direction I want to take Baikal in, for a number of reasons:\n1. We're doing an almost full rewrite of Biakal in Silex in #621. Simplifying the code a great deal.\n2. An LDAP auth backend should really be written for the sabre/dav project, not here. An IMAP backend has been contributed recently there too.\n3. Similarly, I think approach to provisioning here is not great. I want to automatically generate principals, calendars and addressbooks when a user signs on for the first time, but it shouldn't involve the 'users' table, and this feature is also something I'd want in sabre/dav, not baikal.\nIf you're willing to take on some of these things, it would definitely be welcome and appreciated. If not, I do think that all of this stuff will one day come. \n. Hi @dopefishh ,\nsince you already have a part of the access logs, are you able to share more? The response to the PROPFIND and OPTIONS are expected.\n. Is that the same amount of responses you're getting when you are setting up the client from scratch? Or is this only after it was already set up?\nThe odd thing about those long entries is that there's far too little. I'd expect a lot more :/\n. interesting! How many different users do you have in your baikal?\n. This is a known problem. Server-sent invitations are planned for addition in the next Baikal version\n. Hi @ffstone ,\nWe simply don't support client-sent invitations at the moment, and I have no plans to add support back for that.\n. Hi @ffstone,\nI actually took another look at the actual error. The error itself is actually likely caused because there is a corrupted iCalendar object in your database. The request itself is meant to see if the attendees are busy or not, and to do that it will read the attendees calendars.\nThis indicates that while it's doing that reading, it came across a broken iCalendar, causing the operation to fail.\nTo find this, if you are able to, I think the most likely is that there's some object in the calendarobjects table that doesn't end with END:VCALENDAR. They all should, but this error indicates that maybe there's one that doesn't. This last paragraph is a hunch, it could also be a missing END:VEVENT or something else.\n. Hi @ffstone ,\nIf you're getting the same error a completely empty calendar then there's definitely something odd going on. Are you getting the exact same HTTP/1.1 500 error or a different, but similar error?. I have a bunch of problems with this PR. The biggest is that it's a bit incomplete. I don't think it makes sense to enable this, without also enabling a provisioning system. Right now enabling this means that users still have to be created in Baikal. Baikal will still ask for a password. This is all a bit odd to me.\nIt's also inaccurate to call it http authentication, because Digest and Basic are both also HTTP authentication.\nSo for now I don't want to integrate this, unless:\n- A provisioning system is in place.\n- This targets the silex-rewrite branch.\n- Thought has gone into what happens to existing users if the authentication system is switched, and how the interface changes.\n. Two factor auth is a good idea. I'm keeping this here as a future idea, but it's hard to make any promises for when I get around to it.\nI agree with unittaker that this doesn't do much for bruteforce. \n. Yup I'm aware of Google Authenticator ;) use it myself quite a bit.. Duplicate of #116 . Good idea. What I don't like about this setting is that it's likely to be a false positive. In many real-world situations we can't detect whether SSL is used because it's done by a local reverse proxy. This is true for cloudfront and others. This means that for many security conscious that have SSL in place actually need the setting to be off for it to work.\nI think the right answer is to indeed listen to @florianl and find a way to solve it on the webserver level. If your shared host doesn't support it, there's many virtual private hosters these days where you do have full control over the environment. How security conscious can you really be if you can't control your security settings and you share one machine with others?. Hey! You're not wrong. There's a pretty low amount of sql indexes in the sqlite files. MySQL is a lot better in that regard. This is definitely worth fixing.. This issue was moved to fruux/sabre-dav#918. Hi! I don't think this is still an issue on the silex-rewrite branch. This branch is the future baikal 0.5 version. I believed we fixed the major issues with this. Thanks for the contribution though.. Hi! It's not rely clear what your question is, but regardless Baikal 0.2.7 is no longer supported. Hi @bisento ,\nDOing a new installation with old data is not hard:\n\nUnzip the new version\nOverwrite the Specific/ directory from your old version.\n\nAs long as you do that, baikal will pick up the old data and initiate the upgrade.. Hi @philions , I'm fairly sure that Cardav-Sync only allows you to sync one address book. If you don't see it on other servers, it probably just means they only have 1 addressbook (which is pretty common).\nI'd suggest taking it up with the maintainers of Cardav-Sync!. Hi @kurt89523 ,\n\nYes, changing things like that is fine.\nNo, we haven't really planned this feature. File storage can be pretty complicated. Maybe later in the future, if there's more time.. Hi @RMHogervorst ,\n\nI agree that the documentation is a bit sparse. Could definitely use some help here. I'll keep it open in case someone wants to pick this up.. sabre/dav (and thus baikal) supports vCard 3.0 and 4.0 and stores the cards as it received them.\nIf a vCard 4 client access the server, it will return only 4.0 cards and convert the 3.0 cards to 4.0 on the fly. It will do the same for vCard 3 clients (but convert from 4 to 3 if needed).\n. Hi @wsdefghjk-23124 ,\nDo you see any server-side error messages? The client is doing a fairly simply operation, and there's no way that that operation should take as long as it does for you (over 30 seconds).\nThis makes me feel that maybe there's something misconfigured on your server.. Hi @wsdefghjk-23124 ,\nA time difference should not make a real difference for CalDAV. The current wall time is never really used for anything.\nReally ideally you'd increase the apache log level and see from there. I'm not entirely certain where you can put error_log statements. What we need to know really is why the connection is broken.. Hi @theelectricsoul ,\nThe most likely reason for this problem is that Thunderbird can only remember 1 username/password set for a domainname. So if you did a fresh installation and your username and/or password is now different, thunderbird might just use the old/wrong one.\nThe best thing you can do is remove all saved passwords and go from there, but keep in mind that you can't have both your new and old installation on the same domainname if you want both to work at the same time with Thunderbird.\nClosing this as I think it will answer your question, but if it doesn't just let me know.. Hi @beli3ver , is this still an issue? I also noticed this question: #646 which is also your issue.. Do you have a fastcgi or php log? What does it say? (104: Connection reset by peer) while reading upstream, tells me that the fastcgi might be crashing, but I can't be certain.. I don't think I can answer this. I do think that it's a problem with your SSL configuration. Are you able to open the url with plain safari? Maybe take a look at this tool to see if your SSL is configured correctly:\nhttps://www.ssllabs.com/ssltest/. For the OP, I'm getting this error on the domain you gave us:\ndav.mailgermania.de uses an invalid security certificate. The certificate is only valid for mail.mailgermania.de\nI think that error is pretty clear ;) Closing this ticket for that reason. A cross-migration between databases is not supported. I think it should be possible to find tools that help you do the migration (as the schema between sqlite and mysql should be identical), but it's not something we want to officially support as we don't know the quality of those tools.\nThat error (no such column: synctoken) definitely indicates something went really wrong in this process, as the much older database schema did not have that column, but never versions do. . That's good to hear. I'm glad that worked. It might actually be the better / more reliable way to migrate.. Hi!\nI don't really know what could be wrong in this case. I don't think there's a reason for the OPTIONS request to fail. What happens if you open the relevant urls in a browser?. The intention definitely is to change and improve this process a bit. Are there still outstanding critical bugs here, or was there a misunderstanding? The thread is a bit hard to follow.. That version of baikal does not have an export function. It was added much later. To use it, upgrade first.. Excellent!. First, try opening that same url in a browser. What do you see?On Jan 8, 2017 1:18 PM, dm85d notifications@github.com wrote:Install baikal 4.6\nThunderbird 45.5.1 + Light 4.7.4\nhttps://mx.dm.ru/baikal/cal.php/calendars/public/default\n\u041a\u043e\u0434 \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u044f: 2147746065, \u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0430\u043d.\nServer Replied with 500\nPrompt how to diagnose?\n\u2014You are receiving this because you are subscribed to this thread.Reply to this email directly, view it on GitHub, or mute the thread.. Hi Robbie,\nYou should use the sync token, but that's not why this is failing. You are doing the request on a principal, not a calendar . Glad that helped! . Indeed there would not really be a security difference. I don't see the point of this.. Email invitations will be enabled in the next release of baikal. It's coming. I'll keep this open as a feature request as I can't find the original ticket.. I'd like both :) this one is a bit quicker than also adding swiftmailer . This is a good idea. We have some support for it in sabre/dav, but not yet in baikal. The important thing is that we need to have 'provisioning support' first. This means that for new users logging in, we need to automatically do a bit of work to make sure that the users are setup correctly. One that part is implemented, adding something like imap-based auth should be relatively easy.. @SeLLeRoNe agreed. that's exactly what's need to happen, along with creation of default calendars/addressbooks.. Than you!. LGTM. Note that these will be removed in a future version. Just dav.php is the one you want to use.. No, this is not possible. Every .vcf must only have 1 contact in it.. Thanks. These are covered in composer.json, but it makes sense to add them to sabre.io too.. Nah not your fault at all. We should document it ;). I'm not sure, and I don't have a lot of experience with this. I heard this mentioned before though, so I'm interested.\nCan you give me some examples of other well-known applications that support this? It would be good to know how others do this so I have something to copy.. Ah sorry I meant to be more specific. Do you know of any PHP applications that have good support for this? I just want to see how they approached this. I really just want to look at something that is pretty close to Baikal that I can kind of use as a template for this.\n. Thanks @staabm , that's helpful. @chris42 I understand but it's still nice to look at other implementations.. How did you install Baikal?. I see. The problem is that you're using an outdated file to access baikal. The upgrade process is a bit sloppy at the moment, and I need to fix it. A better way to upgrade is to take the following steps:\n\nDo a clean installation of Baikal\nCopy your old Specific folder from to the new Baikal directory.\nOpen the admin interface.\n\nThis works much better because you don't end up with a lot of 'leftover' files that don't do anything.. Will be fixed in 0.5.0. Closing this issue at it seems like it is answered. If there's still problems, don't hesitate commenting here.. Hi @gaedol , \nThat sounds like bad news. Can you try the upgrade again? The upgrade should not successfully complete if it can't create propertystorage. It's basically part of the upgrade.. This is a good idea. No client I know of will support this out of the box.. No, this is not possible with baikal at the moment. We might add something like this in the future, but no client I'm aware of would be 'aware' that there's actually multiple calendars contained within a single file.. @chrisdecker1201 is right, although the fix is specifically for windows.If you're not on windows, try to find the correct way for your operating system to install this package. . https://evertpot.com/sabredav-maintenance-update/. What PHP version is this?\n. The default transport (local delivery) works just fine.. There's a lot of assumptions in both your original message and this new comment, which frankly I find a bit rude. I don't know what the 'boundary' of groupware and non-groupware is, but scheduling within teams is a pretty powerful feature and something I'd definitely not remove. Features like freebusy also rely on this, and is also something that was requested a lot by users and well-loved. . Hi @Yogui79 ,\nGive cardbook a shot: https://addons.mozilla.org/en-US/thunderbird/addon/cardbook/\nI think it's maintained a bit better and seems to be more stable.\nEvert. Newer sabre/vobject versions (the lib that parses icalendar) have become more strict in terms of what kind of data they accept. In the past it ignored a lot of problems that it shouldn't have.\nThe issue in this case is that you have a broken iCalendar object in your database. vobject tries to parse it to expand it, but can't because the object is invalid. If you can find out in your db which the broken iCalendar object might be, deleting it will solve this problem. It's not a very easy solution, I know.... ",
    "nagyrobi": "What was the config problem in the hosting PHP environment? Can't find it... Please help!\n. Oh, I see. In that case, I won't be able to fix it like that. The hosting environment is a production one with many other services running, can't be just upgraded on the fly. \nCould you please help me in fixing the problem? I really need to have running an indeed Lightweight CalDAV and CardDAV server, and it looks this is the only one outthere.\nI tried both the flat and regular packages, issue is still there. Tried with include_path values, no go at all.\n. I guess so... but I can't give shell access. \nJust please give me hints where to start digging\n. I have PHP Version 5.3.2.\nMaybe this is your case too:\nhttp://www.php.net/manual/en/language.oop5.php#100209\n. Really? I'll have a look into SOGo also.\n. Works with PHP 5.4.0. \nUpdated Ubuntu 10.04 LTS according to this: http://www.upubuntu.com/2012/03/how-to-upgrade-install-php-540-under.html\nYou should update readme and innstall guide, webpage etc. that minimum requirement is PHP 5.4.0\n. I'm a bit mad though, because upgrading PHP broke a couple of other things.\nAnd I really hope I won't end up like Tobias did...\n. What was the config problem in the hosting PHP environment? Can't find it... Please help!\n. Oh, I see. In that case, I won't be able to fix it like that. The hosting environment is a production one with many other services running, can't be just upgraded on the fly. \nCould you please help me in fixing the problem? I really need to have running an indeed Lightweight CalDAV and CardDAV server, and it looks this is the only one outthere.\nI tried both the flat and regular packages, issue is still there. Tried with include_path values, no go at all.\n. I guess so... but I can't give shell access. \nJust please give me hints where to start digging\n. I have PHP Version 5.3.2.\nMaybe this is your case too:\nhttp://www.php.net/manual/en/language.oop5.php#100209\n. Really? I'll have a look into SOGo also.\n. Works with PHP 5.4.0. \nUpdated Ubuntu 10.04 LTS according to this: http://www.upubuntu.com/2012/03/how-to-upgrade-install-php-540-under.html\nYou should update readme and innstall guide, webpage etc. that minimum requirement is PHP 5.4.0\n. I'm a bit mad though, because upgrading PHP broke a couple of other things.\nAnd I really hope I won't end up like Tobias did...\n. ",
    "DaSchTour": "I have Ubuntu 10.04.4 LTS and PHP 5.3.2-1ubuntu4.18 with Suhosin-Patch (cli) (built: Sep 12 2012 19:12:47) and it doesn't work. That really sad, I hope I finally found a great Software for CalDAV and CardDAV and now this. I'm a bit disappointed that you always have to use the newly released PHP that isn't available in any normals Linux Distro.\nThe next project that I have to take from my can-be-used-in-future-projects-list.\n. I have Ubuntu 10.04.4 LTS and PHP 5.3.2-1ubuntu4.18 with Suhosin-Patch (cli) (built: Sep 12 2012 19:12:47) and it doesn't work. That really sad, I hope I finally found a great Software for CalDAV and CardDAV and now this. I'm a bit disappointed that you always have to use the newly released PHP that isn't available in any normals Linux Distro.\nThe next project that I have to take from my can-be-used-in-future-projects-list.\n. ",
    "jbfriedrich": "So I dont think this is a PHP hosting issuse. This is reproducable with 10.04 LTS and the PHP version that is delivered with it. The documentation should be updated to state that you need to have at least PHP 5.4. It works without any problems when you use >PHP 5.4\n. That is possible, but all documents state that 5.3.0 is sufficient to run the software. This needs to be changed or the bug needs to be fixed. I tried to work through the code and especially take a look at the namespaces, but my experience with PHP is unfortunately not sufficient to debug and provide a fix. Otherwise I would. :(\n. I was able to fix this problem by myself. My first thought was misleading. After reading this page on the SabreDAV Wiki I added the following line to the server block of my nginx configuration:\nrewrite ^/.well-known/carddav /card.php redirect;\nNow you only have to specify the name of the server, no need to specify the path with \"/card.php\" anymore. The iPhone uses the redirect and gets pushed to the right address.\n. So I dont think this is a PHP hosting issuse. This is reproducable with 10.04 LTS and the PHP version that is delivered with it. The documentation should be updated to state that you need to have at least PHP 5.4. It works without any problems when you use >PHP 5.4\n. That is possible, but all documents state that 5.3.0 is sufficient to run the software. This needs to be changed or the bug needs to be fixed. I tried to work through the code and especially take a look at the namespaces, but my experience with PHP is unfortunately not sufficient to debug and provide a fix. Otherwise I would. :(\n. I was able to fix this problem by myself. My first thought was misleading. After reading this page on the SabreDAV Wiki I added the following line to the server block of my nginx configuration:\nrewrite ^/.well-known/carddav /card.php redirect;\nNow you only have to specify the name of the server, no need to specify the path with \"/card.php\" anymore. The iPhone uses the redirect and gets pushed to the right address.\n. ",
    "zealot128": "Does it work with 5.3.3? I can't upgrade to 5.4 due to legacy PHP app's running on the same server. :(\n. see #12 \n. Does it work with 5.3.3? I can't upgrade to 5.4 due to legacy PHP app's running on the same server. :(\n. see #12 \n. ",
    "verwilst": "That was the only thing that really stood out as a missing feature, having both email account and caldav account with the same credentials would be awesome! \n. I guess this can be closed since it's in 0.2.6 ( or earlier? )\n. That was the only thing that really stood out as a missing feature, having both email account and caldav account with the same credentials would be awesome! \n. I guess this can be closed since it's in 0.2.6 ( or earlier? )\n. ",
    "michelkaeser": "if Possible IMAP Authentication where a user is simply authenticated using their IMAP credentials\n+1\ncurrently deploying a mailserver with Postfix/Dovecot + Z-Push (works great for IMAP so far). Planing to use baikal as a Backend for calender/contacts. would be great!\n. Hmm, can't get it to work.\nBasically I have adapted the code above to:\n- ignore modtime\n- not update user\n- string_replace username (so -- with . and --- with @) for IMAP auth.\nHowever, mostly everything fails.\nMay it be cause of running nginx?\nI've placed whole baikal standard to /usr/share/baikal and set document root to /usr/share/baikal/html as well as using the provided vhost. Seems to fail at auth however...\n. No need to apologize :) I got it working...had to use another port/options for IMAP connection :) sometimes I still get \"throw exception without stack trace\", but it doesn't stop anything from working. :)\n. if Possible IMAP Authentication where a user is simply authenticated using their IMAP credentials\n+1\ncurrently deploying a mailserver with Postfix/Dovecot + Z-Push (works great for IMAP so far). Planing to use baikal as a Backend for calender/contacts. would be great!\n. Hmm, can't get it to work.\nBasically I have adapted the code above to:\n- ignore modtime\n- not update user\n- string_replace username (so -- with . and --- with @) for IMAP auth.\nHowever, mostly everything fails.\nMay it be cause of running nginx?\nI've placed whole baikal standard to /usr/share/baikal and set document root to /usr/share/baikal/html as well as using the provided vhost. Seems to fail at auth however...\n. No need to apologize :) I got it working...had to use another port/options for IMAP connection :) sometimes I still get \"throw exception without stack trace\", but it doesn't stop anything from working. :)\n. ",
    "Erwane": "+1 :)\n. +1 :)\n. ",
    "muggenhor": "Better yet: instead of using a hash try a proper key-derivation function such as bcrypt, scrypt or PBKDF2. Unlike hashes, which are designed to be fast, these are designed to make password bruteforcing expensive.\nPHP's new password_hash() and companions actually implement proper password handling in a way that's at least compatible with systems where crypt() implements bcrypt. (E.g. Dovecot on *BSD)\n. This looks like its related to #15, but this bug report better addresses the fact that the current implementation is basically a security bug.\nAs for MD5 being broken: it isn't completely, but regardless that isn't the reason that you shouldn't use it for passwords anymore. The reason you shouldn't use any \"general purpose\" hash (whether \"cryptographic\" or not) for passwords is that computing them is too cheap. Instead you should use a password-strenthening hash scheme, such as bcrypt, scrypt or PBKDF2. Bcrypt is implemented by PHP's new password_hash.\nAnyway, because I don't believe password auth should be done by Baikal at all, I'm using Apache auth and overruling Baikal's impl by using SabreDAV's \"Apache\" authentication backend. (Basically that just assumes that whatever ends up in $_SERVER['REMOTE_USER'] is the authenticated user).\nIf calendars should be sharable between users maybe adding an LDAP backend could be a good idea (as it can manage both authentication as well as authorization).\nThis is the patch I'm using:\n``` diff\n--- Core/Frameworks/Baikal/WWWRoot/cal.php\n+++ Core/Frameworks/Baikal/WWWRoot/cal.php\n@@ -55,10 +55,7 @@\n }\n# Backends\n-if( BAIKAL_DAV_AUTH_TYPE == \"Basic\" || preg_match('/Windows-Phone-WebDAV-Client/i', $_SERVER['HTTP_USER_AGENT']) )\n-    $authBackend = new \\Baikal\\Core\\PDOBasicAuth($GLOBALS[\"DB\"]->getPDO(), BAIKAL_AUTH_REALM);\n-else\n-    $authBackend = new \\Sabre\\DAV\\Auth\\Backend\\PDO($GLOBALS[\"DB\"]->getPDO());\n+$authBackend = new \\Sabre\\DAV\\Auth\\Backend\\Apache();\n$principalBackend = new \\Sabre\\DAVACL\\PrincipalBackend\\PDO($GLOBALS[\"DB\"]->getPDO());\n $calendarBackend = new \\Sabre\\CalDAV\\Backend\\PDO($GLOBALS[\"DB\"]->getPDO());\n--- Core/Frameworks/Baikal/WWWRoot/card.php\n+++ Core/Frameworks/Baikal/WWWRoot/card.php\n@@ -52,10 +52,7 @@\n }\n# Backends\n-if( BAIKAL_DAV_AUTH_TYPE == \"Basic\" || preg_match('/Windows-Phone-WebDAV-Client/i', $_SERVER['HTTP_USER_AGENT']) )\n-    $authBackend = new \\Baikal\\Core\\PDOBasicAuth($GLOBALS[\"DB\"]->getPDO(), BAIKAL_AUTH_REALM);\n-else\n-    $authBackend = new \\Sabre\\DAV\\Auth\\Backend\\PDO($GLOBALS[\"DB\"]->getPDO());\n+$authBackend = new \\Sabre\\DAV\\Auth\\Backend\\Apache();\n$principalBackend = new \\Sabre\\DAVACL\\PrincipalBackend\\PDO($GLOBALS[\"DB\"]->getPDO());\n $carddavBackend = new \\Sabre\\CardDAV\\Backend\\PDO($GLOBALS[\"DB\"]->getPDO()); \n```\nWhich I combine with this snippet in my Apache's virtualhost config:\n``` apache\n\n    AuthType Basic\n    AuthName \"BaikalDAV\"\n    AuthBasicProvider file\n    AuthUserFile /usr/local/etc/apache24/cal-users.htpasswd\nRequire valid-user\n\n\n```\n. @yuv PAM requires local users, which I don't want, and IMAP requires mail users. Having Apache do the authentication instead permits reusing Apache's large amount of authentication modules (e.g. other than file-based I can imagine people wishing to use LDAP).\n. Better yet: instead of using a hash try a proper key-derivation function such as bcrypt, scrypt or PBKDF2. Unlike hashes, which are designed to be fast, these are designed to make password bruteforcing expensive.\nPHP's new password_hash() and companions actually implement proper password handling in a way that's at least compatible with systems where crypt() implements bcrypt. (E.g. Dovecot on *BSD)\n. This looks like its related to #15, but this bug report better addresses the fact that the current implementation is basically a security bug.\nAs for MD5 being broken: it isn't completely, but regardless that isn't the reason that you shouldn't use it for passwords anymore. The reason you shouldn't use any \"general purpose\" hash (whether \"cryptographic\" or not) for passwords is that computing them is too cheap. Instead you should use a password-strenthening hash scheme, such as bcrypt, scrypt or PBKDF2. Bcrypt is implemented by PHP's new password_hash.\nAnyway, because I don't believe password auth should be done by Baikal at all, I'm using Apache auth and overruling Baikal's impl by using SabreDAV's \"Apache\" authentication backend. (Basically that just assumes that whatever ends up in $_SERVER['REMOTE_USER'] is the authenticated user).\nIf calendars should be sharable between users maybe adding an LDAP backend could be a good idea (as it can manage both authentication as well as authorization).\nThis is the patch I'm using:\n``` diff\n--- Core/Frameworks/Baikal/WWWRoot/cal.php\n+++ Core/Frameworks/Baikal/WWWRoot/cal.php\n@@ -55,10 +55,7 @@\n }\n# Backends\n-if( BAIKAL_DAV_AUTH_TYPE == \"Basic\" || preg_match('/Windows-Phone-WebDAV-Client/i', $_SERVER['HTTP_USER_AGENT']) )\n-    $authBackend = new \\Baikal\\Core\\PDOBasicAuth($GLOBALS[\"DB\"]->getPDO(), BAIKAL_AUTH_REALM);\n-else\n-    $authBackend = new \\Sabre\\DAV\\Auth\\Backend\\PDO($GLOBALS[\"DB\"]->getPDO());\n+$authBackend = new \\Sabre\\DAV\\Auth\\Backend\\Apache();\n$principalBackend = new \\Sabre\\DAVACL\\PrincipalBackend\\PDO($GLOBALS[\"DB\"]->getPDO());\n $calendarBackend = new \\Sabre\\CalDAV\\Backend\\PDO($GLOBALS[\"DB\"]->getPDO());\n--- Core/Frameworks/Baikal/WWWRoot/card.php\n+++ Core/Frameworks/Baikal/WWWRoot/card.php\n@@ -52,10 +52,7 @@\n }\n# Backends\n-if( BAIKAL_DAV_AUTH_TYPE == \"Basic\" || preg_match('/Windows-Phone-WebDAV-Client/i', $_SERVER['HTTP_USER_AGENT']) )\n-    $authBackend = new \\Baikal\\Core\\PDOBasicAuth($GLOBALS[\"DB\"]->getPDO(), BAIKAL_AUTH_REALM);\n-else\n-    $authBackend = new \\Sabre\\DAV\\Auth\\Backend\\PDO($GLOBALS[\"DB\"]->getPDO());\n+$authBackend = new \\Sabre\\DAV\\Auth\\Backend\\Apache();\n$principalBackend = new \\Sabre\\DAVACL\\PrincipalBackend\\PDO($GLOBALS[\"DB\"]->getPDO());\n $carddavBackend = new \\Sabre\\CardDAV\\Backend\\PDO($GLOBALS[\"DB\"]->getPDO()); \n```\nWhich I combine with this snippet in my Apache's virtualhost config:\n``` apache\n\n    AuthType Basic\n    AuthName \"BaikalDAV\"\n    AuthBasicProvider file\n    AuthUserFile /usr/local/etc/apache24/cal-users.htpasswd\nRequire valid-user\n\n\n```\n. @yuv PAM requires local users, which I don't want, and IMAP requires mail users. Having Apache do the authentication instead permits reusing Apache's large amount of authentication modules (e.g. other than file-based I can imagine people wishing to use LDAP).\n. ",
    "confilemg": "+1\n. +1\n. Is Baikal still under development?\n. Is there an active fork of Baikal?\n. Did you try Baikal2? Does it work well?\n. My usecase is to use it for my Android, iPhone and iCal. Can I still use it for that?\n. So which part ist actually not working?\n. Beside that I can use Baikal2 like Baikal1?\n. Okay fine. One last question. When you change something how do I make the update? For the server code I suppose I just replace the code in the Baikal folder on the server but how do I make the updates with the database? Does the server code includes any migrations which automatically update the database?\n. Okay so without migrations it will not good to use Baikal2 right now.\n. +1 that would be great if Baikal stores the data encrypted.\n. Could you please post a description of what to do?\n. @api984 could you please release a new version which includes the share feature. I think this will help a lot of people.\n. Okay great. Will you provide migration files. If someone uses Baikail now he must be able to upgrade to your version.\n. +1 Baikal is great. Good job!\n. Is Baikal dead?\n. +1\n. +1\n. Is Baikal still under development?\n. Is there an active fork of Baikal?\n. Did you try Baikal2? Does it work well?\n. My usecase is to use it for my Android, iPhone and iCal. Can I still use it for that?\n. So which part ist actually not working?\n. Beside that I can use Baikal2 like Baikal1?\n. Okay fine. One last question. When you change something how do I make the update? For the server code I suppose I just replace the code in the Baikal folder on the server but how do I make the updates with the database? Does the server code includes any migrations which automatically update the database?\n. Okay so without migrations it will not good to use Baikal2 right now.\n. +1 that would be great if Baikal stores the data encrypted.\n. Could you please post a description of what to do?\n. @api984 could you please release a new version which includes the share feature. I think this will help a lot of people.\n. Okay great. Will you provide migration files. If someone uses Baikail now he must be able to upgrade to your version.\n. +1 Baikal is great. Good job!\n. Is Baikal dead?\n. ",
    "m0yellow": "Update: I did upgrade to latest commit in git: f8e43241bfa838ebcac754b400379e9c432d3bfa\nnow I get another error.\nI found out, I have sqlite two and three installed, but php links to sqlite2. Can I downgrade the DB without error?\nexception 'Exception' with message 'SQL ERROR in: 'INSERT INTO principals\n                (\n                    uri,\n                    displayname,\n                    email\n                ) VALUES (\n                    'principals/testuser',\n                    'testuser',\n                    'sorry@have.no'\n                )'; Message: Array\n(\n    [0] => HY000\n    [1] => 14\n    [2] => unable to open database file\n)\n' in .../CoreVersions/0.2.1/Frameworks/Flake/Core/Database.php:181\nStack trace:\n0 .../CoreVersions/0.2.1/Frameworks/Flake/Core/Database.php(39): Flake\\Core\\Database->query('INSERT INTO pri...')\n1 .../CoreVersions/0.2.1/Frameworks/Flake/Core/Model/Db.php(91): Flake\\Core\\Database->exec_INSERTquery('principals', Array)\n2 .../CoreVersions/0.2.1/Frameworks/Baikal/Model/User.php(128): Flake\\Core\\Model\\Db->persist()\n3 .../CoreVersions/0.2.1/Frameworks/Formal/Form.php(225): Baikal\\Model\\User->persist()\n4 ../CoreVersions/0.2.1/Frameworks/BaikalAdmin/Controller/Users.php(192): Formal\\Form->execute()\n5 .../CoreVersions/0.2.1/Frameworks/BaikalAdmin/Controller/Users.php(39): BaikalAdmin\\Controller\\Users->actionNew()\n6 .../CoreVersions/0.2.1/Frameworks/Flake/Core/Render/Container.php(62): BaikalAdmin\\Controller\\Users->execute()\n7 .../CoreVersions/0.2.1/Frameworks/Flake/Controller/Page.php(79): Flake\\Core\\Render\\Container->execute()\n8 .../CoreVersions/0.2.1/Frameworks/BaikalAdmin/WWWRoot/index.php(74): Flake\\Controller\\Page->render()\n9 {main}\n. Update: I was tempted enough to try sqlite3 db.sqlite .dump | sqlite db.sqlite2, then moving the File ... obviously sqlite3 is required.\nexception 'Exception' with message 'SQL ERROR in: 'SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite_%' ORDER BY name'; Message: Array\n(\n    [0] => HY000\n    [1] => 26\n    [2] => file is encrypted or is not a database\n)\n' in .../CoreVersions/0.2.1/Frameworks/Flake/Core/Database.php:181\nStack trace:\n0 .../CoreVersions/0.2.1/Frameworks/Flake/Core/Database/Sqlite.php(50): Flake\\Core\\Database->query('SELECT name FRO...')\n1 .../CoreVersions/0.2.1/Frameworks/Baikal/Core/Tools.php(118): Flake\\Core\\Database\\Sqlite->tables()\n2 .../CoreVersions/0.2.1/Frameworks/Baikal/Core/Tools.php(70): Baikal\\Core\\Tools::isDBStructurallyComplete(Object(Flake\\Core\\Database\\Sqlite))\n3 .../CoreVersions/0.2.1/Frameworks/Baikal/Framework.php(81): Baikal\\Core\\Tools::assertBaikalIsOk()\n4 .../CoreVersions/0.2.1/Frameworks/BaikalAdmin/Framework.php(34): Baikal\\Framework::bootstrap()\n5 .../CoreVersions/0.2.1/Frameworks/BaikalAdmin/WWWRoot/index.php(47): BaikalAdmin\\Framework::bootstrap()\n6 {main}\n. @flashtopia why do you think a law office likes the idea of their case files being abroad on another server where nobody can call support if the service is unavailable. It even breaks their obligation to keep their files save. As there is a third party involved, which didn't sign a NDA.\nI did understand s3 always as something where you could park a lot of files (a lot of binary files, not text or documents), to have them accessible around the world. All the lawyers I worked for, can have their years work of documents (including scans) on USB sticks (or even one). Which they can deposit in their bank save with the important contracts. I would suggest if you think you need it, why not go for a synchronizing software, that runs on changes or even via cron every 15 min. You have s3 support, and it is not tied to this project, you can even sync even more files from the local server to s3.\n. StartSSL (startssl.com) has free certificate for one year! (there is nothing signed then the e-mail validated domain, but this is still a huge step forward). It has been like that for years, and worked well with different browsers and and Use-Cases (I use it for IMAP/SMTP/HTTPS for my webmail).\nCACert and Let's Encrypt are also free, and give you an informed choice, if you want longer but not broadly supported certificates (can still be validated if you really want to), or running a script to prolong the certificate all three months.\nI migrated all my symfony projectsl to https in a virtual hosting environment, and I never regret that.\n. @mrbaseman there is no excuse for not using prepared statements, also in the admin menu.\nTo illustrate that think the following example: even with XSRF, cookie leak or man-in-the-browser attack you could still implement read/export limit, strong history, query log, and the attack surface would be much smaller. If I can hijack the admin with a simple phishing link, I could download and delete the whole calendar in most companies, as there tend to be more admins than needed for install (e.g. HR, for assigning rights).\nTL;DR: +1 for proper permission handling in Baikal, as this is the backbone for professional use-cases.\n. thanks for your lengthy and elaborated reply,\nas I came here via google, I wanted to give advice more for the anonymous reader.\nPlease take it as a reference to best current practice. \nI appreciate your work, and my ideas about probing and take overs are only from the daily reading at my abuse@ address.\n\nOn 09 Jan 2016, at 21:09, Martin Hecht notifications@github.com wrote:\n@Matthias first of all, note that I only have provided the user\nmanagement script as a workaround. I haven't been working on other\nthings concerning the admin menu, yet (because I didn't have the time to\nlearn how to use the Flake class framework.\nComing back to your main point about prepared statements in the\npermission administration script: prepared statements help against first\norder sql injections when user supplied data is used in queries. But\nthat's not the case here. I have queries without user-supplied\ncomponents to build up the lists of users, groups, and permissions. Only\nthese IDs are compared to the posted values. For setting the permissions\nI also don't use the posted variables directly in the queries. I only\nuse them to decide which 'if'-branch to go. The statement itself again\nis based on values originally coming directly out of the database. So,\nprepared statements would not improve anything here, because the attacks\nprevented by prepared statements wouldn't be successful anyway. Prepared\nstatements also wouldn't help against a man in the browser attack.\nThee is already some protection in place against taking over the admin\nsession, because the hash value contains the client IP and it expires\nevery midnight.\nAnyhow, I can rewrite the script with prepared statements. It seems that\nthis is a strong desire for some users...\n\u2014\nReply to this email directly or view it on GitHub.\n. Update: I did upgrade to latest commit in git: f8e43241bfa838ebcac754b400379e9c432d3bfa\nnow I get another error.\nI found out, I have sqlite two and three installed, but php links to sqlite2. Can I downgrade the DB without error?\n\nexception 'Exception' with message 'SQL ERROR in: 'INSERT INTO principals\n                (\n                    uri,\n                    displayname,\n                    email\n                ) VALUES (\n                    'principals/testuser',\n                    'testuser',\n                    'sorry@have.no'\n                )'; Message: Array\n(\n    [0] => HY000\n    [1] => 14\n    [2] => unable to open database file\n)\n' in .../CoreVersions/0.2.1/Frameworks/Flake/Core/Database.php:181\nStack trace:\n0 .../CoreVersions/0.2.1/Frameworks/Flake/Core/Database.php(39): Flake\\Core\\Database->query('INSERT INTO pri...')\n1 .../CoreVersions/0.2.1/Frameworks/Flake/Core/Model/Db.php(91): Flake\\Core\\Database->exec_INSERTquery('principals', Array)\n2 .../CoreVersions/0.2.1/Frameworks/Baikal/Model/User.php(128): Flake\\Core\\Model\\Db->persist()\n3 .../CoreVersions/0.2.1/Frameworks/Formal/Form.php(225): Baikal\\Model\\User->persist()\n4 ../CoreVersions/0.2.1/Frameworks/BaikalAdmin/Controller/Users.php(192): Formal\\Form->execute()\n5 .../CoreVersions/0.2.1/Frameworks/BaikalAdmin/Controller/Users.php(39): BaikalAdmin\\Controller\\Users->actionNew()\n6 .../CoreVersions/0.2.1/Frameworks/Flake/Core/Render/Container.php(62): BaikalAdmin\\Controller\\Users->execute()\n7 .../CoreVersions/0.2.1/Frameworks/Flake/Controller/Page.php(79): Flake\\Core\\Render\\Container->execute()\n8 .../CoreVersions/0.2.1/Frameworks/BaikalAdmin/WWWRoot/index.php(74): Flake\\Controller\\Page->render()\n9 {main}\n. Update: I was tempted enough to try sqlite3 db.sqlite .dump | sqlite db.sqlite2, then moving the File ... obviously sqlite3 is required.\nexception 'Exception' with message 'SQL ERROR in: 'SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite_%' ORDER BY name'; Message: Array\n(\n    [0] => HY000\n    [1] => 26\n    [2] => file is encrypted or is not a database\n)\n' in .../CoreVersions/0.2.1/Frameworks/Flake/Core/Database.php:181\nStack trace:\n0 .../CoreVersions/0.2.1/Frameworks/Flake/Core/Database/Sqlite.php(50): Flake\\Core\\Database->query('SELECT name FRO...')\n1 .../CoreVersions/0.2.1/Frameworks/Baikal/Core/Tools.php(118): Flake\\Core\\Database\\Sqlite->tables()\n2 .../CoreVersions/0.2.1/Frameworks/Baikal/Core/Tools.php(70): Baikal\\Core\\Tools::isDBStructurallyComplete(Object(Flake\\Core\\Database\\Sqlite))\n3 .../CoreVersions/0.2.1/Frameworks/Baikal/Framework.php(81): Baikal\\Core\\Tools::assertBaikalIsOk()\n4 .../CoreVersions/0.2.1/Frameworks/BaikalAdmin/Framework.php(34): Baikal\\Framework::bootstrap()\n5 .../CoreVersions/0.2.1/Frameworks/BaikalAdmin/WWWRoot/index.php(47): BaikalAdmin\\Framework::bootstrap()\n6 {main}\n. @flashtopia why do you think a law office likes the idea of their case files being abroad on another server where nobody can call support if the service is unavailable. It even breaks their obligation to keep their files save. As there is a third party involved, which didn't sign a NDA.\nI did understand s3 always as something where you could park a lot of files (a lot of binary files, not text or documents), to have them accessible around the world. All the lawyers I worked for, can have their years work of documents (including scans) on USB sticks (or even one). Which they can deposit in their bank save with the important contracts. I would suggest if you think you need it, why not go for a synchronizing software, that runs on changes or even via cron every 15 min. You have s3 support, and it is not tied to this project, you can even sync even more files from the local server to s3.\n. StartSSL (startssl.com) has free certificate for one year! (there is nothing signed then the e-mail validated domain, but this is still a huge step forward). It has been like that for years, and worked well with different browsers and and Use-Cases (I use it for IMAP/SMTP/HTTPS for my webmail).\nCACert and Let's Encrypt are also free, and give you an informed choice, if you want longer but not broadly supported certificates (can still be validated if you really want to), or running a script to prolong the certificate all three months.\nI migrated all my symfony projectsl to https in a virtual hosting environment, and I never regret that.\n. @mrbaseman there is no excuse for not using prepared statements, also in the admin menu.\nTo illustrate that think the following example: even with XSRF, cookie leak or man-in-the-browser attack you could still implement read/export limit, strong history, query log, and the attack surface would be much smaller. If I can hijack the admin with a simple phishing link, I could download and delete the whole calendar in most companies, as there tend to be more admins than needed for install (e.g. HR, for assigning rights).\nTL;DR: +1 for proper permission handling in Baikal, as this is the backbone for professional use-cases.\n. thanks for your lengthy and elaborated reply,\nas I came here via google, I wanted to give advice more for the anonymous reader.\nPlease take it as a reference to best current practice. \nI appreciate your work, and my ideas about probing and take overs are only from the daily reading at my abuse@ address.\n\nOn 09 Jan 2016, at 21:09, Martin Hecht notifications@github.com wrote:\n@Matthias first of all, note that I only have provided the user\nmanagement script as a workaround. I haven't been working on other\nthings concerning the admin menu, yet (because I didn't have the time to\nlearn how to use the Flake class framework.\nComing back to your main point about prepared statements in the\npermission administration script: prepared statements help against first\norder sql injections when user supplied data is used in queries. But\nthat's not the case here. I have queries without user-supplied\ncomponents to build up the lists of users, groups, and permissions. Only\nthese IDs are compared to the posted values. For setting the permissions\nI also don't use the posted variables directly in the queries. I only\nuse them to decide which 'if'-branch to go. The statement itself again\nis based on values originally coming directly out of the database. So,\nprepared statements would not improve anything here, because the attacks\nprevented by prepared statements wouldn't be successful anyway. Prepared\nstatements also wouldn't help against a man in the browser attack.\nThee is already some protection in place against taking over the admin\nsession, because the hash value contains the client IP and it expires\nevery midnight.\nAnyhow, I can rewrite the script with prepared statements. It seems that\nthis is a strong desire for some users...\n\u2014\nReply to this email directly or view it on GitHub.\n. \n",
    "jmorais": "+1 \n. +1 \n. ",
    "bennibu": "@jeromeschneider thanks a lot. This is working now!\n. @jeromeschneider thanks a lot. This is working now!\n. ",
    "bbirand": "Hi, \nI just downloaded 0.2.6, but I'm having the exact same problem with Basic authentication. I'm not sure how to even go about troubleshooting it though. Any hints?\nUpdate:\nWell it seems like this has to do with my hosting provider, webfaction. The issue is similar to this:\nhttp://www.blaicher.com/2012/07/fixing-authentication-of-owncloud-for-webfaction/\nThe workaround seems to be to pass the authentication parameters in the query string. The author suggests a fix for owncloud for reading the the values from _GET:\n//sett http auth headers for Webfaction workaround\nif(isset($_GET['Authorization']) && preg_match('/Basic\\s+(.*)$/i', $_GET['Authorization'], $matches))\n{\n    list($name, $password) = explode(':', base64_decode($matches[1]));\n    $_SERVER['PHP_AUTH_USER'] = strip_tags($name);\n    $_SERVER['PHP_AUTH_PW'] = strip_tags($password);\n}\nI realize this is completely irrelevant for most people. But maybe you can point me in the right direction as to where I can decode the GET string? I tried in various places in the bootstrap function in Core/Frameworks/Flake/Framework.php, but to no avail...\nThanks\n. Hi, \nI just downloaded 0.2.6, but I'm having the exact same problem with Basic authentication. I'm not sure how to even go about troubleshooting it though. Any hints?\nUpdate:\nWell it seems like this has to do with my hosting provider, webfaction. The issue is similar to this:\nhttp://www.blaicher.com/2012/07/fixing-authentication-of-owncloud-for-webfaction/\nThe workaround seems to be to pass the authentication parameters in the query string. The author suggests a fix for owncloud for reading the the values from _GET:\n//sett http auth headers for Webfaction workaround\nif(isset($_GET['Authorization']) && preg_match('/Basic\\s+(.*)$/i', $_GET['Authorization'], $matches))\n{\n    list($name, $password) = explode(':', base64_decode($matches[1]));\n    $_SERVER['PHP_AUTH_USER'] = strip_tags($name);\n    $_SERVER['PHP_AUTH_PW'] = strip_tags($password);\n}\nI realize this is completely irrelevant for most people. But maybe you can point me in the right direction as to where I can decode the GET string? I tried in various places in the bootstrap function in Core/Frameworks/Flake/Framework.php, but to no avail...\nThanks\n. ",
    "reisbraille": "+1\nI have Ba\u00efkal 0.2.7 (flat package) on a shared hosting on domainFactory (https://df.eu/) and get this while trying to authenticate:\nxml\n<d:error xmlns:d=\"DAV:\" xmlns:s=\"http://sabredav.org/ns\">\n<s:exception>Sabre\\DAV\\Exception\\NotAuthenticated</s:exception>\n<s:message>No digest authentication headers were found</s:message>\n<s:sabredav-version>1.8.7</s:sabredav-version>\n</d:error>\n. +1\nI have Ba\u00efkal 0.2.7 (flat package) on a shared hosting on domainFactory (https://df.eu/) and get this while trying to authenticate:\nxml\n<d:error xmlns:d=\"DAV:\" xmlns:s=\"http://sabredav.org/ns\">\n<s:exception>Sabre\\DAV\\Exception\\NotAuthenticated</s:exception>\n<s:message>No digest authentication headers were found</s:message>\n<s:sabredav-version>1.8.7</s:sabredav-version>\n</d:error>\n. ",
    "nilsm": "+1 on Baikal 0.2.7 (flat package, FTP install, on TSO Host).\n. +1 on Baikal 0.2.7 (flat package, FTP install, on TSO Host).\n. ",
    "spandi": "With this .htaccess file it worked for me (Baikal 0.2.7):\n```\nDisabling cache management\nthat could cause problems with DAV requests\nUseful only for Apache servers, with AllowOverride All\n(ie, .htaccess files enabled)\nAllow HTTP headers with Apache/FastCGI\nSee http://code.google.com/p/sabredav/wiki/Authentication#Apache_+_(Fast)CGI\n\n    RewriteEngine On\n    RewriteRule .* - [E=HTTP_AUTHORIZATION:%{HTTP:Authorization},L]\n\n\n    ExpiresActive Off\n\n@HCP_END@\nAnything after the comment above is left alone\n```\n. Just to confirm: I installed the update and everything is working fine now.\nThanks!\n. With this .htaccess file it worked for me (Baikal 0.2.7):\n```\nDisabling cache management\nthat could cause problems with DAV requests\nUseful only for Apache servers, with AllowOverride All\n(ie, .htaccess files enabled)\nAllow HTTP headers with Apache/FastCGI\nSee http://code.google.com/p/sabredav/wiki/Authentication#Apache_+_(Fast)CGI\n\n    RewriteEngine On\n    RewriteRule .* - [E=HTTP_AUTHORIZATION:%{HTTP:Authorization},L]\n\n\n    ExpiresActive Off\n\n@HCP_END@\nAnything after the comment above is left alone\n```\n. Just to confirm: I installed the update and everything is working fine now.\nThanks!\n. ",
    "prston": "Comment by @spandi fixes the problem (with basic auth method, using https) on Baikal 0.2.7, PHP 5.4.34 using FPM/FastCGI, Apache 2.4.10, GNU/Linux. Thank you.\n. Thank you for the link @stephane-martin that's why I removed the comment 2 days before your reply, I was stuck with the --digest auth method but it worked using --basic auth.\n. Comment by @spandi fixes the problem (with basic auth method, using https) on Baikal 0.2.7, PHP 5.4.34 using FPM/FastCGI, Apache 2.4.10, GNU/Linux. Thank you.\n. Thank you for the link @stephane-martin that's why I removed the comment 2 days before your reply, I was stuck with the --digest auth method but it worked using --basic auth.\n. ",
    "viiri": "Doh!\nWhy so complex and ugly? My solution is much more beautiful:\n```\nserver {\n    #listen       192.168.1.2;\n    server_name  dav.domain.tld;\nroot  /usr/local/www/caldav;\n\ncharset utf-8;\n\nlocation / {\n    index index.php;\n}\n\nlocation /admin/ {\n    index index.php;\n}\n\nlocation ~ /(\\.ht|Core|Specific) {\n    deny all;\n    return 404;\n}\n\nlocation ~ ^(.+\\.php)(.*)$ {\n    try_files $fastcgi_script_name =404;\n    fastcgi_split_path_info  ^(.+\\.php)(.*)$;\n    fastcgi_pass   unix:/var/run/php-fpm/php-fpm.sock;\n    fastcgi_param  SCRIPT_FILENAME  $document_root/$fastcgi_script_name;\n    fastcgi_param  PATH_INFO        $fastcgi_path_info;\n    include        fastcgi_params;\n}\n\nerror_page   500 502 503 504  /50x.html;\nlocation = /50x.html {\n    root   /usr/local/www/nginx-dist;\n}\n\n}\n```\n. Doh!\nWhy so complex and ugly? My solution is much more beautiful:\n```\nserver {\n    #listen       192.168.1.2;\n    server_name  dav.domain.tld;\nroot  /usr/local/www/caldav;\n\ncharset utf-8;\n\nlocation / {\n    index index.php;\n}\n\nlocation /admin/ {\n    index index.php;\n}\n\nlocation ~ /(\\.ht|Core|Specific) {\n    deny all;\n    return 404;\n}\n\nlocation ~ ^(.+\\.php)(.*)$ {\n    try_files $fastcgi_script_name =404;\n    fastcgi_split_path_info  ^(.+\\.php)(.*)$;\n    fastcgi_pass   unix:/var/run/php-fpm/php-fpm.sock;\n    fastcgi_param  SCRIPT_FILENAME  $document_root/$fastcgi_script_name;\n    fastcgi_param  PATH_INFO        $fastcgi_path_info;\n    include        fastcgi_params;\n}\n\nerror_page   500 502 503 504  /50x.html;\nlocation = /50x.html {\n    root   /usr/local/www/nginx-dist;\n}\n\n}\n```\n. ",
    "passmo": "I see the same problem with 0.2.2\nsetting # before php_flag magic_quotes_gpc Off allows install to complete, admin doesn't load correctly after this.\n. Thanks for the replies. I've tried uncommenting # from the root .htaccess and htaccess-documentroot, which results in 500 errors.\nI'll wait for a fix, please let me know if you need anything tested.\n. please see install.md\nhttps://github.com/jeromeschneider/Baikal/blob/master/INSTALL.md\nfrom this file:\n In server address (replace domain and username): http://dav.mydomain.com/card.php/addressbooks/jerome/default \n. I see the same problem with 0.2.2\nsetting # before php_flag magic_quotes_gpc Off allows install to complete, admin doesn't load correctly after this.\n. Thanks for the replies. I've tried uncommenting # from the root .htaccess and htaccess-documentroot, which results in 500 errors.\nI'll wait for a fix, please let me know if you need anything tested.\n. please see install.md\nhttps://github.com/jeromeschneider/Baikal/blob/master/INSTALL.md\nfrom this file:\n In server address (replace domain and username): http://dav.mydomain.com/card.php/addressbooks/jerome/default \n. ",
    "bblackham": "Ahh, my problem seems to be that I was using an apache Alias directive to point at baikal, e.g.:\n  Alias /baikal/ /path/to/baikal-flat-0.2.2\nIn this case, all the URLs generated by Baikal are anchored at /, instead of /baikal/\nIf I drop it directly into the web root, all works as expected. Thanks!\n. Ahh, my problem seems to be that I was using an apache Alias directive to point at baikal, e.g.:\n  Alias /baikal/ /path/to/baikal-flat-0.2.2\nIn this case, all the URLs generated by Baikal are anchored at /, instead of /baikal/\nIf I drop it directly into the web root, all works as expected. Thanks!\n. ",
    "mfried": "Well, as nice as the \"flat\" package is, it sure would be cool to be able to run Baikal from an Apache Alias.\nI don't want to use an VHost (convenience as stated above) and I explicitly open any WebApp on my host with a dedicated alias.\nWhen trying the flat package with an alias the Admin-GUI runs fine, but access via caldav/carddav throws errors:\n\"Sabre\\DAV\\Exception\\Forbidden Requested uri is out of base\"\nIs there a way to run Baikal from within an Apache alias?\nMark.\n. same Problem here, but your fix didn't work for me :(\nIs there a way to make the \"flat\" package work within a subdir of DocRoot (e.g. when using Apache aliases)?\n. Well, as nice as the \"flat\" package is, it sure would be cool to be able to run Baikal from an Apache Alias.\nI don't want to use an VHost (convenience as stated above) and I explicitly open any WebApp on my host with a dedicated alias.\nWhen trying the flat package with an alias the Admin-GUI runs fine, but access via caldav/carddav throws errors:\n\"Sabre\\DAV\\Exception\\Forbidden Requested uri is out of base\"\nIs there a way to run Baikal from within an Apache alias?\nMark.\n. same Problem here, but your fix didn't work for me :(\nIs there a way to make the \"flat\" package work within a subdir of DocRoot (e.g. when using Apache aliases)?\n. ",
    "raulsouza": "Hallo!\nWhen i try to connect 'apple address book' to baikal i got the following error:\nI also tried many URL syntaxes.\nDoes anyone have any update on this subject?\nThank you all!\nERROR:\n\n\n[ABSPlugin-ERROR] Expected multi-status response but got status code: 200  Response: <!DOCTYPE html PUBLIC \n\"-//W3C//DTD XHTML 1.1//EN\"\u00e2\u00b5     \"http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd\">\u00e2\u00b5\u00e2\u00b5\u00e2\u00b5    Ba\u00c3\u00afkal Server\u00e2\u00b5       \u00e2\u00b5\u00e2\u00b5\u00e2\u00b5   Ba\u00c3\u00afkal is running allright.\u00e2\u00b5\u00e2\u00b5\n\u00e2\u00b5  Request: HTTP Request: PROPFIND http://raul@localhost:80/\u00e2\u00b5     Headers: {\u00e2\u00b5    \"Content-Type\" = \"text/xml; \ncharset=utf-8\";\u00e2\u00b5    Depth = 0;\u00e2\u00b5}\u00e2\u00b5        Body: <?xml version=\"1.0\" encoding=\"utf-8\"?>\u00e2\u00b5\u00e2\u00b5\u00e2\u00b5\u00e2\u00b5/D:prop\u00e2\u00b5/D:propfind\u00e2\u00b5\u00e2\u00b5\n\n\nPS:\nthe character [\u00e2\u00b5] can be read as the enter key icon\n. Hallo!\nWhen i try to connect 'apple address book' to baikal i got the following error:\nI also tried many URL syntaxes.\nDoes anyone have any update on this subject?\nThank you all!\nERROR:\n\n\n[ABSPlugin-ERROR] Expected multi-status response but got status code: 200  Response: <!DOCTYPE html PUBLIC \n\"-//W3C//DTD XHTML 1.1//EN\"\u00e2\u00b5     \"http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd\">\u00e2\u00b5\u00e2\u00b5\u00e2\u00b5    Ba\u00c3\u00afkal Server\u00e2\u00b5       \u00e2\u00b5\u00e2\u00b5\u00e2\u00b5   Ba\u00c3\u00afkal is running allright.\u00e2\u00b5\u00e2\u00b5\n\u00e2\u00b5  Request: HTTP Request: PROPFIND http://raul@localhost:80/\u00e2\u00b5     Headers: {\u00e2\u00b5    \"Content-Type\" = \"text/xml; \ncharset=utf-8\";\u00e2\u00b5    Depth = 0;\u00e2\u00b5}\u00e2\u00b5        Body: <?xml version=\"1.0\" encoding=\"utf-8\"?>\u00e2\u00b5\u00e2\u00b5\u00e2\u00b5\u00e2\u00b5/D:prop\u00e2\u00b5/D:propfind\u00e2\u00b5\u00e2\u00b5\n\n\nPS:\nthe character [\u00e2\u00b5] can be read as the enter key icon\n. ",
    "rngtng": "... so does this mean running Baikal on Heroku is not possible?\n. hm ok.. what a pity :(\n. cool thanks, I'll give it a try then!\n. @jeromeschneider ui, nice to see Ba\u00efkal2 is in the making :)\n. cool, see #104 - it has similar changes.\n@jeromeschneider can u pls merge those PR to prevent double changes in future :)\n. ... so does this mean running Baikal on Heroku is not possible?\n. hm ok.. what a pity :(\n. cool thanks, I'll give it a try then!\n. @jeromeschneider ui, nice to see Ba\u00efkal2 is in the making :)\n. cool, see #104 - it has similar changes.\n@jeromeschneider can u pls merge those PR to prevent double changes in future :)\n. ",
    "Zw3rv3r": "Here is some information that can be usefull. It seems that something is supported:\nhttps://devcenter.heroku.com/articles/http-routing#supported-http-verbs\n. https://devcenter.heroku.com/articles/gridblaze#webdav\n\"WebDAV\nThis features is still under development however you are welcome to Alpha test it by connecting to our WebDAV server on:\nhttps://dav.gridblaze.com\nCurrent issues are that of latency and speed which we are working to solve since WebDAV is not a very robust standard.\"\n. +1 for sharing with my girlfriend :-)\nMaybe an ics export for the read-only access (like ownCloud provides?)\nedit: I noticed that this is probably a duplicate of Issue #7 \n. I succesfully synchronised my contacts today with Thunderbird 17.0.5 and Inverse Sogo Connector 17.0.3 ( http://www.sogo.nu/english/downloads/frontends.html ). Perhaps this newer version will solve your problems too?\nAs a sidenote: I could't synchronise anything with my previous hosing provider and they were not able to find and solve the problem. So perhaps the problem is on another level?\n. This are my steps to make addressbook synchronisation work:\nThunderbird 17.0.5\nInverse Sogo Connector 17.0.3 (adds CardDAV to Thunderbird addressbook)\n- install the Inverse Sogo Connector add-on\n- Navigate to \"Addressbook\" > \"File\" > \"New\" > \"Addressbook on server\" >\n- paste this URL: https://yourdomain.com/card.php/addressbooks/username/default/\n- When asked, provide user/password; your CardDAV account should be up and running\nnotes:\n- When using multiple calendars in Thunderbird make sure to set the calendar.network.multirealm value to \"true\" otherwise you cannot login with multiple accounts on one domain. You can find this option in \"options > advanced > configuration editor\"\n- When using a self-signed certificate and no connection appears to be established (there is no error message for that unfortunatelly) make sure to restart Thunderbird. Thunderbird will most likely ask for your permission to use the suspicious certificate now.\n- When you have used the domain with another, now redundant, accounts before make sure to remove the credentials for them from the Password Manager or Thunderbird will not ask for other username / password information. \n. Here is some information that can be usefull. It seems that something is supported:\nhttps://devcenter.heroku.com/articles/http-routing#supported-http-verbs\n. https://devcenter.heroku.com/articles/gridblaze#webdav\n\"WebDAV\nThis features is still under development however you are welcome to Alpha test it by connecting to our WebDAV server on:\nhttps://dav.gridblaze.com\nCurrent issues are that of latency and speed which we are working to solve since WebDAV is not a very robust standard.\"\n. +1 for sharing with my girlfriend :-)\nMaybe an ics export for the read-only access (like ownCloud provides?)\nedit: I noticed that this is probably a duplicate of Issue #7 \n. I succesfully synchronised my contacts today with Thunderbird 17.0.5 and Inverse Sogo Connector 17.0.3 ( http://www.sogo.nu/english/downloads/frontends.html ). Perhaps this newer version will solve your problems too?\nAs a sidenote: I could't synchronise anything with my previous hosing provider and they were not able to find and solve the problem. So perhaps the problem is on another level?\n. This are my steps to make addressbook synchronisation work:\nThunderbird 17.0.5\nInverse Sogo Connector 17.0.3 (adds CardDAV to Thunderbird addressbook)\n- install the Inverse Sogo Connector add-on\n- Navigate to \"Addressbook\" > \"File\" > \"New\" > \"Addressbook on server\" >\n- paste this URL: https://yourdomain.com/card.php/addressbooks/username/default/\n- When asked, provide user/password; your CardDAV account should be up and running\nnotes:\n- When using multiple calendars in Thunderbird make sure to set the calendar.network.multirealm value to \"true\" otherwise you cannot login with multiple accounts on one domain. You can find this option in \"options > advanced > configuration editor\"\n- When using a self-signed certificate and no connection appears to be established (there is no error message for that unfortunatelly) make sure to restart Thunderbird. Thunderbird will most likely ask for your permission to use the suspicious certificate now.\n- When you have used the domain with another, now redundant, accounts before make sure to remove the credentials for them from the Password Manager or Thunderbird will not ask for other username / password information. \n. ",
    "khurshid-alam": "@rngtng Is it possible now to deploy it heroku? Please leave a answer if you have already tried. Thanks.\n. @netgusto \nI am trying branch-2 version, but couldn't find any way to subscribe to ics feed. ? Has it implemented or not?\n. @rngtng Is it possible now to deploy it heroku? Please leave a answer if you have already tried. Thanks.\n. @netgusto \nI am trying branch-2 version, but couldn't find any way to subscribe to ics feed. ? Has it implemented or not?\n. ",
    "somecallmemike": "This would be a great feature, any chance this will be integrated in the near future?\n. This would be a great feature, any chance this will be integrated in the near future?\n. ",
    "MACscr": "Are you considering this any more? Would be really useful.\n. Are you considering this any more? Would be really useful.\n. ",
    "insanity67": "Any news on this?\n. Any news on this?\n. ",
    "polytan02": "it would be awesome to have ActiveSync native support with Baikal !\n. After looking at activesync, I don't think it can be integrated in baikal. For a start, activesync needs an email address, which is not baikal role to manage.\nThis being said, z-push can easily be integrated with baikal : we do it for yunohost there :  https://github.com/YunoHost-Apps/z-push_ynh\nThe trickiest bit with z-push is actually the email integration and the calendar invitations to send/accept.. it would be awesome to have ActiveSync native support with Baikal !\n. After looking at activesync, I don't think it can be integrated in baikal. For a start, activesync needs an email address, which is not baikal role to manage.\nThis being said, z-push can easily be integrated with baikal : we do it for yunohost there :  https://github.com/YunoHost-Apps/z-push_ynh\nThe trickiest bit with z-push is actually the email integration and the calendar invitations to send/accept.. ",
    "marceljanssen2015": "That would be nice to have finally.\nThought I use Outlook and use an add-in called EVO Collaborator for Outlook which has native support for Baikal :D\n. http://outlookandmacosxserver.blogspot.com/2014/10/how-do-i-sync-baikal-server-with-outlook.html\n. That would be nice to have finally.\nThought I use Outlook and use an add-in called EVO Collaborator for Outlook which has native support for Baikal :D\n. http://outlookandmacosxserver.blogspot.com/2014/10/how-do-i-sync-baikal-server-with-outlook.html\n. ",
    "peterschen": "As development on Baikal2 has stopped can we reactivate this?. You have plans or no plans?. As development on Baikal2 has stopped can we reactivate this?. You have plans or no plans?. ",
    "gaokx": "I met the same problem .\n. I met the same problem .\n. ",
    "rtrtr": "Running into a similar problem that it gets the correct URL but stripping slashes too much that something like:\nhttps://www.my_host.localbaikal/html/admin/\ncomes out - for calendars:\nbaikal/html/cal.php... instead of\n/baikal/html/cal.php\n. Running into a similar problem that it gets the correct URL but stripping slashes too much that something like:\nhttps://www.my_host.localbaikal/html/admin/\ncomes out - for calendars:\nbaikal/html/cal.php... instead of\n/baikal/html/cal.php\n. ",
    "rsertelon": "I have to update, don't know when I'll be able to do it. As soon as I do, I'll tell you! :)\n. Hi @jeromeschneider , I finally have some time for upgrading Baikal, but I can't find documentation about how to do this safely.\nDo you have any hints? Thanks ;)\n. Hi, OK, noted, thanks!\nMaybe these steps should be in an UPGRADE.md file ^^ Do you want me to do it?\n. Hi ! I finally could upgrade Baikal... and it works well!\nThanks :)\n. No problem !\n. This has already been reported in #514 . I have to update, don't know when I'll be able to do it. As soon as I do, I'll tell you! :)\n. Hi @jeromeschneider , I finally have some time for upgrading Baikal, but I can't find documentation about how to do this safely.\nDo you have any hints? Thanks ;)\n. Hi, OK, noted, thanks!\nMaybe these steps should be in an UPGRADE.md file ^^ Do you want me to do it?\n. Hi ! I finally could upgrade Baikal... and it works well!\nThanks :)\n. No problem !\n. This has already been reported in #514 . ",
    "anthonydahanne": "hello,\nI also run into trouble with this PROJECT_BASEURI  thing; I have installed Baikal on an Ubuntu box (12.04) wiht apache2.\nBut, I did not want to create a virtual host for that (since I only have 1 ssl certificate that is already used for my blog)\nSo I just created a config file in /etc/apache2/conf.d/ with an alias named /cal, pointing to baikal_inst_dir/html\nand then I got \n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<d:error xmlns:d=\"DAV:\" xmlns:s=\"http://sabredav.org/ns\">\n  <s:exception>Sabre\\DAV\\Exception\\Forbidden</s:exception>\n  <s:message>Requested uri (/cal/html/cal.php/calendars/username/default) is out of base uri (/tml/cal.php/)</s:message>\n  <s:sabredav-version>1.8.6</s:sabredav-version>\n</d:error>\nso yeah,  PROJECT_BASEURI just reported bogus info, I could get out of this mess using:\n```\nShould begin and end with a \"/\"\ndefine(\"BAIKAL_CARD_BASEURI\", \"/cal/html\" . \"/card.php/\");\nShould begin and end with a \"/\"\ndefine(\"BAIKAL_CAL_BASEURI\", \"/cal/html\" . \"/cal.php/\");\n```\n. for apple users: (provided you already setup Contacts and Calendar with your baikal hosted calendar and address book)\n- import your google calendar into your baikal server:\n  --> go to https://www.google.com/calendar/render?pli=1 and click on export calendars; unzip the zip file\n  --> open Calendar and File->Import your ics file from google , then tell Calendar to add those events to your baikal calendar\n  Done\n- import your google contacts into your baikal server:\n  --> open Contact\n  --> select your google contact cards , then drag this selection to your baikal sync'ed address book (that may take a while)\n  Done\n  Hope that helps\n. just use an alias in /etc/apache2/conf.d/baikal:\nAlias /cal /home/www/baikal-regular/html\n    <Directory /home/www/baikal-regular/html>\n                Options None\n                Options +FollowSymlinks\n                AllowOverride All\n    </Directory>\nand in your Specific/config.system.php use:\n```\nShould begin and end with a \"/\"\ndefine(\"BAIKAL_CARD_BASEURI\", \"/cal\" . \"/card.php/\");\nShould begin and end with a \"/\"\ndefine(\"BAIKAL_CAL_BASEURI\", \"/cal\" . \"/cal.php/\");\n```\nthen access with https://host/cal/admin\n. hello,\nI also run into trouble with this PROJECT_BASEURI  thing; I have installed Baikal on an Ubuntu box (12.04) wiht apache2.\nBut, I did not want to create a virtual host for that (since I only have 1 ssl certificate that is already used for my blog)\nSo I just created a config file in /etc/apache2/conf.d/ with an alias named /cal, pointing to baikal_inst_dir/html\nand then I got \n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<d:error xmlns:d=\"DAV:\" xmlns:s=\"http://sabredav.org/ns\">\n  <s:exception>Sabre\\DAV\\Exception\\Forbidden</s:exception>\n  <s:message>Requested uri (/cal/html/cal.php/calendars/username/default) is out of base uri (/tml/cal.php/)</s:message>\n  <s:sabredav-version>1.8.6</s:sabredav-version>\n</d:error>\nso yeah,  PROJECT_BASEURI just reported bogus info, I could get out of this mess using:\n```\nShould begin and end with a \"/\"\ndefine(\"BAIKAL_CARD_BASEURI\", \"/cal/html\" . \"/card.php/\");\nShould begin and end with a \"/\"\ndefine(\"BAIKAL_CAL_BASEURI\", \"/cal/html\" . \"/cal.php/\");\n```\n. for apple users: (provided you already setup Contacts and Calendar with your baikal hosted calendar and address book)\n- import your google calendar into your baikal server:\n  --> go to https://www.google.com/calendar/render?pli=1 and click on export calendars; unzip the zip file\n  --> open Calendar and File->Import your ics file from google , then tell Calendar to add those events to your baikal calendar\n  Done\n- import your google contacts into your baikal server:\n  --> open Contact\n  --> select your google contact cards , then drag this selection to your baikal sync'ed address book (that may take a while)\n  Done\n  Hope that helps\n. just use an alias in /etc/apache2/conf.d/baikal:\nAlias /cal /home/www/baikal-regular/html\n    <Directory /home/www/baikal-regular/html>\n                Options None\n                Options +FollowSymlinks\n                AllowOverride All\n    </Directory>\nand in your Specific/config.system.php use:\n```\nShould begin and end with a \"/\"\ndefine(\"BAIKAL_CARD_BASEURI\", \"/cal\" . \"/card.php/\");\nShould begin and end with a \"/\"\ndefine(\"BAIKAL_CAL_BASEURI\", \"/cal\" . \"/cal.php/\");\n```\nthen access with https://host/cal/admin\n. ",
    "mbrugger": "Thanks @anthonydahanne for the workaround, had the exact same setup/problem.\nFor all others having the same problem, the change has to be applied to Specific/config.system.php\n. Thanks @anthonydahanne for the workaround, had the exact same setup/problem.\nFor all others having the same problem, the change has to be applied to Specific/config.system.php\n. ",
    "n8theo": "I have a similar problem. Getting sync error due to tz issue here:\nhttp://code.google.com/p/sabredav/issues/detail?id=95\nUpdating sabredav should solve my problem. \nLove the easy install and admin front end you've created!\nThanks!\nNathan\n. I have a similar problem. Getting sync error due to tz issue here:\nhttp://code.google.com/p/sabredav/issues/detail?id=95\nUpdating sabredav should solve my problem. \nLove the easy install and admin front end you've created!\nThanks!\nNathan\n. ",
    "JKantonen": "I've had the same issue as louis-eyond with IIS web server.  The admin interface works fine and I can create users, calendars, and address books just fine.  I can even connect to the page which says \"Baikal is running allright\".  But trying to authenticate an iPad/iPhone with the given instructions always fails.  I'm not sure if the URI is incorrect or if authentication is being blocked somehow by the IIS.\n. Yes, we do not even have WebDAV publishing installed on our IIS, so this cannot be the case.\n. I've had the same issue as louis-eyond with IIS web server.  The admin interface works fine and I can create users, calendars, and address books just fine.  I can even connect to the page which says \"Baikal is running allright\".  But trying to authenticate an iPad/iPhone with the given instructions always fails.  I'm not sure if the URI is incorrect or if authentication is being blocked somehow by the IIS.\n. Yes, we do not even have WebDAV publishing installed on our IIS, so this cannot be the case.\n. ",
    "tdamme": "Hello, is there a new status regarding the IIS-Support?\nI'm having the same issue as JKantonen: the admin interface works allright for the admin account. Also the page with \"Baikal is running allright\" is accessible.\nBut for me, connecting with Mozilla Lightning says only \"DAV_NOT_DAV\" in the Thunderbird-Logs.\nIs there any Baikal-Log we could examine for futher information?\nThomas\n. Hello, is there a new status regarding the IIS-Support?\nI'm having the same issue as JKantonen: the admin interface works allright for the admin account. Also the page with \"Baikal is running allright\" is accessible.\nBut for me, connecting with Mozilla Lightning says only \"DAV_NOT_DAV\" in the Thunderbird-Logs.\nIs there any Baikal-Log we could examine for futher information?\nThomas\n. ",
    "e-d-i-t": "I've got it running! Mail me for further details. If it's a hot item I will document it properly.\n. It seems to me like iOS6.1.4 is doing different in adding ports?\n%3A8800 is right behind the /card.php like adding port :8800, 8080 and 8008.\nIs your port configuration in order? (on the iPhone)\nCompare the logs with a succesfull one via MacOS\n. Got something like that. When I create a CardDAV connection with EmClient (client side mail app) and I want to copy all cards from my old Baikal to the new Baikal, it will only work if I am VERY patient.\n1 per 5 seconds will do. But selecting all and just copy them gives a 500 error after card number 6 for instance. It takes about 20 restarts of EmClient in order to get all cards (200) synced.\nI am not ready to jump from 0.2.7 to 0.4.6 yet...\nOh, and copying all 200 cards from the old Baikal to another account on the same server works like a charm.... \"Just\" installed Debian 8 with all the goodies, installed Baikal as documented, works like a charm.. I've got it running! Mail me for further details. If it's a hot item I will document it properly.\n. It seems to me like iOS6.1.4 is doing different in adding ports?\n%3A8800 is right behind the /card.php like adding port :8800, 8080 and 8008.\nIs your port configuration in order? (on the iPhone)\nCompare the logs with a succesfull one via MacOS\n. Got something like that. When I create a CardDAV connection with EmClient (client side mail app) and I want to copy all cards from my old Baikal to the new Baikal, it will only work if I am VERY patient.\n1 per 5 seconds will do. But selecting all and just copy them gives a 500 error after card number 6 for instance. It takes about 20 restarts of EmClient in order to get all cards (200) synced.\nI am not ready to jump from 0.2.7 to 0.4.6 yet...\nOh, and copying all 200 cards from the old Baikal to another account on the same server works like a charm.... \"Just\" installed Debian 8 with all the goodies, installed Baikal as documented, works like a charm.. ",
    "Melisabel": "Hi, \nI\u00b4m stalling Baikal, and I set up the password, but I don\u00b4t remember having set up the User name. Is there a log file from where I can recover it?\n. Hi,\nI\u00b4m trying to install the flat Baikal package on Xamp on  windows server 2008. And unfortunately i can\u00b4t succeed, is there a known bug for this issue?\n. Hi, \nI\u00b4m stalling Baikal, and I set up the password, but I don\u00b4t remember having set up the User name. Is there a log file from where I can recover it?\n. Hi,\nI\u00b4m trying to install the flat Baikal package on Xamp on  windows server 2008. And unfortunately i can\u00b4t succeed, is there a known bug for this issue?\n. ",
    "karabey": "Somehow it will not work for me.. I renamed the Calendarname to default and added ?export to the end.\nResult\n< d:error xmlns:d=\"DAV:\" xmlns:s=\"http://sabredav.org/ns\">\n< s:exception>Sabre\\DAV\\Exception\\NotFound/s:exception\n< s:message>\nCalendar with name 'default?export' could not be found\n\n< s:sabredav-version>1.8.0/s:sabredav-version\n\n. Somehow it will not work for me.. I renamed the Calendarname to default and added ?export to the end.\nResult\n< d:error xmlns:d=\"DAV:\" xmlns:s=\"http://sabredav.org/ns\">\n< s:exception>Sabre\\DAV\\Exception\\NotFound/s:exception\n< s:message>\nCalendar with name 'default?export' could not be found\n\n< s:sabredav-version>1.8.0/s:sabredav-version\n\n. ",
    "Shuro": ":+1: Full ack\n. Maybe you should use\nmb_strlen($pwd1,'utf-8')\ninstead of\nstrlen($pwd1)\nOther languages have umlauts like \"\u00e4\" or \"\u00d4\" which would count as two with the normal strlen function.\n. Shouldn't be a problem. In nginx, you would define card.php / cal.php as index on this subdomains.\n. Mh, you could easily copy the html dictory and rename the files to index.php. \nOr different virtualhosts for card.domain... and cal.domain... and then within the virtualhost-file something like:\n<IfModule mod_rewrite.c>\n  RewriteEngine On\n  RewriteCond %{REQUEST_FILENAME} !-f\n  RewriteRule ^(.*)$ card.php [QSA,L]\n</IfModule>\nand \n<IfModule mod_rewrite.c>\n  RewriteEngine On\n  RewriteCond %{REQUEST_FILENAME} !-f\n  RewriteRule ^(.*)$ cal.php [QSA,L]\n</IfModule>\nI don't guarantee that this will work, but i think so. \nThe above rewrite does the following:\nhttp://card.domain.invalid/addressbooks/Shuro/privat/\nwould be this\nhttp://card.domain.invalid/card.php/addressbooks/Shuro/privat/\n. I recommend learning mod rewrite, at begin it's tough, but its worth it. :smiley_cat: \nWhat you seek is something like that:\n<IfModule mod_rewrite.c>\n  RewriteEngine On\n  RewriteRule ^/([-_a-z0-9]+)/([-_a-z0-9]+)$ card.php/addressbooks/$1/$2 [QSA,NC,L]\n  RewriteRule ^/([-_a-z0-9]+)$ card.php/addressbooks/$1/private [QSA,NC,L]\n</IfModule>\n- the first rewrite rule is for additional addressbooks http://card.domain.invalid/Shuro/privateExtra1\n- the second rewrite rule is for the default addressbook http://card.domain.invalid/Shuro\nEdit:\n[-_a-z0-9]+ means that the following letters are allowed:  a-z, 0-9, hyphen and underline. The NC at the end means no-case-sensitive, so A-Z is also allowed.\n. Good to hear. :)\nThe same goes for \"cal.domain.invalid\", but with the correct URLs. Feel free to ask if there are some points unclear. If everything works I would suggest to close this Issue.\n. Which linux distribution do you use? I use Baikal with Debian 7.4 without problems.\nMaybe you should post your server-config. The dav is provided by SabreDAV and does need php, but I think you don't need  the option in nginx.\n. You get a 405 Method not allowed for the request, mhh. \nmaybe try this block:\n```\n        location ~ ^(.+?.php)(/.*)?$ {\n                try_files $1 = 404;\n            include fastcgi_params;\n            fastcgi_param SCRIPT_FILENAME $document_root$1;\n            fastcgi_param PATH_INFO $2;\n            fastcgi_pass unix:/var/run/php5-fpm.sock;\n    }\n\n```\nIf that doesn't help, please post the content of your \"fastcgi_params\" file within /etc/nginx.\n. I think i post my nginx-configuration, maybe it helps:\n```\nserver {\n        listen 80;\n        server_name dav.domain.invalid;\n        return 301 https://$server_name$request_uri;  # enforce https\n}\nserver {\n        listen          443 ssl;\n        server_name     dav.domain.invalid;\n    ssl_certificate /path/to/crt;\n    ssl_certificate_key /path/to/key;\n\n    root            /var/www/vhosts/dav.domain.invalid/html;\n    index           index.php;\n\n    rewrite ^/.well-known/caldav /cal.php redirect;\n    rewrite ^/.well-known/carddav /card.php redirect;\n\n    charset utf-8;\n\n    location ~ /(\\.ht|Core|Specific) {\n            deny all;\n            return 404;\n    }\n\n    location = /robots.txt {\n            allow all;\n            log_not_found off;\n            access_log off;\n    }\n\n    location ~ ^(.+?\\.php)(/.*)?$ {\n            try_files $1 = 404;\n\n            include fastcgi_params;\n            fastcgi_param SCRIPT_FILENAME $document_root$1;\n            fastcgi_param PATH_INFO $2;\n            fastcgi_pass unix:/var/run/php5-fpm.sock;\n    }\n\n    error_page   500 502 503 504  /50x.html;\n    location = /50x.html {\n            root   /var/www/nginx-default;\n    }\n\n}\n```\n. Oh probably my fault, I use nginx 1.4.6-1. Maybe there is some difference in fastcgi.\n. accesslog syncing calendar (no changes):\nhttps://dav.domain.invalid: 100.200.100.200 - - [27/Mar/2014:10:28:49 +0100] \"OPTIONS /cal.php/calendars/Shuro/arbeit/ HTTP/1.1\" 200 0 \"-\" \"Mozilla/5.0 (X11; Linux x86_64; rv:24.0) Gecko/20100101 Thunderbird/24.3.0 Lightning/2.6.4\"\nhttps://dav.domain.invalid: 100.200.100.200 - - [27/Mar/2014:10:28:49 +0100] \"PROPFIND /cal.php/calendars/Shuro/arbeit/ HTTP/1.1\" 207 392 \"-\" \"Mozilla/5.0 (X11; Linux x86_64; rv:24.0) Gecko/20100101 Thunderbird/24.3.0 Lightning/2.6.4\"\naccesslog syncing addressbook (no changes):\nhttps://dav.domain.invalid: 100.200.100.200 - - [27/Mar/2014:10:30:50 +0100] \"PROPFIND /card.php/addressbooks/Shuro/arbeit/ HTTP/1.1\" 207 963 \"-\" \"Mozilla/5.0 (X11; Linux x86_64; rv:24.0) Gecko/20100101 Thunderbird/24.3.0 Lightning/2.6.4\"\nnginx -V\nnginx version: nginx/1.4.6\nbuilt by gcc 4.7.2 (Debian 4.7.2-5) \nTLS SNI support enabled\nconfigure arguments:\n--with-cc-opt='-g -O2 -fstack-protector \n--param=ssp-buffer-size=4 -Wformat -Werror=format-security -D_FORTIFY_SOURCE=2' \n--with-ld-opt=-Wl,-z,relro \n--prefix=/usr/share/nginx \n--conf-path=/etc/nginx/nginx.conf \n--http-log-path=/var/log/nginx/access.log \n--error-log-path=/var/log/nginx/error.log \n--lock-path=/var/lock/nginx.lock \n--pid-path=/run/nginx.pid \n--http-client-body-temp-path=/var/lib/nginx/body \n--http-fastcgi-temp-path=/var/lib/nginx/fastcgi \n--http-proxy-temp-path=/var/lib/nginx/proxy \n--http-scgi-temp-path=/var/lib/nginx/scgi \n--http-uwsgi-temp-path=/var/lib/nginx/uwsgi \n--with-debug \n--with-pcre-jit \n--with-ipv6 \n--with-http_ssl_module \n--with-http_stub_status_module \n--with-http_realip_module \n--with-file-aio \n--with-http_spdy_module \n--with-http_addition_module \n--with-http_dav_module \n--with-http_geoip_module \n--with-http_gzip_static_module \n--with-http_image_filter_module \n--with-http_secure_link_module \n--with-http_sub_module \n--with-http_xslt_module \n--with-mail \n--with-mail_ssl_module \n--add-module=/usr/src/nginx/source/nginx-1.4.6/debian/modules/nginx-auth-pam \n--add-module=/usr/src/nginx/source/nginx-1.4.6/debian/modules/nginx-dav-ext-module \n--add-module=/usr/src/nginx/source/nginx-1.4.6/debian/modules/nginx-echo \n--add-module=/usr/src/nginx/source/nginx-1.4.6/debian/modules/nginx-upstream-fair \n--add-module=/usr/src/nginx/source/nginx-1.4.6/debian/modules/nginx-syslog \n--add-module=/usr/src/nginx/source/nginx-1.4.6/debian/modules/nginx-cache-purge \n--add-module=/usr/src/nginx/source/nginx-1.4.6/debian/modules/ngx_http_pinba_module \n--add-module=/usr/src/nginx/source/nginx-1.4.6/debian/modules/ngx_http_substitutions_filter_module \n--add-module=/usr/src/nginx/source/nginx-1.4.6/debian/modules/nginx-x-rid-header \n--with-ld-opt=-lossp-uuid\nSeems to be possible that it is because of the DAV-Module, maybe you try nginx from the dotdeb-repository?\n~> cat /etc/apt/sources.list\n[...]\ndeb http://packages.dotdeb.org wheezy all\n~> cat /etc/apt/preferences\n```\nPackage: nginx*\nPin: release o=packages.dotdeb.org\nPin-Priority: 600\nPackage: *\nPin: release o=packages.dotdeb.org,n=wheezy\nPin-Priority: -100\n```\n. It doesn't look too wrong....\n. Maybe because Baikal has nothing to do with your non-standard http server?\n. :+1: Full ack\n. Maybe you should use\nmb_strlen($pwd1,'utf-8')\ninstead of\nstrlen($pwd1)\nOther languages have umlauts like \"\u00e4\" or \"\u00d4\" which would count as two with the normal strlen function.\n. Shouldn't be a problem. In nginx, you would define card.php / cal.php as index on this subdomains.\n. Mh, you could easily copy the html dictory and rename the files to index.php. \nOr different virtualhosts for card.domain... and cal.domain... and then within the virtualhost-file something like:\n<IfModule mod_rewrite.c>\n  RewriteEngine On\n  RewriteCond %{REQUEST_FILENAME} !-f\n  RewriteRule ^(.*)$ card.php [QSA,L]\n</IfModule>\nand \n<IfModule mod_rewrite.c>\n  RewriteEngine On\n  RewriteCond %{REQUEST_FILENAME} !-f\n  RewriteRule ^(.*)$ cal.php [QSA,L]\n</IfModule>\nI don't guarantee that this will work, but i think so. \nThe above rewrite does the following:\nhttp://card.domain.invalid/addressbooks/Shuro/privat/\nwould be this\nhttp://card.domain.invalid/card.php/addressbooks/Shuro/privat/\n. I recommend learning mod rewrite, at begin it's tough, but its worth it. :smiley_cat: \nWhat you seek is something like that:\n<IfModule mod_rewrite.c>\n  RewriteEngine On\n  RewriteRule ^/([-_a-z0-9]+)/([-_a-z0-9]+)$ card.php/addressbooks/$1/$2 [QSA,NC,L]\n  RewriteRule ^/([-_a-z0-9]+)$ card.php/addressbooks/$1/private [QSA,NC,L]\n</IfModule>\n- the first rewrite rule is for additional addressbooks http://card.domain.invalid/Shuro/privateExtra1\n- the second rewrite rule is for the default addressbook http://card.domain.invalid/Shuro\nEdit:\n[-_a-z0-9]+ means that the following letters are allowed:  a-z, 0-9, hyphen and underline. The NC at the end means no-case-sensitive, so A-Z is also allowed.\n. Good to hear. :)\nThe same goes for \"cal.domain.invalid\", but with the correct URLs. Feel free to ask if there are some points unclear. If everything works I would suggest to close this Issue.\n. Which linux distribution do you use? I use Baikal with Debian 7.4 without problems.\nMaybe you should post your server-config. The dav is provided by SabreDAV and does need php, but I think you don't need  the option in nginx.\n. You get a 405 Method not allowed for the request, mhh. \nmaybe try this block:\n```\n        location ~ ^(.+?.php)(/.*)?$ {\n                try_files $1 = 404;\n            include fastcgi_params;\n            fastcgi_param SCRIPT_FILENAME $document_root$1;\n            fastcgi_param PATH_INFO $2;\n            fastcgi_pass unix:/var/run/php5-fpm.sock;\n    }\n\n```\nIf that doesn't help, please post the content of your \"fastcgi_params\" file within /etc/nginx.\n. I think i post my nginx-configuration, maybe it helps:\n```\nserver {\n        listen 80;\n        server_name dav.domain.invalid;\n        return 301 https://$server_name$request_uri;  # enforce https\n}\nserver {\n        listen          443 ssl;\n        server_name     dav.domain.invalid;\n    ssl_certificate /path/to/crt;\n    ssl_certificate_key /path/to/key;\n\n    root            /var/www/vhosts/dav.domain.invalid/html;\n    index           index.php;\n\n    rewrite ^/.well-known/caldav /cal.php redirect;\n    rewrite ^/.well-known/carddav /card.php redirect;\n\n    charset utf-8;\n\n    location ~ /(\\.ht|Core|Specific) {\n            deny all;\n            return 404;\n    }\n\n    location = /robots.txt {\n            allow all;\n            log_not_found off;\n            access_log off;\n    }\n\n    location ~ ^(.+?\\.php)(/.*)?$ {\n            try_files $1 = 404;\n\n            include fastcgi_params;\n            fastcgi_param SCRIPT_FILENAME $document_root$1;\n            fastcgi_param PATH_INFO $2;\n            fastcgi_pass unix:/var/run/php5-fpm.sock;\n    }\n\n    error_page   500 502 503 504  /50x.html;\n    location = /50x.html {\n            root   /var/www/nginx-default;\n    }\n\n}\n```\n. Oh probably my fault, I use nginx 1.4.6-1. Maybe there is some difference in fastcgi.\n. accesslog syncing calendar (no changes):\nhttps://dav.domain.invalid: 100.200.100.200 - - [27/Mar/2014:10:28:49 +0100] \"OPTIONS /cal.php/calendars/Shuro/arbeit/ HTTP/1.1\" 200 0 \"-\" \"Mozilla/5.0 (X11; Linux x86_64; rv:24.0) Gecko/20100101 Thunderbird/24.3.0 Lightning/2.6.4\"\nhttps://dav.domain.invalid: 100.200.100.200 - - [27/Mar/2014:10:28:49 +0100] \"PROPFIND /cal.php/calendars/Shuro/arbeit/ HTTP/1.1\" 207 392 \"-\" \"Mozilla/5.0 (X11; Linux x86_64; rv:24.0) Gecko/20100101 Thunderbird/24.3.0 Lightning/2.6.4\"\naccesslog syncing addressbook (no changes):\nhttps://dav.domain.invalid: 100.200.100.200 - - [27/Mar/2014:10:30:50 +0100] \"PROPFIND /card.php/addressbooks/Shuro/arbeit/ HTTP/1.1\" 207 963 \"-\" \"Mozilla/5.0 (X11; Linux x86_64; rv:24.0) Gecko/20100101 Thunderbird/24.3.0 Lightning/2.6.4\"\nnginx -V\nnginx version: nginx/1.4.6\nbuilt by gcc 4.7.2 (Debian 4.7.2-5) \nTLS SNI support enabled\nconfigure arguments:\n--with-cc-opt='-g -O2 -fstack-protector \n--param=ssp-buffer-size=4 -Wformat -Werror=format-security -D_FORTIFY_SOURCE=2' \n--with-ld-opt=-Wl,-z,relro \n--prefix=/usr/share/nginx \n--conf-path=/etc/nginx/nginx.conf \n--http-log-path=/var/log/nginx/access.log \n--error-log-path=/var/log/nginx/error.log \n--lock-path=/var/lock/nginx.lock \n--pid-path=/run/nginx.pid \n--http-client-body-temp-path=/var/lib/nginx/body \n--http-fastcgi-temp-path=/var/lib/nginx/fastcgi \n--http-proxy-temp-path=/var/lib/nginx/proxy \n--http-scgi-temp-path=/var/lib/nginx/scgi \n--http-uwsgi-temp-path=/var/lib/nginx/uwsgi \n--with-debug \n--with-pcre-jit \n--with-ipv6 \n--with-http_ssl_module \n--with-http_stub_status_module \n--with-http_realip_module \n--with-file-aio \n--with-http_spdy_module \n--with-http_addition_module \n--with-http_dav_module \n--with-http_geoip_module \n--with-http_gzip_static_module \n--with-http_image_filter_module \n--with-http_secure_link_module \n--with-http_sub_module \n--with-http_xslt_module \n--with-mail \n--with-mail_ssl_module \n--add-module=/usr/src/nginx/source/nginx-1.4.6/debian/modules/nginx-auth-pam \n--add-module=/usr/src/nginx/source/nginx-1.4.6/debian/modules/nginx-dav-ext-module \n--add-module=/usr/src/nginx/source/nginx-1.4.6/debian/modules/nginx-echo \n--add-module=/usr/src/nginx/source/nginx-1.4.6/debian/modules/nginx-upstream-fair \n--add-module=/usr/src/nginx/source/nginx-1.4.6/debian/modules/nginx-syslog \n--add-module=/usr/src/nginx/source/nginx-1.4.6/debian/modules/nginx-cache-purge \n--add-module=/usr/src/nginx/source/nginx-1.4.6/debian/modules/ngx_http_pinba_module \n--add-module=/usr/src/nginx/source/nginx-1.4.6/debian/modules/ngx_http_substitutions_filter_module \n--add-module=/usr/src/nginx/source/nginx-1.4.6/debian/modules/nginx-x-rid-header \n--with-ld-opt=-lossp-uuid\nSeems to be possible that it is because of the DAV-Module, maybe you try nginx from the dotdeb-repository?\n~> cat /etc/apt/sources.list\n[...]\ndeb http://packages.dotdeb.org wheezy all\n~> cat /etc/apt/preferences\n```\nPackage: nginx*\nPin: release o=packages.dotdeb.org\nPin-Priority: 600\nPackage: *\nPin: release o=packages.dotdeb.org,n=wheezy\nPin-Priority: -100\n```\n. It doesn't look too wrong....\n. Maybe because Baikal has nothing to do with your non-standard http server?\n. ",
    "funkfux": "I faced the same problem and made a little python script for that reason.\n```\ninsert !/usr/bin/env python\nimport sqlite3\nimport vobject\nfrom datetime import datetime, timedelta\nimport hashlib\nimport calendar\nbdaytext = 'Birthday of '\ncalendarname = 'birthdays'\nsqlpath = '/usr/share/nginx/www/baikal/Specific/db/db.sqlite'\nnow = datetime.utcnow()\nnowts = calendar.timegm(now.timetuple())\ncalendarname = 'birthdays'\nsqlpath = '/usr/share/nginx/www/baikal/Specific/db/db.sqlite'\nconn = sqlite3.connect(sqlpath)\nc1 = conn.cursor()\nc2 = conn.cursor()\ncalendarid = c1.execute('SELECT id FROM calendars WHERE displayname = ?', [calendarname]).fetchone()[0]\nc1.execute('DELETE FROM calendarobjects WHERE calendarid = ?', [calendarid])\nfor row in c1.execute('SELECT carddata FROM cards'):\n    card = vobject.readOne(row[0])\n    if hasattr(card, 'bday'):\n        name = str(card.fn.value)\n        bday = datetime.strptime(card.bday.value, '%Y-%m-%d').date()    \n    ca = vobject.newFromBehavior('vcalendar')\n    ev = ca.add('vevent')\n    ev.add('summary').value = bdaytext+card.fn.value\n    ev.add('dtstart').value = bday\n    ev.add('dtend').value = bday+timedelta(days=1)\n    ev.add('class').value = \"public\"\n    ev.add('created').value = now\n    ev.add('dtstamp').value = now\n    ev.add('last-modified').value = now \n    ev.add('rrule').value = \"FREQ=YEARLY;BYMONTHDAY=\"+str(bday.day)+\";BYMONTH=\"+str(bday.month);\n    ev.add('transp').value = \"TRANSPARENT\"\n    ev.add('categories').value = [\"Birthday\"]\n    ev.add('x-microsoft-cdo-alldayevent').value = \"TRUE\"\n    al = ev.add('valarm')\n    al.add('action').value = \"Display\"\n    al.add('trigger;related=end').value = \"-PT16H\"\n\n    data = ca.serialize();\n    etag = hashlib.md5().update(data)  \n    size = len(data)\n    uri = str(card.uid.value)+'.ics'\n    var = [data, uri, calendarid, nowts, etag, size, 'VEVENT', nowts, nowts+300000000]\n    c2.execute('INSERT INTO calendarobjects (calendardata, uri,  calendarid, lastmodified, etag, size, componenttype, firstoccurence,lastoccurence) VALUES (?,?,?,?,?,?,?,?,?)', var)\n\nconn.commit()\nconn.close()\n```\n. @Tulpenzwiebel That's exactly how I use it.\n. I faced the same problem and made a little python script for that reason.\n```\ninsert !/usr/bin/env python\nimport sqlite3\nimport vobject\nfrom datetime import datetime, timedelta\nimport hashlib\nimport calendar\nbdaytext = 'Birthday of '\ncalendarname = 'birthdays'\nsqlpath = '/usr/share/nginx/www/baikal/Specific/db/db.sqlite'\nnow = datetime.utcnow()\nnowts = calendar.timegm(now.timetuple())\ncalendarname = 'birthdays'\nsqlpath = '/usr/share/nginx/www/baikal/Specific/db/db.sqlite'\nconn = sqlite3.connect(sqlpath)\nc1 = conn.cursor()\nc2 = conn.cursor()\ncalendarid = c1.execute('SELECT id FROM calendars WHERE displayname = ?', [calendarname]).fetchone()[0]\nc1.execute('DELETE FROM calendarobjects WHERE calendarid = ?', [calendarid])\nfor row in c1.execute('SELECT carddata FROM cards'):\n    card = vobject.readOne(row[0])\n    if hasattr(card, 'bday'):\n        name = str(card.fn.value)\n        bday = datetime.strptime(card.bday.value, '%Y-%m-%d').date()    \n    ca = vobject.newFromBehavior('vcalendar')\n    ev = ca.add('vevent')\n    ev.add('summary').value = bdaytext+card.fn.value\n    ev.add('dtstart').value = bday\n    ev.add('dtend').value = bday+timedelta(days=1)\n    ev.add('class').value = \"public\"\n    ev.add('created').value = now\n    ev.add('dtstamp').value = now\n    ev.add('last-modified').value = now \n    ev.add('rrule').value = \"FREQ=YEARLY;BYMONTHDAY=\"+str(bday.day)+\";BYMONTH=\"+str(bday.month);\n    ev.add('transp').value = \"TRANSPARENT\"\n    ev.add('categories').value = [\"Birthday\"]\n    ev.add('x-microsoft-cdo-alldayevent').value = \"TRUE\"\n    al = ev.add('valarm')\n    al.add('action').value = \"Display\"\n    al.add('trigger;related=end').value = \"-PT16H\"\n\n    data = ca.serialize();\n    etag = hashlib.md5().update(data)  \n    size = len(data)\n    uri = str(card.uid.value)+'.ics'\n    var = [data, uri, calendarid, nowts, etag, size, 'VEVENT', nowts, nowts+300000000]\n    c2.execute('INSERT INTO calendarobjects (calendardata, uri,  calendarid, lastmodified, etag, size, componenttype, firstoccurence,lastoccurence) VALUES (?,?,?,?,?,?,?,?,?)', var)\n\nconn.commit()\nconn.close()\n```\n. @Tulpenzwiebel That's exactly how I use it.\n. ",
    "Tulpenzwiebel": "Hi,\n@funkfux what's the use case of your script? Is it possible to use it just in a cron job?\nGreetings,\nTulpenzwiebel\n. @sgalonska May you publish your patched versions? Or something like a how-to?\n. Hi,\n@funkfux what's the use case of your script? Is it possible to use it just in a cron job?\nGreetings,\nTulpenzwiebel\n. @sgalonska May you publish your patched versions? Or something like a how-to?\n. ",
    "mkrsn": "Is there a plan to support a birthday calendar without such a workaround / hack?\n. @smaug95  You can check the Access-Logs for HTTP401 Entries. If you don't use a dedicated subdomain f\u00fcr baikal, you should include parts of the Requests. In all cases you can whitelist some UserAgents and ban all other.\nThis should be enough Log-Infos to ban potential attackers.\n. I'm sharing an working apache 2.2 config with following features:\n- HSTS activated\n- Strong Cipher Config\n- SNI\n- PHP-FPM\n- TLS 1.1 / TLS 1.2 only\n```\n\n    ServerName baikal.foo.bar\n    ServerAdmin root@foo.bar\nSSLEngine on\nSSLProtocol all -SSLv2 -SSLv3 -TLSv1\nSSLHonorCipherOrder on\nSSLCompression off\nSSLCipherSuite EECDH+AESGCM:EDH+AESGCM:AES256+EECDH:AES256+EDH\nSSLStrictSNIVHostCheck on\n\nSSLCertificateFile /path/to/cert.crt\nSSLCertificateKeyFile /path/to/key.key\nSSLCertificateChainFile /path/to/chain-cert.crt\nSSLCACertificateFile /path/to/ca-cert.crt\n\nHeader always set Strict-Transport-Security \"max-age=31536000; includeSubDomains\"\n\nDirectoryIndex index.php index.php5 index.php4 index.html index.xhtml index.htm\n\n# AccessFileName .htaccess\n\nAddHandler php5-fcgi .php\nAddHandler php5-fcgi .php5\nAction php5-fcgi /php5-fcgi\nAlias /php5-fcgi /path/to/document-root/php5-fcgi\nFastCgiExternalServer /path/to/document-root/php5-fcgi -socket /path/to/php-fpm-socket.sock -pass-header Authorization\n\n# Baikal\nRewriteEngine On\nRewriteRule \"^/.well-known/caldav\" \"baikal/html/dav.php\" [R,L]\nRewriteRule \"^/.well-known/carddav\" \"baikal/html/dav.php\" [R,L]\n\nDocumentRoot /path/to/document-root/\n<Directory /path/to/document-root/>\n    Options -ExecCGI +FollowSymlinks -Includes -Indexes -MultiViews -SymlinksIfOwnerMatch\n\n    AllowOverride None\n    Order allow,deny\n    Allow from all\n</Directory>\n\n<Directory  ~ \"/admin\">\n    Order allow,deny\n    Deny from all\n</Directory>\n\n<Directory  ~ \"/Specific\">\n    Order allow,deny\n    Deny from all\n</Directory>\n\nLogLevel warn\nRewriteLogLevel 0\n\nErrorLog /path/to/error.log\nCustomLog /path/to/access.log combined\nRewriteLog /path/to/rewrite-log.log\n\n\n```\n. you should try infcloud out. I've been using it and it's really not funny :/\n(Better than nothing anyway...)\n. @shoeper:\n- The config is creepy.\n- It felt Slow because of the animations\n- The whole application must be downloaded by the client - which is also slow if you don't have a big connection - Infcloud is 100% JavaScript.\n- If you Change something all Clients have to kill they local cache otherwise the changes have no effect or to be precise the changes take effect after a while (not instant)\n- I often have to relogin because of an Update on Server (?? - Maybe a config Issue - not sure)\nBeside of that it seems to work. Thats why you should try it out before using it productive :)\n. Is there a plan to support a birthday calendar without such a workaround / hack?\n. @smaug95  You can check the Access-Logs for HTTP401 Entries. If you don't use a dedicated subdomain f\u00fcr baikal, you should include parts of the Requests. In all cases you can whitelist some UserAgents and ban all other.\nThis should be enough Log-Infos to ban potential attackers.\n. I'm sharing an working apache 2.2 config with following features:\n- HSTS activated\n- Strong Cipher Config\n- SNI\n- PHP-FPM\n- TLS 1.1 / TLS 1.2 only\n```\n\n    ServerName baikal.foo.bar\n    ServerAdmin root@foo.bar\nSSLEngine on\nSSLProtocol all -SSLv2 -SSLv3 -TLSv1\nSSLHonorCipherOrder on\nSSLCompression off\nSSLCipherSuite EECDH+AESGCM:EDH+AESGCM:AES256+EECDH:AES256+EDH\nSSLStrictSNIVHostCheck on\n\nSSLCertificateFile /path/to/cert.crt\nSSLCertificateKeyFile /path/to/key.key\nSSLCertificateChainFile /path/to/chain-cert.crt\nSSLCACertificateFile /path/to/ca-cert.crt\n\nHeader always set Strict-Transport-Security \"max-age=31536000; includeSubDomains\"\n\nDirectoryIndex index.php index.php5 index.php4 index.html index.xhtml index.htm\n\n# AccessFileName .htaccess\n\nAddHandler php5-fcgi .php\nAddHandler php5-fcgi .php5\nAction php5-fcgi /php5-fcgi\nAlias /php5-fcgi /path/to/document-root/php5-fcgi\nFastCgiExternalServer /path/to/document-root/php5-fcgi -socket /path/to/php-fpm-socket.sock -pass-header Authorization\n\n# Baikal\nRewriteEngine On\nRewriteRule \"^/.well-known/caldav\" \"baikal/html/dav.php\" [R,L]\nRewriteRule \"^/.well-known/carddav\" \"baikal/html/dav.php\" [R,L]\n\nDocumentRoot /path/to/document-root/\n<Directory /path/to/document-root/>\n    Options -ExecCGI +FollowSymlinks -Includes -Indexes -MultiViews -SymlinksIfOwnerMatch\n\n    AllowOverride None\n    Order allow,deny\n    Allow from all\n</Directory>\n\n<Directory  ~ \"/admin\">\n    Order allow,deny\n    Deny from all\n</Directory>\n\n<Directory  ~ \"/Specific\">\n    Order allow,deny\n    Deny from all\n</Directory>\n\nLogLevel warn\nRewriteLogLevel 0\n\nErrorLog /path/to/error.log\nCustomLog /path/to/access.log combined\nRewriteLog /path/to/rewrite-log.log\n\n\n```\n. you should try infcloud out. I've been using it and it's really not funny :/\n(Better than nothing anyway...)\n. @shoeper:\n- The config is creepy.\n- It felt Slow because of the animations\n- The whole application must be downloaded by the client - which is also slow if you don't have a big connection - Infcloud is 100% JavaScript.\n- If you Change something all Clients have to kill they local cache otherwise the changes have no effect or to be precise the changes take effect after a while (not instant)\n- I often have to relogin because of an Update on Server (?? - Maybe a config Issue - not sure)\nBeside of that it seems to work. Thats why you should try it out before using it productive :)\n. ",
    "jeby": "@funkfux thanks! I got a lot of \"ascii\" problem, but I'm working on it! :)\n. @funkfux thanks! I got a lot of \"ascii\" problem, but I'm working on it! :)\n. ",
    "tmikaeld": "Please do, if you want to implement it, be sure to use streams, it's something that all other PHP implementations seem to have missed.\nReference: https://code.google.com/p/sabredav/wiki/WorkingWithLargeFiles\n. No, storage of any file - and in this case use Baikal for user management.\nCurrently we use a separate self-made solution using SabreDAV, since it's the most feature rich WebDAV library.\nBut sure, you could implement the same using the apache mod_dav module, but SabreDAV don't require it.\n. I'd rather have a complete *DAV set - make it a lightweight/unbloated owncloud clone then.\nIt makes no sense to have one system for each dav type.\n. Please do, if you want to implement it, be sure to use streams, it's something that all other PHP implementations seem to have missed.\nReference: https://code.google.com/p/sabredav/wiki/WorkingWithLargeFiles\n. No, storage of any file - and in this case use Baikal for user management.\nCurrently we use a separate self-made solution using SabreDAV, since it's the most feature rich WebDAV library.\nBut sure, you could implement the same using the apache mod_dav module, but SabreDAV don't require it.\n. I'd rather have a complete *DAV set - make it a lightweight/unbloated owncloud clone then.\nIt makes no sense to have one system for each dav type.\n. ",
    "sint": "not sure if this is really needed. i would rather have a perfectly working caldav/carddav server than another overfeatured owncloud clone. \n. This seems to be fixed and should be closed.\n. not sure if this is really needed. i would rather have a perfectly working caldav/carddav server than another overfeatured owncloud clone. \n. This seems to be fixed and should be closed.\n. ",
    "blinkenlight": "+1 for webDAV support - I'm using Baikal to break free of Google / other cloud services using my Android phone. So far it works great for contacts and calendars, with tasks coming along nicely. Last thing missing would be memos / notes, and webDAV sounds like just the ticket for that. I was aware that Apache can help with that, but of course I'd prefer an integrated solution... :)\n. If you get the 401 once (followed by an identical request, granted with 207), that's normal. Baikal is set up to use digest authentication by default as far as I can tell, and a 401 is part of how that is supposed to work - see [1]. That being said, if you never get any other request, or all requests are denied with 401 something's clearly wrong. All I can say I'm also using Baikal with CardDAV-Sync (installed both a few days ago) and they seem to work together fine for me (I don't use SSL). Is there anything else in the Apache log after that 401 line...?\n[1] - http://en.wikipedia.org/wiki/Digest_access_authentication#Example_with_explanation\n. I'm absolutely not an authority on this, but as far as I know, there's actually no such thing as a \"memo\". Which is really weird, because everyone who used a PDA / PIM clearly knows that there IS. Nevertheless, the iCal / CalDAV specification recognizes the following components only: VEVENT (events), VTODO (todos/tasks), VJOURNAL (journal entry - it does have a \"description\" field, but is not really what people generally understand by \"memo/note\"), and VFREEBUSY (free/busy time entry). That's it. No \"memo\". The counterpart (CardDAV) is even more specialized with VCARD (contact) entries only. It logically follows then that a CalDAV / CardDAV server isn't really at fault if it doesn't know how to handle memos...\nHow Evolution (or other PIM suites) handle memos then is an entirely different question - my guess is, any which way they please ([1] seems to indicate Evolution explicitly just stores them as... surprise... files, no server involved), and I have no idea whether any of them can be bothered to sync them to anything else ever since SyncML went out of style.\nPersonally, I'm in a very similar boat: I handle contacts, tasks and events throught Baikal, and simply store memos as files; on my Android, an open source app called \"LesserPad\" picks them right up from the specified folder and shows them directly as categorized \"memos\", while a different app two-way-syncs said folder in the background to the WebDAV service of the very same Apache server on top of which my Baikal is running. Since WebDAV is the generic form of service to read/write files on the web, this works out just fine. The remaining piece of the puzzle is of course accessing those (plain text) files from my PC - not entirely solved (though I can of course just look at / edit them with any text editor at any time): since I access the other components via any browser, using the javascript Cal/Card clients CalDavZap/CardDavMate, ideally I'd need a similar, extremely simple client that could read/write text files from the same WebDAV server - maybe I'll hack up something some day but I'm just not there yet. You might want to look into how exactly your memos look as files - a similar server / sync solution might work for you as well... again, I'm NOT an authority on any of this, just an ordinary stubborn idiot struggling to get by without any third-party cloud syncing, so take all this with a liberal pinch of salt.\n[1] - https://help.gnome.org/users/evolution/3.1/b1012vdd.html.en\n. +1 for webDAV support - I'm using Baikal to break free of Google / other cloud services using my Android phone. So far it works great for contacts and calendars, with tasks coming along nicely. Last thing missing would be memos / notes, and webDAV sounds like just the ticket for that. I was aware that Apache can help with that, but of course I'd prefer an integrated solution... :)\n. If you get the 401 once (followed by an identical request, granted with 207), that's normal. Baikal is set up to use digest authentication by default as far as I can tell, and a 401 is part of how that is supposed to work - see [1]. That being said, if you never get any other request, or all requests are denied with 401 something's clearly wrong. All I can say I'm also using Baikal with CardDAV-Sync (installed both a few days ago) and they seem to work together fine for me (I don't use SSL). Is there anything else in the Apache log after that 401 line...?\n[1] - http://en.wikipedia.org/wiki/Digest_access_authentication#Example_with_explanation\n. I'm absolutely not an authority on this, but as far as I know, there's actually no such thing as a \"memo\". Which is really weird, because everyone who used a PDA / PIM clearly knows that there IS. Nevertheless, the iCal / CalDAV specification recognizes the following components only: VEVENT (events), VTODO (todos/tasks), VJOURNAL (journal entry - it does have a \"description\" field, but is not really what people generally understand by \"memo/note\"), and VFREEBUSY (free/busy time entry). That's it. No \"memo\". The counterpart (CardDAV) is even more specialized with VCARD (contact) entries only. It logically follows then that a CalDAV / CardDAV server isn't really at fault if it doesn't know how to handle memos...\nHow Evolution (or other PIM suites) handle memos then is an entirely different question - my guess is, any which way they please ([1] seems to indicate Evolution explicitly just stores them as... surprise... files, no server involved), and I have no idea whether any of them can be bothered to sync them to anything else ever since SyncML went out of style.\nPersonally, I'm in a very similar boat: I handle contacts, tasks and events throught Baikal, and simply store memos as files; on my Android, an open source app called \"LesserPad\" picks them right up from the specified folder and shows them directly as categorized \"memos\", while a different app two-way-syncs said folder in the background to the WebDAV service of the very same Apache server on top of which my Baikal is running. Since WebDAV is the generic form of service to read/write files on the web, this works out just fine. The remaining piece of the puzzle is of course accessing those (plain text) files from my PC - not entirely solved (though I can of course just look at / edit them with any text editor at any time): since I access the other components via any browser, using the javascript Cal/Card clients CalDavZap/CardDavMate, ideally I'd need a similar, extremely simple client that could read/write text files from the same WebDAV server - maybe I'll hack up something some day but I'm just not there yet. You might want to look into how exactly your memos look as files - a similar server / sync solution might work for you as well... again, I'm NOT an authority on any of this, just an ordinary stubborn idiot struggling to get by without any third-party cloud syncing, so take all this with a liberal pinch of salt.\n[1] - https://help.gnome.org/users/evolution/3.1/b1012vdd.html.en\n. ",
    "Philppe": "Any idea ?\nI suspect an issue with permissions but I didn't see any difference between my caldav configuration (which works fine) and my carddav configuration :-(\n. I've found !! :-)\nThe default android contact application and carddav-sync application can't modify contacts :-(\nIt neccessary to install an application which can do it : contact editor free for example.\nThis issue is solved\nPhilippe\n. Hi,\nI've installed the flat package on Debian Squeeze and it works fine.\nIt was the first time, I installed Ba\u00efkal and I've never done an upgrade so I can't say anything about your case.\nMaybe you could backup your database and try a new install ?\nRegards,\nPhilippe\n. Thanks for your comment.\nAs I am a Debian user, I have used icedove v10 until few weeks.\nBut now, with backports repository and wheezy released, I have upgraded to Icedove v17 and now it works !!\nThe two things I had to do, were to upgrade Sogo Connector to the last version (17.0.5) and I also had to re-create my address book on Icedove.\nThanks again\nPhilippe\n. Any idea ?\nI suspect an issue with permissions but I didn't see any difference between my caldav configuration (which works fine) and my carddav configuration :-(\n. I've found !! :-)\nThe default android contact application and carddav-sync application can't modify contacts :-(\nIt neccessary to install an application which can do it : contact editor free for example.\nThis issue is solved\nPhilippe\n. Hi,\nI've installed the flat package on Debian Squeeze and it works fine.\nIt was the first time, I installed Ba\u00efkal and I've never done an upgrade so I can't say anything about your case.\nMaybe you could backup your database and try a new install ?\nRegards,\nPhilippe\n. Thanks for your comment.\nAs I am a Debian user, I have used icedove v10 until few weeks.\nBut now, with backports repository and wheezy released, I have upgraded to Icedove v17 and now it works !!\nThe two things I had to do, were to upgrade Sogo Connector to the last version (17.0.5) and I also had to re-create my address book on Icedove.\nThanks again\nPhilippe\n. ",
    "clorch": "Yes, it is compatible.\nUse the following URL scheme: https://baikal-server.example/addressbooks//\n. Yes, it is compatible.\nUse the following URL scheme: https://baikal-server.example/addressbooks//\n. ",
    "mrpurplenz": "Great. Thanks. I tested the url at my command line (as per the calDAV trouble shooting section) with\ncurl -so - --digest --user [user_name]:[password] http://[baikal_address]/card.php/addressbooks/[user_name]/default\nAnd got:\nGET is only implemented on File objects\nGood right?\nSo using:\nhttp://[baikal_address]/card.php/addressbooks/[user_name]/default\nin my round_cube CardDAV client should work, and if not, it's probably the client right? \n(is http ok? I could use https, but I only have self-made or unmatched certs)\n(How vital is it that [baikal_address] is a domain with the virtual host setup? If my curl works when the [baikal_address] is \"host_name/baikal/html\" for example is it still good to go?)\nSorry if these questions belong elsewhere. (I'm trying to post in the most appropriate place)\n. Great. Thanks. I tested the url at my command line (as per the calDAV trouble shooting section) with\ncurl -so - --digest --user [user_name]:[password] http://[baikal_address]/card.php/addressbooks/[user_name]/default\nAnd got:\nGET is only implemented on File objects\nGood right?\nSo using:\nhttp://[baikal_address]/card.php/addressbooks/[user_name]/default\nin my round_cube CardDAV client should work, and if not, it's probably the client right? \n(is http ok? I could use https, but I only have self-made or unmatched certs)\n(How vital is it that [baikal_address] is a domain with the virtual host setup? If my curl works when the [baikal_address] is \"host_name/baikal/html\" for example is it still good to go?)\nSorry if these questions belong elsewhere. (I'm trying to post in the most appropriate place)\n. ",
    "mbsouth": "\nRoundcube-CardDAV is a great CardDAV client addon for the popular web based email system roundcube.\nhttps://github.com/graviox/Roundcube-CardDAV\nIs Baikal compatible?\nIf so what would the connecting url be?\nround_cube CardDAV client should work, and if not, it's probably the client right? \n\nThe \"Roundcube-CardDAV\" plugin is great but buggy and it seems that the developement is at a standstill (latest update 9 months ago). \nHave a look at https://github.com/graviox/Roundcube-CardDAV/issues\njm2c mbsouth\n. php5-curl-?.?.?\n. > > ...each domain is forwarded to an own subfolder (e.g.: xyz.de -> /xyz/). \nYou haven\u00b4t nothing to change within Baikal. Why you are not using \"name based virtual hosts (vhost)\" for that?\njm2c mbsouth\n. Take a second host or a root server, - or leave it...\n. > I have a similiar problem - \n\nThe url is rewritten to something like https://calcon.foofoofo.de/on.foofoofo.de/admin/?/users/\n\nPlease, read the doku - especially \"System requirements\" and how to \"Installing Baikal\"!\n\n3.2.1.2 - Setting up a Web Server\nBaikal must be bound to a domain/subdomain in order to run properly. This package provides default virtualhost\nconfiguration files for Apache 2 and for nginx in Specific/virtualhosts/\nTo enable your host to run Baikal, you'll have to add the Baikal virtualhost to your Web Server environment.\nSetting up the Apache virtualhost\nIn our example, we will assume that the apache2 configuration directory is: /etc/apache2\n\nStart here:\nhttps://github.com/jeromeschneider/Baikal/blob/master/INSTALL.md\nBaikal is based on \"SabreDAV\". You can also check:\nhttps://github.com/evert/SabreDAV/tree/master/examples/webserver\n!! Baikals \".htaccess\":\nhttps://github.com/jeromeschneider/Baikal/blob/master/html/.htaccess\nI have successfully installed Baikal on different systems. Check your \"vhost config\", the \"system requirements\" and \"rewrite rules\" and Baikal runs like a charm.\n. > > This server is a windows machine though. It runs apache with a recent version of PHP.\nRead the README.md and INSTALL.md for systemrequirements.\nCreate a \"info.php\" file to get the server config:\n\n\n<?php phpinfo(); ?>\n. > > I was able to install it an a linux server without any problems. This server is a windows machine though.\n\n\nWhich OS you use?\n. > > However, as far as I can see, Baikal does not support shared address books. \nFor me already...\n. >  Roundcube-CardDAV is a great CardDAV client addon for the popular web based email system roundcube.\n\nhttps://github.com/graviox/Roundcube-CardDAV\nIs Baikal compatible?\nIf so what would the connecting url be?\nround_cube CardDAV client should work, and if not, it's probably the client right? \n\nThe \"Roundcube-CardDAV\" plugin is great but buggy and it seems that the developement is at a standstill (latest update 9 months ago). \nHave a look at https://github.com/graviox/Roundcube-CardDAV/issues\njm2c mbsouth\n. php5-curl-?.?.?\n. > > ...each domain is forwarded to an own subfolder (e.g.: xyz.de -> /xyz/). \nYou haven\u00b4t nothing to change within Baikal. Why you are not using \"name based virtual hosts (vhost)\" for that?\njm2c mbsouth\n. Take a second host or a root server, - or leave it...\n. > I have a similiar problem - \n\nThe url is rewritten to something like https://calcon.foofoofo.de/on.foofoofo.de/admin/?/users/\n\nPlease, read the doku - especially \"System requirements\" and how to \"Installing Baikal\"!\n\n3.2.1.2 - Setting up a Web Server\nBaikal must be bound to a domain/subdomain in order to run properly. This package provides default virtualhost\nconfiguration files for Apache 2 and for nginx in Specific/virtualhosts/\nTo enable your host to run Baikal, you'll have to add the Baikal virtualhost to your Web Server environment.\nSetting up the Apache virtualhost\nIn our example, we will assume that the apache2 configuration directory is: /etc/apache2\n\nStart here:\nhttps://github.com/jeromeschneider/Baikal/blob/master/INSTALL.md\nBaikal is based on \"SabreDAV\". You can also check:\nhttps://github.com/evert/SabreDAV/tree/master/examples/webserver\n!! Baikals \".htaccess\":\nhttps://github.com/jeromeschneider/Baikal/blob/master/html/.htaccess\nI have successfully installed Baikal on different systems. Check your \"vhost config\", the \"system requirements\" and \"rewrite rules\" and Baikal runs like a charm.\n. > > This server is a windows machine though. It runs apache with a recent version of PHP.\nRead the README.md and INSTALL.md for systemrequirements.\nCreate a \"info.php\" file to get the server config:\n\n\n<?php phpinfo(); ?>\n. > > I was able to install it an a linux server without any problems. This server is a windows machine though.\n\n\nWhich OS you use?\n. > > However, as far as I can see, Baikal does not support shared address books. \nFor me already...\n. ",
    "chrissten": "prashantds, the root php classes are not expected to be accessed directly in the browser. You need a CalDav client like Thunderbird/Lightning. \nTry reading the instructions in \"INSTALL.md\" which explains the initial setup for Thunderbird.\nAlso the string \"GET is only implemented on File objects\" is explained in the \"TROUBLESHOOTING.md\" doc.\n. So was a change made to the code to accommodate this? I think this is the same reason that I have not been able to get the \"aCal\" Android app to work with Baikal. \n. prashantds, the root php classes are not expected to be accessed directly in the browser. You need a CalDav client like Thunderbird/Lightning. \nTry reading the instructions in \"INSTALL.md\" which explains the initial setup for Thunderbird.\nAlso the string \"GET is only implemented on File objects\" is explained in the \"TROUBLESHOOTING.md\" doc.\n. So was a change made to the code to accommodate this? I think this is the same reason that I have not been able to get the \"aCal\" Android app to work with Baikal. \n. ",
    "mpgit": "Hmmmm, does anybody have any idea about this problem ? Would anybody need some more information ? Has anybody successfully installed Baikal on a Debian squeeze system ?\nI'm at the end of my debugging and I really am not so deep into PHP to fix that issue.\nRegards,\nMarkus\n. Hi,\nthankyou for the answer Philippe. After that I tried it again on a new debian install and worked my way back to my old installation. It seems, that the problem is in my baikal sqlite database, which got corrupted somehow.\nI deleted the database and everything was fine (well, except for the missed dates :-) ). \nThanks again.\nRegards,\nMarkus\n. Hmmmm, does anybody have any idea about this problem ? Would anybody need some more information ? Has anybody successfully installed Baikal on a Debian squeeze system ?\nI'm at the end of my debugging and I really am not so deep into PHP to fix that issue.\nRegards,\nMarkus\n. Hi,\nthankyou for the answer Philippe. After that I tried it again on a new debian install and worked my way back to my old installation. It seems, that the problem is in my baikal sqlite database, which got corrupted somehow.\nI deleted the database and everything was fine (well, except for the missed dates :-) ). \nThanks again.\nRegards,\nMarkus\n. ",
    "theshaddow": "I NEED HELP WITH THIS ASAP PLEASE.\nI am not php fluent, and this is looking like a php problem. (I could be wrong)\nI am wondering if I am missing a pkg,\nIn php I have;\nphp5-5.3.5\nphp5-ctype-5.3.5\nphp5-dom-5.3.5\nphp5-gd-5.3.5\nphp5-gettext-5.3.5\nphp5-iconv-5.3.5\nphp5-imap-5.3.5\nphp5-json-5.3.5\nphp5-mbstring-5.3.5\nphp5-mysql-5.3.5\nphp5-openssl-5.3.5\nphp5-pdo-5.3.5\nphp5-pdo_mysql-5.3.5\nphp5-pdo_pgsql-5.3.5\nphp5-pgsql-5.3.5\nphp5-pspell-5.3.5\nphp5-session-5.3.5\nphp5-simplexml-5.3.5\nphp5-tokenizer-5.3.5\nphp5-xml-5.3.5\nphp5-zip-5.3.5\nphp5-zlib-5.3.5\nphp-libawl-0.45.\nIf you need more Info Just ask and I will try to find it.\n. php5-curl-5.3.5\nAlso an updated PHP list\nphp-libawl-0.45     Andrew.s Web Libraries - PHP Utility Libraries\nphp5-5.3.5          PHP Scripting Language\nphp5-calendar-5.3.5 The calendar shared extension for php\nphp5-ctype-5.3.5    The ctype shared extension for php\nphp5-curl-5.3.5     The curl shared extension for php\nphp5-dom-5.3.5      The dom shared extension for php\nphp5-extensions-1.4 A \"meta-port\" to install PHP extensions\nphp5-fileinfo-5.3.5 The fileinfo shared extension for php\nphp5-filter-5.3.5   The filter shared extension for php\nphp5-ftp-5.3.5      The ftp shared extension for php\nphp5-gd-5.3.5       The gd shared extension for php\nphp5-gettext-5.3.5  The gettext shared extension for php\nphp5-hash-5.3.5     The hash shared extension for php\nphp5-iconv-5.3.5    The iconv shared extension for php\nphp5-imap-5.3.5     The imap shared extension for php\nphp5-json-5.3.5     The json shared extension for php\nphp5-mbstring-5.3.5 The mbstring shared extension for php\nphp5-mcrypt-5.3.5   The mcrypt shared extension for php\nphp5-mysql-5.3.5    The mysql shared extension for php\nphp5-openssl-5.3.5  The openssl shared extension for php\nphp5-pcntl-5.3.5    The pcntl shared extension for php\nphp5-pdo-5.3.5      The pdo shared extension for php\nphp5-pdo_mysql-5.3.5 The pdo_mysql shared extension for php\nphp5-pgsql-5.3.5    The pgsql shared extension for php\nphp5-posix-5.3.5    The posix shared extension for php\nphp5-pspell-5.3.5   The pspell shared extension for php\nphp5-session-5.3.5  The session shared extension for php\nphp5-simplexml-5.3.5 The simplexml shared extension for php\nphp5-tokenizer-5.3.5 The tokenizer shared extension for php\nphp5-xml-5.3.5      The xml shared extension for php\nphp5-xmlreader-5.3.5 The xmlreader shared extension for php\nphp5-xmlwriter-5.3.5 The xmlwriter shared extension for php\nphp5-zip-5.3.5      The zip shared extension for php\nphp5-zlib-5.3.5     The zlib shared extension for php\nphpbb-2.0.23        A PHP-based bulletin board / discussion forum system\nphplist-2.10.9      A full-featured open-source newsletter manager\n. I have got it to work (Dont ask me how)\nI just reinstalled the flat package.\nBUT not I have other problems, it is giving a 405 error for access to the calendars\nCrul \"/cal.php/calendars/shane/default was not found on this server\"\nApache \"\"GET /cal.php/calendars/shane/default HTTP/1.1\" 404 229 \"-\" \"curl/7.21.3 \"\nit looks like the / after cal.php is not rewriting, if I use ? I see \"Requested uri (/cal.php?calendars/shane/default) is out of base uri (/cal.php)\nI can not find a rewrite command in the files, so what am I missing.\nPLEASE HELP ASAP, they are demanding it to work, I am starting to look for other program that might work if I can not get this one working.\n. I NEED HELP WITH THIS ASAP PLEASE.\nI am not php fluent, and this is looking like a php problem. (I could be wrong)\nI am wondering if I am missing a pkg,\nIn php I have;\nphp5-5.3.5\nphp5-ctype-5.3.5\nphp5-dom-5.3.5\nphp5-gd-5.3.5\nphp5-gettext-5.3.5\nphp5-iconv-5.3.5\nphp5-imap-5.3.5\nphp5-json-5.3.5\nphp5-mbstring-5.3.5\nphp5-mysql-5.3.5\nphp5-openssl-5.3.5\nphp5-pdo-5.3.5\nphp5-pdo_mysql-5.3.5\nphp5-pdo_pgsql-5.3.5\nphp5-pgsql-5.3.5\nphp5-pspell-5.3.5\nphp5-session-5.3.5\nphp5-simplexml-5.3.5\nphp5-tokenizer-5.3.5\nphp5-xml-5.3.5\nphp5-zip-5.3.5\nphp5-zlib-5.3.5\nphp-libawl-0.45.\nIf you need more Info Just ask and I will try to find it.\n. php5-curl-5.3.5\nAlso an updated PHP list\nphp-libawl-0.45     Andrew.s Web Libraries - PHP Utility Libraries\nphp5-5.3.5          PHP Scripting Language\nphp5-calendar-5.3.5 The calendar shared extension for php\nphp5-ctype-5.3.5    The ctype shared extension for php\nphp5-curl-5.3.5     The curl shared extension for php\nphp5-dom-5.3.5      The dom shared extension for php\nphp5-extensions-1.4 A \"meta-port\" to install PHP extensions\nphp5-fileinfo-5.3.5 The fileinfo shared extension for php\nphp5-filter-5.3.5   The filter shared extension for php\nphp5-ftp-5.3.5      The ftp shared extension for php\nphp5-gd-5.3.5       The gd shared extension for php\nphp5-gettext-5.3.5  The gettext shared extension for php\nphp5-hash-5.3.5     The hash shared extension for php\nphp5-iconv-5.3.5    The iconv shared extension for php\nphp5-imap-5.3.5     The imap shared extension for php\nphp5-json-5.3.5     The json shared extension for php\nphp5-mbstring-5.3.5 The mbstring shared extension for php\nphp5-mcrypt-5.3.5   The mcrypt shared extension for php\nphp5-mysql-5.3.5    The mysql shared extension for php\nphp5-openssl-5.3.5  The openssl shared extension for php\nphp5-pcntl-5.3.5    The pcntl shared extension for php\nphp5-pdo-5.3.5      The pdo shared extension for php\nphp5-pdo_mysql-5.3.5 The pdo_mysql shared extension for php\nphp5-pgsql-5.3.5    The pgsql shared extension for php\nphp5-posix-5.3.5    The posix shared extension for php\nphp5-pspell-5.3.5   The pspell shared extension for php\nphp5-session-5.3.5  The session shared extension for php\nphp5-simplexml-5.3.5 The simplexml shared extension for php\nphp5-tokenizer-5.3.5 The tokenizer shared extension for php\nphp5-xml-5.3.5      The xml shared extension for php\nphp5-xmlreader-5.3.5 The xmlreader shared extension for php\nphp5-xmlwriter-5.3.5 The xmlwriter shared extension for php\nphp5-zip-5.3.5      The zip shared extension for php\nphp5-zlib-5.3.5     The zlib shared extension for php\nphpbb-2.0.23        A PHP-based bulletin board / discussion forum system\nphplist-2.10.9      A full-featured open-source newsletter manager\n. I have got it to work (Dont ask me how)\nI just reinstalled the flat package.\nBUT not I have other problems, it is giving a 405 error for access to the calendars\nCrul \"/cal.php/calendars/shane/default was not found on this server\"\nApache \"\"GET /cal.php/calendars/shane/default HTTP/1.1\" 404 229 \"-\" \"curl/7.21.3 \"\nit looks like the / after cal.php is not rewriting, if I use ? I see \"Requested uri (/cal.php?calendars/shane/default) is out of base uri (/cal.php)\nI can not find a rewrite command in the files, so what am I missing.\nPLEASE HELP ASAP, they are demanding it to work, I am starting to look for other program that might work if I can not get this one working.\n. ",
    "switchgott": "Hi,\nthanks for great software.\nBut i have the same error on openwrt.\nFatal error: Call to undefined function Flake\\Util\\filter_var() in /mnt/data/www/baikal/Core/Frameworks/Flake/Util/Tools.php on line 230\nIts a problem with email address.\nPlease, have you got a work around?\nThanks\n. Hi,\nthanks for great software.\nBut i have the same error on openwrt.\nFatal error: Call to undefined function Flake\\Util\\filter_var() in /mnt/data/www/baikal/Core/Frameworks/Flake/Util/Tools.php on line 230\nIts a problem with email address.\nPlease, have you got a work around?\nThanks\n. ",
    "deBouB": "It's been a while since the last post was done here. But I recently came up with this problem and could fix it somehow to create a user.\nA Workaround would be to comment out lines 233-235 in Core/Frameworks/Flake/Util/Tools.php\nand further comment out lines 267 and 269 in Core/Frameworks/Formal/Form.php.\nWith this workaround I was able to create a user in baikal on OpenWRT 12.09\n. It's been a while since the last post was done here. But I recently came up with this problem and could fix it somehow to create a user.\nA Workaround would be to comment out lines 233-235 in Core/Frameworks/Flake/Util/Tools.php\nand further comment out lines 267 and 269 in Core/Frameworks/Formal/Form.php.\nWith this workaround I was able to create a user in baikal on OpenWRT 12.09\n. ",
    "JoeeTheGreat": "I'm sorry:  I did change the 'principaluri' and 'displayname' like it was on 'calendars'.\nBut the point was: Because of the 'UNIQUE' command for 'principaluri' and 'uri' my MySQL Version (5.1.61) said:\n\"1071 - Specified key was too long; max key length is 1000 bytes\"\n. I'm sorry:  I did change the 'principaluri' and 'displayname' like it was on 'calendars'.\nBut the point was: Because of the 'UNIQUE' command for 'principaluri' and 'uri' my MySQL Version (5.1.61) said:\n\"1071 - Specified key was too long; max key length is 1000 bytes\"\n. ",
    "jeff-h": "I think my comment over at https://github.com/jeromeschneider/Baikal/issues/85#issuecomment-26663942 is relevant here. Seems to me that MySQL 5.5+ is required for Baikal.\n. I had the same issue. Changed as per above the mysql.addressbook.sql file and ran against the database (I chose carddav only). This fixed the problem.\n. Ha, turns out my MySQL was too old. I upgraded from 5.1 to 5.5 and this issue went away without having to modify anything.\nI think something is needed in the documentation stating MySQL 5.5+ is required.\n. I think my comment over at https://github.com/jeromeschneider/Baikal/issues/85#issuecomment-26663942 is relevant here. Seems to me that MySQL 5.5+ is required for Baikal.\n. I had the same issue. Changed as per above the mysql.addressbook.sql file and ran against the database (I chose carddav only). This fixed the problem.\n. Ha, turns out my MySQL was too old. I upgraded from 5.1 to 5.5 and this issue went away without having to modify anything.\nI think something is needed in the documentation stating MySQL 5.5+ is required.\n. ",
    "bmolitor": "Hm. I just ran into the same issue using MySQL 5.5.38 - seems to be unrelated to the MySQL version used?\n. Hm. I just ran into the same issue using MySQL 5.5.38 - seems to be unrelated to the MySQL version used?\n. ",
    "phaidros7": "another one in the baikal.nginx file (in stable):\nroot  /var/www/dav.mydomain.com; \nshould be\nroot  /var/www/dav.mydomain.com/html;\n. yepp, this crossed my mind as well while installing and testing today. +1 from here as well\n. oh yeah, I opt for this as well. that'd be awesome!\n. only difference I spot:\n\"php$\" means the url string ends with \"php\" \n\"php(.*)$\" means the url string includes php, probably followed by an unknown number (the asterisk) of anything (the dot).\n. Yeah, as it seems the original release date seems a bite overdue ;_)\nIs there any active development atm? It would be awesome to see the calendar sharing features soon! Thanks for any hints regarding the Release Date!!\n:)\n. Same here.\n1. Fresh install, enter admin pw.\n2. https://theserver.org/admin/install/?/database\n   Ba\u00efkal is already installed. Please log in to the admin interface\n3. goto https://theserver.org/admin/\n   Enter Admin/Pass\n```\nexception 'PDOException' with message 'SQLSTATE[3D000]: Invalid catalog name: 1046 No database selected' in /srv/www/theserver.org/Core/Frameworks/Flake/Core/Database.php:180\nStack trace:\n0 /srv/www/theserver.org/Core/Frameworks/Flake/Core/Database.php(180): PDO->query('SELECT count(*)...')\n1 /srv/www/theserver.org/Core/Frameworks/Flake/Core/Requester/Sql.php(202): Flake\\Core\\Database->query('SELECT count(*)...')\n2 /srv/www/theserver.org/Core/Frameworks/BaikalAdmin/Controller/Dashboard.php(44): Flake\\Core\\Requester\\Sql->count()\n3 /srv/www/theserver.org/Core/Frameworks/Flake/Core/Render/Container.php(71): BaikalAdmin\\Controller\\Dashboard->render()\n4 /srv/www/theserver.org/Core/Frameworks/Flake/Controller/Page.php(85): Flake\\Core\\Render\\Container->renderBlocks()\n5 /srv/www/theserver.org/html/admin/index.php(92): Flake\\Controller\\Page->render()\n6 {main}\n```\nactual file system\nSpecific# ls -al\ntotal 24\ndrwxrwxr-x 3 www-data root     4096 Mar 23 20:24 .\ndrwxr-xr-x 7 root     root     4096 Mar 23 19:55 ..\n-rw-r--r-- 1 www-data www-data 1706 Mar 23 20:24 config.php\n-rw-r--r-- 1 www-data www-data 2405 Mar 23 20:24 config.system.php\ndrwxrwxr-x 2 root     root     4096 Mar 22 04:37 db\n-rw-r--r-- 1 www-data www-data   31 Mar 23 20:24 .htaccess\n. baikal-0.4.2.zip\n. I would be happy to back a bounty regarding the blocker :)\n. Hey Evert, where do I find the link to the bounty?. @bigretromike sure, but this issue is not there .. I am not familiar with bountysource so far. The silex rewrite seems backed and I see no bounty for this issue there %). another one in the baikal.nginx file (in stable):\nroot  /var/www/dav.mydomain.com; \nshould be\nroot  /var/www/dav.mydomain.com/html;\n. yepp, this crossed my mind as well while installing and testing today. +1 from here as well\n. oh yeah, I opt for this as well. that'd be awesome!\n. only difference I spot:\n\"php$\" means the url string ends with \"php\" \n\"php(.*)$\" means the url string includes php, probably followed by an unknown number (the asterisk) of anything (the dot).\n. Yeah, as it seems the original release date seems a bite overdue ;_)\nIs there any active development atm? It would be awesome to see the calendar sharing features soon! Thanks for any hints regarding the Release Date!!\n:)\n. Same here.\n1. Fresh install, enter admin pw.\n2. https://theserver.org/admin/install/?/database\n   Ba\u00efkal is already installed. Please log in to the admin interface\n3. goto https://theserver.org/admin/\n   Enter Admin/Pass\n```\nexception 'PDOException' with message 'SQLSTATE[3D000]: Invalid catalog name: 1046 No database selected' in /srv/www/theserver.org/Core/Frameworks/Flake/Core/Database.php:180\nStack trace:\n0 /srv/www/theserver.org/Core/Frameworks/Flake/Core/Database.php(180): PDO->query('SELECT count(*)...')\n1 /srv/www/theserver.org/Core/Frameworks/Flake/Core/Requester/Sql.php(202): Flake\\Core\\Database->query('SELECT count(*)...')\n2 /srv/www/theserver.org/Core/Frameworks/BaikalAdmin/Controller/Dashboard.php(44): Flake\\Core\\Requester\\Sql->count()\n3 /srv/www/theserver.org/Core/Frameworks/Flake/Core/Render/Container.php(71): BaikalAdmin\\Controller\\Dashboard->render()\n4 /srv/www/theserver.org/Core/Frameworks/Flake/Controller/Page.php(85): Flake\\Core\\Render\\Container->renderBlocks()\n5 /srv/www/theserver.org/html/admin/index.php(92): Flake\\Controller\\Page->render()\n6 {main}\n```\nactual file system\nSpecific# ls -al\ntotal 24\ndrwxrwxr-x 3 www-data root     4096 Mar 23 20:24 .\ndrwxr-xr-x 7 root     root     4096 Mar 23 19:55 ..\n-rw-r--r-- 1 www-data www-data 1706 Mar 23 20:24 config.php\n-rw-r--r-- 1 www-data www-data 2405 Mar 23 20:24 config.system.php\ndrwxrwxr-x 2 root     root     4096 Mar 22 04:37 db\n-rw-r--r-- 1 www-data www-data   31 Mar 23 20:24 .htaccess\n. baikal-0.4.2.zip\n. I would be happy to back a bounty regarding the blocker :)\n. Hey Evert, where do I find the link to the bounty?. @bigretromike sure, but this issue is not there .. I am not familiar with bountysource so far. The silex rewrite seems backed and I see no bounty for this issue there %). ",
    "posativ": "@phaidros7 I guess this is distro-specific. On gentoo, I have to change it to /var/www/dav.domain.tld/htdocs.\n. @phaidros7 I guess this is distro-specific. On gentoo, I have to change it to /var/www/dav.domain.tld/htdocs.\n. ",
    "JurekR": "Ok I managed how to use Baikal with OSX 10.6.8 Addressbook and iCal, and also carddav with iPhone iOS 4.2.\nBaikal caldav ical on OSX 10.6.8:\n\nDo not use port 8443, better use 8442 or another\nAdd \"/cal.php/principals/username/\" as server path\nSo add for example a \"serverip:port/cal.php/principals/username\" as server address at the beginning dialogue\n\nBaikal carddav addressbook OSX 10.6.8:\n\nadd a carddav account for every addressbook\nadd a \"/card.php/principals/username\" as server address at the beginning dialogue\nnow quit addressbook\ngo to /Users/your_user/Library/Application Support/AddressBook/Sources\". There should be new directories, one for every new carddav addressbook.\nEdit \"addressbookid/Configuration.plist\" with property list editor. At \"servername\", remove everything and add \"http://serverip:port/card.php/principals/username\". Do this for every addressbook dir.\nNow start addressbook again and try to sync.\nNow quit addressbook\nEdit each \"addressbookid/Configuration.plist\" with property list editor again. There should be now a new entry named  \"addressBookName\". Write in the name of the addressbook you want to use for the account.\naddressbook now works correctly.\n\nBaikal carddav addressbook iPhone 3G / iOS 4.2 (jailbreak and ssh access needed):\n- In Prefeferences->Mail, Contacts... add a new carddav account\n- Write in \"http://serverip\" as server\n- There will be an error. Quit preferences.\n- Go to \"/private/var/mobile/Library/Preferences\" with sftp or ssh on your phone.\n- Copy \"com.apple.accountsettings.plist\" to your local harddrive. Open it with property list editor.\n- Go to node \"Root->Accounts->last node\"\n- At \"CardDAVHost\" enter \"serverip:port/card.php\" and \"80\" at \"CardDAVPort\"\n- Save and copy over to iphone.\n- Now open preferences/->mail... again, open the new carddav account.\n- Go to advanced, look at port. if there is no 80, enter 80.\n- Go back and change description a bit. \n- Now press \"Save/Finished\"\n- Again open the carddav account.\n- Again press \"Save/finished\"\n- Quit Preferences. Go to Contacts App. There should be now a selectable carddav server with all addressbooks inside.\n. Ok I managed how to use Baikal with OSX 10.6.8 Addressbook and iCal, and also carddav with iPhone iOS 4.2.\nBaikal caldav ical on OSX 10.6.8:\n\nDo not use port 8443, better use 8442 or another\nAdd \"/cal.php/principals/username/\" as server path\nSo add for example a \"serverip:port/cal.php/principals/username\" as server address at the beginning dialogue\n\nBaikal carddav addressbook OSX 10.6.8:\n\nadd a carddav account for every addressbook\nadd a \"/card.php/principals/username\" as server address at the beginning dialogue\nnow quit addressbook\ngo to /Users/your_user/Library/Application Support/AddressBook/Sources\". There should be new directories, one for every new carddav addressbook.\nEdit \"addressbookid/Configuration.plist\" with property list editor. At \"servername\", remove everything and add \"http://serverip:port/card.php/principals/username\". Do this for every addressbook dir.\nNow start addressbook again and try to sync.\nNow quit addressbook\nEdit each \"addressbookid/Configuration.plist\" with property list editor again. There should be now a new entry named  \"addressBookName\". Write in the name of the addressbook you want to use for the account.\naddressbook now works correctly.\n\nBaikal carddav addressbook iPhone 3G / iOS 4.2 (jailbreak and ssh access needed):\n- In Prefeferences->Mail, Contacts... add a new carddav account\n- Write in \"http://serverip\" as server\n- There will be an error. Quit preferences.\n- Go to \"/private/var/mobile/Library/Preferences\" with sftp or ssh on your phone.\n- Copy \"com.apple.accountsettings.plist\" to your local harddrive. Open it with property list editor.\n- Go to node \"Root->Accounts->last node\"\n- At \"CardDAVHost\" enter \"serverip:port/card.php\" and \"80\" at \"CardDAVPort\"\n- Save and copy over to iphone.\n- Now open preferences/->mail... again, open the new carddav account.\n- Go to advanced, look at port. if there is no 80, enter 80.\n- Go back and change description a bit. \n- Now press \"Save/Finished\"\n- Again open the carddav account.\n- Again press \"Save/finished\"\n- Quit Preferences. Go to Contacts App. There should be now a selectable carddav server with all addressbooks inside.\n. ",
    "matmo": "I can confirm the fix of @JurekRaben: If you run Baikal not on port 80 (e.g. SSL on 443) you must include the port in the iCal URL, HOST:PORT/cal.php/principals/username. The INSTALL file should be updated\n. I can confirm the fix of @JurekRaben: If you run Baikal not on port 80 (e.g. SSL on 443) you must include the port in the iCal URL, HOST:PORT/cal.php/principals/username. The INSTALL file should be updated\n. ",
    "smartsammler": "I can confirm issue by @pensan \nBut you can create new calendars out of iCal which will sync with baikal. But you can't subscribe to existing calendars (even if they were created with iCal).\n. I can confirm issue by @pensan \nBut you can create new calendars out of iCal which will sync with baikal. But you can't subscribe to existing calendars (even if they were created with iCal).\n. ",
    "ammoniak": "same here. that would be very nice. It would be enough if the admin can create shared calendars/ addressbooks though\n. The problems might be the simlinks, although i don't know how to fix them... the flat version might be fixed with other rewrite rules.\n. Ok checked it: I have:\napache 2\nphp 5.3.5\nPDO and SQLite3 and MySQL (although I'm using only sqlite in this case)\nDOM (php-xml) is enabled\nI don't see how this matter because I can get the flat version running. The only problem is that although\n    http://dav.mydomain.com/card.php\nis reachable\n    http://dav.mydomain.com/card.php/addressbooks/jerome/default\ngives a 404\nThere must be something wrong with the symlinks. Is there a way of using it without symlinks?\n. Adding the following AliasMatches helped a bit. curl now returns the correct response...\n    AliasMatch /cal.php/(.) \"PATH/TO/cal.php\"\n    AliasMatch /card.php/(.) \"PATH/TO/card.php\"\nalthough I can't connect with any client.\n. Windows 2008\n. same here. that would be very nice. It would be enough if the admin can create shared calendars/ addressbooks though\n. The problems might be the simlinks, although i don't know how to fix them... the flat version might be fixed with other rewrite rules.\n. Ok checked it: I have:\napache 2\nphp 5.3.5\nPDO and SQLite3 and MySQL (although I'm using only sqlite in this case)\nDOM (php-xml) is enabled\nI don't see how this matter because I can get the flat version running. The only problem is that although\n    http://dav.mydomain.com/card.php\nis reachable\n    http://dav.mydomain.com/card.php/addressbooks/jerome/default\ngives a 404\nThere must be something wrong with the symlinks. Is there a way of using it without symlinks?\n. Adding the following AliasMatches helped a bit. curl now returns the correct response...\n    AliasMatch /cal.php/(.) \"PATH/TO/cal.php\"\n    AliasMatch /card.php/(.) \"PATH/TO/card.php\"\nalthough I can't connect with any client.\n. Windows 2008\n. ",
    "Svish": "Yes please. I need this as well. Would like to use Baikal for calendar administration, but need certain calendars to be subscribeable by anyone so i can provide a \"subscribe to all our upcoming events\"-link type thing on a website.\n. Yes, this would be helpful.\n. Yes, I could really need this too. That is, to have a certain calendar where one or two people are allowed to update it, and other people are allowed to read it. \nWould also be good if there was a way to publicly share a read-only version that you subscribe to through google calendar, outlook/hotmail, iPhone, etc.\n(Or is this already possible somehow?)\n. @ryanmitchell What do you mean? That if I subscribed to that calendar/addressbook on my iPhone for instance, I could not subscribe to any others?\n. @mikael35 That is exactly what I need as well!\n. Yes please. I need this as well. Would like to use Baikal for calendar administration, but need certain calendars to be subscribeable by anyone so i can provide a \"subscribe to all our upcoming events\"-link type thing on a website.\n. Yes, this would be helpful.\n. Yes, I could really need this too. That is, to have a certain calendar where one or two people are allowed to update it, and other people are allowed to read it. \nWould also be good if there was a way to publicly share a read-only version that you subscribe to through google calendar, outlook/hotmail, iPhone, etc.\n(Or is this already possible somehow?)\n. @ryanmitchell What do you mean? That if I subscribed to that calendar/addressbook on my iPhone for instance, I could not subscribe to any others?\n. @mikael35 That is exactly what I need as well!\n. ",
    "brendoncrawford": "+1\n. Yes, I would love this ability as well to share calendar as readonly.\n. +1\n. Yes, I would love this ability as well to share calendar as readonly.\n. ",
    "Programie": ":+1: I also need such a feature :-)\n. I would also love to see that feature. Baikal really rocks. ;-)\n. :+1: I also need such a feature :-)\n. I would also love to see that feature. Baikal really rocks. ;-)\n. ",
    "mdoering": "+1\n. +1\n. ",
    "minami-o": "Well I was interested as well in IMAP authentication, and a quick google search led me to the googlegroups sabredav discussion where some knowledgeable developer (Robert George, all credits go to him) posted a simple yet working solution.\nHere is the googlegroups discussion.\nI adapted the code a tiny bit, so you can just copy and paste the following code in a new file BAIKAL_HOME/Core/Frameworks/SabreDav/lib/Sabre/DAV/Auth/Backend/IMAP.php\n```\n    <?php\n    namespace Sabre\\DAV\\Auth\\Backend;\n    // Auth Class\n    class IMAP extends AbstractBasic\n    {\n            protected $imap_server;\n            protected $pdo;\n            protected $timeout;\n        public function __construct($imap_server, $pdo, $timeout)\n        {\n                $this->imap_server = $imap_server;\n                $this->pdo = $pdo;\n                $this->timeout = $timeout;\n        }\n\n        protected function validateUserPass($username, $password)\n        {\n                $logindigest = hash(\"md5\",\"$username:$password\");\n                $stmt = $this->pdo->prepare('SELECT username FROM users WHERE username = ? AND digesta1 = ? AND modtime > DATE_SUB(NOW(), INTERVAL ? SECOND)');\n                $stmt->execute(array($username,$logindigest,$this->timeout));\n                $result = $stmt->fetchAll();\n                if ( count($result) === 1 )\n                {\n                        return true;\n                }\n                else\n                {\n                        try\n                        {\n                                $imap = imap_open($this->imap_server,$username,$password,OP_HALFOPEN);\n                        }\n                        catch (Exception $e)\n                        {\n                               return false;\n                        }\n                        $stmt = $this->pdo->prepare('REPLACE INTO users (username,digesta1) VALUES( ? , ? )');\n                        $stmt->execute(array($username,$logindigest));\n                        imap_close( $imap );\n                        return true;\n                }\n        }\n}\n?>\n\n```\nThen, in cal.php, in the Backends section, you should replace the default PDO authentication as shown below:\nBefore:\n$authBackend = new \\Sabre\\DAV\\Auth\\Backend\\PDO($GLOBALS[\"DB\"]->getPDO());\nAfter:\n$authBackend = new \\Sabre\\DAV\\Auth\\Backend\\IMAP(\"{localhost:993/imap/ssl/novalidate-cert}\",$GLOBALS[\"DB\"]->getPDO(),60);\nNotes:\n- The options \"localhost:993/imap/ssl/novalidate-cert\" are specific to my configuration, but ymmv. For more info on these options, just check the php manual .\n- With this \"patch\", the password set at user creation is no longer used: all users have to be defined as mail users as well as baikal users, and their mail password is used to access their calendars\n- Again, I just used the code created by Robert George and fine-tuned it to fit baikal, so all credits should go to him.\nI hope this will be of some help ;)\n. Apologies, didn't have much time to give, lately.\nActually the code\nworked almost out of the box for me, so I didn't have to check for\nspecific dependencies that might be required.\nBefore mod'ing it, did you\nfirst try the code I provided as it was?\nAs per nginx, I'm really\nignorant on how it fits with php and whether the commands that are used\nin the code are compatible with your architecture...\nMaybe you could\nprovide error messages or logs to give us an idea of what exactly fails.\nLe 2013-02-17 04:27, Michel a \u00e9crit : \n\nHmm, can't get it to work.\nBasically I have adapted the code above to: \n- ignore\n  modtime\n- not update user\n- string_replace username (so -- with .\n  and --- with @) for IMAP auth.\nHowever, mostly everything fails. \nMay it be cause of running nginx? \nI've placed whole baikal\nstandard to /usr/share/baikal and set document root to\n/usr/share/baikal/html as well as using the provided vhost. Seems to\nfail at auth however... \n\nReply to this email directly or view\nit on GitHub [1].\n\nLinks:\n[1]\nhttps://github.com/jeromeschneider/Baikal/issues/52#issuecomment-13680078\n. OK good news and good job! :) \nLe 2013-02-20 17:25, Michel a \u00e9crit\n: \n\nNo need to apologize :) I got it working...had to use another\nport/options for IMAP connection :) sometimes I still get \"throw\nexception without stack trace\", but it doesn't stop anything from\nworking. :) \n\nReply to this email directly or view it on GitHub\n[1].\n\nLinks:\n[1]\nhttps://github.com/jeromeschneider/Baikal/issues/52#issuecomment-13840863\n. Hi Rene,\nUnfortunately I've moved from Baikal to my own sabredav solution, before moving to owncloud, to have a more integrated solution (web-, cal- and card-dav, plus other functionalities).\nI didn't keep any files from Baikal, so I really can't be of any help to you...\nGood luck!\nMinami-o\nOn 14 juin 2014 18:37:37 UTC+02:00, Rene Bartsch notifications@github.com wrote:\n\n@minami-o Can you fork Baikal, add the code and create a pull request?\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/jeromeschneider/Baikal/issues/52#issuecomment-46092753\n. Well I was interested as well in IMAP authentication, and a quick google search led me to the googlegroups sabredav discussion where some knowledgeable developer (Robert George, all credits go to him) posted a simple yet working solution.\nHere is the googlegroups discussion.\nI adapted the code a tiny bit, so you can just copy and paste the following code in a new file BAIKAL_HOME/Core/Frameworks/SabreDav/lib/Sabre/DAV/Auth/Backend/IMAP.php\n\n```\n    <?php\n    namespace Sabre\\DAV\\Auth\\Backend;\n    // Auth Class\n    class IMAP extends AbstractBasic\n    {\n            protected $imap_server;\n            protected $pdo;\n            protected $timeout;\n        public function __construct($imap_server, $pdo, $timeout)\n        {\n                $this->imap_server = $imap_server;\n                $this->pdo = $pdo;\n                $this->timeout = $timeout;\n        }\n\n        protected function validateUserPass($username, $password)\n        {\n                $logindigest = hash(\"md5\",\"$username:$password\");\n                $stmt = $this->pdo->prepare('SELECT username FROM users WHERE username = ? AND digesta1 = ? AND modtime > DATE_SUB(NOW(), INTERVAL ? SECOND)');\n                $stmt->execute(array($username,$logindigest,$this->timeout));\n                $result = $stmt->fetchAll();\n                if ( count($result) === 1 )\n                {\n                        return true;\n                }\n                else\n                {\n                        try\n                        {\n                                $imap = imap_open($this->imap_server,$username,$password,OP_HALFOPEN);\n                        }\n                        catch (Exception $e)\n                        {\n                               return false;\n                        }\n                        $stmt = $this->pdo->prepare('REPLACE INTO users (username,digesta1) VALUES( ? , ? )');\n                        $stmt->execute(array($username,$logindigest));\n                        imap_close( $imap );\n                        return true;\n                }\n        }\n}\n?>\n\n```\nThen, in cal.php, in the Backends section, you should replace the default PDO authentication as shown below:\nBefore:\n$authBackend = new \\Sabre\\DAV\\Auth\\Backend\\PDO($GLOBALS[\"DB\"]->getPDO());\nAfter:\n$authBackend = new \\Sabre\\DAV\\Auth\\Backend\\IMAP(\"{localhost:993/imap/ssl/novalidate-cert}\",$GLOBALS[\"DB\"]->getPDO(),60);\nNotes:\n- The options \"localhost:993/imap/ssl/novalidate-cert\" are specific to my configuration, but ymmv. For more info on these options, just check the php manual .\n- With this \"patch\", the password set at user creation is no longer used: all users have to be defined as mail users as well as baikal users, and their mail password is used to access their calendars\n- Again, I just used the code created by Robert George and fine-tuned it to fit baikal, so all credits should go to him.\nI hope this will be of some help ;)\n. Apologies, didn't have much time to give, lately.\nActually the code\nworked almost out of the box for me, so I didn't have to check for\nspecific dependencies that might be required.\nBefore mod'ing it, did you\nfirst try the code I provided as it was?\nAs per nginx, I'm really\nignorant on how it fits with php and whether the commands that are used\nin the code are compatible with your architecture...\nMaybe you could\nprovide error messages or logs to give us an idea of what exactly fails.\nLe 2013-02-17 04:27, Michel a \u00e9crit : \n\nHmm, can't get it to work.\nBasically I have adapted the code above to: \n- ignore\n  modtime\n- not update user\n- string_replace username (so -- with .\n  and --- with @) for IMAP auth.\nHowever, mostly everything fails. \nMay it be cause of running nginx? \nI've placed whole baikal\nstandard to /usr/share/baikal and set document root to\n/usr/share/baikal/html as well as using the provided vhost. Seems to\nfail at auth however... \n\nReply to this email directly or view\nit on GitHub [1].\n\nLinks:\n[1]\nhttps://github.com/jeromeschneider/Baikal/issues/52#issuecomment-13680078\n. OK good news and good job! :) \nLe 2013-02-20 17:25, Michel a \u00e9crit\n: \n\nNo need to apologize :) I got it working...had to use another\nport/options for IMAP connection :) sometimes I still get \"throw\nexception without stack trace\", but it doesn't stop anything from\nworking. :) \n\nReply to this email directly or view it on GitHub\n[1].\n\nLinks:\n[1]\nhttps://github.com/jeromeschneider/Baikal/issues/52#issuecomment-13840863\n. Hi Rene,\nUnfortunately I've moved from Baikal to my own sabredav solution, before moving to owncloud, to have a more integrated solution (web-, cal- and card-dav, plus other functionalities).\nI didn't keep any files from Baikal, so I really can't be of any help to you...\nGood luck!\nMinami-o\nOn 14 juin 2014 18:37:37 UTC+02:00, Rene Bartsch notifications@github.com wrote:\n\n@minami-o Can you fork Baikal, add the code and create a pull request?\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/jeromeschneider/Baikal/issues/52#issuecomment-46092753\n. \n",
    "rphenix": "Thanks for posting a solution  minami-o.  This is exactly what I need to integrate Baikal with php-push2 (z-push).\nI can connect using imap_open in a test php script with something similar to this:\n$mbox = imap_open(\"{127.0.0.1:143/imap/notls}\", \"username\", \"password\");\nbut when I try and use similar in cal.php I get:\n Sabre\\DAV\\Exception\\NotAuthenticated No basic authentication headers were found 1.8.0 \nthis is my entry for cal.php:\n$authBackend = new \\Sabre\\DAV\\Auth\\Backend\\IMAP(\"{127.0.0.1:143/imap/notls}\",$GLOBALS[\"DB\"]->getPDO(),60);\nTheres no error in apache log nor any sort of notification of an imap connection attempt in the imap logs any idea?\n. Thanks for posting a solution  minami-o.  This is exactly what I need to integrate Baikal with php-push2 (z-push).\nI can connect using imap_open in a test php script with something similar to this:\n$mbox = imap_open(\"{127.0.0.1:143/imap/notls}\", \"username\", \"password\");\nbut when I try and use similar in cal.php I get:\n Sabre\\DAV\\Exception\\NotAuthenticated No basic authentication headers were found 1.8.0 \nthis is my entry for cal.php:\n$authBackend = new \\Sabre\\DAV\\Auth\\Backend\\IMAP(\"{127.0.0.1:143/imap/notls}\",$GLOBALS[\"DB\"]->getPDO(),60);\nTheres no error in apache log nor any sort of notification of an imap connection attempt in the imap logs any idea?\n. ",
    "kingnarias": "is this also working with CRAM-MD5 ?\n. is this also working with CRAM-MD5 ?\n. ",
    "renne": "@minami-o Can you fork Baikal, add the code and create a pull request?\n. @jeromeschneider Will you add this pull request?\n. +1\nIt would be great if one can assign carddav records to multiple groups by multiple tags and each group can be shared with other users (configurable insert, update and delete rights per group/user).\nDatabase tables:\ngroup (primary key ID, name, owner)\nrecord n <-> m group (record ID, group ID, insert, update, delete)\ngroup  n <-> m user   (user    ID, group ID, insert, update, delete)\nThat way a user can decide if a group is allowed to change a record and/or a user can change all records of a group.\n. @c-alpha\nThe attack on keyservers a few days ago has shown one can easily create a DDOS-attack against email-recipients by uploading faked public PGP-keys. If senders encrypt the message with wrong keys the receiver can't read them. Having a wrong key a receiver can't validate the signature of the sender. Keyservers do not authorize the uploader of a key. There is no protection against manipulation by the keyserver operators. Linus Torvalds will have to reply to a lot of emails and ask the sender to send the mails again with his real encryption key.\nThat's why I neither trust nor use keyservers. :-(\nDANE-OpenPGPkey authorizes the public PGP-key by DNSSEC. The public PGP-key can be revoked by deleting the OpenPGPkey-record from the DNS zone.\n@evert \nBaikal2 can scan for new/updated keys and add them to the contacts. That way all CardDAV-clients get the public PGP-keys automagically. ;-)\n. @minami-o Can you fork Baikal, add the code and create a pull request?\n. @jeromeschneider Will you add this pull request?\n. +1\nIt would be great if one can assign carddav records to multiple groups by multiple tags and each group can be shared with other users (configurable insert, update and delete rights per group/user).\nDatabase tables:\ngroup (primary key ID, name, owner)\nrecord n <-> m group (record ID, group ID, insert, update, delete)\ngroup  n <-> m user   (user    ID, group ID, insert, update, delete)\nThat way a user can decide if a group is allowed to change a record and/or a user can change all records of a group.\n. @c-alpha\nThe attack on keyservers a few days ago has shown one can easily create a DDOS-attack against email-recipients by uploading faked public PGP-keys. If senders encrypt the message with wrong keys the receiver can't read them. Having a wrong key a receiver can't validate the signature of the sender. Keyservers do not authorize the uploader of a key. There is no protection against manipulation by the keyserver operators. Linus Torvalds will have to reply to a lot of emails and ask the sender to send the mails again with his real encryption key.\nThat's why I neither trust nor use keyservers. :-(\nDANE-OpenPGPkey authorizes the public PGP-key by DNSSEC. The public PGP-key can be revoked by deleting the OpenPGPkey-record from the DNS zone.\n@evert \nBaikal2 can scan for new/updated keys and add them to the contacts. That way all CardDAV-clients get the public PGP-keys automagically. ;-)\n. ",
    "RustyPixel": "Have a look at this pull request https://github.com/jeromeschneider/Baikal/pull/204 i have tested it myself and it works, but wait for it to be officially added\n. I have iphone 5s with baikal-flat install @ volume1/web/baikal and i am able to connect over ssl (self-signed version3 cert) without any problems.\nthe url i use for cardav is https://mydoman.com/baikel/card.php/principals/username\nthe url i use for caldav is https://mydoman.com/baikel/cal.php/principals/username\nalso i don't even use any of the modification listed here.\nSyno 713+\n. This may work\nhttps://github.com/musonic/sabre-share\n. @sudoman startssl does support subdomain, you have to create a new free cert  for the sub, you  dav instead of www in the tool to create a domain. after you finish creating the free domian as dav.yourdomain you will see it listed in the left panel under the certs along with the www.yourdomain.\n. Thanks for the info, but there needs to be a small change to the database.\n1. calendars >>>> components >>>>> varchar >>>>20  needs to be change to 21 or the VJOURNAL will not fit and fall back to VJOURNA\n2. in the file stated the line need to look like \n```\n    public function get($sPropName) {\n    if($sPropName === \"todos\") {\n        # TRUE if components contains VTODO, FALSE otherwise\n        if(($sComponents = $this->get(\"components\")) !== \"\") {\n            $aComponents = explode(\",\", $sComponents);\n        } else {\n            $aComponents = array();\n        }\n\n        return in_array(\"VTODO\", $aComponents);\n    }\n\n    if($sPropName === \"notes\") {\n        # TRUE if components contains VJOURNAL, FALSE otherwise\n        if(($sComponents = $this->get(\"components\")) !== \"\") {\n            $aComponents = explode(\",\", $sComponents);\n        } else {\n            $aComponents = array();\n        }\n\n        return in_array(\"VJOURNAL\", $aComponents);\n    }\n\n    return parent::get($sPropName);\n}\n\npublic function set($sPropName, $sValue) {\n\n    if($sPropName === \"todos\") {\n\n        if(($sComponents = $this->get(\"components\")) !== \"\") {\n            $aComponents = explode(\",\", $sComponents);\n        } else {\n            $aComponents = array();\n        }\n\n        if($sValue === TRUE) {\n            if(!in_array(\"VTODO\", $aComponents)) {\n                $aComponents[] = \"VTODO\";\n            }\n        } else {\n            if(in_array(\"VTODO\", $aComponents)) {\n                unset($aComponents[array_search(\"VTODO\", $aComponents)]);\n            }\n        }\n\n        return parent::set(\"components\", implode(\",\", $aComponents));\n    }\n\n    if($sPropName === \"notes\") {\n\n        if(($sComponents = $this->get(\"components\")) !== \"\") {\n            $aComponents = explode(\",\", $sComponents);\n        } else {\n            $aComponents = array();\n        }\n\n        if($sValue === TRUE) {\n            if(!in_array(\"VJOURNAL\", $aComponents)) {\n                $aComponents[] = \"VJOURNAL\";\n            }\n        } else {\n            if(in_array(\"VJOURNAL\", $aComponents)) {\n                unset($aComponents[array_search(\"VJOURNAL\", $aComponents)]);\n            }\n        }\n\n        return parent::set(\"components\", implode(\",\", $aComponents));\n    }\n\n    return parent::set($sPropName, $sValue);\n}\n\n```\nand below \n$oMorpho->add(new \\Formal\\Element\\Checkbox(array(\n            \"prop\" => \"todos\",\n            \"label\" => \"Todos\",\n            \"help\" => \"If checked, todos will be enabled on this calendar.\",\n        )));\nadd \n```\n    $oMorpho->add(new \\Formal\\Element\\Checkbox(array(\n        \"prop\" => \"notes\",\n        \"label\" => \"Notes\",\n        \"help\" => \"If checked, Notes will be enabled on this calendar.\",\n    )));\n\n```\n. put a .htaccess file in Specific with this \nOrder allow,deny\nDeny from all\nand in baikal root another with \n<FilesMatch \"\\.(md|txt)$\">\n Order Allow,Deny\n    deny from all\n</FilesMatch>\n. I was wondering if phpmailer implemented as a subclass to imip would it not give better than using mail() and have auth smtp instead.\nhttps://github.com/PHPMailer/PHPMailer\n. Nice work, just tested it on a synology ldap server and after some config errors with setting i got it working, here are the setting that are need to work with synology ldap server.\nLDAP URI = ldap://127.0.0.1:389/ or ldap://127.0.0.1/\nldapi://127.0.0.1/ will not work\nLDAP DN template = uid=%u,cn=users,dc=domain,dc=com\nLDAP attribute for DisplayName = NO CHANGE NEED\nLDAP attribute for eMail = NO CHANGE NEED\n. Tested and works with imap.\nI aslo wanted to know if it was possible to auto hide mail setting if ldap auth was selected and the other way round ?\n. How about a separator/line break  between the different parts as a small fix for now. \nBut I have to say :+1: for your great work, it been a long time coming.\nDo you think it maybe possible to be able to subclass sabredav IMip.php with phpmailer (smtp)\npixel\n. @InuSasha \nsorry if you miss understood, I was talking about #190 and  #97 to subclass imip to phpmailer to use smtp, reason i ask that you have made good with the auth, that it maybe something you could look into at some point.\n. if your going to run baikal in a subdir then you install http://baikal-server.com/get/baikal-flat-0.2.7.zip.\nIf you install it from git then you need to have composer, but the baikal-regular has this as part of the package, http://baikal-server.com/get/baikal-regular-0.2.7.tgz, \nIf you do choose to use the baikal-regular in a subdir you can use the following to change it from a subdomain to subir\n```\nAlias /WHATEVERYOULIKE /PATHTO/baikal/html\n\n    RewriteEngine On\n    RewriteRule /.well-known/carddav /card.php [R,L]\n    RewriteRule /.well-known/caldav /cal.php [R,L]\n    Options None\n    Options +FollowSymlinks\n    AllowOverride All\n    Order allow,deny\n    Allow from all\n\n```\nand in /Specific/config.system.php change \n```\nShould begin and end with a \"/\"\ndefine(\"BAIKAL_CARD_BASEURI\", \"/MATCHWHATYOUSETINALIAS/\" . \"card.php/\");\nShould begin and end with a \"/\"\ndefine(\"BAIKAL_CAL_BASEURI\", \"/MATCHWHATYOUSETINALIAS/\" . \"cal.php/\");\n```\n. the flat doesn't need the alias, just a case of extract, (upload if needed) and go. If you got access to your apache logs this may give you some clue as to what is not working. \nI know that the versions in the download work as i use both myself and install was painless.\n. There could be  factors like apache config , php config or both on your live system, the only way is to look in you log files.\n. look in the index.php \n```\ndefine(\"BAIKAL_CONTEXT\", TRUE);\ndefine(\"PROJECT_CONTEXT_BASEURI\", \"/\");\nif(file_exists(getcwd() . \"/Core\")) {\n    # Flat FTP mode\n    define(\"PROJECT_PATH_ROOT\", getcwd() . \"/\");    #./\n} else {\n    # Dedicated server mode\n    define(\"PROJECT_PATH_ROOT\", dirname(getcwd()) . \"/\");   #../\n}\n```\ntry adding /baikal/\ndefine(\"PROJECT_CONTEXT_BASEURI\", \"/\");\nbecomes\ndefine(\"PROJECT_CONTEXT_BASEURI\", \"/baikal/\");\nyou any also need to update  /Specific/config.system.php if you get client login problem\n. The only thing i can think of is if you got full access to the production server try using the baikal-regular package as that need to be extracted on the server itself and use the alias setting above and see if that works.\n. Have a look at this pull request https://github.com/jeromeschneider/Baikal/pull/204 i have tested it myself and it works, but wait for it to be officially added\n. I have iphone 5s with baikal-flat install @ volume1/web/baikal and i am able to connect over ssl (self-signed version3 cert) without any problems.\nthe url i use for cardav is https://mydoman.com/baikel/card.php/principals/username\nthe url i use for caldav is https://mydoman.com/baikel/cal.php/principals/username\nalso i don't even use any of the modification listed here.\nSyno 713+\n. This may work\nhttps://github.com/musonic/sabre-share\n. @sudoman startssl does support subdomain, you have to create a new free cert  for the sub, you  dav instead of www in the tool to create a domain. after you finish creating the free domian as dav.yourdomain you will see it listed in the left panel under the certs along with the www.yourdomain.\n. Thanks for the info, but there needs to be a small change to the database.\n1. calendars >>>> components >>>>> varchar >>>>20  needs to be change to 21 or the VJOURNAL will not fit and fall back to VJOURNA\n2. in the file stated the line need to look like \n```\n    public function get($sPropName) {\n    if($sPropName === \"todos\") {\n        # TRUE if components contains VTODO, FALSE otherwise\n        if(($sComponents = $this->get(\"components\")) !== \"\") {\n            $aComponents = explode(\",\", $sComponents);\n        } else {\n            $aComponents = array();\n        }\n\n        return in_array(\"VTODO\", $aComponents);\n    }\n\n    if($sPropName === \"notes\") {\n        # TRUE if components contains VJOURNAL, FALSE otherwise\n        if(($sComponents = $this->get(\"components\")) !== \"\") {\n            $aComponents = explode(\",\", $sComponents);\n        } else {\n            $aComponents = array();\n        }\n\n        return in_array(\"VJOURNAL\", $aComponents);\n    }\n\n    return parent::get($sPropName);\n}\n\npublic function set($sPropName, $sValue) {\n\n    if($sPropName === \"todos\") {\n\n        if(($sComponents = $this->get(\"components\")) !== \"\") {\n            $aComponents = explode(\",\", $sComponents);\n        } else {\n            $aComponents = array();\n        }\n\n        if($sValue === TRUE) {\n            if(!in_array(\"VTODO\", $aComponents)) {\n                $aComponents[] = \"VTODO\";\n            }\n        } else {\n            if(in_array(\"VTODO\", $aComponents)) {\n                unset($aComponents[array_search(\"VTODO\", $aComponents)]);\n            }\n        }\n\n        return parent::set(\"components\", implode(\",\", $aComponents));\n    }\n\n    if($sPropName === \"notes\") {\n\n        if(($sComponents = $this->get(\"components\")) !== \"\") {\n            $aComponents = explode(\",\", $sComponents);\n        } else {\n            $aComponents = array();\n        }\n\n        if($sValue === TRUE) {\n            if(!in_array(\"VJOURNAL\", $aComponents)) {\n                $aComponents[] = \"VJOURNAL\";\n            }\n        } else {\n            if(in_array(\"VJOURNAL\", $aComponents)) {\n                unset($aComponents[array_search(\"VJOURNAL\", $aComponents)]);\n            }\n        }\n\n        return parent::set(\"components\", implode(\",\", $aComponents));\n    }\n\n    return parent::set($sPropName, $sValue);\n}\n\n```\nand below \n$oMorpho->add(new \\Formal\\Element\\Checkbox(array(\n            \"prop\" => \"todos\",\n            \"label\" => \"Todos\",\n            \"help\" => \"If checked, todos will be enabled on this calendar.\",\n        )));\nadd \n```\n    $oMorpho->add(new \\Formal\\Element\\Checkbox(array(\n        \"prop\" => \"notes\",\n        \"label\" => \"Notes\",\n        \"help\" => \"If checked, Notes will be enabled on this calendar.\",\n    )));\n\n```\n. put a .htaccess file in Specific with this \nOrder allow,deny\nDeny from all\nand in baikal root another with \n<FilesMatch \"\\.(md|txt)$\">\n Order Allow,Deny\n    deny from all\n</FilesMatch>\n. I was wondering if phpmailer implemented as a subclass to imip would it not give better than using mail() and have auth smtp instead.\nhttps://github.com/PHPMailer/PHPMailer\n. Nice work, just tested it on a synology ldap server and after some config errors with setting i got it working, here are the setting that are need to work with synology ldap server.\nLDAP URI = ldap://127.0.0.1:389/ or ldap://127.0.0.1/\nldapi://127.0.0.1/ will not work\nLDAP DN template = uid=%u,cn=users,dc=domain,dc=com\nLDAP attribute for DisplayName = NO CHANGE NEED\nLDAP attribute for eMail = NO CHANGE NEED\n. Tested and works with imap.\nI aslo wanted to know if it was possible to auto hide mail setting if ldap auth was selected and the other way round ?\n. How about a separator/line break  between the different parts as a small fix for now. \nBut I have to say :+1: for your great work, it been a long time coming.\nDo you think it maybe possible to be able to subclass sabredav IMip.php with phpmailer (smtp)\npixel\n. @InuSasha \nsorry if you miss understood, I was talking about #190 and  #97 to subclass imip to phpmailer to use smtp, reason i ask that you have made good with the auth, that it maybe something you could look into at some point.\n. if your going to run baikal in a subdir then you install http://baikal-server.com/get/baikal-flat-0.2.7.zip.\nIf you install it from git then you need to have composer, but the baikal-regular has this as part of the package, http://baikal-server.com/get/baikal-regular-0.2.7.tgz, \nIf you do choose to use the baikal-regular in a subdir you can use the following to change it from a subdomain to subir\n```\nAlias /WHATEVERYOULIKE /PATHTO/baikal/html\n\n    RewriteEngine On\n    RewriteRule /.well-known/carddav /card.php [R,L]\n    RewriteRule /.well-known/caldav /cal.php [R,L]\n    Options None\n    Options +FollowSymlinks\n    AllowOverride All\n    Order allow,deny\n    Allow from all\n\n```\nand in /Specific/config.system.php change \n```\nShould begin and end with a \"/\"\ndefine(\"BAIKAL_CARD_BASEURI\", \"/MATCHWHATYOUSETINALIAS/\" . \"card.php/\");\nShould begin and end with a \"/\"\ndefine(\"BAIKAL_CAL_BASEURI\", \"/MATCHWHATYOUSETINALIAS/\" . \"cal.php/\");\n```\n. the flat doesn't need the alias, just a case of extract, (upload if needed) and go. If you got access to your apache logs this may give you some clue as to what is not working. \nI know that the versions in the download work as i use both myself and install was painless.\n. There could be  factors like apache config , php config or both on your live system, the only way is to look in you log files.\n. look in the index.php \n```\ndefine(\"BAIKAL_CONTEXT\", TRUE);\ndefine(\"PROJECT_CONTEXT_BASEURI\", \"/\");\nif(file_exists(getcwd() . \"/Core\")) {\n    # Flat FTP mode\n    define(\"PROJECT_PATH_ROOT\", getcwd() . \"/\");    #./\n} else {\n    # Dedicated server mode\n    define(\"PROJECT_PATH_ROOT\", dirname(getcwd()) . \"/\");   #../\n}\n```\ntry adding /baikal/\ndefine(\"PROJECT_CONTEXT_BASEURI\", \"/\");\nbecomes\ndefine(\"PROJECT_CONTEXT_BASEURI\", \"/baikal/\");\nyou any also need to update  /Specific/config.system.php if you get client login problem\n. The only thing i can think of is if you got full access to the production server try using the baikal-regular package as that need to be extracted on the server itself and use the alias setting above and see if that works.\n. ",
    "stevenroose": "I'd really like LDAP support. It seems like #321 also is a FR for LDAP support.\n. +1\nSeems like #52 also mentions LDAP support.\n. I'd really like LDAP support. It seems like #321 also is a FR for LDAP support.\n. +1\nSeems like #52 also mentions LDAP support.\n. ",
    "GuidoRed": "It's now June of 2015 and I have rewroted the code to Baikal 0.2.7 still using Sabre with DB table using username and digest A1 as a md5 hash of (username:realm:password). Using Dovecot IMAP server authentificated against 389 LDAP server I can authentificate users with Baikal as Calendar and Contacts with LDAP accounts, Not easy but works fine.\nThe changes to files, using the format PATH: and CHANGES:\nPATH: .../vendor/sabre/dav/lib/Sabre/DAV/Auth/Backend/IMAP.php    [Needs to be created]\nCHANGES:\n----- init of file\n``` php\n<?php\nnamespace Sabre\\DAV\\Auth\\Backend;\nuse Sabre\\DAV;\n/*\n * IMAP authenticator\n *\n * This is an authenticator backend using an IMAP Server authentication (as Dovecot).\n * \n * The backend IMAP must construct a digest based on a user + password valid connection\n * on the Sabre realm md5(\n *\n * Make sure your IMAP Server is properly configured for this to work.\n * And also after the construct needs to set de UserData (user,password)\n *\n * @copyright Copyright (C) 20015-? Guido based on Minami-O code.\n * @license http://code.google.com/p/sabredav/wiki/License Modified BSD License\n /\nclass IMAP extends AbstractBasic\n    {\n            protected $imap_server;\n            protected $pdo;\n            protected $tableName;\n            protected $username;\n            protected $password;\npublic function __construct($imap_server,\\PDO $pdo, $tableName = 'users') {\n    $this->imap_server = $imap_server;\n    $this->pdo = $pdo;\n    $this->tableName = $tableName;\n}\n\npublic function setUserData ($username, $password) {\n    $this->username = $username;\n    $this->password = $password;\n    return;\n}\n\npublic function getDigestHash($realm,$username) {\n\n     $stmt = $this->pdo->prepare('SELECT username, digesta1 FROM '.$this->tableName.' WHERE username = ?');\n     $stmt->execute(array($username));\n     $result = $stmt->fetchAll(); # Searching username on PDO\n     try {\n         $imap = imap_open($this->imap_server,$username,$password,OP_HALFOPEN);  # IMAP verification\n     } catch (Exception $e) {  # User is not a valid IMAP account, checking against PDO\n         if (!count($result)) \n             return;\n         else \n             return $result[0]['digesta1'];\n     }\n     imap_close( $imap );\n     $digesta1 = md5( $username . ':' . $realm . ':' . $this->password );\n\nif (!count($result)) {  # If not Exist on database\nAdd user in PDO\n} else {\n$stmt = $this->pdo->prepare('REPLACE INTO users (username,digesta1) VALUES( ? , ? )');\n$stmt->execute(array($username,$digesta1));  # Update username and digest1\n}\n     return $digesta1;\n}\n\n```\n---- end of file\nPATH: .../Core/Frameworks/Baikal/Core/IMAPBasicAuth.php     [Needs to be created]\n---- init file\n``` php\n<?php\nnamespace Baikal\\Core;\n/*\n * This is an authentication backend that uses an IMAP Server to autentificate users and passwords.\n *\n * @copyright Copyright (C) 2015-? Guido . All rights reserved.\n * @license http://code.google.com/p/sabredav/wiki/License Modified BSD License\n /\nclass IMAPBasicAuth extends \\Sabre\\DAV\\Auth\\Backend\\AbstractBasic {\n/**\n * Reference to IMAP Server\n *\n * @var PDO\n */\nprotected $imap_server;\n\n/**\n * Reference to PDO connection\n *\n * @var PDO\n */\nprotected $pdo;\n\n/**\n * Authentication realm\n *\n * @var string\n */\nprotected $authRealm;\n\n/**\n * PDO table name we'll be using\n *\n * @var string\n */\nprotected $tableName;\n\n/**\n * Creates the backend object.\n *\n * If the filename argument is passed in, it will parse out the specified file fist.\n *\n * @param string $imap_server Connection to IMAP Server\n * @param PDO $pdo\n * @param string $tableName The PDO table name to use\n */\npublic function __construct($imap_server, \\PDO $pdo, $authRealm, $tableName = 'users') {\n\n    $this->imap_server = $imap_server;\n    $this->pdo         = $pdo;\n    $this->authRealm   = $authRealm;\n    $this->tableName   = $tableName;\n}\n\n/**\n * Validates a username and password\n *\n * This method should return true or false depending on if login\n * succeeded.\n *\n * @param string $username\n * @param string $password\n * @return bool\n */\npublic function validateUserPass($username, $password) {\n     $stmt = $this->pdo->prepare('SELECT username, digesta1 FROM '.$this->tableName.' WHERE username = ?');\n     $stmt->execute(array($username));\n     $result = $stmt->fetchAll(); # Searching username on PDO\n\n     $digesta1 = md5( $username . ':' . $this->authRealm . ':' . $password );\n     try {\n         $imap = imap_open($this->imap_server,$username,$password,OP_HALFOPEN);\n     } catch (Exception $e) {  # Failed access to IMAP, checking agains PDO\n         if (!count($result)) return false;\n         if( $result[0]['digesta1'] == $digesta1 )\n         {\n             $this->currentUser = $username;\n             return true;\n         }\n         return false;\n     }\n     imap_close( $imap );\n\nif (!count($result)) { # if not exist on PDO\nAdd user and digesta1 on table\n} else {\n$stmt = $this->pdo->prepare('REPLACE INTO users (username,digesta1) VALUES( ? , ? )');\n$stmt->execute(array($username,$digesta1)); # Update user and digesta1\n}\n     $this->currentUser = $username;\n     return true;\n\n}\n\n}\n```\n---- end of file\nPATH: sftp://ccbas2/var/calendario-www/Core/Frameworks/Baikal/WWWRoot/\nFILES: cal.php and card.php      [Neds to be fixed]\nCHANGES:\n---- fixing files starting on Backends mark, overwirte code\n``` php\nBackends\nif( BAIKAL_DAV_AUTH_TYPE == \"Basic\" || preg_match('/Windows-Phone-WebDAV-Client/i', $_SERVER['HTTP_USER_AGENT']) ) {\n    $authBackend = new \\Baikal\\Core\\PDOBasicAuth($GLOBALS[\"DB\"]->getPDO(), BAIKAL_AUTH_REALM);\n} elseif ( BAIKAL_DAV_AUTH_TYPE == \"IMAP\" ) {\n    $authBackend = new \\Baikal\\Core\\IMAPBasicAuth(\"{localhost:143/imap/notls}\",$GLOBALS[\"DB\"]->getPDO(), BAIKAL_AUTH_REALM);\n$authBackend = new \\Sabre\\DAV\\Auth\\Backend\\IMAP(\"{localhost:993/imap/ssl/novalidate-cert}\",$GLOBALS[\"DB\"]->getPDO());\n$authBackend = new \\Sabre\\DAV\\Auth\\Backend\\IMAP(\"{localhost:143/imap/notls}\",$GLOBALS[\"DB\"]->getPDO());\n} else\n    $authBackend = new \\Sabre\\DAV\\Auth\\Backend\\PDO($GLOBALS[\"DB\"]->getPDO());\n```\n---- end fixing\nSelect the IMAP connecting type that works for you:\n- \"{localhost:143/imap/notls}\"\n- \"{localhost:993/imap/ssl/novalidate-cert}\"\n-- AND VERY IMPORTANT --- Please do this\nPATH: .../Core/Frameworks/Baikal/Model/Config/Standard.php   [Needs to be fixed]\nCHANGES:\n---- fixing file starting on BAIKAL_DAV_AUTH_TYPE field  inside public function \nphp\nformMorphologyForThisModelInstance() { \n        $oMorpho->add(new \\Formal\\Element\\Listbox(array(\n            \"prop\" => \"BAIKAL_DAV_AUTH_TYPE\",\n            \"label\" => \"WebDAV authentication type\",\n            \"options\" => array( \"Basic\",\"Digest\",\"IMAP\" ) #LDAP?\n        )));\nAnd That's all, change it and you are ready to connect over IMAP (and LDAP if are integrated)\nBut to test it, take in count that the web interface is only for admin propos, so other users can't use it. That why you need to test if it works using URLs, as shown:\nCalDev:     https:///cal.php/calendars//default/\nCardDev:  https:///card.php/addressbooks//default/\nAnd will ask for a user and a password\nEnjoy the mod, and if some one wants to make de branch please give me the proper credits.\nEl Guido.\n. Sorry, I'm not a git user fan neither have the time.\n. Thanks indeed, more clean and usable. Just do the same in the last part with the CalDev and CardDev URLs to show the hidden code.\n. Would be usable to write also a pure LDAP Authentication code?\n. It's now June of 2015 and I have rewroted the code to Baikal 0.2.7 still using Sabre with DB table using username and digest A1 as a md5 hash of (username:realm:password). Using Dovecot IMAP server authentificated against 389 LDAP server I can authentificate users with Baikal as Calendar and Contacts with LDAP accounts, Not easy but works fine.\nThe changes to files, using the format PATH: and CHANGES:\nPATH: .../vendor/sabre/dav/lib/Sabre/DAV/Auth/Backend/IMAP.php    [Needs to be created]\nCHANGES:\n----- init of file\n``` php\n<?php\nnamespace Sabre\\DAV\\Auth\\Backend;\nuse Sabre\\DAV;\n/*\n * IMAP authenticator\n *\n * This is an authenticator backend using an IMAP Server authentication (as Dovecot).\n * \n * The backend IMAP must construct a digest based on a user + password valid connection\n * on the Sabre realm md5(\n *\n * Make sure your IMAP Server is properly configured for this to work.\n * And also after the construct needs to set de UserData (user,password)\n *\n * @copyright Copyright (C) 20015-? Guido based on Minami-O code.\n * @license http://code.google.com/p/sabredav/wiki/License Modified BSD License\n /\nclass IMAP extends AbstractBasic\n    {\n            protected $imap_server;\n            protected $pdo;\n            protected $tableName;\n            protected $username;\n            protected $password;\npublic function __construct($imap_server,\\PDO $pdo, $tableName = 'users') {\n    $this->imap_server = $imap_server;\n    $this->pdo = $pdo;\n    $this->tableName = $tableName;\n}\n\npublic function setUserData ($username, $password) {\n    $this->username = $username;\n    $this->password = $password;\n    return;\n}\n\npublic function getDigestHash($realm,$username) {\n\n     $stmt = $this->pdo->prepare('SELECT username, digesta1 FROM '.$this->tableName.' WHERE username = ?');\n     $stmt->execute(array($username));\n     $result = $stmt->fetchAll(); # Searching username on PDO\n     try {\n         $imap = imap_open($this->imap_server,$username,$password,OP_HALFOPEN);  # IMAP verification\n     } catch (Exception $e) {  # User is not a valid IMAP account, checking against PDO\n         if (!count($result)) \n             return;\n         else \n             return $result[0]['digesta1'];\n     }\n     imap_close( $imap );\n     $digesta1 = md5( $username . ':' . $realm . ':' . $this->password );\n\nif (!count($result)) {  # If not Exist on database\nAdd user in PDO\n} else {\n$stmt = $this->pdo->prepare('REPLACE INTO users (username,digesta1) VALUES( ? , ? )');\n$stmt->execute(array($username,$digesta1));  # Update username and digest1\n}\n     return $digesta1;\n}\n\n```\n---- end of file\nPATH: .../Core/Frameworks/Baikal/Core/IMAPBasicAuth.php     [Needs to be created]\n---- init file\n``` php\n<?php\nnamespace Baikal\\Core;\n/*\n * This is an authentication backend that uses an IMAP Server to autentificate users and passwords.\n *\n * @copyright Copyright (C) 2015-? Guido . All rights reserved.\n * @license http://code.google.com/p/sabredav/wiki/License Modified BSD License\n /\nclass IMAPBasicAuth extends \\Sabre\\DAV\\Auth\\Backend\\AbstractBasic {\n/**\n * Reference to IMAP Server\n *\n * @var PDO\n */\nprotected $imap_server;\n\n/**\n * Reference to PDO connection\n *\n * @var PDO\n */\nprotected $pdo;\n\n/**\n * Authentication realm\n *\n * @var string\n */\nprotected $authRealm;\n\n/**\n * PDO table name we'll be using\n *\n * @var string\n */\nprotected $tableName;\n\n/**\n * Creates the backend object.\n *\n * If the filename argument is passed in, it will parse out the specified file fist.\n *\n * @param string $imap_server Connection to IMAP Server\n * @param PDO $pdo\n * @param string $tableName The PDO table name to use\n */\npublic function __construct($imap_server, \\PDO $pdo, $authRealm, $tableName = 'users') {\n\n    $this->imap_server = $imap_server;\n    $this->pdo         = $pdo;\n    $this->authRealm   = $authRealm;\n    $this->tableName   = $tableName;\n}\n\n/**\n * Validates a username and password\n *\n * This method should return true or false depending on if login\n * succeeded.\n *\n * @param string $username\n * @param string $password\n * @return bool\n */\npublic function validateUserPass($username, $password) {\n     $stmt = $this->pdo->prepare('SELECT username, digesta1 FROM '.$this->tableName.' WHERE username = ?');\n     $stmt->execute(array($username));\n     $result = $stmt->fetchAll(); # Searching username on PDO\n\n     $digesta1 = md5( $username . ':' . $this->authRealm . ':' . $password );\n     try {\n         $imap = imap_open($this->imap_server,$username,$password,OP_HALFOPEN);\n     } catch (Exception $e) {  # Failed access to IMAP, checking agains PDO\n         if (!count($result)) return false;\n         if( $result[0]['digesta1'] == $digesta1 )\n         {\n             $this->currentUser = $username;\n             return true;\n         }\n         return false;\n     }\n     imap_close( $imap );\n\nif (!count($result)) { # if not exist on PDO\nAdd user and digesta1 on table\n} else {\n$stmt = $this->pdo->prepare('REPLACE INTO users (username,digesta1) VALUES( ? , ? )');\n$stmt->execute(array($username,$digesta1)); # Update user and digesta1\n}\n     $this->currentUser = $username;\n     return true;\n\n}\n\n}\n```\n---- end of file\nPATH: sftp://ccbas2/var/calendario-www/Core/Frameworks/Baikal/WWWRoot/\nFILES: cal.php and card.php      [Neds to be fixed]\nCHANGES:\n---- fixing files starting on Backends mark, overwirte code\n``` php\nBackends\nif( BAIKAL_DAV_AUTH_TYPE == \"Basic\" || preg_match('/Windows-Phone-WebDAV-Client/i', $_SERVER['HTTP_USER_AGENT']) ) {\n    $authBackend = new \\Baikal\\Core\\PDOBasicAuth($GLOBALS[\"DB\"]->getPDO(), BAIKAL_AUTH_REALM);\n} elseif ( BAIKAL_DAV_AUTH_TYPE == \"IMAP\" ) {\n    $authBackend = new \\Baikal\\Core\\IMAPBasicAuth(\"{localhost:143/imap/notls}\",$GLOBALS[\"DB\"]->getPDO(), BAIKAL_AUTH_REALM);\n$authBackend = new \\Sabre\\DAV\\Auth\\Backend\\IMAP(\"{localhost:993/imap/ssl/novalidate-cert}\",$GLOBALS[\"DB\"]->getPDO());\n$authBackend = new \\Sabre\\DAV\\Auth\\Backend\\IMAP(\"{localhost:143/imap/notls}\",$GLOBALS[\"DB\"]->getPDO());\n} else\n    $authBackend = new \\Sabre\\DAV\\Auth\\Backend\\PDO($GLOBALS[\"DB\"]->getPDO());\n```\n---- end fixing\nSelect the IMAP connecting type that works for you:\n- \"{localhost:143/imap/notls}\"\n- \"{localhost:993/imap/ssl/novalidate-cert}\"\n-- AND VERY IMPORTANT --- Please do this\nPATH: .../Core/Frameworks/Baikal/Model/Config/Standard.php   [Needs to be fixed]\nCHANGES:\n---- fixing file starting on BAIKAL_DAV_AUTH_TYPE field  inside public function \nphp\nformMorphologyForThisModelInstance() { \n        $oMorpho->add(new \\Formal\\Element\\Listbox(array(\n            \"prop\" => \"BAIKAL_DAV_AUTH_TYPE\",\n            \"label\" => \"WebDAV authentication type\",\n            \"options\" => array( \"Basic\",\"Digest\",\"IMAP\" ) #LDAP?\n        )));\nAnd That's all, change it and you are ready to connect over IMAP (and LDAP if are integrated)\nBut to test it, take in count that the web interface is only for admin propos, so other users can't use it. That why you need to test if it works using URLs, as shown:\nCalDev:     https:///cal.php/calendars//default/\nCardDev:  https:///card.php/addressbooks//default/\nAnd will ask for a user and a password\nEnjoy the mod, and if some one wants to make de branch please give me the proper credits.\nEl Guido.\n. Sorry, I'm not a git user fan neither have the time.\n. Thanks indeed, more clean and usable. Just do the same in the last part with the CalDev and CardDev URLs to show the hidden code.\n. Would be usable to write also a pure LDAP Authentication code?\n. ",
    "ironstas1k": "@GuidoRed \n[Wed Jun 24 14:54:18.838813 2015] [:error] [pid 5439] [client 172.31.2.27:55327] PHP Parse error:  syntax error, unexpected end of file, expecting function (T_FUNCTION) in /var/www/baikal/vendor/sabre/dav/lib/DAV/Auth/Backend/IMAP.php on line 62\n. @GuidoRed \n[Wed Jun 24 14:54:18.838813 2015] [:error] [pid 5439] [client 172.31.2.27:55327] PHP Parse error:  syntax error, unexpected end of file, expecting function (T_FUNCTION) in /var/www/baikal/vendor/sabre/dav/lib/DAV/Auth/Backend/IMAP.php on line 62\n. ",
    "anthony-b": "I managed to get this working on my Synology server but just to make note that the address displayed above: sftp://ccbas2/var/calendario-www/Core/Frameworks/Baikal/WWWRoot/ is actually the root of the Baikal install so this: sftp://ccbas2/var/calendario-www/Core/Frameworks is not needed\n. I managed to get this working on my Synology server but just to make note that the address displayed above: sftp://ccbas2/var/calendario-www/Core/Frameworks/Baikal/WWWRoot/ is actually the root of the Baikal install so this: sftp://ccbas2/var/calendario-www/Core/Frameworks is not needed\n. ",
    "filzzip": "maybe it's important: i'm using baikal flat in version 0.2.4 :)\n. i use vhosts on my laptop in combination with baikal as a temporary solution and it works well. unfortunately as far as i know, this nice feature is not supported by the provider to whom i want to move baikal. they only offer the forwarding (also for sub domains) :/\n. Don't worry, I shall if required..\n. maybe it's important: i'm using baikal flat in version 0.2.4 :)\n. i use vhosts on my laptop in combination with baikal as a temporary solution and it works well. unfortunately as far as i know, this nice feature is not supported by the provider to whom i want to move baikal. they only offer the forwarding (also for sub domains) :/\n. Don't worry, I shall if required..\n. ",
    "habakuk007": "I have a similiar problem - The url is rewritten to something like https://calcon.foofoofo.de/on.foofoofo.de/admin/?/users/ \n. I fixed it by changing line 130 in Core/Frameworks/Flake/Framework.php from \nphp\n$sScript = substr($_SERVER[\"SCRIPT_FILENAME\"], strlen($_SERVER[\"DOCUMENT_ROOT\"]));\nto \nphp\n$thisFilePathLength = strlen('Core/Frameworks/Flake/Framework.php');\n$documentRoot = substr(__FILE__, 0, -1 * $thisFilePathLength); \n$sScript = substr($_SERVER[\"SCRIPT_FILENAME\"], strlen($documentRoot));\n. I have a similiar problem - The url is rewritten to something like https://calcon.foofoofo.de/on.foofoofo.de/admin/?/users/ \n. I fixed it by changing line 130 in Core/Frameworks/Flake/Framework.php from \nphp\n$sScript = substr($_SERVER[\"SCRIPT_FILENAME\"], strlen($_SERVER[\"DOCUMENT_ROOT\"]));\nto \nphp\n$thisFilePathLength = strlen('Core/Frameworks/Flake/Framework.php');\n$documentRoot = substr(__FILE__, 0, -1 * $thisFilePathLength); \n$sScript = substr($_SERVER[\"SCRIPT_FILENAME\"], strlen($documentRoot));\n. ",
    "gitdings": "Some people may want to use Baikal via https. This introduces the problem of certificates for numerous virtual hosts. Free-of-charge providers such as StartSSL give you two (2) domains, which you will normally use for your main domains, i.e. example.com and www.example.com. If this is the case \"just use an extra virtual host\" isn't an option.\n=> It would be great to have Baikal work without the need for an extra (virtual) host.\nIf habakuk007's solution works, I think it should be adopted by default and the \"MUST run on dedicated host\" requirement should be removed.\n. Some people may want to use Baikal via https. This introduces the problem of certificates for numerous virtual hosts. Free-of-charge providers such as StartSSL give you two (2) domains, which you will normally use for your main domains, i.e. example.com and www.example.com. If this is the case \"just use an extra virtual host\" isn't an option.\n=> It would be great to have Baikal work without the need for an extra (virtual) host.\nIf habakuk007's solution works, I think it should be adopted by default and the \"MUST run on dedicated host\" requirement should be removed.\n. ",
    "justinzane": "@netgusto I'm unclear on whether PAM auth was integrated when you closed this ticket. Is is?\n. @netgusto I'm unclear on whether PAM auth was integrated when you closed this ticket. Is is?\n. ",
    "michib-xx": "Hello,\nI would join that request. \nIt seems that CardDavMate can basically connect and read the available addressbooks, but when accessing them (at http://dav.domain.com/card.php/addressbooks/user/actualAB), the access is forbidden.\nIs this maybe configurable by tuning .htaccess files?\nThanks for addressing this issue.\n. Thanks a lot for adding Basic Auth options!\nIs there a way that I can update a current 0.2.4-flat installation (webhosting) with the new master-branch?\nOr can I assemble a flat package on my own, on a Win7 system?\n. Hello,\nI would join that request. \nIt seems that CardDavMate can basically connect and read the available addressbooks, but when accessing them (at http://dav.domain.com/card.php/addressbooks/user/actualAB), the access is forbidden.\nIs this maybe configurable by tuning .htaccess files?\nThanks for addressing this issue.\n. Thanks a lot for adding Basic Auth options!\nIs there a way that I can update a current 0.2.4-flat installation (webhosting) with the new master-branch?\nOr can I assemble a flat package on my own, on a Win7 system?\n. ",
    "konfiot": "I talked with the maintainer of CardDavMate, and I found a fix to support Digest Auth. but it only works in really recent browsers (It worked with the Last version of firefox and chrome, but I tried with firefox ~10 and it doesn't worked, but I'll try to make this workaround more compatible.)\n. Yep, it might be released soon, it will probably be an option to enable.\nFor me it worked with carddav/caldav sync beta on android.\nI am working on calDavZAP, but at this moment, it don't works...\n. Yep, more or less, it is really unstable and browser-dependant. I finally changed to Davical... I closed because I have found another solution but it is true that the main problem isn't solved.\n. I searched a little bit about how to do that, but I tink it is more sabredav related, because baikal is just wrapped around sabredav, you may open an issue on their repo.\n. Yes, now it is, caldavzap has been updated, that's why i've closed the issue previously\n. I talked with the maintainer of CardDavMate, and I found a fix to support Digest Auth. but it only works in really recent browsers (It worked with the Last version of firefox and chrome, but I tried with firefox ~10 and it doesn't worked, but I'll try to make this workaround more compatible.)\n. Yep, it might be released soon, it will probably be an option to enable.\nFor me it worked with carddav/caldav sync beta on android.\nI am working on calDavZAP, but at this moment, it don't works...\n. Yep, more or less, it is really unstable and browser-dependant. I finally changed to Davical... I closed because I have found another solution but it is true that the main problem isn't solved.\n. I searched a little bit about how to do that, but I tink it is more sabredav related, because baikal is just wrapped around sabredav, you may open an issue on their repo.\n. Yes, now it is, caldavzap has been updated, that's why i've closed the issue previously\n. ",
    "markstahler": "Why was this ticket closed? Basic HTTP Auth was not added to Baikal, your application was updated to use Digest. \n. Why was this ticket closed? Basic HTTP Auth was not added to Baikal, your application was updated to use Digest. \n. ",
    "gniemetz": "+1\ni would need it to run Baikal on webfaction.com\nFound a solution, look below\n. For those who need basic authentication (like me, because Webfaction only allows basic authentication, look http://community.webfaction.com/questions/3661/digest-authentication-for-webdav and http://community.webfaction.com/questions/7249/is-possible-http-authentication-with-php), i posted a solution on my website (in german, but not to difficult to understand)\nhttp://www.niemetz.it/baikal-unter-webfaction/\n. +1\ni would need it to run Baikal on webfaction.com\nFound a solution, look below\n. For those who need basic authentication (like me, because Webfaction only allows basic authentication, look http://community.webfaction.com/questions/3661/digest-authentication-for-webdav and http://community.webfaction.com/questions/7249/is-possible-http-authentication-with-php), i posted a solution on my website (in german, but not to difficult to understand)\nhttp://www.niemetz.it/baikal-unter-webfaction/\n. ",
    "joey-n": "+1.. We have a internal proj mgmt tool that writes events to a caldav server, but only can handle basic auth..  Thanks!\n. +1.. We have a internal proj mgmt tool that writes events to a caldav server, but only can handle basic auth..  Thanks!\n. ",
    "muelli": "There seems to be code here: https://github.com/ljanyst/Baikal/commit/7a079ca18b517010a32980d9a5c2f98674f2eb61\nFWIW: It is perfectly possible to connect CalDavZAP and CardDavMate with Baikal with digest auth.\n. hm. Interesting suggestion, to enable the IMip Handler. I think I did it, but I still don't know whether it works or not as I haven't received any email yet.\nWhat is the test to check whether it works alright or not? I created a new calendar entry using the Android calendar and DAVDroid with an email address as \"guest\".\n. @Alexclarisse: what DAV implementation do you use on Android? I use DAVDroid and it seems as if there is no support for those messages: https://github.com/rfc2822/davdroid/issues/171\n. #314 is related as it deals with passwords for authentication.\n. I'm looking for being able to use my Baikal installation to synchronise my notes with, say, Evolution. Currently, I haven't managed to make Evolution connect to my Baikal instance to do so.\n. A small thought: If you let the Web server do the authentication, then you can use all of, say, Apache's authentication methods, including TLS-SRP or client certificates.. Yes. Deployment is less straight forward, because you cannot work with each and every Web server and their configuration.  Especially because deploying PHP applications in a rather generic way seems to be an unsolved problem as of 2017.  The benefit is, though, that the relatively complicated matter of authenticating users is someone else's responsibility. Not only has the \"other party\" probably more expertise in doing authentication (correctly), but you'd also get rid of code that does weird things like using MD5.\nFWIW: Apache typically allows configuration per directory. Baikal is deployed in a directory, so it could ship it's Apache configuration.. FTR: https://github.com/fruux/Baikal/issues/321 is about using LDAP for (external) authentication.. I did look at that and, as I've mentioned in my last message, I have the feeling that it's relatively complicated for what it achieves.\nI also don't think that I'm \"really asking for calendar/contact delegating\".  It feels that the semantics of a delegated account does not match the \"shared access\" use case. It's still me with one account but different devices. So I don't want to delegate in that sense, but rather use different tokens get identified and authorised.  In the delegated case, I would probably have to have one master account and delegate to each and every device, leaving me with n+1 accounts. And each new calendar or address book needs to be created through the master account. But the credentials to the master account are relatively valuable and their exposure should be reduced to a minimum.  The alternative with different credentials for one account makes this quite simple, because there is only one identity in the system.. FWIW: I needed to install php-xml and php-mbstring. There seems to be code here: https://github.com/ljanyst/Baikal/commit/7a079ca18b517010a32980d9a5c2f98674f2eb61\nFWIW: It is perfectly possible to connect CalDavZAP and CardDavMate with Baikal with digest auth.\n. hm. Interesting suggestion, to enable the IMip Handler. I think I did it, but I still don't know whether it works or not as I haven't received any email yet.\nWhat is the test to check whether it works alright or not? I created a new calendar entry using the Android calendar and DAVDroid with an email address as \"guest\".\n. @Alexclarisse: what DAV implementation do you use on Android? I use DAVDroid and it seems as if there is no support for those messages: https://github.com/rfc2822/davdroid/issues/171\n. #314 is related as it deals with passwords for authentication.\n. I'm looking for being able to use my Baikal installation to synchronise my notes with, say, Evolution. Currently, I haven't managed to make Evolution connect to my Baikal instance to do so.\n. A small thought: If you let the Web server do the authentication, then you can use all of, say, Apache's authentication methods, including TLS-SRP or client certificates.. Yes. Deployment is less straight forward, because you cannot work with each and every Web server and their configuration.  Especially because deploying PHP applications in a rather generic way seems to be an unsolved problem as of 2017.  The benefit is, though, that the relatively complicated matter of authenticating users is someone else's responsibility. Not only has the \"other party\" probably more expertise in doing authentication (correctly), but you'd also get rid of code that does weird things like using MD5.\nFWIW: Apache typically allows configuration per directory. Baikal is deployed in a directory, so it could ship it's Apache configuration.. FTR: https://github.com/fruux/Baikal/issues/321 is about using LDAP for (external) authentication.. I did look at that and, as I've mentioned in my last message, I have the feeling that it's relatively complicated for what it achieves.\nI also don't think that I'm \"really asking for calendar/contact delegating\".  It feels that the semantics of a delegated account does not match the \"shared access\" use case. It's still me with one account but different devices. So I don't want to delegate in that sense, but rather use different tokens get identified and authorised.  In the delegated case, I would probably have to have one master account and delegate to each and every device, leaving me with n+1 accounts. And each new calendar or address book needs to be created through the master account. But the credentials to the master account are relatively valuable and their exposure should be reduced to a minimum.  The alternative with different credentials for one account makes this quite simple, because there is only one identity in the system.. FWIW: I needed to install php-xml and php-mbstring. ",
    "sechanbask": "+1\nI need shared address books too !\n. baikal is a very good projet, it will be better with shared address book !!\n. +1\nI need shared address books too !\n. baikal is a very good projet, it will be better with shared address book !!\n. ",
    "idumaire": "+1k\nThe solution is given by sabredav https://code.google.com/p/sabredav/wiki/CardDAVDirectory\nPlease could you implement it ?\nRegards,\n. +1k\nThe solution is given by sabredav https://code.google.com/p/sabredav/wiki/CardDAVDirectory\nPlease could you implement it ?\nRegards,\n. ",
    "Gustik": "+1\n. +1\n. ",
    "zot24": "@idumaire that's a non standard solution to implement the sharing between addressbook, not 100% but perhaps a better solution would be to use groupmembers and principals to achieve this?\n. How @netgusto are you going to implement the sharing addressbooks between users for a CardDav server? \nI was just having a look to your code on BaikalModelBundle and I was wondering if you are gonna use GroupMembers as a kind of pivot table to handle the relations between the principals (users) and the principals (groups of users) to achieve the sharing of an addressbook between the members of a group.\nbtw great project thanks\n. @idumaire that's a non standard solution to implement the sharing between addressbook, not 100% but perhaps a better solution would be to use groupmembers and principals to achieve this?\n. How @netgusto are you going to implement the sharing addressbooks between users for a CardDav server? \nI was just having a look to your code on BaikalModelBundle and I was wondering if you are gonna use GroupMembers as a kind of pivot table to handle the relations between the principals (users) and the principals (groups of users) to achieve the sharing of an addressbook between the members of a group.\nbtw great project thanks\n. ",
    "kewisch": "Could you check which URL you are using? This needs to be the URL of the calendar collection, not the principal URL.\n. The next thing you can do in Lightning is enable calendar.debug.log and calendar.debug.log.verbose in the advanced config editor (Options > General > Advanced > Config Editor), then restart Lightning. You should get a lot more messages in the error console.\n. Could you check which URL you are using? This needs to be the URL of the calendar collection, not the principal URL.\n. The next thing you can do in Lightning is enable calendar.debug.log and calendar.debug.log.verbose in the advanced config editor (Options > General > Advanced > Config Editor), then restart Lightning. You should get a lot more messages in the error console.\n. ",
    "Hendrik-H": "I'm using http://host/cal.php/calendars/hendrik/default analog to the documentation. I believe I saw the same message as in 1 when I tested the demo calendar at http://demo.atmail.com/. With that it worked yesterday but doesn't seem to do so this morning. The big difference that I saw was that using that demo server the Lightning logs showed some ctag, which I never saw on my server.\n. yeah, did that already :-) that's where I see the endless request loop, part 2 above.\nthis is test calendar URL: http://dav.small-planet.net/cal.php/calendars/test/default\nuserid:password is test:test\n. I'm using http://host/cal.php/calendars/hendrik/default analog to the documentation. I believe I saw the same message as in 1 when I tested the demo calendar at http://demo.atmail.com/. With that it worked yesterday but doesn't seem to do so this morning. The big difference that I saw was that using that demo server the Lightning logs showed some ctag, which I never saw on my server.\n. yeah, did that already :-) that's where I see the endless request loop, part 2 above.\nthis is test calendar URL: http://dav.small-planet.net/cal.php/calendars/test/default\nuserid:password is test:test\n. ",
    "klosterallee": "I tried to add 2 accounts to Lightning an run in the same situation!\nThe solution is very simple. see https://bugzilla.mozilla.org/show_bug.cgi?id=707138\nThunderbird just can not handle multiple passwords for the same realm.\nYou just have to add the user in front of the host-name!\nlike http://user@host ... then it works like a charm.\nDon't forget to clean the password manager !\n. I tried to add 2 accounts to Lightning an run in the same situation!\nThe solution is very simple. see https://bugzilla.mozilla.org/show_bug.cgi?id=707138\nThunderbird just can not handle multiple passwords for the same realm.\nYou just have to add the user in front of the host-name!\nlike http://user@host ... then it works like a charm.\nDon't forget to clean the password manager !\n. ",
    "sshipway": "Thanks @klosterallee !\nSame problem here; a CalDAV calendar WITHOUT username resulted in the 421 Precondition Failed errors when trying to accept appointments (underlying system is AppSuite Open Exchange).\nAccepted appointments seemed to be created private to the user but then could not be retrieved via the public URL.  Lightning 4.0.5.2 couldn't decide which way (authenticated or not) to access the calendar...\nSolution was to specify @ before the hostname in the CalDAV URL.\n. Thanks @klosterallee !\nSame problem here; a CalDAV calendar WITHOUT username resulted in the 421 Precondition Failed errors when trying to accept appointments (underlying system is AppSuite Open Exchange).\nAccepted appointments seemed to be created private to the user but then could not be retrieved via the public URL.  Lightning 4.0.5.2 couldn't decide which way (authenticated or not) to access the calendar...\nSolution was to specify @ before the hostname in the CalDAV URL.\n. ",
    "klonos": "@netgusto can you please reopen this issue as a documentation one? I think that it deserves a section in http://sabre.io/baikal/troubleshooting/\n. @netgusto can you please reopen this issue as a documentation one? I think that it deserves a section in http://sabre.io/baikal/troubleshooting/\n. ",
    "Jentsch": "Since #12 is closed, this could be closed also?\n. Seems to be a bug of the Flake framework. The Framework.php is part of the source code, but I'm not sure about the composer thing, may it overwrites any changes? Otherwise we could inject the code of @carstengrevink into file (it seems to be OK).\nKind regards, Jentsch\n. Since #12 is closed, this could be closed also?\n. Seems to be a bug of the Flake framework. The Framework.php is part of the source code, but I'm not sure about the composer thing, may it overwrites any changes? Otherwise we could inject the code of @carstengrevink into file (it seems to be OK).\nKind regards, Jentsch\n. ",
    "simonszu": "I think, currently it's not possible. But i'd love that feature, too.\n. I think, currently it's not possible. But i'd love that feature, too.\n. ",
    "cr4shydlo": "First. I love your Baikal!. Good Job. When i compare baikal admin and davical admin... ;) I'm shocked. But multiple user to calendar and adressbook is a must ;/ if we want to use it in corporation (roundcube, iphones, androids) etc...\nCan you try to add this ? Big thanks!\n. First. I love your Baikal!. Good Job. When i compare baikal admin and davical admin... ;) I'm shocked. But multiple user to calendar and adressbook is a must ;/ if we want to use it in corporation (roundcube, iphones, androids) etc...\nCan you try to add this ? Big thanks!\n. ",
    "lexusburn": "+1\nit can be done with this, i think:\nhttp://code.google.com/p/sabredav/wiki/CalDAVSharing\n. +1\n. same problem for me with apple clients and baikal 0.2.4 behind nginx webserver\n. +1\nit can be done with this, i think:\nhttp://code.google.com/p/sabredav/wiki/CalDAVSharing\n. +1\n. same problem for me with apple clients and baikal 0.2.4 behind nginx webserver\n. ",
    "irrtum": "+1!\n. @ryanmitchell \nHey Ryan, could you share the changes you made? \n- This is exactly what I am looking for - to have one calendar for a whole group of users\n. +1!\n. @ryanmitchell \nHey Ryan, could you share the changes you made? \n- This is exactly what I am looking for - to have one calendar for a whole group of users\n. ",
    "plushcthulhu": "+1!\n. This is a duplicate of bug 73.\n. +1!\n. This is a duplicate of bug 73.\n. ",
    "xcdr": "+1, I need group calendars and address books.\n. I want also this feature, can be very usefull.\n. +1, I need group calendars and address books.\n. I want also this feature, can be very usefull.\n. ",
    "mikael35": "Thank you for this work. Baikal run nice on synology NAS and iphone. For the familly, I just need this extra feature: setting up some right to read or write to users. IE: Mrs can see Mister calendar, but cannot modify it, like mister see but cannot modify (erase) events on Mrs calendar, but they can both modify a common calendar. That would be perfect.\n. Thank you for this work. Baikal run nice on synology NAS and iphone. For the familly, I just need this extra feature: setting up some right to read or write to users. IE: Mrs can see Mister calendar, but cannot modify it, like mister see but cannot modify (erase) events on Mrs calendar, but they can both modify a common calendar. That would be perfect.\n. ",
    "soluxima-erik": "Wonderful project..\n+1 for shared calendars and address books (would pay for that ;) )\n. @RaSKoR 's 3 file edit solution works great\n. Wonderful project..\n+1 for shared calendars and address books (would pay for that ;) )\n. @RaSKoR 's 3 file edit solution works great\n. ",
    "wjdp": "Having same issue (PHP with ngnix), have followed above including adding rewrite rule, logs look like:\n82.1.48.185 - - [28/Jun/2014:23:31:54 +0400] \"PROPFIND /.well-known/carddav HTTP/1.1\" 302 160 \"-\" \"iOS/7.1 (11D169) accountsd/1.0\"\n82.1.48.185 - - [28/Jun/2014:23:31:55 +0400] \"PROPFIND /card.php HTTP/1.1\" 401 304 \"-\" \"iOS/7.1 (11D169) accountsd/1.0\"\n82.1.48.185 - - [28/Jun/2014:23:31:55 +0400] \"PROPFIND /card.php HTTP/1.1\" 207 449 \"-\" \"iOS/7.1 (11D169) accountsd/1.0\"\n82.1.48.185 - - [28/Jun/2014:23:31:55 +0400] \"OPTIONS /card.php/principals/wjdp/ HTTP/1.1\" 405 172 \"-\" \"iOS/7.1 (11D169) accountsd/1.0\"\n82.1.48.185 - - [28/Jun/2014:23:31:55 +0400] \"PROPFIND / HTTP/1.1\" 405 172 \"-\" \"iOS/7.1 (11D169) accountsd/1.0\"\n82.1.48.185 - - [28/Jun/2014:23:31:55 +0400] \"PROPFIND /principals/ HTTP/1.1\" 405 172 \"-\" \"iOS/7.1 (11D169) accountsd/1.0\"\nI've got futher with baikal than with sabre-dav and the addressbookserver.php example. I'm guessing there's some flag that iOS is looking for (played around with AirPrint for far too long!).\n. Having same issue (PHP with ngnix), have followed above including adding rewrite rule, logs look like:\n82.1.48.185 - - [28/Jun/2014:23:31:54 +0400] \"PROPFIND /.well-known/carddav HTTP/1.1\" 302 160 \"-\" \"iOS/7.1 (11D169) accountsd/1.0\"\n82.1.48.185 - - [28/Jun/2014:23:31:55 +0400] \"PROPFIND /card.php HTTP/1.1\" 401 304 \"-\" \"iOS/7.1 (11D169) accountsd/1.0\"\n82.1.48.185 - - [28/Jun/2014:23:31:55 +0400] \"PROPFIND /card.php HTTP/1.1\" 207 449 \"-\" \"iOS/7.1 (11D169) accountsd/1.0\"\n82.1.48.185 - - [28/Jun/2014:23:31:55 +0400] \"OPTIONS /card.php/principals/wjdp/ HTTP/1.1\" 405 172 \"-\" \"iOS/7.1 (11D169) accountsd/1.0\"\n82.1.48.185 - - [28/Jun/2014:23:31:55 +0400] \"PROPFIND / HTTP/1.1\" 405 172 \"-\" \"iOS/7.1 (11D169) accountsd/1.0\"\n82.1.48.185 - - [28/Jun/2014:23:31:55 +0400] \"PROPFIND /principals/ HTTP/1.1\" 405 172 \"-\" \"iOS/7.1 (11D169) accountsd/1.0\"\nI've got futher with baikal than with sabre-dav and the addressbookserver.php example. I'm guessing there's some flag that iOS is looking for (played around with AirPrint for far too long!).\n. ",
    "mems": "Just as ref. SabreDAV IMipHandler. That require a mail server capability (sending mail).\n. With iOS7 it's a bit messy.\nYou need to reconfigure an contact account :\n1. Add a account (Settings App) \u2014 Other \u2014 Add a CardDAV account :\n   - Server: domain.ltd/folder/card.php\n   - User: ex: xuser (depends data on you Balka\u00ef server)\n   - Password: ...\n   - Description: As you want\n2. Next ... Verified\n3. Edit account (due to a bug in iOS7) \u2014 Advanced settings\n4. Edit Account URL: (http or https) https://domain.ltd/folder/card.php/folder/card.php/principals/xuser to simply https://domain.ltd/folder/card.php/principals/xuser (note the duplicate /folder/card.php in the URL)\n5. Back ...  [if you didn't add redirections : 'SSL not work' \u2014 Cancel] \u2014 OK / Save\n6. Now you can refresh you contact in Contact App\nThe redirection is not required.\nFind some (related) informations here :\n- https://discussions.apple.com/message/23375060#23375060\n- https://github.com/owncloud/ios-issues/issues/103\n- https://github.com/owncloud/contacts/issues/137\n. HTTP code 500 means \"Internal Server Error\". It's could be database credentials problem, PHP parsing error, Apache conf error, etc.\nWatch your PHP default error log file : /var/log/apache/php.errors or file path used in php.ini for the rule error_log (could be overwritten by domain configuration) or get it path by exec phpinfo(); or echo ini_get('error_log'); in a PHP script\n. Just as ref. SabreDAV IMipHandler. That require a mail server capability (sending mail).\n. With iOS7 it's a bit messy.\nYou need to reconfigure an contact account :\n1. Add a account (Settings App) \u2014 Other \u2014 Add a CardDAV account :\n   - Server: domain.ltd/folder/card.php\n   - User: ex: xuser (depends data on you Balka\u00ef server)\n   - Password: ...\n   - Description: As you want\n2. Next ... Verified\n3. Edit account (due to a bug in iOS7) \u2014 Advanced settings\n4. Edit Account URL: (http or https) https://domain.ltd/folder/card.php/folder/card.php/principals/xuser to simply https://domain.ltd/folder/card.php/principals/xuser (note the duplicate /folder/card.php in the URL)\n5. Back ...  [if you didn't add redirections : 'SSL not work' \u2014 Cancel] \u2014 OK / Save\n6. Now you can refresh you contact in Contact App\nThe redirection is not required.\nFind some (related) informations here :\n- https://discussions.apple.com/message/23375060#23375060\n- https://github.com/owncloud/ios-issues/issues/103\n- https://github.com/owncloud/contacts/issues/137\n. HTTP code 500 means \"Internal Server Error\". It's could be database credentials problem, PHP parsing error, Apache conf error, etc.\nWatch your PHP default error log file : /var/log/apache/php.errors or file path used in php.ini for the rule error_log (could be overwritten by domain configuration) or get it path by exec phpinfo(); or echo ini_get('error_log'); in a PHP script\n. ",
    "geocom": "evert could you please explain where the issue is? The authentication is based on what the PHP documentation say's to do. I would be more than willing to fix any technical problems that you can see but I would need some more information to get started.\n. evert could you please explain where the issue is? The authentication is based on what the PHP documentation say's to do. I would be more than willing to fix any technical problems that you can see but I would need some more information to get started.\n. ",
    "Kloadut": "LGTM :+1: \nIt would be awesome to have basic HTTP authentication. I would have put a configuration parameter to enable this kind of authentication though.\n. LGTM :+1: \nIt would be awesome to have basic HTTP authentication. I would have put a configuration parameter to enable this kind of authentication though.\n. ",
    "Faryn": "Redirects will work just as well, for apache it looks like this:\nRedirectMatch 301 ^/.well-known/caldav /cal.php\nRedirectMatch 301 ^/.well-known/carddav /card.php\n. Redirects will work just as well, for apache it looks like this:\nRedirectMatch 301 ^/.well-known/caldav /cal.php\nRedirectMatch 301 ^/.well-known/carddav /card.php\n. ",
    "arrizer": "For iOS 7 (beta) this is also required. There seems to be a bug: iOS ignores the path you specify under \"Advanced settings\" it always expects to find the correct path using /.well-known/caldav or /.well-known/carddav when setting up a new account. So this seems currently to be the only way to make it work under iOS 7.\nI think the apache2 vhost template which ship with Baikal should include the redirects.\nThe official documentation for this feature is here:\nhttp://tools.ietf.org/html/rfc6764#section-5\n. For iOS 7 (beta) this is also required. There seems to be a bug: iOS ignores the path you specify under \"Advanced settings\" it always expects to find the correct path using /.well-known/caldav or /.well-known/carddav when setting up a new account. So this seems currently to be the only way to make it work under iOS 7.\nI think the apache2 vhost template which ship with Baikal should include the redirects.\nThe official documentation for this feature is here:\nhttp://tools.ietf.org/html/rfc6764#section-5\n. ",
    "bogie": "heh, another good reason to still be on ios 5.1 :D\n. heh, another good reason to still be on ios 5.1 :D\n. ",
    "manuspam": "@Faryn I completely understand that I should redirect for iOS. Did i get that right: \n1. I add your code to .htaccess. Which one, the root? \n2. Does it need RewriteEngine ON?\n3. does it matter where your code sits in .htaccess?\n4. When adding the cardav server in iPhone, what will be the correct URL? With or without http:? \n4a. Is this correct: (from the manual) dav.mydomain.com/card.php\n4b. Or this: http://dav.mydomain.com/card.php/principals/myname/\n4c. Or this: http://dav.mydomain.com/card.php/addressbooks/myname/mycalendername\nThanks a lot! :)\n. OK, i found out how to get the CardDav to work with iPhone\nEnter the following into .htaccess of baikal server directory:\nRewriteEngine On\nRedirectMatch 301 ^/.well-known/caldav /cal.php\nRedirectMatch 301 ^/.well-known/carddav /card.php\nEnter the following in the settings of CardDav in iPhone\nhttp://dav.yourserver.com/card.php/principals/youruser\nalternatively\nhttp://www.yourserver.com/baikal/card.php/principals/youruser\n. @Faryn I completely understand that I should redirect for iOS. Did i get that right: \n1. I add your code to .htaccess. Which one, the root? \n2. Does it need RewriteEngine ON?\n3. does it matter where your code sits in .htaccess?\n4. When adding the cardav server in iPhone, what will be the correct URL? With or without http:? \n4a. Is this correct: (from the manual) dav.mydomain.com/card.php\n4b. Or this: http://dav.mydomain.com/card.php/principals/myname/\n4c. Or this: http://dav.mydomain.com/card.php/addressbooks/myname/mycalendername\nThanks a lot! :)\n. OK, i found out how to get the CardDav to work with iPhone\nEnter the following into .htaccess of baikal server directory:\nRewriteEngine On\nRedirectMatch 301 ^/.well-known/caldav /cal.php\nRedirectMatch 301 ^/.well-known/carddav /card.php\nEnter the following in the settings of CardDav in iPhone\nhttp://dav.yourserver.com/card.php/principals/youruser\nalternatively\nhttp://www.yourserver.com/baikal/card.php/principals/youruser\n. ",
    "jfroffice": "+1\nworks for me with your workaround.\nBug is still available after iOS7.0.3 update.\n. +1\nworks for me with your workaround.\nBug is still available after iOS7.0.3 update.\n. ",
    "fabianwolf": "This is fixed with #485.\nI think you can close this @evert\n. Will merge this with some more db related stuff from my master branch.\n. After some testing i was able to reproduce the error.\nIt is caused by the following server config:\nIf pdo sqlite driver is not enabled on the system running baikal, \nInstall/Initialize.php will set PROJECT_DB_MYSQL to true,\nthen database settings are displayed, wich loads WWWRoot/install/index.php,\nthis calls Flake\\Framework::bootstrap() and following Flake\\Framework::initDbMysql()\nThis method checks the mysql connection with no credentials set, wich of course produces an error.\nWhy wasn't this detected earlier: Until Version 0.3.x initDbMysql() used a try catch for mysql connection check, but the catch block did nothing, it not even threw an error.\nBut since 0.3.x the try was removed.\n-> Now this throws the error described above.\nAs pdo_sqlite is enabled by default on many servers nobody ran into this Problem till today.\nThis can be fixed by checking Install Context before mysql test in initDbMysql().\nI already tested a fix, will make a pull request in some minutes.\n. I think the best solution would be redirecting to calendar overview after creation of the new Item,\nor to the edit url of the created calendar, i would prefer the former.\nBy the way this bug also occurs on the adressbook and user creation forms.\n. Seems like this will cause Problems on Upgrading. Because Baikal_Context_Install is also set when upgrading, but there pdo can't be null.\nI will try to fix this.\n. Problem with upgrading should now be fixed.\n. Are you using Sqlite or MySQL ?\n. I just found out that a fix i made can cause this.\nAre you using a early commit of this #485 ?\n. I'm sorry, but how can i do that ?\n. thx will have a look into that\nMessed things up, just ignore this PR\n. The install tool autolock feature was removed in release 0.4.0\nYou'll have to protect access to install tool by using webserver config, if you need it disabled.\nBut we should modify that message after install, cause it doesn't tell the truth anymore ;)\n. sry, i forgot that configured version is not defined at the very start of install.\n. Yes i missed that when testing, because php warning was only written to php log.\n(i should have checked that sry)\n. I think we should add the sqlite DB creation code from install then, so people can switch to sqlite in settings\n. Ok that's nice thx\n. The error is triggered, because the Globals[\"DB\"] variable is not set, but at the moment i don't know why this would happen.\n. Ok i just tested it with newest version. It seems that its not possible anymore to access the database settings at install. This will result in failing db connection.\nIt says Baikal already installed, although its a fresh install\n. Could this be related to the fix for #507 ?\n. seems to be the problem described here : #523 \ntry changing the length of components column in calendars table to 21.\n. This is fixed with #485.\nI think you can close this @evert\n. Will merge this with some more db related stuff from my master branch.\n. After some testing i was able to reproduce the error.\nIt is caused by the following server config:\nIf pdo sqlite driver is not enabled on the system running baikal, \nInstall/Initialize.php will set PROJECT_DB_MYSQL to true,\nthen database settings are displayed, wich loads WWWRoot/install/index.php,\nthis calls Flake\\Framework::bootstrap() and following Flake\\Framework::initDbMysql()\nThis method checks the mysql connection with no credentials set, wich of course produces an error.\nWhy wasn't this detected earlier: Until Version 0.3.x initDbMysql() used a try catch for mysql connection check, but the catch block did nothing, it not even threw an error.\nBut since 0.3.x the try was removed.\n-> Now this throws the error described above.\nAs pdo_sqlite is enabled by default on many servers nobody ran into this Problem till today.\nThis can be fixed by checking Install Context before mysql test in initDbMysql().\nI already tested a fix, will make a pull request in some minutes.\n. I think the best solution would be redirecting to calendar overview after creation of the new Item,\nor to the edit url of the created calendar, i would prefer the former.\nBy the way this bug also occurs on the adressbook and user creation forms.\n. Seems like this will cause Problems on Upgrading. Because Baikal_Context_Install is also set when upgrading, but there pdo can't be null.\nI will try to fix this.\n. Problem with upgrading should now be fixed.\n. Are you using Sqlite or MySQL ?\n. I just found out that a fix i made can cause this.\nAre you using a early commit of this #485 ?\n. I'm sorry, but how can i do that ?\n. thx will have a look into that\nMessed things up, just ignore this PR\n. The install tool autolock feature was removed in release 0.4.0\nYou'll have to protect access to install tool by using webserver config, if you need it disabled.\nBut we should modify that message after install, cause it doesn't tell the truth anymore ;)\n. sry, i forgot that configured version is not defined at the very start of install.\n. Yes i missed that when testing, because php warning was only written to php log.\n(i should have checked that sry)\n. I think we should add the sqlite DB creation code from install then, so people can switch to sqlite in settings\n. Ok that's nice thx\n. The error is triggered, because the Globals[\"DB\"] variable is not set, but at the moment i don't know why this would happen.\n. Ok i just tested it with newest version. It seems that its not possible anymore to access the database settings at install. This will result in failing db connection.\nIt says Baikal already installed, although its a fresh install\n. Could this be related to the fix for #507 ?\n. seems to be the problem described here : #523 \ntry changing the length of components column in calendars table to 21.\n. ",
    "qnappy": "Hi again,\nthanks for getting back to me. No I dont get error messages. I can add \nevents and they end up in the database. It's just that NO client shows them.\nI know it sounds weird but this is how it is.\nThanks again Hope you have an idea?\nOlaf\n\nRyan Mitchell mailto:notifications@github.com\nMonday, May 13, 2013 11:49 AM\nDo you get errors? If so what are they?\n\u2014\nReply to this email directly or view it on GitHub \nhttps://github.com/jeromeschneider/Baikal/issues/83#issuecomment-17802243.\n. Let me do another fresh installation from client and server. I tried \nanother WebDav server and it shows the entries in the client the client \nshould be ok. But again let me do some more testing and I will come back \nwith results.\n\nThanks again\nOlaf\n\nRyan Mitchell mailto:notifications@github.com\nTuesday, May 14, 2013 7:55 AM\nAre you adding events through a client? Surely it displays on that?\nDid the setup of your clients seem to complete correctly?\nOn 13 May 2013, at 18:04, qnappy notifications@github.com wrote:\n\nHi again,\nthanks for getting back to me. No I dont get error messages. I can add\nevents and they end up in the database. It's just that NO client \nshows them.\nI know it sounds weird but this is how it is.\nThanks again Hope you have an idea?\nOlaf\n\nRyan Mitchell mailto:notifications@github.com\nMonday, May 13, 2013 11:49 AM\nDo you get errors? If so what are they?\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/jeromeschneider/Baikal/issues/83#issuecomment-17802243. \n\u2014\nReply to this email directly or view it on GitHub.\n\n\n\u2014\nReply to this email directly or view it on GitHub \nhttps://github.com/jeromeschneider/Baikal/issues/83#issuecomment-17858077.\n. Hi again,\n\nthanks for getting back to me. No I dont get error messages. I can add \nevents and they end up in the database. It's just that NO client shows them.\nI know it sounds weird but this is how it is.\nThanks again Hope you have an idea?\nOlaf\n\nRyan Mitchell mailto:notifications@github.com\nMonday, May 13, 2013 11:49 AM\nDo you get errors? If so what are they?\n\u2014\nReply to this email directly or view it on GitHub \nhttps://github.com/jeromeschneider/Baikal/issues/83#issuecomment-17802243.\n. Let me do another fresh installation from client and server. I tried \nanother WebDav server and it shows the entries in the client the client \nshould be ok. But again let me do some more testing and I will come back \nwith results.\n\nThanks again\nOlaf\n\nRyan Mitchell mailto:notifications@github.com\nTuesday, May 14, 2013 7:55 AM\nAre you adding events through a client? Surely it displays on that?\nDid the setup of your clients seem to complete correctly?\nOn 13 May 2013, at 18:04, qnappy notifications@github.com wrote:\n\nHi again,\nthanks for getting back to me. No I dont get error messages. I can add\nevents and they end up in the database. It's just that NO client \nshows them.\nI know it sounds weird but this is how it is.\nThanks again Hope you have an idea?\nOlaf\n\nRyan Mitchell mailto:notifications@github.com\nMonday, May 13, 2013 11:49 AM\nDo you get errors? If so what are they?\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/jeromeschneider/Baikal/issues/83#issuecomment-17802243. \n\u2014\nReply to this email directly or view it on GitHub.\n\n\n\u2014\nReply to this email directly or view it on GitHub \nhttps://github.com/jeromeschneider/Baikal/issues/83#issuecomment-17858077.\n. \n",
    "Zertz": "I actually have the exact same issue. I can add events in Lightning and they are being persisted to the database (MySQL), but I cannot see them on Lightning. Additionally, I cannot connect using an iOS client.\ncurl returns the expected result\nAnything in particular I should look for?\n. I actually have the exact same issue. I can add events in Lightning and they are being persisted to the database (MySQL), but I cannot see them on Lightning. Additionally, I cannot connect using an iOS client.\ncurl returns the expected result\nAnything in particular I should look for?\n. ",
    "hermann-san": "I had the same problem with a current Baikal version, but I simply deleted the version on the webspace and re-uploaded the Baikal folder with the installation files. After the upload was done (~ 10 min.) , I imediately started the install wizard and this time it worked fine.\nMaybe one should not wait too long with the install wizard after uploading the folder.\n. yes, OwnCloud has the Grauphel plug-in. \nhttps://apps.owncloud.com/content/show.php?content=166654\n. would someone mind to help a beginner with sqlite backup? Is this the command I have to execute in the Specific/db directory? \necho .dump | sqlite3 my.db | gzip > mydb.sql.gz\nmy db.sqlite file has 26kb in size, but the db-dump \"mydb.sql.gz\" is only 1kb in size. That doesn't look right to me. I'm on a shared hoster (Uberspace) who suggested that backup-method above\nThanks.\n. Thanks for your quick answer. \nI looked into the sql file which is in the db-backup and its more or less empty (only the following in in there)\nPRAGMA foreign_keys=OFF;  BEGIN TRANSACTION; COMMIT;\nSo I'm going to simply copy that file then.  Thanks again.\n. actually it's only 52 bytes. The FTP program was showing 1kb. \nI wonder why one should at all consider \necho .dump | sqlite3 my.db | gzip > mydb.sql.gz\nMaybe because of a potential currupt database while copying the file, but I guess the risk shouldn't be that high in this case (very small file).  Actally it shows now 526kb. Dunno why it was only 26 before.\nIt would be nice if the Baikal upgrade instructions would mention that for Sqlite,  a simple copy of that file would do. Or even mention both, the file backup vs. the db dump (without going in to much detail about the db dump).\nIt took me quite a while to find out how to do this....\n. yes, the my.db has to be replaced with db.sqlite.  Then it works.\nAccording to this Stack Overflow article one may back it up also this way:\nsqlite3 db.sqlite \".backup m_database.sq3.bak\"\nbut it's not compressed and takes 10 times more disk space. \nThanks for your help.\n. Hi, I guess you need to provide some more info. Like, what have you done so far? Which URL are you using to connect?  Any error messages in Thunderbird? Is there anything between Thunderbird and Baikal that  potentially blocks traffic or port (Firewall, etc.).  Can you get to the Baikal Dashboard?\n. so you have a different client than Thunderbird and are able to connect with Baikal and sync is ok?\nI also have Thunderbird (on Linux) and my sync works fine. This is the URL I'm using in Thunderbird:  https://servername.de/baikal-flat/cal.php/calendars/username/calender-name\nIt's important to get the URL right. Even if you make the tinyiest mistake, it won't work.\nCan you please confirm whether or not the connection to Baikal works ok with another client (in the case you've tried it)?\n. The first part of the URL doesn't look right to me.\ndav.server.org/html\nare you sure that the folder in which Baikal is installed is correct? so the above line should be the Baikal install foldername.\nno need for http_S_ ?\nWell , if you can get to the Baikal web admin interface, then the connection to the server should be ok. \nIt looks to me as if the devil is in the URL, most likely the install foldername.\n. sorry, I'm not aware of Bailkal log-files. Maybe you have to check for Thunderbird/Lightning logfiles as well. Maybe it's even the Thunderbird folks that can help you in their forum. \n\"dav.server.org/html\" is weird to me because I'm on a shared hoster and there I have the html directory which the root directory is. There I have my Baikal folder. So \"html\" is not part of my URL. \nmy folder structure is var/www/virtual/username/htm/Baikal-foldername  and I only need the Bailkal-foldername. \nMaybe those dots in the Baikal foldername are a problem for Thunderbird/Baikal. I don't know. I guess that's not likely to be true, but if everything else fails it might be a worth a try.\n. maybe a backup and restore\nhttps://github.com/netgusto/Baikal/issues/342\n. The key message seems to be the following:\nError code: DAV_NOT_DAV. Description: The resource at \u00ab http://server.org/dav.server.org/html/cal.php/calendars/username/default \u00bb is either not a DAV collection or not available\"\nI my view, the URL you specified is found to be faulty by Thunderbird.\nYou may try a Android client with Baikal (or a different calDav client) in order to verify that Baikal is working ok.  If you can , then it's not on the Baikal side where you have to troubleshoot.\n. meanwhile I've the same problem as the people above. evert, I tried your suggestion and was able to login and got the properties there and that stuff. It looks ok to me. \nI figured that the problem could be Thunderbird. The problematic configuration is \n- one Thunderbird profile\n- one Baikal server\n- 2 calendars of 2 different users - with different passwords - added to Thunderbird. \n- the first calendar works ok, but the second calendar can't be successfully added.\nI tried in on Linux and with a fresh installation on Windows. In both instances it didn't work with error messages in Thunderbird (DAV_NOT_DAV)\nIf someone would like to try this, all one needs is Thunderbird and Baikal with 2 users who  both have different passwords.  Then add the calender of both users to Lightning (Thunderbird) and you'll (probably) see that the first calendar can be added, but not the second one ( There is no pop-up asking for Username and password).\nThe odd thing is that I have another instance of Baikal on my shared web hoster with the same user name and password. When add this calender to Thunderbird, then it works right away. TB is not asking for user name and password. This leads me to believe that TB is simply taking the username and password from the first calender (because both baikal server are on  the same domain).\nSo this looks like a TB bug to me, but it would be nice if someone could actually confirm the behaviour with the 2 different user on the same baikal server.\n. I had the same problem with a current Baikal version, but I simply deleted the version on the webspace and re-uploaded the Baikal folder with the installation files. After the upload was done (~ 10 min.) , I imediately started the install wizard and this time it worked fine.\nMaybe one should not wait too long with the install wizard after uploading the folder.\n. yes, OwnCloud has the Grauphel plug-in. \nhttps://apps.owncloud.com/content/show.php?content=166654\n. would someone mind to help a beginner with sqlite backup? Is this the command I have to execute in the Specific/db directory? \necho .dump | sqlite3 my.db | gzip > mydb.sql.gz\nmy db.sqlite file has 26kb in size, but the db-dump \"mydb.sql.gz\" is only 1kb in size. That doesn't look right to me. I'm on a shared hoster (Uberspace) who suggested that backup-method above\nThanks.\n. Thanks for your quick answer. \nI looked into the sql file which is in the db-backup and its more or less empty (only the following in in there)\nPRAGMA foreign_keys=OFF;  BEGIN TRANSACTION; COMMIT;\nSo I'm going to simply copy that file then.  Thanks again.\n. actually it's only 52 bytes. The FTP program was showing 1kb. \nI wonder why one should at all consider \necho .dump | sqlite3 my.db | gzip > mydb.sql.gz\nMaybe because of a potential currupt database while copying the file, but I guess the risk shouldn't be that high in this case (very small file).  Actally it shows now 526kb. Dunno why it was only 26 before.\nIt would be nice if the Baikal upgrade instructions would mention that for Sqlite,  a simple copy of that file would do. Or even mention both, the file backup vs. the db dump (without going in to much detail about the db dump).\nIt took me quite a while to find out how to do this....\n. yes, the my.db has to be replaced with db.sqlite.  Then it works.\nAccording to this Stack Overflow article one may back it up also this way:\nsqlite3 db.sqlite \".backup m_database.sq3.bak\"\nbut it's not compressed and takes 10 times more disk space. \nThanks for your help.\n. Hi, I guess you need to provide some more info. Like, what have you done so far? Which URL are you using to connect?  Any error messages in Thunderbird? Is there anything between Thunderbird and Baikal that  potentially blocks traffic or port (Firewall, etc.).  Can you get to the Baikal Dashboard?\n. so you have a different client than Thunderbird and are able to connect with Baikal and sync is ok?\nI also have Thunderbird (on Linux) and my sync works fine. This is the URL I'm using in Thunderbird:  https://servername.de/baikal-flat/cal.php/calendars/username/calender-name\nIt's important to get the URL right. Even if you make the tinyiest mistake, it won't work.\nCan you please confirm whether or not the connection to Baikal works ok with another client (in the case you've tried it)?\n. The first part of the URL doesn't look right to me.\ndav.server.org/html\nare you sure that the folder in which Baikal is installed is correct? so the above line should be the Baikal install foldername.\nno need for http_S_ ?\nWell , if you can get to the Baikal web admin interface, then the connection to the server should be ok. \nIt looks to me as if the devil is in the URL, most likely the install foldername.\n. sorry, I'm not aware of Bailkal log-files. Maybe you have to check for Thunderbird/Lightning logfiles as well. Maybe it's even the Thunderbird folks that can help you in their forum. \n\"dav.server.org/html\" is weird to me because I'm on a shared hoster and there I have the html directory which the root directory is. There I have my Baikal folder. So \"html\" is not part of my URL. \nmy folder structure is var/www/virtual/username/htm/Baikal-foldername  and I only need the Bailkal-foldername. \nMaybe those dots in the Baikal foldername are a problem for Thunderbird/Baikal. I don't know. I guess that's not likely to be true, but if everything else fails it might be a worth a try.\n. maybe a backup and restore\nhttps://github.com/netgusto/Baikal/issues/342\n. The key message seems to be the following:\nError code: DAV_NOT_DAV. Description: The resource at \u00ab http://server.org/dav.server.org/html/cal.php/calendars/username/default \u00bb is either not a DAV collection or not available\"\nI my view, the URL you specified is found to be faulty by Thunderbird.\nYou may try a Android client with Baikal (or a different calDav client) in order to verify that Baikal is working ok.  If you can , then it's not on the Baikal side where you have to troubleshoot.\n. meanwhile I've the same problem as the people above. evert, I tried your suggestion and was able to login and got the properties there and that stuff. It looks ok to me. \nI figured that the problem could be Thunderbird. The problematic configuration is \n- one Thunderbird profile\n- one Baikal server\n- 2 calendars of 2 different users - with different passwords - added to Thunderbird. \n- the first calendar works ok, but the second calendar can't be successfully added.\nI tried in on Linux and with a fresh installation on Windows. In both instances it didn't work with error messages in Thunderbird (DAV_NOT_DAV)\nIf someone would like to try this, all one needs is Thunderbird and Baikal with 2 users who  both have different passwords.  Then add the calender of both users to Lightning (Thunderbird) and you'll (probably) see that the first calendar can be added, but not the second one ( There is no pop-up asking for Username and password).\nThe odd thing is that I have another instance of Baikal on my shared web hoster with the same user name and password. When add this calender to Thunderbird, then it works right away. TB is not asking for user name and password. This leads me to believe that TB is simply taking the username and password from the first calender (because both baikal server are on  the same domain).\nSo this looks like a TB bug to me, but it would be nice if someone could actually confirm the behaviour with the 2 different user on the same baikal server.\n. ",
    "schoos76": "Yeah, I was aware of the meaning of Error Code 500, but didn't find any information at the usual places - because by default, logging seems to be disabled for PHP. Let's see if I can see something now. Thanks so far. \n. Yeah, I was aware of the meaning of Error Code 500, but didn't find any information at the usual places - because by default, logging seems to be disabled for PHP. Let's see if I can see something now. Thanks so far. \n. ",
    "duenni": "+1 for adding instructions on how to install this on OpenShift.\n. +1 for adding instructions on how to install this on OpenShift.\n. ",
    "kilozwo": "I have the same problem:\nFatal error: Call to a member function get() on a non-object in /www/htdocs/.../baikal/Core/Frameworks/Baikal/Model/User.php on line 90\nIs there any solution yet?\nKind regards,\nJan\n. I have the same problem:\nFatal error: Call to a member function get() on a non-object in /www/htdocs/.../baikal/Core/Frameworks/Baikal/Model/User.php on line 90\nIs there any solution yet?\nKind regards,\nJan\n. ",
    "pheraph": "Thanks!\n. Thanks!\n. ",
    "larseggert": "Can confirm that this fixes the issue, please merge\n. @sgalonska When I follow the SabreDAV instructions, calendar sharing works. However, for whatever reason, the baikal address book stops syncing. Removing the groupmembers entries un-breaks the address book. Have you run into this?\n. FYI, the fix to the broken address book is in #93 \n. \"Advanced\" didn't work for me either, but \"Manual\" did (with the .well-known redirect)\n. @Julien-Dr just the DNS name of the server (or the IP address)\n. Can confirm that this fixes the issue, please merge\n. @sgalonska When I follow the SabreDAV instructions, calendar sharing works. However, for whatever reason, the baikal address book stops syncing. Removing the groupmembers entries un-breaks the address book. Have you run into this?\n. FYI, the fix to the broken address book is in #93 \n. \"Advanced\" didn't work for me either, but \"Manual\" did (with the .well-known redirect)\n. @Julien-Dr just the DNS name of the server (or the IP address)\n. ",
    "bermeitinger-b": "I got it to work behind a Lighttpd-Proxy by changing the file Core/Frameworks/Fluke in Line 167. I changed the defining of PROJECT_URI to \"https://\" ...\n. I got it to work behind a Lighttpd-Proxy by changing the file Core/Frameworks/Fluke in Line 167. I changed the defining of PROJECT_URI to \"https://\" ...\n. ",
    "IntelligentesTierMaulApollo13": "Is there any update to this problem? Changing just the protocol is not enough! Installation is possible, but afterwards, login fails. I tracked the problem down to how the generation of $sActionUrl works. If I remove the leading slash ( /admin/ -> admin/), login works. But so far sync does not, so I suspect additional changes are necessary. \nAnd I should add that I use a fixed PROJECT_URL (https://proxy domain/real domain/). Once the login has succeeded (via changing html source code before login) the administration panel works like a charm.\n. I was able to fix the problem. It is caused by two things:\n1. Currently baikal ignores every HTTP-X-Forwarded-Field and redirects to the non-https-Version\n2. SabreDAV also ignores those fields.\nI posted my changes to http://blog.christian-stankowic.de/?p=5609&cpage=1#comment-18257, but I currently have no free time to translate them to English (unfortunately I wrote my post in German) and repost them here. If anybody wants to do this, I would really appreciate it. \nOtherwise it will take a few additional days...\n. Is there any update to this problem? Changing just the protocol is not enough! Installation is possible, but afterwards, login fails. I tracked the problem down to how the generation of $sActionUrl works. If I remove the leading slash ( /admin/ -> admin/), login works. But so far sync does not, so I suspect additional changes are necessary. \nAnd I should add that I use a fixed PROJECT_URL (https://proxy domain/real domain/). Once the login has succeeded (via changing html source code before login) the administration panel works like a charm.\n. I was able to fix the problem. It is caused by two things:\n1. Currently baikal ignores every HTTP-X-Forwarded-Field and redirects to the non-https-Version\n2. SabreDAV also ignores those fields.\nI posted my changes to http://blog.christian-stankowic.de/?p=5609&cpage=1#comment-18257, but I currently have no free time to translate them to English (unfortunately I wrote my post in German) and repost them here. If anybody wants to do this, I would really appreciate it. \nOtherwise it will take a few additional days...\n. ",
    "wagnerflo": "I'm having the same problem... making Baikal unusable for me.\n. I'm having the same problem... making Baikal unusable for me.\n. ",
    "TribuneX": "Would be nice if these changes could be build into Baikal directly to support SSL proxies. Any plans for this? \n. +1. Would be nice if these changes could be build into Baikal directly to support SSL proxies. Any plans for this? \n. +1. ",
    "nachopro": "I'm running baikal over http in a lan server. On the public server I run a reverse proxy that does the SSL encryption.\nThe problem with the admin is on the  tag! Thats uses http schema instead of https\nThanks!\n. I'm running baikal over http in a lan server. On the public server I run a reverse proxy that does the SSL encryption.\nThe problem with the admin is on the  tag! Thats uses http schema instead of https\nThanks!\n. ",
    "jperryhouts": "I know this is old, but if anyone else comes across the same problem it can be fixed pretty easily.\nIf you're using Apache, you can add\nSetEnv HTTPS on\nto your httpd.conf and Baikal will get the right URI information.\nHope that helps!\n-Jonathan. I know this is old, but if anyone else comes across the same problem it can be fixed pretty easily.\nIf you're using Apache, you can add\nSetEnv HTTPS on\nto your httpd.conf and Baikal will get the right URI information.\nHope that helps!\n-Jonathan. ",
    "nicholasbester": "I'm having exactly the same issue, any help with this would be appreciated. \n. I'm having exactly the same issue, any help with this would be appreciated. \n. ",
    "davidkeutgens": "You can get invitations via the OSX Calendar app to work by adding an IMipHandler to the CalDAV plugin in the Server Plugins section of BAIKAL_HOME/html/cal.php:\n$caldavPlugin = new \\Sabre\\CalDAV\\Plugin();\n$caldavPlugin->setIMipHandler(\n    new \\Sabre\\CalDAV\\Schedule\\IMip('no-reply@example.org')\n);\n$server->addPlugin($caldavPlugin);\nSource: https://code.google.com/p/sabredav/wiki/IMipHandler\n. Just paste the code at the bottom of the file where the server gets instantiated and replace 'no-reply@example.com' with the address you want invitations to be sent from. Of course, you'll have to have a working mail server running that Baikal can connect to. I sent you an email with the code. You should check your log files (e.g. web server log, mail server log) to see if or why the invitation doesn't get sent.\n. No, it doesn't. Baikal is based on SabreDav which doesn't support this functionality yet: https://groups.google.com/forum/#!topic/sabredav-discuss/mxAZAJQZ2ow\n. You can get invitations via the OSX Calendar app to work by adding an IMipHandler to the CalDAV plugin in the Server Plugins section of BAIKAL_HOME/html/cal.php:\n$caldavPlugin = new \\Sabre\\CalDAV\\Plugin();\n$caldavPlugin->setIMipHandler(\n    new \\Sabre\\CalDAV\\Schedule\\IMip('no-reply@example.org')\n);\n$server->addPlugin($caldavPlugin);\nSource: https://code.google.com/p/sabredav/wiki/IMipHandler\n. Just paste the code at the bottom of the file where the server gets instantiated and replace 'no-reply@example.com' with the address you want invitations to be sent from. Of course, you'll have to have a working mail server running that Baikal can connect to. I sent you an email with the code. You should check your log files (e.g. web server log, mail server log) to see if or why the invitation doesn't get sent.\n. No, it doesn't. Baikal is based on SabreDav which doesn't support this functionality yet: https://groups.google.com/forum/#!topic/sabredav-discuss/mxAZAJQZ2ow\n. ",
    "BobWs": "@davidkeutgens can you please specify a bit more how to implement this feature. I can seem to get it to work!\nor maybe you can drop me a mail with the custom file. bobwinbox@gmail.com\nThanks!\n. @davidkeutgens I followed the tip of @janmuennich by placing the code before the other plugins. This gave the result that I didn't get the error in iCal when sending the invitation but the message never arrived! So for me it's still not working! I've installed everything on a Synology Nas (baikal, mail server )\nany ideas for solving the problem?\n. +1 AND FOR ADDRESS BOOK\n. Take a look at owncloud. They did a great job with sharing calendar and contacts. I'm not using owncloud any more because it is way to sloooo. Baikal is much faster. So sharing ability would be nice!\n. Try this! It did the job for me on a Synology (apache webeserver)\nDisabling cache management\nthat could cause problems with DAV requests\nUseful only for Apache servers, with AllowOverride All\n(ie, .htaccess files enabled)\nAllow HTTP headers with Apache/FastCGI\nSee http://code.google.com/p/sabredav/wiki/Authentication#Apache_+_(Fast)CGI\n\n\n\nSetEnvIfNoCase ^Authorization$ \"(.+)\" XAUTHORIZATION=$1\nRequestHeader set XAuthorization %{XAUTHORIZATION}e env=XAUTHORIZATION\n\n\n\nErrorDocument 403 /core/templates/403.php\nErrorDocument 404 /core/templates/404.php\n\nphp_value upload_max_filesize 513M\nphp_value post_max_size 513M\nphp_value memory_limit 512M\n\n  SetEnv htaccessWorking true\n\n\n\nRewriteEngine on\nRewriteRule .* - [env=HTTP_AUTHORIZATION:%{HTTP:Authorization}]\nRewriteRule ^.well-known/carddav /card.php/ [R]\nRewriteRule ^.well-known/caldav /cal.php/ [R]\n\n\nAddType image/svg+xml svg svgz\nAddEncoding gzip svgz\n\n\nDirectoryIndex index.php index.html\n\nAddDefaultCharset utf-8\nOptions -Indexes\n. @davidkeutgens can you please specify a bit more how to implement this feature. I can seem to get it to work!\nor maybe you can drop me a mail with the custom file. bobwinbox@gmail.com\nThanks!\n. @davidkeutgens I followed the tip of @janmuennich by placing the code before the other plugins. This gave the result that I didn't get the error in iCal when sending the invitation but the message never arrived! So for me it's still not working! I've installed everything on a Synology Nas (baikal, mail server )\nany ideas for solving the problem?\n. +1 AND FOR ADDRESS BOOK\n. Take a look at owncloud. They did a great job with sharing calendar and contacts. I'm not using owncloud any more because it is way to sloooo. Baikal is much faster. So sharing ability would be nice!\n. Try this! It did the job for me on a Synology (apache webeserver)\nDisabling cache management\nthat could cause problems with DAV requests\nUseful only for Apache servers, with AllowOverride All\n(ie, .htaccess files enabled)\nAllow HTTP headers with Apache/FastCGI\nSee http://code.google.com/p/sabredav/wiki/Authentication#Apache_+_(Fast)CGI\n\n\n\nSetEnvIfNoCase ^Authorization$ \"(.+)\" XAUTHORIZATION=$1\nRequestHeader set XAuthorization %{XAUTHORIZATION}e env=XAUTHORIZATION\n\n\n\nErrorDocument 403 /core/templates/403.php\nErrorDocument 404 /core/templates/404.php\n\nphp_value upload_max_filesize 513M\nphp_value post_max_size 513M\nphp_value memory_limit 512M\n\n  SetEnv htaccessWorking true\n\n\n\nRewriteEngine on\nRewriteRule .* - [env=HTTP_AUTHORIZATION:%{HTTP:Authorization}]\nRewriteRule ^.well-known/carddav /card.php/ [R]\nRewriteRule ^.well-known/caldav /cal.php/ [R]\n\n\nAddType image/svg+xml svg svgz\nAddEncoding gzip svgz\n\n\nDirectoryIndex index.php index.html\n\nAddDefaultCharset utf-8\nOptions -Indexes\n. ",
    "LERecords": "does this fix work for the iPhone calendar? I have been trying everything to get invites to work with the iPhone using a dav calendar, but i just can't figure it out. and help is appreciated\n. this is the same problem i am having.. after upgrading to iOS 7 (just on the iphone) and nothing is syncing to the phone. On the ipad, everything syncs fine... any help appreciated!!\n. well.. i restored the phone from a back up and everything seems to be working.. i think it is more of an issue with the phone then Baikal..\n. does this fix work for the iPhone calendar? I have been trying everything to get invites to work with the iPhone using a dav calendar, but i just can't figure it out. and help is appreciated\n. this is the same problem i am having.. after upgrading to iOS 7 (just on the iphone) and nothing is syncing to the phone. On the ipad, everything syncs fine... any help appreciated!!\n. well.. i restored the phone from a back up and everything seems to be working.. i think it is more of an issue with the phone then Baikal..\n. ",
    "janmuennich": "@davidkeutgens Thanks for this advice! It worked for me only after I added the plugin code before the other plugins.\n. @davidkeutgens Thanks for this advice! It worked for me only after I added the plugin code before the other plugins.\n. ",
    "johndoe75": "Like @janmuennich: It worked for me after I placed the plugin code before the other plugins.\n. Like @janmuennich: It worked for me after I placed the plugin code before the other plugins.\n. ",
    "FNKsMM": "I have the same issue, although i only get the first two warnings\nWarning: stripslashes() expects parameter 1 to be string, array given in /home/.sites/184/site834/web/baikal/Core/Frameworks/Flake/Framework.php on line 117\nWarning: stripslashes() expects parameter 1 to be string, array given in /home/.sites/184/site834/web/baikal/Core/Frameworks/Flake/Framework.php on line 117\nThe same problem goes through most other form-submits within the baikal webadmin.\n. I have the same issue, although i only get the first two warnings\nWarning: stripslashes() expects parameter 1 to be string, array given in /home/.sites/184/site834/web/baikal/Core/Frameworks/Flake/Framework.php on line 117\nWarning: stripslashes() expects parameter 1 to be string, array given in /home/.sites/184/site834/web/baikal/Core/Frameworks/Flake/Framework.php on line 117\nThe same problem goes through most other form-submits within the baikal webadmin.\n. ",
    "meru-zz": "I have the same issue here:\nWarning: stripslashes() expects parameter 1 to be string, array given in /home/www/xxx/html/cloud/Core/Frameworks/Flake/Framework.php on line 117\nWarning: stripslashes() expects parameter 1 to be string, array given in /home/www/xxx/html/cloud/Core/Frameworks/Flake/Framework.php on line 117\nWarning: session_start() [function.session-start]: Cannot send session cache limiter - headers already sent (output started at /home/www/xxx/html/cloud/Core/Frameworks/Flake/Framework.php:117) in /home/www/xxx/html/cloud/Core/Frameworks/Flake/Framework.php on line 183\nWarning: Cannot modify header information - headers already sent by (output started at /home/www/xxx/html/cloud/Core/Frameworks/Flake/Framework.php:117) in /home/www/xxx/html/cloud/Core/Frameworks/Flake/Controller/Page.php on line 75\n. Thx,\nmagic quotes = off\noutput_buffering=4096 per php.ini in same directory\nstill same problem \n. Thx for help to all: \ncidious code help me for start using Baikal\nmfg Meru\n. I have the same issue here:\nWarning: stripslashes() expects parameter 1 to be string, array given in /home/www/xxx/html/cloud/Core/Frameworks/Flake/Framework.php on line 117\nWarning: stripslashes() expects parameter 1 to be string, array given in /home/www/xxx/html/cloud/Core/Frameworks/Flake/Framework.php on line 117\nWarning: session_start() [function.session-start]: Cannot send session cache limiter - headers already sent (output started at /home/www/xxx/html/cloud/Core/Frameworks/Flake/Framework.php:117) in /home/www/xxx/html/cloud/Core/Frameworks/Flake/Framework.php on line 183\nWarning: Cannot modify header information - headers already sent by (output started at /home/www/xxx/html/cloud/Core/Frameworks/Flake/Framework.php:117) in /home/www/xxx/html/cloud/Core/Frameworks/Flake/Controller/Page.php on line 75\n. Thx,\nmagic quotes = off\noutput_buffering=4096 per php.ini in same directory\nstill same problem \n. Thx for help to all: \ncidious code help me for start using Baikal\nmfg Meru\n. ",
    "JasonSpatola": "Hey guys - I'm on the run so I haven't had time to fully test and dig into the details, but (1) turning off magic quotes and (2) turning on output buffering got it working splendidly.\nI'll look into it more when I have a chance, but there's an avenue to try if you're stuck.\n. I've never used the directory-specific php.ini method before.  An alternate method would be to add this to your .htaccess file:\nphp_flag magic_quotes_gpc   Off\nphp_flag output_buffering   On\n. Hey guys - I'm on the run so I haven't had time to fully test and dig into the details, but (1) turning off magic quotes and (2) turning on output buffering got it working splendidly.\nI'll look into it more when I have a chance, but there's an avenue to try if you're stuck.\n. I've never used the directory-specific php.ini method before.  An alternate method would be to add this to your .htaccess file:\nphp_flag magic_quotes_gpc   Off\nphp_flag output_buffering   On\n. ",
    "cidious": "as a temporary solution, you can remove those lines in the file\nCore/Frameworks/Flake/Framework.php:116\nphp\nif(in_array(strtolower(ini_get('magic_quotes_gpc')), array('1', 'on'))) {\n    $_POST = array_map('stripslashes', $_POST);\n    $_GET = array_map('stripslashes', $_GET);\n    $_COOKIE = array_map('stripslashes', $_COOKIE);\n}\n. I think this issue duplicates the issue #98 \n. as a temporary solution, you can remove those lines in the file\nCore/Frameworks/Flake/Framework.php:116\nphp\nif(in_array(strtolower(ini_get('magic_quotes_gpc')), array('1', 'on'))) {\n    $_POST = array_map('stripslashes', $_POST);\n    $_GET = array_map('stripslashes', $_GET);\n    $_COOKIE = array_map('stripslashes', $_COOKIE);\n}\n. as a temporary solution, you can remove those lines in the file\nCore/Frameworks/Flake/Framework.php:116\nphp\nif(in_array(strtolower(ini_get('magic_quotes_gpc')), array('1', 'on'))) {\n    $_POST = array_map('stripslashes', $_POST);\n    $_GET = array_map('stripslashes', $_GET);\n    $_COOKIE = array_map('stripslashes', $_COOKIE);\n}\n. I think this issue duplicates the issue #98 \n. as a temporary solution, you can remove those lines in the file\nCore/Frameworks/Flake/Framework.php:116\nphp\nif(in_array(strtolower(ini_get('magic_quotes_gpc')), array('1', 'on'))) {\n    $_POST = array_map('stripslashes', $_POST);\n    $_GET = array_map('stripslashes', $_GET);\n    $_COOKIE = array_map('stripslashes', $_COOKIE);\n}\n. ",
    "rthurn": "I could not turn off magic quotes as I'm on a shared hosting package.\nI fixed the problem with a patch:\nAdd the following function to ... baikal-flat/Core/Frameworks/Flake/Framework.php after the namespace entry and then replace all occurences of 'stripslashes' with 'stripslashes_deep'\n...\nnamespace Flake;\nfunction stripslashes_deep($value)\n{\n    $value = is_array($value) ?\n                array_map('\\Flake\\stripslashes_deep', $value) :\n                stripslashes($value);\nreturn $value;\n}\n...\n. Sorry you have to replace all 'stripslashes with '\\Flake\\stripslashes_deep'  ... in Framework.php\n```\n<?php\n\nCopyright notice\n\n(c) 2013 J\u00e9r\u00f4me Schneider mail@jeromeschneider.fr\nAll rights reserved\n\nhttp://flake.codr.fr\n\nThis script is part of the Flake project. The Flake\nproject is free software; you can redistribute it\nand/or modify it under the terms of the GNU General Public\nLicense as published by the Free Software Foundation; either\nversion 2 of the License, or (at your option) any later version.\n\nThe GNU General Public License can be found at\nhttp://www.gnu.org/copyleft/gpl.html.\n\nThis script is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\nGNU General Public License for more details.\n\nThis copyright notice MUST APPEAR in all copies of the script!\n\nnamespace Flake;\nfunction stripslashes_deep($value)\n{\n    $value = is_array($value) ?\n                array_map('\\Flake\\stripslashes_deep', $value) :\n                stripslashes($value);\nreturn $value;\n\n}\nclass Framework extends \\Flake\\Core\\Framework {\npublic static function rmBeginSlash($sString) {\n    if(substr($sString, 0, 1) === \"/\") {\n        $sString = substr($sString, 1);\n    }\n\n    return $sString;\n}\n\npublic static function rmEndSlash($sString) {\n    if(substr($sString, -1) === \"/\") {\n        $sString = substr($sString, 0, -1);\n    }\n\n    return $sString;\n}\n\npublic static function appendSlash($sString) {\n    if(substr($sString, -1) !== \"/\") {\n        $sString .= \"/\";\n    }\n\n    return $sString;\n}\n\npublic static function prependSlash($sString) {\n    if(substr($sString, 0, 1) !== \"/\") {\n        $sString = \"/\" . $sString;\n    }\n\n    return $sString;\n}\n\npublic static function rmQuery($sString) {\n    $iStart = strpos($sString, \"?\");\n    return ($iStart === FALSE) ? $sString : substr($sString, 0, $iStart);\n}\n\npublic static function rmScriptName($sString, $sScriptName) {\n    $sScriptBaseName = basename($sScriptName);\n    if( self::endswith($sString, $sScriptBaseName) )\n        return substr($sString, 0, -strlen($sScriptBaseName));\n    return $sString;\n}\n\npublic static function rmProjectContext($sString) {\n    return self::appendSlash(\n        substr($sString, 0, -1 * strlen(PROJECT_CONTEXT_BASEURI))\n    );\n}\n\npublic static function endsWith($sString, $sTest) {\n    $iTestLen = strlen($sTest);\n    if ($iTestLen > strlen($sString)) return false;\n    return substr_compare($sString, $sTest, -$iTestLen) === 0;\n}\n\npublic static function bootstrap() {\n\n    # Asserting PHP 5.3.0+\n    if(version_compare(PHP_VERSION, '5.3.0', '<')) {\n        die('Flake Fatal Error: Flake requires PHP 5.3.0+ to run properly. Your version is: ' . PHP_VERSION . '.');\n    }\n\n    # Define safehash salt\n    define(\"PROJECT_SAFEHASH_SALT\", \"strong-secret-salt\");\n\n    # Define absolute server path to Flake Framework\n    define(\"FLAKE_PATH_ROOT\", PROJECT_PATH_ROOT . \"Core/Frameworks/Flake/\");    # ./\n\n    if(!defined('LF')) {\n        define('LF', chr(10));\n    }\n\n    if(!defined('CR')) {\n        define('CR', chr(13));\n    }\n\n    if(array_key_exists(\"SERVER_NAME\", $_SERVER) && $_SERVER[\"SERVER_NAME\"] === \"mongoose\") {\n        define(\"MONGOOSE_SERVER\", TRUE);\n    } else {\n        define(\"MONGOOSE_SERVER\", FALSE);\n    }\n\n    # Undo magic_quotes as this cannot be disabled by .htaccess on PHP ran as CGI\n    # Source: http://stackoverflow.com/questions/517008/how-to-turn-off-magic-quotes-on-shared-hosting\n    if(in_array(strtolower(ini_get('magic_quotes_gpc')), array('1', 'on'))) {\n        $_POST = array_map('\\Flake\\stripslashes_deep', $_POST);\n        $_GET = array_map('\\Flake\\stripslashes_deep', $_GET);\n        $_COOKIE = array_map('\\Flake\\stripslashes_deep', $_COOKIE);\n    }\n\n    # Fixing some CGI environments, that prefix HTTP_AUTHORIZATION (forwarded in .htaccess) with \"REDIRECT_\"\n    if(array_key_exists(\"REDIRECT_HTTP_AUTHORIZATION\", $_SERVER)) {\n        $_SERVER[\"HTTP_AUTHORIZATION\"] = $_SERVER[\"REDIRECT_HTTP_AUTHORIZATION\"];\n    }\n\n    #################################################################################################\n\n    # determine Flake install root path\n    # not using realpath here to avoid symlinks resolution\n\n    define(\"PROJECT_PATH_CORE\", PROJECT_PATH_ROOT . \"Core/\");\n    define(\"PROJECT_PATH_CORERESOURCES\", PROJECT_PATH_CORE . \"Resources/\");\n    define(\"PROJECT_PATH_SPECIFIC\", PROJECT_PATH_ROOT . \"Specific/\");\n    define(\"PROJECT_PATH_FRAMEWORKS\", PROJECT_PATH_CORE . \"Frameworks/\");\n    define(\"PROJECT_PATH_WWWROOT\", PROJECT_PATH_CORE . \"WWWRoot/\");\n\n    require_once(PROJECT_PATH_CORE . \"Distrib.php\");\n\n    if(PROJECT_PACKAGE === \"regular\") {\n        define(\"PROJECT_PATH_DOCUMENTROOT\", PROJECT_PATH_ROOT . \"html/\");\n    } elseif(PROJECT_PACKAGE === \"flat\") {\n        define(\"PROJECT_PATH_DOCUMENTROOT\", PROJECT_PATH_ROOT);\n    } else {\n        throw new \\Exception(\"Unrecognized PROJECT_PACKAGE value.\");\n    }\n\n    # Determine PROJECT_BASEURI\n    $sScript = substr($_SERVER[\"SCRIPT_FILENAME\"], strlen($_SERVER[\"DOCUMENT_ROOT\"]));\n    $sDirName = str_replace(\"\\\\\", \"/\", dirname($sScript));  # fix windows backslashes\n\n    if($sDirName !== \".\") {\n        $sDirName = self::appendSlash($sDirName);\n    } else {\n        $sDirName = \"/\";\n    }\n\n    $sBaseUrl = self::rmBeginSlash(self::rmProjectContext($sDirName));\n    define(\"PROJECT_BASEURI\", self::prependSlash($sBaseUrl));   # SabreDAV needs a \"/\" at the beginning of BASEURL\n\n    # Determine PROJECT_URI\n    $sProtocol = \\Flake\\Util\\Tools::getCurrentProtocol();\n    $sHttpBaseUrl = strtolower($_SERVER[\"REQUEST_URI\"]);\n    $sHttpBaseUrl = self::rmQuery($sHttpBaseUrl);\n    $sHttpBaseUrl = self::rmScriptName($sHttpBaseUrl, $sScript);\n    $sHttpBaseUrl = self::rmProjectContext($sHttpBaseUrl);\n    define(\"PROJECT_URI\", $sProtocol . \"://\" . $_SERVER[\"HTTP_HOST\"] . $sHttpBaseUrl);\n    unset($sScript); unset($sDirName); unset($sBaseUrl); unset($sProtocol); unset($sHttpBaseUrl);\n\n    #################################################################################################\n\n    require_once(FLAKE_PATH_ROOT . 'Util/Twig/lib/Twig/Autoloader.php');\n    \\Twig_Autoloader::register();\n\n    # Include Flake Framework config\n    require_once(FLAKE_PATH_ROOT . \"config.php\");\n\n    # Determine Router class\n    $GLOBALS[\"ROUTER\"] = \\Flake\\Util\\Tools::router();\n\n    if(!\\Flake\\Util\\Tools::isCliPhp()) {\n        ini_set(\"html_errors\", TRUE);\n        session_start();\n    }\n\n    setlocale(LC_ALL, FLAKE_LOCALE);\n    date_default_timezone_set(FLAKE_TIMEZONE);\n\n    $GLOBALS[\"TEMPLATESTACK\"] = array();\n\n    $aUrlInfo = parse_url(PROJECT_URI);\n    define(\"FLAKE_DOMAIN\", $_SERVER[\"HTTP_HOST\"]);\n    define(\"FLAKE_URIPATH\", \\Flake\\Util\\Tools::stripBeginSlash($aUrlInfo[\"path\"]));\n    unset($aUrlInfo);\n\n\n    # Include Project config\n    # NOTE: DB initialization and App config files inclusion\n    # do not break execution if not properly executed, as\n    # these errors will have to be caught later in the process\n    # notably by the App install tool, if available; breaking right now\n    # would forbid such install tool forwarding, for instance\n\n    $sConfigPath = PROJECT_PATH_SPECIFIC . \"config.php\";\n    $sConfigSystemPath = PROJECT_PATH_SPECIFIC . \"config.system.php\";\n\n    if(file_exists($sConfigPath)) {\n        require_once($sConfigPath);\n    }\n\n    if(file_exists($sConfigSystemPath)) {\n        require_once($sConfigSystemPath);\n    }\n\n    self::initDb();\n}\n\nprotected static function initDb() {\n\n    if(defined(\"PROJECT_DB_MYSQL\") && PROJECT_DB_MYSQL === TRUE) {\n        self::initDbMysql();\n    } else {\n        self::initDbSqlite();\n    }\n}\n\nprotected static function initDbSqlite() {\n    # Asserting DB filepath is set\n    if(!defined(\"PROJECT_SQLITE_FILE\")) {\n        return FALSE;\n    }\n\n    # Asserting DB file exists\n    if(!file_exists(PROJECT_SQLITE_FILE)) {\n        die(\"<h3>DB file does not exist. To create it, please copy '<span style='font-family: monospace; background: yellow;'>Core/Resources/Db/SQLite/db.sqlite</span>' to '<span style='font-family: monospace;background: yellow;'>\" . PROJECT_SQLITE_FILE . \"</span>'</h3>\");\n    }\n\n    # Asserting DB file is readable\n    if(!is_readable(PROJECT_SQLITE_FILE)) {\n        die(\"<h3>DB file is not readable. Please give read permissions on file '<span style='font-family: monospace; background: yellow;'>\" . PROJECT_SQLITE_FILE . \"</span>'</h3>\");\n    }\n\n    # Asserting DB file is writable\n    if(!is_writable(PROJECT_SQLITE_FILE)) {\n        die(\"<h3>DB file is not writable. Please give write permissions on file '<span style='font-family: monospace; background: yellow;'>\" . PROJECT_SQLITE_FILE . \"</span>'</h3>\");\n    }\n\n    # Asserting DB directory is writable\n    if(!is_writable(dirname(PROJECT_SQLITE_FILE))) {\n        die(\"<h3>The <em>FOLDER</em> containing the DB file is not writable, and it has to.<br />Please give write permissions on folder '<span style='font-family: monospace; background: yellow;'>\" . dirname(PROJECT_SQLITE_FILE) . \"</span>'</h3>\");\n    }\n\n    if(file_exists(PROJECT_SQLITE_FILE) && is_readable(PROJECT_SQLITE_FILE) && !isset($GLOBALS[\"DB\"])) {\n        $GLOBALS[\"DB\"] = new \\Flake\\Core\\Database\\Sqlite(PROJECT_SQLITE_FILE);\n        return TRUE;\n    }\n\n    return FALSE;\n}\n\nprotected static function initDbMysql() {\n\n    if(!defined(\"PROJECT_DB_MYSQL_HOST\")) {\n        die(\"<h3>The constant PROJECT_DB_MYSQL_HOST, containing the MySQL host name, is not set.<br />You should set it in Specific/config.system.php</h3>\");\n    }\n\n    if(!defined(\"PROJECT_DB_MYSQL_DBNAME\")) {\n        die(\"<h3>The constant PROJECT_DB_MYSQL_DBNAME, containing the MySQL database name, is not set.<br />You should set it in Specific/config.system.php</h3>\");\n    }\n\n    if(!defined(\"PROJECT_DB_MYSQL_USERNAME\")) {\n        die(\"<h3>The constant PROJECT_DB_MYSQL_USERNAME, containing the MySQL database username, is not set.<br />You should set it in Specific/config.system.php</h3>\");\n    }\n\n    if(!defined(\"PROJECT_DB_MYSQL_PASSWORD\")) {\n        die(\"<h3>The constant PROJECT_DB_MYSQL_PASSWORD, containing the MySQL database password, is not set.<br />You should set it in Specific/config.system.php</h3>\");\n    }\n\n    try {\n        $GLOBALS[\"DB\"] = new \\Flake\\Core\\Database\\Mysql(\n            PROJECT_DB_MYSQL_HOST,\n            PROJECT_DB_MYSQL_DBNAME,\n            PROJECT_DB_MYSQL_USERNAME,\n            PROJECT_DB_MYSQL_PASSWORD\n        );\n\n        # We now setup the connexion to use UTF8\n        $GLOBALS[\"DB\"]->query(\"SET NAMES UTF8\");\n    } catch(\\Exception $e) {\n        #die(\"<h3>Ba\u00efkal was not able to establish a connexion to the configured MySQL database (as configured in Specific/config.system.php).</h3>\");\n    }\n\n    return TRUE;\n}\n\npublic static function isDBInitialized() {\n    return isset($GLOBALS[\"DB\"]) && \\Flake\\Util\\Tools::is_a($GLOBALS[\"DB\"], \"\\Flake\\Core\\Database\");\n}\n\n}\n. Sorry, it was not my intention that the copyright notice is printed so prominent. I just did a copy and paste from my text editor ... no special formatting ... but github forum software probably knows automatically whats important .... :-)\nNow the code block is fenced with .... \n. I could not turn off magic quotes as I'm on a shared hosting package.\nI fixed the problem with a patch:\nAdd the following function to ... baikal-flat/Core/Frameworks/Flake/Framework.php after the namespace entry and then replace all occurences of 'stripslashes' with 'stripslashes_deep'\n...\nnamespace Flake;\nfunction stripslashes_deep($value)\n{\n    $value = is_array($value) ?\n                array_map('\\Flake\\stripslashes_deep', $value) :\n                stripslashes($value);\nreturn $value;\n}\n...\n. Sorry you have to replace all 'stripslashes with '\\Flake\\stripslashes_deep'  ... in Framework.php\n```\n<?php\n\nCopyright notice\n\n(c) 2013 J\u00e9r\u00f4me Schneider mail@jeromeschneider.fr\nAll rights reserved\n\nhttp://flake.codr.fr\n\nThis script is part of the Flake project. The Flake\nproject is free software; you can redistribute it\nand/or modify it under the terms of the GNU General Public\nLicense as published by the Free Software Foundation; either\nversion 2 of the License, or (at your option) any later version.\n\nThe GNU General Public License can be found at\nhttp://www.gnu.org/copyleft/gpl.html.\n\nThis script is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\nGNU General Public License for more details.\n\nThis copyright notice MUST APPEAR in all copies of the script!\n\nnamespace Flake;\nfunction stripslashes_deep($value)\n{\n    $value = is_array($value) ?\n                array_map('\\Flake\\stripslashes_deep', $value) :\n                stripslashes($value);\nreturn $value;\n\n}\nclass Framework extends \\Flake\\Core\\Framework {\npublic static function rmBeginSlash($sString) {\n    if(substr($sString, 0, 1) === \"/\") {\n        $sString = substr($sString, 1);\n    }\n\n    return $sString;\n}\n\npublic static function rmEndSlash($sString) {\n    if(substr($sString, -1) === \"/\") {\n        $sString = substr($sString, 0, -1);\n    }\n\n    return $sString;\n}\n\npublic static function appendSlash($sString) {\n    if(substr($sString, -1) !== \"/\") {\n        $sString .= \"/\";\n    }\n\n    return $sString;\n}\n\npublic static function prependSlash($sString) {\n    if(substr($sString, 0, 1) !== \"/\") {\n        $sString = \"/\" . $sString;\n    }\n\n    return $sString;\n}\n\npublic static function rmQuery($sString) {\n    $iStart = strpos($sString, \"?\");\n    return ($iStart === FALSE) ? $sString : substr($sString, 0, $iStart);\n}\n\npublic static function rmScriptName($sString, $sScriptName) {\n    $sScriptBaseName = basename($sScriptName);\n    if( self::endswith($sString, $sScriptBaseName) )\n        return substr($sString, 0, -strlen($sScriptBaseName));\n    return $sString;\n}\n\npublic static function rmProjectContext($sString) {\n    return self::appendSlash(\n        substr($sString, 0, -1 * strlen(PROJECT_CONTEXT_BASEURI))\n    );\n}\n\npublic static function endsWith($sString, $sTest) {\n    $iTestLen = strlen($sTest);\n    if ($iTestLen > strlen($sString)) return false;\n    return substr_compare($sString, $sTest, -$iTestLen) === 0;\n}\n\npublic static function bootstrap() {\n\n    # Asserting PHP 5.3.0+\n    if(version_compare(PHP_VERSION, '5.3.0', '<')) {\n        die('Flake Fatal Error: Flake requires PHP 5.3.0+ to run properly. Your version is: ' . PHP_VERSION . '.');\n    }\n\n    # Define safehash salt\n    define(\"PROJECT_SAFEHASH_SALT\", \"strong-secret-salt\");\n\n    # Define absolute server path to Flake Framework\n    define(\"FLAKE_PATH_ROOT\", PROJECT_PATH_ROOT . \"Core/Frameworks/Flake/\");    # ./\n\n    if(!defined('LF')) {\n        define('LF', chr(10));\n    }\n\n    if(!defined('CR')) {\n        define('CR', chr(13));\n    }\n\n    if(array_key_exists(\"SERVER_NAME\", $_SERVER) && $_SERVER[\"SERVER_NAME\"] === \"mongoose\") {\n        define(\"MONGOOSE_SERVER\", TRUE);\n    } else {\n        define(\"MONGOOSE_SERVER\", FALSE);\n    }\n\n    # Undo magic_quotes as this cannot be disabled by .htaccess on PHP ran as CGI\n    # Source: http://stackoverflow.com/questions/517008/how-to-turn-off-magic-quotes-on-shared-hosting\n    if(in_array(strtolower(ini_get('magic_quotes_gpc')), array('1', 'on'))) {\n        $_POST = array_map('\\Flake\\stripslashes_deep', $_POST);\n        $_GET = array_map('\\Flake\\stripslashes_deep', $_GET);\n        $_COOKIE = array_map('\\Flake\\stripslashes_deep', $_COOKIE);\n    }\n\n    # Fixing some CGI environments, that prefix HTTP_AUTHORIZATION (forwarded in .htaccess) with \"REDIRECT_\"\n    if(array_key_exists(\"REDIRECT_HTTP_AUTHORIZATION\", $_SERVER)) {\n        $_SERVER[\"HTTP_AUTHORIZATION\"] = $_SERVER[\"REDIRECT_HTTP_AUTHORIZATION\"];\n    }\n\n    #################################################################################################\n\n    # determine Flake install root path\n    # not using realpath here to avoid symlinks resolution\n\n    define(\"PROJECT_PATH_CORE\", PROJECT_PATH_ROOT . \"Core/\");\n    define(\"PROJECT_PATH_CORERESOURCES\", PROJECT_PATH_CORE . \"Resources/\");\n    define(\"PROJECT_PATH_SPECIFIC\", PROJECT_PATH_ROOT . \"Specific/\");\n    define(\"PROJECT_PATH_FRAMEWORKS\", PROJECT_PATH_CORE . \"Frameworks/\");\n    define(\"PROJECT_PATH_WWWROOT\", PROJECT_PATH_CORE . \"WWWRoot/\");\n\n    require_once(PROJECT_PATH_CORE . \"Distrib.php\");\n\n    if(PROJECT_PACKAGE === \"regular\") {\n        define(\"PROJECT_PATH_DOCUMENTROOT\", PROJECT_PATH_ROOT . \"html/\");\n    } elseif(PROJECT_PACKAGE === \"flat\") {\n        define(\"PROJECT_PATH_DOCUMENTROOT\", PROJECT_PATH_ROOT);\n    } else {\n        throw new \\Exception(\"Unrecognized PROJECT_PACKAGE value.\");\n    }\n\n    # Determine PROJECT_BASEURI\n    $sScript = substr($_SERVER[\"SCRIPT_FILENAME\"], strlen($_SERVER[\"DOCUMENT_ROOT\"]));\n    $sDirName = str_replace(\"\\\\\", \"/\", dirname($sScript));  # fix windows backslashes\n\n    if($sDirName !== \".\") {\n        $sDirName = self::appendSlash($sDirName);\n    } else {\n        $sDirName = \"/\";\n    }\n\n    $sBaseUrl = self::rmBeginSlash(self::rmProjectContext($sDirName));\n    define(\"PROJECT_BASEURI\", self::prependSlash($sBaseUrl));   # SabreDAV needs a \"/\" at the beginning of BASEURL\n\n    # Determine PROJECT_URI\n    $sProtocol = \\Flake\\Util\\Tools::getCurrentProtocol();\n    $sHttpBaseUrl = strtolower($_SERVER[\"REQUEST_URI\"]);\n    $sHttpBaseUrl = self::rmQuery($sHttpBaseUrl);\n    $sHttpBaseUrl = self::rmScriptName($sHttpBaseUrl, $sScript);\n    $sHttpBaseUrl = self::rmProjectContext($sHttpBaseUrl);\n    define(\"PROJECT_URI\", $sProtocol . \"://\" . $_SERVER[\"HTTP_HOST\"] . $sHttpBaseUrl);\n    unset($sScript); unset($sDirName); unset($sBaseUrl); unset($sProtocol); unset($sHttpBaseUrl);\n\n    #################################################################################################\n\n    require_once(FLAKE_PATH_ROOT . 'Util/Twig/lib/Twig/Autoloader.php');\n    \\Twig_Autoloader::register();\n\n    # Include Flake Framework config\n    require_once(FLAKE_PATH_ROOT . \"config.php\");\n\n    # Determine Router class\n    $GLOBALS[\"ROUTER\"] = \\Flake\\Util\\Tools::router();\n\n    if(!\\Flake\\Util\\Tools::isCliPhp()) {\n        ini_set(\"html_errors\", TRUE);\n        session_start();\n    }\n\n    setlocale(LC_ALL, FLAKE_LOCALE);\n    date_default_timezone_set(FLAKE_TIMEZONE);\n\n    $GLOBALS[\"TEMPLATESTACK\"] = array();\n\n    $aUrlInfo = parse_url(PROJECT_URI);\n    define(\"FLAKE_DOMAIN\", $_SERVER[\"HTTP_HOST\"]);\n    define(\"FLAKE_URIPATH\", \\Flake\\Util\\Tools::stripBeginSlash($aUrlInfo[\"path\"]));\n    unset($aUrlInfo);\n\n\n    # Include Project config\n    # NOTE: DB initialization and App config files inclusion\n    # do not break execution if not properly executed, as\n    # these errors will have to be caught later in the process\n    # notably by the App install tool, if available; breaking right now\n    # would forbid such install tool forwarding, for instance\n\n    $sConfigPath = PROJECT_PATH_SPECIFIC . \"config.php\";\n    $sConfigSystemPath = PROJECT_PATH_SPECIFIC . \"config.system.php\";\n\n    if(file_exists($sConfigPath)) {\n        require_once($sConfigPath);\n    }\n\n    if(file_exists($sConfigSystemPath)) {\n        require_once($sConfigSystemPath);\n    }\n\n    self::initDb();\n}\n\nprotected static function initDb() {\n\n    if(defined(\"PROJECT_DB_MYSQL\") && PROJECT_DB_MYSQL === TRUE) {\n        self::initDbMysql();\n    } else {\n        self::initDbSqlite();\n    }\n}\n\nprotected static function initDbSqlite() {\n    # Asserting DB filepath is set\n    if(!defined(\"PROJECT_SQLITE_FILE\")) {\n        return FALSE;\n    }\n\n    # Asserting DB file exists\n    if(!file_exists(PROJECT_SQLITE_FILE)) {\n        die(\"<h3>DB file does not exist. To create it, please copy '<span style='font-family: monospace; background: yellow;'>Core/Resources/Db/SQLite/db.sqlite</span>' to '<span style='font-family: monospace;background: yellow;'>\" . PROJECT_SQLITE_FILE . \"</span>'</h3>\");\n    }\n\n    # Asserting DB file is readable\n    if(!is_readable(PROJECT_SQLITE_FILE)) {\n        die(\"<h3>DB file is not readable. Please give read permissions on file '<span style='font-family: monospace; background: yellow;'>\" . PROJECT_SQLITE_FILE . \"</span>'</h3>\");\n    }\n\n    # Asserting DB file is writable\n    if(!is_writable(PROJECT_SQLITE_FILE)) {\n        die(\"<h3>DB file is not writable. Please give write permissions on file '<span style='font-family: monospace; background: yellow;'>\" . PROJECT_SQLITE_FILE . \"</span>'</h3>\");\n    }\n\n    # Asserting DB directory is writable\n    if(!is_writable(dirname(PROJECT_SQLITE_FILE))) {\n        die(\"<h3>The <em>FOLDER</em> containing the DB file is not writable, and it has to.<br />Please give write permissions on folder '<span style='font-family: monospace; background: yellow;'>\" . dirname(PROJECT_SQLITE_FILE) . \"</span>'</h3>\");\n    }\n\n    if(file_exists(PROJECT_SQLITE_FILE) && is_readable(PROJECT_SQLITE_FILE) && !isset($GLOBALS[\"DB\"])) {\n        $GLOBALS[\"DB\"] = new \\Flake\\Core\\Database\\Sqlite(PROJECT_SQLITE_FILE);\n        return TRUE;\n    }\n\n    return FALSE;\n}\n\nprotected static function initDbMysql() {\n\n    if(!defined(\"PROJECT_DB_MYSQL_HOST\")) {\n        die(\"<h3>The constant PROJECT_DB_MYSQL_HOST, containing the MySQL host name, is not set.<br />You should set it in Specific/config.system.php</h3>\");\n    }\n\n    if(!defined(\"PROJECT_DB_MYSQL_DBNAME\")) {\n        die(\"<h3>The constant PROJECT_DB_MYSQL_DBNAME, containing the MySQL database name, is not set.<br />You should set it in Specific/config.system.php</h3>\");\n    }\n\n    if(!defined(\"PROJECT_DB_MYSQL_USERNAME\")) {\n        die(\"<h3>The constant PROJECT_DB_MYSQL_USERNAME, containing the MySQL database username, is not set.<br />You should set it in Specific/config.system.php</h3>\");\n    }\n\n    if(!defined(\"PROJECT_DB_MYSQL_PASSWORD\")) {\n        die(\"<h3>The constant PROJECT_DB_MYSQL_PASSWORD, containing the MySQL database password, is not set.<br />You should set it in Specific/config.system.php</h3>\");\n    }\n\n    try {\n        $GLOBALS[\"DB\"] = new \\Flake\\Core\\Database\\Mysql(\n            PROJECT_DB_MYSQL_HOST,\n            PROJECT_DB_MYSQL_DBNAME,\n            PROJECT_DB_MYSQL_USERNAME,\n            PROJECT_DB_MYSQL_PASSWORD\n        );\n\n        # We now setup the connexion to use UTF8\n        $GLOBALS[\"DB\"]->query(\"SET NAMES UTF8\");\n    } catch(\\Exception $e) {\n        #die(\"<h3>Ba\u00efkal was not able to establish a connexion to the configured MySQL database (as configured in Specific/config.system.php).</h3>\");\n    }\n\n    return TRUE;\n}\n\npublic static function isDBInitialized() {\n    return isset($GLOBALS[\"DB\"]) && \\Flake\\Util\\Tools::is_a($GLOBALS[\"DB\"], \"\\Flake\\Core\\Database\");\n}\n\n}\n. Sorry, it was not my intention that the copyright notice is printed so prominent. I just did a copy and paste from my text editor ... no special formatting ... but github forum software probably knows automatically whats important .... :-)\nNow the code block is fenced with .... \n. ",
    "rsrsrsrs": "i also have this probelm:\nWarning: array_map() expects parameter 1 to be a valid callback, function 'stripslashes_deep' not found or invalid function name in /home/reinhard-schneider-de/htdocs/baikal/Core/Frameworks/Flake/Framework.php on line 126\nWarning: array_map() expects parameter 1 to be a valid callback, function 'stripslashes_deep' not found or invalid function name in /home/reinhard-schneider-de/htdocs/baikal/Core/Frameworks/Flake/Framework.php on line 127\nWarning: array_map() expects parameter 1 to be a valid callback, function 'stripslashes_deep' not found or invalid function name in /home/reinhard-schneider-de/htdocs/baikal/Core/Frameworks/Flake/Framework.php on line 128\nWarning: session_start() [function.session-start]: Cannot send session cookie - headers already sent by (output started at /home/reinhard-schneider-de/htdocs/baikal/Core/Frameworks/Flake/Framework.php:126) in /home/reinhard-schneider-de/htdocs/baikal/Core/Frameworks/Flake/Framework.php on line 192\nWarning: session_start() [function.session-start]: Cannot send session cache limiter - headers already sent (output started at /home/reinhard-schneider-de/htdocs/baikal/Core/Frameworks/Flake/Framework.php:126) in /home/reinhard-schneider-de/htdocs/baikal/Core/Frameworks/Flake/Framework.php on line 192\nNotice: session_start() [function.session-start]: ps_files_cleanup_dir: opendir(/var/lib/php5) failed: Permission denied (13) in /home/reinhard-schneider-de/htdocs/baikal/Core/Frameworks/Flake/Framework.php on line 192\nWarning: Cannot modify header information - headers already sent by (output started at /home/reinhard-schneider-de/htdocs/baikal/Core/Frameworks/Flake/Framework.php:126) in /home/reinhard-schneider-de/htdocs/baikal/Core/Frameworks/Flake/Controller/Page.php on line 75\nbut i rewrite the php file\nnamespace Flake;\nfunction stripslashes_deep($value)\n{\n    $value = is_array($value) ?\n                array_map('stripslashes_deep', $value) :\n                stripslashes($value);\nreturn $value;\n}\nclass Framework extends \\Flake\\Core\\Framework {\n```\npublic static function rmBeginSlash($sString) {\n    if(substr($sString, 0, 1) === \"/\") {\n        $sString = substr($sString, 1);\n    }\nreturn $sString;\n\n}\npublic static function rmEndSlash($sString) {\n    if(substr($sString, -1) === \"/\") {\n        $sString = substr($sString, 0, -1);\n    }\nreturn $sString;\n\n}\npublic static function appendSlash($sString) {\n    if(substr($sString, -1) !== \"/\") {\n        $sString .= \"/\";\n    }\nreturn $sString;\n\n}\npublic static function prependSlash($sString) {\n    if(substr($sString, 0, 1) !== \"/\") {\n        $sString = \"/\" . $sString;\n    }\nreturn $sString;\n\n}\npublic static function rmQuery($sString) {\n    $iStart = strpos($sString, \"?\");\n    return ($iStart === FALSE) ? $sString : substr($sString, 0, $iStart);\n}\npublic static function rmScriptName($sString, $sScriptName) {\n    $sScriptBaseName = basename($sScriptName);\n    if( self::endswith($sString, $sScriptBaseName) )\n        return substr($sString, 0, -strlen($sScriptBaseName));\n    return $sString;\n}\npublic static function rmProjectContext($sString) {\n    return self::appendSlash(\n        substr($sString, 0, -1 * strlen(PROJECT_CONTEXT_BASEURI))\n    );\n}\npublic static function endsWith($sString, $sTest) {\n    $iTestLen = strlen($sTest);\n    if ($iTestLen > strlen($sString)) return false;\n    return substr_compare($sString, $sTest, -$iTestLen) === 0;\n}\npublic static function bootstrap() {\n# Asserting PHP 5.3.0+\nif(version_compare(PHP_VERSION, '5.3.0', '<')) {\n    die('Flake Fatal Error: Flake requires PHP 5.3.0+ to run properly. Your version is: ' . PHP_VERSION . '.');\n}\n\n# Define safehash salt\ndefine(\"PROJECT_SAFEHASH_SALT\", \"strong-secret-salt\");\n\n# Define absolute server path to Flake Framework\ndefine(\"FLAKE_PATH_ROOT\", PROJECT_PATH_ROOT . \"Core/Frameworks/Flake/\");    # ./\n\nif(!defined('LF')) {\n    define('LF', chr(10));\n}\n\nif(!defined('CR')) {\n    define('CR', chr(13));\n}\n\nif(array_key_exists(\"SERVER_NAME\", $_SERVER) && $_SERVER[\"SERVER_NAME\"] === \"mongoose\") {\n    define(\"MONGOOSE_SERVER\", TRUE);\n} else {\n    define(\"MONGOOSE_SERVER\", FALSE);\n}\n\n# Undo magic_quotes as this cannot be disabled by .htaccess on PHP ran as CGI\n# Source: http://stackoverflow.com/questions/517008/how-to-turn-off-magic-quotes-on-shared-hosting\nif(in_array(strtolower(ini_get('magic_quotes_gpc')), array('1', 'on'))) {\n    $_POST = array_map('stripslashes_deep', $_POST);\n    $_GET = array_map('stripslashes_deep', $_GET);\n    $_COOKIE = array_map('stripslashes_deep', $_COOKIE);\n}\n\n```\n....\nwhat did do wrong???\nthx for help\nreinhard\n. no one any idea?\nor perhaps somebody can upload a Framework.php  file ....\nplease i dont know whatz wrong ....\n. ;-)\nthx a lot.\n\"Copyright notice\", i will never forget it again.\nsorry\nregards\nreinhard\n. i also have this probelm:\nWarning: array_map() expects parameter 1 to be a valid callback, function 'stripslashes_deep' not found or invalid function name in /home/reinhard-schneider-de/htdocs/baikal/Core/Frameworks/Flake/Framework.php on line 126\nWarning: array_map() expects parameter 1 to be a valid callback, function 'stripslashes_deep' not found or invalid function name in /home/reinhard-schneider-de/htdocs/baikal/Core/Frameworks/Flake/Framework.php on line 127\nWarning: array_map() expects parameter 1 to be a valid callback, function 'stripslashes_deep' not found or invalid function name in /home/reinhard-schneider-de/htdocs/baikal/Core/Frameworks/Flake/Framework.php on line 128\nWarning: session_start() [function.session-start]: Cannot send session cookie - headers already sent by (output started at /home/reinhard-schneider-de/htdocs/baikal/Core/Frameworks/Flake/Framework.php:126) in /home/reinhard-schneider-de/htdocs/baikal/Core/Frameworks/Flake/Framework.php on line 192\nWarning: session_start() [function.session-start]: Cannot send session cache limiter - headers already sent (output started at /home/reinhard-schneider-de/htdocs/baikal/Core/Frameworks/Flake/Framework.php:126) in /home/reinhard-schneider-de/htdocs/baikal/Core/Frameworks/Flake/Framework.php on line 192\nNotice: session_start() [function.session-start]: ps_files_cleanup_dir: opendir(/var/lib/php5) failed: Permission denied (13) in /home/reinhard-schneider-de/htdocs/baikal/Core/Frameworks/Flake/Framework.php on line 192\nWarning: Cannot modify header information - headers already sent by (output started at /home/reinhard-schneider-de/htdocs/baikal/Core/Frameworks/Flake/Framework.php:126) in /home/reinhard-schneider-de/htdocs/baikal/Core/Frameworks/Flake/Controller/Page.php on line 75\nbut i rewrite the php file\nnamespace Flake;\nfunction stripslashes_deep($value)\n{\n    $value = is_array($value) ?\n                array_map('stripslashes_deep', $value) :\n                stripslashes($value);\nreturn $value;\n}\nclass Framework extends \\Flake\\Core\\Framework {\n```\npublic static function rmBeginSlash($sString) {\n    if(substr($sString, 0, 1) === \"/\") {\n        $sString = substr($sString, 1);\n    }\nreturn $sString;\n\n}\npublic static function rmEndSlash($sString) {\n    if(substr($sString, -1) === \"/\") {\n        $sString = substr($sString, 0, -1);\n    }\nreturn $sString;\n\n}\npublic static function appendSlash($sString) {\n    if(substr($sString, -1) !== \"/\") {\n        $sString .= \"/\";\n    }\nreturn $sString;\n\n}\npublic static function prependSlash($sString) {\n    if(substr($sString, 0, 1) !== \"/\") {\n        $sString = \"/\" . $sString;\n    }\nreturn $sString;\n\n}\npublic static function rmQuery($sString) {\n    $iStart = strpos($sString, \"?\");\n    return ($iStart === FALSE) ? $sString : substr($sString, 0, $iStart);\n}\npublic static function rmScriptName($sString, $sScriptName) {\n    $sScriptBaseName = basename($sScriptName);\n    if( self::endswith($sString, $sScriptBaseName) )\n        return substr($sString, 0, -strlen($sScriptBaseName));\n    return $sString;\n}\npublic static function rmProjectContext($sString) {\n    return self::appendSlash(\n        substr($sString, 0, -1 * strlen(PROJECT_CONTEXT_BASEURI))\n    );\n}\npublic static function endsWith($sString, $sTest) {\n    $iTestLen = strlen($sTest);\n    if ($iTestLen > strlen($sString)) return false;\n    return substr_compare($sString, $sTest, -$iTestLen) === 0;\n}\npublic static function bootstrap() {\n# Asserting PHP 5.3.0+\nif(version_compare(PHP_VERSION, '5.3.0', '<')) {\n    die('Flake Fatal Error: Flake requires PHP 5.3.0+ to run properly. Your version is: ' . PHP_VERSION . '.');\n}\n\n# Define safehash salt\ndefine(\"PROJECT_SAFEHASH_SALT\", \"strong-secret-salt\");\n\n# Define absolute server path to Flake Framework\ndefine(\"FLAKE_PATH_ROOT\", PROJECT_PATH_ROOT . \"Core/Frameworks/Flake/\");    # ./\n\nif(!defined('LF')) {\n    define('LF', chr(10));\n}\n\nif(!defined('CR')) {\n    define('CR', chr(13));\n}\n\nif(array_key_exists(\"SERVER_NAME\", $_SERVER) && $_SERVER[\"SERVER_NAME\"] === \"mongoose\") {\n    define(\"MONGOOSE_SERVER\", TRUE);\n} else {\n    define(\"MONGOOSE_SERVER\", FALSE);\n}\n\n# Undo magic_quotes as this cannot be disabled by .htaccess on PHP ran as CGI\n# Source: http://stackoverflow.com/questions/517008/how-to-turn-off-magic-quotes-on-shared-hosting\nif(in_array(strtolower(ini_get('magic_quotes_gpc')), array('1', 'on'))) {\n    $_POST = array_map('stripslashes_deep', $_POST);\n    $_GET = array_map('stripslashes_deep', $_GET);\n    $_COOKIE = array_map('stripslashes_deep', $_COOKIE);\n}\n\n```\n....\nwhat did do wrong???\nthx for help\nreinhard\n. no one any idea?\nor perhaps somebody can upload a Framework.php  file ....\nplease i dont know whatz wrong ....\n. ;-)\nthx a lot.\n\"Copyright notice\", i will never forget it again.\nsorry\nregards\nreinhard\n. ",
    "rclocher3": "Hello to everyone, and thanks for posting the fix.  This thread seems like it would be confusing to non-programmers, so I'll summarize the fix.\nIf you got the \"validation error admin password is required\" error and also the \"stripslashes() expects parameter 1 to be string\" warning, then you are probably installing Ba\u00efkal on a web site hosted on a shared server, and a search engine brought you here.  In other words, you have a small web site you're paying someone else to host.  In that case you have no control over php.ini, and there's a good chance you have no clue what turning off magic quotes and turning on output buffering is all about anyway.  (It's a PHP thing.  PHP is a scripting language used to generate dynamic web pages, which is what Ba\u00efkal is made of.)  Not to worry, this problem can be easily fixed; all you have to do is edit one file.\nGo to the folder on your local computer and find the folder where you unpacked the zip file.  Find Core/Frameworks/Flake/Framework.php, and copy it to Framework.php.old in the same folder as a backup.  Then edit Framework.php.  Near the top, just under the \"namespace Flake;\" line under the copyright notice, add this code:\nfunction stripslashes_deep($value)\n{\n    $value = is_array($value) ?\n                array_map('\\Flake\\stripslashes_deep', $value) :\n                stripslashes($value);\n    return $value;\n}\nThen, further down in the same file, find these three lines:\n$_POST = array_map('\\Flake\\stripslashes', $_POST);\n$_GET = array_map('\\Flake\\stripslashes', $_GET);\n$_COOKIE = array_map('\\Flake\\stripslashes', $_COOKIE);\nand change \"stripslashes\" to \"stripslashes_deep\" in all three lines.  Compare your results to the complete copy of the modified Framework.php that rthurn posted in this thread.  Don't worry about how many blank lines or tab characters there are.\nWhen you're satisfied, save Framework.php and copy the new version up to your web site.  That should fix this problem.  Good luck.\n- Rob\n. Hello to everyone, and thanks for posting the fix.  This thread seems like it would be confusing to non-programmers, so I'll summarize the fix.\nIf you got the \"validation error admin password is required\" error and also the \"stripslashes() expects parameter 1 to be string\" warning, then you are probably installing Ba\u00efkal on a web site hosted on a shared server, and a search engine brought you here.  In other words, you have a small web site you're paying someone else to host.  In that case you have no control over php.ini, and there's a good chance you have no clue what turning off magic quotes and turning on output buffering is all about anyway.  (It's a PHP thing.  PHP is a scripting language used to generate dynamic web pages, which is what Ba\u00efkal is made of.)  Not to worry, this problem can be easily fixed; all you have to do is edit one file.\nGo to the folder on your local computer and find the folder where you unpacked the zip file.  Find Core/Frameworks/Flake/Framework.php, and copy it to Framework.php.old in the same folder as a backup.  Then edit Framework.php.  Near the top, just under the \"namespace Flake;\" line under the copyright notice, add this code:\nfunction stripslashes_deep($value)\n{\n    $value = is_array($value) ?\n                array_map('\\Flake\\stripslashes_deep', $value) :\n                stripslashes($value);\n    return $value;\n}\nThen, further down in the same file, find these three lines:\n$_POST = array_map('\\Flake\\stripslashes', $_POST);\n$_GET = array_map('\\Flake\\stripslashes', $_GET);\n$_COOKIE = array_map('\\Flake\\stripslashes', $_COOKIE);\nand change \"stripslashes\" to \"stripslashes_deep\" in all three lines.  Compare your results to the complete copy of the modified Framework.php that rthurn posted in this thread.  Don't worry about how many blank lines or tab characters there are.\nWhen you're satisfied, save Framework.php and copy the new version up to your web site.  That should fix this problem.  Good luck.\n- Rob\n. ",
    "TiNNiT": "I can confirm that the solution provided by JasonSpatola worked for me, so I did not have to use de stripslashes_deep solution. \nAdd these two lines to the .htacces-file in the root of your installation, and your good to go:\nphp_flag magic_quotes_gpc   Off\nphp_flag output_buffering   On\n. I can confirm that the solution provided by JasonSpatola worked for me, so I did not have to use de stripslashes_deep solution. \nAdd these two lines to the .htacces-file in the root of your installation, and your good to go:\nphp_flag magic_quotes_gpc   Off\nphp_flag output_buffering   On\n. ",
    "hawkmyarsis": "Hi, I came across this issue too when trying to install baikal on a QNAP 112p. I transferred the files by connecting to the qnap via ftp from windows explorer. I tried both solutions suggested in this thread. \nFirst I opened the file \"apache2_htaccess.conf\" (I hope that's the one which is referred to as .htaccess-file in this thread). It contained the two lines \"php_flag magic_quotes_gpc off\" and \"php_flag output_buffering off\". I changed php_flag output_buffering off to php_flag output_buffering on, with no effect.\nThen I tried to alter the framework.php as suggested, with the effect that upon hitting \"Save Changes\" I don't get an error message anymore, but baikal still won't accept anything I entered. It just resets the screen to the standard values as before, just without the error message. \nAny hint to what my problem could be is highly appreciated.\nMy frameworks.php looks like this:\n```\n<?php\n\nCopyright notice\n\n(c) 2013 J\u00e9r\u00f4me Schneider mail@jeromeschneider.fr\nAll rights reserved\n\nhttp://flake.codr.fr\n\nThis script is part of the Flake project. The Flake\nproject is free software; you can redistribute it\nand/or modify it under the terms of the GNU General Public\nLicense as published by the Free Software Foundation; either\nversion 2 of the License, or (at your option) any later version.\n\nThe GNU General Public License can be found at\nhttp://www.gnu.org/copyleft/gpl.html.\n\nThis script is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\nGNU General Public License for more details.\n\nThis copyright notice MUST APPEAR in all copies of the script!\n\nnamespace Flake;\nfunction stripslashes_deep($value)\n{\n    $value = is_array($value) ?\n                array_map('\\Flake\\stripslashes_deep', $value) :\n                stripslashes($value);\n    return $value;\n}\nclass Framework extends \\Flake\\Core\\Framework {\npublic static function rmBeginSlash($sString) {\n    if(substr($sString, 0, 1) === \"/\") {\n        $sString = substr($sString, 1);\n    }\n\n    return $sString;\n}\n\npublic static function rmEndSlash($sString) {\n    if(substr($sString, -1) === \"/\") {\n        $sString = substr($sString, 0, -1);\n    }\n\n    return $sString;\n}\n\npublic static function appendSlash($sString) {\n    if(substr($sString, -1) !== \"/\") {\n        $sString .= \"/\";\n    }\n\n    return $sString;\n}\n\npublic static function prependSlash($sString) {\n    if(substr($sString, 0, 1) !== \"/\") {\n        $sString = \"/\" . $sString;\n    }\n\n    return $sString;\n}\n\npublic static function rmQuery($sString) {\n    $iStart = strpos($sString, \"?\");\n    return ($iStart === FALSE) ? $sString : substr($sString, 0, $iStart);\n}\n\npublic static function rmScriptName($sString, $sScriptName) {\n    $sScriptBaseName = basename($sScriptName);\n    if( self::endswith($sString, $sScriptBaseName) )\n        return substr($sString, 0, -strlen($sScriptBaseName));\n    return $sString;\n}\n\npublic static function rmProjectContext($sString) {\n    return self::appendSlash(\n        substr($sString, 0, -1 * strlen(PROJECT_CONTEXT_BASEURI))\n    );\n}\n\npublic static function endsWith($sString, $sTest) {\n    $iTestLen = strlen($sTest);\n    if ($iTestLen > strlen($sString)) return false;\n    return substr_compare($sString, $sTest, -$iTestLen) === 0;\n}\n\npublic static function bootstrap() {\n\n    # Asserting PHP 5.3.0+\n    if(version_compare(PHP_VERSION, '5.3.0', '<')) {\n        die('Flake Fatal Error: Flake requires PHP 5.3.0+ to run properly. Your version is: ' . PHP_VERSION . '.');\n    }\n\n    # Define safehash salt\n    define(\"PROJECT_SAFEHASH_SALT\", \"strong-secret-salt\");\n\n    # Define absolute server path to Flake Framework\n    define(\"FLAKE_PATH_ROOT\", PROJECT_PATH_ROOT . \"Core/Frameworks/Flake/\");    # ./\n\n    if(!defined('LF')) {\n        define('LF', chr(10));\n    }\n\n    if(!defined('CR')) {\n        define('CR', chr(13));\n    }\n\n    if(array_key_exists(\"SERVER_NAME\", $_SERVER) && $_SERVER[\"SERVER_NAME\"] === \"mongoose\") {\n        define(\"MONGOOSE_SERVER\", TRUE);\n    } else {\n        define(\"MONGOOSE_SERVER\", FALSE);\n    }\n\n    # Undo magic_quotes as this cannot be disabled by .htaccess on PHP ran as CGI\n    # Source: http://stackoverflow.com/questions/517008/how-to-turn-off-magic-quotes-on-shared-hosting\n    if(in_array(strtolower(ini_get('magic_quotes_gpc')), array('1', 'on'))) {\n        $_POST = array_map('stripslashes_deep', $_POST);\n        $_GET = array_map('stripslashes_deep', $_GET);\n        $_COOKIE = array_map('stripslashes_deep', $_COOKIE);\n    }\n\n    # Fixing some CGI environments, that prefix HTTP_AUTHORIZATION (forwarded in .htaccess) with \"REDIRECT_\"\n    if(array_key_exists(\"REDIRECT_HTTP_AUTHORIZATION\", $_SERVER)) {\n        $_SERVER[\"HTTP_AUTHORIZATION\"] = $_SERVER[\"REDIRECT_HTTP_AUTHORIZATION\"];\n    }\n\n    #################################################################################################\n\n    # determine Flake install root path\n    # not using realpath here to avoid symlinks resolution\n\n    define(\"PROJECT_PATH_CORE\", PROJECT_PATH_ROOT . \"Core/\");\n    define(\"PROJECT_PATH_CORERESOURCES\", PROJECT_PATH_CORE . \"Resources/\");\n    define(\"PROJECT_PATH_SPECIFIC\", PROJECT_PATH_ROOT . \"Specific/\");\n    define(\"PROJECT_PATH_FRAMEWORKS\", PROJECT_PATH_CORE . \"Frameworks/\");\n    define(\"PROJECT_PATH_WWWROOT\", PROJECT_PATH_CORE . \"WWWRoot/\");\n\n    require_once(PROJECT_PATH_CORE . \"Distrib.php\");\n\n    if(PROJECT_PACKAGE === \"regular\") {\n        define(\"PROJECT_PATH_DOCUMENTROOT\", PROJECT_PATH_ROOT . \"html/\");\n    } elseif(PROJECT_PACKAGE === \"flat\") {\n        define(\"PROJECT_PATH_DOCUMENTROOT\", PROJECT_PATH_ROOT);\n    } else {\n        throw new \\Exception(\"Unrecognized PROJECT_PACKAGE value.\");\n    }\n\n    # Determine PROJECT_BASEURI\n    $sScript = substr($_SERVER[\"SCRIPT_FILENAME\"], strlen($_SERVER[\"DOCUMENT_ROOT\"]));\n    $sDirName = str_replace(\"\\\\\", \"/\", dirname($sScript));  # fix windows backslashes\n\n    if($sDirName !== \".\") {\n        $sDirName = self::appendSlash($sDirName);\n    } else {\n        $sDirName = \"/\";\n    }\n\n    $sBaseUrl = self::rmBeginSlash(self::rmProjectContext($sDirName));\n    define(\"PROJECT_BASEURI\", self::prependSlash($sBaseUrl));   # SabreDAV needs a \"/\" at the beginning of BASEURL\n\n    # Determine PROJECT_URI\n    $sProtocol = \\Flake\\Util\\Tools::getCurrentProtocol();\n    $sHttpBaseUrl = strtolower($_SERVER[\"REQUEST_URI\"]);\n    $sHttpBaseUrl = self::rmQuery($sHttpBaseUrl);\n    $sHttpBaseUrl = self::rmScriptName($sHttpBaseUrl, $sScript);\n    $sHttpBaseUrl = self::rmProjectContext($sHttpBaseUrl);\n    define(\"PROJECT_URI\", $sProtocol . \"://\" . $_SERVER[\"HTTP_HOST\"] . $sHttpBaseUrl);\n    unset($sScript); unset($sDirName); unset($sBaseUrl); unset($sProtocol); unset($sHttpBaseUrl);\n\n    #################################################################################################\n\n    require_once(FLAKE_PATH_ROOT . 'Util/Twig/lib/Twig/Autoloader.php');\n    \\Twig_Autoloader::register();\n\n    # Include Flake Framework config\n    require_once(FLAKE_PATH_ROOT . \"config.php\");\n\n    # Determine Router class\n    $GLOBALS[\"ROUTER\"] = \\Flake\\Util\\Tools::router();\n\n    if(!\\Flake\\Util\\Tools::isCliPhp()) {\n        ini_set(\"html_errors\", TRUE);\n        session_start();\n    }\n\n    setlocale(LC_ALL, FLAKE_LOCALE);\n    date_default_timezone_set(FLAKE_TIMEZONE);\n\n    $GLOBALS[\"TEMPLATESTACK\"] = array();\n\n    $aUrlInfo = parse_url(PROJECT_URI);\n    define(\"FLAKE_DOMAIN\", $_SERVER[\"HTTP_HOST\"]);\n    define(\"FLAKE_URIPATH\", \\Flake\\Util\\Tools::stripBeginSlash($aUrlInfo[\"path\"]));\n    unset($aUrlInfo);\n\n\n    # Include Project config\n    # NOTE: DB initialization and App config files inclusion\n    # do not break execution if not properly executed, as\n    # these errors will have to be caught later in the process\n    # notably by the App install tool, if available; breaking right now\n    # would forbid such install tool forwarding, for instance\n\n    $sConfigPath = PROJECT_PATH_SPECIFIC . \"config.php\";\n    $sConfigSystemPath = PROJECT_PATH_SPECIFIC . \"config.system.php\";\n\n    if(file_exists($sConfigPath)) {\n        require_once($sConfigPath);\n    }\n\n    if(file_exists($sConfigSystemPath)) {\n        require_once($sConfigSystemPath);\n    }\n\n    self::initDb();\n}\n\nprotected static function initDb() {\n\n    if(defined(\"PROJECT_DB_MYSQL\") && PROJECT_DB_MYSQL === TRUE) {\n        self::initDbMysql();\n    } else {\n        self::initDbSqlite();\n    }\n}\n\nprotected static function initDbSqlite() {\n    # Asserting DB filepath is set\n    if(!defined(\"PROJECT_SQLITE_FILE\")) {\n        return FALSE;\n    }\n\n    # Asserting DB file exists\n    if(!file_exists(PROJECT_SQLITE_FILE)) {\n        die(\"<h3>DB file does not exist. To create it, please copy '<span style='font-family: monospace; background: yellow;'>Core/Resources/Db/SQLite/db.sqlite</span>' to '<span style='font-family: monospace;background: yellow;'>\" . PROJECT_SQLITE_FILE . \"</span>'</h3>\");\n    }\n\n    # Asserting DB file is readable\n    if(!is_readable(PROJECT_SQLITE_FILE)) {\n        die(\"<h3>DB file is not readable. Please give read permissions on file '<span style='font-family: monospace; background: yellow;'>\" . PROJECT_SQLITE_FILE . \"</span>'</h3>\");\n    }\n\n    # Asserting DB file is writable\n    if(!is_writable(PROJECT_SQLITE_FILE)) {\n        die(\"<h3>DB file is not writable. Please give write permissions on file '<span style='font-family: monospace; background: yellow;'>\" . PROJECT_SQLITE_FILE . \"</span>'</h3>\");\n    }\n\n    # Asserting DB directory is writable\n    if(!is_writable(dirname(PROJECT_SQLITE_FILE))) {\n        die(\"<h3>The <em>FOLDER</em> containing the DB file is not writable, and it has to.<br />Please give write permissions on folder '<span style='font-family: monospace; background: yellow;'>\" . dirname(PROJECT_SQLITE_FILE) . \"</span>'</h3>\");\n    }\n\n    if(file_exists(PROJECT_SQLITE_FILE) && is_readable(PROJECT_SQLITE_FILE) && !isset($GLOBALS[\"DB\"])) {\n        $GLOBALS[\"DB\"] = new \\Flake\\Core\\Database\\Sqlite(PROJECT_SQLITE_FILE);\n        return TRUE;\n    }\n\n    return FALSE;\n}\n\nprotected static function initDbMysql() {\n\n    if(!defined(\"PROJECT_DB_MYSQL_HOST\")) {\n        die(\"<h3>The constant PROJECT_DB_MYSQL_HOST, containing the MySQL host name, is not set.<br />You should set it in Specific/config.system.php</h3>\");\n    }\n\n    if(!defined(\"PROJECT_DB_MYSQL_DBNAME\")) {\n        die(\"<h3>The constant PROJECT_DB_MYSQL_DBNAME, containing the MySQL database name, is not set.<br />You should set it in Specific/config.system.php</h3>\");\n    }\n\n    if(!defined(\"PROJECT_DB_MYSQL_USERNAME\")) {\n        die(\"<h3>The constant PROJECT_DB_MYSQL_USERNAME, containing the MySQL database username, is not set.<br />You should set it in Specific/config.system.php</h3>\");\n    }\n\n    if(!defined(\"PROJECT_DB_MYSQL_PASSWORD\")) {\n        die(\"<h3>The constant PROJECT_DB_MYSQL_PASSWORD, containing the MySQL database password, is not set.<br />You should set it in Specific/config.system.php</h3>\");\n    }\n\n    try {\n        $GLOBALS[\"DB\"] = new \\Flake\\Core\\Database\\Mysql(\n            PROJECT_DB_MYSQL_HOST,\n            PROJECT_DB_MYSQL_DBNAME,\n            PROJECT_DB_MYSQL_USERNAME,\n            PROJECT_DB_MYSQL_PASSWORD\n        );\n\n        # We now setup the connexion to use UTF8\n        $GLOBALS[\"DB\"]->query(\"SET NAMES UTF8\");\n    } catch(\\Exception $e) {\n        #die(\"<h3>Ba\u00efkal was not able to establish a connexion to the configured MySQL database (as configured in Specific/config.system.php).</h3>\");\n    }\n\n    return TRUE;\n}\n\npublic static function isDBInitialized() {\n    return isset($GLOBALS[\"DB\"]) && \\Flake\\Util\\Tools::is_a($GLOBALS[\"DB\"], \"\\Flake\\Core\\Database\");\n}\n\n}\n```\n. noone?\n. Hi HassanMullah,\nthank you very much for your response. Sadly, I'm still not able to install baikal. I followed all your instructions, but still get the \"Validation error Admin password is required.\" message on the initialization screen when I hit save. Since I figure that this should be resolved by the .htaccess tweak I'll write a bit more about what exactly I did, since I wasn't 100% sure what needs to be done.\nI opened the file \"apache2_htaccess.conf\" which I found in folder \"\\baikal\\vendor\\sabre\\dav\\examples\\webserver\" and changed it according to your instructions. It now looks as follows:\n```\nRewriteEngine On\nThis makes every request go to server.php\nRewriteRule (.*) server.php [L]\nOutput buffering needs to be off, to prevent high memory usage\nphp_flag output_buffering on\nThis is also to prevent high memory usage\nphp_flag always_populate_raw_post_data off\nThis is almost a given, but magic quotes is still on on some\nlinux distributions\nphp_flag magic_quotes_gpc off\nSabreDAV is not compatible with mbstring function overloading\nphp_flag mbstring.func_overload off\n\nRewriteEngine On\nRewriteRule .* - [E=HTTP_AUTHORIZATION:%{HTTP:Authorization},L]\n\n\nExpiresActive Off\n\n```\nAnything else I can try?\n. Hi, I came across this issue too when trying to install baikal on a QNAP 112p. I transferred the files by connecting to the qnap via ftp from windows explorer. I tried both solutions suggested in this thread. \nFirst I opened the file \"apache2_htaccess.conf\" (I hope that's the one which is referred to as .htaccess-file in this thread). It contained the two lines \"php_flag magic_quotes_gpc off\" and \"php_flag output_buffering off\". I changed php_flag output_buffering off to php_flag output_buffering on, with no effect.\nThen I tried to alter the framework.php as suggested, with the effect that upon hitting \"Save Changes\" I don't get an error message anymore, but baikal still won't accept anything I entered. It just resets the screen to the standard values as before, just without the error message. \nAny hint to what my problem could be is highly appreciated.\nMy frameworks.php looks like this:\n```\n<?php\n\nCopyright notice\n\n(c) 2013 J\u00e9r\u00f4me Schneider mail@jeromeschneider.fr\nAll rights reserved\n\nhttp://flake.codr.fr\n\nThis script is part of the Flake project. The Flake\nproject is free software; you can redistribute it\nand/or modify it under the terms of the GNU General Public\nLicense as published by the Free Software Foundation; either\nversion 2 of the License, or (at your option) any later version.\n\nThe GNU General Public License can be found at\nhttp://www.gnu.org/copyleft/gpl.html.\n\nThis script is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\nGNU General Public License for more details.\n\nThis copyright notice MUST APPEAR in all copies of the script!\n\nnamespace Flake;\nfunction stripslashes_deep($value)\n{\n    $value = is_array($value) ?\n                array_map('\\Flake\\stripslashes_deep', $value) :\n                stripslashes($value);\n    return $value;\n}\nclass Framework extends \\Flake\\Core\\Framework {\npublic static function rmBeginSlash($sString) {\n    if(substr($sString, 0, 1) === \"/\") {\n        $sString = substr($sString, 1);\n    }\n\n    return $sString;\n}\n\npublic static function rmEndSlash($sString) {\n    if(substr($sString, -1) === \"/\") {\n        $sString = substr($sString, 0, -1);\n    }\n\n    return $sString;\n}\n\npublic static function appendSlash($sString) {\n    if(substr($sString, -1) !== \"/\") {\n        $sString .= \"/\";\n    }\n\n    return $sString;\n}\n\npublic static function prependSlash($sString) {\n    if(substr($sString, 0, 1) !== \"/\") {\n        $sString = \"/\" . $sString;\n    }\n\n    return $sString;\n}\n\npublic static function rmQuery($sString) {\n    $iStart = strpos($sString, \"?\");\n    return ($iStart === FALSE) ? $sString : substr($sString, 0, $iStart);\n}\n\npublic static function rmScriptName($sString, $sScriptName) {\n    $sScriptBaseName = basename($sScriptName);\n    if( self::endswith($sString, $sScriptBaseName) )\n        return substr($sString, 0, -strlen($sScriptBaseName));\n    return $sString;\n}\n\npublic static function rmProjectContext($sString) {\n    return self::appendSlash(\n        substr($sString, 0, -1 * strlen(PROJECT_CONTEXT_BASEURI))\n    );\n}\n\npublic static function endsWith($sString, $sTest) {\n    $iTestLen = strlen($sTest);\n    if ($iTestLen > strlen($sString)) return false;\n    return substr_compare($sString, $sTest, -$iTestLen) === 0;\n}\n\npublic static function bootstrap() {\n\n    # Asserting PHP 5.3.0+\n    if(version_compare(PHP_VERSION, '5.3.0', '<')) {\n        die('Flake Fatal Error: Flake requires PHP 5.3.0+ to run properly. Your version is: ' . PHP_VERSION . '.');\n    }\n\n    # Define safehash salt\n    define(\"PROJECT_SAFEHASH_SALT\", \"strong-secret-salt\");\n\n    # Define absolute server path to Flake Framework\n    define(\"FLAKE_PATH_ROOT\", PROJECT_PATH_ROOT . \"Core/Frameworks/Flake/\");    # ./\n\n    if(!defined('LF')) {\n        define('LF', chr(10));\n    }\n\n    if(!defined('CR')) {\n        define('CR', chr(13));\n    }\n\n    if(array_key_exists(\"SERVER_NAME\", $_SERVER) && $_SERVER[\"SERVER_NAME\"] === \"mongoose\") {\n        define(\"MONGOOSE_SERVER\", TRUE);\n    } else {\n        define(\"MONGOOSE_SERVER\", FALSE);\n    }\n\n    # Undo magic_quotes as this cannot be disabled by .htaccess on PHP ran as CGI\n    # Source: http://stackoverflow.com/questions/517008/how-to-turn-off-magic-quotes-on-shared-hosting\n    if(in_array(strtolower(ini_get('magic_quotes_gpc')), array('1', 'on'))) {\n        $_POST = array_map('stripslashes_deep', $_POST);\n        $_GET = array_map('stripslashes_deep', $_GET);\n        $_COOKIE = array_map('stripslashes_deep', $_COOKIE);\n    }\n\n    # Fixing some CGI environments, that prefix HTTP_AUTHORIZATION (forwarded in .htaccess) with \"REDIRECT_\"\n    if(array_key_exists(\"REDIRECT_HTTP_AUTHORIZATION\", $_SERVER)) {\n        $_SERVER[\"HTTP_AUTHORIZATION\"] = $_SERVER[\"REDIRECT_HTTP_AUTHORIZATION\"];\n    }\n\n    #################################################################################################\n\n    # determine Flake install root path\n    # not using realpath here to avoid symlinks resolution\n\n    define(\"PROJECT_PATH_CORE\", PROJECT_PATH_ROOT . \"Core/\");\n    define(\"PROJECT_PATH_CORERESOURCES\", PROJECT_PATH_CORE . \"Resources/\");\n    define(\"PROJECT_PATH_SPECIFIC\", PROJECT_PATH_ROOT . \"Specific/\");\n    define(\"PROJECT_PATH_FRAMEWORKS\", PROJECT_PATH_CORE . \"Frameworks/\");\n    define(\"PROJECT_PATH_WWWROOT\", PROJECT_PATH_CORE . \"WWWRoot/\");\n\n    require_once(PROJECT_PATH_CORE . \"Distrib.php\");\n\n    if(PROJECT_PACKAGE === \"regular\") {\n        define(\"PROJECT_PATH_DOCUMENTROOT\", PROJECT_PATH_ROOT . \"html/\");\n    } elseif(PROJECT_PACKAGE === \"flat\") {\n        define(\"PROJECT_PATH_DOCUMENTROOT\", PROJECT_PATH_ROOT);\n    } else {\n        throw new \\Exception(\"Unrecognized PROJECT_PACKAGE value.\");\n    }\n\n    # Determine PROJECT_BASEURI\n    $sScript = substr($_SERVER[\"SCRIPT_FILENAME\"], strlen($_SERVER[\"DOCUMENT_ROOT\"]));\n    $sDirName = str_replace(\"\\\\\", \"/\", dirname($sScript));  # fix windows backslashes\n\n    if($sDirName !== \".\") {\n        $sDirName = self::appendSlash($sDirName);\n    } else {\n        $sDirName = \"/\";\n    }\n\n    $sBaseUrl = self::rmBeginSlash(self::rmProjectContext($sDirName));\n    define(\"PROJECT_BASEURI\", self::prependSlash($sBaseUrl));   # SabreDAV needs a \"/\" at the beginning of BASEURL\n\n    # Determine PROJECT_URI\n    $sProtocol = \\Flake\\Util\\Tools::getCurrentProtocol();\n    $sHttpBaseUrl = strtolower($_SERVER[\"REQUEST_URI\"]);\n    $sHttpBaseUrl = self::rmQuery($sHttpBaseUrl);\n    $sHttpBaseUrl = self::rmScriptName($sHttpBaseUrl, $sScript);\n    $sHttpBaseUrl = self::rmProjectContext($sHttpBaseUrl);\n    define(\"PROJECT_URI\", $sProtocol . \"://\" . $_SERVER[\"HTTP_HOST\"] . $sHttpBaseUrl);\n    unset($sScript); unset($sDirName); unset($sBaseUrl); unset($sProtocol); unset($sHttpBaseUrl);\n\n    #################################################################################################\n\n    require_once(FLAKE_PATH_ROOT . 'Util/Twig/lib/Twig/Autoloader.php');\n    \\Twig_Autoloader::register();\n\n    # Include Flake Framework config\n    require_once(FLAKE_PATH_ROOT . \"config.php\");\n\n    # Determine Router class\n    $GLOBALS[\"ROUTER\"] = \\Flake\\Util\\Tools::router();\n\n    if(!\\Flake\\Util\\Tools::isCliPhp()) {\n        ini_set(\"html_errors\", TRUE);\n        session_start();\n    }\n\n    setlocale(LC_ALL, FLAKE_LOCALE);\n    date_default_timezone_set(FLAKE_TIMEZONE);\n\n    $GLOBALS[\"TEMPLATESTACK\"] = array();\n\n    $aUrlInfo = parse_url(PROJECT_URI);\n    define(\"FLAKE_DOMAIN\", $_SERVER[\"HTTP_HOST\"]);\n    define(\"FLAKE_URIPATH\", \\Flake\\Util\\Tools::stripBeginSlash($aUrlInfo[\"path\"]));\n    unset($aUrlInfo);\n\n\n    # Include Project config\n    # NOTE: DB initialization and App config files inclusion\n    # do not break execution if not properly executed, as\n    # these errors will have to be caught later in the process\n    # notably by the App install tool, if available; breaking right now\n    # would forbid such install tool forwarding, for instance\n\n    $sConfigPath = PROJECT_PATH_SPECIFIC . \"config.php\";\n    $sConfigSystemPath = PROJECT_PATH_SPECIFIC . \"config.system.php\";\n\n    if(file_exists($sConfigPath)) {\n        require_once($sConfigPath);\n    }\n\n    if(file_exists($sConfigSystemPath)) {\n        require_once($sConfigSystemPath);\n    }\n\n    self::initDb();\n}\n\nprotected static function initDb() {\n\n    if(defined(\"PROJECT_DB_MYSQL\") && PROJECT_DB_MYSQL === TRUE) {\n        self::initDbMysql();\n    } else {\n        self::initDbSqlite();\n    }\n}\n\nprotected static function initDbSqlite() {\n    # Asserting DB filepath is set\n    if(!defined(\"PROJECT_SQLITE_FILE\")) {\n        return FALSE;\n    }\n\n    # Asserting DB file exists\n    if(!file_exists(PROJECT_SQLITE_FILE)) {\n        die(\"<h3>DB file does not exist. To create it, please copy '<span style='font-family: monospace; background: yellow;'>Core/Resources/Db/SQLite/db.sqlite</span>' to '<span style='font-family: monospace;background: yellow;'>\" . PROJECT_SQLITE_FILE . \"</span>'</h3>\");\n    }\n\n    # Asserting DB file is readable\n    if(!is_readable(PROJECT_SQLITE_FILE)) {\n        die(\"<h3>DB file is not readable. Please give read permissions on file '<span style='font-family: monospace; background: yellow;'>\" . PROJECT_SQLITE_FILE . \"</span>'</h3>\");\n    }\n\n    # Asserting DB file is writable\n    if(!is_writable(PROJECT_SQLITE_FILE)) {\n        die(\"<h3>DB file is not writable. Please give write permissions on file '<span style='font-family: monospace; background: yellow;'>\" . PROJECT_SQLITE_FILE . \"</span>'</h3>\");\n    }\n\n    # Asserting DB directory is writable\n    if(!is_writable(dirname(PROJECT_SQLITE_FILE))) {\n        die(\"<h3>The <em>FOLDER</em> containing the DB file is not writable, and it has to.<br />Please give write permissions on folder '<span style='font-family: monospace; background: yellow;'>\" . dirname(PROJECT_SQLITE_FILE) . \"</span>'</h3>\");\n    }\n\n    if(file_exists(PROJECT_SQLITE_FILE) && is_readable(PROJECT_SQLITE_FILE) && !isset($GLOBALS[\"DB\"])) {\n        $GLOBALS[\"DB\"] = new \\Flake\\Core\\Database\\Sqlite(PROJECT_SQLITE_FILE);\n        return TRUE;\n    }\n\n    return FALSE;\n}\n\nprotected static function initDbMysql() {\n\n    if(!defined(\"PROJECT_DB_MYSQL_HOST\")) {\n        die(\"<h3>The constant PROJECT_DB_MYSQL_HOST, containing the MySQL host name, is not set.<br />You should set it in Specific/config.system.php</h3>\");\n    }\n\n    if(!defined(\"PROJECT_DB_MYSQL_DBNAME\")) {\n        die(\"<h3>The constant PROJECT_DB_MYSQL_DBNAME, containing the MySQL database name, is not set.<br />You should set it in Specific/config.system.php</h3>\");\n    }\n\n    if(!defined(\"PROJECT_DB_MYSQL_USERNAME\")) {\n        die(\"<h3>The constant PROJECT_DB_MYSQL_USERNAME, containing the MySQL database username, is not set.<br />You should set it in Specific/config.system.php</h3>\");\n    }\n\n    if(!defined(\"PROJECT_DB_MYSQL_PASSWORD\")) {\n        die(\"<h3>The constant PROJECT_DB_MYSQL_PASSWORD, containing the MySQL database password, is not set.<br />You should set it in Specific/config.system.php</h3>\");\n    }\n\n    try {\n        $GLOBALS[\"DB\"] = new \\Flake\\Core\\Database\\Mysql(\n            PROJECT_DB_MYSQL_HOST,\n            PROJECT_DB_MYSQL_DBNAME,\n            PROJECT_DB_MYSQL_USERNAME,\n            PROJECT_DB_MYSQL_PASSWORD\n        );\n\n        # We now setup the connexion to use UTF8\n        $GLOBALS[\"DB\"]->query(\"SET NAMES UTF8\");\n    } catch(\\Exception $e) {\n        #die(\"<h3>Ba\u00efkal was not able to establish a connexion to the configured MySQL database (as configured in Specific/config.system.php).</h3>\");\n    }\n\n    return TRUE;\n}\n\npublic static function isDBInitialized() {\n    return isset($GLOBALS[\"DB\"]) && \\Flake\\Util\\Tools::is_a($GLOBALS[\"DB\"], \"\\Flake\\Core\\Database\");\n}\n\n}\n```\n. noone?\n. Hi HassanMullah,\nthank you very much for your response. Sadly, I'm still not able to install baikal. I followed all your instructions, but still get the \"Validation error Admin password is required.\" message on the initialization screen when I hit save. Since I figure that this should be resolved by the .htaccess tweak I'll write a bit more about what exactly I did, since I wasn't 100% sure what needs to be done.\nI opened the file \"apache2_htaccess.conf\" which I found in folder \"\\baikal\\vendor\\sabre\\dav\\examples\\webserver\" and changed it according to your instructions. It now looks as follows:\n```\nRewriteEngine On\nThis makes every request go to server.php\nRewriteRule (.*) server.php [L]\nOutput buffering needs to be off, to prevent high memory usage\nphp_flag output_buffering on\nThis is also to prevent high memory usage\nphp_flag always_populate_raw_post_data off\nThis is almost a given, but magic quotes is still on on some\nlinux distributions\nphp_flag magic_quotes_gpc off\nSabreDAV is not compatible with mbstring function overloading\nphp_flag mbstring.func_overload off\n\nRewriteEngine On\nRewriteRule .* - [E=HTTP_AUTHORIZATION:%{HTTP:Authorization},L]\n\n\nExpiresActive Off\n\n```\nAnything else I can try?\n. ",
    "HassanMullah": "\nHi hawkmyarsis,\nit's cool, i have also a QNAP TS-112p and the same problem. \nNow my solution:\n1. Webserver on Port 80 and 443 (SSL) an WebDAV is active\n2. Virtual Host (over the WebAdmin from QNAP) ist active\n3. MySQL is active, also Port 3306\n4. Connect to MySQL over phpMyAdmin ist OK. Create a Databasename (create no tables)\n5. Copy the baikal-flat-0.2.7 to the virtual host directory\n6. Copy the .htaccess with following content to the root of the virtual host directory\nDisabling cache management\nthat could cause problems with DAV requests\nUseful only for Apache servers, with AllowOverride All\n(ie, .htaccess files enabled)\nAllow HTTP headers with Apache/FastCGI\nSee http://code.google.com/p/sabredav/wiki/Authentication#Apache_+_(Fast)CGI\n\n    RewriteEngine On\n    RewriteRule .* - [E=HTTP_AUTHORIZATION:%{HTTP:Authorization},L]\n\n\n    ExpiresActive Off\n\nphp_flag magic_quotes_gpc Off\nphp_flag output_buffering On\n1. now you can give your password. At next page select \"MySQL\". you get an error, but here you can set the Database credentials.\n2. Now it should run.\nHave fun a give a feedback please\n. Now i have IOS 7.1.1, but alway the same problem. Is there no other iPhone User here, which have the same problem or for example a solution :-)\n. Hi LostKobrakai,\nsorry i do not understand your solution. can you please show me exactly where your write your different things (for example with a screenshot :-)\n@jeromeschneider : Is that a problem of baikal or a bug in iOS ?\n. Yes i know that problem. In my case the URL is normaly:\nhttps://www.myfqdn.ldn/mybaikal/cal.php/calendars/name/default\nIf i save it, iOS will give mal all the \"good check\" signs (i don't know the word :-(  ), but in calendar i do not the the name of my baikal calendar. when i go back the \"Account-URL\" the URL is only\nhttps://www.myfqdn.ldn/\nI thinks it's a iOS problem.\n. your are my HERO !!!\nworks perfect!!\n. Hi torth,\nthanks for your description. I have made it so:\n1.) I delete my adressbook\n2.) I delete my Useraccount (not the admin)\n3.) I create the database with phpMyAdmin and create the user\n4.) I create the different tables\n5.) I create the ENABLE_INSTALL file with \"touch\"\nIn baikal admin interface i change to \"Use MySQL\" and cannot click the SAVE CHANGES button, but i was redirected to the URL:\nhttps://www.fqdn.tld/baikal/admin/?/settings/system/\nThere was the following text posted:\nexception 'Exception' with message 'SQL ERROR in: 'SHOW TABLES FROM '; Message: Array\n(\n    [0] => 42000\n    [1] => 1064\n    [2] => You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '' at line 1\n)\n' in /share/HDA_DATA/Web/baikal/Core/Frameworks/Flake/Core/Database.php:181\nStack trace:\n0 /share/HDA_DATA/Web/baikal/Core/Frameworks/Flake/Core/Database/Mysql.php(57): Flake\\Core\\Database->query('SHOW TABLES FRO...')\n1 /share/HDA_DATA/Web/baikal/Core/Frameworks/Baikal/Core/Tools.php(121): Flake\\Core\\Database\\Mysql->tables()\n2 /share/HDA_DATA/Web/baikal/Core/Frameworks/BaikalAdmin/Controller/Settings/System.php(108): Baikal\\Core\\Tools::isDBStructurallyComplete(Object(Flake\\Core\\Database\\Mysql))\n3 [internal function]: BaikalAdmin\\Controller\\Settings\\System->validationHook(Object(Formal\\Form), Object(Formal\\Form\\Morphology))\n4 /share/HDA_DATA/Web/baikal/Core/Frameworks/Formal/Form.php(201): call_user_func(Array, Object(Formal\\Form), Object(Formal\\Form\\Morphology))\n5 /share/HDA_DATA/Web/baikal/Core/Frameworks/BaikalAdmin/Controller/Settings/System.php(46): Formal\\Form->execute()\n6 /share/HDA_DATA/Web/baikal/Core/Frameworks/Flake/Core/Render/Container.php(62): BaikalAdmin\\Controller\\Settings\\System->execute()\n7 /share/HDA_DATA/Web/baikal/Core/Frameworks/Flake/Controller/Page.php(82): Flake\\Core\\Render\\Container->execute()\n8 /share/HDA_DATA/Web/baikal/admin/index.php(81): Flake\\Controller\\Page->render()\n9 {main}\nBecause i don't know PHP i need help here. have i used an old or to new MySQL Script for creating tables ?\nKind regards\nHassan\n. \nHi hawkmyarsis,\nit's cool, i have also a QNAP TS-112p and the same problem. \nNow my solution:\n1. Webserver on Port 80 and 443 (SSL) an WebDAV is active\n2. Virtual Host (over the WebAdmin from QNAP) ist active\n3. MySQL is active, also Port 3306\n4. Connect to MySQL over phpMyAdmin ist OK. Create a Databasename (create no tables)\n5. Copy the baikal-flat-0.2.7 to the virtual host directory\n6. Copy the .htaccess with following content to the root of the virtual host directory\nDisabling cache management\nthat could cause problems with DAV requests\nUseful only for Apache servers, with AllowOverride All\n(ie, .htaccess files enabled)\nAllow HTTP headers with Apache/FastCGI\nSee http://code.google.com/p/sabredav/wiki/Authentication#Apache_+_(Fast)CGI\n\n    RewriteEngine On\n    RewriteRule .* - [E=HTTP_AUTHORIZATION:%{HTTP:Authorization},L]\n\n\n    ExpiresActive Off\n\nphp_flag magic_quotes_gpc Off\nphp_flag output_buffering On\n1. now you can give your password. At next page select \"MySQL\". you get an error, but here you can set the Database credentials.\n2. Now it should run.\nHave fun a give a feedback please\n. Now i have IOS 7.1.1, but alway the same problem. Is there no other iPhone User here, which have the same problem or for example a solution :-)\n. Hi LostKobrakai,\nsorry i do not understand your solution. can you please show me exactly where your write your different things (for example with a screenshot :-)\n@jeromeschneider : Is that a problem of baikal or a bug in iOS ?\n. Yes i know that problem. In my case the URL is normaly:\nhttps://www.myfqdn.ldn/mybaikal/cal.php/calendars/name/default\nIf i save it, iOS will give mal all the \"good check\" signs (i don't know the word :-(  ), but in calendar i do not the the name of my baikal calendar. when i go back the \"Account-URL\" the URL is only\nhttps://www.myfqdn.ldn/\nI thinks it's a iOS problem.\n. your are my HERO !!!\nworks perfect!!\n. Hi torth,\nthanks for your description. I have made it so:\n1.) I delete my adressbook\n2.) I delete my Useraccount (not the admin)\n3.) I create the database with phpMyAdmin and create the user\n4.) I create the different tables\n5.) I create the ENABLE_INSTALL file with \"touch\"\nIn baikal admin interface i change to \"Use MySQL\" and cannot click the SAVE CHANGES button, but i was redirected to the URL:\nhttps://www.fqdn.tld/baikal/admin/?/settings/system/\nThere was the following text posted:\nexception 'Exception' with message 'SQL ERROR in: 'SHOW TABLES FROM '; Message: Array\n(\n    [0] => 42000\n    [1] => 1064\n    [2] => You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '' at line 1\n)\n' in /share/HDA_DATA/Web/baikal/Core/Frameworks/Flake/Core/Database.php:181\nStack trace:\n0 /share/HDA_DATA/Web/baikal/Core/Frameworks/Flake/Core/Database/Mysql.php(57): Flake\\Core\\Database->query('SHOW TABLES FRO...')\n1 /share/HDA_DATA/Web/baikal/Core/Frameworks/Baikal/Core/Tools.php(121): Flake\\Core\\Database\\Mysql->tables()\n2 /share/HDA_DATA/Web/baikal/Core/Frameworks/BaikalAdmin/Controller/Settings/System.php(108): Baikal\\Core\\Tools::isDBStructurallyComplete(Object(Flake\\Core\\Database\\Mysql))\n3 [internal function]: BaikalAdmin\\Controller\\Settings\\System->validationHook(Object(Formal\\Form), Object(Formal\\Form\\Morphology))\n4 /share/HDA_DATA/Web/baikal/Core/Frameworks/Formal/Form.php(201): call_user_func(Array, Object(Formal\\Form), Object(Formal\\Form\\Morphology))\n5 /share/HDA_DATA/Web/baikal/Core/Frameworks/BaikalAdmin/Controller/Settings/System.php(46): Formal\\Form->execute()\n6 /share/HDA_DATA/Web/baikal/Core/Frameworks/Flake/Core/Render/Container.php(62): BaikalAdmin\\Controller\\Settings\\System->execute()\n7 /share/HDA_DATA/Web/baikal/Core/Frameworks/Flake/Controller/Page.php(82): Flake\\Core\\Render\\Container->execute()\n8 /share/HDA_DATA/Web/baikal/admin/index.php(81): Flake\\Controller\\Page->render()\n9 {main}\nBecause i don't know PHP i need help here. have i used an old or to new MySQL Script for creating tables ?\nKind regards\nHassan\n. ",
    "MagicFab": "While doing some tests I noticed this now (?) works as expected in Evolution. Adding the remote Memo server as  http://dav.mydomain.tld/cal.php/calendars/myusername/default presents the corresponding calendar entry and then any entered memos are sync'ed there.\n. While doing some tests I noticed this now (?) works as expected in Evolution. Adding the remote Memo server as  http://dav.mydomain.tld/cal.php/calendars/myusername/default presents the corresponding calendar entry and then any entered memos are sync'ed there.\n. ",
    "larryisthere": "I've got this resolved. iOS doesn't support domain/, and must use ONLY domain.\n. I've got this resolved. iOS doesn't support domain/, and must use ONLY domain.\n. ",
    "Busch": "@jeromeschneider Yes, it is only working for users that have implemented the correct rewrite rules. @paulflorianhoberg pulls the rewrite rules for nginx four months ago - so i thought to add the rewrite rules for apache2 to simplify the setup for end user devices.\n. What do you mean by \"a list of contacts\"?\n. Show us your apache log.\n. @jeromeschneider Yes, it is only working for users that have implemented the correct rewrite rules. @paulflorianhoberg pulls the rewrite rules for nginx four months ago - so i thought to add the rewrite rules for apache2 to simplify the setup for end user devices.\n. What do you mean by \"a list of contacts\"?\n. Show us your apache log.\n. ",
    "acelaya": "array_map is not a recursive function.\nIf $_POST or $_GET have any nested array on them it will produce that fail becaus it is trying to execute stripslashes on an array.\nThe best way to go is to create a custom recursive function that makes the same as stripslashes but taking into account that the value could be an array. In that case call itself again.\nThe approach defined in issue #98 is a good starting point.\n. array_map is not a recursive function.\nIf $_POST or $_GET have any nested array on them it will produce that fail becaus it is trying to execute stripslashes on an array.\nThe best way to go is to create a custom recursive function that makes the same as stripslashes but taking into account that the value could be an array. In that case call itself again.\nThe approach defined in issue #98 is a good starting point.\n. ",
    "selfagency": "+1\n. +1\n. +1\n. +1\n. ",
    "votacom": "+1\n. +1\n. ",
    "sgalonska": "+1 \n. While baikal does not support this feature today, the underlying SabreDAV does. So if you need this today, you can manually hack it into your database. It worked well for me: https://code.google.com/p/sabredav/wiki/CalDAVProxy\n. I sorted it out myself. For anyone else who is interested: https://code.google.com/p/sabredav/wiki/CalDAVProxy\nIt works out of the box with no code modifications. You still have to manually add data to your db.\n. re-load the page before you enter the second user. there is a bug where you can only create one user and any subsequent user creation leads to editing the first user. About your password: how does this manifest? Are you being redirected to the login page each time? or is your browser asking for a password?  In case of the latter, your vhost might be set up incorrectly.\n. As far as I know, Baikal does not send any invitations at al. But since it is built on SabreDAV, adding automatic eMails is fairly easy. You can edit Core/Frameworks/Baikal/WWWRoot/cal.php and replace the following line\nphp\n$server->addPlugin(new \\Sabre\\CalDAV\\Plugin());\nby\nphp\n$caldavPlugin = new \\Sabre\\CalDAV\\Plugin();\n$caldavPlugin->setIMipHandler(new \\Sabre\\CalDAV\\Schedule\\IMip('sender@domain.com'));\n$server->addPlugin($caldavPlugin);\nThere might be less intrusive ways to do it, but it worked for me.\n. actually, if you do it as described, not CalDAV but the server itself will send the e-mail. Therefore it needs to be able to send mails. I forgot to mention, that it has to be either able to send mails from localhost and through PHP's mail() command or it needs the smtp server data to be configured propperly. For  more info, check out https://code.google.com/p/sabredav/wiki/IMipHandler\nYou apparently need to subclass the \\Sabre\\CalDAV\\Schedule\\IMip class and configure your smtp parameters there.\n. Please make sure, you installed Baikal correctly. I used the current release (https://github.com/jeromeschneider/Baikal/releases/tag/0.2.6) so I can only speak to that. Unfortunately I did not find any flat file version, so sorry if I cannot speak to that either.\nAfter downloading the code, you still have to install your vendor dependencies as described in the installation manual.\nIf your server is not capable to mail() itself because there it has no postfix installed on it, further steps will become necessary. Since my server is a mail server as well, I did not have to go any further. But I assume that subclassing the \\Sabre\\CalDAV\\Schedule\\IMip Class will do the trick. Please note, that this class is NOT in the baikal package but in the Vendor package of SabreDAV which you installed through composer.\nHope that helps!\n-Sebastian\n. Just a common hint, to maybe understand what Baikal is actually doing. The CalDAV and CardDAV server is actually handled by SabreDAV. Baikal's focus is on the administration of SabreDAV since it does not offer any of this by itself. If you choose the non-flat package the structure becomes more apparent since it forces you to install SabreDAV through composer. Please check how composer works in general to understand the manual installation process of SabreDAV. I always recommend to install composer globally, since it will most likely come in handy when working on your next PHP project. For further info on composer feel free to check https://github.com/composer/composer\n. It looks like you did everything right. Just check, if mail() really works on your machine\nphp\nphp -r \"mail('youraddress@yourdomain.com', 'Testmail', 'this is a test');\"\nshould send you an email. This is basically the same way, SabreDAV sends mails, too.\n. No, only admins can manage passwords and calendars at this time. But hey, everything is possible. It's open source ;)\n. https://github.com/jeromeschneider/Baikal/issues/120#issuecomment-34737449\n. +1 \n. While baikal does not support this feature today, the underlying SabreDAV does. So if you need this today, you can manually hack it into your database. It worked well for me: https://code.google.com/p/sabredav/wiki/CalDAVProxy\n. I sorted it out myself. For anyone else who is interested: https://code.google.com/p/sabredav/wiki/CalDAVProxy\nIt works out of the box with no code modifications. You still have to manually add data to your db.\n. re-load the page before you enter the second user. there is a bug where you can only create one user and any subsequent user creation leads to editing the first user. About your password: how does this manifest? Are you being redirected to the login page each time? or is your browser asking for a password?  In case of the latter, your vhost might be set up incorrectly.\n. As far as I know, Baikal does not send any invitations at al. But since it is built on SabreDAV, adding automatic eMails is fairly easy. You can edit Core/Frameworks/Baikal/WWWRoot/cal.php and replace the following line\nphp\n$server->addPlugin(new \\Sabre\\CalDAV\\Plugin());\nby\nphp\n$caldavPlugin = new \\Sabre\\CalDAV\\Plugin();\n$caldavPlugin->setIMipHandler(new \\Sabre\\CalDAV\\Schedule\\IMip('sender@domain.com'));\n$server->addPlugin($caldavPlugin);\nThere might be less intrusive ways to do it, but it worked for me.\n. actually, if you do it as described, not CalDAV but the server itself will send the e-mail. Therefore it needs to be able to send mails. I forgot to mention, that it has to be either able to send mails from localhost and through PHP's mail() command or it needs the smtp server data to be configured propperly. For  more info, check out https://code.google.com/p/sabredav/wiki/IMipHandler\nYou apparently need to subclass the \\Sabre\\CalDAV\\Schedule\\IMip class and configure your smtp parameters there.\n. Please make sure, you installed Baikal correctly. I used the current release (https://github.com/jeromeschneider/Baikal/releases/tag/0.2.6) so I can only speak to that. Unfortunately I did not find any flat file version, so sorry if I cannot speak to that either.\nAfter downloading the code, you still have to install your vendor dependencies as described in the installation manual.\nIf your server is not capable to mail() itself because there it has no postfix installed on it, further steps will become necessary. Since my server is a mail server as well, I did not have to go any further. But I assume that subclassing the \\Sabre\\CalDAV\\Schedule\\IMip Class will do the trick. Please note, that this class is NOT in the baikal package but in the Vendor package of SabreDAV which you installed through composer.\nHope that helps!\n-Sebastian\n. Just a common hint, to maybe understand what Baikal is actually doing. The CalDAV and CardDAV server is actually handled by SabreDAV. Baikal's focus is on the administration of SabreDAV since it does not offer any of this by itself. If you choose the non-flat package the structure becomes more apparent since it forces you to install SabreDAV through composer. Please check how composer works in general to understand the manual installation process of SabreDAV. I always recommend to install composer globally, since it will most likely come in handy when working on your next PHP project. For further info on composer feel free to check https://github.com/composer/composer\n. It looks like you did everything right. Just check, if mail() really works on your machine\nphp\nphp -r \"mail('youraddress@yourdomain.com', 'Testmail', 'this is a test');\"\nshould send you an email. This is basically the same way, SabreDAV sends mails, too.\n. No, only admins can manage passwords and calendars at this time. But hey, everything is possible. It's open source ;)\n. https://github.com/jeromeschneider/Baikal/issues/120#issuecomment-34737449\n. ",
    "thunfischbrot": "I was able to reproduce this behavior with the current regular package. New MySQL-DB, new user etc.\nCreation of tables during installation doesn't throw any error visible to the user. But once you try to create a new user it will complain because several tables are missing, beginning with the addressbook table. This is due to the fact that MySQL will by default limit field lengths to 1000 bytes (not characters): \"Specified key was too long; max key length is 1000 bytes\". Baikal uses utf-8, which uses three bytes for each character: http://bugs.mysql.com/bug.php?id=4541\nChanging utf-8 to latin1 should work, or reducing field lengths (in the file mentioned above). Neither is a great solution, but they seem to work. I am not sure how this could be handled more gracefully, otherwise I would submit a pull request.\n. Also see #48 \n. I was able to reproduce this behavior with the current regular package. New MySQL-DB, new user etc.\nCreation of tables during installation doesn't throw any error visible to the user. But once you try to create a new user it will complain because several tables are missing, beginning with the addressbook table. This is due to the fact that MySQL will by default limit field lengths to 1000 bytes (not characters): \"Specified key was too long; max key length is 1000 bytes\". Baikal uses utf-8, which uses three bytes for each character: http://bugs.mysql.com/bug.php?id=4541\nChanging utf-8 to latin1 should work, or reducing field lengths (in the file mentioned above). Neither is a great solution, but they seem to work. I am not sure how this could be handled more gracefully, otherwise I would submit a pull request.\n. Also see #48 \n. ",
    "Gigha": "Found the solution, my apache webserver (on shared host) was blocking the request.\nSolution can be found on https://groups.google.com/forum/#!topic/sabredav-discuss/v3kBf2_j5-o\n. Found the solution, my apache webserver (on shared host) was blocking the request.\nSolution can be found on https://groups.google.com/forum/#!topic/sabredav-discuss/v3kBf2_j5-o\n. ",
    "jpcaruana": "I don't know how to do that, in PHP (since I don't write PHP), but the way to go usually is to use PAM auth.\nhttp://pecl.php.net/package/PAM\nsee http://stackoverflow.com/questions/3326531/php-authenticate-local-unix-user-without-direct-access-to-etc-shadow\nalso this page seems nice: https://www.dokuwiki.org/auth:pam\n. https://www.globalsign.com/ssl/ssl-open-source/\nhttps://fr.godaddy.com/ssl/ssl-open-source.aspx\n. nice ! \n. I don't know how to do that, in PHP (since I don't write PHP), but the way to go usually is to use PAM auth.\nhttp://pecl.php.net/package/PAM\nsee http://stackoverflow.com/questions/3326531/php-authenticate-local-unix-user-without-direct-access-to-etc-shadow\nalso this page seems nice: https://www.dokuwiki.org/auth:pam\n. https://www.globalsign.com/ssl/ssl-open-source/\nhttps://fr.godaddy.com/ssl/ssl-open-source.aspx\n. nice ! \n. ",
    "NilsHansen": "Sorry, my vcard syntax was not correct!\nSolved by myself ;)\n. Sorry, my vcard syntax was not correct!\nSolved by myself ;)\n. ",
    "scraperonce": "Hello, Chris.\nI've same problem with my iphone/ios7.\nSo, did you tried this?\nhttps://github.com/jeromeschneider/Baikal/commit/ec25cbe5322cea005812c270b4d6688dc994dd63\nThis commit helps me and works great.\nFYI.\nI found this article by google explains what the .well-known directory is.\nhttps://developers.google.com/google-apps/carddav/\nRegards.\nHisataka\n. Hello, Chris.\nI've same problem with my iphone/ios7.\nSo, did you tried this?\nhttps://github.com/jeromeschneider/Baikal/commit/ec25cbe5322cea005812c270b4d6688dc994dd63\nThis commit helps me and works great.\nFYI.\nI found this article by google explains what the .well-known directory is.\nhttps://developers.google.com/google-apps/carddav/\nRegards.\nHisataka\n. ",
    "itosho": "Hello, Chris & Hisataka.\nI have same problem.\nAfter I updated iOS to iOS7(Golden Master Version), \ncarddav is \"OK\" in the settings, but no contacts are synced.\nWhen I used iOS 7, carddav worrk fine.\nI tried to Hisataka's comment, but was not able to solve this problem.\nSorry for my bad English.\nRegards.\nitosho\n. Hello, Chris & Hisataka.\nI have same problem.\nAfter I updated iOS to iOS7(Golden Master Version), \ncarddav is \"OK\" in the settings, but no contacts are synced.\nWhen I used iOS 7, carddav worrk fine.\nI tried to Hisataka's comment, but was not able to solve this problem.\nSorry for my bad English.\nRegards.\nitosho\n. ",
    "lamarios": "Thanks scraperonce, this fix works perfectly !\n. What exactly did you out on your htaccess file ?\nOn Sunday, October 27, 2013, featherweight wrote:\n\nI have baikal installed on a Synology DS211, and both CALDAV and CARDDAV\nwork on my old Iphone 3GS with IOS 5. On my Iphone 5 with IOS 7.0.3, CALDAV\nworks, but CARDDAV does not sync. Can someone please post a step-by-step\nguide to adding the rewrite rules? I added the three lines from\nscraperonce's post to the file: /baikal/.htaccess in the section , but that\ndid not work\nThanks\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/jeromeschneider/Baikal/issues/119#issuecomment-27168187\n.\n. Seems like your baikal installation is in the /baikal path. So I guess it\nhas to be the same in your .htaccess the two rlast rewriterules may have to\nstart by /baikal/.well-known and the following path too /baikal/card.php.\n\nGive it a try and let me know.\nOn Sunday, October 27, 2013, featherweight wrote:\n\nHi lamarios,\nIn the attached screen shot, I've highlighted the two lines I've added\n(the line RewriteEngine On was already there).\nRegards,\nPeter\n[image: htaccess]https://f.cloud.github.com/assets/5786465/1415593/4087958c-3f10-11e3-8822-3f5b254dcfa9.png\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/jeromeschneider/Baikal/issues/119#issuecomment-27169656\n.\n. Thanks scraperonce, this fix works perfectly !\n. What exactly did you out on your htaccess file ?\n\nOn Sunday, October 27, 2013, featherweight wrote:\n\nI have baikal installed on a Synology DS211, and both CALDAV and CARDDAV\nwork on my old Iphone 3GS with IOS 5. On my Iphone 5 with IOS 7.0.3, CALDAV\nworks, but CARDDAV does not sync. Can someone please post a step-by-step\nguide to adding the rewrite rules? I added the three lines from\nscraperonce's post to the file: /baikal/.htaccess in the section , but that\ndid not work\nThanks\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/jeromeschneider/Baikal/issues/119#issuecomment-27168187\n.\n. Seems like your baikal installation is in the /baikal path. So I guess it\nhas to be the same in your .htaccess the two rlast rewriterules may have to\nstart by /baikal/.well-known and the following path too /baikal/card.php.\n\nGive it a try and let me know.\nOn Sunday, October 27, 2013, featherweight wrote:\n\nHi lamarios,\nIn the attached screen shot, I've highlighted the two lines I've added\n(the line RewriteEngine On was already there).\nRegards,\nPeter\n[image: htaccess]https://f.cloud.github.com/assets/5786465/1415593/4087958c-3f10-11e3-8822-3f5b254dcfa9.png\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/jeromeschneider/Baikal/issues/119#issuecomment-27169656\n.\n. \n",
    "sternenseemann": "The fix doesn't work for me. CalDAV syncs fine but CardDav is \"OK\" altough nothing syncs.\n. Worked for @phasenkasper I did something similar and it worked.\n. That works. I'm using it without subdomain already.\n. simply drop the package you got in a folder. It should work after installing, Baikal searches for its url without you. You won't need to edit any apache confs.\n. Also for me\n. The fix doesn't work for me. CalDAV syncs fine but CardDav is \"OK\" altough nothing syncs.\n. Worked for @phasenkasper I did something similar and it worked.\n. That works. I'm using it without subdomain already.\n. simply drop the package you got in a folder. It should work after installing, Baikal searches for its url without you. You won't need to edit any apache confs.\n. Also for me\n. ",
    "Cybertooth79": "Hello,\ni think i have a solution for this Problem:\n1. Delete the old carddav-account in your iphone\n2. Add a new Account (Settings as usual)\n3. Go to advanced Settings and set \"Account-URL\" manually: https://dav.mydomain.com/card.php/pricipals/user/\n4. set ssl\n5. Go back to previous site. Now cancel the failure-message and save the account.\n6. Contacts will sync\nI hope this works for you too.\n. Hello,\ni think i have a solution for this Problem:\n1. Delete the old carddav-account in your iphone\n2. Add a new Account (Settings as usual)\n3. Go to advanced Settings and set \"Account-URL\" manually: https://dav.mydomain.com/card.php/pricipals/user/\n4. set ssl\n5. Go back to previous site. Now cancel the failure-message and save the account.\n6. Contacts will sync\nI hope this works for you too.\n. ",
    "featherweight-xx": "I have baikal installed on a Synology DS211, and both CALDAV and CARDDAV work on my old Iphone 3GS with IOS 5. On my Iphone 5 with IOS 7.0.3, CALDAV works, but CARDDAV does not sync. Can someone please post a step-by-step guide to adding the rewrite rules? I added the three lines from scraperonce's post to the file: /baikal/.htaccess in the section , but that did not work\nThanks\n. Hi  lamarios,\nIn the attached screen shot, I've highlighted the two lines I've added (the line RewriteEngine On was already there).\nRegards,\nPeter\n\n. Hi lamarios,\nMy new /baikal/.htaccess file is attached. I deleted the account on my Iphone, rebooted the Synology NAS, and created the account again on Iphone. Unfortunately there is still no sync.\nThanks,\nPeter\n\n. I have baikal installed on a Synology DS211, and both CALDAV and CARDDAV work on my old Iphone 3GS with IOS 5. On my Iphone 5 with IOS 7.0.3, CALDAV works, but CARDDAV does not sync. Can someone please post a step-by-step guide to adding the rewrite rules? I added the three lines from scraperonce's post to the file: /baikal/.htaccess in the section , but that did not work\nThanks\n. Hi  lamarios,\nIn the attached screen shot, I've highlighted the two lines I've added (the line RewriteEngine On was already there).\nRegards,\nPeter\n\n. Hi lamarios,\nMy new /baikal/.htaccess file is attached. I deleted the account on my Iphone, rebooted the Synology NAS, and created the account again on Iphone. Unfortunately there is still no sync.\nThanks,\nPeter\n\n. ",
    "newprog": "Ghost's solution also works with 7.0.3, I just implemented it. Someone should update Baikal's documentation with it. \n. Ghost's solution also works with 7.0.3, I just implemented it. Someone should update Baikal's documentation with it. \n. ",
    "peterpm": "I have a Synology 213+ with Baikal in /baikal. This works with Thunderbird and Android. \nI also have a problem with iphone 5 + IOS 7.03. \nI copied the lines suggested by gost into /usr/syno/apache/conf/httpd.conf-user:\nRewriteEngine On\nRewriteCond %{HTTPS} off\nRewriteRule (.*) https://%{HTTP_HOST}%{REQUEST_URI} [R=301,L]\nRewriteRule /.well-known/carddav /card.php [R,L]\nRewriteRule /.well-known/caldav /cal.php [R,L]\nand restarted apache: /usr/syno/etc/rc.d/S97apache-user.sh restart \nCreated account but could not connect from the iphone. I also changed the last two lines into:\nRewriteRule /.well-known/carddav /baikal/card.php [R,L]\nRewriteRule /.well-known/caldav /baikal/cal.php [R,L]\nBut same result. Could not connect (in SSL and non-SSL modes). \nHelp is very much appreciated. \nThanks\n. I have a Synology 213+ with Baikal in /baikal. This works with Thunderbird and Android. \nI also have a problem with iphone 5 + IOS 7.03. \nI copied the lines suggested by gost into /usr/syno/apache/conf/httpd.conf-user:\nRewriteEngine On\nRewriteCond %{HTTPS} off\nRewriteRule (.*) https://%{HTTP_HOST}%{REQUEST_URI} [R=301,L]\nRewriteRule /.well-known/carddav /card.php [R,L]\nRewriteRule /.well-known/caldav /cal.php [R,L]\nand restarted apache: /usr/syno/etc/rc.d/S97apache-user.sh restart \nCreated account but could not connect from the iphone. I also changed the last two lines into:\nRewriteRule /.well-known/carddav /baikal/card.php [R,L]\nRewriteRule /.well-known/caldav /baikal/cal.php [R,L]\nBut same result. Could not connect (in SSL and non-SSL modes). \nHelp is very much appreciated. \nThanks\n. ",
    "ErikBasalt": "Basically I have it working too on a Syno 412+, addressbook is read from CardDAV server and new contacts can be added just fine.\nHowever, when I make a contact CHANGE in Thunderbird 24.1.0 (+SOGo connector 24.0.0) the change is not accepted or propagated to the CardDAV server. It seems to work (change is there in TB), but if I remove the addressbook in TB and configure it again, I just get the old contact data from the server. Change is not propagated to iPAd either.\nOn the other hand, a change from iPad iOS7 does work.\nAnyone having the same issue?\nErik.\n. The issue mentioned above is NOT related to. Baikal, seems to be a Thunderbird/SOGo problem.\nSorry for bringing it up here\nErik\n. I tested with ownCloud (instead of Baikal), same problem. \nSo it is not due to Baikal after all, sorry guys !!\nTested with eM Client (instead of Thunderbird+SOGO Connector), this works fine on both Baikal and ownCloud.\nI didn't like Thunderbird anyway, considering to move to eM Client now.\n/Erik\n. (oops, didn't mean to close the topic yet)\n. SOGo bug tracking system:\nDate Submitted=2012-02-10 05:55, Severity=major, Reproducibility=Always.\nMajor issue, more than 1.5 year open already, I am afraid it will not be solved quickly :-/ \n/Erik\n. Once again, just to be clear:\nThe reported issue was NOT related to Baikal after all.\nSorry.\nErik.\n. This bug is already there for ages.\nMy recommendation: use plain \"eM Client\" instead of TB with all those add-ons.\n. Someone, please ...?\nI made a distribution for Synology based on 0.2.6.\nFor this new release 0.2.7 I would like to summarise the changes.\nThanks,\nErik.\n. Many thanks for the swift response !\n/Erik\n. @lolman88: Are you running Baikal on Synology, DSM 5?\nIf so, have a look at the German forum how to fix it:\nhttp://www.synology-forum.de/showthread.html?49257-Ba\u00efkal-contacts-(CardDAV)-and-calendar-(CardDAV)-installation-package-for-Synology&p=430379&viewfull=1#post430379\nThere is a PHP bug in the substr_compare function that causes this problem.\nFor more info on this PHP bug see:\nhttps://bugs.php.net/bug.php?id=67043\n/Erik\n. @Jerome:\nMany people seem to suffer from this bug in PHP function substr_compare().\nWould it be possible to include the simple workaround described below?\nThx,\nErik.\nQuote from \"Pimpa\" on German Synology forum:\nThe Core/Frameworks/Flake/Framework.php wrongfully detect the base url of the site. Although the problem is not with the Framework.php but with the php version included with dsm 5.0. There is a problem with a php function named substr_compare which is compares to strings but it always return true even if the searched string not included in the base string. This specific function used for testing the url if it's includes the actual php script's name (mostly index.php) or not to decide to cut it off or not from the request uri. So if you try to access the admin like this http://[hostname]/baikal/admin/index.php it will work until the url has the index.php ending. But if you not specify the index.php at the end it won't. \nSo to fix this (more precisely to make a workaround) you have to edit the referred php script and replace the endsWith function (line 81) to this one:\nPHP-Code:\n    public static function endsWith($sString, $sTest) { \n        $iTestLen = strlen($sTest); \n        if ($iTestLen > strlen($sString)) return false; \n        //this is the original line: return substr_compare($sString, $sTest, -$iTestLen) === 0;\n        return substr($sString, -$iTestLen) == $sTest; \n    }  \nAfter this the admin site will function normally without further modification of admin/index.php\nMy baikal version is 0.2.7 and DMS version is 5.0-4482. I tested this out on a fresh install of baikal. \n. I got this after the initialization wizard:\n\nThe FOLDER containing the DB file is not writable, and it has to.\nPlease give write permissions on folder '/volume1/web/baikal/Specific/db'\n\nWorkaround is to create an empty db folder first.\n. Windows7 + windows explorer or 7zip.\nIn 0.3.4 release, I only see Specific/ENABLE_INSTALL, no db.\n. Thanks ;-)\n. 0.3.5 fixed it indeed.\nThanks once again.\n/Erik\n. Just found this change by coincidence.\nWill it be documented?\n. Hi Evert,\nI just had to use it, because in Baikal 0.2.7 this was mandatory\nSo I added some tricks to the Synology package to touch these files \nautomatically for admin:\n- touch ENABLE_INSTALL after Baikal installation or upgrade\n- touch ENABLE_ADMIN after starting the Baikal package\nIf this is not used anymore, I will remove the code for that.\nHowever, then I don't know how to prevent uninteded access to the admin \npages (other than using a strong password).\nI could do a \"chmod 000 html/admin\", but have no user interface event in \nSynology to trigger that action.\nBest regards,\nErik\n------ Origineel bericht ------\nVan: \"Evert Pot\" notifications@github.com\nAan: \"fruux/Baikal\" Baikal@noreply.github.com\nCC: \"Erik\" erik@boskieft.nl\nVerzonden: 14-3-2016 23:09:41\nOnderwerp: Re: [Baikal] Remove ENABLE_INSTALL / ENABLE_ADMIN features \n(#469)\n\nSince you're a user of this feature, may I ask what your motivation is \nfor using it? It would help me.\n\u2014\nReply to this email directly or view it on GitHub.\n. I mean: when admin has chosen to auto lock the admin interface, he must stop/start the package to toch the file again. I cannot do the same with chmod: there is no event to go to 000 after 1 hour.\n\nMet vriendelijke groet,\nErik Bos.\n-------- Oorspronkelijk bericht --------\nVan: Evert Pot notifications@github.com \nDatum:15-03-2016  00:28  (GMT+01:00) \nAan: fruux/Baikal Baikal@noreply.github.com \nCc: Erik erik@boskieft.nl \nOnderwerp: Re: [Baikal] Remove ENABLE_INSTALL / ENABLE_ADMIN features (#469) \nHow do you determine today whether admin access is intended or unintended?\n\u2014\nReply to this email directly or view it on GitHub.\n. Is is mainly on autolock indeed, and not that important.\nActually, I think most people don't use it anyway.\nThanks for considering though.\n/Erik\n------ Origineel bericht ------\nVan: \"Evert Pot\" notifications@github.com\nAan: \"fruux/Baikal\" Baikal@noreply.github.com\nCC: \"Erik\" erik@boskieft.nl\nVerzonden: 15-3-2016 01:55:07\nOnderwerp: Re: [Baikal] Remove ENABLE_INSTALL / ENABLE_ADMIN features \n(#469)\n\nThat makes sense. I guess the biggest loss is not the \nENABLE_INSTALL/ENABLE_ADMIN stuff itself, but rather the 'autolock' \nfacility that is not easily replicated.\nFrom a personal point of view, I can live with that. I think most \nsimilar software also never has features like that. I can understand \nthat taking something away can always be a bit painful though :/\nIf your users have a big problem with it, it would be interesting to \nhear it. If there's really a lot of people relying on the feature we \ncan consider adding it back in a future version.\n\u2014\nYou are receiving this because you commented.\nReply to this email directly or view it on GitHub:\nhttps://github.com/fruux/Baikal/pull/469#issuecomment-196589456\n. I am not in favourite of moving Specific to Data, since it will complicate (automatic) updates: you have to take into account more different (error) situations. Additionally, users must change their backup scheme.\nIf there is no user benefit, I would leave it as is.\n. I am afraid you cannot make this change easier for me and the users.\nJust wish me luck then ;-)\n. This contradicts the upgrade instructions here:\nhttp://sabre.io/baikal/upgrade/\n. > Tried to browse to domain/baikal/admin\n\nDirectory structure was slightly changed, you shoud go to:\ndomain/baikal/html/admin\n. Probably this was due to a bug in PHP function substr_compare().\nSo for Baikal 0.2.7 I changed a function in \\baikal\\Core\\Frameworks\\Flake\\Framework.php like this:\n\npublic static function endsWith($sString, $sTest) {\n    $iTestLen = strlen($sTest);\n    if ($iTestLen > strlen($sString)) return false;\n        //@@@ Original line: return substr_compare($sString, $sTest, -$iTestLen) === 0;\n        //@@@ substr_compare() seems buggy when no length is specified\n        //@@@ Next line should work better:\n        return substr($sString, -$iTestLen) == $sTest;\n}\n\nMaybe a good idea to change this permanently in Baikal 0.4.x to ensure compatibility with older PHP?\n(see also #237)\n. I have had similar issues in the past with a non-standard path.\nYou could try modifying the endsWith() function, as described in #597 (and #237).\n/Erik\n. Are you trying to upgrade from 0.2.7 to 0.4.6 and you get this white page on 0.4.6 only?\nDid you ever made a fix in Core/Frameworks/Flake/Framework.php of 0.2.7 ?\nWhich DSM version are you running on your Synology?\nWhich php version ? (php -v). Have a look at this issue, maybe the solution works for you too:\nhttps://github.com/fruux/Baikal/issues/573. Basically I have it working too on a Syno 412+, addressbook is read from CardDAV server and new contacts can be added just fine.\nHowever, when I make a contact CHANGE in Thunderbird 24.1.0 (+SOGo connector 24.0.0) the change is not accepted or propagated to the CardDAV server. It seems to work (change is there in TB), but if I remove the addressbook in TB and configure it again, I just get the old contact data from the server. Change is not propagated to iPAd either.\nOn the other hand, a change from iPad iOS7 does work.\nAnyone having the same issue?\nErik.\n. The issue mentioned above is NOT related to. Baikal, seems to be a Thunderbird/SOGo problem.\nSorry for bringing it up here\nErik\n. I tested with ownCloud (instead of Baikal), same problem. \nSo it is not due to Baikal after all, sorry guys !!\nTested with eM Client (instead of Thunderbird+SOGO Connector), this works fine on both Baikal and ownCloud.\nI didn't like Thunderbird anyway, considering to move to eM Client now.\n/Erik\n. (oops, didn't mean to close the topic yet)\n. SOGo bug tracking system:\nDate Submitted=2012-02-10 05:55, Severity=major, Reproducibility=Always.\nMajor issue, more than 1.5 year open already, I am afraid it will not be solved quickly :-/ \n/Erik\n. Once again, just to be clear:\nThe reported issue was NOT related to Baikal after all.\nSorry.\nErik.\n. This bug is already there for ages.\nMy recommendation: use plain \"eM Client\" instead of TB with all those add-ons.\n. Someone, please ...?\nI made a distribution for Synology based on 0.2.6.\nFor this new release 0.2.7 I would like to summarise the changes.\nThanks,\nErik.\n. Many thanks for the swift response !\n/Erik\n. @lolman88: Are you running Baikal on Synology, DSM 5?\nIf so, have a look at the German forum how to fix it:\nhttp://www.synology-forum.de/showthread.html?49257-Ba\u00efkal-contacts-(CardDAV)-and-calendar-(CardDAV)-installation-package-for-Synology&p=430379&viewfull=1#post430379\nThere is a PHP bug in the substr_compare function that causes this problem.\nFor more info on this PHP bug see:\nhttps://bugs.php.net/bug.php?id=67043\n/Erik\n. @Jerome:\nMany people seem to suffer from this bug in PHP function substr_compare().\nWould it be possible to include the simple workaround described below?\nThx,\nErik.\nQuote from \"Pimpa\" on German Synology forum:\nThe Core/Frameworks/Flake/Framework.php wrongfully detect the base url of the site. Although the problem is not with the Framework.php but with the php version included with dsm 5.0. There is a problem with a php function named substr_compare which is compares to strings but it always return true even if the searched string not included in the base string. This specific function used for testing the url if it's includes the actual php script's name (mostly index.php) or not to decide to cut it off or not from the request uri. So if you try to access the admin like this http://[hostname]/baikal/admin/index.php it will work until the url has the index.php ending. But if you not specify the index.php at the end it won't. \nSo to fix this (more precisely to make a workaround) you have to edit the referred php script and replace the endsWith function (line 81) to this one:\nPHP-Code:\n    public static function endsWith($sString, $sTest) { \n        $iTestLen = strlen($sTest); \n        if ($iTestLen > strlen($sString)) return false; \n        //this is the original line: return substr_compare($sString, $sTest, -$iTestLen) === 0;\n        return substr($sString, -$iTestLen) == $sTest; \n    }  \nAfter this the admin site will function normally without further modification of admin/index.php\nMy baikal version is 0.2.7 and DMS version is 5.0-4482. I tested this out on a fresh install of baikal. \n. I got this after the initialization wizard:\n\nThe FOLDER containing the DB file is not writable, and it has to.\nPlease give write permissions on folder '/volume1/web/baikal/Specific/db'\n\nWorkaround is to create an empty db folder first.\n. Windows7 + windows explorer or 7zip.\nIn 0.3.4 release, I only see Specific/ENABLE_INSTALL, no db.\n. Thanks ;-)\n. 0.3.5 fixed it indeed.\nThanks once again.\n/Erik\n. Just found this change by coincidence.\nWill it be documented?\n. Hi Evert,\nI just had to use it, because in Baikal 0.2.7 this was mandatory\nSo I added some tricks to the Synology package to touch these files \nautomatically for admin:\n- touch ENABLE_INSTALL after Baikal installation or upgrade\n- touch ENABLE_ADMIN after starting the Baikal package\nIf this is not used anymore, I will remove the code for that.\nHowever, then I don't know how to prevent uninteded access to the admin \npages (other than using a strong password).\nI could do a \"chmod 000 html/admin\", but have no user interface event in \nSynology to trigger that action.\nBest regards,\nErik\n------ Origineel bericht ------\nVan: \"Evert Pot\" notifications@github.com\nAan: \"fruux/Baikal\" Baikal@noreply.github.com\nCC: \"Erik\" erik@boskieft.nl\nVerzonden: 14-3-2016 23:09:41\nOnderwerp: Re: [Baikal] Remove ENABLE_INSTALL / ENABLE_ADMIN features \n(#469)\n\nSince you're a user of this feature, may I ask what your motivation is \nfor using it? It would help me.\n\u2014\nReply to this email directly or view it on GitHub.\n. I mean: when admin has chosen to auto lock the admin interface, he must stop/start the package to toch the file again. I cannot do the same with chmod: there is no event to go to 000 after 1 hour.\n\nMet vriendelijke groet,\nErik Bos.\n-------- Oorspronkelijk bericht --------\nVan: Evert Pot notifications@github.com \nDatum:15-03-2016  00:28  (GMT+01:00) \nAan: fruux/Baikal Baikal@noreply.github.com \nCc: Erik erik@boskieft.nl \nOnderwerp: Re: [Baikal] Remove ENABLE_INSTALL / ENABLE_ADMIN features (#469) \nHow do you determine today whether admin access is intended or unintended?\n\u2014\nReply to this email directly or view it on GitHub.\n. Is is mainly on autolock indeed, and not that important.\nActually, I think most people don't use it anyway.\nThanks for considering though.\n/Erik\n------ Origineel bericht ------\nVan: \"Evert Pot\" notifications@github.com\nAan: \"fruux/Baikal\" Baikal@noreply.github.com\nCC: \"Erik\" erik@boskieft.nl\nVerzonden: 15-3-2016 01:55:07\nOnderwerp: Re: [Baikal] Remove ENABLE_INSTALL / ENABLE_ADMIN features \n(#469)\n\nThat makes sense. I guess the biggest loss is not the \nENABLE_INSTALL/ENABLE_ADMIN stuff itself, but rather the 'autolock' \nfacility that is not easily replicated.\nFrom a personal point of view, I can live with that. I think most \nsimilar software also never has features like that. I can understand \nthat taking something away can always be a bit painful though :/\nIf your users have a big problem with it, it would be interesting to \nhear it. If there's really a lot of people relying on the feature we \ncan consider adding it back in a future version.\n\u2014\nYou are receiving this because you commented.\nReply to this email directly or view it on GitHub:\nhttps://github.com/fruux/Baikal/pull/469#issuecomment-196589456\n. I am not in favourite of moving Specific to Data, since it will complicate (automatic) updates: you have to take into account more different (error) situations. Additionally, users must change their backup scheme.\nIf there is no user benefit, I would leave it as is.\n. I am afraid you cannot make this change easier for me and the users.\nJust wish me luck then ;-)\n. This contradicts the upgrade instructions here:\nhttp://sabre.io/baikal/upgrade/\n. > Tried to browse to domain/baikal/admin\n\nDirectory structure was slightly changed, you shoud go to:\ndomain/baikal/html/admin\n. Probably this was due to a bug in PHP function substr_compare().\nSo for Baikal 0.2.7 I changed a function in \\baikal\\Core\\Frameworks\\Flake\\Framework.php like this:\n\npublic static function endsWith($sString, $sTest) {\n    $iTestLen = strlen($sTest);\n    if ($iTestLen > strlen($sString)) return false;\n        //@@@ Original line: return substr_compare($sString, $sTest, -$iTestLen) === 0;\n        //@@@ substr_compare() seems buggy when no length is specified\n        //@@@ Next line should work better:\n        return substr($sString, -$iTestLen) == $sTest;\n}\n\nMaybe a good idea to change this permanently in Baikal 0.4.x to ensure compatibility with older PHP?\n(see also #237)\n. I have had similar issues in the past with a non-standard path.\nYou could try modifying the endsWith() function, as described in #597 (and #237).\n/Erik\n. Are you trying to upgrade from 0.2.7 to 0.4.6 and you get this white page on 0.4.6 only?\nDid you ever made a fix in Core/Frameworks/Flake/Framework.php of 0.2.7 ?\nWhich DSM version are you running on your Synology?\nWhich php version ? (php -v). Have a look at this issue, maybe the solution works for you too:\nhttps://github.com/fruux/Baikal/issues/573. ",
    "1cu": "+1\n. +1\n. ",
    "stephankellermayr": "+1\n. @fhemberger i am using this changes since four months and it works as expected.\n. +1\n. @fhemberger i am using this changes since four months and it works as expected.\n. ",
    "Fjury": "+1 \nPlease add sabre-share to baikal\nTHX\n. +1 \nPlease add sabre-share to baikal\nTHX\n. ",
    "ueberkim": "Please! +1\n. Please! +1\n. ",
    "hosniah": "+1\n. +1\n. ",
    "0rph3us": "+1\n. I think this is a bug in Thunderbird 31 after downgrade to Thunderbird 24 was everything fine and baikal works\n. The problems seems be Thunderbird related. Without https, everything works fine with Thunderbird 31.0 Lightning 3.3 and SOGo Conn. 24.0.6. With Thunderbird 24 Lightning 2.6.5 and SOGo Conn. 24.0.6. works all fine with https. \nthis is my nginx openssl config\n```\nssl config\nssl_session_timeout 20m;\nssl_session_cache shared:ssl_session_cache:1m;\nssl_buffer_size 8k;\nssl_stapling on;\nssl_stapling_verify on;\nssl_trusted_certificate  /etc/certs/rennecke_star_cert.crt;\nssl_certificate     /etc/certs/rennecke_star_cert.crt;\nssl_certificate_key /etc/certs/rennecke_star_cert.key;\nssl_prefer_server_ciphers on;\nssl_protocols TLSv1 TLSv1.1 TLSv1.2; # not possible to do exclusive, TLSv1 is needed for my Thhunderbird\nssl_ciphers 'EECDH+AESGCM EDH+AESGCM aRSA+HIGH !TLSv1.0 !3DES +kEDH +kRSA !kSRP !kPSK !ECDHE-RSA-AES128-SHA !AES128 !CAMELLIA128';\nssl_dhparam    /etc/certs/dh4096.pem;\nssl_ecdh_curve secp384r1;\nadd_header Strict-Transport-Security \"max-age=31536000; includeSubdomains;\";\n```\n. After the last minor update of Thunderbird to 31.1.1 works everything fine. The error was my specific Thunderbird version. \n. +1\n. I think this is a bug in Thunderbird 31 after downgrade to Thunderbird 24 was everything fine and baikal works\n. The problems seems be Thunderbird related. Without https, everything works fine with Thunderbird 31.0 Lightning 3.3 and SOGo Conn. 24.0.6. With Thunderbird 24 Lightning 2.6.5 and SOGo Conn. 24.0.6. works all fine with https. \nthis is my nginx openssl config\n```\nssl config\nssl_session_timeout 20m;\nssl_session_cache shared:ssl_session_cache:1m;\nssl_buffer_size 8k;\nssl_stapling on;\nssl_stapling_verify on;\nssl_trusted_certificate  /etc/certs/rennecke_star_cert.crt;\nssl_certificate     /etc/certs/rennecke_star_cert.crt;\nssl_certificate_key /etc/certs/rennecke_star_cert.key;\nssl_prefer_server_ciphers on;\nssl_protocols TLSv1 TLSv1.1 TLSv1.2; # not possible to do exclusive, TLSv1 is needed for my Thhunderbird\nssl_ciphers 'EECDH+AESGCM EDH+AESGCM aRSA+HIGH !TLSv1.0 !3DES +kEDH +kRSA !kSRP !kPSK !ECDHE-RSA-AES128-SHA !AES128 !CAMELLIA128';\nssl_dhparam    /etc/certs/dh4096.pem;\nssl_ecdh_curve secp384r1;\nadd_header Strict-Transport-Security \"max-age=31536000; includeSubdomains;\";\n```\n. After the last minor update of Thunderbird to 31.1.1 works everything fine. The error was my specific Thunderbird version. \n. ",
    "fao": "oh yes, please :) +1\n. oh yes, please :) +1\n. ",
    "brokenwings0404": "I believe Baikal ha a built in feature that allow read and write delegation to other user of the system by using proxy write and read entry on the principal table. All it take is a Interface to set it. CalDAV seems possible. \n. I believe Baikal ha a built in feature that allow read and write delegation to other user of the system by using proxy write and read entry on the principal table. All it take is a Interface to set it. CalDAV seems possible. \n. ",
    "343max": "+1\n. +1\n. ",
    "mxz-redhot": "@Tulpenzwiebel :+1:\n. Hi,\nTest please\nhttps://dav.mydomain.com/card.php/addressbooks/username/default/ \nor \nhttp://dav.mydomain.com/card.php/addressbooks/username/default/\nLo\u00efc\n. Hi, please look:\n\nAdd a new CardDAV account:\nin Settings > Accounts > Add Account > Advanced\nSelect \"CardDAV\"\nUsername: the username you just created\nPassword: the password you just defined\nEmail Address: an email address you want this CardDAV account to be assigned to\nServer Address: dav.mydomain.com/card.php/addressbooks/username/default and replace domain and username with the correct values\nImportant notes:\nMake sure you've configured Baikal to use basic as authentication mechanism.\nIts required to use SSL for CardDAV!\n\nYou need to use an SSL connection, are you using it?\n. I have add an CardDAV account on Android (CardDAV Sync), Mac (Address Book), and iOS 7 (Address Book), and I have no problem.\nMy CardDAV server is a complement of an Asterisk (VoIP) server, and I use it since past week\nI don't have a BB, so I can't test with this device\nLo\u00efc\n. Sorry, but I don't know, I don't have a solution to solve your problem\nLo\u00efc\n. Hi,\nI don't use it, but I want to use the readonly access.\nI read a SabreDAV forum, and one guy made it\n. Hi,\nYou need to add an VX-ABUID line, like this:\nX-ABUID:EB09ACBF-1D73-4FF8-A81D-4386435C9642:ABPerson\nX-ABUID is a UUID key.\nExample of Vcard file:\nBEGIN:VCARD\nVERSION:3.0\nPRODID:-//Apple Inc.//Address Book 6.1.3//EN\nN:NOM DE FAMILLE;Pr\u00e9nom;;;\nFN:Pr\u00e9nom NOM DE FAMILLE\nORG:Reymann Communication;Service TECH\nitem1.EMAIL;type=INTERNET;type=pref:reymann@reymann.com\nitem1.X-ABLabel:Mail\nitem2.TEL;type=pref:1234\nitem2.X-ABLabel:Interne\nitem3.TEL:0369226764\nitem3.X-ABLabel:Externe\nNOTE:REMARQUE\nX-ABUID:EB09ACBF-1D73-4FF8-A81D-4386435C9642:ABPerson\nEND:VCARD\n. @Tulpenzwiebel :+1:\n. Hi,\nTest please\nhttps://dav.mydomain.com/card.php/addressbooks/username/default/ \nor \nhttp://dav.mydomain.com/card.php/addressbooks/username/default/\nLo\u00efc\n. Hi, please look:\n\nAdd a new CardDAV account:\nin Settings > Accounts > Add Account > Advanced\nSelect \"CardDAV\"\nUsername: the username you just created\nPassword: the password you just defined\nEmail Address: an email address you want this CardDAV account to be assigned to\nServer Address: dav.mydomain.com/card.php/addressbooks/username/default and replace domain and username with the correct values\nImportant notes:\nMake sure you've configured Baikal to use basic as authentication mechanism.\nIts required to use SSL for CardDAV!\n\nYou need to use an SSL connection, are you using it?\n. I have add an CardDAV account on Android (CardDAV Sync), Mac (Address Book), and iOS 7 (Address Book), and I have no problem.\nMy CardDAV server is a complement of an Asterisk (VoIP) server, and I use it since past week\nI don't have a BB, so I can't test with this device\nLo\u00efc\n. Sorry, but I don't know, I don't have a solution to solve your problem\nLo\u00efc\n. Hi,\nI don't use it, but I want to use the readonly access.\nI read a SabreDAV forum, and one guy made it\n. Hi,\nYou need to add an VX-ABUID line, like this:\nX-ABUID:EB09ACBF-1D73-4FF8-A81D-4386435C9642:ABPerson\nX-ABUID is a UUID key.\nExample of Vcard file:\nBEGIN:VCARD\nVERSION:3.0\nPRODID:-//Apple Inc.//Address Book 6.1.3//EN\nN:NOM DE FAMILLE;Pr\u00e9nom;;;\nFN:Pr\u00e9nom NOM DE FAMILLE\nORG:Reymann Communication;Service TECH\nitem1.EMAIL;type=INTERNET;type=pref:reymann@reymann.com\nitem1.X-ABLabel:Mail\nitem2.TEL;type=pref:1234\nitem2.X-ABLabel:Interne\nitem3.TEL:0369226764\nitem3.X-ABLabel:Externe\nNOTE:REMARQUE\nX-ABUID:EB09ACBF-1D73-4FF8-A81D-4386435C9642:ABPerson\nEND:VCARD\n. ",
    "DerZyklop": "+1 (set up shared calendars via interface)\n. This is a dublicate issue. Here is the first one i found: #51 \n. guess not. Last commit was on \"Feb 18\". @netgusto never replied here. \nMaybe it's time for an more active fork of this.\n. +1 (set up shared calendars via interface)\n. This is a dublicate issue. Here is the first one i found: #51 \n. guess not. Last commit was on \"Feb 18\". @netgusto never replied here. \nMaybe it's time for an more active fork of this.\n. ",
    "Yamakasi": "I also wonder how this works, I need to set the default calendar to readonly for each user... is this possible ?\n. Hi,\nThanks!\nYes true, I'm still on apache, but I wonder... I'm not able to remove the .php or the whole cal.php or card.php.\nDoes this something have todo with the router or ? I have tested a lot with the htaccess... no clue... so help/example is welcome!\n. Thanks !\nBut is it also possible to make it like:\nhttp://card.domain.tld/username \nwhich points to private directly ?\nIn that case it would be nice to still be able to use \nhttp://card.domain.tld/username/privateextra2 or http://card.domain.tld/addressbooks/Shuro/privatextra2\nI'm not 100% on rewrites but with some apache guru's we couldn't get it solved in the first case :)\n. Hi,\nIndeed I need to dive into it again...  it's nice to know it.\nWith your example I really understand it again :) thanks!\n. Is this really such a difficult thing or does no-one actually uses it ?\n. I also wonder how this works, I need to set the default calendar to readonly for each user... is this possible ?\n. Hi,\nThanks!\nYes true, I'm still on apache, but I wonder... I'm not able to remove the .php or the whole cal.php or card.php.\nDoes this something have todo with the router or ? I have tested a lot with the htaccess... no clue... so help/example is welcome!\n. Thanks !\nBut is it also possible to make it like:\nhttp://card.domain.tld/username \nwhich points to private directly ?\nIn that case it would be nice to still be able to use \nhttp://card.domain.tld/username/privateextra2 or http://card.domain.tld/addressbooks/Shuro/privatextra2\nI'm not 100% on rewrites but with some apache guru's we couldn't get it solved in the first case :)\n. Hi,\nIndeed I need to dive into it again...  it's nice to know it.\nWith your example I really understand it again :) thanks!\n. Is this really such a difficult thing or does no-one actually uses it ?\n. ",
    "stefs": "+1\n. +1\n. ",
    "hardoverflow": "+1\n. +1\n. ",
    "api984": "Sharing can be done on the DB level. I was playing a little with changing PDO.php and added a modified SQL query and also added a COLUMN to Calendars and Addressbooks. Also added a hidden principal for sharing with IMAP authentication. So when users logges in 1st time sql inserts/replace are made into calendars, addressbooks, principals, memebergroups (principal with id that is shared to all users). To tight up security i blocked principal in URI so its not available directly.\nI had to remove principal uri DEFAULT because it cant be shared since all users have default. So \ni used URI like pim_username for default URI. Iphone, android see these with autodiscovery. so you would get something like https://baikal/card.php/addressbooks/USER/pim_user or if shared https://baikal/card.php/addressbooks/USER/pim_other only if user exists in shared_to column. if shared to has a value all then its something like GLOBAL to all addressbook. now the trick is that global data has to be read only. to make it read only i used URI like https://baikal/card.php/addressbooks/USER/pim_global_somename and inside of config.system.php a IF statment that points to a different MYSQL db user that only has SELECT priviledge. Also added password filtering if\nusers have blank/default company passwords if the service is internet public. For now everything behaves as expected and it works just with tweaking PHP code and not using DAV advanced because I dont know DAV core functionality. For my use its ok. Also had to write little nginx/apache rewrite rules to shorted URL typing so I dont loose time adding things on android. Still waiting for BB OS10 blackberry to test and a windows phone too if lucky. Just seem to fall in love with Baikal and how great it works when used with a MYSQL db. thats for now.... \ni was also thinking about using a LDAP auth instead of IMAP, and disabling calendar and addressbooks delete functions with logging when sometihng is shared so i would know who deleted someting. but that visible in access logs... good enough for me.... \nkeep up the good work....\n. chown files inside to user that is applied to nginx like chown -R nginx:nginx Specific or apache:apache\n. you will need to google it. since baikal stores events in VCARD format... you need to translate / insert into DB using that format with correct calendard_id in calendardata table.... etc.... you can always make it yourself... you can try to reduce field numbers in VCARD format... just use those that are mandatory... maybe it might work... i was thinking about the same thing just different purpuse.... \n. Authentication break? 403 errors.... \n. added modifications myself... sorry.\n. only if you do little db hacks... you can do that... \n. i am looking for my post from yesterday..... i replied somewhere in here what i did to make it work.... \n. found it: \nhttps://github.com/netgusto/Baikal/issues/120\n. add a field shared_to in calendars and addressbooks: TEXT field\n-comma separate users\nadd a static principal to principals principals/SHAREDTO\n.::::::PDO.PHP / carddav and caldav: //backend\npublic function getAddressBooksForUser($principalUri) {\n```\n   $stmt = $this->pdo->prepare('SELECT id, uri, displayname, principaluri, description, ctag FROM '.$this->addressBooksTableName.' WHERE principaluri = ? OR shared_to LIKE CONCAT(\"%\", SUBSTRING_INDEX(? ,\"/\",-1), \"%\") OR shared_to LIKE \"%all%\"');\n   //print_r($stmt);\n$stmt->execute(array($principalUri,$principalUri));\n\n```\n::::::: AUTH fix:\n-you need to add users to groupmembers / you add a static principal ID / generally you join them\nto this static group\n$stmt = $this->pdo->prepare('SELECT id FROM principals WHERE uri = ?');\n                                $stmt->execute(array('principals/'.$username));\n                                $result_getid = $stmt->fetchAll();\n$stmt = $this->pdo->prepare('REPLACE INTO groupmembers (principal_id,member_id) VALUES( ? , ? )');\n                            $stmt->execute(array(1,$result_getid['0']['id'])); \n                              -1 is principal id from principals table where you have static principal id\nwith name principals/SHAREDTO like i said before.... \n-these sql query MUST execute ONCE on first LOGIN\n::::config.system.php\nadded some tweaks.... \nif(strpos($_SERVER['REQUEST_URI'],'SHAREDTO') === false){\n    //ReadOnly 4 GAL\n    if (strpos($_SERVER['REQUEST_URI'],'anotherstaticgroup') !== false OR strpos($_SERVER['REQUEST_URI'],'anotherstaticgroup') !== false) {\n        define(\"PROJECT_DB_MYSQL_USERNAME\", 'caldav_gal'); //read only mysql user\n        // 'GAL Access' / mysqluser with select priviledge\n    }else{\n# MySQL > Username\n    define(\"PROJECT_DB_MYSQL_USERNAME\", 'caldav');\n}\n}else{\n        //disable direct link for static group SHAREDTO\n       //users access this group when added to shared_to column\n      //they have RW access default\n    header(\"Location: http://\".$_SERVER['HTTP_HOST']);\n}\n///tweak 2\n$subject = $SERVER['REMOTE_ADDR'];\n//safe subnets\n$pattern = '/^(192.168.0.|192.168.50.|192.168.17.|192.168.16._|192.168.15.*)/';\n//if users have a default password in an office // this will not allow access if user is from the internet\n//auth must be modifed a little for this feature\ndefine('DEFAULT_IMAP_PASSWORD','12345');\nif(preg_match($pattern, $subject)){\n//echo 'using internal server';\n   //will allow to login\ndefine(\"IMAP_SERVER\",\"{internal.mail.local:143/imap/novalidate-cert}\");\ndefine('ACL_DIP','allow');\n} else {\n//echo 'using dovecot proxy';\n   //will deny unsafe default passwords\ndefine(\"IMAP_SERVER\",\"{public.mail.local:143/imap/novalidate-cert}\");\ndefine('ACL_DIP','deny');\n}\nthese are just some little tweaks.... \n. the most important THING is that I dont use URI with value DEFAULT in lowercase... because you cant share calendars this way.... you must use something like cd_username instead of default... use a mysql\ngui tool to fix values in db.... \n. was thinking about it... should I fork it? i will need to get a feedback from the creators of Baikal about that... because this is just a quick fix how i made it work... still needs some code cleaning maybe... \nok. i will try to put it on github with the version that i worked with.... however its not that simple to put together :D \n. Hi. I sent an email to netgusto about my mods that i made. They must decide if thats ok. Since they are the creators.\n. if u want i can pack my version with predefined data inside so you can test it on another machine?\nas long as u use imap as auth source. \n. hi i added repo to : https://github.com/api984/baikal-mod\n. hi, \nthanks. the only problem that might occour on this method is the SQL query that has LIKE function. This function might take higher server LOAD if sharedto column if wastly populated for example. but it should not be that bad.... since we are doing this on db level not using DAV for sharing. \nthanks. if you find anything useful from my awful code :D please use it or make it better than me... \ni only modded a FEW files... \ni am also thinking how to make a read only sharing since i filtered URI for static users with readonly and normal sharing to read/write. i would need to think of an idea how to make some caldav/cards available read only but modifiable to the owner only.\n. can you post anything from error logs or access logs... did you check if everything is ok in the background.... PS. You need Lightning also installed for Sogo to work with thunderbird... it does not work standalone... for iphone you need redirection /.well-known/carddav and caldav.... \n. Hi authentification fails. Do you really use DIGEST or Basic\nAuthentification is enough? \nOn 2014-10-31 08:40, herrdeh wrote: \n\nHi\neverybody, \nI successfully installed and set up baikal-flat 0.27 on\na \"one.com\" server. It lives under /baikal. I could set up calendars\nwith Kontact /korganizer) and Android. Sync works nicely. \nThen,\ninto that directory I put a .htaccess file to force a rewrite to https /\nssl. It looks like this: \nRewriteEngine On\nRewriteCond %{HTTPS}\n!=on\nRewriteCond %{ENV:HTTPS} !=on\nRewriteRule .*\nhttps://%{SERVER_NAME}%{REQUEST_URI} [R=301,L] \nA browser request\nto /baikal or /baikal/admin is now answered as https - nice. \nBut:\nWhen I set up my address books or calendars at Kontact or\nAndroid, I get various error. I did the troubleshooting request \ncurl -so - --digest --user : http:///baikal/cal.php/calendars//default\nand got this error message: \nSabreDAVExceptionNotAuthenticated/s:exception\nNo digest authentication\nheaders were found/s:message\n1.8.7/s:sabredav-version\n/d:error \nWhat can I do? \nCheers,\nWolf \n\nReply to this email\ndirectly or view it on GitHub [1].\n\n\nAndrej Pintar\nemail :\napi984@gmail.com\n andrej@skrad.com\n api984@api984.net\nweb:\nhttp://www.api984.net\ncontact cell: 00385 98 790 639\nhome server:\nhttp://anetlocal.poweredbyclear.com\nICQ: 191748772\nSkype:\napi9841\nTwitter: api984\nMSN: fatallord@hotmail.com\nIRC: api984,\nfreenode.net\n::Software is like sex: it's better when it's free::\nLinks:\n[1] https://github.com/netgusto/Baikal/issues/293\n. It should work. Since you are using flat package. It should work. Clear browser cache when u test. \nBecause browser will cache your login. As long its basic auth. Dont change auth realm for now. \nTry a GET url on your calendar or addressbook after that. Browser should popup a login box.\n. nop if you are using a shared hosting package somewhere you cant change any apache conf ofcourse!\nyou can try to put allowoverride all in htaccess should work also for that matter.... \n. Sharing can be done on the DB level. I was playing a little with changing PDO.php and added a modified SQL query and also added a COLUMN to Calendars and Addressbooks. Also added a hidden principal for sharing with IMAP authentication. So when users logges in 1st time sql inserts/replace are made into calendars, addressbooks, principals, memebergroups (principal with id that is shared to all users). To tight up security i blocked principal in URI so its not available directly.\nI had to remove principal uri DEFAULT because it cant be shared since all users have default. So \ni used URI like pim_username for default URI. Iphone, android see these with autodiscovery. so you would get something like https://baikal/card.php/addressbooks/USER/pim_user or if shared https://baikal/card.php/addressbooks/USER/pim_other only if user exists in shared_to column. if shared to has a value all then its something like GLOBAL to all addressbook. now the trick is that global data has to be read only. to make it read only i used URI like https://baikal/card.php/addressbooks/USER/pim_global_somename and inside of config.system.php a IF statment that points to a different MYSQL db user that only has SELECT priviledge. Also added password filtering if\nusers have blank/default company passwords if the service is internet public. For now everything behaves as expected and it works just with tweaking PHP code and not using DAV advanced because I dont know DAV core functionality. For my use its ok. Also had to write little nginx/apache rewrite rules to shorted URL typing so I dont loose time adding things on android. Still waiting for BB OS10 blackberry to test and a windows phone too if lucky. Just seem to fall in love with Baikal and how great it works when used with a MYSQL db. thats for now.... \ni was also thinking about using a LDAP auth instead of IMAP, and disabling calendar and addressbooks delete functions with logging when sometihng is shared so i would know who deleted someting. but that visible in access logs... good enough for me.... \nkeep up the good work....\n. chown files inside to user that is applied to nginx like chown -R nginx:nginx Specific or apache:apache\n. you will need to google it. since baikal stores events in VCARD format... you need to translate / insert into DB using that format with correct calendard_id in calendardata table.... etc.... you can always make it yourself... you can try to reduce field numbers in VCARD format... just use those that are mandatory... maybe it might work... i was thinking about the same thing just different purpuse.... \n. Authentication break? 403 errors.... \n. added modifications myself... sorry.\n. only if you do little db hacks... you can do that... \n. i am looking for my post from yesterday..... i replied somewhere in here what i did to make it work.... \n. found it: \nhttps://github.com/netgusto/Baikal/issues/120\n. add a field shared_to in calendars and addressbooks: TEXT field\n-comma separate users\nadd a static principal to principals principals/SHAREDTO\n.::::::PDO.PHP / carddav and caldav: //backend\npublic function getAddressBooksForUser($principalUri) {\n```\n   $stmt = $this->pdo->prepare('SELECT id, uri, displayname, principaluri, description, ctag FROM '.$this->addressBooksTableName.' WHERE principaluri = ? OR shared_to LIKE CONCAT(\"%\", SUBSTRING_INDEX(? ,\"/\",-1), \"%\") OR shared_to LIKE \"%all%\"');\n   //print_r($stmt);\n$stmt->execute(array($principalUri,$principalUri));\n\n```\n::::::: AUTH fix:\n-you need to add users to groupmembers / you add a static principal ID / generally you join them\nto this static group\n$stmt = $this->pdo->prepare('SELECT id FROM principals WHERE uri = ?');\n                                $stmt->execute(array('principals/'.$username));\n                                $result_getid = $stmt->fetchAll();\n$stmt = $this->pdo->prepare('REPLACE INTO groupmembers (principal_id,member_id) VALUES( ? , ? )');\n                            $stmt->execute(array(1,$result_getid['0']['id'])); \n                              -1 is principal id from principals table where you have static principal id\nwith name principals/SHAREDTO like i said before.... \n-these sql query MUST execute ONCE on first LOGIN\n::::config.system.php\nadded some tweaks.... \nif(strpos($_SERVER['REQUEST_URI'],'SHAREDTO') === false){\n    //ReadOnly 4 GAL\n    if (strpos($_SERVER['REQUEST_URI'],'anotherstaticgroup') !== false OR strpos($_SERVER['REQUEST_URI'],'anotherstaticgroup') !== false) {\n        define(\"PROJECT_DB_MYSQL_USERNAME\", 'caldav_gal'); //read only mysql user\n        // 'GAL Access' / mysqluser with select priviledge\n    }else{\n# MySQL > Username\n    define(\"PROJECT_DB_MYSQL_USERNAME\", 'caldav');\n}\n}else{\n        //disable direct link for static group SHAREDTO\n       //users access this group when added to shared_to column\n      //they have RW access default\n    header(\"Location: http://\".$_SERVER['HTTP_HOST']);\n}\n///tweak 2\n$subject = $SERVER['REMOTE_ADDR'];\n//safe subnets\n$pattern = '/^(192.168.0.|192.168.50.|192.168.17.|192.168.16._|192.168.15.*)/';\n//if users have a default password in an office // this will not allow access if user is from the internet\n//auth must be modifed a little for this feature\ndefine('DEFAULT_IMAP_PASSWORD','12345');\nif(preg_match($pattern, $subject)){\n//echo 'using internal server';\n   //will allow to login\ndefine(\"IMAP_SERVER\",\"{internal.mail.local:143/imap/novalidate-cert}\");\ndefine('ACL_DIP','allow');\n} else {\n//echo 'using dovecot proxy';\n   //will deny unsafe default passwords\ndefine(\"IMAP_SERVER\",\"{public.mail.local:143/imap/novalidate-cert}\");\ndefine('ACL_DIP','deny');\n}\nthese are just some little tweaks.... \n. the most important THING is that I dont use URI with value DEFAULT in lowercase... because you cant share calendars this way.... you must use something like cd_username instead of default... use a mysql\ngui tool to fix values in db.... \n. was thinking about it... should I fork it? i will need to get a feedback from the creators of Baikal about that... because this is just a quick fix how i made it work... still needs some code cleaning maybe... \nok. i will try to put it on github with the version that i worked with.... however its not that simple to put together :D \n. Hi. I sent an email to netgusto about my mods that i made. They must decide if thats ok. Since they are the creators.\n. if u want i can pack my version with predefined data inside so you can test it on another machine?\nas long as u use imap as auth source. \n. hi i added repo to : https://github.com/api984/baikal-mod\n. hi, \nthanks. the only problem that might occour on this method is the SQL query that has LIKE function. This function might take higher server LOAD if sharedto column if wastly populated for example. but it should not be that bad.... since we are doing this on db level not using DAV for sharing. \nthanks. if you find anything useful from my awful code :D please use it or make it better than me... \ni only modded a FEW files... \ni am also thinking how to make a read only sharing since i filtered URI for static users with readonly and normal sharing to read/write. i would need to think of an idea how to make some caldav/cards available read only but modifiable to the owner only.\n. can you post anything from error logs or access logs... did you check if everything is ok in the background.... PS. You need Lightning also installed for Sogo to work with thunderbird... it does not work standalone... for iphone you need redirection /.well-known/carddav and caldav.... \n. Hi authentification fails. Do you really use DIGEST or Basic\nAuthentification is enough? \nOn 2014-10-31 08:40, herrdeh wrote: \n\nHi\neverybody, \nI successfully installed and set up baikal-flat 0.27 on\na \"one.com\" server. It lives under /baikal. I could set up calendars\nwith Kontact /korganizer) and Android. Sync works nicely. \nThen,\ninto that directory I put a .htaccess file to force a rewrite to https /\nssl. It looks like this: \nRewriteEngine On\nRewriteCond %{HTTPS}\n!=on\nRewriteCond %{ENV:HTTPS} !=on\nRewriteRule .*\nhttps://%{SERVER_NAME}%{REQUEST_URI} [R=301,L] \nA browser request\nto /baikal or /baikal/admin is now answered as https - nice. \nBut:\nWhen I set up my address books or calendars at Kontact or\nAndroid, I get various error. I did the troubleshooting request \ncurl -so - --digest --user : http:///baikal/cal.php/calendars//default\nand got this error message: \nSabreDAVExceptionNotAuthenticated/s:exception\nNo digest authentication\nheaders were found/s:message\n1.8.7/s:sabredav-version\n/d:error \nWhat can I do? \nCheers,\nWolf \n\nReply to this email\ndirectly or view it on GitHub [1].\n\n\nAndrej Pintar\nemail :\napi984@gmail.com\n andrej@skrad.com\n api984@api984.net\nweb:\nhttp://www.api984.net\ncontact cell: 00385 98 790 639\nhome server:\nhttp://anetlocal.poweredbyclear.com\nICQ: 191748772\nSkype:\napi9841\nTwitter: api984\nMSN: fatallord@hotmail.com\nIRC: api984,\nfreenode.net\n::Software is like sex: it's better when it's free::\nLinks:\n[1] https://github.com/netgusto/Baikal/issues/293\n. It should work. Since you are using flat package. It should work. Clear browser cache when u test. \nBecause browser will cache your login. As long its basic auth. Dont change auth realm for now. \nTry a GET url on your calendar or addressbook after that. Browser should popup a login box.\n. nop if you are using a shared hosting package somewhere you cant change any apache conf ofcourse!\nyou can try to put allowoverride all in htaccess should work also for that matter.... \n. ",
    "mitar": "Yes, I would also like to have existing groups from Mac OS X Address Book available. Currently it seems they are added as some kind of special cards, because number of all cards in Address Book is smaller than the one stored in Baikal. Baikal has exactly the number of contacts + number of groups displayed as number of contacts.\n. It works without any change for me.\n. It does support more than 1 username/password, but you have to set calendar.network.multirealm setting in Thunderbird to true.. Yes, I would also like to have existing groups from Mac OS X Address Book available. Currently it seems they are added as some kind of special cards, because number of all cards in Address Book is smaller than the one stored in Baikal. Baikal has exactly the number of contacts + number of groups displayed as number of contacts.\n. It works without any change for me.\n. It does support more than 1 username/password, but you have to set calendar.network.multirealm setting in Thunderbird to true.. ",
    "Gajusbonus": "I use Thunderbird on different laptops. All address Cards get synced but non of the groups.\nWith every sync Thunderbird loads up 32 contacts (this is the number of lists/groups in my address book) but on the other laptops these lists/groups are never downloaded. So list sync seems to me a bug or a request for future version of ba\u00efkal-server.\nPlease identify whether this is a bug or a request.\n. I use Thunderbird on different laptops. All address Cards get synced but non of the groups.\nWith every sync Thunderbird loads up 32 contacts (this is the number of lists/groups in my address book) but on the other laptops these lists/groups are never downloaded. So list sync seems to me a bug or a request for future version of ba\u00efkal-server.\nPlease identify whether this is a bug or a request.\n. ",
    "dxtr": "I started doing something. You can see my progress at https://github.com/dxtr/Baikal/tree/pgsql :)\nI would not mind some feedback\n. I started doing something. You can see my progress at https://github.com/dxtr/Baikal/tree/pgsql :)\nI would not mind some feedback\n. ",
    "rivu": "I like it! Thank you!!\n. I like it! Thank you!!\n. ",
    "HLFH": "Is that done? How would be the DATABASE_URL: line with postgres, on the Baikal2?\n. I'm still getting the same issue. I'm using MySQL. The user has the rights to create DB. I created your empty database. But it does not work after with composer install.\n. With the verbose mode:\n```\n\u1405 Check: database connectivity\nDatabase connection is OK, but the database is missing. Should we try to create it for you ? [Y/n] \nScript Symfony\\BootCampBundle\\Composer\\ScriptHandler::install handling the post-install-cmd event terminated with an exception\n[RuntimeException]                                                     \n  Database could not be created. Application is not initialized. Exiting.  \nException trace:\n () at /var/www/baikal/vendor/symfony/bootcamp-bundle/Symfony/BootCampBundle/Composer/ScriptHandler.php:130\n Symfony\\BootCampBundle\\Composer\\ScriptHandler::install() at phar:///usr/bin/composer/src/Composer/EventDispatcher/EventDispatcher.php:203\n Composer\\EventDispatcher\\EventDispatcher->executeEventPhpScript() at phar:///usr/bin/composer/src/Composer/EventDispatcher/EventDispatcher.php:173\n Composer\\EventDispatcher\\EventDispatcher->doDispatch() at phar:///usr/bin/composer/src/Composer/EventDispatcher/EventDispatcher.php:120\n Composer\\EventDispatcher\\EventDispatcher->dispatchCommandEvent() at phar:///usr/bin/composer/src/Composer/Installer.php:307\n Composer\\Installer->run() at phar:///usr/bin/composer/src/Composer/Command/InstallCommand.php:125\n Composer\\Command\\InstallCommand->execute() at phar:///usr/bin/composer/vendor/symfony/console/Symfony/Component/Console/Command/Command.php:252\n Symfony\\Component\\Console\\Command\\Command->run() at phar:///usr/bin/composer/vendor/symfony/console/Symfony/Component/Console/Application.php:889\n Symfony\\Component\\Console\\Application->doRunCommand() at phar:///usr/bin/composer/vendor/symfony/console/Symfony/Component/Console/Application.php:193\n Symfony\\Component\\Console\\Application->doRun() at phar:///usr/bin/composer/src/Composer/Console/Application.php:137\n Composer\\Console\\Application->doRun() at phar:///usr/bin/composer/vendor/symfony/console/Symfony/Component/Console/Application.php:124\n Symfony\\Component\\Console\\Application->run() at phar:///usr/bin/composer/src/Composer/Console/Application.php:83\n Composer\\Console\\Application->run() at phar:///usr/bin/composer/bin/composer:43\n require() at /usr/bin/composer:15\n```\n. @netgusto Solved. I'm using ArchLinux. In step1 on the Readme file, it lacks this:\nbash\nvim /usr/share/php-composer/php.ini \n[PHP]\nmemory_limit=-1\n;extension=bcmath.so\nextension=bz2.so\n;extension=calendar.so\nextension=curl.so\n;extension=dba.so\n;extension=enchant.so\nextension=exif.so\n;extension=ftp.so\nextension=gd.so\nextension=gettext.so\n;extension=gmp.so\nextension=iconv.so\n;extension=imap.so\nextension=intl.so\n;extension=ldap.so\nextension=mcrypt.so\n;extension=mssql.so\nextension=mysqli.so\nextension=mysql.so\n;extension=odbc.so\n;zend_extension=opcache.so\nextension=openssl.so\nextension=pdo_mysql.so\n;extension=pdo_odbc.so\n;extension=pdo_pgsql.so\nextension=pdo_sqlite.so\n;extension=pgsql.so\nextension=phar.so\n;extension=posix.so\n;extension=pspell.so\n;extension=shmop.so\n;extension=snmp.so\n;extension=soap.so\n;extension=sockets.so\nextension=sqlite3.so\n;extension=sysvmsg.so\n;extension=sysvsem.so\n;extension=sysvshm.so\nextension=tidy.so\nextension=xmlrpc.so\n;extension=xsl.so\nextension=zip.so\n[Date]\ndate.timezone=UTC\n[Phar]\nphar.readonly=Off\n:wq!\nBecause php-composer has its own php.ini file, so we have to enable the needed database & iconv extensions. For more freedom, I have almost enabled everything.\n. Is that done? How would be the DATABASE_URL: line with postgres, on the Baikal2?\n. I'm still getting the same issue. I'm using MySQL. The user has the rights to create DB. I created your empty database. But it does not work after with composer install.\n. With the verbose mode:\n```\n\u1405 Check: database connectivity\nDatabase connection is OK, but the database is missing. Should we try to create it for you ? [Y/n] \nScript Symfony\\BootCampBundle\\Composer\\ScriptHandler::install handling the post-install-cmd event terminated with an exception\n[RuntimeException]                                                     \n  Database could not be created. Application is not initialized. Exiting.  \nException trace:\n () at /var/www/baikal/vendor/symfony/bootcamp-bundle/Symfony/BootCampBundle/Composer/ScriptHandler.php:130\n Symfony\\BootCampBundle\\Composer\\ScriptHandler::install() at phar:///usr/bin/composer/src/Composer/EventDispatcher/EventDispatcher.php:203\n Composer\\EventDispatcher\\EventDispatcher->executeEventPhpScript() at phar:///usr/bin/composer/src/Composer/EventDispatcher/EventDispatcher.php:173\n Composer\\EventDispatcher\\EventDispatcher->doDispatch() at phar:///usr/bin/composer/src/Composer/EventDispatcher/EventDispatcher.php:120\n Composer\\EventDispatcher\\EventDispatcher->dispatchCommandEvent() at phar:///usr/bin/composer/src/Composer/Installer.php:307\n Composer\\Installer->run() at phar:///usr/bin/composer/src/Composer/Command/InstallCommand.php:125\n Composer\\Command\\InstallCommand->execute() at phar:///usr/bin/composer/vendor/symfony/console/Symfony/Component/Console/Command/Command.php:252\n Symfony\\Component\\Console\\Command\\Command->run() at phar:///usr/bin/composer/vendor/symfony/console/Symfony/Component/Console/Application.php:889\n Symfony\\Component\\Console\\Application->doRunCommand() at phar:///usr/bin/composer/vendor/symfony/console/Symfony/Component/Console/Application.php:193\n Symfony\\Component\\Console\\Application->doRun() at phar:///usr/bin/composer/src/Composer/Console/Application.php:137\n Composer\\Console\\Application->doRun() at phar:///usr/bin/composer/vendor/symfony/console/Symfony/Component/Console/Application.php:124\n Symfony\\Component\\Console\\Application->run() at phar:///usr/bin/composer/src/Composer/Console/Application.php:83\n Composer\\Console\\Application->run() at phar:///usr/bin/composer/bin/composer:43\n require() at /usr/bin/composer:15\n```\n. @netgusto Solved. I'm using ArchLinux. In step1 on the Readme file, it lacks this:\nbash\nvim /usr/share/php-composer/php.ini \n[PHP]\nmemory_limit=-1\n;extension=bcmath.so\nextension=bz2.so\n;extension=calendar.so\nextension=curl.so\n;extension=dba.so\n;extension=enchant.so\nextension=exif.so\n;extension=ftp.so\nextension=gd.so\nextension=gettext.so\n;extension=gmp.so\nextension=iconv.so\n;extension=imap.so\nextension=intl.so\n;extension=ldap.so\nextension=mcrypt.so\n;extension=mssql.so\nextension=mysqli.so\nextension=mysql.so\n;extension=odbc.so\n;zend_extension=opcache.so\nextension=openssl.so\nextension=pdo_mysql.so\n;extension=pdo_odbc.so\n;extension=pdo_pgsql.so\nextension=pdo_sqlite.so\n;extension=pgsql.so\nextension=phar.so\n;extension=posix.so\n;extension=pspell.so\n;extension=shmop.so\n;extension=snmp.so\n;extension=soap.so\n;extension=sockets.so\nextension=sqlite3.so\n;extension=sysvmsg.so\n;extension=sysvsem.so\n;extension=sysvshm.so\nextension=tidy.so\nextension=xmlrpc.so\n;extension=xsl.so\nextension=zip.so\n[Date]\ndate.timezone=UTC\n[Phar]\nphar.readonly=Off\n:wq!\nBecause php-composer has its own php.ini file, so we have to enable the needed database & iconv extensions. For more freedom, I have almost enabled everything.\n. ",
    "tigerfoot": "As branch 2 doesn't exist, I guess the postgresql support has been drop (or lost)\n. As branch 2 doesn't exist, I guess the postgresql support has been drop (or lost)\n. ",
    "mmoll": "I still hope that will come one day, so maybe reopen that again?\n. Lumen could also be worth a look, but Slim or Silex wouldn't be a bad decision either.\n. @charlycoste have a look at #568\n. Could you squash your commits together? I always find it hard to follow the history or use git blame and get a reasonable output with 8 commits for such a small change...\n. @fabianwolf there are many howtos on the interwebs, search for \"github squash commits force push\" or similar.\n. @fabianwolf also, I'd recommend to search for \"github triangular workflow\" to see how you can update your local copy without opening pull requests from fruux/master, which result in even more merge commits ending up in your branch.\n. @nixis please upgrade to 0.4.5. See #552 for details on that specific bug.\n. @solence #680. #568. see #680. I still hope that will come one day, so maybe reopen that again?\n. Lumen could also be worth a look, but Slim or Silex wouldn't be a bad decision either.\n. @charlycoste have a look at #568\n. Could you squash your commits together? I always find it hard to follow the history or use git blame and get a reasonable output with 8 commits for such a small change...\n. @fabianwolf there are many howtos on the interwebs, search for \"github squash commits force push\" or similar.\n. @fabianwolf also, I'd recommend to search for \"github triangular workflow\" to see how you can update your local copy without opening pull requests from fruux/master, which result in even more merge commits ending up in your branch.\n. @nixis please upgrade to 0.4.5. See #552 for details on that specific bug.\n. @solence #680. #568. see #680. ",
    "wcz-txp": "Hello,\nserver.follow-symlink = \"enable\"\nin your /etc/lighttpd/lighttpd.conf\nhttp://redmine.lighttpd.net/projects/lighttpd/wiki/MigratingFromApache#Basic-Options\nand \n$HTTP[\"host\"] =~ \"^dav\\.yourdomain\" {\n    server.document-root = \"/var/www/dav/html\"\n  }\nin your server file should do the job. Tested with Lighttpd 1.4.32 and Ba\u0457kal 0.2.6\n. Hello,\nserver.follow-symlink = \"enable\"\nin your /etc/lighttpd/lighttpd.conf\nhttp://redmine.lighttpd.net/projects/lighttpd/wiki/MigratingFromApache#Basic-Options\nand \n$HTTP[\"host\"] =~ \"^dav\\.yourdomain\" {\n    server.document-root = \"/var/www/dav/html\"\n  }\nin your server file should do the job. Tested with Lighttpd 1.4.32 and Ba\u0457kal 0.2.6\n. ",
    "N3bTcx": "Thanks a lot.\n. No issue with thunderbird/ligtning and calendar on ios.\n. Finaly switch to apache2\n. Thanks a lot.\n. No issue with thunderbird/ligtning and calendar on ios.\n. Finaly switch to apache2\n. ",
    "vortex9": "+1\n. +1\n. ",
    "Profpatsch": "Ah, you mean importing it locally in a freshly created calendar? Haven\u2019t thought of that. But it\u2019s kind of a hack around the missing functionality, isn\u2019t it?\n. The sad thing about this is that this is the best solution. Speaks a lot about the state of *dav.\nThe only easy thing to use is Google calendar or the stuff by apple\u2026\n. Ah, you mean importing it locally in a freshly created calendar? Haven\u2019t thought of that. But it\u2019s kind of a hack around the missing functionality, isn\u2019t it?\n. The sad thing about this is that this is the best solution. Speaks a lot about the state of *dav.\nThe only easy thing to use is Google calendar or the stuff by apple\u2026\n. ",
    "josteink": "Seconding this. If not a show-stopper, it definitely makes migrating harder than it needs to be.\nI've googled looking for tools for copying CardDAV and CalDAV data, and I haven't really seen anything super-obvious.\n. For anyone interested: Found out I can export and re-import in Thunderbird with Lightning and SOGO Connector addin. Best I've found so far.\n. Seconding this. If not a show-stopper, it definitely makes migrating harder than it needs to be.\nI've googled looking for tools for copying CardDAV and CalDAV data, and I haven't really seen anything super-obvious.\n. For anyone interested: Found out I can export and re-import in Thunderbird with Lightning and SOGO Connector addin. Best I've found so far.\n. ",
    "sergeleo": "+1 for this feature! Jerome, Thank you for this great solution!\n. I've tried SOGO Connector and it works. But, it messing up \"Category\" by setting some URL to google.com, and using GMT time by default.\n. +1 for this feature! Jerome, Thank you for this great solution!\n. I've tried SOGO Connector and it works. But, it messing up \"Category\" by setting some URL to google.com, and using GMT time by default.\n. ",
    "Ohax": "+1\n. +1\n. ",
    "bjoerns1983": "Baikal 0.26 no changes made to the Virtual host file:\ncalendar.example.com:443 217.7.xxx.xxx - - [26/Sep/2013:14:12:54 +0000] \"PROPFIND /.well-known/caldav HTTP/1.1\" 405 2612 \"-\" \"iOS/7.0 (11A465) accountsd/1.0\"\ncalendar.example.com:443 217.7.xxx.xxx - - [26/Sep/2013:14:12:55 +0000] \"PROPFIND / HTTP/1.1\" 200 943 \"-\" \"iOS/7.0 (11A465) accountsd/1.0\"\ncalendar.example.com:443 217.7.xxx.xxx - - [26/Sep/2013:14:12:55 +0000] \"PROPFIND /principals/ HTTP/1.1\" 405 730 \"-\" \"iOS/7.0 (11A465) accountsd/1.0\"\ncalendar.example.com:443 217.7.xxx.xxx - - [26/Sep/2013:14:12:55 +0000] \"PROPFIND /calendar/dav/MyUser/user/ HTTP/1.1\" 405 746 \"-\" \"iOS/7.0 (11A465) accountsd/1.0\"\ncalendar.example.com:80 217.7.xxx.xxx - - [26/Sep/2013:14:12:58 +0000] \"PROPFIND /.well-known/caldav HTTP/1.1\" 405 585 \"-\" \"iOS/7.0 (11A465) accountsd/1.0\"\ncalendar.example.com:80 217.7.xxx.xxx - - [26/Sep/2013:14:12:58 +0000] \"PROPFIND / HTTP/1.1\" 200 718 \"-\" \"iOS/7.0 (11A465) accountsd/1.0\"\ncalendar.example.com:80 217.7.xxx.xxx - - [26/Sep/2013:14:12:58 +0000] \"PROPFIND /principals/ HTTP/1.1\" 405 577 \"-\" \"iOS/7.0 (11A465) accountsd/1.0\"\ncalendar.example.com:80 217.7.xxx.xxx - - [26/Sep/2013:14:12:58 +0000] \"PROPFIND /calendar/dav/MyUser/user/ HTTP/1.1\" 405 596 \"-\" \"iOS/7.0 (11A465) accountsd/1.0\"\nAnd here is the way it looks when i put in the \"well-known\" directive into the virtual host file:\ncalendar.example.com:443 217.7.xxx.xxx - - [26/Sep/2013:14:21:39 +0000] \"PROPFIND /.well-known/caldav HTTP/1.1\" 302 2612 \"-\" \"iOS/7.0 (11A465) accountsd/1.0\"\ncalendar.example.com:443 217.7.xxx.xxx - - [26/Sep/2013:14:21:39 +0000] \"PROPFIND /cal.php HTTP/1.1\" 401 1018 \"-\" \"iOS/7.0 (11A465) accountsd/1.0\"\ncalendar.example.com:443 217.7.xxx.xxx - - [26/Sep/2013:14:21:39 +0000] \"PROPFIND /cal.php HTTP/1.1\" 401 1115 \"-\" \"iOS/7.0 (11A465) accountsd/1.0\"\ncalendar.example.com:443 217.7.xxx.xxx - - [26/Sep/2013:14:21:40 +0000] \"PROPFIND /cal.php HTTP/1.1\" 401 1147 \"-\" \"iOS/7.0 (11A465) accountsd/1.0\"\ncalendar.example.com:443 217.7.xxx.xxx - - [26/Sep/2013:14:21:40 +0000] \"PROPFIND / HTTP/1.1\" 200 879 \"-\" \"iOS/7.0 (11A465) accountsd/1.0\"\ncalendar.example.com:443 217.7.xxx.xxx - - [26/Sep/2013:14:21:40 +0000] \"PROPFIND /principals/ HTTP/1.1\" 405 730 \"-\" \"iOS/7.0 (11A465) accountsd/1.0\"\ncalendar.example.com:443 217.7.xxx.xxx - - [26/Sep/2013:14:21:40 +0000] \"PROPFIND /calendar/dav/MyUser/user/ HTTP/1.1\" 405 746 \"-\" \"iOS/7.0 (11A465) accountsd/1.0\"\nI set the account only up with:\nServer: calendar.example.com\nUser: MyUser\nPass: xxx\nI d nothing more. I already tried the old way to write the Server name with /cal.php/ etc. also no luck.\nHope this helps.\n. Solved by cold rebooting the iPhone and than taking the old manual for setting up Baikal in iOS.\nSo it is mandatory to use the full path e.g. https://cal.example.com/cal.php/principals/MyUser/\nSo no Bug, at least not in Baikal. \n. Baikal 0.26 no changes made to the Virtual host file:\ncalendar.example.com:443 217.7.xxx.xxx - - [26/Sep/2013:14:12:54 +0000] \"PROPFIND /.well-known/caldav HTTP/1.1\" 405 2612 \"-\" \"iOS/7.0 (11A465) accountsd/1.0\"\ncalendar.example.com:443 217.7.xxx.xxx - - [26/Sep/2013:14:12:55 +0000] \"PROPFIND / HTTP/1.1\" 200 943 \"-\" \"iOS/7.0 (11A465) accountsd/1.0\"\ncalendar.example.com:443 217.7.xxx.xxx - - [26/Sep/2013:14:12:55 +0000] \"PROPFIND /principals/ HTTP/1.1\" 405 730 \"-\" \"iOS/7.0 (11A465) accountsd/1.0\"\ncalendar.example.com:443 217.7.xxx.xxx - - [26/Sep/2013:14:12:55 +0000] \"PROPFIND /calendar/dav/MyUser/user/ HTTP/1.1\" 405 746 \"-\" \"iOS/7.0 (11A465) accountsd/1.0\"\ncalendar.example.com:80 217.7.xxx.xxx - - [26/Sep/2013:14:12:58 +0000] \"PROPFIND /.well-known/caldav HTTP/1.1\" 405 585 \"-\" \"iOS/7.0 (11A465) accountsd/1.0\"\ncalendar.example.com:80 217.7.xxx.xxx - - [26/Sep/2013:14:12:58 +0000] \"PROPFIND / HTTP/1.1\" 200 718 \"-\" \"iOS/7.0 (11A465) accountsd/1.0\"\ncalendar.example.com:80 217.7.xxx.xxx - - [26/Sep/2013:14:12:58 +0000] \"PROPFIND /principals/ HTTP/1.1\" 405 577 \"-\" \"iOS/7.0 (11A465) accountsd/1.0\"\ncalendar.example.com:80 217.7.xxx.xxx - - [26/Sep/2013:14:12:58 +0000] \"PROPFIND /calendar/dav/MyUser/user/ HTTP/1.1\" 405 596 \"-\" \"iOS/7.0 (11A465) accountsd/1.0\"\nAnd here is the way it looks when i put in the \"well-known\" directive into the virtual host file:\ncalendar.example.com:443 217.7.xxx.xxx - - [26/Sep/2013:14:21:39 +0000] \"PROPFIND /.well-known/caldav HTTP/1.1\" 302 2612 \"-\" \"iOS/7.0 (11A465) accountsd/1.0\"\ncalendar.example.com:443 217.7.xxx.xxx - - [26/Sep/2013:14:21:39 +0000] \"PROPFIND /cal.php HTTP/1.1\" 401 1018 \"-\" \"iOS/7.0 (11A465) accountsd/1.0\"\ncalendar.example.com:443 217.7.xxx.xxx - - [26/Sep/2013:14:21:39 +0000] \"PROPFIND /cal.php HTTP/1.1\" 401 1115 \"-\" \"iOS/7.0 (11A465) accountsd/1.0\"\ncalendar.example.com:443 217.7.xxx.xxx - - [26/Sep/2013:14:21:40 +0000] \"PROPFIND /cal.php HTTP/1.1\" 401 1147 \"-\" \"iOS/7.0 (11A465) accountsd/1.0\"\ncalendar.example.com:443 217.7.xxx.xxx - - [26/Sep/2013:14:21:40 +0000] \"PROPFIND / HTTP/1.1\" 200 879 \"-\" \"iOS/7.0 (11A465) accountsd/1.0\"\ncalendar.example.com:443 217.7.xxx.xxx - - [26/Sep/2013:14:21:40 +0000] \"PROPFIND /principals/ HTTP/1.1\" 405 730 \"-\" \"iOS/7.0 (11A465) accountsd/1.0\"\ncalendar.example.com:443 217.7.xxx.xxx - - [26/Sep/2013:14:21:40 +0000] \"PROPFIND /calendar/dav/MyUser/user/ HTTP/1.1\" 405 746 \"-\" \"iOS/7.0 (11A465) accountsd/1.0\"\nI set the account only up with:\nServer: calendar.example.com\nUser: MyUser\nPass: xxx\nI d nothing more. I already tried the old way to write the Server name with /cal.php/ etc. also no luck.\nHope this helps.\n. Solved by cold rebooting the iPhone and than taking the old manual for setting up Baikal in iOS.\nSo it is mandatory to use the full path e.g. https://cal.example.com/cal.php/principals/MyUser/\nSo no Bug, at least not in Baikal. \n. ",
    "sudoman": "I couldn't find instructions on how, and I don't have much experience with editing apache confs. Would you make a github wiki page or text file with a little help? Thanks!\n-andrew\nLukas Epple notifications@github.com wrote:\n\nThat works. I'm using it without subdomain already.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/jeromeschneider/Baikal/issues/130#issuecomment-25743605\n\n\nSent from my Android device with K-9 Mail. Please excuse my brevity.\n. hm. i should have thought about using the ftp mode. i was confused by this:\n```\nThe following configuration is the minimum required:\n\nan Apache2 web server capable of running PHP, and accessible thru a\n dedicated subdomain (something like \"dav.mydomainname.com\") \n        NOTE: this document only covers sub-domain based installations. Other\n        installations modes are possible, though not documented (yet). \n```\n\ni didn't realize it only applied to the dedicated server install. it would be nice to make a note about the possibility of using the ftp mode if a subdomain isn't reasonable. also, it should be possible to configure the virtual server to use a port? i couldn't get it set up when i tried it with a special port, but i think i also needed to edit ports.conf in apache.\n. I couldn't find instructions on how, and I don't have much experience with editing apache confs. Would you make a github wiki page or text file with a little help? Thanks!\n-andrew\nLukas Epple notifications@github.com wrote:\n\nThat works. I'm using it without subdomain already.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/jeromeschneider/Baikal/issues/130#issuecomment-25743605\n\n\nSent from my Android device with K-9 Mail. Please excuse my brevity.\n. hm. i should have thought about using the ftp mode. i was confused by this:\n```\nThe following configuration is the minimum required:\n\nan Apache2 web server capable of running PHP, and accessible thru a\n dedicated subdomain (something like \"dav.mydomainname.com\") \n        NOTE: this document only covers sub-domain based installations. Other\n        installations modes are possible, though not documented (yet). \n```\n\ni didn't realize it only applied to the dedicated server install. it would be nice to make a note about the possibility of using the ftp mode if a subdomain isn't reasonable. also, it should be possible to configure the virtual server to use a port? i couldn't get it set up when i tried it with a special port, but i think i also needed to edit ports.conf in apache.\n. ",
    "fhemberger": "@sonority can you please check if @RustyPixel's changes work as expected, so we can make a pull request out of it and merge it into Ba\u00efkal?\n. Using http://php.net/manual/en/function.addslashes.php when writing to the config file should do the trick.\n. I think it would be a good idea to set up a Google Group or something similar to separate general questions and installation issues from actual bugs.\n. Hmm, is InnoDB disabled on your MySQL server?\nhttp://stackoverflow.com/questions/10873870/mysql-error-1071-specified-key-was-too-long-max-key-length-is-1000-bytes-in-s\n. What version of PHP are you using? You can find it out by creating a file in you web root with the following contents\nphp\n<?php phpinfo();\n(don't forget to delete it again afterwards).\nBa\u00efkal requires at least PHP 5.3.0.\n. Hmm, creating a calendar without a description via iCal worked for me in the first place (OSX 1.8.5).\nBut if it's valid to create a calendar without a description in iCal, the same should be possible through Ba\u00efkal's admin interface. This PR removes this restriction.\n. Do you have cookies enabled in your browser?\n. Great it worked for you. Can you please close the ticket if your original problem has been solved?\n. Well, maybe in another two years security issues in Ba\u00efkal will be addressed \u2026\n. @sonority can you please check if @RustyPixel's changes work as expected, so we can make a pull request out of it and merge it into Ba\u00efkal?\n. Using http://php.net/manual/en/function.addslashes.php when writing to the config file should do the trick.\n. I think it would be a good idea to set up a Google Group or something similar to separate general questions and installation issues from actual bugs.\n. Hmm, is InnoDB disabled on your MySQL server?\nhttp://stackoverflow.com/questions/10873870/mysql-error-1071-specified-key-was-too-long-max-key-length-is-1000-bytes-in-s\n. What version of PHP are you using? You can find it out by creating a file in you web root with the following contents\nphp\n<?php phpinfo();\n(don't forget to delete it again afterwards).\nBa\u00efkal requires at least PHP 5.3.0.\n. Hmm, creating a calendar without a description via iCal worked for me in the first place (OSX 1.8.5).\nBut if it's valid to create a calendar without a description in iCal, the same should be possible through Ba\u00efkal's admin interface. This PR removes this restriction.\n. Do you have cookies enabled in your browser?\n. Great it worked for you. Can you please close the ticket if your original problem has been solved?\n. Well, maybe in another two years security issues in Ba\u00efkal will be addressed \u2026\n. ",
    "guillaumedc": "I have the same issue.\nIs it caused by a misconfiguration?\nSincerely\n. I have the same issue.\nIs it caused by a misconfiguration?\nSincerely\n. ",
    "shoeper": "Startssl offers free certificates (domain validated, valid for one month) and cheap ones ($60 for 350 days - you can create as much certificates as you want, all valid for two years afaik).\nAs an alternative you could host baikal on bitbucket.\n. this could be helpful: http://www.openwall.com/phpass/\n. this works in my setup (edit: with baikal 0.2.x):\n```\nserver {\n        listen 80;\n        server_name dav.example.me;\n    return         301 https://$server_name$request_uri;\n\n}\nserver {\n    listen       443 ssl;\n    server_name  dav.example.com;\naccess_log  /var/log/nginx/com.example.dav.access.log;\nerror_log   /var/log/nginx/com.example.dav.error.log;\n\nssl_certificate     /path/to/crt/com.example.bundle.pem;\nssl_certificate_key /path/to/crt/com.example.bundle.key;\n\nroot  /var/www/com.example.dav/html/;\nindex index.php;\n\n    rewrite ^/.well-known/caldav /cal.php redirect;\n    rewrite ^/.well-known/carddav /card.php redirect;\n\ncharset utf-8;\n\nlocation ~ /(\\.ht|Core|Specific) {\n    deny all;\n    return 404;\n}\n\nadd_header Strict-Transport-Security \"max-age=31536000; includeSubdomains\";\n\nlocation ~ ^(.+\\.php)(.*)$ {\n    try_files $fastcgi_script_name =404;\n    fastcgi_split_path_info  ^(.+\\.php)(.*)$;\n    fastcgi_pass   unix:/var/run/php5-fpm.sock;\n    fastcgi_param  SCRIPT_FILENAME  $document_root$fastcgi_script_name;\n    fastcgi_param  PATH_INFO        $fastcgi_path_info;\n    include        fastcgi_params;\n}\n\n}\n```\n. You can check it using right-click on the password field -> inspect. If you can see the password there it has not been fixed if not it has been fixed.\n. sorry wrong content.\n. oh sorry, my fault. Thought I'd be in another repository.\nOf corse it is and OpenID would be a nice feature.\n. Did you install master?\n. Does your webspace meet those criteria?\nhttps://github.com/netgusto/Baikal/blob/master/INSTALL.md#11---system-requirements-for-ftp-driven-hosting\n. https://github.com/netgusto/Baikal/blob/master/TROUBLESHOOTING.md\n. aren't notes already supported? Thought I was able to save notes.\n. Ok as we can see here https://wiki.gnome.org/Apps/Tomboy/Synchronization Tomdroid need its own implementation. Think that is way too much for Baikal.\n. thats it\n. On which page exactly do you get it and which content isn't loaded over ssl?\n. Just remove the version check or ignore the warning.\n. It's not really a bug. To fix this the author must get a ssl certificate or host the on a place supporting ssl (e.g. github) or the check must be done server side.\n. afaik the client does this. At least my app on android only sync past two and upcoming 32 weeks in general and everything when I request it. And 4400 entries or even 50000 shouldn't be an issue.\nif it is one could add an option to baikal 2 with a webinterface an option to not sync entries older than x weeks / days / month with clients and make those only accessible through the webinterface.\n. Imho in thunderbird it is no issue to sync all entries (in my case wanted). On mobile devices is could be one if full sync needs significantly more mobile data and power. But I'm not sure how WebDAV works and if it is and issue.\n. Just dump the database and make a backup of these files:\nfind * -regex .*config.*\nCore/Frameworks/Flake/config.php\nCore/Frameworks/BaikalAdmin/config.php\nSpecific/config.php\nSpecific/config.system.php\n(Not sure if you need them all, but with all of them nothing can imho go wrong. - backing them up once should be enough)\n. Afaik baikal 2 is alpha maybe beta at this moment.\n. This is a development version of Ba\u00efkal 2 - NOT FOR PRODUCTION USE.\n. Of corse you are. But a software in development may not work at any time.\n. Ok, sorry for my missbehaviour.\n. > This is a development version of Ba\u00efkal 2 - NOT FOR PRODUCTION USE.\n. have you tried this: \n\nMy baikal-flat installation worked with\nRewriteEngine On\nRewriteRule /baikal-flat/card.php/.well-known/carddav /baikal-flat/card.php [R,L]\noflebbe@https://github.com/netgusto/Baikal/pull/228\n. In your .htaccess (when using Apache2)\n. You have to adjust the path to fit to your setup.\n\nEdit: Furthermore the \"manual\" https://github.com/netgusto/Baikal/blob/master/INSTALL.md only explains how to install Baikal on a dedicated subdomain. Does your installation work on other devices?\n. Afaik without /path/to/domain_root\n. The .htaccess is normally in your web root directory.\n\nDoes your installation work on other devices?\n. At least in mysql the schema looks like to work as follows:\n\ncalendarobjects contains all events.\nEach event is connected to a calendar via column calendarid.\nThe table calendars contains all calendars. Each calendar is owned by a principal. This can be looked up in table principals.\nPrincipals and users are connected via id, but I cannot not gurantee this because I do only have one user. (they should imho be connected via groupmembers, but groupmembers seems to be empty)\n. Have you installed v0.2.7? V 0.2.7 does not have a webinterface.\nYou could use https://www.inf-it.com/open-source/clients/infcloud/ if you need one.\n. A bit off topic, but: You could also use (Baikal) v0.2.7 and use infcloud as frontend. https://www.inf-it.com/open-source/clients/infcloud/ (Although the website has no design, the calendar looks quite ok).\n. > I've been using it and it's really not funny :/\ncould you tell us which problems there are?\n. Ok I think it depends very much on how it is used. For single user usage and with a good internet connection all these things shouldn't be an issue.\nBut thanks for the detailed bullet list.\n. You can have a look at your webservers access logs.\n. I don't have any information on that.\n. Really unimportant.. Startssl offers free certificates (domain validated, valid for one month) and cheap ones ($60 for 350 days - you can create as much certificates as you want, all valid for two years afaik).\nAs an alternative you could host baikal on bitbucket.\n. this could be helpful: http://www.openwall.com/phpass/\n. this works in my setup (edit: with baikal 0.2.x):\n```\nserver {\n        listen 80;\n        server_name dav.example.me;\n    return         301 https://$server_name$request_uri;\n\n}\nserver {\n    listen       443 ssl;\n    server_name  dav.example.com;\naccess_log  /var/log/nginx/com.example.dav.access.log;\nerror_log   /var/log/nginx/com.example.dav.error.log;\n\nssl_certificate     /path/to/crt/com.example.bundle.pem;\nssl_certificate_key /path/to/crt/com.example.bundle.key;\n\nroot  /var/www/com.example.dav/html/;\nindex index.php;\n\n    rewrite ^/.well-known/caldav /cal.php redirect;\n    rewrite ^/.well-known/carddav /card.php redirect;\n\ncharset utf-8;\n\nlocation ~ /(\\.ht|Core|Specific) {\n    deny all;\n    return 404;\n}\n\nadd_header Strict-Transport-Security \"max-age=31536000; includeSubdomains\";\n\nlocation ~ ^(.+\\.php)(.*)$ {\n    try_files $fastcgi_script_name =404;\n    fastcgi_split_path_info  ^(.+\\.php)(.*)$;\n    fastcgi_pass   unix:/var/run/php5-fpm.sock;\n    fastcgi_param  SCRIPT_FILENAME  $document_root$fastcgi_script_name;\n    fastcgi_param  PATH_INFO        $fastcgi_path_info;\n    include        fastcgi_params;\n}\n\n}\n```\n. You can check it using right-click on the password field -> inspect. If you can see the password there it has not been fixed if not it has been fixed.\n. sorry wrong content.\n. oh sorry, my fault. Thought I'd be in another repository.\nOf corse it is and OpenID would be a nice feature.\n. Did you install master?\n. Does your webspace meet those criteria?\nhttps://github.com/netgusto/Baikal/blob/master/INSTALL.md#11---system-requirements-for-ftp-driven-hosting\n. https://github.com/netgusto/Baikal/blob/master/TROUBLESHOOTING.md\n. aren't notes already supported? Thought I was able to save notes.\n. Ok as we can see here https://wiki.gnome.org/Apps/Tomboy/Synchronization Tomdroid need its own implementation. Think that is way too much for Baikal.\n. thats it\n. On which page exactly do you get it and which content isn't loaded over ssl?\n. Just remove the version check or ignore the warning.\n. It's not really a bug. To fix this the author must get a ssl certificate or host the on a place supporting ssl (e.g. github) or the check must be done server side.\n. afaik the client does this. At least my app on android only sync past two and upcoming 32 weeks in general and everything when I request it. And 4400 entries or even 50000 shouldn't be an issue.\nif it is one could add an option to baikal 2 with a webinterface an option to not sync entries older than x weeks / days / month with clients and make those only accessible through the webinterface.\n. Imho in thunderbird it is no issue to sync all entries (in my case wanted). On mobile devices is could be one if full sync needs significantly more mobile data and power. But I'm not sure how WebDAV works and if it is and issue.\n. Just dump the database and make a backup of these files:\nfind * -regex .*config.*\nCore/Frameworks/Flake/config.php\nCore/Frameworks/BaikalAdmin/config.php\nSpecific/config.php\nSpecific/config.system.php\n(Not sure if you need them all, but with all of them nothing can imho go wrong. - backing them up once should be enough)\n. Afaik baikal 2 is alpha maybe beta at this moment.\n. This is a development version of Ba\u00efkal 2 - NOT FOR PRODUCTION USE.\n. Of corse you are. But a software in development may not work at any time.\n. Ok, sorry for my missbehaviour.\n. > This is a development version of Ba\u00efkal 2 - NOT FOR PRODUCTION USE.\n. have you tried this: \n\nMy baikal-flat installation worked with\nRewriteEngine On\nRewriteRule /baikal-flat/card.php/.well-known/carddav /baikal-flat/card.php [R,L]\noflebbe@https://github.com/netgusto/Baikal/pull/228\n. In your .htaccess (when using Apache2)\n. You have to adjust the path to fit to your setup.\n\nEdit: Furthermore the \"manual\" https://github.com/netgusto/Baikal/blob/master/INSTALL.md only explains how to install Baikal on a dedicated subdomain. Does your installation work on other devices?\n. Afaik without /path/to/domain_root\n. The .htaccess is normally in your web root directory.\n\nDoes your installation work on other devices?\n. At least in mysql the schema looks like to work as follows:\n\ncalendarobjects contains all events.\nEach event is connected to a calendar via column calendarid.\nThe table calendars contains all calendars. Each calendar is owned by a principal. This can be looked up in table principals.\nPrincipals and users are connected via id, but I cannot not gurantee this because I do only have one user. (they should imho be connected via groupmembers, but groupmembers seems to be empty)\n. Have you installed v0.2.7? V 0.2.7 does not have a webinterface.\nYou could use https://www.inf-it.com/open-source/clients/infcloud/ if you need one.\n. A bit off topic, but: You could also use (Baikal) v0.2.7 and use infcloud as frontend. https://www.inf-it.com/open-source/clients/infcloud/ (Although the website has no design, the calendar looks quite ok).\n. > I've been using it and it's really not funny :/\ncould you tell us which problems there are?\n. Ok I think it depends very much on how it is used. For single user usage and with a good internet connection all these things shouldn't be an issue.\nBut thanks for the detailed bullet list.\n. You can have a look at your webservers access logs.\n. I don't have any information on that.\n. Really unimportant.. ",
    "simmel-z": "Hej there,\neven with this settings I'm not able to connect my BB10 to Baikal. Do you have another tip for me?\n. basic authetication was the trick!\nThanks\nAm 12.12.2013 um 17:18 schrieb Jan Pieper notifications@github.com:\n\nMake sure you have SSL enabled, host without protocol and you use basic not digest authentication.\n\u2014\nReply to this email directly or view it on GitHub.\n. Hej there,\neven with this settings I'm not able to connect my BB10 to Baikal. Do you have another tip for me?\n. basic authetication was the trick!\nThanks\nAm 12.12.2013 um 17:18 schrieb Jan Pieper notifications@github.com:\nMake sure you have SSL enabled, host without protocol and you use basic not digest authentication.\n\u2014\nReply to this email directly or view it on GitHub.\n. \n",
    "janpieper": "Make sure you have SSL enabled, host without protocol and you use basic not digest authentication.\n. @ParoTheParrot: If you install Baikal the first time, you can select wheter to use \"basic\" or \"digest\" authentication mechanism. By default, Baikal will be installed with \"digest\" authentication but BlackBerry OS10 is using \"basic\" authentication. So you need to change the authentication mechanism to \"basic\" in Baikal. Either by reinstalling it or by using the web admin configuration interface.\n. Okay, I've added a note to the BlackBerry OS10 instructions that basic authentication is required.\n. @ParoTheParrot Yep, you need a SSL certificate for the server Baikal is running on.\n. @hzapa Sorry for taking so long to answer. I was using Baikal to understand how CardDAV and CalDAV are working. I am not using it anymore. Instead I am using some components, Baikal is using internally. You aren't the first one who contacts me to get help...\n1) Is your server using a secure SSL connection? SSL is required for CardDAV.\n2) BlackBerry OS requires \"Basic Authentication\" as authentication mechanism.\nThese two things helped most of the people who contacted me. If these preconditions are met by your server, please check the communication between the device and the server. Check the logs etc. to get more information about what is happening.\n. Make sure you have SSL enabled, host without protocol and you use basic not digest authentication.\n. @ParoTheParrot: If you install Baikal the first time, you can select wheter to use \"basic\" or \"digest\" authentication mechanism. By default, Baikal will be installed with \"digest\" authentication but BlackBerry OS10 is using \"basic\" authentication. So you need to change the authentication mechanism to \"basic\" in Baikal. Either by reinstalling it or by using the web admin configuration interface.\n. Okay, I've added a note to the BlackBerry OS10 instructions that basic authentication is required.\n. @ParoTheParrot Yep, you need a SSL certificate for the server Baikal is running on.\n. @hzapa Sorry for taking so long to answer. I was using Baikal to understand how CardDAV and CalDAV are working. I am not using it anymore. Instead I am using some components, Baikal is using internally. You aren't the first one who contacts me to get help...\n1) Is your server using a secure SSL connection? SSL is required for CardDAV.\n2) BlackBerry OS requires \"Basic Authentication\" as authentication mechanism.\nThese two things helped most of the people who contacted me. If these preconditions are met by your server, please check the communication between the device and the server. Check the logs etc. to get more information about what is happening.\n. ",
    "ParoTheParrot": "I've still have a problem to connect to baikal (BB Z10). I don't set a protocol (only server). What do you with \"use basic not digest authentication.\"?\n. ok thanks! Found and set!\n\"* Its required to use SSL for CardDAV!\" means, that I need a SSL certificate for my server? 8-|\n. I've still have a problem to connect to baikal (BB Z10). I don't set a protocol (only server). What do you with \"use basic not digest authentication.\"?\n. ok thanks! Found and set!\n\"* Its required to use SSL for CardDAV!\" means, that I need a SSL certificate for my server? 8-|\n. ",
    "hzapa": "@janpieper janpiper  Can you share your config and server version where CardDav works with Z10? I really appreciate thanks. I can't make it work in my Z10 10.2.1.537\n. Hi @janpieper Thanks for your replay Now my Baikal is working but with bled edge version only. Now i'm testing with Z-Push contrib and seems to works fine.\nRegards\n. Hi @bjadel I tried with z-push-contrib to bypass CardDav via ActiveSync but I had the same results. Did you try something else ?. Thanks.\n. Hi @bjadel  @mxz-redhot  I  think i made my Baikal Carddav Works. \nI install PHP 5.4 remi repository and Baikal Bleding Edge, and SSL and SQLlite for Carddav over Centos 6.3 and it works. In my test i create contacts in my Blackberry Z10 with photos and sincronized to Baikal then i Sync Thunderbird SOGO and I view all contacts.  then i exported a full Contact list with thunderbird sogo to baikal and Blackberry synchronized all my contacts.\nTodo. Test with Mysql, test Z-Push Contrib, test Calendar.\n. Try bleeding edge, i have baikal win z-push-contrib an works well only some\nissues with imap.\nRegards\nOn Wed, May 14, 2014 at 3:54 AM, angelus2014 notifications@github.com\nwrote:\n\nI have a Z10 with OS 10.2.1.2102 and I can use Baikal for my CalDAV\nwithout problems, but not for CardDAV. It keeps stating it can't\nauthenticate on the server. I also have an ownCloud where it just the other\nway, CardDAV works on my Z10, but CalDAV only partly (events don't show up\nin the BB calendar). I have PHP 5.5.11 running on the system, but haven't\ntried the 'bleeding edge' version of Baikal (yet). Any progress on this?\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/jeromeschneider/Baikal/issues/217#issuecomment-43057052\n.\n\n\nH\u00e9ctor Zavala Palacios\n Mexico\nPassport: hzavala@gmail.com\nICQ : 2963184\nYahoo MSN: hzapa@yahoo.com\n. @janpieper janpiper  Can you share your config and server version where CardDav works with Z10? I really appreciate thanks. I can't make it work in my Z10 10.2.1.537\n. Hi @janpieper Thanks for your replay Now my Baikal is working but with bled edge version only. Now i'm testing with Z-Push contrib and seems to works fine.\nRegards\n. Hi @bjadel I tried with z-push-contrib to bypass CardDav via ActiveSync but I had the same results. Did you try something else ?. Thanks.\n. Hi @bjadel  @mxz-redhot  I  think i made my Baikal Carddav Works. \nI install PHP 5.4 remi repository and Baikal Bleding Edge, and SSL and SQLlite for Carddav over Centos 6.3 and it works. In my test i create contacts in my Blackberry Z10 with photos and sincronized to Baikal then i Sync Thunderbird SOGO and I view all contacts.  then i exported a full Contact list with thunderbird sogo to baikal and Blackberry synchronized all my contacts.\nTodo. Test with Mysql, test Z-Push Contrib, test Calendar.\n. Try bleeding edge, i have baikal win z-push-contrib an works well only some\nissues with imap.\nRegards\nOn Wed, May 14, 2014 at 3:54 AM, angelus2014 notifications@github.com\nwrote:\n\nI have a Z10 with OS 10.2.1.2102 and I can use Baikal for my CalDAV\nwithout problems, but not for CardDAV. It keeps stating it can't\nauthenticate on the server. I also have an ownCloud where it just the other\nway, CardDAV works on my Z10, but CalDAV only partly (events don't show up\nin the BB calendar). I have PHP 5.5.11 running on the system, but haven't\ntried the 'bleeding edge' version of Baikal (yet). Any progress on this?\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/jeromeschneider/Baikal/issues/217#issuecomment-43057052\n.\n\n\nH\u00e9ctor Zavala Palacios\n Mexico\nPassport: hzavala@gmail.com\nICQ : 2963184\nYahoo MSN: hzapa@yahoo.com\n. ",
    "sparkyvision": "I created the phpinfo file, and it works, but I can't find \"cgi\" within the page that it generates other than this instance, in the \"Configure command\" box:\n'./configure' '--prefix=/usr/local/php/5.4.21-nfsn1' '--includedir=/usr/local/php/5.4.21-nfsn1/include/' '--libdir=/usr/local/php/5.4.21-nfsn1' '--libexecdir=/usr/local/php/5.4.21-nfsn1/libexec/' '--mandir=/usr/local/php/5.4.21-nfsn1/man/' '--with-config-file-path=/usr/local/php/5.4.21-nfsn1/etc/' '--disable-all' '--with-openssl' '--disable-cli' '--disable-cgi' '--enable-null=shared' '--enable-libxml' '--enable-xml' '--enable-simplexml' '--enable-pdo' '--with-mysql=mysqlnd' '--with-pdo-mysql=mysqlnd' '--with-mysqli=mysqlnd' '--with-pcre-regex=/usr/local' '--with-pear=/usr/local/php/lib'\nThe relevant bit being --disable-cgi. Yikes, that doesn't look good.\nI've enabled the error log and will post the results here as soon as I see.\nI have no idea how to serve Baikal on a subdomain, but I'll do some research and try?\nHere are the results of that very large curl command:\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<d:multistatus xmlns:d=\"DAV:\" xmlns:s=\"http://sabredav.org/ns\" xmlns:cal=\"urn:ietf:params:xml:ns:caldav\" xmlns:cs=\"http://calendarserver.org/ns/\"><d:response><d:href>/dav/baikal/cal.php/</d:href><d:propstat><d:prop><d:resourcetype><d:collection/></d:resourcetype><d:supported-report-set><d:supported-report><d:report><d:expand-property/></d:report></d:supported-report><d:supported-report><d:report><d:principal-property-search/></d:report></d:supported-report><d:supported-report><d:report><d:principal-search-property-set/></d:report></d:supported-report></d:supported-report-set></d:prop><d:status>HTTP/1.1 200 OK</d:status></d:propstat><d:propstat><d:prop><d:owner/><cal:supported-calendar-component-set/><cs:getctag/></d:prop><d:status>HTTP/1.1 404 Not Found</d:status></d:propstat></d:response><d:response><d:href>/dav/baikal/cal.php/principals/</d:href><d:propstat><d:prop><d:resourcetype><d:collection/></d:resourcetype><d:supported-report-set><d:supported-report><d:report><d:expand-property/></d:report></d:supported-report><d:supported-report><d:report><d:principal-property-search/></d:report></d:supported-report><d:supported-report><d:report><d:principal-search-property-set/></d:report></d:supported-report></d:supported-report-set></d:prop><d:status>HTTP/1.1 200 OK</d:status></d:propstat><d:propstat><d:prop><d:owner/><cal:supported-calendar-component-set/><cs:getctag/></d:prop><d:status>HTTP/1.1 404 Not Found</d:status></d:propstat></d:response><d:response><d:href>/dav/baikal/cal.php/calendars/</d:href><d:propstat><d:prop><d:resourcetype><d:collection/></d:resourcetype><d:supported-report-set><d:supported-report><d:report><d:expand-property/></d:report></d:supported-report><d:supported-report><d:report><d:principal-property-search/></d:report></d:supported-report><d:supported-report><d:report><d:principal-search-property-set/></d:report></d:supported-report></d:supported-report-set></d:prop><d:status>HTTP/1.1 200 OK</d:status></d:propstat><d:propstat><d:prop><d:owner/><cal:supported-calendar-component-set/><cs:getctag/></d:prop><d:status>HTTP/1.1 404 Not Found</d:status></d:propstat></d:response></d:multistatus>\nOh noes! I see a 404 error in there...hmmm....?\n. The problem, as I discovered when I moved to a new hosting service, was that NFS did not have WebDAV installed. Now that I'm on Digital Ocean, it works great! Closed.\n. I created the phpinfo file, and it works, but I can't find \"cgi\" within the page that it generates other than this instance, in the \"Configure command\" box:\n'./configure' '--prefix=/usr/local/php/5.4.21-nfsn1' '--includedir=/usr/local/php/5.4.21-nfsn1/include/' '--libdir=/usr/local/php/5.4.21-nfsn1' '--libexecdir=/usr/local/php/5.4.21-nfsn1/libexec/' '--mandir=/usr/local/php/5.4.21-nfsn1/man/' '--with-config-file-path=/usr/local/php/5.4.21-nfsn1/etc/' '--disable-all' '--with-openssl' '--disable-cli' '--disable-cgi' '--enable-null=shared' '--enable-libxml' '--enable-xml' '--enable-simplexml' '--enable-pdo' '--with-mysql=mysqlnd' '--with-pdo-mysql=mysqlnd' '--with-mysqli=mysqlnd' '--with-pcre-regex=/usr/local' '--with-pear=/usr/local/php/lib'\nThe relevant bit being --disable-cgi. Yikes, that doesn't look good.\nI've enabled the error log and will post the results here as soon as I see.\nI have no idea how to serve Baikal on a subdomain, but I'll do some research and try?\nHere are the results of that very large curl command:\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<d:multistatus xmlns:d=\"DAV:\" xmlns:s=\"http://sabredav.org/ns\" xmlns:cal=\"urn:ietf:params:xml:ns:caldav\" xmlns:cs=\"http://calendarserver.org/ns/\"><d:response><d:href>/dav/baikal/cal.php/</d:href><d:propstat><d:prop><d:resourcetype><d:collection/></d:resourcetype><d:supported-report-set><d:supported-report><d:report><d:expand-property/></d:report></d:supported-report><d:supported-report><d:report><d:principal-property-search/></d:report></d:supported-report><d:supported-report><d:report><d:principal-search-property-set/></d:report></d:supported-report></d:supported-report-set></d:prop><d:status>HTTP/1.1 200 OK</d:status></d:propstat><d:propstat><d:prop><d:owner/><cal:supported-calendar-component-set/><cs:getctag/></d:prop><d:status>HTTP/1.1 404 Not Found</d:status></d:propstat></d:response><d:response><d:href>/dav/baikal/cal.php/principals/</d:href><d:propstat><d:prop><d:resourcetype><d:collection/></d:resourcetype><d:supported-report-set><d:supported-report><d:report><d:expand-property/></d:report></d:supported-report><d:supported-report><d:report><d:principal-property-search/></d:report></d:supported-report><d:supported-report><d:report><d:principal-search-property-set/></d:report></d:supported-report></d:supported-report-set></d:prop><d:status>HTTP/1.1 200 OK</d:status></d:propstat><d:propstat><d:prop><d:owner/><cal:supported-calendar-component-set/><cs:getctag/></d:prop><d:status>HTTP/1.1 404 Not Found</d:status></d:propstat></d:response><d:response><d:href>/dav/baikal/cal.php/calendars/</d:href><d:propstat><d:prop><d:resourcetype><d:collection/></d:resourcetype><d:supported-report-set><d:supported-report><d:report><d:expand-property/></d:report></d:supported-report><d:supported-report><d:report><d:principal-property-search/></d:report></d:supported-report><d:supported-report><d:report><d:principal-search-property-set/></d:report></d:supported-report></d:supported-report-set></d:prop><d:status>HTTP/1.1 200 OK</d:status></d:propstat><d:propstat><d:prop><d:owner/><cal:supported-calendar-component-set/><cs:getctag/></d:prop><d:status>HTTP/1.1 404 Not Found</d:status></d:propstat></d:response></d:multistatus>\nOh noes! I see a 404 error in there...hmmm....?\n. The problem, as I discovered when I moved to a new hosting service, was that NFS did not have WebDAV installed. Now that I'm on Digital Ocean, it works great! Closed.\n. ",
    "skibbipl": "I use php-fpm and I encountered this issue. It can be fixed pretty easy by adding following lines to virtual host configuration:\nProxyPassMatch ^/(..php(/.)?)$ fcgi://127.0.0.1:9000/var/www/path/to/baikal_dir/$1\nSetEnvIf Authorization \"(.)\" HTTP_AUTHORIZATION=$1\n. I use php-fpm and I encountered this issue. It can be fixed pretty easy by adding following lines to virtual host configuration:\nProxyPassMatch ^/(..php(/.)?)$ fcgi://127.0.0.1:9000/var/www/path/to/baikal_dir/$1\nSetEnvIf Authorization \"(.)\" HTTP_AUTHORIZATION=$1\n. ",
    "littlewitchanita": "i found the reason\nthe variable \"PROJECT_BASEURI\" will be determined by \"DOCUMENT_ROOT\", in my case, i'm not using the document root directly. therefore the outcoming path is wrong.\n. i found the reason\nthe variable \"PROJECT_BASEURI\" will be determined by \"DOCUMENT_ROOT\", in my case, i'm not using the document root directly. therefore the outcoming path is wrong.\n. ",
    "saschajulien": "Do you use the flat-file package?\n. I have found the origin of the problem. In file Core/Frameworks/Flake/Framework.php below \nDetermine PROJECT_BASEURI there is the line:\n$sScript = substr($_SERVER[\"SCRIPT_FILENAME\"], strlen($_SERVER[\"DOCUMENT_ROOT\"]));\nIn my case it looks like it is sufficient to replace this line by:\n$sScript = $_SERVER[\"SCRIPT_FILENAME\"];\n. Do you use the flat-file package?\n. I have found the origin of the problem. In file Core/Frameworks/Flake/Framework.php below \nDetermine PROJECT_BASEURI there is the line:\n$sScript = substr($_SERVER[\"SCRIPT_FILENAME\"], strlen($_SERVER[\"DOCUMENT_ROOT\"]));\nIn my case it looks like it is sufficient to replace this line by:\n$sScript = $_SERVER[\"SCRIPT_FILENAME\"];\n. ",
    "raschid": "Did you manage to install already?\nI had the same Error over and over again until I realized, that Baikal-Server does not run on PHP implemented via (fast)CGI. PHP has to be implemented as Apache-Modul. I changed my Provider and voila ...\n. There is a mistake in the above code. It must read\n$sSql = \"SHOW TABLES FROM `\" . $this->sDbName .\"`\";\n(only 1 backtick between the last quotation marks)\nAnd yes, it helps, at least with the provider hosteurope.de. So: thanks for the hint.\n. Did you manage to install already?\nI had the same Error over and over again until I realized, that Baikal-Server does not run on PHP implemented via (fast)CGI. PHP has to be implemented as Apache-Modul. I changed my Provider and voila ...\n. There is a mistake in the above code. It must read\n$sSql = \"SHOW TABLES FROM `\" . $this->sDbName .\"`\";\n(only 1 backtick between the last quotation marks)\nAnd yes, it helps, at least with the provider hosteurope.de. So: thanks for the hint.\n. ",
    "MHewig": "Beginners question: \ntrying to connect to my OS 10.9 to baikal I receive \n\"Requested uri (/card.php/adressbooks/USER/default) is out of base uri (//card.php/)\" and \n\"Requested uri (/cal.php/principals/USER) is out of base uri (//cal.php/)\" (according to troubleshooting.md).\nThe baikal settings for CalDAV base URI are \"PROJECT_BASEURI . \"/cal.php/\" and for CardDAV base URI are PROJECT_BASEURI . \"/card.php/\"\nProabably it's only a wrong syntax but I don't get it. I read all the open and even the closed issues without solution. Does anyone have a suggestion? Thanks a lot!\n. Beginners question: \ntrying to connect to my OS 10.9 to baikal I receive \n\"Requested uri (/card.php/adressbooks/USER/default) is out of base uri (//card.php/)\" and \n\"Requested uri (/cal.php/principals/USER) is out of base uri (//cal.php/)\" (according to troubleshooting.md).\nThe baikal settings for CalDAV base URI are \"PROJECT_BASEURI . \"/cal.php/\" and for CardDAV base URI are PROJECT_BASEURI . \"/card.php/\"\nProabably it's only a wrong syntax but I don't get it. I read all the open and even the closed issues without solution. Does anyone have a suggestion? Thanks a lot!\n. ",
    "BlackGrizzly": "Hi! I have this problem is related to the fact that the domain and subdomain on the server are in different folders. For example: \ndomain / var / www / mydomen.ru / \nsubdomain / var / www / dav.mydomen.ru / \nIn this case, $ _SERVER [\"SCRIPT_FILENAME\"] returns \"/ var / www / dav.mydomen.ru / card.php\" ;\n$ _SERVER [\"DOCUMENT_ROOT\"] returns \"/ var / www / mydomen.ru /\" \nThus we see that \u00a0 substr ($ _SERVER [\"SCRIPT_FILENAME\"], strlen ($ _SERVER [\"DOCUMENT_ROOT\"])) return \"n.ru / card.php\"\n. Hi! I have this problem is related to the fact that the domain and subdomain on the server are in different folders. For example: \ndomain / var / www / mydomen.ru / \nsubdomain / var / www / dav.mydomen.ru / \nIn this case, $ _SERVER [\"SCRIPT_FILENAME\"] returns \"/ var / www / dav.mydomen.ru / card.php\" ;\n$ _SERVER [\"DOCUMENT_ROOT\"] returns \"/ var / www / mydomen.ru /\" \nThus we see that \u00a0 substr ($ _SERVER [\"SCRIPT_FILENAME\"], strlen ($ _SERVER [\"DOCUMENT_ROOT\"])) return \"n.ru / card.php\"\n. ",
    "zivillian": "I have the exact same problem and found out, that the PUT request to update the contact fails with 412-Precondition Failed.\n62.226.xxx.xxx - binco [26/Nov/2013:10:35:23 +0100] \"PROPFIND /card.php/addressbooks/binco/default/ HTTP/1.1\" 207 1675 \"-\" \"Mozilla/5.0 (Windows NT 6.3; WOW64; rv:24.0) Gecko/20100101 Thunderbird/24.1.1 Lightning/2.6.3\"\n62.226.xxx.xxx - binco [26/Nov/2013:10:35:23 +0100] \"PUT /card.php/addressbooks/binco/default/C5C8665E-DFA0-0001-6987-12B01BF097A0.vcf HTTP/1.1\" 412 842 \"-\" \"Mozilla/5.0 (Windows NT 6.3; WOW64; rv:24.0) Gecko/20100101 Thunderbird/24.1.1 Lightning/2.6.3\"\n62.226.xxx.xxx - binco [26/Nov/2013:10:35:23 +0100] \"PROPFIND /card.php/addressbooks/binco/default/ HTTP/1.1\" 207 970 \"-\" \"Mozilla/5.0 (Windows NT 6.3; WOW64; rv:24.0) Gecko/20100101 Thunderbird/24.1.1 Lightning/2.6.3\"\nI've also tried SOGo Connector 24.0.2 from Nov 22nd, but had the same error.\nI hope this helps.\nBinco\n. I think this is the entry from SOGo: http://www.sogo.nu/bugs/view.php?id=1624\nSo it seems to be an error in SOGo and OwnCloud.\n. I have the exact same problem and found out, that the PUT request to update the contact fails with 412-Precondition Failed.\n62.226.xxx.xxx - binco [26/Nov/2013:10:35:23 +0100] \"PROPFIND /card.php/addressbooks/binco/default/ HTTP/1.1\" 207 1675 \"-\" \"Mozilla/5.0 (Windows NT 6.3; WOW64; rv:24.0) Gecko/20100101 Thunderbird/24.1.1 Lightning/2.6.3\"\n62.226.xxx.xxx - binco [26/Nov/2013:10:35:23 +0100] \"PUT /card.php/addressbooks/binco/default/C5C8665E-DFA0-0001-6987-12B01BF097A0.vcf HTTP/1.1\" 412 842 \"-\" \"Mozilla/5.0 (Windows NT 6.3; WOW64; rv:24.0) Gecko/20100101 Thunderbird/24.1.1 Lightning/2.6.3\"\n62.226.xxx.xxx - binco [26/Nov/2013:10:35:23 +0100] \"PROPFIND /card.php/addressbooks/binco/default/ HTTP/1.1\" 207 970 \"-\" \"Mozilla/5.0 (Windows NT 6.3; WOW64; rv:24.0) Gecko/20100101 Thunderbird/24.1.1 Lightning/2.6.3\"\nI've also tried SOGo Connector 24.0.2 from Nov 22nd, but had the same error.\nI hope this helps.\nBinco\n. I think this is the entry from SOGo: http://www.sogo.nu/bugs/view.php?id=1624\nSo it seems to be an error in SOGo and OwnCloud.\n. ",
    "hans-1990": "Novice user here: I experienced the same issues.\nMy problem: apache didn't allow the requests from iCal / Calendar. Check your apache error log to see if it throws errors. And edit the permissions (i did it with .htaccess files)\n. Novice user here: I experienced the same issues.\nMy problem: apache didn't allow the requests from iCal / Calendar. Check your apache error log to see if it throws errors. And edit the permissions (i did it with .htaccess files)\n. ",
    "usaps": "Same here... any news?\n. Same here... any news?\n. ",
    "vlindhol": "I have the same issue. The same issue is discussed here: https://discussions.apple.com/message/23375060#23375060\n. I have the same issue. The same issue is discussed here: https://discussions.apple.com/message/23375060#23375060\n. ",
    "cimm": "Same problem here with iOS 7. The solution proposed by @vlindhol seems to work. For future reference:\nOpen the Advanced Settings of you CardDAV account on iOS:\n- Use SSL: Enabled\n- Port: 443\n- Account URL: Remove the duplicate card.php/ in the URL\nTap Back and Done.\niOS will complain that it isn't possible to connect over SSL. Tap Cancel (to not attempt to configure the account without SSL).\niOS will complain once more saying it can't verify account data. Tap OK.\niOS will indicate that Contacts may not be synchronized. Tap Save.\n. Maybe this could be added to the documentation?. The rewrite rule did the trick for me. Would be nice to add that to the installation guide, would have saved me a few hours.\n. Similar problem here.\nI was running an old version of Baikal that worked but nuked it and started from scratch with the most recent one.\nMy iOS contacts sync but the OS X (El Capitain) Addressbook does not. I tried both 0.4.4 and 0.4.5.\n. Same problem here with iOS 7. The solution proposed by @vlindhol seems to work. For future reference:\nOpen the Advanced Settings of you CardDAV account on iOS:\n- Use SSL: Enabled\n- Port: 443\n- Account URL: Remove the duplicate card.php/ in the URL\nTap Back and Done.\niOS will complain that it isn't possible to connect over SSL. Tap Cancel (to not attempt to configure the account without SSL).\niOS will complain once more saying it can't verify account data. Tap OK.\niOS will indicate that Contacts may not be synchronized. Tap Save.\n. Maybe this could be added to the documentation?. The rewrite rule did the trick for me. Would be nice to add that to the installation guide, would have saved me a few hours.\n. Similar problem here.\nI was running an old version of Baikal that worked but nuked it and started from scratch with the most recent one.\nMy iOS contacts sync but the OS X (El Capitain) Addressbook does not. I tried both 0.4.4 and 0.4.5.\n. ",
    "mschmitt": "+1 for the walkthrough provided by @cimm. \nWhat puzzles me is that this is only possible by interactively canceling and okaying the manual setup in the weirdest ways, but it doesn't seem to be possible at all to deploy that modified URL in a profile via the iPhone configuration utility. When I try, the iPhone simply doesn't access it at all. Has anyone made any progress with that?\n. +1 for the walkthrough provided by @cimm. \nWhat puzzles me is that this is only possible by interactively canceling and okaying the manual setup in the weirdest ways, but it doesn't seem to be possible at all to deploy that modified URL in a profile via the iPhone configuration utility. When I try, the iPhone simply doesn't access it at all. Has anyone made any progress with that?\n. ",
    "carstengrevink": "I have exactly the same error on installation... I'm using the flat ftp version.\nAny tips?\n. found it! replace the part around line 117 with the following\nif (get_magic_quotes_gpc()) {\n    $process = array(&$_GET, &$_POST, &$_COOKIE, &$_REQUEST);\n    while (list($key, $val) = each($process)) {\n        foreach ($val as $k => $v) {\n            unset($process[$key][$k]);\n            if (is_array($v)) {\n                $process[$key][stripslashes($k)] = $v;\n                $process[] = &$process[$key][stripslashes($k)];\n            } else {\n                $process[$key][stripslashes($k)] = stripslashes($v);\n            }\n        }\n    }\n    unset($process);\n}\n. I have exactly the same error on installation... I'm using the flat ftp version.\nAny tips?\n. found it! replace the part around line 117 with the following\nif (get_magic_quotes_gpc()) {\n    $process = array(&$_GET, &$_POST, &$_COOKIE, &$_REQUEST);\n    while (list($key, $val) = each($process)) {\n        foreach ($val as $k => $v) {\n            unset($process[$key][$k]);\n            if (is_array($v)) {\n                $process[$key][stripslashes($k)] = $v;\n                $process[] = &$process[$key][stripslashes($k)];\n            } else {\n                $process[$key][stripslashes($k)] = stripslashes($v);\n            }\n        }\n    }\n    unset($process);\n}\n. ",
    "jimmbelll": "More: seems to be controlled by calendar.realm.multirealm = true (in about:config). Set to false and restart Thunderbird, and it seems to correct.\n. More: seems to be controlled by calendar.realm.multirealm = true (in about:config). Set to false and restart Thunderbird, and it seems to correct.\n. ",
    "sejtam": "agree. On a similar note, is there a generic CardDav (or Dav) list somewhere that one could use in the meantime? I know the list for CardDavMate and CalDavZap but that is again product specific..\n. agree. On a similar note, is there a generic CardDav (or Dav) list somewhere that one could use in the meantime? I know the list for CardDavMate and CalDavZap but that is again product specific..\n. ",
    "Ian4101": "I've seen this too. In Mavericks I was able to stop the message by clearing the Calendar in System Preferences, letting Calendar update to exclude the calendar then re-activating the calendar in System Preferences. Just to be clear System Preferences -> Internet Accounts -> [select the relevant CalDav account] -> [clear the flags under Use With for the calendar and Reminders]. Perhaps the other part of the solution is to go to the Baikal admin page and delete the calendar there (assuming you have access to that page) rather than in Calendar.\nIan\n. Hi TCB13, agreed. \n. I've seen this too. In Mavericks I was able to stop the message by clearing the Calendar in System Preferences, letting Calendar update to exclude the calendar then re-activating the calendar in System Preferences. Just to be clear System Preferences -> Internet Accounts -> [select the relevant CalDav account] -> [clear the flags under Use With for the calendar and Reminders]. Perhaps the other part of the solution is to go to the Baikal admin page and delete the calendar there (assuming you have access to that page) rather than in Calendar.\nIan\n. Hi TCB13, agreed. \n. ",
    "TCB13": "Ian4101,\nI can confirm that workaround works fine. However this seems more like a cosmetic issue than a serious implementation defect. It's just some command failing to reply properly to the client.\n. It's marked as a bug... no reason to be closed.\n. Hello,\nIf you're using lighttpd, you should add this to your conf:\n$HTTP[\"host\"] =~ \"^dav.dirserver.dev$\" {\n        url.redirect += (\n                \"^/.well-known/carddav(.*)\" => \"/card.php$1\",\n                \"^/.well-known/caldav(.*)\" => \"/cal.php$1\"\n        )\n}\n. @erkyrath After the http server redirect, I was able to get it working under OS X with (for CardDav)\n- Manual Configuration\n- Username: your-user\n- Password: *\n- Server Address: http://dav.server.com:80\nYes, on the Server Address I just used protocol + domain + port. No need to add /principals/ or whatever else here. Since you've the .well-known direct in place OS X will be able to guess the rest.\n. Ian4101,\nI can confirm that workaround works fine. However this seems more like a cosmetic issue than a serious implementation defect. It's just some command failing to reply properly to the client.\n. It's marked as a bug... no reason to be closed.\n. Hello,\nIf you're using lighttpd, you should add this to your conf:\n$HTTP[\"host\"] =~ \"^dav.dirserver.dev$\" {\n        url.redirect += (\n                \"^/.well-known/carddav(.*)\" => \"/card.php$1\",\n                \"^/.well-known/caldav(.*)\" => \"/cal.php$1\"\n        )\n}\n. @erkyrath After the http server redirect, I was able to get it working under OS X with (for CardDav)\n- Manual Configuration\n- Username: your-user\n- Password: *\n- Server Address: http://dav.server.com:80\nYes, on the Server Address I just used protocol + domain + port. No need to add /principals/ or whatever else here. Since you've the .well-known direct in place OS X will be able to guess the rest.\n. ",
    "cmrcx": "I had this issue after I deleted a calendar in the Baikal admin webpage. The calendar was added by the Reminders app and Reminders refused to delete it.\n. I had this issue after I deleted a calendar in the Baikal admin webpage. The calendar was added by the Reminders app and Reminders refused to delete it.\n. ",
    "dennisse": "I'm seeing the same issue with Baikal 0.2.7 and OS X El Capitan.\nI get the same error, both from iCal and from Apache.\nThe same workaround worked as well.\nHowever, the issue still exists, even if a workaround is available.\nAm I right in assuming that, since the issue has been closed, it has been marked as \u00abwon't fix\u00bb, and that you will not be adding support for this feature? - Just seeking clarity here :)\n(Issue #337 seems related, as the action is exactly the opposite of CalDAVRemoveCalendarQueueableOperation)\n. I'm seeing the same issue with Baikal 0.2.7 and OS X El Capitan.\nI get the same error, both from iCal and from Apache.\nThe same workaround worked as well.\nHowever, the issue still exists, even if a workaround is available.\nAm I right in assuming that, since the issue has been closed, it has been marked as \u00abwon't fix\u00bb, and that you will not be adding support for this feature? - Just seeking clarity here :)\n(Issue #337 seems related, as the action is exactly the opposite of CalDAVRemoveCalendarQueueableOperation)\n. ",
    "ahaerpfer": "No, AFAIK currently one the Ba\u00efkal admin can change user PWs via the web GUI.\n. I ran into the same issue and it seems that OSX's Contacts.app does not allow to choose from a list of address books.  It always automatically picks the lexically first one present.  Even worse, if you delete this addr. book it silently switches over to the next one ... no indication or warning that the backend has changed :-(\n(Tested both on Mountain Lion and Mavericks)\n. Hi MathonAnthony, have a look again, the file Specific/virtualhosts/baikal.nginx is there!  It's \"virtualhosts\" (plural) not \"virtualhost\" as in your subject line of this ticket.\nRegarding your ln command above; you will of course have to substitute your real install location for the /var/www/dav.mydomain.com from the documentation, i.e.\nln -s /your/real/install/location/Specific/virtualhosts/baikal.nginx\nAlso, there is a minor error in the nginx example configuration, see https://github.com/jeromeschneider/Baikal/issues/193 for this.  And don't forget to substitute /your/real/install/location inside the file baikal.nginx, too!\nHope this helps.\nCheers\n-Andi\n. sigh ... the file is here:\nhttps://github.com/jeromeschneider/Baikal/blob/master/Specific/virtualhosts/baikal.nginx\n... and at least for me it was also contained in the regular tar.gz package I downloaded from\nhttps://baikal-server.com/get/baikal-regular-0.2.7.tgz\nthe day before yesterday.  So look again or do a fresh download/unpack.  All the rest of my comments from above still apply.\n. Well, that it's not present in the flat package actually makes sense.  As I understand it the flat package is mostly meant for people who have only limited access to their web server (e.g. via FTP, as stated on http://baikal-server.com/) and in particular are not allowed to do any server configuration themselves, anyway.  I.e. throw a PHP application there and rely on the fact that the web server is already configured to run PHP (BTW, the flat package does not contain baikal.apache2 either!).\nFor anything else or if you want to tweak the web server yourself just use the regular package which from my experience works quite nicely, too.\nCheers\n-Andi\n. Cool, thanks!  I wasn't sure if that is really all that's necessary or if there are any other dependencies (I'm not a PHP programmer).\nI'll leave this issue open, nevertheless, to also have this integrated into the official code.\n. Hi Paul,\nyou are certainly right that the document root is a matter of individual configuration.  What I actually wanted to point out is the fact that the path component \"html\" actually is part of the Baikal installation package, so when following INSTALL.md and unpacking/installing the package into\n/var/www/dav.mydomain.com\nthe document root needs to be\n/var/www/dav.mydomain.com/html\ni.e. the last path component literally has to be \"html\".  This is already reflected in the Apache sample configuration in Specific/virtualhosts/baikal.apache2 so the Nginx sample config in Specific/virtualhosts/baikal.nginx should be consistent here.\n(Yes, call me picky, but this was the only stumbling point in an otherwise absolutely smooth installation experience for me.)\nCheers\n-Andi\n. Are you sure this works?  Not being a PHP programmer, when I apply your change to my Tools.php I get the following error message in my web server's error log:\nPHP message: PHP Fatal error:  Class 'Baikal\\Core\\DateTimeZone' not found in /srv/www/baikal.meta.org/Core/Frameworks/Baikal/Core/Tools.php on line 210\nReplacing the call to DateTimeZone::listIdentifiers with an \"absolute\" reference seems to help:\n\\DateTimeZone::listIdentifiers()\n^^^\n. Danger: no guarantees ... this worked for me, it might not work for you!\nI assume you are talking about the Ba\u00efkal admin password.  The hash of the admin PW is stored at the end of Specific/config.php.  What worked for me was to delete the config file and re-do the configuration step:\ncd /your/install/location/Specific\nmv config.php config.php.old\ntouch ENABLE_INSTALL\nand then navigate to\nhttp://yourbaikal.example.com/admin\nThis should bring up the installation/configuration dialog which also allows to set a new admin PW.  When I tried this my SQLite DB file in Specific/db/db.sqlite was untouched, i.e. all the data was still there ...\n... anyway, make a backup first!\nCheers\n-Andi\n. Hi Michael, you can not modify calendar data (or address book data) from the Ba\u00efkal web admin GUI (apart from deleting whole calendars or address books).  But what prevents you from deleting old calendar entries from within your regular calendar client and then syncing back to Ba\u00efkal?\nCheers\n-Andi\n. No, AFAIK currently one the Ba\u00efkal admin can change user PWs via the web GUI.\n. I ran into the same issue and it seems that OSX's Contacts.app does not allow to choose from a list of address books.  It always automatically picks the lexically first one present.  Even worse, if you delete this addr. book it silently switches over to the next one ... no indication or warning that the backend has changed :-(\n(Tested both on Mountain Lion and Mavericks)\n. Hi MathonAnthony, have a look again, the file Specific/virtualhosts/baikal.nginx is there!  It's \"virtualhosts\" (plural) not \"virtualhost\" as in your subject line of this ticket.\nRegarding your ln command above; you will of course have to substitute your real install location for the /var/www/dav.mydomain.com from the documentation, i.e.\nln -s /your/real/install/location/Specific/virtualhosts/baikal.nginx\nAlso, there is a minor error in the nginx example configuration, see https://github.com/jeromeschneider/Baikal/issues/193 for this.  And don't forget to substitute /your/real/install/location inside the file baikal.nginx, too!\nHope this helps.\nCheers\n-Andi\n. sigh ... the file is here:\nhttps://github.com/jeromeschneider/Baikal/blob/master/Specific/virtualhosts/baikal.nginx\n... and at least for me it was also contained in the regular tar.gz package I downloaded from\nhttps://baikal-server.com/get/baikal-regular-0.2.7.tgz\nthe day before yesterday.  So look again or do a fresh download/unpack.  All the rest of my comments from above still apply.\n. Well, that it's not present in the flat package actually makes sense.  As I understand it the flat package is mostly meant for people who have only limited access to their web server (e.g. via FTP, as stated on http://baikal-server.com/) and in particular are not allowed to do any server configuration themselves, anyway.  I.e. throw a PHP application there and rely on the fact that the web server is already configured to run PHP (BTW, the flat package does not contain baikal.apache2 either!).\nFor anything else or if you want to tweak the web server yourself just use the regular package which from my experience works quite nicely, too.\nCheers\n-Andi\n. Cool, thanks!  I wasn't sure if that is really all that's necessary or if there are any other dependencies (I'm not a PHP programmer).\nI'll leave this issue open, nevertheless, to also have this integrated into the official code.\n. Hi Paul,\nyou are certainly right that the document root is a matter of individual configuration.  What I actually wanted to point out is the fact that the path component \"html\" actually is part of the Baikal installation package, so when following INSTALL.md and unpacking/installing the package into\n/var/www/dav.mydomain.com\nthe document root needs to be\n/var/www/dav.mydomain.com/html\ni.e. the last path component literally has to be \"html\".  This is already reflected in the Apache sample configuration in Specific/virtualhosts/baikal.apache2 so the Nginx sample config in Specific/virtualhosts/baikal.nginx should be consistent here.\n(Yes, call me picky, but this was the only stumbling point in an otherwise absolutely smooth installation experience for me.)\nCheers\n-Andi\n. Are you sure this works?  Not being a PHP programmer, when I apply your change to my Tools.php I get the following error message in my web server's error log:\nPHP message: PHP Fatal error:  Class 'Baikal\\Core\\DateTimeZone' not found in /srv/www/baikal.meta.org/Core/Frameworks/Baikal/Core/Tools.php on line 210\nReplacing the call to DateTimeZone::listIdentifiers with an \"absolute\" reference seems to help:\n\\DateTimeZone::listIdentifiers()\n^^^\n. Danger: no guarantees ... this worked for me, it might not work for you!\nI assume you are talking about the Ba\u00efkal admin password.  The hash of the admin PW is stored at the end of Specific/config.php.  What worked for me was to delete the config file and re-do the configuration step:\ncd /your/install/location/Specific\nmv config.php config.php.old\ntouch ENABLE_INSTALL\nand then navigate to\nhttp://yourbaikal.example.com/admin\nThis should bring up the installation/configuration dialog which also allows to set a new admin PW.  When I tried this my SQLite DB file in Specific/db/db.sqlite was untouched, i.e. all the data was still there ...\n... anyway, make a backup first!\nCheers\n-Andi\n. Hi Michael, you can not modify calendar data (or address book data) from the Ba\u00efkal web admin GUI (apart from deleting whole calendars or address books).  But what prevents you from deleting old calendar entries from within your regular calendar client and then syncing back to Ba\u00efkal?\nCheers\n-Andi\n. ",
    "farson2003": "I have entered it here in the bugtracker:\nhttp://www.sogo.nu/bugs/view.php?id=2575\n. I also did the test against ownCloud 5.0.10 instead of Baikal, so it is definetely an SoGo error:.\nAbsolutely reproducible.\nI am not a programmer myself, but I would be happy if the Tb-Sogo developers could look into that.\nWith the situation as is, CardDAV sync with Tb remains absolutely unreliable!\n. Sorry double post.\n. I have entered it here in the bugtracker:\nhttp://www.sogo.nu/bugs/view.php?id=2575\n. I also did the test against ownCloud 5.0.10 instead of Baikal, so it is definetely an SoGo error:.\nAbsolutely reproducible.\nI am not a programmer myself, but I would be happy if the Tb-Sogo developers could look into that.\nWith the situation as is, CardDAV sync with Tb remains absolutely unreliable!\n. Sorry double post.\n. ",
    "bluegreenhorde": "I would also recommend \"eM Client\" if you're using Windows: http://www.emclient.com/\nEvolution for Linux seems to work well.\n. You could also add it to Tools.php manually yourself.\n. You're right. I didn't do proper testing. I made the change that you pointed out and did some better testing. This should work now.\nI'm not really a PHP programmer either. :(\n. I would also recommend \"eM Client\" if you're using Windows: http://www.emclient.com/\nEvolution for Linux seems to work well.\n. You could also add it to Tools.php manually yourself.\n. You're right. I didn't do proper testing. I made the change that you pointed out and did some better testing. This should work now.\nI'm not really a PHP programmer either. :(\n. ",
    "Siox0911": "/closed \nit was a problem with import contacts to the davdroid account. Solved!\n. /closed \nit was a problem with import contacts to the davdroid account. Solved!\n. ",
    "pascal06": "Hello,\nfinally, the installation of Baikal succeeded.\nIn fact,\nThere were two problems.\nFirst,\nI red this issue \nhttps://github.com/jeromeschneider/Baikal/issues/98#issuecomment-22334625\nso I followed Cidious' solution (... \nCore/Frameworks/Flake/Framework.php:116)\nSecond,\nI don't know if there was a bug with Baikal or with my web space, but I \nsaw that in the MySQL base not all the tables where created: adressbook \nand user were missing.\nSo I created them manually, and now it run quite well.\nBut now, I've got one other minor problem with my calendar client \n(Thunderbird + Lightning)\n;)\nThanks for all\nPascal\nLe 21/01/2014 17:52, Frederic Hemberger a \u00e9crit :\n\nDo you have cookies enabled in your browser?\n\u2014\nReply to this email directly or view it on GitHub \nhttps://github.com/jeromeschneider/Baikal/issues/177#issuecomment-32904259.\n. Hello all,\nI've got this problem from a long time now (Thunderbird use only one user/pass for multi account on the same baikal server). I set calendar.network.multirealm Thunderbird option to true, but it doesn't work: thunderbird ask for password again and again.\nCould you help me ? \nThanks in advance.\n. Hello, \n\nIt didn't work for me. \nOn 28.04.2015 10:56, fitgura wrote: \n\nYes. Just restart tb and done :)\nSent from Type Mail\nOn 2015. \u00e1pr. 28. 10:18, at 10:18, farvardin notifications@github.com wrote:\n\nif I remember well, it keeps asking, then when you set the option to\ntrue, after you close TB and restart it, it might ask just one more\ntime, and them it's done.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/netgusto/Baikal/issues/215#issuecomment-96969562 \n\n\nReply to this email directly or view it on GitHub [1].\n\nLinks:\n[1] https://github.com/netgusto/Baikal/issues/215#issuecomment-96981641\n. Le 28/04/2015 16:25, farvardin a \u00e9crit :\n\nI'm using Ba\u00efkal 0.2.7, with one server, 4 accounts and 6-8 clients, \nno problem for me.\nHave you tried on different computers?\nI load those URL in TB:\nhttp://192.168.0.100/baikal/cal.php/calendars/account1/default\nhttp://192.168.0.100/baikal/cal.php/calendars/account2/cal01\nhttp://192.168.0.100/baikal/cal.php/calendars/account2/cal02\nHere are my notes:\nif you need to get access to multiple Baikal accounts on the same \nserveur, you need to change the multirealm settings in Thunderbirds \nabout:config. Go to \"Tools\" => \"Options\" => \"Advanced\" => \"Config \nEditor\". Search for \"calendar.network.multirealm\" and change the \ndefault (false) to \"true\". Delete all passwords and restart \nThunderbird. Now each calendar asks for a user / password.\nMaybe the important part is: \"Delete all passwords and restart \nThunderbird.\"\n\u2014\nReply to this email directly or view it on GitHub \nhttps://github.com/netgusto/Baikal/issues/215#issuecomment-97082709.\nGood evening,\nI tried again all theses advices, but nothing again.\nI created a fresh new profile (so, without any password...) in TB with \njust Lightning, SoGo, and multiream option enabled.... It ask for \npassword again and again :\nhttp://i19.servimg.com/u/f19/17/14/08/50/baikal11.jpg\nhttp://i19.servimg.com/u/f19/17/14/08/50/baikal12.jpg\nI just want to configure two differents users:\nhttp://www.mysite.com/diary/cal.php/calendars/pascal/default/\nand\nhttp://www.mysite.com/diary/cal.php/calendars/audrey/default/\n\nRegards,\nPascal\n. Hello Farvardin,\nI just removed Sogo and give it a try again, but the problem is always there :(\n. Hello,\nfinally, the installation of Baikal succeeded.\nIn fact,\nThere were two problems.\nFirst,\nI red this issue \nhttps://github.com/jeromeschneider/Baikal/issues/98#issuecomment-22334625\nso I followed Cidious' solution (... \nCore/Frameworks/Flake/Framework.php:116)\nSecond,\nI don't know if there was a bug with Baikal or with my web space, but I \nsaw that in the MySQL base not all the tables where created: adressbook \nand user were missing.\nSo I created them manually, and now it run quite well.\nBut now, I've got one other minor problem with my calendar client \n(Thunderbird + Lightning)\n;)\nThanks for all\nPascal\nLe 21/01/2014 17:52, Frederic Hemberger a \u00e9crit :\n\nDo you have cookies enabled in your browser?\n\u2014\nReply to this email directly or view it on GitHub \nhttps://github.com/jeromeschneider/Baikal/issues/177#issuecomment-32904259.\n. Hello all,\nI've got this problem from a long time now (Thunderbird use only one user/pass for multi account on the same baikal server). I set calendar.network.multirealm Thunderbird option to true, but it doesn't work: thunderbird ask for password again and again.\nCould you help me ? \nThanks in advance.\n. Hello, \n\nIt didn't work for me. \nOn 28.04.2015 10:56, fitgura wrote: \n\nYes. Just restart tb and done :)\nSent from Type Mail\nOn 2015. \u00e1pr. 28. 10:18, at 10:18, farvardin notifications@github.com wrote:\n\nif I remember well, it keeps asking, then when you set the option to\ntrue, after you close TB and restart it, it might ask just one more\ntime, and them it's done.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/netgusto/Baikal/issues/215#issuecomment-96969562 \n\n\nReply to this email directly or view it on GitHub [1].\n\nLinks:\n[1] https://github.com/netgusto/Baikal/issues/215#issuecomment-96981641\n. Le 28/04/2015 16:25, farvardin a \u00e9crit :\n\nI'm using Ba\u00efkal 0.2.7, with one server, 4 accounts and 6-8 clients, \nno problem for me.\nHave you tried on different computers?\nI load those URL in TB:\nhttp://192.168.0.100/baikal/cal.php/calendars/account1/default\nhttp://192.168.0.100/baikal/cal.php/calendars/account2/cal01\nhttp://192.168.0.100/baikal/cal.php/calendars/account2/cal02\nHere are my notes:\nif you need to get access to multiple Baikal accounts on the same \nserveur, you need to change the multirealm settings in Thunderbirds \nabout:config. Go to \"Tools\" => \"Options\" => \"Advanced\" => \"Config \nEditor\". Search for \"calendar.network.multirealm\" and change the \ndefault (false) to \"true\". Delete all passwords and restart \nThunderbird. Now each calendar asks for a user / password.\nMaybe the important part is: \"Delete all passwords and restart \nThunderbird.\"\n\u2014\nReply to this email directly or view it on GitHub \nhttps://github.com/netgusto/Baikal/issues/215#issuecomment-97082709.\nGood evening,\nI tried again all theses advices, but nothing again.\nI created a fresh new profile (so, without any password...) in TB with \njust Lightning, SoGo, and multiream option enabled.... It ask for \npassword again and again :\nhttp://i19.servimg.com/u/f19/17/14/08/50/baikal11.jpg\nhttp://i19.servimg.com/u/f19/17/14/08/50/baikal12.jpg\nI just want to configure two differents users:\nhttp://www.mysite.com/diary/cal.php/calendars/pascal/default/\nand\nhttp://www.mysite.com/diary/cal.php/calendars/audrey/default/\n\nRegards,\nPascal\n. Hello Farvardin,\nI just removed Sogo and give it a try again, but the problem is always there :(\n. ",
    "untitaker": "An alternative (easier/faster) fix would be to require the referrer of the POST requests to have the same origin as the currently requested URL. Described here. This should be better than nothing, but CSRF-tokens still have fewer downsides.\n. Note that you would have to require the referrer header to be set on any POST. Otherwise CSRF is still possible.\nIf you can find an easy-to-use CSRF-token-library it'd be better to use that, but you'd have to maintain its state too.\n. Bounty: https://www.bountysource.com/issues/7502555-important-security-issue-use-csrf-tokens-in-admin-interface\nLike everybody else I'd prefer a token-based solution but Referer-based is totally fine if the tooling is unacceptable.\n. I can't reproduce the issue described in the OP, but a different, related one. If I resize my viewport down to <550px width, then expand and collapse the menu, the menu gets the attribute style=\"height: 0px\" assigned via JS.\nIf I then resize my viewport to 550-980px width, neither the menu button nor the menu is visible. This is caused by the height: 0 previously added.\n. We could also use <input type=color> for now, would probably help minimize codebase.\n. I just use the same thing as ownCloud. It works just fine, and I think it would be unnecessary duplication to also include it in Baikal's docs.\n. There are two incompatible ways to represent groups: https://github.com/bitfireAT/davdroid/issues/400\n. I don't have any idea. The apple-way seems more close to what will come with vCard v4 though.\n. It would also be nice if you could add OAuth to the DAV interfaces.\n. AFAIK ownCloud has extra code (a plugin) to be compatible with Tomdroid... I think this is out of scope for Baikal.\n. Only tasks are supported through CalDAV/iCalendar, but I don't think Tomdroid is compatible with those.\n. \nYes, if I try to create a new calendar with name lol_asdf (also as URL slug), Baikal tells me that the underscore isn't a valid character in that field. I don't see a reason why it couldn't be.\nThis was only a minor annoyance while migrating data from another DAV server to Baikal.\n. 0.2.7 as it is the stable version.\n. :100:\n. Querying only a specific timerange from the server is the sync client's job. CalDAV (and therefore Baikal) offers an API for that and e.g. CalDAV-Sync for Android uses this feature.\n. You could use bup or any similar tool to back up the whole installation.\n. It is probably right though. Dumps are actually smaller than the DB itself. If you're unsure, just backup the entire DB file as-is...\nOn 27 August 2016 12:49:29 CEST, hermann-san notifications@github.com wrote:\n\nwould someone mind to help a beginner with sqlite backup? Is this the\ncommand I have to execute in the Specific/db directory? \necho .dump | sqlite3 my.db | gzip > mydb.sql.gz\nmy db.sqlite file has 26kb in size, but the db-dump \"mydb.sql.gz\" is\nonly 1kb in size. That doesn't look right to me.\nThanks.\n\nYou are receiving this because you commented.\nReply to this email directly or view it on GitHub:\nhttps://github.com/fruux/Baikal/issues/342#issuecomment-242910301\n\n\nSent from my Android device with K-9 Mail. Please excuse my brevity.\n. 1kb is much more than that, though in hindsight I find a 26x difference odd as well.\n. In the case of corrupted data, a complete file copy would be better. .sql.gz dumps are done because: \n- If you're backing up while Baikal is doing something on the DB (read/write some contacts or calendars), a simple file copy will result in a corrupted backup. .sql.gz dumps are better in this case because sqlite3 will try to acquire the lock properly.\n- .sql.gz dumps are smaller, even if not gzipped.\nIf you just backup the entire harddrive (or some subtree) regularly, I see no reason to do per-app backups.\n. Oh, I think I know why you're getting that small dump: my.db has to be db.sqlite, or however your file is called in the Specific folder. Something with db.\n. Of course Uberspace has no way of knowing how your DB is called. I'd rather fault sqlite3 for not producing an error.\n. You're welcome!\n. Kind-of related: Enabling/disabling calendars in the sidebar should change the URL accordingly. Currently I don't see a way to create a permalink for a specific set of calendars.\n. You can filter for these HTTP methods in the webserver log to get data changes:\n- PUT\n- DELETE\n- PROPPATCH\n- POST\n. No idea if this PR is correct (since it patches a dependency instead of baikal), but applying it to the Baikal 0.3.0 pre-release fixes a fatal crash I encountered:\n[Mon Feb 15 15:11:39 2016] PHP Fatal error:  Uncaught Error: Class 'Flake\\Core\\Database\\PDO' not found in /home/untitaker/projects/baikal-testserver/baikal/Core/Frameworks/Flake/Core/Database/Sqlite.php:40\n. This is a configuration issue with nginx, I am unable to set DOCUMENT_ROOT to a sensible value. Effectively the kind of URL setup I want is not possible anymore, 301 the only option.\n. I didn't realize that a new version hasn't been released! To be clear, this bug corrupts the DB in some way, i.e. redoing the migration with the patch applied will fail too.\n. There are a lot of rules there that apply for ownCloud, not Baikal. All that redirect to remote.php, essentially.\n. Does the admin interface work?\n. The same exact config works for me. Could you provide HTTP logs of either Thunderbird or DAVDroid? I believe Thunderbird has a debug console which might give you this information. For DAVDroid you can use http://mitmproxy.org/\n. is that the only output? Could you try what is described here to set the logging level to debug: http://oxpedia.org/wiki/index.php?title=SetUpThunderbirdLightningCalDAVClient#Debug_Options\n. It might be harder to block that stuff by-path because an attacker might be able to bypass those via /index.php/admin/ and similarly contrived URLs.\n. > I freshly installed Baikal. If I open it in the browser, I get: ../Core/Frameworks/Baikal/WWWRoot/index.php\nCould you hit Ctrl-U and post what is showing there? You might not have PHP installed.\n. This is confusing. Is the server public? Can I look for myself?\nGoogle Translate: Ceci est d\u00e9routant. Le public est-serveur? Puis-je regarder pour moi-m\u00eame?\n. The first link wants me to log in.\n. I think you used the wrong zipfile. You want baikal-0.3.5.zip, not Source code.\nEDIT: Reason for this assumption: http://wendling.shost.ca/cc/.gitignore\n. https://github.com/fruux/Baikal/releases\nOn Sun, Feb 28, 2016 at 12:00:47PM -0800, michelwend wrote:\n\nWhere is the link to download the proper zipfile: baikal-0.3.5.zip\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/fruux/Baikal/issues/473#issuecomment-189935239\n. Maybe eM client has a debug option that captures HTTP traffic?\n. Closing because it's not an issue with Baikal.\n. It'd be useful to see the raw HTTP traffic. If Apple's Calendar software doesn't provide debug logs or anything like that, http://mitmproxy.org/ can be used.\n. This is why I recommended mitmproxy: It allows MITMing TLS connections by installing a new root CA. Similar to https://www.charlesproxy.com/, which might be easier to use, I don't know.\n. > Ok, I have turned off TLS/HTTPS and captured a failed delete calendar attempt using Wireshark\n\nI guess that's also an option... make sure to change your password :D \n\nIn what format do you want the data?\n\nI don't know/care (never really used Wireshark successfully), but probably in a gist/pastebin instead of inline in this conversation.\n. I... probably a text file? (\"K12 text file\")\n. I'm not sure what iCal is expecting, but I think it tries to parse the empty response body as XML. Could you capture interaction with a server where calendar deletion doesn't result in that error? (iCloud I suppose?)\n. There are a lot of broken servers that don't implement collection discovery right, so sometimes the only way to work across most servers is close to brute force.\nNo idea why it's doing that now though.\n. The \"API\" is called CalDAV.\nOn Thu, Mar 10, 2016 at 03:02:43AM -0800, twisters77 wrote:\n\nHello\nexist a API for the CalDav calendar? I would like display my next calendar entry on a website. I trying to create a \"Magic Mirror\".\nregards Patric\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/fruux/Baikal/issues/481\n. Not really since Baikal has no user interface for this.\n\nYou should look into a CalDAV client library for your preferred language, and take it from there.\nPerhaps you can set up khal with a really large font size?\n. Which other requests did it send?\nOn 11 March 2016 11:49:01 CET, Tobias Witt notifications@github.com wrote:\n\nI installed the latest release yesterday and everthing worked fine with\nmy mac. But when I added the account on my iPhone however it wasn't\nsending any PUT requests (which I saw in the server logs) when I\nchanged or added a contact with the iPhone. I downgraded to 0.2.7 now\nand now it works.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/fruux/Baikal/issues/486\n\n\nSent from my Android device with K-9 Mail. Please excuse my brevity.\n. Ah. You might have to force iOS to rediscover the collections, e.g. by\n- selecting which collections to sync\n- removing the account and adding it again\n. The request and the response seem entirely unrelated. calendar-proxy-read is indicating that you modified Baikal in a way that allows sharing calendars between users. Perhaps that is the problem?\n. Could Baikal do this by itself as part of upgrading DB?\n. That seems pretty problematic as the SQLite file path is arbitrary PHP code that is executed.\n. Deleting html/admin/install/index.php seems to do the trick. Perhaps this could be done as part of the upgrading process?\n. None of {md5,sha256,sha512} are remotely secure options!\nhttps://paragonie.com/blog/2016/02/how-safely-store-password-in-2016\n. I don't see the purpose of Digest authentication given that HTTPS is supposed to be used everywhere anyway?\nWhile I don't know anything about PHP, password_hash seems the way to go.\nOn 23 March 2016 18:27:34 CET, Evert Pot notifications@github.com wrote:\n\nThe main issue here is that if we hash the password in a different way,\nwe can no longer use Digest authentication. Basic is an option, but\nit's even worse for those that are not on HTTPS yet (for whatever\nreason).\nIf you want to know more about the current hashing approach, look no\nfurther than rfc7616.\n\nYou are receiving this because you commented.\nReply to this email directly or view it on GitHub:\nhttps://github.com/fruux/Baikal/issues/514#issuecomment-200452931\n\n\nSent from my Android device with K-9 Mail. Please excuse my brevity.\n. Sensible plan although I would specifically use password_hash, which is not married to bcrypt and can automatically upgrade to stronger algorithms as they become available.\n. General deployment may be an unsolved problem but your change isn't going to make it any easier.. Thats what i was suggesting above.. Sorry, but this is the completely wrong issue tracker for this issue.\n. Ah, I missed that you modified Baikal for the Browser plugin.\n. Eek, the previous comment was a brainfart of mine. I assumed the wrong repo.\nAnyway, Baikal doesn't have a way to migrate between databases... as far as I understand, the best way to do this is to import/export your data somehow (via a client?) and then import after reconfiguration.\n. I deleted it.\n. I didn't really mean DB client, rather CalDAV/CardDAV client btw.\n. Which command did not work? How did it fail?\n. It is not listed how it failed.\n. Okay, so you apparently want me to pull every bit of information out of your nose:\n- What did the chmod command output? stdout/stderr\n- How did the installation through the browser \"not work\"? Again, what was shown? Were there any server logs for that request?\n. @jpalcantara The main problem is that you're using a third-party tutorial to install Baikal. This tutorial in particular is for an older version of Baikal, and therefore won't work with newer ones.\nPlease follow the link @evert provided, the official documentation of Baikal.\n. Duplicate of #550. Your behavior is extremely rude.\n. At this point I would like to remind you that this is not some form of \"customer support\" where you are entitled to yell at and degrade underpaid interns, but other people spending their freetime with your issues.\n\nSo I had asked in the issue if this install would work and the answer was YES\n\nCould you provide a reference for this? #550 does not contain anything like that.\n. There is no business. This is software that was programmed by people in their freetime.\nI'd like to see you try to find anybody wanting to help you with that attitude.\n. I'm not affiliated with Baikal. Thank netgusto and evert for what they're doing.\nOP, if you want no more emails, you can unsubscribe in the sidebar. But you're the competent one around here...\nOn 25 May 2016 22:24:57 CEST, Aeon512 notifications@github.com wrote:\n\nI second this absolutely. Baikal provides the best CardDAV and CalDAV\nexperience, is actively maintained, and the support is absolutely fast\nand excellent. I absolutely appreciate all the efforts put into Baikal.\n\nYou are receiving this because you commented.\nReply to this email directly or view it on GitHub:\nhttps://github.com/fruux/Baikal/issues/551#issuecomment-221696100\n\n\nSent from my Android device with K-9 Mail. Please excuse my brevity.\n. You can delete html/admin or set its permissions to something Apache can't read.\n. Why is it not planned?\n. I don't know the extensions well, but there is still a difference between enumerating all users' addresses and being able to do a blind check if one exists in the system. E.g. if you already know a user's address for sharing calendars with them, why would you need the entire list?\n. Whether this is a cosmetic feature or a data leak depends in which environment Baikal is used. You seem to have a particular one in mind, and I suspect that this environment doesn't look anything like the average Baikal user's.\n. I didn't mean to tell you how to spend your freetime, but closing the issue instead of keeping it open (but unassigned) doesn't look like acknowledgement to me.\n. @dibead Is there any update on this?\n. I strongly doubt this is a bug in Baikal. It is likely that iPod doesn't set STATUS:DONE.\n. To be sure it would be nice to have one of those \"done-but-not-really\" tasks exported and pasted here (exported as ICS file).\n. That is the same with most Android vendors, Apple is actually much better in that regard.\nAn Android device that old would probably not even have a maintained CyanogenMod ROM.\n. Please look into the error log that Strato (hopefully) provides to see what's wrong. \"500\" just means \"something went wrong\".\n. I see. I think you need to enable error logs manually: https://www.strato.de/faq/article/1377/H%C3%A4ufige-Fehlermeldungen-beim-Ausf%C3%BChren-von-PHP-Scripten.html\nBTW I recommend Uberspace over Strato (for hosting in GER)\n. Which error do you get? http://mydomain.de/baikal/html/card.php/ should work as well.\n. Agreed\n. If the project @Tntdruid mentioned works (I somewhat doubt it), it's definetly easier than setting vdirsyncer up. Always make backups in any case!\n. I don't think there is any way other than installing 0.2.7, then sequentially the next versions until you're at 0.4.6\n. That's still how it is. You don't need to install exactly each version, perhaps @evert can help out here.\nOn 11 September 2016 12:32:57 CEST, Vertux notifications@github.com wrote:\n\nOh my gosh, that would be a pain, I can not believe, that there is no\nother opportunity \n\nYou are receiving this because you commented.\nReply to this email directly or view it on GitHub:\nhttps://github.com/fruux/Baikal/issues/606#issuecomment-246173355\n\n\nSent from my Android device with K-9 Mail. Please excuse my brevity.\n. Ah, sorry! It appears that upgrading from 0.2.3 to 0.4.6 is not supported, but\nyou ran 0.2.7.\nOn Sun, Sep 11, 2016 at 05:47:40AM -0700, Vertux wrote:\n\nIt worked like a charm. \nI have done a new installation of Baikal 0.4.6 then I deleted the Specific directory and moved the old Specific directory (v0.2.7) into the new installation. After that I have created a new Baikal MySQL database and a MySQL Baikal user, which matches the old parameters in config.system.php. Then I have restored the the backup of my old Baikal MySQL database. The last step was using the browser to navigate to Baikals admin page - and voila, it was done.\n\nYou are receiving this because you were mentioned.\nReply to this email directly or view it on GitHub:\nhttps://github.com/fruux/Baikal/issues/606#issuecomment-246178510\n. @evert could you have a look? Is there a better way to vendor bootstrap?\n. yeah @netgusto the commit is written that way.\n\nSo the site being hosted on sabre.io is the permanent state?\n. Perhaps you are using an older version? Same behavior as in Travis CI on my machine.\n. Brute force is easy to carry out over a remote network? Wouldn't you have a firewall and/or fail2ban for that? How does 2FA protect against brute force?\n. Of course 2FA improves security in some way but it doesn't help against bruteforce. Actual bruteforce is not possible over a remote connection if your password is good and you have proper DoS detection.\n. There is no browser for the calendar and addressbook content in Baikal.. Ah I see. I don't think there's a clean way to disable that. Why do you need to do this? It's password-protected anyway.. /dav.php/ is the path you want, assuming your baikal instance is available under /. I recommend setting up equivalent redirects as the ones shown in the docs becaues this will make setting up clients easier.. Oh, reopening because showing the URL in the frontend is indeed an improvement.. The client should really autodetect that.\nOn 24 January 2017 21:40:58 CET, 22decembre notifications@github.com wrote:\n\nThank you !\nSo te url should be something like ...\n/dav.php/user/default ?\n-- \nYou are receiving this because you modified the open/close state.\nReply to this email directly or view it on GitHub:\nhttps://github.com/fruux/Baikal/issues/664#issuecomment-274931834\n\n-- \nSent from my Android device with K-9 Mail. Please excuse my brevity.. @Mrres58 To change the maximum execution time you have to edit php.ini and then, in some cases, restart your webserver. Where this file is depends... on mine it is at /etc/php/php.ini.. An alternative (easier/faster) fix would be to require the referrer of the POST requests to have the same origin as the currently requested URL. Described here. This should be better than nothing, but CSRF-tokens still have fewer downsides.\n. Note that you would have to require the referrer header to be set on any POST. Otherwise CSRF is still possible.\nIf you can find an easy-to-use CSRF-token-library it'd be better to use that, but you'd have to maintain its state too.\n. Bounty: https://www.bountysource.com/issues/7502555-important-security-issue-use-csrf-tokens-in-admin-interface\nLike everybody else I'd prefer a token-based solution but Referer-based is totally fine if the tooling is unacceptable.\n. I can't reproduce the issue described in the OP, but a different, related one. If I resize my viewport down to <550px width, then expand and collapse the menu, the menu gets the attribute style=\"height: 0px\" assigned via JS.\nIf I then resize my viewport to 550-980px width, neither the menu button nor the menu is visible. This is caused by the height: 0 previously added.\n. We could also use <input type=color> for now, would probably help minimize codebase.\n. I just use the same thing as ownCloud. It works just fine, and I think it would be unnecessary duplication to also include it in Baikal's docs.\n. There are two incompatible ways to represent groups: https://github.com/bitfireAT/davdroid/issues/400\n. I don't have any idea. The apple-way seems more close to what will come with vCard v4 though.\n. It would also be nice if you could add OAuth to the DAV interfaces.\n. AFAIK ownCloud has extra code (a plugin) to be compatible with Tomdroid... I think this is out of scope for Baikal.\n. Only tasks are supported through CalDAV/iCalendar, but I don't think Tomdroid is compatible with those.\n. \nYes, if I try to create a new calendar with name lol_asdf (also as URL slug), Baikal tells me that the underscore isn't a valid character in that field. I don't see a reason why it couldn't be.\nThis was only a minor annoyance while migrating data from another DAV server to Baikal.\n. 0.2.7 as it is the stable version.\n. :100:\n. Querying only a specific timerange from the server is the sync client's job. CalDAV (and therefore Baikal) offers an API for that and e.g. CalDAV-Sync for Android uses this feature.\n. You could use bup or any similar tool to back up the whole installation.\n. It is probably right though. Dumps are actually smaller than the DB itself. If you're unsure, just backup the entire DB file as-is...\nOn 27 August 2016 12:49:29 CEST, hermann-san notifications@github.com wrote:\n\nwould someone mind to help a beginner with sqlite backup? Is this the\ncommand I have to execute in the Specific/db directory? \necho .dump | sqlite3 my.db | gzip > mydb.sql.gz\nmy db.sqlite file has 26kb in size, but the db-dump \"mydb.sql.gz\" is\nonly 1kb in size. That doesn't look right to me.\nThanks.\n\nYou are receiving this because you commented.\nReply to this email directly or view it on GitHub:\nhttps://github.com/fruux/Baikal/issues/342#issuecomment-242910301\n\n\nSent from my Android device with K-9 Mail. Please excuse my brevity.\n. 1kb is much more than that, though in hindsight I find a 26x difference odd as well.\n. In the case of corrupted data, a complete file copy would be better. .sql.gz dumps are done because: \n- If you're backing up while Baikal is doing something on the DB (read/write some contacts or calendars), a simple file copy will result in a corrupted backup. .sql.gz dumps are better in this case because sqlite3 will try to acquire the lock properly.\n- .sql.gz dumps are smaller, even if not gzipped.\nIf you just backup the entire harddrive (or some subtree) regularly, I see no reason to do per-app backups.\n. Oh, I think I know why you're getting that small dump: my.db has to be db.sqlite, or however your file is called in the Specific folder. Something with db.\n. Of course Uberspace has no way of knowing how your DB is called. I'd rather fault sqlite3 for not producing an error.\n. You're welcome!\n. Kind-of related: Enabling/disabling calendars in the sidebar should change the URL accordingly. Currently I don't see a way to create a permalink for a specific set of calendars.\n. You can filter for these HTTP methods in the webserver log to get data changes:\n- PUT\n- DELETE\n- PROPPATCH\n- POST\n. No idea if this PR is correct (since it patches a dependency instead of baikal), but applying it to the Baikal 0.3.0 pre-release fixes a fatal crash I encountered:\n[Mon Feb 15 15:11:39 2016] PHP Fatal error:  Uncaught Error: Class 'Flake\\Core\\Database\\PDO' not found in /home/untitaker/projects/baikal-testserver/baikal/Core/Frameworks/Flake/Core/Database/Sqlite.php:40\n. This is a configuration issue with nginx, I am unable to set DOCUMENT_ROOT to a sensible value. Effectively the kind of URL setup I want is not possible anymore, 301 the only option.\n. I didn't realize that a new version hasn't been released! To be clear, this bug corrupts the DB in some way, i.e. redoing the migration with the patch applied will fail too.\n. There are a lot of rules there that apply for ownCloud, not Baikal. All that redirect to remote.php, essentially.\n. Does the admin interface work?\n. The same exact config works for me. Could you provide HTTP logs of either Thunderbird or DAVDroid? I believe Thunderbird has a debug console which might give you this information. For DAVDroid you can use http://mitmproxy.org/\n. is that the only output? Could you try what is described here to set the logging level to debug: http://oxpedia.org/wiki/index.php?title=SetUpThunderbirdLightningCalDAVClient#Debug_Options\n. It might be harder to block that stuff by-path because an attacker might be able to bypass those via /index.php/admin/ and similarly contrived URLs.\n. > I freshly installed Baikal. If I open it in the browser, I get: ../Core/Frameworks/Baikal/WWWRoot/index.php\nCould you hit Ctrl-U and post what is showing there? You might not have PHP installed.\n. This is confusing. Is the server public? Can I look for myself?\nGoogle Translate: Ceci est d\u00e9routant. Le public est-serveur? Puis-je regarder pour moi-m\u00eame?\n. The first link wants me to log in.\n. I think you used the wrong zipfile. You want baikal-0.3.5.zip, not Source code.\nEDIT: Reason for this assumption: http://wendling.shost.ca/cc/.gitignore\n. https://github.com/fruux/Baikal/releases\nOn Sun, Feb 28, 2016 at 12:00:47PM -0800, michelwend wrote:\n\nWhere is the link to download the proper zipfile: baikal-0.3.5.zip\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/fruux/Baikal/issues/473#issuecomment-189935239\n. Maybe eM client has a debug option that captures HTTP traffic?\n. Closing because it's not an issue with Baikal.\n. It'd be useful to see the raw HTTP traffic. If Apple's Calendar software doesn't provide debug logs or anything like that, http://mitmproxy.org/ can be used.\n. This is why I recommended mitmproxy: It allows MITMing TLS connections by installing a new root CA. Similar to https://www.charlesproxy.com/, which might be easier to use, I don't know.\n. > Ok, I have turned off TLS/HTTPS and captured a failed delete calendar attempt using Wireshark\n\nI guess that's also an option... make sure to change your password :D \n\nIn what format do you want the data?\n\nI don't know/care (never really used Wireshark successfully), but probably in a gist/pastebin instead of inline in this conversation.\n. I... probably a text file? (\"K12 text file\")\n. I'm not sure what iCal is expecting, but I think it tries to parse the empty response body as XML. Could you capture interaction with a server where calendar deletion doesn't result in that error? (iCloud I suppose?)\n. There are a lot of broken servers that don't implement collection discovery right, so sometimes the only way to work across most servers is close to brute force.\nNo idea why it's doing that now though.\n. The \"API\" is called CalDAV.\nOn Thu, Mar 10, 2016 at 03:02:43AM -0800, twisters77 wrote:\n\nHello\nexist a API for the CalDav calendar? I would like display my next calendar entry on a website. I trying to create a \"Magic Mirror\".\nregards Patric\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/fruux/Baikal/issues/481\n. Not really since Baikal has no user interface for this.\n\nYou should look into a CalDAV client library for your preferred language, and take it from there.\nPerhaps you can set up khal with a really large font size?\n. Which other requests did it send?\nOn 11 March 2016 11:49:01 CET, Tobias Witt notifications@github.com wrote:\n\nI installed the latest release yesterday and everthing worked fine with\nmy mac. But when I added the account on my iPhone however it wasn't\nsending any PUT requests (which I saw in the server logs) when I\nchanged or added a contact with the iPhone. I downgraded to 0.2.7 now\nand now it works.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/fruux/Baikal/issues/486\n\n\nSent from my Android device with K-9 Mail. Please excuse my brevity.\n. Ah. You might have to force iOS to rediscover the collections, e.g. by\n- selecting which collections to sync\n- removing the account and adding it again\n. The request and the response seem entirely unrelated. calendar-proxy-read is indicating that you modified Baikal in a way that allows sharing calendars between users. Perhaps that is the problem?\n. Could Baikal do this by itself as part of upgrading DB?\n. That seems pretty problematic as the SQLite file path is arbitrary PHP code that is executed.\n. Deleting html/admin/install/index.php seems to do the trick. Perhaps this could be done as part of the upgrading process?\n. None of {md5,sha256,sha512} are remotely secure options!\nhttps://paragonie.com/blog/2016/02/how-safely-store-password-in-2016\n. I don't see the purpose of Digest authentication given that HTTPS is supposed to be used everywhere anyway?\nWhile I don't know anything about PHP, password_hash seems the way to go.\nOn 23 March 2016 18:27:34 CET, Evert Pot notifications@github.com wrote:\n\nThe main issue here is that if we hash the password in a different way,\nwe can no longer use Digest authentication. Basic is an option, but\nit's even worse for those that are not on HTTPS yet (for whatever\nreason).\nIf you want to know more about the current hashing approach, look no\nfurther than rfc7616.\n\nYou are receiving this because you commented.\nReply to this email directly or view it on GitHub:\nhttps://github.com/fruux/Baikal/issues/514#issuecomment-200452931\n\n\nSent from my Android device with K-9 Mail. Please excuse my brevity.\n. Sensible plan although I would specifically use password_hash, which is not married to bcrypt and can automatically upgrade to stronger algorithms as they become available.\n. General deployment may be an unsolved problem but your change isn't going to make it any easier.. Thats what i was suggesting above.. Sorry, but this is the completely wrong issue tracker for this issue.\n. Ah, I missed that you modified Baikal for the Browser plugin.\n. Eek, the previous comment was a brainfart of mine. I assumed the wrong repo.\nAnyway, Baikal doesn't have a way to migrate between databases... as far as I understand, the best way to do this is to import/export your data somehow (via a client?) and then import after reconfiguration.\n. I deleted it.\n. I didn't really mean DB client, rather CalDAV/CardDAV client btw.\n. Which command did not work? How did it fail?\n. It is not listed how it failed.\n. Okay, so you apparently want me to pull every bit of information out of your nose:\n- What did the chmod command output? stdout/stderr\n- How did the installation through the browser \"not work\"? Again, what was shown? Were there any server logs for that request?\n. @jpalcantara The main problem is that you're using a third-party tutorial to install Baikal. This tutorial in particular is for an older version of Baikal, and therefore won't work with newer ones.\nPlease follow the link @evert provided, the official documentation of Baikal.\n. Duplicate of #550. Your behavior is extremely rude.\n. At this point I would like to remind you that this is not some form of \"customer support\" where you are entitled to yell at and degrade underpaid interns, but other people spending their freetime with your issues.\n\nSo I had asked in the issue if this install would work and the answer was YES\n\nCould you provide a reference for this? #550 does not contain anything like that.\n. There is no business. This is software that was programmed by people in their freetime.\nI'd like to see you try to find anybody wanting to help you with that attitude.\n. I'm not affiliated with Baikal. Thank netgusto and evert for what they're doing.\nOP, if you want no more emails, you can unsubscribe in the sidebar. But you're the competent one around here...\nOn 25 May 2016 22:24:57 CEST, Aeon512 notifications@github.com wrote:\n\nI second this absolutely. Baikal provides the best CardDAV and CalDAV\nexperience, is actively maintained, and the support is absolutely fast\nand excellent. I absolutely appreciate all the efforts put into Baikal.\n\nYou are receiving this because you commented.\nReply to this email directly or view it on GitHub:\nhttps://github.com/fruux/Baikal/issues/551#issuecomment-221696100\n\n\nSent from my Android device with K-9 Mail. Please excuse my brevity.\n. You can delete html/admin or set its permissions to something Apache can't read.\n. Why is it not planned?\n. I don't know the extensions well, but there is still a difference between enumerating all users' addresses and being able to do a blind check if one exists in the system. E.g. if you already know a user's address for sharing calendars with them, why would you need the entire list?\n. Whether this is a cosmetic feature or a data leak depends in which environment Baikal is used. You seem to have a particular one in mind, and I suspect that this environment doesn't look anything like the average Baikal user's.\n. I didn't mean to tell you how to spend your freetime, but closing the issue instead of keeping it open (but unassigned) doesn't look like acknowledgement to me.\n. @dibead Is there any update on this?\n. I strongly doubt this is a bug in Baikal. It is likely that iPod doesn't set STATUS:DONE.\n. To be sure it would be nice to have one of those \"done-but-not-really\" tasks exported and pasted here (exported as ICS file).\n. That is the same with most Android vendors, Apple is actually much better in that regard.\nAn Android device that old would probably not even have a maintained CyanogenMod ROM.\n. Please look into the error log that Strato (hopefully) provides to see what's wrong. \"500\" just means \"something went wrong\".\n. I see. I think you need to enable error logs manually: https://www.strato.de/faq/article/1377/H%C3%A4ufige-Fehlermeldungen-beim-Ausf%C3%BChren-von-PHP-Scripten.html\nBTW I recommend Uberspace over Strato (for hosting in GER)\n. Which error do you get? http://mydomain.de/baikal/html/card.php/ should work as well.\n. Agreed\n. If the project @Tntdruid mentioned works (I somewhat doubt it), it's definetly easier than setting vdirsyncer up. Always make backups in any case!\n. I don't think there is any way other than installing 0.2.7, then sequentially the next versions until you're at 0.4.6\n. That's still how it is. You don't need to install exactly each version, perhaps @evert can help out here.\nOn 11 September 2016 12:32:57 CEST, Vertux notifications@github.com wrote:\n\nOh my gosh, that would be a pain, I can not believe, that there is no\nother opportunity \n\nYou are receiving this because you commented.\nReply to this email directly or view it on GitHub:\nhttps://github.com/fruux/Baikal/issues/606#issuecomment-246173355\n\n\nSent from my Android device with K-9 Mail. Please excuse my brevity.\n. Ah, sorry! It appears that upgrading from 0.2.3 to 0.4.6 is not supported, but\nyou ran 0.2.7.\nOn Sun, Sep 11, 2016 at 05:47:40AM -0700, Vertux wrote:\n\nIt worked like a charm. \nI have done a new installation of Baikal 0.4.6 then I deleted the Specific directory and moved the old Specific directory (v0.2.7) into the new installation. After that I have created a new Baikal MySQL database and a MySQL Baikal user, which matches the old parameters in config.system.php. Then I have restored the the backup of my old Baikal MySQL database. The last step was using the browser to navigate to Baikals admin page - and voila, it was done.\n\nYou are receiving this because you were mentioned.\nReply to this email directly or view it on GitHub:\nhttps://github.com/fruux/Baikal/issues/606#issuecomment-246178510\n. @evert could you have a look? Is there a better way to vendor bootstrap?\n. yeah @netgusto the commit is written that way.\n\nSo the site being hosted on sabre.io is the permanent state?\n. Perhaps you are using an older version? Same behavior as in Travis CI on my machine.\n. Brute force is easy to carry out over a remote network? Wouldn't you have a firewall and/or fail2ban for that? How does 2FA protect against brute force?\n. Of course 2FA improves security in some way but it doesn't help against bruteforce. Actual bruteforce is not possible over a remote connection if your password is good and you have proper DoS detection.\n. There is no browser for the calendar and addressbook content in Baikal.. Ah I see. I don't think there's a clean way to disable that. Why do you need to do this? It's password-protected anyway.. /dav.php/ is the path you want, assuming your baikal instance is available under /. I recommend setting up equivalent redirects as the ones shown in the docs becaues this will make setting up clients easier.. Oh, reopening because showing the URL in the frontend is indeed an improvement.. The client should really autodetect that.\nOn 24 January 2017 21:40:58 CET, 22decembre notifications@github.com wrote:\n\nThank you !\nSo te url should be something like ...\n/dav.php/user/default ?\n-- \nYou are receiving this because you modified the open/close state.\nReply to this email directly or view it on GitHub:\nhttps://github.com/fruux/Baikal/issues/664#issuecomment-274931834\n\n-- \nSent from my Android device with K-9 Mail. Please excuse my brevity.. @Mrres58 To change the maximum execution time you have to edit php.ini and then, in some cases, restart your webserver. Where this file is depends... on mine it is at /etc/php/php.ini.. ",
    "syrabo": "Hello,\nMy solution works over the  \"Calendar token ID\"\nWorks with The Steps from Install.md:\n\"Add a new CalDAV account:\nNavigate to \"Lightning\" > \"New account\" > \"On the network\" > \"URL\"\npaste this URL: http://dav.mydomain.com/cal.php/calendars/username/default of and replace the domain name, and the username with the correct values\nWhen asked, provide user/password; your CalDAV account should be up and running\"\nand replace in the URL default with the Token ID\nThe Token ID is in the MySQL database in table \"calendars\" in \"uri\" or by Baikal Web admin: users and resourcen / user / calendars / edit calendar.\nThunderbird/Lightning requires for each calendar the correct calendar URL. \nsyrabo\n. Hello,\nMy solution works over the  \"Calendar token ID\"\nWorks with The Steps from Install.md:\n\"Add a new CalDAV account:\nNavigate to \"Lightning\" > \"New account\" > \"On the network\" > \"URL\"\npaste this URL: http://dav.mydomain.com/cal.php/calendars/username/default of and replace the domain name, and the username with the correct values\nWhen asked, provide user/password; your CalDAV account should be up and running\"\nand replace in the URL default with the Token ID\nThe Token ID is in the MySQL database in table \"calendars\" in \"uri\" or by Baikal Web admin: users and resourcen / user / calendars / edit calendar.\nThunderbird/Lightning requires for each calendar the correct calendar URL. \nsyrabo\n. ",
    "bjo81": "This does not work for me. I have one user with 5 calendars and one user with one calendar. The sync itself works using user@dav... , user and password are also stored, but thunderbird asks for it 6 times on every sync.\nAfter restarting, TB seems to mess up all the user/pass combinations, it produces lots of 403 erros on the baikal-server. Would it be possible to get baikal working with TBs multi-realm option?\n. I have the same issue as @mehlkopf \nUncaught exception during upgrade: exception 'PDOException' with message 'SQLSTATE[42S21]: Column already exists: 1060 Duplicate column name 'synctoken'' in /var/www/bk/Core/Frameworks/BaikalAdmin/Controller/Install/VersionUpgrade.php:167 Stack trace: #0 /var/www/bk/Core/Frameworks/BaikalAdmin/Controller/Install/VersionUpgrade.php(167): PDO->exec('ALTER TABLE cal...') #1 /var/www/bk/Core/Frameworks/BaikalAdmin/Controller/Install/VersionUpgrade.php(61): BaikalAdmin\\Controller\\Install\\VersionUpgrade->upgrade('0.2.7', '0.4.4') #2 /var/www/bk/Core/Frameworks/Flake/Core/Render/Container.php(71): BaikalAdmin\\Controller\\Install\\VersionUpgrade->render() #3 /var/www/bk/Core/Frameworks/Flake/Controller/Page.php(85): Flake\\Core\\Render\\Container->renderBlocks() #4 /var/www/bk/html/admin/install/index.php(83): Flake\\Controller\\Page->render() #5 {main}\nI'm really sure it's 0.2.7 running there and to prevent the issue being caused by a failed upgrade I dropped the database and used a backup from the morning before the upgrade.\n. This does not work for me. I have one user with 5 calendars and one user with one calendar. The sync itself works using user@dav... , user and password are also stored, but thunderbird asks for it 6 times on every sync.\nAfter restarting, TB seems to mess up all the user/pass combinations, it produces lots of 403 erros on the baikal-server. Would it be possible to get baikal working with TBs multi-realm option?\n. I have the same issue as @mehlkopf \nUncaught exception during upgrade: exception 'PDOException' with message 'SQLSTATE[42S21]: Column already exists: 1060 Duplicate column name 'synctoken'' in /var/www/bk/Core/Frameworks/BaikalAdmin/Controller/Install/VersionUpgrade.php:167 Stack trace: #0 /var/www/bk/Core/Frameworks/BaikalAdmin/Controller/Install/VersionUpgrade.php(167): PDO->exec('ALTER TABLE cal...') #1 /var/www/bk/Core/Frameworks/BaikalAdmin/Controller/Install/VersionUpgrade.php(61): BaikalAdmin\\Controller\\Install\\VersionUpgrade->upgrade('0.2.7', '0.4.4') #2 /var/www/bk/Core/Frameworks/Flake/Core/Render/Container.php(71): BaikalAdmin\\Controller\\Install\\VersionUpgrade->render() #3 /var/www/bk/Core/Frameworks/Flake/Controller/Page.php(85): Flake\\Core\\Render\\Container->renderBlocks() #4 /var/www/bk/html/admin/install/index.php(83): Flake\\Controller\\Page->render() #5 {main}\nI'm really sure it's 0.2.7 running there and to prevent the issue being caused by a failed upgrade I dropped the database and used a backup from the morning before the upgrade.\n. ",
    "koehil": "I had the same problem with Thunderbird/Lightning, with in my case two users, where each user wants to see both calendars. \nBjo81, using user1@dav... at first seems to function, but only for downloading \u2013 not for updating the calendar server.\nSince we run Baikal (great software, thank you very much for sharing this Mr. Schneider!) on a shared server, I use a feature that our shared server provider offers: Adding sub domains (we can add an unlimited amount), where the added sub domain routes to the standard domain.\nFor example, for 'user1' the calendar in the Baikal server is located on\nwww.yourdomain.com/baikal/cal.php/calendars/user1/default/ \nAdding this calendar in Lightning is easy and it works quickly.\nNow, when adding another calendar for 'user2':\nwww.yourdomain.com/baikal/cal.php/calendars/user2/default/ \nthis does NOT work, as discussed above. The reason is that Thunderbird stores only one password per domain.\nThis can be solved by adding a sub domain, so that Thunderbird/Lightning sees the domain as a separate domain, and will store credentials for another Baikal account. For example, add:\n'cal1.yourdomain.com' and forward that domain to 'www.yourdomain.com'.\nNow, in Lightning we can simply add:\ncal1.yourdomain.com/baikal/cal.php/calendars/user2/default/ \n\u2026 And Lightning works with two calendars equally fine as with one calendar.\nYou will only need to add as many sub domains as the maximum number of calendars one user will add in its list.\nNothing has to be changed to the standard Baikal set-up.\nPlease note that also no change of the 'calendar.network.multirealm' in Thunderbird is required then (set to default false).\nI hope this helps some of you.\n. I had the same problem with Thunderbird/Lightning, with in my case two users, where each user wants to see both calendars. \nBjo81, using user1@dav... at first seems to function, but only for downloading \u2013 not for updating the calendar server.\nSince we run Baikal (great software, thank you very much for sharing this Mr. Schneider!) on a shared server, I use a feature that our shared server provider offers: Adding sub domains (we can add an unlimited amount), where the added sub domain routes to the standard domain.\nFor example, for 'user1' the calendar in the Baikal server is located on\nwww.yourdomain.com/baikal/cal.php/calendars/user1/default/ \nAdding this calendar in Lightning is easy and it works quickly.\nNow, when adding another calendar for 'user2':\nwww.yourdomain.com/baikal/cal.php/calendars/user2/default/ \nthis does NOT work, as discussed above. The reason is that Thunderbird stores only one password per domain.\nThis can be solved by adding a sub domain, so that Thunderbird/Lightning sees the domain as a separate domain, and will store credentials for another Baikal account. For example, add:\n'cal1.yourdomain.com' and forward that domain to 'www.yourdomain.com'.\nNow, in Lightning we can simply add:\ncal1.yourdomain.com/baikal/cal.php/calendars/user2/default/ \n\u2026 And Lightning works with two calendars equally fine as with one calendar.\nYou will only need to add as many sub domains as the maximum number of calendars one user will add in its list.\nNothing has to be changed to the standard Baikal set-up.\nPlease note that also no change of the 'calendar.network.multirealm' in Thunderbird is required then (set to default false).\nI hope this helps some of you.\n. ",
    "magaa": "Same here with 10.9, i also have the Problem with the URL.\nhttps://dav.mydomain.com/card.php/addressbooks/jerome/default dosnt work, \ni only get acces with  https://dav.mydomain.com/card.php/addressbooks/jerome\n. Same here with 10.9, i also have the Problem with the URL.\nhttps://dav.mydomain.com/card.php/addressbooks/jerome/default dosnt work, \ni only get acces with  https://dav.mydomain.com/card.php/addressbooks/jerome\n. ",
    "Kalle1": "Wow, somehow that did it!\nThanks!\n. Wow, somehow that did it!\nThanks!\n. ",
    "niosHD": "Hello nelli81!\nI have no solution but maybe a hint. Have you already seen the discussion under [1]? Based on it a patch [2] has been applied to sabredav. I do not know if it is related at all or if this patch is already present in the current baikal version, but maybe it brings you to a solution.\nSince you already have a working configuration (at least for the calender) it would be great if you could give a few tips on how you got this far. I tried to set this up a few weeks ago but failed miserably. :)\nRegards\n[1] https://groups.google.com/d/msg/sabredav-discuss/LVYxBpkLngc/5M-zq080lH0J\n[2]  fruux/sabre-dav#367\n. I just upgraded my Baikal installation and gave it another shot. It seems to me that everything is working like it should. At least when I trigger the synchronization manually.\nThe current version of Baikal (0.2.7) already uses a recent sabredav version which incorporates the fix mentioned above.\nA few words to my setup:\nI am using the the flat version which has been installed into the baikal sub directory of my virtual host. Additionally the following rewrite rules have been placed into the virtual host configuration of the apache2 web server (https only) to enable automatic service discovery. (Idea from comment in [1].)\nRewriteRule /.well-known/carddav /baikal/card.php [R,L]\nRewriteRule /.well-known/caldav /baikal/cal.php [R,L]\nHTH\n[1] http://wili.cc/blog/davical-wp8.html\n. Hello nelli81!\nI have no solution but maybe a hint. Have you already seen the discussion under [1]? Based on it a patch [2] has been applied to sabredav. I do not know if it is related at all or if this patch is already present in the current baikal version, but maybe it brings you to a solution.\nSince you already have a working configuration (at least for the calender) it would be great if you could give a few tips on how you got this far. I tried to set this up a few weeks ago but failed miserably. :)\nRegards\n[1] https://groups.google.com/d/msg/sabredav-discuss/LVYxBpkLngc/5M-zq080lH0J\n[2]  fruux/sabre-dav#367\n. I just upgraded my Baikal installation and gave it another shot. It seems to me that everything is working like it should. At least when I trigger the synchronization manually.\nThe current version of Baikal (0.2.7) already uses a recent sabredav version which incorporates the fix mentioned above.\nA few words to my setup:\nI am using the the flat version which has been installed into the baikal sub directory of my virtual host. Additionally the following rewrite rules have been placed into the virtual host configuration of the apache2 web server (https only) to enable automatic service discovery. (Idea from comment in [1].)\nRewriteRule /.well-known/carddav /baikal/card.php [R,L]\nRewriteRule /.well-known/caldav /baikal/cal.php [R,L]\nHTH\n[1] http://wili.cc/blog/davical-wp8.html\n. ",
    "Alexclarisse": "Thanks for your answer.\nI tried but it does not work \nMaybe CalDAV Sync doesn't support invitation.\nWitch  sync adapter do you use with your Android Mobile ?\nThanks\nAlex\n. Hello,\nAgain, thank you for your answers\nI followed your advice but I don\u2019t know the Baikal solution and I'm not sure to understand the architecture and organization.\nFor information, I download the flat version seemed easier to start.\nI uploaded all file on my server in the baikal-flat folder and I followed the installation and configure Mysql.\nDuring your first response, you had told me to change in:\nCore/Frameworks/Baikal/WWWRoot/cal.php\nWhen I look at this, I can\u2019t find it, I got only two sub folders:\n- domain.net/baikal-flat/Core/Frameworks/Baikal/Core\n- domain.net/baikal-flat/Core/Frameworks/Baikal/Model\nI assumed that you gave the instructions to complete installation and for the flat  file version change should be:\ndomain.net/baikal-flat/cal.php\nNow I'm lost in tree. When I try to understand where the sub class ...\nWhat cal.php file should I change and where there is\nI also search for the class, I found:\nDomain.net/baikal-flat/vendor/sabre/dav/lib/Sabre/CalDAV/Schedule/ IMip.php\nThank you in advance for your help and for the time you spend to me.\nLater\nAlex\n. Muelli \nTo test it, I use my android mobile, I create a new appointement in my calendar where I add an guest with my email adress. After just have to check my email if I got an notification.\nSgalonska \nI just install regular package with SSH on my server.\nI use the regular package on the official website of Baikal:\nhttp://baikal-server.com/get/baikal-regular-0.2.7.tgz\nNow I have to find how install Sabre in the Vendor folder.\nIf you know an url to help ...\nThanks\nLater\n. @muelli: Thanks for the information, I also tried CalDAV-Sync\nI'm looking for other solutions, I will let  you know...\n@sgalonska : What Dav connector do you use on your android device for calendar with Baikal ?\nLater\n. Hello,\nFor information, I use the PaaS offer in gandi.net\nMy Debian server have:\n- PHP Version 5.4.4-14+deb7u7.5\n- Apache/2.4.6.\n- Mysql 5.5.33\nI also got roundcube webmail with the CardavPlugin.\nEverythink is working to synch Webmail, Thunderbird/Lightening and Android devices, exept the notification for guest in android calendar when I'm going to create a new appointement.\nI did what you told me:\nI make a new install with the current release (https://github.com/jeromeschneider/Baikal/archive/0.2.7.tar.gz)\nI also installed composer and use the composer.json to install vendor dependencies SabreDAV.\nAfter I change the plugin line in \nCore/Frameworks/Baikal/WWWRoot/cal.php to :\n$caldavPlugin = new \\Sabre\\CalDAV\\Plugin();\n$caldavPlugin->setIMipHandler(new \\Sabre\\CalDAV\\Schedule\\IMip('my-email@domain.cc'));\n$server->addPlugin($caldavPlugin);\nI try different way but notification sender with IMIp are never send like:\n```\nSupport Mail\n$caldavPlugin = new \\Sabre\\CalDAV\\Plugin();\n$caldavPlugin->setIMipHandler(\n    new \\Sabre\\CalDAV\\Schedule\\IMip('my-email@domain.cc')\n);\nInitializing server\n$server = new \\Sabre\\DAV\\Server($nodes);\n$server->setBaseUri(BAIKAL_CAL_BASEURI);\nServer Plugins\n$server->addPlugin(new \\Sabre\\DAV\\Auth\\Plugin($authBackend, BAIKAL_AUTH_REALM));\n$server->addPlugin(new \\Sabre\\DAVACL\\Plugin());\n$server->addPlugin(new \\Sabre\\CalDAV\\Plugin());\n$server->addPlugin($caldavPlugin);\nAnd off we go!\n$server->exec();\n```\nI have only this problem with Android because Thunderbird send guest invitation.\nI'm still looking for what I'm doing wrong...\n. I used your command in ssh and it's working well. \nBut I just learn that gandi use a sendmail command from an dedicaced SMTP server for all PaaS instancies when we use mail().\nThey also use Varnish (cache), I will try to add \nheader(\"Cache-Control: max-age=1\"); // don't cache the php plugin\nFor all my test I put my personnal email and I read we can't use the same email adress so I will try with another one...\nThanks again for your time and your help.\nI will let you know, later\n. Thanks for your answer.\nI tried but it does not work \nMaybe CalDAV Sync doesn't support invitation.\nWitch  sync adapter do you use with your Android Mobile ?\nThanks\nAlex\n. Hello,\nAgain, thank you for your answers\nI followed your advice but I don\u2019t know the Baikal solution and I'm not sure to understand the architecture and organization.\nFor information, I download the flat version seemed easier to start.\nI uploaded all file on my server in the baikal-flat folder and I followed the installation and configure Mysql.\nDuring your first response, you had told me to change in:\nCore/Frameworks/Baikal/WWWRoot/cal.php\nWhen I look at this, I can\u2019t find it, I got only two sub folders:\n- domain.net/baikal-flat/Core/Frameworks/Baikal/Core\n- domain.net/baikal-flat/Core/Frameworks/Baikal/Model\nI assumed that you gave the instructions to complete installation and for the flat  file version change should be:\ndomain.net/baikal-flat/cal.php\nNow I'm lost in tree. When I try to understand where the sub class ...\nWhat cal.php file should I change and where there is\nI also search for the class, I found:\nDomain.net/baikal-flat/vendor/sabre/dav/lib/Sabre/CalDAV/Schedule/ IMip.php\nThank you in advance for your help and for the time you spend to me.\nLater\nAlex\n. Muelli \nTo test it, I use my android mobile, I create a new appointement in my calendar where I add an guest with my email adress. After just have to check my email if I got an notification.\nSgalonska \nI just install regular package with SSH on my server.\nI use the regular package on the official website of Baikal:\nhttp://baikal-server.com/get/baikal-regular-0.2.7.tgz\nNow I have to find how install Sabre in the Vendor folder.\nIf you know an url to help ...\nThanks\nLater\n. @muelli: Thanks for the information, I also tried CalDAV-Sync\nI'm looking for other solutions, I will let  you know...\n@sgalonska : What Dav connector do you use on your android device for calendar with Baikal ?\nLater\n. Hello,\nFor information, I use the PaaS offer in gandi.net\nMy Debian server have:\n- PHP Version 5.4.4-14+deb7u7.5\n- Apache/2.4.6.\n- Mysql 5.5.33\nI also got roundcube webmail with the CardavPlugin.\nEverythink is working to synch Webmail, Thunderbird/Lightening and Android devices, exept the notification for guest in android calendar when I'm going to create a new appointement.\nI did what you told me:\nI make a new install with the current release (https://github.com/jeromeschneider/Baikal/archive/0.2.7.tar.gz)\nI also installed composer and use the composer.json to install vendor dependencies SabreDAV.\nAfter I change the plugin line in \nCore/Frameworks/Baikal/WWWRoot/cal.php to :\n$caldavPlugin = new \\Sabre\\CalDAV\\Plugin();\n$caldavPlugin->setIMipHandler(new \\Sabre\\CalDAV\\Schedule\\IMip('my-email@domain.cc'));\n$server->addPlugin($caldavPlugin);\nI try different way but notification sender with IMIp are never send like:\n```\nSupport Mail\n$caldavPlugin = new \\Sabre\\CalDAV\\Plugin();\n$caldavPlugin->setIMipHandler(\n    new \\Sabre\\CalDAV\\Schedule\\IMip('my-email@domain.cc')\n);\nInitializing server\n$server = new \\Sabre\\DAV\\Server($nodes);\n$server->setBaseUri(BAIKAL_CAL_BASEURI);\nServer Plugins\n$server->addPlugin(new \\Sabre\\DAV\\Auth\\Plugin($authBackend, BAIKAL_AUTH_REALM));\n$server->addPlugin(new \\Sabre\\DAVACL\\Plugin());\n$server->addPlugin(new \\Sabre\\CalDAV\\Plugin());\n$server->addPlugin($caldavPlugin);\nAnd off we go!\n$server->exec();\n```\nI have only this problem with Android because Thunderbird send guest invitation.\nI'm still looking for what I'm doing wrong...\n. I used your command in ssh and it's working well. \nBut I just learn that gandi use a sendmail command from an dedicaced SMTP server for all PaaS instancies when we use mail().\nThey also use Varnish (cache), I will try to add \nheader(\"Cache-Control: max-age=1\"); // don't cache the php plugin\nFor all my test I put my personnal email and I read we can't use the same email adress so I will try with another one...\nThanks again for your time and your help.\nI will let you know, later\n. ",
    "uvok": "I have the same problem\nAs far as I can see, the method for actually sending the invitation never gets called at all.\nIt's in ./vendor/sabre/dav/lib/Sabre/CalDAV/Plugin.php\nFunction \"unknown method\" never gets called.\nLine 181  public function unknownMethod($method, $uri), case POST which would do $this->outboxRequest($node, $uri); (line 202), which contains\n```\n   730          } elseif ($componentType === 'VEVENT' && in_array($method, array('REQUEST','REPLY','ADD','CANCEL'))) {\n731              $acl && $acl->checkPrivileges($outboxUri,'{' . Plugin::NS_CALDAV . '}schedule-post-vevent');\n   732              $this->handleEventNotification($outboxNode, $vObject);\n```\nhandleEventNotification would somewhere around line 790 call iMIPMessage().\nSo actually, this is a SabreDAV issue?\n(found out via calling non.existing functions at the beginning of each functions, then creating an event with invited guests in Android calender (sync happening via DavDroid)) in the hope of an error being written to the PHP error log).\n. I have the same problem\nAs far as I can see, the method for actually sending the invitation never gets called at all.\nIt's in ./vendor/sabre/dav/lib/Sabre/CalDAV/Plugin.php\nFunction \"unknown method\" never gets called.\nLine 181  public function unknownMethod($method, $uri), case POST which would do $this->outboxRequest($node, $uri); (line 202), which contains\n```\n   730          } elseif ($componentType === 'VEVENT' && in_array($method, array('REQUEST','REPLY','ADD','CANCEL'))) {\n731              $acl && $acl->checkPrivileges($outboxUri,'{' . Plugin::NS_CALDAV . '}schedule-post-vevent');\n   732              $this->handleEventNotification($outboxNode, $vObject);\n```\nhandleEventNotification would somewhere around line 790 call iMIPMessage().\nSo actually, this is a SabreDAV issue?\n(found out via calling non.existing functions at the beginning of each functions, then creating an event with invited guests in Android calender (sync happening via DavDroid)) in the hope of an error being written to the PHP error log).\n. ",
    "osos": "Owncloud seems to also have this problem.\nhttps://github.com/owncloud/calendar/issues/318\n. Owncloud seems to also have this problem.\nhttps://github.com/owncloud/calendar/issues/318\n. ",
    "florianpaulhoberg": "Hi Andi,\nI can't see any reason for this change? The document root depends on your running configuration of your webserver. Not everybody is serving at this point, some will have e.g. /home/$vhost/$domain/htdocs/ or something else. This may be totally different while using fbsd, obsd or something else than Linux. The root is just an example where it could be located.\nIf you got your files via a package (.deb or rpm [depends on distro] and the files got served to ../html and the nginx config is wrong this should be fixed by the package maintainer.\nRegards,\nPaul\n. For customers I'm using Roundcube with DAV-Extension to provide a connection to Baikal.\nMaybe this is a simple possibility to extend the plugin for some functions like 'duplicate contacts' etc.?\n. Hi Andi,\nI can't see any reason for this change? The document root depends on your running configuration of your webserver. Not everybody is serving at this point, some will have e.g. /home/$vhost/$domain/htdocs/ or something else. This may be totally different while using fbsd, obsd or something else than Linux. The root is just an example where it could be located.\nIf you got your files via a package (.deb or rpm [depends on distro] and the files got served to ../html and the nginx config is wrong this should be fixed by the package maintainer.\nRegards,\nPaul\n. For customers I'm using Roundcube with DAV-Extension to provide a connection to Baikal.\nMaybe this is a simple possibility to extend the plugin for some functions like 'duplicate contacts' etc.?\n. ",
    "jjeising": "I can confirm this. If this is changed, consider removing the deny all for Coreand Specific, as it's useless than.\n. I can confirm this. If this is changed, consider removing the deny all for Coreand Specific, as it's useless than.\n. ",
    "InuSasha": "merged in https://github.com/jeromeschneider/Baikal/pull/204\n. Yes, the number of new input fields is a problem.\nActually, I have no simple idea to solve it. I miss the possibility to add a onchange attribute to the listbox. It needed to trigger a script for changing the css-class ldap and mail (explicit the display option).\nSascha\n. @RustyPixel: \nWhat did you mean with subclass of iMIP?\nI see no connection between iMIP and autentification. \nSascha\n. @RustyPixel: \nSorry, I haven't so much knowledge about baikal. \nAnd please don't hijack pull-request and issues.\n. hiding off unneeded auth parameters was added\n. merged with https://github.com/jeromeschneider/Baikal/pull/204\n. Have you changed the BAIKAL_CARD_BASEURI to \"/baikal/card.php/\" and the BAIKAL_CAL_BASEURI to \"/groupdav/cal.php/\" in the System-Settings?\n. take a look to https://github.com/jeromeschneider/Baikal/blob/master/Specific/virtualhosts/baikal.nginx\nyou will see, after the \".php\" will follow other paths (cal.php/calendars/user/...)\ncopy the whole location block, add you subdirectory and try...\n(Sorry i use an apache so i can't tell you more details. but with apache subdirectories works)\n. the link is the actual nginx configuration for baikal.\nand it differ to your configuration.\nyou should use the default baikal config and change it.\nI think the changed location block, looks like:\nlocation ~ ^/BAIKAL/(.+.php)(.)$ { \n try_files $fastcgi_script_name =404; \n fastcgi_split_path_info ^(.+.php)(.)$; \n fastcgi_pass unix:/var/run/php-fpm/php-fpm.sock; \n fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name; \n fastcgi_param PATH_INFO $fastcgi_path_info; \n include /etc/nginx/fastcgi_params; \n } \nSascha\n. Can you post your configuration?\n. I haved looked in to you configuration. \nYou have same diffenrences with the configuration deliverd with baikal.\nI forked your gist [1] and changed the baikal.conf a little bit. Try it\nout. \nif it not work, comment out the php.conf, so both configs does not\ninterfere with each other. \nSascha \nPS: Apache configs are simpler to read for me :) \nLinks:\n[1] https://gist.github.com/InuSasha/a04c8bcced14851d95f3\n. What say's the error log of nginx?\n. have you tried to raise the log level to info or debug? \nhttp://nginx.org/en/docs/ngx_core_module.html#error_log\n. in this situation, i have tried to use \n- \"wget -O - --quiet http://[server]/baikal/cal.php\"\n- \"wget -O - --quiet\n  http://[server]/baikal/cal.php/calendars/[user]/default --http-user=[..]\n  --http-password=[..]\"\n. hmm... now i have no more idea. Only go back to a working configuration (without subdirectory) and start again.\nSorry,\nSascha\n. merged in https://github.com/jeromeschneider/Baikal/pull/204\n. Yes, the number of new input fields is a problem.\nActually, I have no simple idea to solve it. I miss the possibility to add a onchange attribute to the listbox. It needed to trigger a script for changing the css-class ldap and mail (explicit the display option).\nSascha\n. @RustyPixel: \nWhat did you mean with subclass of iMIP?\nI see no connection between iMIP and autentification. \nSascha\n. @RustyPixel: \nSorry, I haven't so much knowledge about baikal. \nAnd please don't hijack pull-request and issues.\n. hiding off unneeded auth parameters was added\n. merged with https://github.com/jeromeschneider/Baikal/pull/204\n. Have you changed the BAIKAL_CARD_BASEURI to \"/baikal/card.php/\" and the BAIKAL_CAL_BASEURI to \"/groupdav/cal.php/\" in the System-Settings?\n. take a look to https://github.com/jeromeschneider/Baikal/blob/master/Specific/virtualhosts/baikal.nginx\nyou will see, after the \".php\" will follow other paths (cal.php/calendars/user/...)\ncopy the whole location block, add you subdirectory and try...\n(Sorry i use an apache so i can't tell you more details. but with apache subdirectories works)\n. the link is the actual nginx configuration for baikal.\nand it differ to your configuration.\nyou should use the default baikal config and change it.\nI think the changed location block, looks like:\nlocation ~ ^/BAIKAL/(.+.php)(.)$ { \n try_files $fastcgi_script_name =404; \n fastcgi_split_path_info ^(.+.php)(.)$; \n fastcgi_pass unix:/var/run/php-fpm/php-fpm.sock; \n fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name; \n fastcgi_param PATH_INFO $fastcgi_path_info; \n include /etc/nginx/fastcgi_params; \n } \nSascha\n. Can you post your configuration?\n. I haved looked in to you configuration. \nYou have same diffenrences with the configuration deliverd with baikal.\nI forked your gist [1] and changed the baikal.conf a little bit. Try it\nout. \nif it not work, comment out the php.conf, so both configs does not\ninterfere with each other. \nSascha \nPS: Apache configs are simpler to read for me :) \nLinks:\n[1] https://gist.github.com/InuSasha/a04c8bcced14851d95f3\n. What say's the error log of nginx?\n. have you tried to raise the log level to info or debug? \nhttp://nginx.org/en/docs/ngx_core_module.html#error_log\n. in this situation, i have tried to use \n- \"wget -O - --quiet http://[server]/baikal/cal.php\"\n- \"wget -O - --quiet\n  http://[server]/baikal/cal.php/calendars/[user]/default --http-user=[..]\n  --http-password=[..]\"\n. hmm... now i have no more idea. Only go back to a working configuration (without subdirectory) and start again.\nSorry,\nSascha\n. ",
    "ftoledo": "Another solution: \nyou can get the defined auth realm in Specific/config.system.php :\nthen\nphp -r 'echo md5(\"admin:the_auth_realm_string:your_new_password');'\nand put the result at the end off Specific/config.php file. (in the BAIKAL_ADMIN_PASSWORDHASH define)\n. Another solution: \nyou can get the defined auth realm in Specific/config.system.php :\nthen\nphp -r 'echo md5(\"admin:the_auth_realm_string:your_new_password');'\nand put the result at the end off Specific/config.php file. (in the BAIKAL_ADMIN_PASSWORDHASH define)\n. ",
    "altima": "thanks for info :) :+1: \n. thanks for info :) :+1: \n. ",
    "buhao75": "Hi Andi. Thanks for your Feedback. I could delete them one by one but i have more Thanks 400 entries. Can't i delete them from the sqlite db directly? Thanks in advance, Michael \n. Hello!\nI deleted the entries from the year 2013 with the following statement from the sqllite Database-File:\ndelete from calendarobjects where calendardata like'%DTSTART;%:2013%DTEND%';\nCheers,\nMichael\n. Hi Andi. Thanks for your Feedback. I could delete them one by one but i have more Thanks 400 entries. Can't i delete them from the sqlite db directly? Thanks in advance, Michael \n. Hello!\nI deleted the entries from the year 2013 with the following statement from the sqllite Database-File:\ndelete from calendarobjects where calendardata like'%DTSTART;%:2013%DTEND%';\nCheers,\nMichael\n. ",
    "almereyda": ":+1:\n. :+1:\n. ",
    "LingDan": ":+1: \nThis would be a nice feature for the next version 0.2.8\n. :+1: \nThis would be a nice feature for the next version 0.2.8\n. ",
    "fermiongithub": "I can affirm the described effect for iOS 7.\n. I can affirm the described effect for iOS 7.\n. ",
    "arnowelzel": "Update: I managed to get contact groups at least to Android by adding the groups in the \"category\" field in Thunderbird and synced the contacts to Baikal with the SoGo connector and then from Baikal to Android using the CardDAV app. But these groups don't show up in Roundcube at all, only in Android :-/\nSo there seems to be general problem in the understanding of what a \"group\" for contacts is. Some clients assume groups to be the category, others treat them as special object which can have members - quite confusing.\n. Update: I managed to get contact groups at least to Android by adding the groups in the \"category\" field in Thunderbird and synced the contacts to Baikal with the SoGo connector and then from Baikal to Android using the CardDAV app. But these groups don't show up in Roundcube at all, only in Android :-/\nSo there seems to be general problem in the understanding of what a \"group\" for contacts is. Some clients assume groups to be the category, others treat them as special object which can have members - quite confusing.\n. ",
    "zero-one-devteam": "+1\n. +1\n. ",
    "carlos22": "Better would be the use of password_hash and password_verify, added in PHP 5.5 -  there is a php shim for >= 5.3.7 https://github.com/ircmaxell/password_compat\n. Better would be the use of password_hash and password_verify, added in PHP 5.5 -  there is a php shim for >= 5.3.7 https://github.com/ircmaxell/password_compat\n. ",
    "DanielRuf": "+1\n. I think there are some more libraries which are still actively maintained and developed. I have to search again.\nSomething like this from Duo\nhttps://github.com/duosecurity/duo_php\n. Great, thanks\n. Okay, thanks for the update.\nBut ICS is just for the calendar, not for the contacts like VCard.\n. Still md5? =(. This does not answer it. Are there no new maintainers?. +1\n. I think there are some more libraries which are still actively maintained and developed. I have to search again.\nSomething like this from Duo\nhttps://github.com/duosecurity/duo_php\n. Great, thanks\n. Okay, thanks for the update.\nBut ICS is just for the calendar, not for the contacts like VCard.\n. Still md5? =(. This does not answer it. Are there no new maintainers?. ",
    "yuv": "How about using PAM or IMAP auth? This is one of the great features of Radicale. Why reinvent the wheel? Chances are that wherever Ba\u00efkal is installed, some auth mechanism already exists.  Why reinvent the wheel?\n. @muggenhor PAM allows for the use of local users but does not require them.  It looks fairly easy to implement http://svn.php.net/viewvc/pecl/pam/trunk/README?view=markup and if you point me to the file where you implement authentication I can work on a patch.\nIMAP does indeed require mail users, but Baikal requires its own users as well.  I rather use mail users for Baikal than create separate Baikal users.\nI use a virtual mail setup where the users are stored in a MySQL database (PostfixAdmin).  Every part of the system uses that single source of users/password:  Postfix (for port 587 submission); Dovecot (for IMAP access); nginx for web pages (I used Apache previously and it could too).  The beauty of PAM is that it is easily customizable and using libpam-script I built very quickly an auth mechanism that works out of that database only, not affecting local users.\nFor CalDAV/CardDAV I am evaluating Radicale and Baikal.  I was able to integrate Radicale into my virtual mail setup but will still need to add some glue.  I would rather use Baikal but the separate user/password table (in the current 0.2.7 version, I have not looked at 2.0.0 yet) is a deal breaker.  I want to create a user in Postfixadmin and then let the users create as many address books and calendars as they want through their CalDAV/CardDAV clients.  I do not want to maintain a separate list of users/passwords nor do I want to log in administratively on the server to create calendars/address books for them.  I may want to set quotas administratively, but the storage space usage of CalDAV and CardDAV is minuscule when compared to IMAP storage space use, so I am not worried if there are no limits.\nLDAP is overkill for my scenario.  It would force me to add another component to the system.  MySQL is already there and so is PHP, else I would not consider a SabreDAV-based solution such as Baikal.\nThanks for considering my short analysis.\n. How about using PAM or IMAP auth? This is one of the great features of Radicale. Why reinvent the wheel? Chances are that wherever Ba\u00efkal is installed, some auth mechanism already exists.  Why reinvent the wheel?\n. @muggenhor PAM allows for the use of local users but does not require them.  It looks fairly easy to implement http://svn.php.net/viewvc/pecl/pam/trunk/README?view=markup and if you point me to the file where you implement authentication I can work on a patch.\nIMAP does indeed require mail users, but Baikal requires its own users as well.  I rather use mail users for Baikal than create separate Baikal users.\nI use a virtual mail setup where the users are stored in a MySQL database (PostfixAdmin).  Every part of the system uses that single source of users/password:  Postfix (for port 587 submission); Dovecot (for IMAP access); nginx for web pages (I used Apache previously and it could too).  The beauty of PAM is that it is easily customizable and using libpam-script I built very quickly an auth mechanism that works out of that database only, not affecting local users.\nFor CalDAV/CardDAV I am evaluating Radicale and Baikal.  I was able to integrate Radicale into my virtual mail setup but will still need to add some glue.  I would rather use Baikal but the separate user/password table (in the current 0.2.7 version, I have not looked at 2.0.0 yet) is a deal breaker.  I want to create a user in Postfixadmin and then let the users create as many address books and calendars as they want through their CalDAV/CardDAV clients.  I do not want to maintain a separate list of users/passwords nor do I want to log in administratively on the server to create calendars/address books for them.  I may want to set quotas administratively, but the storage space usage of CalDAV and CardDAV is minuscule when compared to IMAP storage space use, so I am not worried if there are no limits.\nLDAP is overkill for my scenario.  It would force me to add another component to the system.  MySQL is already there and so is PHP, else I would not consider a SabreDAV-based solution such as Baikal.\nThanks for considering my short analysis.\n. ",
    "unaszplodrmann": "I like the idea of having the option to use PAM, too. I run a similar configuration where Postfix authenticates via Dovecot SASL, and Dovecot uses PAM to retrieve user credentials (stored in a MySQL database in my case). In addition to secure reverse proxying for Baikal, my Nginx configuration also uses the same PAM setup to authenticates users to a private area.\nLike yuv said, LDAP is likely overkill for the vast majority of people who are likely to run Baikal, but PAM offers a nice lightweight means of centralising credential storage. I suspect many who run Baikal will also be hosting other servers/agents that require auth.\nSHA512 over MD5 is definitely a good idea!\n. I like the idea of having the option to use PAM, too. I run a similar configuration where Postfix authenticates via Dovecot SASL, and Dovecot uses PAM to retrieve user credentials (stored in a MySQL database in my case). In addition to secure reverse proxying for Baikal, my Nginx configuration also uses the same PAM setup to authenticates users to a private area.\nLike yuv said, LDAP is likely overkill for the vast majority of people who are likely to run Baikal, but PAM offers a nice lightweight means of centralising credential storage. I suspect many who run Baikal will also be hosting other servers/agents that require auth.\nSHA512 over MD5 is definitely a good idea!\n. ",
    "cornelinux": "indeed. \nI changed the backend to mysql an now I can access the calendar from two clients - reading and wirting.\nSo this might be marked a known issue.\nKind regards\nCornelius\n. indeed. \nI changed the backend to mysql an now I can access the calendar from two clients - reading and wirting.\nSo this might be marked a known issue.\nKind regards\nCornelius\n. ",
    "screendriver": "Hi,\nthanks for that hint. It still doesn't work. I believe it's a very tiny simple thing in the nginx.conf posted above. But I don't get it :pensive:\n. Thanks for your help. But as you can see in my initial post: I've already done that.\nBTW: in your link there is no cal.php/calendars/user/ or something like that.\n. Thank you that you are trying to help me but it also does not work. With your modified configuration I only get 404 instead of \"File not found\". Unfortunately you are using apache instead of nginx so you could see the error at your machine.\n. I already did that in my initial first post here. I created a Gist for you with all configurations I have.\n. Same error: 404 Not Found\n. Nothing. Nginx does not log a 404 as an error. It is a simple 404.\n. It is already at the debug level.\n. The result of wget is a simple empty result. It returns nothing because the nginx returns a 404 error code.\n. No problem. Thank you for trying to help me.\n. Could you please post/gist your config files? php5-fpm was already installed on my machine. If I change\nfastcgi_pass unix:/var/run/php-fpm/php-fpm.sock;\nto\nfastcgi_pass unix:/var/run/php5-fpm.sock;\nit still does not work :disappointed:\n. Hi,\nthanks for that hint. It still doesn't work. I believe it's a very tiny simple thing in the nginx.conf posted above. But I don't get it :pensive:\n. Thanks for your help. But as you can see in my initial post: I've already done that.\nBTW: in your link there is no cal.php/calendars/user/ or something like that.\n. Thank you that you are trying to help me but it also does not work. With your modified configuration I only get 404 instead of \"File not found\". Unfortunately you are using apache instead of nginx so you could see the error at your machine.\n. I already did that in my initial first post here. I created a Gist for you with all configurations I have.\n. Same error: 404 Not Found\n. Nothing. Nginx does not log a 404 as an error. It is a simple 404.\n. It is already at the debug level.\n. The result of wget is a simple empty result. It returns nothing because the nginx returns a 404 error code.\n. No problem. Thank you for trying to help me.\n. Could you please post/gist your config files? php5-fpm was already installed on my machine. If I change\nfastcgi_pass unix:/var/run/php-fpm/php-fpm.sock;\nto\nfastcgi_pass unix:/var/run/php5-fpm.sock;\nit still does not work :disappointed:\n. ",
    "cwhub": "Trying to run baikal for 3 days now... Admin interface works perfect, database looks allright, but I get the same 404 error.\nI'm using Apache 2.2, PHP 5.4.4 and baikal 0.2.7 on a RaspberryPi (tried the flat and the regular package, nothing really works when trying to curl or wget a calendar).\nbaikal-flat and baikal-regular use different .htaccess and baikal.apache2 files by the way... I can hardly imagine that this is on purpose. There are also not the same RewriteRules for the flat and the regular package.\nApache logs (RewriteLog, TransferLog, ErrorLog) say:\nThe requested URL /baikal/cal.php/calendars/cwhub/default was not found on this server.\nHaving a look into the Apache error.log tells me that the file system path to cal.php is correct, though Apache says:\nFile does not exist: /var/www/baikal/cal.php/calendars/cwhub/default (but I swear, cal.php exists in /var/www/baikal/).\nIf I wget -O --quiet http://[mydomain].no-ip.biz/baikal/cal.php the answer is:\n...\n401 Authorization Required\nIf I sudo wget -O --quiet http://[mydomain].no-ip.biz/baikal/cal.php/calendars/cwhub/default --http-user=cwhub --http-password=somepassword the answer is:\n404 Not Found\nI don' think the problem is due to the use of nginx or apache... it's the same problem on both of them.\nI ran out of ideas now... maybe waiting for version 0.2.8 would be the best solution....\n. ok, got it...\nhad to install php5-fpm:\nsudo apt-get install php5-fpm php-apc\nand now the magic...adapt config of nginx: had to change a line in baikal.nginx:\nold:\nfastcgi_pass   unix:/var/run/php-fpm/php-fpm.sock;\nnew:\nfastcgi_pass   unix:/var/run/php5-fpm.sock;\n. Got it also working with apache now.\nHad to install fastcgi on raspberry: http://raspberryserver.blogspot.co.at/\n. Sorry, wasn`t clear enough in my comments... I got it working refers to: baikal works... not exactly in an own subdir. I am listening to a specific port instead of a subdir.\nSo I'm getting my calendars with this URL:\nhttp://mydomain.com:8888/cal.php/calendars/username/calendarname\nThe baikal.apache2 file looks like this:\nhttps://gist.github.com/cwhub/9651116\nMy problem really was the missing installation of php5-fpm, the missing fast_cgi for apache2 and the wrong path for fastcgi_pass (when using nginx) on my raspberry.\nSo don't trust all the videos and blogs out there which tell us that it so easy to install baikal on a raspberry... \n. You have to change the multirealm settings in Thunderbirds about:config.\nGo to \"Tools\" => \"Options\" => \"Advanced\" => \"Config Editor\"\nSearch for \"calendar.network.multirealm\" and change the default (false) to \"true\". Delete all passwords and restart Thunderbird. Now each calendar asks for a user / pwd.\n. Trying to run baikal for 3 days now... Admin interface works perfect, database looks allright, but I get the same 404 error.\nI'm using Apache 2.2, PHP 5.4.4 and baikal 0.2.7 on a RaspberryPi (tried the flat and the regular package, nothing really works when trying to curl or wget a calendar).\nbaikal-flat and baikal-regular use different .htaccess and baikal.apache2 files by the way... I can hardly imagine that this is on purpose. There are also not the same RewriteRules for the flat and the regular package.\nApache logs (RewriteLog, TransferLog, ErrorLog) say:\nThe requested URL /baikal/cal.php/calendars/cwhub/default was not found on this server.\nHaving a look into the Apache error.log tells me that the file system path to cal.php is correct, though Apache says:\nFile does not exist: /var/www/baikal/cal.php/calendars/cwhub/default (but I swear, cal.php exists in /var/www/baikal/).\nIf I wget -O --quiet http://[mydomain].no-ip.biz/baikal/cal.php the answer is:\n...\n401 Authorization Required\nIf I sudo wget -O --quiet http://[mydomain].no-ip.biz/baikal/cal.php/calendars/cwhub/default --http-user=cwhub --http-password=somepassword the answer is:\n404 Not Found\nI don' think the problem is due to the use of nginx or apache... it's the same problem on both of them.\nI ran out of ideas now... maybe waiting for version 0.2.8 would be the best solution....\n. ok, got it...\nhad to install php5-fpm:\nsudo apt-get install php5-fpm php-apc\nand now the magic...adapt config of nginx: had to change a line in baikal.nginx:\nold:\nfastcgi_pass   unix:/var/run/php-fpm/php-fpm.sock;\nnew:\nfastcgi_pass   unix:/var/run/php5-fpm.sock;\n. Got it also working with apache now.\nHad to install fastcgi on raspberry: http://raspberryserver.blogspot.co.at/\n. Sorry, wasn`t clear enough in my comments... I got it working refers to: baikal works... not exactly in an own subdir. I am listening to a specific port instead of a subdir.\nSo I'm getting my calendars with this URL:\nhttp://mydomain.com:8888/cal.php/calendars/username/calendarname\nThe baikal.apache2 file looks like this:\nhttps://gist.github.com/cwhub/9651116\nMy problem really was the missing installation of php5-fpm, the missing fast_cgi for apache2 and the wrong path for fastcgi_pass (when using nginx) on my raspberry.\nSo don't trust all the videos and blogs out there which tell us that it so easy to install baikal on a raspberry... \n. You have to change the multirealm settings in Thunderbirds about:config.\nGo to \"Tools\" => \"Options\" => \"Advanced\" => \"Config Editor\"\nSearch for \"calendar.network.multirealm\" and change the default (false) to \"true\". Delete all passwords and restart Thunderbird. Now each calendar asks for a user / pwd.\n. ",
    "yegortimoshenko": "@cwhub +1, want to see your config files. Have the same problem.\n. @cwhub +1, want to see your config files. Have the same problem.\n. ",
    "db7": "I had a similar problem but running Apache. The solution was to install mod_php5 instead of mod_php5filter. \n. I had a similar problem but running Apache. The solution was to install mod_php5 instead of mod_php5filter. \n. ",
    "7h47": "I have the same problem \nThunderbird with SOGo plugin \nwindows 7 / ubuntu 13.10\nBaikal 0.2.4 / Baikal 0.2.7\n. I have the same problem \nThunderbird with SOGo plugin \nwindows 7 / ubuntu 13.10\nBaikal 0.2.4 / Baikal 0.2.7\n. ",
    "farvardin": "@cwhub  thank you very much for the tips. I was stucks because I couldn't enter more than one account and the error in console was not very informative (\"DAV_NOT_DAV. Description\u00a0: La ressource sur \u00ab\u00a0http://*_/baikal/cal.php/calendars/_/default\u00a0\u00bb n'est pas une collection DAV ou n'est pas disponible\"). \nI think this information should be indicated into the installation instructions. Which I copied there: https://github.com/netgusto/Baikal/pull/288\n. if I remember well, it keeps asking, then when you set the option to true, after you close TB and restart it, it might ask just one more time, and them it's done.\n. I'm using Ba\u00efkal 0.2.7, with one server, 4 accounts and 6-8 clients, no problem for me.\nHave you tried on different computers?\nI load those URL in TB:\nhttp://192.168.0.100/baikal/cal.php/calendars/account1/default \nhttp://192.168.0.100/baikal/cal.php/calendars/account2/cal01\nhttp://192.168.0.100/baikal/cal.php/calendars/account2/cal02\nHere are my notes:\nif you need to get access to multiple Baikal accounts on the same serveur, you need to change the multirealm settings in Thunderbirds about:config. Go to \"Tools\" => \"Options\" => \"Advanced\" => \"Config Editor\". Search for \"calendar.network.multirealm\" and change the default (false) to \"true\". Delete all passwords and restart Thunderbird. Now each calendar asks for a user / password. \nMaybe the important part is: \"Delete all passwords and restart Thunderbird.\" because TB might have (wrongly) kept the old passwords.\n. I'm not using Sogo (you don't need it to use ba\u00efkal anyway), maybe it's bringing some problems in this case? Try disabling or removing it...\n. @dga71: hmm, I don't remember. At my work I only synchronize calendars. At home maybe I'm using zindus or sogo, I'll have a look and tell you.\n@pascal06: sorry I don't know then (I'm not a ba\u00efkal dev, only user). Maybe you could try an alternative like owncloud or radicale to see if there is a difference.\n. a command line (shell) exporter from ics to html would be great but it's probably beyond the scope of Ba\u00efkal.\n. @cwhub  thank you very much for the tips. I was stucks because I couldn't enter more than one account and the error in console was not very informative (\"DAV_NOT_DAV. Description\u00a0: La ressource sur \u00ab\u00a0http://*_/baikal/cal.php/calendars/_/default\u00a0\u00bb n'est pas une collection DAV ou n'est pas disponible\"). \nI think this information should be indicated into the installation instructions. Which I copied there: https://github.com/netgusto/Baikal/pull/288\n. if I remember well, it keeps asking, then when you set the option to true, after you close TB and restart it, it might ask just one more time, and them it's done.\n. I'm using Ba\u00efkal 0.2.7, with one server, 4 accounts and 6-8 clients, no problem for me.\nHave you tried on different computers?\nI load those URL in TB:\nhttp://192.168.0.100/baikal/cal.php/calendars/account1/default \nhttp://192.168.0.100/baikal/cal.php/calendars/account2/cal01\nhttp://192.168.0.100/baikal/cal.php/calendars/account2/cal02\nHere are my notes:\nif you need to get access to multiple Baikal accounts on the same serveur, you need to change the multirealm settings in Thunderbirds about:config. Go to \"Tools\" => \"Options\" => \"Advanced\" => \"Config Editor\". Search for \"calendar.network.multirealm\" and change the default (false) to \"true\". Delete all passwords and restart Thunderbird. Now each calendar asks for a user / password. \nMaybe the important part is: \"Delete all passwords and restart Thunderbird.\" because TB might have (wrongly) kept the old passwords.\n. I'm not using Sogo (you don't need it to use ba\u00efkal anyway), maybe it's bringing some problems in this case? Try disabling or removing it...\n. @dga71: hmm, I don't remember. At my work I only synchronize calendars. At home maybe I'm using zindus or sogo, I'll have a look and tell you.\n@pascal06: sorry I don't know then (I'm not a ba\u00efkal dev, only user). Maybe you could try an alternative like owncloud or radicale to see if there is a difference.\n. a command line (shell) exporter from ics to html would be great but it's probably beyond the scope of Ba\u00efkal.\n. ",
    "fitgura": "Yes. Just restart tb and done :)\nSent from Type Mail\nOn 2015. \u00e1pr. 28. 10:18, at 10:18, farvardin notifications@github.com wrote:\n\nif I remember well, it keeps asking, then when you set the option to\ntrue, after you close TB and restart it, it might ask just one more\ntime, and them it's done.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/netgusto/Baikal/issues/215#issuecomment-96969562\n. Yes. Just restart tb and done :)\n\nSent from Type Mail\nOn 2015. \u00e1pr. 28. 10:18, at 10:18, farvardin notifications@github.com wrote:\n\nif I remember well, it keeps asking, then when you set the option to\ntrue, after you close TB and restart it, it might ask just one more\ntime, and them it's done.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/netgusto/Baikal/issues/215#issuecomment-96969562\n. \n",
    "dga71": "Hello Favardin,\nhow do you synchronize your Thunderbird contacts without the SoGo-connector?\n. Hello Favardin,\nhow do you synchronize your Thunderbird contacts without the SoGo-connector?\n. ",
    "YouDoMeIDoYou": "Hello badmeischter,\nthanks a thousand times for the hint with changing Baikal from digest to basic authentification! I tried to add two caldars from two users and ended up in a password-loop with calendar.network.multirealm set to true. Deleting all previously saved password is essential I think for saving the new calendar-credentials correctly.\nI'm using following software:\nWindows 10\nThunderbird: 45.6.0 with Lightning Calendar 4.7.4\nBaikal: 0.2.7-002\n. Hello badmeischter,\nthanks a thousand times for the hint with changing Baikal from digest to basic authentification! I tried to add two caldars from two users and ended up in a password-loop with calendar.network.multirealm set to true. Deleting all previously saved password is essential I think for saving the new calendar-credentials correctly.\nI'm using following software:\nWindows 10\nThunderbird: 45.6.0 with Lightning Calendar 4.7.4\nBaikal: 0.2.7-002\n. ",
    "bjadel": "Hi Lo\u00efc,\nthanks for your reply. Both URLs doesn't work. Can I enable any error logs or can I access the addressbook with another tool like REST client or so?\nCheers\nBj\u00f6rn\n. I have tried to add a new user for carddav and I have tried http and https URLs. It doesn't work. Only calDav works fine. My next step was testing of another carddav client and with this new client (Thunderbird with SOGo Frontend extension) works the carddav very well. The problem is the usage of my blackberry device. I don't know why caldav works on this device very well and carddav not.\nCheers and thanks for your reply\nBj\u00f6rn \n. I think CardDAV support is broken on BB10. See here: http://supportforums.blackberry.com/t5/BlackBerry-10-Smartphone/CardDAV-support-broken/td-p/2379163\n. Hi Lo\u00efc,\nthanks for your reply. Both URLs doesn't work. Can I enable any error logs or can I access the addressbook with another tool like REST client or so?\nCheers\nBj\u00f6rn\n. I have tried to add a new user for carddav and I have tried http and https URLs. It doesn't work. Only calDav works fine. My next step was testing of another carddav client and with this new client (Thunderbird with SOGo Frontend extension) works the carddav very well. The problem is the usage of my blackberry device. I don't know why caldav works on this device very well and carddav not.\nCheers and thanks for your reply\nBj\u00f6rn \n. I think CardDAV support is broken on BB10. See here: http://supportforums.blackberry.com/t5/BlackBerry-10-Smartphone/CardDAV-support-broken/td-p/2379163\n. ",
    "angelus2014": "I have a Z10 with OS 10.2.1.2102 and I can use Baikal for my CalDAV without problems, but not for CardDAV. It keeps stating it can't authenticate on the server. I also have an ownCloud where it's just the other way, CardDAV works on my Z10, but CalDAV only partly (events don't show up in the BB calendar). I have PHP 5.5.11 running on the system, but haven't tried the 'bleeding edge' version of Baikal (yet). Any progress on this?\nUsing Baikal 0.2.7, flat version\n. I have a Z10 with OS 10.2.1.2102 and I can use Baikal for my CalDAV without problems, but not for CardDAV. It keeps stating it can't authenticate on the server. I also have an ownCloud where it's just the other way, CardDAV works on my Z10, but CalDAV only partly (events don't show up in the BB calendar). I have PHP 5.5.11 running on the system, but haven't tried the 'bleeding edge' version of Baikal (yet). Any progress on this?\nUsing Baikal 0.2.7, flat version\n. ",
    "Feanoran": "Hello everybody. Sorry for digging this one out, but I have quite similar problems. Only that it is CalDAV, which doesn't work. CardDAV's fine. I've stated my problem at Blackberry Support Forums. But no help came from there. I'm simply pasting my inquiry here again. Maybe somebody of you can help. Especially Angelus2014 maybe, since you seemed to have the exact same problem with ownCloud. Thank you very much!\nfrom http://supportforums.blackberry.com/t5/BlackBerry-10-OS-Device-Software/Problems-connecting-to-Baikal-via-CalDAV/td-p/2946818\n\n\nHi everybody,\nthis is my first post. After a long search on the internet I couldn't find anything related to my exact problem and hope to find some advice here. Sorry, if this question has been asked and I didn't find it.\nI have a Baikal server running on my Synology DS114 NAS and created an address book and some calendars. Both can be synched with Thunderbird (via Lightning + SOGo) and Android (via CalDAV and CardDAV account plugins). Now I tried the same with my brand new Q10 (first Blackberry for me). The CardDAV connection works and synchs, but CalDAV doesn't really. It seems to connect and detect my calendars (there are five). But after finishing synchronization (you can see the synch status in the calendar app - it takes a while) the items are not displayed in my calendar (yes, the checkboxes in the administration panel are checked, so they should be shown - it works with another gmail calendar, which I am following).\nI figured, it might be an issue with the server address. So I fiddled around with it, to no avail. Here is, how my CardDAV is configured:\nMYDOMAIN:14789/baikal/card.php/addressbooks/USER/default\nYou can see, I skipped the \"http(s)\" and the last dash. 14789 is an https port, I am using, since 443 didn't get through my firewall somehow.\nSo I tried this for CalDAV:\nMYDOMAIN:14789/baikal/card.php/addressbooks/USER/CAL\nwith CAL beeing my five calendars in turn. Then I realized that within each of the five CalDAV account, there were all five calendars included. I figured,\nMYDOMAIN:14789/baikal/card.php\n(of course with User and Password set) is all I need to connect and get all my calendars.\nBut still, after synching, nothing is displayed in the calendar app. I tried to put \"https://\" in front, and all sorts of subfolder combinations in the back. No success.\nThis all seems to be a very minor problem causing major distress. :-)\nSo please, can someone help me with this?\nThank you so much!\n. Hello everybody. Sorry for digging this one out, but I have quite similar problems. Only that it is CalDAV, which doesn't work. CardDAV's fine. I've stated my problem at Blackberry Support Forums. But no help came from there. I'm simply pasting my inquiry here again. Maybe somebody of you can help. Especially Angelus2014 maybe, since you seemed to have the exact same problem with ownCloud. Thank you very much!\n\n\nfrom http://supportforums.blackberry.com/t5/BlackBerry-10-OS-Device-Software/Problems-connecting-to-Baikal-via-CalDAV/td-p/2946818\n\n\nHi everybody,\nthis is my first post. After a long search on the internet I couldn't find anything related to my exact problem and hope to find some advice here. Sorry, if this question has been asked and I didn't find it.\nI have a Baikal server running on my Synology DS114 NAS and created an address book and some calendars. Both can be synched with Thunderbird (via Lightning + SOGo) and Android (via CalDAV and CardDAV account plugins). Now I tried the same with my brand new Q10 (first Blackberry for me). The CardDAV connection works and synchs, but CalDAV doesn't really. It seems to connect and detect my calendars (there are five). But after finishing synchronization (you can see the synch status in the calendar app - it takes a while) the items are not displayed in my calendar (yes, the checkboxes in the administration panel are checked, so they should be shown - it works with another gmail calendar, which I am following).\nI figured, it might be an issue with the server address. So I fiddled around with it, to no avail. Here is, how my CardDAV is configured:\nMYDOMAIN:14789/baikal/card.php/addressbooks/USER/default\nYou can see, I skipped the \"http(s)\" and the last dash. 14789 is an https port, I am using, since 443 didn't get through my firewall somehow.\nSo I tried this for CalDAV:\nMYDOMAIN:14789/baikal/card.php/addressbooks/USER/CAL\nwith CAL beeing my five calendars in turn. Then I realized that within each of the five CalDAV account, there were all five calendars included. I figured,\nMYDOMAIN:14789/baikal/card.php\n(of course with User and Password set) is all I need to connect and get all my calendars.\nBut still, after synching, nothing is displayed in the calendar app. I tried to put \"https://\" in front, and all sorts of subfolder combinations in the back. No success.\nThis all seems to be a very minor problem causing major distress. :-)\nSo please, can someone help me with this?\nThank you so much!\n. \n\n",
    "joaomonteiro": "HI,\nI solved that problem by replacing all \"write\" permitions to \"read\" on file \"\\vendor\\sabre\\dav\\lib\\Sabre\\CalDAV\\calendar.php\" at function getACL().\nI don't know if this is the best way, but this fixed my problem. I hope that helps you too.\n. HI,\nI solved that problem by replacing all \"write\" permitions to \"read\" on file \"\\vendor\\sabre\\dav\\lib\\Sabre\\CalDAV\\calendar.php\" at function getACL().\nI don't know if this is the best way, but this fixed my problem. I hope that helps you too.\n. ",
    "mrbaseman": "I have written a script for managing permissions in Baikal 0.2.7 which might be of interest for you. However, making the calendar readonly for the owner is not possible with this, but you can create another account and add readonly access to the calendars of the first account to that one. Have a lookk here: https://github.com/mrbaseman/calendar-tools/blob/master/permissions.php\n. for managing the permissions to calendars across user accounts in Baikal 0.2.7 I have written a script: https://github.com/mrbaseman/calendar-tools/blob/master/permissions.php (just leaving this comment here for others who are searching for such a tool and stumble across this ticket)\n. actually, this is a special case included in my script. Just add a user, let's call him \"web\" and assign a simple password to him (e.g. \"readonly\" - it doesn't matter at all) and remove the default calendar and carddav ressource. So, the user web has no writable ressources at all. Then, use my script to grant him read-access to other user's calendars. The link to access the default calendar of user called \"user\" is: http://web:readonly@www.examle.com/baikal/cal.php/calendars/user/default \n. @dakira,\n\nJust a hint through: You should start to get used to PDO and use prepared statements to prevent SQL injections.\nThanks for the hint. I have been thinking about it for a while, but I\ndon't quite understand how SQL injections would be an attack vector in\nthis case. The first thing I do (after including some definitions), is\nto check if the user is properly authenticated as admin and I check the\npassword hash. Without knowledge of that, the script exits in the first\nplace. Note that the credentials are not stored in the database. They\nare defined in constants to which I compare the input coming from the\nweb server. Only, if this is correctly verified, a connection to the\ndatabase is opened.\nThen, if you are already authenticated as admin, you anyway have full\naccess and there is no need to protect against SQL injections. Note:\nthere is no code sent to the browser for local execution (Javascript and\nthe like), so also no danger from XSS.\n. @Matthias first of all, note that I only have provided the user\nmanagement script as a workaround. I haven't been working on other\nthings concerning the admin menu, yet (because I didn't have the time to\nlearn how to use the Flake class framework.\n\nComing back to your main point about prepared statements in the\npermission administration script: prepared statements help against first\norder sql injections when user supplied data is used in queries. But\nthat's not the case here. I have queries without user-supplied\ncomponents to build up the lists of users, groups, and permissions. Only\nthese IDs are compared to the posted values. For setting the permissions\nI also don't use the posted variables directly in the queries. I only\nuse them to decide which 'if'-branch to go. The statement itself again\nis based on values originally coming directly out of the database. So,\nprepared statements would not improve anything here, because the attacks\nprevented by prepared statements wouldn't be successful anyway. Prepared\nstatements also wouldn't help against a man in the browser attack.\nThee is already some protection in place against taking over the admin\nsession, because the hash value contains the client IP and it expires\nevery midnight.\nAnyhow, I can rewrite the script with prepared statements. It seems that\nthis is a strong desire for some users...\n. I have written a script for managing permissions in Baikal 0.2.7 which might be of interest for you. However, making the calendar readonly for the owner is not possible with this, but you can create another account and add readonly access to the calendars of the first account to that one. Have a lookk here: https://github.com/mrbaseman/calendar-tools/blob/master/permissions.php\n. for managing the permissions to calendars across user accounts in Baikal 0.2.7 I have written a script: https://github.com/mrbaseman/calendar-tools/blob/master/permissions.php (just leaving this comment here for others who are searching for such a tool and stumble across this ticket)\n. actually, this is a special case included in my script. Just add a user, let's call him \"web\" and assign a simple password to him (e.g. \"readonly\" - it doesn't matter at all) and remove the default calendar and carddav ressource. So, the user web has no writable ressources at all. Then, use my script to grant him read-access to other user's calendars. The link to access the default calendar of user called \"user\" is: http://web:readonly@www.examle.com/baikal/cal.php/calendars/user/default \n. @dakira,\n\nJust a hint through: You should start to get used to PDO and use prepared statements to prevent SQL injections.\nThanks for the hint. I have been thinking about it for a while, but I\ndon't quite understand how SQL injections would be an attack vector in\nthis case. The first thing I do (after including some definitions), is\nto check if the user is properly authenticated as admin and I check the\npassword hash. Without knowledge of that, the script exits in the first\nplace. Note that the credentials are not stored in the database. They\nare defined in constants to which I compare the input coming from the\nweb server. Only, if this is correctly verified, a connection to the\ndatabase is opened.\nThen, if you are already authenticated as admin, you anyway have full\naccess and there is no need to protect against SQL injections. Note:\nthere is no code sent to the browser for local execution (Javascript and\nthe like), so also no danger from XSS.\n. @Matthias first of all, note that I only have provided the user\nmanagement script as a workaround. I haven't been working on other\nthings concerning the admin menu, yet (because I didn't have the time to\nlearn how to use the Flake class framework.\n\nComing back to your main point about prepared statements in the\npermission administration script: prepared statements help against first\norder sql injections when user supplied data is used in queries. But\nthat's not the case here. I have queries without user-supplied\ncomponents to build up the lists of users, groups, and permissions. Only\nthese IDs are compared to the posted values. For setting the permissions\nI also don't use the posted variables directly in the queries. I only\nuse them to decide which 'if'-branch to go. The statement itself again\nis based on values originally coming directly out of the database. So,\nprepared statements would not improve anything here, because the attacks\nprevented by prepared statements wouldn't be successful anyway. Prepared\nstatements also wouldn't help against a man in the browser attack.\nThee is already some protection in place against taking over the admin\nsession, because the hash value contains the client IP and it expires\nevery midnight.\nAnyhow, I can rewrite the script with prepared statements. It seems that\nthis is a strong desire for some users...\n. ",
    "LaServiette": "Debian ;\nDistributor ID: Debian\nDescription:    Debian GNU/Linux 7.4 (wheezy)\nRelease:    7.4\nCodename:   wheezy\nNginx : 1.2.1\nMy config file :\nserver {\n    listen       80;\n    server_name  dav.domainchanged.fr www.dav.domainchanged.fr;\n```\nroot  /var/www/baikal/html;\nindex index.php;\nrewrite ^/.well-known/caldav /cal.php redirect;\nrewrite ^/.well-known/carddav /card.php redirect;\ncharset utf-8;\nlocation ~ /(.ht|Core|Specific) {\n    deny all;\n    return 404;\n}\npass the PHP scripts to FastCGI server listening on 127.0.0.1:9000\n\nlocation ~ .php$ {\n    fastcgi_split_path_info ^(.+.php)(/.+)$;\n    #   # NOTE: You should have \"cgi.fix_pathinfo = 0;\" in php.ini\n#   # With php5-cgi alone:\n#fastcgi_pass 127.0.0.1:9000;\n#   # With php5-fpm:\nfastcgi_pass unix:/var/run/php5-fpm.sock;\nfastcgi_index index.php;\ninclude fastcgi_params;\n\n}\n```\n}\nIt works when I administrate baikal, create users, calendars ands address books.\nmy logs : 89.xxx.xxx.xxx - - [26/Mar/2014:16:57:59 +0100] \"PROPFIND /card.php/addressbooks/antoine/default/ HTTP/1.1\" 405 172 \"-\" \"Evolution/3.6.4\"\n. When I use your block, I got a 502 bad gateway error.\n. I will try tonight using nginx source with the appropriate modules to see if it fixes it. Maybe you can show me your log from nginx when you check your calendar or contacts to see the request.\nBut it's strange cause when I go to http://dav.mydomain.fr, the message telling me everything's working fine appears... So I really don't understand.\n. Ok. I have destroyed a bit my linux install so it takes some time to test but has I see in the results of \"nginx -v\", you have \"--with-http_dav_module\" and \"--add-module=/usr/src/nginx/source/nginx-1.4.6/debian/modules/nginx-dav-ext-module \" arguments.\nAs it is explain in the nginx wiki, those are used for the dav calls so maybe this is the solution !!! ;)\nI used the official sources from wheezy so no dav modules installed because it's optional during the compilation but on my new nginx webserver, i used the last nginx package to compile it with the good parameters. I will see if it changes something.\nWhen I read the README file here : https://github.com/arut/nginx-dav-ext-module from the external module to have to compile nginx, OPTION and PROPFIND are supported so maybe...\nBy the way, thanks for your help.\n. Ok . I tried but still the same problem. I don't understand.\nWhen I use this : https://dav.modifieddn.fr/card.php/addressbooks/modifiedname/default/, I got a 404 error.\n. And when I tried to synchronize adress books with the sogo connector used by thunderbird, I have this log coming from nginx :\n89.xxx.xxx.xxx - - [28/Mar/2014:11:32:51 +0100] \"PROPFIND /card.php/addressbooks/antoine/default/ HTTP/1.1\" 301 185 \"-\" \"Mozilla/5.0 (X11; Linux x86_64; rv:24.0) Gecko/20100101 Thunderbird/24.2.0\"\n89.xxx.xxx.xxx - - [28/Mar/2014:11:32:51 +0100] \"PROPFIND /card.php/addressbooks/antoine/default/ HTTP/1.1\" 207 285 \"-\" \"Mozilla/5.0 (X11; Linux x86_64; rv:24.0) Gecko/20100101 Thunderbird/24.2.0\"\nIf it can help someone...\n. It works now.\nMy config file looks like this : \n```\nserver\n{\n        listen                  443;\n        ssl                     on;\n        ssl_certificate         /etc/nginx/conf.d/server.crt;\n        ssl_certificate_key     /etc/nginx/conf.d/server.key;\n    server_name     www.dav.domain.fr dav.domain.fr;\n    root            /var/www/folder/html;\n\n    dav_methods     PUT DELETE MKCOL COPY MOVE;\n    dav_ext_methods PROPFIND OPTIONS;\n\n    rewrite         ^/.well-known/caldav /cal.php redirect;\n    rewrite         ^/.well-known/carddav /card.php redirect;\n\n    charset         utf-8;\n\n    location ~ /(\\.ht|Core|Specific)\n    {\n            deny    all;\n            return  404;\n    }\n\n    location ~ ^(.+?\\.php)(/.*)?$\n    {\n            fastcgi_split_path_info ^(.+\\.php)(/.+)$;\n            fastcgi_pass unix:/var/run/php5-fpm.sock;\n            fastcgi_index index.php;\n            include fastcgi.conf;\n    }\n\n}\nserver\n{\n        listen                  80;\n        server_name             www.dav.domain.fr dav.domain.fr;\n        return                  301 https://dav.domain.fr$request_uri;\n}\n```\nAnd it works with or without : \ndav_methods     PUT DELETE MKCOL COPY MOVE;\ndav_ext_methods PROPFIND OPTIONS;\nMaybe the compilation with the dav options change things. I don't really know.\n. Do I have to close this thread ?\n. Debian ;\nDistributor ID: Debian\nDescription:    Debian GNU/Linux 7.4 (wheezy)\nRelease:    7.4\nCodename:   wheezy\nNginx : 1.2.1\nMy config file :\nserver {\n    listen       80;\n    server_name  dav.domainchanged.fr www.dav.domainchanged.fr;\n```\nroot  /var/www/baikal/html;\nindex index.php;\nrewrite ^/.well-known/caldav /cal.php redirect;\nrewrite ^/.well-known/carddav /card.php redirect;\ncharset utf-8;\nlocation ~ /(.ht|Core|Specific) {\n    deny all;\n    return 404;\n}\npass the PHP scripts to FastCGI server listening on 127.0.0.1:9000\n\nlocation ~ .php$ {\n    fastcgi_split_path_info ^(.+.php)(/.+)$;\n    #   # NOTE: You should have \"cgi.fix_pathinfo = 0;\" in php.ini\n#   # With php5-cgi alone:\n#fastcgi_pass 127.0.0.1:9000;\n#   # With php5-fpm:\nfastcgi_pass unix:/var/run/php5-fpm.sock;\nfastcgi_index index.php;\ninclude fastcgi_params;\n\n}\n```\n}\nIt works when I administrate baikal, create users, calendars ands address books.\nmy logs : 89.xxx.xxx.xxx - - [26/Mar/2014:16:57:59 +0100] \"PROPFIND /card.php/addressbooks/antoine/default/ HTTP/1.1\" 405 172 \"-\" \"Evolution/3.6.4\"\n. When I use your block, I got a 502 bad gateway error.\n. I will try tonight using nginx source with the appropriate modules to see if it fixes it. Maybe you can show me your log from nginx when you check your calendar or contacts to see the request.\nBut it's strange cause when I go to http://dav.mydomain.fr, the message telling me everything's working fine appears... So I really don't understand.\n. Ok. I have destroyed a bit my linux install so it takes some time to test but has I see in the results of \"nginx -v\", you have \"--with-http_dav_module\" and \"--add-module=/usr/src/nginx/source/nginx-1.4.6/debian/modules/nginx-dav-ext-module \" arguments.\nAs it is explain in the nginx wiki, those are used for the dav calls so maybe this is the solution !!! ;)\nI used the official sources from wheezy so no dav modules installed because it's optional during the compilation but on my new nginx webserver, i used the last nginx package to compile it with the good parameters. I will see if it changes something.\nWhen I read the README file here : https://github.com/arut/nginx-dav-ext-module from the external module to have to compile nginx, OPTION and PROPFIND are supported so maybe...\nBy the way, thanks for your help.\n. Ok . I tried but still the same problem. I don't understand.\nWhen I use this : https://dav.modifieddn.fr/card.php/addressbooks/modifiedname/default/, I got a 404 error.\n. And when I tried to synchronize adress books with the sogo connector used by thunderbird, I have this log coming from nginx :\n89.xxx.xxx.xxx - - [28/Mar/2014:11:32:51 +0100] \"PROPFIND /card.php/addressbooks/antoine/default/ HTTP/1.1\" 301 185 \"-\" \"Mozilla/5.0 (X11; Linux x86_64; rv:24.0) Gecko/20100101 Thunderbird/24.2.0\"\n89.xxx.xxx.xxx - - [28/Mar/2014:11:32:51 +0100] \"PROPFIND /card.php/addressbooks/antoine/default/ HTTP/1.1\" 207 285 \"-\" \"Mozilla/5.0 (X11; Linux x86_64; rv:24.0) Gecko/20100101 Thunderbird/24.2.0\"\nIf it can help someone...\n. It works now.\nMy config file looks like this : \n```\nserver\n{\n        listen                  443;\n        ssl                     on;\n        ssl_certificate         /etc/nginx/conf.d/server.crt;\n        ssl_certificate_key     /etc/nginx/conf.d/server.key;\n    server_name     www.dav.domain.fr dav.domain.fr;\n    root            /var/www/folder/html;\n\n    dav_methods     PUT DELETE MKCOL COPY MOVE;\n    dav_ext_methods PROPFIND OPTIONS;\n\n    rewrite         ^/.well-known/caldav /cal.php redirect;\n    rewrite         ^/.well-known/carddav /card.php redirect;\n\n    charset         utf-8;\n\n    location ~ /(\\.ht|Core|Specific)\n    {\n            deny    all;\n            return  404;\n    }\n\n    location ~ ^(.+?\\.php)(/.*)?$\n    {\n            fastcgi_split_path_info ^(.+\\.php)(/.+)$;\n            fastcgi_pass unix:/var/run/php5-fpm.sock;\n            fastcgi_index index.php;\n            include fastcgi.conf;\n    }\n\n}\nserver\n{\n        listen                  80;\n        server_name             www.dav.domain.fr dav.domain.fr;\n        return                  301 https://dav.domain.fr$request_uri;\n}\n```\nAnd it works with or without : \ndav_methods     PUT DELETE MKCOL COPY MOVE;\ndav_ext_methods PROPFIND OPTIONS;\nMaybe the compilation with the dav options change things. I don't really know.\n. Do I have to close this thread ?\n. ",
    "Lamecarlate": "I agree. Usually I use this article (in french) http://blog.idleman.fr/installez-votre-synchronisateurs-de-contacts-chez-vous-avec-baikal/, but it would be a neat thing to have it directly. Even if it's just a reminder : http://yourdomain.tld/baikal-install/cal.php/calendars/username/calendarname/\n. I agree. Usually I use this article (in french) http://blog.idleman.fr/installez-votre-synchronisateurs-de-contacts-chez-vous-avec-baikal/, but it would be a neat thing to have it directly. Even if it's just a reminder : http://yourdomain.tld/baikal-install/cal.php/calendars/username/calendarname/\n. ",
    "tomghub": "thx for quick reply, is it also possible to use shorter id like:\nX-ABUID:3:ABPerson\nand match the number to mysql field addressbookid so i can do:\nINSERT INTO cards (addressbookid,carddata) VALUES ('BEGIN:VCARD...X-ABUID:3:ABPerson END:VCARD','3') ON DUPLICATE KEY UPDATE carddata=values(carddata)\n. When i understand correctly, this is not what i want. This API only allows modification of VCARD files but i want to generate new contacts from existing vcard files without doing it from a client like Thunderbird. It should be script based on the server.\nPlease provide info what format is needed for new rows in the cards table so the client will display it. How are \"uri\" and \"lastmodifified\" fields involved and what data format the need to be?\n. I have imported rows into MySQL cards table as following:\nid | addressbookid | carddata | uri | lastmodified\n1 | 1 | blobdata | 1.vcf | NULL\n2 | 2 | blobdata | 2.vcf | NULL\n3 | 3 | blobdata | 3.vcf | NULL\n......\n....\n.\nVCARDs have this scheme and i was able to import them in Thunderbird local addressbook:\nBEGIN:VCARD\nVERSION:3.0\nFN:Some Guy\nADR;TYPE=home:extended;street,city;region;postcode;country\nEMAIL;TYPE=work:guy@somewhere.com\nPRODID:-//Inverse inc.//SOGo Connector 1.0//EN\nUID:1.vcf\nEND:VCARD\nBaikal Dashboard is showing correct amount of contacts but Thunderbird is displaying only the first one from Baikal addressbook. But why?\n. thx for quick reply, is it also possible to use shorter id like:\nX-ABUID:3:ABPerson\nand match the number to mysql field addressbookid so i can do:\nINSERT INTO cards (addressbookid,carddata) VALUES ('BEGIN:VCARD...X-ABUID:3:ABPerson END:VCARD','3') ON DUPLICATE KEY UPDATE carddata=values(carddata)\n. When i understand correctly, this is not what i want. This API only allows modification of VCARD files but i want to generate new contacts from existing vcard files without doing it from a client like Thunderbird. It should be script based on the server.\nPlease provide info what format is needed for new rows in the cards table so the client will display it. How are \"uri\" and \"lastmodifified\" fields involved and what data format the need to be?\n. I have imported rows into MySQL cards table as following:\nid | addressbookid | carddata | uri | lastmodified\n1 | 1 | blobdata | 1.vcf | NULL\n2 | 2 | blobdata | 2.vcf | NULL\n3 | 3 | blobdata | 3.vcf | NULL\n......\n....\n.\nVCARDs have this scheme and i was able to import them in Thunderbird local addressbook:\nBEGIN:VCARD\nVERSION:3.0\nFN:Some Guy\nADR;TYPE=home:extended;street,city;region;postcode;country\nEMAIL;TYPE=work:guy@somewhere.com\nPRODID:-//Inverse inc.//SOGo Connector 1.0//EN\nUID:1.vcf\nEND:VCARD\nBaikal Dashboard is showing correct amount of contacts but Thunderbird is displaying only the first one from Baikal addressbook. But why?\n. ",
    "ebertech": "a bit more info: \ndevice does a prop request\nserver sends back a bunch of items where in the responses the href tag contains\nblahblahblah%40google.com \ndevice then does another prop request but here the hrefs are now\nblahblahblah%2540google.com \nsever responds with 404\nso.... I'm not sure what the spec says to do about this or if there's a way to indicate that things are already escaped. \nOther clients (like ical and lightning) handle this without issue... so I'm guessing it's on the blackberry side that this is a bug... although I would guess that it'd be easier to do this on the server side faster than getting a fix from Blackberry. \n. a bit more info: \ndevice does a prop request\nserver sends back a bunch of items where in the responses the href tag contains\nblahblahblah%40google.com \ndevice then does another prop request but here the hrefs are now\nblahblahblah%2540google.com \nsever responds with 404\nso.... I'm not sure what the spec says to do about this or if there's a way to indicate that things are already escaped. \nOther clients (like ical and lightning) handle this without issue... so I'm guessing it's on the blackberry side that this is a bug... although I would guess that it'd be easier to do this on the server side faster than getting a fix from Blackberry. \n. ",
    "lukasleitsch": "Okay. i restart the mac and delete the htaccess. now ist works.\n. Okay. i restart the mac and delete the htaccess. now ist works.\n. ",
    "Tntdruid": "I got the same problem :(\n. I'm looking for that too, no info in the site about it.\n. Does not work for me, using iOS 9.3\n. @bigretromike\nI use https://github.com/Kozea/Radicale. iOS 5 is outdated, works fine on my iOS units running 9.3.x\n. Are you using nginx?\nI just moved from apache to nginx, now events not sync anymore. Is that a nginx bug?\n. Do a mysql export of the db and import in on the new server\n. Ah true :)\n. 0.4.6 fix that\n. Only the /html dir should be open to the world\n. https://sourceforge.net/projects/mysql2sqlite/ Not tested it :)\n.  I use 8 calendars whit no problems on iOS 10 whit one user.\n. try http://domain.com/dav.php/principals/user/work/ . Says \"Installation was already completed. Please head to the admin interface to modify any settings\" when i go there. No sql info. Thats bad news :(. Try /dav.php/principals/Yourname/. Try https://dav.myname.com/dav.php/principals/Yourname. There are no support for share..  \"php\"           : \">=5.5\", Its made a very old php version. I got the same problem :(\n. I'm looking for that too, no info in the site about it.\n. Does not work for me, using iOS 9.3\n. @bigretromike\nI use https://github.com/Kozea/Radicale. iOS 5 is outdated, works fine on my iOS units running 9.3.x\n. Are you using nginx?\nI just moved from apache to nginx, now events not sync anymore. Is that a nginx bug?\n. Do a mysql export of the db and import in on the new server\n. Ah true :)\n. 0.4.6 fix that\n. Only the /html dir should be open to the world\n. https://sourceforge.net/projects/mysql2sqlite/ Not tested it :)\n.  I use 8 calendars whit no problems on iOS 10 whit one user.\n. try http://domain.com/dav.php/principals/user/work/ . Says \"Installation was already completed. Please head to the admin interface to modify any settings\" when i go there. No sql info. Thats bad news :(. Try /dav.php/principals/Yourname/. Try https://dav.myname.com/dav.php/principals/Yourname. There are no support for share..  \"php\"           : \">=5.5\", Its made a very old php version. ",
    "LostKobrakai": "I have no solution, but for me it's working on 7.1. I only found in the extendet settings, that a random spelling error found it's way to my domain name, which wasn't in the \"server\" field.\n. Under Mail Settings > YOUR BAIKAL ACCOUNT > Account > Extended Settings there's a field \"Account-URL\" which had a spelling issue, which for sure wasn't there on account creation. \n. According to the Installation description the URL should be like this: http://DOMAIN/cal.php/principals/USERNAME\nAlso the Username is probably case sensitive.\n. Great to be able to help even half a year later.\n. I have no solution, but for me it's working on 7.1. I only found in the extendet settings, that a random spelling error found it's way to my domain name, which wasn't in the \"server\" field.\n. Under Mail Settings > YOUR BAIKAL ACCOUNT > Account > Extended Settings there's a field \"Account-URL\" which had a spelling issue, which for sure wasn't there on account creation. \n. According to the Installation description the URL should be like this: http://DOMAIN/cal.php/principals/USERNAME\nAlso the Username is probably case sensitive.\n. Great to be able to help even half a year later.\n. ",
    "ortemij": "Such fix was already submitted: #218\n. Such fix was already submitted: #218\n. ",
    "camlafit": "Hi\nI just tested this patch over 0.2.7, works fine. It's better than to modify directly database :)\nAlpha doesn't look required. \nMaybe validation part can be check only RGB value and set full opacity by default.\n. Hi\nI found this resource : \n- http://tools.ietf.org/id/draft-daboo-icalendar-extensions-00.html#rfc.section.4.7\n. Hi\nTo complete references list : \n- http://www.calconnect.org/CD1104_Calendaring_Standards.shtml#CalDAV\n- http://tools.ietf.org/html/draft-daboo-icalendar-extensions-08#section-5.9\n. Hi\nin #290 I see a finish list in the code, user can set an another color code ? Or it's limited to this list ?\n. Hi\nI just tested this patch over 0.2.7, works fine. It's better than to modify directly database :)\nAlpha doesn't look required. \nMaybe validation part can be check only RGB value and set full opacity by default.\n. Hi\nI found this resource : \n- http://tools.ietf.org/id/draft-daboo-icalendar-extensions-00.html#rfc.section.4.7\n. Hi\nTo complete references list : \n- http://www.calconnect.org/CD1104_Calendaring_Standards.shtml#CalDAV\n- http://tools.ietf.org/html/draft-daboo-icalendar-extensions-08#section-5.9\n. Hi\nin #290 I see a finish list in the code, user can set an another color code ? Or it's limited to this list ?\n. ",
    "tbolender": "Do you know whether alpha channel is required? I found nothing about it online.\n. Thank you very much! Adjusted regex expression so that alpha channel is optional.\n. Thank you a lot! As far as I understand the standard also supports use of css3 color names, but I think validation of them will just bloat the code up. Apart from this I am not sure whether many clients support it.\n. I think the most elegant and complete solution would be to do it like GitLab does for label creation (see below), but I do not know whether this work is necessary at the moment (also considering active development of Baikal 2)\n\n. Great nice hear that! The preview looks great, looking forward for a the next Baikal version!\n. Do you know whether alpha channel is required? I found nothing about it online.\n. Thank you very much! Adjusted regex expression so that alpha channel is optional.\n. Thank you a lot! As far as I understand the standard also supports use of css3 color names, but I think validation of them will just bloat the code up. Apart from this I am not sure whether many clients support it.\n. I think the most elegant and complete solution would be to do it like GitLab does for label creation (see below), but I do not know whether this work is necessary at the moment (also considering active development of Baikal 2)\n\n. Great nice hear that! The preview looks great, looking forward for a the next Baikal version!\n. ",
    "openpaul": "Ok,\nI have baikal 0.27 installed and I also changed the two files you changes acoordingly to get your fix running.\nBut the proposed formular field does not show up?\nDid I do something wrong?\nUpgraded the normaql 0.27 with the version from master and than changed the two php files.\nEdit:\nOk, it works... I do not know why it did not work the first time\n. Ok, I used your work to come up with an nice interface to select the color. It works well and I am running it as of now.\nmaybe check it out https://github.com/netgusto/Baikal/pull/290\n(hope it did not miss a file... )\n. As of now it is a finished list and you can not input your own color. But It would be easy to implement that as well.\nBut most users wont need it, i guess.\nEven Google Calendar and owncloud do not offer this.\n. Ok,\nI have baikal 0.27 installed and I also changed the two files you changes acoordingly to get your fix running.\nBut the proposed formular field does not show up?\nDid I do something wrong?\nUpgraded the normaql 0.27 with the version from master and than changed the two php files.\nEdit:\nOk, it works... I do not know why it did not work the first time\n. Ok, I used your work to come up with an nice interface to select the color. It works well and I am running it as of now.\nmaybe check it out https://github.com/netgusto/Baikal/pull/290\n(hope it did not miss a file... )\n. As of now it is a finished list and you can not input your own color. But It would be easy to implement that as well.\nBut most users wont need it, i guess.\nEven Google Calendar and owncloud do not offer this.\n. ",
    "v2b1n": "May be, but actually it's up to the OS when to remove these files.\nIn a standard linux distri it's done usualy by a cronjob which comes with a php5-common package:\n```\nroot@nd402:~$ cd /etc/cron.d\nroot@nd402:/etc/cron.d$ cat php5 \n/etc/cron.d/php5: crontab fragment for php5\nThis purges session files older than X, where X is defined in seconds\nas the largest value of session.gc_maxlifetime from all your php.ini\nfiles, or 24 minutes if not defined.  See /usr/lib/php5/maxlifetime\nLook for and purge old sessions every 30 minutes\n09,39 *     * * *     root   [ -x /usr/lib/php5/maxlifetime ] && [ -d /var/lib/php5 ] && find /var/lib/php5/ -depth -mindepth 1 -maxdepth 1 -type f -ignore_readdir_race -cmin +$(/usr/lib/php5/maxlifetime) ! -execdir fuser -s {} 2>/dev/null \\; -delete\nroot@nd402:/etc/cron.d$ dpkg -S $(pwd)/php5 \nphp5-common: /etc/cron.d/php5\nroot@nd402:/etc/cron.d$ \n```\n. May be, but actually it's up to the OS when to remove these files.\nIn a standard linux distri it's done usualy by a cronjob which comes with a php5-common package:\n```\nroot@nd402:~$ cd /etc/cron.d\nroot@nd402:/etc/cron.d$ cat php5 \n/etc/cron.d/php5: crontab fragment for php5\nThis purges session files older than X, where X is defined in seconds\nas the largest value of session.gc_maxlifetime from all your php.ini\nfiles, or 24 minutes if not defined.  See /usr/lib/php5/maxlifetime\nLook for and purge old sessions every 30 minutes\n09,39 *     * * *     root   [ -x /usr/lib/php5/maxlifetime ] && [ -d /var/lib/php5 ] && find /var/lib/php5/ -depth -mindepth 1 -maxdepth 1 -type f -ignore_readdir_race -cmin +$(/usr/lib/php5/maxlifetime) ! -execdir fuser -s {} 2>/dev/null \\; -delete\nroot@nd402:/etc/cron.d$ dpkg -S $(pwd)/php5 \nphp5-common: /etc/cron.d/php5\nroot@nd402:/etc/cron.d$ \n```\n. ",
    "goors": "That would be great. I am using python ()flask for some web app. I also need calendar. I tried caldav python package but it is not working with Baikal. My guess is  that Baikal does not keeps caldav standards. \n. That would be great. I am using python ()flask for some web app. I also need calendar. I tried caldav python package but it is not working with Baikal. My guess is  that Baikal does not keeps caldav standards. \n. ",
    "simondelacourt": "Please take a look at Sabre, on which baikal is based.\n. Please take a look at Sabre, on which baikal is based.\n. ",
    "perguth": "Sounds good! I got to read Pro Git: Git Branching someday.\n. Sounds good! I got to read Pro Git: Git Branching someday.\n. ",
    "lolman88": "Well I used the flat package.\nDo I need to set the alias also?\nedit: i tryed this - but this didn't work :(\n. So there must be a problem with my configuration.\nCause when i download the flat package and use it with xampp all works fine - but if i migrate to the live system (without xampp) the problems above happens.\nSo what could be the cause? Can you give me a hint?\n. I checked the apache configs and the php.ini but I can't find options that could match my problem.\nWell i don't own PHP skills. Can you tell me what mechanism is used to determine the url for the baikal scripts, cause that seems to be the problem - the missing \"baikal\" in the url ...\n. That doesn't work.\nI even tryed to do this in every index.php, but still no chance.\nThanks for your help anyway.\nDO you have any other information that I could try.\n. @ErikBasalt \nI am not using Synology. I have a Windows 7 and i'm running Apache 2.4.9 with PHP 5.5.11\nBut nevermind - big thanks for the hint. This worked for me to.\n. Well I used the flat package.\nDo I need to set the alias also?\nedit: i tryed this - but this didn't work :(\n. So there must be a problem with my configuration.\nCause when i download the flat package and use it with xampp all works fine - but if i migrate to the live system (without xampp) the problems above happens.\nSo what could be the cause? Can you give me a hint?\n. I checked the apache configs and the php.ini but I can't find options that could match my problem.\nWell i don't own PHP skills. Can you tell me what mechanism is used to determine the url for the baikal scripts, cause that seems to be the problem - the missing \"baikal\" in the url ...\n. That doesn't work.\nI even tryed to do this in every index.php, but still no chance.\nThanks for your help anyway.\nDO you have any other information that I could try.\n. @ErikBasalt \nI am not using Synology. I have a Windows 7 and i'm running Apache 2.4.9 with PHP 5.5.11\nBut nevermind - big thanks for the hint. This worked for me to.\n. ",
    "bijwaard": "I disagree that disabling SPDY is the solution, this will degrade other web services running on the same server. There may be something else in the webserver or baikal that can be optimized such that it works with SPDY as well. I found some clues in the owncloud project (https://github.com/owncloud/core/issues/6326) that suggest to use a the mod_fcgid module instead of mod_php or CGI, since some PHP libraries are not thread-safe, and SPDY parallelyses the requests accross different streams.\n. I disagree that disabling SPDY is the solution, this will degrade other web services running on the same server. There may be something else in the webserver or baikal that can be optimized such that it works with SPDY as well. I found some clues in the owncloud project (https://github.com/owncloud/core/issues/6326) that suggest to use a the mod_fcgid module instead of mod_php or CGI, since some PHP libraries are not thread-safe, and SPDY parallelyses the requests accross different streams.\n. ",
    "hypper": "wrong config.php\ni've delete it and created again. and now is ok\n. wrong config.php\ni've delete it and created again. and now is ok\n. ",
    "derMart": "I recently upgraded baikal from 0.2.7 to 0.4.6 and wondered how to access that web interface?\nIf I go to html/dav.php I get information about the available nodes (calendars, addressbooks etc..)\nIf I go to html/admin/index.php I can configure users etc.\n@netgusto But I haven't found out how to access the interface you mentioned above to get/update to the contents of all those nodes (calendar, addressbook etc)\nWhat is the web endpoint for that?\n. all right, thanks alot.\n. I recently upgraded baikal from 0.2.7 to 0.4.6 and wondered how to access that web interface?\nIf I go to html/dav.php I get information about the available nodes (calendars, addressbooks etc..)\nIf I go to html/admin/index.php I can configure users etc.\n@netgusto But I haven't found out how to access the interface you mentioned above to get/update to the contents of all those nodes (calendar, addressbook etc)\nWhat is the web endpoint for that?\n. all right, thanks alot.\n. ",
    "beyerservice": "you could change permissions to rw.\nand you can simple remove the install-dir\n. you could change permissions to rw.\nand you can simple remove the install-dir\n. ",
    "ghinda": "@meisterlei did you manage to find a work-around for the issue? I'm having the same issue on openwrt with lighttpd.\nexception 'ErrorException' with message 'iconv(): Unknown error (2)' in /www/baikal/Core/Frameworks/Flake/Util/Tools.php:496\n. Thanks! That did the trick.\n. @meisterlei did you manage to find a work-around for the issue? I'm having the same issue on openwrt with lighttpd.\nexception 'ErrorException' with message 'iconv(): Unknown error (2)' in /www/baikal/Core/Frameworks/Flake/Util/Tools.php:496\n. Thanks! That did the trick.\n. ",
    "meisterlei": "i remember deleting the (obviously) unneccessary lines in\n|/www/baikal/Core/Frameworks/Flake/Util/Tools.php:496\n|\n(so that were 2 or 3 beginning with 496)\nmy actual Tools.php looks on line 496-498 like this\n// if(function_exists(\"iconv\"))\n{                                                                               \n//      $sString = iconv('UTF-8', 'ASCII//TRANSLIT',\n$sString);\n                // } \nthe double slashes means i made this if function just a comment, turned\nit off if you like\nthan - everything works fine\ni think the error happens while baikal try to find out if iconv is set\nand than iconv is not properly set ..\nor something similar\ni have iconv (found out with a phpinfo.php) - but it wont work so i\ndecid to turn o this check\nhope this helps\nOn 03.11.2014 20:40, Ionut Colceriu wrote:\n\n@meisterlei https://github.com/meisterlei did you manage to find a\nwork-around for the issue? I'm having the same issue on openwrt with\nlighttpd.\n|exception 'ErrorException' with message 'iconv(): Unknown error (2)' in /www/baikal/Core/Frameworks/Flake/Util/Tools.php:496\n|\n. i remember deleting the (obviously) unneccessary lines in\n\n|/www/baikal/Core/Frameworks/Flake/Util/Tools.php:496\n|\n(so that were 2 or 3 beginning with 496)\nmy actual Tools.php looks on line 496-498 like this\n// if(function_exists(\"iconv\"))\n{                                                                               \n//      $sString = iconv('UTF-8', 'ASCII//TRANSLIT',\n$sString);\n                // } \nthe double slashes means i made this if function just a comment, turned\nit off if you like\nthan - everything works fine\ni think the error happens while baikal try to find out if iconv is set\nand than iconv is not properly set ..\nor something similar\ni have iconv (found out with a phpinfo.php) - but it wont work so i\ndecid to turn o this check\nhope this helps\nOn 03.11.2014 20:40, Ionut Colceriu wrote:\n\n@meisterlei https://github.com/meisterlei did you manage to find a\nwork-around for the issue? I'm having the same issue on openwrt with\nlighttpd.\n|exception 'ErrorException' with message 'iconv(): Unknown error (2)' in /www/baikal/Core/Frameworks/Flake/Util/Tools.php:496\n|\n. \n",
    "HendrikRoth": "Same issue here.\n. Same issue here.\n. ",
    "eximer": "Well for me the problem is solved. After going through the meanings of the error codes 510 refers to a server error which can be due to missing or blocked services. I my case our hosting company decided for whatever reason to implement new security rules which blocked some php actions. Once the exceptions got defined the problems were gone.\n. Well for me the problem is solved. After going through the meanings of the error codes 510 refers to a server error which can be due to missing or blocked services. I my case our hosting company decided for whatever reason to implement new security rules which blocked some php actions. Once the exceptions got defined the problems were gone.\n. ",
    "lapoigne": "Same problem for me, after upgrade from 0.2.6 to 0.2.7\nEdit: found with the apache logs.\nYou need to set the permissions after copying the Specific folder.\n. Same problem for me, after upgrade from 0.2.6 to 0.2.7\nEdit: found with the apache logs.\nYou need to set the permissions after copying the Specific folder.\n. ",
    "turtuga": "sorry need update ctag field in calendars table\n. sorry need update ctag field in calendars table\n. ",
    "herriett": "This sounds like it would be nice to add to the admin interface. In/Export between cal/carddav is always a hassle nowadays.\n. I would second this. It looks nice but I fail to even test it as the only instructions are the Apple autoconnect, which does not work via Kontact.\n. This sounds like it would be nice to add to the admin interface. In/Export between cal/carddav is always a hassle nowadays.\n. I would second this. It looks nice but I fail to even test it as the only instructions are the Apple autoconnect, which does not work via Kontact.\n. ",
    "brutus": "What's the state of this? I would love to sync with those formats, since I'm using Rainlendar and it only supports plain ical format, no CalDav.\nI'm more than a little rusty on PHP; what's to do to have Sabre export as ical instead of giving the normal response only when the GET parameter is export? Would it also be possible to push ical to the server (eg. on a POST request or similar)?\nOr any other hints, how to sync plain ical with Baikal?\n. Thx @rudi48 , it worked. I now have a cron job that grabs the export and feeds it to Rainlendar. Kinda crude and only one way, but hey...\nPull request can be found here: https://github.com/jeromeschneider/Baikal/pull/272\n. What's the state of this? I would love to sync with those formats, since I'm using Rainlendar and it only supports plain ical format, no CalDav.\nI'm more than a little rusty on PHP; what's to do to have Sabre export as ical instead of giving the normal response only when the GET parameter is export? Would it also be possible to push ical to the server (eg. on a POST request or similar)?\nOr any other hints, how to sync plain ical with Baikal?\n. Thx @rudi48 , it worked. I now have a cron job that grabs the export and feeds it to Rainlendar. Kinda crude and only one way, but hey...\nPull request can be found here: https://github.com/jeromeschneider/Baikal/pull/272\n. ",
    "froschdesign": "The same for dashes.\n. Duplicates #157\n. The same for dashes.\n. Duplicates #157\n. ",
    "petermolnar": "Solved it, not the nice way:\n- export google ics\n- split to separate VEVENT with http://cysec.org/blog/2011/06/20/splitting-a-vcalendar-into-single-vevents/\n- insert into DB as:\n`$mysqli = new mysqli(HOST,USER,PASS,DB);\nif ($mysqli->connect_errno)  echo \"Failed to connect to MySQL: (\" . $mysqli->connect_errno . \") \" . $mysqli->connect_error;\n$events = scandir ( 'out' );\n$head = \"insert into calendarobjects (calendardata,uri,calendarid,lastmodified,etag,size,componenttype,firstoccurence,lastoccurence) VALUES \";\nforeach ( $events as $event ) {\n    $fname = 'out/'. $event;\n    $data = file_get_contents ( $fname );\n    $lmod = filemtime ( $fname );\n    $etag = md5( $data );\n    $size = strlen ( $data );\n$sql  = $head .  \"( '\". $data .\"', '\". $event .\"', CALENDARID, '\". $lmod .\"', '\". $etag .\"', '\". $size .\"', 'VEVENT', '1083456000', '2145916800' );\";\nif ( ! $mysqli->query( $sql ) ) echo \"failed: (\" . $mysqli->errno . \") \" . $mysqli->error;\n}`\n- change the calendar's ctag to last_insert_id\nThere has to be an easier way :)\n. Solved it, not the nice way:\n- export google ics\n- split to separate VEVENT with http://cysec.org/blog/2011/06/20/splitting-a-vcalendar-into-single-vevents/\n- insert into DB as:\n`$mysqli = new mysqli(HOST,USER,PASS,DB);\nif ($mysqli->connect_errno)  echo \"Failed to connect to MySQL: (\" . $mysqli->connect_errno . \") \" . $mysqli->connect_error;\n$events = scandir ( 'out' );\n$head = \"insert into calendarobjects (calendardata,uri,calendarid,lastmodified,etag,size,componenttype,firstoccurence,lastoccurence) VALUES \";\nforeach ( $events as $event ) {\n    $fname = 'out/'. $event;\n    $data = file_get_contents ( $fname );\n    $lmod = filemtime ( $fname );\n    $etag = md5( $data );\n    $size = strlen ( $data );\n$sql  = $head .  \"( '\". $data .\"', '\". $event .\"', CALENDARID, '\". $lmod .\"', '\". $etag .\"', '\". $size .\"', 'VEVENT', '1083456000', '2145916800' );\";\nif ( ! $mysqli->query( $sql ) ) echo \"failed: (\" . $mysqli->errno . \") \" . $mysqli->error;\n}`\n- change the calendar's ctag to last_insert_id\nThere has to be an easier way :)\n. ",
    "torth": "hello Hassan,\nToday I had the same Problem and I solved it. First follow the instructions in INSTALL.md and create a database and a db_user. After that initialize the new database baikal with the db.sql file as described. If you have no records in you calendar, it's up to you to reinstall baikal-server  (that was my way) and use your new parameters to connect to your mysql database. It worked fine with my installation.\n. Did you use the correct address in your iPhone?:\nhttp://server-url/cal.php/principals/username/\n. hello Hassan,\nToday I had the same Problem and I solved it. First follow the instructions in INSTALL.md and create a database and a db_user. After that initialize the new database baikal with the db.sql file as described. If you have no records in you calendar, it's up to you to reinstall baikal-server  (that was my way) and use your new parameters to connect to your mysql database. It worked fine with my installation.\n. Did you use the correct address in your iPhone?:\nhttp://server-url/cal.php/principals/username/\n. ",
    "vooft": "Hi!\nI guess, I've found a solution (based on this comment and my experiments):\n1. Use https instead of http\n2. Add to .htaccess something like this:\nRedirect 301 /.well-known/carddav /card.php\nRedirect 301 /.well-known/caldav /cal.php\n. Hi!\nI guess, I've found a solution (based on this comment and my experiments):\n1. Use https instead of http\n2. Add to .htaccess something like this:\nRedirect 301 /.well-known/carddav /card.php\nRedirect 301 /.well-known/caldav /cal.php\n. ",
    "CiaranG": "Working fine for me with Thunderbird 31, and all previous versions. But my Inverse  SOGo Connector version is 17.0.5.\n. Working fine for me with Thunderbird 31, and all previous versions. But my Inverse  SOGo Connector version is 17.0.5.\n. ",
    "maybeec": "Do you have Lightning also installed?\nI had problems with the latest SOGo Connector also. After installing Lightning as well, the problems were gone.\n. Do you have Lightning also installed?\nI had problems with the latest SOGo Connector also. After installing Lightning as well, the problems were gone.\n. ",
    "bewinter": "Working fine with Thunderbird 31.0 and Lightning 3.3 and SOGo Conn. 24.0.5...\n. Working fine with Thunderbird 31.0 and Lightning 3.3 and SOGo Conn. 24.0.5...\n. ",
    "der-On": ":+1 I think this is great. I've actually patched my baikal installation to include the additional plugins.\nI think it should be there by default.\n. :+1 I think this is great. I've actually patched my baikal installation to include the additional plugins.\nI think it should be there by default.\n. ",
    "albansch": "Forget this issue, it was related to a wrong path to the mysql socket in the PHP.ini => directive pdo_mysql.default_socket\n. Forget this issue, it was related to a wrong path to the mysql socket in the PHP.ini => directive pdo_mysql.default_socket\n. ",
    "kanchannmahajan": "I have same problem\nI am a noob and cannot figure out whats wrong\nI did the normal setup of baikal\n@albansch can you please let me know \nhow can I fix this??\n. I have same problem\nI am a noob and cannot figure out whats wrong\nI did the normal setup of baikal\n@albansch can you please let me know \nhow can I fix this??\n. ",
    "iBuff": "Thank You  very much\n. Thank You  very much\n. ",
    "jthornton1977": "Jim Thornton \nLocal: 1-905-921-1805 \nToll Free: 1-866-257-0158 \nFax: 1-866-235-1914 \nMortgage Broker (Licence #M08002211) with: \nReal Mortgage Associates (Licence #10464) \n----- Original Message -----\nFrom: \"Net Gusto\" notifications@github.com \nTo: \"netgusto/Baikal\" Baikal@noreply.github.com \nCc: \"jthornton1977\" contact@jimthornton.ca \nSent: Monday, November 3, 2014 4:41:26 PM \nSubject: Re: [Baikal] Can't sync with iphone (#274) \nClosed #274 . \n\u2014 \nReply to this email directly or view it on GitHub . \n. Jim Thornton \nLocal: 1-905-921-1805 \nToll Free: 1-866-257-0158 \nFax: 1-866-235-1914 \nMortgage Broker (Licence #M08002211) with: \nReal Mortgage Associates (Licence #10464) \n----- Original Message -----\nFrom: \"Net Gusto\" notifications@github.com \nTo: \"netgusto/Baikal\" Baikal@noreply.github.com \nCc: \"jthornton1977\" contact@jimthornton.ca \nSent: Monday, November 3, 2014 4:41:26 PM \nSubject: Re: [Baikal] Can't sync with iphone (#274) \nClosed #274 . \n\u2014 \nReply to this email directly or view it on GitHub . \n. ",
    "scriptator": "Though I have no concrete idea, what your problem could be, I can tell you that creating calendars in the Admin-Interface and syncing them to Macs (10.9 & 10.10) and iPhone (iOS 7) as well as creating them on the Mac and syncing them to the iPhone worked fine for me several times in the last few days. \nHow old is your iCal? Have you got any other program to test with?\n. I have the following lines in my virtualhost-config: \nErrorLog /var/log/baikal/error.log\n # Possible values include: debug, info, notice, warn, error, crit,\n # alert, emerg.\nLogLevel warn\nCustomLog /var/log/baikal/access.log combined\nThese lines seem to be working, as I have got several messages in them, but neither of them contains authentication errors, which are necessary for fail2ban. \nI am now thinking that baikal isn't logging such errors at all, which would be a big security issue, as someone could brute force attack without running the risk of causing a stir. I would be glad if someone could show me I'm wrong\n. Though I have no concrete idea, what your problem could be, I can tell you that creating calendars in the Admin-Interface and syncing them to Macs (10.9 & 10.10) and iPhone (iOS 7) as well as creating them on the Mac and syncing them to the iPhone worked fine for me several times in the last few days. \nHow old is your iCal? Have you got any other program to test with?\n. I have the following lines in my virtualhost-config: \nErrorLog /var/log/baikal/error.log\n # Possible values include: debug, info, notice, warn, error, crit,\n # alert, emerg.\nLogLevel warn\nCustomLog /var/log/baikal/access.log combined\nThese lines seem to be working, as I have got several messages in them, but neither of them contains authentication errors, which are necessary for fail2ban. \nI am now thinking that baikal isn't logging such errors at all, which would be a big security issue, as someone could brute force attack without running the risk of causing a stir. I would be glad if someone could show me I'm wrong\n. ",
    "Cubytus": "iCal is the one included in the latest Snow Leopard. I don\u2019t have an iOS 7-compatible iPhone to test with.\n\nEl 17/9/2014, a las 18:14, smaug95 notifications@github.com escribi\u00f3:\nThough I have no idea, what your problem could be, I can tell you that creating calendars in the Admin-Interface and syncing them to Macs (10.9 & 10.10) and iPhone (iOS 7) as well as creating them on the Mac and syncing them to the iPhone worked fine for me several times in the last few days.\nHow old is your iCal? Have you got any other program to test with?\n\u2014\nReply to this email directly or view it on GitHub https://github.com/jeromeschneider/Baikal/issues/275#issuecomment-55968470.\n. As I said, the server isn\u2019t wrong. The calendars do work on Mavericks. In any case there\u2019s no way I could change anything on the server save for Baikal\u2019s own config.\nEl 17/9/2014, a las 18:50, Evert Pot notifications@github.com escribi\u00f3:\nLooks like a misconfigured server. For some reason it's trying to redirect the request, when it definitely shouldn't.\n\u2014\nReply to this email directly or view it on GitHub https://github.com/jeromeschneider/Baikal/issues/275#issuecomment-55973097.\n. I have a comparable installation of ownCloud\u2019s calendar that does work on this iCal, which is also based on SabreDAV. There\u2019s no way a shared server can be modified, and it still doesn\u2019t explain why calendars can\u2019t display unless opened in Mavericks first.\nEl 19/9/2014, a las 14:27, Evert Pot notifications@github.com escribi\u00f3:\nWell it looks like a MKCALENDAR request triggers a redirect, this is not something sabredav/baikal does. It must be a server issue.\nSo if you're unable to change the server's configuration, you are out of luck.\n\u2014\nReply to this email directly or view it on GitHub https://github.com/jeromeschneider/Baikal/issues/275#issuecomment-56215810.\n. Asked another way, why would the server behave any different when asked from Mavericks (working) than from SL (not working)? And more, what would have been changed through first Mavericks access that SL doesn\u2019t do?\nEl 19/9/2014, a las 17:00, Evert Pot notifications@github.com escribi\u00f3:\nWhoops. Messed up two different issues. This is not related to MKCALENDAR.\nRegardless, the 302 should not happen in this particular case. There's something going on the server that's performing an incorrect redirect.\n\u2014\nReply to this email directly or view it on GitHub https://github.com/jeromeschneider/Baikal/issues/275#issuecomment-56234798.\n. iCal is the one included in the latest Snow Leopard. I don\u2019t have an iOS 7-compatible iPhone to test with.\nEl 17/9/2014, a las 18:14, smaug95 notifications@github.com escribi\u00f3:\nThough I have no idea, what your problem could be, I can tell you that creating calendars in the Admin-Interface and syncing them to Macs (10.9 & 10.10) and iPhone (iOS 7) as well as creating them on the Mac and syncing them to the iPhone worked fine for me several times in the last few days.\nHow old is your iCal? Have you got any other program to test with?\n\u2014\nReply to this email directly or view it on GitHub https://github.com/jeromeschneider/Baikal/issues/275#issuecomment-55968470.\n. As I said, the server isn\u2019t wrong. The calendars do work on Mavericks. In any case there\u2019s no way I could change anything on the server save for Baikal\u2019s own config.\nEl 17/9/2014, a las 18:50, Evert Pot notifications@github.com escribi\u00f3:\nLooks like a misconfigured server. For some reason it's trying to redirect the request, when it definitely shouldn't.\n\u2014\nReply to this email directly or view it on GitHub https://github.com/jeromeschneider/Baikal/issues/275#issuecomment-55973097.\n. I have a comparable installation of ownCloud\u2019s calendar that does work on this iCal, which is also based on SabreDAV. There\u2019s no way a shared server can be modified, and it still doesn\u2019t explain why calendars can\u2019t display unless opened in Mavericks first.\nEl 19/9/2014, a las 14:27, Evert Pot notifications@github.com escribi\u00f3:\nWell it looks like a MKCALENDAR request triggers a redirect, this is not something sabredav/baikal does. It must be a server issue.\nSo if you're unable to change the server's configuration, you are out of luck.\n\u2014\nReply to this email directly or view it on GitHub https://github.com/jeromeschneider/Baikal/issues/275#issuecomment-56215810.\n. Asked another way, why would the server behave any different when asked from Mavericks (working) than from SL (not working)? And more, what would have been changed through first Mavericks access that SL doesn\u2019t do?\nEl 19/9/2014, a las 17:00, Evert Pot notifications@github.com escribi\u00f3:\nWhoops. Messed up two different issues. This is not related to MKCALENDAR.\nRegardless, the 302 should not happen in this particular case. There's something going on the server that's performing an incorrect redirect.\n\u2014\nReply to this email directly or view it on GitHub https://github.com/jeromeschneider/Baikal/issues/275#issuecomment-56234798.\n. \n",
    "stevewi": "On Sep 10, 2014, at 8:40 AM, ma.be notifications@github.com wrote:\n\nWhat does you apache error and php error log said?\nI'm running php5-fpm with lighttpd without any troubles. And it works even with the Mac OS X calendar without any problems.\n\nI get dialog boxes all over Mac Calendar that say this:\n```\nAccess to account \u201cSteve's Calendars\u201d is not permitted.\nThe server responded:\n\u201c403\u201d\nto operation CalDAVAccountRefreshQueueableOperation.\n```\nThe access log says:\nxx.xx.xx.xx - - [10/Sep/2014:09:16:25 -0700] \"PROPFIND /shared/cal.php/principals/stevewi/ HTTP/1.1\" 403 2220 \"-\" \"Mac_OS_X/10.9.4 (13E28) CalendarAgent/176.2\"\nxx.xx.xx.xx - - [10/Sep/2014:09:16:26 -0700] \"PROPFIND /shared/cal.php/principals/stevewi/ HTTP/1.1\" 403 2220 \"-\" \"Mac_OS_X/10.9.4 (13E28) CalendarAgent/176.2\"\nxx.xx.xx.xx - - [10/Sep/2014:09:16:26 -0700] \"PROPFIND / HTTP/1.1\" 405 1730 \"-\" \"Mac_OS_X/10.9.4 (13E28) CalendarAgent/176.2\u201d\n'xx.xx.xx.xx' is the redacted IP address of my Mac.\nThere are no error log entries.\nWhen I switch back to mod_php5, everything is back to normal.\n. On Nov 3, 2014, at 1:35 PM, Net Gusto notifications@github.com wrote:\n\n@stevewi have you tried #17 (comment) ?\n\nI tried it\u2026  Everything just kind of hung\u2026  To tell you the truth, during the Holidays, I\u2019m going to de-commission Baikal in favor of owncloud\u2026a much better solution for us\u2026and it has no problems with php5-fpm.  Thanks though.\n\u2014 sw\n. On Sep 10, 2014, at 8:40 AM, ma.be notifications@github.com wrote:\n\nWhat does you apache error and php error log said?\nI'm running php5-fpm with lighttpd without any troubles. And it works even with the Mac OS X calendar without any problems.\n\nI get dialog boxes all over Mac Calendar that say this:\n```\nAccess to account \u201cSteve's Calendars\u201d is not permitted.\nThe server responded:\n\u201c403\u201d\nto operation CalDAVAccountRefreshQueueableOperation.\n```\nThe access log says:\nxx.xx.xx.xx - - [10/Sep/2014:09:16:25 -0700] \"PROPFIND /shared/cal.php/principals/stevewi/ HTTP/1.1\" 403 2220 \"-\" \"Mac_OS_X/10.9.4 (13E28) CalendarAgent/176.2\"\nxx.xx.xx.xx - - [10/Sep/2014:09:16:26 -0700] \"PROPFIND /shared/cal.php/principals/stevewi/ HTTP/1.1\" 403 2220 \"-\" \"Mac_OS_X/10.9.4 (13E28) CalendarAgent/176.2\"\nxx.xx.xx.xx - - [10/Sep/2014:09:16:26 -0700] \"PROPFIND / HTTP/1.1\" 405 1730 \"-\" \"Mac_OS_X/10.9.4 (13E28) CalendarAgent/176.2\u201d\n'xx.xx.xx.xx' is the redacted IP address of my Mac.\nThere are no error log entries.\nWhen I switch back to mod_php5, everything is back to normal.\n. On Nov 3, 2014, at 1:35 PM, Net Gusto notifications@github.com wrote:\n\n@stevewi have you tried #17 (comment) ?\n\nI tried it\u2026  Everything just kind of hung\u2026  To tell you the truth, during the Holidays, I\u2019m going to de-commission Baikal in favor of owncloud\u2026a much better solution for us\u2026and it has no problems with php5-fpm.  Thanks though.\n\u2014 sw\n. ",
    "harshad1": "I am able to write error logs by adding:\nErrorLog /var/log/baikal/error_log\nLogLevel whatever\nto my virtualhost config. Is this sufficient for fail2ban?\n. @evert: \nYou're right. I officially declare myself a complete idiot. it's working now :)\n. I am able to write error logs by adding:\nErrorLog /var/log/baikal/error_log\nLogLevel whatever\nto my virtualhost config. Is this sufficient for fail2ban?\n. @evert: \nYou're right. I officially declare myself a complete idiot. it's working now :)\n. ",
    "x3ro": ":+1: \n. :+1: \n. ",
    "naevtamarkus": "+1!\n. +1!\n. ",
    "patcon": "+1\n. fwiw, this works with flock, if you're not partial to baikal (I couldn't get flock working with baikal either, so went this route):\nhttp://github.com/patcon/flock-webdav-vagrant\nhttps://github.com/patcon/chef-darwin-calendar-server\n. +1\n. fwiw, this works with flock, if you're not partial to baikal (I couldn't get flock working with baikal either, so went this route):\nhttp://github.com/patcon/flock-webdav-vagrant\nhttps://github.com/patcon/chef-darwin-calendar-server\n. ",
    "jaromil": "+1\nDid not know about this software, but I'd start using Baikal tomorrow if sabre/dav 2.x support would be there for the property storage (and Flock) to work\n. thanks a lot! I'm not partial to anything, just looking for something that works and nothing else really does atm.\n. +1\nDid not know about this software, but I'd start using Baikal tomorrow if sabre/dav 2.x support would be there for the property storage (and Flock) to work\n. thanks a lot! I'm not partial to anything, just looking for something that works and nothing else really does atm.\n. ",
    "quizzmaster": "Would be really great. I used a workaround for that: Using Lightning for Thunderbird to import the ics to the connected caldav-calendar.\n. I cannot approve this issue. CalDavZAP and Android show the same time. Also the roundcube calendar plugin shows the correct event time.\n. The google calendar for android supports timezones automatically. It uses the timezone you're actual in. Maybe the missing option is in the Apple calendar.. You can also try it with thunderbird\n. Would be really great. I used a workaround for that: Using Lightning for Thunderbird to import the ics to the connected caldav-calendar.\n. I cannot approve this issue. CalDavZAP and Android show the same time. Also the roundcube calendar plugin shows the correct event time.\n. The google calendar for android supports timezones automatically. It uses the timezone you're actual in. Maybe the missing option is in the Apple calendar.. You can also try it with thunderbird\n. ",
    "ryosama": "You can try this perl script to import ICS file into Baikal (sqlite)\nhttps://github.com/ryosama/ics2baikal\n. You can try this perl script to import ICS file into Baikal (sqlite)\nhttps://github.com/ryosama/ics2baikal\n. ",
    "bachy": "i had the exact same issue, \nwith TB the calendar address generate by the addon was not right and no way to change it\ni switched to gnome evolution, with which i can now sync natively cals and cards.\n. i had the exact same issue, \nwith TB the calendar address generate by the addon was not right and no way to change it\ni switched to gnome evolution, with which i can now sync natively cals and cards.\n. ",
    "marcusmoller": "Same issue here.\nI create the events using Thunderbird on my laptop, but the synced events on my Android phone are delayed by exactly 1 hour.\nI'm not sure if it isn't an issue caused by timezone differences caused by summertime though.\n. Same issue here.\nI create the events using Thunderbird on my laptop, but the synced events on my Android phone are delayed by exactly 1 hour.\nI'm not sure if it isn't an issue caused by timezone differences caused by summertime though.\n. ",
    "Poorchop": "\nBaikal doesn't really care what timezone events are in.\n\nHow does choosing a time zone during the initial setup affect Baikal? I noticed that the time zone for my server is missing from the list. I just opted to choose my local time zone, which is different from the one that I specified in the php.ini on my server.\n. > Baikal doesn't really care what timezone events are in.\nHow does choosing a time zone during the initial setup affect Baikal? I noticed that the time zone for my server is missing from the list. I just opted to choose my local time zone, which is different from the one that I specified in the php.ini on my server.\n. ",
    "dennisdegreef": "I'm linking it to #558 since I think it would be a nice feature to integrate\n. I'd be happy to join in on the rewrite and make a start with Silex, I have some experience with it.\n. Did some more work on this. Since I only had a few moments here and there, the commits may not be as small as I would like.\nI'll try to find time to work on this more (now only taking moments here and there), any feedback at all is greatly appreciated and if anyone would like to help out, I can give access to my fork.\nPlease let me know what you think :+1: \n. https://twitter.com/evertp/status/750003831476408320 < Does anyone have any objections to bump the version to PHP 5.6? Might as well, while I'm at it :)\n. I'd like to work more on this, although I feel that some things are best discussed before.\nDo we want to keep the discussion in the pull requests? Could you answer some questions I posted? I'll take a look at your changes this weekend, I'm mobile now. Thanks.\n. Usually the reason for the 500 van be found in the error_log. Could you paste the contents of that logfile perhaps? Might give a few more clues :) thanks!\n. I'm linking it to #558 since I think it would be a nice feature to integrate\n. I'd be happy to join in on the rewrite and make a start with Silex, I have some experience with it.\n. Did some more work on this. Since I only had a few moments here and there, the commits may not be as small as I would like.\nI'll try to find time to work on this more (now only taking moments here and there), any feedback at all is greatly appreciated and if anyone would like to help out, I can give access to my fork.\nPlease let me know what you think :+1: \n. https://twitter.com/evertp/status/750003831476408320 < Does anyone have any objections to bump the version to PHP 5.6? Might as well, while I'm at it :)\n. I'd like to work more on this, although I feel that some things are best discussed before.\nDo we want to keep the discussion in the pull requests? Could you answer some questions I posted? I'll take a look at your changes this weekend, I'm mobile now. Thanks.\n. Usually the reason for the 500 van be found in the error_log. Could you paste the contents of that logfile perhaps? Might give a few more clues :) thanks!\n. ",
    "herrdeh": "Sorry - how do I know? I used default settings as far as possible.\nWolf\n. Did you mean the switch BASIC / DIGEST in the baikal web interface at \"settings\" ?\no.k., I changed that to \"basic\" - then the troubleshooting request produces:\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<d:error xmlns:d=\"DAV:\" xmlns:s=\"http://sabredav.org/ns\">\n  <s:exception>Sabre\\DAV\\Exception\\NotAuthenticated</s:exception>\n  <s:message>No basic authentication headers were found</s:message>\n  <s:sabredav-version>1.8.7</s:sabredav-version>\n</d:error>\nHTH,\nWolf\n. At another forum I found that I have to set \"AllowOverride all\" in the apache.conf to make it work.\nCan someone confirm that?\nI dont have access to the apache.conf at one.com - so am I lost?\n. I dont have any problems to login into the web interface via browser and https settings. That works nice with chromium and FF.\nMy problem is logging in with a CalDAV or CardDAV client. \nI tried a \"AllowOverride All\" at the beginning of the .htaccess file. Logging into web interface via browser than fails with an internal server error, logging in with the CalDAV client fails either.\nWhen I do the \"curl -so - --digest --user ...etc etc etc\" thing, I get\n<!DOCTYPE HTML PUBLIC \"-//IETF//DTD HTML 2.0//EN\">\n<html><head>\n<title>500 Internal Server Error</title>\n</head><body>\n<h1>Internal Server Error</h1>\n<p>The server encountered an internal error or\nmisconfiguration and was unable to complete\nyour request.</p>\n<p>Please contact the server administrator,\n support@one.com and inform them of the time the error occurred,\nand anything you might have done that may have\ncaused the error.</p>\n<p>More information about this error may be available\nin the server error log.</p>\n</body></html>\nSo this doesnt help.\nHow can I do a \"GET\" at my CalDAV clients? I'm using Kontact (KOrganizer) and Android (DAVDroid).\nWolf\n. Sorry - how do I know? I used default settings as far as possible.\nWolf\n. Did you mean the switch BASIC / DIGEST in the baikal web interface at \"settings\" ?\no.k., I changed that to \"basic\" - then the troubleshooting request produces:\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<d:error xmlns:d=\"DAV:\" xmlns:s=\"http://sabredav.org/ns\">\n  <s:exception>Sabre\\DAV\\Exception\\NotAuthenticated</s:exception>\n  <s:message>No basic authentication headers were found</s:message>\n  <s:sabredav-version>1.8.7</s:sabredav-version>\n</d:error>\nHTH,\nWolf\n. At another forum I found that I have to set \"AllowOverride all\" in the apache.conf to make it work.\nCan someone confirm that?\nI dont have access to the apache.conf at one.com - so am I lost?\n. I dont have any problems to login into the web interface via browser and https settings. That works nice with chromium and FF.\nMy problem is logging in with a CalDAV or CardDAV client. \nI tried a \"AllowOverride All\" at the beginning of the .htaccess file. Logging into web interface via browser than fails with an internal server error, logging in with the CalDAV client fails either.\nWhen I do the \"curl -so - --digest --user ...etc etc etc\" thing, I get\n<!DOCTYPE HTML PUBLIC \"-//IETF//DTD HTML 2.0//EN\">\n<html><head>\n<title>500 Internal Server Error</title>\n</head><body>\n<h1>Internal Server Error</h1>\n<p>The server encountered an internal error or\nmisconfiguration and was unable to complete\nyour request.</p>\n<p>Please contact the server administrator,\n support@one.com and inform them of the time the error occurred,\nand anything you might have done that may have\ncaused the error.</p>\n<p>More information about this error may be available\nin the server error log.</p>\n</body></html>\nSo this doesnt help.\nHow can I do a \"GET\" at my CalDAV clients? I'm using Kontact (KOrganizer) and Android (DAVDroid).\nWolf\n. ",
    "eduardomanski": "Hi!\nI have the same problem here. Did you solve this?\nThanks in advance.\n. Hi!\nI have the same problem here. Did you solve this?\nThanks in advance.\n. ",
    "databeille": "Here is my .htaccess with a SSL/TLS terminator forwarding to apache. The terminator adds \"X-Forwarded-For:\" to HTTP request. It works well.\n\n# Disabling cache management\n# that could cause problems with DAV requests\n# Useful only for Apache servers, with AllowOverride All\n# (ie, .htaccess files enabled)\n# Allow HTTP headers with Apache/FastCGI\n# See http://code.google.com/p/sabredav/wiki/Authentication#Apache_+_(Fast)CGI\n\n        RewriteEngine On\n        RewriteRule .* - [E=HTTP_AUTHORIZATION:%{HTTP:Authorization},L]\n\n\n        ExpiresActive Off\n\nRequestHeader set X-Forwarded-Proto \"https\"\n\n. Here is my .htaccess with a SSL/TLS terminator forwarding to apache. The terminator adds \"X-Forwarded-For:\" to HTTP request. It works well.\n\n# Disabling cache management\n# that could cause problems with DAV requests\n# Useful only for Apache servers, with AllowOverride All\n# (ie, .htaccess files enabled)\n# Allow HTTP headers with Apache/FastCGI\n# See http://code.google.com/p/sabredav/wiki/Authentication#Apache_+_(Fast)CGI\n\n        RewriteEngine On\n        RewriteRule .* - [E=HTTP_AUTHORIZATION:%{HTTP:Authorization},L]\n\n\n        ExpiresActive Off\n\nRequestHeader set X-Forwarded-Proto \"https\"\n\n. ",
    "fgordon": "And please add support to deploy Baikal2 in a subdirectory with nginx. It's very importent because ssl-cert are expensive and micro-computer (like raspberry pi) plus FQDN are very cheap ;-)\n. And please add support to deploy Baikal2 in a subdirectory with nginx. It's very importent because ssl-cert are expensive and micro-computer (like raspberry pi) plus FQDN are very cheap ;-)\n. ",
    "artjom": "In the meantime, did someone managed to get it up and running with nginx? \n. In the meantime, did someone managed to get it up and running with nginx? \n. ",
    "JHGitty": "Baikal2 is based on Symfony2 (hopefully later Symfony3). That because you can use these configurations:\nhttp://symfony.com/doc/current/cookbook/configuration/web_server_configuration.html\nThis should work fine! If any issue occurs please report it as issue.\n. Baikal2 is based on Symfony2 (and hopefully Symfony3 in the future).\nThat because you can use these configurations: http://symfony.com/doc/current/cookbook/configuration/web_server_configuration.html#nginx\n. As I understand \"var\" is a directory which contains the data which is different on any installation, for example config, cache, logs, storage files, etc. As I thought your current \"data\" folder does the same.\n. 1. Configuration files should be in app/config/.\n2. There is no official data/ directory in Symfony 2.x or Symfony 3.x directory structure.\n3. The var/ directory contains \"Generated files (cache, logs, etc.)\".\n   Source: http://symfony.com/doc/current/quick_tour/the_architecture.html\nIMO: I think something like an user database (which is different on each installation) should be moved to var/data/. If the data is not changed between installations it should be something in a sub-directory of the app/ folder.\n. I've thought a little bit about this issue. The Linux Filesystem Hierarchy Standard contains a /var directory which contains log files, caches and something like that. In this point I would agree to you.\nOtherwise some applications use the /var directory for some more persistent things like /var/www/ for web applications.\nThe Symfony documentation not really contains a folder for persistent data. I think we should discuss this more in the Symfony community to understand if we should so something like /data/ or /var/data/.\n. I've started an issue on the Symfony documentation about this. I think you should read the opinions of the Symfony developers there: https://github.com/symfony/symfony-docs/issues/6095\n. @Pazns I think you should handle it as described in this comment: https://github.com/symfony/symfony-docs/issues/6095#issuecomment-170898929\n. Baikal2 is based on Symfony2 (hopefully later Symfony3). That because you can use these configurations:\nhttp://symfony.com/doc/current/cookbook/configuration/web_server_configuration.html\nThis should work fine! If any issue occurs please report it as issue.\n. Baikal2 is based on Symfony2 (and hopefully Symfony3 in the future).\nThat because you can use these configurations: http://symfony.com/doc/current/cookbook/configuration/web_server_configuration.html#nginx\n. As I understand \"var\" is a directory which contains the data which is different on any installation, for example config, cache, logs, storage files, etc. As I thought your current \"data\" folder does the same.\n. 1. Configuration files should be in app/config/.\n2. There is no official data/ directory in Symfony 2.x or Symfony 3.x directory structure.\n3. The var/ directory contains \"Generated files (cache, logs, etc.)\".\n   Source: http://symfony.com/doc/current/quick_tour/the_architecture.html\nIMO: I think something like an user database (which is different on each installation) should be moved to var/data/. If the data is not changed between installations it should be something in a sub-directory of the app/ folder.\n. I've thought a little bit about this issue. The Linux Filesystem Hierarchy Standard contains a /var directory which contains log files, caches and something like that. In this point I would agree to you.\nOtherwise some applications use the /var directory for some more persistent things like /var/www/ for web applications.\nThe Symfony documentation not really contains a folder for persistent data. I think we should discuss this more in the Symfony community to understand if we should so something like /data/ or /var/data/.\n. I've started an issue on the Symfony documentation about this. I think you should read the opinions of the Symfony developers there: https://github.com/symfony/symfony-docs/issues/6095\n. @Pazns I think you should handle it as described in this comment: https://github.com/symfony/symfony-docs/issues/6095#issuecomment-170898929\n. ",
    "waitfor1t": "I have Baikal2 running with Nginx no problem. The above comment from @JHGitty helped. Of course, SSH is mandatory, so I recommend the following modification:\n```\nBaikal2 NGINX server configuration. Place in /etc/nginx/sites-available and ln -s to sites-enabled.\nfrom http://symfony.com/doc/current/cookbook/configuration/web_server_configuration.html\nRedirect 80 to 443\nserver {\n  listen 80;\n  server_name yourdomain.com;\n  return 301 https://$server_name$request_uri;\n}\nserver {\n    listen 443 ssl;\n    server_name yourdomain.com;\n    # change the following to wherever you put it\n    root /var/www/Baikal-branch-2/web;\nlocation / {\n    # try to serve file directly, fallback to app.php\n    try_files $uri /app.php$is_args$args;\n}\n\nSSL certs.\nssl_certificate /etc/nginx/ssl/server.crt;\n  ssl_certificate_key /etc/nginx/ssl/server.key;\n# DEV\n# This rule should only be placed on your development environment\n# In production, don't include this and don't deploy app_dev.php or config.php\nlocation ~ ^/(app_dev|config)\\.php(/|$) {\n    fastcgi_pass unix:/var/run/php5-fpm.sock;\n    fastcgi_split_path_info ^(.+\\.php)(/.*)$;\n    include fastcgi_params;\n    # When you are using symlinks to link the document root to the\n    # current version of your application, you should pass the real\n    # application path instead of the path to the symlink to PHP\n    # FPM.\n    # Otherwise, PHP's OPcache may not properly detect changes to\n    # your PHP files (see https://github.com/zendtech/ZendOptimizerPlus/issues/126\n    # for more information).\n    fastcgi_param  SCRIPT_FILENAME  $realpath_root$fastcgi_script_name;\n    fastcgi_param DOCUMENT_ROOT $realpath_root;\n}\n# PROD\nlocation ~ ^/app\\.php(/|$) {\n    fastcgi_pass unix:/var/run/php5-fpm.sock;\n    fastcgi_split_path_info ^(.+\\.php)(/.*)$;\n    include fastcgi_params;\n    # When you are using symlinks to link the document root to the\n    # current version of your application, you should pass the real\n    # application path instead of the path to the symlink to PHP\n    # FPM.\n    # Otherwise, PHP's OPcache may not properly detect changes to\n    # your PHP files (see https://github.com/zendtech/ZendOptimizerPlus/issues/126\n    # for more information).\n    fastcgi_param  SCRIPT_FILENAME  $realpath_root$fastcgi_script_name;\n    fastcgi_param DOCUMENT_ROOT $realpath_root;\n    # Prevents URIs that include the front controller. This will 404:\n    # http://domain.tld/app.php/some-path\n    # Remove the internal directive to allow URIs like this\n    internal;\n}\n\nerror_log /var/log/nginx/project_error.log;\naccess_log /var/log/nginx/project_access.log;\n\n}\n```\n. Instructions are incorrect. Browse to http://yourbaikalserver/dav/cal/calendars/username/\nYou will find a link to your calendar via UID. It will be something like the following:\nhttp://yourbaikalserver/dav/cal/calendars/username/bbbbb-bbbbb-bbbb-bbbb-bbbbb/\n. The above is incorrect. Point your browser to \nhttp://yourbaikalserver/dav/cal/calendars/username/\nwhere username is your username. You will find a link to the calendar in the form of:\nhttp://yourbaikalserver/dav/cal/calendars/username/bbbbb-bbbbb-bbbb-bbbb-bbbbb/\nwhere the 'bbbb' stuff is the UID of the calendar.\n. You can find what the UID is for the calendar by simply browsing to http://yourbaikalserver/dav/cal/calendars/username/\nThe link to the calendar will be there.\n. \"First\" should be replaced with \"Enter Password\" and \"Second\" should be replaced with \"Enter Password Again\". (These should be easiest to translate). I'd do it myself but I'm not setup for dev... just trying it out for now.\n. I have Baikal2 running with Nginx no problem. The above comment from @JHGitty helped. Of course, SSH is mandatory, so I recommend the following modification:\n```\nBaikal2 NGINX server configuration. Place in /etc/nginx/sites-available and ln -s to sites-enabled.\nfrom http://symfony.com/doc/current/cookbook/configuration/web_server_configuration.html\nRedirect 80 to 443\nserver {\n  listen 80;\n  server_name yourdomain.com;\n  return 301 https://$server_name$request_uri;\n}\nserver {\n    listen 443 ssl;\n    server_name yourdomain.com;\n    # change the following to wherever you put it\n    root /var/www/Baikal-branch-2/web;\nlocation / {\n    # try to serve file directly, fallback to app.php\n    try_files $uri /app.php$is_args$args;\n}\n\nSSL certs.\nssl_certificate /etc/nginx/ssl/server.crt;\n  ssl_certificate_key /etc/nginx/ssl/server.key;\n# DEV\n# This rule should only be placed on your development environment\n# In production, don't include this and don't deploy app_dev.php or config.php\nlocation ~ ^/(app_dev|config)\\.php(/|$) {\n    fastcgi_pass unix:/var/run/php5-fpm.sock;\n    fastcgi_split_path_info ^(.+\\.php)(/.*)$;\n    include fastcgi_params;\n    # When you are using symlinks to link the document root to the\n    # current version of your application, you should pass the real\n    # application path instead of the path to the symlink to PHP\n    # FPM.\n    # Otherwise, PHP's OPcache may not properly detect changes to\n    # your PHP files (see https://github.com/zendtech/ZendOptimizerPlus/issues/126\n    # for more information).\n    fastcgi_param  SCRIPT_FILENAME  $realpath_root$fastcgi_script_name;\n    fastcgi_param DOCUMENT_ROOT $realpath_root;\n}\n# PROD\nlocation ~ ^/app\\.php(/|$) {\n    fastcgi_pass unix:/var/run/php5-fpm.sock;\n    fastcgi_split_path_info ^(.+\\.php)(/.*)$;\n    include fastcgi_params;\n    # When you are using symlinks to link the document root to the\n    # current version of your application, you should pass the real\n    # application path instead of the path to the symlink to PHP\n    # FPM.\n    # Otherwise, PHP's OPcache may not properly detect changes to\n    # your PHP files (see https://github.com/zendtech/ZendOptimizerPlus/issues/126\n    # for more information).\n    fastcgi_param  SCRIPT_FILENAME  $realpath_root$fastcgi_script_name;\n    fastcgi_param DOCUMENT_ROOT $realpath_root;\n    # Prevents URIs that include the front controller. This will 404:\n    # http://domain.tld/app.php/some-path\n    # Remove the internal directive to allow URIs like this\n    internal;\n}\n\nerror_log /var/log/nginx/project_error.log;\naccess_log /var/log/nginx/project_access.log;\n\n}\n```\n. Instructions are incorrect. Browse to http://yourbaikalserver/dav/cal/calendars/username/\nYou will find a link to your calendar via UID. It will be something like the following:\nhttp://yourbaikalserver/dav/cal/calendars/username/bbbbb-bbbbb-bbbb-bbbb-bbbbb/\n. The above is incorrect. Point your browser to \nhttp://yourbaikalserver/dav/cal/calendars/username/\nwhere username is your username. You will find a link to the calendar in the form of:\nhttp://yourbaikalserver/dav/cal/calendars/username/bbbbb-bbbbb-bbbb-bbbb-bbbbb/\nwhere the 'bbbb' stuff is the UID of the calendar.\n. You can find what the UID is for the calendar by simply browsing to http://yourbaikalserver/dav/cal/calendars/username/\nThe link to the calendar will be there.\n. \"First\" should be replaced with \"Enter Password\" and \"Second\" should be replaced with \"Enter Password Again\". (These should be easiest to translate). I'd do it myself but I'm not setup for dev... just trying it out for now.\n. ",
    "mcwieger": "No, I was hoping that you could look into it or give some more insight...\n. It looks like something went wrong during posting of my original message. The addresses I tried respectively are (my specific details in capitals):\nhttp://SERVER/baikal/cal.php/calendars/USER/CALENDAR\nhttp://SERVER/baikal/cal.php/calendars/USER/CALENDAR.ics\nIs either of these the right format?\nSome googling on the error codes shows that they are rather generic codes. I suspect it may have something to do with rights, as often, but that seems to be correctly configured.\nDoes this help?\n. Additional info: a second calendar (Google) also won't publish from Thunderbird to Baikal (same errors). As I suspected, it does not seem to be an Exchange issue.\n. Instead of publishing to the calendar, I now tried to import an exported .ics file into the calendar (using TB/Lightning). This gave the following result:\nError code: MODIFICATION_FAILED\nDescriprion: Status Code: 2147500037, The request cannot be processed.\n                    Server Replied with 412\nIs this an error you recognize?\n. No, I was hoping that you could look into it or give some more insight...\n. It looks like something went wrong during posting of my original message. The addresses I tried respectively are (my specific details in capitals):\nhttp://SERVER/baikal/cal.php/calendars/USER/CALENDAR\nhttp://SERVER/baikal/cal.php/calendars/USER/CALENDAR.ics\nIs either of these the right format?\nSome googling on the error codes shows that they are rather generic codes. I suspect it may have something to do with rights, as often, but that seems to be correctly configured.\nDoes this help?\n. Additional info: a second calendar (Google) also won't publish from Thunderbird to Baikal (same errors). As I suspected, it does not seem to be an Exchange issue.\n. Instead of publishing to the calendar, I now tried to import an exported .ics file into the calendar (using TB/Lightning). This gave the following result:\nError code: MODIFICATION_FAILED\nDescriprion: Status Code: 2147500037, The request cannot be processed.\n                    Server Replied with 412\nIs this an error you recognize?\n. ",
    "schmidp": "is this something the development version already supports?\n. is this something the development version already supports?\n. ",
    "SamuelMoraesF": "Would be fantastic an option to share calendars with public link(read-only mode, without login)\n. Would be fantastic an option to share calendars with public link(read-only mode, without login)\n. ",
    "dakira": "@mrbaseman, thanks for this! Exactly what I was looking for! Just a hint through: You should start to get used to PDO and use prepared statements to prevent SQL injections.\n. @mrbaseman it's just a weak link that's avoidable. If you look at the recent Magento attack you'll see that every individual component was secure and well thought out. There were several issues that couldn't be used for an attack individually. Only chained together, an attack was possible. Not using prepared statements could be part of such a chain (even if you can't see an attack yet).\n. Works for me as well. Why is this not being merged?\n. @mrbaseman, thanks for this! Exactly what I was looking for! Just a hint through: You should start to get used to PDO and use prepared statements to prevent SQL injections.\n. @mrbaseman it's just a weak link that's avoidable. If you look at the recent Magento attack you'll see that every individual component was secure and well thought out. There were several issues that couldn't be used for an attack individually. Only chained together, an attack was possible. Not using prepared statements could be part of such a chain (even if you can't see an attack yet).\n. Works for me as well. Why is this not being merged?\n. ",
    "lkraav": "Since this repo just got a fresh pre-release, which repo and issue about sharing should one follow?\n. Thanks, confirmed working.\n. Since this repo just got a fresh pre-release, which repo and issue about sharing should one follow?\n. Thanks, confirmed working.\n. ",
    "gbdtl": "Yes, I had the same problem todays.\nI tried to delete my mysql's log by : sudo /etc/cron.daily/logrotate\nand the problem was solved,\nGood luck,\nGB\n. Finally i tried this solution and it works : http://stramanari.eu/tag/owncloud/ \n. Yes, I had the same problem todays.\nI tried to delete my mysql's log by : sudo /etc/cron.daily/logrotate\nand the problem was solved,\nGood luck,\nGB\n. Finally i tried this solution and it works : http://stramanari.eu/tag/owncloud/ \n. ",
    "stonerl": "Isn't this one fixed already? Maybe I don't understand what the bug actually is but I cannot see the password in the UI.\n. Isn't this one fixed already? Maybe I don't understand what the bug actually is but I cannot see the password in the UI.\n. ",
    "imsoftware": "Seafile? Baikal is written in PHP and JS.\n. Maybee OpenID is obsolete, but it's still simple and wide spreaded.\nE.g. you can use Redmine/Drupal/SimpleID with some clicks as OpenID provider and connect them with a huge number of apps. \nNot providing OpenID would make it harder for to integrate Baikal in existing systems.\n. Seafile? Baikal is written in PHP and JS.\n. Maybee OpenID is obsolete, but it's still simple and wide spreaded.\nE.g. you can use Redmine/Drupal/SimpleID with some clicks as OpenID provider and connect them with a huge number of apps. \nNot providing OpenID would make it harder for to integrate Baikal in existing systems.\n. ",
    "cgrossde": "+1, works for me\n. +1, works for me\n. ",
    "maschmann": "Maybe because it's only a partial solution, since this (imho coding style) issue flies around a lot in the code :-(\n. Maybe because it's only a partial solution, since this (imho coding style) issue flies around a lot in the code :-(\n. ",
    "heartland22": "I'm having the same issue.  Did you come up with a solution? i'm using OS X 10.6.9.\n. I get the following in Apache2 error log:\n[Wed Jan 07 22:28:33 2015] [error] [client 127.0.0.1] PHP Warning:  stripslashes() expects parameter 1 to be string, array given in /Library/WebServer/Documents/dav.baikal-server/Core/Frameworks/Flake/Framework.php on line 117, referer: https://localhost:8443/admin/install/\ncan anybody make sense of this?\ndid I give the server the wrong name?\n. anybody reading this??? i was excited about this project but I can't even get Baikal to launch let alone do anything with it.\nhelp please and thankyou\n. I'm having the same issue.  Did you come up with a solution? i'm using OS X 10.6.9.\n. I get the following in Apache2 error log:\n[Wed Jan 07 22:28:33 2015] [error] [client 127.0.0.1] PHP Warning:  stripslashes() expects parameter 1 to be string, array given in /Library/WebServer/Documents/dav.baikal-server/Core/Frameworks/Flake/Framework.php on line 117, referer: https://localhost:8443/admin/install/\ncan anybody make sense of this?\ndid I give the server the wrong name?\n. anybody reading this??? i was excited about this project but I can't even get Baikal to launch let alone do anything with it.\nhelp please and thankyou\n. ",
    "JoeTac": "I'm having the same issue.\n. no, I installed the flat-package\n. It does. I'm running it on a QNAP TS-420.\n. I found a solution, although probably not the best.\nI replace the changed code from the mentioned section (https://github.com/netgusto/Baikal/issues/105#issuecomment-64538382) I can enter a password and create a user.\n. I'm having the same issue.\n. no, I installed the flat-package\n. It does. I'm running it on a QNAP TS-420.\n. I found a solution, although probably not the best.\nI replace the changed code from the mentioned section (https://github.com/netgusto/Baikal/issues/105#issuecomment-64538382) I can enter a password and create a user.\n. ",
    "SonRiab": "I have a very similar setup but no problems at all. Maybe it is a configuration problem. Here is the main part of my configuration:\n```\n    rewrite ^/.well-known/caldav /cal.php redirect;\n    rewrite ^/.well-known/carddav /card.php redirect;\nlocation / {\n    try_files       $uri $uri/ /index.php$uri?$args;\n}\n\nlocation ~ /(\\.ht|Core|Specific) {\n    deny all;\n    return 404;\n}\n\nlocation ~ ^(.+\\.php)(.*)$ {\n    fastcgi_split_path_info ^(.+\\.php)(/.+)$;\n    fastcgi_pass    unix:/path/to/your.sock;\n    include         fastcgi_params;\n    fastcgi_param   SCRIPT_FILENAME $document_root$fastcgi_script_name;\n    fastcgi_param   SCRIPT_NAME     $fastcgi_script_name;\n    fastcgi_param   PATH_INFO       $fastcgi_path_info;\n    fastcgi_param   SERVER_NAME     $host;\n}\n\n```\nI do not use the included configuration, so it is a little bit different. Hope this will help u.\n. There are requests to somefile.php/some/stuff and the .php$ regex doesn't match these requests.\nAccording to the docs, you have to use an url similar to this: http://dav.mydomain.com/card.php/addressbooks/username/default/ for contacts. :)\n. I have a very similar setup but no problems at all. Maybe it is a configuration problem. Here is the main part of my configuration:\n```\n    rewrite ^/.well-known/caldav /cal.php redirect;\n    rewrite ^/.well-known/carddav /card.php redirect;\nlocation / {\n    try_files       $uri $uri/ /index.php$uri?$args;\n}\n\nlocation ~ /(\\.ht|Core|Specific) {\n    deny all;\n    return 404;\n}\n\nlocation ~ ^(.+\\.php)(.*)$ {\n    fastcgi_split_path_info ^(.+\\.php)(/.+)$;\n    fastcgi_pass    unix:/path/to/your.sock;\n    include         fastcgi_params;\n    fastcgi_param   SCRIPT_FILENAME $document_root$fastcgi_script_name;\n    fastcgi_param   SCRIPT_NAME     $fastcgi_script_name;\n    fastcgi_param   PATH_INFO       $fastcgi_path_info;\n    fastcgi_param   SERVER_NAME     $host;\n}\n\n```\nI do not use the included configuration, so it is a little bit different. Hope this will help u.\n. There are requests to somefile.php/some/stuff and the .php$ regex doesn't match these requests.\nAccording to the docs, you have to use an url similar to this: http://dav.mydomain.com/card.php/addressbooks/username/default/ for contacts. :)\n. ",
    "axeloz": "Hello \nThanks for your reply. \nI have a very similar config:\n```\n    location /baikal {\n        alias /tank/www/baikal/html;\n        index index.php;\n        charset utf-8;\n    rewrite ^/.well-known/caldav /cal.php redirect;\n    rewrite ^/.well-known/carddav /card.php redirect;\n\n    location ~ /(\\.ht|Core|Specific) {\n       deny all;\n       return 403;\n    }\n\n    location ~ \\.php$ {\n       fastcgi_split_path_info ^(.+\\.php)(/.+)$;\n       fastcgi_index   index.php;\n       fastcgi_pass    phpbackend;\n       include         fastcgi_params;\n     }\n\n}\n\n```\nI will try yours by chance it might work.\nAxel\n. @SonRiab I have replaced my \"location ~ .php$\" with your \"location ~ ^(.+.php)(.*)$\" and it works now. \nNot quite sure why that did the trick but thanks a lot, you've been very helpful.\n. Yeah you're right\n. \nThis is great: Baikal is now working. It sync my calendars and contacts. \nBut it remains one problem on my Macbook:\nWhen I go to System Preferences > Accounts and I click on my CardDav account, it pops up a login window (see screenshot). When I enter my password, it gets stuck on \"Connecting...\". I have been waiting a long time but nothing happens. So I click \"Cancel\", the popup is closed. I can click on a different account and go back the CardDav account. If I do this operation many times, the system preferences window crashes totally, my keyboard is disabled anywhere (even on Chrome): I must kill the system preferences app. \nThis problem DOES NOT occur when clicking on my CalDav account.\nIn the log console, I have this when clicking on the CardDav account\n06/01/2015 14:26:49,743 com.apple.internetaccounts[99997]: [CardDAVPlugin-ERROR] Unable to find additional info dictionary for key: /baikal/card.php/principals/axel/\nAnd this is what I get when entering my password:\n06/01/2015 14:27:39,300 com.apple.preferences.internetaccounts.remoteservice[99996]: *** remoteObjectProxyWithErrorHandler failed: Error Domain=NSCocoaErrorDomain Code=4097 \"Impossible de communiquer avec un utilitaire.\" (connection to service named com.apple.internetaccounts) UserInfo=0x608000671840 {NSDebugDescription=connection to service named com.apple.internetaccounts}; {\n    NSDebugDescription = \"connection to service named com.apple.internetaccounts\";\n}\n06/01/2015 14:27:39,305 com.apple.xpc.launchd[1]: (com.apple.internetaccounts[99997]) Service exited due to signal: Segmentation fault: 11\nHas anyone seen that before?\nThanks\n. Hello \nThanks for your reply. \nI have a very similar config:\n```\n    location /baikal {\n        alias /tank/www/baikal/html;\n        index index.php;\n        charset utf-8;\n    rewrite ^/.well-known/caldav /cal.php redirect;\n    rewrite ^/.well-known/carddav /card.php redirect;\n\n    location ~ /(\\.ht|Core|Specific) {\n       deny all;\n       return 403;\n    }\n\n    location ~ \\.php$ {\n       fastcgi_split_path_info ^(.+\\.php)(/.+)$;\n       fastcgi_index   index.php;\n       fastcgi_pass    phpbackend;\n       include         fastcgi_params;\n     }\n\n}\n\n```\nI will try yours by chance it might work.\nAxel\n. @SonRiab I have replaced my \"location ~ .php$\" with your \"location ~ ^(.+.php)(.*)$\" and it works now. \nNot quite sure why that did the trick but thanks a lot, you've been very helpful.\n. Yeah you're right\n. \nThis is great: Baikal is now working. It sync my calendars and contacts. \nBut it remains one problem on my Macbook:\nWhen I go to System Preferences > Accounts and I click on my CardDav account, it pops up a login window (see screenshot). When I enter my password, it gets stuck on \"Connecting...\". I have been waiting a long time but nothing happens. So I click \"Cancel\", the popup is closed. I can click on a different account and go back the CardDav account. If I do this operation many times, the system preferences window crashes totally, my keyboard is disabled anywhere (even on Chrome): I must kill the system preferences app. \nThis problem DOES NOT occur when clicking on my CalDav account.\nIn the log console, I have this when clicking on the CardDav account\n06/01/2015 14:26:49,743 com.apple.internetaccounts[99997]: [CardDAVPlugin-ERROR] Unable to find additional info dictionary for key: /baikal/card.php/principals/axel/\nAnd this is what I get when entering my password:\n06/01/2015 14:27:39,300 com.apple.preferences.internetaccounts.remoteservice[99996]: *** remoteObjectProxyWithErrorHandler failed: Error Domain=NSCocoaErrorDomain Code=4097 \"Impossible de communiquer avec un utilitaire.\" (connection to service named com.apple.internetaccounts) UserInfo=0x608000671840 {NSDebugDescription=connection to service named com.apple.internetaccounts}; {\n    NSDebugDescription = \"connection to service named com.apple.internetaccounts\";\n}\n06/01/2015 14:27:39,305 com.apple.xpc.launchd[1]: (com.apple.internetaccounts[99997]) Service exited due to signal: Segmentation fault: 11\nHas anyone seen that before?\nThanks\n. ",
    "bildstrich": "got the same problem!\nI know that Baikal can run on Mac OSX Yosemite - i had this running and syncing!\n. got the same problem!\nI know that Baikal can run on Mac OSX Yosemite - i had this running and syncing!\n. ",
    "boRk3D": "+1\n. +1\n. ",
    "22decembre": "Actually, I see several thread about the general subject of external auth. Most of them closed, with a piece of code inside. So it is easy to integrate. Why isn't that a basic option in Baikal ?\nNB : the pieces of code, I don't know how to use them correctly now\u2026\n. Fact is that I don't have or use rewrite rules (I have managed to avoid it in previous versions). My webserver does not really like rewrite rules (actually, it uses redirection rules, so the final url has to be functional anyway, and it is not easy to work with those rules).\nMy server is OpenBSD/httpd.. Thank you !\nSo te url should be something like ...\n/dav.php/user/default ?. Ok. Thanks. Actually, I see several thread about the general subject of external auth. Most of them closed, with a piece of code inside. So it is easy to integrate. Why isn't that a basic option in Baikal ?\nNB : the pieces of code, I don't know how to use them correctly now\u2026\n. Fact is that I don't have or use rewrite rules (I have managed to avoid it in previous versions). My webserver does not really like rewrite rules (actually, it uses redirection rules, so the final url has to be functional anyway, and it is not easy to work with those rules).\nMy server is OpenBSD/httpd.. Thank you !\nSo te url should be something like ...\n/dav.php/user/default ?. Ok. Thanks. ",
    "mssoftde": "If I get it right, normal users are not supposed to have login rights on the web interface. It is just meant to be a admin interface.\n. If I get it right, normal users are not supposed to have login rights on the web interface. It is just meant to be a admin interface.\n. ",
    "mischapeters": "Would be great if they could change their password though.\n. Would be great if they could change their password though.\n. ",
    "paulgreg": "Thanks.\n. Thanks.\n. ",
    "irny": "I have a similar problem having installed in a sub-folder of a subdomain on a Dreamhost VPS, but I can only access the dashboard and even that's not loading correctly. \nDid you solve it? \n. Never mind, I decided to shuffle stuff around and install it in the root rather than sub folder. Works fine now!\n. I have a similar problem having installed in a sub-folder of a subdomain on a Dreamhost VPS, but I can only access the dashboard and even that's not loading correctly. \nDid you solve it? \n. Never mind, I decided to shuffle stuff around and install it in the root rather than sub folder. Works fine now!\n. ",
    "xdream1328": "Hi irny,\nyes, baikal is up and running and syncing calenders and address books with thunderbird/lightning and cardDAV/calDAV on android is working nicely.\nThe only \"problem\" is the \"?\" in the url when accessing the dashboard.\nThis problem isn't solved so far.\nRegards\nxdream1328\n. Hi irny,\nyes, baikal is up and running and syncing calenders and address books with thunderbird/lightning and cardDAV/calDAV on android is working nicely.\nThe only \"problem\" is the \"?\" in the url when accessing the dashboard.\nThis problem isn't solved so far.\nRegards\nxdream1328\n. ",
    "herold2k": "Hi xdream1328,\nwould you mind explaining (step by step) how you got Baikal to work on webspace from all-inkl? I would really appreciate it!\nThanks!\nherold2k\n. SOLVED: Haven't converted the db facepalm\n. Hi @evert ,\nthanks for your reply! :)\nI would have some more questions now:\nYou say on shared hosting it is not possible to lock Baikal down this way. Is it dangerous to use Baikal on shared hosting then? Would your advice be to not use Baikal on shared hosting? Or is it still 'secure enough'?\nw.r.t FTP: I use it with a strong password and TLS, if that makes it better... :)\nWould it be better to change the owner (CHOWN) of all (sub-)directories and files in the baikal-directory to solely the PHP-user (wwwrun/www-data)? Will Baikal still run smoothly then?\nAt the moment (after installation without changing anything) in the Baikal-directory all folders have permissions 755 and all files 644. Is that correct, does it make sense? Or should I change something here? If so: what should I change explicitly?\nw.r.t. .htaccess: How should a .htaccess look like to make Baikal as secure as possible here?\nI will also research on webserver configuration-related stuff myself, of course!\nThanks again! :)\n. Hi @evert ,\nthanks for your detailed answer, I really appreciate it!\n\nWhen it comes to shared hosting, I think a better indicator is that they keep your PHP up to date. If you're running less than the latest version, that would be much more cause for concern. However, a bigger concern with shared hosting is all the people that are also on your server. This is not unique to baikal.\n\nMy webhoster gave a professional impression from day one and always keeps PHP up to date, so I guess (and hope) it's okay to run Baikal here.\nAnd besides that, I will follow your advice to make Baikal as secure as possible in this environment.\nThanks!! :)\n. Hi xdream1328,\nwould you mind explaining (step by step) how you got Baikal to work on webspace from all-inkl? I would really appreciate it!\nThanks!\nherold2k\n. SOLVED: Haven't converted the db facepalm\n. Hi @evert ,\nthanks for your reply! :)\nI would have some more questions now:\nYou say on shared hosting it is not possible to lock Baikal down this way. Is it dangerous to use Baikal on shared hosting then? Would your advice be to not use Baikal on shared hosting? Or is it still 'secure enough'?\nw.r.t FTP: I use it with a strong password and TLS, if that makes it better... :)\nWould it be better to change the owner (CHOWN) of all (sub-)directories and files in the baikal-directory to solely the PHP-user (wwwrun/www-data)? Will Baikal still run smoothly then?\nAt the moment (after installation without changing anything) in the Baikal-directory all folders have permissions 755 and all files 644. Is that correct, does it make sense? Or should I change something here? If so: what should I change explicitly?\nw.r.t. .htaccess: How should a .htaccess look like to make Baikal as secure as possible here?\nI will also research on webserver configuration-related stuff myself, of course!\nThanks again! :)\n. Hi @evert ,\nthanks for your detailed answer, I really appreciate it!\n\nWhen it comes to shared hosting, I think a better indicator is that they keep your PHP up to date. If you're running less than the latest version, that would be much more cause for concern. However, a bigger concern with shared hosting is all the people that are also on your server. This is not unique to baikal.\n\nMy webhoster gave a professional impression from day one and always keeps PHP up to date, so I guess (and hope) it's okay to run Baikal here.\nAnd besides that, I will follow your advice to make Baikal as secure as possible in this environment.\nThanks!! :)\n. ",
    "RafiKueng": "Hi\nSee issue #196. I guess something similar / the same happens for users? (disclaimer, I'm no dev!)\n```\ncd [install_dir]/Specific\nget the defined AUTH_REALM string\ngrep AUTH_REALM config.system.php\nphp -r 'echo md5(\"USERID:AUTH_REALM:PASSWORD\");'\n```\n. Hi\nSee issue #196. I guess something similar / the same happens for users? (disclaimer, I'm no dev!)\n```\ncd [install_dir]/Specific\nget the defined AUTH_REALM string\ngrep AUTH_REALM config.system.php\nphp -r 'echo md5(\"USERID:AUTH_REALM:PASSWORD\");'\n```\n. ",
    "jmkeil": "PROJECT_BASEURI should also be configurable. Both depend on the same calculation. And both are source of problems during installation in some environments (see #30, #144, #147, #271, #361). \nAn other option would be to improve the calculation of PROJECT_BASEURI and PROJECT_URI. There are, as far as I know, 4 cases to consider. This are the 4 cases in the example of cal.php:\n- DOCUMENT_ROOT as expected and no subfolder (only case currently working)\ndomain redirection: baikal1.example.com -> \u2026/htdocs/baikal1/\nDOCUMENT_ROOT: \u2026/htdocs/baikal1/\nSCRIPT_FILENAME: \u2026/htdocs/baikal1/cal.php\nREQUEST_URI: baikal1.example.com/cal.php/\u2026\n- unexpected DOCUMENT_ROOT and no subfolder\ndomain redirection: baikal1.example.com -> \u2026/htdocs/baikal1/\nDOCUMENT_ROOT: \u2026/htdocs/\nSCRIPT_FILENAME: \u2026/htdocs/baikal1/cal.php\nREQUEST_URI: baikal1.example.com/cal.php/\u2026\n- DOCUMENT_ROOT as expected and subfolder\ndomain redirection: baikal1.example.com -> \u2026/htdocs/baikal1/\nDOCUMENT_ROOT: \u2026/htdocs/baikal1/\nSCRIPT_FILENAME: \u2026/htdocs/baikal1/baikal2/cal.php\nREQUEST_URI: baikal1.example.com/baikal2/cal.php/\u2026\n- unexpected DOCUMENT_ROOT and subfolder\ndomain redirection: baikal1.example.com -> \u2026/htdocs/baikal1/\nDOCUMENT_ROOT: \u2026/htdocs/\nSCRIPT_FILENAME: \u2026/htdocs/baikal1/baikal2/cal.php\nREQUEST_URI: baikal1.example.com/baikal2/cal.php/\u2026\n@PascalTurbo: Due to the lack of details, I am not quite sure, if one of the cases fits to your problem.\nI suggest the following update of Core/Frameworks/Flake/Framework.php to fix this problem:\n``` php\nDetermine PROJECT_BASEURI\nin some environments $_SERVER[\"DOCUMENT_ROOT\"] . PROJECT_BASEURI != $_SERVER[\"SCRIPT_FILENAME\"]\nPROJECT_BASEURI has to be calculated using $_SERVER[\"SCRIPT_FILENAME\"] and $_SERVER[\"SCRIPT_NAME\"]\nfinde start of shared postfix of $_SERVER[\"SCRIPT_FILENAME\"] and $_SERVER[\"SCRIPT_NAME\"]\n$i = 1;\nwhile ($i <= min(strlen($_SERVER[\"SCRIPT_FILENAME\"]),strlen($_SERVER[\"SCRIPT_NAME\"]))\n    && substr($_SERVER[\"SCRIPT_FILENAME\"], -$i, 1) == substr($_SERVER[\"SCRIPT_NAME\"], -$i, 1)) {\n    $i++;\n}\n$sScript = substr($_SERVER[\"SCRIPT_FILENAME\"], -($i-1), $i);  \nunset($i);\n$sScript = substr($sScript,strpos($sScript,DIRECTORY_SEPARATOR));   # remove path segement stubs\n$sScript = substr($_SERVER[\"REQUEST_URI\"],0,strrpos($_SERVER[\"REQUEST_URI\"],preg_replace(\"/index.php$/\",\"\",$sScript))) . $sScript; # get folder of the script (using preg_replace to remove automatically added index.php or similar)\n$sDirName = str_replace(\"\\\", \"/\", dirname($sScript));  # fix windows backslashes\n```\nIt is clear, that this causes an calculation overhead, which would be an advantage of the parameter configuration.\n$sScript is also used for calculation of PROJECT_URI. But I don't know if it solves @PascalTurbo s problem.\n. PROJECT_BASEURI should also be configurable. Both depend on the same calculation. And both are source of problems during installation in some environments (see #30, #144, #147, #271, #361). \nAn other option would be to improve the calculation of PROJECT_BASEURI and PROJECT_URI. There are, as far as I know, 4 cases to consider. This are the 4 cases in the example of cal.php:\n- DOCUMENT_ROOT as expected and no subfolder (only case currently working)\ndomain redirection: baikal1.example.com -> \u2026/htdocs/baikal1/\nDOCUMENT_ROOT: \u2026/htdocs/baikal1/\nSCRIPT_FILENAME: \u2026/htdocs/baikal1/cal.php\nREQUEST_URI: baikal1.example.com/cal.php/\u2026\n- unexpected DOCUMENT_ROOT and no subfolder\ndomain redirection: baikal1.example.com -> \u2026/htdocs/baikal1/\nDOCUMENT_ROOT: \u2026/htdocs/\nSCRIPT_FILENAME: \u2026/htdocs/baikal1/cal.php\nREQUEST_URI: baikal1.example.com/cal.php/\u2026\n- DOCUMENT_ROOT as expected and subfolder\ndomain redirection: baikal1.example.com -> \u2026/htdocs/baikal1/\nDOCUMENT_ROOT: \u2026/htdocs/baikal1/\nSCRIPT_FILENAME: \u2026/htdocs/baikal1/baikal2/cal.php\nREQUEST_URI: baikal1.example.com/baikal2/cal.php/\u2026\n- unexpected DOCUMENT_ROOT and subfolder\ndomain redirection: baikal1.example.com -> \u2026/htdocs/baikal1/\nDOCUMENT_ROOT: \u2026/htdocs/\nSCRIPT_FILENAME: \u2026/htdocs/baikal1/baikal2/cal.php\nREQUEST_URI: baikal1.example.com/baikal2/cal.php/\u2026\n@PascalTurbo: Due to the lack of details, I am not quite sure, if one of the cases fits to your problem.\nI suggest the following update of Core/Frameworks/Flake/Framework.php to fix this problem:\n``` php\nDetermine PROJECT_BASEURI\nin some environments $_SERVER[\"DOCUMENT_ROOT\"] . PROJECT_BASEURI != $_SERVER[\"SCRIPT_FILENAME\"]\nPROJECT_BASEURI has to be calculated using $_SERVER[\"SCRIPT_FILENAME\"] and $_SERVER[\"SCRIPT_NAME\"]\nfinde start of shared postfix of $_SERVER[\"SCRIPT_FILENAME\"] and $_SERVER[\"SCRIPT_NAME\"]\n$i = 1;\nwhile ($i <= min(strlen($_SERVER[\"SCRIPT_FILENAME\"]),strlen($_SERVER[\"SCRIPT_NAME\"]))\n    && substr($_SERVER[\"SCRIPT_FILENAME\"], -$i, 1) == substr($_SERVER[\"SCRIPT_NAME\"], -$i, 1)) {\n    $i++;\n}\n$sScript = substr($_SERVER[\"SCRIPT_FILENAME\"], -($i-1), $i);  \nunset($i);\n$sScript = substr($sScript,strpos($sScript,DIRECTORY_SEPARATOR));   # remove path segement stubs\n$sScript = substr($_SERVER[\"REQUEST_URI\"],0,strrpos($_SERVER[\"REQUEST_URI\"],preg_replace(\"/index.php$/\",\"\",$sScript))) . $sScript; # get folder of the script (using preg_replace to remove automatically added index.php or similar)\n$sDirName = str_replace(\"\\\", \"/\", dirname($sScript));  # fix windows backslashes\n```\nIt is clear, that this causes an calculation overhead, which would be an advantage of the parameter configuration.\n$sScript is also used for calculation of PROJECT_URI. But I don't know if it solves @PascalTurbo s problem.\n. ",
    "equaeghe": "I merged both files into calcard.php and in it set\n$server->setBaseUri(PROJECT_BASEURI . \"calcard.php/\");\nThis works in InfCloud (adding and modifying events, tasks, and contacts is possible). However, I do not have a clear view on whether this is the correct approach or a sure path to data loss, so input is welcome.\n. See https://github.com/equaeghe/infcloud/tree/baikalworkarounds/misc\n. In the end I did it manually, because I didn't trust the tool and didn't want the hassle of vdirsyncer.\n1. dump to data.sql (just the data as \u2018insert\u2019 statements),\n2. in editor:\n   1. remove some MySQL-specific stuff in preamble of dumped file\n   2. replace `` with\"in insert statement, but not in values (identifier usage is different)\n   3. replace\\'with''(apostrophe quoting is different)\n   4. replace\\r\\n(the array of four characters) with\\r\\n(the array of two control characters), or should that be\\n?\n   5. replace\\by\\, wherecan ben,,,:,;,\", etc.  \n   6. replaceUNHEX('')withx''(this appeared in \u2018cards\u2019 table \u2018etag\u2019 column)\n3. in sqlite shell:\n   1..open db.sqlite(fresh database file)\n   2..read db.sql(create tables from schema)\n   3..read data.sql(import dumped data)\n   4.update \"cards\" set \"etag\"=cast(\"etag\" as text);` (fix etag type from \u2018blob\u2019 to \u2018text\u2019)\nI've tested and now use the database migrated in this way \u2018in production\u2019, and it seems it works as it should.\n. This issue is solved for me. If others know other/better approaches, it may be useful to still add them, even if this issue is closed.\n. Going to https://baikal.example.org/dav.php/?sabreAction=asset&assetName=favicon.ico\u2026 the 404 is clearly nginx-generated.\nI further tested whether it was because only the html-directory was accessible to nginx, but that didn't matter. Also changing the group of the files in the Baikal package to the www-data group php is running as didn't make a difference.\nIs there a way to see whether php effectively serves the file in question, using a php one-liner or a small php script?\n. Ok, you prompting me to take a look again at the configuration solved it.\nThe problematic server block contained the following:\nlocation ~ ^(.+\\.php)(.*)$ {\n    fastcgi_split_path_info ^(.+\\.php)(.*)$;\n    fastcgi_pass unix:/run/php/php7.0-fpm.sock;\n    fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;\n    fastcgi_param PATH_INFO $fastcgi_path_info;\n    include snippets/fastcgi-php.conf;\n}\nThis is essentially the same as the example on http://sabre.io/baikal/install/ (the try_files directive there is standard in the included snippet).\nHowever, that snippet (included in nginx-1.10.0 on ubuntu 16.04) also contains\n```\nregex to split $uri to $fastcgi_script_name and $fastcgi_path\nfastcgi_split_path_info ^(.+.php)(/.+)$;\n```\nAs you can see, the second capture is different, /.+ instead of .*. So making sure Baikal's version is used, I put the snippet's inclusion at the beginning:\nlocation ~ ^(.+\\.php)(.*)$ {\n    include snippets/fastcgi-php.conf; # put this at the beginning of the block to override as needed\n    fastcgi_split_path_info ^(.+\\.php)(.*)$;\n    fastcgi_pass unix:/run/php/php7.0-fpm.sock;\n    fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;\n    fastcgi_param PATH_INFO $fastcgi_path_info;\n}\nPerhaps you can use this information to refine the example at http://sabre.io/baikal/install/. Feel free to close or keep open to use as a to-do for that.\n. I merged both files into calcard.php and in it set\n$server->setBaseUri(PROJECT_BASEURI . \"calcard.php/\");\nThis works in InfCloud (adding and modifying events, tasks, and contacts is possible). However, I do not have a clear view on whether this is the correct approach or a sure path to data loss, so input is welcome.\n. See https://github.com/equaeghe/infcloud/tree/baikalworkarounds/misc\n. In the end I did it manually, because I didn't trust the tool and didn't want the hassle of vdirsyncer.\n1. dump to data.sql (just the data as \u2018insert\u2019 statements),\n2. in editor:\n   1. remove some MySQL-specific stuff in preamble of dumped file\n   2. replace `` with\"in insert statement, but not in values (identifier usage is different)\n   3. replace\\'with''(apostrophe quoting is different)\n   4. replace\\r\\n(the array of four characters) with\\r\\n(the array of two control characters), or should that be\\n?\n   5. replace\\by\\, wherecan ben,,,:,;,\", etc.  \n   6. replaceUNHEX('')withx''(this appeared in \u2018cards\u2019 table \u2018etag\u2019 column)\n3. in sqlite shell:\n   1..open db.sqlite(fresh database file)\n   2..read db.sql(create tables from schema)\n   3..read data.sql(import dumped data)\n   4.update \"cards\" set \"etag\"=cast(\"etag\" as text);` (fix etag type from \u2018blob\u2019 to \u2018text\u2019)\nI've tested and now use the database migrated in this way \u2018in production\u2019, and it seems it works as it should.\n. This issue is solved for me. If others know other/better approaches, it may be useful to still add them, even if this issue is closed.\n. Going to https://baikal.example.org/dav.php/?sabreAction=asset&assetName=favicon.ico\u2026 the 404 is clearly nginx-generated.\nI further tested whether it was because only the html-directory was accessible to nginx, but that didn't matter. Also changing the group of the files in the Baikal package to the www-data group php is running as didn't make a difference.\nIs there a way to see whether php effectively serves the file in question, using a php one-liner or a small php script?\n. Ok, you prompting me to take a look again at the configuration solved it.\nThe problematic server block contained the following:\nlocation ~ ^(.+\\.php)(.*)$ {\n    fastcgi_split_path_info ^(.+\\.php)(.*)$;\n    fastcgi_pass unix:/run/php/php7.0-fpm.sock;\n    fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;\n    fastcgi_param PATH_INFO $fastcgi_path_info;\n    include snippets/fastcgi-php.conf;\n}\nThis is essentially the same as the example on http://sabre.io/baikal/install/ (the try_files directive there is standard in the included snippet).\nHowever, that snippet (included in nginx-1.10.0 on ubuntu 16.04) also contains\n```\nregex to split $uri to $fastcgi_script_name and $fastcgi_path\nfastcgi_split_path_info ^(.+.php)(/.+)$;\n```\nAs you can see, the second capture is different, /.+ instead of .*. So making sure Baikal's version is used, I put the snippet's inclusion at the beginning:\nlocation ~ ^(.+\\.php)(.*)$ {\n    include snippets/fastcgi-php.conf; # put this at the beginning of the block to override as needed\n    fastcgi_split_path_info ^(.+\\.php)(.*)$;\n    fastcgi_pass unix:/run/php/php7.0-fpm.sock;\n    fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;\n    fastcgi_param PATH_INFO $fastcgi_path_info;\n}\nPerhaps you can use this information to refine the example at http://sabre.io/baikal/install/. Feel free to close or keep open to use as a to-do for that.\n. ",
    "tvelter": "I tried to apply equaeghe's solution but failed, do you mind sharing your calcard.php file ?\n. Thank you, it seems effective (even though i still have an error for cards but i will fix that later).\n. I tried to apply equaeghe's solution but failed, do you mind sharing your calcard.php file ?\n. Thank you, it seems effective (even though i still have an error for cards but i will fix that later).\n. ",
    "gapato": "Great, thanks !!!\nA note for those like me who do not know anything about DAV things, the href setting for Infcloud should look like something like this (assuming you're using the globalNetworkCheckSettings setup) https://you.nice.domain.tld/calcard.php/principals/.\nI was using /card.php/addressbooks and /cal.php/calendars which is not ideal...\n. Great, thanks !!!\nA note for those like me who do not know anything about DAV things, the href setting for Infcloud should look like something like this (assuming you're using the globalNetworkCheckSettings setup) https://you.nice.domain.tld/calcard.php/principals/.\nI was using /card.php/addressbooks and /cal.php/calendars which is not ideal...\n. ",
    "AcHub": "I just asked the developer of my Android sync app. It will sync all appointments once, and after that only sync changed entries. So this app does not limit the sync-period (...yet. I've been told that this feature is coming soon).\nI tried to find out how Thunderbird / Lightning, or rather SOGO Connector, which syncs the appointments on my pc, is dealing with historic entries, but I could not find any description on that. From what I see in my calendar I would say, that all historic entries are synced. So I guess you couldn't expect this feature for most sync apps.\nI'm not an expert for sync applications, so I'm not sure where such a feature should be implemented. Also, the more I think about it, I'm not quite sure how to keep consitency over the calendar data, if the server and the sync application excludes data from sync. \n. I just asked the developer of my Android sync app. It will sync all appointments once, and after that only sync changed entries. So this app does not limit the sync-period (...yet. I've been told that this feature is coming soon).\nI tried to find out how Thunderbird / Lightning, or rather SOGO Connector, which syncs the appointments on my pc, is dealing with historic entries, but I could not find any description on that. From what I see in my calendar I would say, that all historic entries are synced. So I guess you couldn't expect this feature for most sync apps.\nI'm not an expert for sync applications, so I'm not sure where such a feature should be implemented. Also, the more I think about it, I'm not quite sure how to keep consitency over the calendar data, if the server and the sync application excludes data from sync. \n. ",
    "Soulou": "With pleasure :+1: \n. In fact it's not enough, I'll need to submit another PR ;-)\n. Ok I said nothing, http://sample-php-baikal.scalingo.io/login looks good isn't it? :)\n. With pleasure :+1: \n. In fact it's not enough, I'll need to submit another PR ;-)\n. Ok I said nothing, http://sample-php-baikal.scalingo.io/login looks good isn't it? :)\n. ",
    "ransome1": "I still havn't figured out a solution. This is my access log. Unfortunately I can't see anything suspicious.\n[20/Mar/2015:09:37:15 +0100] \"PROPPATCH /baikal/cal.php/calendars/Projekte/ HTTP/1.1\" 207 411 \"-\" \"Mac+OS+X/10.10.2 (14C1514) CalendarAgent/316\"\n[20/Mar/2015:09:37:15 +0100] \"REPORT /baikal/cal.php/principals/Projekte/ HTTP/1.1\" 401 304 \"-\" \"Mac+OS+X/10.10.2 (14C1514) CalendarAgent/316\"\n[20/Mar/2015:09:37:15 +0100] \"REPORT /baikal/cal.php/principals/Projekte/ HTTP/1.1\" 207 490 \"-\" \"Mac+OS+X/10.10.2 (14C1514) CalendarAgent/316\"\n[20/Mar/2015:09:37:15 +0100] \"MKCALENDAR /baikal/cal.php/calendars/Projekte/858D4566-1F0C-43B7-8060-18AC2025A3F4/ HTTP/1.1\" 501 357 \"-\" \"-\"\n[20/Mar/2015:09:37:16 +0100] \"MKCALENDAR /baikal/cal.php/calendars/Projekte/858D4566-1F0C-43B7-8060-18AC2025A3F4/ HTTP/1.1\" 501 357 \"-\" \"-\"\n[20/Mar/2015:09:37:16 +0100] \"REPORT /baikal/cal.php/calendars/Projekte/39C90455-EE43-4965-A19E-2F480F49BDA7/ HTTP/1.1\" 207 15211 \"-\" \"Mac+OS+X/10.10.2 (14C1514)$\n[20/Mar/2015:09:37:17 +0100] \"MKCALENDAR /baikal/cal.php/calendars/Projekte/3F849CD5-B7F7-4280-A150-606234376D2A/ HTTP/1.1\" 501 357 \"-\" \"-\"\n. I still havn't figured out a solution. This is my access log. Unfortunately I can't see anything suspicious.\n[20/Mar/2015:09:37:15 +0100] \"PROPPATCH /baikal/cal.php/calendars/Projekte/ HTTP/1.1\" 207 411 \"-\" \"Mac+OS+X/10.10.2 (14C1514) CalendarAgent/316\"\n[20/Mar/2015:09:37:15 +0100] \"REPORT /baikal/cal.php/principals/Projekte/ HTTP/1.1\" 401 304 \"-\" \"Mac+OS+X/10.10.2 (14C1514) CalendarAgent/316\"\n[20/Mar/2015:09:37:15 +0100] \"REPORT /baikal/cal.php/principals/Projekte/ HTTP/1.1\" 207 490 \"-\" \"Mac+OS+X/10.10.2 (14C1514) CalendarAgent/316\"\n[20/Mar/2015:09:37:15 +0100] \"MKCALENDAR /baikal/cal.php/calendars/Projekte/858D4566-1F0C-43B7-8060-18AC2025A3F4/ HTTP/1.1\" 501 357 \"-\" \"-\"\n[20/Mar/2015:09:37:16 +0100] \"MKCALENDAR /baikal/cal.php/calendars/Projekte/858D4566-1F0C-43B7-8060-18AC2025A3F4/ HTTP/1.1\" 501 357 \"-\" \"-\"\n[20/Mar/2015:09:37:16 +0100] \"REPORT /baikal/cal.php/calendars/Projekte/39C90455-EE43-4965-A19E-2F480F49BDA7/ HTTP/1.1\" 207 15211 \"-\" \"Mac+OS+X/10.10.2 (14C1514)$\n[20/Mar/2015:09:37:17 +0100] \"MKCALENDAR /baikal/cal.php/calendars/Projekte/3F849CD5-B7F7-4280-A150-606234376D2A/ HTTP/1.1\" 501 357 \"-\" \"-\"\n. ",
    "azlux": "the same, in additional the error log give a 404 error. The new calendar is not created when the system don't found it\n. the same, in additional the error log give a 404 error. The new calendar is not created when the system don't found it\n. ",
    "xguerin": "I must be missing something. I am using Baikal 0.4.6 and I am still having that issue.. I must be missing something. I am using Baikal 0.4.6 and I am still having that issue.. ",
    "therealprof": "Same here. Just upgraded to 0.4.6 and I'm having this problem now. To add insult to the injury after attempting to do this the Mac CalendarAgent now constantly reports an error.. Same here. Just upgraded to 0.4.6 and I'm having this problem now. To add insult to the injury after attempting to do this the Mac CalendarAgent now constantly reports an error.. ",
    "hendrikstier": "I'd second this. I tried to configure a secure connection using Apache with SSL proxing, only later finding out, that there are problems with this setup and SabreDAV. Do you have any hints on where to find a suitable template?\nEDIt: would the Symfony documentation be a reasonable start?\n. I had success with the following configuration (Ubuntu 14.04 Server, Apache 2.4, mod_ssl, mod_rewrite, mod_php5):\n```\n\n  # ServerName YOURSERVERNAME\n  ServerAlias YOUR.SERVER.IP.ADDRESS\n  SSLEngine on\n  SSLCertificateFile /etc/ssl/certs/apache.crt\n  SSLCertificateKeyFile /etc/ssl/private/apache.key\nDocumentRoot /var/www/baikal/web\n  \n    AllowOverride None\n      Require all granted\n      Allow from All\n  <IfModule mod_rewrite.c>\n      Options -MultiViews\n      RewriteEngine On\n      RewriteCond %{REQUEST_FILENAME} !-f\n      RewriteRule ^(.*)$ app.php [QSA,L]\n  </IfModule>\n</Directory>\n\nErrorLog /var/log/apache2/baikal_error.log\nCustomLog /var/log/apache2/baikal_access.log combined\n\n\n```\nSource: http://symfony.com/doc/current/cookbook/configuration/web_server_configuration.html\n. One hint is https://github.com/netgusto/Baikal#calendar-and-contacts-client-subscription, the other was taken from the SabreDAV-documentation/source.\n\nhttp://localhost:8000.\n\nIf your configuration requires deeper path information, this would be\n\nhttps://localhost:8000/dav/card/principals/\n\nor\n\nhttps://localhost:8000/dav/cal/principals/\n\nOf course you need to adjust the hostname and port and maybe subdirectory if you deploy Baikal2 to a server environment.\n. As far as I remember: yes, the web interface. But the app does not exist anymore, so I cannot assist with testing. Maybe we should close this issue?\n. I'd second this. I tried to configure a secure connection using Apache with SSL proxing, only later finding out, that there are problems with this setup and SabreDAV. Do you have any hints on where to find a suitable template?\nEDIt: would the Symfony documentation be a reasonable start?\n. I had success with the following configuration (Ubuntu 14.04 Server, Apache 2.4, mod_ssl, mod_rewrite, mod_php5):\n```\n\n  # ServerName YOURSERVERNAME\n  ServerAlias YOUR.SERVER.IP.ADDRESS\n  SSLEngine on\n  SSLCertificateFile /etc/ssl/certs/apache.crt\n  SSLCertificateKeyFile /etc/ssl/private/apache.key\nDocumentRoot /var/www/baikal/web\n  \n    AllowOverride None\n      Require all granted\n      Allow from All\n  <IfModule mod_rewrite.c>\n      Options -MultiViews\n      RewriteEngine On\n      RewriteCond %{REQUEST_FILENAME} !-f\n      RewriteRule ^(.*)$ app.php [QSA,L]\n  </IfModule>\n</Directory>\n\nErrorLog /var/log/apache2/baikal_error.log\nCustomLog /var/log/apache2/baikal_access.log combined\n\n\n```\nSource: http://symfony.com/doc/current/cookbook/configuration/web_server_configuration.html\n. One hint is https://github.com/netgusto/Baikal#calendar-and-contacts-client-subscription, the other was taken from the SabreDAV-documentation/source.\n\nhttp://localhost:8000.\n\nIf your configuration requires deeper path information, this would be\n\nhttps://localhost:8000/dav/card/principals/\n\nor\n\nhttps://localhost:8000/dav/cal/principals/\n\nOf course you need to adjust the hostname and port and maybe subdirectory if you deploy Baikal2 to a server environment.\n. As far as I remember: yes, the web interface. But the app does not exist anymore, so I cannot assist with testing. Maybe we should close this issue?\n. ",
    "tmelikoff": "I'm sharing an nginx vhost I use for version 0.2.7.\nIn my configuration I use HTTP Strict Transport Security (HSTS).\nReplace default with this:\nserver {\n        listen 80;\n        server_name baikal.domain.tld;\n        return 301 https://$server_name$request_uri;\n}\nand create your vhost file in /etc/nginx/sites-available/baikal.domain.tld and create a symlink in /etc/nginx/sites-enabled\n```\nserver {\n        listen 443 ssl;\n        server_name baikal.domain.tld;\n    ssl on;\n    ssl_protocols TLSv1 TLSv1.1 TLSv1.2;\n    ssl_prefer_server_ciphers on;\n    ssl_session_cache shared:SSL:10m;\n    ssl_session_timeout 5m;\n    # change the following two according to your configuration\n    ssl_certificate /etc/letsencrypt/live/baikal.domain.tld/fullchain.pem;\n    ssl_certificate_key /etc/letsencrypt/live/baikal.domain.tld/privkey.pem;\n    ssl_session_tickets off;\n    server_tokens off;\n\n    ## extra secure settings, enable if you know what you're doing\n    ## use 'openssl dhparam -out dhparam.pem 4096' for the next line\n    #ssl_dhparam /etc/nginx/ssl/dhparams.pem;\n    #ssl_ciphers 'EECDH+AESGCM:EDH+AESGCM:AES256+EECDH:AES256+EDH';\n    #ssl_ecdh_curve secp384r1;\n    #ssl_stapling on;\n    #ssl_stapling_verify on;\n    #ssl_trusted_certificate /etc/letsencrypt/live/baikal.domain.tld/chain.pem;\n    #resolver 8.8.8.8 8.8.4.4 valid=300s;\n    #resolver_timeout 5s;\n    #add_header Strict-Transport-Security \"max-age=63072000; includeSubdomains; preload\";\n\n    add_header X-Frame-Options SAMEORIGIN;\n    add_header X-Content-Type-Options nosniff;\n    add_header X-XSS-Protection \"1; mode=block\";\n    add_header X-Robots-Tag none;\n\n    # change the following two according to your configuration\n    access_log /var/log/nginx/baikal.domain.tld_access.log;\n    error_log /var/log/nginx/baikal.domain.tld_error.log;\n\n    # change the following according to your configuration\n    root /var/www/baikal.domain.tld;\n\n    index index.php;\n    proxy_set_header X-Forwarded-For $remote_addr;\n    charset utf-8;\n\n    location / {\n            try_files $uri $uri/ =404;\n    }\n\n    location ~ ^(.+\\.php)(.*) {\n            try_files $fastcgi_script_name =404;\n            fastcgi_split_path_info ^(.+\\.php)(/.+)$;\n            fastcgi_pass unix:/var/run/php5-fpm.sock;\n            fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;\n            fastcgi_param HTTPS on;\n            fastcgi_index index.php;\n            include fastcgi_params;\n    }\n\n    location ~ /(\\.ht|Core|Specific) {\n            deny all;\n            return 404;\n    }\n\n    rewrite ^/.well-known/caldav /cal.php redirect;\n    rewrite ^/.well-known/carddav /card.php redirect;\n\n}\n``\n. I'm sharing an nginx vhost I use for version 0.2.7.\nIn my configuration I use HTTP Strict Transport Security (HSTS).\nReplacedefault` with this:\nserver {\n        listen 80;\n        server_name baikal.domain.tld;\n        return 301 https://$server_name$request_uri;\n}\nand create your vhost file in /etc/nginx/sites-available/baikal.domain.tld and create a symlink in /etc/nginx/sites-enabled\n```\nserver {\n        listen 443 ssl;\n        server_name baikal.domain.tld;\n    ssl on;\n    ssl_protocols TLSv1 TLSv1.1 TLSv1.2;\n    ssl_prefer_server_ciphers on;\n    ssl_session_cache shared:SSL:10m;\n    ssl_session_timeout 5m;\n    # change the following two according to your configuration\n    ssl_certificate /etc/letsencrypt/live/baikal.domain.tld/fullchain.pem;\n    ssl_certificate_key /etc/letsencrypt/live/baikal.domain.tld/privkey.pem;\n    ssl_session_tickets off;\n    server_tokens off;\n\n    ## extra secure settings, enable if you know what you're doing\n    ## use 'openssl dhparam -out dhparam.pem 4096' for the next line\n    #ssl_dhparam /etc/nginx/ssl/dhparams.pem;\n    #ssl_ciphers 'EECDH+AESGCM:EDH+AESGCM:AES256+EECDH:AES256+EDH';\n    #ssl_ecdh_curve secp384r1;\n    #ssl_stapling on;\n    #ssl_stapling_verify on;\n    #ssl_trusted_certificate /etc/letsencrypt/live/baikal.domain.tld/chain.pem;\n    #resolver 8.8.8.8 8.8.4.4 valid=300s;\n    #resolver_timeout 5s;\n    #add_header Strict-Transport-Security \"max-age=63072000; includeSubdomains; preload\";\n\n    add_header X-Frame-Options SAMEORIGIN;\n    add_header X-Content-Type-Options nosniff;\n    add_header X-XSS-Protection \"1; mode=block\";\n    add_header X-Robots-Tag none;\n\n    # change the following two according to your configuration\n    access_log /var/log/nginx/baikal.domain.tld_access.log;\n    error_log /var/log/nginx/baikal.domain.tld_error.log;\n\n    # change the following according to your configuration\n    root /var/www/baikal.domain.tld;\n\n    index index.php;\n    proxy_set_header X-Forwarded-For $remote_addr;\n    charset utf-8;\n\n    location / {\n            try_files $uri $uri/ =404;\n    }\n\n    location ~ ^(.+\\.php)(.*) {\n            try_files $fastcgi_script_name =404;\n            fastcgi_split_path_info ^(.+\\.php)(/.+)$;\n            fastcgi_pass unix:/var/run/php5-fpm.sock;\n            fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;\n            fastcgi_param HTTPS on;\n            fastcgi_index index.php;\n            include fastcgi_params;\n    }\n\n    location ~ /(\\.ht|Core|Specific) {\n            deny all;\n            return 404;\n    }\n\n    rewrite ^/.well-known/caldav /cal.php redirect;\n    rewrite ^/.well-known/carddav /card.php redirect;\n\n}\n```\n. ",
    "janlimpens": "Looks good, got it to work (at least)! Thanks!\n. like that?\ngit push scalingo 2.0.0-alpha2:master\n(did not work for me...)\n. > @janlimpens you're trying to CREATE a branch \"2.0.0-alpha2\". You don't even need to FORK Baikal. Just clone it and then checkout \"2.0.0-alpha2.\n\ngit clone git@github.com:netgusto/Baikal.git\ncd Baikal\ngit checkout 2.0.0-alpha2\n\nI am there already, but I do not understand, how to push alpha2 to scalingo. Sorry, my gittish is limited.\nTo my understanding it is\ngit push [target] [ref/tag] and when I try this, I get\n[remote rejected] 2.0.0-alpha2 -> master (pre-receive hook declined)\n. > @netgusto I think this sill work:\n\ngit push scalingo 2.0.0-alpha2:master\nThat\u00b4s what I tried and it gives me\n\n[remote rejected] 2.0.0-alpha2 -> master (pre-receive hook declined)\n. Looks good, got it to work (at least)! Thanks!\n. like that?\ngit push scalingo 2.0.0-alpha2:master\n(did not work for me...)\n. > @janlimpens you're trying to CREATE a branch \"2.0.0-alpha2\". You don't even need to FORK Baikal. Just clone it and then checkout \"2.0.0-alpha2.\n\ngit clone git@github.com:netgusto/Baikal.git\ncd Baikal\ngit checkout 2.0.0-alpha2\n\nI am there already, but I do not understand, how to push alpha2 to scalingo. Sorry, my gittish is limited.\nTo my understanding it is\ngit push [target] [ref/tag] and when I try this, I get\n[remote rejected] 2.0.0-alpha2 -> master (pre-receive hook declined)\n. > @netgusto I think this sill work:\n\ngit push scalingo 2.0.0-alpha2:master\nThat\u00b4s what I tried and it gives me\n\n[remote rejected] 2.0.0-alpha2 -> master (pre-receive hook declined)\n. ",
    "MarkMaldaba": "Well, that was kind of my point.  The software requirements should match those stated, so either the software needs to be modified to meet the requirements or the composer.json/readme file need updating.\nWould be good if there were a link to the last version to run on 5.3 (if it ever did) as a courtesy to people for whom this matters, but I don't expect 5.3 to continue to be supported.\n. True, but that doesn't quite give me what I want.  There are plenty of other unrelated POST requests for other apps running on the server (though I guess I could filter by URL) plus it doesn't give me the details about the event.\nSpecifically, it doesn't show which user updated the resource (which is most important when using delegation, as the URL reflects the owner not the editor) or the name/dates of the event (which is important for deletions, where the original data no longer exists in the DB, so all you have is a meaningless ID string).\nIs there a single place in the code where I could add a logging call?\n. Are you suggesting I write a patch for Baikal to do this, or that I hook into the events system in my local installation?  Would a PR be accepted, if I get round to working on this?\n. OK.  Well don't plan on working on doing anything about it right now, but I'll get back to you if I need help, or have an implementation that you might be interested in.\n. Well, that was kind of my point.  The software requirements should match those stated, so either the software needs to be modified to meet the requirements or the composer.json/readme file need updating.\nWould be good if there were a link to the last version to run on 5.3 (if it ever did) as a courtesy to people for whom this matters, but I don't expect 5.3 to continue to be supported.\n. True, but that doesn't quite give me what I want.  There are plenty of other unrelated POST requests for other apps running on the server (though I guess I could filter by URL) plus it doesn't give me the details about the event.\nSpecifically, it doesn't show which user updated the resource (which is most important when using delegation, as the URL reflects the owner not the editor) or the name/dates of the event (which is important for deletions, where the original data no longer exists in the DB, so all you have is a meaningless ID string).\nIs there a single place in the code where I could add a logging call?\n. Are you suggesting I write a patch for Baikal to do this, or that I hook into the events system in my local installation?  Would a PR be accepted, if I get round to working on this?\n. OK.  Well don't plan on working on doing anything about it right now, but I'll get back to you if I need help, or have an implementation that you might be interested in.\n. ",
    "maxknopp": "Hello,\nI finally make it work with lighttpd with the right rewrite rule. Please find below the configuration I use:\n```\n$HTTP[\"host\"] =~ \"mydomain.tld\" {\nserver.document-root = \"/srv/baikal/html\"\nserver.errorlog = \"/var/log/lighttpd/baikal.error.log\"\naccesslog.filename = \"/var/log/lighttpd/baikal.access.log\"\nrewrite URLs for easy configuration of clients, iPhone, etc.\nurl.rewrite-once = (\n  #Rewrite for ?\n  \"^/.well-known/caldav(.)$\" => \"/cal.php/$1\",\n  \"^/.well-known/cardav(.)$\" => \"/card.php/$1\",\n)\n}\n```\n. Hello,\nI finally make it work with lighttpd with the right rewrite rule. Please find below the configuration I use:\n```\n$HTTP[\"host\"] =~ \"mydomain.tld\" {\nserver.document-root = \"/srv/baikal/html\"\nserver.errorlog = \"/var/log/lighttpd/baikal.error.log\"\naccesslog.filename = \"/var/log/lighttpd/baikal.access.log\"\nrewrite URLs for easy configuration of clients, iPhone, etc.\nurl.rewrite-once = (\n  #Rewrite for ?\n  \"^/.well-known/caldav(.)$\" => \"/cal.php/$1\",\n  \"^/.well-known/cardav(.)$\" => \"/card.php/$1\",\n)\n}\n```\n. ",
    "valvin1": "i have the same problem if you have a solution ... I haven't found solutions in issue\n. works for me with version 2.0.0-alpha3\n. i have the same problem if you have a solution ... I haven't found solutions in issue\n. works for me with version 2.0.0-alpha3\n. ",
    "sir-brickalot": "+1\n. +1\n. ",
    "bisento": "some kind ofinformation regarding he general possibility would be nice. Should I expect a loss of data? Will Baikal2 be able to import/use the databases baikal 0.27 or will I have to recreate the accounts anew? I am eagerly waiting :-)\n. I altered the username for the sake of privacy for this posting :-) \nOf course \"testuser\" is a place marker for the correct user name. The user name is not the reason for the 404...\n. Thx for the suggestion Tntdruid, but this is the access log:\n testuser [21/Apr/2017:18:37:35 +0200] \"PROPFIND /baikal/html/dav.php/principals/testuser/ HTTP/1.1\" 404 142 \"-\" \"Thunderbird Lightning/4.7.8\"\nstill 404 :-/\nadminpage in browser still works... \n. just tried with a browser:\ngives a 404 (nginx 1.62)\njust checked the installation:\n$ /var/www/baikal/html $ ls\nadmin  cal.php  card.php  dav.php  index.php  res\nso dav.php is there ... hmmm  -what does that mean?. no ideas by anyone? would moving the install folder to a different install folder like usr/share/nginx/www or something else help? (but why can i access the admin page via browser but can not get a synch...). could someone pls check if my nginx config might have something to do with the problem?\n$ sudo nano /etc/nginx/sites-available/default\nserver {\n    listen 80;\n    server_name 10.10.10.9;\n    rewrite ^ https://$server_name$request_uri? permanent; # enforce https\n }\nserver {\n    listen 443 ssl;\n    server_name 10.10.10.9;\n    ssl_certificate /etc/nginx/ssl/baikal.crt;\n    ssl_certificate_key /etc/nginx/ssl/baikal.key;\n    root /var/www/baikal/html;\n\n    # Add index.php to the list if you are using PHP\n    index index.html index.htm index.nginx-debian.html index.php;\n\n    server_name _;\n\n    location / {\n            # First attempt to serve request as file, then\n            # as directory, then fall back to displaying a 404.\n            try_files $uri $uri/ =404;\n    }\n\n    location ~ ^(.+\\.php)(.*)$ {\n    try_files $fastcgi_script_name =404;\n    fastcgi_split_path_info  ^(.+\\.php)(.*)$;\n    fastcgi_pass   unix:/var/run/php5-fpm.sock;\n    fastcgi_param  SCRIPT_FILENAME  $document_root$fastcgi_script_name;\n    fastcgi_param  PATH_INFO        $fastcgi_path_info;\n    include        /etc/nginx/fastcgi_params;\n}\n\nrewrite ^/.well-known/caldav /baikal/cal.php redirect;\nrewrite ^/.well-known/carddav /baikal/card.php redirect;\n\ncharset utf-8;\n\nlocation ~ /(\\.ht|Core|Specific) {\n    deny all;\n    return 404;\n}\n\n}. ok, i have solved the problem: in nginx/sites-available/default the lines have to read\nrewrite ^/.well-known/caldav /dav.php redirect;\n  rewrite ^/.well-known/carddav /dav.php redirect;\nfor contacts I am using thunderbird cardbook - the url for successful connect is \nhttps://[Server-IP]/dav.php/addressbooks/[USER]/default/\nfor calendar I am using thunderbird lightning - the url is \nhttps://[Server-IP]/dav.php/calendars/[USER]default/\nwhy not /[IP]/baikal/html/dav.php/... is not enterly clear to me. But it works and I do not touch it without need.\nOn android I am using DavDroid and here the URL used is indeed\nhttps://[Server-IP]/baikal/html/dav.php/principals/[USER]/ \nand both calendars and contacts are recognized and synched. Even tasks are synched if OpenTasks is installed.\n. some kind ofinformation regarding he general possibility would be nice. Should I expect a loss of data? Will Baikal2 be able to import/use the databases baikal 0.27 or will I have to recreate the accounts anew? I am eagerly waiting :-)\n. I altered the username for the sake of privacy for this posting :-) \nOf course \"testuser\" is a place marker for the correct user name. The user name is not the reason for the 404...\n. Thx for the suggestion Tntdruid, but this is the access log:\n testuser [21/Apr/2017:18:37:35 +0200] \"PROPFIND /baikal/html/dav.php/principals/testuser/ HTTP/1.1\" 404 142 \"-\" \"Thunderbird Lightning/4.7.8\"\nstill 404 :-/\nadminpage in browser still works... \n. just tried with a browser:\ngives a 404 (nginx 1.62)\njust checked the installation:\n$ /var/www/baikal/html $ ls\nadmin  cal.php  card.php  dav.php  index.php  res\nso dav.php is there ... hmmm  -what does that mean?. no ideas by anyone? would moving the install folder to a different install folder like usr/share/nginx/www or something else help? (but why can i access the admin page via browser but can not get a synch...). could someone pls check if my nginx config might have something to do with the problem?\n$ sudo nano /etc/nginx/sites-available/default\nserver {\n    listen 80;\n    server_name 10.10.10.9;\n    rewrite ^ https://$server_name$request_uri? permanent; # enforce https\n }\nserver {\n    listen 443 ssl;\n    server_name 10.10.10.9;\n    ssl_certificate /etc/nginx/ssl/baikal.crt;\n    ssl_certificate_key /etc/nginx/ssl/baikal.key;\n    root /var/www/baikal/html;\n\n    # Add index.php to the list if you are using PHP\n    index index.html index.htm index.nginx-debian.html index.php;\n\n    server_name _;\n\n    location / {\n            # First attempt to serve request as file, then\n            # as directory, then fall back to displaying a 404.\n            try_files $uri $uri/ =404;\n    }\n\n    location ~ ^(.+\\.php)(.*)$ {\n    try_files $fastcgi_script_name =404;\n    fastcgi_split_path_info  ^(.+\\.php)(.*)$;\n    fastcgi_pass   unix:/var/run/php5-fpm.sock;\n    fastcgi_param  SCRIPT_FILENAME  $document_root$fastcgi_script_name;\n    fastcgi_param  PATH_INFO        $fastcgi_path_info;\n    include        /etc/nginx/fastcgi_params;\n}\n\nrewrite ^/.well-known/caldav /baikal/cal.php redirect;\nrewrite ^/.well-known/carddav /baikal/card.php redirect;\n\ncharset utf-8;\n\nlocation ~ /(\\.ht|Core|Specific) {\n    deny all;\n    return 404;\n}\n\n}. ok, i have solved the problem: in nginx/sites-available/default the lines have to read\nrewrite ^/.well-known/caldav /dav.php redirect;\n  rewrite ^/.well-known/carddav /dav.php redirect;\nfor contacts I am using thunderbird cardbook - the url for successful connect is \nhttps://[Server-IP]/dav.php/addressbooks/[USER]/default/\nfor calendar I am using thunderbird lightning - the url is \nhttps://[Server-IP]/dav.php/calendars/[USER]default/\nwhy not /[IP]/baikal/html/dav.php/... is not enterly clear to me. But it works and I do not touch it without need.\nOn android I am using DavDroid and here the URL used is indeed\nhttps://[Server-IP]/baikal/html/dav.php/principals/[USER]/ \nand both calendars and contacts are recognized and synched. Even tasks are synched if OpenTasks is installed.\n. ",
    "martinstreicher": "I get the same issue on Heroku. Is there a solution? \nemote:        ### \u25b6 Create default user ###\nremote:        \nremote:        Script Symfony\\BootCampBundle\\Composer\\ScriptHandler::install handling the post-install-cmd event terminated with an exception\nremote:        \nremote:        \nremote:                                                                                                                                                                 \nremote:          [Doctrine\\Common\\Persistence\\Mapping\\MappingException]                                                                                                 \nremote:          The class 'Baikal\\SystemBundle\\Entity\\User' was not found in the chain configured namespaces Symfony\\BootCampBundle\\Entity, Baikal\\ModelBundle\\Entity  \nremote:                                                                                                                                                                 \nremote:        \nremote:        \nremote:        install [--prefer-source] [--prefer-dist] [--dry-run] [--dev] [--no-dev] [--no-plugins] [--no-custom-installers] [--no-autoloader] [--no-scripts] [--no-progress] [-v|vv|vvv|--verbose] [-o|--optimize-autoloader] [--ignore-platform-reqs] [packages1] ... [packagesN]\nremote:        \nremote:        \nremote: \nremote:  !     Push rejected, failed to compile PHP app\nremote: \nremote: Verifying deploy...\nremote: \nremote: !   Push rejected to caldav.\nremote: \nTo https://git.heroku.com/caldav.git\n ! [remote rejected] branch-2 -> master (pre-receive hook declined)\nerror: failed to push some refs to 'https://git.heroku.com/caldav.git'\n. @netgusto Any ideas?\n. I get the same issue on Heroku. Is there a solution? \nemote:        ### \u25b6 Create default user ###\nremote:        \nremote:        Script Symfony\\BootCampBundle\\Composer\\ScriptHandler::install handling the post-install-cmd event terminated with an exception\nremote:        \nremote:        \nremote:                                                                                                                                                                 \nremote:          [Doctrine\\Common\\Persistence\\Mapping\\MappingException]                                                                                                 \nremote:          The class 'Baikal\\SystemBundle\\Entity\\User' was not found in the chain configured namespaces Symfony\\BootCampBundle\\Entity, Baikal\\ModelBundle\\Entity  \nremote:                                                                                                                                                                 \nremote:        \nremote:        \nremote:        install [--prefer-source] [--prefer-dist] [--dry-run] [--dev] [--no-dev] [--no-plugins] [--no-custom-installers] [--no-autoloader] [--no-scripts] [--no-progress] [-v|vv|vvv|--verbose] [-o|--optimize-autoloader] [--ignore-platform-reqs] [packages1] ... [packagesN]\nremote:        \nremote:        \nremote: \nremote:  !     Push rejected, failed to compile PHP app\nremote: \nremote: Verifying deploy...\nremote: \nremote: !   Push rejected to caldav.\nremote: \nTo https://git.heroku.com/caldav.git\n ! [remote rejected] branch-2 -> master (pre-receive hook declined)\nerror: failed to push some refs to 'https://git.heroku.com/caldav.git'\n. @netgusto Any ideas?\n. ",
    "saurabhjain-MA": "I \u00e1m getting the same error !! Does anyone has any update in it.....I am stucked in this ...Thanks in advance\n. I \u00e1m getting the same error !! Does anyone has any update in it.....I am stucked in this ...Thanks in advance\n. ",
    "LittleHuba": "See #362\n. See #362\n. ",
    "timukas": "Week numbers would be also nice-to-have feature\n. Week numbers would be also nice-to-have feature\n. ",
    "kroese": "Any ideas?\n. Any ideas?\n. ",
    "mtachrono": "I get the same... Try using beta2 instead of the current head.\n. I'm sorry, The branch this called \"2.0.0-alpha2\". It's commit \"a4c54b3cf39d6ca590b59c23b9e46013291501ea\".\n. @janlimpens forget what I told you before. I didn't get it.\ngit push scalingo 2.0.0-alpha2:master should work. Maybe some force ?! =)\n. I get the same... Try using beta2 instead of the current head.\n. I'm sorry, The branch this called \"2.0.0-alpha2\". It's commit \"a4c54b3cf39d6ca590b59c23b9e46013291501ea\".\n. @janlimpens forget what I told you before. I didn't get it.\ngit push scalingo 2.0.0-alpha2:master should work. Maybe some force ?! =)\n. ",
    "hardfire": "getting similar issues on the current head.\nwhat is beta2 ? there is no branch by that name\n. its related to https://github.com/netgusto/Baikal/issues/355 , best option for now is to switch to tag \"2.0.0-alpha2\"\n. getting similar issues on the current head.\nwhat is beta2 ? there is no branch by that name\n. its related to https://github.com/netgusto/Baikal/issues/355 , best option for now is to switch to tag \"2.0.0-alpha2\"\n. ",
    "kunoSchlonz": "i got the same issues as @janlimpens \nis there another way to install it?\n. i got the same issues as @janlimpens \nis there another way to install it?\n. ",
    "RaSKoR": "Check issue #362 , I describe how to bypass this issue.\n. To resolve this issue, follow the doc and before the '$ composer install...' command :\n $ cp ./src/Baikal/SystemBundle/Entity/User.php ./vendor/baikal/model-bundle/Baikal/ModelBundle/Entity/\n$ cp ./src/Baikal/SystemBundle/Resources/config/doctrine/User.orm.yml ./vendor/baikal/model-bundle/Baikal/ModelBundle/Resources/config/doctrine/\nReplace 'SystemBundle' by 'ModelBundle' in the first line into the two files and into the line 9 of ./src/Baikal/BootCampBundle/InitHandler/UserInitHandler.php file.\n. I don't remember if I've got this error and if I fixed it, but I've this folder on my server.\nHere's the folder's files (maybe it can be help you) : \n$/var/www/Baikal/vendor/baikal/model-bundle/Baikal/ModelBundle# ls Entity/\ntotal 112\ndrwxr-xr-x 4 www-data www-data 4096 Apr 22 14:23 .\ndrwxr-xr-x 9 www-data www-data 4096 May  4 08:56 ..\n-rw-r--r-- 1 www-data www-data 5434 Apr 22 14:18 AbstractUser.php\n-rw-r--r-- 1 www-data www-data 1909 Apr 22 14:18 AddressbookChange.php\n-rw-r--r-- 1 www-data www-data 3001 Apr 22 14:18 AddressbookContact.php\n-rw-r--r-- 1 www-data www-data 2750 Apr 22 14:18 Addressbook.php\n-rw-r--r-- 1 www-data www-data 1870 Apr 22 14:18 CalendarChange.php\n-rw-r--r-- 1 www-data www-data 6016 Apr 22 14:18 Calendar.php\n-rw-r--r-- 1 www-data www-data 5259 Apr 22 14:18 CalendarSubscription.php\n-rw-r--r-- 1 www-data www-data  336 Apr 22 14:18 ConfigContainerInterface.php\n-rw-r--r-- 1 www-data www-data 1543 Apr 22 14:18 ConfigContainer.php\n-rw-r--r-- 1 www-data www-data 6125 Apr 22 14:18 Event.php\n-rw-r--r-- 1 www-data www-data 1138 Apr 22 14:18 Groupmember.php\ndrwxr-xr-x 2 www-data www-data 4096 Apr 22 14:18 Listener\n-rw-r--r-- 1 www-data www-data 2932 Apr 22 14:18 Lock.php\n-rw-r--r-- 1 www-data www-data  240 Apr 22 14:18 OAuthAccessToken.php\n-rw-r--r-- 1 www-data www-data  228 Apr 22 14:18 OAuthAuthCode.php\n-rw-r--r-- 1 www-data www-data 1112 Apr 22 14:18 OAuthClient.php\n-rw-r--r-- 1 www-data www-data  198 Apr 22 14:18 OAuthRefreshToken.php\n-rw-r--r-- 1 www-data www-data  796 Apr 22 14:18 PropertyStorage.php\ndrwxr-xr-x 2 www-data www-data 4096 Apr 22 14:18 Repository\n-rw-r--r-- 1 www-data www-data 2795 Apr 22 14:18 Scheduling.php\n-rw-r--r-- 1 www-data www-data  126 Apr 22 14:34 User.php\n-rw-r--r-- 1 www-data www-data 1892 Apr 22 14:18 UserPrincipal.php\n. Check issue #362 , I describe how to bypass this issue.\n. To resolve this issue, follow the doc and before the '$ composer install...' command :\n $ cp ./src/Baikal/SystemBundle/Entity/User.php ./vendor/baikal/model-bundle/Baikal/ModelBundle/Entity/\n$ cp ./src/Baikal/SystemBundle/Resources/config/doctrine/User.orm.yml ./vendor/baikal/model-bundle/Baikal/ModelBundle/Resources/config/doctrine/\nReplace 'SystemBundle' by 'ModelBundle' in the first line into the two files and into the line 9 of ./src/Baikal/BootCampBundle/InitHandler/UserInitHandler.php file.\n. I don't remember if I've got this error and if I fixed it, but I've this folder on my server.\nHere's the folder's files (maybe it can be help you) : \n$/var/www/Baikal/vendor/baikal/model-bundle/Baikal/ModelBundle# ls Entity/\ntotal 112\ndrwxr-xr-x 4 www-data www-data 4096 Apr 22 14:23 .\ndrwxr-xr-x 9 www-data www-data 4096 May  4 08:56 ..\n-rw-r--r-- 1 www-data www-data 5434 Apr 22 14:18 AbstractUser.php\n-rw-r--r-- 1 www-data www-data 1909 Apr 22 14:18 AddressbookChange.php\n-rw-r--r-- 1 www-data www-data 3001 Apr 22 14:18 AddressbookContact.php\n-rw-r--r-- 1 www-data www-data 2750 Apr 22 14:18 Addressbook.php\n-rw-r--r-- 1 www-data www-data 1870 Apr 22 14:18 CalendarChange.php\n-rw-r--r-- 1 www-data www-data 6016 Apr 22 14:18 Calendar.php\n-rw-r--r-- 1 www-data www-data 5259 Apr 22 14:18 CalendarSubscription.php\n-rw-r--r-- 1 www-data www-data  336 Apr 22 14:18 ConfigContainerInterface.php\n-rw-r--r-- 1 www-data www-data 1543 Apr 22 14:18 ConfigContainer.php\n-rw-r--r-- 1 www-data www-data 6125 Apr 22 14:18 Event.php\n-rw-r--r-- 1 www-data www-data 1138 Apr 22 14:18 Groupmember.php\ndrwxr-xr-x 2 www-data www-data 4096 Apr 22 14:18 Listener\n-rw-r--r-- 1 www-data www-data 2932 Apr 22 14:18 Lock.php\n-rw-r--r-- 1 www-data www-data  240 Apr 22 14:18 OAuthAccessToken.php\n-rw-r--r-- 1 www-data www-data  228 Apr 22 14:18 OAuthAuthCode.php\n-rw-r--r-- 1 www-data www-data 1112 Apr 22 14:18 OAuthClient.php\n-rw-r--r-- 1 www-data www-data  198 Apr 22 14:18 OAuthRefreshToken.php\n-rw-r--r-- 1 www-data www-data  796 Apr 22 14:18 PropertyStorage.php\ndrwxr-xr-x 2 www-data www-data 4096 Apr 22 14:18 Repository\n-rw-r--r-- 1 www-data www-data 2795 Apr 22 14:18 Scheduling.php\n-rw-r--r-- 1 www-data www-data  126 Apr 22 14:34 User.php\n-rw-r--r-- 1 www-data www-data 1892 Apr 22 14:18 UserPrincipal.php\n. ",
    "nbbn": "You are right.\n. Hello, thanks for respond.\nThere is response body for 415:\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<d:error xmlns:d=\"DAV:\" xmlns:s=\"http://sabredav.org/ns\">\n  <s:sabredav-version>3.1.2</s:sabredav-version>\n  <s:exception>Sabre\\DAV\\Exception\\ReportNotSupported</s:exception>\n  <s:message/>\n  <d:supported-report/>\n</d:error>\n. request:\nREPORT /dav.php/addressbooks/mylogin/default/ HTTP/1.1\nHost: HOSTNAME\nUser-Agent: ...\nAccept: application/xml, text/xml, */*; q=0.01\nAccept-Language: en-US,en;q=0.7,pl;q=0.3\nAccept-Encoding: gzip, deflate, br\nReferer: https://HOSTNAME/dav.php/addressbooks/mylogin/default/\nContent-Type: text/xml; charset=utf-8\nAuthorization: Basic ...\nX-client: CardDavMATE 0.13.1 (Inf-IT CardDAV Web Client)\nDepth: 1\nX-Requested-With: XMLHttpRequest\nContent-Length: 185\nCookie: PHPSESSID=...\nConnection: keep-alive\n<?xml version=\"1.0\" encoding=\"utf-8\"?><D:sync-collection xmlns:D=\"DAV:\"><D:prop><D:getcontenttype/><D:getetag/></D:prop><D:sync-level>1</D:sync-level><D:sync-token/></D:sync-collection>\nresponse:\nHTTP/2.0 415 Unsupported Media Type\nServer: nginx\nDate: Sat, 26 Mar 2016 18:22:13 GMT\nContent-Type: application/xml; charset=utf-8\nExpires: Thu, 19 Nov 1981 08:52:00 GMT\nCache-Control: no-store, no-cache, must-revalidate, post-check=0, pre-check=0\nPragma: no-cache\nx-sabre-version: 3.1.2\nX-Firefox-Spdy: h2\n```\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n\n3.1.2\nSabre\\DAV\\Exception\\ReportNotSupported\n\n\n\n```\n. Now I see that after some time calendars have the same issue:\nimage\nAny ideas? timeout? session?\n. first impression: works great.\n. You are right.\n. Hello, thanks for respond.\nThere is response body for 415:\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<d:error xmlns:d=\"DAV:\" xmlns:s=\"http://sabredav.org/ns\">\n  <s:sabredav-version>3.1.2</s:sabredav-version>\n  <s:exception>Sabre\\DAV\\Exception\\ReportNotSupported</s:exception>\n  <s:message/>\n  <d:supported-report/>\n</d:error>\n. request:\nREPORT /dav.php/addressbooks/mylogin/default/ HTTP/1.1\nHost: HOSTNAME\nUser-Agent: ...\nAccept: application/xml, text/xml, */*; q=0.01\nAccept-Language: en-US,en;q=0.7,pl;q=0.3\nAccept-Encoding: gzip, deflate, br\nReferer: https://HOSTNAME/dav.php/addressbooks/mylogin/default/\nContent-Type: text/xml; charset=utf-8\nAuthorization: Basic ...\nX-client: CardDavMATE 0.13.1 (Inf-IT CardDAV Web Client)\nDepth: 1\nX-Requested-With: XMLHttpRequest\nContent-Length: 185\nCookie: PHPSESSID=...\nConnection: keep-alive\n<?xml version=\"1.0\" encoding=\"utf-8\"?><D:sync-collection xmlns:D=\"DAV:\"><D:prop><D:getcontenttype/><D:getetag/></D:prop><D:sync-level>1</D:sync-level><D:sync-token/></D:sync-collection>\nresponse:\nHTTP/2.0 415 Unsupported Media Type\nServer: nginx\nDate: Sat, 26 Mar 2016 18:22:13 GMT\nContent-Type: application/xml; charset=utf-8\nExpires: Thu, 19 Nov 1981 08:52:00 GMT\nCache-Control: no-store, no-cache, must-revalidate, post-check=0, pre-check=0\nPragma: no-cache\nx-sabre-version: 3.1.2\nX-Firefox-Spdy: h2\n```\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n\n3.1.2\nSabre\\DAV\\Exception\\ReportNotSupported\n\n\n\n```\n. Now I see that after some time calendars have the same issue:\nimage\nAny ideas? timeout? session?\n. first impression: works great.\n. ",
    "ctodobom": "I am facing the same error, using either alpha-2 or the branch-2. On alpha-2 the error occurs in line 322.\nAny info on this?\n. I am facing the same error, using either alpha-2 or the branch-2. On alpha-2 the error occurs in line 322.\nAny info on this?\n. ",
    "juzam51": "I've the same error : \nPHP Fatal error:  Can't use method return value in write context in /var/www/dav2/vendor/baikal/model-bundle/Baikal/ModelBundle/Entity/Event.php on line 322\nBa\u00efkal 2.0.0-alpha3 with MySQL\nApache/2.2.22 (Debian) \nPHP Version 5.4.45-0+deb7u1\n. I've the same error : \nPHP Fatal error:  Can't use method return value in write context in /var/www/dav2/vendor/baikal/model-bundle/Baikal/ModelBundle/Entity/Event.php on line 322\nBa\u00efkal 2.0.0-alpha3 with MySQL\nApache/2.2.22 (Debian) \nPHP Version 5.4.45-0+deb7u1\n. ",
    "Tjeu": "I have the same error:\nBa\u00efkal 2.0.0-alpha3 with SQlite\nApache/2.2.22 (Debian) \nPHP 5.4.45-0+deb7u2\nAll running on Raspbian.\n. @GuiHash that fixed it for me. Thank you.\n. I have the same error:\nBa\u00efkal 2.0.0-alpha3 with SQlite\nApache/2.2.22 (Debian) \nPHP 5.4.45-0+deb7u2\nAll running on Raspbian.\n. @GuiHash that fixed it for me. Thank you.\n. ",
    "GuiHash": "It's a limitation of empty() in PHP versions below 5.5 (see stackoverflow post).\nTo fix the error edit file Event.php on line 322 :\nphp\nif (empty($cal->$this->getCalendardata()) {\nto\nphp\n$calData = $this->getCalendardata();\nif(empty($calData)) {\n. It's a limitation of empty() in PHP versions below 5.5 (see stackoverflow post).\nTo fix the error edit file Event.php on line 322 :\nphp\nif (empty($cal->$this->getCalendardata()) {\nto\nphp\n$calData = $this->getCalendardata();\nif(empty($calData)) {\n. ",
    "DigiAngel": "On 2015-04-03 10:43 AM, Evert Pot wrote: \n\nCould you reformat your\nxml samples? I can't see many of the important details. \n\nReply\nto this email directly or view it on GitHub [1].\n\nAh sorry about\nthat...looks like my copy/paste get nailed. Here's a better version:\nREPORT\n/baikal/cal.php/calendars/shared/72F55019-0786-493A-B254-6886B574CD62/\nHTTP/1.1 \n Host: 192.168.1.253 \n Accept-Encoding: identity \nContent-Length: 328 \n Connection: close \n Content-Type:\ntext/xml;charset=utf-8 \n depth: 1 \n authorization: Basic  \nUser-Agent: RIM \n<?xml version=\"1.0\"\nencoding=\"UTF-8\"?>\n\n ns1:prop\n\n /ns1:prop\n ns0:filter\n \n\n\n /ns0:comp-filter\n/ns0:comp-filter\n /ns0:filter\n/ns0:calendar-query\nHTTP/1.1 207\nMulti-Status \n Date: Tue, 03 Mar 2015 02:52:58 GMT \n Server:\nApache/2.4.7 (Ubuntu) \n X-Powered-By: PHP/5.5.9-1ubuntu4.6 \n Set-Cookie:\nPHPSESSID=k0js7ah02vkr9rsda6586bpvr3; path=/; HttpOnly \n Expires: Thu,\n19 Nov 1981 08:52:00 GMT \n Cache-Control: no-store, no-cache,\nmust-revalidate, post-check=0, pre-check=0 \n Pragma: no-cache \n Vary:\nBrief,Prefer \n Content-Length: 187 \n Connection: close \n Content-Type:\napplication/xml; charset=utf-8 \n<?xml version=\"1.0\"\nencoding=\"UTF-8\"?>\n \nThank you. \nLinks:\n[1]\nhttps://github.com/netgusto/Baikal/issues/360#issuecomment-89348544\n. Oh yes...I have an amount of reoccurring event's that happen every month.  Is there a...propfind command or something I can use to look for anything in a time range?  I've been using:\nns0:propfind xmlns:ns0=\"DAV:\">'\n   ns0:prop>'\n        ns0:current-user-principal />'\n  /ns0:prop>'\n/ns0:propfind>'\nBut nothing date specific shows up.  I'm not a programmer, so yea...I'm using curl to get information, so be gentle :)  Thank you so much for looking at this.\nUPDATE:  XML in here is hard ;)\n. Thanks Evert....I've got shell access to the box and root mysql...is there a couple commands I can run to get the data you'd like to see?\n. Ok...here's a calendarobject...retrieved raw from mysql:\n| 8CA34D77-9FF6-437C-B21D-A90AB903E2EB.ics                                                                                              |          5 |   1392041096 | cf9570e947183dbebdd48431a63a74e5 |   858 | VEVENT        |     1392332400 |    1392595200 |\n|  42 | BEGIN:VCALENDAR\nCALSCALE:GREGORIAN\nPRODID:-//Apple Inc.//iOS 6.1//EN\nVERSION:2.0\nBEGIN:VTIMEZONE\nTZID:America/Boise\nBEGIN:DAYLIGHT\nDTSTART:20070311T020000\nRRULE:FREQ=YEARLY;BYMONTH=3;BYDAY=2SU\nTZNAME:MDT\nTZOFFSETFROM:-0700\nTZOFFSETTO:-0600\nEND:DAYLIGHT\nBEGIN:STANDARD\nDTSTART:20071104T020000\nRRULE:FREQ=YEARLY;BYMONTH=11;BYDAY=1SU\nTZNAME:MST\nTZOFFSETFROM:-0600\nTZOFFSETTO:-0700\nEND:STANDARD\nEND:VTIMEZONE\nBEGIN:VEVENT\nCREATED:20131109T200959Z\nDESCRIPTION:BLEH\nDTEND;TZID=America/Boise:20140208T190000\nDTSTAMP:20140204T140545Z\nDTSTART;TZID=America/Boise:20140208T160000\nLAST-MODIFIED:20140204T140544Z\nSEQUENCE:2\nSUMMARY:Bleh\nTRANSP:OPAQUE\nUID:ED657629-3902-4645-9A11-85D29C6439C8\nBEGIN:VALARM\nACTION:NONE\nTRIGGER;VALUE=DATE-TIME:19760401T005545Z\nEND:VALARM\nEND:VEVENT\nEND:VCALENDAR\n. As I look at this, I realize the above doesn't fall within the rage requested, but, going off of the CREATED field I have several:\nCREATED:20141212T230614Z\nCREATED:20141212T234321Z\nCREATED:20141215T142059Z\nCREATED:20150104T145107Z\nCREATED:20150104T145742Z\nCREATED:20150104T145859Z\nCREATED:20150104T150002Z\n. On Fri, 2015-04-03 at 16:33 -0700, Evert Pot wrote:\n\nThe CREATED field is not, and should not be taken into consideration\nfor that query. The rules around what is considered are extremely\nspecific.\nSo this doesn't sound like a bug to me.\n\u2014\nReply to this email directly or view it on GitHub.\n\nI was only using the CREATED field as an example...what field can I show\nhere to prove that I have calendar items within the date range\nrequested?  Thank you.\n. Ok....here's one that falls right in that requested range:\nBEGIN:VCALENDAR\nCALSCALE:GREGORIAN\nPRODID:-//Apple Inc.//iOS 8.1.3//EN\nVERSION:2.0\nBEGIN:VEVENT\nCLASS:PUBLIC\nCREATED:20150106T004126Z\nDESCRIPTION:redacted\nDTEND:20150207T160000\nDTSTAMP:20150204T142647Z\nDTSTART:20150207T134500\nLAST-MODIFIED:20150204T140534Z\nLOCATION:redacted\nSEQUENCE:7\nSUMMARY:redacted\nTRANSP:OPAQUE\nUID:20150104T145431Z-3342-1000-1758-105@iMac\nEND:VEVENT\nEND:VCALENDAR\n20150104T145431Z-3342-1000-1758-105_iMac-20150106T004126Z.ics\n5 |   1423060007 | 4e7f88ba31f2e5669f32f62dd04bba69 |   428 | VEVENT        |     1423341900 |    1423350000 |\nThank you.\n. I can confirm that after setting up a radicale server on a different machine I get completely different results.  Process:\nConfigure iCal on Yosemite to point to baikal server with user \"shared\"\nSync\nExport calendar to calendar.ics\nDelete calendar account on iCal\nConfigure iCal on Yosemite to point to radicale server with user \"shared\"\nImport calendar.ics into account\ncurl -u shared: -k --request REPORT --header \"Content-type: text/xml\" --data @report.xml  http://192.168.1.253/baikal/cal.php/calendars/shared/\n~~~ <?xml version=\"1.0\" encoding=\"utf-8\"?>\n~~~ \ncurl -u shared: -k --request REPORT --header \"Content-type: text/xml\" --data @report.xml  http://192.168.1.6:5232/shared/calendar.ics/\n~~~ <?xml version=\"1.0\"?>\n~~~ \n``` \n~~~    /shared/calendar.ics/1206E4A6-A00F-427D-9B7E-6C6B1B37E5C2.ics\n~~~    \n~~~      \n~~~        \"b7446cfb2d1c36edfd08661315a0c25a\"\n~~~      \n~~~      HTTP/1.1 200 OK\n~~~    \n~~~  \n~~~  \n~~~    /shared/calendar.ics/E0993BD2-0C1B-4393-9A03-269AEECC45C7.ics\n~~~    \n~~~      \n~~~        \"6bd75afa93dd47f1e577cc896f465832\"\n~~~      \n~~~      HTTP/1.1 200 OK\n~~~    \n~~~  \nThis continues on for a bit of time.  The report.xml file:\n~~~ <?xml version=\"1.0\" encoding=\"UTF-8\"?>\n~~~ \n~~~   \n~~~      \n~~~   \n~~~   \n~~~      \n~~~         \n~~~            \n~~~         \n~~~      \n~~~   \n~~~\nThank you.\n```\n. Any more thoughts on this, or anything else that I can provide?  Thank you.\n. If you mean how I added items to the Baikal database, that was used with multiple clients...iCal on OSX, Calendar app on IOS, and Evolution on Linux.  The entire request is posted above which is a combination of the curl -u shared: -k --request REPORT --header \"Content-type: text/xml\" --data @report.xml http://192.168.1.253/baikal/cal.php/calendars/shared/ and the report.xml.  I don't have a Depth:  1...would that be in the xml request, or http header?  Thank you.\n. Ok cool....I'll give that a go and report my finds.  Thanks for looking at this.\n. Gave that a go with:\ncurl -u shared: -k --request REPORT --header \"Content-type: text/xml\" --header \"Depth:  1\" --data @report.xml  http://192.168.1.253/baikal/cal.php/calendars/shared/\nAnd I get the exact same results as above...no change with that header.  Thank you.\n. Ok...I'll get that in later today...wish I could put attachments on this beast :(\n. Ya my day and Friday just got nuked...I'll upload data this weekend...thanks!\n. Ok...so here is the raw packet capture data....the only thing I've done is pretty up the xml.  Just so I'm understanding this, this request is saying \"show me anything you have from Dec 3rd 2014 to Mar 2nd 2016.  I'll include the single item in the next post.\n```\nREPORT /baikal/cal.php/calendars/shared/ HTTP/1.1\nAuthorization: Basic \nUser-Agent: curl/7.35.0\nHost: 192.168.1.253\nAccept: /\nContent-type: text/xml\nDepth:  1\nContent-Length: 426\nxml version=\"1.0\" encoding=\"UTF-8\"?\n\n\n\n\n\n\n\n\n\n\n\n\nHTTP/1.1 207 Multi-Status\nDate: Fri, 10 Apr 2015 01:53:37 GMT\nServer: Apache/2.4.7 (Ubuntu)\nX-Powered-By: PHP/5.5.9-1ubuntu4.7\nSet-Cookie: PHPSESSID=f5sol7ph0o0enoc31t54itmhn0; path=/; HttpOnly\nExpires: Thu, 19 Nov 1981 08:52:00 GMT\nCache-Control: no-store, no-cache, must-revalidate, post-check=0, pre-check=0\nPragma: no-cache\nVary: Brief,Prefer\nContent-Length: 187\nContent-Type: application/xml; charset=utf-8\nxml version=\"1.0\" encoding=\"utf-8\"?\n\n```\n. Here's a snippet from an initial setup using Yosemite 10.10.3 iCalendar which should show a calendar item in the above time-range:\n\n```\nPROPFIND /baikal/cal.php/calendars/shared/default/ HTTP/1.1\nHost: 192.168.1.253\nAccept: /\nBrief: t\nAuthorization: Basic \nAccept-Language: en-us\nAccept-Encoding: gzip, deflate\nContent-Type: text/xml\nContent-Length: 145\nDepth: 1\nConnection: keep-alive\nUser-Agent: Mac+OS+X/10.10.3 (14D131) CalendarAgent/316.1\nPrefer: return=minimal\nxml version=\"1.0\" encoding=\"UTF-8\"?\n\n\n\n\n\n\nHTTP/1.1 207 Multi-Status\nDate: Fri, 10 Apr 2015 01:37:38 GMT\nServer: Apache/2.4.7 (Ubuntu)\nX-Powered-By: PHP/5.5.9-1ubuntu4.7\nSet-Cookie: PHPSESSID=kbj53ql2o07dd658u39nd2td83; path=/; HttpOnly\nExpires: Thu, 19 Nov 1981 08:52:00 GMT\nCache-Control: no-store, no-cache, must-revalidate, post-check=0, pre-check=0\nPragma: no-cache\nVary: Brief,Prefer\nDAV: 1, 3, extended-mkcol, access-control, calendarserver-principal-property-search, calendar-access, calendar-proxy\nKeep-Alive: timeout=5, max=92\nConnection: Keep-Alive\nTransfer-Encoding: chunked\nContent-Type: application/xml; charset=utf-8\n\n```\nNext the propfind:\n```\nREPORT /baikal/cal.php/calendars/shared/default/ HTTP/1.1\nHost: 192.168.1.253\nContent-Type: text/xml\nAuthorization: Basic \nConnection: keep-alive\nAccept: /\nUser-Agent: Mac+OS+X/10.10.3 (14D131) CalendarAgent/316.1\nContent-Length: 6613\nAccept-Language: en-us\nAccept-Encoding: gzip, deflate\nxml version=\"1.0\" encoding=\"UTF-8\"?\n\n\n\n\n\n\n\n/baikal/cal.php/calendars/shared/default/20150401T000644Z-3964-1000-1766-194_iMac-20150401T000644Z.ics\n\n```\n\nfinally I hope this is the actual item:\nID:20150401T000644Z-3964-1000-1766-194@iMac\nDTSTAMP:20150331T014436Z\nDTSTART;TZID=/freeassociation.sourceforge.net/Tzfile/America/Boise:\n 20150428T181500\nDTEND;TZID=/freeassociation.sourceforge.net/Tzfile/America/Boise:\n 20150428T204500\nTRANSP:OPAQUE\nSEQUENCE:3\nSUMMARY:Baseball Game\nLOCATION:<redacted>\nCLASS:PUBLIC\nCREATED:20150401T000644Z\nLAST-MODIFIED:20150401T000644Z\nEND:VEVENT\nEND:VCALENDAR\nAnd finally:\nThis systems runs Ba\u00efkal 0.2.7, flat package\nThank you!\n. Awesome....let me know if you need anything else...thanks again.\n. That would be great...can you send me a private notification with a real live email and we'll set something up...thanks so much.\n. Evert did a GREAT job assisting...I do not believe this is an RFC issue with time-range so I'm going to close this.  Thanks so much.\n. Evert my friend!  Howdy :)  And LOL....this was an upgrade form a fully working 14.04 to 16.04.  I think I'm going to just start all over with the upgrade.  I'll close this out and then open a new one if I see the same thing..thank you!\n. And confirming that doing an in place upgrade from 14.04 to 16.04 completely destroys php so not a baikal issue..phpinfo(); shows nothing..YAY!\n. Also I have saved before and after snapshots as this was testing in a vm.  I also have this running in a production environment so please let me know what else I can provide.  Thank you.\n. Piece of cake...I'll try this after restoring my original Ubuntu 14.04/Baikal 0.2.7 setup.  I'll get that to you tomorrow...thanks Evert!\n. Ok this time the upgrade went fine...so I'm going to guess that the damaged php might have had an impact my last try.  Anyway here's my process:\ncd /var/www/html\nmv baikal baikal.orig\nsudo unzip baikal-0.4.6.zip\ncd baikal\nsudo mv Specific Specific.orig\ncd ../baikal.orig\nsudo cp -R Specific ../baikal/\ncd ..\nsudo chown -R www-data:www-data baikal\nI will most likely do a mysqldump when I do the upgrade in production.  At this point I'mma close this ticket out..thanks Evert!\n. Awesome...thank you.. Well....hrmm.  The process above is really what I did.  I took the 0.2.7 msql dump and imported it into a new 0.4.6 instance.  . Looks like I might just want to copy the entire 0.2.7 dir, dump the db, then copy them both to the new machine and follow the upgrade process...I'll give that a shot and report my findings.  Thank you.. So all I did was:\n~~~\ndrop the db on the new machine\ncopy the entire baikal dir from the old machine to the new machine\ndump the db on the old machine to baikal.sql\ncreate a new db called baikal on the new machine\nimport baikal.sql\nextracted new baikal zip\ncopied everything over but the Specific dir\nwent to the baikal admin page\n~~~\nNo more issues.  Thank you.. On 2015-04-03 10:43 AM, Evert Pot wrote: \n\nCould you reformat your\nxml samples? I can't see many of the important details. \n\nReply\nto this email directly or view it on GitHub [1].\n\nAh sorry about\nthat...looks like my copy/paste get nailed. Here's a better version:\nREPORT\n/baikal/cal.php/calendars/shared/72F55019-0786-493A-B254-6886B574CD62/\nHTTP/1.1 \n Host: 192.168.1.253 \n Accept-Encoding: identity \nContent-Length: 328 \n Connection: close \n Content-Type:\ntext/xml;charset=utf-8 \n depth: 1 \n authorization: Basic  \nUser-Agent: RIM \n<?xml version=\"1.0\"\nencoding=\"UTF-8\"?>\n\n ns1:prop\n\n /ns1:prop\n ns0:filter\n \n\n\n /ns0:comp-filter\n/ns0:comp-filter\n /ns0:filter\n/ns0:calendar-query\nHTTP/1.1 207\nMulti-Status \n Date: Tue, 03 Mar 2015 02:52:58 GMT \n Server:\nApache/2.4.7 (Ubuntu) \n X-Powered-By: PHP/5.5.9-1ubuntu4.6 \n Set-Cookie:\nPHPSESSID=k0js7ah02vkr9rsda6586bpvr3; path=/; HttpOnly \n Expires: Thu,\n19 Nov 1981 08:52:00 GMT \n Cache-Control: no-store, no-cache,\nmust-revalidate, post-check=0, pre-check=0 \n Pragma: no-cache \n Vary:\nBrief,Prefer \n Content-Length: 187 \n Connection: close \n Content-Type:\napplication/xml; charset=utf-8 \n<?xml version=\"1.0\"\nencoding=\"UTF-8\"?>\n \nThank you. \nLinks:\n[1]\nhttps://github.com/netgusto/Baikal/issues/360#issuecomment-89348544\n. Oh yes...I have an amount of reoccurring event's that happen every month.  Is there a...propfind command or something I can use to look for anything in a time range?  I've been using:\nns0:propfind xmlns:ns0=\"DAV:\">'\n   ns0:prop>'\n        ns0:current-user-principal />'\n  /ns0:prop>'\n/ns0:propfind>'\nBut nothing date specific shows up.  I'm not a programmer, so yea...I'm using curl to get information, so be gentle :)  Thank you so much for looking at this.\nUPDATE:  XML in here is hard ;)\n. Thanks Evert....I've got shell access to the box and root mysql...is there a couple commands I can run to get the data you'd like to see?\n. Ok...here's a calendarobject...retrieved raw from mysql:\n| 8CA34D77-9FF6-437C-B21D-A90AB903E2EB.ics                                                                                              |          5 |   1392041096 | cf9570e947183dbebdd48431a63a74e5 |   858 | VEVENT        |     1392332400 |    1392595200 |\n|  42 | BEGIN:VCALENDAR\nCALSCALE:GREGORIAN\nPRODID:-//Apple Inc.//iOS 6.1//EN\nVERSION:2.0\nBEGIN:VTIMEZONE\nTZID:America/Boise\nBEGIN:DAYLIGHT\nDTSTART:20070311T020000\nRRULE:FREQ=YEARLY;BYMONTH=3;BYDAY=2SU\nTZNAME:MDT\nTZOFFSETFROM:-0700\nTZOFFSETTO:-0600\nEND:DAYLIGHT\nBEGIN:STANDARD\nDTSTART:20071104T020000\nRRULE:FREQ=YEARLY;BYMONTH=11;BYDAY=1SU\nTZNAME:MST\nTZOFFSETFROM:-0600\nTZOFFSETTO:-0700\nEND:STANDARD\nEND:VTIMEZONE\nBEGIN:VEVENT\nCREATED:20131109T200959Z\nDESCRIPTION:BLEH\nDTEND;TZID=America/Boise:20140208T190000\nDTSTAMP:20140204T140545Z\nDTSTART;TZID=America/Boise:20140208T160000\nLAST-MODIFIED:20140204T140544Z\nSEQUENCE:2\nSUMMARY:Bleh\nTRANSP:OPAQUE\nUID:ED657629-3902-4645-9A11-85D29C6439C8\nBEGIN:VALARM\nACTION:NONE\nTRIGGER;VALUE=DATE-TIME:19760401T005545Z\nEND:VALARM\nEND:VEVENT\nEND:VCALENDAR\n. As I look at this, I realize the above doesn't fall within the rage requested, but, going off of the CREATED field I have several:\nCREATED:20141212T230614Z\nCREATED:20141212T234321Z\nCREATED:20141215T142059Z\nCREATED:20150104T145107Z\nCREATED:20150104T145742Z\nCREATED:20150104T145859Z\nCREATED:20150104T150002Z\n. On Fri, 2015-04-03 at 16:33 -0700, Evert Pot wrote:\n\nThe CREATED field is not, and should not be taken into consideration\nfor that query. The rules around what is considered are extremely\nspecific.\nSo this doesn't sound like a bug to me.\n\u2014\nReply to this email directly or view it on GitHub.\n\nI was only using the CREATED field as an example...what field can I show\nhere to prove that I have calendar items within the date range\nrequested?  Thank you.\n. Ok....here's one that falls right in that requested range:\nBEGIN:VCALENDAR\nCALSCALE:GREGORIAN\nPRODID:-//Apple Inc.//iOS 8.1.3//EN\nVERSION:2.0\nBEGIN:VEVENT\nCLASS:PUBLIC\nCREATED:20150106T004126Z\nDESCRIPTION:redacted\nDTEND:20150207T160000\nDTSTAMP:20150204T142647Z\nDTSTART:20150207T134500\nLAST-MODIFIED:20150204T140534Z\nLOCATION:redacted\nSEQUENCE:7\nSUMMARY:redacted\nTRANSP:OPAQUE\nUID:20150104T145431Z-3342-1000-1758-105@iMac\nEND:VEVENT\nEND:VCALENDAR\n20150104T145431Z-3342-1000-1758-105_iMac-20150106T004126Z.ics\n5 |   1423060007 | 4e7f88ba31f2e5669f32f62dd04bba69 |   428 | VEVENT        |     1423341900 |    1423350000 |\nThank you.\n. I can confirm that after setting up a radicale server on a different machine I get completely different results.  Process:\nConfigure iCal on Yosemite to point to baikal server with user \"shared\"\nSync\nExport calendar to calendar.ics\nDelete calendar account on iCal\nConfigure iCal on Yosemite to point to radicale server with user \"shared\"\nImport calendar.ics into account\ncurl -u shared: -k --request REPORT --header \"Content-type: text/xml\" --data @report.xml  http://192.168.1.253/baikal/cal.php/calendars/shared/\n~~~ <?xml version=\"1.0\" encoding=\"utf-8\"?>\n~~~ \ncurl -u shared: -k --request REPORT --header \"Content-type: text/xml\" --data @report.xml  http://192.168.1.6:5232/shared/calendar.ics/\n~~~ <?xml version=\"1.0\"?>\n~~~ \n``` \n~~~    /shared/calendar.ics/1206E4A6-A00F-427D-9B7E-6C6B1B37E5C2.ics\n~~~    \n~~~      \n~~~        \"b7446cfb2d1c36edfd08661315a0c25a\"\n~~~      \n~~~      HTTP/1.1 200 OK\n~~~    \n~~~  \n~~~  \n~~~    /shared/calendar.ics/E0993BD2-0C1B-4393-9A03-269AEECC45C7.ics\n~~~    \n~~~      \n~~~        \"6bd75afa93dd47f1e577cc896f465832\"\n~~~      \n~~~      HTTP/1.1 200 OK\n~~~    \n~~~  \nThis continues on for a bit of time.  The report.xml file:\n~~~ <?xml version=\"1.0\" encoding=\"UTF-8\"?>\n~~~ \n~~~   \n~~~      \n~~~   \n~~~   \n~~~      \n~~~         \n~~~            \n~~~         \n~~~      \n~~~   \n~~~\nThank you.\n```\n. Any more thoughts on this, or anything else that I can provide?  Thank you.\n. If you mean how I added items to the Baikal database, that was used with multiple clients...iCal on OSX, Calendar app on IOS, and Evolution on Linux.  The entire request is posted above which is a combination of the curl -u shared: -k --request REPORT --header \"Content-type: text/xml\" --data @report.xml http://192.168.1.253/baikal/cal.php/calendars/shared/ and the report.xml.  I don't have a Depth:  1...would that be in the xml request, or http header?  Thank you.\n. Ok cool....I'll give that a go and report my finds.  Thanks for looking at this.\n. Gave that a go with:\ncurl -u shared: -k --request REPORT --header \"Content-type: text/xml\" --header \"Depth:  1\" --data @report.xml  http://192.168.1.253/baikal/cal.php/calendars/shared/\nAnd I get the exact same results as above...no change with that header.  Thank you.\n. Ok...I'll get that in later today...wish I could put attachments on this beast :(\n. Ya my day and Friday just got nuked...I'll upload data this weekend...thanks!\n. Ok...so here is the raw packet capture data....the only thing I've done is pretty up the xml.  Just so I'm understanding this, this request is saying \"show me anything you have from Dec 3rd 2014 to Mar 2nd 2016.  I'll include the single item in the next post.\n```\nREPORT /baikal/cal.php/calendars/shared/ HTTP/1.1\nAuthorization: Basic \nUser-Agent: curl/7.35.0\nHost: 192.168.1.253\nAccept: /\nContent-type: text/xml\nDepth:  1\nContent-Length: 426\nxml version=\"1.0\" encoding=\"UTF-8\"?\n\n\n\n\n\n\n\n\n\n\n\n\nHTTP/1.1 207 Multi-Status\nDate: Fri, 10 Apr 2015 01:53:37 GMT\nServer: Apache/2.4.7 (Ubuntu)\nX-Powered-By: PHP/5.5.9-1ubuntu4.7\nSet-Cookie: PHPSESSID=f5sol7ph0o0enoc31t54itmhn0; path=/; HttpOnly\nExpires: Thu, 19 Nov 1981 08:52:00 GMT\nCache-Control: no-store, no-cache, must-revalidate, post-check=0, pre-check=0\nPragma: no-cache\nVary: Brief,Prefer\nContent-Length: 187\nContent-Type: application/xml; charset=utf-8\nxml version=\"1.0\" encoding=\"utf-8\"?\n\n```\n. Here's a snippet from an initial setup using Yosemite 10.10.3 iCalendar which should show a calendar item in the above time-range:\n\n```\nPROPFIND /baikal/cal.php/calendars/shared/default/ HTTP/1.1\nHost: 192.168.1.253\nAccept: /\nBrief: t\nAuthorization: Basic \nAccept-Language: en-us\nAccept-Encoding: gzip, deflate\nContent-Type: text/xml\nContent-Length: 145\nDepth: 1\nConnection: keep-alive\nUser-Agent: Mac+OS+X/10.10.3 (14D131) CalendarAgent/316.1\nPrefer: return=minimal\nxml version=\"1.0\" encoding=\"UTF-8\"?\n\n\n\n\n\n\nHTTP/1.1 207 Multi-Status\nDate: Fri, 10 Apr 2015 01:37:38 GMT\nServer: Apache/2.4.7 (Ubuntu)\nX-Powered-By: PHP/5.5.9-1ubuntu4.7\nSet-Cookie: PHPSESSID=kbj53ql2o07dd658u39nd2td83; path=/; HttpOnly\nExpires: Thu, 19 Nov 1981 08:52:00 GMT\nCache-Control: no-store, no-cache, must-revalidate, post-check=0, pre-check=0\nPragma: no-cache\nVary: Brief,Prefer\nDAV: 1, 3, extended-mkcol, access-control, calendarserver-principal-property-search, calendar-access, calendar-proxy\nKeep-Alive: timeout=5, max=92\nConnection: Keep-Alive\nTransfer-Encoding: chunked\nContent-Type: application/xml; charset=utf-8\n\n```\nNext the propfind:\n```\nREPORT /baikal/cal.php/calendars/shared/default/ HTTP/1.1\nHost: 192.168.1.253\nContent-Type: text/xml\nAuthorization: Basic \nConnection: keep-alive\nAccept: /\nUser-Agent: Mac+OS+X/10.10.3 (14D131) CalendarAgent/316.1\nContent-Length: 6613\nAccept-Language: en-us\nAccept-Encoding: gzip, deflate\nxml version=\"1.0\" encoding=\"UTF-8\"?\n\n\n\n\n\n\n\n/baikal/cal.php/calendars/shared/default/20150401T000644Z-3964-1000-1766-194_iMac-20150401T000644Z.ics\n\n```\n\nfinally I hope this is the actual item:\nID:20150401T000644Z-3964-1000-1766-194@iMac\nDTSTAMP:20150331T014436Z\nDTSTART;TZID=/freeassociation.sourceforge.net/Tzfile/America/Boise:\n 20150428T181500\nDTEND;TZID=/freeassociation.sourceforge.net/Tzfile/America/Boise:\n 20150428T204500\nTRANSP:OPAQUE\nSEQUENCE:3\nSUMMARY:Baseball Game\nLOCATION:<redacted>\nCLASS:PUBLIC\nCREATED:20150401T000644Z\nLAST-MODIFIED:20150401T000644Z\nEND:VEVENT\nEND:VCALENDAR\nAnd finally:\nThis systems runs Ba\u00efkal 0.2.7, flat package\nThank you!\n. Awesome....let me know if you need anything else...thanks again.\n. That would be great...can you send me a private notification with a real live email and we'll set something up...thanks so much.\n. Evert did a GREAT job assisting...I do not believe this is an RFC issue with time-range so I'm going to close this.  Thanks so much.\n. Evert my friend!  Howdy :)  And LOL....this was an upgrade form a fully working 14.04 to 16.04.  I think I'm going to just start all over with the upgrade.  I'll close this out and then open a new one if I see the same thing..thank you!\n. And confirming that doing an in place upgrade from 14.04 to 16.04 completely destroys php so not a baikal issue..phpinfo(); shows nothing..YAY!\n. Also I have saved before and after snapshots as this was testing in a vm.  I also have this running in a production environment so please let me know what else I can provide.  Thank you.\n. Piece of cake...I'll try this after restoring my original Ubuntu 14.04/Baikal 0.2.7 setup.  I'll get that to you tomorrow...thanks Evert!\n. Ok this time the upgrade went fine...so I'm going to guess that the damaged php might have had an impact my last try.  Anyway here's my process:\ncd /var/www/html\nmv baikal baikal.orig\nsudo unzip baikal-0.4.6.zip\ncd baikal\nsudo mv Specific Specific.orig\ncd ../baikal.orig\nsudo cp -R Specific ../baikal/\ncd ..\nsudo chown -R www-data:www-data baikal\nI will most likely do a mysqldump when I do the upgrade in production.  At this point I'mma close this ticket out..thanks Evert!\n. Awesome...thank you.. Well....hrmm.  The process above is really what I did.  I took the 0.2.7 msql dump and imported it into a new 0.4.6 instance.  . Looks like I might just want to copy the entire 0.2.7 dir, dump the db, then copy them both to the new machine and follow the upgrade process...I'll give that a shot and report my findings.  Thank you.. So all I did was:\n~~~\ndrop the db on the new machine\ncopy the entire baikal dir from the old machine to the new machine\ndump the db on the old machine to baikal.sql\ncreate a new db called baikal on the new machine\nimport baikal.sql\nextracted new baikal zip\ncopied everything over but the Specific dir\nwent to the baikal admin page\n~~~\nNo more issues.  Thank you.. ",
    "fberke": "Hello,\nI am also unable to get Baikal to run with NGINX. I have tried both, the flat package in a subdirectory, and the regular package on a subdomain. With both, I get the calendar to work with almost no effort, but the addressbooks insist on giving me a 404 during PROPFIND.\nI am using the current mainline version of NGINX, which I compile myself on my RPi running Raspbian. The connection to my server is SSL-secured, but I've tried with an unsecured http connection as well, and the error persists.\nWhat's driving me mad is that with Apache it worked just out of the box - I have tried that some time ago with a Ubuntu Server 12.04 in VirtualBox. So I suspect, that it is a configuration issue with NGINX, but after having tried numerous solutions an how-tos I found on the web, I am stuck.\nHere's my 'nginx -V':\nnginx version: nginx/1.9.1\nbuilt by gcc 4.6.3 (Debian 4.6.3-14+rpi1) \nbuilt with OpenSSL 1.0.1e 11 Feb 2013\nTLS SNI support enabled\nconfigure arguments:\n --with-cc-opt='-I /home/pi/build/staticlibssl/include -I/usr/include'\n --with-ld-opt='-L /home/pi/build/staticlibssl/lib -Wl,-rpath -lssl -lcrypto -ldl -lz'\n --sbin-path=/usr/sbin/nginx\n --conf-path=/etc/nginx/nginx.conf\n --pid-path=/var/run/nginx.pid\n --error-log-path=/var/log/nginx/error.log\n --http-log-path=/var/log/nginx/access.log\n --with-pcre=/home/pi/build/pcre-8.36\n --with-http_ssl_module\n --with-http_spdy_module\n --with-http_dav_module\n --add-module=/home/pi/build/nginx-dav-ext-module-master\n --with-file-aio\n --with-ipv6\n --with-http_gzip_static_module\n --with-http_stub_status_module\n --with-http_geoip_module\n --with-http_realip_module\n --with-http_sub_module\n --with-debug\n --without-mail_pop3_module\n --without-mail_smtp_module\n --without-mail_imap_module\nHere's my nginx baikal config file:\n```\nserver {\n    listen       443 ssl;\n    server_name  sub.domain.tld;\n# New StartSSL verified key\n    ssl_certificate /etc/ssl/certs/unified.crt;\n    ssl_certificate_key /etc/ssl/certs/my-private-decrypted.key;\n\n\nroot  /var/www/baikal/html;\nindex index.php;\n\ndav_methods     PUT DELETE MKCOL COPY MOVE;\n    dav_ext_methods PROPFIND OPTIONS;\n\nrewrite ^/.well-known/caldav /cal.php redirect;\nrewrite ^/.well-known/carddav /card.php redirect;\n\ncharset utf-8;\n\nlocation ~ /(\\.ht|Core|Specific) {\n    deny all;\n    return 404;\n}\n\nlocation ~ [^/].php(/|$) {\n                fastcgi_split_path_info ^(.+?.php)(/.*)$;\n                if (!-f $document_root$fastcgi_script_name) {\n                        return 404;\n                }\n        fastcgi_pass php;\n        fastcgi_index index.php;\n                include fastcgi_params;\n        }\nerror_page   500 502 503 504  /50x.html;\n    location = /50x.html {\n        root   /var/www/nginx-default;\n    }\n}\nserver {\n        listen                  80;\n        server_name             sub.domain.tld;\n        return                  301 https://sub.domain.tld$request_uri;\n}\n```\nHere's the nginx access.log output:\n100.200.100.200 - fberke [12/Jun/2015:12:15:05 +0200] \"PROPFIND /card.php/addressbooks/fberke/privat/ HTTP/1.1\" 404 313 \"-\" \"Mozilla/5.0 (X11; Linux x86_64; rv:31.0) Gecko/20100101 Thunderbird/31.7.0 Lightning/3.3.2\"\nAnd here's nginx' error.log on debug level:\nhttps://gist.github.com/fberke/f09cbac87c69bca7ab37\n. Hi @evert ,\nindeed, the error.log contains lots of entries:\n```\n2016/03/02 21:13:50 [error] 2345#0: 1258 FastCGI sent in stderr: \"PHP message: PHP Fatal error:  Class 'DateTimeImmutable' not found in /var/www/baikal/vendor/sabre/vobject/lib/DateTimeParser.php on line 46\" while reading response header from upstream, client: 92.205.63.000, server: server.tld, request: \"PUT /baikal/html/cal.php/calendars/fberke/privat/ec7164d5-c6ae-46d0-8c40-325dd15ca012.ics HTTP/2.0\", upstream: \"fastcgi://unix:/var/run/php5-fpm.sock:\", host: \"server.tld\"\n2016/03/02 21:13:53 [error] 2345#0: 1258 FastCGI sent in stderr: \"PHP message: PHP Fatal error:  Class 'DateTimeImmutable' not found in /var/www/baikal/vendor/sabre/vobject/lib/DateTimeParser.php on line 46\" while reading response header from upstream, client: 92.205.63.000, server: server.tld, request: \"PUT /baikal/html/cal.php/calendars/fberke/privat/ec7164d5-c6ae-46d0-8c40-325dd15ca012.ics HTTP/2.0\", upstream: \"fastcgi://unix:/var/run/php5-fpm.sock:\", host: \"server.tld\"\n2016/03/02 21:13:55 [error] 2345#0: 1258 FastCGI sent in stderr: \"PHP message: PHP Fatal error:  Class 'DateTimeImmutable' not found in /var/www/baikal/vendor/sabre/vobject/lib/DateTimeParser.php on line 46\" while reading response header from upstream, client: 92.205.63.000, server: server.tld, request: \"PUT /baikal/html/cal.php/calendars/fberke/privat/ec7164d5-c6ae-46d0-8c40-325dd15ca012.ics HTTP/2.0\", upstream: \"fastcgi://unix:/var/run/php5-fpm.sock:\", host: \"server.tld\"\n2016/03/02 21:15:36 [alert] 2344#0: 1277 zero size buf in output t:0 r:0 f:1 00000000 00000000-00000000 02085FB0 0-0 while sending request to upstream, client: 92.205.63.000, server: server.tld, request: \"OPTIONS /bkl/html/dav.php/calendars/fronk/ HTTP/2.0\", upstream: \"fastcgi://unix:/var/run/php5-fpm.sock:\", host: \"server.tld\"\n2016/03/02 21:15:36 [alert] 2344#0: 1277 zero size buf in output t:0 r:0 f:1 00000000 00000000-00000000 02088000 0-0 while sending request to upstream, client: 92.205.63.000, server: server.tld, request: \"OPTIONS /baikal/html/cal.php/calendars/fberke/ HTTP/2.0\", upstream: \"fastcgi://unix:/var/run/php5-fpm.sock:\", host: \"server.tld\"\n2016/03/02 21:15:36 [alert] 2344#0: 1277 zero size buf in output t:0 r:0 f:1 00000000 00000000-00000000 020860D0 0-0 while sending request to upstream, client: 92.205.63.000, server: server.tld, request: \"OPTIONS /bkl/html/dav.php/calendars/fronk/ HTTP/2.0\", upstream: \"fastcgi://unix:/var/run/php5-fpm.sock:\", host: \"server.tld\"\n2016/03/02 21:15:36 [alert] 2344#0: 1277 zero size buf in output t:0 r:0 f:1 00000000 00000000-00000000 02088040 0-0 while sending request to upstream, client: 92.205.63.000, server: server.tld, request: \"OPTIONS /baikal/html/cal.php/calendars/fberke/ HTTP/2.0\", upstream: \"fastcgi://unix:/var/run/php5-fpm.sock:\", host: \"server.tld\"\n2016/03/02 21:15:36 [alert] 2344#0: 1277 zero size buf in output t:0 r:0 f:1 00000000 00000000-00000000 020860E0 0-0 while sending request to upstream, client: 92.205.63.000, server: server.tld, request: \"OPTIONS /bkl/html/dav.php/calendars/fronk/default/ HTTP/2.0\", upstream: \"fastcgi://unix:/var/run/php5-fpm.sock:\", host: \"server.tld\"\n2016/03/02 21:16:17 [error] 2344#0: 1277 FastCGI sent in stderr: \"PHP message: PHP Fatal error:  Class 'DateTimeImmutable' not found in /var/www/baikal/vendor/sabre/vobject/lib/DateTimeParser.php on line 46\" while reading response header from upstream, client: 92.205.63.000, server: server.tld, request: \"PUT /baikal/html/cal.php/calendars/fberke/privat/ec7164d5-c6ae-46d0-8c40-325dd15ca012.ics HTTP/2.0\", upstream: \"fastcgi://unix:/var/run/php5-fpm.sock:\", host: \"server.tld\"\n2016/03/02 21:16:20 [error] 2344#0: 1277 FastCGI sent in stderr: \"PHP message: PHP Fatal error:  Class 'DateTimeImmutable' not found in /var/www/baikal/vendor/sabre/vobject/lib/DateTimeParser.php on line 46\" while reading response header from upstream, client: 92.205.63.000, server: server.tld, request: \"PUT /baikal/html/cal.php/calendars/fberke/privat/ec7164d5-c6ae-46d0-8c40-325dd15ca012.ics HTTP/2.0\", upstream: \"fastcgi://unix:/var/run/php5-fpm.sock:\", host: \"server.tld\"\n2016/03/02 21:16:56 [error] 2344#0: 1277 FastCGI sent in stderr: \"PHP message: PHP Fatal error:  Class 'DateTimeImmutable' not found in /var/www/baikal/vendor/sabre/vobject/lib/DateTimeParser.php on line 46\" while reading response header from upstream, client: 92.205.63.000, server: server.tld, request: \"PUT /baikal/html/cal.php/calendars/fberke/privat/c57a1296-d13a-4172-9180-d9f63e343199.ics HTTP/2.0\", upstream: \"fastcgi://unix:/var/run/php5-fpm.sock:\", host: \"server.tld\"\n2016/03/02 21:17:33 [error] 2344#0: 1277 FastCGI sent in stderr: \"PHP message: PHP Fatal error:  Class 'DateTimeImmutable' not found in /var/www/bkl/vendor/sabre/vobject/lib/DateTimeParser.php on line 46\" while reading response header from upstream, client: 92.205.63.000, server: server.tld, request: \"PUT /bkl/html/dav.php/calendars/fronk/default/75145220-8d00-49dc-a302-bcfb22fafd33.ics HTTP/2.0\", upstream: \"fastcgi://unix:/var/run/php5-fpm.sock:\", host: \"server.tld\"\n2016/03/02 21:45:25 [alert] 2344#0: 1305 zero size buf in output t:0 r:0 f:1 00000000 00000000-00000000 02088100 0-0 while sending request to upstream, client: 92.205.63.000, server: server.tld, request: \"OPTIONS /bkl/html/dav.php/calendars/fronk/default/ HTTP/2.0\", upstream: \"fastcgi://unix:/var/run/php5-fpm.sock:\", host: \"server.tld\"\n2016/03/02 21:45:25 [alert] 2344#0: 1305 zero size buf in output t:0 r:0 f:1 00000000 00000000-00000000 02088120 0-0 while sending request to upstream, client: 92.205.63.000, server: server.tld, request: \"OPTIONS /bkl/html/dav.php/calendars/fronk/ HTTP/2.0\", upstream: \"fastcgi://unix:/var/run/php5-fpm.sock:\", host: \"server.tld\"\n2016/03/02 21:45:25 [alert] 2344#0: 1305 zero size buf in output t:0 r:0 f:1 00000000 00000000-00000000 02088130 0-0 while sending request to upstream, client: 92.205.63.000, server: server.tld, request: \"OPTIONS /bkl/html/dav.php/calendars/fronk/default/ HTTP/2.0\", upstream: \"fastcgi://unix:/var/run/php5-fpm.sock:\", host: \"server.tld\"\n2016/03/02 21:45:26 [alert] 2344#0: 1305 zero size buf in output t:0 r:0 f:1 00000000 00000000-00000000 02088040 0-0 while sending request to upstream, client: 92.205.63.000, server: server.tld, request: \"OPTIONS /baikal/html/cal.php/calendars/fberke/ HTTP/2.0\", upstream: \"fastcgi://unix:/var/run/php5-fpm.sock:\", host: \"server.tld\"\n```\n. That's correct indeed: PHP Version 5.4.45-0+deb7u2\n. Hello,\nI am also unable to get Baikal to run with NGINX. I have tried both, the flat package in a subdirectory, and the regular package on a subdomain. With both, I get the calendar to work with almost no effort, but the addressbooks insist on giving me a 404 during PROPFIND.\nI am using the current mainline version of NGINX, which I compile myself on my RPi running Raspbian. The connection to my server is SSL-secured, but I've tried with an unsecured http connection as well, and the error persists.\nWhat's driving me mad is that with Apache it worked just out of the box - I have tried that some time ago with a Ubuntu Server 12.04 in VirtualBox. So I suspect, that it is a configuration issue with NGINX, but after having tried numerous solutions an how-tos I found on the web, I am stuck.\nHere's my 'nginx -V':\nnginx version: nginx/1.9.1\nbuilt by gcc 4.6.3 (Debian 4.6.3-14+rpi1) \nbuilt with OpenSSL 1.0.1e 11 Feb 2013\nTLS SNI support enabled\nconfigure arguments:\n --with-cc-opt='-I /home/pi/build/staticlibssl/include -I/usr/include'\n --with-ld-opt='-L /home/pi/build/staticlibssl/lib -Wl,-rpath -lssl -lcrypto -ldl -lz'\n --sbin-path=/usr/sbin/nginx\n --conf-path=/etc/nginx/nginx.conf\n --pid-path=/var/run/nginx.pid\n --error-log-path=/var/log/nginx/error.log\n --http-log-path=/var/log/nginx/access.log\n --with-pcre=/home/pi/build/pcre-8.36\n --with-http_ssl_module\n --with-http_spdy_module\n --with-http_dav_module\n --add-module=/home/pi/build/nginx-dav-ext-module-master\n --with-file-aio\n --with-ipv6\n --with-http_gzip_static_module\n --with-http_stub_status_module\n --with-http_geoip_module\n --with-http_realip_module\n --with-http_sub_module\n --with-debug\n --without-mail_pop3_module\n --without-mail_smtp_module\n --without-mail_imap_module\nHere's my nginx baikal config file:\n```\nserver {\n    listen       443 ssl;\n    server_name  sub.domain.tld;\n# New StartSSL verified key\n    ssl_certificate /etc/ssl/certs/unified.crt;\n    ssl_certificate_key /etc/ssl/certs/my-private-decrypted.key;\n\n\nroot  /var/www/baikal/html;\nindex index.php;\n\ndav_methods     PUT DELETE MKCOL COPY MOVE;\n    dav_ext_methods PROPFIND OPTIONS;\n\nrewrite ^/.well-known/caldav /cal.php redirect;\nrewrite ^/.well-known/carddav /card.php redirect;\n\ncharset utf-8;\n\nlocation ~ /(\\.ht|Core|Specific) {\n    deny all;\n    return 404;\n}\n\nlocation ~ [^/].php(/|$) {\n                fastcgi_split_path_info ^(.+?.php)(/.*)$;\n                if (!-f $document_root$fastcgi_script_name) {\n                        return 404;\n                }\n        fastcgi_pass php;\n        fastcgi_index index.php;\n                include fastcgi_params;\n        }\nerror_page   500 502 503 504  /50x.html;\n    location = /50x.html {\n        root   /var/www/nginx-default;\n    }\n}\nserver {\n        listen                  80;\n        server_name             sub.domain.tld;\n        return                  301 https://sub.domain.tld$request_uri;\n}\n```\nHere's the nginx access.log output:\n100.200.100.200 - fberke [12/Jun/2015:12:15:05 +0200] \"PROPFIND /card.php/addressbooks/fberke/privat/ HTTP/1.1\" 404 313 \"-\" \"Mozilla/5.0 (X11; Linux x86_64; rv:31.0) Gecko/20100101 Thunderbird/31.7.0 Lightning/3.3.2\"\nAnd here's nginx' error.log on debug level:\nhttps://gist.github.com/fberke/f09cbac87c69bca7ab37\n. Hi @evert ,\nindeed, the error.log contains lots of entries:\n```\n2016/03/02 21:13:50 [error] 2345#0: 1258 FastCGI sent in stderr: \"PHP message: PHP Fatal error:  Class 'DateTimeImmutable' not found in /var/www/baikal/vendor/sabre/vobject/lib/DateTimeParser.php on line 46\" while reading response header from upstream, client: 92.205.63.000, server: server.tld, request: \"PUT /baikal/html/cal.php/calendars/fberke/privat/ec7164d5-c6ae-46d0-8c40-325dd15ca012.ics HTTP/2.0\", upstream: \"fastcgi://unix:/var/run/php5-fpm.sock:\", host: \"server.tld\"\n2016/03/02 21:13:53 [error] 2345#0: 1258 FastCGI sent in stderr: \"PHP message: PHP Fatal error:  Class 'DateTimeImmutable' not found in /var/www/baikal/vendor/sabre/vobject/lib/DateTimeParser.php on line 46\" while reading response header from upstream, client: 92.205.63.000, server: server.tld, request: \"PUT /baikal/html/cal.php/calendars/fberke/privat/ec7164d5-c6ae-46d0-8c40-325dd15ca012.ics HTTP/2.0\", upstream: \"fastcgi://unix:/var/run/php5-fpm.sock:\", host: \"server.tld\"\n2016/03/02 21:13:55 [error] 2345#0: 1258 FastCGI sent in stderr: \"PHP message: PHP Fatal error:  Class 'DateTimeImmutable' not found in /var/www/baikal/vendor/sabre/vobject/lib/DateTimeParser.php on line 46\" while reading response header from upstream, client: 92.205.63.000, server: server.tld, request: \"PUT /baikal/html/cal.php/calendars/fberke/privat/ec7164d5-c6ae-46d0-8c40-325dd15ca012.ics HTTP/2.0\", upstream: \"fastcgi://unix:/var/run/php5-fpm.sock:\", host: \"server.tld\"\n2016/03/02 21:15:36 [alert] 2344#0: 1277 zero size buf in output t:0 r:0 f:1 00000000 00000000-00000000 02085FB0 0-0 while sending request to upstream, client: 92.205.63.000, server: server.tld, request: \"OPTIONS /bkl/html/dav.php/calendars/fronk/ HTTP/2.0\", upstream: \"fastcgi://unix:/var/run/php5-fpm.sock:\", host: \"server.tld\"\n2016/03/02 21:15:36 [alert] 2344#0: 1277 zero size buf in output t:0 r:0 f:1 00000000 00000000-00000000 02088000 0-0 while sending request to upstream, client: 92.205.63.000, server: server.tld, request: \"OPTIONS /baikal/html/cal.php/calendars/fberke/ HTTP/2.0\", upstream: \"fastcgi://unix:/var/run/php5-fpm.sock:\", host: \"server.tld\"\n2016/03/02 21:15:36 [alert] 2344#0: 1277 zero size buf in output t:0 r:0 f:1 00000000 00000000-00000000 020860D0 0-0 while sending request to upstream, client: 92.205.63.000, server: server.tld, request: \"OPTIONS /bkl/html/dav.php/calendars/fronk/ HTTP/2.0\", upstream: \"fastcgi://unix:/var/run/php5-fpm.sock:\", host: \"server.tld\"\n2016/03/02 21:15:36 [alert] 2344#0: 1277 zero size buf in output t:0 r:0 f:1 00000000 00000000-00000000 02088040 0-0 while sending request to upstream, client: 92.205.63.000, server: server.tld, request: \"OPTIONS /baikal/html/cal.php/calendars/fberke/ HTTP/2.0\", upstream: \"fastcgi://unix:/var/run/php5-fpm.sock:\", host: \"server.tld\"\n2016/03/02 21:15:36 [alert] 2344#0: 1277 zero size buf in output t:0 r:0 f:1 00000000 00000000-00000000 020860E0 0-0 while sending request to upstream, client: 92.205.63.000, server: server.tld, request: \"OPTIONS /bkl/html/dav.php/calendars/fronk/default/ HTTP/2.0\", upstream: \"fastcgi://unix:/var/run/php5-fpm.sock:\", host: \"server.tld\"\n2016/03/02 21:16:17 [error] 2344#0: 1277 FastCGI sent in stderr: \"PHP message: PHP Fatal error:  Class 'DateTimeImmutable' not found in /var/www/baikal/vendor/sabre/vobject/lib/DateTimeParser.php on line 46\" while reading response header from upstream, client: 92.205.63.000, server: server.tld, request: \"PUT /baikal/html/cal.php/calendars/fberke/privat/ec7164d5-c6ae-46d0-8c40-325dd15ca012.ics HTTP/2.0\", upstream: \"fastcgi://unix:/var/run/php5-fpm.sock:\", host: \"server.tld\"\n2016/03/02 21:16:20 [error] 2344#0: 1277 FastCGI sent in stderr: \"PHP message: PHP Fatal error:  Class 'DateTimeImmutable' not found in /var/www/baikal/vendor/sabre/vobject/lib/DateTimeParser.php on line 46\" while reading response header from upstream, client: 92.205.63.000, server: server.tld, request: \"PUT /baikal/html/cal.php/calendars/fberke/privat/ec7164d5-c6ae-46d0-8c40-325dd15ca012.ics HTTP/2.0\", upstream: \"fastcgi://unix:/var/run/php5-fpm.sock:\", host: \"server.tld\"\n2016/03/02 21:16:56 [error] 2344#0: 1277 FastCGI sent in stderr: \"PHP message: PHP Fatal error:  Class 'DateTimeImmutable' not found in /var/www/baikal/vendor/sabre/vobject/lib/DateTimeParser.php on line 46\" while reading response header from upstream, client: 92.205.63.000, server: server.tld, request: \"PUT /baikal/html/cal.php/calendars/fberke/privat/c57a1296-d13a-4172-9180-d9f63e343199.ics HTTP/2.0\", upstream: \"fastcgi://unix:/var/run/php5-fpm.sock:\", host: \"server.tld\"\n2016/03/02 21:17:33 [error] 2344#0: 1277 FastCGI sent in stderr: \"PHP message: PHP Fatal error:  Class 'DateTimeImmutable' not found in /var/www/bkl/vendor/sabre/vobject/lib/DateTimeParser.php on line 46\" while reading response header from upstream, client: 92.205.63.000, server: server.tld, request: \"PUT /bkl/html/dav.php/calendars/fronk/default/75145220-8d00-49dc-a302-bcfb22fafd33.ics HTTP/2.0\", upstream: \"fastcgi://unix:/var/run/php5-fpm.sock:\", host: \"server.tld\"\n2016/03/02 21:45:25 [alert] 2344#0: 1305 zero size buf in output t:0 r:0 f:1 00000000 00000000-00000000 02088100 0-0 while sending request to upstream, client: 92.205.63.000, server: server.tld, request: \"OPTIONS /bkl/html/dav.php/calendars/fronk/default/ HTTP/2.0\", upstream: \"fastcgi://unix:/var/run/php5-fpm.sock:\", host: \"server.tld\"\n2016/03/02 21:45:25 [alert] 2344#0: 1305 zero size buf in output t:0 r:0 f:1 00000000 00000000-00000000 02088120 0-0 while sending request to upstream, client: 92.205.63.000, server: server.tld, request: \"OPTIONS /bkl/html/dav.php/calendars/fronk/ HTTP/2.0\", upstream: \"fastcgi://unix:/var/run/php5-fpm.sock:\", host: \"server.tld\"\n2016/03/02 21:45:25 [alert] 2344#0: 1305 zero size buf in output t:0 r:0 f:1 00000000 00000000-00000000 02088130 0-0 while sending request to upstream, client: 92.205.63.000, server: server.tld, request: \"OPTIONS /bkl/html/dav.php/calendars/fronk/default/ HTTP/2.0\", upstream: \"fastcgi://unix:/var/run/php5-fpm.sock:\", host: \"server.tld\"\n2016/03/02 21:45:26 [alert] 2344#0: 1305 zero size buf in output t:0 r:0 f:1 00000000 00000000-00000000 02088040 0-0 while sending request to upstream, client: 92.205.63.000, server: server.tld, request: \"OPTIONS /baikal/html/cal.php/calendars/fberke/ HTTP/2.0\", upstream: \"fastcgi://unix:/var/run/php5-fpm.sock:\", host: \"server.tld\"\n```\n. That's correct indeed: PHP Version 5.4.45-0+deb7u2\n. ",
    "spidernik84": "Hello, I'd like to chime in here.\nI'm in the very same situation, not being able to get baikal to work in a subdir with nginx.\nIs there a working, simple nginx configuration anyone can provide? I have no sufficient knowledge of nginx to reach a solution, unfortunately.\nThanks\n. > I have yet to try it but i don't think it will work, there is no dav.php as a file to pull data from...\nThe \"Server Path\" parameter needs to include \"html\" like this:\n/baikal/html/dav.php/principals/<user>/\nThis was the case for the default instructions. Your mileage may vary :)\n. Hello, I'd like to chime in here.\nI'm in the very same situation, not being able to get baikal to work in a subdir with nginx.\nIs there a working, simple nginx configuration anyone can provide? I have no sufficient knowledge of nginx to reach a solution, unfortunately.\nThanks\n. > I have yet to try it but i don't think it will work, there is no dav.php as a file to pull data from...\nThe \"Server Path\" parameter needs to include \"html\" like this:\n/baikal/html/dav.php/principals/<user>/\nThis was the case for the default instructions. Your mileage may vary :)\n. ",
    "atripes": "I had to compile nginx from source with --add-module=../nginx-dav-ext-module-master for PROPFIND to work as expected. Also php7.0 needs php7.0-mbstring to work on a fresh Ubuntu 16.10 install.\n. Hmm, I just tried it with disabled DAV modules and you are right. It works without the modules. \nI swear that my android CardDav Sync App did not connect (PROPFIND -> 405) and only did connect once I recompiled with the ext-dav addon...\n. Hmm, I had the Web View working without any problems. I was able to use the wizard to setup the clients, etc...\nI could not use the CardDav server because of other reasons (mbstring, mysqli). Once I got the CardDav server running, I suddenly got 404s for the .css and .png files. Same error as @jrozelle is having, though the solution does not work.\nAny tips on what rewrite rules might be involved, or how to fix this?\n. I had another look over the whole config, and it turned out I had faulty fastcgi_params. I fixed the path of those to  \ninclude        /usr/local/nginx/fastcgi_params;\nand now everything works!\n. I had to compile nginx from source with --add-module=../nginx-dav-ext-module-master for PROPFIND to work as expected. Also php7.0 needs php7.0-mbstring to work on a fresh Ubuntu 16.10 install.\n. Hmm, I just tried it with disabled DAV modules and you are right. It works without the modules. \nI swear that my android CardDav Sync App did not connect (PROPFIND -> 405) and only did connect once I recompiled with the ext-dav addon...\n. Hmm, I had the Web View working without any problems. I was able to use the wizard to setup the clients, etc...\nI could not use the CardDav server because of other reasons (mbstring, mysqli). Once I got the CardDav server running, I suddenly got 404s for the .css and .png files. Same error as @jrozelle is having, though the solution does not work.\nAny tips on what rewrite rules might be involved, or how to fix this?\n. I had another look over the whole config, and it turned out I had faulty fastcgi_params. I fixed the path of those to  \ninclude        /usr/local/nginx/fastcgi_params;\nand now everything works!\n. ",
    "3guk": "I get an error \"directory ./vendor/baikal/model-bundle/Baikal/ModelBundle/Entity does not exist\" when trying the fix mentioned above !\n. I get an error \"directory ./vendor/baikal/model-bundle/Baikal/ModelBundle/Entity does not exist\" when trying the fix mentioned above !\n. ",
    "subdee": "@3guk  You would have to run @RaSKoR 's commands after you run the composer command, and then rerun composer again to complete installation. \nThe reason is that the vendor folders have not been created yet until you run the composer.\n. @3guk  You would have to run @RaSKoR 's commands after you run the composer command, and then rerun composer again to complete installation. \nThe reason is that the vendor folders have not been created yet until you run the composer.\n. ",
    "cromulus": "Same here. this is the error on branch-2 when I push to heroku.\nremote:        Script Symfony\\BootCampBundle\\Composer\\ScriptHandler::install handling the post-install-cmd event terminated with an exception\nremote:\nremote:\nremote:\nremote:          [Doctrine\\Common\\Persistence\\Mapping\\MappingException]\nremote:          The class 'Baikal\\SystemBundle\\Entity\\User' was not found in the chain configured namespaces Symfony\\BootCampBundle\\Entity, Baikal\\ModelBundle\\Entity\nremote:\n. Same here. this is the error on branch-2 when I push to heroku.\nremote:        Script Symfony\\BootCampBundle\\Composer\\ScriptHandler::install handling the post-install-cmd event terminated with an exception\nremote:\nremote:\nremote:\nremote:          [Doctrine\\Common\\Persistence\\Mapping\\MappingException]\nremote:          The class 'Baikal\\SystemBundle\\Entity\\User' was not found in the chain configured namespaces Symfony\\BootCampBundle\\Entity, Baikal\\ModelBundle\\Entity\nremote:\n. ",
    "djmattyg007": "So people aren't allowed to test it?\n. Instead of saying \"This might break!\" (which they probably already know, surely it would be more useful to thank the person for their report, and say you'll investigate what the issue might be?\n. So people aren't allowed to test it?\n. Instead of saying \"This might break!\" (which they probably already know, surely it would be more useful to thank the person for their report, and say you'll investigate what the issue might be?\n. ",
    "perphilip": "I have the exact same issue, installed on a Debian 8 vm with nginx and get the same issue trying to connect from my Yosemite (10.10.x) and iOS (8.3) devices. The url http://server/cal.php gives me the same as above. If I put in the whole url http://server/cal.php/principals/user/ I get a 404.\n. I have the exact same issue, installed on a Debian 8 vm with nginx and get the same issue trying to connect from my Yosemite (10.10.x) and iOS (8.3) devices. The url http://server/cal.php gives me the same as above. If I put in the whole url http://server/cal.php/principals/user/ I get a 404.\n. ",
    "fredericsoler": "Hi @evert,\nThanks for your answer. \nIf that's not related, why do we both can't access to the caldav via Apple Mail & iOs Mail?\nThanks a lot\n. Hi, \nDoes somebody had this issue? \nCan someone helps? \nThanks\n. Hi @derwok,\nthanks for your answer. \nBut with or without the slash, it doesn't work by my side. \nDoes somebody at Baikal can help please?\n. Hi @evert,\nThanks for your answer. \nIf that's not related, why do we both can't access to the caldav via Apple Mail & iOs Mail?\nThanks a lot\n. Hi, \nDoes somebody had this issue? \nCan someone helps? \nThanks\n. Hi @derwok,\nthanks for your answer. \nBut with or without the slash, it doesn't work by my side. \nDoes somebody at Baikal can help please?\n. ",
    "derwok": "I'm using the predecessor version of Baikal ( http://baikal-server.com/ ).\nThere the URL for Yosemity and iOS is:\nhttp://www.myserver.com/baikalinstalldirectory/cal.php/principals/myuser\nNote: no slash at the end. If I add the slash, it does not work here...\n. Hi,\nI get the same error.\nThe php-sabre-dav should be included in baikal.zip (0.4.6) - see vendor/ sub dir.\nSo, my question is: @1977er  How did you install this missing dependency? And why was a webserver restart necessary? Did you follow one of these ways here? http://sabre.io/dav/install/ Did you install composer first? \nSorry for dumb questions - I'm not that deep into PHP.... Ah! OK. It was not missing php-sabre-dav - This is already inside the baikal ZIP!\nBut my underlying PHP7 installation was missing some dependencies...\nIn my case I could get rid of the error by installing these debian packages for Baikal:\nsudo apt-get -y install php7.0-fpm php7.0-sqlite3 php-xmlwriter php-dom php-mbstring \n@Maintainers: would it be possible that you list the PHP7 dependencies on your installtion pages?. I had the same issue.\n\n\nwith every broken migration step you have to complete replace the /Specific folder with the db content, because migration can not re-sync on a broken previous migration.\n\n\nWhile migration was in progress I got \"504 Gateway Timeout Error\" and migration stopped half way - even though I added \n to baikal/html/admin/install/index.php the line  ini_set('max_execution_time', 3000);like suggested above. But on top of that I had to follow the directions here: https://easyengine.io/tutorials/php/increase-script-execution-time/ and adapt my nginx config.\n\n\nHope this helps someone.. I'm using the predecessor version of Baikal ( http://baikal-server.com/ ).\nThere the URL for Yosemity and iOS is:\nhttp://www.myserver.com/baikalinstalldirectory/cal.php/principals/myuser\nNote: no slash at the end. If I add the slash, it does not work here...\n. Hi,\nI get the same error.\nThe php-sabre-dav should be included in baikal.zip (0.4.6) - see vendor/ sub dir.\nSo, my question is: @1977er  How did you install this missing dependency? And why was a webserver restart necessary? Did you follow one of these ways here? http://sabre.io/dav/install/ Did you install composer first? \nSorry for dumb questions - I'm not that deep into PHP.... Ah! OK. It was not missing php-sabre-dav - This is already inside the baikal ZIP!\nBut my underlying PHP7 installation was missing some dependencies...\nIn my case I could get rid of the error by installing these debian packages for Baikal:\nsudo apt-get -y install php7.0-fpm php7.0-sqlite3 php-xmlwriter php-dom php-mbstring \n@Maintainers: would it be possible that you list the PHP7 dependencies on your installtion pages?. I had the same issue.\n\n\nwith every broken migration step you have to complete replace the /Specific folder with the db content, because migration can not re-sync on a broken previous migration.\n\n\nWhile migration was in progress I got \"504 Gateway Timeout Error\" and migration stopped half way - even though I added \n to baikal/html/admin/install/index.php the line  ini_set('max_execution_time', 3000);like suggested above. But on top of that I had to follow the directions here: https://easyengine.io/tutorials/php/increase-script-execution-time/ and adapt my nginx config.\n\n\nHope this helps someone.. ",
    "fourxd": "hi shoeper,\nI know, 'NOT FOR PRODUCTION USE.' is described in readme :o)\nI only want to look, if the new version will run on my syno...\nbr Dieter\n. hi shoeper,\nI know, 'NOT FOR PRODUCTION USE.' is described in readme :o)\nI only want to look, if the new version will run on my syno...\nbr Dieter\n. ",
    "curtisbryant": "No, I haven't tried it. Where would I check the RewriteRules?\n. The .htaccess file in my Baikal root directory did not have a RewriteRule like that, so I have added the following lines:\n#Trying to enable access to my Windows Phone\n\n    RewriteEngine On\n    RewriteRule /baikal-flat/card.php/.well-known/carddav /baikal-flat/card.php [R,L]\n\n\n    RewriteEngine On\n    RewriteRule /baikal-flat/cal.php/.well-known/caldav /baikal-flat/cal.php [R,L]\n\nDoes this look right? It didn't seem to make any difference to my Windows phone.\nThe error code I get is 801901F5, which seems to mean an invalid URL. The URL I tried is https://www.mydomain.net/baikal/cal.php/principals/myusername. Does that seem plausible?\n. Should the RewriteRule paths be like this, then?\nRewriteRule /path/to/domain_root/baikal/cal.php/.well-known/caldav /path/to/domain_root/baikal/cal.php [R,L]\n. The rules have been shortened like this:\n    RewriteRule /baikal/cal.php/.well-known/caldav /baikal/cal.php \nbut my phone still can't access it. Is it enough to just change the .htaccess file, or do I have restart something? Also, I noticed there's an .htaccess file in the Specific directory. Would that need to be change?\n. Thanks! Yes, I used to access my Baikal calendar on an iPod Touch with the Apple Calendar app, but the iPod is now lost, and I was hoping to replace it with this phone. I also access Baikal on Windows PCs with Mozilla Thunderbird and the ReminderFox extension for Firefox. Except for setting it up on this Windows phone, I've been very happy with Baikal and want to keep using it. I'm using it for my personal calendar and love having my own calendar server.\n. Thanks, Tntdruid! I hadn't tried using dav.php/principals. This path worked for me on iOS 10:\nexample.com/baikal/html/dav.php/principals/myusername. No, I haven't tried it. Where would I check the RewriteRules?\n. The .htaccess file in my Baikal root directory did not have a RewriteRule like that, so I have added the following lines:\n#Trying to enable access to my Windows Phone\n\n    RewriteEngine On\n    RewriteRule /baikal-flat/card.php/.well-known/carddav /baikal-flat/card.php [R,L]\n\n\n    RewriteEngine On\n    RewriteRule /baikal-flat/cal.php/.well-known/caldav /baikal-flat/cal.php [R,L]\n\nDoes this look right? It didn't seem to make any difference to my Windows phone.\nThe error code I get is 801901F5, which seems to mean an invalid URL. The URL I tried is https://www.mydomain.net/baikal/cal.php/principals/myusername. Does that seem plausible?\n. Should the RewriteRule paths be like this, then?\nRewriteRule /path/to/domain_root/baikal/cal.php/.well-known/caldav /path/to/domain_root/baikal/cal.php [R,L]\n. The rules have been shortened like this:\n    RewriteRule /baikal/cal.php/.well-known/caldav /baikal/cal.php \nbut my phone still can't access it. Is it enough to just change the .htaccess file, or do I have restart something? Also, I noticed there's an .htaccess file in the Specific directory. Would that need to be change?\n. Thanks! Yes, I used to access my Baikal calendar on an iPod Touch with the Apple Calendar app, but the iPod is now lost, and I was hoping to replace it with this phone. I also access Baikal on Windows PCs with Mozilla Thunderbird and the ReminderFox extension for Firefox. Except for setting it up on this Windows phone, I've been very happy with Baikal and want to keep using it. I'm using it for my personal calendar and love having my own calendar server.\n. Thanks, Tntdruid! I hadn't tried using dav.php/principals. This path worked for me on iOS 10:\nexample.com/baikal/html/dav.php/principals/myusername. ",
    "archusr": "Works for me so far. Calendar and Contacts on Windows Phone 8.1 with Baikal 0.2.7. Remember to set Basic Auth in Baikal server.\n. Works for me so far. Calendar and Contacts on Windows Phone 8.1 with Baikal 0.2.7. Remember to set Basic Auth in Baikal server.\n. ",
    "samirdecima": "He managed to solve?\n. In the \"readme\" says that the password is \"password\", to me it did not work, have you tried it?\nPS: Baikal 2\n. He managed to solve?\n. In the \"readme\" says that the password is \"password\", to me it did not work, have you tried it?\nPS: Baikal 2\n. ",
    "jerry1970": "Nope, no change.\n. Nope, no change.\n. ",
    "opensource21": "Seems to me that the project is dead. No activity on baikal1 and no on branch2. What's going on? No new release date?\n. Seems to me that the project is dead. No activity on baikal1 and no on branch2. What's going on? No new release date?\n. ",
    "derneuegithubuser": "I have also problems getting the server running: \n[RuntimeException]\nAn error occurred when executing the \"'cache:clear --no-warmup'\" command.\nBut when i start the build-in php server i can access the web-fronted. Why i can just open the web-fronted when the build-in server is running why can't i open the site on my local apache server?\n. I have also problems getting the server running: \n[RuntimeException]\nAn error occurred when executing the \"'cache:clear --no-warmup'\" command.\nBut when i start the build-in php server i can access the web-fronted. Why i can just open the web-fronted when the build-in server is running why can't i open the site on my local apache server?\n. ",
    "a1ku": "Did you declared new FOS\\OAuthServerBundle\\FOSOAuthServerBundle() i AppKernel bundles?\n. Did you declared new FOS\\OAuthServerBundle\\FOSOAuthServerBundle() i AppKernel bundles?\n. ",
    "PhilDirty": "same other here\n. same other here\n. ",
    "llebegue": "My installation has not changed since then .... the error is still there\n. The curl statement was a way for me to reproduce the error. Of course my DAV client on Android or Evolution on Gnome makes requests to the server that are also failing.\nother_vhosts_access.log:my.server.com:443 89.92.172.41 - - [21/Jan/2016:19:47:56 +0100] \"OPTIONS /cal.php/calendars/bestuser/default/ HTTP/1.1\" 500 620 \"-\" \"Evolution/3.12.9\"\nother_vhosts_access.log:my.server.com:443 89.92.172.41 - - [21/Jan/2016:19:47:56 +0100] \"OPTIONS /cal.php/calendars/bestuser/default/ HTTP/1.1\" 500 620 \"-\" \"Evolution/3.12.9\"\nother_vhosts_access.log.1:my.server.com:443 89.92.172.41 - - [20/Jan/2016:18:26:21 +0100] \"OPTIONS /cal.php/calendars/bestuser/default/ HTTP/1.1\" 500 620 \"-\" \"Evolution/3.12.9\"\nother_vhosts_access.log.1:my.server.com:443 89.92.172.41 - - [20/Jan/2016:18:26:21 +0100] \"OPTIONS /cal.php/calendars/bestuser/default/ HTTP/1.1\" 500 620 \"-\" \"Evolution/3.12.9\"\n. curl: (6) Could not resolve host: OPTIONS\nAnd server side log on Apache is : \nmy.server.com:443 89.92.172.41 - - [21/Jan/2016:20:21:40 +0100] \"GET /cal.php/calendars/bestuser/default/ HTTP/1.1\" 401 5860 \"-\" \"curl/7.38.0\"\nmy.server.com:443 89.92.172.41 - - [21/Jan/2016:20:21:40 +0100] \"GET /cal.php/calendars/bestuser/default/ HTTP/1.1\" 500 483 \"-\" \"curl/7.38.0\"\n. From DAVDroid Client there are more debug logs :\n``` LOGS:\n[info ]  STARTING COLLECTION DISCOVERY FOR SERVICE CARDDAV\n[info ] Check whether user-given URL is a calendar collection and/or contains home-set and/or has current-user-principal\n[trace] --> PROPFIND https://my.server.com/card.php/addressbooks/bestuser/default HTTP/1.1\n[trace] Content-Type: application/xml; charset=utf-8\n[trace] Content-Length: 320\n[trace] Depth: 0\n[trace] <?xml version='1.0' encoding='UTF-8' ?>\n[trace] --> END PROPFIND (320-byte body)\n[trace] <-- HTTP/1.1 200 OK (207ms)\n[trace] Date: Thu, 21 Jan 2016 19:26:24 GMT\n[trace] Server: Apache/2.4.10 (Debian)\n[trace] Strict-Transport-Security: max-age=31536000; includeSubDomains\n[trace] Expires: Thu, 19 Nov 1981 08:52:00 GMT\n[trace] Cache-Control: no-store, no-cache, must-revalidate, post-check=0, pre-check=0\n[trace] Pragma: no-cache\n[trace] Vary: Accept-Encoding\n[trace] Keep-Alive: timeout=5, max=99\n[trace] Connection: Keep-Alive\n[trace] Content-Type: text/html; charset=UTF-8\n[trace] OkHttp-Sent-Millis: 1453404383631\n[trace] OkHttp-Received-Millis: 1453404383660\n[trace] \n[trace] Fatal error:  Call to a member function execute() on boolean in /var/www/ba\\\n[trace] ikal/vendor/sabre/dav/lib/Sabre/DAVACL/PrincipalBackend/PDO.php on line 161\n[trace] <-- END HTTP (185-byte body)\n[debug] PROPFIND on user-given URL failed - EXCEPTION:\nat.bitfire.dav4android.exception.InvalidDavResponseException: Expected 207 Multi-Status\n        at at.bitfire.dav4android.DavResource.assertMultiStatus(DavResource.java:295)\n        at at.bitfire.dav4android.DavResource.propfind(DavResource.java:251)\n        at at.bitfire.davdroid.resource.DavResourceFinder.findResources(DavResourceFinder.java:124)\n        at at.bitfire.davdroid.resource.DavResourceFinder.findResources(DavResourceFinder.java:85)\n        at at.bitfire.davdroid.ui.setup.QueryServerDialogFragment$ServerInfoLoader.loadInBackground(QueryServerDialogFragment.java:164)\n        at at.bitfire.davdroid.ui.setup.QueryServerDialogFragment$ServerInfoLoader.loadInBackground(QueryServerDialogFragment.java:142)\n        at android.content.AsyncTaskLoader.onLoadInBackground(AsyncTaskLoader.java:312)\n        at android.content.AsyncTaskLoader$LoadTask.doInBackground(AsyncTaskLoader.java:69)\n        at android.content.AsyncTaskLoader$LoadTask.doInBackground(AsyncTaskLoader.java:57)\n        at android.os.AsyncTask$2.call(AsyncTask.java:288)\n        at java.util.concurrent.FutureTask.run(FutureTask.java:237)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1112)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:587)\n        at java.lang.Thread.run(Thread.java:818)\nat.bitfire.dav4android.exception.InvalidDavResponseException: Expected 207 Multi-Status\nat.bitfire.dav4android.exception.InvalidDavResponseException: Expected 207 Multi-Status\n        at at.bitfire.dav4android.DavResource.assertMultiStatus(DavResource.java:295)\n        at at.bitfire.dav4android.DavResource.propfind(DavResource.java:251)\n        at at.bitfire.davdroid.resource.DavResourceFinder.findResources(DavResourceFinder.java:124)\n        at at.bitfire.davdroid.resource.DavResourceFinder.findResources(DavResourceFinder.java:85)\n        at at.bitfire.davdroid.ui.setup.QueryServerDialogFragment$ServerInfoLoader.loadInBackground(QueryServerDialogFragment.java:164)\n        at at.bitfire.davdroid.ui.setup.QueryServerDialogFragment$ServerInfoLoader.loadInBackground(QueryServerDialogFragment.java:142)\n        at android.content.AsyncTaskLoader.onLoadInBackground(AsyncTaskLoader.java:312)\n        at android.content.AsyncTaskLoader$LoadTask.doInBackground(AsyncTaskLoader.java:69)\n        at android.content.AsyncTaskLoader$LoadTask.doInBackground(AsyncTaskLoader.java:57)\n        at android.os.AsyncTask$2.call(AsyncTask.java:288)\n        at java.util.concurrent.FutureTask.run(FutureTask.java:237)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1112)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:587)\n        at java.lang.Thread.run(Thread.java:818)\n[info ] No home sets found, looking for \n[trace] --> OPTIONS https://my.server.com/card.php/addressbooks/bestuser/default HTTP/1.1\n[trace] --> END OPTIONS\n[trace] <-- HTTP/1.1 200 OK (86ms)\n[trace] Date: Thu, 21 Jan 2016 19:26:24 GMT\n[trace] Server: Apache/2.4.10 (Debian)\n[trace] Strict-Transport-Security: max-age=31536000; includeSubDomains\n[trace] Expires: Thu, 19 Nov 1981 08:52:00 GMT\n[trace] Cache-Control: no-store, no-cache, must-revalidate, post-check=0, pre-check=0\n[trace] Pragma: no-cache\n[trace] Vary: Accept-Encoding\n[trace] Keep-Alive: timeout=5, max=97\n[trace] Connection: Keep-Alive\n[trace] Content-Type: text/html; charset=UTF-8\n[trace] OkHttp-Sent-Millis: 1453404383725\n[trace] OkHttp-Received-Millis: 1453404383753\n[trace] \n[trace] Fatal error:  Call to a member function execute() on boolean in /var/www/ba\\\n[trace] ikal/vendor/sabre/dav/lib/Sabre/DAVACL/PrincipalBackend/PDO.php on line 161\n[trace] <-- END HTTP (185-byte body)\n[info ] User-given URL doesn't contain , trying /.well-known/carddav\n[trace] --> PROPFIND https://my.server.com/.well-known/carddav HTTP/1.1\n[trace] Content-Type: application/xml; charset=utf-8\n[trace] Content-Length: 198\n[trace] Depth: 0\n[trace] <?xml version='1.0' encoding='UTF-8' ?>\n[trace] --> END PROPFIND (198-byte body)\n[trace] <-- HTTP/1.1 405 Method Not Allowed (29ms)\n[trace] Date: Thu, 21 Jan 2016 19:26:24 GMT\n[trace] Server: Apache/2.4.10 (Debian)\n[trace] Strict-Transport-Security: max-age=31536000; includeSubDomains\n[trace] Allow: POST,OPTIONS,GET,HEAD\n[trace] Content-Length: 327\n[trace] Keep-Alive: timeout=5, max=96\n[trace] Connection: Keep-Alive\n[trace] Content-Type: text/html; charset=iso-8859-1\n[trace] OkHttp-Sent-Millis: 1453404383790\n[trace] OkHttp-Received-Millis: 1453404383808\n[trace] <!DOCTYPE HTML PUBLIC \"-//IETF//DTD HTML 2.0//EN\">\n[trace] \n[trace] 405 Method Not Allowed\n[trace] \n[trace] Method Not Allowed\n[trace] The requested method PROPFIND is not allowed for the URL /.well-known/carddav.\n[trace] \n[trace] Apache/2.4.10 (Debian) Server at my.server.com Port 443\n[trace] \n[trace] <-- END HTTP (327-byte body)\n[debug] Couldn't determine  from well-known carddav path - EXCEPTION:\nat.bitfire.dav4android.exception.HttpException: 405 Method Not Allowed\n        at at.bitfire.dav4android.DavResource.checkStatus(DavResource.java:281)\n        at at.bitfire.dav4android.DavResource.checkStatus(DavResource.java:286)\n        at at.bitfire.dav4android.DavResource.propfind(DavResource.java:250)\n        at at.bitfire.davdroid.resource.DavResourceFinder.getCurrentUserPrincipal(DavResourceFinder.java:444)\n        at at.bitfire.davdroid.resource.DavResourceFinder.findResources(DavResourceFinder.java:179)\n        at at.bitfire.davdroid.resource.DavResourceFinder.findResources(DavResourceFinder.java:85)\n        at at.bitfire.davdroid.ui.setup.QueryServerDialogFragment$ServerInfoLoader.loadInBackground(QueryServerDialogFragment.java:164)\n        at at.bitfire.davdroid.ui.setup.QueryServerDialogFragment$ServerInfoLoader.loadInBackground(QueryServerDialogFragment.java:142)\n        at android.content.AsyncTaskLoader.onLoadInBackground(AsyncTaskLoader.java:312)\n        at android.content.AsyncTaskLoader$LoadTask.doInBackground(AsyncTaskLoader.java:69)\n        at android.content.AsyncTaskLoader$LoadTask.doInBackground(AsyncTaskLoader.java:57)\n        at android.os.AsyncTask$2.call(AsyncTask.java:288)\n        at java.util.concurrent.FutureTask.run(FutureTask.java:237)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1112)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:587)\n        at java.lang.Thread.run(Thread.java:818)\nat.bitfire.dav4android.exception.HttpException: 405 Method Not Allowed\nat.bitfire.dav4android.exception.HttpException: 405 Method Not Allowed\n        at at.bitfire.dav4android.DavResource.checkStatus(DavResource.java:281)\n        at at.bitfire.dav4android.DavResource.checkStatus(DavResource.java:286)\n        at at.bitfire.dav4android.DavResource.propfind(DavResource.java:250)\n        at at.bitfire.davdroid.resource.DavResourceFinder.getCurrentUserPrincipal(DavResourceFinder.java:444)\n        at at.bitfire.davdroid.resource.DavResourceFinder.findResources(DavResourceFinder.java:179)\n        at at.bitfire.davdroid.resource.DavResourceFinder.findResources(DavResourceFinder.java:85)\n        at at.bitfire.davdroid.ui.setup.QueryServerDialogFragment$ServerInfoLoader.loadInBackground(QueryServerDialogFragment.java:164)\n        at at.bitfire.davdroid.ui.setup.QueryServerDialogFragment$ServerInfoLoader.loadInBackground(QueryServerDialogFragment.java:142)\n        at android.content.AsyncTaskLoader.onLoadInBackground(AsyncTaskLoader.java:312)\n        at android.content.AsyncTaskLoader$LoadTask.doInBackground(AsyncTaskLoader.java:69)\n        at android.content.AsyncTaskLoader$LoadTask.doInBackground(AsyncTaskLoader.java:57)\n        at android.os.AsyncTask$2.call(AsyncTask.java:288)\n        at java.util.concurrent.FutureTask.run(FutureTask.java:237)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1112)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:587)\n        at java.lang.Thread.run(Thread.java:818)\n[info ] No principal URL yet, trying SRV/TXT records with domain my.server.com\n[debug] Looking up SRV records for _carddavs._tcp.my.server.com\n[info ]  STARTING COLLECTION DISCOVERY FOR SERVICE CALDAV\n[info ] Check whether user-given URL is a calendar collection and/or contains home-set and/or has current-user-principal\n[trace] --> PROPFIND https://my.server.com/card.php/addressbooks/bestuser/default HTTP/1.1\n[trace] Content-Type: application/xml; charset=utf-8\n[trace] Content-Length: 435\n[trace] Depth: 0\n[trace] <?xml version='1.0' encoding='UTF-8' ?><\\\n[trace] /propfind>\n[trace] --> END PROPFIND (435-byte body)\n[trace] <-- HTTP/1.1 200 OK (80ms)\n[trace] Date: Thu, 21 Jan 2016 19:26:24 GMT\n[trace] Server: Apache/2.4.10 (Debian)\n[trace] Strict-Transport-Security: max-age=31536000; includeSubDomains\n[trace] Expires: Thu, 19 Nov 1981 08:52:00 GMT\n[trace] Cache-Control: no-store, no-cache, must-revalidate, post-check=0, pre-check=0\n[trace] Pragma: no-cache\n[trace] Vary: Accept-Encoding\n[trace] Keep-Alive: timeout=5, max=94\n[trace] Connection: Keep-Alive\n[trace] Content-Type: text/html; charset=UTF-8\n[trace] OkHttp-Sent-Millis: 1453404383875\n[trace] OkHttp-Received-Millis: 1453404383901\n[trace] \n[trace] Fatal error:  Call to a member function execute() on boolean in /var/www/ba\\\n[trace] ikal/vendor/sabre/dav/lib/Sabre/DAVACL/PrincipalBackend/PDO.php on line 161\n[trace] <-- END HTTP (185-byte body)\n[debug] PROPFIND on user-given URL failed - EXCEPTION:\nat.bitfire.dav4android.exception.InvalidDavResponseException: Expected 207 Multi-Status\n        at at.bitfire.dav4android.DavResource.assertMultiStatus(DavResource.java:295)\n        at at.bitfire.dav4android.DavResource.propfind(DavResource.java:251)\n        at at.bitfire.davdroid.resource.DavResourceFinder.findResources(DavResourceFinder.java:117)\n        at at.bitfire.davdroid.resource.DavResourceFinder.findResources(DavResourceFinder.java:86)\n        at at.bitfire.davdroid.ui.setup.QueryServerDialogFragment$ServerInfoLoader.loadInBackground(QueryServerDialogFragment.java:164)\n        at at.bitfire.davdroid.ui.setup.QueryServerDialogFragment$ServerInfoLoader.loadInBackground(QueryServerDialogFragment.java:142)\n        at android.content.AsyncTaskLoader.onLoadInBackground(AsyncTaskLoader.java:312)\n        at android.content.AsyncTaskLoader$LoadTask.doInBackground(AsyncTaskLoader.java:69)\n        at android.content.AsyncTaskLoader$LoadTask.doInBackground(AsyncTaskLoader.java:57)\n        at android.os.AsyncTask$2.call(AsyncTask.java:288)\n        at java.util.concurrent.FutureTask.run(FutureTask.java:237)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1112)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:587)\n        at java.lang.Thread.run(Thread.java:818)\nat.bitfire.dav4android.exception.InvalidDavResponseException: Expected 207 Multi-Status\nat.bitfire.dav4android.exception.InvalidDavResponseException: Expected 207 Multi-Status\n        at at.bitfire.dav4android.DavResource.assertMultiStatus(DavResource.java:295)\n        at at.bitfire.dav4android.DavResource.propfind(DavResource.java:251)\n        at at.bitfire.davdroid.resource.DavResourceFinder.findResources(DavResourceFinder.java:117)\n        at at.bitfire.davdroid.resource.DavResourceFinder.findResources(DavResourceFinder.java:86)\n        at at.bitfire.davdroid.ui.setup.QueryServerDialogFragment$ServerInfoLoader.loadInBackground(QueryServerDialogFragment.java:164)\n        at at.bitfire.davdroid.ui.setup.QueryServerDialogFragment$ServerInfoLoader.loadInBackground(QueryServerDialogFragment.java:142)\n        at android.content.AsyncTaskLoader.onLoadInBackground(AsyncTaskLoader.java:312)\n        at android.content.AsyncTaskLoader$LoadTask.doInBackground(AsyncTaskLoader.java:69)\n        at android.content.AsyncTaskLoader$LoadTask.doInBackground(AsyncTaskLoader.java:57)\n        at android.os.AsyncTask$2.call(AsyncTask.java:288)\n        at java.util.concurrent.FutureTask.run(FutureTask.java:237)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1112)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:587)\n        at java.lang.Thread.run(Thread.java:818)\n[info ] No home sets found, looking for \n[trace] --> OPTIONS https://my.server.com/card.php/addressbooks/bestuser/default HTTP/1.1\n[trace] --> END OPTIONS\n[trace] <-- HTTP/1.1 200 OK (79ms)\n[trace] Date: Thu, 21 Jan 2016 19:26:25 GMT\n[trace] Server: Apache/2.4.10 (Debian)\n[trace] Strict-Transport-Security: max-age=31536000; includeSubDomains\n[trace] Expires: Thu, 19 Nov 1981 08:52:00 GMT\n[trace] Cache-Control: no-store, no-cache, must-revalidate, post-check=0, pre-check=0\n[trace] Pragma: no-cache\n[trace] Vary: Accept-Encoding\n[trace] Keep-Alive: timeout=5, max=92\n[trace] Connection: Keep-Alive\n[trace] Content-Type: text/html; charset=UTF-8\n[trace] OkHttp-Sent-Millis: 1453404383968\n[trace] OkHttp-Received-Millis: 1453404383995\n[trace] \n[trace] Fatal error:  Call to a member function execute() on boolean in /var/www/ba\\\n[trace] ikal/vendor/sabre/dav/lib/Sabre/DAVACL/PrincipalBackend/PDO.php on line 161\n[trace] <-- END HTTP (185-byte body)\n[info ] User-given URL doesn't contain , trying /.well-known/caldav\n[trace] --> PROPFIND https://my.server.com/.well-known/caldav HTTP/1.1\n[trace] Content-Type: application/xml; charset=utf-8\n[trace] Content-Length: 198\n[trace] Depth: 0\n[trace] <?xml version='1.0' encoding='UTF-8' ?>\n[trace] --> END PROPFIND (198-byte body)\n[trace] <-- HTTP/1.1 405 Method Not Allowed (30ms)\n[trace] Date: Thu, 21 Jan 2016 19:26:25 GMT\n[trace] Server: Apache/2.4.10 (Debian)\n[trace] Strict-Transport-Security: max-age=31536000; includeSubDomains\n[trace] Allow: POST,OPTIONS,GET,HEAD\n[trace] Content-Length: 326\n[trace] Keep-Alive: timeout=5, max=91\n[trace] Connection: Keep-Alive\n[trace] Content-Type: text/html; charset=iso-8859-1\n[trace] OkHttp-Sent-Millis: 1453404384012\n[trace] OkHttp-Received-Millis: 1453404384031\n[trace] <!DOCTYPE HTML PUBLIC \"-//IETF//DTD HTML 2.0//EN\">\n[trace] \n[trace] 405 Method Not Allowed\n[trace] \n[trace] Method Not Allowed\n[trace] The requested method PROPFIND is not allowed for the URL /.well-known/caldav.\n[trace] \n[trace] Apache/2.4.10 (Debian) Server at my.server.com Port 443\n[trace] \n[trace] <-- END HTTP (326-byte body)\n[debug] Couldn't determine  from well-known caldav path - EXCEPTION:\nat.bitfire.dav4android.exception.HttpException: 405 Method Not Allowed\n        at at.bitfire.dav4android.DavResource.checkStatus(DavResource.java:281)\n        at at.bitfire.dav4android.DavResource.checkStatus(DavResource.java:286)\n        at at.bitfire.dav4android.DavResource.propfind(DavResource.java:250)\n        at at.bitfire.davdroid.resource.DavResourceFinder.getCurrentUserPrincipal(DavResourceFinder.java:444)\n        at at.bitfire.davdroid.resource.DavResourceFinder.findResources(DavResourceFinder.java:179)\n        at at.bitfire.davdroid.resource.DavResourceFinder.findResources(DavResourceFinder.java:86)\n        at at.bitfire.davdroid.ui.setup.QueryServerDialogFragment$ServerInfoLoader.loadInBackground(QueryServerDialogFragment.java:164)\n        at at.bitfire.davdroid.ui.setup.QueryServerDialogFragment$ServerInfoLoader.loadInBackground(QueryServerDialogFragment.java:142)\n        at android.content.AsyncTaskLoader.onLoadInBackground(AsyncTaskLoader.java:312)\n        at android.content.AsyncTaskLoader$LoadTask.doInBackground(AsyncTaskLoader.java:69)\n        at android.content.AsyncTaskLoader$LoadTask.doInBackground(AsyncTaskLoader.java:57)\n        at android.os.AsyncTask$2.call(AsyncTask.java:288)\n        at java.util.concurrent.FutureTask.run(FutureTask.java:237)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1112)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:587)\n        at java.lang.Thread.run(Thread.java:818)\nat.bitfire.dav4android.exception.HttpException: 405 Method Not Allowed\nat.bitfire.dav4android.exception.HttpException: 405 Method Not Allowed\n        at at.bitfire.dav4android.DavResource.checkStatus(DavResource.java:281)\n        at at.bitfire.dav4android.DavResource.checkStatus(DavResource.java:286)\n        at at.bitfire.dav4android.DavResource.propfind(DavResource.java:250)\n        at at.bitfire.davdroid.resource.DavResourceFinder.getCurrentUserPrincipal(DavResourceFinder.java:444)\n        at at.bitfire.davdroid.resource.DavResourceFinder.findResources(DavResourceFinder.java:179)\n        at at.bitfire.davdroid.resource.DavResourceFinder.findResources(DavResourceFinder.java:86)\n        at at.bitfire.davdroid.ui.setup.QueryServerDialogFragment$ServerInfoLoader.loadInBackground(QueryServerDialogFragment.java:164)\n        at at.bitfire.davdroid.ui.setup.QueryServerDialogFragment$ServerInfoLoader.loadInBackground(QueryServerDialogFragment.java:142)\n        at android.content.AsyncTaskLoader.onLoadInBackground(AsyncTaskLoader.java:312)\n        at android.content.AsyncTaskLoader$LoadTask.doInBackground(AsyncTaskLoader.java:69)\n        at android.content.AsyncTaskLoader$LoadTask.doInBackground(AsyncTaskLoader.java:57)\n        at android.os.AsyncTask$2.call(AsyncTask.java:288)\n        at java.util.concurrent.FutureTask.run(FutureTask.java:237)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1112)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:587)\n        at java.lang.Thread.run(Thread.java:818)\n[info ] No principal URL yet, trying SRV/TXT records with domain my.server.com\n[debug] Looking up SRV records for _caldavs._tcp.my.server.com\nSOFTWARE INFORMATION\nDAVdroid version: 0.9.1.3 (87) Sun Jan 03 08:04:57 GMT+01:00 2016\nInstalled from: org.fdroid.fdroid\nJB Workaround installed: no\nCONFIGURATION\nSystem-wide synchronization: manually\nSYSTEM INFORMATION\nAndroid version: 5.0.1 (LRX22C.I9505XXUHOJ2)\nDevice: Samsung GT-I9505 (jflte)\n``\n. The isntallation is configured to NOT use MySQL \n![screenshot from 2016-01-21 21 12 12](https://cloud.githubusercontent.com/assets/1951097/12493049/9c82303a-c083-11e5-9753-8ae45041db75.png)\n. I found/var/www/baikal/Core/Resources/Db/SQLite/db.sqlitefile but is it the same as thePROJECT_PATH_SPECIFIC \"db/sqlite\"` that can be seen in System settings?\n```\n/var/www/baikal/Core/Resources/Db/SQLite# sqlite3\nSQLite version 3.8.7.1 2014-10-29 13:59:56\nEnter \".help\" for usage hints.\nConnected to a transient in-memory database.\nUse \".open FILENAME\" to reopen on a persistent database.\nsqlite> .open db.sqlite \nsqlite> .schema princopals\nsqlite> .schema principals\nCREATE TABLE principals (\n    id INTEGER PRIMARY KEY ASC,\n    uri TEXT,\n    email TEXT,\n    displayname TEXT,\n    vcardurl TEXT,\n    UNIQUE(uri)\n);\n. Perhaps is it `/var/www/baikal/Specific/db/db.sqlite` ?\n.\nroot@my.server.com:/var/www/baikal/Specific/db# sqlite3\nSQLite version 3.8.7.1 2014-10-29 13:59:56\nEnter \".help\" for usage hints.\nConnected to a transient in-memory database.\nUse \".open FILENAME\" to reopen on a persistent database.\nsqlite> .open db.sqlite\nsqlite> .schema principals\nCREATE TABLE principals (\n    id INTEGER PRIMARY KEY ASC, \n    uri TEXT,\n    email TEXT,\n    displayname TEXT,\n    UNIQUE(uri)\n);\nsqlite> .dump principals\nPRAGMA foreign_keys=OFF;\nBEGIN TRANSACTION;\nCREATE TABLE principals (\n    id INTEGER PRIMARY KEY ASC, \n    uri TEXT,\n    email TEXT,\n    displayname TEXT,\n    UNIQUE(uri)\n);\nINSERT INTO \"principals\" VALUES(1,'principals/bestuser','bestuser@my.server.com','The Best User');\nCOMMIT;\nsqlite> \n``\n.-rw-r--r-- 1 www-data www-data 14336 Jul 10  2015 db.sqlite`\nwww-data is debian user that runs apache http server\n. Yes up to install directory\ntree -ug\n.\n\u251c\u2500\u2500 [www-data www-data]  ChangeLog.md\n\u251c\u2500\u2500 [www-data www-data]  Core\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Distrib.php\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Frameworks\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Baikal\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Core\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  PDOBasicAuth.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  Tools.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Framework.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Model\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  AddressBook\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  Contact.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  AddressBook.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Calendar\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  Event.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Calendar.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Config\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Database.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Distrib.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Standard.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  System.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Config.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Principal.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  User.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  WWWRoot\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u251c\u2500\u2500 [www-data www-data]  cal.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u251c\u2500\u2500 [www-data www-data]  card.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2514\u2500\u2500 [www-data www-data]  index.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  BaikalAdmin\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  config.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Controller\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Dashboard.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Install\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Database.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Initialize.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  VersionUpgrade.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Login.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Logout.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Navigation\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Topbar\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Anonymous.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  Install.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  Topbar.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Settings\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Standard.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  System.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  User\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  AddressBooks.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  Calendars.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  Users.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Core\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Auth.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  View.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Framework.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Resources\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  GlyphiconsPro\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  generate-sprite.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  glyph2x-dark.png\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  glyph-dark.png\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  glyphpro-2x.css\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  glyphpro.css\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  test-glyphpro2x.html\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  html5.js\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Images\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  logo-framboise.png\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Strings\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  EN\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2514\u2500\u2500 [www-data www-data]  Exceptions.json\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  Templates\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u251c\u2500\u2500 [www-data www-data]  Dashboard.html\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u251c\u2500\u2500 [www-data www-data]  Install\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Database.html\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  Initialize.html\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u251c\u2500\u2500 [www-data www-data]  Login.html\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u251c\u2500\u2500 [www-data www-data]  Navigation\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Topbar\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Anonymous.html\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  Install.html\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  Topbar.html\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u251c\u2500\u2500 [www-data www-data]  Page\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  baikal-text-20.png\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  index.html\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  style.css\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u251c\u2500\u2500 [www-data www-data]  Settings\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Standard.html\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  System.html\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u251c\u2500\u2500 [www-data www-data]  User\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  AddressBooks.html\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  Calendars.html\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2514\u2500\u2500 [www-data www-data]  Users.html\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Route\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Dashboard.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Logout.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Settings\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Standard.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  System.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  User\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  AddressBooks.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  Calendars.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  Users.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  View\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Dashboard.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Install\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Database.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  Initialize.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Login.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Navigation\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Topbar\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Anonymous.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  Install.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  Topbar.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Settings\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Standard.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  System.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  User\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  AddressBooks.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  Calendars.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  Users.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  WWWRoot\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u251c\u2500\u2500 [www-data www-data]  index.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2514\u2500\u2500 [www-data www-data]  install\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2514\u2500\u2500 [www-data www-data]  index.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Flake\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  config.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Controller\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Cli.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  HtmlBlock.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  HtmlBlockTemplated.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Page.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  Rpc.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Core\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Collection.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  CollectionTyped.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Controller.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Database\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Mysql.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Sqlite.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  Statement.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Database.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Datastructure\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Chainable.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  ChainLink.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  Chain.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  DOM\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  HTMLElement.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  FLObject.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Framework.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Model\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Db.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  NoDb.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Model.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  PostConnectionService.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Render\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Container.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  Zone.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Requester\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  Sql.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Requester.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Route.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Template.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  View.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Framework.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Model\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  IUser.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  User\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u251c\u2500\u2500 [www-data www-data]  Admin.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2514\u2500\u2500 [www-data www-data]  Customer.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  Util\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u251c\u2500\u2500 [www-data www-data]  Frameworks.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u251c\u2500\u2500 [www-data www-data]  Profiler.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u251c\u2500\u2500 [www-data www-data]  Router\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  QuestionMarkRewrite.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u251c\u2500\u2500 [www-data www-data]  Router.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u251c\u2500\u2500 [www-data www-data]  Tools.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2514\u2500\u2500 [www-data www-data]  Twig\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u251c\u2500\u2500 [www-data www-data]  AUTHORS\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u251c\u2500\u2500 [www-data www-data]  CHANGELOG\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u251c\u2500\u2500 [www-data www-data]  lib\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  Twig\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u251c\u2500\u2500 [www-data www-data]  Autoloader.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u251c\u2500\u2500 [www-data www-data]  CompilerInterface.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u251c\u2500\u2500 [www-data www-data]  Compiler.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u251c\u2500\u2500 [www-data www-data]  Environment.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u251c\u2500\u2500 [www-data www-data]  Error\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Loader.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Runtime.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  Syntax.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u251c\u2500\u2500 [www-data www-data]  Error.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u251c\u2500\u2500 [www-data www-data]  ExpressionParser.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u251c\u2500\u2500 [www-data www-data]  Extension\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Core.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Debug.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Escaper.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Optimizer.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  Sandbox.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u251c\u2500\u2500 [www-data www-data]  ExtensionInterface.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u251c\u2500\u2500 [www-data www-data]  Extension.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u251c\u2500\u2500 [www-data www-data]  Filter\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Function.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Method.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  Node.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u251c\u2500\u2500 [www-data www-data]  FilterInterface.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u251c\u2500\u2500 [www-data www-data]  Filter.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u251c\u2500\u2500 [www-data www-data]  Function\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Function.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Method.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  Node.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u251c\u2500\u2500 [www-data www-data]  FunctionInterface.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u251c\u2500\u2500 [www-data www-data]  Function.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u251c\u2500\u2500 [www-data www-data]  LexerInterface.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u251c\u2500\u2500 [www-data www-data]  Lexer.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u251c\u2500\u2500 [www-data www-data]  Loader\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Array.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Chain.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Filesystem.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  String.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u251c\u2500\u2500 [www-data www-data]  LoaderInterface.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u251c\u2500\u2500 [www-data www-data]  Markup.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u251c\u2500\u2500 [www-data www-data]  Node\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  AutoEscape.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Block.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  BlockReference.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Body.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Do.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Embed.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Expression\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Array.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  AssignName.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Binary\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Add.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  And.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  BitwiseAnd.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  BitwiseOr.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  BitwiseXor.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Concat.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Div.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Equal.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  FloorDiv.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  GreaterEqual.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Greater.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  In.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  LessEqual.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Less.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Mod.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Mul.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  NotEqual.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  NotIn.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Or.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Power.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Range.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  Sub.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Binary.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  BlockReference.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Conditional.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Constant.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  ExtensionReference.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Filter\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  Default.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Filter.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Function.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  GetAttr.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  MethodCall.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Name.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Parent.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  TempName.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Test\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Constant.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Defined.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Divisibleby.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Even.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Null.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Odd.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  Sameas.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Test.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Unary\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Neg.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Not.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  Pos.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  Unary.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Expression.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Flush.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  ForLoop.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  For.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  If.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Import.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Include.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Macro.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Module.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Print.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  SandboxedModule.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  SandboxedPrint.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Sandbox.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Set.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  SetTemp.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Spaceless.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  Text.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u251c\u2500\u2500 [www-data www-data]  NodeInterface.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u251c\u2500\u2500 [www-data www-data]  NodeOutputInterface.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u251c\u2500\u2500 [www-data www-data]  Node.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u251c\u2500\u2500 [www-data www-data]  NodeTraverser.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u251c\u2500\u2500 [www-data www-data]  NodeVisitor\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Escaper.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Optimizer.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  SafeAnalysis.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  Sandbox.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u251c\u2500\u2500 [www-data www-data]  NodeVisitorInterface.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u251c\u2500\u2500 [www-data www-data]  ParserInterface.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u251c\u2500\u2500 [www-data www-data]  Parser.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u251c\u2500\u2500 [www-data www-data]  Sandbox\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  SecurityError.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  SecurityPolicyInterface.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  SecurityPolicy.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u251c\u2500\u2500 [www-data www-data]  TemplateInterface.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u251c\u2500\u2500 [www-data www-data]  Template.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u251c\u2500\u2500 [www-data www-data]  Test\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Function.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Method.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  Node.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u251c\u2500\u2500 [www-data www-data]  TestInterface.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u251c\u2500\u2500 [www-data www-data]  TokenParser\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  AutoEscape.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Block.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Do.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Embed.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Extends.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Filter.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Flush.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  For.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  From.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  If.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Import.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Include.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Macro.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Sandbox.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Set.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Spaceless.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  Use.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u251c\u2500\u2500 [www-data www-data]  TokenParserBrokerInterface.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u251c\u2500\u2500 [www-data www-data]  TokenParserBroker.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u251c\u2500\u2500 [www-data www-data]  TokenParserInterface.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u251c\u2500\u2500 [www-data www-data]  TokenParser.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u251c\u2500\u2500 [www-data www-data]  Token.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2514\u2500\u2500 [www-data www-data]  TokenStream.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u251c\u2500\u2500 [www-data www-data]  LICENSE\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2514\u2500\u2500 [www-data www-data]  README.markdown\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Formal\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Core\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  Message.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Element\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Checkbox.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Listbox.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Password.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  Text.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Element.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Form\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  Morphology.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Form.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  Framework.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  TwitterBootstrap\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u251c\u2500\u2500 [www-data www-data]  css\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  bootstrap.css\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  bootstrap.min.css\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  bootstrap-responsive.css\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  bootstrap-responsive.min.css\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u251c\u2500\u2500 [www-data www-data]  img\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  glyphicons-halflings-orig.png\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  glyphicons-halflings.png\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  glyphicons-halflings-white.png\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2514\u2500\u2500 [www-data www-data]  js\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u251c\u2500\u2500 [www-data www-data]  bootstrap.js\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u251c\u2500\u2500 [www-data www-data]  bootstrap.min.js\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u251c\u2500\u2500 [www-data www-data]  bootstrap-popover.js\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u251c\u2500\u2500 [www-data www-data]  bootstrap-tooltip.js\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2514\u2500\u2500 [www-data www-data]  jquery-1.7.1.min.js\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  Resources\n\u2502\u00a0\u00a0     \u251c\u2500\u2500 [www-data www-data]  Db\n\u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  MySQL\n\u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  db.sql\n\u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  SQLite\n\u2502\u00a0\u00a0     \u2502\u00a0\u00a0     \u251c\u2500\u2500 [www-data www-data]  db.sql\n\u2502\u00a0\u00a0     \u2502\u00a0\u00a0     \u2514\u2500\u2500 [www-data www-data]  db.sqlite\n\u2502\u00a0\u00a0     \u251c\u2500\u2500 [www-data www-data]  System\n\u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  htaccess-documentroot\n\u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  htaccess-specific\n\u2502\u00a0\u00a0     \u2514\u2500\u2500 [www-data www-data]  Web\n\u2502\u00a0\u00a0         \u251c\u2500\u2500 [www-data www-data]  BaikalAdmin -> ../../Frameworks/BaikalAdmin/Resources\n\u2502\u00a0\u00a0         \u251c\u2500\u2500 [www-data www-data]  README.md\n\u2502\u00a0\u00a0         \u2514\u2500\u2500 [www-data www-data]  TwitterBootstrap -> ../../Frameworks/TwitterBootstrap\n\u251c\u2500\u2500 [www-data www-data]  html\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  admin\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  index.php -> ../../Core/Frameworks/BaikalAdmin/WWWRoot/index.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  install\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2514\u2500\u2500 [www-data www-data]  index.php -> ../../../Core/Frameworks/BaikalAdmin/WWWRoot/install/index.php\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  cal.php -> ../Core/Frameworks/Baikal/WWWRoot/cal.php\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  card.php -> ../Core/Frameworks/Baikal/WWWRoot/card.php\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  index.php -> ../Core/Frameworks/Baikal/WWWRoot/index.php\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  res\n\u2502\u00a0\u00a0     \u2514\u2500\u2500 [www-data www-data]  core -> ../../Core/Resources/Web\n\u251c\u2500\u2500 [www-data www-data]  INSTALL.md\n\u251c\u2500\u2500 [www-data www-data]  LICENSE.txt\n\u251c\u2500\u2500 [www-data www-data]  README.md\n\u251c\u2500\u2500 [www-data www-data]  Specific\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  config.php\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  config.system.php\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  db\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  db.sqlite\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  ENABLE_INSTALL\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  virtualhosts\n\u2502\u00a0\u00a0     \u251c\u2500\u2500 [www-data www-data]  baikal.apache2\n\u2502\u00a0\u00a0     \u2514\u2500\u2500 [www-data www-data]  baikal.nginx\n\u251c\u2500\u2500 [www-data www-data]  TROUBLESHOOTING.md\n\u251c\u2500\u2500 [www-data www-data]  UPGRADE.md\n\u2514\u2500\u2500 [www-data www-data]  vendor\n    \u251c\u2500\u2500 [www-data www-data]  autoload.php\n    \u251c\u2500\u2500 [www-data www-data]  bin\n    \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  sabredav -> ../sabre/dav/bin/sabredav\n    \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  vobjectvalidate.php -> ../sabre/vobject/bin/vobjectvalidate.php\n    \u251c\u2500\u2500 [www-data www-data]  composer\n    \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  autoload_classmap.php\n    \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  autoload_namespaces.php\n    \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  autoload_psr4.php\n    \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  autoload_real.php\n    \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  ClassLoader.php\n    \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  installed.json\n    \u2514\u2500\u2500 [www-data www-data]  sabre\n        \u251c\u2500\u2500 [www-data www-data]  dav\n        \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  bin\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  googlecode_upload.py\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  migrateto17.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  naturalselection.py\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  sabredav\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  sabredav.php\n        \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  build.xml\n        \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  ChangeLog\n        \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  composer.json\n        \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  docs\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  caldav-ctag.txt\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  caldav-notifications.txt\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  caldav-proxy.txt\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  caldav-sharing.txt\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  draft-daboo-carddav-directory-gateway-02.txt\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  draft-desruisseaux-caldav-sched-10.txt\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  draft-ietf-httpbis-p1-messaging-11.txt\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  draft-ietf-httpbis-p4-conditional-11.txt\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  draft-ietf-httpbis-p5-range-11.txt\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  draft-ietf-httpbis-p6-cache-11.txt\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  draft-nottingham-http-new-status-04.txt\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  rfc2425.txt\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  rfc2426.txt\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  rfc2518.txt\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  rfc2616.txt\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  rfc2617.txt\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  rfc3253.pdf\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  rfc3744.pdf\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  rfc4437.pdf\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  rfc4790.txt\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  rfc4791.txt\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  rfc4918.pdf\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  rfc5051.txt\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  rfc5397.txt\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  rfc5545.txt\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  rfc5546.txt\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  rfc5689.txt\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  rfc5785.txt\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  rfc5789.txt\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  rfc6047.txt\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  rfc6321.txt\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  rfc6350.txt\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  rfc6351.txt\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  rfc6352.txt\n        \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  examples\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  addressbookserver.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  basicauth.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  calendarserver.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  digestauth.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  fileserver.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  groupwareserver.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  simplefsserver.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  sql\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  mysql.addressbook.sql\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  mysql.calendars.sql\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  mysql.locks.sql\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  mysql.principals.sql\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  mysql.users.sql\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  pgsql.addressbook.sql\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  pgsql.calendars.sql\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  pgsql.locks.sql\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  pgsql.principals.sql\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  pgsql.users.sql\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  sqlite.addressbooks.sql\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  sqlite.calendars.sql\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  sqlite.locks.sql\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  sqlite.principals.sql\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  sqlite.users.sql\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  webserver\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u251c\u2500\u2500 [www-data www-data]  apache2_htaccess.conf\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u251c\u2500\u2500 [www-data www-data]  apache2_vhost_cgi.conf\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2514\u2500\u2500 [www-data www-data]  apache2_vhost.conf\n        \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  lib\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  Sabre\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u251c\u2500\u2500 [www-data www-data]  autoload.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u251c\u2500\u2500 [www-data www-data]  CalDAV\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Backend\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  AbstractBackend.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  BackendInterface.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  NotificationSupport.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  PDO.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  SharingSupport.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  CalendarObject.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Calendar.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  CalendarQueryParser.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  CalendarQueryValidator.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  CalendarRootNode.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Exception\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  InvalidComponentType.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  ICalendarObject.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  ICalendar.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  ICSExportPlugin.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  IShareableCalendar.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  ISharedCalendar.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Notifications\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Collection.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  ICollection.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  INode.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  INotificationType.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Node.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  Notification\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u251c\u2500\u2500 [www-data www-data]  Invite.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u251c\u2500\u2500 [www-data www-data]  InviteReply.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2514\u2500\u2500 [www-data www-data]  SystemStatus.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Plugin.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Principal\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Collection.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  IProxyRead.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  IProxyWrite.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  ProxyRead.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  ProxyWrite.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  User.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Property\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  AllowedSharingModes.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Invite.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  ScheduleCalendarTransp.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  SupportedCalendarComponentSet.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  SupportedCalendarData.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  SupportedCollationSet.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Schedule\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  IMip.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  IOutbox.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  Outbox.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  ShareableCalendar.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  SharedCalendar.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  SharingPlugin.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  UserCalendars.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  Version.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u251c\u2500\u2500 [www-data www-data]  CardDAV\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  AddressBook.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  AddressBookQueryParser.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  AddressBookRoot.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Backend\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  AbstractBackend.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  BackendInterface.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  PDO.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Card.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  IAddressBook.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  ICard.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  IDirectory.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Plugin.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Property\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  SupportedAddressData.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  UserAddressBooks.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  VCFExportPlugin.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  Version.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u251c\u2500\u2500 [www-data www-data]  DAV\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Auth\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Backend\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  AbstractBasic.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  AbstractDigest.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Apache.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  BackendInterface.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  File.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  PDO.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  Plugin.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Browser\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  assets\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  favicon.ico\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  icons\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u251c\u2500\u2500 [www-data www-data]  addressbook.png\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u251c\u2500\u2500 [www-data www-data]  calendar.png\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u251c\u2500\u2500 [www-data www-data]  card.png\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u251c\u2500\u2500 [www-data www-data]  collection.png\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u251c\u2500\u2500 [www-data www-data]  file.png\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u251c\u2500\u2500 [www-data www-data]  parent.png\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2514\u2500\u2500 [www-data www-data]  principal.png\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  GuessContentType.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  MapGetToPropFind.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  Plugin.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Client.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Collection.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Exception\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  BadRequest.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  ConflictingLock.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Conflict.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  FileNotFound.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Forbidden.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  InsufficientStorage.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  InvalidResourceType.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Locked.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  LockTokenMatchesRequestUri.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  MethodNotAllowed.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  NotAuthenticated.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  NotFound.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  NotImplemented.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  PaymentRequired.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  PreconditionFailed.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  ReportNotSupported.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  RequestedRangeNotSatisfiable.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  ServiceUnavailable.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  UnsupportedMediaType.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Exception.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  File.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  FS\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Directory.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  File.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  Node.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  FSExt\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Directory.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  File.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  Node.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  ICollection.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  IExtendedCollection.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  IFile.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  INode.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  IProperties.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  IQuota.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Locks\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Backend\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  AbstractBackend.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  BackendInterface.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  File.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  FS.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  PDO.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  LockInfo.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  Plugin.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Mount\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  Plugin.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Node.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  ObjectTree.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  PartialUpdate\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  IFile.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  Plugin.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Property\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  GetLastModified.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  HrefList.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Href.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  IHref.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  LockDiscovery.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  ResourceType.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  ResponseList.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Response.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  SupportedLock.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  SupportedReportSet.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  PropertyInterface.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Property.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Server.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  ServerPlugin.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  SimpleCollection.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  SimpleFile.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  StringUtil.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  TemporaryFileFilterPlugin.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Tree\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  Filesystem.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Tree.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  URLUtil.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  UUIDUtil.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Version.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  XMLUtil.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u251c\u2500\u2500 [www-data www-data]  DAVACL\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  AbstractPrincipalCollection.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Exception\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  AceConflict.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  NeedPrivileges.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  NoAbstract.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  NotRecognizedPrincipal.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  NotSupportedPrivilege.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  IACL.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  IPrincipalCollection.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  IPrincipal.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Plugin.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  PrincipalBackend\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  AbstractBackend.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  BackendInterface.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  PDO.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  PrincipalCollection.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Principal.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Property\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Acl.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  AclRestrictions.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  CurrentUserPrivilegeSet.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Principal.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  SupportedPrivilegeSet.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  Version.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2514\u2500\u2500 [www-data www-data]  HTTP\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u251c\u2500\u2500 [www-data www-data]  AbstractAuth.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u251c\u2500\u2500 [www-data www-data]  AWSAuth.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u251c\u2500\u2500 [www-data www-data]  BasicAuth.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u251c\u2500\u2500 [www-data www-data]  DigestAuth.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u251c\u2500\u2500 [www-data www-data]  Request.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u251c\u2500\u2500 [www-data www-data]  Response.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u251c\u2500\u2500 [www-data www-data]  Util.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2514\u2500\u2500 [www-data www-data]  Version.php\n        \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  LICENSE\n        \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  README.md\n        \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  tests\n        \u2502\u00a0\u00a0     \u251c\u2500\u2500 [www-data www-data]  bootstrap.php\n        \u2502\u00a0\u00a0     \u251c\u2500\u2500 [www-data www-data]  composer.vobject3.json\n        \u2502\u00a0\u00a0     \u251c\u2500\u2500 [www-data www-data]  phpunit.xml\n        \u2502\u00a0\u00a0     \u2514\u2500\u2500 [www-data www-data]  Sabre\n        \u2502\u00a0\u00a0         \u251c\u2500\u2500 [www-data www-data]  CalDAV\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Backend\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  AbstractPDOTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  AbstractTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Mock.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  PDOMySQLTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  PDOSqliteTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  CalendarObjectTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  CalendarQueryParserTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  CalendarQueryVAlarmTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  CalendarQueryValidatorTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  CalendarTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  ExpandEventsDoubleEventsTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  ExpandEventsDTSTARTandDTENDbyDayTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  ExpandEventsDTSTARTandDTENDTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  FreeBusyReportTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  FreeBusyRequestTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  GetEventsByTimerangeTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  ICSExportPluginTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Issue166Test.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Issue172Test.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Issue203Test.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Issue205Test.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Issue211Test.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Issue220Test.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Issue228Test.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Notifications\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  CollectionTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  NodeTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  Notification\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u251c\u2500\u2500 [www-data www-data]  InviteReplyTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u251c\u2500\u2500 [www-data www-data]  InviteTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2514\u2500\u2500 [www-data www-data]  SystemStatusTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  OutboxPostTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  PluginTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Principal\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  CollectionTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  ProxyReadTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  ProxyWriteTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  UserTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Property\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  AllowedSharingModesTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  InviteTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  ScheduleCalendarTranspTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  SupportedCalendarComponentSetTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  SupportedCalendarDataTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  SupportedCollationSetTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Schedule\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  IMip\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  Mock.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  OutboxTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  ShareableCalendarTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  SharedCalendarTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  SharingPluginTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  TestUtil.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  UserCalendarsSharedCalendarsTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  UserCalendarsTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  ValidateICalTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  VersionTest.php\n        \u2502\u00a0\u00a0         \u251c\u2500\u2500 [www-data www-data]  CardDAV\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  AbstractPluginTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  AddressBookQueryParserTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  AddressBookQueryTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  AddressBookRootTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  AddressBookTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Backend\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  AbstractPDOTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Mock.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  PDOMySQLTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  PDOSqliteTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  CardTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  IDirectoryTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  MultiGetTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  PluginTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Property\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  SupportedAddressDataTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  SogoStripContentTypeTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  TestUtil.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  UserAddressBooksTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  ValidateFilterTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  ValidateVCardTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  VCFExportTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  VersionTest.php\n        \u2502\u00a0\u00a0         \u251c\u2500\u2500 [www-data www-data]  DAV\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  AbstractServer.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Auth\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Backend\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  AbstractBasicTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  AbstractDigestTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  AbstractPDOTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  ApacheTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  FileTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Mock.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  PDOMySQLTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  PDOSqliteTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  PluginTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  BasicNodeTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Browser\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  GuessContentTypeTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  MapGetToPropFindTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  PluginTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  ClientMock.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  ClientTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Exception\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  LockedTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  PaymentRequiredTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  ExceptionTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  FSExt\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  FileTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  NodeTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  ServerTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  HTTPPreferParsingTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Issue33Test.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Locks\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Backend\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  AbstractTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  FileTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  FSTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  PDOMySQLTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  PDOTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  GetIfConditionsTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  MSWordTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  PluginTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Mount\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  PluginTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  ObjectTreeTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  PartialUpdate\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  FileMock.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  PluginTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Property\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  GetLastModifiedTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  HrefListTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  HrefTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  ResourceTypeTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  ResponseListTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  ResponseTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  SupportedReportSetTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  ServerCopyMoveTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  ServerEventsTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  ServerFinderBlockTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  ServerMKCOLTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  ServerPluginTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  ServerPreconditionTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  ServerPropsTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  ServerRangeTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  ServerSimpleTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  ServerUpdatePropertiesTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  SimpleFileTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  StringUtilTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  TemporaryFileFilterTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  TestPlugin.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Tree\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  FilesystemTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  TreeTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  URLUtilTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  UUIDUtilTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  XMLUtilTest.php\n        \u2502\u00a0\u00a0         \u251c\u2500\u2500 [www-data www-data]  DAVACL\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  ACLMethodTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  AllowAccessTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  BlockAccessTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Exception\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  AceConflictTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  NeedPrivilegesExceptionTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  NoAbstractTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  NotRecognizedPrincipalTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  NotSupportedPrivilegeTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  ExpandPropertiesTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  MockACLNode.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  MockPrincipal.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  PluginAdminTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  PluginPropertiesTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  PluginUpdatePropertiesTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  PrincipalBackend\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  AbstractPDOTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Mock.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  PDOMySQLTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  PDOSqliteTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  PrincipalCollectionTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  PrincipalPropertySearchTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  PrincipalSearchPropertySetTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  PrincipalTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Property\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  ACLRestrictionsTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  ACLTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  CurrentUserPrivilegeSetTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  PrincipalTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  SupportedPrivilegeSetTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  SimplePluginTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  VersionTest.php\n        \u2502\u00a0\u00a0         \u251c\u2500\u2500 [www-data www-data]  DAVServerTest.php\n        \u2502\u00a0\u00a0         \u251c\u2500\u2500 [www-data www-data]  HTTP\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  AWSAuthTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  BasicAuthTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  DigestAuthTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  RequestTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  ResponseMock.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  ResponseTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  UtilTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  VersionTest.php\n        \u2502\u00a0\u00a0         \u2514\u2500\u2500 [www-data www-data]  TestUtil.php\n        \u2514\u2500\u2500 [www-data www-data]  vobject\n            \u251c\u2500\u2500 [www-data www-data]  bin\n            \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  bench.php\n            \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  generateicalendardata.php\n            \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  vobjectvalidate.php\n            \u251c\u2500\u2500 [www-data www-data]  ChangeLog\n            \u251c\u2500\u2500 [www-data www-data]  composer.json\n            \u251c\u2500\u2500 [www-data www-data]  lib\n            \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  Sabre\n            \u2502\u00a0\u00a0     \u2514\u2500\u2500 [www-data www-data]  VObject\n            \u2502\u00a0\u00a0         \u251c\u2500\u2500 [www-data www-data]  Component\n            \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  VAlarm.php\n            \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  VCalendar.php\n            \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  VCard.php\n            \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  VEvent.php\n            \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  VFreeBusy.php\n            \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  VJournal.php\n            \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  VTodo.php\n            \u2502\u00a0\u00a0         \u251c\u2500\u2500 [www-data www-data]  Component.php\n            \u2502\u00a0\u00a0         \u251c\u2500\u2500 [www-data www-data]  DateTimeParser.php\n            \u2502\u00a0\u00a0         \u251c\u2500\u2500 [www-data www-data]  Document.php\n            \u2502\u00a0\u00a0         \u251c\u2500\u2500 [www-data www-data]  ElementList.php\n            \u2502\u00a0\u00a0         \u251c\u2500\u2500 [www-data www-data]  FreeBusyGenerator.php\n            \u2502\u00a0\u00a0         \u251c\u2500\u2500 [www-data www-data]  includes.php\n            \u2502\u00a0\u00a0         \u251c\u2500\u2500 [www-data www-data]  Node.php\n            \u2502\u00a0\u00a0         \u251c\u2500\u2500 [www-data www-data]  Parameter.php\n            \u2502\u00a0\u00a0         \u251c\u2500\u2500 [www-data www-data]  ParseException.php\n            \u2502\u00a0\u00a0         \u251c\u2500\u2500 [www-data www-data]  Property\n            \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Compound.php\n            \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  DateTime.php\n            \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  MultiDateTime.php\n            \u2502\u00a0\u00a0         \u251c\u2500\u2500 [www-data www-data]  Property.php\n            \u2502\u00a0\u00a0         \u251c\u2500\u2500 [www-data www-data]  Reader.php\n            \u2502\u00a0\u00a0         \u251c\u2500\u2500 [www-data www-data]  RecurrenceIterator.php\n            \u2502\u00a0\u00a0         \u251c\u2500\u2500 [www-data www-data]  Splitter\n            \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  ICalendar.php\n            \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  SplitterInterface.php\n            \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  VCard.php\n            \u2502\u00a0\u00a0         \u251c\u2500\u2500 [www-data www-data]  StringUtil.php\n            \u2502\u00a0\u00a0         \u251c\u2500\u2500 [www-data www-data]  TimeZoneUtil.php\n            \u2502\u00a0\u00a0         \u2514\u2500\u2500 [www-data www-data]  Version.php\n            \u251c\u2500\u2500 [www-data www-data]  LICENSE\n            \u251c\u2500\u2500 [www-data www-data]  README.md\n            \u2514\u2500\u2500 [www-data www-data]  tests\n                \u251c\u2500\u2500 [www-data www-data]  bootstrap.php\n                \u251c\u2500\u2500 [www-data www-data]  phpunit.xml\n                \u2514\u2500\u2500 [www-data www-data]  Sabre\n                    \u2514\u2500\u2500 [www-data www-data]  VObject\n                        \u251c\u2500\u2500 [www-data www-data]  Component\n                        \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  VAlarmTest.php\n                        \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  VCalendarTest.php\n                        \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  VCardTest.php\n                        \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  VEventTest.php\n                        \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  VFreeBusyTest.php\n                        \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  VJournalTest.php\n                        \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  VTodoTest.php\n                        \u251c\u2500\u2500 [www-data www-data]  ComponentTest.php\n                        \u251c\u2500\u2500 [www-data www-data]  DateTimeParserTest.php\n                        \u251c\u2500\u2500 [www-data www-data]  DocumentTest.php\n                        \u251c\u2500\u2500 [www-data www-data]  ElementListTest.php\n                        \u251c\u2500\u2500 [www-data www-data]  EmClientTest.php\n                        \u251c\u2500\u2500 [www-data www-data]  FreeBusyGeneratorTest.php\n                        \u251c\u2500\u2500 [www-data www-data]  Issue153Test.php\n                        \u251c\u2500\u2500 [www-data www-data]  issue153.vcf\n                        \u251c\u2500\u2500 [www-data www-data]  Issue154Test.php\n                        \u251c\u2500\u2500 [www-data www-data]  Issue48Test.php\n                        \u251c\u2500\u2500 [www-data www-data]  Issue50Test.php\n                        \u251c\u2500\u2500 [www-data www-data]  ParameterTest.php\n                        \u251c\u2500\u2500 [www-data www-data]  Property\n                        \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  CompoundTest.php\n                        \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  DateTimeTest.php\n                        \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  MultiDateTimeTest.php\n                        \u251c\u2500\u2500 [www-data www-data]  PropertyTest.php\n                        \u251c\u2500\u2500 [www-data www-data]  ReaderTest.php\n                        \u251c\u2500\u2500 [www-data www-data]  RecurrenceIteratorFifthTuesdayProblemTest.php\n                        \u251c\u2500\u2500 [www-data www-data]  RecurrenceIteratorIncorrectExpandTest.php\n                        \u251c\u2500\u2500 [www-data www-data]  RecurrenceIteratorInfiniteLoopProblemTest.php\n                        \u251c\u2500\u2500 [www-data www-data]  RecurrenceIteratorMinusOneProblemTest.php\n                        \u251c\u2500\u2500 [www-data www-data]  RecurrenceIteratorMissingOverriddenTest.php\n                        \u251c\u2500\u2500 [www-data www-data]  RecurrenceIteratorTest.php\n                        \u251c\u2500\u2500 [www-data www-data]  SlashRTest.php\n                        \u251c\u2500\u2500 [www-data www-data]  Splitter\n                        \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  ICalendarTest.php\n                        \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  VCardTest.php\n                        \u251c\u2500\u2500 [www-data www-data]  StringUtilTest.php\n                        \u251c\u2500\u2500 [www-data www-data]  TimeZoneUtilTest.php\n                        \u2514\u2500\u2500 [www-data www-data]  VersionTest.php\n. Could it have anything to do with apache 2.4 ? It was running smoothly on apache 2.2\n. And admin page can detect that there is one user declared :\n\n\n. display-errors is On in php.ini file but I don't know where to find these logs ... I'm not familiar with php ;-)\n. There are many lines in logs file but they don't contain more information than in my original post.\nser.log.1:Jan 16 20:05:24 my.server.com apache2: PHP Fatal error:  Call to a member function execute() on boolean in /var/www/baikal/vendor/sabre/dav/lib/Sabre/DAVACL/PrincipalBackend/PDO.php on line 161\nuser.log.1:Jan 16 20:05:41 my.server.com apache2: PHP Fatal error:  Call to a member function execute() on boolean in /var/www/baikal/vendor/sabre/dav/lib/Sabre/DAVACL/PrincipalBackend/PDO.php on line 161\nuser.log.1:Jan 16 20:09:20 my.server.com apache2: PHP Fatal error:  Call to a member function execute() on boolean in /var/www/baikal/vendor/sabre/dav/lib/Sabre/DAVACL/PrincipalBackend/PDO.php on line 161\nuser.log.1:Jan 16 20:09:20 my.server.com apache2: PHP Fatal error:  Call to a member function execute() on boolean in /var/www/baikal/vendor/sabre/dav/lib/Sabre/DAVACL/PrincipalBackend/PDO.php on line 161\nuser.log.1:Jan 16 20:09:20 my.server.com apache2: PHP Fatal error:  Call to a member function execute() on boolean in /var/www/baikal/vendor/sabre/dav/lib/Sabre/DAVACL/PrincipalBackend/PDO.php on line 161\nuser.log.1:Jan 16 20:10:07 my.server.com apache2: PHP Fatal error:  Call to a member function execute() on boolean in /var/www/baikal/vendor/sabre/dav/lib/Sabre/DAVACL/PrincipalBackend/PDO.php on line 161\nuser.log.1:Jan 16 20:10:08 my.server.com apache2: PHP Fatal error:  Call to a member function execute() on boolean in /var/www/baikal/vendor/sabre/dav/lib/Sabre/DAVACL/PrincipalBackend/PDO.php on line 161\nuser.log.1:Jan 16 20:10:08 my.server.com apache2: PHP Fatal error:  Call to a member function execute() on boolean in /var/www/baikal/vendor/sabre/dav/lib/Sabre/DAVACL/PrincipalBackend/PDO.php on line 161\nuser.log.1:Jan 16 20:44:51 my.server.com apache2: PHP Fatal error:  Call to a member function execute() on boolean in /var/www/baikal/vendor/sabre/dav/lib/Sabre/DAVACL/PrincipalBackend/PDO.php on line 161\nuser.log.1:Jan 16 20:44:51 my.server.com apache2: PHP Fatal error:  Call to a member function execute() on boolean in /var/www/baikal/vendor/sabre/dav/lib/Sabre/DAVACL/PrincipalBackend/PDO.php on line 161\nuser.log.1:Jan 16 20:44:51 my.server.com apache2: PHP Fatal error:  Call to a member function execute() on boolean in /var/www/baikal/vendor/sabre/dav/lib/Sabre/DAVACL/PrincipalBackend/PDO.php on line 161\nuser.log.1:Jan 16 20:45:27 my.server.com apache2: PHP Fatal error:  Call to a member function execute() on boolean in /var/www/baikal/vendor/sabre/dav/lib/Sabre/DAVACL/PrincipalBackend/PDO.php on line 161\nuser.log.1:Jan 16 20:45:27 my.server.com apache2: PHP Fatal error:  Call to a member function execute() on boolean in /var/www/baikal/vendor/sabre/dav/lib/Sabre/DAVACL/PrincipalBackend/PDO.php on line 161\nuser.log.1:Jan 16 20:45:27 my.server.com apache2: PHP Fatal error:  Call to a member function execute() on boolean in /var/www/baikal/vendor/sabre/dav/lib/Sabre/DAVACL/PrincipalBackend/PDO.php on line 161\n. sqlite3 Specific/db/db.sqlite < Core/Resources/Db/SQLite/db.sqlite\nError: incomplete SQL: SQLite format 3$    id integer primary key asc, \n    principaluri text, \n    displayname text, \n    uri text,\n    ctag integer, \n    description text,\n    calendarorder integer,\n    calendarcolor text,\n    timezone text,\n    components text\n, transparent bool)\ufffd\u001f\u0017++\u0001\ufffdutablecalendarobjectscalendarobjects\u0004CREATE TABLE calendarobjects ( \n    id integer primary key asc, \n    calendardata blob, \n    uri text, \n    calendarid integer, \n    lastmodified integer\n, etag text, size integer, componenttype text, firstoccurence integer, lastoccurence integer)\ufffd$\u0017\u0017\u0017\u0001\ufffd'tablecardscardsCREATE TABLE cards ( \n    id integer primary key asc, \n    addressbookid integer, \n    carddata blob, \n    uri text, \n    lastmodified integer\n)\ufffdD\u0001\u0017%%\u0001\ufffdKtableaddressbooksaddressbooksCREATE TABLE addressbooks (\n    id integer primary key asc, \n    principaluri text, \n    displayname text, \n    uri text,\n    description text,\n    ctag integer\n\u0001\ufffd principals (\n    id INTEGER PRIMARY KEY ASC,\n    uri TEXT,\n    email TEXT,\n    displayname TEXT,\n    vcardurl TEXT,\n    UNIQUE(uri)\n)\ufffd:\u0017\u0017\u0017\u0001\ufffdStablelockslocks\u0006CREATE TABLE locks ( \n    id integer primary key asc, \n    owner text, \n    timeout integer, \n    created integer, \n    token text, \n    scope integer, \n    depth integer, \n    uri text\n)k id INTEGER PRIMARY KEY ASC,\n    principal_id INTEGER,\n    member_id INTEGER,\n    UNIQUE(principal_id, member_id)\nCREATE TABLE users (ableusersusers\n    id integer primary key asc, \n    username TEXT,\n    digesta1 TEXT,\n    UNIQUE(username)\n))\n  \u0006\u0017=\u0017\u0001\n. Looks like I agree with you ;)\n. It did the trick !!!\nI'll just have to repopulate the database ....\nThank you very much.\nI'll make some real-life test cases and I'll tell you.\n. My installation has not changed since then .... the error is still there\n. The curl statement was a way for me to reproduce the error. Of course my DAV client on Android or Evolution on Gnome makes requests to the server that are also failing.\nother_vhosts_access.log:my.server.com:443 89.92.172.41 - - [21/Jan/2016:19:47:56 +0100] \"OPTIONS /cal.php/calendars/bestuser/default/ HTTP/1.1\" 500 620 \"-\" \"Evolution/3.12.9\"\nother_vhosts_access.log:my.server.com:443 89.92.172.41 - - [21/Jan/2016:19:47:56 +0100] \"OPTIONS /cal.php/calendars/bestuser/default/ HTTP/1.1\" 500 620 \"-\" \"Evolution/3.12.9\"\nother_vhosts_access.log.1:my.server.com:443 89.92.172.41 - - [20/Jan/2016:18:26:21 +0100] \"OPTIONS /cal.php/calendars/bestuser/default/ HTTP/1.1\" 500 620 \"-\" \"Evolution/3.12.9\"\nother_vhosts_access.log.1:my.server.com:443 89.92.172.41 - - [20/Jan/2016:18:26:21 +0100] \"OPTIONS /cal.php/calendars/bestuser/default/ HTTP/1.1\" 500 620 \"-\" \"Evolution/3.12.9\"\n. curl: (6) Could not resolve host: OPTIONS\nAnd server side log on Apache is : \nmy.server.com:443 89.92.172.41 - - [21/Jan/2016:20:21:40 +0100] \"GET /cal.php/calendars/bestuser/default/ HTTP/1.1\" 401 5860 \"-\" \"curl/7.38.0\"\nmy.server.com:443 89.92.172.41 - - [21/Jan/2016:20:21:40 +0100] \"GET /cal.php/calendars/bestuser/default/ HTTP/1.1\" 500 483 \"-\" \"curl/7.38.0\"\n. From DAVDroid Client there are more debug logs :\n``` LOGS:\n[info ]  STARTING COLLECTION DISCOVERY FOR SERVICE CARDDAV\n[info ] Check whether user-given URL is a calendar collection and/or contains home-set and/or has current-user-principal\n[trace] --> PROPFIND https://my.server.com/card.php/addressbooks/bestuser/default HTTP/1.1\n[trace] Content-Type: application/xml; charset=utf-8\n[trace] Content-Length: 320\n[trace] Depth: 0\n[trace] <?xml version='1.0' encoding='UTF-8' ?>\n[trace] --> END PROPFIND (320-byte body)\n[trace] <-- HTTP/1.1 200 OK (207ms)\n[trace] Date: Thu, 21 Jan 2016 19:26:24 GMT\n[trace] Server: Apache/2.4.10 (Debian)\n[trace] Strict-Transport-Security: max-age=31536000; includeSubDomains\n[trace] Expires: Thu, 19 Nov 1981 08:52:00 GMT\n[trace] Cache-Control: no-store, no-cache, must-revalidate, post-check=0, pre-check=0\n[trace] Pragma: no-cache\n[trace] Vary: Accept-Encoding\n[trace] Keep-Alive: timeout=5, max=99\n[trace] Connection: Keep-Alive\n[trace] Content-Type: text/html; charset=UTF-8\n[trace] OkHttp-Sent-Millis: 1453404383631\n[trace] OkHttp-Received-Millis: 1453404383660\n[trace] \n[trace] Fatal error:  Call to a member function execute() on boolean in /var/www/ba\\\n[trace] ikal/vendor/sabre/dav/lib/Sabre/DAVACL/PrincipalBackend/PDO.php on line 161\n[trace] <-- END HTTP (185-byte body)\n[debug] PROPFIND on user-given URL failed - EXCEPTION:\nat.bitfire.dav4android.exception.InvalidDavResponseException: Expected 207 Multi-Status\n        at at.bitfire.dav4android.DavResource.assertMultiStatus(DavResource.java:295)\n        at at.bitfire.dav4android.DavResource.propfind(DavResource.java:251)\n        at at.bitfire.davdroid.resource.DavResourceFinder.findResources(DavResourceFinder.java:124)\n        at at.bitfire.davdroid.resource.DavResourceFinder.findResources(DavResourceFinder.java:85)\n        at at.bitfire.davdroid.ui.setup.QueryServerDialogFragment$ServerInfoLoader.loadInBackground(QueryServerDialogFragment.java:164)\n        at at.bitfire.davdroid.ui.setup.QueryServerDialogFragment$ServerInfoLoader.loadInBackground(QueryServerDialogFragment.java:142)\n        at android.content.AsyncTaskLoader.onLoadInBackground(AsyncTaskLoader.java:312)\n        at android.content.AsyncTaskLoader$LoadTask.doInBackground(AsyncTaskLoader.java:69)\n        at android.content.AsyncTaskLoader$LoadTask.doInBackground(AsyncTaskLoader.java:57)\n        at android.os.AsyncTask$2.call(AsyncTask.java:288)\n        at java.util.concurrent.FutureTask.run(FutureTask.java:237)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1112)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:587)\n        at java.lang.Thread.run(Thread.java:818)\nat.bitfire.dav4android.exception.InvalidDavResponseException: Expected 207 Multi-Status\nat.bitfire.dav4android.exception.InvalidDavResponseException: Expected 207 Multi-Status\n        at at.bitfire.dav4android.DavResource.assertMultiStatus(DavResource.java:295)\n        at at.bitfire.dav4android.DavResource.propfind(DavResource.java:251)\n        at at.bitfire.davdroid.resource.DavResourceFinder.findResources(DavResourceFinder.java:124)\n        at at.bitfire.davdroid.resource.DavResourceFinder.findResources(DavResourceFinder.java:85)\n        at at.bitfire.davdroid.ui.setup.QueryServerDialogFragment$ServerInfoLoader.loadInBackground(QueryServerDialogFragment.java:164)\n        at at.bitfire.davdroid.ui.setup.QueryServerDialogFragment$ServerInfoLoader.loadInBackground(QueryServerDialogFragment.java:142)\n        at android.content.AsyncTaskLoader.onLoadInBackground(AsyncTaskLoader.java:312)\n        at android.content.AsyncTaskLoader$LoadTask.doInBackground(AsyncTaskLoader.java:69)\n        at android.content.AsyncTaskLoader$LoadTask.doInBackground(AsyncTaskLoader.java:57)\n        at android.os.AsyncTask$2.call(AsyncTask.java:288)\n        at java.util.concurrent.FutureTask.run(FutureTask.java:237)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1112)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:587)\n        at java.lang.Thread.run(Thread.java:818)\n[info ] No home sets found, looking for \n[trace] --> OPTIONS https://my.server.com/card.php/addressbooks/bestuser/default HTTP/1.1\n[trace] --> END OPTIONS\n[trace] <-- HTTP/1.1 200 OK (86ms)\n[trace] Date: Thu, 21 Jan 2016 19:26:24 GMT\n[trace] Server: Apache/2.4.10 (Debian)\n[trace] Strict-Transport-Security: max-age=31536000; includeSubDomains\n[trace] Expires: Thu, 19 Nov 1981 08:52:00 GMT\n[trace] Cache-Control: no-store, no-cache, must-revalidate, post-check=0, pre-check=0\n[trace] Pragma: no-cache\n[trace] Vary: Accept-Encoding\n[trace] Keep-Alive: timeout=5, max=97\n[trace] Connection: Keep-Alive\n[trace] Content-Type: text/html; charset=UTF-8\n[trace] OkHttp-Sent-Millis: 1453404383725\n[trace] OkHttp-Received-Millis: 1453404383753\n[trace] \n[trace] Fatal error:  Call to a member function execute() on boolean in /var/www/ba\\\n[trace] ikal/vendor/sabre/dav/lib/Sabre/DAVACL/PrincipalBackend/PDO.php on line 161\n[trace] <-- END HTTP (185-byte body)\n[info ] User-given URL doesn't contain , trying /.well-known/carddav\n[trace] --> PROPFIND https://my.server.com/.well-known/carddav HTTP/1.1\n[trace] Content-Type: application/xml; charset=utf-8\n[trace] Content-Length: 198\n[trace] Depth: 0\n[trace] <?xml version='1.0' encoding='UTF-8' ?>\n[trace] --> END PROPFIND (198-byte body)\n[trace] <-- HTTP/1.1 405 Method Not Allowed (29ms)\n[trace] Date: Thu, 21 Jan 2016 19:26:24 GMT\n[trace] Server: Apache/2.4.10 (Debian)\n[trace] Strict-Transport-Security: max-age=31536000; includeSubDomains\n[trace] Allow: POST,OPTIONS,GET,HEAD\n[trace] Content-Length: 327\n[trace] Keep-Alive: timeout=5, max=96\n[trace] Connection: Keep-Alive\n[trace] Content-Type: text/html; charset=iso-8859-1\n[trace] OkHttp-Sent-Millis: 1453404383790\n[trace] OkHttp-Received-Millis: 1453404383808\n[trace] <!DOCTYPE HTML PUBLIC \"-//IETF//DTD HTML 2.0//EN\">\n[trace] \n[trace] 405 Method Not Allowed\n[trace] \n[trace] Method Not Allowed\n[trace] The requested method PROPFIND is not allowed for the URL /.well-known/carddav.\n[trace] \n[trace] Apache/2.4.10 (Debian) Server at my.server.com Port 443\n[trace] \n[trace] <-- END HTTP (327-byte body)\n[debug] Couldn't determine  from well-known carddav path - EXCEPTION:\nat.bitfire.dav4android.exception.HttpException: 405 Method Not Allowed\n        at at.bitfire.dav4android.DavResource.checkStatus(DavResource.java:281)\n        at at.bitfire.dav4android.DavResource.checkStatus(DavResource.java:286)\n        at at.bitfire.dav4android.DavResource.propfind(DavResource.java:250)\n        at at.bitfire.davdroid.resource.DavResourceFinder.getCurrentUserPrincipal(DavResourceFinder.java:444)\n        at at.bitfire.davdroid.resource.DavResourceFinder.findResources(DavResourceFinder.java:179)\n        at at.bitfire.davdroid.resource.DavResourceFinder.findResources(DavResourceFinder.java:85)\n        at at.bitfire.davdroid.ui.setup.QueryServerDialogFragment$ServerInfoLoader.loadInBackground(QueryServerDialogFragment.java:164)\n        at at.bitfire.davdroid.ui.setup.QueryServerDialogFragment$ServerInfoLoader.loadInBackground(QueryServerDialogFragment.java:142)\n        at android.content.AsyncTaskLoader.onLoadInBackground(AsyncTaskLoader.java:312)\n        at android.content.AsyncTaskLoader$LoadTask.doInBackground(AsyncTaskLoader.java:69)\n        at android.content.AsyncTaskLoader$LoadTask.doInBackground(AsyncTaskLoader.java:57)\n        at android.os.AsyncTask$2.call(AsyncTask.java:288)\n        at java.util.concurrent.FutureTask.run(FutureTask.java:237)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1112)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:587)\n        at java.lang.Thread.run(Thread.java:818)\nat.bitfire.dav4android.exception.HttpException: 405 Method Not Allowed\nat.bitfire.dav4android.exception.HttpException: 405 Method Not Allowed\n        at at.bitfire.dav4android.DavResource.checkStatus(DavResource.java:281)\n        at at.bitfire.dav4android.DavResource.checkStatus(DavResource.java:286)\n        at at.bitfire.dav4android.DavResource.propfind(DavResource.java:250)\n        at at.bitfire.davdroid.resource.DavResourceFinder.getCurrentUserPrincipal(DavResourceFinder.java:444)\n        at at.bitfire.davdroid.resource.DavResourceFinder.findResources(DavResourceFinder.java:179)\n        at at.bitfire.davdroid.resource.DavResourceFinder.findResources(DavResourceFinder.java:85)\n        at at.bitfire.davdroid.ui.setup.QueryServerDialogFragment$ServerInfoLoader.loadInBackground(QueryServerDialogFragment.java:164)\n        at at.bitfire.davdroid.ui.setup.QueryServerDialogFragment$ServerInfoLoader.loadInBackground(QueryServerDialogFragment.java:142)\n        at android.content.AsyncTaskLoader.onLoadInBackground(AsyncTaskLoader.java:312)\n        at android.content.AsyncTaskLoader$LoadTask.doInBackground(AsyncTaskLoader.java:69)\n        at android.content.AsyncTaskLoader$LoadTask.doInBackground(AsyncTaskLoader.java:57)\n        at android.os.AsyncTask$2.call(AsyncTask.java:288)\n        at java.util.concurrent.FutureTask.run(FutureTask.java:237)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1112)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:587)\n        at java.lang.Thread.run(Thread.java:818)\n[info ] No principal URL yet, trying SRV/TXT records with domain my.server.com\n[debug] Looking up SRV records for _carddavs._tcp.my.server.com\n[info ]  STARTING COLLECTION DISCOVERY FOR SERVICE CALDAV\n[info ] Check whether user-given URL is a calendar collection and/or contains home-set and/or has current-user-principal\n[trace] --> PROPFIND https://my.server.com/card.php/addressbooks/bestuser/default HTTP/1.1\n[trace] Content-Type: application/xml; charset=utf-8\n[trace] Content-Length: 435\n[trace] Depth: 0\n[trace] <?xml version='1.0' encoding='UTF-8' ?><\\\n[trace] /propfind>\n[trace] --> END PROPFIND (435-byte body)\n[trace] <-- HTTP/1.1 200 OK (80ms)\n[trace] Date: Thu, 21 Jan 2016 19:26:24 GMT\n[trace] Server: Apache/2.4.10 (Debian)\n[trace] Strict-Transport-Security: max-age=31536000; includeSubDomains\n[trace] Expires: Thu, 19 Nov 1981 08:52:00 GMT\n[trace] Cache-Control: no-store, no-cache, must-revalidate, post-check=0, pre-check=0\n[trace] Pragma: no-cache\n[trace] Vary: Accept-Encoding\n[trace] Keep-Alive: timeout=5, max=94\n[trace] Connection: Keep-Alive\n[trace] Content-Type: text/html; charset=UTF-8\n[trace] OkHttp-Sent-Millis: 1453404383875\n[trace] OkHttp-Received-Millis: 1453404383901\n[trace] \n[trace] Fatal error:  Call to a member function execute() on boolean in /var/www/ba\\\n[trace] ikal/vendor/sabre/dav/lib/Sabre/DAVACL/PrincipalBackend/PDO.php on line 161\n[trace] <-- END HTTP (185-byte body)\n[debug] PROPFIND on user-given URL failed - EXCEPTION:\nat.bitfire.dav4android.exception.InvalidDavResponseException: Expected 207 Multi-Status\n        at at.bitfire.dav4android.DavResource.assertMultiStatus(DavResource.java:295)\n        at at.bitfire.dav4android.DavResource.propfind(DavResource.java:251)\n        at at.bitfire.davdroid.resource.DavResourceFinder.findResources(DavResourceFinder.java:117)\n        at at.bitfire.davdroid.resource.DavResourceFinder.findResources(DavResourceFinder.java:86)\n        at at.bitfire.davdroid.ui.setup.QueryServerDialogFragment$ServerInfoLoader.loadInBackground(QueryServerDialogFragment.java:164)\n        at at.bitfire.davdroid.ui.setup.QueryServerDialogFragment$ServerInfoLoader.loadInBackground(QueryServerDialogFragment.java:142)\n        at android.content.AsyncTaskLoader.onLoadInBackground(AsyncTaskLoader.java:312)\n        at android.content.AsyncTaskLoader$LoadTask.doInBackground(AsyncTaskLoader.java:69)\n        at android.content.AsyncTaskLoader$LoadTask.doInBackground(AsyncTaskLoader.java:57)\n        at android.os.AsyncTask$2.call(AsyncTask.java:288)\n        at java.util.concurrent.FutureTask.run(FutureTask.java:237)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1112)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:587)\n        at java.lang.Thread.run(Thread.java:818)\nat.bitfire.dav4android.exception.InvalidDavResponseException: Expected 207 Multi-Status\nat.bitfire.dav4android.exception.InvalidDavResponseException: Expected 207 Multi-Status\n        at at.bitfire.dav4android.DavResource.assertMultiStatus(DavResource.java:295)\n        at at.bitfire.dav4android.DavResource.propfind(DavResource.java:251)\n        at at.bitfire.davdroid.resource.DavResourceFinder.findResources(DavResourceFinder.java:117)\n        at at.bitfire.davdroid.resource.DavResourceFinder.findResources(DavResourceFinder.java:86)\n        at at.bitfire.davdroid.ui.setup.QueryServerDialogFragment$ServerInfoLoader.loadInBackground(QueryServerDialogFragment.java:164)\n        at at.bitfire.davdroid.ui.setup.QueryServerDialogFragment$ServerInfoLoader.loadInBackground(QueryServerDialogFragment.java:142)\n        at android.content.AsyncTaskLoader.onLoadInBackground(AsyncTaskLoader.java:312)\n        at android.content.AsyncTaskLoader$LoadTask.doInBackground(AsyncTaskLoader.java:69)\n        at android.content.AsyncTaskLoader$LoadTask.doInBackground(AsyncTaskLoader.java:57)\n        at android.os.AsyncTask$2.call(AsyncTask.java:288)\n        at java.util.concurrent.FutureTask.run(FutureTask.java:237)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1112)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:587)\n        at java.lang.Thread.run(Thread.java:818)\n[info ] No home sets found, looking for \n[trace] --> OPTIONS https://my.server.com/card.php/addressbooks/bestuser/default HTTP/1.1\n[trace] --> END OPTIONS\n[trace] <-- HTTP/1.1 200 OK (79ms)\n[trace] Date: Thu, 21 Jan 2016 19:26:25 GMT\n[trace] Server: Apache/2.4.10 (Debian)\n[trace] Strict-Transport-Security: max-age=31536000; includeSubDomains\n[trace] Expires: Thu, 19 Nov 1981 08:52:00 GMT\n[trace] Cache-Control: no-store, no-cache, must-revalidate, post-check=0, pre-check=0\n[trace] Pragma: no-cache\n[trace] Vary: Accept-Encoding\n[trace] Keep-Alive: timeout=5, max=92\n[trace] Connection: Keep-Alive\n[trace] Content-Type: text/html; charset=UTF-8\n[trace] OkHttp-Sent-Millis: 1453404383968\n[trace] OkHttp-Received-Millis: 1453404383995\n[trace] \n[trace] Fatal error:  Call to a member function execute() on boolean in /var/www/ba\\\n[trace] ikal/vendor/sabre/dav/lib/Sabre/DAVACL/PrincipalBackend/PDO.php on line 161\n[trace] <-- END HTTP (185-byte body)\n[info ] User-given URL doesn't contain , trying /.well-known/caldav\n[trace] --> PROPFIND https://my.server.com/.well-known/caldav HTTP/1.1\n[trace] Content-Type: application/xml; charset=utf-8\n[trace] Content-Length: 198\n[trace] Depth: 0\n[trace] <?xml version='1.0' encoding='UTF-8' ?>\n[trace] --> END PROPFIND (198-byte body)\n[trace] <-- HTTP/1.1 405 Method Not Allowed (30ms)\n[trace] Date: Thu, 21 Jan 2016 19:26:25 GMT\n[trace] Server: Apache/2.4.10 (Debian)\n[trace] Strict-Transport-Security: max-age=31536000; includeSubDomains\n[trace] Allow: POST,OPTIONS,GET,HEAD\n[trace] Content-Length: 326\n[trace] Keep-Alive: timeout=5, max=91\n[trace] Connection: Keep-Alive\n[trace] Content-Type: text/html; charset=iso-8859-1\n[trace] OkHttp-Sent-Millis: 1453404384012\n[trace] OkHttp-Received-Millis: 1453404384031\n[trace] <!DOCTYPE HTML PUBLIC \"-//IETF//DTD HTML 2.0//EN\">\n[trace] \n[trace] 405 Method Not Allowed\n[trace] \n[trace] Method Not Allowed\n[trace] The requested method PROPFIND is not allowed for the URL /.well-known/caldav.\n[trace] \n[trace] Apache/2.4.10 (Debian) Server at my.server.com Port 443\n[trace] \n[trace] <-- END HTTP (326-byte body)\n[debug] Couldn't determine  from well-known caldav path - EXCEPTION:\nat.bitfire.dav4android.exception.HttpException: 405 Method Not Allowed\n        at at.bitfire.dav4android.DavResource.checkStatus(DavResource.java:281)\n        at at.bitfire.dav4android.DavResource.checkStatus(DavResource.java:286)\n        at at.bitfire.dav4android.DavResource.propfind(DavResource.java:250)\n        at at.bitfire.davdroid.resource.DavResourceFinder.getCurrentUserPrincipal(DavResourceFinder.java:444)\n        at at.bitfire.davdroid.resource.DavResourceFinder.findResources(DavResourceFinder.java:179)\n        at at.bitfire.davdroid.resource.DavResourceFinder.findResources(DavResourceFinder.java:86)\n        at at.bitfire.davdroid.ui.setup.QueryServerDialogFragment$ServerInfoLoader.loadInBackground(QueryServerDialogFragment.java:164)\n        at at.bitfire.davdroid.ui.setup.QueryServerDialogFragment$ServerInfoLoader.loadInBackground(QueryServerDialogFragment.java:142)\n        at android.content.AsyncTaskLoader.onLoadInBackground(AsyncTaskLoader.java:312)\n        at android.content.AsyncTaskLoader$LoadTask.doInBackground(AsyncTaskLoader.java:69)\n        at android.content.AsyncTaskLoader$LoadTask.doInBackground(AsyncTaskLoader.java:57)\n        at android.os.AsyncTask$2.call(AsyncTask.java:288)\n        at java.util.concurrent.FutureTask.run(FutureTask.java:237)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1112)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:587)\n        at java.lang.Thread.run(Thread.java:818)\nat.bitfire.dav4android.exception.HttpException: 405 Method Not Allowed\nat.bitfire.dav4android.exception.HttpException: 405 Method Not Allowed\n        at at.bitfire.dav4android.DavResource.checkStatus(DavResource.java:281)\n        at at.bitfire.dav4android.DavResource.checkStatus(DavResource.java:286)\n        at at.bitfire.dav4android.DavResource.propfind(DavResource.java:250)\n        at at.bitfire.davdroid.resource.DavResourceFinder.getCurrentUserPrincipal(DavResourceFinder.java:444)\n        at at.bitfire.davdroid.resource.DavResourceFinder.findResources(DavResourceFinder.java:179)\n        at at.bitfire.davdroid.resource.DavResourceFinder.findResources(DavResourceFinder.java:86)\n        at at.bitfire.davdroid.ui.setup.QueryServerDialogFragment$ServerInfoLoader.loadInBackground(QueryServerDialogFragment.java:164)\n        at at.bitfire.davdroid.ui.setup.QueryServerDialogFragment$ServerInfoLoader.loadInBackground(QueryServerDialogFragment.java:142)\n        at android.content.AsyncTaskLoader.onLoadInBackground(AsyncTaskLoader.java:312)\n        at android.content.AsyncTaskLoader$LoadTask.doInBackground(AsyncTaskLoader.java:69)\n        at android.content.AsyncTaskLoader$LoadTask.doInBackground(AsyncTaskLoader.java:57)\n        at android.os.AsyncTask$2.call(AsyncTask.java:288)\n        at java.util.concurrent.FutureTask.run(FutureTask.java:237)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1112)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:587)\n        at java.lang.Thread.run(Thread.java:818)\n[info ] No principal URL yet, trying SRV/TXT records with domain my.server.com\n[debug] Looking up SRV records for _caldavs._tcp.my.server.com\nSOFTWARE INFORMATION\nDAVdroid version: 0.9.1.3 (87) Sun Jan 03 08:04:57 GMT+01:00 2016\nInstalled from: org.fdroid.fdroid\nJB Workaround installed: no\nCONFIGURATION\nSystem-wide synchronization: manually\nSYSTEM INFORMATION\nAndroid version: 5.0.1 (LRX22C.I9505XXUHOJ2)\nDevice: Samsung GT-I9505 (jflte)\n``\n. The isntallation is configured to NOT use MySQL \n![screenshot from 2016-01-21 21 12 12](https://cloud.githubusercontent.com/assets/1951097/12493049/9c82303a-c083-11e5-9753-8ae45041db75.png)\n. I found/var/www/baikal/Core/Resources/Db/SQLite/db.sqlitefile but is it the same as thePROJECT_PATH_SPECIFIC \"db/sqlite\"` that can be seen in System settings?\n```\n/var/www/baikal/Core/Resources/Db/SQLite# sqlite3\nSQLite version 3.8.7.1 2014-10-29 13:59:56\nEnter \".help\" for usage hints.\nConnected to a transient in-memory database.\nUse \".open FILENAME\" to reopen on a persistent database.\nsqlite> .open db.sqlite \nsqlite> .schema princopals\nsqlite> .schema principals\nCREATE TABLE principals (\n    id INTEGER PRIMARY KEY ASC,\n    uri TEXT,\n    email TEXT,\n    displayname TEXT,\n    vcardurl TEXT,\n    UNIQUE(uri)\n);\n. Perhaps is it `/var/www/baikal/Specific/db/db.sqlite` ?\n.\nroot@my.server.com:/var/www/baikal/Specific/db# sqlite3\nSQLite version 3.8.7.1 2014-10-29 13:59:56\nEnter \".help\" for usage hints.\nConnected to a transient in-memory database.\nUse \".open FILENAME\" to reopen on a persistent database.\nsqlite> .open db.sqlite\nsqlite> .schema principals\nCREATE TABLE principals (\n    id INTEGER PRIMARY KEY ASC, \n    uri TEXT,\n    email TEXT,\n    displayname TEXT,\n    UNIQUE(uri)\n);\nsqlite> .dump principals\nPRAGMA foreign_keys=OFF;\nBEGIN TRANSACTION;\nCREATE TABLE principals (\n    id INTEGER PRIMARY KEY ASC, \n    uri TEXT,\n    email TEXT,\n    displayname TEXT,\n    UNIQUE(uri)\n);\nINSERT INTO \"principals\" VALUES(1,'principals/bestuser','bestuser@my.server.com','The Best User');\nCOMMIT;\nsqlite> \n``\n.-rw-r--r-- 1 www-data www-data 14336 Jul 10  2015 db.sqlite`\nwww-data is debian user that runs apache http server\n. Yes up to install directory\ntree -ug\n.\n\u251c\u2500\u2500 [www-data www-data]  ChangeLog.md\n\u251c\u2500\u2500 [www-data www-data]  Core\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Distrib.php\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Frameworks\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Baikal\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Core\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  PDOBasicAuth.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  Tools.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Framework.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Model\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  AddressBook\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  Contact.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  AddressBook.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Calendar\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  Event.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Calendar.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Config\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Database.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Distrib.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Standard.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  System.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Config.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Principal.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  User.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  WWWRoot\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u251c\u2500\u2500 [www-data www-data]  cal.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u251c\u2500\u2500 [www-data www-data]  card.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2514\u2500\u2500 [www-data www-data]  index.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  BaikalAdmin\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  config.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Controller\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Dashboard.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Install\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Database.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Initialize.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  VersionUpgrade.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Login.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Logout.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Navigation\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Topbar\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Anonymous.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  Install.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  Topbar.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Settings\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Standard.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  System.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  User\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  AddressBooks.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  Calendars.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  Users.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Core\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Auth.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  View.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Framework.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Resources\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  GlyphiconsPro\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  generate-sprite.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  glyph2x-dark.png\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  glyph-dark.png\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  glyphpro-2x.css\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  glyphpro.css\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  test-glyphpro2x.html\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  html5.js\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Images\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  logo-framboise.png\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Strings\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  EN\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2514\u2500\u2500 [www-data www-data]  Exceptions.json\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  Templates\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u251c\u2500\u2500 [www-data www-data]  Dashboard.html\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u251c\u2500\u2500 [www-data www-data]  Install\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Database.html\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  Initialize.html\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u251c\u2500\u2500 [www-data www-data]  Login.html\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u251c\u2500\u2500 [www-data www-data]  Navigation\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Topbar\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Anonymous.html\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  Install.html\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  Topbar.html\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u251c\u2500\u2500 [www-data www-data]  Page\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  baikal-text-20.png\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  index.html\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  style.css\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u251c\u2500\u2500 [www-data www-data]  Settings\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Standard.html\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  System.html\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u251c\u2500\u2500 [www-data www-data]  User\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  AddressBooks.html\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  Calendars.html\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2514\u2500\u2500 [www-data www-data]  Users.html\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Route\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Dashboard.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Logout.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Settings\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Standard.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  System.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  User\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  AddressBooks.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  Calendars.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  Users.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  View\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Dashboard.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Install\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Database.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  Initialize.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Login.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Navigation\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Topbar\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Anonymous.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  Install.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  Topbar.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Settings\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Standard.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  System.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  User\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  AddressBooks.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  Calendars.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  Users.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  WWWRoot\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u251c\u2500\u2500 [www-data www-data]  index.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2514\u2500\u2500 [www-data www-data]  install\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2514\u2500\u2500 [www-data www-data]  index.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Flake\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  config.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Controller\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Cli.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  HtmlBlock.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  HtmlBlockTemplated.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Page.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  Rpc.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Core\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Collection.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  CollectionTyped.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Controller.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Database\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Mysql.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Sqlite.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  Statement.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Database.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Datastructure\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Chainable.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  ChainLink.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  Chain.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  DOM\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  HTMLElement.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  FLObject.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Framework.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Model\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Db.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  NoDb.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Model.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  PostConnectionService.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Render\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Container.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  Zone.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Requester\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  Sql.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Requester.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Route.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Template.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  View.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Framework.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Model\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  IUser.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  User\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u251c\u2500\u2500 [www-data www-data]  Admin.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2514\u2500\u2500 [www-data www-data]  Customer.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  Util\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u251c\u2500\u2500 [www-data www-data]  Frameworks.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u251c\u2500\u2500 [www-data www-data]  Profiler.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u251c\u2500\u2500 [www-data www-data]  Router\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  QuestionMarkRewrite.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u251c\u2500\u2500 [www-data www-data]  Router.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u251c\u2500\u2500 [www-data www-data]  Tools.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2514\u2500\u2500 [www-data www-data]  Twig\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u251c\u2500\u2500 [www-data www-data]  AUTHORS\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u251c\u2500\u2500 [www-data www-data]  CHANGELOG\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u251c\u2500\u2500 [www-data www-data]  lib\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  Twig\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u251c\u2500\u2500 [www-data www-data]  Autoloader.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u251c\u2500\u2500 [www-data www-data]  CompilerInterface.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u251c\u2500\u2500 [www-data www-data]  Compiler.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u251c\u2500\u2500 [www-data www-data]  Environment.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u251c\u2500\u2500 [www-data www-data]  Error\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Loader.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Runtime.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  Syntax.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u251c\u2500\u2500 [www-data www-data]  Error.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u251c\u2500\u2500 [www-data www-data]  ExpressionParser.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u251c\u2500\u2500 [www-data www-data]  Extension\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Core.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Debug.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Escaper.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Optimizer.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  Sandbox.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u251c\u2500\u2500 [www-data www-data]  ExtensionInterface.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u251c\u2500\u2500 [www-data www-data]  Extension.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u251c\u2500\u2500 [www-data www-data]  Filter\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Function.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Method.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  Node.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u251c\u2500\u2500 [www-data www-data]  FilterInterface.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u251c\u2500\u2500 [www-data www-data]  Filter.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u251c\u2500\u2500 [www-data www-data]  Function\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Function.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Method.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  Node.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u251c\u2500\u2500 [www-data www-data]  FunctionInterface.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u251c\u2500\u2500 [www-data www-data]  Function.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u251c\u2500\u2500 [www-data www-data]  LexerInterface.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u251c\u2500\u2500 [www-data www-data]  Lexer.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u251c\u2500\u2500 [www-data www-data]  Loader\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Array.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Chain.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Filesystem.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  String.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u251c\u2500\u2500 [www-data www-data]  LoaderInterface.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u251c\u2500\u2500 [www-data www-data]  Markup.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u251c\u2500\u2500 [www-data www-data]  Node\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  AutoEscape.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Block.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  BlockReference.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Body.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Do.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Embed.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Expression\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Array.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  AssignName.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Binary\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Add.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  And.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  BitwiseAnd.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  BitwiseOr.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  BitwiseXor.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Concat.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Div.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Equal.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  FloorDiv.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  GreaterEqual.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Greater.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  In.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  LessEqual.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Less.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Mod.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Mul.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  NotEqual.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  NotIn.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Or.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Power.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Range.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  Sub.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Binary.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  BlockReference.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Conditional.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Constant.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  ExtensionReference.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Filter\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  Default.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Filter.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Function.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  GetAttr.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  MethodCall.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Name.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Parent.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  TempName.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Test\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Constant.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Defined.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Divisibleby.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Even.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Null.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Odd.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  Sameas.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Test.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Unary\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Neg.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Not.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  Pos.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  Unary.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Expression.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Flush.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  ForLoop.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  For.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  If.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Import.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Include.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Macro.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Module.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Print.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  SandboxedModule.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  SandboxedPrint.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Sandbox.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Set.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  SetTemp.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Spaceless.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  Text.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u251c\u2500\u2500 [www-data www-data]  NodeInterface.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u251c\u2500\u2500 [www-data www-data]  NodeOutputInterface.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u251c\u2500\u2500 [www-data www-data]  Node.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u251c\u2500\u2500 [www-data www-data]  NodeTraverser.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u251c\u2500\u2500 [www-data www-data]  NodeVisitor\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Escaper.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Optimizer.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  SafeAnalysis.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  Sandbox.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u251c\u2500\u2500 [www-data www-data]  NodeVisitorInterface.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u251c\u2500\u2500 [www-data www-data]  ParserInterface.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u251c\u2500\u2500 [www-data www-data]  Parser.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u251c\u2500\u2500 [www-data www-data]  Sandbox\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  SecurityError.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  SecurityPolicyInterface.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  SecurityPolicy.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u251c\u2500\u2500 [www-data www-data]  TemplateInterface.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u251c\u2500\u2500 [www-data www-data]  Template.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u251c\u2500\u2500 [www-data www-data]  Test\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Function.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Method.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  Node.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u251c\u2500\u2500 [www-data www-data]  TestInterface.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u251c\u2500\u2500 [www-data www-data]  TokenParser\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  AutoEscape.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Block.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Do.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Embed.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Extends.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Filter.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Flush.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  For.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  From.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  If.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Import.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Include.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Macro.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Sandbox.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Set.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Spaceless.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  Use.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u251c\u2500\u2500 [www-data www-data]  TokenParserBrokerInterface.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u251c\u2500\u2500 [www-data www-data]  TokenParserBroker.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u251c\u2500\u2500 [www-data www-data]  TokenParserInterface.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u251c\u2500\u2500 [www-data www-data]  TokenParser.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u251c\u2500\u2500 [www-data www-data]  Token.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2514\u2500\u2500 [www-data www-data]  TokenStream.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u251c\u2500\u2500 [www-data www-data]  LICENSE\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2514\u2500\u2500 [www-data www-data]  README.markdown\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Formal\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Core\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  Message.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Element\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Checkbox.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Listbox.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Password.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  Text.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Element.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Form\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  Morphology.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Form.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  Framework.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  TwitterBootstrap\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u251c\u2500\u2500 [www-data www-data]  css\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  bootstrap.css\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  bootstrap.min.css\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  bootstrap-responsive.css\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  bootstrap-responsive.min.css\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u251c\u2500\u2500 [www-data www-data]  img\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  glyphicons-halflings-orig.png\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  glyphicons-halflings.png\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  glyphicons-halflings-white.png\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2514\u2500\u2500 [www-data www-data]  js\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u251c\u2500\u2500 [www-data www-data]  bootstrap.js\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u251c\u2500\u2500 [www-data www-data]  bootstrap.min.js\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u251c\u2500\u2500 [www-data www-data]  bootstrap-popover.js\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u251c\u2500\u2500 [www-data www-data]  bootstrap-tooltip.js\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2514\u2500\u2500 [www-data www-data]  jquery-1.7.1.min.js\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  Resources\n\u2502\u00a0\u00a0     \u251c\u2500\u2500 [www-data www-data]  Db\n\u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  MySQL\n\u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  db.sql\n\u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  SQLite\n\u2502\u00a0\u00a0     \u2502\u00a0\u00a0     \u251c\u2500\u2500 [www-data www-data]  db.sql\n\u2502\u00a0\u00a0     \u2502\u00a0\u00a0     \u2514\u2500\u2500 [www-data www-data]  db.sqlite\n\u2502\u00a0\u00a0     \u251c\u2500\u2500 [www-data www-data]  System\n\u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  htaccess-documentroot\n\u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  htaccess-specific\n\u2502\u00a0\u00a0     \u2514\u2500\u2500 [www-data www-data]  Web\n\u2502\u00a0\u00a0         \u251c\u2500\u2500 [www-data www-data]  BaikalAdmin -> ../../Frameworks/BaikalAdmin/Resources\n\u2502\u00a0\u00a0         \u251c\u2500\u2500 [www-data www-data]  README.md\n\u2502\u00a0\u00a0         \u2514\u2500\u2500 [www-data www-data]  TwitterBootstrap -> ../../Frameworks/TwitterBootstrap\n\u251c\u2500\u2500 [www-data www-data]  html\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  admin\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  index.php -> ../../Core/Frameworks/BaikalAdmin/WWWRoot/index.php\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  install\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2514\u2500\u2500 [www-data www-data]  index.php -> ../../../Core/Frameworks/BaikalAdmin/WWWRoot/install/index.php\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  cal.php -> ../Core/Frameworks/Baikal/WWWRoot/cal.php\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  card.php -> ../Core/Frameworks/Baikal/WWWRoot/card.php\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  index.php -> ../Core/Frameworks/Baikal/WWWRoot/index.php\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  res\n\u2502\u00a0\u00a0     \u2514\u2500\u2500 [www-data www-data]  core -> ../../Core/Resources/Web\n\u251c\u2500\u2500 [www-data www-data]  INSTALL.md\n\u251c\u2500\u2500 [www-data www-data]  LICENSE.txt\n\u251c\u2500\u2500 [www-data www-data]  README.md\n\u251c\u2500\u2500 [www-data www-data]  Specific\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  config.php\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  config.system.php\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  db\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  db.sqlite\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  ENABLE_INSTALL\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  virtualhosts\n\u2502\u00a0\u00a0     \u251c\u2500\u2500 [www-data www-data]  baikal.apache2\n\u2502\u00a0\u00a0     \u2514\u2500\u2500 [www-data www-data]  baikal.nginx\n\u251c\u2500\u2500 [www-data www-data]  TROUBLESHOOTING.md\n\u251c\u2500\u2500 [www-data www-data]  UPGRADE.md\n\u2514\u2500\u2500 [www-data www-data]  vendor\n    \u251c\u2500\u2500 [www-data www-data]  autoload.php\n    \u251c\u2500\u2500 [www-data www-data]  bin\n    \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  sabredav -> ../sabre/dav/bin/sabredav\n    \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  vobjectvalidate.php -> ../sabre/vobject/bin/vobjectvalidate.php\n    \u251c\u2500\u2500 [www-data www-data]  composer\n    \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  autoload_classmap.php\n    \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  autoload_namespaces.php\n    \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  autoload_psr4.php\n    \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  autoload_real.php\n    \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  ClassLoader.php\n    \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  installed.json\n    \u2514\u2500\u2500 [www-data www-data]  sabre\n        \u251c\u2500\u2500 [www-data www-data]  dav\n        \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  bin\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  googlecode_upload.py\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  migrateto17.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  naturalselection.py\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  sabredav\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  sabredav.php\n        \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  build.xml\n        \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  ChangeLog\n        \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  composer.json\n        \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  docs\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  caldav-ctag.txt\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  caldav-notifications.txt\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  caldav-proxy.txt\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  caldav-sharing.txt\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  draft-daboo-carddav-directory-gateway-02.txt\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  draft-desruisseaux-caldav-sched-10.txt\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  draft-ietf-httpbis-p1-messaging-11.txt\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  draft-ietf-httpbis-p4-conditional-11.txt\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  draft-ietf-httpbis-p5-range-11.txt\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  draft-ietf-httpbis-p6-cache-11.txt\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  draft-nottingham-http-new-status-04.txt\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  rfc2425.txt\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  rfc2426.txt\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  rfc2518.txt\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  rfc2616.txt\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  rfc2617.txt\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  rfc3253.pdf\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  rfc3744.pdf\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  rfc4437.pdf\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  rfc4790.txt\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  rfc4791.txt\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  rfc4918.pdf\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  rfc5051.txt\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  rfc5397.txt\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  rfc5545.txt\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  rfc5546.txt\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  rfc5689.txt\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  rfc5785.txt\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  rfc5789.txt\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  rfc6047.txt\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  rfc6321.txt\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  rfc6350.txt\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  rfc6351.txt\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  rfc6352.txt\n        \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  examples\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  addressbookserver.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  basicauth.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  calendarserver.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  digestauth.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  fileserver.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  groupwareserver.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  simplefsserver.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  sql\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  mysql.addressbook.sql\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  mysql.calendars.sql\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  mysql.locks.sql\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  mysql.principals.sql\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  mysql.users.sql\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  pgsql.addressbook.sql\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  pgsql.calendars.sql\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  pgsql.locks.sql\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  pgsql.principals.sql\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  pgsql.users.sql\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  sqlite.addressbooks.sql\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  sqlite.calendars.sql\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  sqlite.locks.sql\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  sqlite.principals.sql\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  sqlite.users.sql\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  webserver\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u251c\u2500\u2500 [www-data www-data]  apache2_htaccess.conf\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u251c\u2500\u2500 [www-data www-data]  apache2_vhost_cgi.conf\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2514\u2500\u2500 [www-data www-data]  apache2_vhost.conf\n        \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  lib\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  Sabre\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u251c\u2500\u2500 [www-data www-data]  autoload.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u251c\u2500\u2500 [www-data www-data]  CalDAV\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Backend\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  AbstractBackend.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  BackendInterface.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  NotificationSupport.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  PDO.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  SharingSupport.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  CalendarObject.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Calendar.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  CalendarQueryParser.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  CalendarQueryValidator.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  CalendarRootNode.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Exception\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  InvalidComponentType.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  ICalendarObject.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  ICalendar.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  ICSExportPlugin.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  IShareableCalendar.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  ISharedCalendar.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Notifications\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Collection.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  ICollection.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  INode.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  INotificationType.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Node.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  Notification\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u251c\u2500\u2500 [www-data www-data]  Invite.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u251c\u2500\u2500 [www-data www-data]  InviteReply.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2514\u2500\u2500 [www-data www-data]  SystemStatus.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Plugin.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Principal\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Collection.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  IProxyRead.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  IProxyWrite.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  ProxyRead.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  ProxyWrite.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  User.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Property\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  AllowedSharingModes.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Invite.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  ScheduleCalendarTransp.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  SupportedCalendarComponentSet.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  SupportedCalendarData.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  SupportedCollationSet.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Schedule\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  IMip.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  IOutbox.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  Outbox.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  ShareableCalendar.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  SharedCalendar.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  SharingPlugin.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  UserCalendars.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  Version.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u251c\u2500\u2500 [www-data www-data]  CardDAV\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  AddressBook.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  AddressBookQueryParser.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  AddressBookRoot.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Backend\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  AbstractBackend.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  BackendInterface.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  PDO.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Card.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  IAddressBook.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  ICard.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  IDirectory.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Plugin.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Property\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  SupportedAddressData.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  UserAddressBooks.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  VCFExportPlugin.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  Version.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u251c\u2500\u2500 [www-data www-data]  DAV\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Auth\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Backend\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  AbstractBasic.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  AbstractDigest.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Apache.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  BackendInterface.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  File.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  PDO.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  Plugin.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Browser\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  assets\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  favicon.ico\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  icons\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u251c\u2500\u2500 [www-data www-data]  addressbook.png\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u251c\u2500\u2500 [www-data www-data]  calendar.png\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u251c\u2500\u2500 [www-data www-data]  card.png\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u251c\u2500\u2500 [www-data www-data]  collection.png\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u251c\u2500\u2500 [www-data www-data]  file.png\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u251c\u2500\u2500 [www-data www-data]  parent.png\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2514\u2500\u2500 [www-data www-data]  principal.png\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  GuessContentType.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  MapGetToPropFind.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  Plugin.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Client.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Collection.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Exception\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  BadRequest.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  ConflictingLock.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Conflict.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  FileNotFound.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Forbidden.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  InsufficientStorage.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  InvalidResourceType.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Locked.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  LockTokenMatchesRequestUri.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  MethodNotAllowed.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  NotAuthenticated.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  NotFound.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  NotImplemented.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  PaymentRequired.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  PreconditionFailed.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  ReportNotSupported.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  RequestedRangeNotSatisfiable.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  ServiceUnavailable.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  UnsupportedMediaType.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Exception.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  File.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  FS\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Directory.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  File.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  Node.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  FSExt\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Directory.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  File.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  Node.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  ICollection.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  IExtendedCollection.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  IFile.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  INode.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  IProperties.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  IQuota.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Locks\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Backend\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  AbstractBackend.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  BackendInterface.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  File.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  FS.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  PDO.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  LockInfo.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  Plugin.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Mount\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  Plugin.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Node.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  ObjectTree.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  PartialUpdate\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  IFile.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  Plugin.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Property\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  GetLastModified.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  HrefList.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Href.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  IHref.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  LockDiscovery.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  ResourceType.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  ResponseList.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Response.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  SupportedLock.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  SupportedReportSet.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  PropertyInterface.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Property.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Server.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  ServerPlugin.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  SimpleCollection.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  SimpleFile.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  StringUtil.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  TemporaryFileFilterPlugin.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Tree\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  Filesystem.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Tree.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  URLUtil.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  UUIDUtil.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Version.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  XMLUtil.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u251c\u2500\u2500 [www-data www-data]  DAVACL\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  AbstractPrincipalCollection.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Exception\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  AceConflict.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  NeedPrivileges.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  NoAbstract.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  NotRecognizedPrincipal.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  NotSupportedPrivilege.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  IACL.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  IPrincipalCollection.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  IPrincipal.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Plugin.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  PrincipalBackend\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  AbstractBackend.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  BackendInterface.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  PDO.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  PrincipalCollection.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Principal.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Property\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Acl.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  AclRestrictions.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  CurrentUserPrivilegeSet.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Principal.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  SupportedPrivilegeSet.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  Version.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2514\u2500\u2500 [www-data www-data]  HTTP\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u251c\u2500\u2500 [www-data www-data]  AbstractAuth.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u251c\u2500\u2500 [www-data www-data]  AWSAuth.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u251c\u2500\u2500 [www-data www-data]  BasicAuth.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u251c\u2500\u2500 [www-data www-data]  DigestAuth.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u251c\u2500\u2500 [www-data www-data]  Request.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u251c\u2500\u2500 [www-data www-data]  Response.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u251c\u2500\u2500 [www-data www-data]  Util.php\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2514\u2500\u2500 [www-data www-data]  Version.php\n        \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  LICENSE\n        \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  README.md\n        \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  tests\n        \u2502\u00a0\u00a0     \u251c\u2500\u2500 [www-data www-data]  bootstrap.php\n        \u2502\u00a0\u00a0     \u251c\u2500\u2500 [www-data www-data]  composer.vobject3.json\n        \u2502\u00a0\u00a0     \u251c\u2500\u2500 [www-data www-data]  phpunit.xml\n        \u2502\u00a0\u00a0     \u2514\u2500\u2500 [www-data www-data]  Sabre\n        \u2502\u00a0\u00a0         \u251c\u2500\u2500 [www-data www-data]  CalDAV\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Backend\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  AbstractPDOTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  AbstractTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Mock.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  PDOMySQLTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  PDOSqliteTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  CalendarObjectTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  CalendarQueryParserTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  CalendarQueryVAlarmTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  CalendarQueryValidatorTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  CalendarTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  ExpandEventsDoubleEventsTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  ExpandEventsDTSTARTandDTENDbyDayTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  ExpandEventsDTSTARTandDTENDTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  FreeBusyReportTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  FreeBusyRequestTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  GetEventsByTimerangeTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  ICSExportPluginTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Issue166Test.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Issue172Test.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Issue203Test.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Issue205Test.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Issue211Test.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Issue220Test.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Issue228Test.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Notifications\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  CollectionTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  NodeTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  Notification\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u251c\u2500\u2500 [www-data www-data]  InviteReplyTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u251c\u2500\u2500 [www-data www-data]  InviteTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2514\u2500\u2500 [www-data www-data]  SystemStatusTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  OutboxPostTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  PluginTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Principal\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  CollectionTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  ProxyReadTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  ProxyWriteTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  UserTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Property\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  AllowedSharingModesTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  InviteTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  ScheduleCalendarTranspTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  SupportedCalendarComponentSetTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  SupportedCalendarDataTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  SupportedCollationSetTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Schedule\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  IMip\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  Mock.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  OutboxTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  ShareableCalendarTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  SharedCalendarTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  SharingPluginTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  TestUtil.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  UserCalendarsSharedCalendarsTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  UserCalendarsTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  ValidateICalTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  VersionTest.php\n        \u2502\u00a0\u00a0         \u251c\u2500\u2500 [www-data www-data]  CardDAV\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  AbstractPluginTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  AddressBookQueryParserTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  AddressBookQueryTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  AddressBookRootTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  AddressBookTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Backend\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  AbstractPDOTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Mock.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  PDOMySQLTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  PDOSqliteTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  CardTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  IDirectoryTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  MultiGetTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  PluginTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Property\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  SupportedAddressDataTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  SogoStripContentTypeTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  TestUtil.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  UserAddressBooksTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  ValidateFilterTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  ValidateVCardTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  VCFExportTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  VersionTest.php\n        \u2502\u00a0\u00a0         \u251c\u2500\u2500 [www-data www-data]  DAV\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  AbstractServer.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Auth\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Backend\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  AbstractBasicTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  AbstractDigestTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  AbstractPDOTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  ApacheTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  FileTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Mock.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  PDOMySQLTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  PDOSqliteTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  PluginTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  BasicNodeTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Browser\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  GuessContentTypeTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  MapGetToPropFindTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  PluginTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  ClientMock.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  ClientTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Exception\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  LockedTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  PaymentRequiredTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  ExceptionTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  FSExt\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  FileTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  NodeTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  ServerTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  HTTPPreferParsingTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Issue33Test.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Locks\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Backend\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  AbstractTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  FileTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  FSTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  PDOMySQLTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  PDOTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  GetIfConditionsTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  MSWordTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  PluginTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Mount\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  PluginTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  ObjectTreeTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  PartialUpdate\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  FileMock.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  PluginTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Property\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  GetLastModifiedTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  HrefListTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  HrefTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  ResourceTypeTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  ResponseListTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  ResponseTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  SupportedReportSetTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  ServerCopyMoveTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  ServerEventsTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  ServerFinderBlockTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  ServerMKCOLTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  ServerPluginTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  ServerPreconditionTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  ServerPropsTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  ServerRangeTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  ServerSimpleTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  ServerUpdatePropertiesTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  SimpleFileTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  StringUtilTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  TemporaryFileFilterTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  TestPlugin.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Tree\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  FilesystemTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  TreeTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  URLUtilTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  UUIDUtilTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  XMLUtilTest.php\n        \u2502\u00a0\u00a0         \u251c\u2500\u2500 [www-data www-data]  DAVACL\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  ACLMethodTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  AllowAccessTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  BlockAccessTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Exception\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  AceConflictTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  NeedPrivilegesExceptionTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  NoAbstractTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  NotRecognizedPrincipalTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  NotSupportedPrivilegeTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  ExpandPropertiesTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  MockACLNode.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  MockPrincipal.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  PluginAdminTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  PluginPropertiesTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  PluginUpdatePropertiesTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  PrincipalBackend\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  AbstractPDOTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Mock.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  PDOMySQLTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  PDOSqliteTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  PrincipalCollectionTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  PrincipalPropertySearchTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  PrincipalSearchPropertySetTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  PrincipalTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Property\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  ACLRestrictionsTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  ACLTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  CurrentUserPrivilegeSetTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  PrincipalTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  SupportedPrivilegeSetTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  SimplePluginTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  VersionTest.php\n        \u2502\u00a0\u00a0         \u251c\u2500\u2500 [www-data www-data]  DAVServerTest.php\n        \u2502\u00a0\u00a0         \u251c\u2500\u2500 [www-data www-data]  HTTP\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  AWSAuthTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  BasicAuthTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  DigestAuthTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  RequestTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  ResponseMock.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  ResponseTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  UtilTest.php\n        \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  VersionTest.php\n        \u2502\u00a0\u00a0         \u2514\u2500\u2500 [www-data www-data]  TestUtil.php\n        \u2514\u2500\u2500 [www-data www-data]  vobject\n            \u251c\u2500\u2500 [www-data www-data]  bin\n            \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  bench.php\n            \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  generateicalendardata.php\n            \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  vobjectvalidate.php\n            \u251c\u2500\u2500 [www-data www-data]  ChangeLog\n            \u251c\u2500\u2500 [www-data www-data]  composer.json\n            \u251c\u2500\u2500 [www-data www-data]  lib\n            \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  Sabre\n            \u2502\u00a0\u00a0     \u2514\u2500\u2500 [www-data www-data]  VObject\n            \u2502\u00a0\u00a0         \u251c\u2500\u2500 [www-data www-data]  Component\n            \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  VAlarm.php\n            \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  VCalendar.php\n            \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  VCard.php\n            \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  VEvent.php\n            \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  VFreeBusy.php\n            \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  VJournal.php\n            \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  VTodo.php\n            \u2502\u00a0\u00a0         \u251c\u2500\u2500 [www-data www-data]  Component.php\n            \u2502\u00a0\u00a0         \u251c\u2500\u2500 [www-data www-data]  DateTimeParser.php\n            \u2502\u00a0\u00a0         \u251c\u2500\u2500 [www-data www-data]  Document.php\n            \u2502\u00a0\u00a0         \u251c\u2500\u2500 [www-data www-data]  ElementList.php\n            \u2502\u00a0\u00a0         \u251c\u2500\u2500 [www-data www-data]  FreeBusyGenerator.php\n            \u2502\u00a0\u00a0         \u251c\u2500\u2500 [www-data www-data]  includes.php\n            \u2502\u00a0\u00a0         \u251c\u2500\u2500 [www-data www-data]  Node.php\n            \u2502\u00a0\u00a0         \u251c\u2500\u2500 [www-data www-data]  Parameter.php\n            \u2502\u00a0\u00a0         \u251c\u2500\u2500 [www-data www-data]  ParseException.php\n            \u2502\u00a0\u00a0         \u251c\u2500\u2500 [www-data www-data]  Property\n            \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  Compound.php\n            \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  DateTime.php\n            \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  MultiDateTime.php\n            \u2502\u00a0\u00a0         \u251c\u2500\u2500 [www-data www-data]  Property.php\n            \u2502\u00a0\u00a0         \u251c\u2500\u2500 [www-data www-data]  Reader.php\n            \u2502\u00a0\u00a0         \u251c\u2500\u2500 [www-data www-data]  RecurrenceIterator.php\n            \u2502\u00a0\u00a0         \u251c\u2500\u2500 [www-data www-data]  Splitter\n            \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  ICalendar.php\n            \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  SplitterInterface.php\n            \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  VCard.php\n            \u2502\u00a0\u00a0         \u251c\u2500\u2500 [www-data www-data]  StringUtil.php\n            \u2502\u00a0\u00a0         \u251c\u2500\u2500 [www-data www-data]  TimeZoneUtil.php\n            \u2502\u00a0\u00a0         \u2514\u2500\u2500 [www-data www-data]  Version.php\n            \u251c\u2500\u2500 [www-data www-data]  LICENSE\n            \u251c\u2500\u2500 [www-data www-data]  README.md\n            \u2514\u2500\u2500 [www-data www-data]  tests\n                \u251c\u2500\u2500 [www-data www-data]  bootstrap.php\n                \u251c\u2500\u2500 [www-data www-data]  phpunit.xml\n                \u2514\u2500\u2500 [www-data www-data]  Sabre\n                    \u2514\u2500\u2500 [www-data www-data]  VObject\n                        \u251c\u2500\u2500 [www-data www-data]  Component\n                        \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  VAlarmTest.php\n                        \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  VCalendarTest.php\n                        \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  VCardTest.php\n                        \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  VEventTest.php\n                        \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  VFreeBusyTest.php\n                        \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  VJournalTest.php\n                        \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  VTodoTest.php\n                        \u251c\u2500\u2500 [www-data www-data]  ComponentTest.php\n                        \u251c\u2500\u2500 [www-data www-data]  DateTimeParserTest.php\n                        \u251c\u2500\u2500 [www-data www-data]  DocumentTest.php\n                        \u251c\u2500\u2500 [www-data www-data]  ElementListTest.php\n                        \u251c\u2500\u2500 [www-data www-data]  EmClientTest.php\n                        \u251c\u2500\u2500 [www-data www-data]  FreeBusyGeneratorTest.php\n                        \u251c\u2500\u2500 [www-data www-data]  Issue153Test.php\n                        \u251c\u2500\u2500 [www-data www-data]  issue153.vcf\n                        \u251c\u2500\u2500 [www-data www-data]  Issue154Test.php\n                        \u251c\u2500\u2500 [www-data www-data]  Issue48Test.php\n                        \u251c\u2500\u2500 [www-data www-data]  Issue50Test.php\n                        \u251c\u2500\u2500 [www-data www-data]  ParameterTest.php\n                        \u251c\u2500\u2500 [www-data www-data]  Property\n                        \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  CompoundTest.php\n                        \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  DateTimeTest.php\n                        \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  MultiDateTimeTest.php\n                        \u251c\u2500\u2500 [www-data www-data]  PropertyTest.php\n                        \u251c\u2500\u2500 [www-data www-data]  ReaderTest.php\n                        \u251c\u2500\u2500 [www-data www-data]  RecurrenceIteratorFifthTuesdayProblemTest.php\n                        \u251c\u2500\u2500 [www-data www-data]  RecurrenceIteratorIncorrectExpandTest.php\n                        \u251c\u2500\u2500 [www-data www-data]  RecurrenceIteratorInfiniteLoopProblemTest.php\n                        \u251c\u2500\u2500 [www-data www-data]  RecurrenceIteratorMinusOneProblemTest.php\n                        \u251c\u2500\u2500 [www-data www-data]  RecurrenceIteratorMissingOverriddenTest.php\n                        \u251c\u2500\u2500 [www-data www-data]  RecurrenceIteratorTest.php\n                        \u251c\u2500\u2500 [www-data www-data]  SlashRTest.php\n                        \u251c\u2500\u2500 [www-data www-data]  Splitter\n                        \u2502\u00a0\u00a0 \u251c\u2500\u2500 [www-data www-data]  ICalendarTest.php\n                        \u2502\u00a0\u00a0 \u2514\u2500\u2500 [www-data www-data]  VCardTest.php\n                        \u251c\u2500\u2500 [www-data www-data]  StringUtilTest.php\n                        \u251c\u2500\u2500 [www-data www-data]  TimeZoneUtilTest.php\n                        \u2514\u2500\u2500 [www-data www-data]  VersionTest.php\n. Could it have anything to do with apache 2.4 ? It was running smoothly on apache 2.2\n. And admin page can detect that there is one user declared :\n\n\n. display-errors is On in php.ini file but I don't know where to find these logs ... I'm not familiar with php ;-)\n. There are many lines in logs file but they don't contain more information than in my original post.\nser.log.1:Jan 16 20:05:24 my.server.com apache2: PHP Fatal error:  Call to a member function execute() on boolean in /var/www/baikal/vendor/sabre/dav/lib/Sabre/DAVACL/PrincipalBackend/PDO.php on line 161\nuser.log.1:Jan 16 20:05:41 my.server.com apache2: PHP Fatal error:  Call to a member function execute() on boolean in /var/www/baikal/vendor/sabre/dav/lib/Sabre/DAVACL/PrincipalBackend/PDO.php on line 161\nuser.log.1:Jan 16 20:09:20 my.server.com apache2: PHP Fatal error:  Call to a member function execute() on boolean in /var/www/baikal/vendor/sabre/dav/lib/Sabre/DAVACL/PrincipalBackend/PDO.php on line 161\nuser.log.1:Jan 16 20:09:20 my.server.com apache2: PHP Fatal error:  Call to a member function execute() on boolean in /var/www/baikal/vendor/sabre/dav/lib/Sabre/DAVACL/PrincipalBackend/PDO.php on line 161\nuser.log.1:Jan 16 20:09:20 my.server.com apache2: PHP Fatal error:  Call to a member function execute() on boolean in /var/www/baikal/vendor/sabre/dav/lib/Sabre/DAVACL/PrincipalBackend/PDO.php on line 161\nuser.log.1:Jan 16 20:10:07 my.server.com apache2: PHP Fatal error:  Call to a member function execute() on boolean in /var/www/baikal/vendor/sabre/dav/lib/Sabre/DAVACL/PrincipalBackend/PDO.php on line 161\nuser.log.1:Jan 16 20:10:08 my.server.com apache2: PHP Fatal error:  Call to a member function execute() on boolean in /var/www/baikal/vendor/sabre/dav/lib/Sabre/DAVACL/PrincipalBackend/PDO.php on line 161\nuser.log.1:Jan 16 20:10:08 my.server.com apache2: PHP Fatal error:  Call to a member function execute() on boolean in /var/www/baikal/vendor/sabre/dav/lib/Sabre/DAVACL/PrincipalBackend/PDO.php on line 161\nuser.log.1:Jan 16 20:44:51 my.server.com apache2: PHP Fatal error:  Call to a member function execute() on boolean in /var/www/baikal/vendor/sabre/dav/lib/Sabre/DAVACL/PrincipalBackend/PDO.php on line 161\nuser.log.1:Jan 16 20:44:51 my.server.com apache2: PHP Fatal error:  Call to a member function execute() on boolean in /var/www/baikal/vendor/sabre/dav/lib/Sabre/DAVACL/PrincipalBackend/PDO.php on line 161\nuser.log.1:Jan 16 20:44:51 my.server.com apache2: PHP Fatal error:  Call to a member function execute() on boolean in /var/www/baikal/vendor/sabre/dav/lib/Sabre/DAVACL/PrincipalBackend/PDO.php on line 161\nuser.log.1:Jan 16 20:45:27 my.server.com apache2: PHP Fatal error:  Call to a member function execute() on boolean in /var/www/baikal/vendor/sabre/dav/lib/Sabre/DAVACL/PrincipalBackend/PDO.php on line 161\nuser.log.1:Jan 16 20:45:27 my.server.com apache2: PHP Fatal error:  Call to a member function execute() on boolean in /var/www/baikal/vendor/sabre/dav/lib/Sabre/DAVACL/PrincipalBackend/PDO.php on line 161\nuser.log.1:Jan 16 20:45:27 my.server.com apache2: PHP Fatal error:  Call to a member function execute() on boolean in /var/www/baikal/vendor/sabre/dav/lib/Sabre/DAVACL/PrincipalBackend/PDO.php on line 161\n. sqlite3 Specific/db/db.sqlite < Core/Resources/Db/SQLite/db.sqlite\nError: incomplete SQL: SQLite format 3$    id integer primary key asc, \n    principaluri text, \n    displayname text, \n    uri text,\n    ctag integer, \n    description text,\n    calendarorder integer,\n    calendarcolor text,\n    timezone text,\n    components text\n, transparent bool)\ufffd\u001f\u0017++\u0001\ufffdutablecalendarobjectscalendarobjects\u0004CREATE TABLE calendarobjects ( \n    id integer primary key asc, \n    calendardata blob, \n    uri text, \n    calendarid integer, \n    lastmodified integer\n, etag text, size integer, componenttype text, firstoccurence integer, lastoccurence integer)\ufffd$\u0017\u0017\u0017\u0001\ufffd'tablecardscardsCREATE TABLE cards ( \n    id integer primary key asc, \n    addressbookid integer, \n    carddata blob, \n    uri text, \n    lastmodified integer\n)\ufffdD\u0001\u0017%%\u0001\ufffdKtableaddressbooksaddressbooksCREATE TABLE addressbooks (\n    id integer primary key asc, \n    principaluri text, \n    displayname text, \n    uri text,\n    description text,\n    ctag integer\n\u0001\ufffd principals (\n    id INTEGER PRIMARY KEY ASC,\n    uri TEXT,\n    email TEXT,\n    displayname TEXT,\n    vcardurl TEXT,\n    UNIQUE(uri)\n)\ufffd:\u0017\u0017\u0017\u0001\ufffdStablelockslocks\u0006CREATE TABLE locks ( \n    id integer primary key asc, \n    owner text, \n    timeout integer, \n    created integer, \n    token text, \n    scope integer, \n    depth integer, \n    uri text\n)k id INTEGER PRIMARY KEY ASC,\n    principal_id INTEGER,\n    member_id INTEGER,\n    UNIQUE(principal_id, member_id)\nCREATE TABLE users (ableusersusers\n    id integer primary key asc, \n    username TEXT,\n    digesta1 TEXT,\n    UNIQUE(username)\n))\n  \u0006\u0017=\u0017\u0001\n. Looks like I agree with you ;)\n. It did the trick !!!\nI'll just have to repopulate the database ....\nThank you very much.\nI'll make some real-life test cases and I'll tell you.\n. ",
    "superkrup": "Hi hermann-san ! I am sorry my message wasn't enough detailed.\nI don't know if Thunderbird keeps logs that can give me more informations but for now, the only thing I see is the little warning triangle with the following message : \"the calendar x is momentarily not available\".\nAs far as I know, there is nothing between Thunderbird and Baikal likely to blocks traffic\u2026\nAnd regarding the Baikal dashboard, I am perfectly able to get the Baikal Dashboard and see the users, the calendars, etc.\nI am not sure if these informations will help but I think I don't have much.\n. Nope, I only use thunderbird and here is a screenshot with the error I told you before (it means \u00ab the calendar x is momentarily not available \u00bb in french)\n\nRegarding the URL, here is the one I use : http://server.org/dav.server.org/html/cal.php/calendars/username/default\nI think it is quite the same as yours, don\u2019t you think ?\n. I know the URL is weird but it is because I have a directory named \"dav.server.org\" in my /var/www/ and in this directory I have all the baikal files\u2026 (html/admin, html/cal.php, etc.). In fact, at the beginning, I wanted to have a URL like http://dav.server.com/html/ but it wasn't working. \nAnd I do have the https but it is supposed to work with the classic http.\nDo you know if there are somewhere some logs I can look at to solve my issue because I am a bit lost here\u2026 :(\n. Honestly, I don't think the issue is related to the URL because it was working very well a few days ago. The only thing I did is to update nginx and php5 and after that, synchronization wasn't working anymore.\nPerhaps you know a way of doing a \"reset\" of Baikal ? (without losing my data of course)\n. I enabled logs in Thunderbird for Lightning and here are the messages I get when I am trying to synchronise the calendar : \nCalDAV: Status 200 on initial PROPFIND for calendar Calendrier\nCalDAV: Authentication scheme for Calendrier is none\nCalDAV: Failed to determine resource type forCalendrier\n[JavaScript Warning: \"There has been an error reading data for calendar: Calendar. However, this error is believed to be minor, so the program will attempt to continue. Error code: DAV_NOT_DAV. Description: The resource at \u00ab http://server.org/dav.server.org/html/cal.php/calendars/username/default \u00bb is either not a DAV collection or not available\"]\n[JavaScript Warning: There has been an error reading data for calendar: Calendar. However, this error is believed to be minor, so the program will attempt to continue. Error code: READ_FAILED. Description:]\nWhat do you think about this ?\n. Hi hermann-san ! I am sorry my message wasn't enough detailed.\nI don't know if Thunderbird keeps logs that can give me more informations but for now, the only thing I see is the little warning triangle with the following message : \"the calendar x is momentarily not available\".\nAs far as I know, there is nothing between Thunderbird and Baikal likely to blocks traffic\u2026\nAnd regarding the Baikal dashboard, I am perfectly able to get the Baikal Dashboard and see the users, the calendars, etc.\nI am not sure if these informations will help but I think I don't have much.\n. Nope, I only use thunderbird and here is a screenshot with the error I told you before (it means \u00ab the calendar x is momentarily not available \u00bb in french)\n\nRegarding the URL, here is the one I use : http://server.org/dav.server.org/html/cal.php/calendars/username/default\nI think it is quite the same as yours, don\u2019t you think ?\n. I know the URL is weird but it is because I have a directory named \"dav.server.org\" in my /var/www/ and in this directory I have all the baikal files\u2026 (html/admin, html/cal.php, etc.). In fact, at the beginning, I wanted to have a URL like http://dav.server.com/html/ but it wasn't working. \nAnd I do have the https but it is supposed to work with the classic http.\nDo you know if there are somewhere some logs I can look at to solve my issue because I am a bit lost here\u2026 :(\n. Honestly, I don't think the issue is related to the URL because it was working very well a few days ago. The only thing I did is to update nginx and php5 and after that, synchronization wasn't working anymore.\nPerhaps you know a way of doing a \"reset\" of Baikal ? (without losing my data of course)\n. I enabled logs in Thunderbird for Lightning and here are the messages I get when I am trying to synchronise the calendar : \nCalDAV: Status 200 on initial PROPFIND for calendar Calendrier\nCalDAV: Authentication scheme for Calendrier is none\nCalDAV: Failed to determine resource type forCalendrier\n[JavaScript Warning: \"There has been an error reading data for calendar: Calendar. However, this error is believed to be minor, so the program will attempt to continue. Error code: DAV_NOT_DAV. Description: The resource at \u00ab http://server.org/dav.server.org/html/cal.php/calendars/username/default \u00bb is either not a DAV collection or not available\"]\n[JavaScript Warning: There has been an error reading data for calendar: Calendar. However, this error is believed to be minor, so the program will attempt to continue. Error code: READ_FAILED. Description:]\nWhat do you think about this ?\n. ",
    "tiphergane": "Hello @evert, I have the same issue, and if I type the address on a browser Baikal return me the \"Ba\u00efkal is running allright.\" as if I was trying to access without the /admin to the web interface\nIn NginX log (access.log), I find this line:\n192.168.1.1 - - [XX/Jan/2016:XX:12:41 +0100] \"GET /favicon.ico HTTP/1.1\" 200 277 \"http://baikal.raspi.home/cal.php/calendars/tiphergane/default/\" \"Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/47.0.2526.111 Safari/537.36\"\n. Hello @evert, I have the same issue, and if I type the address on a browser Baikal return me the \"Ba\u00efkal is running allright.\" as if I was trying to access without the /admin to the web interface\nIn NginX log (access.log), I find this line:\n192.168.1.1 - - [XX/Jan/2016:XX:12:41 +0100] \"GET /favicon.ico HTTP/1.1\" 200 277 \"http://baikal.raspi.home/cal.php/calendars/tiphergane/default/\" \"Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/47.0.2526.111 Safari/537.36\"\n. ",
    "layanto": "Interested in this too. I have moved from Owncloud to Baikal as I was only using the CalDav and CardDav part of Owncloud previously. I could get Windows 10 Calendar app to sync with OwnCloud (didn't try Contacts app but should also work). But having trouble getting it to work with Baikal. I think the problem is to do with authentication with Windows 10 Calendar and Contacts app. I can get my android to sync with Baikal via CalDav Sync and CardDav Sync no problem, but can't get the same to work with Windows 10 Calendar and Contacts app. I can also get Thunderbird Lightning and SoGo to sync with Baikal via CalDav and CardDav.\nThe trick with Windows 10 Calendar and Contacts app is to use iCloud, but you will need to have the username in Baikal in email format. Once you set up Windows 10 Calendar as iCloud, go to Change Mailbox Sync Settings\\ Advanced Mailbox Settings\\ scroll to the bottom and change the CalDav and CardDav server settings. With OwnCloud, all I need to put in the settings are the url of my OwnCloud server (eg cloud.domain.com).\nI am using nginx as webserver. Checking access logs of nginx, I can notice the difference between nginx handling request from android CalDav sync and CardDav sync vs Windows 10 Calendar and Contacts app (with OwnCloud and Baikal). See below (as different comment posts - easier to read):\n. nginx access logs:\nWindows 10 Calendar and Contacts app with OwnCloud server (working)\n192.168.1.254 - user@domain.com [30/Aug/2015:09:32:14 +1000] \"PROPFIND /.well-known/carddav/ HTTP/1.1\" 302 169 \"-\" \"MSFT-WP/10.0.10240 (gzip)\"\n192.168.1.254 - user@domain.com [30/Aug/2015:09:32:14 +1000] \"PROPFIND /.well-known/caldav/ HTTP/1.1\" 302 169 \"-\" \"MSFT-WP/10.0.10240 (gzip)\"\n192.168.1.254 - user@domain.com [30/Aug/2015:09:32:15 +1000] \"PROPFIND /remote.php/caldav/ HTTP/1.1\" 207 473 \"-\" \"MSFT-WP/10.0.10240 (gzip)\"\n192.168.1.254 - user@domain.com [30/Aug/2015:09:32:16 +1000] \"PROPFIND /remote.php/caldav/principals/user%40domain.com/ HTTP/1.1\" 207 497 \"-\" \"MSFT-WP/10.0.10240 (gzip)\"\n192.168.1.254 - user@domain.com [30/Aug/2015:09:32:15 +1000] \"PROPFIND /remote.php/carddav/ HTTP/1.1\" 207 436 \"-\" \"MSFT-WP/10.0.10240 (gzip)\"\n192.168.1.254 - user@domain.com [30/Aug/2015:09:32:16 +1000] \"PROPFIND /remote.php/carddav/principals/user%40domain.com/ HTTP/1.1\" 207 471 \"-\" \"MSFT-WP/10.0.10240 (gzip)\"\n192.168.1.254 - user@domain.com [30/Aug/2015:09:32:16 +1000] \"PROPFIND /remote.php/caldav/calendars/user%40domain.com/ HTTP/1.1\" 207 3468 \"-\" \"MSFT-WP/10.0.10240 (gzip)\"\n192.168.1.254 - user@domain.com [30/Aug/2015:09:32:16 +1000] \"PROPFIND /remote.php/carddav/addressbooks/user%40domain.com/ HTTP/1.1\" 207 1113 \"-\" \"MSFT-WP/10.0.10240 (gzip)\"\n192.168.1.254 - user@domain.com [30/Aug/2015:09:32:17 +1000] \"REPORT /remote.php/caldav/calendars/user%40domain.com/defaultcalendar_shared_by_x/ HTTP/1.1\" 207 3219 \"-\" \"MSFT-WP/10.0.10240 (gzip)\"\n192.168.1.254 - user@domain.com [30/Aug/2015:09:32:17 +1000] \"PROPFIND /remote.php/carddav/addressbooks/user%40domain.com/contacts/ HTTP/1.1\" 207 376 \"-\" \"MSFT-WP/10.0.10240 (gzip)\"\n192.168.1.254 - user@domain.com [30/Aug/2015:09:32:18 +1000] \"REPORT /remote.php/caldav/calendars/user%40domain.com/defaultcalendar_shared_by_x/ HTTP/1.1\" 207 12015 \"-\" \"MSFT-WP/10.0.10240 (gzip)\"\n192.168.1.254 - user@domain.com [30/Aug/2015:09:32:19 +1000] \"REPORT /remote.php/caldav/calendars/user%40domain.com/contact_birthdays/ HTTP/1.1\" 207 198 \"-\" \"MSFT-WP/10.0.10240 (gzip)\"\n. nginx access logs:\nandroid CalDav sync and CardDav sync with Baikal server (working)\n192.168.1.254 - - [30/Aug/2015:01:18:08 +1000] \"OPTIONS /cal.php/calendars/user%40domain.com/default/ HTTP/1.1\" 401 304 \"-\" \"CalDAV-Sync (Android) (like iOS/5.0.1 (9A405) dataaccessd/1.0) gzip\"\n192.168.1.254 - - [30/Aug/2015:01:18:08 +1000] \"OPTIONS /cal.php/calendars/user%40domain.com/default/ HTTP/1.1\" 200 0 \"-\" \"CalDAV-Sync (Android) (like iOS/5.0.1 (9A405) dataaccessd/1.0) gzip\"\n192.168.1.254 - - [30/Aug/2015:01:18:08 +1000] \"PROPFIND /cal.php/calendars/user%40domain.com/default/ HTTP/1.1\" 401 304 \"-\" \"CalDAV-Sync (Android) (like iOS/5.0.1 (9A405) dataaccessd/1.0) gzip\"\n192.168.1.254 - - [30/Aug/2015:01:18:08 +1000] \"PROPFIND /cal.php/calendars/user%40domain.com/default/ HTTP/1.1\" 207 1999 \"-\" \"CalDAV-Sync (Android) (like iOS/5.0.1 (9A405) dataaccessd/1.0) gzip\"\n192.168.1.254 - - [30/Aug/2015:01:18:09 +1000] \"REPORT /cal.php/calendars/user%40domain.com/default/ HTTP/1.1\" 401 304 \"-\" \"CalDAV-Sync (Android) (like iOS/5.0.1 (9A405) dataaccessd/1.0) gzip\"\n192.168.1.254 - - [30/Aug/2015:01:18:09 +1000] \"REPORT /cal.php/calendars/user%40domain.com/default/ HTTP/1.1\" 207 1231 \"-\" \"CalDAV-Sync (Android) (like iOS/5.0.1 (9A405) dataaccessd/1.0) gzip\"\n192.168.1.254 - - [30/Aug/2015:14:28:17 +1000] \"OPTIONS /card.php/addressbooks/user%40domain.com/default/ HTTP/1.1\" 401 304 \"-\" \"CardDAV-Sync (Android) (like iOS/5.0.1 (9A405) dataaccessd/1.0) gzip\"\n192.168.1.254 - - [30/Aug/2015:14:28:18 +1000] \"OPTIONS /card.php/addressbooks/user%40domain.com/default/ HTTP/1.1\" 200 0 \"-\" \"CardDAV-Sync (Android) (like iOS/5.0.1 (9A405) dataaccessd/1.0) gzip\"\n192.168.1.254 - - [30/Aug/2015:14:28:18 +1000] \"PROPFIND /card.php/addressbooks/user%40domain.com/default/ HTTP/1.1\" 401 304 \"-\" \"CardDAV-Sync (Android) (like iOS/5.0.1 (9A405) dataaccessd/1.0) gzip\"\n192.168.1.254 - - [30/Aug/2015:14:28:18 +1000] \"PROPFIND /card.php/addressbooks/user%40domain.com/default/ HTTP/1.1\" 207 1554 \"-\" \"CardDAV-Sync (Android) (like iOS/5.0.1 (9A405) dataaccessd/1.0) gzip\"\n. nginx access logs:\nWindows 10 Calendar and Contacts app with Baikal server (NOTworking)\n192.168.1.254 - user@domain.com [30/Aug/2015:10:07:35 +1000] \"PROPFIND /.well-known/carddav/ HTTP/1.1\" 302 169 \"-\" \"MSFT-WP/10.0.10240 (gzip)\"\n192.168.1.254 - user@domain.com [30/Aug/2015:10:07:35 +1000] \"PROPFIND /.well-known/caldav/ HTTP/1.1\" 302 169 \"-\" \"MSFT-WP/10.0.10240 (gzip)\"\n192.168.1.254 - user@domain.com [30/Aug/2015:10:07:37 +1000] \"PROPFIND /cal.php/ HTTP/1.1\" 401 304 \"-\" \"MSFT-WP/10.0.10240 (gzip)\"\n192.168.1.254 - user@domain.com [30/Aug/2015:10:07:37 +1000] \"PROPFIND /principals/ HTTP/1.1\" 405 181 \"-\" \"MSFT-WP/10.0.10240 (gzip)\"\n192.168.1.254 - user@domain.com [30/Aug/2015:10:07:37 +1000] \"PROPFIND /caldav/v2/ HTTP/1.1\" 405 181 \"-\" \"MSFT-WP/10.0.10240 (gzip)\"\n192.168.1.254 - user@domain.com [30/Aug/2015:10:07:37 +1000] \"PROPFIND /calendar/dav/ HTTP/1.1\" 405 181 \"-\" \"MSFT-WP/10.0.10240 (gzip)\"\n192.168.1.254 - user@domain.com [30/Aug/2015:10:07:37 +1000] \"PROPFIND / HTTP/1.1\" 405 181 \"-\" \"MSFT-WP/10.0.10240 (gzip)\"\n192.168.1.254 - user@domain.com [30/Aug/2015:10:07:37 +1000] \"PROPFIND /.well-known/caldav/ HTTP/1.1\" 302 169 \"-\" \"MSFT-WP/10.0.10240 (gzip)\"\n192.168.1.254 - user@domain.com [30/Aug/2015:10:07:37 +1000] \"PROPFIND /card.php/ HTTP/1.1\" 401 304 \"-\" \"MSFT-WP/10.0.10240 (gzip)\"\n192.168.1.254 - user@domain.com [30/Aug/2015:10:07:37 +1000] \"PROPFIND /principals/ HTTP/1.1\" 405 181 \"-\" \"MSFT-WP/10.0.10240 (gzip)\"\n192.168.1.254 - user@domain.com [30/Aug/2015:10:07:37 +1000] \"PROPFIND /cal.php/ HTTP/1.1\" 401 304 \"-\" \"MSFT-WP/10.0.10240 (gzip)\"\n192.168.1.254 - user@domain.com [30/Aug/2015:10:07:37 +1000] \"PROPFIND / HTTP/1.1\" 405 181 \"-\" \"MSFT-WP/10.0.10240 (gzip)\"\n192.168.1.254 - user@domain.com [30/Aug/2015:10:07:37 +1000] \"PROPFIND /principals/ HTTP/1.1\" 405 181 \"-\" \"MSFT-WP/10.0.10240 (gzip)\"\n192.168.1.254 - user@domain.com [30/Aug/2015:10:07:37 +1000] \"PROPFIND /caldav/v2/ HTTP/1.1\" 405 181 \"-\" \"MSFT-WP/10.0.10240 (gzip)\"\n192.168.1.254 - user@domain.com [30/Aug/2015:10:07:37 +1000] \"PROPFIND /calendar/dav/ HTTP/1.1\" 405 181 \"-\" \"MSFT-WP/10.0.10240 (gzip)\"\n192.168.1.254 - user@domain.com [30/Aug/2015:10:07:37 +1000] \"PROPFIND / HTTP/1.1\" 405 181 \"-\" \"MSFT-WP/10.0.10240 (gzip)\"\n192.168.1.254 - user@domain.com [30/Aug/2015:10:07:37 +1000] \"PROPFIND /.well-known/carddav/ HTTP/1.1\" 302 169 \"-\" \"MSFT-WP/10.0.10240 (gzip)\"\n192.168.1.254 - user@domain.com [30/Aug/2015:10:07:37 +1000] \"PROPFIND /card.php/ HTTP/1.1\" 401 304 \"-\" \"MSFT-WP/10.0.10240 (gzip)\"\n192.168.1.254 - user@domain.com [30/Aug/2015:10:07:37 +1000] \"PROPFIND /principals/ HTTP/1.1\" 405 181 \"-\" \"MSFT-WP/10.0.10240 (gzip)\"\n192.168.1.254 - user@domain.com [30/Aug/2015:10:07:37 +1000] \"PROPFIND / HTTP/1.1\" 405 181 \"-\" \"MSFT-WP/10.0.10240 (gzip)\"\n. I have tried different CalDav and CardDav server url in Windows 10 Calendar and Contacts app, such as:\n- cloud.domain.com (both CalDav and CardDav)\n- cloud.domain.com/cal.php/principals/user@domain.com (CalDav)\n- cloud.domain.com/card.php/principals/user@domain.com (CardDav)\n- cloud.domain.com/cal.php/calendars/user@domain.com/default (CalDav)\n- cloud.domain.com/card.php/addressbooks/user@domain.com/default (CardDav)\nBut none worked.\nI think the problem is with authentication; with CalDav sync and CardDav sync, although on first try the server responded with 401 (unauthorised), on second try the server responded with 207 (webDav Multi-Status response). Did some reading online and to do with digest authentication failing first time (not sure why)?\nBut with Windows 10 Calendar and Contacts app server always responded with 401 (unauthorised).\nAny help is appreciated. The move from OwnCloud to Baikal has been a success so far with the exception of Windows 10 Calendar and Contacts app.\n@noskule Sorry to join into this issue you raised, but hopefully can get a solution for both of us.\n. @noskule Did you manage to get Windows 10 calendar/contacts app to work with Baikal? Did you try the iCloud trick? As posted above, I got it to work with OwnCloud but not with Baikal\n. @jageb Just tried your solution. Working!! Thank you. Had already given up before.\n. I updated to Baikal 0.3.5 and now Windows 10 Calendar and People apps no longer works with Baikal! I tried deleting and re creating the account and now get Can't get calendars error.\n. Logs from webserver:\n192.168.1.254 - username@domain.com [12/Mar/2016:19:23:11 +1100] \"PROPFIND /.well-known/caldav/ HTTP/1.1\" 302 175 \"-\" \"MSFT-WIN-3/10.0.10586 (gzip)\"\n192.168.1.254 - username@domain.com [12/Mar/2016:19:23:11 +1100] \"PROPFIND /.well-known/carddav/ HTTP/1.1\" 302 175 \"-\" \"MSFT-WIN-3/10.0.10586 (gzip)\"\n192.168.1.254 - username@domain.com [12/Mar/2016:19:23:11 +1100] \"PROPFIND /dav.php HTTP/1.1\" 401 367 \"-\" \"MSFT-WIN-3/10.0.10586 (gzip)\"\n192.168.1.254 - username@domain.com [12/Mar/2016:19:23:11 +1100] \"PROPFIND /principals/ HTTP/1.1\" 405 187 \"-\" \"MSFT-WIN-3/10.0.10586 (gzip)\"\n192.168.1.254 - username@domain.com [12/Mar/2016:19:23:11 +1100] \"PROPFIND /caldav/v2/ HTTP/1.1\" 405 187 \"-\" \"MSFT-WIN-3/10.0.10586 (gzip)\"\n192.168.1.254 - username@domain.com [12/Mar/2016:19:23:11 +1100] \"PROPFIND /calendar/dav/ HTTP/1.1\" 405 187 \"-\" \"MSFT-WIN-3/10.0.10586 (gzip)\"\n192.168.1.254 - username@domain.com [12/Mar/2016:19:23:11 +1100] \"PROPFIND /dav.php HTTP/1.1\" 401 367 \"-\" \"MSFT-WIN-3/10.0.10586 (gzip)\"\n192.168.1.254 - username@domain.com [12/Mar/2016:19:23:11 +1100] \"PROPFIND / HTTP/1.1\" 405 187 \"-\" \"MSFT-WIN-3/10.0.10586 (gzip)\"\n192.168.1.254 - username@domain.com [12/Mar/2016:19:23:11 +1100] \"PROPFIND /principals/ HTTP/1.1\" 405 187 \"-\" \"MSFT-WIN-3/10.0.10586 (gzip)\"\n192.168.1.254 - username@domain.com [12/Mar/2016:19:23:11 +1100] \"PROPFIND / HTTP/1.1\" 405 187 \"-\" \"MSFT-WIN-3/10.0.10586 (gzip)\"\n192.168.1.254 - username@domain.com [12/Mar/2016:19:23:13 +1100] \"PROPFIND /.well-known/caldav/ HTTP/1.1\" 302 175 \"-\" \"MSFT-WIN-3/10.0.10586 (gzip)\"\n192.168.1.254 - username@domain.com [12/Mar/2016:19:23:13 +1100] \"PROPFIND /dav.php HTTP/1.1\" 401 367 \"-\" \"MSFT-WIN-3/10.0.10586 (gzip)\"\n192.168.1.254 - username@domain.com [12/Mar/2016:19:23:13 +1100] \"PROPFIND /.well-known/carddav/ HTTP/1.1\" 302 175 \"-\" \"MSFT-WIN-3/10.0.10586 (gzip)\"\n192.168.1.254 - username@domain.com [12/Mar/2016:19:23:13 +1100] \"PROPFIND /principals/ HTTP/1.1\" 405 187 \"-\" \"MSFT-WIN-3/10.0.10586 (gzip)\"\n192.168.1.254 - username@domain.com [12/Mar/2016:19:23:13 +1100] \"PROPFIND /caldav/v2/ HTTP/1.1\" 405 187 \"-\" \"MSFT-WIN-3/10.0.10586 (gzip)\"\n192.168.1.254 - username@domain.com [12/Mar/2016:19:23:13 +1100] \"PROPFIND /dav.php HTTP/1.1\" 401 367 \"-\" \"MSFT-WIN-3/10.0.10586 (gzip)\"\n192.168.1.254 - username@domain.com [12/Mar/2016:19:23:13 +1100] \"PROPFIND /calendar/dav/ HTTP/1.1\" 405 187 \"-\" \"MSFT-WIN-3/10.0.10586 (gzip)\"\n192.168.1.254 - username@domain.com [12/Mar/2016:19:23:13 +1100] \"PROPFIND / HTTP/1.1\" 405 187 \"-\" \"MSFT-WIN-3/10.0.10586 (gzip)\"\n192.168.1.254 - username@domain.com [12/Mar/2016:19:23:13 +1100] \"PROPFIND /principals/ HTTP/1.1\" 405 187 \"-\" \"MSFT-WIN-3/10.0.10586 (gzip)\"\n192.168.1.254 - username@domain.com [12/Mar/2016:19:23:13 +1100] \"PROPFIND / HTTP/1.1\" 405 187 \"-\" \"MSFT-WIN-3/10.0.10586 (gzip)\"\n. Baikal 0.3.5 works fine with CalDav and CardDav of Android so it is something specific to Windows 10.\n. Fixed by re introducing the patch in issue https://github.com/fruux/Baikal/issues/388 in core server.php, line 133 changed to:\nif ($this->authType === 'Basic' || preg_match('/Windows-Phone-WebDAV-Client/i', $SERVER['HTTP_USER_AGENT']) || preg_match('/MSFT-WP\\/8.10./i', $SERVER['HTTP_USER_AGENT']) || preg_match('/MSFT-WIN/i', $_SERVER['HTTP_USER_AGENT'])) {\n. Interested in this too. I have moved from Owncloud to Baikal as I was only using the CalDav and CardDav part of Owncloud previously. I could get Windows 10 Calendar app to sync with OwnCloud (didn't try Contacts app but should also work). But having trouble getting it to work with Baikal. I think the problem is to do with authentication with Windows 10 Calendar and Contacts app. I can get my android to sync with Baikal via CalDav Sync and CardDav Sync no problem, but can't get the same to work with Windows 10 Calendar and Contacts app. I can also get Thunderbird Lightning and SoGo to sync with Baikal via CalDav and CardDav.\nThe trick with Windows 10 Calendar and Contacts app is to use iCloud, but you will need to have the username in Baikal in email format. Once you set up Windows 10 Calendar as iCloud, go to Change Mailbox Sync Settings\\ Advanced Mailbox Settings\\ scroll to the bottom and change the CalDav and CardDav server settings. With OwnCloud, all I need to put in the settings are the url of my OwnCloud server (eg cloud.domain.com).\nI am using nginx as webserver. Checking access logs of nginx, I can notice the difference between nginx handling request from android CalDav sync and CardDav sync vs Windows 10 Calendar and Contacts app (with OwnCloud and Baikal). See below (as different comment posts - easier to read):\n. nginx access logs:\nWindows 10 Calendar and Contacts app with OwnCloud server (working)\n192.168.1.254 - user@domain.com [30/Aug/2015:09:32:14 +1000] \"PROPFIND /.well-known/carddav/ HTTP/1.1\" 302 169 \"-\" \"MSFT-WP/10.0.10240 (gzip)\"\n192.168.1.254 - user@domain.com [30/Aug/2015:09:32:14 +1000] \"PROPFIND /.well-known/caldav/ HTTP/1.1\" 302 169 \"-\" \"MSFT-WP/10.0.10240 (gzip)\"\n192.168.1.254 - user@domain.com [30/Aug/2015:09:32:15 +1000] \"PROPFIND /remote.php/caldav/ HTTP/1.1\" 207 473 \"-\" \"MSFT-WP/10.0.10240 (gzip)\"\n192.168.1.254 - user@domain.com [30/Aug/2015:09:32:16 +1000] \"PROPFIND /remote.php/caldav/principals/user%40domain.com/ HTTP/1.1\" 207 497 \"-\" \"MSFT-WP/10.0.10240 (gzip)\"\n192.168.1.254 - user@domain.com [30/Aug/2015:09:32:15 +1000] \"PROPFIND /remote.php/carddav/ HTTP/1.1\" 207 436 \"-\" \"MSFT-WP/10.0.10240 (gzip)\"\n192.168.1.254 - user@domain.com [30/Aug/2015:09:32:16 +1000] \"PROPFIND /remote.php/carddav/principals/user%40domain.com/ HTTP/1.1\" 207 471 \"-\" \"MSFT-WP/10.0.10240 (gzip)\"\n192.168.1.254 - user@domain.com [30/Aug/2015:09:32:16 +1000] \"PROPFIND /remote.php/caldav/calendars/user%40domain.com/ HTTP/1.1\" 207 3468 \"-\" \"MSFT-WP/10.0.10240 (gzip)\"\n192.168.1.254 - user@domain.com [30/Aug/2015:09:32:16 +1000] \"PROPFIND /remote.php/carddav/addressbooks/user%40domain.com/ HTTP/1.1\" 207 1113 \"-\" \"MSFT-WP/10.0.10240 (gzip)\"\n192.168.1.254 - user@domain.com [30/Aug/2015:09:32:17 +1000] \"REPORT /remote.php/caldav/calendars/user%40domain.com/defaultcalendar_shared_by_x/ HTTP/1.1\" 207 3219 \"-\" \"MSFT-WP/10.0.10240 (gzip)\"\n192.168.1.254 - user@domain.com [30/Aug/2015:09:32:17 +1000] \"PROPFIND /remote.php/carddav/addressbooks/user%40domain.com/contacts/ HTTP/1.1\" 207 376 \"-\" \"MSFT-WP/10.0.10240 (gzip)\"\n192.168.1.254 - user@domain.com [30/Aug/2015:09:32:18 +1000] \"REPORT /remote.php/caldav/calendars/user%40domain.com/defaultcalendar_shared_by_x/ HTTP/1.1\" 207 12015 \"-\" \"MSFT-WP/10.0.10240 (gzip)\"\n192.168.1.254 - user@domain.com [30/Aug/2015:09:32:19 +1000] \"REPORT /remote.php/caldav/calendars/user%40domain.com/contact_birthdays/ HTTP/1.1\" 207 198 \"-\" \"MSFT-WP/10.0.10240 (gzip)\"\n. nginx access logs:\nandroid CalDav sync and CardDav sync with Baikal server (working)\n192.168.1.254 - - [30/Aug/2015:01:18:08 +1000] \"OPTIONS /cal.php/calendars/user%40domain.com/default/ HTTP/1.1\" 401 304 \"-\" \"CalDAV-Sync (Android) (like iOS/5.0.1 (9A405) dataaccessd/1.0) gzip\"\n192.168.1.254 - - [30/Aug/2015:01:18:08 +1000] \"OPTIONS /cal.php/calendars/user%40domain.com/default/ HTTP/1.1\" 200 0 \"-\" \"CalDAV-Sync (Android) (like iOS/5.0.1 (9A405) dataaccessd/1.0) gzip\"\n192.168.1.254 - - [30/Aug/2015:01:18:08 +1000] \"PROPFIND /cal.php/calendars/user%40domain.com/default/ HTTP/1.1\" 401 304 \"-\" \"CalDAV-Sync (Android) (like iOS/5.0.1 (9A405) dataaccessd/1.0) gzip\"\n192.168.1.254 - - [30/Aug/2015:01:18:08 +1000] \"PROPFIND /cal.php/calendars/user%40domain.com/default/ HTTP/1.1\" 207 1999 \"-\" \"CalDAV-Sync (Android) (like iOS/5.0.1 (9A405) dataaccessd/1.0) gzip\"\n192.168.1.254 - - [30/Aug/2015:01:18:09 +1000] \"REPORT /cal.php/calendars/user%40domain.com/default/ HTTP/1.1\" 401 304 \"-\" \"CalDAV-Sync (Android) (like iOS/5.0.1 (9A405) dataaccessd/1.0) gzip\"\n192.168.1.254 - - [30/Aug/2015:01:18:09 +1000] \"REPORT /cal.php/calendars/user%40domain.com/default/ HTTP/1.1\" 207 1231 \"-\" \"CalDAV-Sync (Android) (like iOS/5.0.1 (9A405) dataaccessd/1.0) gzip\"\n192.168.1.254 - - [30/Aug/2015:14:28:17 +1000] \"OPTIONS /card.php/addressbooks/user%40domain.com/default/ HTTP/1.1\" 401 304 \"-\" \"CardDAV-Sync (Android) (like iOS/5.0.1 (9A405) dataaccessd/1.0) gzip\"\n192.168.1.254 - - [30/Aug/2015:14:28:18 +1000] \"OPTIONS /card.php/addressbooks/user%40domain.com/default/ HTTP/1.1\" 200 0 \"-\" \"CardDAV-Sync (Android) (like iOS/5.0.1 (9A405) dataaccessd/1.0) gzip\"\n192.168.1.254 - - [30/Aug/2015:14:28:18 +1000] \"PROPFIND /card.php/addressbooks/user%40domain.com/default/ HTTP/1.1\" 401 304 \"-\" \"CardDAV-Sync (Android) (like iOS/5.0.1 (9A405) dataaccessd/1.0) gzip\"\n192.168.1.254 - - [30/Aug/2015:14:28:18 +1000] \"PROPFIND /card.php/addressbooks/user%40domain.com/default/ HTTP/1.1\" 207 1554 \"-\" \"CardDAV-Sync (Android) (like iOS/5.0.1 (9A405) dataaccessd/1.0) gzip\"\n. nginx access logs:\nWindows 10 Calendar and Contacts app with Baikal server (NOTworking)\n192.168.1.254 - user@domain.com [30/Aug/2015:10:07:35 +1000] \"PROPFIND /.well-known/carddav/ HTTP/1.1\" 302 169 \"-\" \"MSFT-WP/10.0.10240 (gzip)\"\n192.168.1.254 - user@domain.com [30/Aug/2015:10:07:35 +1000] \"PROPFIND /.well-known/caldav/ HTTP/1.1\" 302 169 \"-\" \"MSFT-WP/10.0.10240 (gzip)\"\n192.168.1.254 - user@domain.com [30/Aug/2015:10:07:37 +1000] \"PROPFIND /cal.php/ HTTP/1.1\" 401 304 \"-\" \"MSFT-WP/10.0.10240 (gzip)\"\n192.168.1.254 - user@domain.com [30/Aug/2015:10:07:37 +1000] \"PROPFIND /principals/ HTTP/1.1\" 405 181 \"-\" \"MSFT-WP/10.0.10240 (gzip)\"\n192.168.1.254 - user@domain.com [30/Aug/2015:10:07:37 +1000] \"PROPFIND /caldav/v2/ HTTP/1.1\" 405 181 \"-\" \"MSFT-WP/10.0.10240 (gzip)\"\n192.168.1.254 - user@domain.com [30/Aug/2015:10:07:37 +1000] \"PROPFIND /calendar/dav/ HTTP/1.1\" 405 181 \"-\" \"MSFT-WP/10.0.10240 (gzip)\"\n192.168.1.254 - user@domain.com [30/Aug/2015:10:07:37 +1000] \"PROPFIND / HTTP/1.1\" 405 181 \"-\" \"MSFT-WP/10.0.10240 (gzip)\"\n192.168.1.254 - user@domain.com [30/Aug/2015:10:07:37 +1000] \"PROPFIND /.well-known/caldav/ HTTP/1.1\" 302 169 \"-\" \"MSFT-WP/10.0.10240 (gzip)\"\n192.168.1.254 - user@domain.com [30/Aug/2015:10:07:37 +1000] \"PROPFIND /card.php/ HTTP/1.1\" 401 304 \"-\" \"MSFT-WP/10.0.10240 (gzip)\"\n192.168.1.254 - user@domain.com [30/Aug/2015:10:07:37 +1000] \"PROPFIND /principals/ HTTP/1.1\" 405 181 \"-\" \"MSFT-WP/10.0.10240 (gzip)\"\n192.168.1.254 - user@domain.com [30/Aug/2015:10:07:37 +1000] \"PROPFIND /cal.php/ HTTP/1.1\" 401 304 \"-\" \"MSFT-WP/10.0.10240 (gzip)\"\n192.168.1.254 - user@domain.com [30/Aug/2015:10:07:37 +1000] \"PROPFIND / HTTP/1.1\" 405 181 \"-\" \"MSFT-WP/10.0.10240 (gzip)\"\n192.168.1.254 - user@domain.com [30/Aug/2015:10:07:37 +1000] \"PROPFIND /principals/ HTTP/1.1\" 405 181 \"-\" \"MSFT-WP/10.0.10240 (gzip)\"\n192.168.1.254 - user@domain.com [30/Aug/2015:10:07:37 +1000] \"PROPFIND /caldav/v2/ HTTP/1.1\" 405 181 \"-\" \"MSFT-WP/10.0.10240 (gzip)\"\n192.168.1.254 - user@domain.com [30/Aug/2015:10:07:37 +1000] \"PROPFIND /calendar/dav/ HTTP/1.1\" 405 181 \"-\" \"MSFT-WP/10.0.10240 (gzip)\"\n192.168.1.254 - user@domain.com [30/Aug/2015:10:07:37 +1000] \"PROPFIND / HTTP/1.1\" 405 181 \"-\" \"MSFT-WP/10.0.10240 (gzip)\"\n192.168.1.254 - user@domain.com [30/Aug/2015:10:07:37 +1000] \"PROPFIND /.well-known/carddav/ HTTP/1.1\" 302 169 \"-\" \"MSFT-WP/10.0.10240 (gzip)\"\n192.168.1.254 - user@domain.com [30/Aug/2015:10:07:37 +1000] \"PROPFIND /card.php/ HTTP/1.1\" 401 304 \"-\" \"MSFT-WP/10.0.10240 (gzip)\"\n192.168.1.254 - user@domain.com [30/Aug/2015:10:07:37 +1000] \"PROPFIND /principals/ HTTP/1.1\" 405 181 \"-\" \"MSFT-WP/10.0.10240 (gzip)\"\n192.168.1.254 - user@domain.com [30/Aug/2015:10:07:37 +1000] \"PROPFIND / HTTP/1.1\" 405 181 \"-\" \"MSFT-WP/10.0.10240 (gzip)\"\n. I have tried different CalDav and CardDav server url in Windows 10 Calendar and Contacts app, such as:\n- cloud.domain.com (both CalDav and CardDav)\n- cloud.domain.com/cal.php/principals/user@domain.com (CalDav)\n- cloud.domain.com/card.php/principals/user@domain.com (CardDav)\n- cloud.domain.com/cal.php/calendars/user@domain.com/default (CalDav)\n- cloud.domain.com/card.php/addressbooks/user@domain.com/default (CardDav)\nBut none worked.\nI think the problem is with authentication; with CalDav sync and CardDav sync, although on first try the server responded with 401 (unauthorised), on second try the server responded with 207 (webDav Multi-Status response). Did some reading online and to do with digest authentication failing first time (not sure why)?\nBut with Windows 10 Calendar and Contacts app server always responded with 401 (unauthorised).\nAny help is appreciated. The move from OwnCloud to Baikal has been a success so far with the exception of Windows 10 Calendar and Contacts app.\n@noskule Sorry to join into this issue you raised, but hopefully can get a solution for both of us.\n. @noskule Did you manage to get Windows 10 calendar/contacts app to work with Baikal? Did you try the iCloud trick? As posted above, I got it to work with OwnCloud but not with Baikal\n. @jageb Just tried your solution. Working!! Thank you. Had already given up before.\n. I updated to Baikal 0.3.5 and now Windows 10 Calendar and People apps no longer works with Baikal! I tried deleting and re creating the account and now get Can't get calendars error.\n. Logs from webserver:\n192.168.1.254 - username@domain.com [12/Mar/2016:19:23:11 +1100] \"PROPFIND /.well-known/caldav/ HTTP/1.1\" 302 175 \"-\" \"MSFT-WIN-3/10.0.10586 (gzip)\"\n192.168.1.254 - username@domain.com [12/Mar/2016:19:23:11 +1100] \"PROPFIND /.well-known/carddav/ HTTP/1.1\" 302 175 \"-\" \"MSFT-WIN-3/10.0.10586 (gzip)\"\n192.168.1.254 - username@domain.com [12/Mar/2016:19:23:11 +1100] \"PROPFIND /dav.php HTTP/1.1\" 401 367 \"-\" \"MSFT-WIN-3/10.0.10586 (gzip)\"\n192.168.1.254 - username@domain.com [12/Mar/2016:19:23:11 +1100] \"PROPFIND /principals/ HTTP/1.1\" 405 187 \"-\" \"MSFT-WIN-3/10.0.10586 (gzip)\"\n192.168.1.254 - username@domain.com [12/Mar/2016:19:23:11 +1100] \"PROPFIND /caldav/v2/ HTTP/1.1\" 405 187 \"-\" \"MSFT-WIN-3/10.0.10586 (gzip)\"\n192.168.1.254 - username@domain.com [12/Mar/2016:19:23:11 +1100] \"PROPFIND /calendar/dav/ HTTP/1.1\" 405 187 \"-\" \"MSFT-WIN-3/10.0.10586 (gzip)\"\n192.168.1.254 - username@domain.com [12/Mar/2016:19:23:11 +1100] \"PROPFIND /dav.php HTTP/1.1\" 401 367 \"-\" \"MSFT-WIN-3/10.0.10586 (gzip)\"\n192.168.1.254 - username@domain.com [12/Mar/2016:19:23:11 +1100] \"PROPFIND / HTTP/1.1\" 405 187 \"-\" \"MSFT-WIN-3/10.0.10586 (gzip)\"\n192.168.1.254 - username@domain.com [12/Mar/2016:19:23:11 +1100] \"PROPFIND /principals/ HTTP/1.1\" 405 187 \"-\" \"MSFT-WIN-3/10.0.10586 (gzip)\"\n192.168.1.254 - username@domain.com [12/Mar/2016:19:23:11 +1100] \"PROPFIND / HTTP/1.1\" 405 187 \"-\" \"MSFT-WIN-3/10.0.10586 (gzip)\"\n192.168.1.254 - username@domain.com [12/Mar/2016:19:23:13 +1100] \"PROPFIND /.well-known/caldav/ HTTP/1.1\" 302 175 \"-\" \"MSFT-WIN-3/10.0.10586 (gzip)\"\n192.168.1.254 - username@domain.com [12/Mar/2016:19:23:13 +1100] \"PROPFIND /dav.php HTTP/1.1\" 401 367 \"-\" \"MSFT-WIN-3/10.0.10586 (gzip)\"\n192.168.1.254 - username@domain.com [12/Mar/2016:19:23:13 +1100] \"PROPFIND /.well-known/carddav/ HTTP/1.1\" 302 175 \"-\" \"MSFT-WIN-3/10.0.10586 (gzip)\"\n192.168.1.254 - username@domain.com [12/Mar/2016:19:23:13 +1100] \"PROPFIND /principals/ HTTP/1.1\" 405 187 \"-\" \"MSFT-WIN-3/10.0.10586 (gzip)\"\n192.168.1.254 - username@domain.com [12/Mar/2016:19:23:13 +1100] \"PROPFIND /caldav/v2/ HTTP/1.1\" 405 187 \"-\" \"MSFT-WIN-3/10.0.10586 (gzip)\"\n192.168.1.254 - username@domain.com [12/Mar/2016:19:23:13 +1100] \"PROPFIND /dav.php HTTP/1.1\" 401 367 \"-\" \"MSFT-WIN-3/10.0.10586 (gzip)\"\n192.168.1.254 - username@domain.com [12/Mar/2016:19:23:13 +1100] \"PROPFIND /calendar/dav/ HTTP/1.1\" 405 187 \"-\" \"MSFT-WIN-3/10.0.10586 (gzip)\"\n192.168.1.254 - username@domain.com [12/Mar/2016:19:23:13 +1100] \"PROPFIND / HTTP/1.1\" 405 187 \"-\" \"MSFT-WIN-3/10.0.10586 (gzip)\"\n192.168.1.254 - username@domain.com [12/Mar/2016:19:23:13 +1100] \"PROPFIND /principals/ HTTP/1.1\" 405 187 \"-\" \"MSFT-WIN-3/10.0.10586 (gzip)\"\n192.168.1.254 - username@domain.com [12/Mar/2016:19:23:13 +1100] \"PROPFIND / HTTP/1.1\" 405 187 \"-\" \"MSFT-WIN-3/10.0.10586 (gzip)\"\n. Baikal 0.3.5 works fine with CalDav and CardDav of Android so it is something specific to Windows 10.\n. Fixed by re introducing the patch in issue https://github.com/fruux/Baikal/issues/388 in core server.php, line 133 changed to:\nif ($this->authType === 'Basic' || preg_match('/Windows-Phone-WebDAV-Client/i', $SERVER['HTTP_USER_AGENT']) || preg_match('/MSFT-WP\\/8.10./i', $SERVER['HTTP_USER_AGENT']) || preg_match('/MSFT-WIN/i', $_SERVER['HTTP_USER_AGENT'])) {\n. ",
    "noskule": "@layanto Yes I did try that bevore the inital post, with a plain username and an email adress, both with no success. Drop me a note if I can help with something.\n. @layanto Yes I did try that bevore the inital post, with a plain username and an email adress, both with no success. Drop me a note if I can help with something.\n. ",
    "jageb": "working solution for Baikal 0.2.7 with Windows 10, Win 8.1 and Android in parallel (Windows 10 is accessing with HTTP_USER_AGENT \"MSFT-WIN-3/10.0.10586\"). Edit both Baikal's cal.php and card.php files and replace:\npreg_match('/Windows-Phone-WebDAV-Client/i', $_SERVER['HTTP_USER_AGENT'])\nwith:\npreg_match('/Windows-Phone-WebDAV-Client/i', $_SERVER['HTTP_USER_AGENT']) || preg_match('/MSFT-WP*/i', $_SERVER['HTTP_USER_AGENT']) || preg_match('/MSFT-WIN*/i', $_SERVER['HTTP_USER_AGENT'])\nto add Win 8.1 and Win 10 support. Then create new iCloud Account with settings:\n- User name: your_baikal_username\n- Password: your_baikal_password\n- Account name: whatever_you_like\n- Incoming email server: 127.0.0.1\n- Outgping email server: 127.0.0.1\n- Outgoing server requires authentication: no\n- Contacts server (CardDAV): https://your_domain:your_port/card.php\n- Calendar server (CalDAV): https://your_domain:your_port/cal.php\nand all calendars as well as contacts should become visible in Calendar and People apps.\n. maybe a dumb question, but have you enabled your Baikal calendars in settings?\n. working solution for Baikal 0.2.7 with Windows 10, Win 8.1 and Android in parallel (Windows 10 is accessing with HTTP_USER_AGENT \"MSFT-WIN-3/10.0.10586\"). Edit both Baikal's cal.php and card.php files and replace:\npreg_match('/Windows-Phone-WebDAV-Client/i', $_SERVER['HTTP_USER_AGENT'])\nwith:\npreg_match('/Windows-Phone-WebDAV-Client/i', $_SERVER['HTTP_USER_AGENT']) || preg_match('/MSFT-WP*/i', $_SERVER['HTTP_USER_AGENT']) || preg_match('/MSFT-WIN*/i', $_SERVER['HTTP_USER_AGENT'])\nto add Win 8.1 and Win 10 support. Then create new iCloud Account with settings:\n- User name: your_baikal_username\n- Password: your_baikal_password\n- Account name: whatever_you_like\n- Incoming email server: 127.0.0.1\n- Outgping email server: 127.0.0.1\n- Outgoing server requires authentication: no\n- Contacts server (CardDAV): https://your_domain:your_port/card.php\n- Calendar server (CalDAV): https://your_domain:your_port/cal.php\nand all calendars as well as contacts should become visible in Calendar and People apps.\n. maybe a dumb question, but have you enabled your Baikal calendars in settings?\n. ",
    "jake017": "@jageb thanks for your workaround. It works. w10 app loaded my calendars but unfortunately, they're not showing any events. And when I add an event to one of the calendar, it saves but is gone instantly. But if I look at my thunderbird, I can see the event.\nDoes anyone know how to fix this last issue, that I'll be also able to see my events?\n. Yes, enabled @jageb \n. @jageb thanks for your workaround. It works. w10 app loaded my calendars but unfortunately, they're not showing any events. And when I add an event to one of the calendar, it saves but is gone instantly. But if I look at my thunderbird, I can see the event.\nDoes anyone know how to fix this last issue, that I'll be also able to see my events?\n. Yes, enabled @jageb \n. ",
    "clayton256": "+1\nCan anyone give me a hand with this? Like the OP, I want to pull out the calendar events for a particular user. I want to do this so I can feed that data to a website via json. I'm using baikal 0.2.7 with an sqlite db. Using sqlite3 command line tool and various select statements, I can see all the events and and all users stored in the db but I don't see how to relate a particular event to a particular user. I have code written to parse a vevent for the fields I need, so once I can figure out how to get the events for the users I care about I'll be all set.\nAny suggestions or hints to get started would be greatly appreciated!\nMark\n. Duh! Thanks for pointing that out! I see exactly what I need to do now.\n. +1\nCan anyone give me a hand with this? Like the OP, I want to pull out the calendar events for a particular user. I want to do this so I can feed that data to a website via json. I'm using baikal 0.2.7 with an sqlite db. Using sqlite3 command line tool and various select statements, I can see all the events and and all users stored in the db but I don't see how to relate a particular event to a particular user. I have code written to parse a vevent for the fields I need, so once I can figure out how to get the events for the users I care about I'll be all set.\nAny suggestions or hints to get started would be greatly appreciated!\nMark\n. Duh! Thanks for pointing that out! I see exactly what I need to do now.\n. ",
    "h4mit": "The problem was resolved\n/-----------\n- solution 1: \n  change routing config\n- solution 2: \n  change database parameter for mySql .\nTank's\n. The problem was resolved\n/-----------\n- solution 1: \n  change routing config\n- solution 2: \n  change database parameter for mySql .\nTank's\n. ",
    "alexanderschnitzler": "I had the same issue and it was because of a silently failing installation process.\nI simply executed all sql queries manually. To be found here:\nCore/Resources/Db/MySQL/db.sql\nAfterwards everything went just fine.\n. I had the same issue and it was because of a silently failing installation process.\nI simply executed all sql queries manually. To be found here:\nCore/Resources/Db/MySQL/db.sql\nAfterwards everything went just fine.\n. ",
    "18seven": "thx alexanderschnitzler . \nfailed here \njavascript\nmysql> CREATE TABLE IF NOT EXISTS locks (\n    ->     id INTEGER UNSIGNED NOT NULL PRIMARY KEY AUTO_INCREMENT,\n    ->     owner VARCHAR(100),\n    ->     timeout INTEGER UNSIGNED,\n    ->     created INTEGER,\n    ->     token VARCHAR(100),\n    ->     scope TINYINT,\n    ->     depth TINYINT,\n    ->     uri VARCHAR(1000),\n    ->     INDEX(token),\n    ->     INDEX(uri)\n    -> ) ENGINE=MyISAM DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;\nERROR 1071 (42000): Specified key was too long; max key length is 1000 bytes\n. thx alexanderschnitzler . \nfailed here \njavascript\nmysql> CREATE TABLE IF NOT EXISTS locks (\n    ->     id INTEGER UNSIGNED NOT NULL PRIMARY KEY AUTO_INCREMENT,\n    ->     owner VARCHAR(100),\n    ->     timeout INTEGER UNSIGNED,\n    ->     created INTEGER,\n    ->     token VARCHAR(100),\n    ->     scope TINYINT,\n    ->     depth TINYINT,\n    ->     uri VARCHAR(1000),\n    ->     INDEX(token),\n    ->     INDEX(uri)\n    -> ) ENGINE=MyISAM DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;\nERROR 1071 (42000): Specified key was too long; max key length is 1000 bytes\n. ",
    "ugr": "OSX 10.11 tries always to read /.well-known/carddav and stops syncing if this path does not exist.\nSo just add an redirect to your apache/lighttpd or ngnix configuration.\nFor apache, add:\nRedirect /.well-known/carddav https://your-server-name/card.php\nto the VirtualHost of your carddav server.\n. your redirect is maybe wrong. Try this:\nRedirect /.well-known/carddav /baikal/card.php\nRedirect /.well-known/caldav /baikal/cal.php\nMaybe this helps.\n. it looks ok. Please check your apache access log files, maybe is there any information. Maybe the connection information you entered in the accounts dialog of OSX are wrong?\n. OSX 10.11 tries always to read /.well-known/carddav and stops syncing if this path does not exist.\nSo just add an redirect to your apache/lighttpd or ngnix configuration.\nFor apache, add:\nRedirect /.well-known/carddav https://your-server-name/card.php\nto the VirtualHost of your carddav server.\n. your redirect is maybe wrong. Try this:\nRedirect /.well-known/carddav /baikal/card.php\nRedirect /.well-known/caldav /baikal/cal.php\nMaybe this helps.\n. it looks ok. Please check your apache access log files, maybe is there any information. Maybe the connection information you entered in the accounts dialog of OSX are wrong?\n. ",
    "AdamGerthel": "Thanks! Solved by adding\nRedirect /.well-known/carddav /card.php \nto .htaccess\n. Thanks! Solved by adding\nRedirect /.well-known/carddav /card.php \nto .htaccess\n. ",
    "tchek": "Thanks !\ni solved too the issue with this redirect in my htaccess.\nRedirect /.well-known/carddav /card.php\nwhat is strange is that it worked perfectly with only these lines in Yosemite :\nIfModule mod_rewrite.c\n    RewriteEngine on\n    RewriteRule /.well-known/carddav /card.php [R,L]\n    RewriteRule /.well-known/caldav  /cal.php [R,L]\n/IfModule\n. Thanks !\ni solved too the issue with this redirect in my htaccess.\nRedirect /.well-known/carddav /card.php\nwhat is strange is that it worked perfectly with only these lines in Yosemite :\nIfModule mod_rewrite.c\n    RewriteEngine on\n    RewriteRule /.well-known/carddav /card.php [R,L]\n    RewriteRule /.well-known/caldav  /cal.php [R,L]\n/IfModule\n. ",
    "MD94": "I have a Synology NAS (DSM 5.2-5592 Update 4) with a Baikal server (0.2.7-002).\nYosemite \"Calendar\" and \"Contacts\" work fine.\nAfter upgrading to El Capitan, it is impossible to synchronise these two apps.\nI read this thread and I have modified the Baikal directory .htaccess file.\nBut it did not change anything!\nHere are the contents of the .htaccess file (in the root directory of Baikal):\nWhen I try to create a new account, I get the following error:\n\"Unable to verify the name or password for the account.\"\nI create this account with:\nManual account\nand the following string for server address:\n\"NAS_IP/baikal/cal.php/principals/User_Name/\"\nCould you help me?\nThanks in advance.\n. I forgot to attach it in my previous message, here are the contents of the .htaccess file (in the root directory of Baikal):\n```\nDisabling cache management\nthat could cause problems with DAV requests\nUseful only for Apache servers, with AllowOverride All\n(ie, .htaccess files enabled)\nAllow HTTP headers with Apache/FastCGI\nSee http://code.google.com/p/sabredav/wiki/Authentication#Apache_+_(Fast)CGI\n\n    RewriteEngine On\n    RewriteRule .* - [E=HTTP_AUTHORIZATION:%{HTTP:Authorization},L]\n\n\n    ExpiresActive Off\n\nRedirect /.well-known/carddav /baikal/card.php\nRedirect /.well-known/caldav /baikal/cal.php\n```\nRedirects look right?\nWhere is my mistake?\n. Thanks tuxtlequino, I moved the .htaccess file to the web directory and everything works fine now.\n. I have a Synology NAS (DSM 5.2-5592 Update 4) with a Baikal server (0.2.7-002).\nYosemite \"Calendar\" and \"Contacts\" work fine.\nAfter upgrading to El Capitan, it is impossible to synchronise these two apps.\nI read this thread and I have modified the Baikal directory .htaccess file.\nBut it did not change anything!\nHere are the contents of the .htaccess file (in the root directory of Baikal):\nWhen I try to create a new account, I get the following error:\n\"Unable to verify the name or password for the account.\"\nI create this account with:\nManual account\nand the following string for server address:\n\"NAS_IP/baikal/cal.php/principals/User_Name/\"\nCould you help me?\nThanks in advance.\n. I forgot to attach it in my previous message, here are the contents of the .htaccess file (in the root directory of Baikal):\n```\nDisabling cache management\nthat could cause problems with DAV requests\nUseful only for Apache servers, with AllowOverride All\n(ie, .htaccess files enabled)\nAllow HTTP headers with Apache/FastCGI\nSee http://code.google.com/p/sabredav/wiki/Authentication#Apache_+_(Fast)CGI\n\n    RewriteEngine On\n    RewriteRule .* - [E=HTTP_AUTHORIZATION:%{HTTP:Authorization},L]\n\n\n    ExpiresActive Off\n\nRedirect /.well-known/carddav /baikal/card.php\nRedirect /.well-known/caldav /baikal/cal.php\n```\nRedirects look right?\nWhere is my mistake?\n. Thanks tuxtlequino, I moved the .htaccess file to the web directory and everything works fine now.\n. ",
    "tuxtlequino": "Hey MD94, I just used your example file to fix my Synology (DSM 5.2-5592 Update 4) with a Baikal server (0.2.7-002) and it works. I think that you are not placing your .htaccess file in the right place. In your case, it would be,\n\n/yourVolumeName/web/.htaccess\n\nThat is the root directory, NOT /yourVolumeName/web/baikal/.htaccess. I also made sure that the user and group was http on my .htaccess file. Here is the command to change user and group in case you don't know it:\n\nchown http:http .htaccess\n\nThat should fix it.\n. Hey MD94, I just used your example file to fix my Synology (DSM 5.2-5592 Update 4) with a Baikal server (0.2.7-002) and it works. I think that you are not placing your .htaccess file in the right place. In your case, it would be,\n\n/yourVolumeName/web/.htaccess\n\nThat is the root directory, NOT /yourVolumeName/web/baikal/.htaccess. I also made sure that the user and group was http on my .htaccess file. Here is the command to change user and group in case you don't know it:\n\nchown http:http .htaccess\n\nThat should fix it.\n. ",
    "JohnKnust": "when i using apache, what i have to change? just the rewrite rule in the config file too ? ah the second post from ugh make my day ;)\n. you're can ping me too :-)\nSent from my iPhone\n\nOn 22 Nov 2016, at 00:37, Laurens von Assel notifications@github.com wrote:\nThat's great! If you need any help translating to German, just ping me. :-)\n\u2014\nYou are receiving this because you are subscribed to this thread.\nReply to this email directly, view it on GitHub, or mute the thread.\n. just one calendar per user is working \n\nSent from my iPhone\n\nOn 7 Nov 2016, at 11:25, Raffael notifications@github.com wrote:\nDo you have several calendars per user? I have no proof yet but it looks to me like users with several calendars are affected. (But I am not sure.)\n\u2014\nYou are receiving this because you are subscribed to this thread.\nReply to this email directly, view it on GitHub, or mute the thread.\n. Hi again. \nso i can setup my baikal admin in this way the one User like John have two adressbooks and booth will be loaded on iOS and macOS devices ?\n\nbest regards \njohn\n\nOn 7 Nov 2016, at 13:02, Tntdruid notifications@github.com wrote:\nI use calendars whit no problems on iOS 10 whit one user.\n\u2014\nYou are receiving this because you commented.\nReply to this email directly, view it on GitHub, or mute the thread.\n. when i using apache, what i have to change? just the rewrite rule in the config file too ? ah the second post from ugh make my day ;)\n. you're can ping me too :-)\n\nSent from my iPhone\n\nOn 22 Nov 2016, at 00:37, Laurens von Assel notifications@github.com wrote:\nThat's great! If you need any help translating to German, just ping me. :-)\n\u2014\nYou are receiving this because you are subscribed to this thread.\nReply to this email directly, view it on GitHub, or mute the thread.\n. just one calendar per user is working \n\nSent from my iPhone\n\nOn 7 Nov 2016, at 11:25, Raffael notifications@github.com wrote:\nDo you have several calendars per user? I have no proof yet but it looks to me like users with several calendars are affected. (But I am not sure.)\n\u2014\nYou are receiving this because you are subscribed to this thread.\nReply to this email directly, view it on GitHub, or mute the thread.\n. Hi again. \nso i can setup my baikal admin in this way the one User like John have two adressbooks and booth will be loaded on iOS and macOS devices ?\n\nbest regards \njohn\n\nOn 7 Nov 2016, at 13:02, Tntdruid notifications@github.com wrote:\nI use calendars whit no problems on iOS 10 whit one user.\n\u2014\nYou are receiving this because you commented.\nReply to this email directly, view it on GitHub, or mute the thread.\n. \n",
    "erkyrath": "I've set up this redirect but I can't figure out how to create the account (under Contacts or System Preferences). \nI know the redirect works because if I go to https://box.local:8217/.well-known/carddav in Safari, I can see it redirect to https://box.local:8217/card.php.\nFor the account, I try Advanced; I fill in my user name and password; for Server Address I use \"box.local\"; I leave Server Path blank (defaulting to \"/principals/user/\") and for Port \"8217\", as you see above. Doesn't work.\nAm I misunderstanding how this should work?\n. Based on a comment elseweb, I think that the \"Advanced\" account option is entirely broken in OSX 10.11.0. Hope for a fix in 10.11.1.\n. I'm afraid I can't make CardDAV work even under 10.11.1. My baikal setup uses a custom port, so i have to use the Advanced option. This still does not work.\n(Manual has no \"server path\" option; it has \"server address\", which does not work.)\nAs I try, I keep getting crash reports: accountsd throws exceptions and dies.\n(CalDAV continues to work fine.)\n. Hm, that sounds good but I won't have a chance to try it until next week. Thanks.\n. Nope, still can't make it work. Sorry.\nI now have a redirect from http://box.local/.well-known/carddav to https://box.local:12345/card.php. This redirect works in a browser. (Note to self: gotta turn on mod_rewrite, bozo.)\nHowever, I still can't set up a carddav account. When I try to set up the \"Manual\" option, the console error implies that it's trying to access https://zarf@box.local:8843/principals/ , which is clearly wrong. \"Advanced\" continues to just crash.\n. For those of you who have gotten it to work, how did you fill in the account fields, and what (full) URL are you redirecting from?\n. @0-wiz-0 -- okay! With that setup, I have successfully made contact with the server and it wants to authenticate.\nNow Keychain Access is freezing up but that's a separate problem. :) Thank you all for your help.\nEDIT-ADD: Did you know that KeyChain Access is incompatible with MagicPrefs? You do now!\n. You can visit https://SERVER/.well-known/carddav in a browser and see if it redirects.\n. It's trying to reach the URL http://jerome@dav.example.com:8080/dav/principals/, which is almost certainly wrong. You don't want the username@ in the URL. I remember getting that error, but I can't remember what bad combination of configuration options caused it. \n. That doesn't sound like the same problem. I never saw Contacts reload, and I don't see how it could have since it was trying to use an invalid URL.\n. I've set up this redirect but I can't figure out how to create the account (under Contacts or System Preferences). \nI know the redirect works because if I go to https://box.local:8217/.well-known/carddav in Safari, I can see it redirect to https://box.local:8217/card.php.\nFor the account, I try Advanced; I fill in my user name and password; for Server Address I use \"box.local\"; I leave Server Path blank (defaulting to \"/principals/user/\") and for Port \"8217\", as you see above. Doesn't work.\nAm I misunderstanding how this should work?\n. Based on a comment elseweb, I think that the \"Advanced\" account option is entirely broken in OSX 10.11.0. Hope for a fix in 10.11.1.\n. I'm afraid I can't make CardDAV work even under 10.11.1. My baikal setup uses a custom port, so i have to use the Advanced option. This still does not work.\n(Manual has no \"server path\" option; it has \"server address\", which does not work.)\nAs I try, I keep getting crash reports: accountsd throws exceptions and dies.\n(CalDAV continues to work fine.)\n. Hm, that sounds good but I won't have a chance to try it until next week. Thanks.\n. Nope, still can't make it work. Sorry.\nI now have a redirect from http://box.local/.well-known/carddav to https://box.local:12345/card.php. This redirect works in a browser. (Note to self: gotta turn on mod_rewrite, bozo.)\nHowever, I still can't set up a carddav account. When I try to set up the \"Manual\" option, the console error implies that it's trying to access https://zarf@box.local:8843/principals/ , which is clearly wrong. \"Advanced\" continues to just crash.\n. For those of you who have gotten it to work, how did you fill in the account fields, and what (full) URL are you redirecting from?\n. @0-wiz-0 -- okay! With that setup, I have successfully made contact with the server and it wants to authenticate.\nNow Keychain Access is freezing up but that's a separate problem. :) Thank you all for your help.\nEDIT-ADD: Did you know that KeyChain Access is incompatible with MagicPrefs? You do now!\n. You can visit https://SERVER/.well-known/carddav in a browser and see if it redirects.\n. It's trying to reach the URL http://jerome@dav.example.com:8080/dav/principals/, which is almost certainly wrong. You don't want the username@ in the URL. I remember getting that error, but I can't remember what bad combination of configuration options caused it. \n. That doesn't sound like the same problem. I never saw Contacts reload, and I don't see how it could have since it was trying to use an invalid URL.\n. ",
    "Julien-Dr": "Hello,\nso i try this for working sync between my synology (DSM 4.2) nas and Apple Contacts with MacOsX 10.11, but unfortunately, still doesn't work.\nstep 1\ninstalling baikal (0.2.7) on Synology Nas.\nweb/baikal/\nstep 2\non Synology Nas.\nweb/.htaccess\nin .htaccess file :\n\n# Disabling cache management\n# that could cause problems with DAV requests\n# Useful only for Apache servers, with AllowOverride All\n# (ie, .htaccess files enabled)\n# Allow HTTP headers with Apache/FastCGI\n# See http://code.google.com/p/sabredav/wiki/Authentication#Apache_+_(Fast)CGI\n\n    RewriteEngine On\n    RewriteRule .* - [E=HTTP_AUTHORIZATION:%{HTTP:Authorization},L]\n\n\n    ExpiresActive Off\n\nRedirect /.well-known/carddav /baikal/card.php\nRedirect /.well-known/caldav /baikal/cal.php\n\nstep 3 :\nIn Apple Contacts.\nAdd Account\n\nAccount type : Advanced\nUsername : registered user name in Baikal admin dashboard\nPassword : registered password in Baikal admin dashboard\nServer Address : subdomainnamelinkedtothenas (without http:// or https:// before)\nServer Path : i tried multiple pathes :\n       - /baikal/card.php\n       - (blank)\n       - /baikal/\n       - /baikal/card.php/addressbooks/user/default/\n\nSSL : [  ] unchecked\nPort : (blank)\n\nNothing works.\nDoes anyone tell me where i'm wrong ?\n. Thanx Ekyrath.\nIs Manual Mode broken too ?\n. Hello Lars,\nCould you tell me what kind of URL you put in 'server address' field ifor adding account ? \nSomething like :\nhttps://nasIPaddress:port/baikal/card.php ?\n. thank you rudi\n. Hello,\nso i try this for working sync between my synology (DSM 4.2) nas and Apple Contacts with MacOsX 10.11, but unfortunately, still doesn't work.\nstep 1\ninstalling baikal (0.2.7) on Synology Nas.\nweb/baikal/\nstep 2\non Synology Nas.\nweb/.htaccess\nin .htaccess file :\n\n# Disabling cache management\n# that could cause problems with DAV requests\n# Useful only for Apache servers, with AllowOverride All\n# (ie, .htaccess files enabled)\n# Allow HTTP headers with Apache/FastCGI\n# See http://code.google.com/p/sabredav/wiki/Authentication#Apache_+_(Fast)CGI\n\n    RewriteEngine On\n    RewriteRule .* - [E=HTTP_AUTHORIZATION:%{HTTP:Authorization},L]\n\n\n    ExpiresActive Off\n\nRedirect /.well-known/carddav /baikal/card.php\nRedirect /.well-known/caldav /baikal/cal.php\n\nstep 3 :\nIn Apple Contacts.\nAdd Account\n\nAccount type : Advanced\nUsername : registered user name in Baikal admin dashboard\nPassword : registered password in Baikal admin dashboard\nServer Address : subdomainnamelinkedtothenas (without http:// or https:// before)\nServer Path : i tried multiple pathes :\n       - /baikal/card.php\n       - (blank)\n       - /baikal/\n       - /baikal/card.php/addressbooks/user/default/\n\nSSL : [  ] unchecked\nPort : (blank)\n\nNothing works.\nDoes anyone tell me where i'm wrong ?\n. Thanx Ekyrath.\nIs Manual Mode broken too ?\n. Hello Lars,\nCould you tell me what kind of URL you put in 'server address' field ifor adding account ? \nSomething like :\nhttps://nasIPaddress:port/baikal/card.php ?\n. thank you rudi\n. ",
    "rudi48": "HowTo make CalDAV/CardDAV work with Mac El Capitan 10.11.1 (for apache2 under Ubuntu 14.04):\n1. If in the configuration file  /etc/apache2/apache2.conf for the HTTP root directory, e.g.:\n   <Directory /var/www/>\n   there is the directive AllowOverride None, .htaccess will not work at all.\n   see: https://httpd.apache.org/docs/2.2/howto/htaccess.html\n2. For a redirect better write in file apache2.conf for the HTTP root directory:\n   Redirect 301 /.well-known/carddav /baikal/card.php\n   Restart the apache2 server with $ sudo service apache2 restart\n   See also https://httpd.apache.org/docs/2.2/mod/mod_alias.html#redirect\n3. In Mac OS X setup the Internet-Account for CardDAV in manual mode:\n   server address: https://<domain name>/baikal/card.php/principals/<user>/\n   e.g. local server: 192.168.178.72/baikal/card.php/principals/reuterru/\n4. CalDAV works in 10.11.1 as usual with advanced mode setup.\n. @erkyrath \nHow about appending the custom port number to the domain name with a colon?\n. HowTo make CalDAV/CardDAV work with Mac El Capitan 10.11.1 (for apache2 under Ubuntu 14.04):\n1. If in the configuration file  /etc/apache2/apache2.conf for the HTTP root directory, e.g.:\n   <Directory /var/www/>\n   there is the directive AllowOverride None, .htaccess will not work at all.\n   see: https://httpd.apache.org/docs/2.2/howto/htaccess.html\n2. For a redirect better write in file apache2.conf for the HTTP root directory:\n   Redirect 301 /.well-known/carddav /baikal/card.php\n   Restart the apache2 server with $ sudo service apache2 restart\n   See also https://httpd.apache.org/docs/2.2/mod/mod_alias.html#redirect\n3. In Mac OS X setup the Internet-Account for CardDAV in manual mode:\n   server address: https://<domain name>/baikal/card.php/principals/<user>/\n   e.g. local server: 192.168.178.72/baikal/card.php/principals/reuterru/\n4. CalDAV works in 10.11.1 as usual with advanced mode setup.\n. @erkyrath \nHow about appending the custom port number to the domain name with a colon?\n. ",
    "0-wiz-0": "I'm running baikal on a non-default port. I saw this 405 error as well. I tried playing around with Redirect and RewriteRule. What solved it for me was adding the complete URL on the right hand side of the RewriteRule, including the port. Then I don't even need the Redirect.\nI.e.:\nRewriteRule /.well-known/carddav https://myserver:12345/card.php [R,L]\nRewriteRule /.well-known/caldav https://myserver:12345/cal.php [R,L]\nPerhaps El Capitan changed in that it doesn't use the same port by default when being redirected?\n. To clarify my setup:\nClients:\nOS X El Capitan 10.11.1 Calendars + Contacts\niOS 9.1 Calendars + Contacts\nServer:\napache-2.4.10, baikal-0.2.7\napache config (httpd.conf):\n```\n...\nListen 0.0.0.0:7777\n...\n\n    DocumentRoot /usr/pkg/share/baikal/html\n    ServerName baikal.example.com\n\n    RewriteEngine On\n    #Redirect /.well-known/carddav https://baikal.example.com:7777/card.php\n    RewriteRule /.well-known/carddav https://baikal.example.com:7777/card.php [R,L]\n    RewriteRule /.well-known/caldav https://baikal.example.com:7777/cal.php [R,L]\n\n    <Directory \"/usr/pkg/share/baikal/html\">\n            Options None\n            Options +FollowSymlinks\n            AllowOverride All\n    </Directory>\n\nSSLEngine on\nand then some more SSL and log settings; certificate provided by CACert\n...\n\n```\nSet up on client (OS X, but iOS pretty the same):\nSystem Preferences -> Internet Accounts -> \"Add Other Account...\" -> CardDAV (or CalDAV) account\nAccount Type: Manual\nUser Name (my username as configured in baikal)\nPassword (as configured in baikal)\nServer Address: baikal.example.com:7777\nThat's it.\n. In the thunderbird bug report I learned that it's probably an issue with one of the calendar entries, but got no hints how to track it down. It's probably ok to close this bug report, but hints how to track this down are very welcome (>2000 entries in the calendar...).. Thank you for the suggestion!\nI downloaded the calendar with wget, which worked fine. Then I ran validate on it.\nThere seems to be a bug in validate:\n// This sucks.. we have to try to find the composer autoloader. But chances\n// are, we can't find it this way. So we'll do our bestest\n$paths = [\n    __DIR__ . '/../vendor/autoload.php',  // In case vobject is cloned directly\n    __DIR__ . '/../../../autoload.php',   // In case vobject is a composer dependency.\n];\nbut autoload.php is in ../autoload.php compared to bin/vobject.\nAnyway, validate was happy with the file. I found two online services that validate ics files but am not happy with uploading my personal calendar to some website... other ideas?. I had already done that (see first entry) but just pinged them again. Thanks for your help!. I tried to debug this some more.\nThe file I ran through the validator, the ?export one, can be loaded without problems by thunderbird as well.\nAre there any differences in parsing when baikal provides the data via ?export compared to using caldav?\nIn particular, there are a couple entries created using Apple tools that lead to another bug report against a python ics library, see https://github.com/pimutils/khal/issues/467\nIf baikal is parsing the files differently when being accessed by the two ways, perhaps it triggers this (or some other issue)?. I'm running baikal on a non-default port. I saw this 405 error as well. I tried playing around with Redirect and RewriteRule. What solved it for me was adding the complete URL on the right hand side of the RewriteRule, including the port. Then I don't even need the Redirect.\nI.e.:\nRewriteRule /.well-known/carddav https://myserver:12345/card.php [R,L]\nRewriteRule /.well-known/caldav https://myserver:12345/cal.php [R,L]\nPerhaps El Capitan changed in that it doesn't use the same port by default when being redirected?\n. To clarify my setup:\nClients:\nOS X El Capitan 10.11.1 Calendars + Contacts\niOS 9.1 Calendars + Contacts\nServer:\napache-2.4.10, baikal-0.2.7\napache config (httpd.conf):\n```\n...\nListen 0.0.0.0:7777\n...\n\n    DocumentRoot /usr/pkg/share/baikal/html\n    ServerName baikal.example.com\n\n    RewriteEngine On\n    #Redirect /.well-known/carddav https://baikal.example.com:7777/card.php\n    RewriteRule /.well-known/carddav https://baikal.example.com:7777/card.php [R,L]\n    RewriteRule /.well-known/caldav https://baikal.example.com:7777/cal.php [R,L]\n\n    <Directory \"/usr/pkg/share/baikal/html\">\n            Options None\n            Options +FollowSymlinks\n            AllowOverride All\n    </Directory>\n\nSSLEngine on\nand then some more SSL and log settings; certificate provided by CACert\n...\n\n```\nSet up on client (OS X, but iOS pretty the same):\nSystem Preferences -> Internet Accounts -> \"Add Other Account...\" -> CardDAV (or CalDAV) account\nAccount Type: Manual\nUser Name (my username as configured in baikal)\nPassword (as configured in baikal)\nServer Address: baikal.example.com:7777\nThat's it.\n. In the thunderbird bug report I learned that it's probably an issue with one of the calendar entries, but got no hints how to track it down. It's probably ok to close this bug report, but hints how to track this down are very welcome (>2000 entries in the calendar...).. Thank you for the suggestion!\nI downloaded the calendar with wget, which worked fine. Then I ran validate on it.\nThere seems to be a bug in validate:\n// This sucks.. we have to try to find the composer autoloader. But chances\n// are, we can't find it this way. So we'll do our bestest\n$paths = [\n    __DIR__ . '/../vendor/autoload.php',  // In case vobject is cloned directly\n    __DIR__ . '/../../../autoload.php',   // In case vobject is a composer dependency.\n];\nbut autoload.php is in ../autoload.php compared to bin/vobject.\nAnyway, validate was happy with the file. I found two online services that validate ics files but am not happy with uploading my personal calendar to some website... other ideas?. I had already done that (see first entry) but just pinged them again. Thanks for your help!. I tried to debug this some more.\nThe file I ran through the validator, the ?export one, can be loaded without problems by thunderbird as well.\nAre there any differences in parsing when baikal provides the data via ?export compared to using caldav?\nIn particular, there are a couple entries created using Apple tools that lead to another bug report against a python ics library, see https://github.com/pimutils/khal/issues/467\nIf baikal is parsing the files differently when being accessed by the two ways, perhaps it triggers this (or some other issue)?. ",
    "chrizdee": "Works perfect \u2013\u00a0Thanks!\n. Works perfect \u2013\u00a0Thanks!\n. ",
    "Soulplayer": "Hello,\nI have the same problem on mac with my Synology but I have the feeling the .htaccess file is not working as it should... \n```\nDisabling cache management\nthat could cause problems with DAV requests\nUseful only for Apache servers, with AllowOverride All\n(ie, .htaccess files enabled)\nAllow HTTP headers with Apache/FastCGI\nSee http://code.google.com/p/sabredav/wiki/Authentication#Apache_+_(Fast)CGI\n\nRewriteEngine On\nRewriteRule .* - [E=HTTP_AUTHORIZATION:%{HTTP:Authorization},L]\n\n\nExpiresActive Off\n\nRedirect /.well-known/carddav /baikal/card.php\nRedirect /.well-known/caldav /baikal/cal.php\n```\nPath: /volume1/web\nManual Configuration\nUsername: your-user\nPassword: *\nServer Address:\n\"domain/baikal/cal.php/principals/User_Name/default/\"\nor\n\"domain/baikal/cal.php/principals/User_Name/\"\nAny ideas? Can I check if the .htaccess file is working or not?\n. Hello,\nI have the same problem on mac with my Synology but I have the feeling the .htaccess file is not working as it should... \n```\nDisabling cache management\nthat could cause problems with DAV requests\nUseful only for Apache servers, with AllowOverride All\n(ie, .htaccess files enabled)\nAllow HTTP headers with Apache/FastCGI\nSee http://code.google.com/p/sabredav/wiki/Authentication#Apache_+_(Fast)CGI\n\nRewriteEngine On\nRewriteRule .* - [E=HTTP_AUTHORIZATION:%{HTTP:Authorization},L]\n\n\nExpiresActive Off\n\nRedirect /.well-known/carddav /baikal/card.php\nRedirect /.well-known/caldav /baikal/cal.php\n```\nPath: /volume1/web\nManual Configuration\nUsername: your-user\nPassword: *\nServer Address:\n\"domain/baikal/cal.php/principals/User_Name/default/\"\nor\n\"domain/baikal/cal.php/principals/User_Name/\"\nAny ideas? Can I check if the .htaccess file is working or not?\n. ",
    "Vlaaaaaaad": "After trying all the ideas from here, I still can't sync baikal with OS X.\nConsole messages:\n```\naccountsd[305]: [com.apple.calendar.accounts.authentication] [Auto-discovery for (null) failed with error Error Domain=NSURLErrorDomain Code=-1001 \"The request timed out.\" UserInfo={NSUnderlyingError=0x7f91da7e2a80 {Error Domain=kCFErrorDomainCFNetwork Code=-1001 \"The request timed out.\" UserInfo={NSErrorFailingURLStringKey=http://jerome@dav.example.com:8080/dav/principals/, NSErrorFailingURLKey=http://jerome@dav.example.com:8080/dav/principals/, _kCFStreamErrorCodeKey=-2102, _kCFStreamErrorDomainKey=4, NSLocalizedDescription=The request timed out.}}, NSErrorFailingURLStringKey=http://jerome@dav.example.com:8080/dav/principals/, NSErrorFailingURLKey=http://jerome@dav.example.com:8080/dav/principals/, _kCFStreamErrorDomainKey=4, _kCFStreamErrorCodeKey=-2102, NSLocalizedDescription=The request timed out.}.]\naccountsd[305]: [com.apple.calendar.accounts.authentication] [Calling completion block with account error Error Domain=com.apple.accounts Code=10001 \"(null)\" UserInfo={NSUnderlyingError=0x7f91db4224c0 {Error Domain=NSURLErrorDomain Code=-1001 \"The request timed out.\" UserInfo={NSUnderlyingError=0x7f91da7e2a80 {Error Domain=kCFErrorDomainCFNetwork Code=-1001 \"The request timed out.\" UserInfo={NSErrorFailingURLStringKey=http://jerome@dav.example.com:8080/dav/principals/, NSErrorFailingURLKey=http://jerome@dav.example.com:8080/dav/principals/, _kCFStreamErrorCodeKey=-2102, _kCFStreamErrorDomainKey=4, NSLocalizedDescription=The request timed out.}}, NSErrorFailingURLStringKey=http://jerome@dav.example.com:8080/dav/principals/, NSErrorFailingURLKey=http://jerome@dav.example.com:8080/dav/principals/, _kCFStreamErrorDomainKey=4, _kCFStreamErrorCodeKey=-2102, NSLocalizedDescription=The request timed out.}}, Hostname=dav.example.com}.]\n```\nNginx access logs:\nIP [XX/XXX/2016:XX:XX:XX +XXXX] \"PROPFIND /.well-known/caldav HTTP/1.1\" 301 178 \"-\" \"Mac+OS+X/10.11.2 (15C50) accountsd/113\"\nIP [XX/XXX/2016:XX:XX:XX +XXXX] \"PROPFIND / HTTP/1.1\" 301 178 \"-\" \"Mac+OS+X/10.11.2 (15C50) accountsd/113\"\nIP [XX/XXX/2016:XX:XX:XX +XXXX] \"PROPFIND /caldav/v2 HTTP/1.1\" 301 178 \"-\" \"Mac+OS+X/10.11.2 (15C50) accountsd/113\"\nIP [XX/XXX/2016:XX:XX:XX +XXXX] \"PROPFIND /principals/users/jerome/ HTTP/1.1\" 301 178 \"-\" \"Mac+OS+X/10.11.2 (15C50) accountsd/113\"\nIP [XX/XXX/2016:XX:XX:XX +XXXX] \"PROPFIND /principals/ HTTP/1.1\" 301 178 \"-\" \"Mac+OS+X/10.11.2 (15C50) accountsd/113\"\nIP [XX/XXX/2016:XX:XX:XX +XXXX] \"PROPFIND /dav/principals/ HTTP/1.1\" 301 178 \"-\" \"Mac+OS+X/10.11.2 (15C50) accountsd/113\"\nAny ideas or input would be appreciated.\n. No idea why OS X is doing that.\nIf I try setting it up using the \"Advanced\" account type it's throwing the \"Unable to verify name or password\" even faster with no errors or messajes in the Console and nginx gets this in the log:\nIP - - [XX/XXX/2016:XX:XX:XX +XXXX] \"PROPFIND /cal.php/principals/jerome HTTP/1.1\" 400 264 \"-\" \"Mac+OS+X/10.11.2 (15C50) CalendarAgent/361.1\"\n. Nope, still nothing for me. Same errors as above.\nThe only difference I can think of is that my server is not on the same network and has a domain. But this doesn't stop my phone or vdirsyncer from syncing with it.\n. I am a stupid stupid man.\nTrying to capture the traffic for @evert using Wireshark was a bit harder because I was using SSL. I disabled SSL and lo and behold, everything worked. Both calendars and contacts.\nI started to debug the SSL options in nginx and turns out that a include was badly formatted and ignored. Fixed that and now everything works. \nDidn't even think that it could've been because of SSL. The question would now be how come it worked on all other machines, but that's for another time.\nThanks for all your help and apologies for the noise!\n. After trying all the ideas from here, I still can't sync baikal with OS X.\nConsole messages:\n```\naccountsd[305]: [com.apple.calendar.accounts.authentication] [Auto-discovery for (null) failed with error Error Domain=NSURLErrorDomain Code=-1001 \"The request timed out.\" UserInfo={NSUnderlyingError=0x7f91da7e2a80 {Error Domain=kCFErrorDomainCFNetwork Code=-1001 \"The request timed out.\" UserInfo={NSErrorFailingURLStringKey=http://jerome@dav.example.com:8080/dav/principals/, NSErrorFailingURLKey=http://jerome@dav.example.com:8080/dav/principals/, _kCFStreamErrorCodeKey=-2102, _kCFStreamErrorDomainKey=4, NSLocalizedDescription=The request timed out.}}, NSErrorFailingURLStringKey=http://jerome@dav.example.com:8080/dav/principals/, NSErrorFailingURLKey=http://jerome@dav.example.com:8080/dav/principals/, _kCFStreamErrorDomainKey=4, _kCFStreamErrorCodeKey=-2102, NSLocalizedDescription=The request timed out.}.]\naccountsd[305]: [com.apple.calendar.accounts.authentication] [Calling completion block with account error Error Domain=com.apple.accounts Code=10001 \"(null)\" UserInfo={NSUnderlyingError=0x7f91db4224c0 {Error Domain=NSURLErrorDomain Code=-1001 \"The request timed out.\" UserInfo={NSUnderlyingError=0x7f91da7e2a80 {Error Domain=kCFErrorDomainCFNetwork Code=-1001 \"The request timed out.\" UserInfo={NSErrorFailingURLStringKey=http://jerome@dav.example.com:8080/dav/principals/, NSErrorFailingURLKey=http://jerome@dav.example.com:8080/dav/principals/, _kCFStreamErrorCodeKey=-2102, _kCFStreamErrorDomainKey=4, NSLocalizedDescription=The request timed out.}}, NSErrorFailingURLStringKey=http://jerome@dav.example.com:8080/dav/principals/, NSErrorFailingURLKey=http://jerome@dav.example.com:8080/dav/principals/, _kCFStreamErrorDomainKey=4, _kCFStreamErrorCodeKey=-2102, NSLocalizedDescription=The request timed out.}}, Hostname=dav.example.com}.]\n```\nNginx access logs:\nIP [XX/XXX/2016:XX:XX:XX +XXXX] \"PROPFIND /.well-known/caldav HTTP/1.1\" 301 178 \"-\" \"Mac+OS+X/10.11.2 (15C50) accountsd/113\"\nIP [XX/XXX/2016:XX:XX:XX +XXXX] \"PROPFIND / HTTP/1.1\" 301 178 \"-\" \"Mac+OS+X/10.11.2 (15C50) accountsd/113\"\nIP [XX/XXX/2016:XX:XX:XX +XXXX] \"PROPFIND /caldav/v2 HTTP/1.1\" 301 178 \"-\" \"Mac+OS+X/10.11.2 (15C50) accountsd/113\"\nIP [XX/XXX/2016:XX:XX:XX +XXXX] \"PROPFIND /principals/users/jerome/ HTTP/1.1\" 301 178 \"-\" \"Mac+OS+X/10.11.2 (15C50) accountsd/113\"\nIP [XX/XXX/2016:XX:XX:XX +XXXX] \"PROPFIND /principals/ HTTP/1.1\" 301 178 \"-\" \"Mac+OS+X/10.11.2 (15C50) accountsd/113\"\nIP [XX/XXX/2016:XX:XX:XX +XXXX] \"PROPFIND /dav/principals/ HTTP/1.1\" 301 178 \"-\" \"Mac+OS+X/10.11.2 (15C50) accountsd/113\"\nAny ideas or input would be appreciated.\n. No idea why OS X is doing that.\nIf I try setting it up using the \"Advanced\" account type it's throwing the \"Unable to verify name or password\" even faster with no errors or messajes in the Console and nginx gets this in the log:\nIP - - [XX/XXX/2016:XX:XX:XX +XXXX] \"PROPFIND /cal.php/principals/jerome HTTP/1.1\" 400 264 \"-\" \"Mac+OS+X/10.11.2 (15C50) CalendarAgent/361.1\"\n. Nope, still nothing for me. Same errors as above.\nThe only difference I can think of is that my server is not on the same network and has a domain. But this doesn't stop my phone or vdirsyncer from syncing with it.\n. I am a stupid stupid man.\nTrying to capture the traffic for @evert using Wireshark was a bit harder because I was using SSL. I disabled SSL and lo and behold, everything worked. Both calendars and contacts.\nI started to debug the SSL options in nginx and turns out that a include was badly formatted and ignored. Fixed that and now everything works. \nDidn't even think that it could've been because of SSL. The question would now be how come it worked on all other machines, but that's for another time.\nThanks for all your help and apologies for the noise!\n. ",
    "papalamg": "Hallo, I had the same problems. Webinterface of Baikal works fine, but unable to connect to calendar from Mac os X 10.11.2.\nnow caldav works!!!! I am so happy!\nBaikal is running on a raspberry pi with nginx and ssl, Baikal installed in /var/www/baikal\nhere my config located in /etc/nginx/sites-available: \nserver {\n        listen 443;\n```\n    ssl on;\n    ssl_certificate /etc/nginx/ssl/baikal.crt;      # path to your cacert.pem\n    ssl_certificate_key /etc/nginx/ssl/baikal.key;  # path to your privkey.pem\nroot /var/www/;\nindex index.html index.htm index.php;\n\nserver_name 192.168.178.31;\n\nlocation / {\n        try_files $uri $uri/ /index.html;\n}\n\nlocation ~ ^(.+\\.php)(.*) {\n        try_files $fastcgi_script_name =404;\n        fastcgi_split_path_info ^(.+\\.php)(.*)$;\n\n        fastcgi_pass unix:/var/run/php5-fpm.sock;\n        fastcgi_param  SCRIPT_FILENAME  $document_root$fastcgi_script_name;\n        fastcgi_param  PATH_INFO        $fastcgi_path_info;\n        fastcgi_index index.php;\n        include fastcgi_params;\n}\n\nrewrite ^/.well-known/caldav /baikal/cal.php redirect;\nrewrite ^/.well-known/carddav /baikal/card.php redirect;\n\ncharset utf-8;\n\nlocation ~ /(\\.ht|Core|Specific) {\n        deny all;\n        return 404;\n}\n\n```\n}\nI connected from Mac os x with the following settings:\nSystem setting-> internet accounts ->add new account -> other -> caldav account\naccount-type: manual\nusername: username\npassword: password\nserveradress: 192.168.178.31\nno additional https or ports or folders...\nand then it works.\nWhen i look in the settings in calendar there is written in the tab \"accounts\":\ntab server settings:\nserver adress: 192.168.178.31\nserver path: /baikal/cal.php/principals/Peter/  (this adress I tried before it runs???)\nport: automatic (in grey)\nuse ssl: activated\nkerberos: not activated.\nI hope this helps other people.\nRegards\nPeter\n. Hallo, I had the same problems. Webinterface of Baikal works fine, but unable to connect to calendar from Mac os X 10.11.2.\nnow caldav works!!!! I am so happy!\nBaikal is running on a raspberry pi with nginx and ssl, Baikal installed in /var/www/baikal\nhere my config located in /etc/nginx/sites-available: \nserver {\n        listen 443;\n```\n    ssl on;\n    ssl_certificate /etc/nginx/ssl/baikal.crt;      # path to your cacert.pem\n    ssl_certificate_key /etc/nginx/ssl/baikal.key;  # path to your privkey.pem\nroot /var/www/;\nindex index.html index.htm index.php;\n\nserver_name 192.168.178.31;\n\nlocation / {\n        try_files $uri $uri/ /index.html;\n}\n\nlocation ~ ^(.+\\.php)(.*) {\n        try_files $fastcgi_script_name =404;\n        fastcgi_split_path_info ^(.+\\.php)(.*)$;\n\n        fastcgi_pass unix:/var/run/php5-fpm.sock;\n        fastcgi_param  SCRIPT_FILENAME  $document_root$fastcgi_script_name;\n        fastcgi_param  PATH_INFO        $fastcgi_path_info;\n        fastcgi_index index.php;\n        include fastcgi_params;\n}\n\nrewrite ^/.well-known/caldav /baikal/cal.php redirect;\nrewrite ^/.well-known/carddav /baikal/card.php redirect;\n\ncharset utf-8;\n\nlocation ~ /(\\.ht|Core|Specific) {\n        deny all;\n        return 404;\n}\n\n```\n}\nI connected from Mac os x with the following settings:\nSystem setting-> internet accounts ->add new account -> other -> caldav account\naccount-type: manual\nusername: username\npassword: password\nserveradress: 192.168.178.31\nno additional https or ports or folders...\nand then it works.\nWhen i look in the settings in calendar there is written in the tab \"accounts\":\ntab server settings:\nserver adress: 192.168.178.31\nserver path: /baikal/cal.php/principals/Peter/  (this adress I tried before it runs???)\nport: automatic (in grey)\nuse ssl: activated\nkerberos: not activated.\nI hope this helps other people.\nRegards\nPeter\n. ",
    "Brixy": "Hi all!\nI am experiencing the same problems, yet I can \u201cforce\u201d single contact card to update:\n- Update any contact on the CardDAV server.\n- Click on that contact card in OS X contacts.\n- Edit that contact.\n- The contacts app will then reload all contacts (and revert the change you just made).\nIt really seems to be a non-solved OS X error.\n. Hi all!\nI am experiencing the same problems, yet I can \u201cforce\u201d single contact card to update:\n- Update any contact on the CardDAV server.\n- Click on that contact card in OS X contacts.\n- Edit that contact.\n- The contacts app will then reload all contacts (and revert the change you just made).\nIt really seems to be a non-solved OS X error.\n. ",
    "jmb47": "hi \nI put Redirect /.well-known/carddav /baikal/card.php in my .htaccess in the web folder.\nwhen i'm trying to connect to : http://diskstation.local/.well-known/carddav i have this : \nSabre\\DAV\\Exception\\NotImplemented\nGET is only implemented on File objects\n1.8.7\n\ni can't fixed the issue....\n. hi \nI put Redirect /.well-known/carddav /baikal/card.php in my .htaccess in the web folder.\nwhen i'm trying to connect to : http://diskstation.local/.well-known/carddav i have this : \nSabre\\DAV\\Exception\\NotImplemented\nGET is only implemented on File objects\n1.8.7\n\ni can't fixed the issue....\n. ",
    "galinet": "thanks for your answer,\nI downloaded with FTP the index.php file to be sure that it is the right \nversion that is on my web site.\nAND i discovered that for some reason  the \"\\\" of the line were changed \nfor \"/\" .\nI don't understand why (and when) I did such a stupid change.\nI apologize for asking for help when it's my own fault.\nThanks anyway for being so quick !\nLe 07/10/2015 18:43, Net Gusto a \u00e9crit :\n\nHello,\nThis is weird, as line 49 of this file does not contain any \u2018/\u2018 character.\nCould you post the content of this file, please ?\n\n\nHubert Lelong\nWebmestre d'\nhttp://www.galinou.fr\n. thanks for your answer.\nOn my PC I'm using W7. \nthe server is a shared server from OVH running Linux. Phpinfo() says PHP Version 5.5.22. no SOGO. No proxy at home, \nI'm trying only one connection for one calendar.\n. no one to share an idea ?\ntoo bad...\n. thanks for your answer,\nI downloaded with FTP the index.php file to be sure that it is the right \nversion that is on my web site.\nAND i discovered that for some reason  the \"\\\" of the line were changed \nfor \"/\" .\nI don't understand why (and when) I did such a stupid change.\nI apologize for asking for help when it's my own fault.\nThanks anyway for being so quick !\nLe 07/10/2015 18:43, Net Gusto a \u00e9crit :\n\nHello,\nThis is weird, as line 49 of this file does not contain any \u2018/\u2018 character.\nCould you post the content of this file, please ?\n\n\nHubert Lelong\nWebmestre d'\nhttp://www.galinou.fr\n. thanks for your answer.\nOn my PC I'm using W7. \nthe server is a shared server from OVH running Linux. Phpinfo() says PHP Version 5.5.22. no SOGO. No proxy at home, \nI'm trying only one connection for one calendar.\n. no one to share an idea ?\ntoo bad...\n. ",
    "harmlessdrudge": "Thunderbird uses Lightning to authenticate. Lightning will not permit more than one connection to the same server. It's a known issue. Workaround is to put a different entry for each calendar in your hosts file. You don't mention what OS you are using on either your client or server, whether you are using SOGO, whether you have set up port forwarding, adjusted your firewall rules...\n. Don't see any errors in the logs.\nPHP is version 5.5.31 (MariaDB is 5.5 and Apache is 2.2)\nI'm using a MariaDB database called baikal.\n. I upgraded to Synology DSM 6 and b) then upgraded Baikal to 4.4, both in the last few days and both without any problems so far. Had it on the to do list to update this but you beat me to it.\nUpdate: actually there was one small problem. I wouldn't have known the MySQL password to save my life and I found myself locked out for a while because of the URL change. This was because I usually rely on Lastpass to record and enter passwords. With the new URL it didn't know it had it on file (didn't react) and I thought it must have fallen through the cracks. (I had saved the db earlier and might well have done so using the password from memory.)\nPossible tweak to the docs\nIf you use a password manager make the following change to the URL: \n. Thunderbird uses Lightning to authenticate. Lightning will not permit more than one connection to the same server. It's a known issue. Workaround is to put a different entry for each calendar in your hosts file. You don't mention what OS you are using on either your client or server, whether you are using SOGO, whether you have set up port forwarding, adjusted your firewall rules...\n. Don't see any errors in the logs.\nPHP is version 5.5.31 (MariaDB is 5.5 and Apache is 2.2)\nI'm using a MariaDB database called baikal.\n. I upgraded to Synology DSM 6 and b) then upgraded Baikal to 4.4, both in the last few days and both without any problems so far. Had it on the to do list to update this but you beat me to it.\nUpdate: actually there was one small problem. I wouldn't have known the MySQL password to save my life and I found myself locked out for a while because of the URL change. This was because I usually rely on Lastpass to record and enter passwords. With the new URL it didn't know it had it on file (didn't react) and I thought it must have fallen through the cracks. (I had saved the db earlier and might well have done so using the password from memory.)\nPossible tweak to the docs\nIf you use a password manager make the following change to the URL: \n. ",
    "ScrumpyJack": "Apologies, I closed the ticket because I couldn't seem to delete it. This is a non issue and can safely be ignored. Sorry for the confusion. I have updated the initial issue accordingly.\n. Apologies, I closed the ticket because I couldn't seem to delete it. This is a non issue and can safely be ignored. Sorry for the confusion. I have updated the initial issue accordingly.\n. ",
    "vignesh-sankaran": "I agree, it seems a little odd to have these fields here when their purpose isn't well known\n. I agree, it seems a little odd to have these fields here when their purpose isn't well known\n. ",
    "HyperCriSiS": "I have the same issue!\n. I have the same issue!\n. ",
    "wendelb": "Please have a look in your error log (PHP Error Log & Webserver error log).\n. There seems to be a PHP error you need to troubleshoot. On PHP5 errors aren't displayed to the user anymore, but logged to file instead. Have a look and post the content here.\n. Please have a look in your error log (PHP Error Log & Webserver error log).\n. There seems to be a PHP error you need to troubleshoot. On PHP5 errors aren't displayed to the user anymore, but logged to file instead. Have a look and post the content here.\n. ",
    "Dalacor": "Thank you very much for your suggestion.  That might be the solution for me!  What I will do when April comes round is install the latest Baikal V2 release and see if that will do the job I need (even if its not production), otherwise I will use the earlier version of Baikal and infcloud\nThanks\n. I am thinking that I might just use Baikal ver 1 if Ver 2 is not ready and not worry about the webcalendar for the moment.  I can manage with Em Client accessing the calendar because I will put Em Client on my laptop.  I don't have time to spend using software like infcloud if there are problems with it and given that baikal 2 does everything I need it to do, it would make sense to just wait for ver 2.\nHowever it would be very interesting to hear what issues there are with infcloud just so that we know.\n. I forgot to update this post.  I learnt that baikal uses Blob (Binary Large Object) to store data.  I have found some posts on the internet on how to get my helpdesk to convert the blob to text.  It is that one entry in the CalendarObjects table but in blob format - I just need to convert it to text.  Thank you for comment anyway.\n. Thank you very much for your suggestion.  That might be the solution for me!  What I will do when April comes round is install the latest Baikal V2 release and see if that will do the job I need (even if its not production), otherwise I will use the earlier version of Baikal and infcloud\nThanks\n. I am thinking that I might just use Baikal ver 1 if Ver 2 is not ready and not worry about the webcalendar for the moment.  I can manage with Em Client accessing the calendar because I will put Em Client on my laptop.  I don't have time to spend using software like infcloud if there are problems with it and given that baikal 2 does everything I need it to do, it would make sense to just wait for ver 2.\nHowever it would be very interesting to hear what issues there are with infcloud just so that we know.\n. I forgot to update this post.  I learnt that baikal uses Blob (Binary Large Object) to store data.  I have found some posts on the internet on how to get my helpdesk to convert the blob to text.  It is that one entry in the CalendarObjects table but in blob format - I just need to convert it to text.  Thank you for comment anyway.\n. ",
    "tehtbl": "Did you managed to get a fix already? I am facing the same problem.\n. On my site it's the current flat file package from 11 days ago.\n. Did you managed to get a fix already? I am facing the same problem.\n. On my site it's the current flat file package from 11 days ago.\n. ",
    "dmitrydonskih": "+vote to request\n. +vote to request\n. ",
    "sem174": "Interested in this functionality, I would like to see in future releases\n. os freebsd 10.2\nBaikal 0.3.2 installed according to the instructions from the website http://sabre.io/baikal/install/\nI have found\nroot@fs-bsd:~ # apachectl -V\nServer version: Apache/2.4.18 (FreeBSD)\nServer built:   Feb 18 2016 09:21:49\nServer's Module Magic Number: 20120211:52\nServer loaded:  APR 1.5.2, APR-UTIL 1.5.4\nCompiled using: APR 1.5.2, APR-UTIL 1.5.4\nArchitecture:   32-bit\nServer MPM:     prefork\n  threaded:     no\n    forked:     yes (variable process count)\nServer compiled with....\n -D APR_HAS_SENDFILE\n -D APR_HAS_MMAP\n -D APR_HAVE_IPV6 (IPv4-mapped addresses disabled)\n -D APR_USE_FLOCK_SERIALIZE\n -D APR_USE_PTHREAD_SERIALIZE\n -D SINGLE_LISTEN_UNSERIALIZED_ACCEPT\n -D APR_HAS_OTHER_CHILD\n -D AP_HAVE_RELIABLE_PIPED_LOGS\n -D DYNAMIC_MODULE_LIMIT=256\n -D HTTPD_ROOT=\"/usr/local\"\n -D SUEXEC_BIN=\"/usr/local/bin/suexec\"\n -D DEFAULT_PIDLOG=\"/var/run/httpd.pid\"\n -D DEFAULT_SCOREBOARD=\"/var/run/apache_runtime_status\"\n -D DEFAULT_ERRORLOG=\"/var/log/httpd-error.log\"\n -D AP_TYPES_CONFIG_FILE=\"etc/apache24/mime.types\"\n -D SERVER_CONFIG_FILE=\"etc/apache24/httpd.conf\"\nroot @ fs-bsd: ~ # php -v\nPHP 5.6.18 (cli) (built: Feb 1:31:20 November 2016)\nCopyright (c) 1997-2016 The PHP Group\nZend Engine v2.6.0, Copyright (c) 1998-2016 Zend Technologies\n     with Zend OPcache v7.0.6-dev, Copyright (c) 1999-2016, by Zend Tehnologies\n[PHP Modules]\nbz2\nCore\nctype\ncurl\ndate\ndom\nereg\nfilter\ngd\nhash\niconv\nintl\njson\nlibxml\nmbstring\nmcrypt\nmhash\nmysql\nmysqli\nmysqlnd\nopenssl\npcre\nPDO\npdo_sqlite\nPhar\nposix\nReflection\nsession\nSimpleXML\nsockets\nSPL\nsqlite3\nstandard\ntokenizer\nxml\nxmlreader\nxmlwriter\nZend OPcache\nzip\nzlib\n[Zend Modules]\nZend OPcache\nroot@fs-bsd:~ # composer -V\nComposer version 1.0-dev (e3fabf58445d351735297e018b12b5d94c582add) 2016-02-17 16:53:01\ninstalled:\n  sabre/dav     3.1.1 WebDAV Framework for PHP\n  sabre/event   3.0.0 sabre/event is a library for lightweight event-based programming\n  sabre/http    4.2.1 The sabre/http library provides utilities for dealing with http requests and responses.\n  sabre/uri     1.0.1 Functions for making sense out of URIs.\n  sabre/vobject 4.0.2 The VObject library for PHP allows you to easily parse and manipulate iCalendar and vCard objects\n  sabre/xml     1.4.0 sabre/xml is an XML library that you may not hate.\nhttpd runs as user www, owner and permissions on the directories bear\nroot@fs-bsd:/usr/local/www/baikal # ls -al\ntotal 3224\ndrwxrwxrwx  6 www  www      512 Feb 18 14:28 .\ndrwxr-xr-x  5 www  www      512 Feb 18 15:09 ..\n-rw-r--r--  1 www  www     2773 Feb 16 22:28 CHANGELOG.md\ndrwxr-xr-x  4 www  www      512 Feb 18 12:42 Core\n-rw-r--r--  1 www  www    35135 Feb 16 22:28 LICENSE\n-rw-r--r--  1 www  www      605 Feb 16 22:28 README.md\ndrwxrwxrwx  3 www  www      512 Feb 18 12:42 Specific\n-rwxr-xr-x  1 www  www  1552168 Feb 18 13:10 composer\n-rw-r--r--  1 www  www      264 Feb 18 13:31 composer.json\n-rw-r--r--  1 www  www    14239 Feb 18 13:33 composer.lock\n-rw-r--r--  1 www  www  1552168 Feb 18 13:07 composer.phar\ndrwxr-xr-x  4 www  www      512 Feb 18 13:56 html\ndrwxr-xr-x  5 www  www      512 Feb 18 13:33 vendor\nroot@fs-bsd:/usr/local/www/baikal/vendor # ls -al\ntotal 24\ndrwxr-xr-x  5 www  www  512 Feb 18 13:33 .\ndrwxrwxrwx  6 www  www  512 Feb 18 14:28 ..\n-rw-r--r--  1 www  www  183 Feb 18 13:47 autoload.php\ndrwxr-xr-x  2 www  www  512 Feb 18 13:29 bin\ndrwxr-xr-x  2 www  www  512 Feb 18 13:29 composer\ndrwxr-xr-x  8 www  www  512 Feb 18 13:28 sabre\n. Updated to version 0.3.3. The problems are gone\n. Yes, I read the instructions to update.\nAnd when you first log into the admin area saw a message about updating the system and the database.\nHowever, probably due to the fact that I did not because the database is not updated.\nI found a php file which were scripts to update the database. And execute them manually. At the moment, there are no problems with the connection.\n. Interested in this functionality, I would like to see in future releases\n. os freebsd 10.2\nBaikal 0.3.2 installed according to the instructions from the website http://sabre.io/baikal/install/\nI have found\nroot@fs-bsd:~ # apachectl -V\nServer version: Apache/2.4.18 (FreeBSD)\nServer built:   Feb 18 2016 09:21:49\nServer's Module Magic Number: 20120211:52\nServer loaded:  APR 1.5.2, APR-UTIL 1.5.4\nCompiled using: APR 1.5.2, APR-UTIL 1.5.4\nArchitecture:   32-bit\nServer MPM:     prefork\n  threaded:     no\n    forked:     yes (variable process count)\nServer compiled with....\n -D APR_HAS_SENDFILE\n -D APR_HAS_MMAP\n -D APR_HAVE_IPV6 (IPv4-mapped addresses disabled)\n -D APR_USE_FLOCK_SERIALIZE\n -D APR_USE_PTHREAD_SERIALIZE\n -D SINGLE_LISTEN_UNSERIALIZED_ACCEPT\n -D APR_HAS_OTHER_CHILD\n -D AP_HAVE_RELIABLE_PIPED_LOGS\n -D DYNAMIC_MODULE_LIMIT=256\n -D HTTPD_ROOT=\"/usr/local\"\n -D SUEXEC_BIN=\"/usr/local/bin/suexec\"\n -D DEFAULT_PIDLOG=\"/var/run/httpd.pid\"\n -D DEFAULT_SCOREBOARD=\"/var/run/apache_runtime_status\"\n -D DEFAULT_ERRORLOG=\"/var/log/httpd-error.log\"\n -D AP_TYPES_CONFIG_FILE=\"etc/apache24/mime.types\"\n -D SERVER_CONFIG_FILE=\"etc/apache24/httpd.conf\"\nroot @ fs-bsd: ~ # php -v\nPHP 5.6.18 (cli) (built: Feb 1:31:20 November 2016)\nCopyright (c) 1997-2016 The PHP Group\nZend Engine v2.6.0, Copyright (c) 1998-2016 Zend Technologies\n     with Zend OPcache v7.0.6-dev, Copyright (c) 1999-2016, by Zend Tehnologies\n[PHP Modules]\nbz2\nCore\nctype\ncurl\ndate\ndom\nereg\nfilter\ngd\nhash\niconv\nintl\njson\nlibxml\nmbstring\nmcrypt\nmhash\nmysql\nmysqli\nmysqlnd\nopenssl\npcre\nPDO\npdo_sqlite\nPhar\nposix\nReflection\nsession\nSimpleXML\nsockets\nSPL\nsqlite3\nstandard\ntokenizer\nxml\nxmlreader\nxmlwriter\nZend OPcache\nzip\nzlib\n[Zend Modules]\nZend OPcache\nroot@fs-bsd:~ # composer -V\nComposer version 1.0-dev (e3fabf58445d351735297e018b12b5d94c582add) 2016-02-17 16:53:01\ninstalled:\n  sabre/dav     3.1.1 WebDAV Framework for PHP\n  sabre/event   3.0.0 sabre/event is a library for lightweight event-based programming\n  sabre/http    4.2.1 The sabre/http library provides utilities for dealing with http requests and responses.\n  sabre/uri     1.0.1 Functions for making sense out of URIs.\n  sabre/vobject 4.0.2 The VObject library for PHP allows you to easily parse and manipulate iCalendar and vCard objects\n  sabre/xml     1.4.0 sabre/xml is an XML library that you may not hate.\nhttpd runs as user www, owner and permissions on the directories bear\nroot@fs-bsd:/usr/local/www/baikal # ls -al\ntotal 3224\ndrwxrwxrwx  6 www  www      512 Feb 18 14:28 .\ndrwxr-xr-x  5 www  www      512 Feb 18 15:09 ..\n-rw-r--r--  1 www  www     2773 Feb 16 22:28 CHANGELOG.md\ndrwxr-xr-x  4 www  www      512 Feb 18 12:42 Core\n-rw-r--r--  1 www  www    35135 Feb 16 22:28 LICENSE\n-rw-r--r--  1 www  www      605 Feb 16 22:28 README.md\ndrwxrwxrwx  3 www  www      512 Feb 18 12:42 Specific\n-rwxr-xr-x  1 www  www  1552168 Feb 18 13:10 composer\n-rw-r--r--  1 www  www      264 Feb 18 13:31 composer.json\n-rw-r--r--  1 www  www    14239 Feb 18 13:33 composer.lock\n-rw-r--r--  1 www  www  1552168 Feb 18 13:07 composer.phar\ndrwxr-xr-x  4 www  www      512 Feb 18 13:56 html\ndrwxr-xr-x  5 www  www      512 Feb 18 13:33 vendor\nroot@fs-bsd:/usr/local/www/baikal/vendor # ls -al\ntotal 24\ndrwxr-xr-x  5 www  www  512 Feb 18 13:33 .\ndrwxrwxrwx  6 www  www  512 Feb 18 14:28 ..\n-rw-r--r--  1 www  www  183 Feb 18 13:47 autoload.php\ndrwxr-xr-x  2 www  www  512 Feb 18 13:29 bin\ndrwxr-xr-x  2 www  www  512 Feb 18 13:29 composer\ndrwxr-xr-x  8 www  www  512 Feb 18 13:28 sabre\n. Updated to version 0.3.3. The problems are gone\n. Yes, I read the instructions to update.\nAnd when you first log into the admin area saw a message about updating the system and the database.\nHowever, probably due to the fact that I did not because the database is not updated.\nI found a php file which were scripts to update the database. And execute them manually. At the moment, there are no problems with the connection.\n. ",
    "mac-arno": "+1 and a request for calendar permissions\nThank you very much for this great work on baikal.\n. +1 and a request for calendar permissions\nThank you very much for this great work on baikal.\n. ",
    "TidhoAmla": "Hi,\nsince I run into some problems with 0.2.7 I gave 2.0 alpha 3 a try. After a few searches in the issue board I got it running on my raspberry pi with nginx as webserver.\nOn my Android with DavDroid it worked out of the box, but on my linux desktop I needed some links, and since they are not in the documentary I hope my findings will help some guys.\nFor kOrganizer I needed to use the URL https://{mydomain:port}/dav/cal/ and https://mydomain:port/dav/card/ (address book).\nSince TB/Lightning cannot search for subcalenders I had to find and use the full path:\nhttps://{mydomain:port}/dav/cal/calendars/{user}/{calendarID}\ncalendarID was found out by looking inside the access.log of nginx or by opening the browser @ https://{mydomain:port}/dav/cal/calendars/{user}/ and use the ID from there.\n. Hi,\nsince I run into some problems with 0.2.7 I gave 2.0 alpha 3 a try. After a few searches in the issue board I got it running on my raspberry pi with nginx as webserver.\nOn my Android with DavDroid it worked out of the box, but on my linux desktop I needed some links, and since they are not in the documentary I hope my findings will help some guys.\nFor kOrganizer I needed to use the URL https://{mydomain:port}/dav/cal/ and https://mydomain:port/dav/card/ (address book).\nSince TB/Lightning cannot search for subcalenders I had to find and use the full path:\nhttps://{mydomain:port}/dav/cal/calendars/{user}/{calendarID}\ncalendarID was found out by looking inside the access.log of nginx or by opening the browser @ https://{mydomain:port}/dav/cal/calendars/{user}/ and use the ID from there.\n. ",
    "zanzara": "Nothing in particular there. But I have only one 'web' logging file from the hoster.\nBut I found out, that if I use the calendar of the same user as for calDAV in lightning then it works.\nSeem to be, that SoGo/Lightning/TB does not support two different users (one for the cal.php and annother for the card.php)\nBut this is what I needed. Because the calendar acts as general access for all - and the cardDAV is mine.\ncan you probably confirm?\n. Nothing in particular there. But I have only one 'web' logging file from the hoster.\nBut I found out, that if I use the calendar of the same user as for calDAV in lightning then it works.\nSeem to be, that SoGo/Lightning/TB does not support two different users (one for the cal.php and annother for the card.php)\nBut this is what I needed. Because the calendar acts as general access for all - and the cardDAV is mine.\ncan you probably confirm?\n. ",
    "Mictronics": "Same for me after upgrading to php7, Baikal also 0.2.7. Only CalDAV affected, CardDAV syncs fine.\n```\nErrorException: Array to string conversion in /var/www/dav/vendor/sabre/dav/lib/Sabre/CalDAV/CalendarQueryValidator.php:62 Stack trace: \n0 /var/www/dav/vendor/sabre/dav/lib/Sabre/CalDAV/CalendarQueryValidator.php(62): Baikal\\Framework::exception_error_handler(8, 'Array to string...', '/var/www/dav/ve...', 62, Array)\n1 /var/www/dav/vendor/sabre/dav/lib/Sabre/CalDAV/CalendarQueryValidator.php(41): Sabre\\CalDAV\\CalendarQueryValidator->validateCompFilters(Object(Sabre\\VObject\\Component\\VCalendar), Array)\n2 /var/www/dav/vendor/sabre/dav/lib/Sabre/CalDAV/Backend/AbstractBackend.php(150): Sabre\\CalDAV\\CalendarQueryValidator->validate(Object(Sabre\\VObject\\Component\\VCalendar), Array)\n3 /var/www/dav/vendor/sabre/dav/lib/Sabre/CalDAV/Backend/PDO.php(680): Sabre\\CalDAV\\Backend\\AbstractBackend->validateFilterForObject(Array, Array)\n4 /var/www/dav/vendor/sabre/dav/lib/Sabre/CalDAV/Calendar.php(372): Sabre\\CalDAV\\Backend\\PDO->calendarQuery('1', Array)\n5 /var/www/dav/vendor/sabre/dav/lib/Sabre/CalDAV/Plugin.php(591): Sabre\\CalDAV\\Calendar->calendarQuery(Array)\n6 /var/www/dav/vendor/sabre/dav/lib/Sabre/CalDAV/Plugin.php(265): Sabre\\CalDAV\\Plugin->calendarQueryReport(Object(DOMDocument))\n7 [internal function]: Sabre\\CalDAV\\Plugin->report('{urn:ietf:param...', Object(DOMDocument), 'calendars/mwmic...')\n8 /var/www/dav/vendor/sabre/dav/lib/Sabre/DAV/Server.php(433): call_user_func_array(Array, Array)\n9 /var/www/dav/vendor/sabre/dav/lib/Sabre/DAV/Server.php(1063): Sabre\\DAV\\Server->broadcastEvent('report', Array)\n10 [internal function]: Sabre\\DAV\\Server->httpReport('calendars/mwmic...')\n11 /var/www/dav/vendor/sabre/dav/lib/Sabre/DAV/Server.php(474): call_user_func(Array, 'calendars/mwmic...')\n12 /var/www/dav/vendor/sabre/dav/lib/Sabre/DAV/Server.php(214): Sabre\\DAV\\Server->invokeMethod('REPORT', 'calendars/mwmic...')\n13 /var/www/dav/cal.php(82): Sabre\\DAV\\Server->exec()\n14 {main}\n```\n. Here is a fix. File CalendarQueryValidator.php in function validateCompFilters, line 62 ,79 and 93 change:\n$parent->$filter['name']\nto\n$parent->{$filter['name']}\nThat's obviously related to different variable handling in php7, see http://php.net/manual/de/migration70.incompatible.php for php5 and php7 variable interpretation.\n. Same for me after upgrading to php7, Baikal also 0.2.7. Only CalDAV affected, CardDAV syncs fine.\n```\nErrorException: Array to string conversion in /var/www/dav/vendor/sabre/dav/lib/Sabre/CalDAV/CalendarQueryValidator.php:62 Stack trace: \n0 /var/www/dav/vendor/sabre/dav/lib/Sabre/CalDAV/CalendarQueryValidator.php(62): Baikal\\Framework::exception_error_handler(8, 'Array to string...', '/var/www/dav/ve...', 62, Array)\n1 /var/www/dav/vendor/sabre/dav/lib/Sabre/CalDAV/CalendarQueryValidator.php(41): Sabre\\CalDAV\\CalendarQueryValidator->validateCompFilters(Object(Sabre\\VObject\\Component\\VCalendar), Array)\n2 /var/www/dav/vendor/sabre/dav/lib/Sabre/CalDAV/Backend/AbstractBackend.php(150): Sabre\\CalDAV\\CalendarQueryValidator->validate(Object(Sabre\\VObject\\Component\\VCalendar), Array)\n3 /var/www/dav/vendor/sabre/dav/lib/Sabre/CalDAV/Backend/PDO.php(680): Sabre\\CalDAV\\Backend\\AbstractBackend->validateFilterForObject(Array, Array)\n4 /var/www/dav/vendor/sabre/dav/lib/Sabre/CalDAV/Calendar.php(372): Sabre\\CalDAV\\Backend\\PDO->calendarQuery('1', Array)\n5 /var/www/dav/vendor/sabre/dav/lib/Sabre/CalDAV/Plugin.php(591): Sabre\\CalDAV\\Calendar->calendarQuery(Array)\n6 /var/www/dav/vendor/sabre/dav/lib/Sabre/CalDAV/Plugin.php(265): Sabre\\CalDAV\\Plugin->calendarQueryReport(Object(DOMDocument))\n7 [internal function]: Sabre\\CalDAV\\Plugin->report('{urn:ietf:param...', Object(DOMDocument), 'calendars/mwmic...')\n8 /var/www/dav/vendor/sabre/dav/lib/Sabre/DAV/Server.php(433): call_user_func_array(Array, Array)\n9 /var/www/dav/vendor/sabre/dav/lib/Sabre/DAV/Server.php(1063): Sabre\\DAV\\Server->broadcastEvent('report', Array)\n10 [internal function]: Sabre\\DAV\\Server->httpReport('calendars/mwmic...')\n11 /var/www/dav/vendor/sabre/dav/lib/Sabre/DAV/Server.php(474): call_user_func(Array, 'calendars/mwmic...')\n12 /var/www/dav/vendor/sabre/dav/lib/Sabre/DAV/Server.php(214): Sabre\\DAV\\Server->invokeMethod('REPORT', 'calendars/mwmic...')\n13 /var/www/dav/cal.php(82): Sabre\\DAV\\Server->exec()\n14 {main}\n```\n. Here is a fix. File CalendarQueryValidator.php in function validateCompFilters, line 62 ,79 and 93 change:\n$parent->$filter['name']\nto\n$parent->{$filter['name']}\nThat's obviously related to different variable handling in php7, see http://php.net/manual/de/migration70.incompatible.php for php5 and php7 variable interpretation.\n. ",
    "The-Compiler": "Seems like there's an \"official\" fix in upstream SabreDav: https://github.com/fruux/sabre-dav/commit/c9f3e7d2be11872eb36873c5410bac476d815871\nI'll add that patch to the Archlinux AUR package :wink:\n. This is the patch I ended up with:\n``` diff\n--- vendor/sabre/dav/lib/Sabre/CalDAV/CalendarQueryValidator.php.orig   2014-11-17 11:57:29.000000000 +0100\n+++ vendor/sabre/dav/lib/Sabre/CalDAV/CalendarQueryValidator.php        2016-01-14 16:09:17.019090596 +0100\n@@ -59,7 +59,7 @@\n     foreach($filters as $filter) {\n\n\n$isDefined = isset($parent->$filter['name']);\n$isDefined = isset($parent->{$filter['name']});     if ($filter['is-not-defined']) {\n\n\n\n@@ -75,7 +75,7 @@\n             }\n         if ($filter['time-range']) {\n\n\nforeach($parent->$filter['name'] as $subComponent) {\n\nforeach($parent->{$filter['name']} as $subComponent) {\n                     if ($this->validateTimeRange($subComponent, $filter['time-range']['start'], $filter['time-range']['end'])) {\n                         continue 2;\n                     }\n@@ -89,7 +89,7 @@\n     // If there are sub-filters, we need to find at least one component\n     // for which the subfilters hold true.\n\n\nforeach($parent->$filter['name'] as $subComponent) {\n\nforeach($parent->{$filter['name']} as $subComponent) {\n     if (\n         $this->validateCompFilters($subComponent, $filter['comp-filters']) &&\n\n@@ -128,7 +128,7 @@\nforeach($filters as $filter) {\n\n\n\n\n$isDefined = isset($parent->$filter['name']);\n\n$isDefined = isset($parent->{$filter['name']});     if ($filter['is-not-defined']) {\n\n\n\n@@ -144,7 +144,7 @@\n             }\n         if ($filter['time-range']) {\n\n\nforeach($parent->$filter['name'] as $subComponent) {\nforeach($parent->{$filter['name']} as $subComponent) {\n                     if ($this->validateTimeRange($subComponent, $filter['time-range']['start'], $filter['time-range']['end'])) {\n                         continue 2;\n                     }\n@@ -158,7 +158,7 @@     // If there are sub-filters, we need to find at least one property\n     // for which the subfilters hold true.\n\n\nforeach($parent->$filter['name'] as $subComponent) {\nforeach($parent->{$filter['name']} as $subComponent) {     if(\n         $this->validateParamFilters($subComponent, $filter['param-filters']) &&\n\n\n\n\n\n```\nThanks @Mictronics for getting me on the right track, as I don't know PHP well :wink:\n. Yeah, or include that patch at least, if an update is too much trouble. It works fine for me so far.\n. Whoops, just noticed this is a duplicate of #420 - sorry for the noise!\n. Thanks for the quick answer! I'll need to figure out how to automate the upgrade cleanly, and then I'll update my Archlinux AUR package to get the packages from GitHub and to use 0.3.3.\n. My bad - I forgot to visit the admin interface to upgrade the database :laughing: \nSorry for the noise! Guess there was too much blood in my caffeine-stream yesterday :wink:\n. Seems like there's an \"official\" fix in upstream SabreDav: https://github.com/fruux/sabre-dav/commit/c9f3e7d2be11872eb36873c5410bac476d815871\nI'll add that patch to the Archlinux AUR package :wink:\n. This is the patch I ended up with:\n``` diff\n--- vendor/sabre/dav/lib/Sabre/CalDAV/CalendarQueryValidator.php.orig   2014-11-17 11:57:29.000000000 +0100\n+++ vendor/sabre/dav/lib/Sabre/CalDAV/CalendarQueryValidator.php        2016-01-14 16:09:17.019090596 +0100\n@@ -59,7 +59,7 @@\n     foreach($filters as $filter) {\n\n\n$isDefined = isset($parent->$filter['name']);\n$isDefined = isset($parent->{$filter['name']});     if ($filter['is-not-defined']) {\n\n\n\n@@ -75,7 +75,7 @@\n             }\n         if ($filter['time-range']) {\n\n\nforeach($parent->$filter['name'] as $subComponent) {\n\nforeach($parent->{$filter['name']} as $subComponent) {\n                     if ($this->validateTimeRange($subComponent, $filter['time-range']['start'], $filter['time-range']['end'])) {\n                         continue 2;\n                     }\n@@ -89,7 +89,7 @@\n     // If there are sub-filters, we need to find at least one component\n     // for which the subfilters hold true.\n\n\nforeach($parent->$filter['name'] as $subComponent) {\n\nforeach($parent->{$filter['name']} as $subComponent) {\n     if (\n         $this->validateCompFilters($subComponent, $filter['comp-filters']) &&\n\n@@ -128,7 +128,7 @@\nforeach($filters as $filter) {\n\n\n\n\n$isDefined = isset($parent->$filter['name']);\n\n$isDefined = isset($parent->{$filter['name']});     if ($filter['is-not-defined']) {\n\n\n\n@@ -144,7 +144,7 @@\n             }\n         if ($filter['time-range']) {\n\n\nforeach($parent->$filter['name'] as $subComponent) {\nforeach($parent->{$filter['name']} as $subComponent) {\n                     if ($this->validateTimeRange($subComponent, $filter['time-range']['start'], $filter['time-range']['end'])) {\n                         continue 2;\n                     }\n@@ -158,7 +158,7 @@     // If there are sub-filters, we need to find at least one property\n     // for which the subfilters hold true.\n\n\nforeach($parent->$filter['name'] as $subComponent) {\nforeach($parent->{$filter['name']} as $subComponent) {     if(\n         $this->validateParamFilters($subComponent, $filter['param-filters']) &&\n\n\n\n\n\n```\nThanks @Mictronics for getting me on the right track, as I don't know PHP well :wink:\n. Yeah, or include that patch at least, if an update is too much trouble. It works fine for me so far.\n. Whoops, just noticed this is a duplicate of #420 - sorry for the noise!\n. Thanks for the quick answer! I'll need to figure out how to automate the upgrade cleanly, and then I'll update my Archlinux AUR package to get the packages from GitHub and to use 0.3.3.\n. My bad - I forgot to visit the admin interface to upgrade the database :laughing: \nSorry for the noise! Guess there was too much blood in my caffeine-stream yesterday :wink:\n. ",
    "henningwerner": "Works fine for me, thank you!\n. Works fine for me, thank you!\n. ",
    "Pazns": "Data that must not be deleted between \"restarts\" of your application must not go into \"var\" directory.\nGo for the \"app\" dir, or eventually a \"data\" one at the root of your Symfony installation.\n\"var\" is a bit more meant to hold cache, logs, volatile things like that.\n. That's true, both /var and /data handle installation-specific data.\nI can be wrong, I'm not a Symfony expert, but that's how I understand it with both documentation and common sense : \n- /data (or /app/data), optional, handles hard and persistent things, like an user database or other lasting resources ;\n- /var, needed, handles softer things like cache or logs, more linked to the runtime of your application than its real persistence.\nConfig files must go to /app, not /var . For two reasons : \n1) it is not a volatile data, and 2) it is not really a \"data\" like an image, or post informations for a forum, it is tighly coupled to the core of your Symfony app.\n. I will. :)\n. I closely followed this discussion.\n. Data that must not be deleted between \"restarts\" of your application must not go into \"var\" directory.\nGo for the \"app\" dir, or eventually a \"data\" one at the root of your Symfony installation.\n\"var\" is a bit more meant to hold cache, logs, volatile things like that.\n. That's true, both /var and /data handle installation-specific data.\nI can be wrong, I'm not a Symfony expert, but that's how I understand it with both documentation and common sense : \n- /data (or /app/data), optional, handles hard and persistent things, like an user database or other lasting resources ;\n- /var, needed, handles softer things like cache or logs, more linked to the runtime of your application than its real persistence.\nConfig files must go to /app, not /var . For two reasons : \n1) it is not a volatile data, and 2) it is not really a \"data\" like an image, or post informations for a forum, it is tighly coupled to the core of your Symfony app.\n. I will. :)\n. I closely followed this discussion.\n. ",
    "jbeyerstedt": "I think the default of baikal 0.2.x is to set up a sqlite database. This would be located in Specific/db/db.sqlite.\nIf you choose to use a SQL database, I don\u00b4t know, how baikal acually stores the events.\nPerhaps http://sabre.io/dav/ can also help you, because baikal is based on sabre and I think sabre handles the database. But I don\u00b4t know this in detail.\n. I'm sorry, this does not fix the problem.\n. The 500 error was only, when I tried to use the database of 0.3.5 at 0.2.7, which is not possible.\nI git cloned the 0.3 branch to a new folder and ran composer install. After that I copied my config and database of my 0.3.4 installation (the one I upgraded from 0.2.7, which had the syncing problems).\nWith the patch I'm still having the same issues, that new, changed or deleted calendar entries are uploaded, but not updated on the other devices, when I do a refresh.\nBut the changes are transmitted, if I change something in my iOS settings, which seems to lead to a reload from the client side.\nSo still the same problems with the sync plugin enabled, also for new entries.\nI also rebooted my devices and restarted the php-service on the server several times.\nI just enabled the error log on my shared hosting. I will take a look tomorrow morning.\n. I wrote you an e-mail with the account details to the address mentioned on your github user page.\nMeanwhile, I also tested this with evolution mail and calendar on ubuntu 14.04 with the same result. New Entries get uploaded, but not synced between the devices (/updated on the other devices from the server).\n. Here is a screenshot of the Core/Frameworks/Baikal/Core/Server.php file\n\nAnd the result of git rev-parse HEAD is ab55d184a10a76e9ca67a014ded3dc279d2fca94.\nSo I don't know, how to enable the sync plugin otherwise.\nI also tested a few moment ago, that this folder with baikal is definitely the folder linked to that domain name.\nHow can I test, if the sync plugin is enabled?\n. I checked this and all the value of the synctoken column is NULL for all calendars\n. Thanks. I did this command locally, re-uploaded the database and it synchonizes now.\nI don't know much about sql, so I downloaded a tool quickly and did it in a GUI\n. Also did this, and it seems to be fine. Thanks\n. I think the default of baikal 0.2.x is to set up a sqlite database. This would be located in Specific/db/db.sqlite.\nIf you choose to use a SQL database, I don\u00b4t know, how baikal acually stores the events.\nPerhaps http://sabre.io/dav/ can also help you, because baikal is based on sabre and I think sabre handles the database. But I don\u00b4t know this in detail.\n. I'm sorry, this does not fix the problem.\n. The 500 error was only, when I tried to use the database of 0.3.5 at 0.2.7, which is not possible.\nI git cloned the 0.3 branch to a new folder and ran composer install. After that I copied my config and database of my 0.3.4 installation (the one I upgraded from 0.2.7, which had the syncing problems).\nWith the patch I'm still having the same issues, that new, changed or deleted calendar entries are uploaded, but not updated on the other devices, when I do a refresh.\nBut the changes are transmitted, if I change something in my iOS settings, which seems to lead to a reload from the client side.\nSo still the same problems with the sync plugin enabled, also for new entries.\nI also rebooted my devices and restarted the php-service on the server several times.\nI just enabled the error log on my shared hosting. I will take a look tomorrow morning.\n. I wrote you an e-mail with the account details to the address mentioned on your github user page.\nMeanwhile, I also tested this with evolution mail and calendar on ubuntu 14.04 with the same result. New Entries get uploaded, but not synced between the devices (/updated on the other devices from the server).\n. Here is a screenshot of the Core/Frameworks/Baikal/Core/Server.php file\n\nAnd the result of git rev-parse HEAD is ab55d184a10a76e9ca67a014ded3dc279d2fca94.\nSo I don't know, how to enable the sync plugin otherwise.\nI also tested a few moment ago, that this folder with baikal is definitely the folder linked to that domain name.\nHow can I test, if the sync plugin is enabled?\n. I checked this and all the value of the synctoken column is NULL for all calendars\n. Thanks. I did this command locally, re-uploaded the database and it synchonizes now.\nI don't know much about sql, so I downloaded a tool quickly and did it in a GUI\n. Also did this, and it seems to be fine. Thanks\n. ",
    "mholt": "@evert Hi, quick question related to this issue. We solved the 405 response status code, but now we're seeing another error that I don't understand:\nPROPFIND on user-given URL failed - EXCEPTION:\nat.bitfire.dav4android.exception.InvalidDavResponseException: Expected 207 Multi-Status\nIs Baikal writing a Status header with this status? It's not clear from the logs (or I missed it). If not, Caddy will default to 200 OK, but apparently this is upsetting the dav client.\n. @evert Hi, quick question related to this issue. We solved the 405 response status code, but now we're seeing another error that I don't understand:\nPROPFIND on user-given URL failed - EXCEPTION:\nat.bitfire.dav4android.exception.InvalidDavResponseException: Expected 207 Multi-Status\nIs Baikal writing a Status header with this status? It's not clear from the logs (or I missed it). If not, Caddy will default to 200 OK, but apparently this is upsetting the dav client.\n. ",
    "hermannsblum": "Good to know. Then I'll have to go on searching for the reason why connecting does not work\n. I'm sorry to reopen this, but it's just not working and I have no idea why\nI am trying to run baikal in the subdirectory /baikal rather than with dav.domain.com.\nMy Apache config is therefore as follows: \n```\nDocumentRoot /var/www/baikal/html\nAlias /cal \"/var/www/baikal/html\"\nRewriteEngine On\nRewriteRule /.well-known/carddav /card.php [R,L]\nRewriteRule /.well-known/caldav /cal.php [R,L]\n\n    #Options None\n    Options +FollowSymlinks\n    AllowOverride FileInfo\n#Order Allow,Deny\n#Allow from all\n\n\nErrorLog ${APACHE_LOG_DIR}/error.log\nCustomLog ${APACHE_LOG_DIR}/access.log combined\nSSLEngine on\nSSLCertificateFile    /etc/apache2/mycert/server.crt\nSSLCertificateKeyFile /etc/apache2/mycert/server.key\n\n        SSLOptions +StdEnvVars\n\n\n        SSLOptions +StdEnvVars\n\nBrowserMatch \"MSIE [2-6]\" \\\n        nokeepalive ssl-unclean-shutdown \\\n        downgrade-1.0 force-response-1.0\nBrowserMatch \"MSIE [17-9]\" ssl-unclean-shutdown\n```\nIf I understood the TROUBLESHOOTING Document correctly, the above output from curl is actually showing that authentication is working and one could access baikal.\nHowever, no matter which address I try, Apple Calendar won't connect and sais that it could not even check Username and Password.\nAny ideas?\n. sorry, had some busy days\nI'll report asap, hope during the weekend\n. Good to know. Then I'll have to go on searching for the reason why connecting does not work\n. I'm sorry to reopen this, but it's just not working and I have no idea why\nI am trying to run baikal in the subdirectory /baikal rather than with dav.domain.com.\nMy Apache config is therefore as follows: \n```\nDocumentRoot /var/www/baikal/html\nAlias /cal \"/var/www/baikal/html\"\nRewriteEngine On\nRewriteRule /.well-known/carddav /card.php [R,L]\nRewriteRule /.well-known/caldav /cal.php [R,L]\n\n    #Options None\n    Options +FollowSymlinks\n    AllowOverride FileInfo\n#Order Allow,Deny\n#Allow from all\n\n\nErrorLog ${APACHE_LOG_DIR}/error.log\nCustomLog ${APACHE_LOG_DIR}/access.log combined\nSSLEngine on\nSSLCertificateFile    /etc/apache2/mycert/server.crt\nSSLCertificateKeyFile /etc/apache2/mycert/server.key\n\n        SSLOptions +StdEnvVars\n\n\n        SSLOptions +StdEnvVars\n\nBrowserMatch \"MSIE [2-6]\" \\\n        nokeepalive ssl-unclean-shutdown \\\n        downgrade-1.0 force-response-1.0\nBrowserMatch \"MSIE [17-9]\" ssl-unclean-shutdown\n```\nIf I understood the TROUBLESHOOTING Document correctly, the above output from curl is actually showing that authentication is working and one could access baikal.\nHowever, no matter which address I try, Apple Calendar won't connect and sais that it could not even check Username and Password.\nAny ideas?\n. sorry, had some busy days\nI'll report asap, hope during the weekend\n. ",
    "inow24": "Yes we are able to navigate to that URl. Once we do, we are asked for authentication. Once we enter username and password we see this:\nSabre\\DAV\\Exception\\NotImplemented/s:exceptionGET is only implemented on File objects/s:message1.8.7/s:sabredav-version/d:error\n. 1) I have tried with Thunderbird and EM client. Thunderbird shows a disabled calendar and EM client shows and error saying: \n10:32:42 AM user1@test.com [CalDAV / CardDAV]  MailExceptions.OperationException: Subfolder synchronization for folder \"user1@test.com\" failed due to the following error: Not Found\nAside from these clients we wrote a C# client to send HTTP request and we received 404 not found as well. Same Client works with Baikal when installed on Linux.\n2) This is the URL we use (This works with Baikal on Linux):\nhttp://10.8.0.122:8181/cal.php/calendars/user1@test.com/default/\n3)Previously we used Digest but using Basic auth also we have the same result.\n4) Thunderbird says:\nCalDAV: Status 404 on initial PROPFIND for calendar test\nThis is the IIS log for em client connection:\nSoftware: Microsoft Internet Information Services 10.0\nVersion: 1.0\nDate: 2016-02-11 02:36:49\nFields: date time s-ip cs-method cs-uri-stem cs-uri-query s-port cs-username c-ip cs(User-Agent) cs(Referer) sc-status sc-substatus sc-win32-status time-taken\n2016-02-11 02:36:49 10.8.0.122 OPTIONS /cal.php/calendars/user1@test.com/default/ - 8181 - 10.8.0.122 eM+Client/6.0.24432.0 - 200 0 0 3\n2016-02-11 02:36:49 10.8.0.122 PROPFIND /cal.php/calendars/user1@test.com/default/ - 8181 - 10.8.0.122 eM+Client/6.0.24432.0 - 404 0 2 1\n2016-02-11 02:36:49 10.8.0.122 REPORT /cal.php/calendars/user1@test.com/default/ - 8181 - 10.8.0.122 eM+Client/6.0.24432.0 - 404 0 2 0\n2016-02-11 02:36:49 10.8.0.122 OPTIONS /cal.php/calendars/user1@test.com/default/ - 8181 - 10.8.0.122 eM+Client/6.0.24432.0 - 200 0 0 0\n2016-02-11 02:36:49 10.8.0.122 PROPFIND /cal.php/calendars/user1@test.com/default/ - 8181 - 10.8.0.122 eM+Client/6.0.24432.0 - 404 0 2 0\n2016-02-11 02:36:49 10.8.0.122 PROPFIND /cal.php/calendars/user1@test.com/default/ - 8181 - 10.8.0.122 eM+Client/6.0.24432.0 - 404 0 2 0\n. Thanks for your help Evert but I can confirm that WebDev is not installed on my IIS.\n. Yeah I checked WebDav. And also i whiteliated those calls such as PUT, Head , ...\n. Dear Evert,\nI have added the following verbs :\nGET, HEAD, PUT, DELETE, POST, PROPFIND, PROPPATCH,MOVE,NOTIFY,SEARCH,SUBSCRIBE,\nUNLOCK,UNSUBSCRIBE,POLL,X-MS-ENUMATTS\nStill I am getting the same result\n. That one is also added but same result.\n. The only errors I can see are these: \n2016-02-12 00:58:41 10.8.0.122 PROPFIND /cal.php/calendars/user1@test.com/default/ - 8181 - 10.8.0.122 Mozilla/5.0+(Windows+NT+10.0;+WOW64;+rv:38.0)+Gecko/20100101+Thunderbird/38.5.1+Lightning/4.0.5.2 - 404 0 2 182\n2016-02-12 01:01:03 10.8.0.122 PROPFIND /cal.php/calendars/user1@test.com/default/ - 8181 - 10.8.0.122 Mozilla/5.0+(Windows+NT+10.0;+WOW64;+rv:38.0)+Gecko/20100101+Thunderbird/38.5.1+Lightning/4.0.5.2 - 404 0 2 0\n. Dear Evert.\nThis page https://forum.owncloud.org/viewtopic.php?f=3&t=2171&start=10#p7531\nfrom the link that you provided to me helped me. \nNow its working.\nThank you so very much for your time and support.\n. Yes we are able to navigate to that URl. Once we do, we are asked for authentication. Once we enter username and password we see this:\nSabre\\DAV\\Exception\\NotImplemented/s:exceptionGET is only implemented on File objects/s:message1.8.7/s:sabredav-version/d:error\n. 1) I have tried with Thunderbird and EM client. Thunderbird shows a disabled calendar and EM client shows and error saying: \n10:32:42 AM user1@test.com [CalDAV / CardDAV]  MailExceptions.OperationException: Subfolder synchronization for folder \"user1@test.com\" failed due to the following error: Not Found\nAside from these clients we wrote a C# client to send HTTP request and we received 404 not found as well. Same Client works with Baikal when installed on Linux.\n2) This is the URL we use (This works with Baikal on Linux):\nhttp://10.8.0.122:8181/cal.php/calendars/user1@test.com/default/\n3)Previously we used Digest but using Basic auth also we have the same result.\n4) Thunderbird says:\nCalDAV: Status 404 on initial PROPFIND for calendar test\nThis is the IIS log for em client connection:\nSoftware: Microsoft Internet Information Services 10.0\nVersion: 1.0\nDate: 2016-02-11 02:36:49\nFields: date time s-ip cs-method cs-uri-stem cs-uri-query s-port cs-username c-ip cs(User-Agent) cs(Referer) sc-status sc-substatus sc-win32-status time-taken\n2016-02-11 02:36:49 10.8.0.122 OPTIONS /cal.php/calendars/user1@test.com/default/ - 8181 - 10.8.0.122 eM+Client/6.0.24432.0 - 200 0 0 3\n2016-02-11 02:36:49 10.8.0.122 PROPFIND /cal.php/calendars/user1@test.com/default/ - 8181 - 10.8.0.122 eM+Client/6.0.24432.0 - 404 0 2 1\n2016-02-11 02:36:49 10.8.0.122 REPORT /cal.php/calendars/user1@test.com/default/ - 8181 - 10.8.0.122 eM+Client/6.0.24432.0 - 404 0 2 0\n2016-02-11 02:36:49 10.8.0.122 OPTIONS /cal.php/calendars/user1@test.com/default/ - 8181 - 10.8.0.122 eM+Client/6.0.24432.0 - 200 0 0 0\n2016-02-11 02:36:49 10.8.0.122 PROPFIND /cal.php/calendars/user1@test.com/default/ - 8181 - 10.8.0.122 eM+Client/6.0.24432.0 - 404 0 2 0\n2016-02-11 02:36:49 10.8.0.122 PROPFIND /cal.php/calendars/user1@test.com/default/ - 8181 - 10.8.0.122 eM+Client/6.0.24432.0 - 404 0 2 0\n. Thanks for your help Evert but I can confirm that WebDev is not installed on my IIS.\n. Yeah I checked WebDav. And also i whiteliated those calls such as PUT, Head , ...\n. Dear Evert,\nI have added the following verbs :\nGET, HEAD, PUT, DELETE, POST, PROPFIND, PROPPATCH,MOVE,NOTIFY,SEARCH,SUBSCRIBE,\nUNLOCK,UNSUBSCRIBE,POLL,X-MS-ENUMATTS\nStill I am getting the same result\n. That one is also added but same result.\n. The only errors I can see are these: \n2016-02-12 00:58:41 10.8.0.122 PROPFIND /cal.php/calendars/user1@test.com/default/ - 8181 - 10.8.0.122 Mozilla/5.0+(Windows+NT+10.0;+WOW64;+rv:38.0)+Gecko/20100101+Thunderbird/38.5.1+Lightning/4.0.5.2 - 404 0 2 182\n2016-02-12 01:01:03 10.8.0.122 PROPFIND /cal.php/calendars/user1@test.com/default/ - 8181 - 10.8.0.122 Mozilla/5.0+(Windows+NT+10.0;+WOW64;+rv:38.0)+Gecko/20100101+Thunderbird/38.5.1+Lightning/4.0.5.2 - 404 0 2 0\n. Dear Evert.\nThis page https://forum.owncloud.org/viewtopic.php?f=3&t=2171&start=10#p7531\nfrom the link that you provided to me helped me. \nNow its working.\nThank you so very much for your time and support.\n. ",
    "RicardoDavis": "Checking now...\n. Sync is still working, I was able to create an item in the calendar starting with \"86A...\" as well as an item on one of my calendars and sync both with my iPhone.\n. I've never played around with it before, point me in the right direction and I'll give it a try.  I have MySQL Workbench installed; I just need some help with the connection parameters.\n. I figure I'm connecting to localhost; I just need the port and the account that Ba\u00efkal uses to connect.\n. Grabbed the SQLite Studio app (very nice); now to connect.  Now to get the path to the database...\n. I found it just before you commented... \nSomething's not right...\nSELECT * FROM calendars;\n... gives a result of zero rows returned.\n\n. Let me give it a try.\n. \"The easiest and most reliable way is to restore the database file from the backup.\"\nNo brainer, I'll try that first.  Do I need to shut down Ba\u00efkal first?  Or just shut down the CalDAV service?\n. Will do... Apache stopped, restored last night's db.sqlite, started Apache.\nNo change.  Rolling back another day.  No change.\nRolled back one month... no change, the calendar names are the same as reported above.\nReviewing the other options for recovery...\n. Rolled forward to yesterday's last backup.  Performed SQLite 3 integrity check -- OK.\n. Restarted Apache, checking the users' calendars.\nI'll attempt to use my CalDAV client (BusyCal) to restore from that application's backups.\n. Restoration of calendars from BusyCal backups successful.  \nHowever I'm still getting null rows when I query the db.sqlite database.  Keeping this issue open while I try to get to the root cause of the failure.\n. Checking now...\n. Sync is still working, I was able to create an item in the calendar starting with \"86A...\" as well as an item on one of my calendars and sync both with my iPhone.\n. I've never played around with it before, point me in the right direction and I'll give it a try.  I have MySQL Workbench installed; I just need some help with the connection parameters.\n. I figure I'm connecting to localhost; I just need the port and the account that Ba\u00efkal uses to connect.\n. Grabbed the SQLite Studio app (very nice); now to connect.  Now to get the path to the database...\n. I found it just before you commented... \nSomething's not right...\nSELECT * FROM calendars;\n... gives a result of zero rows returned.\n\n. Let me give it a try.\n. \"The easiest and most reliable way is to restore the database file from the backup.\"\nNo brainer, I'll try that first.  Do I need to shut down Ba\u00efkal first?  Or just shut down the CalDAV service?\n. Will do... Apache stopped, restored last night's db.sqlite, started Apache.\nNo change.  Rolling back another day.  No change.\nRolled back one month... no change, the calendar names are the same as reported above.\nReviewing the other options for recovery...\n. Rolled forward to yesterday's last backup.  Performed SQLite 3 integrity check -- OK.\n. Restarted Apache, checking the users' calendars.\nI'll attempt to use my CalDAV client (BusyCal) to restore from that application's backups.\n. Restoration of calendars from BusyCal backups successful.  \nHowever I'm still getting null rows when I query the db.sqlite database.  Keeping this issue open while I try to get to the root cause of the failure.\n. ",
    "paolomainardi": "@untitaker that was the intent :)\n. @untitaker that was the intent :)\n. ",
    "Superwallah": "Sorry, this is a duplicate of #40 of fruux/Baikal2. I followed the links from the Web GUI to github from Baikal 0.2.7 to fruux/Baikal.\n. correct. I have added https://github.com/mrbaseman/calendar-tools\n. Just one thing to add: http://baikal-server.com/#download offers 0.2.7. So I thought, this is the officially supported version.\n. Sorry, this is a duplicate of #40 of fruux/Baikal2. I followed the links from the Web GUI to github from Baikal 0.2.7 to fruux/Baikal.\n. correct. I have added https://github.com/mrbaseman/calendar-tools\n. Just one thing to add: http://baikal-server.com/#download offers 0.2.7. So I thought, this is the officially supported version.\n. ",
    "AllienWorks": "+1 as I'm just searching for how to add my calendars and contacts to my phone..\n. +1 as I'm just searching for how to add my calendars and contacts to my phone..\n. ",
    "Dennis1993": "+1\n. One question: Is it better to use \"DATETIME\" instead of \"INT\" oder \"BIGINT\"?\nWith PHP you can create a timestamp from that if you need it.\n. okay, thanks for your answer!\n. Thanks for your answer!\nI use a webspace from a german hoster (no root login). Every person can open the webinterface with /admin at the URL. Now I can test every password to log in into the webinterface. Bruteforce is not the only way to hack an account, a very simple szenario is that a person see the password while I type it in. Or any person has the same password for some systems and know one of this...\nI think that is a risk for all user which use a calendar or cards on this server. The admin can see all things!\nThe 2 factor authentication can help to improve that. I need a password to log in and after that, my smartphone app generates a short code. This code I can use only 30 seconds and after that the code will change. The security is with this simple trick better. And the Google Authenticator App exists for iOS, Android, Microsoft etc. and is free. I think that is a good and simple option to increase safety.\nWhat is you opinion? :)\n. Hey,\nthank you. That's ok.\nMaybe I can help with this simple code: https://github.com/PHPGangsta/GoogleAuthenticator\nI use it in some projects and it is easy to implement. \ud83d\udc4d \nNobody needs a Google account and the app exists for many OS.\n. +1\n. One question: Is it better to use \"DATETIME\" instead of \"INT\" oder \"BIGINT\"?\nWith PHP you can create a timestamp from that if you need it.\n. okay, thanks for your answer!\n. Thanks for your answer!\nI use a webspace from a german hoster (no root login). Every person can open the webinterface with /admin at the URL. Now I can test every password to log in into the webinterface. Bruteforce is not the only way to hack an account, a very simple szenario is that a person see the password while I type it in. Or any person has the same password for some systems and know one of this...\nI think that is a risk for all user which use a calendar or cards on this server. The admin can see all things!\nThe 2 factor authentication can help to improve that. I need a password to log in and after that, my smartphone app generates a short code. This code I can use only 30 seconds and after that the code will change. The security is with this simple trick better. And the Google Authenticator App exists for iOS, Android, Microsoft etc. and is free. I think that is a good and simple option to increase safety.\nWhat is you opinion? :)\n. Hey,\nthank you. That's ok.\nMaybe I can help with this simple code: https://github.com/PHPGangsta/GoogleAuthenticator\nI use it in some projects and it is easy to implement. \ud83d\udc4d \nNobody needs a Google account and the app exists for many OS.\n. ",
    "biolauri": "Just noticed that this got a new duplicate: #664 and get's fixes in 0.5.0 (according to evert's comment there.. That's great! If you need any help translating to German, just ping me. :-). If I get you right, this is already reported in #311 and gets fixed in the next release.. @evert, maybe you referred to #603? If not, feel free to ignore this comment and sorry for pinging! :). According to the VersionUpgrade file, etag gets filled with md5($row['carddata']) and size with strlen($row['carddata']). In general, this is the upgrade script. ;-)\nJust guessing, but maybe you could give another try from a backup following another upgrade guide.. Just noticed that this got a new duplicate: #664 and get's fixes in 0.5.0 (according to evert's comment there.. That's great! If you need any help translating to German, just ping me. :-). If I get you right, this is already reported in #311 and gets fixed in the next release.. @evert, maybe you referred to #603? If not, feel free to ignore this comment and sorry for pinging! :). According to the VersionUpgrade file, etag gets filled with md5($row['carddata']) and size with strlen($row['carddata']). In general, this is the upgrade script. ;-)\nJust guessing, but maybe you could give another try from a backup following another upgrade guide.. ",
    "staabm": "Already fixed by https://github.com/fruux/Baikal/pull/453. Thx for reporting though.\n. did you follow the upgrade instructions?\nhttp://sabre.io/baikal/upgrade/\nof course you should install 0.3.3 instead of 0.3.1 as described in this \"outdated\" document\n. @evert seems like one can bypass the update procedure in the UI?\n. Because of rule RewriteRule ^\\.well-known/carddav /remote.php/carddav/ [R=301,L] the baikal rule will not be reached for carddav\n. Whats your use-case? Why do you need the information?\n. @GitOTR could you create a blackfire.io profile of the slow operation/request?\n. For older php versions we could include a polyfill https://github.com/symfony/polyfill/tree/master/src/Php56\n. :+1: \n. I dont know Slim but in general it sounds like a good idea to move to something which is used by more apps and has some kind of active development\n. did you create a backup before the upgrade? if so, did the db schema before the upgrade contain the synctoken column?\n. You should just use password_hash\n. Werent the QNAP NAS systems the ones with the very old and outdated libxml?\nAny chance to update to a freshly build php7?\ncould run blackfire to profile this slow requests?\n. Isnt this a generic problem... Did you check google?\nhttps://www.google.de/search?q=migrate+sqlite+to+mysql\n. @evert it looks like one needs to use the attribute function to access variables with special chars in it:\nhttp://twig.sensiolabs.org/doc/templates.html#variables\n. ah I see you found the same docs as me: https://github.com/fruux/Baikal/pull/575#issuecomment-242304950\n;)\n. seems like your webserver is missing filesystem permission to write into the session-tmp-dir (/var/www/vhosts/brixel.it/tmp/)\n. I read something about fixes regarding chinese input in the release notes of ios 10.1\n. @Wernfried see e.g. http://www.sqlite.org/cvstrac/wiki?p=ConverterTools. Atm there is no flag for that https://github.com/fruux/Baikal/blob/master/Core/Frameworks/Baikal/Core/Server.php#L159. Fail2ban can consume logfiles in any format. It has support for e.g. Failed ssh logins logfile or similar. symfony has some integrations like https://github.com/loamok/Sf2securityBundle. I somehow remember that those NAS systems use a very old libxml. Please add a unit test. oh you are right. we dont have tests in this project - sorry for the misleading comment.\nthx for the fix.. I somehow remember that those NAS systems have a very old libxml. could you check that?. None I am aware of. Already fixed by https://github.com/fruux/Baikal/pull/453. Thx for reporting though.\n. did you follow the upgrade instructions?\nhttp://sabre.io/baikal/upgrade/\nof course you should install 0.3.3 instead of 0.3.1 as described in this \"outdated\" document\n. @evert seems like one can bypass the update procedure in the UI?\n. Because of rule RewriteRule ^\\.well-known/carddav /remote.php/carddav/ [R=301,L] the baikal rule will not be reached for carddav\n. Whats your use-case? Why do you need the information?\n. @GitOTR could you create a blackfire.io profile of the slow operation/request?\n. For older php versions we could include a polyfill https://github.com/symfony/polyfill/tree/master/src/Php56\n. :+1: \n. I dont know Slim but in general it sounds like a good idea to move to something which is used by more apps and has some kind of active development\n. did you create a backup before the upgrade? if so, did the db schema before the upgrade contain the synctoken column?\n. You should just use password_hash\n. Werent the QNAP NAS systems the ones with the very old and outdated libxml?\nAny chance to update to a freshly build php7?\ncould run blackfire to profile this slow requests?\n. Isnt this a generic problem... Did you check google?\nhttps://www.google.de/search?q=migrate+sqlite+to+mysql\n. @evert it looks like one needs to use the attribute function to access variables with special chars in it:\nhttp://twig.sensiolabs.org/doc/templates.html#variables\n. ah I see you found the same docs as me: https://github.com/fruux/Baikal/pull/575#issuecomment-242304950\n;)\n. seems like your webserver is missing filesystem permission to write into the session-tmp-dir (/var/www/vhosts/brixel.it/tmp/)\n. I read something about fixes regarding chinese input in the release notes of ios 10.1\n. @Wernfried see e.g. http://www.sqlite.org/cvstrac/wiki?p=ConverterTools. Atm there is no flag for that https://github.com/fruux/Baikal/blob/master/Core/Frameworks/Baikal/Core/Server.php#L159. Fail2ban can consume logfiles in any format. It has support for e.g. Failed ssh logins logfile or similar. symfony has some integrations like https://github.com/loamok/Sf2securityBundle. I somehow remember that those NAS systems use a very old libxml. Please add a unit test. oh you are right. we dont have tests in this project - sorry for the misleading comment.\nthx for the fix.. I somehow remember that those NAS systems have a very old libxml. could you check that?. None I am aware of. ",
    "nowotny": "That's because it tries to authenticate against 'SabreDAV' realm instead of 'BaikalDAV' as it's set in the default config.\nThe workaround for now is to go to the admin panel and in 'System setting' change the 'Auth realm' to 'SabreDAV'.\n. That's because it tries to authenticate against 'SabreDAV' realm instead of 'BaikalDAV' as it's set in the default config.\nThe workaround for now is to go to the admin panel and in 'System setting' change the 'Auth realm' to 'SabreDAV'.\n. ",
    "Gabbalo": "Been there, done that ... now even my admin password for admin-panel is rejected. \nProbably that was not the solution :(\n. Been there, done that ... now even my admin password for admin-panel is rejected. \nProbably that was not the solution :(\n. ",
    "perlbo": "hi ,, tried again .. play with user right ... now i got this. even with 0.3.3\nErrors\nUncaught exception during upgrade: exception 'PDOException' with message 'SQLSTATE[42S21]: Column already exists: 1060 Duplicate column name 'synctoken'' in /share/MD0_DATA/Web/baikal/Core/Frameworks/BaikalAdmin/Controller/Install/VersionUpgrade.php:165 Stack trace: #0 /share/MD0_DATA/Web/baikal/Core/Frameworks/BaikalAdmin/Controller/Install/VersionUpgrade.php(165): PDO->exec('ALTER TABLE cal...') #1 /share/MD0_DATA/Web/baikal/Core/Frameworks/BaikalAdmin/Controller/Install/VersionUpgrade.php(60): BaikalAdmin\\Controller\\Install\\VersionUpgrade->upgrade('0.2.7', '0.3.1') #2 /share/MD0_DATA/Web/baikal/Core/Frameworks/Flake/Core/Render/Container.php(70): BaikalAdmin\\Controller\\Install\\VersionUpgrade->render() #3 /share/MD0_DATA/Web/baikal/Core/Frameworks/Flake/Controller/Page.php(84): Flake\\Core\\Render\\Container->renderBlocks() #4 /share/MD0_DATA/Web/baikal/admin/install/index.php(84): Flake\\Controller\\Page->render() #5 {main}\nPHP 5.5.27 on Qnap 459 Pro II. 0.27 runs fine. revert to 0.27 with Backup works. \n. Try 0.27 to 0.3.3 .. same Error. Clean Install 0.3.3 runs fine. Butte need the old Data :-) ?!?\n. Ok ,, try to configure 0.3.3 new and import calendar and adressbook (only 2 User). When i try to activate use MySql check button this error occour .\n`exception 'PDOException' with message 'SQLSTATE[42000]: Syntax error or access violation: 1102 Incorrect database name ''' in /share/MD0_DATA/Web/baikal/Core/Frameworks/Flake/Core/Database.php:179\nStack trace:\n0 /share/MD0_DATA/Web/baikal/Core/Frameworks/Flake/Core/Database.php(179): PDO->query('SHOW TABLES FRO...')\n1 /share/MD0_DATA/Web/baikal/Core/Frameworks/Flake/Core/Database/Mysql.php(58): Flake\\Core\\Database->query('SHOW TABLES FRO...')\n2 /share/MD0_DATA/Web/baikal/Core/Frameworks/Baikal/Core/Tools.php(121): Flake\\Core\\Database\\Mysql->tables()\n3 /share/MD0_DATA/Web/baikal/Core/Frameworks/BaikalAdmin/Controller/Settings/System.php(108): Baikal\\Core\\Tools::isDBStructurallyComplete(Object(Flake\\Core\\Database\\Mysql))\n4 [internal function]: BaikalAdmin\\Controller\\Settings\\System->validationHook(Object(Formal\\Form), Object(Formal\\Form\\Morphology))\n5 /share/MD0_DATA/Web/baikal/Core/Frameworks/Formal/Form.php(201): call_user_func(Array, Object(Formal\\Form), Object(Formal\\Form\\Morphology))\n6 /share/MD0_DATA/Web/baikal/Core/Frameworks/BaikalAdmin/Controller/Settings/System.php(46): Formal\\Form->execute()\n7 /share/MD0_DATA/Web/baikal/Core/Frameworks/Flake/Core/Render/Container.php(62): BaikalAdmin\\Controller\\Settings\\System->execute()\n8 /share/MD0_DATA/Web/baikal/Core/Frameworks/Flake/Controller/Page.php(82): Flake\\Core\\Render\\Container->execute()\n9 /share/MD0_DATA/Web/baikal/html/admin/index.php(81): Flake\\Controller\\Page->render()\n10 {main}`\n. the Problem seems definitv the mysql option under settings. My old 0.27 has mysql database. If i run 0.3.3 clean and check mysql box under settings every time the error above occour. :-((( \nWhat can i do ? \n. Hi again. i got it Work. Install from 0.31 and upgrade to 0.3.2 and then 0.3.3 this work ... don\u00b4t know why but it work. After i check mysql no error and my data is back again. \nBut one problem still exist .. sync with iPhone and el Capitan don\u00b4t work (with 0.2.7 flat version) was all fine\nhere my rewrite rule:\nRewriteRule ^/.well-known/carddav /baikal/html/dav.php [R=301,L] (cal.php?)\nRewriteRule ^/.well-known/caldav /baikal/html/dav.php [R=301,L] (card.php?)\nOLD VERSION WAS \nRewriteRule ^/.well-known/carddav /baikal/cal.php [R=301,L]\nconfig manual on el capitan/ iphone\nhttps://ip-adress/baikal/html/cal.php/principals/user/\nhttps://ip-adress/baikal/html/dav.php/principals/user/ also don\u00b4t work. \nOLD VERSION was\nhttps://ip-adress/baikal/cal.php/principals/user/\nwhat is is my fault ? \nthe only difference between flat install ist the /html/ directory ? \nmy httaccess file in html directory:\n`\n\n    RewriteEngine On\n    RewriteRule .* - [E=HTTP_AUTHORIZATION:%{HTTP:Authorization},L]\n    RewriteCond %{HTTPS} !=on\n       RewriteCond %{ENV:HTTPS} !=on\n       RewriteRule .* https://%{SERVER_NAME}%{REQUEST_URI} [R=301,L]\nRedirect 301 /.well-known/carddav /baikal/html/dav.php\nRedirect 301 /.well-known/caldav /baikal/html/dav.php\n\n\n    ExpiresActive Off\n`\n. Ok thank you for you information ... but when i try just to add the /html and change cal.php/card.php to dav.php the sync does not work ... ? Any ideas ?\n. if i open the url entered in ios configuration\nhttps:/myip/baikal/html/dav.php/principals/user/ i see a web page in Browser.\nsabre/dav3.1.1\nPrincipals/user\ngo to parent/plugins ... \nNodes\nProperties \nand so on\nseems all fine ...but sync with ios don\u00b4t run. on configuration page when the url username etc are checked there comes an error SSL connection not possible. cannot connect \nif i go back to 0.2.7 remove /html in redirect (httacces) and change dav.php to cal.php/card.php connection is successfull. \n. Are you using ssl?\nYes, work fine with 0.27. \nWhat information (urls) are you using to connect?\n?? Don\u00b4t unterstand, what do you mean with information urls \nMake sure that the well-known redirects work from the \"root\" of your domain. They are 100% pointless in a subdirectory.\ni know. i use the same redirection file in same root, i use, when i switch so baikal 0.27. \nRewriteRule ^.well-known/carddav /baikal/html/dav.php [R=301,L]\nRewriteRule ^.well-known/caldav /baikal/html/dav.php [R=301,L]\n. 0.3.3 not working -> https://myip/baikal/html/dav.php/principals/username/\n0.2.7 working       -> https://myip/baikal/cal.php/principals/username/\n. it does not work :-( ... here ist the htaccess file\nhttp://pastebin.com/CfnVgtJJ\n. changed it this way http://pastebin.com/kTFhSJeu ... does not work :-( ... i am not very advanced with httacces. What should i write instead of IFmodule ?   \n(And thanks for all your help.. :-) \n. Redirection works. The URL will be redirected now in the Browser to https://yourserver.example.org/baikal/html/dav.php and asks me for user and Password.\nBut Sync with ios/Macosx does not work. No connection possible. \nTried:\nyourserver.example.org\nhttps://yourserver.example.org/\nhttps://yourserver.example.org\n. http://pastebin.com/nkhES8dY hope it help.\nshort:\nxmlwriter\nXMLWriter   enabled\n. me@evertpot.com for Login informations ? Don\u00b4t want post it public :-) \n. I think that comes from the \"non\" official SSL certificate of qnap\n. i will look the next days ... but do you thonk that this will be the Problem ? Baikal 0.2.7 flat runs fine with that ssl. \n. the Specific Folder in 0.3.4.zip is empty (except enable-install) . I think that could be the problem. \n. hi ,, tried again .. play with user right ... now i got this. even with 0.3.3\nErrors\nUncaught exception during upgrade: exception 'PDOException' with message 'SQLSTATE[42S21]: Column already exists: 1060 Duplicate column name 'synctoken'' in /share/MD0_DATA/Web/baikal/Core/Frameworks/BaikalAdmin/Controller/Install/VersionUpgrade.php:165 Stack trace: #0 /share/MD0_DATA/Web/baikal/Core/Frameworks/BaikalAdmin/Controller/Install/VersionUpgrade.php(165): PDO->exec('ALTER TABLE cal...') #1 /share/MD0_DATA/Web/baikal/Core/Frameworks/BaikalAdmin/Controller/Install/VersionUpgrade.php(60): BaikalAdmin\\Controller\\Install\\VersionUpgrade->upgrade('0.2.7', '0.3.1') #2 /share/MD0_DATA/Web/baikal/Core/Frameworks/Flake/Core/Render/Container.php(70): BaikalAdmin\\Controller\\Install\\VersionUpgrade->render() #3 /share/MD0_DATA/Web/baikal/Core/Frameworks/Flake/Controller/Page.php(84): Flake\\Core\\Render\\Container->renderBlocks() #4 /share/MD0_DATA/Web/baikal/admin/install/index.php(84): Flake\\Controller\\Page->render() #5 {main}\nPHP 5.5.27 on Qnap 459 Pro II. 0.27 runs fine. revert to 0.27 with Backup works. \n. Try 0.27 to 0.3.3 .. same Error. Clean Install 0.3.3 runs fine. Butte need the old Data :-) ?!?\n. Ok ,, try to configure 0.3.3 new and import calendar and adressbook (only 2 User). When i try to activate use MySql check button this error occour .\n`exception 'PDOException' with message 'SQLSTATE[42000]: Syntax error or access violation: 1102 Incorrect database name ''' in /share/MD0_DATA/Web/baikal/Core/Frameworks/Flake/Core/Database.php:179\nStack trace:\n0 /share/MD0_DATA/Web/baikal/Core/Frameworks/Flake/Core/Database.php(179): PDO->query('SHOW TABLES FRO...')\n1 /share/MD0_DATA/Web/baikal/Core/Frameworks/Flake/Core/Database/Mysql.php(58): Flake\\Core\\Database->query('SHOW TABLES FRO...')\n2 /share/MD0_DATA/Web/baikal/Core/Frameworks/Baikal/Core/Tools.php(121): Flake\\Core\\Database\\Mysql->tables()\n3 /share/MD0_DATA/Web/baikal/Core/Frameworks/BaikalAdmin/Controller/Settings/System.php(108): Baikal\\Core\\Tools::isDBStructurallyComplete(Object(Flake\\Core\\Database\\Mysql))\n4 [internal function]: BaikalAdmin\\Controller\\Settings\\System->validationHook(Object(Formal\\Form), Object(Formal\\Form\\Morphology))\n5 /share/MD0_DATA/Web/baikal/Core/Frameworks/Formal/Form.php(201): call_user_func(Array, Object(Formal\\Form), Object(Formal\\Form\\Morphology))\n6 /share/MD0_DATA/Web/baikal/Core/Frameworks/BaikalAdmin/Controller/Settings/System.php(46): Formal\\Form->execute()\n7 /share/MD0_DATA/Web/baikal/Core/Frameworks/Flake/Core/Render/Container.php(62): BaikalAdmin\\Controller\\Settings\\System->execute()\n8 /share/MD0_DATA/Web/baikal/Core/Frameworks/Flake/Controller/Page.php(82): Flake\\Core\\Render\\Container->execute()\n9 /share/MD0_DATA/Web/baikal/html/admin/index.php(81): Flake\\Controller\\Page->render()\n10 {main}`\n. the Problem seems definitv the mysql option under settings. My old 0.27 has mysql database. If i run 0.3.3 clean and check mysql box under settings every time the error above occour. :-((( \nWhat can i do ? \n. Hi again. i got it Work. Install from 0.31 and upgrade to 0.3.2 and then 0.3.3 this work ... don\u00b4t know why but it work. After i check mysql no error and my data is back again. \nBut one problem still exist .. sync with iPhone and el Capitan don\u00b4t work (with 0.2.7 flat version) was all fine\nhere my rewrite rule:\nRewriteRule ^/.well-known/carddav /baikal/html/dav.php [R=301,L] (cal.php?)\nRewriteRule ^/.well-known/caldav /baikal/html/dav.php [R=301,L] (card.php?)\nOLD VERSION WAS \nRewriteRule ^/.well-known/carddav /baikal/cal.php [R=301,L]\nconfig manual on el capitan/ iphone\nhttps://ip-adress/baikal/html/cal.php/principals/user/\nhttps://ip-adress/baikal/html/dav.php/principals/user/ also don\u00b4t work. \nOLD VERSION was\nhttps://ip-adress/baikal/cal.php/principals/user/\nwhat is is my fault ? \nthe only difference between flat install ist the /html/ directory ? \nmy httaccess file in html directory:\n`\n\n    RewriteEngine On\n    RewriteRule .* - [E=HTTP_AUTHORIZATION:%{HTTP:Authorization},L]\n    RewriteCond %{HTTPS} !=on\n       RewriteCond %{ENV:HTTPS} !=on\n       RewriteRule .* https://%{SERVER_NAME}%{REQUEST_URI} [R=301,L]\nRedirect 301 /.well-known/carddav /baikal/html/dav.php\nRedirect 301 /.well-known/caldav /baikal/html/dav.php\n\n\n    ExpiresActive Off\n`\n. Ok thank you for you information ... but when i try just to add the /html and change cal.php/card.php to dav.php the sync does not work ... ? Any ideas ?\n. if i open the url entered in ios configuration\nhttps:/myip/baikal/html/dav.php/principals/user/ i see a web page in Browser.\nsabre/dav3.1.1\nPrincipals/user\ngo to parent/plugins ... \nNodes\nProperties \nand so on\nseems all fine ...but sync with ios don\u00b4t run. on configuration page when the url username etc are checked there comes an error SSL connection not possible. cannot connect \nif i go back to 0.2.7 remove /html in redirect (httacces) and change dav.php to cal.php/card.php connection is successfull. \n. Are you using ssl?\nYes, work fine with 0.27. \nWhat information (urls) are you using to connect?\n?? Don\u00b4t unterstand, what do you mean with information urls \nMake sure that the well-known redirects work from the \"root\" of your domain. They are 100% pointless in a subdirectory.\ni know. i use the same redirection file in same root, i use, when i switch so baikal 0.27. \nRewriteRule ^.well-known/carddav /baikal/html/dav.php [R=301,L]\nRewriteRule ^.well-known/caldav /baikal/html/dav.php [R=301,L]\n. 0.3.3 not working -> https://myip/baikal/html/dav.php/principals/username/\n0.2.7 working       -> https://myip/baikal/cal.php/principals/username/\n. it does not work :-( ... here ist the htaccess file\nhttp://pastebin.com/CfnVgtJJ\n. changed it this way http://pastebin.com/kTFhSJeu ... does not work :-( ... i am not very advanced with httacces. What should i write instead of IFmodule ?   \n(And thanks for all your help.. :-) \n. Redirection works. The URL will be redirected now in the Browser to https://yourserver.example.org/baikal/html/dav.php and asks me for user and Password.\nBut Sync with ios/Macosx does not work. No connection possible. \nTried:\nyourserver.example.org\nhttps://yourserver.example.org/\nhttps://yourserver.example.org\n. http://pastebin.com/nkhES8dY hope it help.\nshort:\nxmlwriter\nXMLWriter   enabled\n. me@evertpot.com for Login informations ? Don\u00b4t want post it public :-) \n. I think that comes from the \"non\" official SSL certificate of qnap\n. i will look the next days ... but do you thonk that this will be the Problem ? Baikal 0.2.7 flat runs fine with that ssl. \n. the Specific Folder in 0.3.4.zip is empty (except enable-install) . I think that could be the problem. \n. ",
    "damd22": "It s for a online booking application. I would like to know the last\nrefresh connections and to turn off the online booking  function if there\nis not refresh in time out .\nWhere can I find the access log file?\nLe 20 f\u00e9vr. 2016 22:29, \"Evert Pot\" notifications@github.com a \u00e9crit :\n\nClosed #465 https://github.com/fruux/Baikal/issues/465.\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/fruux/Baikal/issues/465#event-557820612.\n. It s for a online booking application. I would like to know the last\nrefresh connections and to turn off the online booking  function if there\nis not refresh in time out .\n\nWhere can I find the access log file?\nLe 20 f\u00e9vr. 2016 22:29, \"Evert Pot\" notifications@github.com a \u00e9crit :\n\nClosed #465 https://github.com/fruux/Baikal/issues/465.\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/fruux/Baikal/issues/465#event-557820612.\n. \n",
    "perfect7gentleman": "Fatal error: Uncaught PDOException: SQLSTATE[HY000] [2002] No such file or directory in /var/www/localhost/htdocs/baikal/Core/Frameworks/Flake/Core/Database/Mysql.php:49 Stack trace: #0 /var/www/localhost/htdocs/baikal/Core/Frameworks/Flake/Core/Database/Mysql.php(49): PDO->__construct('mysql:host=;dbn...', '', '') #1 /var/www/localhost/htdocs/baikal/Core/Frameworks/Flake/Framework.php(281): Flake\\Core\\Database\\Mysql->__construct('', '', '', '') #2 /var/www/localhost/htdocs/baikal/Core/Frameworks/Flake/Framework.php(229): Flake\\Framework::initDbMysql() #3 /var/www/localhost/htdocs/baikal/Core/Frameworks/Flake/Framework.php(223): Flake\\Framework::initDb() #4 /var/www/localhost/htdocs/baikal/html/admin/install/index.php(50): Flake\\Framework::bootstrap() #5 {main} thrown in /var/www/localhost/htdocs/baikal/Core/Frameworks/Flake/Core/Database/Mysql.php on line 49\nnginx, php7, clean install, 0.3.4\n. @evert, I upgraded 0.2.7 to 0.3.4. Now it's okay.\nI didn't try clean install anymore.\n. yes, of course.\nadded new user, deleted default calendar and address book, added new ones.\nmaybe is there some magic in writing paths for cal/carddav for DAVDroid ?\n. Thunderbird\n```\nTimestamp: 02/23/2016 02:32:26 AM\nWarning: There has been an error reading data for calendar: Baikal.  However, this error is believed to be minor, so the program will attempt to continue. Error code: DAV_NOT_DAV. Description: The resource at http://192.168.88.2:8881/dav.php/calendars/PG_007_Baikal/calendar is either not a DAV collection or not available\nSource File: file:///usr/lib64/thunderbird/extensions/%7Be2fda1a4-762b-4020-b5ad-a41df1933103%7D/calendar-js/calCalendarManager.js\nLine: 960\n\nTimestamp: 02/23/2016 02:32:26 AM\nWarning: There has been an error reading data for calendar: Baikal.  However, this error is believed to be minor, so the program will attempt to continue. Error code: READ_FAILED. Description: \nSource File: file:///usr/lib64/thunderbird/extensions/%7Be2fda1a4-762b-4020-b5ad-a41df1933103%7D/calendar-js/calCalendarManager.js\nLine: 960\n\nTimestamp: 02/23/2016 02:32:26 AM\nError: [calCachedCalendar] replay action failed: null, uri=http://192.168.88.2:8881/dav.php/calendars/PG_007_Baikal/calendar, result=2147500037, op=[xpconnect wrapped calIOperation]\nSource File: file:///usr/lib64/thunderbird/extensions/%7Be2fda1a4-762b-4020-b5ad-a41df1933103%7D/calendar-js/calCachedCalendar.js\nLine: 322\n\nTimestamp: 02/23/2016 02:37:45 AM\nError: junk after document element\nSource File: moz-nullprincipal:{4da48560-1a16-4d72-a828-1c905284b398}\nLine: 2, Column: 1\nSource Code:\nFatal error:  Class 'XMLReader' not found in /var/www/444a04f018d9.sn.mynetname.net/htdocs/baikal/vendor/sabre/xml/lib/Reader.php on line 20\n.\n[calCachedCalendar] Performing playback operation add on 0 items to Baikal\n[calCachedCalendar] Performing playback operation modify on 0 items to Baikal\n[calCachedCalendar] Performing playback operation delete on 0 items to Baikal\n[calCachedCalendar] Doing changelog based sync for calendar http://192.168.88.2:8881/dav.php/calendars/PG_007_Baikal/calendar\nCalDAV: Status 200 on initial PROPFIND for calendar Baikal\nCalDAV: Authentication scheme for Baikal is Digest\nCalDAV: realm BaikalDAV\nTimestamp: 02/23/2016 02:42:53 AM\nError: junk after document element\nSource File: moz-nullprincipal:{5552491e-b8dd-44f0-81ea-c28a0b70c600}\nLine: 2, Column: 1\nSource Code:\nFatal error:  Class 'XMLReader' not found in /var/www/444a04f018d9.sn.mynetname.net/htdocs/baikal/vendor/sabre/xml/lib/Reader.php on line 20\nCalDAV: No resource type received, Baikal doesn't seem to point to a DAV resource\nTimestamp: 02/23/2016 02:42:53 AM\nWarning: There has been an error reading data for calendar: Baikal.  However, this error is believed to be minor, so the program will attempt to continue. Error code: DAV_NOT_DAV. Description: The resource at http://192.168.88.2:8881/dav.php/calendars/PG_007_Baikal/calendar is either not a DAV collection or not available\nSource File: file:///usr/lib64/thunderbird/extensions/%7Be2fda1a4-762b-4020-b5ad-a41df1933103%7D/calendar-js/calCalendarManager.js\nLine: 960\nTimestamp: 02/23/2016 02:42:53 AM\nWarning: There has been an error reading data for calendar: Baikal.  However, this error is believed to be minor, so the program will attempt to continue. Error code: READ_FAILED. Description: \nSource File: file:///usr/lib64/thunderbird/extensions/%7Be2fda1a4-762b-4020-b5ad-a41df1933103%7D/calendar-js/calCalendarManager.js\nLine: 960\nTimestamp: 02/23/2016 02:42:53 AM\nError: [calCachedCalendar] replay action failed: null, uri=http://192.168.88.2:8881/dav.php/calendars/PG_007_Baikal/calendar, result=2147500037, op=[xpconnect wrapped calIOperation]\nSource File: file:///usr/lib64/thunderbird/extensions/%7Be2fda1a4-762b-4020-b5ad-a41df1933103%7D/calendar-js/calCachedCalendar.js\nLine: 322\n[calCachedCalendar] replayChangesOn finished.\n[calCachedCalendar] sync queue empty.\n.\nUsers\nRegistered users    1\nCalDAV\nNumber of calendars     1\nNumber of events    2\nCardDAV\nNumber of address books     1\nNumber of contacts  0\n```\ni've done 2 tasks/events, i can't see them but it seems they were added somehow\n. added XMLReader PHP extension and it started working\n. 1 - create database\n2 - modify config.system.php\n. i've got the same error.\n. Fatal error: Uncaught PDOException: SQLSTATE[HY000] [2002] No such file or directory in /var/www/localhost/htdocs/baikal/Core/Frameworks/Flake/Core/Database/Mysql.php:49 Stack trace: #0 /var/www/localhost/htdocs/baikal/Core/Frameworks/Flake/Core/Database/Mysql.php(49): PDO->__construct('mysql:host=;dbn...', '', '') #1 /var/www/localhost/htdocs/baikal/Core/Frameworks/Flake/Framework.php(281): Flake\\Core\\Database\\Mysql->__construct('', '', '', '') #2 /var/www/localhost/htdocs/baikal/Core/Frameworks/Flake/Framework.php(229): Flake\\Framework::initDbMysql() #3 /var/www/localhost/htdocs/baikal/Core/Frameworks/Flake/Framework.php(223): Flake\\Framework::initDb() #4 /var/www/localhost/htdocs/baikal/html/admin/install/index.php(50): Flake\\Framework::bootstrap() #5 {main} thrown in /var/www/localhost/htdocs/baikal/Core/Frameworks/Flake/Core/Database/Mysql.php on line 49\nnginx, php7, clean install, 0.3.4\n. @evert, I upgraded 0.2.7 to 0.3.4. Now it's okay.\nI didn't try clean install anymore.\n. yes, of course.\nadded new user, deleted default calendar and address book, added new ones.\nmaybe is there some magic in writing paths for cal/carddav for DAVDroid ?\n. Thunderbird\n```\nTimestamp: 02/23/2016 02:32:26 AM\nWarning: There has been an error reading data for calendar: Baikal.  However, this error is believed to be minor, so the program will attempt to continue. Error code: DAV_NOT_DAV. Description: The resource at http://192.168.88.2:8881/dav.php/calendars/PG_007_Baikal/calendar is either not a DAV collection or not available\nSource File: file:///usr/lib64/thunderbird/extensions/%7Be2fda1a4-762b-4020-b5ad-a41df1933103%7D/calendar-js/calCalendarManager.js\nLine: 960\n\nTimestamp: 02/23/2016 02:32:26 AM\nWarning: There has been an error reading data for calendar: Baikal.  However, this error is believed to be minor, so the program will attempt to continue. Error code: READ_FAILED. Description: \nSource File: file:///usr/lib64/thunderbird/extensions/%7Be2fda1a4-762b-4020-b5ad-a41df1933103%7D/calendar-js/calCalendarManager.js\nLine: 960\n\nTimestamp: 02/23/2016 02:32:26 AM\nError: [calCachedCalendar] replay action failed: null, uri=http://192.168.88.2:8881/dav.php/calendars/PG_007_Baikal/calendar, result=2147500037, op=[xpconnect wrapped calIOperation]\nSource File: file:///usr/lib64/thunderbird/extensions/%7Be2fda1a4-762b-4020-b5ad-a41df1933103%7D/calendar-js/calCachedCalendar.js\nLine: 322\n\nTimestamp: 02/23/2016 02:37:45 AM\nError: junk after document element\nSource File: moz-nullprincipal:{4da48560-1a16-4d72-a828-1c905284b398}\nLine: 2, Column: 1\nSource Code:\nFatal error:  Class 'XMLReader' not found in /var/www/444a04f018d9.sn.mynetname.net/htdocs/baikal/vendor/sabre/xml/lib/Reader.php on line 20\n.\n[calCachedCalendar] Performing playback operation add on 0 items to Baikal\n[calCachedCalendar] Performing playback operation modify on 0 items to Baikal\n[calCachedCalendar] Performing playback operation delete on 0 items to Baikal\n[calCachedCalendar] Doing changelog based sync for calendar http://192.168.88.2:8881/dav.php/calendars/PG_007_Baikal/calendar\nCalDAV: Status 200 on initial PROPFIND for calendar Baikal\nCalDAV: Authentication scheme for Baikal is Digest\nCalDAV: realm BaikalDAV\nTimestamp: 02/23/2016 02:42:53 AM\nError: junk after document element\nSource File: moz-nullprincipal:{5552491e-b8dd-44f0-81ea-c28a0b70c600}\nLine: 2, Column: 1\nSource Code:\nFatal error:  Class 'XMLReader' not found in /var/www/444a04f018d9.sn.mynetname.net/htdocs/baikal/vendor/sabre/xml/lib/Reader.php on line 20\nCalDAV: No resource type received, Baikal doesn't seem to point to a DAV resource\nTimestamp: 02/23/2016 02:42:53 AM\nWarning: There has been an error reading data for calendar: Baikal.  However, this error is believed to be minor, so the program will attempt to continue. Error code: DAV_NOT_DAV. Description: The resource at http://192.168.88.2:8881/dav.php/calendars/PG_007_Baikal/calendar is either not a DAV collection or not available\nSource File: file:///usr/lib64/thunderbird/extensions/%7Be2fda1a4-762b-4020-b5ad-a41df1933103%7D/calendar-js/calCalendarManager.js\nLine: 960\nTimestamp: 02/23/2016 02:42:53 AM\nWarning: There has been an error reading data for calendar: Baikal.  However, this error is believed to be minor, so the program will attempt to continue. Error code: READ_FAILED. Description: \nSource File: file:///usr/lib64/thunderbird/extensions/%7Be2fda1a4-762b-4020-b5ad-a41df1933103%7D/calendar-js/calCalendarManager.js\nLine: 960\nTimestamp: 02/23/2016 02:42:53 AM\nError: [calCachedCalendar] replay action failed: null, uri=http://192.168.88.2:8881/dav.php/calendars/PG_007_Baikal/calendar, result=2147500037, op=[xpconnect wrapped calIOperation]\nSource File: file:///usr/lib64/thunderbird/extensions/%7Be2fda1a4-762b-4020-b5ad-a41df1933103%7D/calendar-js/calCachedCalendar.js\nLine: 322\n[calCachedCalendar] replayChangesOn finished.\n[calCachedCalendar] sync queue empty.\n.\nUsers\nRegistered users    1\nCalDAV\nNumber of calendars     1\nNumber of events    2\nCardDAV\nNumber of address books     1\nNumber of contacts  0\n```\ni've done 2 tasks/events, i can't see them but it seems they were added somehow\n. added XMLReader PHP extension and it started working\n. 1 - create database\n2 - modify config.system.php\n. i've got the same error.\n. ",
    "eloo": "Thanks for your quick response and yes this was exactly my problem. /Specific was not owned by the www-data user. \nSeems that the writable check does not work properly, maybe you could check this.\nFurther you should mention in the upgrade doc that if someone upgrade from flat package it's necessary to define rewrite rules for the old /card.php to /html/dav.php. If this rules aren't defined all users will get errors during to sync because card.php is not found in base directory.\nHere are my rewrite rules (as you see i'm using baikal in subdirectory, so maybe you need to remove the baikal at the beginning of the paths)\nrewrite ^/baikal/card.php/(.*)$ /baikal/html/card.php/$1 redirect;\nrewrite ^/baikal/cal.php/(.*)$ /baikal/html/dav.php/$1 redirect;\nThanks for you good work on Baikal! \nBest regards\nEloo\n. Thanks for your quick response and yes this was exactly my problem. /Specific was not owned by the www-data user. \nSeems that the writable check does not work properly, maybe you could check this.\nFurther you should mention in the upgrade doc that if someone upgrade from flat package it's necessary to define rewrite rules for the old /card.php to /html/dav.php. If this rules aren't defined all users will get errors during to sync because card.php is not found in base directory.\nHere are my rewrite rules (as you see i'm using baikal in subdirectory, so maybe you need to remove the baikal at the beginning of the paths)\nrewrite ^/baikal/card.php/(.*)$ /baikal/html/card.php/$1 redirect;\nrewrite ^/baikal/cal.php/(.*)$ /baikal/html/dav.php/$1 redirect;\nThanks for you good work on Baikal! \nBest regards\nEloo\n. ",
    "deg0nz": "Ahh ok, thanks for clearing this up :)\n. Wouldn't this be possible by using Bearer authentication? I have seen, that sabre/dav supports this since version 3.1. \nBut I think we would need a UI component for this, am I right?. Ahh ok, thanks for clearing this up :)\n. Wouldn't this be possible by using Bearer authentication? I have seen, that sabre/dav supports this since version 3.1. \nBut I think we would need a UI component for this, am I right?. ",
    "michelwend": "this gives ../Core/Frameworks/Baikal/WWWRoot/index.php\nI have php 5.6\n. I use zipfile on: https://github.com/fruux/Baikal\nThe link for my site is: http://wendling.shost.ca/cc/\n. I use zipfile on: https://github.com/fruux/Baikal\nSorry for the error\n. Where is the link to download the proper zipfile: baikal-0.3.5.zip\n. Tanks\n. I am not able to open the admin. I have note a file Specific/config.system.php. I use SQlite. I have this file: Specific/ENABLE_INSTALL\nThanks for your help\n. I just re- install. I have these files:\nspecfic/db\nspecfic/.htacess\nspecfic/config.php\nspecfic/config.system.php\nspecfic/ENABLE_INSTALL\nAnd I always error:\nexception 'Exception' with message 'Fatal error: no connection to a database is available.' in /home/web11372/web/cc/Core/Frameworks/Baikal/Core/Tools.php:67 Stack trace: #0 /home/web11372/web/cc/Core/Frameworks/Baikal/Framework.php(80): Baikal\\Core\\Tools::assertBaikalIsOk() #1 /home/web11372/web/cc/Core/Frameworks/BaikalAdmin/Framework.php(35): Baikal\\Framework::bootstrap() #2 /home/web11372/web/cc/html/admin/index.php(53): BaikalAdmin\\Framework::bootstrap() #3 {main}\nI have: PHP 5.5.30\n. For me too it is the version baikal-0.4.2.zip\n. this gives ../Core/Frameworks/Baikal/WWWRoot/index.php\nI have php 5.6\n. I use zipfile on: https://github.com/fruux/Baikal\nThe link for my site is: http://wendling.shost.ca/cc/\n. I use zipfile on: https://github.com/fruux/Baikal\nSorry for the error\n. Where is the link to download the proper zipfile: baikal-0.3.5.zip\n. Tanks\n. I am not able to open the admin. I have note a file Specific/config.system.php. I use SQlite. I have this file: Specific/ENABLE_INSTALL\nThanks for your help\n. I just re- install. I have these files:\nspecfic/db\nspecfic/.htacess\nspecfic/config.php\nspecfic/config.system.php\nspecfic/ENABLE_INSTALL\nAnd I always error:\nexception 'Exception' with message 'Fatal error: no connection to a database is available.' in /home/web11372/web/cc/Core/Frameworks/Baikal/Core/Tools.php:67 Stack trace: #0 /home/web11372/web/cc/Core/Frameworks/Baikal/Framework.php(80): Baikal\\Core\\Tools::assertBaikalIsOk() #1 /home/web11372/web/cc/Core/Frameworks/BaikalAdmin/Framework.php(35): Baikal\\Framework::bootstrap() #2 /home/web11372/web/cc/html/admin/index.php(53): BaikalAdmin\\Framework::bootstrap() #3 {main}\nI have: PHP 5.5.30\n. For me too it is the version baikal-0.4.2.zip\n. ",
    "GitOTR": "Sorry for taking so long to answer. But I was quite busy. \nAs you may understand I don't like the idea of sending my complete private addresses to someone else. \nI cloned my old 0.27 installation and updated it to 0.34 once again. Afterwards I compared all entries in both address books in eM client. I did a VCF export and examined the missing contacts in 0.34 with them that are available in 0.34. There were two identical data records regarding the identifiers. But only one was visible in 0.34.\nExample from 0.27 that was not transferred:\nBEGIN:VCARD\nVERSION:3.0\nUID:xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx\nX-WAB-GENDER:2\nN:Name;Name;;;\nSORT-STRING:Name\\, Name\nFN:Name Name\nTITLE:\u00a0\nORG:\u00a0;\nEMAIL;TYPE=WORK,PREF:email@email.email\nTEL;TYPE=HOME,VOICE:+11 (111) 11111111\nTEL;TYPE=CELL,PREF:+11 (111) 1111111\nADR;TYPE=HOME:;;Street 1/1;Town;;12345;\nPRODID:-//eM Client/6.0.24928.0\nEND:VCARD\nIn eM Client I copied the entry from 0.27 contact folder to 0.34 contact folder. After this the data record was also available in 0.34 and stays visible. I did this with the rest of the missing entries and there were also no problems.\nThis is the updated entry in 0.34 for the above one in 0.27:\nBEGIN:VCARD\nVERSION:4.0\nUID:urn:uuid:xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx\nN;SORT-AS=\"Name, Name\":Name;Name;;\nFN:Name Name\nTITLE:\u00a0\nORG:\u00a0;\nSEX:1\nEMAIL;TYPE=WORK;PREF=1:email@email.email\nTEL;TYPE=HOME,VOICE:+11 (111) 11111111\nTEL;TYPE=CELL;PREF=1:+11 (111) 1111111\nADR;TYPE=HOME:;;Street 1/1;Town;;12345;\nPRODID:-//eM Client/6.0.24928.0\nEND:VCARD\nSo in the end I have all my data from 0.27 available in 0.34. But if I start eM Client it takes minutes to sync the database from Baikal to eM Client. Using the 0.27 database this process is done in seconds.\n. I checked the exported file in several editors and there is no hidden special character. But I cannot say what is store in the SQL database. I will try to update my 0.27 installation to 0.4x the next weekend and update my comments. \nBut one thing is still not solved. Why does syncing take so much longer with 0.34 than with 0.27. May it be because a lot of profile pictures in my contacts?\n. I just took a look at blackfire.io. Could this also be used when the trace is triggered by an external program running independently from the website? The free version does not support tracing SQL. Wouldn't that be the interesting part?\nIt does not depend on whether the sync is done for the first time or I re-sync my database. \nJust found out that eM sync log does also contain the number of synced contacts. So I found out that the missing contacts in 0.34 were always in the database but not shown in eM. I will check whether I can find another CardDAV client to check whether this is a eM bug.\n. Yesterday I tried to update from 0.27 to 0.43 and had the same problem as described in the beginning. Missing entries and very slow speed when syncing.\nI reverted back to 0.27 and did a fresh installation of 0.43 in a parallel folder. Then added both accounts to eM. I copied my cards from 0.27 account to 0.43 account. Afterwards I also copied my calendar data to the new database.\nWith theses upgrade procedure the problems do not occur anymore. Syncing is as fast as with 0.27 and all my contacts are available. May there be a problem with the update script?\n. I just checked the db.sqlite after it was upgraded by Baikal 0.43. And there two addressbooks and calendars entries. \naddressbooks and addressbooks_1459009879\ncalendars and calendars_1459009879\nShouldn't the tables with the number be deleted after upgrade is complete? At least all other db.sqlite I checked do not have any duplicate entries like that.\n. Unfortunately the update made things worse. \nWith 0.44 the calendar is not synced on iOS. I checked with Lightning on Win and there is no problem. This case I did not test with a fresh database. If I find some spare time on the weekend I will do this test too.\nRegarding the contacts the update did not help. I tried two scenarios:\n1. update of 0.27 database done by 0.44 -> contacts are only partly synced with iOS and eM, nevertheless in Baikal dash board the correct number is shown\n2. copy contacts from 0.27 account to 0.44 account in eM -> eM shows all contacts, on iOS there is no contact synced.\nOne further idea is to check the behavior on real web-space and not only on my DiskStation.\nI know it would be most helpful if I would send you my db.sqlite. But this is something that I really would like to avoid. I will think about this the next days.\n. I have 151 contacts in my database. The size is 16 MB, after I deleted all photos from my contacts the size went down to 51 KB. \nThe chunk of 50 vcards is also what I see when I sync the complete database for the first time with eM. After a period of time another 50 vcards will be synced. But afterwards the remaining vcards won't be synced.\nWhat is really interesting. When I copy my contacts from 0.27 to 0.43 database using copy & paste in eM the size of the database stays the same but eM is syncing all contacts in a short time. Somehow the migration script seems to do the update of vcards in another way than eM does when copying the contacts from one database to the other.\nThe database without the photos will be synced with iOS without problems. All contacts and calendars are visible.\nWith Baikal 0.27 the size of the database including photos is no problem. Does Baikal 0.44 use a different picture library than 0.27?\n. Fine. So for eM the problem could be solved by the described procedure to update the vCards to v4. \nWhich vCard version does iOS request? Even with Baikal 0.44 and vCards v4 not all contacts are synced. Furthermore the calendar sync does not work anymore with the database including the photos. Could this be a result of the activation of the sync plugin?\nI will check in my DiskStation how I could increase the PHP time limit. There is a new DiskStation OS available. But I don't know whether it supports PHP 7. I will give it a try after the first bugfix update.\n. JFTR. With Baikal 0.46 all problems are gone. Update from 0.27 went smooth and all data are available on the first run and also no performance problems anymore when fetching my contacts via CARDDav.\n. My Baikal server is running on a DiskStation. Getting Charles installed on this device may not be so easy.\nRegarding the validity of my vCards I did another test. Using an empty 0.43 installation. I sent the 0.27 VCF file to my iOS device by e-mail and added the contacts to the empty addressbook in my CardDAV account. \nImport in iOS was done fast. First sync in eM took a while. But all contacts were synced and visible. I added one new contact via eM and via iOS. They were synced in both directions. And further syncing was fast on both eM and iOS.\nAs iOS did not support X-WAB-GENDER while importing I realized that a few contacts contain this field.\nAlso I found some additional X- fields:\nX-ABLABEL;ITEM1:old\nTEL;TYPE=\"ITEM1\":+11 (111) 11111111\nX-SALUTATION\nBut there is no rule whether a contact will be visible in eM or not.\n. Sorry for taking so long to answer. But I was quite busy. \nAs you may understand I don't like the idea of sending my complete private addresses to someone else. \nI cloned my old 0.27 installation and updated it to 0.34 once again. Afterwards I compared all entries in both address books in eM client. I did a VCF export and examined the missing contacts in 0.34 with them that are available in 0.34. There were two identical data records regarding the identifiers. But only one was visible in 0.34.\nExample from 0.27 that was not transferred:\nBEGIN:VCARD\nVERSION:3.0\nUID:xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx\nX-WAB-GENDER:2\nN:Name;Name;;;\nSORT-STRING:Name\\, Name\nFN:Name Name\nTITLE:\u00a0\nORG:\u00a0;\nEMAIL;TYPE=WORK,PREF:email@email.email\nTEL;TYPE=HOME,VOICE:+11 (111) 11111111\nTEL;TYPE=CELL,PREF:+11 (111) 1111111\nADR;TYPE=HOME:;;Street 1/1;Town;;12345;\nPRODID:-//eM Client/6.0.24928.0\nEND:VCARD\nIn eM Client I copied the entry from 0.27 contact folder to 0.34 contact folder. After this the data record was also available in 0.34 and stays visible. I did this with the rest of the missing entries and there were also no problems.\nThis is the updated entry in 0.34 for the above one in 0.27:\nBEGIN:VCARD\nVERSION:4.0\nUID:urn:uuid:xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx\nN;SORT-AS=\"Name, Name\":Name;Name;;\nFN:Name Name\nTITLE:\u00a0\nORG:\u00a0;\nSEX:1\nEMAIL;TYPE=WORK;PREF=1:email@email.email\nTEL;TYPE=HOME,VOICE:+11 (111) 11111111\nTEL;TYPE=CELL;PREF=1:+11 (111) 1111111\nADR;TYPE=HOME:;;Street 1/1;Town;;12345;\nPRODID:-//eM Client/6.0.24928.0\nEND:VCARD\nSo in the end I have all my data from 0.27 available in 0.34. But if I start eM Client it takes minutes to sync the database from Baikal to eM Client. Using the 0.27 database this process is done in seconds.\n. I checked the exported file in several editors and there is no hidden special character. But I cannot say what is store in the SQL database. I will try to update my 0.27 installation to 0.4x the next weekend and update my comments. \nBut one thing is still not solved. Why does syncing take so much longer with 0.34 than with 0.27. May it be because a lot of profile pictures in my contacts?\n. I just took a look at blackfire.io. Could this also be used when the trace is triggered by an external program running independently from the website? The free version does not support tracing SQL. Wouldn't that be the interesting part?\nIt does not depend on whether the sync is done for the first time or I re-sync my database. \nJust found out that eM sync log does also contain the number of synced contacts. So I found out that the missing contacts in 0.34 were always in the database but not shown in eM. I will check whether I can find another CardDAV client to check whether this is a eM bug.\n. Yesterday I tried to update from 0.27 to 0.43 and had the same problem as described in the beginning. Missing entries and very slow speed when syncing.\nI reverted back to 0.27 and did a fresh installation of 0.43 in a parallel folder. Then added both accounts to eM. I copied my cards from 0.27 account to 0.43 account. Afterwards I also copied my calendar data to the new database.\nWith theses upgrade procedure the problems do not occur anymore. Syncing is as fast as with 0.27 and all my contacts are available. May there be a problem with the update script?\n. I just checked the db.sqlite after it was upgraded by Baikal 0.43. And there two addressbooks and calendars entries. \naddressbooks and addressbooks_1459009879\ncalendars and calendars_1459009879\nShouldn't the tables with the number be deleted after upgrade is complete? At least all other db.sqlite I checked do not have any duplicate entries like that.\n. Unfortunately the update made things worse. \nWith 0.44 the calendar is not synced on iOS. I checked with Lightning on Win and there is no problem. This case I did not test with a fresh database. If I find some spare time on the weekend I will do this test too.\nRegarding the contacts the update did not help. I tried two scenarios:\n1. update of 0.27 database done by 0.44 -> contacts are only partly synced with iOS and eM, nevertheless in Baikal dash board the correct number is shown\n2. copy contacts from 0.27 account to 0.44 account in eM -> eM shows all contacts, on iOS there is no contact synced.\nOne further idea is to check the behavior on real web-space and not only on my DiskStation.\nI know it would be most helpful if I would send you my db.sqlite. But this is something that I really would like to avoid. I will think about this the next days.\n. I have 151 contacts in my database. The size is 16 MB, after I deleted all photos from my contacts the size went down to 51 KB. \nThe chunk of 50 vcards is also what I see when I sync the complete database for the first time with eM. After a period of time another 50 vcards will be synced. But afterwards the remaining vcards won't be synced.\nWhat is really interesting. When I copy my contacts from 0.27 to 0.43 database using copy & paste in eM the size of the database stays the same but eM is syncing all contacts in a short time. Somehow the migration script seems to do the update of vcards in another way than eM does when copying the contacts from one database to the other.\nThe database without the photos will be synced with iOS without problems. All contacts and calendars are visible.\nWith Baikal 0.27 the size of the database including photos is no problem. Does Baikal 0.44 use a different picture library than 0.27?\n. Fine. So for eM the problem could be solved by the described procedure to update the vCards to v4. \nWhich vCard version does iOS request? Even with Baikal 0.44 and vCards v4 not all contacts are synced. Furthermore the calendar sync does not work anymore with the database including the photos. Could this be a result of the activation of the sync plugin?\nI will check in my DiskStation how I could increase the PHP time limit. There is a new DiskStation OS available. But I don't know whether it supports PHP 7. I will give it a try after the first bugfix update.\n. JFTR. With Baikal 0.46 all problems are gone. Update from 0.27 went smooth and all data are available on the first run and also no performance problems anymore when fetching my contacts via CARDDav.\n. My Baikal server is running on a DiskStation. Getting Charles installed on this device may not be so easy.\nRegarding the validity of my vCards I did another test. Using an empty 0.43 installation. I sent the 0.27 VCF file to my iOS device by e-mail and added the contacts to the empty addressbook in my CardDAV account. \nImport in iOS was done fast. First sync in eM took a while. But all contacts were synced and visible. I added one new contact via eM and via iOS. They were synced in both directions. And further syncing was fast on both eM and iOS.\nAs iOS did not support X-WAB-GENDER while importing I realized that a few contacts contain this field.\nAlso I found some additional X- fields:\nX-ABLABEL;ITEM1:old\nTEL;TYPE=\"ITEM1\":+11 (111) 11111111\nX-SALUTATION\nBut there is no rule whether a contact will be visible in eM or not.\n. ",
    "xalphay": "Sorry for no reply this two weeks,  I'm not a full-time site administrator, also not a programmer, so I need more help to solve it, Thank you very much.\nAnd here is some part of the log\n\n223.104.38.164 - - [16/Mar/2016:09:15:47 +0800] \"PROPFIND /cal.php/calendars/xalphay/default/ HTTP/1.1\" 207 1000 \"-\" \"DAVdroid/0.8.4.1\"\n223.104.38.164 - - [16/Mar/2016:09:15:48 +0800] \"PUT /cal.php/calendars/xalphay/default/20160316T011522Z-520_b486750d7f0f7220.ics HTTP/1.1\" 404 662 \"-\" \"DAVdroid/0.8.4.1\"\n223.104.38.164 - - [16/Mar/2016:09:15:48 +0800] \"PROPFIND /card.php/addressbooks/xalphay/default/ HTTP/1.1\" 401 811 \"-\" \"DAVdroid/0.8.4.1\"\n223.104.38.164 - - [16/Mar/2016:09:15:48 +0800] \"PROPFIND /card.php/addressbooks/xalphay/default/ HTTP/1.1\" 207 1002 \"-\" \"DAVdroid/0.8.4.1\"\n223.104.38.164 - - [16/Mar/2016:09:16:15 +0800] \"PROPFIND /card.php/addressbooks/xalphay/default/ HTTP/1.1\" 401 811 \"-\" \"DAVdroid/0.8.4.1\"\n223.104.38.164 - - [16/Mar/2016:09:16:15 +0800] \"PROPFIND /card.php/addressbooks/xalphay/default/ HTTP/1.1\" 207 1002 \"-\" \"DAVdroid/0.8.4.1\"\n\nThen error log:\n\n[Wed Mar 16 09:15:46 2016] [error] [client 223.104.38.164] client denied by server configuration: /home/y5djsv9waf/domains/m9n8.com/public_html/dav/cal.php\n[Wed Mar 16 09:15:46 2016] [error] [client 223.104.38.164] File does not exist: /home/y5djsv9waf/domains/m9n8.com/public_html/dav/403.shtml\n[Wed Mar 16 09:15:48 2016] [error] [client 223.104.38.164] client denied by server configuration: /home/y5djsv9waf/domains/m9n8.com/public_html/dav/cal.php\n[Wed Mar 16 09:15:48 2016] [error] [client 223.104.38.164] File does not exist: /home/y5djsv9waf/domains/m9n8.com/public_html/dav/403.shtml\n[Wed Mar 16 09:16:45 2016] [error] [client 223.104.38.164] client denied by server configuration: /home/y5djsv9waf/domains/m9n8.com/public_html/dav/cal.php\n[Wed Mar 16 09:16:45 2016] [error] [client 223.104.38.164] File does not exist: /home/y5djsv9waf/domains/m9n8.com/public_html/dav/403.shtml\n\nThis application is running on a virtual hosting, Here, Thank You!\n. OK, I will try to contact them, Thank you.\n. @evert \nCan you give me some advises about which web host can install Baikal? Or the server administrator should check which configuration?\n. Sorry for no reply this two weeks,  I'm not a full-time site administrator, also not a programmer, so I need more help to solve it, Thank you very much.\nAnd here is some part of the log\n\n223.104.38.164 - - [16/Mar/2016:09:15:47 +0800] \"PROPFIND /cal.php/calendars/xalphay/default/ HTTP/1.1\" 207 1000 \"-\" \"DAVdroid/0.8.4.1\"\n223.104.38.164 - - [16/Mar/2016:09:15:48 +0800] \"PUT /cal.php/calendars/xalphay/default/20160316T011522Z-520_b486750d7f0f7220.ics HTTP/1.1\" 404 662 \"-\" \"DAVdroid/0.8.4.1\"\n223.104.38.164 - - [16/Mar/2016:09:15:48 +0800] \"PROPFIND /card.php/addressbooks/xalphay/default/ HTTP/1.1\" 401 811 \"-\" \"DAVdroid/0.8.4.1\"\n223.104.38.164 - - [16/Mar/2016:09:15:48 +0800] \"PROPFIND /card.php/addressbooks/xalphay/default/ HTTP/1.1\" 207 1002 \"-\" \"DAVdroid/0.8.4.1\"\n223.104.38.164 - - [16/Mar/2016:09:16:15 +0800] \"PROPFIND /card.php/addressbooks/xalphay/default/ HTTP/1.1\" 401 811 \"-\" \"DAVdroid/0.8.4.1\"\n223.104.38.164 - - [16/Mar/2016:09:16:15 +0800] \"PROPFIND /card.php/addressbooks/xalphay/default/ HTTP/1.1\" 207 1002 \"-\" \"DAVdroid/0.8.4.1\"\n\nThen error log:\n\n[Wed Mar 16 09:15:46 2016] [error] [client 223.104.38.164] client denied by server configuration: /home/y5djsv9waf/domains/m9n8.com/public_html/dav/cal.php\n[Wed Mar 16 09:15:46 2016] [error] [client 223.104.38.164] File does not exist: /home/y5djsv9waf/domains/m9n8.com/public_html/dav/403.shtml\n[Wed Mar 16 09:15:48 2016] [error] [client 223.104.38.164] client denied by server configuration: /home/y5djsv9waf/domains/m9n8.com/public_html/dav/cal.php\n[Wed Mar 16 09:15:48 2016] [error] [client 223.104.38.164] File does not exist: /home/y5djsv9waf/domains/m9n8.com/public_html/dav/403.shtml\n[Wed Mar 16 09:16:45 2016] [error] [client 223.104.38.164] client denied by server configuration: /home/y5djsv9waf/domains/m9n8.com/public_html/dav/cal.php\n[Wed Mar 16 09:16:45 2016] [error] [client 223.104.38.164] File does not exist: /home/y5djsv9waf/domains/m9n8.com/public_html/dav/403.shtml\n\nThis application is running on a virtual hosting, Here, Thank You!\n. OK, I will try to contact them, Thank you.\n. @evert \nCan you give me some advises about which web host can install Baikal? Or the server administrator should check which configuration?\n. ",
    "Martchus": "Of course I have a backup. But using it would revert my latest updates.\nI have opened a bug report at KDE Bugs: https://bugs.kde.org/show_bug.cgi?id=360097\n\nPerhaps it stored some information about the server and refuses to authenticate since it's different now\n\nNo, I tried to create a new resource and got the same error.\nAnyways, thanks for the quick reply.\n. This is a good idea. I'll check it later.\n. I wanted to check on that error now, but it turns out that it is working fine now. I changed nothing. Not the Akonadi/Baikal version, the client/server configuration or anything. Very strange. Since I can't reproduce it anymore, I close the issue.\n. Of course I have a backup. But using it would revert my latest updates.\nI have opened a bug report at KDE Bugs: https://bugs.kde.org/show_bug.cgi?id=360097\n\nPerhaps it stored some information about the server and refuses to authenticate since it's different now\n\nNo, I tried to create a new resource and got the same error.\nAnyways, thanks for the quick reply.\n. This is a good idea. I'll check it later.\n. I wanted to check on that error now, but it turns out that it is working fine now. I changed nothing. Not the Akonadi/Baikal version, the client/server configuration or anything. Very strange. Since I can't reproduce it anymore, I close the issue.\n. ",
    "c-alpha": "Unfortunately I don't have access to the server logs (simple webhosting plan). I captured the network traffic (Wireshark), but as I'm using TLS/HTTPS, apart from the handshakes for setting up the encrypted connections nothing useful seemed visible.\nHere's what the logfile of my local machine running the calendar client says:\n\n2016-03-08 21:38:10,718 CalendarAgent[364]: [com.apple.calendar.store.log.caldav.coredav] [[CoreDAVPropFindTask 0x7fa0b38c1460, conn 0x7fa0b7d0fb80, request 0x7fa0b534d840] Parser failed to parse with error Error Domain=NSXMLParserErrorDomain Code=512 \"(null)\"]\n2016-03-08 21:38:10,726 CalendarAgent[364]: [com.apple.calendar.store.log.caldav.queue] [Adding [] to failed operations.]\n\nPeeking at Baikal's web admin reveals that the calendar was in fact deleted. It just seems that the client gets stuck in some error state.\nThe XML error code 512 mentioned in the first log translates to NSXMLParserDelegateAbortedParseError which in turn translates to \"delegate aborted parse\" according to Apple's documentation. Digging into Apple's example code, and some mentions on the interwebs, it seems that this \"error\" is generated whenever the delegate method which does the actual parsing is run in a separate thread (e.g an NSOperation), and that thread is terminated before the parsing completed (see e.g. the last method at the bottom of this sample code page).\n. Ok, I have turned off TLS/HTTPS and captured a failed delete calendar attempt using Wireshark. In what format do you want the data?\n. > [...]\n\nI don't know/care (never really used Wireshark successfully), but probably in a gist/pastebin instead of inline in this conversation.\n[...]\n\nThese are the formats I can save as:\n\n. Attached are a text file, and a tcpdump format binary file. The latter is zipped.\nDeleteCalendarOSX.txt\nDeleteCalendarOSX.zip\n. iCloud enforces HTTPS. Baikal is the only server I use. Can't help with that I'm afraid.\n. I get the following console messages when I create a new calendar:\n\n2016-03-08 23:59:14,294 CalendarAgent[364]: [com.apple.calendar.store.log.caldav.coredav] [[CoreDAVPropFindTask 0x7fa0b7bb9580, conn 0x7fa0b5d5db90, request 0x7fa0b3ebea00] Parser failed to parse with error Error Domain=NSXMLParserErrorDomain Code=512 \"(null)\"]\n2016-03-08 23:59:14,294 CalendarAgent[364]: [com.apple.calendar.store.log.caldav.queue] [Difficulty updating free-busy metadata after adding calendar, in state: AddCalendarUpdateFreeBusySet, error: Error Domain=CoreDAVErrorDomain Code=3 \"(null)\"]\n\nSo the XML parsing error does not seem to be fatal.\nAttached is the output from the calendar app with HTTP logging enabled when deleting a calendar:\nHTTP_Trace_Delete_Calendar.txt\nWhat caught my eye (but may be normal) is the 204 response code with a Connection: close header.\n. > [...]\n\nThe client is doing a PROPFIND on https://5fW25eu65m3H@tempo2.condition-alpha.com/, and that request is probably being responded to with an html page...\nWhat I don't know is, why is it doing that...\n\nUm, to get the list of calendars resulting after the previous delete operation? Just guessing...\n. You are right, the response to the PROPFIND is a \"Baikal is running alright\" HTML page:\n\n\nThere are a lot of broken servers that don't implement collection discovery right, so sometimes the only way to work across most servers is close to brute force.\n\nSo far my impression was that Baikal was one of the least worse? At least trying to?\n\nNo idea why it's doing that now though.\n\nNot sure what you're referring to with \"it\" and \"that\"? Responding with a HTML page, or sending the PROPFIND immediately after delete?\n. I experimented a little more, and replaced index.php with a copy of dav.php. The result is that the server now responds with a 500 server error to the \"anonymous\" PROPFIND. This would seem like the logical way to react to such a request, but makes Apple's calendar app equally unhappy.\nI guess the root cause is that Apple's calendar client issues a PROPFIND on / (i.e. the root directory) which cannot work. I guess it should have done the PROPFIND on something like https://user@baikal.mydomain.tld/.well-known/caldav instead? Apple's contacts and calendar apps are known to have issues with configuring and/or using generic Card-/CalDAV servers for a couple of OS X major releases now. One would imagine this were not too difficult to test and get straight? Maybe a sign of fading support for \"unbranded\" servers?\n\n[...]\nCould you share how you setup iCal? Are you using the automatic, manual or advanced setup, and which urls are you using?\n\nI have redirects in place so that everything ends up in dav.php. Whichever flavour of entering the configuration (automatic, manual, or advanced), results are identical.\nIn the spirit of Postel's robustness rule (sec. 2.10 of RFC 761), would there be any server response to \"tame\" the calendar client issuing an anonymous PROPFIND? If you'd have the XML and some instructions on what this answer must look like, I could fiddle with rewrite rules and try out whether there is a viable workaround to keep the OS X calendar app happy.\n. > I had a similar issue when creating my first ever calendar besides \"Default calendar\". Its name did revert to \"Untitled\". I have however not been able to reproduce this in the calendar app since.\nHave to correct myself; just happened again.\n. That's what I suspected. Thanks for the swift clarification!\n. @renne, thanks for bringing this up, so I didn't have to. ;-)\nI fully second your proposal for adding support for the relevant parts of vCard to be able to store and sync public keys.\nI would however not dare to bet any horses on what the infrastructure for publishing keys will look like. This is an ongoing discussion in the community. Adding a DNS record for each email address is one option, but which has seen critique. The main drawback is that whenever the MUA tries to autocomplete or otherwise validate a recipient address, it would need to make a DNS query. Yes, of course there can be local caches, but it would certainly multiply DNS traffic and server load. Hence other alternatives are being discussed which are based on HKP keyservers. These will have to be located, too of course, which may again involve the DNS system (e.g. NAPTR records). The \"weakness\" of not being able to delete keys from HKP servers (as stated by RFC7929) is by design and not a flaw. The problem is the tools people use to generate their PGP keys. These tools should create useful public keys (i.e. using intermediate keys and designating revocation keys). But the tool problem can not be solved by any choice of lookup mechanism.\nI would thus suggest to only add support for the relevant vCard fields, but refrain from dedicating any resources on key lookup for now.\nJust my personal 2 cents anyway.\n. Hello @tuxtlequino, would you care to post the link to the announcement here please, so we can check it out? Many thanks.. Unfortunately I don't have access to the server logs (simple webhosting plan). I captured the network traffic (Wireshark), but as I'm using TLS/HTTPS, apart from the handshakes for setting up the encrypted connections nothing useful seemed visible.\nHere's what the logfile of my local machine running the calendar client says:\n\n2016-03-08 21:38:10,718 CalendarAgent[364]: [com.apple.calendar.store.log.caldav.coredav] [[CoreDAVPropFindTask 0x7fa0b38c1460, conn 0x7fa0b7d0fb80, request 0x7fa0b534d840] Parser failed to parse with error Error Domain=NSXMLParserErrorDomain Code=512 \"(null)\"]\n2016-03-08 21:38:10,726 CalendarAgent[364]: [com.apple.calendar.store.log.caldav.queue] [Adding [] to failed operations.]\n\nPeeking at Baikal's web admin reveals that the calendar was in fact deleted. It just seems that the client gets stuck in some error state.\nThe XML error code 512 mentioned in the first log translates to NSXMLParserDelegateAbortedParseError which in turn translates to \"delegate aborted parse\" according to Apple's documentation. Digging into Apple's example code, and some mentions on the interwebs, it seems that this \"error\" is generated whenever the delegate method which does the actual parsing is run in a separate thread (e.g an NSOperation), and that thread is terminated before the parsing completed (see e.g. the last method at the bottom of this sample code page).\n. Ok, I have turned off TLS/HTTPS and captured a failed delete calendar attempt using Wireshark. In what format do you want the data?\n. > [...]\n\nI don't know/care (never really used Wireshark successfully), but probably in a gist/pastebin instead of inline in this conversation.\n[...]\n\nThese are the formats I can save as:\n\n. Attached are a text file, and a tcpdump format binary file. The latter is zipped.\nDeleteCalendarOSX.txt\nDeleteCalendarOSX.zip\n. iCloud enforces HTTPS. Baikal is the only server I use. Can't help with that I'm afraid.\n. I get the following console messages when I create a new calendar:\n\n2016-03-08 23:59:14,294 CalendarAgent[364]: [com.apple.calendar.store.log.caldav.coredav] [[CoreDAVPropFindTask 0x7fa0b7bb9580, conn 0x7fa0b5d5db90, request 0x7fa0b3ebea00] Parser failed to parse with error Error Domain=NSXMLParserErrorDomain Code=512 \"(null)\"]\n2016-03-08 23:59:14,294 CalendarAgent[364]: [com.apple.calendar.store.log.caldav.queue] [Difficulty updating free-busy metadata after adding calendar, in state: AddCalendarUpdateFreeBusySet, error: Error Domain=CoreDAVErrorDomain Code=3 \"(null)\"]\n\nSo the XML parsing error does not seem to be fatal.\nAttached is the output from the calendar app with HTTP logging enabled when deleting a calendar:\nHTTP_Trace_Delete_Calendar.txt\nWhat caught my eye (but may be normal) is the 204 response code with a Connection: close header.\n. > [...]\n\nThe client is doing a PROPFIND on https://5fW25eu65m3H@tempo2.condition-alpha.com/, and that request is probably being responded to with an html page...\nWhat I don't know is, why is it doing that...\n\nUm, to get the list of calendars resulting after the previous delete operation? Just guessing...\n. You are right, the response to the PROPFIND is a \"Baikal is running alright\" HTML page:\n\n\nThere are a lot of broken servers that don't implement collection discovery right, so sometimes the only way to work across most servers is close to brute force.\n\nSo far my impression was that Baikal was one of the least worse? At least trying to?\n\nNo idea why it's doing that now though.\n\nNot sure what you're referring to with \"it\" and \"that\"? Responding with a HTML page, or sending the PROPFIND immediately after delete?\n. I experimented a little more, and replaced index.php with a copy of dav.php. The result is that the server now responds with a 500 server error to the \"anonymous\" PROPFIND. This would seem like the logical way to react to such a request, but makes Apple's calendar app equally unhappy.\nI guess the root cause is that Apple's calendar client issues a PROPFIND on / (i.e. the root directory) which cannot work. I guess it should have done the PROPFIND on something like https://user@baikal.mydomain.tld/.well-known/caldav instead? Apple's contacts and calendar apps are known to have issues with configuring and/or using generic Card-/CalDAV servers for a couple of OS X major releases now. One would imagine this were not too difficult to test and get straight? Maybe a sign of fading support for \"unbranded\" servers?\n\n[...]\nCould you share how you setup iCal? Are you using the automatic, manual or advanced setup, and which urls are you using?\n\nI have redirects in place so that everything ends up in dav.php. Whichever flavour of entering the configuration (automatic, manual, or advanced), results are identical.\nIn the spirit of Postel's robustness rule (sec. 2.10 of RFC 761), would there be any server response to \"tame\" the calendar client issuing an anonymous PROPFIND? If you'd have the XML and some instructions on what this answer must look like, I could fiddle with rewrite rules and try out whether there is a viable workaround to keep the OS X calendar app happy.\n. > I had a similar issue when creating my first ever calendar besides \"Default calendar\". Its name did revert to \"Untitled\". I have however not been able to reproduce this in the calendar app since.\nHave to correct myself; just happened again.\n. That's what I suspected. Thanks for the swift clarification!\n. @renne, thanks for bringing this up, so I didn't have to. ;-)\nI fully second your proposal for adding support for the relevant parts of vCard to be able to store and sync public keys.\nI would however not dare to bet any horses on what the infrastructure for publishing keys will look like. This is an ongoing discussion in the community. Adding a DNS record for each email address is one option, but which has seen critique. The main drawback is that whenever the MUA tries to autocomplete or otherwise validate a recipient address, it would need to make a DNS query. Yes, of course there can be local caches, but it would certainly multiply DNS traffic and server load. Hence other alternatives are being discussed which are based on HKP keyservers. These will have to be located, too of course, which may again involve the DNS system (e.g. NAPTR records). The \"weakness\" of not being able to delete keys from HKP servers (as stated by RFC7929) is by design and not a flaw. The problem is the tools people use to generate their PGP keys. These tools should create useful public keys (i.e. using intermediate keys and designating revocation keys). But the tool problem can not be solved by any choice of lookup mechanism.\nI would thus suggest to only add support for the relevant vCard fields, but refrain from dedicating any resources on key lookup for now.\nJust my personal 2 cents anyway.\n. Hello @tuxtlequino, would you care to post the link to the announcement here please, so we can check it out? Many thanks.. ",
    "twisters77": "OK... is it possible (out of the box) to display the calendar entry on a website?\n. thanks for the information. I'll look at it\n. OK... is it possible (out of the box) to display the calendar entry on a website?\n. thanks for the information. I'll look at it\n. ",
    "Jonny007-MKD": "@perfect7gentleman that's what I did after opening this issue :P\n@evert All I got was a blank page. As I've got a little experience I figured this could be a PHP error, so I looked it up in the log file. As the error says the exception wasn't caught.\nAfter I entered the correct settings in config.system.php, the database config page loaded as expected\n. Mhm. Set up a new instance with a running MySQL server? ;)\n. Oh, my fault: The form is really editing the first calendar, even if you click \"Add calendar\" first. So clearing isn't enough, the POST action (or whatever) has to be changed, too.\nAs the current and the target URL are the same, the #form anchor is preventing a reload of the page. Removing it would work, too.\n. @perfect7gentleman that's what I did after opening this issue :P\n@evert All I got was a blank page. As I've got a little experience I figured this could be a PHP error, so I looked it up in the log file. As the error says the exception wasn't caught.\nAfter I entered the correct settings in config.system.php, the database config page loaded as expected\n. Mhm. Set up a new instance with a running MySQL server? ;)\n. Oh, my fault: The form is really editing the first calendar, even if you click \"Add calendar\" first. So clearing isn't enough, the POST action (or whatever) has to be changed, too.\nAs the current and the target URL are the same, the #form anchor is preventing a reload of the page. Removing it would work, too.\n. ",
    "ohcibi": "The error happens because the installations script does not ask for mysql-credentials nor does it tell, to specify them in the generated config file. No error message, nothing.. this is actually pretty lame\n. If you tell me where to add this, I'll PR.\n. @untitaker I did that several times actually. With 0.2.7 it is just syncing itself after a few minutes or when It does a change by itself. But none of this happening with 0.3.4. It actually does send some PROPFIND and OPTIONS requests right after I change something or add a contact but that strangely does not pull changes made by other clients nor is it actually making a PUT request to publish its own changes.\n. The error happens because the installations script does not ask for mysql-credentials nor does it tell, to specify them in the generated config file. No error message, nothing.. this is actually pretty lame\n. If you tell me where to add this, I'll PR.\n. @untitaker I did that several times actually. With 0.2.7 it is just syncing itself after a few minutes or when It does a change by itself. But none of this happening with 0.3.4. It actually does send some PROPFIND and OPTIONS requests right after I change something or add a contact but that strangely does not pull changes made by other clients nor is it actually making a PUT request to publish its own changes.\n. ",
    "wisp3rwind": "Oops, hadn't seen that @fabianwolf opened his request in the meantime... #485\n. I haven't tested it, but from the patch, I'd say it does. I'll close this PR after verifying.\n. Tested against master, fixed\n. Oops, hadn't seen that @fabianwolf opened his request in the meantime... #485\n. I haven't tested it, but from the patch, I'd say it does. I'll close this PR after verifying.\n. Tested against master, fixed\n. ",
    "1977er": "k thx.\n. Had the same generic error message. I added some naive debugging lines to the code to actually see, what is going on. In my case, I just forgot to install the php-mysql drivers.\nI added\n$foo = print_r($e); echo \"<h1>$foo</h1>\";\nin front of the \"die\" in https://github.com/fruux/Baikal/blob/master/Core/Frameworks/Flake/Framework.php#L296\nYou may have to restart your webserver after code changes.. Same here.\nIm on a freshly installed machine with Apache 2.4 and PHP 7.0 (Debian9). Baikal is on 0.4.6. Before my migration from an old machine (with PHP5) my installation ie. my configs worked well.\nIs this a PHP7 issue? Did I forgot to install additional php packages?\nThanks in advance.. Okay, I digged deeper into it. Turns out I missed a dependency:\nAfter installing \"php-sabre-dav\" and restarting my webserver, everything worked smoothly again.. k thx.\n. Had the same generic error message. I added some naive debugging lines to the code to actually see, what is going on. In my case, I just forgot to install the php-mysql drivers.\nI added\n$foo = print_r($e); echo \"<h1>$foo</h1>\";\nin front of the \"die\" in https://github.com/fruux/Baikal/blob/master/Core/Frameworks/Flake/Framework.php#L296\nYou may have to restart your webserver after code changes.. Same here.\nIm on a freshly installed machine with Apache 2.4 and PHP 7.0 (Debian9). Baikal is on 0.4.6. Before my migration from an old machine (with PHP5) my installation ie. my configs worked well.\nIs this a PHP7 issue? Did I forgot to install additional php packages?\nThanks in advance.. Okay, I digged deeper into it. Turns out I missed a dependency:\nAfter installing \"php-sabre-dav\" and restarting my webserver, everything worked smoothly again.. ",
    "xsmile": "I am using MySQL.\n. Sorry, I should have written a more detailed report and mentioned it earlier. The upgrade runs fine with your newest patch, thank you.\n. I am using MySQL.\n. Sorry, I should have written a more detailed report and mentioned it earlier. The upgrade runs fine with your newest patch, thank you.\n. ",
    "kitesurfeur": "Hi,\nin 0.2.7 version it was possible to change passwords with md5($username.':BaikalDAV:'.$password). I don't find the new method to do that. Please where i can find this information ?\n. Hi,\nin 0.2.7 version it was possible to change passwords with md5($username.':BaikalDAV:'.$password). I don't find the new method to do that. Please where i can find this information ?\n. ",
    "OliverZiegler": "Are there any concrete plans on this? Like a roadmap or so? Would like to contribute in this restructuring if possible.\n. Well, never used Silex before. Will check documentation and so.\nIf you could point out some steps I will try if I find time...\n. @dennisdegreef I will need some time to dive in to Silex and so on...\nSo just start over and I will join when I can ;)\n. Are there any concrete plans on this? Like a roadmap or so? Would like to contribute in this restructuring if possible.\n. Well, never used Silex before. Will check documentation and so.\nIf you could point out some steps I will try if I find time...\n. @dennisdegreef I will need some time to dive in to Silex and so on...\nSo just start over and I will join when I can ;)\n. ",
    "charlycoste": "I started the job... https://github.com/charlycoste/Baikal/commits/silex\nFeel free to comment my commits. ;)\n. Thank's @mmoll. I don't know why I skipped the link ^^\n. I started the job... https://github.com/charlycoste/Baikal/commits/silex\nFeel free to comment my commits. ;)\n. Thank's @mmoll. I don't know why I skipped the link ^^\n. ",
    "mehlkopf": "Yes, I tried a second time and got the same error message ... Running version is 0.2.7, I'm quite sure ;)\n. No, I'm sorry - I've only used this version until today and never upgraded before \u2026\n. This is the result:\nCREATE TABLE addressbooks (\n    id integer primary key asc, \n    principaluri text, \n    displayname text, \n    uri text,\n    description text,\n    ctag integer\n);\nCREATE TABLE cards ( \n    id integer primary key asc, \n    addressbookid integer, \n    carddata blob, \n    uri text, \n    lastmodified integer\n);\nCREATE TABLE calendarobjects ( \n    id integer primary key asc, \n    calendardata blob, \n    uri text, \n    calendarid integer, \n    lastmodified integer\n, etag text, size integer, componenttype text, firstoccurence integer, lastoccurence integer);\nCREATE TABLE calendars (\n    id integer primary key asc, \n    principaluri text, \n    displayname text, \n    uri text,\n    ctag integer, \n    description text,\n    calendarorder integer,\n    calendarcolor text,\n    timezone text,\n    components text\n, transparent bool);\nCREATE TABLE locks ( \n    id integer primary key asc, \n    owner text, \n    timeout integer, \n    created integer, \n    token text, \n    scope integer, \n    depth integer, \n    uri text\n);\nCREATE TABLE groupmembers (\n    id INTEGER PRIMARY KEY ASC,\n    principal_id INTEGER,\n    member_id INTEGER,\n    UNIQUE(principal_id, member_id)\n);\nCREATE TABLE users (\n    id integer primary key asc, \n    username TEXT,\n    digesta1 TEXT,\n    UNIQUE(username)\n);\nCREATE TABLE principals (\n    id INTEGER PRIMARY KEY ASC,\n    uri TEXT,\n    email TEXT,\n    displayname TEXT,\n    vcardurl TEXT,\n    UNIQUE(uri)\n);\n. Thank you very much - but I tried it and still get the same message when reloading the admin page ...\n. So, just to clarify: I extract the zip, name it the way my Baikal server is configured, delete the Specific folder inside and copy the old one in the new directory. Then I go to my server address which immediately redirects to /html/admin which immediately redirects to /html/admin/install - the page takes some minutes to load, then it appears completely blank (tried it with several browsers). After that, nothing happens (I've waited for half an hour, no related processes show any CPU activity) - when I try to reload the page, I get the well-known synctoken error ...\n. I'd say not really big, it's 2 users, 9 calendars, 3000 events, 2 address books, 400 contacts ... After the page is shown as loaded in the browser (although blank), there is no more PHP/web server process activity on my server, so it's somehow completely stuck as it seems.\n. Thank you so much for your help - the solution really was to increase the execution limit (and it didn't take much longer than the previous limit of 30 seconds ^^). Thanks for the great support!\n. Yes, I tried a second time and got the same error message ... Running version is 0.2.7, I'm quite sure ;)\n. No, I'm sorry - I've only used this version until today and never upgraded before \u2026\n. This is the result:\nCREATE TABLE addressbooks (\n    id integer primary key asc, \n    principaluri text, \n    displayname text, \n    uri text,\n    description text,\n    ctag integer\n);\nCREATE TABLE cards ( \n    id integer primary key asc, \n    addressbookid integer, \n    carddata blob, \n    uri text, \n    lastmodified integer\n);\nCREATE TABLE calendarobjects ( \n    id integer primary key asc, \n    calendardata blob, \n    uri text, \n    calendarid integer, \n    lastmodified integer\n, etag text, size integer, componenttype text, firstoccurence integer, lastoccurence integer);\nCREATE TABLE calendars (\n    id integer primary key asc, \n    principaluri text, \n    displayname text, \n    uri text,\n    ctag integer, \n    description text,\n    calendarorder integer,\n    calendarcolor text,\n    timezone text,\n    components text\n, transparent bool);\nCREATE TABLE locks ( \n    id integer primary key asc, \n    owner text, \n    timeout integer, \n    created integer, \n    token text, \n    scope integer, \n    depth integer, \n    uri text\n);\nCREATE TABLE groupmembers (\n    id INTEGER PRIMARY KEY ASC,\n    principal_id INTEGER,\n    member_id INTEGER,\n    UNIQUE(principal_id, member_id)\n);\nCREATE TABLE users (\n    id integer primary key asc, \n    username TEXT,\n    digesta1 TEXT,\n    UNIQUE(username)\n);\nCREATE TABLE principals (\n    id INTEGER PRIMARY KEY ASC,\n    uri TEXT,\n    email TEXT,\n    displayname TEXT,\n    vcardurl TEXT,\n    UNIQUE(uri)\n);\n. Thank you very much - but I tried it and still get the same message when reloading the admin page ...\n. So, just to clarify: I extract the zip, name it the way my Baikal server is configured, delete the Specific folder inside and copy the old one in the new directory. Then I go to my server address which immediately redirects to /html/admin which immediately redirects to /html/admin/install - the page takes some minutes to load, then it appears completely blank (tried it with several browsers). After that, nothing happens (I've waited for half an hour, no related processes show any CPU activity) - when I try to reload the page, I get the well-known synctoken error ...\n. I'd say not really big, it's 2 users, 9 calendars, 3000 events, 2 address books, 400 contacts ... After the page is shown as loaded in the browser (although blank), there is no more PHP/web server process activity on my server, so it's somehow completely stuck as it seems.\n. Thank you so much for your help - the solution really was to increase the execution limit (and it didn't take much longer than the previous limit of 30 seconds ^^). Thanks for the great support!\n. ",
    "glasen": "Hi,\ni'm currently stuck at the same problem with the same error message. I copied the db-file from my old 0.2.7-installation. The admin-Interface shows my old calendar and adressbook but accessing through \"dav.php\" fails with the \"synctoken\"-error.\n. How did you make the upgrade? You have to make the following steps after installing/unzipping baikal:\n1. Copy your old database-file (When using sqlite) to the \"Specific/db\"-folder\n2. Don't open the admin-interface. Instead just open the normal URL of your Baikal-installation (e.g. \"http://baikal-server.com\" instead of \"http://baikal-server.com/admin\").\n3. Baikal will show a \"Upgrade\"-screen and will apply the needed changes to the database.\n4. Now you can use the admin-interface.\n. Hi,\ni'm currently stuck at the same problem with the same error message. I copied the db-file from my old 0.2.7-installation. The admin-Interface shows my old calendar and adressbook but accessing through \"dav.php\" fails with the \"synctoken\"-error.\n. How did you make the upgrade? You have to make the following steps after installing/unzipping baikal:\n1. Copy your old database-file (When using sqlite) to the \"Specific/db\"-folder\n2. Don't open the admin-interface. Instead just open the normal URL of your Baikal-installation (e.g. \"http://baikal-server.com\" instead of \"http://baikal-server.com/admin\").\n3. Baikal will show a \"Upgrade\"-screen and will apply the needed changes to the database.\n4. Now you can use the admin-interface.\n. ",
    "Bibo-Joshi": "Heyho!\n\nthe solution really was to increase the execution limit\n\nFor all my fellow noobs: Here is how to do it.. Heyho!\n\nthe solution really was to increase the execution limit\n\nFor all my fellow noobs: Here is how to do it.. ",
    "gllmhyt": "Does it mean that anybody can access the install tool and mess with the SQLite file path?\n. Upgrading now: thank you for the quick fix!\nEdit: Upgrade done, it's working well. Thank you again.\n. Does it mean that anybody can access the install tool and mess with the SQLite file path?\n. Upgrading now: thank you for the quick fix!\nEdit: Upgrade done, it's working well. Thank you again.\n. ",
    "beli3ver": "do you save the config in the database or file ?\n. do you save the config in the database or file ?\n. ",
    "RobinWoodo": "Hi @evert ,\nthanks for your answer. I found the issue. After upgrading to 0.4.X the path to the admin directory has changed.\n0.3.X: /baikal//admin/...\n0.4.X: /baikal/html/admin/...\nSo I was using the old install.php with the 'assertUnlocked' included. In my opinion it should be mentioned in the upgrade guide (http://sabre.io/baikal/upgrade/), that the admin directory has changed and possibly delete the old directory.\nThanks for your help!\n. Hi @evert ,\nthanks for your answer. I found the issue. After upgrading to 0.4.X the path to the admin directory has changed.\n0.3.X: /baikal//admin/...\n0.4.X: /baikal/html/admin/...\nSo I was using the old install.php with the 'assertUnlocked' included. In my opinion it should be mentioned in the upgrade guide (http://sabre.io/baikal/upgrade/), that the admin directory has changed and possibly delete the old directory.\nThanks for your help!\n. ",
    "the-infinity": "Yep, after digging a little deeper into the topic and reading the digest RFCs I decided to develop an alternative auth method which does not provide digest auth, but HMAC SHA512 encrypted passwords in database. Of course this will just make sense when you use TLS encryption.\nYou will get a pull request in a few days. :)\n. Yep, after digging a little deeper into the topic and reading the digest RFCs I decided to develop an alternative auth method which does not provide digest auth, but HMAC SHA512 encrypted passwords in database. Of course this will just make sense when you use TLS encryption.\nYou will get a pull request in a few days. :)\n. ",
    "citrin": "If digest still need, just add configuration option: secure password hash (bcrypt or scrypt) without digest support or hash for digest support. But I doubt that DAV without https is popular in 2016.\nCurrently security of all installations is compromised because of small number of digest users.\n. Or better just make chmod 0600 for new sqlite file.\n. I mean currently (with mode 0644) file is readable to any user on given host, but should be readable only to owner (0600).\n. I think listed attack vectors are worth considering. I can add one more: support stuff with shell access to server should be able read logs but not to copy/dump database.\nBackup often performed with same credentials as php or as root. I'm not sure, that backuping by unpriveliged user different from php user is very common.\nAlso in current situation most users unaware that any user on given host can copy database. Even if this will be written in docs not all users read docs from begin to end and even if they do, it is easy to forget to change mode.\nIf user will try to backup file and will get perrmission denied error and can change mode to 644 or 640. It is not something easy to miss or forget.\nIn both cases one shell command is needed. But chmod 600 probably never will be performed (if all works, why bother and when DB will be leaked it will be too late). And chmod 644 should no be a problem for users making backups by different unprivileged users.\nAnyway you can close this bug, because this problem cab be fixed by single chmod command.\nOnly behavior I strongly disagree - enforcing preferred by developer permissions (e. g. 600) continuously as it is done in some software.\n. If digest still need, just add configuration option: secure password hash (bcrypt or scrypt) without digest support or hash for digest support. But I doubt that DAV without https is popular in 2016.\nCurrently security of all installations is compromised because of small number of digest users.\n. Or better just make chmod 0600 for new sqlite file.\n. I mean currently (with mode 0644) file is readable to any user on given host, but should be readable only to owner (0600).\n. I think listed attack vectors are worth considering. I can add one more: support stuff with shell access to server should be able read logs but not to copy/dump database.\nBackup often performed with same credentials as php or as root. I'm not sure, that backuping by unpriveliged user different from php user is very common.\nAlso in current situation most users unaware that any user on given host can copy database. Even if this will be written in docs not all users read docs from begin to end and even if they do, it is easy to forget to change mode.\nIf user will try to backup file and will get perrmission denied error and can change mode to 644 or 640. It is not something easy to miss or forget.\nIn both cases one shell command is needed. But chmod 600 probably never will be performed (if all works, why bother and when DB will be leaked it will be too late). And chmod 644 should no be a problem for users making backups by different unprivileged users.\nAnyway you can close this bug, because this problem cab be fixed by single chmod command.\nOnly behavior I strongly disagree - enforcing preferred by developer permissions (e. g. 600) continuously as it is done in some software.\n. ",
    "dms4": "Hi evert,\nthanks for your reply.\nThe phpinfo() on QNAP shows libxml v2.6.30.\nThat\u00b4s why I also contacted the QNAP support, because I really can\u00b4t believe this happening on latest firmware...\nI will give feedback as soon as I have a solution for QNAP.\nProbably this could last a little bit longer ;)\nOne idea could be, that you check the libxml at Baikal setup for minimum needed version.\nThis would be helpful for people probably having similar outdated \"features\" on their systems like me.\nThanks\ndms4\n. @adrianschlatter \nI can confirm, it is due to outdated libxml.\nMy response from QNAP support was negative - i should upgrade the firmware - what a joke as i\u00b4m always on latest FW...\nThe problem is, that the newer libXML2 version 2.9.2 is used for the internal QNAP HTTP Server only but NOT for the \"custom apache\" - the \"Qthttpd\" service we are using for baikal - our beloved old 2.6.30 ;-).\nSo i helped out myself with a workaround from some QNAP threads. e.g. here.\nI\u00b4m now able to use latest baikal release 0.4.6 on QNAP.\nAND most important: how to survive the libxml workaround on restarts and firmware upgrades.\nThis is how it works for me (dirty, but working):\nreplace the libxml2 v2.6.30 with v2.9.2 (the version which is also on the QNAP)\nFirst try it the manual way to understand, what i\u00b4m doing\nlogin to your QNAP via SSH e.g. putty as admin\ncd /usr/lib\nll *xml2*\nOutput on original firmware:\nlrwxrwxrwx    1 admin    administ        12 Mar 26 01:27 libxml2.so -> libxml2.so.2\nlrwxrwxrwx    1 admin    administ        17 Mar 26 01:27 libxml2.so.2 -> libxml2.so.2.6.30\n-rw-r--r--    1 admin    administ      1.1M Mar 10 19:41 libxml2.so.2.6.30\nJust to have a backup:\ncp libxml2.so.2.6.30 /usr/local/medialibrary/lib\nReplace libxml and reload Apache:\ncd /usr/lib\nmv libxml2.so.2.6.30 org.libxml2.so.2.6.30.ori\nln -sf /usr/local/medialibrary/lib/libxml2.so libxml2.so.2.6.30 >>> this is the wanted v2.9.2\n/etc/init.d/Qthttpd.sh restart\nNow check, if it was successful:\n/mnt/ext/opt/apache/bin/php -i|grep libXML\nThis should be the correct output:\nlibXML support     active\nlibXML Compiled Version    2.6.30\nlibXML Loaded Version  20902     >>> correct v2.9.2 loaded!!!\nlibXML streams     enabled\nAutomize the steps to survice restarts and firmware upgrades\nusing autorun.sh (QPKG-based method) from here\nATTENTION: there is a newer autorun.sh variant\nEdit your qpkg.conf file:\nnano/etc/config/qpkg.conf\nAdd the the following lines at the end:\n[autorun]\nName = autorun\nVersion = 0.1\nAuthor = neomilium\nDate = 2013-05-06\nShell = /share/MD0_DATA/.qpkg/autorun/autorun.sh >>> check path\nInstall_Path = /share/MD0_DATA/.qpkg/autorun >>> check path\nEnable = TRUE\nPlease check the correct path depending on your QNAP:\nNAS with the new Storage Manager substitute /share/MD0_DATA/ with /share/CACHEDEV1_DATA/\nEdit / Create the following file:\nnano /share/MD0_DATA/.qpkg/autorun/autorun.sh\nThe file should have the following lines:\n#!/bin/sh\n# php libxml2 2.9.2 Workaround\nQPKG_NAME=\"autorun\"\nln -sf /mnt/ext/opt/medialibrary/lib/libxml2.so /usr/lib/libxml2.so.2.6.30\n/etc/init.d/Qthttpd.sh restart\nAs stated in the link above, there is a more complex script for options on start / stop / restart\nHope this helps.\ndms4\n. @DevZeus \nI did not use the qnap package from your link as i installed it manually.\nTo your question:\nI just created a test account on my qnap baikal for testing it on a friend\u00b4s iPhone with IOS 9.x: it works - no problems on syncing the data to different devices.\nSo you have to ensure that the QNAP Qthttpd service uses libxml 2.9.2.. I'm glad it helped you out.\n@evert i\u00b4ll close the issue, when i can confirm, there is the latest libxml in the latest firmware.. Hi evert,\nthanks for your reply.\nThe phpinfo() on QNAP shows libxml v2.6.30.\nThat\u00b4s why I also contacted the QNAP support, because I really can\u00b4t believe this happening on latest firmware...\nI will give feedback as soon as I have a solution for QNAP.\nProbably this could last a little bit longer ;)\nOne idea could be, that you check the libxml at Baikal setup for minimum needed version.\nThis would be helpful for people probably having similar outdated \"features\" on their systems like me.\nThanks\ndms4\n. @adrianschlatter \nI can confirm, it is due to outdated libxml.\nMy response from QNAP support was negative - i should upgrade the firmware - what a joke as i\u00b4m always on latest FW...\nThe problem is, that the newer libXML2 version 2.9.2 is used for the internal QNAP HTTP Server only but NOT for the \"custom apache\" - the \"Qthttpd\" service we are using for baikal - our beloved old 2.6.30 ;-).\nSo i helped out myself with a workaround from some QNAP threads. e.g. here.\nI\u00b4m now able to use latest baikal release 0.4.6 on QNAP.\nAND most important: how to survive the libxml workaround on restarts and firmware upgrades.\nThis is how it works for me (dirty, but working):\nreplace the libxml2 v2.6.30 with v2.9.2 (the version which is also on the QNAP)\nFirst try it the manual way to understand, what i\u00b4m doing\nlogin to your QNAP via SSH e.g. putty as admin\ncd /usr/lib\nll *xml2*\nOutput on original firmware:\nlrwxrwxrwx    1 admin    administ        12 Mar 26 01:27 libxml2.so -> libxml2.so.2\nlrwxrwxrwx    1 admin    administ        17 Mar 26 01:27 libxml2.so.2 -> libxml2.so.2.6.30\n-rw-r--r--    1 admin    administ      1.1M Mar 10 19:41 libxml2.so.2.6.30\nJust to have a backup:\ncp libxml2.so.2.6.30 /usr/local/medialibrary/lib\nReplace libxml and reload Apache:\ncd /usr/lib\nmv libxml2.so.2.6.30 org.libxml2.so.2.6.30.ori\nln -sf /usr/local/medialibrary/lib/libxml2.so libxml2.so.2.6.30 >>> this is the wanted v2.9.2\n/etc/init.d/Qthttpd.sh restart\nNow check, if it was successful:\n/mnt/ext/opt/apache/bin/php -i|grep libXML\nThis should be the correct output:\nlibXML support     active\nlibXML Compiled Version    2.6.30\nlibXML Loaded Version  20902     >>> correct v2.9.2 loaded!!!\nlibXML streams     enabled\nAutomize the steps to survice restarts and firmware upgrades\nusing autorun.sh (QPKG-based method) from here\nATTENTION: there is a newer autorun.sh variant\nEdit your qpkg.conf file:\nnano/etc/config/qpkg.conf\nAdd the the following lines at the end:\n[autorun]\nName = autorun\nVersion = 0.1\nAuthor = neomilium\nDate = 2013-05-06\nShell = /share/MD0_DATA/.qpkg/autorun/autorun.sh >>> check path\nInstall_Path = /share/MD0_DATA/.qpkg/autorun >>> check path\nEnable = TRUE\nPlease check the correct path depending on your QNAP:\nNAS with the new Storage Manager substitute /share/MD0_DATA/ with /share/CACHEDEV1_DATA/\nEdit / Create the following file:\nnano /share/MD0_DATA/.qpkg/autorun/autorun.sh\nThe file should have the following lines:\n#!/bin/sh\n# php libxml2 2.9.2 Workaround\nQPKG_NAME=\"autorun\"\nln -sf /mnt/ext/opt/medialibrary/lib/libxml2.so /usr/lib/libxml2.so.2.6.30\n/etc/init.d/Qthttpd.sh restart\nAs stated in the link above, there is a more complex script for options on start / stop / restart\nHope this helps.\ndms4\n. @DevZeus \nI did not use the qnap package from your link as i installed it manually.\nTo your question:\nI just created a test account on my qnap baikal for testing it on a friend\u00b4s iPhone with IOS 9.x: it works - no problems on syncing the data to different devices.\nSo you have to ensure that the QNAP Qthttpd service uses libxml 2.9.2.. I'm glad it helped you out.\n@evert i\u00b4ll close the issue, when i can confirm, there is the latest libxml in the latest firmware.. ",
    "adrianschlatter": "Same problem here using QNAP NAS with FW version 4.2.2. Can someone confirm that the problem is really due to the outdated libxml2? What is the minimum version required by Baikal?\n. Thanks @dms4. I'd like to avoid that maintenance nightmare, however. In a year or so I may not remember what I did there. For the moment, I filed one more ticket at QNAP. \nIn a couple of weeks I'll probably come back to your solution (but with some luck I won't).\n. Same problem here using QNAP NAS with FW version 4.2.2. Can someone confirm that the problem is really due to the outdated libxml2? What is the minimum version required by Baikal?\n. Thanks @dms4. I'd like to avoid that maintenance nightmare, however. In a year or so I may not remember what I did there. For the moment, I filed one more ticket at QNAP. \nIn a couple of weeks I'll probably come back to your solution (but with some luck I won't).\n. ",
    "DevZeus": "Hi all,\nDid anyone actually managed to get baikal 0.4.6 sync with ios 9 running on qnap 4.2.2?\nIm using baikal installation from the following link.\nhttps://forum.qnap.com/viewtopic.php?f=320&t=109451\nIs there anything we can do to sort this out?\nRegards. Great news. The next firmware 4.3 has got the latest libxml.\nWith luck baikal issue should be fixed after the update.\n. Thank you for the support sirnone.\nIm going to close this issue and continue the discussion on #515 . Hi all,\nDid anyone actually managed to get baikal 0.4.6 sync with ios 9 running on qnap 4.2.2?\nIm using baikal installation from the following link.\nhttps://forum.qnap.com/viewtopic.php?f=320&t=109451\nIs there anything we can do to sort this out?\nRegards. Great news. The next firmware 4.3 has got the latest libxml.\nWith luck baikal issue should be fixed after the update.\n. Thank you for the support sirnone.\nIm going to close this issue and continue the discussion on #515 . ",
    "geonanorch": "@dms4, thank you so much! I was also trying to get 0.4.6 to work with QNAP 4.2 and faced the DAV: not a valid URI. Replacing libxml exactly as you described solved it.. @dms4, thank you so much! I was also trying to get 0.4.6 to work with QNAP 4.2 and faced the DAV: not a valid URI. Replacing libxml exactly as you described solved it.. ",
    "jrozelle": "did you mean accessing directly to mydomain.tld/dav.php/?sabreAction=asset&assetName=sabredav.png ?\n. 404 ;-)\n. Nginx log ?\nIf yes : \n10.14.4.254 - - [25/Mar/2016:23:29:26 +0100] \"GET /dav.php/?sabreAction=asset&assetName=sabredav.png HTTP/2.0\" 404 629 \"-\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_4) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/49.0.2623.108 Safari/537.36\"\n. ```\n\n404 Not Found\n\n404 Not Found\nnginx\n\n\n``\n.dav.php/=> 404dav.php/?sabreAction=> 404dav.php` => working (without css nor png)\n. Problem solved ! :-)\nbad syntax in nginx host (in the template founded here) : \nfastcgi_split_path_info ^(.+\\.php)(/.+)$;\nworks fine with :\nfastcgi_split_path_info ^(.+\\.php)(.*)$;\nSo, good template for DSM 6 and nginx : \n```\nserver {\n        listen 443 ssl;\n        server_name baikal.domain.tld;\n    ssl on;\n    ssl_protocols TLSv1 TLSv1.1 TLSv1.2;\n    ssl_prefer_server_ciphers on;\n    ssl_session_cache shared:SSL:10m;\n    ssl_session_timeout 5m;\n    # change the following two according to your configuration\n    ssl_certificate /usr/syno/etc/certificate/system/default/fullchain.pem;\n    ssl_certificate_key /usr/syno/etc/certificate/system/default/privkey.pem;\n    ssl_session_tickets on;\n    server_tokens off;\n\n    ## extra secure settings, enable if you know what you're doing\n    ## use 'openssl dhparam -out dhparam.pem 4096' for the next line\n    #ssl_dhparam /etc/nginx/ssl/dhparams.pem;\n    #ssl_ciphers 'EECDH+AESGCM:EDH+AESGCM:AES256+EECDH:AES256+EDH';\n    #ssl_ecdh_curve secp384r1;\n    #ssl_stapling on;\n    #ssl_stapling_verify on;\n    #ssl_trusted_certificate /etc/letsencrypt/live/baikal.domain.tld/chain.pem;\n    #resolver 8.8.8.8 8.8.4.4 valid=300s;\n    #resolver_timeout 5s;\n    #add_header Strict-Transport-Security \"max-age=63072000; includeSubdomains; preload\";\n\n    add_header X-Frame-Options SAMEORIGIN;\n    add_header X-Content-Type-Options nosniff;\n    add_header X-XSS-Protection \"1; mode=block\";\n    add_header X-Robots-Tag none;\n\n    # change the following two according to your configuration\n    access_log /var/log/nginx/baikal.domain.tld_access.log;\n    error_log /var/log/nginx/baikal.domain.tld_error.log;\n\n    # change the following according to your configuration\n    root /volume1/web/baikal/html;\n\n    index index.php;\n    proxy_set_header X-Forwarded-For $remote_addr;\n    charset utf-8;\n\n    location / {\n            try_files $uri $uri/ =404;\n    }\n\n    location ~ ^(.+\\.php)(.*) {\n            try_files $fastcgi_script_name =404;\n            fastcgi_split_path_info ^(.+\\.php)(.*)$;\n            fastcgi_pass unix:/var/run/php-fpm/php56-fpm.sock;\n            fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;\n            fastcgi_param HTTPS on;\n            fastcgi_index index.php;\n            include fastcgi_params;\n    }\n\n    location ~ /(\\.ht|Core|Specific) {\n            deny all;\n            return 404;\n    }\n\n    rewrite ^/.well-known/caldav /cal.php redirect;\n    rewrite ^/.well-known/carddav /card.php redirect;\n\n}\n. I'm not good enough in sysadmin (as in English :D ) for telling that, but in my own case, on Synology DSM 6, it has to be corrected.\n. did you mean accessing directly to mydomain.tld/dav.php/?sabreAction=asset&assetName=sabredav.png ?\n. 404 ;-)\n. Nginx log ?\nIf yes : \n`10.14.4.254 - - [25/Mar/2016:23:29:26 +0100] \"GET /dav.php/?sabreAction=asset&assetName=sabredav.png HTTP/2.0\" 404 629 \"-\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_4) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/49.0.2623.108 Safari/537.36\"`\n.\n\n404 Not Found\n\n404 Not Found\nnginx\n\n\n``\n.dav.php/=> 404dav.php/?sabreAction=> 404dav.php` => working (without css nor png)\n. Problem solved ! :-)\nbad syntax in nginx host (in the template founded here) : \nfastcgi_split_path_info ^(.+\\.php)(/.+)$;\nworks fine with :\nfastcgi_split_path_info ^(.+\\.php)(.*)$;\nSo, good template for DSM 6 and nginx : \n```\nserver {\n        listen 443 ssl;\n        server_name baikal.domain.tld;\n    ssl on;\n    ssl_protocols TLSv1 TLSv1.1 TLSv1.2;\n    ssl_prefer_server_ciphers on;\n    ssl_session_cache shared:SSL:10m;\n    ssl_session_timeout 5m;\n    # change the following two according to your configuration\n    ssl_certificate /usr/syno/etc/certificate/system/default/fullchain.pem;\n    ssl_certificate_key /usr/syno/etc/certificate/system/default/privkey.pem;\n    ssl_session_tickets on;\n    server_tokens off;\n\n    ## extra secure settings, enable if you know what you're doing\n    ## use 'openssl dhparam -out dhparam.pem 4096' for the next line\n    #ssl_dhparam /etc/nginx/ssl/dhparams.pem;\n    #ssl_ciphers 'EECDH+AESGCM:EDH+AESGCM:AES256+EECDH:AES256+EDH';\n    #ssl_ecdh_curve secp384r1;\n    #ssl_stapling on;\n    #ssl_stapling_verify on;\n    #ssl_trusted_certificate /etc/letsencrypt/live/baikal.domain.tld/chain.pem;\n    #resolver 8.8.8.8 8.8.4.4 valid=300s;\n    #resolver_timeout 5s;\n    #add_header Strict-Transport-Security \"max-age=63072000; includeSubdomains; preload\";\n\n    add_header X-Frame-Options SAMEORIGIN;\n    add_header X-Content-Type-Options nosniff;\n    add_header X-XSS-Protection \"1; mode=block\";\n    add_header X-Robots-Tag none;\n\n    # change the following two according to your configuration\n    access_log /var/log/nginx/baikal.domain.tld_access.log;\n    error_log /var/log/nginx/baikal.domain.tld_error.log;\n\n    # change the following according to your configuration\n    root /volume1/web/baikal/html;\n\n    index index.php;\n    proxy_set_header X-Forwarded-For $remote_addr;\n    charset utf-8;\n\n    location / {\n            try_files $uri $uri/ =404;\n    }\n\n    location ~ ^(.+\\.php)(.*) {\n            try_files $fastcgi_script_name =404;\n            fastcgi_split_path_info ^(.+\\.php)(.*)$;\n            fastcgi_pass unix:/var/run/php-fpm/php56-fpm.sock;\n            fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;\n            fastcgi_param HTTPS on;\n            fastcgi_index index.php;\n            include fastcgi_params;\n    }\n\n    location ~ /(\\.ht|Core|Specific) {\n            deny all;\n            return 404;\n    }\n\n    rewrite ^/.well-known/caldav /cal.php redirect;\n    rewrite ^/.well-known/carddav /card.php redirect;\n\n}\n```\n. I'm not good enough in sysadmin (as in English :D ) for telling that, but in my own case, on Synology DSM 6, it has to be corrected.\n. ",
    "sylarevan": "I just remembered exactly the tests I performed today:\n1/ After a fresh installation last night, I tried this morning to import one of my owncloud calendar by exporting it from iCal (OSX), and then importing it again from iCal on my new baikal account. Import did not really worked, at least half of my data were missing (ICS file is available here). But no errors were reported by iCal. This is the moment where the messages about \"PHP Fatal error\" appear first. They do not appear now.\n2/ Since then, even after deleting this incomplete calendar from the web interface and after recreating a new one, no sync happens between devices. \nAdding sthg from my mac leads to:\n\nX.X.X.X - - [05/Apr/2016:20:17:25 +0000] \"PUT /dav.php/calendars/sylar/test/38103C89-D137-413D-91B9-0D6364CF58B6.ics HTTP/1.1\" 401 367 \"-\" \"Mac+OS+X/10.11.4 (15E65) CalendarAgent/361.2\" \"192.168.1.1\"\nX.X.X.X - - [05/Apr/2016:20:17:26 +0000] \"PUT /dav.php/calendars/sylar/test/38103C89-D137-413D-91B9-0D6364CF58B6.ics HTTP/1.1\" 201 0 \"-\" \"Mac+OS+X/10.11.4 (15E65) CalendarAgent/361.2\" \"192.168.1.1\"\n\nA refresh on my iPhone gives:\n\nX.X.X.X - - [05/Apr/2016:20:20:42 +0000] \"PROPFIND /dav.php/principals/sylar/ HTTP/1.1\" 401 367 \"-\" \"iOS/9.3.1 (13E238) dataaccessd/1.0\" \"192.168.1.1\"\nX.X.X.X - - [05/Apr/2016:20:20:43 +0000] \"PROPFIND /dav.php/principals/sylar/ HTTP/1.1\" 207 1821 \"-\" \"iOS/9.3.1 (13E238) dataaccessd/1.0\" \"192.168.1.1\"\nX.X.X.X - - [05/Apr/2016:20:20:43 +0000] \"OPTIONS /dav.php/principals/sylar/ HTTP/1.1\" 200 0 \"-\" \"iOS/9.3.1 (13E238) dataaccessd/1.0\" \"192.168.1.1\"\nX.X.X.X - - [05/Apr/2016:20:20:43 +0000] \"REPORT /dav.php/principals/ HTTP/1.1\" 401 367 \"-\" \"iOS/9.3.1 (13E238) dataaccessd/1.0\" \"192.168.1.1\"\nX.X.X.X - - [05/Apr/2016:20:20:43 +0000] \"REPORT /dav.php/principals/ HTTP/1.1\" 200 746 \"-\" \"iOS/9.3.1 (13E238) dataaccessd/1.0\" \"192.168.1.1\"\nX.X.X.X - - [05/Apr/2016:20:20:43 +0000] \"PROPFIND /dav.php/calendars/sylar/ HTTP/1.1\" 401 367 \"-\" \"iOS/9.3.1 (13E238) dataaccessd/1.0\" \"192.168.1.1\"\nX.X.X.X - - [05/Apr/2016:20:20:44 +0000] \"PROPFIND /dav.php/calendars/sylar/ HTTP/1.1\" 207 8153 \"-\" \"iOS/9.3.1 (13E238) dataaccessd/1.0\" \"192.168.1.1\"\nX.X.X.X - - [05/Apr/2016:20:20:44 +0000] \"PROPFIND /dav.php/calendars/sylar/inbox/ HTTP/1.1\" 207 416 \"-\" \"iOS/9.3.1 (13E238) dataaccessd/1.0\" \"192.168.1.1\"\nX.X.X.X - - [05/Apr/2016:20:20:44 +0000] \"PROPFIND /dav.php/calendars/sylar/inbox/ HTTP/1.1\" 207 416 \"-\" \"iOS/9.3.1 (13E238) dataaccessd/1.0\" \"192.168.1.1\"\nX.X.X.X - - [05/Apr/2016:20:20:46 +0000] \"PROPFIND /dav.php/calendars/sylar/ HTTP/1.1\" 207 8153 \"-\" \"iOS/9.3.1 (13E238) dataaccessd/1.0\" \"192.168.1.1\"\nX.X.X.X - - [05/Apr/2016:20:20:46 +0000] \"PROPFIND /dav.php/calendars/sylar/inbox/ HTTP/1.1\" 207 416 \"-\" \"iOS/9.3.1 (13E238) dataaccessd/1.0\" \"192.168.1.1\"\nX.X.X.X - - [05/Apr/2016:20:20:46 +0000] \"PROPFIND /dav.php/calendars/sylar/inbox/ HTTP/1.1\" 207 416 \"-\" \"iOS/9.3.1 (13E238) dataaccessd/1.0\" \"192.168.1.1\"\n\nBut the data I just added on iCal is missing on the iPhone.\nHope this helps ...\n. Since my installation is dockerized, I will start again with a new container and try again to import one of my calendar to see of the same kind of errors appears. I'll keep you informed.\n. As promised, I just did an all new installation and I have been able to reproduce the PHP error message mentioned above.\n1/ On a new Alpine container, with the packages listed in my first post, I install Baikal.\n2/ On the admin page, I am able to setup the server, to create a user, and defined one default calendar\n3/ Then, I subscribe to this empty calendar from iCal: no problem, nothing in the nginx error log.\n4/ I export an ICS file from iCal from the calendar I want to transfer to Baikal. The exact file I used is here. I import it again in iCal on my baikal account.\n5/ In iCal, the new calendar quickly populates with the new events I have just imported. In the meantime, OS X indicates about 100 times at the import beginning: \n\n06/04/2016 12:46:50,264 CalendarAgent[348]: [com.apple.calendar.store.log.geocoder] [Geocoding failed with error Error Domain=MKErrorDomain Code=3 \"(null)\" UserInfo={MKErrorGEOError=-4}]\n\n6/ Nginx error log now constantly repeat during import:\n\n*5949 FastCGI sent in stderr: \"PHP message: PHP Fatal error:  Class name must be a valid object or a string in /baikal/vendor/sabre/vobject/lib/Document.php on line 226\" while reading response header from upstream, client: X.X.X.X, server: localhost, request: \"PUT /dav.php/calendars/sylar/default/B2716C3A-F754-49F3-9FCF-D9890D0558D5.ics HTTP/1.1\", upstream: \"fastcgi://unix:/var/run/php-fpm.sock:\", host: \"MY.SERVER.CM\"\n\naccess.log is here\nerror.log is here\nI have now to check if the calendar still sync from another device.\n. FYI, I can confirm that the calendar does not sync correctly on other devices. The calender is empty and does not show any event on another mac (iCal), or on an iPhone.\n. The ICS file has been exported from iCal (OS X 10.11.3). The calendar is hosted on an Owncloud 9.0 server. I have also directly exported the calendar from owncloud, but the same problem appears.\n. You can find the exact same calendar exported from owncloud here. Don't know if it's relevant, but I've downloaded the ICS file thanks to the \"?export\" URL.\n. Weird, indeed. I will try to sanitize my ICS file 'by hands' and check that all is OK then. \nI have noticed there is also some lines like:\n\nDTEND;TZID=Europe/Paris;VALUE=:20120928T154500\n\nAre they invalid too?\n. FYI, with an all new docker container, and with the modifications like:\n\nDTEND;TZID=Europe/Paris;VALUE=:20120928T154500\n\nin\n\nDTEND;TZID=Europe/Paris:20120928T154500\n\nand\n\nDTEND;VALUE=:20071114T173000Z\n\nin\n\nDTEND:20071114T173000Z\n\nrepeated all along the ICS file, import seems OK, and nothing appears in nginx error.log anymore.\nAs usual, I will have to check if synchronization works with other devices, but I'm pretty confident it will.\n. I just remembered exactly the tests I performed today:\n1/ After a fresh installation last night, I tried this morning to import one of my owncloud calendar by exporting it from iCal (OSX), and then importing it again from iCal on my new baikal account. Import did not really worked, at least half of my data were missing (ICS file is available here). But no errors were reported by iCal. This is the moment where the messages about \"PHP Fatal error\" appear first. They do not appear now.\n2/ Since then, even after deleting this incomplete calendar from the web interface and after recreating a new one, no sync happens between devices. \nAdding sthg from my mac leads to:\n\nX.X.X.X - - [05/Apr/2016:20:17:25 +0000] \"PUT /dav.php/calendars/sylar/test/38103C89-D137-413D-91B9-0D6364CF58B6.ics HTTP/1.1\" 401 367 \"-\" \"Mac+OS+X/10.11.4 (15E65) CalendarAgent/361.2\" \"192.168.1.1\"\nX.X.X.X - - [05/Apr/2016:20:17:26 +0000] \"PUT /dav.php/calendars/sylar/test/38103C89-D137-413D-91B9-0D6364CF58B6.ics HTTP/1.1\" 201 0 \"-\" \"Mac+OS+X/10.11.4 (15E65) CalendarAgent/361.2\" \"192.168.1.1\"\n\nA refresh on my iPhone gives:\n\nX.X.X.X - - [05/Apr/2016:20:20:42 +0000] \"PROPFIND /dav.php/principals/sylar/ HTTP/1.1\" 401 367 \"-\" \"iOS/9.3.1 (13E238) dataaccessd/1.0\" \"192.168.1.1\"\nX.X.X.X - - [05/Apr/2016:20:20:43 +0000] \"PROPFIND /dav.php/principals/sylar/ HTTP/1.1\" 207 1821 \"-\" \"iOS/9.3.1 (13E238) dataaccessd/1.0\" \"192.168.1.1\"\nX.X.X.X - - [05/Apr/2016:20:20:43 +0000] \"OPTIONS /dav.php/principals/sylar/ HTTP/1.1\" 200 0 \"-\" \"iOS/9.3.1 (13E238) dataaccessd/1.0\" \"192.168.1.1\"\nX.X.X.X - - [05/Apr/2016:20:20:43 +0000] \"REPORT /dav.php/principals/ HTTP/1.1\" 401 367 \"-\" \"iOS/9.3.1 (13E238) dataaccessd/1.0\" \"192.168.1.1\"\nX.X.X.X - - [05/Apr/2016:20:20:43 +0000] \"REPORT /dav.php/principals/ HTTP/1.1\" 200 746 \"-\" \"iOS/9.3.1 (13E238) dataaccessd/1.0\" \"192.168.1.1\"\nX.X.X.X - - [05/Apr/2016:20:20:43 +0000] \"PROPFIND /dav.php/calendars/sylar/ HTTP/1.1\" 401 367 \"-\" \"iOS/9.3.1 (13E238) dataaccessd/1.0\" \"192.168.1.1\"\nX.X.X.X - - [05/Apr/2016:20:20:44 +0000] \"PROPFIND /dav.php/calendars/sylar/ HTTP/1.1\" 207 8153 \"-\" \"iOS/9.3.1 (13E238) dataaccessd/1.0\" \"192.168.1.1\"\nX.X.X.X - - [05/Apr/2016:20:20:44 +0000] \"PROPFIND /dav.php/calendars/sylar/inbox/ HTTP/1.1\" 207 416 \"-\" \"iOS/9.3.1 (13E238) dataaccessd/1.0\" \"192.168.1.1\"\nX.X.X.X - - [05/Apr/2016:20:20:44 +0000] \"PROPFIND /dav.php/calendars/sylar/inbox/ HTTP/1.1\" 207 416 \"-\" \"iOS/9.3.1 (13E238) dataaccessd/1.0\" \"192.168.1.1\"\nX.X.X.X - - [05/Apr/2016:20:20:46 +0000] \"PROPFIND /dav.php/calendars/sylar/ HTTP/1.1\" 207 8153 \"-\" \"iOS/9.3.1 (13E238) dataaccessd/1.0\" \"192.168.1.1\"\nX.X.X.X - - [05/Apr/2016:20:20:46 +0000] \"PROPFIND /dav.php/calendars/sylar/inbox/ HTTP/1.1\" 207 416 \"-\" \"iOS/9.3.1 (13E238) dataaccessd/1.0\" \"192.168.1.1\"\nX.X.X.X - - [05/Apr/2016:20:20:46 +0000] \"PROPFIND /dav.php/calendars/sylar/inbox/ HTTP/1.1\" 207 416 \"-\" \"iOS/9.3.1 (13E238) dataaccessd/1.0\" \"192.168.1.1\"\n\nBut the data I just added on iCal is missing on the iPhone.\nHope this helps ...\n. Since my installation is dockerized, I will start again with a new container and try again to import one of my calendar to see of the same kind of errors appears. I'll keep you informed.\n. As promised, I just did an all new installation and I have been able to reproduce the PHP error message mentioned above.\n1/ On a new Alpine container, with the packages listed in my first post, I install Baikal.\n2/ On the admin page, I am able to setup the server, to create a user, and defined one default calendar\n3/ Then, I subscribe to this empty calendar from iCal: no problem, nothing in the nginx error log.\n4/ I export an ICS file from iCal from the calendar I want to transfer to Baikal. The exact file I used is here. I import it again in iCal on my baikal account.\n5/ In iCal, the new calendar quickly populates with the new events I have just imported. In the meantime, OS X indicates about 100 times at the import beginning: \n\n06/04/2016 12:46:50,264 CalendarAgent[348]: [com.apple.calendar.store.log.geocoder] [Geocoding failed with error Error Domain=MKErrorDomain Code=3 \"(null)\" UserInfo={MKErrorGEOError=-4}]\n\n6/ Nginx error log now constantly repeat during import:\n\n*5949 FastCGI sent in stderr: \"PHP message: PHP Fatal error:  Class name must be a valid object or a string in /baikal/vendor/sabre/vobject/lib/Document.php on line 226\" while reading response header from upstream, client: X.X.X.X, server: localhost, request: \"PUT /dav.php/calendars/sylar/default/B2716C3A-F754-49F3-9FCF-D9890D0558D5.ics HTTP/1.1\", upstream: \"fastcgi://unix:/var/run/php-fpm.sock:\", host: \"MY.SERVER.CM\"\n\naccess.log is here\nerror.log is here\nI have now to check if the calendar still sync from another device.\n. FYI, I can confirm that the calendar does not sync correctly on other devices. The calender is empty and does not show any event on another mac (iCal), or on an iPhone.\n. The ICS file has been exported from iCal (OS X 10.11.3). The calendar is hosted on an Owncloud 9.0 server. I have also directly exported the calendar from owncloud, but the same problem appears.\n. You can find the exact same calendar exported from owncloud here. Don't know if it's relevant, but I've downloaded the ICS file thanks to the \"?export\" URL.\n. Weird, indeed. I will try to sanitize my ICS file 'by hands' and check that all is OK then. \nI have noticed there is also some lines like:\n\nDTEND;TZID=Europe/Paris;VALUE=:20120928T154500\n\nAre they invalid too?\n. FYI, with an all new docker container, and with the modifications like:\n\nDTEND;TZID=Europe/Paris;VALUE=:20120928T154500\n\nin\n\nDTEND;TZID=Europe/Paris:20120928T154500\n\nand\n\nDTEND;VALUE=:20071114T173000Z\n\nin\n\nDTEND:20071114T173000Z\n\nrepeated all along the ICS file, import seems OK, and nothing appears in nginx error.log anymore.\nAs usual, I will have to check if synchronization works with other devices, but I'm pretty confident it will.\n. ",
    "HubEight": "Hi thanks for the reply. I tried now 0.4.5. It seems the iPhone downloads all events and contacts, but it does not download and upload changes. This means it does not update the events and contacts. I use nginx server and there are no errors in the log file. I give up.\n. Hi thanks for the reply. I tried now 0.4.5. It seems the iPhone downloads all events and contacts, but it does not download and upload changes. This means it does not update the events and contacts. I use nginx server and there are no errors in the log file. I give up.\n. ",
    "schmimat": "Hi,\nthe SabreDAV library has the posibility to share the calendar too different users\nhttp://sabre.io/dav/caldav-sharing/\nBut, you have to do it in the database by adding calendar-proxy-write / calendar-proxy-read\nfor the users.\nSee http://publications.jbfavre.org/web/online-calendars-sabredav-php-fpm-nginx.en for the complete setup.\nGo to paragraph test and look at the sql setup for:\nDelegating read rights: \"foo\" must read \"bar\" calendar\nDelegating write rights: \"bar\" must write into \"foo\" calendar\nIt's working very well for my setup with nginx and baikal.\nclients: Thunderbird and CalDAV-Sync on Android \nmfG Matthias\n. Hi,\nthe SabreDAV library has the posibility to share the calendar too different users\nhttp://sabre.io/dav/caldav-sharing/\nBut, you have to do it in the database by adding calendar-proxy-write / calendar-proxy-read\nfor the users.\nSee http://publications.jbfavre.org/web/online-calendars-sabredav-php-fpm-nginx.en for the complete setup.\nGo to paragraph test and look at the sql setup for:\nDelegating read rights: \"foo\" must read \"bar\" calendar\nDelegating write rights: \"bar\" must write into \"foo\" calendar\nIt's working very well for my setup with nginx and baikal.\nclients: Thunderbird and CalDAV-Sync on Android \nmfG Matthias\n. ",
    "bigretromike": "Oh wow! good we can do this - to bad that without ui.\nWill this somehow break in upcoming updates? or the upcoming update with this is far in future ?;)\n. Is there any ETA for sabre/dav 3.2 ?\n. Could you recommended any solution for android phone to 'sharing' for upcoming sabre/dav - im using DavDroid to be able to sync calendar - but not sure about where to share it\n. @evert as it been few more weeks for stable sabre/dav is there a chance that it will bump to 3.2 so the shearing functionality will be available for supported clients or are we still wait for moving to silex?\n@Mischosch is the instruction you posted full ? or are there any commands that are so obvious that you didn't include them ? like one after composer or that baikal migration 'xxx' ?\n. Yeah I know. I resolve my problem with just making another account (that is now shared) and export + import calendar from mine. I will stick with stable build. Just wanted to bump this issue ;-) because I love baikal/sabre so much! \n. @evert thanks for information on current situation. I would be happy to be able to help you with silex but don't use PHP and any of php framework sadly. But I wish you the best and hope that your project will grow strong. \n. Maybe here ? https://www.bountysource.com/teams/fruux/bounties. work done so far is impressive. hope all go fine ! . So as you dont use baikal saver/dev anymore, whats good/better alternative then ? . Oh wow! good we can do this - to bad that without ui.\nWill this somehow break in upcoming updates? or the upcoming update with this is far in future ?;)\n. Is there any ETA for sabre/dav 3.2 ?\n. Could you recommended any solution for android phone to 'sharing' for upcoming sabre/dav - im using DavDroid to be able to sync calendar - but not sure about where to share it\n. @evert as it been few more weeks for stable sabre/dav is there a chance that it will bump to 3.2 so the shearing functionality will be available for supported clients or are we still wait for moving to silex?\n@Mischosch is the instruction you posted full ? or are there any commands that are so obvious that you didn't include them ? like one after composer or that baikal migration 'xxx' ?\n. Yeah I know. I resolve my problem with just making another account (that is now shared) and export + import calendar from mine. I will stick with stable build. Just wanted to bump this issue ;-) because I love baikal/sabre so much! \n. @evert thanks for information on current situation. I would be happy to be able to help you with silex but don't use PHP and any of php framework sadly. But I wish you the best and hope that your project will grow strong. \n. Maybe here ? https://www.bountysource.com/teams/fruux/bounties. work done so far is impressive. hope all go fine ! . So as you dont use baikal saver/dev anymore, whats good/better alternative then ? . ",
    "hamiltonian": "Any news on this topic? I am looking forward to his feature...\n. Any news on this topic? I am looking forward to his feature...\n. ",
    "waja": "@evert so we can expect that somewhere in Q4 2016?\n. @evert so we can expect that somewhere in Q4 2016?\n. ",
    "Mischosch": "hey @evert - I just read about the new sharing options sabre/dav 3.2 introduced and they are so much promising. Really wanted to try that out and test the share feature, but with Baikal.\nI changed sabre/dav inside composer.json to ~3.2.0 and added \n$this->server->addPlugin(new \\Sabre\\DAV\\Sharing\\Plugin());\n$this->server->addPlugin(new \\Sabre\\CalDAV\\SharingPlugin());\ninside Baikal\\Core\\Server class after line 170.\nAs release notes point out DB changes, I used: php migrateto32.php \"mysql:host=localhost;dbname=baikal\" baikal xxx inside vendor/sabre/dav/bin - this logs:\nConnecting to database: mysql:host=localhost;dbname=baikal\nDetected MySQL.\nCreating 'calendarinstances'\ncalendarinstances does not yet exist. Creating table and migrating data.\nThe calendars table has 11 columns.\nBacking up 'calendars' to 'calendars_3_1_1468529593'\nCreating new calendars table.\nMigrating data from old to new table\nUpgrade to 3.2 schema completed.\nusing the dav.php GUI I already saw under Pluginsbutton both added plugins and after searching the issues I found the info about Action -> Share this resource at the bottom of calendar view. And voila, that worked quite well.\nI fired up iCal and added two test accounts on that baikal test server. Both accounts showed that sharing icon known from iCloud. I could share the calendars by using the email address of the other user and after refreshing I saw that shared calendar. Wow. Fantastic. Inside db I see the added rows inside calendarinstances table.\nCreation of dates worked, fetching the changes, too. I did not check more, but it seems like baikal is doing quite fine with only some minor changes..\nFinal question: would it be a option to send my changes as starting point inside as PR and get that included as a official branch, so that people can already start trying out that feature based on baikal? Would be really great!\nI would offer to try my best to get a deeper integration of that feature into baikal (like a button/view to see/edit shares inside calendars view). But diving into internals of baikal needs more time, need to understand more about the internals of the used framework, db adapter and so on. If you would like a bounty support (https://www.bountysource.com/teams/fruux) for working on that, I would be open, too. \nI totally respect and love your comment about being conservative related to stability. As stability comes with people who test, I would offer to test that feature, even with real world data. But would want to do it based on baikal, as that is the product I want to use in general.\n. @evert I already expected that part to fail because of schema changes. I wondered already, that Baikal kept working fine in many places. \nSo you want to move to silex first, get that model system of baikal refactored and then having sharing feature ready to launch on top of that, I see. Seems like the best place to get things rolling on would be working on that silex switch, then? Is there any organization happening around that refactor or is dennisdegreef the only one working on that topic?\n. will checkout his changes and ask him then for helping out without standing in the way.\nThanks for your fast answers, much appreciated!\n. (you might add a bounty for silex/sharing stuff :moneybag:)\n. @bigretromike if I remember right, this was all, what was needed to get it running, yes. But did not test it really heavily. The admin gui was having some problems with the changed db setup, if I remember correct. Stopped there and switched to silex branch to follow development there - but did not have much time since then to support others. Think we should wait with that feature integration until silex app setup is cleaned up.\n. got same problem yesterday:\nlocation / {\n        resolver 8.8.8.8;\n        proxy_pass http://10.0.0.5$request_uri;\n        proxy_redirect     off;\n        proxy_set_header   X-FORWARDED-PROTO https;\n        proxy_set_header   X-Forwarded-Ssl on;\n        proxy_set_header Host \"foo.bar.com\";\n   }\nX-FORWARDED-PROTO is the header you need to make base schema check returning https.\n. hey @evert - I just read about the new sharing options sabre/dav 3.2 introduced and they are so much promising. Really wanted to try that out and test the share feature, but with Baikal.\nI changed sabre/dav inside composer.json to ~3.2.0 and added \n$this->server->addPlugin(new \\Sabre\\DAV\\Sharing\\Plugin());\n$this->server->addPlugin(new \\Sabre\\CalDAV\\SharingPlugin());\ninside Baikal\\Core\\Server class after line 170.\nAs release notes point out DB changes, I used: php migrateto32.php \"mysql:host=localhost;dbname=baikal\" baikal xxx inside vendor/sabre/dav/bin - this logs:\nConnecting to database: mysql:host=localhost;dbname=baikal\nDetected MySQL.\nCreating 'calendarinstances'\ncalendarinstances does not yet exist. Creating table and migrating data.\nThe calendars table has 11 columns.\nBacking up 'calendars' to 'calendars_3_1_1468529593'\nCreating new calendars table.\nMigrating data from old to new table\nUpgrade to 3.2 schema completed.\nusing the dav.php GUI I already saw under Pluginsbutton both added plugins and after searching the issues I found the info about Action -> Share this resource at the bottom of calendar view. And voila, that worked quite well.\nI fired up iCal and added two test accounts on that baikal test server. Both accounts showed that sharing icon known from iCloud. I could share the calendars by using the email address of the other user and after refreshing I saw that shared calendar. Wow. Fantastic. Inside db I see the added rows inside calendarinstances table.\nCreation of dates worked, fetching the changes, too. I did not check more, but it seems like baikal is doing quite fine with only some minor changes..\nFinal question: would it be a option to send my changes as starting point inside as PR and get that included as a official branch, so that people can already start trying out that feature based on baikal? Would be really great!\nI would offer to try my best to get a deeper integration of that feature into baikal (like a button/view to see/edit shares inside calendars view). But diving into internals of baikal needs more time, need to understand more about the internals of the used framework, db adapter and so on. If you would like a bounty support (https://www.bountysource.com/teams/fruux) for working on that, I would be open, too. \nI totally respect and love your comment about being conservative related to stability. As stability comes with people who test, I would offer to test that feature, even with real world data. But would want to do it based on baikal, as that is the product I want to use in general.\n. @evert I already expected that part to fail because of schema changes. I wondered already, that Baikal kept working fine in many places. \nSo you want to move to silex first, get that model system of baikal refactored and then having sharing feature ready to launch on top of that, I see. Seems like the best place to get things rolling on would be working on that silex switch, then? Is there any organization happening around that refactor or is dennisdegreef the only one working on that topic?\n. will checkout his changes and ask him then for helping out without standing in the way.\nThanks for your fast answers, much appreciated!\n. (you might add a bounty for silex/sharing stuff :moneybag:)\n. @bigretromike if I remember right, this was all, what was needed to get it running, yes. But did not test it really heavily. The admin gui was having some problems with the changed db setup, if I remember correct. Stopped there and switched to silex branch to follow development there - but did not have much time since then to support others. Think we should wait with that feature integration until silex app setup is cleaned up.\n. got same problem yesterday:\nlocation / {\n        resolver 8.8.8.8;\n        proxy_pass http://10.0.0.5$request_uri;\n        proxy_redirect     off;\n        proxy_set_header   X-FORWARDED-PROTO https;\n        proxy_set_header   X-Forwarded-Ssl on;\n        proxy_set_header Host \"foo.bar.com\";\n   }\nX-FORWARDED-PROTO is the header you need to make base schema check returning https.\n. ",
    "shoopdawoop": "Similar Problem here. All I kept from v0.2.7 was the \"Specific\" folder.\n. So upgrading from v0.2.7 to v0.3.5 first worked fine. Updating to v0.4.4 from there just needed a few permission fixes, now it seems to work fine.\n. It was empty, but the access rights on the folder seemed odd (root:apache, 770) so I set them to\nchown root:psacln /var/lib/php/session\n(I am on CentOS+Plesk btw.).\nSo this worked, but I am not sure about the security implications.\nThank you!\n. Similar Problem here. All I kept from v0.2.7 was the \"Specific\" folder.\n. So upgrading from v0.2.7 to v0.3.5 first worked fine. Updating to v0.4.4 from there just needed a few permission fixes, now it seems to work fine.\n. It was empty, but the access rights on the folder seemed odd (root:apache, 770) so I set them to\nchown root:psacln /var/lib/php/session\n(I am on CentOS+Plesk btw.).\nSo this worked, but I am not sure about the security implications.\nThank you!\n. ",
    "gizmo15": "okay i will try\n. I use this:\nhttps://yourndd/dav.php/principals/yourlogin/\nyou can test it using:\nhttps://yourndd/dav.php\n. Thanks it's working :)\nfor calendar:\nhttps://myndd.fr/dav.php/calendars/my@id/default\nfor addressbooks:\nhttps://myndd.fr/dav.php/addressbooks/my@id/default/\n. okay i will try\n. I use this:\nhttps://yourndd/dav.php/principals/yourlogin/\nyou can test it using:\nhttps://yourndd/dav.php\n. Thanks it's working :)\nfor calendar:\nhttps://myndd.fr/dav.php/calendars/my@id/default\nfor addressbooks:\nhttps://myndd.fr/dav.php/addressbooks/my@id/default/\n. ",
    "pgaufillet": "Hi!\nSame error here: the webserver was indeed missing the right to write to config.system.php file due to DAC settings (i.e. AppArmor or SELinux). Adding a preliminary sanity check about it would probably help.\n. After a simple test, I confirm is_writable() does return true!\n<?php\nif(is_writable(\"/var/www/html/touch\"))\n    echo \"Writable<br/>\\n\";\nelse\n    echo \"Unwritable<br/>\\n\";\n$handle = fopen(\"/var/www/html/touch\", \"w\");\nif(!fwrite($handle,\"test_string\"))\n    echo \"Write failed<br/>\\n\";\nelse\n    echo \"Write succeeded<br/>\\n\";\nfclose($handle);\nwith:\n\n-rwxrwxrwx 1 www-data www-data     0 May 16 19:07 /var/www/html/touch\n\nreturns:\n\nWritable\nWrite failed\n. Hi!\n\nSELECT SUM(LENGTH(carddata)) FROM cards WHERE addressbookid = 1\n9998778\nThere are 253 contacts in this address book stored in a local MySQL database.\nSystem profile:\nDebian Jessie\nMySQL  5.5.49\nApache 2.4.10 + PHP 5.6.20\n. Thanks @evert!\nIs it required to relaunch the whole upgrade procedure from the db backup or is it something that occurs automatically once migration is done?\n. It has worked with Roundcube+rcmcarddav client and has taken approximately 25 minutes.\nBut something seems to go wrong with Mac OS X address book. After about 180s, the client times out and relaunch the request:\n18/05/2016 00:03:17,204 Contacts[1892]: [CardDAVPlugin-ERROR] -_handleAddsOrModifies:https://***/dav.php/addressbooks/***/ Error Domain=NSURLErrorDomain Code=-1001 \"La requ\u00eate a expir\u00e9.\"\nAfter some time, plenty of hungry apache workers fight for CPU on the server and it looks like it never ends.\n\nAny idea?\n. It is not running on a QNAP NAS but on a Debian Jessie server. As php7 has not yet been ported to jessie-backports I prefer to keep php5 as far as possible.\nI'll try to come back with a perf profile ASAP.\n. Unfortunately I am fighting a bit with php profilers (Blackfire/xhprof): can you explain in brief what configuration you are using?\nBTW: if the SYNC plugin causes this issue, wouldn't be better to make it optional in Baikal?\n. Tested this evening. Mac OS X client now connects correctly. The initial sync phase seems to have been reduced to a few seconds only. Thanks @evert !\n. Hi!\nSame error here: the webserver was indeed missing the right to write to config.system.php file due to DAC settings (i.e. AppArmor or SELinux). Adding a preliminary sanity check about it would probably help.\n. After a simple test, I confirm is_writable() does return true!\n<?php\nif(is_writable(\"/var/www/html/touch\"))\n    echo \"Writable<br/>\\n\";\nelse\n    echo \"Unwritable<br/>\\n\";\n$handle = fopen(\"/var/www/html/touch\", \"w\");\nif(!fwrite($handle,\"test_string\"))\n    echo \"Write failed<br/>\\n\";\nelse\n    echo \"Write succeeded<br/>\\n\";\nfclose($handle);\nwith:\n\n-rwxrwxrwx 1 www-data www-data     0 May 16 19:07 /var/www/html/touch\n\nreturns:\n\nWritable\nWrite failed\n. Hi!\n\nSELECT SUM(LENGTH(carddata)) FROM cards WHERE addressbookid = 1\n9998778\nThere are 253 contacts in this address book stored in a local MySQL database.\nSystem profile:\nDebian Jessie\nMySQL  5.5.49\nApache 2.4.10 + PHP 5.6.20\n. Thanks @evert!\nIs it required to relaunch the whole upgrade procedure from the db backup or is it something that occurs automatically once migration is done?\n. It has worked with Roundcube+rcmcarddav client and has taken approximately 25 minutes.\nBut something seems to go wrong with Mac OS X address book. After about 180s, the client times out and relaunch the request:\n18/05/2016 00:03:17,204 Contacts[1892]: [CardDAVPlugin-ERROR] -_handleAddsOrModifies:https://***/dav.php/addressbooks/***/ Error Domain=NSURLErrorDomain Code=-1001 \"La requ\u00eate a expir\u00e9.\"\nAfter some time, plenty of hungry apache workers fight for CPU on the server and it looks like it never ends.\n\nAny idea?\n. It is not running on a QNAP NAS but on a Debian Jessie server. As php7 has not yet been ported to jessie-backports I prefer to keep php5 as far as possible.\nI'll try to come back with a perf profile ASAP.\n. Unfortunately I am fighting a bit with php profilers (Blackfire/xhprof): can you explain in brief what configuration you are using?\nBTW: if the SYNC plugin causes this issue, wouldn't be better to make it optional in Baikal?\n. Tested this evening. Mac OS X client now connects correctly. The initial sync phase seems to have been reduced to a few seconds only. Thanks @evert !\n. ",
    "pincy": "Can confirm this bug.\nEven after changing permissions, it didnt retry to set the version in config.system.php.\nChanging the version there to the showed 0.5.0 by hand solved the issue for me.\n. Can confirm this bug.\nEven after changing permissions, it didnt retry to set the version in config.system.php.\nChanging the version there to the showed 0.5.0 by hand solved the issue for me.\n. ",
    "sanderbaas": "\nOdd... I wonder if the upgrade process simply fails because it's not allowed to update the version number. From what I can tell though (from your log), the database upgrade was 100% successful. So one other workaround is to just do a clean 0.4.4 install and just move your (upgraded) database over the empty one....\n\nThis worked for me when updating from 0.2.7 to 0.4.6. > Odd... I wonder if the upgrade process simply fails because it's not allowed to update the version number. From what I can tell though (from your log), the database upgrade was 100% successful. So one other workaround is to just do a clean 0.4.4 install and just move your (upgraded) database over the empty one....\nThis worked for me when updating from 0.2.7 to 0.4.6. ",
    "kidexx": "When I upgraded I had the same error with \"exception 'PDOException' with message 'SQLSTATE[42S21]: Column already exists: 1060 Duplicate column name 'synctoken'\" - I read in another forum the tipp to upgrade first to 0.3.2 in between. This I did and it worked fine.. When I upgraded I had the same error with \"exception 'PDOException' with message 'SQLSTATE[42S21]: Column already exists: 1060 Duplicate column name 'synctoken'\" - I read in another forum the tipp to upgrade first to 0.3.2 in between. This I did and it worked fine.. ",
    "tamielbr": "Had similar issues upgrading from 0.2.7->0.4.6, but changing permissions and max_execution_time up in PHP made the upgrade work.. Nah, that returns an error, even in the browser...I tried Evolution, and it works fine (client). I'm guessing this is a Thunderbird problem.. Got it to work! Using:\n{domain}/html/dav.php/calendars/{username}/{calendar_token_id}/. Had similar issues upgrading from 0.2.7->0.4.6, but changing permissions and max_execution_time up in PHP made the upgrade work.. Nah, that returns an error, even in the browser...I tried Evolution, and it works fine (client). I'm guessing this is a Thunderbird problem.. Got it to work! Using:\n{domain}/html/dav.php/calendars/{username}/{calendar_token_id}/. ",
    "jyrenk": "From Contacts App on MacOS:\nServer address: www.domain.com/\nServer Path: baikal/card.php/addressbooks/username\nDisabling cache management\nthat could cause problems with DAV requests\nUseful only for Apache servers, with AllowOverride All\n(ie, .htaccess files enabled)\nAllow HTTP headers with Apache/FastCGI\nSee http://code.google.com/p/sabredav/wiki/Authentication#Apache_+_(Fast)CGI\n\n    RewriteEngine On\n    RewriteRule .* - [E=HTTP_AUTHORIZATION:%{HTTP:Authorization},L]\n\n\n    ExpiresActive Off\n\nRedirect /.well-known/carddav /baikal/card.php\nRedirect /.well-known/caldav /baikal/cal.php\nApache Config.\nThe only problem is that the config works on iPhone just not on the Macs. :(\n. I have yet to try it but i don't think it will work, there is no dav.php as a file to pull data from...\n. From Contacts App on MacOS:\nServer address: www.domain.com/\nServer Path: baikal/card.php/addressbooks/username\nDisabling cache management\nthat could cause problems with DAV requests\nUseful only for Apache servers, with AllowOverride All\n(ie, .htaccess files enabled)\nAllow HTTP headers with Apache/FastCGI\nSee http://code.google.com/p/sabredav/wiki/Authentication#Apache_+_(Fast)CGI\n\n    RewriteEngine On\n    RewriteRule .* - [E=HTTP_AUTHORIZATION:%{HTTP:Authorization},L]\n\n\n    ExpiresActive Off\n\nRedirect /.well-known/carddav /baikal/card.php\nRedirect /.well-known/caldav /baikal/cal.php\nApache Config.\nThe only problem is that the config works on iPhone just not on the Macs. :(\n. I have yet to try it but i don't think it will work, there is no dav.php as a file to pull data from...\n. ",
    "1wilkens": "Ah sure it is dav.1wilkens.org/dav.php/addressbooks/<user>/<addressbook> so in my example its dav.1wilkens.org/dav.php/addressbooks/test/default.\n. I checked it in the chrome dev tools initially but also the nginx access log states:\n[27/Apr/2016:10:56:33 +0200] \"REPORT /dav.php/addressbooks/test/default/ HTTP/1.1\"\n415 332 \"https://dav.1wilkens.org/infcloud/index.html\" \"Mozilla/5.0 (X11; Linux x86_64)\nAppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.7 Safari/537.36\"\n. Sorry for the dumb question but how do I decrypt the sqlite database? I found the file in Core/Resources/Db/SQLite but I am not quite sure which credentials Baikel chose to encrypt it.\nFor the record this happend with all addressbooks I tried.\n. Ah okay sorry! \nHmm seems like you are on to something. The synctoken field is empty for all addressbooks.\n. I am out of time right now but I'll be back in about 2-3 hours. Thanks for the help so far!\n. Okay that seems to work.. Is this an issue with my Baikal setup then? I assume the synctoken should have been set before?\n. Ah sure it is dav.1wilkens.org/dav.php/addressbooks/<user>/<addressbook> so in my example its dav.1wilkens.org/dav.php/addressbooks/test/default.\n. I checked it in the chrome dev tools initially but also the nginx access log states:\n[27/Apr/2016:10:56:33 +0200] \"REPORT /dav.php/addressbooks/test/default/ HTTP/1.1\"\n415 332 \"https://dav.1wilkens.org/infcloud/index.html\" \"Mozilla/5.0 (X11; Linux x86_64)\nAppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.7 Safari/537.36\"\n. Sorry for the dumb question but how do I decrypt the sqlite database? I found the file in Core/Resources/Db/SQLite but I am not quite sure which credentials Baikel chose to encrypt it.\nFor the record this happend with all addressbooks I tried.\n. Ah okay sorry! \nHmm seems like you are on to something. The synctoken field is empty for all addressbooks.\n. I am out of time right now but I'll be back in about 2-3 hours. Thanks for the help so far!\n. Okay that seems to work.. Is this an issue with my Baikal setup then? I assume the synctoken should have been set before?\n. ",
    "erixtekila": "Yes @fabianwolf this fix the issue.\nThanks.\nWill you provide an update ?\n. Yes @fabianwolf this fix the issue.\nThanks.\nWill you provide an update ?\n. ",
    "CaptSpify": "@untitaker \nWould this be more appropriate for the sabre-dav group?\nIt was my understanding that this is a specific implementation for their library.\n. @untitaker \nYeah. I'm pretty unfamiliar with this setup obviously, so feel free to point me elsewhere. |;)\nAlso lmk if any more info is needed\n. I'm expecting to be able to pull down the hierarchy via a GET. Instead, the result is \"GET is only implemented on File objects\".\nAm I misunderstanding how that plugin works?\n. 0.2.7\n. @untitaker \nWould this be more appropriate for the sabre-dav group?\nIt was my understanding that this is a specific implementation for their library.\n. @untitaker \nYeah. I'm pretty unfamiliar with this setup obviously, so feel free to point me elsewhere. |;)\nAlso lmk if any more info is needed\n. I'm expecting to be able to pull down the hierarchy via a GET. Instead, the result is \"GET is only implemented on File objects\".\nAm I misunderstanding how that plugin works?\n. 0.2.7\n. ",
    "osmogar": "Thank you evert... \nI will tell you my problem: I was using baikal 0.27 successfully until I upgraded my server with PHP7. Baikal 0.27 don't works with PHP7, so I upgraded to 0.44.\nI have a calendar with birthdays, some of them have dates before 1970. I'm using the web client agendav and outook caldav sync. After I upgraded to baikal 0.44, I get the above error with both clients when I enter or modify same of the entries with start date before 1970, and with this modification, all works smooth again.\nOld entries don't have this problem, and the dates are ok. I suppose the clients gets the data from 'calendardata' record, but when a new entry is entered or an old entry is modified, I get the SQL error because baikal calculates the 'firstoccurence' value, and don't set to 0 the calculated value if it is negative.\nI can have same side effect with this modification? (query performance is not a problem to me)\nThen the solution may be force 0 to this value if the calculated value is negative?\n. Works like a charm... the pull request on sabre-dav: https://github.com/fruux/sabre-dav/pull/835\nThanks!\n. Thank you evert... \nI will tell you my problem: I was using baikal 0.27 successfully until I upgraded my server with PHP7. Baikal 0.27 don't works with PHP7, so I upgraded to 0.44.\nI have a calendar with birthdays, some of them have dates before 1970. I'm using the web client agendav and outook caldav sync. After I upgraded to baikal 0.44, I get the above error with both clients when I enter or modify same of the entries with start date before 1970, and with this modification, all works smooth again.\nOld entries don't have this problem, and the dates are ok. I suppose the clients gets the data from 'calendardata' record, but when a new entry is entered or an old entry is modified, I get the SQL error because baikal calculates the 'firstoccurence' value, and don't set to 0 the calculated value if it is negative.\nI can have same side effect with this modification? (query performance is not a problem to me)\nThen the solution may be force 0 to this value if the calculated value is negative?\n. Works like a charm... the pull request on sabre-dav: https://github.com/fruux/sabre-dav/pull/835\nThanks!\n. ",
    "palladionIT": "Hello,\nI just checked and it does not. I have the following files in the folder:\n\nFrom what I can see the files get pulled on installing baikal, is that assumption correct? So I guess something went wrong when I installed it.\n. Seems like I miss the whole directory?\n\n. Sorry did not see that there. It exists but it is empty? When I want to see it's contents it shows nothing. Same with Date.php. DateTime.php has content.\n. Thank you. I will make an install (excluding \"specific\"-directory) and if the problem persists I will post an install log.\nEDIT:\nThank you very much it seems there was an error when uploading or unpacking. Every thing works now without any errors.\n. Hello,\nI just checked and it does not. I have the following files in the folder:\n\nFrom what I can see the files get pulled on installing baikal, is that assumption correct? So I guess something went wrong when I installed it.\n. Seems like I miss the whole directory?\n\n. Sorry did not see that there. It exists but it is empty? When I want to see it's contents it shows nothing. Same with Date.php. DateTime.php has content.\n. Thank you. I will make an install (excluding \"specific\"-directory) and if the problem persists I will post an install log.\nEDIT:\nThank you very much it seems there was an error when uploading or unpacking. Every thing works now without any errors.\n. ",
    "foxtailtech": "Looks like the issue is specific to MySQL's mode set to: sql_mode=\"STRICT_TRANS_TABLES\", which is the default on MySQL 5.6 installs.\nSolutions could be:\n1.) You must either switch to integers (0 and 1).\n2.) Use bindValue and explicitly supply a type. $stmt->bindValue(1, false, PDO::PARAM_BOOL)\n3.) Set the sql_mode at script runtime, to TRADITIONAL.\n. Looks like the issue is specific to MySQL's mode set to: sql_mode=\"STRICT_TRANS_TABLES\", which is the default on MySQL 5.6 installs.\nSolutions could be:\n1.) You must either switch to integers (0 and 1).\n2.) Use bindValue and explicitly supply a type. $stmt->bindValue(1, false, PDO::PARAM_BOOL)\n3.) Set the sql_mode at script runtime, to TRADITIONAL.\n. ",
    "mccharlet": "Which version you are.  PHP 5.5 is mendatory\nI upgrade today with 5.6.21 no problem\n. Which version you are.  PHP 5.5 is mendatory\nI upgrade today with 5.6.21 no problem\n. ",
    "n1trux": "I can confirm \u2013 I had the same error and removing everything but Specific fixed it for me. Wording the upgrade instructions differently might be worth it for people like us :D. I can confirm \u2013 I had the same error and removing everything but Specific fixed it for me. Wording the upgrade instructions differently might be worth it for people like us :D. ",
    "nakinigit": "I'm thinking this might be the same as #530.\nSo, with that in mind, Have tried every version from 3.0 forward (via git checkout). Is git a mistake? What about composer install, and does composer install/update make git pull redundant? Or is downloading zip/gz more appropriate? Do I need to run composer update for all of the above methods, or only some of them? What is the recommended install method? \nI installed composer as myself, but run it as www-data in the baikal folder, which is owned by www-dat. I get the 'unable to create cache in ~/.composer...' folder. Does it matter? All installs regarding baikal are done as www-data. I'm an a lan; should I just make everything 777 in order to expedite this?\nI apologize if this sounds like a rant, but that is not what this is... these are legitimate questions. I have installed a few web services on my lan, including those that rely on a mysql database, and updates via composer. Ampache music server & Wordpress being my primary examples. I'm somewhat of a noob, but a tenacious one ;-)\n. Ignore the haters, I appreciate your efforts and I'm sure many others do as well.\n. I'm thinking this might be the same as #530.\nSo, with that in mind, Have tried every version from 3.0 forward (via git checkout). Is git a mistake? What about composer install, and does composer install/update make git pull redundant? Or is downloading zip/gz more appropriate? Do I need to run composer update for all of the above methods, or only some of them? What is the recommended install method? \nI installed composer as myself, but run it as www-data in the baikal folder, which is owned by www-dat. I get the 'unable to create cache in ~/.composer...' folder. Does it matter? All installs regarding baikal are done as www-data. I'm an a lan; should I just make everything 777 in order to expedite this?\nI apologize if this sounds like a rant, but that is not what this is... these are legitimate questions. I have installed a few web services on my lan, including those that rely on a mysql database, and updates via composer. Ampache music server & Wordpress being my primary examples. I'm somewhat of a noob, but a tenacious one ;-)\n. Ignore the haters, I appreciate your efforts and I'm sure many others do as well.\n. ",
    "sirnone": "same problem here on one entry. I was able to fix it after restore the old DB and make the update 2 more times... (no plan why the update was wrong the first 2 times)\n@evert: little spelling correction -> SELECT SUM(LENGTH(carddata)) FROM cards WHERE addressbookid = ?\n. Hi,\nSUM(LENGTH(carddata))\n59136\nQNAP System\nApache Webserver (PHP 5.5.27)\nMySQL-Client-Version: mysqlnd 5.0.11-dev - 20120503\nServer Version: 5.1.73-log Protokoll-Version: 10\nso it is realy small.\n. export the old DB and import it on the new server - after this, run the update process on the new Server with the new version of baikal.\nthis will update also the DB to the new version.\n. @pr3d4t0r \nused Version is 0.46 so the path is correct.\nfrom Server Upgrade instructions\n\nSo two things changed:\ncal.php, card.php moved into the html/ directory.\nWe added dav.php. cal.php and card.php still exist in the html/ directory but will be removed in a future version. dav.php is an endpoint for both caldav and carddav combined.\n\nI can confirm to have the same problem on a Baikal 0.46 installation with Lightning!\n. Hello,\nthis is an QNAP problem that was already reported to the QNAP-Team many times (same problem for nextcloud)\nmore information you can find in issue #515 \nif this answer helps you, please close the issue. same problem here on one entry. I was able to fix it after restore the old DB and make the update 2 more times... (no plan why the update was wrong the first 2 times)\n@evert: little spelling correction -> SELECT SUM(LENGTH(carddata)) FROM cards WHERE addressbookid = ?\n. Hi,\nSUM(LENGTH(carddata))\n59136\nQNAP System\nApache Webserver (PHP 5.5.27)\nMySQL-Client-Version: mysqlnd 5.0.11-dev - 20120503\nServer Version: 5.1.73-log Protokoll-Version: 10\nso it is realy small.\n. export the old DB and import it on the new server - after this, run the update process on the new Server with the new version of baikal.\nthis will update also the DB to the new version.\n. @pr3d4t0r \nused Version is 0.46 so the path is correct.\nfrom Server Upgrade instructions\n\nSo two things changed:\ncal.php, card.php moved into the html/ directory.\nWe added dav.php. cal.php and card.php still exist in the html/ directory but will be removed in a future version. dav.php is an endpoint for both caldav and carddav combined.\n\nI can confirm to have the same problem on a Baikal 0.46 installation with Lightning!\n. Hello,\nthis is an QNAP problem that was already reported to the QNAP-Team many times (same problem for nextcloud)\nmore information you can find in issue #515 \nif this answer helps you, please close the issue. ",
    "MacJudge": "I don't think there was some other client accessing the server, because I used a new test-domain, that no client knew about. The SQLite-database file was copied over several computers, so no file-system-lock or something similar could have been there. There was only my Firefox accessing the web-page to perform the upgrade-steps.\nFinally, I just ignored the error and used the (partially?) converted database with the config-files from a fresh install and the admin interface now shows me almost the same information like the old version. Therefor, I tried to access the test-server with my Thunderbird/Lightning as I do with the old version, but it doesn't work. Unfortunately, it also doesn't work with a fresh database, although I'm quite sure I did the same configuration steps and hacks as I did with the old version. So I can't test, whether my incomplete upgrade might work.\nIf I find the time, I will try to access the server with some other client or do some research on how to configure the new server to work with Thunderbird/Lightning.\n. I think I already dumped and re-created the database by doing\n\necho \".dump\" | sqlite3 olddb.sqlite | sqlite3 db.sqlite\n\non a Linux-machine but this didn't help as I wrote in my first post.\n. Thanks, Christian, for your investigation.\nI found out, that my webhoster is using the same SQLite-version like you: 3.3.6\nAs I already wrote, I have problems accessing the new system, too. So if you find a solution, that works for you, just let me know. Perhaps we are using the same hoster.\nEdit: I just checked it and we are in fact using the same webhoster. :)\n. I don't think there was some other client accessing the server, because I used a new test-domain, that no client knew about. The SQLite-database file was copied over several computers, so no file-system-lock or something similar could have been there. There was only my Firefox accessing the web-page to perform the upgrade-steps.\nFinally, I just ignored the error and used the (partially?) converted database with the config-files from a fresh install and the admin interface now shows me almost the same information like the old version. Therefor, I tried to access the test-server with my Thunderbird/Lightning as I do with the old version, but it doesn't work. Unfortunately, it also doesn't work with a fresh database, although I'm quite sure I did the same configuration steps and hacks as I did with the old version. So I can't test, whether my incomplete upgrade might work.\nIf I find the time, I will try to access the server with some other client or do some research on how to configure the new server to work with Thunderbird/Lightning.\n. I think I already dumped and re-created the database by doing\n\necho \".dump\" | sqlite3 olddb.sqlite | sqlite3 db.sqlite\n\non a Linux-machine but this didn't help as I wrote in my first post.\n. Thanks, Christian, for your investigation.\nI found out, that my webhoster is using the same SQLite-version like you: 3.3.6\nAs I already wrote, I have problems accessing the new system, too. So if you find a solution, that works for you, just let me know. Perhaps we are using the same hoster.\nEdit: I just checked it and we are in fact using the same webhoster. :)\n. ",
    "c-mauderer": "I have the same problem. I tried upgrading from 0.2.7 to 0.4.5 directly or alternatively upgrading from 0.2.7 to 0.3.5.\nI had to change the PHP-Version. Baikal 0.2.7 worked fine with PHP 5.3. For Baikal 0.4.x the minimum version is PHP 5.5 according to http://sabre.io/baikal/install/. So I changed the version. Can that cause the trouble?\nHave you found a solution?\nEdit: I stopped all clients before I tried to upgrade. The database dump and re-import also didn't work.\n. OK. Thanks for the answer.\nI searched for some time and found this site:\nhttp://beets.io/blog/sqlite-nightmare.html\nIt sounds like a similar problem even if I'm quite sure that the message does not need 5 seconds to appear. Despite that I would like to test it with an increased timeout value. Do you have any Idea how that could be added without to much effort? If it would be a lot of effort for you, I'll try to find that out for myself. But I think that you have a lot more experience with SQLite and PHP.\n. I found a more likely explanation:\nIn an older version of the documentation of SQLite there is an explanation for the Error Code SQLITE_LOCKED (6): http://www.sqlite.org/cvstrac/wiki?p=DatabaseIsLocked\nAccording to this, the error can occur when \"Trying to write to a table while a SELECT is active on that same table.\" This seems to be fixed since 2006. I'm not sure, what version my webhoster is using, but about two years ago, the machine was quite likely based on a CentOS 5.10 (or probably Red Hat Enterprise with the fitting version). Even if CentOS 5.0 is from 2007, the support ends 2017. So It's quite likely that they still use the CentOS 5 branch with an old SQLite version.\nThe error appears in the following line:\nhttps://github.com/fruux/Baikal/blob/0.4.5/Core/Frameworks/BaikalAdmin/Controller/Install/VersionUpgrade.php#L337\nIt seems to me that at this line a change in the table \"cards\" is made while a query in \"cards\" is still active. That fits to the error described in the old sqlite manual.\nI'll try to find out what version of SQLite is used on my webspace.\nIs there any way to upgrade the database without using the VersionUpgrade.php on the server?\n. I checked the logs: It seems that there is nothing useful in it. I only get some messages that my favicon.ico could not be found. The access log shows that about 20 minutes before I accessed \"/admin/\" nothing has been accessed.\nThe disadvantage when just booking web space and not a dedicated server is that I don't have much influence on the logging level. So I probably can't get any more messages.\nAre you sure that the query in line 330 is finished before the one in line 333 will be executed?\n. I've found out the version of SQLite that is installed on the server of my webhoster: 3.3.6\nSo the paragraph in the linked SQLite documentation is relevant.\nFor the query in PDO: I'm sorry but I'm still not convinced: The PDO documentation says the following (http://php.net/manual/de/pdo.query.php):\n\nIf you do not fetch all of the data in a result set before issuing your next call to PDO::query(), your call may fail. Call PDOStatement::closeCursor() to release the database resources associated with the PDOStatement object before issuing your next call to PDO::query().\n\nIt seems to me that it only returns a handle to some internal construct. Otherwise you wouldn't have to use the $result->fetch() function to access the next row but just use an array index. So I'm not sure if the SELECT is finished.\nIf it is the problem I should be able to work around it by just fetching all results into an array right before the while loop in line 332 and iterate over the array instead of the PDO result handle. If this works, it would support my theory. If it doesn't change anything, I'll believe you ;-)\nI'll report back as soon as I've tried it.\n. I changed the query. You can find my new version here:\nhttps://gist.github.com/c-mauderer/fe24d58980477e344a907e85ac81d683#file-versionupgrade-php-L331\nThis solved at least this problem. But the same error message appears on line 360 of the new file.\nI'm not sure how much Baikal changed between 0.2.7 and 0.4.5 but I would assume that a similar construction is used at further places in the code? That would mean that The current version cant be used with the ancient SQLite version that my hoster offers. If that is so, you should think about adding a version check and / or a line to the requirements that SQLite >= 3.3.7 is necessary.\nAs a fallback solution for my special case: Is there any simple way to migrate an existing SQLite database to a MySQL database?\n. I found the same construct two additional times in VersionUpgrade.php. I changed them too in the gist. Now at least the update works: https://gist.github.com/c-mauderer/fe24d58980477e344a907e85ac81d683\nI'll try to find out if there are any other problems with 0.4.5 and my unfortunately ancient SQLite.\n. Seems that there are some more problems with the update. But I'm quite sure that they are not related to this one. Now I get a lot of errors 400 or 401 in my access_log along the line of \"PROPFIND /cal.php/calendars/christian/default/\". Even if I try to use the new \"dav.php\" URL. But like I said: I don't think that is related to the problem with the old SQLite version so I'll try to not flood this thread with it any further.\n. @MacJudge: Yes, Daniel, I agree. It is the same webhoster: celeros.de\nAfter you have the same problem, I might use the thread for further discussion. I hope that is OK for you both @evert and @MacJudge?\nI tested a lot of different combinations and configurations with fresh installations:\nOn a 0.2.7 flat installations, everything works fine. When I use some of the newer versions (I tested 0.3.3, 0.3.5, 0.4.5) than I get an error. I used exactly the same server configuration (I just renamed the directory without touching the config). Both times it has been an PHP 5.5.4\nThe problem appears when my client (Thunderbird with CardBook) sends out the following request:\nPROPFIND /card.php/addressbooks/test/default/ HTTP/1.1\nFor the 0.2.7 version, the server reacts with an HTTP/1.1 207 Multi-Status while on the newer versions I get an HTTP/1.1 400 Bad Request\nI'm running out of ideas what can cause such a behavior. Any hints where to search?\nCeleros is using an nginx / Apache combination. nginx should serve static request, Apache should do the rest. I get the following Apache messages in the access-log:\n[04/Jun/2016:12:14:56 +0200] \"PROPFIND /card.php/addressbooks/test/default/ HTTP/1.0\" 400 679 \"-\" \"Thunderbird Lightning/4.7.1\"\nI can't find any more error messages in the logs regarding this problem.\n. I have the same problem. I tried upgrading from 0.2.7 to 0.4.5 directly or alternatively upgrading from 0.2.7 to 0.3.5.\nI had to change the PHP-Version. Baikal 0.2.7 worked fine with PHP 5.3. For Baikal 0.4.x the minimum version is PHP 5.5 according to http://sabre.io/baikal/install/. So I changed the version. Can that cause the trouble?\nHave you found a solution?\nEdit: I stopped all clients before I tried to upgrade. The database dump and re-import also didn't work.\n. OK. Thanks for the answer.\nI searched for some time and found this site:\nhttp://beets.io/blog/sqlite-nightmare.html\nIt sounds like a similar problem even if I'm quite sure that the message does not need 5 seconds to appear. Despite that I would like to test it with an increased timeout value. Do you have any Idea how that could be added without to much effort? If it would be a lot of effort for you, I'll try to find that out for myself. But I think that you have a lot more experience with SQLite and PHP.\n. I found a more likely explanation:\nIn an older version of the documentation of SQLite there is an explanation for the Error Code SQLITE_LOCKED (6): http://www.sqlite.org/cvstrac/wiki?p=DatabaseIsLocked\nAccording to this, the error can occur when \"Trying to write to a table while a SELECT is active on that same table.\" This seems to be fixed since 2006. I'm not sure, what version my webhoster is using, but about two years ago, the machine was quite likely based on a CentOS 5.10 (or probably Red Hat Enterprise with the fitting version). Even if CentOS 5.0 is from 2007, the support ends 2017. So It's quite likely that they still use the CentOS 5 branch with an old SQLite version.\nThe error appears in the following line:\nhttps://github.com/fruux/Baikal/blob/0.4.5/Core/Frameworks/BaikalAdmin/Controller/Install/VersionUpgrade.php#L337\nIt seems to me that at this line a change in the table \"cards\" is made while a query in \"cards\" is still active. That fits to the error described in the old sqlite manual.\nI'll try to find out what version of SQLite is used on my webspace.\nIs there any way to upgrade the database without using the VersionUpgrade.php on the server?\n. I checked the logs: It seems that there is nothing useful in it. I only get some messages that my favicon.ico could not be found. The access log shows that about 20 minutes before I accessed \"/admin/\" nothing has been accessed.\nThe disadvantage when just booking web space and not a dedicated server is that I don't have much influence on the logging level. So I probably can't get any more messages.\nAre you sure that the query in line 330 is finished before the one in line 333 will be executed?\n. I've found out the version of SQLite that is installed on the server of my webhoster: 3.3.6\nSo the paragraph in the linked SQLite documentation is relevant.\nFor the query in PDO: I'm sorry but I'm still not convinced: The PDO documentation says the following (http://php.net/manual/de/pdo.query.php):\n\nIf you do not fetch all of the data in a result set before issuing your next call to PDO::query(), your call may fail. Call PDOStatement::closeCursor() to release the database resources associated with the PDOStatement object before issuing your next call to PDO::query().\n\nIt seems to me that it only returns a handle to some internal construct. Otherwise you wouldn't have to use the $result->fetch() function to access the next row but just use an array index. So I'm not sure if the SELECT is finished.\nIf it is the problem I should be able to work around it by just fetching all results into an array right before the while loop in line 332 and iterate over the array instead of the PDO result handle. If this works, it would support my theory. If it doesn't change anything, I'll believe you ;-)\nI'll report back as soon as I've tried it.\n. I changed the query. You can find my new version here:\nhttps://gist.github.com/c-mauderer/fe24d58980477e344a907e85ac81d683#file-versionupgrade-php-L331\nThis solved at least this problem. But the same error message appears on line 360 of the new file.\nI'm not sure how much Baikal changed between 0.2.7 and 0.4.5 but I would assume that a similar construction is used at further places in the code? That would mean that The current version cant be used with the ancient SQLite version that my hoster offers. If that is so, you should think about adding a version check and / or a line to the requirements that SQLite >= 3.3.7 is necessary.\nAs a fallback solution for my special case: Is there any simple way to migrate an existing SQLite database to a MySQL database?\n. I found the same construct two additional times in VersionUpgrade.php. I changed them too in the gist. Now at least the update works: https://gist.github.com/c-mauderer/fe24d58980477e344a907e85ac81d683\nI'll try to find out if there are any other problems with 0.4.5 and my unfortunately ancient SQLite.\n. Seems that there are some more problems with the update. But I'm quite sure that they are not related to this one. Now I get a lot of errors 400 or 401 in my access_log along the line of \"PROPFIND /cal.php/calendars/christian/default/\". Even if I try to use the new \"dav.php\" URL. But like I said: I don't think that is related to the problem with the old SQLite version so I'll try to not flood this thread with it any further.\n. @MacJudge: Yes, Daniel, I agree. It is the same webhoster: celeros.de\nAfter you have the same problem, I might use the thread for further discussion. I hope that is OK for you both @evert and @MacJudge?\nI tested a lot of different combinations and configurations with fresh installations:\nOn a 0.2.7 flat installations, everything works fine. When I use some of the newer versions (I tested 0.3.3, 0.3.5, 0.4.5) than I get an error. I used exactly the same server configuration (I just renamed the directory without touching the config). Both times it has been an PHP 5.5.4\nThe problem appears when my client (Thunderbird with CardBook) sends out the following request:\nPROPFIND /card.php/addressbooks/test/default/ HTTP/1.1\nFor the 0.2.7 version, the server reacts with an HTTP/1.1 207 Multi-Status while on the newer versions I get an HTTP/1.1 400 Bad Request\nI'm running out of ideas what can cause such a behavior. Any hints where to search?\nCeleros is using an nginx / Apache combination. nginx should serve static request, Apache should do the rest. I get the following Apache messages in the access-log:\n[04/Jun/2016:12:14:56 +0200] \"PROPFIND /card.php/addressbooks/test/default/ HTTP/1.0\" 400 679 \"-\" \"Thunderbird Lightning/4.7.1\"\nI can't find any more error messages in the logs regarding this problem.\n. ",
    "trancephorm": "php7.0-mysql   already installed, fpm daemon restarted.... MySQL driver for PDO seems to be loaded because it's listed in phpinfo() under Module Authors section (not sure)... I was thinking this is maybe related to Baikal somehow, sorry...\n. php7.0-mysql   already installed, fpm daemon restarted.... MySQL driver for PDO seems to be loaded because it's listed in phpinfo() under Module Authors section (not sure)... I was thinking this is maybe related to Baikal somehow, sorry...\n. ",
    "jpalcantara": "Everything is listed\nConsider encryption my public key is available.\n-------- Original message --------From: Markus Unterwaditzer notifications@github.com Date: 5/25/16  20:30  (GMT+01:00) To: fruux/Baikal Baikal@noreply.github.com Cc: jpalcantara coperthought@riseup.net, Author author@noreply.github.com Subject: Re: [fruux/Baikal] Installing baikal-0.4.4.zip (#550) \nWhich command did not work? How did it fail?\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly or view it on GitHub\n. It failed to install it is clearly mentioned with the command I used\nConsider encryption my public key is available.\n-------- Original message --------From: Markus Unterwaditzer notifications@github.com Date: 5/25/16  21:07  (GMT+01:00) To: fruux/Baikal Baikal@noreply.github.com Cc: jpalcantara coperthought@riseup.net, Author author@noreply.github.com Subject: Re: [fruux/Baikal] Installing baikal-0.4.4.zip (#550) \nIt is not listed how it failed.\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly or view it on GitHub\n. I got this from http://codedvisions.blogspot.be/2014/09/installing-baikal-caldav-calendar.html\nWhat did the chmod command output? stdout/stderr\nThe directory did not exist\n    How did the installation through the browser \"not work\"? Again, what was shown? Were there any server logs for that request?  Not found\n. Issue is not resolved!  A ticket is open for resolution!\n. I looked at the so called instruction that are NOT CLEAR!\nhttp://sabre.io/baikal/install/\nSo I had asked in a previous  issue if this install would work and the answer was YES as long as I downloaded the updated software.  The only thing that DID NOT work as mentioned clearly is\ntail | sudo chmod 755 Specific/db/db.sqlite \nchmod: cannot access 'Specific/db/db.sqlite': No such file or directory\n. Then get out of the business!  You write this and then you don't take responsibility.  Go ahead I will find better developed and support with another software!  Yes it was mention at a different ticket, but then then process is utterly flawed\n. Whatever\n. Whatever! \u00a0I know now that dealing incompetent is worth my TIME!! \u00a0STOP EMAIL\nConsider encryption my public key is available.\n-------- Original message --------From: nakinigit notifications@github.com Date: 5/25/16  22:22  (GMT+01:00) To: fruux/Baikal Baikal@noreply.github.com Cc: jpalcantara coperthought@riseup.net, Author author@noreply.github.com Subject: Re: [fruux/Baikal] Baikal SUCKS  (#551) \nIgnore the haters, I appreciate your efforts and I'm sure many others do as well.\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly or view it on GitHub\n. Whatever\nConsider encryption my public key is available.\n-------- Original message --------From: Markus Unterwaditzer notifications@github.com Date: 5/25/16  22:44  (GMT+01:00) To: fruux/Baikal Baikal@noreply.github.com Cc: jpalcantara coperthought@riseup.net, Author author@noreply.github.com Subject: Re: [fruux/Baikal] Baikal SUCKS  (#551) \nI'm not affiliated with Baikal. Thank netgusto and evert for what they're doing.\nOP, if you want no more emails, you can unsubscribe in the sidebar. But you're the competent one around here...\nOn 25 May 2016 22:24:57 CEST, Aeon512 notifications@github.com wrote:\n\nI second this absolutely. Baikal provides the best CardDAV and CalDAV\nexperience, is actively maintained, and the support is absolutely fast\nand excellent. I absolutely appreciate all the efforts put into Baikal.\n\nYou are receiving this because you commented.\nReply to this email directly or view it on GitHub:\nhttps://github.com/fruux/Baikal/issues/551#issuecomment-221696100\n\n\nSent from my Android device with K-9 Mail. Please excuse my brevity.\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly or view it on GitHub\n. Everything is listed\nConsider encryption my public key is available.\n-------- Original message --------From: Markus Unterwaditzer notifications@github.com Date: 5/25/16  20:30  (GMT+01:00) To: fruux/Baikal Baikal@noreply.github.com Cc: jpalcantara coperthought@riseup.net, Author author@noreply.github.com Subject: Re: [fruux/Baikal] Installing baikal-0.4.4.zip (#550) \nWhich command did not work? How did it fail?\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly or view it on GitHub\n. It failed to install it is clearly mentioned with the command I used\nConsider encryption my public key is available.\n-------- Original message --------From: Markus Unterwaditzer notifications@github.com Date: 5/25/16  21:07  (GMT+01:00) To: fruux/Baikal Baikal@noreply.github.com Cc: jpalcantara coperthought@riseup.net, Author author@noreply.github.com Subject: Re: [fruux/Baikal] Installing baikal-0.4.4.zip (#550) \nIt is not listed how it failed.\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly or view it on GitHub\n. I got this from http://codedvisions.blogspot.be/2014/09/installing-baikal-caldav-calendar.html\nWhat did the chmod command output? stdout/stderr\nThe directory did not exist\n    How did the installation through the browser \"not work\"? Again, what was shown? Were there any server logs for that request?  Not found\n. Issue is not resolved!  A ticket is open for resolution!\n. I looked at the so called instruction that are NOT CLEAR!\nhttp://sabre.io/baikal/install/\nSo I had asked in a previous  issue if this install would work and the answer was YES as long as I downloaded the updated software.  The only thing that DID NOT work as mentioned clearly is\ntail | sudo chmod 755 Specific/db/db.sqlite \nchmod: cannot access 'Specific/db/db.sqlite': No such file or directory\n. Then get out of the business!  You write this and then you don't take responsibility.  Go ahead I will find better developed and support with another software!  Yes it was mention at a different ticket, but then then process is utterly flawed\n. Whatever\n. Whatever! \u00a0I know now that dealing incompetent is worth my TIME!! \u00a0STOP EMAIL\nConsider encryption my public key is available.\n-------- Original message --------From: nakinigit notifications@github.com Date: 5/25/16  22:22  (GMT+01:00) To: fruux/Baikal Baikal@noreply.github.com Cc: jpalcantara coperthought@riseup.net, Author author@noreply.github.com Subject: Re: [fruux/Baikal] Baikal SUCKS  (#551) \nIgnore the haters, I appreciate your efforts and I'm sure many others do as well.\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly or view it on GitHub\n. Whatever\nConsider encryption my public key is available.\n-------- Original message --------From: Markus Unterwaditzer notifications@github.com Date: 5/25/16  22:44  (GMT+01:00) To: fruux/Baikal Baikal@noreply.github.com Cc: jpalcantara coperthought@riseup.net, Author author@noreply.github.com Subject: Re: [fruux/Baikal] Baikal SUCKS  (#551) \nI'm not affiliated with Baikal. Thank netgusto and evert for what they're doing.\nOP, if you want no more emails, you can unsubscribe in the sidebar. But you're the competent one around here...\nOn 25 May 2016 22:24:57 CEST, Aeon512 notifications@github.com wrote:\n\nI second this absolutely. Baikal provides the best CardDAV and CalDAV\nexperience, is actively maintained, and the support is absolutely fast\nand excellent. I absolutely appreciate all the efforts put into Baikal.\n\nYou are receiving this because you commented.\nReply to this email directly or view it on GitHub:\nhttps://github.com/fruux/Baikal/issues/551#issuecomment-221696100\n\n\nSent from my Android device with K-9 Mail. Please excuse my brevity.\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly or view it on GitHub\n. ",
    "Aeon512": "I second this absolutely. Baikal provides the best CardDAV and CalDAV experience, is actively maintained, and the support is absolutely fast and excellent. I absolutely appreciate all the efforts put into Baikal.\n. I second this absolutely. Baikal provides the best CardDAV and CalDAV experience, is actively maintained, and the support is absolutely fast and excellent. I absolutely appreciate all the efforts put into Baikal.\n. ",
    "zbits": "Still working great. Thanks for the help!\n. Still working great. Thanks for the help!\n. ",
    "nixis": "@mmoll Thanks! And sorry, I have not seen this thread. \n. @mmoll Thanks! And sorry, I have not seen this thread. \n. ",
    "Palingenae": "So i should ask to the California's and Today Calendar's devs ?\nI bet I can't count on Microsoft willingness about that. Except it already absorbed Sunrise.\n. Thanks! I shall put this issue's permalink so they can get even more context.\n. So i should ask to the California's and Today Calendar's devs ?\nI bet I can't count on Microsoft willingness about that. Except it already absorbed Sunrise.\n. Thanks! I shall put this issue's permalink so they can get even more context.\n. ",
    "GDmac": "+1 for silex :-) However i can't install from the forked repo, after entering admin pass, it exceptions out\nTwig_Loader_String class is deprecated since version 1.18.1\nEDIT fixed by changing twig loader in flake / util / tools (L:361)\n``` php\n        // $loader = new \\Twig_Loader_String();\n        // $twig = new \\Twig_Environment($loader);\n        // return $twig->render($sCode, $aMarkers);\n    $tplName = uniqid( 'string_template_', true);\n    $loader = new \\Twig_Loader_Array( array($tplName => $sCode) );\n    $env = new \\Twig_Environment($loader);\n    $env->setCache(false);\n    return $env->render($tplName, $aMarkers);\n\n```\nEDIT2 \nBeware that silex (symfony) has some issues with: \"To trailing slash or not to trailing slah\"\nhttps://github.com/silexphp/Silex/issues/149\n. +1 for silex :-) However i can't install from the forked repo, after entering admin pass, it exceptions out\nTwig_Loader_String class is deprecated since version 1.18.1\nEDIT fixed by changing twig loader in flake / util / tools (L:361)\n``` php\n        // $loader = new \\Twig_Loader_String();\n        // $twig = new \\Twig_Environment($loader);\n        // return $twig->render($sCode, $aMarkers);\n    $tplName = uniqid( 'string_template_', true);\n    $loader = new \\Twig_Loader_Array( array($tplName => $sCode) );\n    $env = new \\Twig_Environment($loader);\n    $env->setCache(false);\n    return $env->render($tplName, $aMarkers);\n\n```\nEDIT2 \nBeware that silex (symfony) has some issues with: \"To trailing slash or not to trailing slah\"\nhttps://github.com/silexphp/Silex/issues/149\n. ",
    "jansorg": "\nit is a one-user setup (1 user with 1 addressbook and two calendars)\niOS still displays the contact. I double checked the local addressbook: I have no local contacts. I have two iOS devices, both show the same behaviour. \nThe iOS device still displays the contact after creating it.\n. Thanks! Seems to be working fine here with iOS\n. - it is a one-user setup (1 user with 1 addressbook and two calendars)\niOS still displays the contact. I double checked the local addressbook: I have no local contacts. I have two iOS devices, both show the same behaviour. \nThe iOS device still displays the contact after creating it.\n. Thanks! Seems to be working fine here with iOS\n. \n",
    "kernelpaniclite": "I just had a similar problem with contacts not syncing and found out, that i did the upgrade of my baikal installation from 0.4.4 to 0.4.5 by a package manager and didn't visited the upgrade page in the web browser. After the upgrade everything was working again.\n. I just had a similar problem with contacts not syncing and found out, that i did the upgrade of my baikal installation from 0.4.4 to 0.4.5 by a package manager and didn't visited the upgrade page in the web browser. After the upgrade everything was working again.\n. ",
    "edwlarkey": "The same thing is happening to me. I installed 0.4.4 and never got it to work correctly with iOS 9.3.2. Contacts would sync to iOS initially, but any updates or new contacts would not sync to the server. Mac OS X 10.11.5 works just fine. \nI upgraded to Baikal 0.4.5 today, clicked 'upgrade' in the Baikal admin, and iOS is still not updating the server.\n. The same thing is happening to me. I installed 0.4.4 and never got it to work correctly with iOS 9.3.2. Contacts would sync to iOS initially, but any updates or new contacts would not sync to the server. Mac OS X 10.11.5 works just fine. \nI upgraded to Baikal 0.4.5 today, clicked 'upgrade' in the Baikal admin, and iOS is still not updating the server.\n. ",
    "migu": "You're right. I should have provided more information. Next time.\nMeanwhile my upgrade succeeded.\n. You're right. I should have provided more information. Next time.\nMeanwhile my upgrade succeeded.\n. ",
    "L45eMy": "Had the same problem. The reason was that the config file was not writable by the web server and the version number could not be updated. So the update succeeded the first time, but trying to access the admin panel would try another database upgrade. I rolled back the database and fixed the rights for the two config php files in the Specific folder. Would be nice to get an error if the config file could not be written.\n. Had the same problem. The reason was that the config file was not writable by the web server and the version number could not be updated. So the update succeeded the first time, but trying to access the admin panel would try another database upgrade. I rolled back the database and fixed the rights for the two config php files in the Specific folder. Would be nice to get an error if the config file could not be written.\n. ",
    "spampitr": "Thanks\nSo there is no change to the database structure right? \nOverwritting files is the only thing to do and there is no upgrade script when accessing the admin. Correct?\n\nPL/\n\nOn 28 juin 2016, at 20:55, Evert Pot notifications@github.com wrote:\nHi @spampitr ,\nLocking is indeed no longer a feature. If you upgraded to 0.4.5 and you are accessing the admin, it means that the upgrade must already have been successful.\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub, or mute the thread.\n. Thanks\nSo there is no change to the database structure right? \nOverwritting files is the only thing to do and there is no upgrade script when accessing the admin. Correct?\n\n\nPL/\n\nOn 28 juin 2016, at 20:55, Evert Pot notifications@github.com wrote:\nHi @spampitr ,\nLocking is indeed no longer a feature. If you upgraded to 0.4.5 and you are accessing the admin, it means that the upgrade must already have been successful.\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub, or mute the thread.\n. \n",
    "msrv": "Update: I fixed this. \nIt was not about the hostname or about baikal, the error was caused by the PHP5-FPM socket. As i changed it to a TCP socket instead of a unix socket, Baikal started to work immediately. \nEvert, thank you for stating that baikal was not the problem. I did not bother to look at php5 because it worked flawlessly before...\n. Update: I fixed this. \nIt was not about the hostname or about baikal, the error was caused by the PHP5-FPM socket. As i changed it to a TCP socket instead of a unix socket, Baikal started to work immediately. \nEvert, thank you for stating that baikal was not the problem. I did not bother to look at php5 because it worked flawlessly before...\n. ",
    "felixfkrull": "Hi,\nwhat will be the way to read and write the baikal settings?\nA small part is currently included in the config/config.php.\nWill this be the place where all settings are stored?\nHow to deal with the fact, that this is a regular php file that returns an array?\nMaybe these are all dumb questions but a dont know much about that topic...\n. The numbers on dashboard are not hardcoded anymore, right?\nSo is there a check missing in the task list?\n. Sorry for missing to sync from upstream before.\nBut this would have created an additional merge commit, right?\n. Instead one should use the getCalendarsForUser() of the CalDAV PDO backend, right?\nThe returned array uses keys with special characters like {DAV:}displayname, which I wasn't able to access in the twig template.\nDo I have to extract these data in the controller action before handing over to twig?\nWhat will be your prefered way?\n. Correct :)\n. I think i got this CS thing now ;)\n. why does my local sabre-cs-fixer not complain about any CS-failure but travis does?\n$ vendor/bin/sabre-cs-fixer fix src/\nLoaded config from \"/Users/felix/git-repos/Baikal/vendor/sabre/cs/bin/php-cs-fixer-config.php\"\nFixed all files in 2.209 seconds, 7.250 MB memory used\n$\n. Yes. Might be my mistake...\n. The login enforcment only works for the dashboard. All other URLs are not yet protected. \n. is it possible to reset this branch's HEAD by one and make a new topic-branch for that auth stuff?\nor will this corrupt the silex-rewrite-create-cal-ab branch's history irreparably?\n. ok, sorry. I got the point concerning authentication.\nDoes that mean that you plan a digest access authentication (HTTP based) for baikal and no HTML form based login?\nor is it possible to combine both? With jQuery?\n. OK, understood.\nUsing the internal sabre/dav API for checking username/password means to call the Auth Backend's check method? So it's necessary to create an additional request (and response) objects from within the AdminController's postLoginAction based on the infomation from the form POST to provide these to the backend, right?\nOr did I overlook something?\n. No, I do not have a clou.\nI do not know how to create the Sabre/http/request objects that have the right authentication headers.\nHow to handle the 2 auth roundtrips neccassary for Digest Auth?\nOr is it much easier?\nAny hint appreciated \ud83d\ude33. I think you should use\n{domain}/html/dav.php/calendars/{username}/{calendarname}/\nif you installed baikal in your webserver root.\nHope that helps.. What does your browser say to <your domain>/baikal/html/dav.php ?. Hi,\nwhat will be the way to read and write the baikal settings?\nA small part is currently included in the config/config.php.\nWill this be the place where all settings are stored?\nHow to deal with the fact, that this is a regular php file that returns an array?\nMaybe these are all dumb questions but a dont know much about that topic...\n. The numbers on dashboard are not hardcoded anymore, right?\nSo is there a check missing in the task list?\n. Sorry for missing to sync from upstream before.\nBut this would have created an additional merge commit, right?\n. Instead one should use the getCalendarsForUser() of the CalDAV PDO backend, right?\nThe returned array uses keys with special characters like {DAV:}displayname, which I wasn't able to access in the twig template.\nDo I have to extract these data in the controller action before handing over to twig?\nWhat will be your prefered way?\n. Correct :)\n. I think i got this CS thing now ;)\n. why does my local sabre-cs-fixer not complain about any CS-failure but travis does?\n$ vendor/bin/sabre-cs-fixer fix src/\nLoaded config from \"/Users/felix/git-repos/Baikal/vendor/sabre/cs/bin/php-cs-fixer-config.php\"\nFixed all files in 2.209 seconds, 7.250 MB memory used\n$\n. Yes. Might be my mistake...\n. The login enforcment only works for the dashboard. All other URLs are not yet protected. \n. is it possible to reset this branch's HEAD by one and make a new topic-branch for that auth stuff?\nor will this corrupt the silex-rewrite-create-cal-ab branch's history irreparably?\n. ok, sorry. I got the point concerning authentication.\nDoes that mean that you plan a digest access authentication (HTTP based) for baikal and no HTML form based login?\nor is it possible to combine both? With jQuery?\n. OK, understood.\nUsing the internal sabre/dav API for checking username/password means to call the Auth Backend's check method? So it's necessary to create an additional request (and response) objects from within the AdminController's postLoginAction based on the infomation from the form POST to provide these to the backend, right?\nOr did I overlook something?\n. No, I do not have a clou.\nI do not know how to create the Sabre/http/request objects that have the right authentication headers.\nHow to handle the 2 auth roundtrips neccassary for Digest Auth?\nOr is it much easier?\nAny hint appreciated \ud83d\ude33. I think you should use\n{domain}/html/dav.php/calendars/{username}/{calendarname}/\nif you installed baikal in your webserver root.\nHope that helps.. What does your browser say to <your domain>/baikal/html/dav.php ?. ",
    "Rudloff": "Any news on this? Is there something we can do to help?. I can't reproduce anymore with DAVdroid 1.5, so I guess this is not a bug in Baikal.. The sabre/dav ACL plugin is loaded in Baikal so I thought it would work (since Agendav uses ACL for sharing).. Any news on this? Is there something we can do to help?. I can't reproduce anymore with DAVdroid 1.5, so I guess this is not a bug in Baikal.. The sabre/dav ACL plugin is loaded in Baikal so I thought it would work (since Agendav uses ACL for sharing).. ",
    "aton0815": "I cannot access the error log directly, thought perhaps its a known error. Just contacted the provider, they will activate the logs for me, will be able to access them tomorrow, will be back :)\n. AH01215: PHP Fatal error: Call to undefined method BaikalAdmin\\\\Core\\\\Auth::assertUnlocked() in /home/my.domain/baikal/admin/install/index.php on line 57\nPerhaps its worth mentioning that I used the flat package before. I read that it shouldnt create any problems, though.\n. I cannot access the error log directly, thought perhaps its a known error. Just contacted the provider, they will activate the logs for me, will be able to access them tomorrow, will be back :)\n. AH01215: PHP Fatal error: Call to undefined method BaikalAdmin\\\\Core\\\\Auth::assertUnlocked() in /home/my.domain/baikal/admin/install/index.php on line 57\nPerhaps its worth mentioning that I used the flat package before. I read that it shouldnt create any problems, though.\n. ",
    "akam-it": "Hello,\nare there any changes now?. Hello,\nare there any changes now?. ",
    "Globulino": "From http://sabre.io/dav/principals/\n\"email must be set if you do anything with CalDAV and invitations\"\nSo drop question 1, but fix 2.\n. This is my \"workaround\":\n1. remove baikal\n2. install pure sabre/dav\n3. fill database/add users by hand\n4. deactivate browser-plugin\nI have a pure carddav server, I don't see a \"must\" for user email... I do not have just a family&friends or company only environment.\n. From http://sabre.io/dav/principals/\n\"email must be set if you do anything with CalDAV and invitations\"\nSo drop question 1, but fix 2.\n. This is my \"workaround\":\n1. remove baikal\n2. install pure sabre/dav\n3. fill database/add users by hand\n4. deactivate browser-plugin\nI have a pure carddav server, I don't see a \"must\" for user email... I do not have just a family&friends or company only environment.\n. ",
    "m-ueberall": "\n\nremove baikal\n\n\nJust saying--wouldn't it have been (much) easier and more consistent if you just added a filter which (temporarily) removed/obfuscated the email addresses in the web UI (e.g., using the Apache mod_substitute module) if you didn't want to (temporarily) patch the Baikal sources?\nBut if the above works for you...\n. > 1. remove baikal\nJust saying--wouldn't it have been (much) easier and more consistent if you just added a filter which (temporarily) removed/obfuscated the email addresses in the web UI (e.g., using the Apache mod_substitute module) if you didn't want to (temporarily) patch the Baikal sources?\nBut if the above works for you...\n. ",
    "Wecoboss": "Thanks for your very quick reply.\nIndeed, the upgrade was really happening in the background because after the timeout there were changes in the database. However, changing the execution time to 1800 didn't solve the issue.\nI found a way to finally do the update: I had to disable the dav services on all the connected devices. They were syncing during the update and were creating endless loop of redirection to /admin/install/admin/install/... I don't know if it is my specific network configuration that is the cause of this loop (I am using a nginx reverse proxy before the apache server) but it solved the issue.\nI had another issue related to the update: after successfully update the database, I clicked on the button to access the admin section but it triggered another update that ended up with the known \"duplicate synctoken\" issue. So I had to restore my backup, do the first update, restart apache and connect to the normal baikal url after deleting all cookies, cache, to get a login prompt ... and it finally worked...\nI think it could be a good thing to release the command-line upgrade commands if possible because it would have been easier for me to stop the public network interface on my server and update from cli instead of disconnecting every devices. \nThanks again for all your work.\n. Thanks for your very quick reply.\nIndeed, the upgrade was really happening in the background because after the timeout there were changes in the database. However, changing the execution time to 1800 didn't solve the issue.\nI found a way to finally do the update: I had to disable the dav services on all the connected devices. They were syncing during the update and were creating endless loop of redirection to /admin/install/admin/install/... I don't know if it is my specific network configuration that is the cause of this loop (I am using a nginx reverse proxy before the apache server) but it solved the issue.\nI had another issue related to the update: after successfully update the database, I clicked on the button to access the admin section but it triggered another update that ended up with the known \"duplicate synctoken\" issue. So I had to restore my backup, do the first update, restart apache and connect to the normal baikal url after deleting all cookies, cache, to get a login prompt ... and it finally worked...\nI think it could be a good thing to release the command-line upgrade commands if possible because it would have been easier for me to stop the public network interface on my server and update from cli instead of disconnecting every devices. \nThanks again for all your work.\n. ",
    "GrayGhost93": "Thanks that was the point. Works fine now ;) Maybe this should be noted somewhere in the requirements ;)\n. Thanks that was the point. Works fine now ;) Maybe this should be noted somewhere in the requirements ;)\n. ",
    "vsviridov": "By following this guide. http://sabre.io/baikal/upgrade/, I hit the /admin endpoint, went through the configuration steps. Admin UI was okay, but the /dav.php/ endpoint was broken.\n. Odd, just tried the same process again and it did work.\n. By following this guide. http://sabre.io/baikal/upgrade/, I hit the /admin endpoint, went through the configuration steps. Admin UI was okay, but the /dav.php/ endpoint was broken.\n. Odd, just tried the same process again and it did work.\n. ",
    "oma84": "@Tntdruid Well, it is no news for me, that iOS 5 is outdated. But why should I buy a new device, if the old one is still fine? Checking mails and calendar entries is still possible. And a working to-do-list, that can be synced, is the only thing missing. \n@untitaker And I also think it's the problem of the iPod or at least of the apple app. But do you (or someone else) know a possibility to solve that (except buying a new device)? Maybe an app, that is iOS 5 compatible and does, what I want?\n. Well, I don't have exactly what you wanted, but I can show, what the database offers:\nBEGIN:VCALENDAR\nCALSCALE:GREGORIAN\nPRODID:-//Apple Inc.//iOS 5.1.1//EN\nVERSION:2.0\nBEGIN:VTODO\nCOMPLETED:20160817T221413Z\nCREATED:20160817T221352Z\nDTSTAMP:20160817T221421Z\nLAST-MODIFIED:20160817T221415Z\nPERCENT-COMPLETE:100\nSEQUENCE:0\nSUMMARY:Testaufgabe 2\nUID:EC98E496-A2D3-41F4-951D-F2AA7E7AC632\nEND:VTODO\nEND:VCALENDAR\nAnd the ones really completed also offer\nSTATUS:COMPLETED\nSo it seems, that the apple app doesn't send this info.\n. Yeah, I hate planned obsolescence. I just managed to run spotify on that old thing. Never thought it would be possible. :) \nBut another reason is, that I don't own a smartphone (yet) because of financial reasons. So I try to get the best out of what I have.\nBack to topic: Well, as far as I know baikal does the transfer to the database, right? Isn't it possible to add something like\nphp\nif(PRODID=='-//Apple Inc.//iOS 5.1.1' && PERCENT-COMPLETE == 100)\n{\n  // add 'STATUS:COMPLETED' to the database text`\n}\n?\nWell, surely this won't work like the way I wrote it. But I hope you get the idea...\n\u20acdit: Maybe I can do it myself, but I don't know where to look.\n. @Tntdruid Well, it is no news for me, that iOS 5 is outdated. But why should I buy a new device, if the old one is still fine? Checking mails and calendar entries is still possible. And a working to-do-list, that can be synced, is the only thing missing. \n@untitaker And I also think it's the problem of the iPod or at least of the apple app. But do you (or someone else) know a possibility to solve that (except buying a new device)? Maybe an app, that is iOS 5 compatible and does, what I want?\n. Well, I don't have exactly what you wanted, but I can show, what the database offers:\nBEGIN:VCALENDAR\nCALSCALE:GREGORIAN\nPRODID:-//Apple Inc.//iOS 5.1.1//EN\nVERSION:2.0\nBEGIN:VTODO\nCOMPLETED:20160817T221413Z\nCREATED:20160817T221352Z\nDTSTAMP:20160817T221421Z\nLAST-MODIFIED:20160817T221415Z\nPERCENT-COMPLETE:100\nSEQUENCE:0\nSUMMARY:Testaufgabe 2\nUID:EC98E496-A2D3-41F4-951D-F2AA7E7AC632\nEND:VTODO\nEND:VCALENDAR\nAnd the ones really completed also offer\nSTATUS:COMPLETED\nSo it seems, that the apple app doesn't send this info.\n. Yeah, I hate planned obsolescence. I just managed to run spotify on that old thing. Never thought it would be possible. :) \nBut another reason is, that I don't own a smartphone (yet) because of financial reasons. So I try to get the best out of what I have.\nBack to topic: Well, as far as I know baikal does the transfer to the database, right? Isn't it possible to add something like\nphp\nif(PRODID=='-//Apple Inc.//iOS 5.1.1' && PERCENT-COMPLETE == 100)\n{\n  // add 'STATUS:COMPLETED' to the database text`\n}\n?\nWell, surely this won't work like the way I wrote it. But I hope you get the idea...\n\u20acdit: Maybe I can do it myself, but I don't know where to look.\n. ",
    "solence": "Any news about the next release? It has been quite some time since the last update.... Any news about the next release? It has been quite some time since the last update.... ",
    "sbaum": "I'm getting this error using CalDAV-Sync on Android 7 preview 5 (Nexus 6). I've got the sync working again by switching to Basic Auth in Baikal admin and activating \"preemtive authentication\" in CalDAV-Sync.\nEdit: Sorry, but in fact I was not getting http-status 500 but 401.\n. I'm getting this error using CalDAV-Sync on Android 7 preview 5 (Nexus 6). I've got the sync working again by switching to Basic Auth in Baikal admin and activating \"preemtive authentication\" in CalDAV-Sync.\nEdit: Sorry, but in fact I was not getting http-status 500 but 401.\n. ",
    "Godi22": "Hello,\nthanks for the answers!\n@sbaum  Thanks for the hint with the basic auth.\nThe preemptive auth. is incompatible with the digest Auth. in the DAVdroid app.\nhttps://davdroid.bitfire.at/fileadmin/user_upload/slider/davdroid-mobile-setup-method.png\n@evert Sorry I don't found an error log file for php or an error in the php log files.\nI also enable the error log file for FPM (http://stackoverflow.com/a/23223585) but this doesn't work or there isn't an error.\nI have an error log file from DAVdroid. Maybe this is useful.\ndavdroid-debug-270556329.txt\nNow I switched back to V 0.2.7 and this works well for me.\n. @evert \nYes, the database was the problem!\nI have the point four false interpreted. I downloaded the new baikal files and don't edit the specific folder.\nSo the new installation looks good for me, but it wasn't an upgrade.\nNow I copied the old specific folder to the new directory. Then the upgrade was successful.\nThanks!\n. Thanks!\n. Hello,\nthanks for the answers!\n@sbaum  Thanks for the hint with the basic auth.\nThe preemptive auth. is incompatible with the digest Auth. in the DAVdroid app.\nhttps://davdroid.bitfire.at/fileadmin/user_upload/slider/davdroid-mobile-setup-method.png\n@evert Sorry I don't found an error log file for php or an error in the php log files.\nI also enable the error log file for FPM (http://stackoverflow.com/a/23223585) but this doesn't work or there isn't an error.\nI have an error log file from DAVdroid. Maybe this is useful.\ndavdroid-debug-270556329.txt\nNow I switched back to V 0.2.7 and this works well for me.\n. @evert \nYes, the database was the problem!\nI have the point four false interpreted. I downloaded the new baikal files and don't edit the specific folder.\nSo the new installation looks good for me, but it wasn't an upgrade.\nNow I copied the old specific folder to the new directory. Then the upgrade was successful.\nThanks!\n. Thanks!\n. ",
    "zg": "An interesting remark to note is that I'm able to access mydomain.com/cal.php and mydomain.com/dav.php, but then I see a page without any style due to 404 errors:\n\n. I have set up my own user and added two calendars, too.\nWhen I configured Calendar, I used the following settings that worked without any issues.\n\n. I am getting a 405 Not Allowed if I do not have the HTTP dav extension for NGINX.\n. I get the following error in Calendar:\n\n. I tried to remove the dav_methods and dav_ext_methods from the nginx.conf and instead have it return 200 OK for the HTTP methods that are not available in NGINX, but that did not work.\nWhen I put the dav_methods and dav_ext_methods back into the codebase, this is what happens when I try and make a PROPFIND request:\n```\n$ http PROPFIND https://user@mydomain.com/dav.php/\nHTTP/1.1 207 Multi-Status\nConnection: keep-alive\nDate: Thu, 25 Aug 2016 03:15:50 GMT\nServer: nginx/1.10.1\nTransfer-Encoding: chunked\nxml version=\"1.0\" encoding=\"utf-8\" ?\n\n\n/dav.php/\n\n\n\nHTTP/1.1 404 Not Found\n\n\n\n```\n. Can you explain why `/dav.php` works on a web browser and returns `200 Found`, but when clicking `principals` (leading to `/dav.php/principals/`) I get a `404 Not Found`? Perhaps this could be resolved by URL rewriting.\n. My NGINX was misconfigured. I had to add in the `location` block on [this page](http://sabre.io/baikal/install/), but I had to change `fastcgi_pass unix:/var/run/php-fpm/php-fpm.sock` to `fastcgi_pass 127.0.0.1:9000;`.\n\nI removed the DAV plugin from NGINX, too and the issue is resolved.\nThe following settings were used for Calendar on Mac:\nAccount Type: Advanced\nUser Name: user\nPassword: *\nServer Address: caldav.mydomain.com\nServer Path: /cal.php/principals/user\nPort: 443\nUse SSL: [x]\nNGINX settings came off of the webpage on sabre.io.\n. 0.4.5.\n. Upgraded, and it works! As a side note, the /usr/ports/www/baikal port on FreeBSD is outdated (it's at 0.4.5 right now).  I'll get in touch with the appropriate people to get these updates in.\n. An interesting remark to note is that I'm able to access mydomain.com/cal.php and mydomain.com/dav.php, but then I see a page without any style due to 404 errors:\n\n. I have set up my own user and added two calendars, too.\nWhen I configured Calendar, I used the following settings that worked without any issues.\n\n. I am getting a 405 Not Allowed if I do not have the HTTP dav extension for NGINX.\n. I get the following error in Calendar:\n\n. I tried to remove the dav_methods and dav_ext_methods from the nginx.conf and instead have it return 200 OK for the HTTP methods that are not available in NGINX, but that did not work.\nWhen I put the dav_methods and dav_ext_methods back into the codebase, this is what happens when I try and make a PROPFIND request:\n```\n$ http PROPFIND https://user@mydomain.com/dav.php/\nHTTP/1.1 207 Multi-Status\nConnection: keep-alive\nDate: Thu, 25 Aug 2016 03:15:50 GMT\nServer: nginx/1.10.1\nTransfer-Encoding: chunked\nxml version=\"1.0\" encoding=\"utf-8\" ?\n\n\n/dav.php/\n\n\n\nHTTP/1.1 404 Not Found\n\n\n\n```\n. Can you explain why `/dav.php` works on a web browser and returns `200 Found`, but when clicking `principals` (leading to `/dav.php/principals/`) I get a `404 Not Found`? Perhaps this could be resolved by URL rewriting.\n. My NGINX was misconfigured. I had to add in the `location` block on [this page](http://sabre.io/baikal/install/), but I had to change `fastcgi_pass unix:/var/run/php-fpm/php-fpm.sock` to `fastcgi_pass 127.0.0.1:9000;`.\n\nI removed the DAV plugin from NGINX, too and the issue is resolved.\nThe following settings were used for Calendar on Mac:\nAccount Type: Advanced\nUser Name: user\nPassword: *\nServer Address: caldav.mydomain.com\nServer Path: /cal.php/principals/user\nPort: 443\nUse SSL: [x]\nNGINX settings came off of the webpage on sabre.io.\n. 0.4.5.\n. Upgraded, and it works! As a side note, the /usr/ports/www/baikal port on FreeBSD is outdated (it's at 0.4.5 right now).  I'll get in touch with the appropriate people to get these updates in.\n. ",
    "joschal": "I followed the instructions of @DigiAngel but unfortunately still got this error.\nUncaught exception during upgrade: exception 'PDOException' with message 'SQLSTATE[HY000]: General error: 1 duplicate column name: synctoken' in /var/www/html/baikal/Core/Frameworks/BaikalAdmin/Controller/Install/VersionUpgrade.php:190 Stack trace: #0 /var/www/html/baikal/Core/Frameworks/BaikalAdmin/Controller/Install/VersionUpgrade.php(190): PDO->exec('ALTER TABLE cal...') #1 /var/www/html/baikal/Core/Frameworks/BaikalAdmin/Controller/Install/VersionUpgrade.php(61): BaikalAdmin\\Controller\\Install\\VersionUpgrade->upgrade('0.2.7', '0.4.6') #2 /var/www/html/baikal/Core/Frameworks/Flake/Core/Render/Container.php(71): BaikalAdmin\\Controller\\Install\\VersionUpgrade->render() #3 /var/www/html/baikal/Core/Frameworks/Flake/Controller/Page.php(85): Flake\\Core\\Render\\Container->renderBlocks() #4 /var/www/html/baikal/html/admin/install/index.php(83): Flake\\Controller\\Page->render() #5 {main}\nMore suggestions?\n. I also turned off all devices that might sync with the server.\n. I did several backups. Currently I'm back at 0.2.7 and it works fine.\n. Do you think there is a chance of fixing the issue? Might there be a version in between where the upgrade works?\nOr should I just use a new and clean 0.4.6 instance and migrate my calendars and addressbooks via the clients?\nThanks for your fast support\n. I followed the instructions of @DigiAngel but unfortunately still got this error.\nUncaught exception during upgrade: exception 'PDOException' with message 'SQLSTATE[HY000]: General error: 1 duplicate column name: synctoken' in /var/www/html/baikal/Core/Frameworks/BaikalAdmin/Controller/Install/VersionUpgrade.php:190 Stack trace: #0 /var/www/html/baikal/Core/Frameworks/BaikalAdmin/Controller/Install/VersionUpgrade.php(190): PDO->exec('ALTER TABLE cal...') #1 /var/www/html/baikal/Core/Frameworks/BaikalAdmin/Controller/Install/VersionUpgrade.php(61): BaikalAdmin\\Controller\\Install\\VersionUpgrade->upgrade('0.2.7', '0.4.6') #2 /var/www/html/baikal/Core/Frameworks/Flake/Core/Render/Container.php(71): BaikalAdmin\\Controller\\Install\\VersionUpgrade->render() #3 /var/www/html/baikal/Core/Frameworks/Flake/Controller/Page.php(85): Flake\\Core\\Render\\Container->renderBlocks() #4 /var/www/html/baikal/html/admin/install/index.php(83): Flake\\Controller\\Page->render() #5 {main}\nMore suggestions?\n. I also turned off all devices that might sync with the server.\n. I did several backups. Currently I'm back at 0.2.7 and it works fine.\n. Do you think there is a chance of fixing the issue? Might there be a version in between where the upgrade works?\nOr should I just use a new and clean 0.4.6 instance and migrate my calendars and addressbooks via the clients?\nThanks for your fast support\n. ",
    "saesh": "Hello @evert,\n- I use sqlite\n- I noticed it after a couple of days, and tested it manually, and automatically; so hours\n- synctoken of my users default calendar is present, but for the secondary calendar it is empty\nI created a test user and a secondary calender as well, both calendars do not have a synctoken (no calendar entries created).\n. @Tntdruid I am running Baikal behind a nginx proxy, but it worked before, so I do not assume it is an nginx issue.\n. @evert The schema of calendars is this:\nsqlite> .schema calendars\nCREATE TABLE calendars (\n    id integer primary key asc,\n    principaluri text,\n    displayname text,\n    uri text,\n    synctoken integer,\n    description text,\n    calendarorder integer,\n    calendarcolor text,\n    timezone text,\n    components text,\n    transparent bool\n);\nAfter setting the synctoken all calendars sync again. Thanks!\n. Hi @MartinTGH, you could just export and import your data using your address book/calendar clients.\n. @Tntdruid Between 0.2.6 and 0.4.6 were some database migrations. I don't think a database export / import would work since the schemas are probably not compatible.\n. Maybe this is related to #591? You could try what @evert suggested in the comments.\n. Hello @evert,\n- I use sqlite\n- I noticed it after a couple of days, and tested it manually, and automatically; so hours\n- synctoken of my users default calendar is present, but for the secondary calendar it is empty\nI created a test user and a secondary calender as well, both calendars do not have a synctoken (no calendar entries created).\n. @Tntdruid I am running Baikal behind a nginx proxy, but it worked before, so I do not assume it is an nginx issue.\n. @evert The schema of calendars is this:\nsqlite> .schema calendars\nCREATE TABLE calendars (\n    id integer primary key asc,\n    principaluri text,\n    displayname text,\n    uri text,\n    synctoken integer,\n    description text,\n    calendarorder integer,\n    calendarcolor text,\n    timezone text,\n    components text,\n    transparent bool\n);\nAfter setting the synctoken all calendars sync again. Thanks!\n. Hi @MartinTGH, you could just export and import your data using your address book/calendar clients.\n. @Tntdruid Between 0.2.6 and 0.4.6 were some database migrations. I don't think a database export / import would work since the schemas are probably not compatible.\n. Maybe this is related to #591? You could try what @evert suggested in the comments.\n. ",
    "canonex": "Checked .htaccess and tested with some possibilities, regressed to the version 0.2.7 and I can be properly redirected to the admin page.\nThe program in still not usable as for each page change I have to re-enter my credentials.\nSome server configuration may cause this behavior?\nRe-upgraded to the latest version and still have issue.\nThank you,\nRickyx\nps. server answers\nPOST https://dav.brixel.it/html/admin/       302 Moved temporarily\n. No, I didn't.\nIn that particular server (a really standard one) I get the same error.\nMy .htaccess is:\n```\n\n    deny from all\n\n\n    RewriteEngine On\n    RewriteRule .* - [E=HTTP_AUTHORIZATION:%{HTTP:Authorization},L]\n\n\n    RewriteCond %{HTTPS} off\n    RewriteRule ^(.*)$ https://%{HTTP_HOST}%{REQUEST_URI} [L,R=301]\n\n```\nTried on another machine and it worked perfectly:\nI can't debug what I'm missing.\nThank you,\nRG\n. Oh, yes!\nAccessing log i discover that Apache is failing (even though I don't understand the error...).\n```\n2016-09-19 17:33:16 Warning 217.133.52.138      mod_fcgid: stderr:\nPHP Warning: session_start(): open(/var/www/vhosts/brixel.it/tmp/sess_8jak2m4kvq87tiqs4p1d0dreh0, O_RDWR) failed:\nNo such file or directory (2) in /var/www/vhosts/brixel.it/dav.brixel.it/Core/Frameworks/Flake/Framework.php on line 192, referer: https://dav.brixel.it/html/admin/\n\nPHP Fatal error: Uncaught exception 'ErrorException' with message 'Unknown: open(/var/www/vhosts/brixel.it/tmp/sess_8jak2m4kvq87tiqs4p1d0dreh0, O_RDWR) failed:\nNo such file or directory (2)' in Unknown:0, referer: https://dav.brixel.it/html/admin/\n\nStack trace:, referer: https://dav.brixel.it/html/admin/\n\n#0 [internal function]: Baikal\\\\Framework::exception_error_handler(2, 'Unknown: open(/...', 'Unknown', 0, Array),\nreferer: https://dav.brixel.it/html/admin/\n\n#1 {main}, referer: https://dav.brixel.it/html/admin/\n\nthrown in Unknown on line 0, referer: https://dav.brixel.it/html/admin/\n\nPHP Warning: session_start(): open(/var/www/vhosts/brixel.it/tmp/sess_8jak2m4kvq87tiqs4p1d0dreh0, O_RDWR) failed:\nNo such file or directory (2) in /var/www/vhosts/brixel.it/dav.brixel.it/Core/Frameworks/Flake/Framework.php on line 192, referer: https://dav.brixel.it/html/admin/\n\nPHP Fatal error: Uncaught exception 'ErrorException' with message 'Unknown: open(/var/www/vhosts/brixel.it/tmp/sess_8jak2m4kvq87tiqs4p1d0dreh0, O_RDWR) failed:\nNo such file or directory (2)' in Unknown:0, referer: https://dav.brixel.it/html/admin/\n\nStack trace:, referer: https://dav.brixel.it/html/admin/\n\n#0 [internal function]: Baikal\\\\Framework::exception_error_handler(2, 'Unknown: open(/...', 'Unknown', 0, Array),\nreferer: https://dav.brixel.it/html/admin/\n\n#1 {main}, referer: https://dav.brixel.it/html/admin/\n\nthrown in Unknown on line 0, referer: https://dav.brixel.it/html/admin/\n\n```\n. You already did ;)\nThank you for your support,\nI created tmp directory and now is working.\n. Checked .htaccess and tested with some possibilities, regressed to the version 0.2.7 and I can be properly redirected to the admin page.\nThe program in still not usable as for each page change I have to re-enter my credentials.\nSome server configuration may cause this behavior?\nRe-upgraded to the latest version and still have issue.\nThank you,\nRickyx\nps. server answers\nPOST https://dav.brixel.it/html/admin/       302 Moved temporarily\n. No, I didn't.\nIn that particular server (a really standard one) I get the same error.\nMy .htaccess is:\n```\n\n    deny from all\n\n\n    RewriteEngine On\n    RewriteRule .* - [E=HTTP_AUTHORIZATION:%{HTTP:Authorization},L]\n\n\n    RewriteCond %{HTTPS} off\n    RewriteRule ^(.*)$ https://%{HTTP_HOST}%{REQUEST_URI} [L,R=301]\n\n```\nTried on another machine and it worked perfectly:\nI can't debug what I'm missing.\nThank you,\nRG\n. Oh, yes!\nAccessing log i discover that Apache is failing (even though I don't understand the error...).\n```\n2016-09-19 17:33:16 Warning 217.133.52.138      mod_fcgid: stderr:\nPHP Warning: session_start(): open(/var/www/vhosts/brixel.it/tmp/sess_8jak2m4kvq87tiqs4p1d0dreh0, O_RDWR) failed:\nNo such file or directory (2) in /var/www/vhosts/brixel.it/dav.brixel.it/Core/Frameworks/Flake/Framework.php on line 192, referer: https://dav.brixel.it/html/admin/\n\nPHP Fatal error: Uncaught exception 'ErrorException' with message 'Unknown: open(/var/www/vhosts/brixel.it/tmp/sess_8jak2m4kvq87tiqs4p1d0dreh0, O_RDWR) failed:\nNo such file or directory (2)' in Unknown:0, referer: https://dav.brixel.it/html/admin/\n\nStack trace:, referer: https://dav.brixel.it/html/admin/\n\n#0 [internal function]: Baikal\\\\Framework::exception_error_handler(2, 'Unknown: open(/...', 'Unknown', 0, Array),\nreferer: https://dav.brixel.it/html/admin/\n\n#1 {main}, referer: https://dav.brixel.it/html/admin/\n\nthrown in Unknown on line 0, referer: https://dav.brixel.it/html/admin/\n\nPHP Warning: session_start(): open(/var/www/vhosts/brixel.it/tmp/sess_8jak2m4kvq87tiqs4p1d0dreh0, O_RDWR) failed:\nNo such file or directory (2) in /var/www/vhosts/brixel.it/dav.brixel.it/Core/Frameworks/Flake/Framework.php on line 192, referer: https://dav.brixel.it/html/admin/\n\nPHP Fatal error: Uncaught exception 'ErrorException' with message 'Unknown: open(/var/www/vhosts/brixel.it/tmp/sess_8jak2m4kvq87tiqs4p1d0dreh0, O_RDWR) failed:\nNo such file or directory (2)' in Unknown:0, referer: https://dav.brixel.it/html/admin/\n\nStack trace:, referer: https://dav.brixel.it/html/admin/\n\n#0 [internal function]: Baikal\\\\Framework::exception_error_handler(2, 'Unknown: open(/...', 'Unknown', 0, Array),\nreferer: https://dav.brixel.it/html/admin/\n\n#1 {main}, referer: https://dav.brixel.it/html/admin/\n\nthrown in Unknown on line 0, referer: https://dav.brixel.it/html/admin/\n\n```\n. You already did ;)\nThank you for your support,\nI created tmp directory and now is working.\n. ",
    "ahemwe": "My mistake: php 5.3.\nJust switched to 5.5, now everything works fine.\nSorry.\n. The log has no entry with baical directory :-(\nI already reinstalled and copied Specific-dir, but same error.\n. When accessing via browser, I get this message:\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<d:error xmlns:d=\"DAV:\" xmlns:s=\"http://sabredav.org/ns\">\n  <s:sabredav-version>3.1.3</s:sabredav-version>\n  <s:exception>LogicException</s:exception>\n  <s:message>Requested uri (/domain.tld/baikal/html/dav.php/calendars) is out of base uri (/domain.tld/html/dav.php/)</s:message>\n</d:error>\nIt seems there is an issue because of additinal sub-dir in the path when using ssl-id.de\nRegards\nAndreas\n. Changed PROJECT_BASEURI within \\baikal\\Core\\Frameworks\\Flake\\Framework.php with a kind of dirty code. Now, it works.\n(Remembered that I did that in the old version as well :-( \nThanks again!\n. My mistake: php 5.3.\nJust switched to 5.5, now everything works fine.\nSorry.\n. The log has no entry with baical directory :-(\nI already reinstalled and copied Specific-dir, but same error.\n. When accessing via browser, I get this message:\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<d:error xmlns:d=\"DAV:\" xmlns:s=\"http://sabredav.org/ns\">\n  <s:sabredav-version>3.1.3</s:sabredav-version>\n  <s:exception>LogicException</s:exception>\n  <s:message>Requested uri (/domain.tld/baikal/html/dav.php/calendars) is out of base uri (/domain.tld/html/dav.php/)</s:message>\n</d:error>\nIt seems there is an issue because of additinal sub-dir in the path when using ssl-id.de\nRegards\nAndreas\n. Changed PROJECT_BASEURI within \\baikal\\Core\\Frameworks\\Flake\\Framework.php with a kind of dirty code. Now, it works.\n(Remembered that I did that in the old version as well :-( \nThanks again!\n. ",
    "pr3d4t0r": "Hej.\nIt looks like the calendar URI looks malformed; please try these:\nhttps://calendar.server.yours/dav.php/calendars/yourBaikalUserName/calendarNameHere/\nOR\nhttps://calendar.server.yours/cal.php/calendars/yourBaikalUserName/calendarNameHere/\nLightning expects that you spell out each calendar.  Also, the path to the resource should not include the /baikal/html sub-path.\nDid you define the Apache or Nginx virtual (or actual) host for your server?  Please cross-check against the Ba\u00efkal server installation instructions.\nCheers!\npr3d\n. ## config/\nClarifying:  the primary settings will be defined in config/.\nFor dockerization purposes only, the simplest, safest way to productize the settings so that we can create standalone containers without having to build them every time, is by using environment variables during launch.  If these environment variables are present when the code at ENTRYPOINT starts, they will override the corresponding settings in config/.\nAdvanced users/sysadmins will always have the option to define their own settings as they see fit in config/ and build them into custom/private Docker images.\n. I envision something like this for configuration:\nEmbedded in config/\nphp\nreturn array(\n    .\n    .\n    'relay' => array(\n        'server' => \n            array_key_exists('RELAY_SERVER', _$ENV) ? $_ENV['RELAY_SERVER'] else 'localhost',\n        'port' => array_key_exists('RELAY_PORT', _$ENV) ? $_ENV['RELAY_PORT'] else '587',\n    )\n    .\n    .\n)\nThe other way would be to just get the configuration from config.php like:\n``` php\nif array_key_exists('RELAY_SERVER', $_ENV)\n    $relayConfig = array( ... / build the associative array here / );\nelse\n    $relayConfig = config['relay'];\nreturn $relayConfig    // This gets back to SwiftMailer, regardless\n```\nWhich one do you prefer?\n. Coolio - will do.\n. Last question:  how soon is this necessary?  How far away are we from an overhauled Baikal release?\n. Hej.\nIt looks like the calendar URI looks malformed; please try these:\nhttps://calendar.server.yours/dav.php/calendars/yourBaikalUserName/calendarNameHere/\nOR\nhttps://calendar.server.yours/cal.php/calendars/yourBaikalUserName/calendarNameHere/\nLightning expects that you spell out each calendar.  Also, the path to the resource should not include the /baikal/html sub-path.\nDid you define the Apache or Nginx virtual (or actual) host for your server?  Please cross-check against the Ba\u00efkal server installation instructions.\nCheers!\npr3d\n. ## config/\nClarifying:  the primary settings will be defined in config/.\nFor dockerization purposes only, the simplest, safest way to productize the settings so that we can create standalone containers without having to build them every time, is by using environment variables during launch.  If these environment variables are present when the code at ENTRYPOINT starts, they will override the corresponding settings in config/.\nAdvanced users/sysadmins will always have the option to define their own settings as they see fit in config/ and build them into custom/private Docker images.\n. I envision something like this for configuration:\nEmbedded in config/\nphp\nreturn array(\n    .\n    .\n    'relay' => array(\n        'server' => \n            array_key_exists('RELAY_SERVER', _$ENV) ? $_ENV['RELAY_SERVER'] else 'localhost',\n        'port' => array_key_exists('RELAY_PORT', _$ENV) ? $_ENV['RELAY_PORT'] else '587',\n    )\n    .\n    .\n)\nThe other way would be to just get the configuration from config.php like:\n``` php\nif array_key_exists('RELAY_SERVER', $_ENV)\n    $relayConfig = array( ... / build the associative array here / );\nelse\n    $relayConfig = config['relay'];\nreturn $relayConfig    // This gets back to SwiftMailer, regardless\n```\nWhich one do you prefer?\n. Coolio - will do.\n. Last question:  how soon is this necessary?  How far away are we from an overhauled Baikal release?\n. ",
    "jonasongithub": "Opening the url in a browser gives me the login prompt an then displays a list of files, so I guess that works fine. \nI also noticed that while the propfind command sent from lightning goes to the specified url, server logs show that the options command just goes to ../calendars/username so without the actual calendar name.\n. * Rebuilt URL to: OPTIONS/\n* Could not resolve host: OPTIONS\n* Closing connection 0\ncurl: (6) Could not resolve host: OPTIONS\n. curl -v -X -k OPTIONS https://xxxxxxxxx/baikal/html/dav.php/calendars/xxxx/default\n* Rebuilt URL to: OPTIONS/\n* Could not resolve host: OPTIONS\n* Closing connection 0\ncurl: (6) Could not resolve host: OPTIONS\n*   Trying xxxxxxxxxx\n* TCP_NODELAY set\n* Connected to xxxxxxxxxx (xxxxxxxxxx) port 443 (#1)\n* ALPN, offering h2\n* ALPN, offering http/1.1\n* Cipher selection: ALL:!EXPORT:!EXPORT40:!EXPORT56:!aNULL:!LOW:!RC4:@STRENGTH\n* successfully set certificate verify locations:\n*   CAfile: D:\\Downloads\\curl-7.50.2-win64-mingw\\bin\\curl-ca-bundle.crt\n  CApath: none\n* TLSv1.2 (OUT), TLS handshake, Client hello (1):\n* TLSv1.2 (IN), TLS handshake, Server hello (2):\n* TLSv1.2 (IN), TLS handshake, Certificate (11):\n* TLSv1.2 (OUT), TLS alert, Server hello (2):\n* SSL certificate problem: unable to get local issuer certificate\n* Curl_http_done: called premature == 1\n* stopped the pause stream!\n* Closing connection 1\ncurl: (60) SSL certificate problem: unable to get local issuer certificate\ni use a self signed certificate so curl can't verify it but that shouldn't be an issue with thunderbird since carddav sync works fine.\n. ```\nD:\\Downloads\\curl-7.50.2-win64-mingw\\bin>curl -v -k -X OPTIONS https://xxxxxxxxxxxx/baikal/html/dav.php/calendars/xxxxxxxxxxxx/default\n*   Trying xxxxxxxxxxxx...\n* TCP_NODELAY set\n* Connected to xxxxxxxxxxx(xxxxxxxxxxxx) port 443 (#0)\n* ALPN, offering h2\n* ALPN, offering http/1.1\n* Cipher selection: ALL:!EXPORT:!EXPORT40:!EXPORT56:!aNULL:!LOW:!RC4:@STRENGTH\n* TLSv1.2 (OUT), TLS handshake, Client hello (1):\n* TLSv1.2 (IN), TLS handshake, Server hello (2):\n* TLSv1.2 (IN), TLS handshake, Certificate (11):\n* TLSv1.2 (IN), TLS handshake, Server key exchange (12):\n* TLSv1.2 (IN), TLS handshake, Server finished (14):\n* TLSv1.2 (OUT), TLS handshake, Client key exchange (16):\n* TLSv1.2 (OUT), TLS change cipher, Client hello (1):\n* TLSv1.2 (OUT), TLS handshake, Finished (20):\n* TLSv1.2 (IN), TLS handshake, Finished (20):\n* SSL connection using TLSv1.2 / ECDHE-RSA-AES256-GCM-SHA384\n* ALPN, server accepted to use h2\n* Server certificate:\n*  subject: CN=Zbox\n*  start date: Feb 12 19:48:36 2016 GMT\n*  expire date: Feb 12 00:00:00 2017 GMT\n*  issuer: CN=Zbox\n*  SSL certificate verify result: unable to get local issuer certificate (20), continuing anyway.\n* Using HTTP2, server supports multi-use\n* Connection state changed (HTTP/2 confirmed)\n* Copying HTTP/2 data in stream buffer to connection buffer after upgrade: len=0\n* Using Stream ID: 1 (easy handle 0x270bae28120)\n\nOPTIONS /baikal/html/dav.php/calendars/xxxxxxxxx/default HTTP/1.1\nHost: xxxxxxxxxx\nUser-Agent: curl/7.50.2\nAccept: /\n\nConnection state changed (MAX_CONCURRENT_STREAMS updated)!\n< HTTP/2 401\n< cache-control: no-store, no-cache, must-revalidate\n< pragma: no-cache\n< content-type: application/xml; charset=utf-8\n< expires: Thu, 19 Nov 1981 08:52:00 GMT\n< server: Microsoft-IIS/10.0\n< set-cookie: PHPSESSID=4034fjeopsar0oifqv1487ctm5; path=/; HttpOnly\n< www-authenticate: Basic realm=\"sabre/dav\"\n< date: Fri, 16 Sep 2016 16:57:23 GMT\n< content-length: 354\n<\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n\n3.1.3\nSabre\\DAV\\Exception\\NotAuthenticated\nNo 'Authorization: Basic' header found. Either the client didn't send one, or the server is misconfigured\n\nCurl_http_done: called premature == 0\nConnection #0 to host xxxxxxxxxxxxx left intact\n.\nD:\\Downloads\\curl-7.50.2-win64-mingw\\bin>curl -v -k --user xxxxxx:xxxxxx -X OPTIONS https://xxxxxxxx/baikal/html/dav.php/calendars/xxxxxx/default\nTrying xxxxxxxxxxxx...\nTCP_NODELAY set\nConnected to xxxxxxxxxxxx(xxxxxxxxxxxxx) port 443 (#0)\nALPN, offering h2\nALPN, offering http/1.1\nCipher selection: ALL:!EXPORT:!EXPORT40:!EXPORT56:!aNULL:!LOW:!RC4:@STRENGTH\nTLSv1.2 (OUT), TLS handshake, Client hello (1):\nTLSv1.2 (IN), TLS handshake, Server hello (2):\nTLSv1.2 (IN), TLS handshake, Certificate (11):\nTLSv1.2 (IN), TLS handshake, Server key exchange (12):\nTLSv1.2 (IN), TLS handshake, Server finished (14):\nTLSv1.2 (OUT), TLS handshake, Client key exchange (16):\nTLSv1.2 (OUT), TLS change cipher, Client hello (1):\nTLSv1.2 (OUT), TLS handshake, Finished (20):\nTLSv1.2 (IN), TLS handshake, Finished (20):\nSSL connection using TLSv1.2 / ECDHE-RSA-AES256-GCM-SHA384\nALPN, server accepted to use h2\nServer certificate:\nsubject: CN=Zbox\nstart date: Feb 12 19:48:36 2016 GMT\nexpire date: Feb 12 00:00:00 2017 GMT\nissuer: CN=Zbox\nSSL certificate verify result: unable to get local issuer certificate (20), continuing anyway.\nUsing HTTP2, server supports multi-use\nConnection state changed (HTTP/2 confirmed)\nCopying HTTP/2 data in stream buffer to connection buffer after upgrade: len=0\nServer auth using Basic with user 'xxxxxxxxx'\n\nUsing Stream ID: 1 (easy handle 0x1d956bc8120)\nOPTIONS /baikal/html/dav.php/calendars/xxxxxxxxx/default HTTP/1.1\nHost: xxxxxxxxxx\nAuthorization: Basic am9uYXM6amR3ZGdscGJoMw==\nUser-Agent: curl/7.50.2\nAccept: /\n\n\nConnection state changed (MAX_CONCURRENT_STREAMS updated)!\n< HTTP/2 200\n< cache-control: no-store, no-cache, must-revalidate\n< pragma: no-cache\n< allow: OPTIONS, GET, HEAD, DELETE, PROPFIND, PUT, PROPPATCH, COPY, MOVE, REPORT\n< content-length: 0\n< content-type: text/html; charset=UTF-8\n< expires: Thu, 19 Nov 1981 08:52:00 GMT\n< accept-ranges: bytes\n< server: Microsoft-IIS/10.0\n< set-cookie: PHPSESSID=31gitipjc77daqt01dvlh2njl4; path=/; HttpOnly\n< x-sabre-version: 3.1.3\n< dav: 1, 3, extended-mkcol, access-control, calendarserver-principal-property-search, calendar-access, calendar-proxy, calendar-auto-schedule, calendar-availability, addressbook\n< ms-author-via: DAV\n< date: Fri, 16 Sep 2016 17:08:37 GMT\n<\n\nCurl_http_done: called premature == 0\nConnection #0 to host xxxxxxxxxx left intact\n. I use exactly the same url and username/password and nothing has changed since the last time. I just tried again anyway with the same result as before. The problem is also not new, before 0.4.6 i was on 0.2.7 for a while and lightning wouldn't work either.\n. Opening the url in a browser gives me the login prompt an then displays a list of files, so I guess that works fine. \nI also noticed that while the propfind command sent from lightning goes to the specified url, server logs show that the options command just goes to ../calendars/username so without the actual calendar name.\n.\nRebuilt URL to: OPTIONS/\nCould not resolve host: OPTIONS\nClosing connection 0\ncurl: (6) Could not resolve host: OPTIONS\n.\ncurl -v -X -k OPTIONS https://xxxxxxxxx/baikal/html/dav.php/calendars/xxxx/default\nRebuilt URL to: OPTIONS/\nCould not resolve host: OPTIONS\nClosing connection 0\ncurl: (6) Could not resolve host: OPTIONS\nTrying xxxxxxxxxx\nTCP_NODELAY set\nConnected to xxxxxxxxxx (xxxxxxxxxx) port 443 (#1)\nALPN, offering h2\nALPN, offering http/1.1\nCipher selection: ALL:!EXPORT:!EXPORT40:!EXPORT56:!aNULL:!LOW:!RC4:@STRENGTH\nsuccessfully set certificate verify locations:\nCAfile: D:\\Downloads\\curl-7.50.2-win64-mingw\\bin\\curl-ca-bundle.crt\n  CApath: none\nTLSv1.2 (OUT), TLS handshake, Client hello (1):\nTLSv1.2 (IN), TLS handshake, Server hello (2):\nTLSv1.2 (IN), TLS handshake, Certificate (11):\nTLSv1.2 (OUT), TLS alert, Server hello (2):\nSSL certificate problem: unable to get local issuer certificate\nCurl_http_done: called premature == 1\nstopped the pause stream!\nClosing connection 1\ncurl: (60) SSL certificate problem: unable to get local issuer certificate\n```\n\n\ni use a self signed certificate so curl can't verify it but that shouldn't be an issue with thunderbird since carddav sync works fine.\n. ```\nD:\\Downloads\\curl-7.50.2-win64-mingw\\bin>curl -v -k -X OPTIONS https://xxxxxxxxxxxx/baikal/html/dav.php/calendars/xxxxxxxxxxxx/default\n*   Trying xxxxxxxxxxxx...\n* TCP_NODELAY set\n* Connected to xxxxxxxxxxx(xxxxxxxxxxxx) port 443 (#0)\n* ALPN, offering h2\n* ALPN, offering http/1.1\n* Cipher selection: ALL:!EXPORT:!EXPORT40:!EXPORT56:!aNULL:!LOW:!RC4:@STRENGTH\n* TLSv1.2 (OUT), TLS handshake, Client hello (1):\n* TLSv1.2 (IN), TLS handshake, Server hello (2):\n* TLSv1.2 (IN), TLS handshake, Certificate (11):\n* TLSv1.2 (IN), TLS handshake, Server key exchange (12):\n* TLSv1.2 (IN), TLS handshake, Server finished (14):\n* TLSv1.2 (OUT), TLS handshake, Client key exchange (16):\n* TLSv1.2 (OUT), TLS change cipher, Client hello (1):\n* TLSv1.2 (OUT), TLS handshake, Finished (20):\n* TLSv1.2 (IN), TLS handshake, Finished (20):\n* SSL connection using TLSv1.2 / ECDHE-RSA-AES256-GCM-SHA384\n* ALPN, server accepted to use h2\n* Server certificate:\n*  subject: CN=Zbox\n*  start date: Feb 12 19:48:36 2016 GMT\n*  expire date: Feb 12 00:00:00 2017 GMT\n*  issuer: CN=Zbox\n*  SSL certificate verify result: unable to get local issuer certificate (20), continuing anyway.\n* Using HTTP2, server supports multi-use\n* Connection state changed (HTTP/2 confirmed)\n* Copying HTTP/2 data in stream buffer to connection buffer after upgrade: len=0\n* Using Stream ID: 1 (easy handle 0x270bae28120)\n\nOPTIONS /baikal/html/dav.php/calendars/xxxxxxxxx/default HTTP/1.1\nHost: xxxxxxxxxx\nUser-Agent: curl/7.50.2\nAccept: /\n\nConnection state changed (MAX_CONCURRENT_STREAMS updated)!\n< HTTP/2 401\n< cache-control: no-store, no-cache, must-revalidate\n< pragma: no-cache\n< content-type: application/xml; charset=utf-8\n< expires: Thu, 19 Nov 1981 08:52:00 GMT\n< server: Microsoft-IIS/10.0\n< set-cookie: PHPSESSID=4034fjeopsar0oifqv1487ctm5; path=/; HttpOnly\n< www-authenticate: Basic realm=\"sabre/dav\"\n< date: Fri, 16 Sep 2016 16:57:23 GMT\n< content-length: 354\n<\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n\n3.1.3\nSabre\\DAV\\Exception\\NotAuthenticated\nNo 'Authorization: Basic' header found. Either the client didn't send one, or the server is misconfigured\n\nCurl_http_done: called premature == 0\nConnection #0 to host xxxxxxxxxxxxx left intact\n.\nD:\\Downloads\\curl-7.50.2-win64-mingw\\bin>curl -v -k --user xxxxxx:xxxxxx -X OPTIONS https://xxxxxxxx/baikal/html/dav.php/calendars/xxxxxx/default\nTrying xxxxxxxxxxxx...\nTCP_NODELAY set\nConnected to xxxxxxxxxxxx(xxxxxxxxxxxxx) port 443 (#0)\nALPN, offering h2\nALPN, offering http/1.1\nCipher selection: ALL:!EXPORT:!EXPORT40:!EXPORT56:!aNULL:!LOW:!RC4:@STRENGTH\nTLSv1.2 (OUT), TLS handshake, Client hello (1):\nTLSv1.2 (IN), TLS handshake, Server hello (2):\nTLSv1.2 (IN), TLS handshake, Certificate (11):\nTLSv1.2 (IN), TLS handshake, Server key exchange (12):\nTLSv1.2 (IN), TLS handshake, Server finished (14):\nTLSv1.2 (OUT), TLS handshake, Client key exchange (16):\nTLSv1.2 (OUT), TLS change cipher, Client hello (1):\nTLSv1.2 (OUT), TLS handshake, Finished (20):\nTLSv1.2 (IN), TLS handshake, Finished (20):\nSSL connection using TLSv1.2 / ECDHE-RSA-AES256-GCM-SHA384\nALPN, server accepted to use h2\nServer certificate:\nsubject: CN=Zbox\nstart date: Feb 12 19:48:36 2016 GMT\nexpire date: Feb 12 00:00:00 2017 GMT\nissuer: CN=Zbox\nSSL certificate verify result: unable to get local issuer certificate (20), continuing anyway.\nUsing HTTP2, server supports multi-use\nConnection state changed (HTTP/2 confirmed)\nCopying HTTP/2 data in stream buffer to connection buffer after upgrade: len=0\nServer auth using Basic with user 'xxxxxxxxx'\n\nUsing Stream ID: 1 (easy handle 0x1d956bc8120)\nOPTIONS /baikal/html/dav.php/calendars/xxxxxxxxx/default HTTP/1.1\nHost: xxxxxxxxxx\nAuthorization: Basic am9uYXM6amR3ZGdscGJoMw==\nUser-Agent: curl/7.50.2\nAccept: /\n\n\nConnection state changed (MAX_CONCURRENT_STREAMS updated)!\n< HTTP/2 200\n< cache-control: no-store, no-cache, must-revalidate\n< pragma: no-cache\n< allow: OPTIONS, GET, HEAD, DELETE, PROPFIND, PUT, PROPPATCH, COPY, MOVE, REPORT\n< content-length: 0\n< content-type: text/html; charset=UTF-8\n< expires: Thu, 19 Nov 1981 08:52:00 GMT\n< accept-ranges: bytes\n< server: Microsoft-IIS/10.0\n< set-cookie: PHPSESSID=31gitipjc77daqt01dvlh2njl4; path=/; HttpOnly\n< x-sabre-version: 3.1.3\n< dav: 1, 3, extended-mkcol, access-control, calendarserver-principal-property-search, calendar-access, calendar-proxy, calendar-auto-schedule, calendar-availability, addressbook\n< ms-author-via: DAV\n< date: Fri, 16 Sep 2016 17:08:37 GMT\n<\n\nCurl_http_done: called premature == 0\nConnection #0 to host xxxxxxxxxx left intact\n```\n. I use exactly the same url and username/password and nothing has changed since the last time. I just tried again anyway with the same result as before. The problem is also not new, before 0.4.6 i was on 0.2.7 for a while and lightning wouldn't work either.\n. \n\n",
    "sushinger": "Thank you for prompt reply. After 3-4 attempts the account got created in OSX AB.\nSo I've started to create a Group and a Contact with a small \"attention\" icon appearing next to the AB-Name. When clicking on it a message-window pops up:\n\"The operation couldn\u2019t be completed. (CoreDAVHTTPStatusErrorDomain error 405.)\"\nAlready tried to find out what this means, but no success.\nShould I open another request for this?\n. Thank you Evert, I will check\n. Thank you for prompt reply. After 3-4 attempts the account got created in OSX AB.\nSo I've started to create a Group and a Contact with a small \"attention\" icon appearing next to the AB-Name. When clicking on it a message-window pops up:\n\"The operation couldn\u2019t be completed. (CoreDAVHTTPStatusErrorDomain error 405.)\"\nAlready tried to find out what this means, but no success.\nShould I open another request for this?\n. Thank you Evert, I will check\n. ",
    "Vertux": "Oh my gosh, that would be a pain, I can not believe, that there is no other opportunity \n. Thank you @untitaker for your quick support.\n. It worked like a charm. \nI have done a new installation of Baikal 0.4.6 then I deleted the Specific directory and moved the old Specific directory (v0.2.7) into the new installation. After that I have created a new Baikal MySQL database and a MySQL Baikal user, which matches the old parameters in config.system.php. Then I have restored the the backup of my old Baikal MySQL database. The last step was using the browser to navigate to Baikals admin page - and voila, it was done.\n. Oh my gosh, that would be a pain, I can not believe, that there is no other opportunity \n. Thank you @untitaker for your quick support.\n. It worked like a charm. \nI have done a new installation of Baikal 0.4.6 then I deleted the Specific directory and moved the old Specific directory (v0.2.7) into the new installation. After that I have created a new Baikal MySQL database and a MySQL Baikal user, which matches the old parameters in config.system.php. Then I have restored the the backup of my old Baikal MySQL database. The last step was using the browser to navigate to Baikals admin page - and voila, it was done.\n. ",
    "zbigniewcebula": "Same here, I'm trying to move data manual from old database to new database in sqlite.\nCurrently I have problem with\n\netag and size was recalculated for cards\nuid was recalculated for calendarobjects\n\nI'm trying to do this: https://github.com/fruux/Baikal/issues/561\nI propose to make some migration tool from sqlite3 to mysql and converter from 2.7 database format to newest one.\n. Same here, I'm trying to move data manual from old database to new database in sqlite.\nCurrently I have problem with\n\netag and size was recalculated for cards\nuid was recalculated for calendarobjects\n\nI'm trying to do this: https://github.com/fruux/Baikal/issues/561\nI propose to make some migration tool from sqlite3 to mysql and converter from 2.7 database format to newest one.\n. ",
    "maxt34": "still Not working, removed the aliases and set root to /usr/share/nginx....\n. \n. FIXED IT!\nSame issue like in #609 , forgot the \".\".\nLine has to look like this: location ~ ^/baikal/(.+.php)(.)$ {\n. Question: What baseurl to use for davdroid?\nusing SERVERURL.xy/baikal/html/dav.php says there is no dav service?\n. im getting an recv error now when trying to sync...\nthe url ...../calendars/USERNAME/default/ goes to the 502 bad gateway, while it works without the trailing slash...?\n\n. still Not working, removed the aliases and set root to /usr/share/nginx....\n. \n. FIXED IT!\nSame issue like in #609 , forgot the \".\".\nLine has to look like this: location ~ ^/baikal/(.+.php)(.)$ {\n. Question: What baseurl to use for davdroid?\nusing SERVERURL.xy/baikal/html/dav.php says there is no dav service?\n. im getting an recv error now when trying to sync...\nthe url ...../calendars/USERNAME/default/ goes to the 502 bad gateway, while it works without the trailing slash...?\n\n. ",
    "florianl": "Thunderbird/Lightning does not show multiple calendars by default.\nThere is a blogpost about enabling multiple calendars.\nI hope, it helps.. Hi!\nI think, this is not an issue of Baikal. It is more about configuring your web server proper.\nFor example, my Apache2 configuration to redirect non-SSL-connections to the SSL-side looks like this:\n\n\n  RewriteEngine on\n  RewriteRule ^/(.*) https://%{HTTP_HOST}/$1 [NC,R=301,L]\n< /VirtualHost>\n. Thunderbird/Lightning does not show multiple calendars by default.\nThere is a blogpost about enabling multiple calendars.\n\nI hope, it helps.. Hi!\nI think, this is not an issue of Baikal. It is more about configuring your web server proper.\nFor example, my Apache2 configuration to redirect non-SSL-connections to the SSL-side looks like this:\n\n\n  RewriteEngine on\n  RewriteRule ^/(.*) https://%{HTTP_HOST}/$1 [NC,R=301,L]\n< /VirtualHost>\n. \n",
    "rfc2822": "This usually happens when you update Baikal and it shows the update message. In this case, just visit it with a browser, complete the update it at works again.\n. This usually happens when you update Baikal and it shows the update message. In this case, just visit it with a browser, complete the update it at works again.\n. ",
    "manolo4711": "Like issue #620 I get no further error message. Also I also check apache logs for errors and found nothing. \n. Like issue #620 I get no further error message. Also I also check apache logs for errors and found nothing. \n. ",
    "philions": "@evert , I can still switch to Chinese keyboard, normally when I hit the keyboard, some Chinese characters would appeared in one line above keyboard then I can pick one, now problem is after keyboard stroked, no any Chinese character showed above.\n. @evert , I can still switch to Chinese keyboard, normally when I hit the keyboard, some Chinese characters would appeared in one line above keyboard then I can pick one, now problem is after keyboard stroked, no any Chinese character showed above.\n. ",
    "khorben": "I just found an issue in the administrative interface: it crashes when listing calendars for a user. I'm having a look.\n. I just found an issue in the administrative interface: it crashes when listing calendars for a user. I'm having a look.\n. ",
    "modir": "That's what I guessed. Is this \"small XML document\" somewhere on the server as well? Would it be possible to add it to the log file automatically?\nIf I could do as much as possible on the server side it would help a lot. (My problem is that most users have an iPhone or iPad. The MacBook which gave me now the error message is more an exception than the norm.)\n. Thanks. I wrote now the plugin but don't know where to put it. Your answer to another person asking this was back then \"If you have to ask, you are probably not running sabre/dav, but some other application that uses sabre/dav.\" (see here which is not really helpful.\nSo in which directory do I have to put my code?\n. My problem is probably related to issue #624 as the main users all updated to the newest iOS version. It could be that the iPhones are \"destroying\" some items. But in order to prove this I would need to be able to finish this plugin. None of the documentation I could find was helpful enough.\nWhat I did find out is if the clients want to have some updates for calendar entries baikal is often giving this answer back:\n<d:multistatus xmlns:d=\"DAV:\" xmlns:s=\"http://sabredav.org/ns\" xmlns:cal=\"urn:ietf:params:xml:ns:caldav\" xmlns:cs=\"http://calendarserver.org/ns/\" xmlns:card=\"urn:ietf:params:xml:ns:carddav\">\n                <d:response>\n                               <d:href>/cal.php/calendars/booking@client.ch/inbox/</d:href>\n                               <d:propstat>\n                                               <d:prop />\n                                               <d:status>HTTP/1.1 418 I'm a teapot</d:status>\n                               </d:propstat>\n                </d:response>\n</d:multistatus>\nSadly this status is not helpful either.\n. @valkenburg Thank you for the tip. I checked now the database with the sql file used for the installation. What I can see is that many fields (especially URI fields) are of the type varchar but should be varbinary.\n@evert Does this make a huge difference? Is my assumption correct that the migration script is not working 100% correctly?\n. Do you have several calendars per user? I have no proof yet but it looks to me like users with several calendars are affected. (But I am not sure.)\n. @saesh Sadly no. I just checked and all my calendars have a sync token of 1 or higher:\nmysql> select id,synctoken from calendars;\n+----+-----------+\n| id | synctoken |\n+----+-----------+\n|  7 |         1 |\n|  8 |         1 |\n|  9 |         2 |\n| 10 |         1 |\n| 11 |         1 |\n| 12 |         1 |\n....\n. About 55 from 15 different companies/domains.\n. @derStephan I use MySQL. And We have about 110'000 events and 16'000 contacts.. That's what I guessed. Is this \"small XML document\" somewhere on the server as well? Would it be possible to add it to the log file automatically?\nIf I could do as much as possible on the server side it would help a lot. (My problem is that most users have an iPhone or iPad. The MacBook which gave me now the error message is more an exception than the norm.)\n. Thanks. I wrote now the plugin but don't know where to put it. Your answer to another person asking this was back then \"If you have to ask, you are probably not running sabre/dav, but some other application that uses sabre/dav.\" (see here which is not really helpful.\nSo in which directory do I have to put my code?\n. My problem is probably related to issue #624 as the main users all updated to the newest iOS version. It could be that the iPhones are \"destroying\" some items. But in order to prove this I would need to be able to finish this plugin. None of the documentation I could find was helpful enough.\nWhat I did find out is if the clients want to have some updates for calendar entries baikal is often giving this answer back:\n<d:multistatus xmlns:d=\"DAV:\" xmlns:s=\"http://sabredav.org/ns\" xmlns:cal=\"urn:ietf:params:xml:ns:caldav\" xmlns:cs=\"http://calendarserver.org/ns/\" xmlns:card=\"urn:ietf:params:xml:ns:carddav\">\n                <d:response>\n                               <d:href>/cal.php/calendars/booking@client.ch/inbox/</d:href>\n                               <d:propstat>\n                                               <d:prop />\n                                               <d:status>HTTP/1.1 418 I'm a teapot</d:status>\n                               </d:propstat>\n                </d:response>\n</d:multistatus>\nSadly this status is not helpful either.\n. @valkenburg Thank you for the tip. I checked now the database with the sql file used for the installation. What I can see is that many fields (especially URI fields) are of the type varchar but should be varbinary.\n@evert Does this make a huge difference? Is my assumption correct that the migration script is not working 100% correctly?\n. Do you have several calendars per user? I have no proof yet but it looks to me like users with several calendars are affected. (But I am not sure.)\n. @saesh Sadly no. I just checked and all my calendars have a sync token of 1 or higher:\nmysql> select id,synctoken from calendars;\n+----+-----------+\n| id | synctoken |\n+----+-----------+\n|  7 |         1 |\n|  8 |         1 |\n|  9 |         2 |\n| 10 |         1 |\n| 11 |         1 |\n| 12 |         1 |\n....\n. About 55 from 15 different companies/domains.\n. @derStephan I use MySQL. And We have about 110'000 events and 16'000 contacts.. ",
    "valkenburg": "I ran into this issue, and found it was related to an incomplete upgrade of the database fom 0.2.x to 0.4.x.\nThe easiest way to see the full response for me was to use curl:\ncurl -iL -k --digest -u \"user\":\"password\" -H \"Host: dav.yourserver.com\" -T testevent.ics https://dav.yourserver.com/html/dav.php/calendars/you/default/some_unique_id.ics\nand analyze the full response. Turned out that in my case a field in the table was missing (uid in calendarobjects). Maybe this helps. I'm not sure if there is a simpler way to see the error message in apple's Calendar.app.\n. I ran into this issue, and found it was related to an incomplete upgrade of the database fom 0.2.x to 0.4.x.\nThe easiest way to see the full response for me was to use curl:\ncurl -iL -k --digest -u \"user\":\"password\" -H \"Host: dav.yourserver.com\" -T testevent.ics https://dav.yourserver.com/html/dav.php/calendars/you/default/some_unique_id.ics\nand analyze the full response. Turned out that in my case a field in the table was missing (uid in calendarobjects). Maybe this helps. I'm not sure if there is a simpler way to see the error message in apple's Calendar.app.\n. ",
    "jb-alvarado": "I had a similar problem. Bud the strange thing was, that before a week it works normal. Then my Server got a mysql Update and now with valkenburgs tip I found out that there was many fields missing. So I made a new table with this cammand. After that my client sync the local offline calender with the new empty calender. The addresses I forgot to backup, so I needed to make them new.\nFor me this curl command was enough for debugging:\ncurl -iL -k --Digest -u user:password  http://dav.example.com/cal.php/principals/calender/\n. I had a similar problem. Bud the strange thing was, that before a week it works normal. Then my Server got a mysql Update and now with valkenburgs tip I found out that there was many fields missing. So I made a new table with this cammand. After that my client sync the local offline calender with the new empty calender. The addresses I forgot to backup, so I needed to make them new.\nFor me this curl command was enough for debugging:\ncurl -iL -k --Digest -u user:password  http://dav.example.com/cal.php/principals/calender/\n. ",
    "dopefishh": "I use multiple users and my synctokens are non-empty.\n. @evert, there are no more lines to show from the log. The iPhone only does the OPTIONS and PROPFIND. When it still worked it did a whole bunch of REPORT's as well.\n. I use multiple users and my synctokens are non-empty.\n. @evert, there are no more lines to show from the log. The iPhone only does the OPTIONS and PROPFIND. When it still worked it did a whole bunch of REPORT's as well.\n. ",
    "derStephan": "@modir Slightly off topic: Do you use SQLite or MySQL? How many events and contacts does your installation currently have?. Hi,\nbut if i am on a shared hoster, I may not have access to these config files. For such cases, it would be helpful to have this setting. Plus this is much easier than fiddling with config files.\nIf I'd configured \"SSLonly\" then baikal should refuse (not redirect) non-SSL connections. This way, it is less likely to make errors in client setups which may lead to insecure data transmissions.. Thanks for the explanation. I did not know about the ssl-proxy issues. I agree and hope that you do not add any .htaccess fot baikal's root in the future because this will break my very own solution.. Hey, thanks for your quick reply.\nSo this may have a serious performance impact when it comes to a lot of objects within the database. Maybe some hint during installation regarding performance of baikal with the different databases may be useful? \nAs far as I can see it, sqlite is seen as the standard database engine, so there should be some kind of help to decide which database suits what load. . >The client should really autodetect that.\nThunderbird's calendar for instance does not autodetect it. . I had the very same issue when upgrading my installation from 0.2.7. You need to raise the maximum execution time. Otherwise, the script will be stopped after 30s in the middle of the upgrade process and your data will be corrupted. \nThis gets worse with each entry you have in the database. \nSo, restore your backup, raise maximum execution  time a lot and run the upgrade script again. . @Mrres58 If you have no access to your PHP configuration on your NAS, try adding\nini_set('max_execution_time', 3000); //3000 seconds = 50 minutes\nto line 1 in the baikal-file  /html/admin/install/index.php\nright after <?php \nThen run your upgrade and be patient. \n@evert May I suggest to add something like this to the official file in the repository? If this is allowed, then everyting is fine. If not, it will just fail silently without doing any harm. . >I found a tool on my synology which allows me to edit various php settings\nTry setting error reporting to E_ALL. So PHP-Errors will be shown. \n\nThe white page still comes and there is no indication that anything is happening.\n\nDid you restore your backup before doing this? This is necessary in my opinion.\n\nDid you have to restart your webserver for the changes to take effect? \n\nyes. \n\nm thinking of doing a new installation. If I were, and then copy my databank into the new installation, do you think that would work?\n\nYou can give it a try, but i think it is not enough to copy the sqLite-file. You have to copy the whole \"Specific\" folder. And even then, it will try to update the database schema.\nThe only thing you could do is: \n\nexport all data from the old installation using your client software \ndo a clean install\ncreate all your users, calendars and addressbooks new\nimport all data to your new calendars and addressbooks\n\nThis may be some work but it is a good opportunity to clean everything up and get it all running without your specific problem.. So what you are really asking is calendar/contact delegating. \nHave a look at the discussion here: #529 . >an attacker able to get the hash could trivially run a highly effective bruteforce attack against them, and retrieve their plain-text version.\nThat's not the case. It is not trivial to find the plain-text password, it is affordable to get a collision which is not the real password in the most cases. \nGetting the real password is more likely to be done using rainbow tables. This is only true as long as you don't use a strong realm. I would suggest to automatically set a long random realm during install.\nBut of course, I agree that md5 should be replaced as soon as possible, I just think that the problem is not as bad as you described it.. Hey, @jvoisin: You seem pretty familiar with the code base. So may I ask you to contribute your proposed changes as  pull-requests? Otherwise, it seems unlikely that any of this will be fixed, after Evert Pot has stopped his efford. . >I just took a glance at it\nOh, measured by the number of issues regarding security created by you, I expected differently. \n\nsorry :/\n\nsorry. . I had the very same problem which was due to the fact that PHP stopped execution too early to complete the upgrade. \nYou need to raise the maximum execution time. Otherwise, the script will be stopped after 30s in the middle of the upgrade process and your data will be corrupted.\nThis gets worse with each entry you have in the database.\nSo, restore your backup, raise maximum execution time a lot and run the upgrade script again.\nTo raise maximum execution time, try adding\nini_set('max_execution_time', 3000); //3000 seconds = 50 minutes\nto line 1 in the baikal-file /html/admin/install/index.php\nright after <?php \nThen run your upgrade and be patient.\nP.S: You are not the first one to encounter this problem: #665 or #573. @ladetto May I ask how many contacts and events your installation holds? How long did the upgrade process take?. Have a look here: #683 or #665 or #573.\nProbably your upgrade was not finished due to a timeout of PHP execution. Just follow the steps described here:\nhttps://github.com/fruux/Baikal/issues/683#issuecomment-296083529. Are you sure, you don't face the problan that PHP stopped execution too early to complete the upgrade?\nTry to raise the maximum execution time. Otherwise, the script will be stopped after 30s in the middle of the upgrade process and your data will be corrupted.\nThis gets worse with each entry you have in the database.\nSo, restore your backup, raise maximum execution time a lot and run the upgrade script again.\nTo raise maximum execution time, try adding\nini_set('max_execution_time', 3000); //3000 seconds = 50 minutes\nto line 1 in the baikal-file /html/admin/install/index.php\nright after <?php\nThen run your upgrade and be patient.\nP.S: If I am right, then you are not the first one to encounter this problem: #665 or #573. Did you restore your backup first? Otherwise, the new colums will exist but the data in it will be corrupted.. >yes unfortunately i did restore my backup...\ncan you switch back to the previous version with your backup? If so, do it to get a clean starting point. If not, then your backup is f***ed. >Got a lot of errors. \nNot the most precise way of describing things :-)\n\nBut now I'm struggling with the ics export plugin\n\nI'd suggest to open another issue for this. . > My process\n\n...\nI new get this:\n\nYou get this while doing what? Did you run the upgrade script? There is an automatic upgrade procedure which converts the database. \nIf that failed, did you use any of the solutions given in #708 or #665 or #573\n. Did you try any of the solutions given in #708 or #683 or #665 or #573?. >Those have all been tried with no success.\nAh, I see. You should have mentioned that right from the start.\nFrom your error message 1 duplicate column name: synctoken it seemed obvious that you tried to run the upgrade script twice. \n\nso I installed Nextcloud 12\n\nWhy don't you just stay with nextcloud if this is working for you? Baikal is no safe bet for the future. The lonely developer quit in april. I'd not suggest to use baikal if you have another working option. . @modir Slightly off topic: Do you use SQLite or MySQL? How many events and contacts does your installation currently have?. Hi,\nbut if i am on a shared hoster, I may not have access to these config files. For such cases, it would be helpful to have this setting. Plus this is much easier than fiddling with config files.\nIf I'd configured \"SSLonly\" then baikal should refuse (not redirect) non-SSL connections. This way, it is less likely to make errors in client setups which may lead to insecure data transmissions.. Thanks for the explanation. I did not know about the ssl-proxy issues. I agree and hope that you do not add any .htaccess fot baikal's root in the future because this will break my very own solution.. Hey, thanks for your quick reply.\nSo this may have a serious performance impact when it comes to a lot of objects within the database. Maybe some hint during installation regarding performance of baikal with the different databases may be useful? \nAs far as I can see it, sqlite is seen as the standard database engine, so there should be some kind of help to decide which database suits what load. . >The client should really autodetect that.\nThunderbird's calendar for instance does not autodetect it. . I had the very same issue when upgrading my installation from 0.2.7. You need to raise the maximum execution time. Otherwise, the script will be stopped after 30s in the middle of the upgrade process and your data will be corrupted. \nThis gets worse with each entry you have in the database. \nSo, restore your backup, raise maximum execution  time a lot and run the upgrade script again. . @Mrres58 If you have no access to your PHP configuration on your NAS, try adding\nini_set('max_execution_time', 3000); //3000 seconds = 50 minutes\nto line 1 in the baikal-file  /html/admin/install/index.php\nright after <?php \nThen run your upgrade and be patient. \n@evert May I suggest to add something like this to the official file in the repository? If this is allowed, then everyting is fine. If not, it will just fail silently without doing any harm. . >I found a tool on my synology which allows me to edit various php settings\nTry setting error reporting to E_ALL. So PHP-Errors will be shown. \n\nThe white page still comes and there is no indication that anything is happening.\n\nDid you restore your backup before doing this? This is necessary in my opinion.\n\nDid you have to restart your webserver for the changes to take effect? \n\nyes. \n\nm thinking of doing a new installation. If I were, and then copy my databank into the new installation, do you think that would work?\n\nYou can give it a try, but i think it is not enough to copy the sqLite-file. You have to copy the whole \"Specific\" folder. And even then, it will try to update the database schema.\nThe only thing you could do is: \n\nexport all data from the old installation using your client software \ndo a clean install\ncreate all your users, calendars and addressbooks new\nimport all data to your new calendars and addressbooks\n\nThis may be some work but it is a good opportunity to clean everything up and get it all running without your specific problem.. So what you are really asking is calendar/contact delegating. \nHave a look at the discussion here: #529 . >an attacker able to get the hash could trivially run a highly effective bruteforce attack against them, and retrieve their plain-text version.\nThat's not the case. It is not trivial to find the plain-text password, it is affordable to get a collision which is not the real password in the most cases. \nGetting the real password is more likely to be done using rainbow tables. This is only true as long as you don't use a strong realm. I would suggest to automatically set a long random realm during install.\nBut of course, I agree that md5 should be replaced as soon as possible, I just think that the problem is not as bad as you described it.. Hey, @jvoisin: You seem pretty familiar with the code base. So may I ask you to contribute your proposed changes as  pull-requests? Otherwise, it seems unlikely that any of this will be fixed, after Evert Pot has stopped his efford. . >I just took a glance at it\nOh, measured by the number of issues regarding security created by you, I expected differently. \n\nsorry :/\n\nsorry. . I had the very same problem which was due to the fact that PHP stopped execution too early to complete the upgrade. \nYou need to raise the maximum execution time. Otherwise, the script will be stopped after 30s in the middle of the upgrade process and your data will be corrupted.\nThis gets worse with each entry you have in the database.\nSo, restore your backup, raise maximum execution time a lot and run the upgrade script again.\nTo raise maximum execution time, try adding\nini_set('max_execution_time', 3000); //3000 seconds = 50 minutes\nto line 1 in the baikal-file /html/admin/install/index.php\nright after <?php \nThen run your upgrade and be patient.\nP.S: You are not the first one to encounter this problem: #665 or #573. @ladetto May I ask how many contacts and events your installation holds? How long did the upgrade process take?. Have a look here: #683 or #665 or #573.\nProbably your upgrade was not finished due to a timeout of PHP execution. Just follow the steps described here:\nhttps://github.com/fruux/Baikal/issues/683#issuecomment-296083529. Are you sure, you don't face the problan that PHP stopped execution too early to complete the upgrade?\nTry to raise the maximum execution time. Otherwise, the script will be stopped after 30s in the middle of the upgrade process and your data will be corrupted.\nThis gets worse with each entry you have in the database.\nSo, restore your backup, raise maximum execution time a lot and run the upgrade script again.\nTo raise maximum execution time, try adding\nini_set('max_execution_time', 3000); //3000 seconds = 50 minutes\nto line 1 in the baikal-file /html/admin/install/index.php\nright after <?php\nThen run your upgrade and be patient.\nP.S: If I am right, then you are not the first one to encounter this problem: #665 or #573. Did you restore your backup first? Otherwise, the new colums will exist but the data in it will be corrupted.. >yes unfortunately i did restore my backup...\ncan you switch back to the previous version with your backup? If so, do it to get a clean starting point. If not, then your backup is f***ed. >Got a lot of errors. \nNot the most precise way of describing things :-)\n\nBut now I'm struggling with the ics export plugin\n\nI'd suggest to open another issue for this. . > My process\n\n...\nI new get this:\n\nYou get this while doing what? Did you run the upgrade script? There is an automatic upgrade procedure which converts the database. \nIf that failed, did you use any of the solutions given in #708 or #665 or #573\n. Did you try any of the solutions given in #708 or #683 or #665 or #573?. >Those have all been tried with no success.\nAh, I see. You should have mentioned that right from the start.\nFrom your error message 1 duplicate column name: synctoken it seemed obvious that you tried to run the upgrade script twice. \n\nso I installed Nextcloud 12\n\nWhy don't you just stay with nextcloud if this is working for you? Baikal is no safe bet for the future. The lonely developer quit in april. I'd not suggest to use baikal if you have another working option. . ",
    "SeLLeRoNe": "+1 - I do use MySQL too.\nThanks for this great peace of code :). +1 - It would be also good if the user get created on auth success if missing in the DB :)\nThanks for this great peace of code :). That would be nice, but at that point you need to be able to defined the default Calendars and Address Books somewhere in the config :). +1 - I do use MySQL too.\nThanks for this great peace of code :). +1 - It would be also good if the user get created on auth success if missing in the DB :)\nThanks for this great peace of code :). That would be nice, but at that point you need to be able to defined the default Calendars and Address Books somewhere in the config :). ",
    "ffstone": "I don't want a server-sent invitation, the problem is that my clients are no longer emailing invitations (or sending email accepting messages). When the clients (Lightning and IOS) get the 500, they seem to decide that they no longer need to send the email.\nCould this be that Baikal is incorrectly reporting that it supports server-sent? \n. Interesting. Is there any way to see which entry is causing the failure? Manually going through 1000s of entries is not much fun. vdirsyncer fetched everything with no errors. \n. One more update - creating a new empty calendar under the same user account has the same issue, so it's unlikely to be related to a corrupt calendar entry. \n. I don't want a server-sent invitation, the problem is that my clients are no longer emailing invitations (or sending email accepting messages). When the clients (Lightning and IOS) get the 500, they seem to decide that they no longer need to send the email.\nCould this be that Baikal is incorrectly reporting that it supports server-sent? \n. Interesting. Is there any way to see which entry is causing the failure? Manually going through 1000s of entries is not much fun. vdirsyncer fetched everything with no errors. \n. One more update - creating a new empty calendar under the same user account has the same issue, so it's unlikely to be related to a corrupt calendar entry. \n. ",
    "csmcanarney": "Are you trying to sign in to the web interface with your user account perhaps? Ba\u00efkal only includes an administrative interface. You cannot manage your address books and calendars through the web interface.. Are you trying to sign in to the web interface with your user account perhaps? Ba\u00efkal only includes an administrative interface. You cannot manage your address books and calendars through the web interface.. ",
    "tessus": "@evert is there a bit more information available about Baikal? I was searching for information on the web site, which suggests to look at http://baikal-server.com/ for information, but it only redirects back to http://sabre.io/baikal/\n\nDoes it support CardDav 4.0?\nWhat happens, if a 3.0 card is sent to the server? \nIs it automatically changed into a 4.0 card? \nIf not, is there a way to do that?\n\nDoes it support birthdays without a year?. @evert is there a bit more information available about Baikal? I was searching for information on the web site, which suggests to look at http://baikal-server.com/ for information, but it only redirects back to http://sabre.io/baikal/\n\n\nDoes it support CardDav 4.0?\n\nWhat happens, if a 3.0 card is sent to the server? \nIs it automatically changed into a 4.0 card? \nIf not, is there a way to do that?\nDoes it support birthdays without a year?. \n",
    "wsdefghjk-23124": "Hi @evert \nApache logs show a standard PROPFIND with status 207, nothing out of the ordinary.\nIf it helps to narrow it down, I can add events (because I can see them on the database) and the option to export as a ICS also works (the ...?export primary) so I can see the events if I go down the path of ICS export.\nI can't see any other debugging output since Baikal is running on a hosted server under cPanel so I cannot turn on PHP logging. What I can do, is modify the PHP code and add some error_log(...) statements strategically located to try and narrow down the source, however, the PHP code of Baikal exceeds my PHP skills so I will need some pointers on the best location to place them.\nAs a side note, I noticed that there is a time offset (of a few minutes) between the DAVDroid logs and the Apache logs (I'm looking into solving this), will this create some sort of unforeseen condition?. Hi @evert \nI've emailed you a packet capture of the stream between the client and the server. There is a REPORT after the initial PROPFIND that is not fully sent and apparently is causing the client to timeout.. Hi @evert \nApache logs show a standard PROPFIND with status 207, nothing out of the ordinary.\nIf it helps to narrow it down, I can add events (because I can see them on the database) and the option to export as a ICS also works (the ...?export primary) so I can see the events if I go down the path of ICS export.\nI can't see any other debugging output since Baikal is running on a hosted server under cPanel so I cannot turn on PHP logging. What I can do, is modify the PHP code and add some error_log(...) statements strategically located to try and narrow down the source, however, the PHP code of Baikal exceeds my PHP skills so I will need some pointers on the best location to place them.\nAs a side note, I noticed that there is a time offset (of a few minutes) between the DAVDroid logs and the Apache logs (I'm looking into solving this), will this create some sort of unforeseen condition?. Hi @evert \nI've emailed you a packet capture of the stream between the client and the server. There is a REPORT after the initial PROPFIND that is not fully sent and apparently is causing the client to timeout.. ",
    "icasdri": "Any update on this? I think I'm running into a similar issue of timeouts on PROPFIND when attempting to connect via AgenDAV.. Any update on this? I think I'm running into a similar issue of timeouts on PROPFIND when attempting to connect via AgenDAV.. ",
    "gafpilot": "I have the same prob - after update to 0.46 no sync with iOS possible. Same error: SSL connex not possible...\n(Running baikal on a synology DSM 6.1). I have the same prob - after update to 0.46 no sync with iOS possible. Same error: SSL connex not possible...\n(Running baikal on a synology DSM 6.1). ",
    "Wernfried": "What I tried so far:\n\nBackup your existing Baikal installation, stop CalDAV and CardDAV service\nMake a new installation of Baikal from scratch\nCreate users (with old passwords), address books and calendars as in old installation\nRun manual synchronization on client (in my case DAVdroid) app\nFailed -> Error: no such column: synctoken\n\nI restored from my backup.\n. I was able to migrate my data using approach from above: \n\nExport address book with built-in export function in Android phone\nExport calendars iCal Import/Export CalDAV \nMake a new Baikal installation from scratch, create users and calendars\nSynchronize calendars and address books -> they get empty by this at Android phone\nImport address book and calendars from 1) and 2)\nRun another final synchronization\n\nI would not consider this as real \"migration\" - but it was working fine.\n. Sorry, I missed the new URL's. New version is working fine. \nBest Regards. Well, you get access to html/admin/?/settings/system/ only when you have been authenticated as admin already. Page baikal/html/admin/install/index.php is accessible to everybody.. I just installed Baikal again and I got the same - which is fine. However, when I made the upgrade from 0.2.7 to version 0.4.6 I got MySQL credentials. In the meantime I deleted my old 0.2.7 installation, so I cannot reproduce it again. \nMaybe it was just displayed from browser cache but I don't know.\n. I think I know what the problem was. \nThere is an empty file baikal\\Specific\\INSTALL_DISABLED which prevents to run installation script more than once. Locks like this file got lost while upgrade.\nI did the upgrade as following:\n\nRenamed folder of old installation\nExtract installation file baikal-0.4.6.zip\nDelete folder baikal/Specific (incl. sub-folders) from new installation\nCopy folder baikal/Specific (incl. all files and sub-folders) from old installation to new installation folder\n\nIn my opinion your upgrade instruction is quite error-prone, you say:\n\nUpload the contents of the zip file to the server, but make sure you do not overwrite the Specific directory. Everything else may be overwritten.\n\nI don't have access to console of my webspace, just FTP access and Plesk. Typically when you extract a zip file you can set \"Overwrite All\" or \"Overwrite None\" but overwriting only specific files/folders is a challenge.\nProposal for upgrade instruction could be this one:\n\n...\nUpload the contents of the zip file to the server\nExtract the zip file\nCopy files baikal/Specific/db/db.sqlite, baikal/Specific/config.php and baikal/Specific/config.system.php from backup to new installation folder\n...\n\nBest Regards\n. Yes, looks like now it is as intended. The upgrade procedure seems to be rather error-prone. Perhaps it will be better in future releases.. No, I managed to upgrade my Baikal, it is working fine now. But as you admitted the upgrade process and/or instruction would need some improvements.\n. What I tried so far:\n\nBackup your existing Baikal installation, stop CalDAV and CardDAV service\nMake a new installation of Baikal from scratch\nCreate users (with old passwords), address books and calendars as in old installation\nRun manual synchronization on client (in my case DAVdroid) app\nFailed -> Error: no such column: synctoken\n\nI restored from my backup.\n. I was able to migrate my data using approach from above: \n\nExport address book with built-in export function in Android phone\nExport calendars iCal Import/Export CalDAV \nMake a new Baikal installation from scratch, create users and calendars\nSynchronize calendars and address books -> they get empty by this at Android phone\nImport address book and calendars from 1) and 2)\nRun another final synchronization\n\nI would not consider this as real \"migration\" - but it was working fine.\n. Sorry, I missed the new URL's. New version is working fine. \nBest Regards. Well, you get access to html/admin/?/settings/system/ only when you have been authenticated as admin already. Page baikal/html/admin/install/index.php is accessible to everybody.. I just installed Baikal again and I got the same - which is fine. However, when I made the upgrade from 0.2.7 to version 0.4.6 I got MySQL credentials. In the meantime I deleted my old 0.2.7 installation, so I cannot reproduce it again. \nMaybe it was just displayed from browser cache but I don't know.\n. I think I know what the problem was. \nThere is an empty file baikal\\Specific\\INSTALL_DISABLED which prevents to run installation script more than once. Locks like this file got lost while upgrade.\nI did the upgrade as following:\n\nRenamed folder of old installation\nExtract installation file baikal-0.4.6.zip\nDelete folder baikal/Specific (incl. sub-folders) from new installation\nCopy folder baikal/Specific (incl. all files and sub-folders) from old installation to new installation folder\n\nIn my opinion your upgrade instruction is quite error-prone, you say:\n\nUpload the contents of the zip file to the server, but make sure you do not overwrite the Specific directory. Everything else may be overwritten.\n\nI don't have access to console of my webspace, just FTP access and Plesk. Typically when you extract a zip file you can set \"Overwrite All\" or \"Overwrite None\" but overwriting only specific files/folders is a challenge.\nProposal for upgrade instruction could be this one:\n\n...\nUpload the contents of the zip file to the server\nExtract the zip file\nCopy files baikal/Specific/db/db.sqlite, baikal/Specific/config.php and baikal/Specific/config.system.php from backup to new installation folder\n...\n\nBest Regards\n. Yes, looks like now it is as intended. The upgrade procedure seems to be rather error-prone. Perhaps it will be better in future releases.. No, I managed to upgrade my Baikal, it is working fine now. But as you admitted the upgrade process and/or instruction would need some improvements.\n. ",
    "arkhan": "I get the same result:\n\"OPTIONS /dav.php/principals/user/work/ HTTP/1.1\" 401 367 \"-\" \"URL/Emacs\"\n\"OPTIONS /dav.php/principals/user/work/ HTTP/1.1\" 400 172 \"-\" \"URL/Emacs\". I get the same result:\n\"OPTIONS /dav.php/principals/user/work/ HTTP/1.1\" 401 367 \"-\" \"URL/Emacs\"\n\"OPTIONS /dav.php/principals/user/work/ HTTP/1.1\" 400 172 \"-\" \"URL/Emacs\". ",
    "chris42": "Had it similar, after upgrading from 0.2.7 to 0.4.6 I could still access the install folder and install routine. However creating the INSTALL_DISABLED file seems to solve this? \nI now get \"Installation was already completed. Please head to the admin interface to modify any settings.\" when accessing admin/install/\nIs this the correct setup now?. Hi evert,\nfail2ban is not implemented within baikal. All you have to do, is to write identifyable log entries for failed logins. If they are structured and include the IP of the login attempt, fail2ban can parse the log file and take action.\nSo all you need is writing a log with some keywords e.g. \"failed login attempt from XXX.XXX.XXX.XXX\".. Had it similar, after upgrading from 0.2.7 to 0.4.6 I could still access the install folder and install routine. However creating the INSTALL_DISABLED file seems to solve this? \nI now get \"Installation was already completed. Please head to the admin interface to modify any settings.\" when accessing admin/install/\nIs this the correct setup now?. Hi evert,\nfail2ban is not implemented within baikal. All you have to do, is to write identifyable log entries for failed logins. If they are structured and include the IP of the login attempt, fail2ban can parse the log file and take action.\nSo all you need is writing a log with some keywords e.g. \"failed login attempt from XXX.XXX.XXX.XXX\".. ",
    "hbast": "Thanks for help. I tried updating my old baikal version to 0.4.x and ran into the problem that opening\nhttps://raspi2:5352/baikal/html/admin/ redirects me to https://raspi2:5352/baikal/html/admin/install/ which brings up a HTTP ERROR 500.\nWhat am I doing wrong?. Ok, I now tried first to update from v0.2.6 to v.0.2.7. That worked as expected.\nIn a second step, I then made upgrade to v0.4.6!. Thanks for help. I tried updating my old baikal version to 0.4.x and ran into the problem that opening\nhttps://raspi2:5352/baikal/html/admin/ redirects me to https://raspi2:5352/baikal/html/admin/install/ which brings up a HTTP ERROR 500.\nWhat am I doing wrong?. Ok, I now tried first to update from v0.2.6 to v.0.2.7. That worked as expected.\nIn a second step, I then made upgrade to v0.4.6!. ",
    "dm85d": "Request authorization.\nFurther:\n3.1.3LogicExceptionRequested uri (/baikal/cal.php/calendars/public/default) is out of base uri (/tdocs/baikal/cal.php/)\nCan not understand that he does not like ((. Thank you that prompted the idea of fixed!\nYou can close the. Request authorization.\nFurther:\n3.1.3LogicExceptionRequested uri (/baikal/cal.php/calendars/public/default) is out of base uri (/tdocs/baikal/cal.php/)\nCan not understand that he does not like ((. Thank you that prompted the idea of fixed!\nYou can close the. ",
    "RobbieLensen": "facepalm\nThanks Evert, that was indeed the obvious mistake....good call :-D\nLet me share the correct way of doing it:\nPROPFIND https://my_server/baikal/html/dav.php// HTTP/1.1\nWhich generates response\n<?xml version=\"1.0\"?>\n\n\n/calendar/html/dav.php/calendars///\n\n\nMy Name\nhttp://sabre.io/ns/sync/147\n\nHTTP/1.1 200 OK\n\n\n\nQuot erat demonstrandum..\nThanks again for the quick help. Issue can be closed.\n. facepalm\nThanks Evert, that was indeed the obvious mistake....good call :-D\nLet me share the correct way of doing it:\nPROPFIND https://my_server/baikal/html/dav.php// HTTP/1.1\nWhich generates response\n<?xml version=\"1.0\"?>\n\n\n/calendar/html/dav.php/calendars///\n\n\nMy Name\nhttp://sabre.io/ns/sync/147\n\nHTTP/1.1 200 OK\n\n\n\nQuot erat demonstrandum..\nThanks again for the quick help. Issue can be closed.\n. ",
    "Offerel": "If i go to https://myserver.myfritz.net/baikal/html/cal.php/calendars/username/default/ (my default) calendar, i could see all my ics files. i didnt want this.. great idea. Fail2ban uses Logfiles of Applications to Filter Bad Events like Failed Logins, Script Errors, Mass Calls of Script (DOS Attacks) and some more things. If Fail2Ban finds such entry\u2019s, it can do some Actions. As Action the  User of Fail2ban can define for example a Firewall Rule and a Info E-Mail to the Admin and  some other things. If a Application will support Fail2ban, this Application has to write a Logfile with entrys for his actions. There should be the IP Address, the Loglevel (Info, Error, Warning\u2026) and the Action (Login failed or similar). Additionally, what I personally want to have as nice-to-have entrys are User-Agent and the ID\u2019s or Subjects of deleted entrys.    . If i go to https://myserver.myfritz.net/baikal/html/cal.php/calendars/username/default/ (my default) calendar, i could see all my ics files. i didnt want this.. great idea. Fail2ban uses Logfiles of Applications to Filter Bad Events like Failed Logins, Script Errors, Mass Calls of Script (DOS Attacks) and some more things. If Fail2Ban finds such entry\u2019s, it can do some Actions. As Action the  User of Fail2ban can define for example a Firewall Rule and a Info E-Mail to the Admin and  some other things. If a Application will support Fail2ban, this Application has to write a Logfile with entrys for his actions. There should be the IP Address, the Loglevel (Info, Error, Warning\u2026) and the Action (Login failed or similar). Additionally, what I personally want to have as nice-to-have entrys are User-Agent and the ID\u2019s or Subjects of deleted entrys.    . ",
    "sicherist": "Sorry, I was not familiar with composer, and should probably have a look at it.. Sorry, I was not familiar with composer, and should probably have a look at it.. ",
    "tiiiecherle": "Hey, I was searching for the same thing and played around with the values, this seems to work for me. Perhaps you can help me out to do it even better. And hopefully it helps anyone else ;)\n\nnginx\n\n```\nhttp {\n     ...\n     #access_log            off;\nserver {\n     listen                             80;\n     ...\n     access_log                         /var/log/nginx/localhost.access.log;\nserver {\n     listen                             443;\n     ...\n     access_log                     /var/log/nginx/localhost_ssl.access.log;\n```\n\nbaikal webinterface\n\n```\n/etc/fail2ban/jail.local\nadd at the end of the file\n[baikal_web]\nenabled = true\nfilter  = baikal_web\nport    =  https\nlogpath = /var/log/nginx/localhost_ssl.access.log\nfindtime = 600\nbantime = 600\nmaxretry = 5\naction   = %(action_mwl)s\n```\n```\ntouch /etc/fail2ban/filter.d/baikal_web.conf\nnano /etc/fail2ban/filter.d/baikal_web.conf\n[Definition]\nfailregex = ^.POST \\/baikal\\/html\\/admin.200.*$\nignoreregex =\nchown root:root /etc/fail2ban/filter.d/baikal_web.conf\nchmod 644 /etc/fail2ban/filter.d/baikal_web.conf\n```\nsystemctl restart fail2ban.service\nfail2ban-client status baikal_web\nfail2ban-regex /var/log/nginx/localhost_ssl.access.log /etc/fail2ban/filter.d/baikal_web.conf -v\n\nbaikal webdav / caldav\n\n```\n/etc/fail2ban/jail.local\nadd at the end of the file\n[baikal_caldav]\nenabled = true\nfilter  = baikal_caldav\nport    =  https\nlogpath = /var/log/nginx/localhost_ssl.access.log\nfindtime = 600\nbantime = 600\nmaxretry = 5\naction   = %(action_mwl)s\n```\n```\ntouch /etc/fail2ban/filter.d/baikal_caldav.conf\nnano /etc/fail2ban/filter.d/baikal_caldav.conf\n[Definition]\nfailregex = ^.PROPFIND \\/baikal\\/html\\/(dav|cal).php.401 295.*$\nignoreregex =\nchown root:root /etc/fail2ban/filter.d/baikal_caldav.conf\nchmod 644 /etc/fail2ban/filter.d/baikal_caldav.conf\n```\n```\nsystemctl restart fail2ban.service\nfail2ban-client status baikal_caldav\nfail2ban-regex /var/log/nginx/localhost_ssl.access.log /etc/fail2ban/filter.d/baikal_caldav.conf -v\n```. Hey, I was searching for the same thing and played around with the values, this seems to work for me. Perhaps you can help me out to do it even better. And hopefully it helps anyone else ;)\n\nnginx\n\n```\nhttp {\n     ...\n     #access_log            off;\nserver {\n     listen                             80;\n     ...\n     access_log                         /var/log/nginx/localhost.access.log;\nserver {\n     listen                             443;\n     ...\n     access_log                     /var/log/nginx/localhost_ssl.access.log;\n```\n\nbaikal webinterface\n\n```\n/etc/fail2ban/jail.local\nadd at the end of the file\n[baikal_web]\nenabled = true\nfilter  = baikal_web\nport    =  https\nlogpath = /var/log/nginx/localhost_ssl.access.log\nfindtime = 600\nbantime = 600\nmaxretry = 5\naction   = %(action_mwl)s\n```\n```\ntouch /etc/fail2ban/filter.d/baikal_web.conf\nnano /etc/fail2ban/filter.d/baikal_web.conf\n[Definition]\nfailregex = ^.POST \\/baikal\\/html\\/admin.200.*$\nignoreregex =\nchown root:root /etc/fail2ban/filter.d/baikal_web.conf\nchmod 644 /etc/fail2ban/filter.d/baikal_web.conf\n```\nsystemctl restart fail2ban.service\nfail2ban-client status baikal_web\nfail2ban-regex /var/log/nginx/localhost_ssl.access.log /etc/fail2ban/filter.d/baikal_web.conf -v\n\nbaikal webdav / caldav\n\n```\n/etc/fail2ban/jail.local\nadd at the end of the file\n[baikal_caldav]\nenabled = true\nfilter  = baikal_caldav\nport    =  https\nlogpath = /var/log/nginx/localhost_ssl.access.log\nfindtime = 600\nbantime = 600\nmaxretry = 5\naction   = %(action_mwl)s\n```\n```\ntouch /etc/fail2ban/filter.d/baikal_caldav.conf\nnano /etc/fail2ban/filter.d/baikal_caldav.conf\n[Definition]\nfailregex = ^.PROPFIND \\/baikal\\/html\\/(dav|cal).php.401 295.*$\nignoreregex =\nchown root:root /etc/fail2ban/filter.d/baikal_caldav.conf\nchmod 644 /etc/fail2ban/filter.d/baikal_caldav.conf\n```\n```\nsystemctl restart fail2ban.service\nfail2ban-client status baikal_caldav\nfail2ban-regex /var/log/nginx/localhost_ssl.access.log /etc/fail2ban/filter.d/baikal_caldav.conf -v\n```. ",
    "busybit": "On a clean installation of version 0.4.6 this file does not exists. Looks like it was remaining from an upgrade of 0.2.3, But then the question is: why is it called in 0.4.6? Where does the code get in?. I followed this guide: http://sabre.io/baikal/upgrade/. On a clean installation of version 0.4.6 this file does not exists. Looks like it was remaining from an upgrade of 0.2.3, But then the question is: why is it called in 0.4.6? Where does the code get in?. I followed this guide: http://sabre.io/baikal/upgrade/. ",
    "SaschaMzH": "It depends on the device and your configuration of your http server.\nThe installation of baikal descripes to setup a rewrite rule for cardav and caldav.\nIf you set these rewrite rule on your server, than you can use the server domain as caldav and cardav to setup your device.\nIf this does not work use the rewrite rule instead.\nPlease test your rewrite rule first and try to open the webpage /.well-known/carddav\nand sign in with your credentials. If everything is ok, than you will see a page with your addressbooks, calendars and principles.\n. It depends on the device and your configuration of your http server.\nThe installation of baikal descripes to setup a rewrite rule for cardav and caldav.\nIf you set these rewrite rule on your server, than you can use the server domain as caldav and cardav to setup your device.\nIf this does not work use the rewrite rule instead.\nPlease test your rewrite rule first and try to open the webpage /.well-known/carddav\nand sign in with your credentials. If everything is ok, than you will see a page with your addressbooks, calendars and principles.\n. ",
    "Mrres58": "Thank you very much for your help. Embarrassingly, I have to ask how and \nwhere I do that? I am not very fix with Linux.\nAm 25.01.2017 um 13:42 schrieb derStephan:\n\nI had the very same issue when upgrading my installation from 0.2.7. \nYou need to raise the maximum execution time. Otherwise, the script \nwill be stopped after 30s in the middle of the upgrade process and \nyour data will be corrupted.\nThis gets worse with each entry you have in the database.\nSo, restore your backup, raise maximum execution time a lot and run \nthe upgrade script again.\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub \nhttps://github.com/fruux/Baikal/issues/665#issuecomment-275098590, \nor mute the thread \nhttps://github.com/notifications/unsubscribe-auth/AYIxK7-WEKJs5u4eHCmIQHb6yrqNeZlNks5rV0MYgaJpZM4LrmIR.\n{\"api_version\":\"1.0\",\"publisher\":{\"api_key\":\"05dde50f1d1a384dd78767c55493e4bb\",\"name\":\"GitHub\"},\"entity\":{\"external_key\":\"github/fruux/Baikal\",\"title\":\"fruux/Baikal\",\"subtitle\":\"GitHub \nrepository\",\"main_image_url\":\"https://cloud.githubusercontent.com/assets/143418/17495839/a5054eac-5d88-11e6-95fc-7290892c7bb5.png\",\"avatar_image_url\":\"https://cloud.githubusercontent.com/assets/143418/15842166/7c72db34-2c0b-11e6-9aed-b52498112777.png\",\"action\":{\"name\":\"Open \nin \nGitHub\",\"url\":\"https://github.com/fruux/Baikal\"}},\"updates\":{\"snippets\":[{\"icon\":\"PERSON\",\"message\":\"@derStephan \nin #665: I had the very same issue when upgrading my installation from \n0.2.7. You need to raise the maximum execution time. Otherwise, the \nscript will be stopped after 30s in the middle of the upgrade process \nand your data will be corrupted. \\r\\n\\r\\nThis gets worse with each \nentry you have in the database. \\r\\n\\r\\nSo, restore your backup, raise \nmaximum execution time a lot and run the upgrade script again. \n\"}],\"action\":{\"name\":\"View \nIssue\",\"url\":\"https://github.com/fruux/Baikal/issues/665#issuecomment-275098590\"}}}\n\n. thank you for responding.\n\n\nYes\n\n\nNo.\n\n\nDSM 6.0.2-8451 Update 9\n\n\nPHP 5.6\n\n\nAm 25.01.2017 um 00:01 schrieb Erik:\n\nAre you trying to upgrade from 0.2.7 to 0.4.6 and you get this white \npage on 0.4.6 only?\nDid you ever made a fix in Core/Frameworks/Flake/Framework.php of 0.2.7 ?\nWhich DSM version are you running on your Synology?\nWhich php version ? (php -v)\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub \nhttps://github.com/fruux/Baikal/issues/665#issuecomment-274967446, \nor mute the thread \nhttps://github.com/notifications/unsubscribe-auth/AYIxK2S6sAw_2Go84HJ7_dUdkoutno5yks5rVoLPgaJpZM4LrmIR.\n{\"api_version\":\"1.0\",\"publisher\":{\"api_key\":\"05dde50f1d1a384dd78767c55493e4bb\",\"name\":\"GitHub\"},\"entity\":{\"external_key\":\"github/fruux/Baikal\",\"title\":\"fruux/Baikal\",\"subtitle\":\"GitHub \nrepository\",\"main_image_url\":\"https://cloud.githubusercontent.com/assets/143418/17495839/a5054eac-5d88-11e6-95fc-7290892c7bb5.png\",\"avatar_image_url\":\"https://cloud.githubusercontent.com/assets/143418/15842166/7c72db34-2c0b-11e6-9aed-b52498112777.png\",\"action\":{\"name\":\"Open \nin \nGitHub\",\"url\":\"https://github.com/fruux/Baikal\"}},\"updates\":{\"snippets\":[{\"icon\":\"PERSON\",\"message\":\"@ErikBasalt \nin #665: Are you trying to upgrade from 0.2.7 to 0.4.6 and you get \nthis white page on 0.4.6 only?\\r\\nDid you ever made a fix in \nCore/Frameworks/Flake/Framework.php of 0.2.7 ?\\r\\nWhich DSM version \nare you running on your Synology?\\r\\nWhich php version ? (php \n-v)\"}],\"action\":{\"name\":\"View \nIssue\",\"url\":\"https://github.com/fruux/Baikal/issues/665#issuecomment-274967446\"}}}\n\n. Hello and thanks for your advice. I found a tool on my synology which \nallows me to edit various php settings. I set the maximum execution time \nup from 240 to 24000. I did not notice any change afterwards. The white \npage still comes and there is no indication that anything is happening. \nHow long did it take for you? Did you have to restart your webserver for \nthe changes to take effect? I'm thinking of doing a new installation. If \nI were, and then copy my databank into the new installation, do you \nthink that would work?\nAm 26.01.2017 um 07:56 schrieb derStephan:\n\n@Mrres58 https://github.com/Mrres58 If you have no access to your \nPHP configuration on your NAS, try adding\n|ini_set('max_execution_time', 3000); //3000 seconds = 50 minutes|\nto line 1 in\n/html/admin/install/index.php\nright after |<?php|\nThen run your upgrade and be patient.\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub \nhttps://github.com/fruux/Baikal/issues/665#issuecomment-275319917, \nor mute the thread \nhttps://github.com/notifications/unsubscribe-auth/AYIxK33n1MIkkjBlx3_2AUSy2RWqCqehks5rWEOAgaJpZM4LrmIR.\n{\"api_version\":\"1.0\",\"publisher\":{\"api_key\":\"05dde50f1d1a384dd78767c55493e4bb\",\"name\":\"GitHub\"},\"entity\":{\"external_key\":\"github/fruux/Baikal\",\"title\":\"fruux/Baikal\",\"subtitle\":\"GitHub \nrepository\",\"main_image_url\":\"https://cloud.githubusercontent.com/assets/143418/17495839/a5054eac-5d88-11e6-95fc-7290892c7bb5.png\",\"avatar_image_url\":\"https://cloud.githubusercontent.com/assets/143418/15842166/7c72db34-2c0b-11e6-9aed-b52498112777.png\",\"action\":{\"name\":\"Open \nin \nGitHub\",\"url\":\"https://github.com/fruux/Baikal\"}},\"updates\":{\"snippets\":[{\"icon\":\"PERSON\",\"message\":\"@derStephan \nin #665: @Mrres58 If you have no access to your PHP configuration on \nyour NAS, try adding\\r\\n\\r\\nini_set('max_execution_time', 3000); \n//3000 seconds = 50 minutes\\r\\n\\r\\n to line 1 in \n\\r\\n\\r\\n/html/admin/install/index.php\\r\\n\\r\\nright after \n\\u003c?php \\r\\n\\r\\nThen run your upgrade and be patient. \n\"}],\"action\":{\"name\":\"View \nIssue\",\"url\":\"https://github.com/fruux/Baikal/issues/665#issuecomment-275319917\"}}}\n\n. Thank you very much for your help. Embarrassingly, I have to ask how and \nwhere I do that? I am not very fix with Linux.\nAm 25.01.2017 um 13:42 schrieb derStephan:\n\nI had the very same issue when upgrading my installation from 0.2.7. \nYou need to raise the maximum execution time. Otherwise, the script \nwill be stopped after 30s in the middle of the upgrade process and \nyour data will be corrupted.\nThis gets worse with each entry you have in the database.\nSo, restore your backup, raise maximum execution time a lot and run \nthe upgrade script again.\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub \nhttps://github.com/fruux/Baikal/issues/665#issuecomment-275098590, \nor mute the thread \nhttps://github.com/notifications/unsubscribe-auth/AYIxK7-WEKJs5u4eHCmIQHb6yrqNeZlNks5rV0MYgaJpZM4LrmIR.\n{\"api_version\":\"1.0\",\"publisher\":{\"api_key\":\"05dde50f1d1a384dd78767c55493e4bb\",\"name\":\"GitHub\"},\"entity\":{\"external_key\":\"github/fruux/Baikal\",\"title\":\"fruux/Baikal\",\"subtitle\":\"GitHub \nrepository\",\"main_image_url\":\"https://cloud.githubusercontent.com/assets/143418/17495839/a5054eac-5d88-11e6-95fc-7290892c7bb5.png\",\"avatar_image_url\":\"https://cloud.githubusercontent.com/assets/143418/15842166/7c72db34-2c0b-11e6-9aed-b52498112777.png\",\"action\":{\"name\":\"Open \nin \nGitHub\",\"url\":\"https://github.com/fruux/Baikal\"}},\"updates\":{\"snippets\":[{\"icon\":\"PERSON\",\"message\":\"@derStephan \nin #665: I had the very same issue when upgrading my installation from \n0.2.7. You need to raise the maximum execution time. Otherwise, the \nscript will be stopped after 30s in the middle of the upgrade process \nand your data will be corrupted. \\r\\n\\r\\nThis gets worse with each \nentry you have in the database. \\r\\n\\r\\nSo, restore your backup, raise \nmaximum execution time a lot and run the upgrade script again. \n\"}],\"action\":{\"name\":\"View \nIssue\",\"url\":\"https://github.com/fruux/Baikal/issues/665#issuecomment-275098590\"}}}\n\n. thank you for responding.\n\n\nYes\n\n\nNo.\n\n\nDSM 6.0.2-8451 Update 9\n\n\nPHP 5.6\n\n\nAm 25.01.2017 um 00:01 schrieb Erik:\n\nAre you trying to upgrade from 0.2.7 to 0.4.6 and you get this white \npage on 0.4.6 only?\nDid you ever made a fix in Core/Frameworks/Flake/Framework.php of 0.2.7 ?\nWhich DSM version are you running on your Synology?\nWhich php version ? (php -v)\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub \nhttps://github.com/fruux/Baikal/issues/665#issuecomment-274967446, \nor mute the thread \nhttps://github.com/notifications/unsubscribe-auth/AYIxK2S6sAw_2Go84HJ7_dUdkoutno5yks5rVoLPgaJpZM4LrmIR.\n{\"api_version\":\"1.0\",\"publisher\":{\"api_key\":\"05dde50f1d1a384dd78767c55493e4bb\",\"name\":\"GitHub\"},\"entity\":{\"external_key\":\"github/fruux/Baikal\",\"title\":\"fruux/Baikal\",\"subtitle\":\"GitHub \nrepository\",\"main_image_url\":\"https://cloud.githubusercontent.com/assets/143418/17495839/a5054eac-5d88-11e6-95fc-7290892c7bb5.png\",\"avatar_image_url\":\"https://cloud.githubusercontent.com/assets/143418/15842166/7c72db34-2c0b-11e6-9aed-b52498112777.png\",\"action\":{\"name\":\"Open \nin \nGitHub\",\"url\":\"https://github.com/fruux/Baikal\"}},\"updates\":{\"snippets\":[{\"icon\":\"PERSON\",\"message\":\"@ErikBasalt \nin #665: Are you trying to upgrade from 0.2.7 to 0.4.6 and you get \nthis white page on 0.4.6 only?\\r\\nDid you ever made a fix in \nCore/Frameworks/Flake/Framework.php of 0.2.7 ?\\r\\nWhich DSM version \nare you running on your Synology?\\r\\nWhich php version ? (php \n-v)\"}],\"action\":{\"name\":\"View \nIssue\",\"url\":\"https://github.com/fruux/Baikal/issues/665#issuecomment-274967446\"}}}\n\n. Hello and thanks for your advice. I found a tool on my synology which \nallows me to edit various php settings. I set the maximum execution time \nup from 240 to 24000. I did not notice any change afterwards. The white \npage still comes and there is no indication that anything is happening. \nHow long did it take for you? Did you have to restart your webserver for \nthe changes to take effect? I'm thinking of doing a new installation. If \nI were, and then copy my databank into the new installation, do you \nthink that would work?\nAm 26.01.2017 um 07:56 schrieb derStephan:\n\n@Mrres58 https://github.com/Mrres58 If you have no access to your \nPHP configuration on your NAS, try adding\n|ini_set('max_execution_time', 3000); //3000 seconds = 50 minutes|\nto line 1 in\n/html/admin/install/index.php\nright after |<?php|\nThen run your upgrade and be patient.\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub \nhttps://github.com/fruux/Baikal/issues/665#issuecomment-275319917, \nor mute the thread \nhttps://github.com/notifications/unsubscribe-auth/AYIxK33n1MIkkjBlx3_2AUSy2RWqCqehks5rWEOAgaJpZM4LrmIR.\n{\"api_version\":\"1.0\",\"publisher\":{\"api_key\":\"05dde50f1d1a384dd78767c55493e4bb\",\"name\":\"GitHub\"},\"entity\":{\"external_key\":\"github/fruux/Baikal\",\"title\":\"fruux/Baikal\",\"subtitle\":\"GitHub \nrepository\",\"main_image_url\":\"https://cloud.githubusercontent.com/assets/143418/17495839/a5054eac-5d88-11e6-95fc-7290892c7bb5.png\",\"avatar_image_url\":\"https://cloud.githubusercontent.com/assets/143418/15842166/7c72db34-2c0b-11e6-9aed-b52498112777.png\",\"action\":{\"name\":\"Open \nin \nGitHub\",\"url\":\"https://github.com/fruux/Baikal\"}},\"updates\":{\"snippets\":[{\"icon\":\"PERSON\",\"message\":\"@derStephan \nin #665: @Mrres58 If you have no access to your PHP configuration on \nyour NAS, try adding\\r\\n\\r\\nini_set('max_execution_time', 3000); \n//3000 seconds = 50 minutes\\r\\n\\r\\n to line 1 in \n\\r\\n\\r\\n/html/admin/install/index.php\\r\\n\\r\\nright after \n\\u003c?php \\r\\n\\r\\nThen run your upgrade and be patient. \n\"}],\"action\":{\"name\":\"View \nIssue\",\"url\":\"https://github.com/fruux/Baikal/issues/665#issuecomment-275319917\"}}}\n\n. ",
    "gaedol": "Hi, \nthanks. Will try. Anyway, I will try to fill up the data I miss, and if I end up doing in it in a \"normal\" language, I will post here my code, in case somebody else get stuck.\nThanks!. Hi, \nIf I try doing the upgrade you suggested I am returned with something like:\nSQLSTATE[HY000]: General error: 1 no such table: propertystorage\nwhenever I visit card.php/principals/$username\nand no sync of contacts.. Hi, \nthanks. Will try. Anyway, I will try to fill up the data I miss, and if I end up doing in it in a \"normal\" language, I will post here my code, in case somebody else get stuck.\nThanks!. Hi, \nIf I try doing the upgrade you suggested I am returned with something like:\nSQLSTATE[HY000]: General error: 1 no such table: propertystorage\nwhenever I visit card.php/principals/$username\nand no sync of contacts.. ",
    "flomaass": "Okay, nevermind. Problem seems to be somewhere else ;-)\nhttps://bugs.archlinux.org/task/52974. Okay, nevermind. Problem seems to be somewhere else ;-)\nhttps://bugs.archlinux.org/task/52974. ",
    "chrisdecker1201": "If that's the case, I think the maintainer of this tool are happy about a pull request from you :smile: . It seems you're openssl extension isn't enabled.\nCheck if your php.ini has the following line\nini\n;extension=php_openssl.dll\nand change it to\nini\nextension=php_openssl.dll. If that's the case, I think the maintainer of this tool are happy about a pull request from you :smile: . It seems you're openssl extension isn't enabled.\nCheck if your php.ini has the following line\nini\n;extension=php_openssl.dll\nand change it to\nini\nextension=php_openssl.dll. ",
    "jvoisin": "Damn, my bad.. I'm not familiar at all with the codebase, I just took a glance at it, sorry :/. Damn, my bad.. I'm not familiar at all with the codebase, I just took a glance at it, sorry :/. ",
    "de-es": "https://evertpot.com/sabredav-eol/. https://evertpot.com/sabredav-eol/. ",
    "qwertygc": "Is planned a fork ?. Is planned a fork ?. ",
    "effem": "I found the location of the migraion script in an old issue: https://github.com/fruux/Baikal/issues/589. I found the location of the migraion script in an old issue: https://github.com/fruux/Baikal/issues/589. ",
    "marcelbrueckner": "Did you really name your user \"testuser\"?\nError code 404 seems to indicate that your username is wrong.. Give rights to the user Baikal runs as. This is usually the user that runs the WebStation. In DSM (at least on mine) it's \"http\" (user and group).. Did you really name your user \"testuser\"?\nError code 404 seems to indicate that your username is wrong.. Give rights to the user Baikal runs as. This is usually the user that runs the WebStation. In DSM (at least on mine) it's \"http\" (user and group).. ",
    "ladetto": "Dear Stefan,\nThanks a lot! it worked like a charm!\nBest regards,\nQuentin. hello! I have 1600 contacts and the entries in the calendar must be around 500... I don't know the exact time, but after 5 minutes it was done. Sorry, not to be more precise, but I was working on another tab.... Dear Stefan,\nThanks a lot! it worked like a charm!\nBest regards,\nQuentin. hello! I have 1600 contacts and the entries in the calendar must be around 500... I don't know the exact time, but after 5 minutes it was done. Sorry, not to be more precise, but I was working on another tab.... ",
    "deflomu": "Do you have an example for a unit test? I couldn't find any tests in the sources.. Do you have an example for a unit test? I couldn't find any tests in the sources.. ",
    "codilic": "Wow, you are up early!\nThanks for the hint to PHP. Actually, the web server does not show any PHP page. They are all blank. So I could not even check info.php for the version.\nI guess, this is more an nginx and PHP issue. So, sorry again for bothering! But if you had an idea how to proceed, I'd be happy!. Just an update: I followed the tracks and found this to be an issue of nginx. I am using a raspberry pi for synchronizing calendars and addressbooks with baikal. However, nginx is installed as version 1.6.2 as a standard. Newer versions of nginx fix the blank pages issue. But installing newer versions of nginx on raspberry pi is quite a thing. I installed it from jessie-backports repository, but there seem to be a lot of issues left.\nAnyway, you are not here to fix nginx problems. So, everything seems to be okay with baikal and there is no issue for you. :). Wow, you are up early!\nThanks for the hint to PHP. Actually, the web server does not show any PHP page. They are all blank. So I could not even check info.php for the version.\nI guess, this is more an nginx and PHP issue. So, sorry again for bothering! But if you had an idea how to proceed, I'd be happy!. Just an update: I followed the tracks and found this to be an issue of nginx. I am using a raspberry pi for synchronizing calendars and addressbooks with baikal. However, nginx is installed as version 1.6.2 as a standard. Newer versions of nginx fix the blank pages issue. But installing newer versions of nginx on raspberry pi is quite a thing. I installed it from jessie-backports repository, but there seem to be a lot of issues left.\nAnyway, you are not here to fix nginx problems. So, everything seems to be okay with baikal and there is no issue for you. :). ",
    "PhrozenByte": "So, you think that it's favored behavior that inviting anybody, who isn't using this particular Baikal instance, isn't possible at all? How is Baikal supposed to be used? This neither works in private environments (because people you want to invite obviously won't use your private Baikal instance), nor in corporations (where people must be able to invite non-employees like customers)? \ud83d\ude15 \nJust to make this clear, I don't describe my personal use case here - there are numerous issues about this in this GitHub repo alone. You can even find a vast number of statements like \"Baikal doesn't support scheduling\" on the web. Supporting just local delivery is IMO highly unfavorable, it breaks 99% of use cases, even with \\Sabre\\CalDAV\\Schedule\\IMipPlugin you'll break most use cases (because Baikal is no Groupware software - something I \u2764\ufe0f about Baikal! - and is simply not able to consider invitation responses).\nI think Baikal is an awesome project! But it breaks scheduling for no apparent reason. Why?. So, you think that it's favored behavior that inviting anybody, who isn't using this particular Baikal instance, isn't possible at all? How is Baikal supposed to be used? This neither works in private environments (because people you want to invite obviously won't use your private Baikal instance), nor in corporations (where people must be able to invite non-employees like customers)? \ud83d\ude15 \nJust to make this clear, I don't describe my personal use case here - there are numerous issues about this in this GitHub repo alone. You can even find a vast number of statements like \"Baikal doesn't support scheduling\" on the web. Supporting just local delivery is IMO highly unfavorable, it breaks 99% of use cases, even with \\Sabre\\CalDAV\\Schedule\\IMipPlugin you'll break most use cases (because Baikal is no Groupware software - something I \u2764\ufe0f about Baikal! - and is simply not able to consider invitation responses).\nI think Baikal is an awesome project! But it breaks scheduling for no apparent reason. Why?. ",
    "Yogui79": "hi @evert\nthank you for your answhere I will try it\nregards\n  Yogui. hi @evert\nI try it works fine wen I'm using  http://ipfrommyserver/dav.php/addressbooks/user/default/ thanks for your help\n. hi @evert\nthank you for your answhere I will try it\nregards\n  Yogui. hi @evert\nI try it works fine wen I'm using  http://ipfrommyserver/dav.php/addressbooks/user/default/ thanks for your help\n. ",
    "lbeziaud": "@evert I just tried the second query on an empty calendar (thus without any \"broken ICalendar object\") and the result is still an error 500.\nThis also seems to affect the ics-export plugin when the expand=1 option is passed.\nI assume free-busy-query are using expand too (?). If it is the case then #697 might be linked to this issue.. The errors is due to the default timezone for the calendar being an empty string. Switching to UTC if this is the case solves the issue. I have not yet looked into why the timezone is empty.\n```\nFrom ebc59677956614f0f27d65589f41ac943cba524d Mon Sep 17 00:00:00 2001\nFrom: \"Louis.Beziaud\" louis.beziaud@ens-rennes.fr\nDate: Sun, 25 Jun 2017 21:15:54 +0200\nSubject: [PATCH 1/1] freeBusyQueryReport uses UTC if default timezone for the\n calendar is the empty string instead of return 500 because VObject\\Reader\n tries to read it\n\nlib/CalDAV/Plugin.php | 2 +-\n 1 file changed, 1 insertion(+), 1 deletion(-)\ndiff --git a/lib/CalDAV/Plugin.php b/lib/CalDAV/Plugin.php\nindex 8bb8012e..27066a48 100644\n--- a/lib/CalDAV/Plugin.php\n+++ b/lib/CalDAV/Plugin.php\n@@ -687,7 +687,7 @@ class Plugin extends DAV\\ServerPlugin {\n         // times.\n         $calendarProps = $this->server->getProperties($uri, [$tzProp]);\n\nif (isset($calendarProps[$tzProp])) {\nif (isset($calendarProps[$tzProp]) && !empty($calendarProps[$tzProp])) {\n             $vtimezoneObj = VObject\\Reader::read($calendarProps[$tzProp]);\n             $calendarTimeZone = $vtimezoneObj->VTIMEZONE->getTimeZone();\n             // Destroy circular references so PHP will garbage collect the object.\n--\n2.11.0\n```. @evert I just tried the second query on an empty calendar (thus without any \"broken ICalendar object\") and the result is still an error 500.\n\nThis also seems to affect the ics-export plugin when the expand=1 option is passed.\nI assume free-busy-query are using expand too (?). If it is the case then #697 might be linked to this issue.. The errors is due to the default timezone for the calendar being an empty string. Switching to UTC if this is the case solves the issue. I have not yet looked into why the timezone is empty.\n```\nFrom ebc59677956614f0f27d65589f41ac943cba524d Mon Sep 17 00:00:00 2001\nFrom: \"Louis.Beziaud\" louis.beziaud@ens-rennes.fr\nDate: Sun, 25 Jun 2017 21:15:54 +0200\nSubject: [PATCH 1/1] freeBusyQueryReport uses UTC if default timezone for the\n calendar is the empty string instead of return 500 because VObject\\Reader\n tries to read it\n\nlib/CalDAV/Plugin.php | 2 +-\n 1 file changed, 1 insertion(+), 1 deletion(-)\ndiff --git a/lib/CalDAV/Plugin.php b/lib/CalDAV/Plugin.php\nindex 8bb8012e..27066a48 100644\n--- a/lib/CalDAV/Plugin.php\n+++ b/lib/CalDAV/Plugin.php\n@@ -687,7 +687,7 @@ class Plugin extends DAV\\ServerPlugin {\n         // times.\n         $calendarProps = $this->server->getProperties($uri, [$tzProp]);\n\nif (isset($calendarProps[$tzProp])) {\nif (isset($calendarProps[$tzProp]) && !empty($calendarProps[$tzProp])) {\n             $vtimezoneObj = VObject\\Reader::read($calendarProps[$tzProp]);\n             $calendarTimeZone = $vtimezoneObj->VTIMEZONE->getTimeZone();\n             // Destroy circular references so PHP will garbage collect the object.\n--\n2.11.0\n```. \n",
    "cmdtstof": "sorry, i forgot the open task...\n@1977er thanks for your comment.\ni made a reinstall with the same config file and after that baikal was working proper, but i don't know why!\nthanks and close.. sorry, i forgot the open task...\n@1977er thanks for your comment.\ni made a reinstall with the same config file and after that baikal was working proper, but i don't know why!\nthanks and close.. ",
    "winvogel": "now while running Baikal in the URL 'install' is added\n( this is the correct Text - sorry). thank for your fast answer\nwhere do i find this file libxml?\n. how to give Baikal access rights to the \"specific\" folder  (Synlogy NAS 6.1.3)?. now while running Baikal in the URL 'install' is added\n( this is the correct Text - sorry). thank for your fast answer\nwhere do i find this file libxml?\n. how to give Baikal access rights to the \"specific\" folder  (Synlogy NAS 6.1.3)?. ",
    "OldSanSan": "find it~. find it~. ",
    "tanaok": "Hi Stephan, thank you very much for your quick and detailed answer.\nSo, after having added the ini_set() function to the new /html/admin/install/index.php file as you mentioned (and copied all files to my server without overwritting , I ran the upgrade and got the 'SQLSTATE[42S21]: Column already exists: 1060 Duplicate column name 'synctoken'' error, already referenced in several issues: #464, #506, #530 and #589...\n@tamielbr, in #530, seemed to face similar issues and mentioned the 'change permissions' option: and idea of where and how this has to be done? \n. Hi Stephan, yes unfortunately i did restore my backup...\nLe 20 sept. 2017 15:17, \"derStephan\" notifications@github.com a \u00e9crit :\nDid you restore your backup first? Otherwise, the new colums will exist but\nthe data in it will be corrupted.\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/fruux/Baikal/issues/708#issuecomment-330800116, or mute\nthe thread\nhttps://github.com/notifications/unsubscribe-auth/AeiLLrIPK8VHvFSMX8YkRq37ckkENBoJks5skNz_gaJpZM4PZ2ML\n.\n. Hi Stephan, thank you very much for your quick and detailed answer.\nSo, after having added the ini_set() function to the new /html/admin/install/index.php file as you mentioned (and copied all files to my server without overwritting , I ran the upgrade and got the 'SQLSTATE[42S21]: Column already exists: 1060 Duplicate column name 'synctoken'' error, already referenced in several issues: #464, #506, #530 and #589...\n@tamielbr, in #530, seemed to face similar issues and mentioned the 'change permissions' option: and idea of where and how this has to be done? \n. Hi Stephan, yes unfortunately i did restore my backup...\nLe 20 sept. 2017 15:17, \"derStephan\" notifications@github.com a \u00e9crit :\nDid you restore your backup first? Otherwise, the new colums will exist but\nthe data in it will be corrupted.\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/fruux/Baikal/issues/708#issuecomment-330800116, or mute\nthe thread\nhttps://github.com/notifications/unsubscribe-auth/AeiLLrIPK8VHvFSMX8YkRq37ckkENBoJks5skNz_gaJpZM4PZ2ML\n.\n. ",
    "TheSmartGerman": "Well, I also tried to upgarde from 2.7. to the latest version. Got a lot of errors. Finally I did a clean installation and synced back my data.\nBut now I'm struggling with the ics export plugin. previously it was defined like this in cal.php (http://sabre.io/dav/ics-export-plugin/):\n$icsPlugin = new \\Sabre\\CalDAV\\ICSExportPlugin();\n$server->addPlugin($icsPlugin);\nbut how to use it in dav.php?\nTHX\n. Sorry, can't recall the errors. But it was something similar. Finally I did a ics export from on of the synced calendars. installed the Baikal new and imported the ics file.\nwell, the export is \"fixed\". The current version supports icalenders by default. no need to enable the plugin.\nTherefore I was able to solve my problem.. Well, I also tried to upgarde from 2.7. to the latest version. Got a lot of errors. Finally I did a clean installation and synced back my data.\nBut now I'm struggling with the ics export plugin. previously it was defined like this in cal.php (http://sabre.io/dav/ics-export-plugin/):\n$icsPlugin = new \\Sabre\\CalDAV\\ICSExportPlugin();\n$server->addPlugin($icsPlugin);\nbut how to use it in dav.php?\nTHX\n. Sorry, can't recall the errors. But it was something similar. Finally I did a ics export from on of the synced calendars. installed the Baikal new and imported the ics file.\nwell, the export is \"fixed\". The current version supports icalenders by default. no need to enable the plugin.\nTherefore I was able to solve my problem.. ",
    "cmuerau": "The additional entry in the PHP file (max execution time to 3000) worked fine for me after upgrading from 0.2.7 to 0.4.6 and getting the error message that the update did not finish successfully. \nAnd I fully restored the folder from backup before uploading the files again with the changed line.\nThanks a lot for the help here! :-)\n. The additional entry in the PHP file (max execution time to 3000) worked fine for me after upgrading from 0.2.7 to 0.4.6 and getting the error message that the update did not finish successfully. \nAnd I fully restored the folder from backup before uploading the files again with the changed line.\nThanks a lot for the help here! :-)\n. ",
    "dIELERx": "Hey DigiAngel, php 7 works fine with Baikal 0.5.0.\nI am running this version \"PHP 7.0.22\" on Ubuntu 16.04.\n. Hey DigiAngel, php 7 works fine with Baikal 0.5.0.\nI am running this version \"PHP 7.0.22\" on Ubuntu 16.04.\n. ",
    "globule": "Fixed by deleting all DB tables from previous version and reinstallation.. Fixed by deleting all DB tables from previous version and reinstallation.. ",
    "haribert": "I switched from OSX 10.11 to 10.13. After some problems in the beginning, I could get it working!\nI removed my older config in .htaccess i found back then (OSX 10.11) in issue #401:\nRedirect /.well-known/carddav /card.php\nRedirect /.well-known/caldav /cal.php\nand added the following lines in my apache.conf:\nRewriteEngine on\nRewriteRule /.well-known/carddav /dav.php [R,L]\nRewriteRule /.well-known/caldav /dav.php [R,L]\nI used following account settings:\nAccount Type:    manual\nUser Name:       <baikal user>\nPassword:        <user password>\nServer Address:  https://<baikal address>\nBut the user/password verification did not work the first time, I had to try several times (around 4 times clicking the button Sign In) until it signed in.\nI hope someone can reproduce and verify this!. I switched from OSX 10.11 to 10.13. After some problems in the beginning, I could get it working!\nI removed my older config in .htaccess i found back then (OSX 10.11) in issue #401:\nRedirect /.well-known/carddav /card.php\nRedirect /.well-known/caldav /cal.php\nand added the following lines in my apache.conf:\nRewriteEngine on\nRewriteRule /.well-known/carddav /dav.php [R,L]\nRewriteRule /.well-known/caldav /dav.php [R,L]\nI used following account settings:\nAccount Type:    manual\nUser Name:       <baikal user>\nPassword:        <user password>\nServer Address:  https://<baikal address>\nBut the user/password verification did not work the first time, I had to try several times (around 4 times clicking the button Sign In) until it signed in.\nI hope someone can reproduce and verify this!. ",
    "AB933": "Thank you for the reply.\nThose have all been tried with no success.  I am only having trouble with the calendar data not the contacts.\nAt some point, I will need to move on from 0.27 so I installed Nextcloud 12 in FreeBSD with Apache to experiment with.  The exported data from Baikal 0.27 was imported into Nextcloud with no issues.  I did a copy from Nextcloud 12 to Baikal 0.46 with EM Client and ended up with the same error above when trying to import the data directly into 0.46.  I am sure there is only one calendar entry that is causing this issue.  If I could get a clue as to what may be causing the error, I would eliminate that entry.   I have exported the data as a CSV file and eliminated whole columns of unnecessary data and then imported the CSV data into 0.46 with the same \"1 too many SQL variables\" error.  . Thank you for the reply.\nThose have all been tried with no success.  I am only having trouble with the calendar data not the contacts.\nAt some point, I will need to move on from 0.27 so I installed Nextcloud 12 in FreeBSD with Apache to experiment with.  The exported data from Baikal 0.27 was imported into Nextcloud with no issues.  I did a copy from Nextcloud 12 to Baikal 0.46 with EM Client and ended up with the same error above when trying to import the data directly into 0.46.  I am sure there is only one calendar entry that is causing this issue.  If I could get a clue as to what may be causing the error, I would eliminate that entry.   I have exported the data as a CSV file and eliminated whole columns of unnecessary data and then imported the CSV data into 0.46 with the same \"1 too many SQL variables\" error.  . "
}