{
    "petzel": "LGTM\n. one comment re: docs, but after that's added :shipit:\n. I think we should align with Google's style guide. \nReasoning is that it will make the project easier to work with for outside contributors. @nwadams what do you think? \n. Yep let's do it\nOn Mar 24, 2015 8:42 PM, \"Felipe Lima\" notifications@github.com wrote:\n\n> do you guys wanna do this? i guess we don't care much about blame history\n> here, since we only have about a dozen files and 28 commits.\n> \n> \u2014\n> Reply to this email directly or view it on GitHub\n> https://github.com/airbnb/AirMapView/pull/4#issuecomment-85816660.\n. yep coming up next - just wanted to make obvious how the addition of this lib was done\n. LGTM\n. Yep I'll definitely get a gif demo for multiple map types up soon\nOn Mar 24, 2015 2:35 PM, \"Felipe Lima\" notifications@github.com wrote:\n\n> +1 to what @spikebrehm https://github.com/spikebrehm said\n> \n> \u2014\n> Reply to this email directly or view it on GitHub\n> https://github.com/airbnb/AirMapView/pull/9#issuecomment-85703659.\n. LGTM\n. those screenshots are huge - i'm going to resize\n. nice :shipit:\n. LGTM\n. We haven't yet started work on OSM support, but we plan to investigate to see if it would work as a fallback map provider as opposed to the web map.  \n. @EpsilonOrionis this should be fixed in the latest version. If you're using gradle/maven you can pull the new version which is 1.1.3\n. LGTM\n. We've got an initial version of Amazon Maps V2 working in that branch, but it's not quite ready yet. It should be integrated to the main lib soon! \n. The snippet is only used in the native map - we'll have to add logic to add this field to the web map as well. \n. Hey @tommytcchan, any plans to address the final comments so we can merge this? \n. This is great! A few comments to address before we can merge this\n. `onMapMarkerClick` is a callback that is only called once a marker has been clicked - it does not perform the actual clicking on the marker. Are you trying to show an info window programmatically, or what are you trying to do? \n. This is amazing - I'm so happy to see this! \nI left a few comments so far, and I'd like to get my hands on it and try it out later tonight. \n\nThanks Brad! \n. Just a couple small comments - once those are addressed (as well as Felipe's comment), it looks good to merge! \n. Looks great - thanks so much, Brad! \n. we now have `AirMapType` and `MapType` -- we should come up with something more clear \n. :shipit: \n. :shipit: \n. @geofffalk thank you for reporting and for the fix!\n. Looks great! Please do squash before merging. \n\n:ship: \n. We should handle the permission ourselves so users don't have the additional transitive dependency. \n. LGTM if tested with google play services and without on both an M device, and a pre-M device\n. Hey Matt, \n\nCould you post the logs you see containing the error? As well as the code you are using to setup the map/fragment? \n\n-eric\n. As discussed offline, would be great to have a `@JavascriptInterface` which returns true if in China mode to avoid roundtrip js -> java ---(handler post)--> java -> js\n. This is great! Sorry for the delayed review - just a few minor things. \n. LGTM\n. one comment re: docs, but after that's added :shipit:\n. I think we should align with Google's style guide. \nReasoning is that it will make the project easier to work with for outside contributors. @nwadams what do you think? \n. Yep let's do it\nOn Mar 24, 2015 8:42 PM, \"Felipe Lima\" notifications@github.com wrote:\n\n> do you guys wanna do this? i guess we don't care much about blame history\n> here, since we only have about a dozen files and 28 commits.\n> \n> \u2014\n> Reply to this email directly or view it on GitHub\n> https://github.com/airbnb/AirMapView/pull/4#issuecomment-85816660.\n. yep coming up next - just wanted to make obvious how the addition of this lib was done\n. LGTM\n. Yep I'll definitely get a gif demo for multiple map types up soon\nOn Mar 24, 2015 2:35 PM, \"Felipe Lima\" notifications@github.com wrote:\n\n> +1 to what @spikebrehm https://github.com/spikebrehm said\n> \n> \u2014\n> Reply to this email directly or view it on GitHub\n> https://github.com/airbnb/AirMapView/pull/9#issuecomment-85703659.\n. LGTM\n. those screenshots are huge - i'm going to resize\n. nice :shipit:\n. LGTM\n. We haven't yet started work on OSM support, but we plan to investigate to see if it would work as a fallback map provider as opposed to the web map.  \n. @EpsilonOrionis this should be fixed in the latest version. If you're using gradle/maven you can pull the new version which is 1.1.3\n. LGTM\n. We've got an initial version of Amazon Maps V2 working in that branch, but it's not quite ready yet. It should be integrated to the main lib soon! \n. The snippet is only used in the native map - we'll have to add logic to add this field to the web map as well. \n. Hey @tommytcchan, any plans to address the final comments so we can merge this? \n. This is great! A few comments to address before we can merge this\n. `onMapMarkerClick` is a callback that is only called once a marker has been clicked - it does not perform the actual clicking on the marker. Are you trying to show an info window programmatically, or what are you trying to do? \n. This is amazing - I'm so happy to see this! \nI left a few comments so far, and I'd like to get my hands on it and try it out later tonight. \n\nThanks Brad! \n. Just a couple small comments - once those are addressed (as well as Felipe's comment), it looks good to merge! \n. Looks great - thanks so much, Brad! \n. we now have `AirMapType` and `MapType` -- we should come up with something more clear \n. :shipit: \n. :shipit: \n. @geofffalk thank you for reporting and for the fix!\n. Looks great! Please do squash before merging. \n\n:ship: \n. We should handle the permission ourselves so users don't have the additional transitive dependency. \n. LGTM if tested with google play services and without on both an M device, and a pre-M device\n. Hey Matt, \n\nCould you post the logs you see containing the error? As well as the code you are using to setup the map/fragment? \n\n-eric\n. As discussed offline, would be great to have a `@JavascriptInterface` which returns true if in China mode to avoid roundtrip js -> java ---(handler post)--> java -> js\n. This is great! Sorry for the delayed review - just a few minor things. \n. ",
    "felipecsl": "![](http://anfleene.github.io/whats-brewing-with-brew-gem/file/images/shipit.jpeg)\n. Also to give some context, right now most Java open source libs seem to be using this codestyle, so sounds like we should stick to that, instead of whatever Airbnb uses internally, which is probably not relevant for open source purposes\n. do you guys wanna do this? i guess we don't care much about blame history here, since we only have about a dozen files and 28 commits.\n. :+1: \n. sounds good. are you adding the code in a separate PR?\n. you don't wanna merge it?\n. :+1: \n. :shipit: \n. +1 to what @spikebrehm said\n. we also need a nice readme\n. :+1: \n. Nice!\n. ![](https://github.com/jglovier/gifs/raw/gh-pages/thumbs-up/thumbs-up.gif)\n. +1\n. yeah I agree. let me revert this sample app change.\n. ![](http://gifs.joelglovier.com/excited/thumbs-up-levar-burton.gif)\n. The problem with Amazon maps is that it's currently not on Maven Central, so you basically have to download it yourself and manually add it to your project's dependencies, which is far from ideal.\nIf you don't want to use Amazon maps you shouldn't have to still get it though. In order to fix this, we're gonna make the Amazon maps dependency optional, so you'll only have to pull it if you want to use. In the meantime we're gonna remove it until this issue is sorted out.\n. This has been implemented on #31 and will be merged in when we have the full amazon integration working, also probably on a separate sub module\n. :+1: when build finishes\n. If it looks good to you guys, I'll push it to central and test it on an external project by making sure it doesn't require Amazon. I already tested on the sample app by deploying to my maven local repo and confirmed it worked fine without the amazon aar file\n. @nwadams I agree, once we add the amazon logic we could add that into a sub-module. Right now we don't even have any code that uses it, so it might not even make sense to merge this.\n. it is currently broken?\n. Closed via #37 \n. Travis seems to be having issues. All tests are passing locally. I'll bump the version to 1.1.5 and push to maven central.\n. It sounds like something is wrong with your jdk installation.\n. can you run a `./gradlew clean assemble --stacktrace` and paste the full stack/error please?\n. this is probably because you forgot to set the map center. what you're looking at is probably water in the middle of nowhere :smile: \nlook at MainActivity.java for an example, ultimately you need somethingl ike `map.animateCenterZoom(latLng, zoom);`\n. looks good :+1: \n. thanks!\n. looking great. thank you!\n. sounds like this would be very useful. I'll tackle it\n. agreed. what about renaming `AirMapType` to `AirMapViewMapType` to be more explicit?\n. `GoogleChinaWebViewMapFragment` updated to extend `GoogleWebViewMapFragment`\n. Mapbox map type switching fixed. \nCommits squashed\n. bump\n. /cc @petzel @chandsie \n. ugh Travis doesn't support android 23 yet...\n. oh sweet. for some reason I assumed travis was not gonna work with api 23. all clear now. thanks Rafael!\n. nice. LGTM :+1: \n. thanks @geofffalk \n. Looking pretty good overall. Can you add a screenshot please?\n. looks good to me. @acq yes please squash them.\n@petzel or @nwadams wanna take a quick look?\n. LGTM\n. after thinking about it a bit more, I actually would like to avoid adding a new dependency to this library (unless absolutely necessary). @supermao how much more work would be to handle the permissions by hand? (without permissiondispatcher). Adding more dependencies here means that every app that wants to use it will also bring that dependency transitively, which is not ideal.\nAlso, please check the failing Travis build\n. looking good now, mostly just formatting\n. LGTM\n. This is pretty interesting. I think a separate module would be the ideal solution, since probably not everyone will need these features so we don't want to bloat the library with additional stuff that you don't need.\nPlease feel free to submit a Pull Request, it sounds great to me. @petzel and @nwadams might want to chime in as well\n. Closing since this is already being tracked by each individual Pull Request\n. nice. can you squash the commits before we can merge them, please?\n. Method annotations should be on same line, as per the google style guide\n. LGTM, don't forget to squash them before merging!\n. LGTM as soon as build the finishes\n. thank you sir!\n. That exception is coming from the webcore process, not your process. \nWhat device model and Android version are you running on?\n. I don't have a device with API 15 available for testing, but I tried on one with API 16 and it worked fine. Can you try on a different device to see if the problem persists?\n. :+1: once green\n. :+1: when build finished\n. :+1: :shipit: \n. \ud83d\udc4d \n. @sreejithraman for sure. I'm cutting 1.3.5 now.... @sreejithraman this has been released as version 1.4.0. Fixed via #93 . Thanks!. @forrestbice you can grab the snapshot version right now with `1.4.1-SNAPSHOT`. Thanks!. Thanks for your contributions though, keep 'em coming \ud83d\ude04 . Closing as duplicate of #48 . @MateuszMlodawski I'll cut a v1.5 release!. Released!. Is this the fix for #112?. Latest releases are documented in the Github project [releases](https://github.com/airbnb/AirMapView/releases) tab. ![](http://anfleene.github.io/whats-brewing-with-brew-gem/file/images/shipit.jpeg)\n. Also to give some context, right now most Java open source libs seem to be using this codestyle, so sounds like we should stick to that, instead of whatever Airbnb uses internally, which is probably not relevant for open source purposes\n. do you guys wanna do this? i guess we don't care much about blame history here, since we only have about a dozen files and 28 commits.\n. :+1: \n. sounds good. are you adding the code in a separate PR?\n. you don't wanna merge it?\n. :+1: \n. :shipit: \n. +1 to what @spikebrehm said\n. we also need a nice readme\n. :+1: \n. Nice!\n. ![](https://github.com/jglovier/gifs/raw/gh-pages/thumbs-up/thumbs-up.gif)\n. +1\n. yeah I agree. let me revert this sample app change.\n. ![](http://gifs.joelglovier.com/excited/thumbs-up-levar-burton.gif)\n. The problem with Amazon maps is that it's currently not on Maven Central, so you basically have to download it yourself and manually add it to your project's dependencies, which is far from ideal.\nIf you don't want to use Amazon maps you shouldn't have to still get it though. In order to fix this, we're gonna make the Amazon maps dependency optional, so you'll only have to pull it if you want to use. In the meantime we're gonna remove it until this issue is sorted out.\n. This has been implemented on #31 and will be merged in when we have the full amazon integration working, also probably on a separate sub module\n. :+1: when build finishes\n. If it looks good to you guys, I'll push it to central and test it on an external project by making sure it doesn't require Amazon. I already tested on the sample app by deploying to my maven local repo and confirmed it worked fine without the amazon aar file\n. @nwadams I agree, once we add the amazon logic we could add that into a sub-module. Right now we don't even have any code that uses it, so it might not even make sense to merge this.\n. it is currently broken?\n. Closed via #37 \n. Travis seems to be having issues. All tests are passing locally. I'll bump the version to 1.1.5 and push to maven central.\n. It sounds like something is wrong with your jdk installation.\n. can you run a `./gradlew clean assemble --stacktrace` and paste the full stack/error please?\n. this is probably because you forgot to set the map center. what you're looking at is probably water in the middle of nowhere :smile: \nlook at MainActivity.java for an example, ultimately you need somethingl ike `map.animateCenterZoom(latLng, zoom);`\n. looks good :+1: \n. thanks!\n. looking great. thank you!\n. sounds like this would be very useful. I'll tackle it\n. agreed. what about renaming `AirMapType` to `AirMapViewMapType` to be more explicit?\n. `GoogleChinaWebViewMapFragment` updated to extend `GoogleWebViewMapFragment`\n. Mapbox map type switching fixed. \nCommits squashed\n. bump\n. /cc @petzel @chandsie \n. ugh Travis doesn't support android 23 yet...\n. oh sweet. for some reason I assumed travis was not gonna work with api 23. all clear now. thanks Rafael!\n. nice. LGTM :+1: \n. thanks @geofffalk \n. Looking pretty good overall. Can you add a screenshot please?\n. looks good to me. @acq yes please squash them.\n@petzel or @nwadams wanna take a quick look?\n. LGTM\n. after thinking about it a bit more, I actually would like to avoid adding a new dependency to this library (unless absolutely necessary). @supermao how much more work would be to handle the permissions by hand? (without permissiondispatcher). Adding more dependencies here means that every app that wants to use it will also bring that dependency transitively, which is not ideal.\nAlso, please check the failing Travis build\n. looking good now, mostly just formatting\n. LGTM\n. This is pretty interesting. I think a separate module would be the ideal solution, since probably not everyone will need these features so we don't want to bloat the library with additional stuff that you don't need.\nPlease feel free to submit a Pull Request, it sounds great to me. @petzel and @nwadams might want to chime in as well\n. Closing since this is already being tracked by each individual Pull Request\n. nice. can you squash the commits before we can merge them, please?\n. Method annotations should be on same line, as per the google style guide\n. LGTM, don't forget to squash them before merging!\n. LGTM as soon as build the finishes\n. thank you sir!\n. That exception is coming from the webcore process, not your process. \nWhat device model and Android version are you running on?\n. I don't have a device with API 15 available for testing, but I tried on one with API 16 and it worked fine. Can you try on a different device to see if the problem persists?\n. :+1: once green\n. :+1: when build finished\n. :+1: :shipit: \n. \ud83d\udc4d \n. @sreejithraman for sure. I'm cutting 1.3.5 now.... @sreejithraman this has been released as version 1.4.0. Fixed via #93 . Thanks!. @forrestbice you can grab the snapshot version right now with `1.4.1-SNAPSHOT`. Thanks!. Thanks for your contributions though, keep 'em coming \ud83d\ude04 . Closing as duplicate of #48 . @MateuszMlodawski I'll cut a v1.5 release!. Released!. Is this the fix for #112?. Latest releases are documented in the Github project [releases](https://github.com/airbnb/AirMapView/releases) tab. ",
    "nwadams": "do we have an internal java style pattern we follow at airbnb. If so We would probably want to be uniform with that. \n. I'm in. But before merging this can we investigate a way to do this without destroying blame history \n. If we can find a way lets do this to airbnb codebase too\n. +1\n. +1\n. +1\n. +1\n. might be simpler for the sample if the bitmap marker is just a resource and not a custom drawing code. \n. +1.\n. nice. should we make a separate header for the sample app?\n. +1\n. It would be interesting if we could integrate that project into airmapview. Maybe have a module that can be included that is an interface between opensciencemap and AirMapView. \n. +1\n. I think we should make this an add on module and not part of the main lib. \n. yeah. I agree lets not add the amazon dependency at all until the amazon version of the lib is ready. \n. You should use the `OnMapInitializedListener` which behaves like the `getMapAsync`\n\n```\nmap.setOnMapInitializedListener(this);\nmap.initialize(getSupportFragmentManager());\n```\n\nSee line 54 of the MainActivity in the sample. https://github.com/airbnb/AirMapView/blob/master/sample/src/main/java/com/airbnb/airmapview/sample/MainActivity.java#L54\n\nInternally when we initialize the map we call `getMapAsync`\n. :+1: \n. +1\n. @jvartanian94 that sounds like a good approach that we can use for a 'default' info window\n. I'm +1 on this. @petzel any objections to merging?\n. in the google map you can call `showInfoWindow() on a marker as described here. https://developers.google.com/maps/documentation/android/infowindows\n\nYou can probably add support for calling `showInfoWindow()` on the map markers in this project to support that behavior. \n. this looks pretty good. Can you post a screenshot of what it looks like in the web map?\n. thanks for the improvement. We should have an updated package coming shortly with this included.\n. The library currently has no clustering support. It would be cool if someone were to add it. \n. Our current version of the android app doesn't have clustering of markers. We used to have it in a super old version, but it was janky. \n\nedit: and yes we use AirMapView internally\n. lgtm\n. we should probably release a 1.3.2 with the security patch if we aren't going to release 1.4.0 right away. \n. lgtm\n. They are based on the https://developers.google.com/android/reference/com/google/android/gms/maps/CameraUpdateFactory zoom parameters. We should update the documentation to reflect this. \n. I would recommend using the location apis(http://developer.android.com/training/location/index.html) to get a user's location separately from the map. \n. I really like the idea of having these. I agree that having them as a separate module that could be optionally added would be cool. Long term I think the 'core' Airmapview should contain only a few map packages and basic api, and have extensions that are build on top that can be included as needed. These map utils could be separate extensions to the base api. There may be core api changes required to support this and I am open to modifying the core api if required. \n\nFeel free to open a PR so we can see what kind of changes would be required. Hopefully no breaking api changes though.  \n. @tranngoclam I don't think you can have a marker that is part of the map but attached to the screen instead of a map location. Perhaps you could \"add the marker\" and then take a snapshot when needed but keep the `ImageView` on top of the map when the user is moving it around. . @guidedways I am unable to reproduce this with the sample app. Can you provide more details?. fixed by https://github.com/airbnb/AirMapView/issues/99. @leonardo2204 We could look into implementing this. Is there an example of how this is implemented in the maps api. . do we have an internal java style pattern we follow at airbnb. If so We would probably want to be uniform with that. \n. I'm in. But before merging this can we investigate a way to do this without destroying blame history \n. If we can find a way lets do this to airbnb codebase too\n. +1\n. +1\n. +1\n. +1\n. might be simpler for the sample if the bitmap marker is just a resource and not a custom drawing code. \n. +1.\n. nice. should we make a separate header for the sample app?\n. +1\n. It would be interesting if we could integrate that project into airmapview. Maybe have a module that can be included that is an interface between opensciencemap and AirMapView. \n. +1\n. I think we should make this an add on module and not part of the main lib. \n. yeah. I agree lets not add the amazon dependency at all until the amazon version of the lib is ready. \n. You should use the `OnMapInitializedListener` which behaves like the `getMapAsync`\n\n```\nmap.setOnMapInitializedListener(this);\nmap.initialize(getSupportFragmentManager());\n```\n\nSee line 54 of the MainActivity in the sample. https://github.com/airbnb/AirMapView/blob/master/sample/src/main/java/com/airbnb/airmapview/sample/MainActivity.java#L54\n\nInternally when we initialize the map we call `getMapAsync`\n. :+1: \n. +1\n. @jvartanian94 that sounds like a good approach that we can use for a 'default' info window\n. I'm +1 on this. @petzel any objections to merging?\n. in the google map you can call `showInfoWindow() on a marker as described here. https://developers.google.com/maps/documentation/android/infowindows\n\nYou can probably add support for calling `showInfoWindow()` on the map markers in this project to support that behavior. \n. this looks pretty good. Can you post a screenshot of what it looks like in the web map?\n. thanks for the improvement. We should have an updated package coming shortly with this included.\n. The library currently has no clustering support. It would be cool if someone were to add it. \n. Our current version of the android app doesn't have clustering of markers. We used to have it in a super old version, but it was janky. \n\nedit: and yes we use AirMapView internally\n. lgtm\n. we should probably release a 1.3.2 with the security patch if we aren't going to release 1.4.0 right away. \n. lgtm\n. They are based on the https://developers.google.com/android/reference/com/google/android/gms/maps/CameraUpdateFactory zoom parameters. We should update the documentation to reflect this. \n. I would recommend using the location apis(http://developer.android.com/training/location/index.html) to get a user's location separately from the map. \n. I really like the idea of having these. I agree that having them as a separate module that could be optionally added would be cool. Long term I think the 'core' Airmapview should contain only a few map packages and basic api, and have extensions that are build on top that can be included as needed. These map utils could be separate extensions to the base api. There may be core api changes required to support this and I am open to modifying the core api if required. \n\nFeel free to open a PR so we can see what kind of changes would be required. Hopefully no breaking api changes though.  \n. @tranngoclam I don't think you can have a marker that is part of the map but attached to the screen instead of a map location. Perhaps you could \"add the marker\" and then take a snapshot when needed but keep the `ImageView` on top of the map when the user is moving it around. . @guidedways I am unable to reproduce this with the sample app. Can you provide more details?. fixed by https://github.com/airbnb/AirMapView/issues/99. @leonardo2204 We could look into implementing this. Is there an example of how this is implemented in the maps api. . ",
    "spikebrehm": "LGTM!\n. nice, LGTM, but it would be awesome to have a nice image of an android device with a map on the screen, or something like that\n. LGTM!\n. nice, LGTM, but it would be awesome to have a nice image of an android device with a map on the screen, or something like that\n. ",
    "MarsVard": "Nice! We're currently using https://github.com/opensciencemap/vtm but AirMapView looks just as promising. Looking forward to changes to come.\n. Nice! We're currently using https://github.com/opensciencemap/vtm but AirMapView looks just as promising. Looking forward to changes to come.\n. ",
    "cdeonier": "Yes.\n. Yes.\n. ",
    "jvartanian94": "resolves #36 \n. @petzel  I was looking at the info window implementation for the web map earlier. The web map doesn't show an info window by default like the native map. I was planning on removing the current info window implementation for the web based map and implementing a default window if the title and/or snippet is set. Wanted to get your thoughts on it first. \n. onMapInitialized is called before onMapLoaded. In order to fit the native map to the given markers, it must be completely loaded first\n. resolves #36 \n. @petzel  I was looking at the info window implementation for the web map earlier. The web map doesn't show an info window by default like the native map. I was planning on removing the current info window implementation for the web based map and implementing a default window if the title and/or snippet is set. Wanted to get your thoughts on it first. \n. onMapInitialized is called before onMapLoaded. In order to fit the native map to the given markers, it must be completely loaded first\n. ",
    "carolineleung": ":+1: \n. :+1: \n. ",
    "ppamorim": "@felipecsl It only happens with this library. No way!\n. @felipecsl It only happens with this library. No way!\n. ",
    "tommytcchan": "My use case was that we display a map of marker(s) but we don't allow the user to move the map. I think it's common enough of a use case that the Google v2 maps also support which is why I added the PR to include it in. \n\nLet me know if you have any questions?\n\nBest\n\nTommy\n. @ericlevine thanks I'll make those changes.\n. Hi Eric,\nSure sorry -- let me send you something over the weekend.\n\nBest\n\nTommy\n\nOn Thu, Mar 3, 2016 at 10:40 PM, Eric Petzel notifications@github.com\nwrote:\n\n> Hey @tommytcchan https://github.com/tommytcchan, any plans to address\n> the final comments so we can merge this?\n> \n> \u2014\n> Reply to this email directly or view it on GitHub\n> https://github.com/airbnb/AirMapView/pull/41#issuecomment-192136149.\n. @petzel Updated the code after rebasing from origin/master -- also removed from the menu and sample app. Did test to make sure the new feature was working for both native and webmaps.\n. @petzel Let me know what you think thanks\n. @petzel TTT\n. @petzel I can fix the conflicts if there is an intent to merge this in. Thanks\n. My use case was that we display a map of marker(s) but we don't allow the user to move the map. I think it's common enough of a use case that the Google v2 maps also support which is why I added the PR to include it in. \n\nLet me know if you have any questions?\n\nBest\n\nTommy\n. @ericlevine thanks I'll make those changes.\n. Hi Eric,\nSure sorry -- let me send you something over the weekend.\n\nBest\n\nTommy\n\nOn Thu, Mar 3, 2016 at 10:40 PM, Eric Petzel notifications@github.com\nwrote:\n\n> Hey @tommytcchan https://github.com/tommytcchan, any plans to address\n> the final comments so we can merge this?\n> \n> \u2014\n> Reply to this email directly or view it on GitHub\n> https://github.com/airbnb/AirMapView/pull/41#issuecomment-192136149.\n. @petzel Updated the code after rebasing from origin/master -- also removed from the menu and sample app. Did test to make sure the new feature was working for both native and webmaps.\n. @petzel Let me know what you think thanks\n. @petzel TTT\n. @petzel I can fix the conflicts if there is an intent to merge this in. Thanks\n. ",
    "sreejithraman": "@tommytcchan, @petzel can we fix the conflicts to merge this? I would like to use this method.\n. seeing as the library wasn't updated in a while, can we push an update with this? It is currently affecting my app and would be nice to update to the new version.. @felipecsl perfect! thanks. looks like this is an issue with Google Maps Api itself. it is always false in the onMarkerClickListener. @tommytcchan, @petzel can we fix the conflicts to merge this? I would like to use this method.\n. seeing as the library wasn't updated in a while, can we push an update with this? It is currently affecting my app and would be nice to update to the new version.. @felipecsl perfect! thanks. looks like this is an issue with Google Maps Api itself. it is always false in the onMarkerClickListener. ",
    "guidedways": "Any update on this? This is needed for our use case as well. Any update on this? This is needed for our use case as well. ",
    "anupsarode": "@felipecsl - That did the trick. Thanks!\n. I want to open the map activity with the marker already clicked. Is there any other method using which this can be achieved?\n. @petzel - Can you please add support for showInfoWindow() for the map marker?\n\n```\nAirMapMarker marker = new AirMapMarker.Builder()\n                .id(id)\n                .position(latLng)\n                .title(title)\n                .bitmap(markerBitmap)\n                .build();\n\nmap.addMarker(marker);\n\nmarker.showInfoWindow(); // Can you please add this function?\n\n```\n. @felipecsl - That did the trick. Thanks!\n. I want to open the map activity with the marker already clicked. Is there any other method using which this can be achieved?\n. @petzel - Can you please add support for showInfoWindow() for the map marker?\n\n```\nAirMapMarker marker = new AirMapMarker.Builder()\n                .id(id)\n                .position(latLng)\n                .title(title)\n                .bitmap(markerBitmap)\n                .build();\n\nmap.addMarker(marker);\n\nmarker.showInfoWindow(); // Can you please add this function?\n\n```\n. ",
    "Arasthel": "It looks like [this](http://i.imgur.com/jpVt401.jpg).\n\nAs for the already implemented methods, I think everything should be fine now.\n. It looks like [this](http://i.imgur.com/jpVt401.jpg).\n\nAs for the already implemented methods, I think everything should be fine now.\n. ",
    "dommerq": "Well you have it on AirBnb right? Aren't you using this AirMapView in the app? Or are you adding some other library on the top of it? (which one)\nI'm confused. \n. Well you have it on AirBnb right? Aren't you using this AirMapView in the app? Or are you adding some other library on the top of it? (which one)\nI'm confused. \n. ",
    "bleege": "@petzel Awesome!  Thanks for the :eyes: on the code.  I'll work on the suggestions  and update the PR will changes.\n. @petzel I've finished making the adjustments suggested and testing checks out again for Google Native, Mapbox Web, and Google Web.  Should be good to merge now.  :+1: \n. Ah... just saw your comments @felipecsl!  I'll make the style changes right away.\n. @petzel @felipecsl I just finished the refactoring and tested everything out.  The Map provider / builder logic has good separation now along with supporting app specified credentials  If you guys are happy with it we should be good to go.\n\n**Tests**\n- If Google Play Services are available, use Google Maps native\n- If Google Play Services are NOT available AND Mapbox Credentials are specified, use Mapbox Web maps\n- If Google Play Services are NOT available AND Mapbox Credentials are NOT specified, use Google Web maps.\n. @petzel @felipecsl I just finished with the latest updates.  Let me know what you think!  :+1: \n. @petzel @felipecsl This is awesome!  Thank you both for working with me to include Mapbox in AirMapView.\n. Excited about this!  :+1: \n. @petzel Awesome!  Thanks for the :eyes: on the code.  I'll work on the suggestions  and update the PR will changes.\n. @petzel I've finished making the adjustments suggested and testing checks out again for Google Native, Mapbox Web, and Google Web.  Should be good to merge now.  :+1: \n. Ah... just saw your comments @felipecsl!  I'll make the style changes right away.\n. @petzel @felipecsl I just finished the refactoring and tested everything out.  The Map provider / builder logic has good separation now along with supporting app specified credentials  If you guys are happy with it we should be good to go.\n\n**Tests**\n- If Google Play Services are available, use Google Maps native\n- If Google Play Services are NOT available AND Mapbox Credentials are specified, use Mapbox Web maps\n- If Google Play Services are NOT available AND Mapbox Credentials are NOT specified, use Google Web maps.\n. @petzel @felipecsl I just finished with the latest updates.  Let me know what you think!  :+1: \n. @petzel @felipecsl This is awesome!  Thank you both for working with me to include Mapbox in AirMapView.\n. Excited about this!  :+1: \n. ",
    "eyaldar": "Nevermind, I was using it before the map was ready, my bad...\n. Nevermind, I was using it before the map was ready, my bad...\n. ",
    "seanabraham": ":+1: \n. :+1: \n. ",
    "chandsie": "![image](http://38.media.tumblr.com/71e3a19cb0b45154b72fce4bdfed992d/tumblr_mjezs2YUDP1s6krrko1_500.gif)\n\nLGTM\n. ![image](http://38.media.tumblr.com/71e3a19cb0b45154b72fce4bdfed992d/tumblr_mjezs2YUDP1s6krrko1_500.gif)\n\nLGTM\n. ",
    "rafaeltoledo": "Update your `.travis.yml` and it should work :)\n. Update your `.travis.yml` and it should work :)\n. ",
    "amoljain": "lgtm.\n. Used a sample geojson from Google which writes \"Google\" on top of Australia. Added custom colors etc.\n\n![layer_native](https://cloud.githubusercontent.com/assets/1093371/13159822/da61a2c0-d648-11e5-98c2-54c714e84ece.png)\n. @felipecsl @elihart Thanks for comments, addressed. \n. lgtm\n. lgtm.\n. Used a sample geojson from Google which writes \"Google\" on top of Australia. Added custom colors etc.\n\n![layer_native](https://cloud.githubusercontent.com/assets/1093371/13159822/da61a2c0-d648-11e5-98c2-54c714e84ece.png)\n. @felipecsl @elihart Thanks for comments, addressed. \n. lgtm\n. ",
    "geofffalk": "Found fix.\nThe issue is that the String.format function is translating the commas in the url strings, resulting in corrupted javascript method calls.\nTo fix the issue, the locale needs to be explicitly set to US in each String.format e.g.\n`webView.loadUrl(String.format(Locale.US, \"javascript:addMarkerWithId(%1$f, %2$f, %3$d, '%4$s', '%5$s');\",\n        latLng.latitude, latLng.longitude, marker.getId(), marker.getTitle(), marker.getSnippet()))`\n. I see the issue is replicable on the live AirBnB application too.\n. Found fix.\nThe issue is that the String.format function is translating the commas in the url strings, resulting in corrupted javascript method calls.\nTo fix the issue, the locale needs to be explicitly set to US in each String.format e.g.\n`webView.loadUrl(String.format(Locale.US, \"javascript:addMarkerWithId(%1$f, %2$f, %3$d, '%4$s', '%5$s');\",\n        latLng.latitude, latLng.longitude, marker.getId(), marker.getTitle(), marker.getSnippet()))`\n. I see the issue is replicable on the live AirBnB application too.\n. ",
    "acq": "Thanks for the feedback.\nI just used <T> instead of <?>, if that's alright\n\nScreenshots have also been updated\n. Actually, Polyline was suffering from the same issues (Javadoc outdated, unused local variable), so I updated the appropriate sections\n. Looks like there was indeed no need for pointsArray.\nShould I squash these commits in one?\n. Javadoc links have been fixed.\nCommits have been squashed.\nResulting commit has been rebased on latest master.\n\n:ship: ?\n. Good!\nI think that multiple small pull requests will be better for everyone's sanity than a giant one, so I started splitting the work over multiple PRs.\nThe first 3 have been pushed : #76, #77, #78.\nMost features will depend on these being merged first, so they will have to wait for now\n. Thanks for reviewing.\nThey've been squashed\n. Done: no old method has been removed\n. Hi\nI finally integrated your feedback, and rebased on all the new things that happened in the last couple of months.\nI also took the liberty of extracting the GeoJson demo from the menu to a new item in the navigation drawer\n. Thanks for the feedback.\nI just used <T> instead of <?>, if that's alright\n\nScreenshots have also been updated\n. Actually, Polyline was suffering from the same issues (Javadoc outdated, unused local variable), so I updated the appropriate sections\n. Looks like there was indeed no need for pointsArray.\nShould I squash these commits in one?\n. Javadoc links have been fixed.\nCommits have been squashed.\nResulting commit has been rebased on latest master.\n\n:ship: ?\n. Good!\nI think that multiple small pull requests will be better for everyone's sanity than a giant one, so I started splitting the work over multiple PRs.\nThe first 3 have been pushed : #76, #77, #78.\nMost features will depend on these being merged first, so they will have to wait for now\n. Thanks for reviewing.\nThey've been squashed\n. Done: no old method has been removed\n. Hi\nI finally integrated your feedback, and rebased on all the new things that happened in the last couple of months.\nI also took the liberty of extracting the GeoJson demo from the menu to a new item in the navigation drawer\n. ",
    "supermao": "@felipecsl @petzel @nwadams changed to handle permissions ourselves.\n. Have verified with M device with google/without google service, both prompted permission check dialog. Also verified 5.1 and 4.4.4 with google/without google service, mylocation shows up as expected.\n![screen shot 2015-12-06 at 3 53 14 pm](https://cloud.githubusercontent.com/assets/2041895/11616615/468909d8-9c34-11e5-8155-ab88df33cbe0.png)\n. @felipecsl @petzel @nwadams changed to handle permissions ourselves.\n. Have verified with M device with google/without google service, both prompted permission check dialog. Also verified 5.1 and 4.4.4 with google/without google service, mylocation shows up as expected.\n![screen shot 2015-12-06 at 3 53 14 pm](https://cloud.githubusercontent.com/assets/2041895/11616615/468909d8-9c34-11e5-8155-ab88df33cbe0.png)\n. ",
    "univ3rse": "hi Eric,\n\nthanks for the fast response.\n\nAirMapView:\n\n``` java\n mapView = (AirMapView) view.findViewById(R.id.map_view);\n```\n\nAirMapInterFace:\n\n``` java\n DefaultAirMapViewBuilder defaultAirMapViewBuilder = new DefaultAirMapViewBuilder(getActivity());\n AirMapViewBuilder builder = null;\n\n if (playServicesAvailable)\n {\n   builder = defaultAirMapViewBuilder.builder().withOptions(new AirGoogleMapOptions(new     GoogleMapOptions()).liteMode(true));\n   mapInterface = builder.build();\n } else\n {\n   mapInterface = new WebAirMapViewBuilder().build();\n }\n\n mapView.initialize(getActivity().getSupportFragmentManager(), mapInterface);\n```\n\nI tried various calls such as: \n\n``` java\n mapInterface.setCenterZoom(new LatLng(propertyLatitude, propertyLongitude),zoom);\n mapInterface.animateCenter(new LatLng(propertyLatitude, propertyLongitude));\n```\n\nAll produced the following logs\n<img width=\"1475\" alt=\"screen shot 2015-12-10 at 10 11 55 pm\" src=\"https://cloud.githubusercontent.com/assets/13107697/11728814/4bb0bd7e-9f8c-11e5-8112-14137954d09a.png\">\n\nI also noticed that the WebAirMapView doesn't trigger the OnMapInitializedListener.\n\nHopefully you can tell me what I did wrong, cause it is an awesome plugin otherwise.\n\nThanks,\n\nMatt\n. I figured out that the bigger issue is, that the listener does not trigger. After the map is loaded I can use a programmed button to show places on the map. \n\nFor some reason the location is not right, SupportMapFragment shows the right one, but both WebView and Mapbox dont.\n\nedit: The coordinates are right as I tested them on an interactive html-version of the map\n\nMatt\n. hi Eric,\n\nthanks for the fast response.\n\nAirMapView:\n\n``` java\n mapView = (AirMapView) view.findViewById(R.id.map_view);\n```\n\nAirMapInterFace:\n\n``` java\n DefaultAirMapViewBuilder defaultAirMapViewBuilder = new DefaultAirMapViewBuilder(getActivity());\n AirMapViewBuilder builder = null;\n\n if (playServicesAvailable)\n {\n   builder = defaultAirMapViewBuilder.builder().withOptions(new AirGoogleMapOptions(new     GoogleMapOptions()).liteMode(true));\n   mapInterface = builder.build();\n } else\n {\n   mapInterface = new WebAirMapViewBuilder().build();\n }\n\n mapView.initialize(getActivity().getSupportFragmentManager(), mapInterface);\n```\n\nI tried various calls such as: \n\n``` java\n mapInterface.setCenterZoom(new LatLng(propertyLatitude, propertyLongitude),zoom);\n mapInterface.animateCenter(new LatLng(propertyLatitude, propertyLongitude));\n```\n\nAll produced the following logs\n<img width=\"1475\" alt=\"screen shot 2015-12-10 at 10 11 55 pm\" src=\"https://cloud.githubusercontent.com/assets/13107697/11728814/4bb0bd7e-9f8c-11e5-8112-14137954d09a.png\">\n\nI also noticed that the WebAirMapView doesn't trigger the OnMapInitializedListener.\n\nHopefully you can tell me what I did wrong, cause it is an awesome plugin otherwise.\n\nThanks,\n\nMatt\n. I figured out that the bigger issue is, that the listener does not trigger. After the map is loaded I can use a programmed button to show places on the map. \n\nFor some reason the location is not right, SupportMapFragment shows the right one, but both WebView and Mapbox dont.\n\nedit: The coordinates are right as I tested them on an interactive html-version of the map\n\nMatt\n. ",
    "psyren89": "Would also like to know.\n. :+1: \n. Would also like to know.\n. :+1: \n. ",
    "shayah": "to achieve the behaviour of native method \"showInfoWindow\" you have to do the next steps \n\n1- add this function to AirMapInterface \n`void showInfoContent(AirMapMarker marker);`\n\n2- Override showInfoContent in WebViewMapFragment \n\n```\n@Override public void showInfoContent(AirMapMarker marker) {\n\n      String d = webView.getUrl();\n      webView.loadUrl(\n              String.format(Locale.US, \"javascript:if(%1$d in infoWindowContent){\\n\" +\n                      \"        infoWindow = new google.maps.InfoWindow({\\n\" +\n                      \"            content: infoWindowContent[%1$d]\\n\" +\n                      \"        });\\n\" +\n                      \"        infoWindow.open(map, markers[%1$d]);\\n\" +\n                      \"        AirMapView.defaultInfoWindowClick(%1$d);\\n\" +\n                      \"        \\n\" +\n                      \"    }\", marker.getId()));\n  }\n```\n\n3- Override showInfoContent in NativeGoogleMapFragment\n\n```\n@Override\n    public void showInfoContent(AirMapMarker marker) {\n        Marker nativeMarker = marker.getMarker();\n        nativeMarker.showInfoWindow();\n    }\n```\n\nfinally call showInfoContent  \nas my needed i call it in WebViewMapFragment  into addMarker function \n\n```\n@Override public void addMarker(AirMapMarker marker) {\n    LatLng latLng = marker.getLatLng();\n    markers.put(marker.getId(), marker);\n\n      String d = webView.getUrl();\n    webView.loadUrl(\n        String.format(Locale.US, \"javascript:addMarkerWithId(%1$f, %2$f, %3$d, '%4$s', '%5$s', %6$b);\",\n            latLng.latitude, latLng.longitude, marker.getId(), marker.getTitle(),\n            marker.getSnippet(), marker.getMarkerOptions().isDraggable()));\n\n      showInfoContent(marker);\n  }\n```\n\nhope this helps\n. to achieve the behaviour of native method \"showInfoWindow\" you have to do the next steps \n\n1- add this function to AirMapInterface \n`void showInfoContent(AirMapMarker marker);`\n\n2- Override showInfoContent in WebViewMapFragment \n\n```\n@Override public void showInfoContent(AirMapMarker marker) {\n\n      String d = webView.getUrl();\n      webView.loadUrl(\n              String.format(Locale.US, \"javascript:if(%1$d in infoWindowContent){\\n\" +\n                      \"        infoWindow = new google.maps.InfoWindow({\\n\" +\n                      \"            content: infoWindowContent[%1$d]\\n\" +\n                      \"        });\\n\" +\n                      \"        infoWindow.open(map, markers[%1$d]);\\n\" +\n                      \"        AirMapView.defaultInfoWindowClick(%1$d);\\n\" +\n                      \"        \\n\" +\n                      \"    }\", marker.getId()));\n  }\n```\n\n3- Override showInfoContent in NativeGoogleMapFragment\n\n```\n@Override\n    public void showInfoContent(AirMapMarker marker) {\n        Marker nativeMarker = marker.getMarker();\n        nativeMarker.showInfoWindow();\n    }\n```\n\nfinally call showInfoContent  \nas my needed i call it in WebViewMapFragment  into addMarker function \n\n```\n@Override public void addMarker(AirMapMarker marker) {\n    LatLng latLng = marker.getLatLng();\n    markers.put(marker.getId(), marker);\n\n      String d = webView.getUrl();\n    webView.loadUrl(\n        String.format(Locale.US, \"javascript:addMarkerWithId(%1$f, %2$f, %3$d, '%4$s', '%5$s', %6$b);\",\n            latLng.latitude, latLng.longitude, marker.getId(), marker.getTitle(),\n            marker.getSnippet(), marker.getMarkerOptions().isDraggable()));\n\n      showInfoContent(marker);\n  }\n```\n\nhope this helps\n. ",
    "Piero87": "I am using an Android emulator api level 15.\n\n> Il giorno 05 mar 2016, alle ore 00:08, Felipe Lima notifications@github.com ha scritto:\n> \n> That exception is coming from the webcore process, not your process. \n> What device model and Android version are you running on?\n> \n> \u2014\n> Reply to this email directly or view it on GitHub.\n. At the momento i can try only on the emulator, and my target is for a device with API Level 15\n\n> Il giorno 05 mar 2016, alle ore 00:39, Felipe Lima notifications@github.com ha scritto:\n> \n> I don't have a device with API 15 available for testing, but I tried on one with API 16 and it worked fine. Can you try on a different device to see if the problem persists?\n> \n> \u2014\n> Reply to this email directly or view it on GitHub https://github.com/airbnb/AirMapView/issues/83#issuecomment-192525470.\n. I am using an Android emulator api level 15.\n\n> Il giorno 05 mar 2016, alle ore 00:08, Felipe Lima notifications@github.com ha scritto:\n> \n> That exception is coming from the webcore process, not your process. \n> What device model and Android version are you running on?\n> \n> \u2014\n> Reply to this email directly or view it on GitHub.\n. At the momento i can try only on the emulator, and my target is for a device with API Level 15\n\n> Il giorno 05 mar 2016, alle ore 00:39, Felipe Lima notifications@github.com ha scritto:\n> \n> I don't have a device with API 15 available for testing, but I tried on one with API 16 and it worked fine. Can you try on a different device to see if the problem persists?\n> \n> \u2014\n> Reply to this email directly or view it on GitHub https://github.com/airbnb/AirMapView/issues/83#issuecomment-192525470.\n. ",
    "gpeal": ":+1: \n. :+1: \n. ",
    "danielwilson1702": "I was being dumb while porting over our map code to this library. Basically I wasn't setting the initialize listener! Still having problems with the java script implementation and info window adapters but I'll try work my way through them!. I was being dumb while porting over our map code to this library. Basically I wasn't setting the initialize listener! Still having problems with the java script implementation and info window adapters but I'll try work my way through them!. ",
    "forrestbice": "Thanks @nwadams! Do you know when a release will be cut with this fix included? CC @felipecsl . Awesome! Thanks @felipecsl . @nwadams @felipecsl just opened a very similar issue https://github.com/airbnb/AirMapView/issues/103 and a PR https://github.com/airbnb/AirMapView/pull/104 which will hopefully address the issue. Would greatly appreciate a quick look. Thanks @nwadams! Do you know when a release will be cut with this fix included? CC @felipecsl . Awesome! Thanks @felipecsl . @nwadams @felipecsl just opened a very similar issue https://github.com/airbnb/AirMapView/issues/103 and a PR https://github.com/airbnb/AirMapView/pull/104 which will hopefully address the issue. Would greatly appreciate a quick look. ",
    "leonardo2204": "@nwadams thanks for the quick reply, sure there is ! \r\nhttps://developers.google.com/maps/documentation/android-api/styling\r\nhttps://www.mapbox.com/android-sdk/examples/custom-raster/\r\n\r\nI'm giving this some thought also, if I come up with something I'll let you know !\r\n\r\nThanks again. @nwadams I've started working on this, the tricky part here is that Mapbox accepts both an asset and url path, but Google receives the json itself, so I'm not sure how to handle the network path on Mapbox. \r\nAny ideas ?. Ohh I see, never mind then...\r\nThanks. @nwadams thanks for the quick reply, sure there is ! \r\nhttps://developers.google.com/maps/documentation/android-api/styling\r\nhttps://www.mapbox.com/android-sdk/examples/custom-raster/\r\n\r\nI'm giving this some thought also, if I come up with something I'll let you know !\r\n\r\nThanks again. @nwadams I've started working on this, the tricky part here is that Mapbox accepts both an asset and url path, but Google receives the json itself, so I'm not sure how to handle the network path on Mapbox. \r\nAny ideas ?. Ohh I see, never mind then...\r\nThanks. ",
    "MateuszMlodawski": "Ok, I see it was merged in #99 but is not released yet. Any plans for releasing it?. Ok, I see it was merged in #99 but is not released yet. Any plans for releasing it?. ",
    "skywalkerDavid": "@felipecsl yes, it fixes the #112 and 1 other issue about permission: setMyLocationEnabled won't work immediately even after the permission is accepted.\r\n\r\nThank you for the comments, they are all very good, I will address them soon. . Comments addressed.. @felipecsl PTAL, thank you . @felipecsl yes, it fixes the #112 and 1 other issue about permission: setMyLocationEnabled won't work immediately even after the permission is accepted.\r\n\r\nThank you for the comments, they are all very good, I will address them soon. . Comments addressed.. @felipecsl PTAL, thank you . "
}