{
    "route": "Thank you @chip \n. Thank you for your PR @thenoseman. I think we need to leave this checking, because of assets always mounted on /assets_prefix (even if assets.prefix has no preceding \"/\"). So if we remove that checking then /users/assets/somepath matched too. Could you fix ASSETS_PREFIX instead of this?\n. Well I meant @thenoseman could you send PR for fixing ASSETS_PREFIX in my code? Thanks ;)\n. Hi I've tried to find this bug, but I haven't found it, can you provide gem versions and maybe one short test?\n. In README I pointed out that this gem should be in section development. Did you place it there? It might decide your problems. But I'm still interested about collisions with rack/test.\n. @aaronchi could you provide more information about your environment and one failing test. I cannot replay this issue. Thanks.\n. Any news here? Can someone provides an app to reproduce this issue?\n. I have no idea how it can arise in tests because it should be only inside development group in Gemfile. If someone has the same mistakes fell free to reopen this.\n. @asymmetric You had an initializer and quiet_assets in Gemfile at the same time did that cause stack level too deep?\n. By default app.config.assets.prefix is \"/assets\", so in your variant the prefix became \"//assets/\". We need to use something like this split(\"/\").delete_if(&:empty?).join(\"/\") for parsing prefix, this should cover all variants.\n. And please, could you squash these commits into one?\n. Sorry but I cannot accept your PR yet. The problem that I've explained above (https://github.com/evrone/quiet_assets/pull/5#issuecomment-5219529) is still here. When prefix starts with / (and by default it is so) in your fix it become //.\n. Well I think it is not so bad if you are using relative paths, because of sprockets connect to rails by:\n\n```\napp.routes.prepend do\n  mount app.assets => config.assets.prefix\nend\n```\n\nAnd it anyway will be mounted on /prefix even if the prefix was relative.\nBut I also think we need to check both variants. I'm waiting for your fixes. Thanks ;)\n. Thank you, I've merged PR with a bit fixes.\n. Thank you @shingara \n. Thanks @nolamesa \n. Thanks for reporting, I'll take a look today.\n. I think group :develop in your Gemfile might be a cause. By default rails require :default, :development groups. I'm not sure that your group :develop loaded at all but I didn't setup your project.\n. You can place gem 'quiet_assets' without any group and if it works fine than close this issue because the problem not here.\n. Yes that might be the cause\n. It works perfect for me because it's not related to any server. Which commands do you run?\n. @vighnesh1987 So you run `unicorn_rails` and you still see entries in `log/development.log`?\n. @vighnesh1987 It's still working for me anyway. What kind of logs are you talking about? Is it development.log? Could you reproduce this bug in a small empty rails project and share that code with us?\n. @vighnesh1987 ping! Let me investigate this issue I need more detailed explanation.\n. Thanks @theinventor I'll take a look!\n. At last I found time to check that project and this issue out, guys this gem takes care only about Rails logs, I mean `tail -f log/development.log` and etc, it doesn't pay attention to server you're using. @theinventor thanks for sample, closing this!\n. Thanks @jordanglassman Feels like you wanna filter entries that isn't related to assets, isn't it?\n. Sorry for the delay, actually I have my doubts about it. This gem for swallowing assets' log entries in development and it's not recommended to use it in production, because it monkeypatches the rails. I'll ask opinions of @evrone.\n. Ok, I kinda agree to merge it, but if we can leave just one option `config.quiet_assets`. What do you say?\n. Sorry for long delay again @jordanglassman, I tried to implement my idea to use just one option that by default had to contain lambda for assets log silencing, but I faced the problem, it cannot be implemented. So I tend to close it just for one reason - people don't want to see assets log in their development cycle and nothing more. Thanks for your work anyway!\n. Thanks @banyan\n. I don't think we should do something with this, it's a webrick's issue.\nI saw that warning for a long time, I saw Aaron's patch https://bugs.ruby-lang.org/attachments/2300/204_304_keep_alive.patch that he had released on 12/10/2011.\nI want to see it fixed but I have no idea why it's still not fixed.\nYou can try to use @steveklabnik solution that he left here https://bugs.ruby-lang.org/issues/7469 or use another web server.\n. Closing this\n. Oh thanks a lot!\n. @seantan Thanks for the info I'll take a look!\n. I have an idea about this mistake. @seantan can you participate in it? I've created a branch `using_middleware` could you run your application and check it works properly?\n. Never mind my previous comment, seems like some parts won't work for rails 4\n. Yes it works for 3.2 but there are diffs in logger implementation between rails versions. Thinking about realization now...\n. @pierre-pretorius have you tried to use QA from master branch?\n. Ok got it, will take a look. Maybe @dima-exe has something to say?\n. This gem has dependency on railtie, but I can't realize what you're talking about. So explain it in details please.\n. No activity, closing\n. Agree! I'll do it very soon!\n. I know I know guys, there's a little bit work to be done before release\n. Done guys, sorry for the delay.\n. Thank you Nick, I'll merge it after typo fixes\n. @avk I can't reproduce this, could you create a repo with test application reproducing this bug?\n. Well it actually does something with it, I think it can be possible. I'd appriciate a test application.\n. @tomav it's not Rails log you see in the latest output. These requests are all from puma whereas rails and especially QA are beyond the server and don't have ability to affect Puma.\n. Well it doesn't look like asset pipeline image, it probably was generated by paperclip or carrierwave.\n. closing\n. Thank you!\n. Hi @qichunren Does it work for you with 1.5 thin and problem only with 2.0?\n. @darioshanghai as you can see from travis-ci it works for 2.0 so I need additional info, please open a new issue.\n. @qichunren since this issue for thin version pre it's in a low priority so go ahead to fix it or I'll take a look when I find time.\n. Oh thanks it makes me happy :) Unfortunately closing this :)\n. From README:\n\nIt is recommended that this gem only be used for development. To install, add this line to development group in your Gemfile:\n\n`gem 'quiet_assets', :group => :development`\n\nSo QA should not be used in test env.\n. They shouldn't be cropped. If QA is only in development group in your Gemfile then it mustn't be loaded in test environment at all. Could you please provide a portion of your logs? It can give me idea of what's going on.\n. `ASSETS_PREFIX` is just a string not a regexp and we don't consider it as a collection of paths.\n. There's an ability now on master branch\n. You can use it in production indeed, but the only reason I thought of was the way it's implemented too tricky with `alias_method_chain`, so it looks like monkey patching. Anyway, on production, assets should be picked up by nginx or another web server and asset's log entries should not appear in production log. I'm not sure should it be in README file?\n. Ok will change the description. Thanks!\n. Great, thank you so much!\n. Looks good to me\n. I'm going to merge this. Please rebase onto master.\n. Sorry for a long delay\n. I'm gonna check why it segfaults and merge it. Thank you\n. Merged! Thanks again!\n. Where is this log from? I'm not sure what the `cache:` at the beginning means.\n. Well I don't think it's the real requests, some output from rack-cache or so... Is this happening on every request?\n. No answer, no issue :)\n. It's already in. We just have to release new version.\n. All the rest looks good to me :+1: \n. I'm not that fast :) Thanks again!\n. Not yet. I have a plan to change the way we currently make it working on another, and then I'll release.\n. This documentation is for master branch. I haven't released the gem yet. If you wanna use master add this to your gem file: `gem 'quiet_assets' github: 'evrone/quiet_assets'`\n. Done\n. Thanks for the report I'll take care\n. Guys you don't even know how cool you are, I'm short on time for now, thanks!\n. Thx, closing\n. Thanks a lot :)\n. Thank you Nicolas!\n. Guys I use myself same environment, everything is k. Provide sample application which reproduces the issue\n. Like I said in a previous thread I use it myself, no probs. Give me reproducible app and I'll work it out\n. It shouldn't be used in tests\n. Thank you @rossbeale! I think we can drop legacy.\n. @mibamur it's going to be in Rails 5 if I find time to add tests before release. See https://github.com/rails/sprockets-rails/pull/338 for 4.2 I gotta check and prepare new release soon.\n. @wbotelhos No reason\n. @overdrivemachines You see \"/\" because it isn't asset path\n. What I'm saying is that in your opened issue you provide a sample of output that has not to be filtered out from the log\n. QA is in rails 5 from now on\n. @nbulaj it's somewhere deep inside sprockets-rails. It should work by default though\n. It's all started here https://github.com/rails/sprockets-rails/pull/338 follow it\n. Thanks\n. Just take a look around at others PRs and README\n. wat?. @Deekor just throw `quiet_assets` out of a Gemfile and see Deprecation line in the README. This all left me in a wordless dumb state. Just brilliant.. Thank you @chip \n. Thank you for your PR @thenoseman. I think we need to leave this checking, because of assets always mounted on /assets_prefix (even if assets.prefix has no preceding \"/\"). So if we remove that checking then /users/assets/somepath matched too. Could you fix ASSETS_PREFIX instead of this?\n. Well I meant @thenoseman could you send PR for fixing ASSETS_PREFIX in my code? Thanks ;)\n. Hi I've tried to find this bug, but I haven't found it, can you provide gem versions and maybe one short test?\n. In README I pointed out that this gem should be in section development. Did you place it there? It might decide your problems. But I'm still interested about collisions with rack/test.\n. @aaronchi could you provide more information about your environment and one failing test. I cannot replay this issue. Thanks.\n. Any news here? Can someone provides an app to reproduce this issue?\n. I have no idea how it can arise in tests because it should be only inside development group in Gemfile. If someone has the same mistakes fell free to reopen this.\n. @asymmetric You had an initializer and quiet_assets in Gemfile at the same time did that cause stack level too deep?\n. By default app.config.assets.prefix is \"/assets\", so in your variant the prefix became \"//assets/\". We need to use something like this split(\"/\").delete_if(&:empty?).join(\"/\") for parsing prefix, this should cover all variants.\n. And please, could you squash these commits into one?\n. Sorry but I cannot accept your PR yet. The problem that I've explained above (https://github.com/evrone/quiet_assets/pull/5#issuecomment-5219529) is still here. When prefix starts with / (and by default it is so) in your fix it become //.\n. Well I think it is not so bad if you are using relative paths, because of sprockets connect to rails by:\n\n```\napp.routes.prepend do\n  mount app.assets => config.assets.prefix\nend\n```\n\nAnd it anyway will be mounted on /prefix even if the prefix was relative.\nBut I also think we need to check both variants. I'm waiting for your fixes. Thanks ;)\n. Thank you, I've merged PR with a bit fixes.\n. Thank you @shingara \n. Thanks @nolamesa \n. Thanks for reporting, I'll take a look today.\n. I think group :develop in your Gemfile might be a cause. By default rails require :default, :development groups. I'm not sure that your group :develop loaded at all but I didn't setup your project.\n. You can place gem 'quiet_assets' without any group and if it works fine than close this issue because the problem not here.\n. Yes that might be the cause\n. It works perfect for me because it's not related to any server. Which commands do you run?\n. @vighnesh1987 So you run `unicorn_rails` and you still see entries in `log/development.log`?\n. @vighnesh1987 It's still working for me anyway. What kind of logs are you talking about? Is it development.log? Could you reproduce this bug in a small empty rails project and share that code with us?\n. @vighnesh1987 ping! Let me investigate this issue I need more detailed explanation.\n. Thanks @theinventor I'll take a look!\n. At last I found time to check that project and this issue out, guys this gem takes care only about Rails logs, I mean `tail -f log/development.log` and etc, it doesn't pay attention to server you're using. @theinventor thanks for sample, closing this!\n. Thanks @jordanglassman Feels like you wanna filter entries that isn't related to assets, isn't it?\n. Sorry for the delay, actually I have my doubts about it. This gem for swallowing assets' log entries in development and it's not recommended to use it in production, because it monkeypatches the rails. I'll ask opinions of @evrone.\n. Ok, I kinda agree to merge it, but if we can leave just one option `config.quiet_assets`. What do you say?\n. Sorry for long delay again @jordanglassman, I tried to implement my idea to use just one option that by default had to contain lambda for assets log silencing, but I faced the problem, it cannot be implemented. So I tend to close it just for one reason - people don't want to see assets log in their development cycle and nothing more. Thanks for your work anyway!\n. Thanks @banyan\n. I don't think we should do something with this, it's a webrick's issue.\nI saw that warning for a long time, I saw Aaron's patch https://bugs.ruby-lang.org/attachments/2300/204_304_keep_alive.patch that he had released on 12/10/2011.\nI want to see it fixed but I have no idea why it's still not fixed.\nYou can try to use @steveklabnik solution that he left here https://bugs.ruby-lang.org/issues/7469 or use another web server.\n. Closing this\n. Oh thanks a lot!\n. @seantan Thanks for the info I'll take a look!\n. I have an idea about this mistake. @seantan can you participate in it? I've created a branch `using_middleware` could you run your application and check it works properly?\n. Never mind my previous comment, seems like some parts won't work for rails 4\n. Yes it works for 3.2 but there are diffs in logger implementation between rails versions. Thinking about realization now...\n. @pierre-pretorius have you tried to use QA from master branch?\n. Ok got it, will take a look. Maybe @dima-exe has something to say?\n. This gem has dependency on railtie, but I can't realize what you're talking about. So explain it in details please.\n. No activity, closing\n. Agree! I'll do it very soon!\n. I know I know guys, there's a little bit work to be done before release\n. Done guys, sorry for the delay.\n. Thank you Nick, I'll merge it after typo fixes\n. @avk I can't reproduce this, could you create a repo with test application reproducing this bug?\n. Well it actually does something with it, I think it can be possible. I'd appriciate a test application.\n. @tomav it's not Rails log you see in the latest output. These requests are all from puma whereas rails and especially QA are beyond the server and don't have ability to affect Puma.\n. Well it doesn't look like asset pipeline image, it probably was generated by paperclip or carrierwave.\n. closing\n. Thank you!\n. Hi @qichunren Does it work for you with 1.5 thin and problem only with 2.0?\n. @darioshanghai as you can see from travis-ci it works for 2.0 so I need additional info, please open a new issue.\n. @qichunren since this issue for thin version pre it's in a low priority so go ahead to fix it or I'll take a look when I find time.\n. Oh thanks it makes me happy :) Unfortunately closing this :)\n. From README:\n\nIt is recommended that this gem only be used for development. To install, add this line to development group in your Gemfile:\n\n`gem 'quiet_assets', :group => :development`\n\nSo QA should not be used in test env.\n. They shouldn't be cropped. If QA is only in development group in your Gemfile then it mustn't be loaded in test environment at all. Could you please provide a portion of your logs? It can give me idea of what's going on.\n. `ASSETS_PREFIX` is just a string not a regexp and we don't consider it as a collection of paths.\n. There's an ability now on master branch\n. You can use it in production indeed, but the only reason I thought of was the way it's implemented too tricky with `alias_method_chain`, so it looks like monkey patching. Anyway, on production, assets should be picked up by nginx or another web server and asset's log entries should not appear in production log. I'm not sure should it be in README file?\n. Ok will change the description. Thanks!\n. Great, thank you so much!\n. Looks good to me\n. I'm going to merge this. Please rebase onto master.\n. Sorry for a long delay\n. I'm gonna check why it segfaults and merge it. Thank you\n. Merged! Thanks again!\n. Where is this log from? I'm not sure what the `cache:` at the beginning means.\n. Well I don't think it's the real requests, some output from rack-cache or so... Is this happening on every request?\n. No answer, no issue :)\n. It's already in. We just have to release new version.\n. All the rest looks good to me :+1: \n. I'm not that fast :) Thanks again!\n. Not yet. I have a plan to change the way we currently make it working on another, and then I'll release.\n. This documentation is for master branch. I haven't released the gem yet. If you wanna use master add this to your gem file: `gem 'quiet_assets' github: 'evrone/quiet_assets'`\n. Done\n. Thanks for the report I'll take care\n. Guys you don't even know how cool you are, I'm short on time for now, thanks!\n. Thx, closing\n. Thanks a lot :)\n. Thank you Nicolas!\n. Guys I use myself same environment, everything is k. Provide sample application which reproduces the issue\n. Like I said in a previous thread I use it myself, no probs. Give me reproducible app and I'll work it out\n. It shouldn't be used in tests\n. Thank you @rossbeale! I think we can drop legacy.\n. @mibamur it's going to be in Rails 5 if I find time to add tests before release. See https://github.com/rails/sprockets-rails/pull/338 for 4.2 I gotta check and prepare new release soon.\n. @wbotelhos No reason\n. @overdrivemachines You see \"/\" because it isn't asset path\n. What I'm saying is that in your opened issue you provide a sample of output that has not to be filtered out from the log\n. QA is in rails 5 from now on\n. @nbulaj it's somewhere deep inside sprockets-rails. It should work by default though\n. It's all started here https://github.com/rails/sprockets-rails/pull/338 follow it\n. Thanks\n. Just take a look around at others PRs and README\n. wat?. @Deekor just throw `quiet_assets` out of a Gemfile and see Deprecation line in the README. This all left me in a wordless dumb state. Just brilliant.. ",
    "thenoseman": "Sorry, that `encoding` line came automatically through my vim setup.\n. :) Will do that later :)\n. Never did that before :) Here you go.\n. Whoops.  No need to be sorry since you are totally right. Found the default prefix in the railsguide. When I find time I will write some tests for that first to not be wrong again :)\nSeems that my project that is using a relative paths is wrong anyways.\n\nWill get in contact.\nThanks for pointing out my mistakes. \n. A little rough but I think this does it.\n. Sorry, that `encoding` line came automatically through my vim setup.\n. :) Will do that later :)\n. Never did that before :) Here you go.\n. Whoops.  No need to be sorry since you are totally right. Found the default prefix in the railsguide. When I find time I will write some tests for that first to not be wrong again :)\nSeems that my project that is using a relative paths is wrong anyways.\n\nWill get in contact.\nThanks for pointing out my mistakes. \n. A little rough but I think this does it.\n. ",
    "mrinterweb": "I accidentally hit the close issue button. The version I was using was quiet_assets 1.0.0. Unfortunately, I don't have time to track down specifically how quiet_assets was causing the stack overflow in my project. If I had more available time I would help to try to debug this. If you want to close this issue because I can't provide, at this time, a means to reproduce the issue, please feel free to.\n. It was in my bundler development group. I wish I had more time to isolate the issue.\n. I accidentally hit the close issue button. The version I was using was quiet_assets 1.0.0. Unfortunately, I don't have time to track down specifically how quiet_assets was causing the stack overflow in my project. If I had more available time I would help to try to debug this. If you want to close this issue because I can't provide, at this time, a means to reproduce the issue, please feel free to.\n. It was in my bundler development group. I wish I had more time to isolate the issue.\n. ",
    "aaronchi": "I'm having the same issue\n. I'm having the same issue\n. ",
    "asymmetric": "I just stumbled into this in an app I inherited (meaning I'm not responsible for the following code).\n\nThe problem went away after I removed this code in an initializer:\n\n``` ruby```\nif Rails.env.development?\n  Rails.application.assets.logger = Logger.new('/dev/null')\n  Rails::Rack::Logger.class_eval do\n    def call_with_quiet_assets(env)\n      previous_level = Rails.logger.level\n      Rails.logger.level = Logger::ERROR if env['PATH_INFO'] =~ %r{^/assets/}\n      call_without_quiet_assets(env)\n    ensure\n      Rails.logger.level = previous_level\n    end\n    alias_method_chain :call, :quiet_assets\n  end\nend\n```\n\nHope this helps.\n. Exactly.\n. I just stumbled into this in an app I inherited (meaning I'm not responsible for the following code).\n\nThe problem went away after I removed this code in an initializer:\n\n``` ruby```\nif Rails.env.development?\n  Rails.application.assets.logger = Logger.new('/dev/null')\n  Rails::Rack::Logger.class_eval do\n    def call_with_quiet_assets(env)\n      previous_level = Rails.logger.level\n      Rails.logger.level = Logger::ERROR if env['PATH_INFO'] =~ %r{^/assets/}\n      call_without_quiet_assets(env)\n    ensure\n      Rails.logger.level = previous_level\n    end\n    alias_method_chain :call, :quiet_assets\n  end\nend\n```\n\nHope this helps.\n. Exactly.\n. ",
    "nicolasblanco": ":+1:\n. :+1:\n. ",
    "flyerhzm": "thank you for pointing it out, it's my fault.\n. thank you for pointing it out, it's my fault.\n. ",
    "tim-sge": "Note that jQuery core, to take a prominent example, changed its wording from \"and\" to \"or\" (\"GPL and MIT\" --> \"GPL or MIT\") to clarify that ambiguity.\n. Hehe.  Thank you!\n. Note that jQuery core, to take a prominent example, changed its wording from \"and\" to \"or\" (\"GPL and MIT\" --> \"GPL or MIT\") to clarify that ambiguity.\n. Hehe.  Thank you!\n. ",
    "releu": "Now we can sleep in peace. Thanks\n. Now we can sleep in peace. Thanks\n. ",
    "oprogfrogo": "I had the old initializer. I removed it and works.\n. I had the old initializer. I removed it and works.\n. ",
    "kirs": "@vighnesh1987 do you use Unicorn in development?\n. As far as I know it's a general issue of Rails 3.1, which is not related to quiet_assets. You can find the solution here: http://stackoverflow.com/questions/7082364/what-does-warn-could-not-determine-content-length-of-response-body-mean-and-h\n. @vighnesh1987 do you use Unicorn in development?\n. As far as I know it's a general issue of Rails 3.1, which is not related to quiet_assets. You can find the solution here: http://stackoverflow.com/questions/7082364/what-does-warn-could-not-determine-content-length-of-response-body-mean-and-h\n. ",
    "vighnesh1987": "Yes, I was using Unicorn in development.\n\nVighnesh\n\nOn Sun, Nov 11, 2012 at 9:36 AM, Kir Shatrov notifications@github.comwrote:\n\n> @vighnesh1987 https://github.com/vighnesh1987 do you use Unicorn in\n> development?\n> \n> \u2014\n> Reply to this email directly or view it on GitHubhttps://github.com/evrone/quiet_assets/issues/11#issuecomment-10269685.\n. No - I did not run unicorn_rails.\nI ran unicorn -p 5000 -c /path/to/config\n\nThe config file set the  timeout, the number of worker_processes and the\npreload_app option.\n\nVighnesh\n\nOn Sun, Nov 11, 2012 at 10:59 PM, Dmitry Vorotilin <notifications@github.com\n\n> wrote:\n> \n> @vighnesh1987 https://github.com/vighnesh1987 So you run unicorn_railsand you still see entries in\n> log/development.log?\n> \n> \u2014\n> Reply to this email directly or view it on GitHubhttps://github.com/evrone/quiet_assets/issues/11#issuecomment-10278677.\n. Yes, I was using Unicorn in development.\n\nVighnesh\n\nOn Sun, Nov 11, 2012 at 9:36 AM, Kir Shatrov notifications@github.comwrote:\n\n> @vighnesh1987 https://github.com/vighnesh1987 do you use Unicorn in\n> development?\n> \n> \u2014\n> Reply to this email directly or view it on GitHubhttps://github.com/evrone/quiet_assets/issues/11#issuecomment-10269685.\n. No - I did not run unicorn_rails.\nI ran unicorn -p 5000 -c /path/to/config\n\nThe config file set the  timeout, the number of worker_processes and the\npreload_app option.\n\nVighnesh\n\nOn Sun, Nov 11, 2012 at 10:59 PM, Dmitry Vorotilin <notifications@github.com\n\n> wrote:\n> \n> @vighnesh1987 https://github.com/vighnesh1987 So you run unicorn_railsand you still see entries in\n> log/development.log?\n> \n> \u2014\n> Reply to this email directly or view it on GitHubhttps://github.com/evrone/quiet_assets/issues/11#issuecomment-10278677.\n. ",
    "theinventor": "Hey there! I have the same issue; here is a sample app;\nhttps://github.com/theinventor/quiet_unicorn\n\nhere is some console output;\n\nTroys-MacBook-Pro:quiet_unicorn troy$ unicorn -p 5000 -c config/unicorn.rb \nI, [2012-12-11T06:34:48.109357 #49131]  INFO -- : Refreshing Gem list\nI, [2012-12-11T06:34:49.042100 #49131]  INFO -- : listening on addr=0.0.0.0:5000 fd=8\nI, [2012-12-11T06:34:50.218875 #49132]  INFO -- : worker=0 ready\nI, [2012-12-11T06:34:51.221897 #49133]  INFO -- : worker=1 ready\nI, [2012-12-11T06:34:52.213305 #49131]  INFO -- : master process ready\nI, [2012-12-11T06:34:52.223371 #49134]  INFO -- : worker=2 ready\n127.0.0.1 - - [11/Dec/2012 06:35:03] \"GET / HTTP/1.1\" 200 - 3.7152\n127.0.0.1 - - [11/Dec/2012 06:35:03] \"GET /posts.css?body=1 HTTP/1.1\" 200 - 0.0131\n127.0.0.1 - - [11/Dec/2012 06:35:03] \"GET /posts.js?body=1 HTTP/1.1\" 200 32 0.0072\n127.0.0.1 - - [11/Dec/2012 06:35:03] \"GET /jquery_ujs.js?body=1 HTTP/1.1\" 200 17894 0.0063\n127.0.0.1 - - [11/Dec/2012 06:35:03] \"GET /scaffolds.css?body=1 HTTP/1.1\" 200 1767 0.0074\n127.0.0.1 - - [11/Dec/2012 06:35:03] \"GET /application.js?body=1 HTTP/1.1\" 200 585 0.0293\n127.0.0.1 - - [11/Dec/2012 06:35:03] \"GET /application.css?body=1 HTTP/1.1\" 200 513 0.2795\n127.0.0.1 - - [11/Dec/2012 06:35:03] \"GET /jquery.js?body=1 HTTP/1.1\" 200 267740 0.2908\n127.0.0.1 - - [11/Dec/2012 06:35:04] \"GET %2Ffavicon.ico HTTP/1.1\" 200 - 0.0013\n. That explains it :)\n\nI thought it was just to clean up the console view\n\nthank you!\n. Hey there! I have the same issue; here is a sample app;\nhttps://github.com/theinventor/quiet_unicorn\n\nhere is some console output;\n\nTroys-MacBook-Pro:quiet_unicorn troy$ unicorn -p 5000 -c config/unicorn.rb \nI, [2012-12-11T06:34:48.109357 #49131]  INFO -- : Refreshing Gem list\nI, [2012-12-11T06:34:49.042100 #49131]  INFO -- : listening on addr=0.0.0.0:5000 fd=8\nI, [2012-12-11T06:34:50.218875 #49132]  INFO -- : worker=0 ready\nI, [2012-12-11T06:34:51.221897 #49133]  INFO -- : worker=1 ready\nI, [2012-12-11T06:34:52.213305 #49131]  INFO -- : master process ready\nI, [2012-12-11T06:34:52.223371 #49134]  INFO -- : worker=2 ready\n127.0.0.1 - - [11/Dec/2012 06:35:03] \"GET / HTTP/1.1\" 200 - 3.7152\n127.0.0.1 - - [11/Dec/2012 06:35:03] \"GET /posts.css?body=1 HTTP/1.1\" 200 - 0.0131\n127.0.0.1 - - [11/Dec/2012 06:35:03] \"GET /posts.js?body=1 HTTP/1.1\" 200 32 0.0072\n127.0.0.1 - - [11/Dec/2012 06:35:03] \"GET /jquery_ujs.js?body=1 HTTP/1.1\" 200 17894 0.0063\n127.0.0.1 - - [11/Dec/2012 06:35:03] \"GET /scaffolds.css?body=1 HTTP/1.1\" 200 1767 0.0074\n127.0.0.1 - - [11/Dec/2012 06:35:03] \"GET /application.js?body=1 HTTP/1.1\" 200 585 0.0293\n127.0.0.1 - - [11/Dec/2012 06:35:03] \"GET /application.css?body=1 HTTP/1.1\" 200 513 0.2795\n127.0.0.1 - - [11/Dec/2012 06:35:03] \"GET /jquery.js?body=1 HTTP/1.1\" 200 267740 0.2908\n127.0.0.1 - - [11/Dec/2012 06:35:04] \"GET %2Ffavicon.ico HTTP/1.1\" 200 - 0.0013\n. That explains it :)\n\nI thought it was just to clean up the console view\n\nthank you!\n. ",
    "jordanglassman": "Yes.  Application health checks from my load balancers are drowning out my logs.\n\nRelated link to another way to tackle this problem:\nhttp://stackoverflow.com/questions/2196828/how-can-i-disable-logging-in-ruby-on-rails-on-a-per-action-basis\n. Sure.  I also realize that this patch is outside the scope of a gem called quiet_//assets// as opposed to quiet_//anything//.  But it was such a simple patch, I thought perhaps it could be included as an experimental feature or something.\n. Works for me.\n. Yes.  Application health checks from my load balancers are drowning out my logs.\n\nRelated link to another way to tackle this problem:\nhttp://stackoverflow.com/questions/2196828/how-can-i-disable-logging-in-ruby-on-rails-on-a-per-action-basis\n. Sure.  I also realize that this patch is outside the scope of a gem called quiet_//assets// as opposed to quiet_//anything//.  But it was such a simple patch, I thought perhaps it could be included as an experimental feature or something.\n. Works for me.\n. ",
    "jrochkind": "Do you think it makes sense for quiet_assets to include a fix for this\nproblem though, if it's feasible?\n\nAfter all, quiet_assets quiets MOST of hte useless asset-related log\nlines... but not these.\n\nOr do you just use thin and not run into it?\n\nOn Mon, Dec 10, 2012 at 2:41 PM, Kir Shatrov notifications@github.comwrote:\n\n> As far as I know it's a general issue of Rails 3.1, which is not related\n> to quiet_assets. You can find the solution here:\n> http://stackoverflow.com/questions/7082364/what-does-warn-could-not-determine-content-length-of-response-body-mean-and-h\n> \n> \u2014\n> Reply to this email directly or view it on GitHubhttps://github.com/evrone/quiet_assets/issues/14#issuecomment-11213823.\n. Do you think it makes sense for quiet_assets to include a fix for this\nproblem though, if it's feasible?\n\nAfter all, quiet_assets quiets MOST of hte useless asset-related log\nlines... but not these.\n\nOr do you just use thin and not run into it?\n\nOn Mon, Dec 10, 2012 at 2:41 PM, Kir Shatrov notifications@github.comwrote:\n\n> As far as I know it's a general issue of Rails 3.1, which is not related\n> to quiet_assets. You can find the solution here:\n> http://stackoverflow.com/questions/7082364/what-does-warn-could-not-determine-content-length-of-response-body-mean-and-h\n> \n> \u2014\n> Reply to this email directly or view it on GitHubhttps://github.com/evrone/quiet_assets/issues/14#issuecomment-11213823.\n. ",
    "steveklabnik": "Yes, this is not a problem with `quiet_assets`, it's with webrick. This ticket should be closed.\n. Yes, this is not a problem with `quiet_assets`, it's with webrick. This ticket should be closed.\n. ",
    "seantanly": "@route You're welcomed. More specifically on the same yell thread, it is this comment, https://github.com/rudionrails/yell/issues/4#issuecomment-10054798\n. @route looks like an interesting idea and it seems to work for me on Rails 3.2.11 though.\n. @route You're welcomed. More specifically on the same yell thread, it is this comment, https://github.com/rudionrails/yell/issues/4#issuecomment-10054798\n. @route looks like an interesting idea and it seems to work for me on Rails 3.2.11 though.\n. ",
    "pierre-pretorius": "With a blank new standard MRI rails 4 app.  Add puma and quiet_assets to the Gemfile.  Set rails config:\n\nconfig.allow_concurrency = true\n\nStart clicking around, you loose almost all the non-asset output.\n. Just tried it now: Using quiet_assets (1.0.2) from git://github.com/evrone/quiet_assets.git (at master).  Still get the same problem.\n. Thanks.  It seems like this gem is the only way to address asset logging.  Rails config doesn't take everything away.  Anyone doing Rails::Live/websockets development probably needs multi threading in dev mode.  Would be great if this gem could be threadsafe.\n. Any progress on this issue? To set a global variable that is scoped per thread, use: Thread.current['local_var'] = some_var\n\nhttp://bonamin.org/blog/2012/03/06/thread-safe-global-variables-in-ruby/\n. With a blank new standard MRI rails 4 app.  Add puma and quiet_assets to the Gemfile.  Set rails config:\n\nconfig.allow_concurrency = true\n\nStart clicking around, you loose almost all the non-asset output.\n. Just tried it now: Using quiet_assets (1.0.2) from git://github.com/evrone/quiet_assets.git (at master).  Still get the same problem.\n. Thanks.  It seems like this gem is the only way to address asset logging.  Rails config doesn't take everything away.  Anyone doing Rails::Live/websockets development probably needs multi threading in dev mode.  Would be great if this gem could be threadsafe.\n. Any progress on this issue? To set a global variable that is scoped per thread, use: Thread.current['local_var'] = some_var\n\nhttp://bonamin.org/blog/2012/03/06/thread-safe-global-variables-in-ruby/\n. ",
    "mchristen": "Using a Thread local variable won't solve this problem. This is a race condition on the Rails.logger.level object. To solve it a mutex needs to be used around the entire method body, which is probably undesirable for many reasons.\n\nImagine the following scenario with a rails app running on log level info\n\n```\nThread 1: Request arrives\nThread 1: store Rails.logger.level into method local copy of env hash(saves 'info')\nThread 2: Request arrives\nThread 1: set Rails.logger.level = error\nThread 2: store Rails.logger.level into method local copy of env hash(saves 'error')\nThread 1: allow app to process request\nThread 1: set Rails.logger.level = 'info', the value saved earlier in this thread\nThread 2: allow app to process request\nThread 2: set Rails.logger.level = 'error', the value saved earlier in this thread\n```\n\nEven if you replaced the location where you are storing the current logging level with a thread safe variable you can not prevent another thread from setting the Rails.logger.level to 'error'.\n. Using a Thread local variable won't solve this problem. This is a race condition on the Rails.logger.level object. To solve it a mutex needs to be used around the entire method body, which is probably undesirable for many reasons.\n\nImagine the following scenario with a rails app running on log level info\n\n```\nThread 1: Request arrives\nThread 1: store Rails.logger.level into method local copy of env hash(saves 'info')\nThread 2: Request arrives\nThread 1: set Rails.logger.level = error\nThread 2: store Rails.logger.level into method local copy of env hash(saves 'error')\nThread 1: allow app to process request\nThread 1: set Rails.logger.level = 'info', the value saved earlier in this thread\nThread 2: allow app to process request\nThread 2: set Rails.logger.level = 'error', the value saved earlier in this thread\n```\n\nEven if you replaced the location where you are storing the current logging level with a thread safe variable you can not prevent another thread from setting the Rails.logger.level to 'error'.\n. ",
    "kstevens715": "+1  ;)\n. +1  ;)\n. ",
    "m4n": "+1\n. +1\n. ",
    "thenickcox": "Guess I got a little hasty in my typing!\n\nPushed again, squashed the commits. Should be good to go. Thanks!\n. Guess I got a little hasty in my typing!\n\nPushed again, squashed the commits. Should be good to go. Thanks!\n. ",
    "avk": "I don't think quiet_assets is responsible for that log output because it has nothing to do with `Rails.logger`.\n. I don't think quiet_assets is responsible for that log output because it has nothing to do with `Rails.logger`.\n. ",
    "thmzlt": "Same here on Rails 4.0. Moved to `Logger.new(STDOUT)` and the asset log entries are back in the log.\n. Same here on Rails 4.0. Moved to `Logger.new(STDOUT)` and the asset log entries are back in the log.\n. ",
    "tomav": "Same here too, Rails 4 and Puma.\nWhen I start the server using `rails s Puma`, it works (no asset is displayed).\n\nIf started using `bundle exec puma -C config/puma.rb`, assets are shown in the log.  \n\n```\ndev_1 | 192.168.59.3 - - [21/Jul/2015:16:28:37 +0000] \"GET /jquery.js?body=1 HTTP/1.1\" 304 - 2.3012\ndev_1 | 192.168.59.3 - - [21/Jul/2015:16:28:37 +0000] \"GET /jquery-ui/core.js?body=1 HTTP/1.1\" 304 - 2.1875\ndev_1 | 192.168.59.3 - - [21/Jul/2015:16:28:38 +0000] \"GET /jquery_ujs.js?body=1 HTTP/1.1\" 304 - 2.0562\n```\n. @route, yes makes sense. I'll stay on `rails s Puma` on my development env. Thank you.\n. Same here too, Rails 4 and Puma.\nWhen I start the server using `rails s Puma`, it works (no asset is displayed).\n\nIf started using `bundle exec puma -C config/puma.rb`, assets are shown in the log.  \n\n```\ndev_1 | 192.168.59.3 - - [21/Jul/2015:16:28:37 +0000] \"GET /jquery.js?body=1 HTTP/1.1\" 304 - 2.3012\ndev_1 | 192.168.59.3 - - [21/Jul/2015:16:28:37 +0000] \"GET /jquery-ui/core.js?body=1 HTTP/1.1\" 304 - 2.1875\ndev_1 | 192.168.59.3 - - [21/Jul/2015:16:28:38 +0000] \"GET /jquery_ujs.js?body=1 HTTP/1.1\" 304 - 2.0562\n```\n. @route, yes makes sense. I'll stay on `rails s Puma` on my development env. Thank you.\n. ",
    "qichunren": "Yes\n. Yes\n. ",
    "darioshanghai": "Similar issue here, on ruby 2 but with the standard rails server.\n. Similar issue here, on ruby 2 but with the standard rails server.\n. ",
    "exalted": "Same issue here:\n\n```\nruby 2.0.0p195\nRails 3.2.1\nunicorn v4.6.2\nquiet_assets (1.0.2)\n```\n. Same issue here:\n\n```\nruby 2.0.0p195\nRails 3.2.1\nunicorn v4.6.2\nquiet_assets (1.0.2)\n```\n. ",
    "bcackerman": "+1\n. +1\n. ",
    "macarthy": "+1\n. +1\n. ",
    "guyisra": "+1 using unicorn ignored quiet_assets\n. +1 using unicorn ignored quiet_assets\n. ",
    "kfatehi": "Not quiet for me either -- did a bin/spring stop to rule that out -- I am using Pow as my server, rails 4.0.2, ruby 2.1.0\n\nEDIT: nevermind it works, after i posted i realized that spring has nothing to do with pow and i am supposed to restart with touch tmp/restart.txt  -- thanks for keeping this gem up to scratch!\n. Not quiet for me either -- did a bin/spring stop to rule that out -- I am using Pow as my server, rails 4.0.2, ruby 2.1.0\n\nEDIT: nevermind it works, after i posted i realized that spring has nothing to do with pow and i am supposed to restart with touch tmp/restart.txt  -- thanks for keeping this gem up to scratch!\n. ",
    "jesseclark": "Note working for me either with ruby 1.9.3p327, rails 3.2.12, and WEBrick.\n\nEDIT: Just tried using thin with same ruby and rails versions and still seeing assets output in the logs.\n. Note working for me either with ruby 1.9.3p327, rails 3.2.12, and WEBrick.\n\nEDIT: Just tried using thin with same ruby and rails versions and still seeing assets output in the logs.\n. ",
    "joelmccracken": "In order to remove the \"GET ... {.js,.png,.css}\" logs, I made this patch:\n\n``` ruby\n\nif !ENV['DISABLE_ASSET_FILTERING'] && (Rails.env.development? || Rails.env.test?)\n  module Rack\n    class CommonLogger\n\n      FILTER_REGEXPS = [/\\.css/, /\\.js/, /\\.png/, /\\.jpg/, /\\.gif/, /.ico/]\n\n      def call_with_silencer(env)\n        if FILTER_REGEXPS.any? { |re| re.match env['PATH_INFO'] }\n          @app.call env\n        else\n          call_without_silencer(env)\n        end\n      end\n\n      alias_method_chain :call, :silencer\n    end\n  end\nend\n\n\n```\n\nI can issue a PR if you'd like.\n. In order to remove the \"GET ... {.js,.png,.css}\" logs, I made this patch:\n\n``` ruby\n\nif !ENV['DISABLE_ASSET_FILTERING'] && (Rails.env.development? || Rails.env.test?)\n  module Rack\n    class CommonLogger\n\n      FILTER_REGEXPS = [/\\.css/, /\\.js/, /\\.png/, /\\.jpg/, /\\.gif/, /.ico/]\n\n      def call_with_silencer(env)\n        if FILTER_REGEXPS.any? { |re| re.match env['PATH_INFO'] }\n          @app.call env\n        else\n          call_without_silencer(env)\n        end\n      end\n\n      alias_method_chain :call, :silencer\n    end\n  end\nend\n\n\n```\n\nI can issue a PR if you'd like.\n. ",
    "smarquez1": "No working here either:\n`ruby 2.0.0-p576`\n`rails 4.0.11`\n. No working here either:\n`ruby 2.0.0-p576`\n`rails 4.0.11`\n. ",
    "sadfuzzy": "Thanks, you are completely right, but this does not solve the problem. Why are logs cropped this way?\n. Thanks, you are completely right, but this does not solve the problem. Why are logs cropped this way?\n. ",
    "jeremyhaile": "That makes sense. My assets in production are loaded via CDN, so I don't need it in production.\n\nI might rephrase it to just make it a little clearer that you \"shouldn't need it in production\" since you will typically load your assets via nginx or a CDN.\n\nThe way it is phrased now, I was worried that the code was not \"production-ready\"\n. It's not working for me on Rails 3.2.19 either.\n. That makes sense. My assets in production are loaded via CDN, so I don't need it in production.\n\nI might rephrase it to just make it a little clearer that you \"shouldn't need it in production\" since you will typically load your assets via nginx or a CDN.\n\nThe way it is phrased now, I was worried that the code was not \"production-ready\"\n. It's not working for me on Rails 3.2.19 either.\n. ",
    "przemad": "+1\n. Cool! thx!\n. +1\n. Cool! thx!\n. ",
    "phallstrom": "@route I redid it on a feature branch and submitted a new pull request #34.\n\nClosing this one out. \n\nThanks!\n. Any chance for a gem release?\n. @route I redid it on a feature branch and submitted a new pull request #34.\n\nClosing this one out. \n\nThanks!\n. Any chance for a gem release?\n. ",
    "phoet": "tests are segfaulting :unamused: \n. @route any chance we can get this merged?\n. :+1: \n. :heart_decoration: \n. tests are segfaulting :unamused: \n. @route any chance we can get this merged?\n. :+1: \n. :heart_decoration: \n. ",
    "delphaber": "rails server (webbrick) in development mode\n. rails server (webbrick) in development mode\n. ",
    "coreyhaines": "Awesome! Thanks.\nOn Jun 19, 2014 5:57 AM, \"Dmitry Vorotilin\" notifications@github.com\nwrote:\n\n> It's already in. We just have to release new version.\n> \n> \u2014\n> Reply to this email directly or view it on GitHub\n> https://github.com/evrone/quiet_assets/issues/33#issuecomment-46547224.\n. Awesome! Thanks.\nOn Jun 19, 2014 5:57 AM, \"Dmitry Vorotilin\" notifications@github.com\nwrote:\n\n> It's already in. We just have to release new version.\n> \n> \u2014\n> Reply to this email directly or view it on GitHub\n> https://github.com/evrone/quiet_assets/issues/33#issuecomment-46547224.\n. ",
    "ingemar": "Is this released yet? Doesn't seem like it\n. Is this released yet? Doesn't seem like it\n. ",
    "thomasklemm": "Would appreciate it very much if you could release a new gem version with this feature. Thanks for this nice little gem!\n. Would appreciate it very much if you could release a new gem version with this feature. Thanks for this nice little gem!\n. ",
    "Eric-Guo": "It's not relative with new rails, but rack 1.6.0.beta will out put those string, if you using rack 1.5.2, then not such string output.\n. @jamox involve the author [introduce rack 1.6](https://github.com/rails/rails/commit/adffea62b5dc494e0e6bc2ca256bb592ce85f112) in rails maybe helpful?\n. It's not relative with new rails, but rack 1.6.0.beta will out put those string, if you using rack 1.5.2, then not such string output.\n. @jamox involve the author [introduce rack 1.6](https://github.com/rails/rails/commit/adffea62b5dc494e0e6bc2ca256bb592ce85f112) in rails maybe helpful?\n. ",
    "jeremy": "This is due to a breaking change in Rack 1.6 `Rack::Server`. Rails overrides `middleware` to provide its own set of default middleware. Rack changed the name of the method and made `middleware` an alias, so Rails' defaults are now ignored.\n\nSo - this is a Rails/Rack compatibility bug, not a `quiet_assets` bug.\n. Proposed fix @ https://github.com/rack/rack/pull/729\n. The Rack fix was merged so it'll be fixed in the next Rack release.\n. This is due to a breaking change in Rack 1.6 `Rack::Server`. Rails overrides `middleware` to provide its own set of default middleware. Rack changed the name of the method and made `middleware` an alias, so Rails' defaults are now ignored.\n\nSo - this is a Rails/Rack compatibility bug, not a `quiet_assets` bug.\n. Proposed fix @ https://github.com/rack/rack/pull/729\n. The Rack fix was merged so it'll be fixed in the next Rack release.\n. ",
    "swrobel": "@jeremy any idea where this stands as of now?\n. @jeremy any idea where this stands as of now?\n. ",
    "katafrakt": "I just updated to rack 1.6.0.beta2 and assets are not shown in the output.\n. I just updated to rack 1.6.0.beta2 and assets are not shown in the output.\n. ",
    "themilkman": "Same issue here with Ruby 2.2.2 and Rails 4.2.1.\n. Same issue here with Ruby 2.2.2 and Rails 4.2.1.\n. ",
    "grosser": ":+1: same here ... second request stops logging :<\n. @route \n. only happens in apps with lots of assets on multithreaded puma\n\nsolution is making rails logger level thread safe ...\n\ninspired by http://log.kares.org/2011/04/railslogger-is-not-threadsafe.html\n\n``` Ruby\nActiveSupport::Logger.class_eval do\n  def level\n    Thread.current[thread_hash_level_key] || @level\n  end\n\n  def level=(level)\n    Thread.current[thread_hash_level_key] = level\n  end\n\n  private\n\n  def thread_hash_level_key\n    @thread_hash_level_key ||= :\"ActiveSupport::Logger:#{object_id}\"\n  end\nend\n```\n. a better solution would be for puma to use a new logger for each thread ... or rails doing that ...\n. tried adding \n\n`Rails.logger = Rails.logger.dup` to pumas `on_worker_boot` ... but the puma config is not loaded when doing `rails s` so that's not helpful ...\n. with this patch the rails log stops disappearing ... but now I see that quiet assets did not actually work / it still shows assets ... maybe I'll play more with this later ...\n. :+1: same here ... second request stops logging :<\n. @route \n. only happens in apps with lots of assets on multithreaded puma\n\nsolution is making rails logger level thread safe ...\n\ninspired by http://log.kares.org/2011/04/railslogger-is-not-threadsafe.html\n\n``` Ruby\nActiveSupport::Logger.class_eval do\n  def level\n    Thread.current[thread_hash_level_key] || @level\n  end\n\n  def level=(level)\n    Thread.current[thread_hash_level_key] = level\n  end\n\n  private\n\n  def thread_hash_level_key\n    @thread_hash_level_key ||= :\"ActiveSupport::Logger:#{object_id}\"\n  end\nend\n```\n. a better solution would be for puma to use a new logger for each thread ... or rails doing that ...\n. tried adding \n\n`Rails.logger = Rails.logger.dup` to pumas `on_worker_boot` ... but the puma config is not loaded when doing `rails s` so that's not helpful ...\n. with this patch the rails log stops disappearing ... but now I see that quiet assets did not actually work / it still shows assets ... maybe I'll play more with this later ...\n. ",
    "tinbka": "I'd caught in this issue while was tried to move to puma server. Wasted a couple hours trying to synchronize a reset of log level, however the best I could do is to fix a level resetting in the ensure clause to Rails.application.config.log_level\nThere is the fork: https://github.com/tinbka/quiet_assets\n. @emiltin, I've ended up implementing this feature in my own logger. See https://github.com/tinbka/tracee\n. I'd caught in this issue while was tried to move to puma server. Wasted a couple hours trying to synchronize a reset of log level, however the best I could do is to fix a level resetting in the ensure clause to Rails.application.config.log_level\nThere is the fork: https://github.com/tinbka/quiet_assets\n. @emiltin, I've ended up implementing this feature in my own logger. See https://github.com/tinbka/tracee\n. ",
    "emiltin": "seems this is still a problem? hard to use puma if logging is not working.\n. seems this is still a problem? hard to use puma if logging is not working.\n. ",
    "synth": ":+1: Just wasted 4 hours debugging this. sigh..\n. :+1: Just wasted 4 hours debugging this. sigh..\n. ",
    "stamm": "Some update: it happened when I updated to 1.0.3 too\n. Some update: it happened when I updated to 1.0.3 too\n. ",
    "mibamur": "I tried to see fails build log...\nCould someone of contributor look at fail log?\n. +1\n. is it the same https://github.com/evrone/quiet_assets/pull/43 ?\n. I tried to see fails build log...\nCould someone of contributor look at fail log?\n. +1\n. is it the same https://github.com/evrone/quiet_assets/pull/43 ?\n. ",
    "dankohn": "Thanks. Using this for the Gemfile quiets the alias_method_chain error in Rails 5:\n\n``` ruby\n  gem 'quiet_assets', git: 'https://github.com/rossbeale/quiet_assets',\n                      ref: 'c9df6e8'\n```\n. Thanks. Using this for the Gemfile quiets the alias_method_chain error in Rails 5:\n\n``` ruby\n  gem 'quiet_assets', git: 'https://github.com/rossbeale/quiet_assets',\n                      ref: 'c9df6e8'\n```\n. ",
    "wbotelhos": "But for Rails 5, now we can use the option `config.assets.quiet = true`.\n\nIs there some reason to keep using quiet_assets?\n. But for Rails 5, now we can use the option `config.assets.quiet = true`.\n\nIs there some reason to keep using quiet_assets?\n. ",
    "overdrivemachines": "@route what you are saying does not make sense. In my post I am saying that adding the gem in my gemfile has no effect.\n. @route what you are saying does not make sense. In my post I am saying that adding the gem in my gemfile has no effect.\n. ",
    "marcroberts": "I've removed some of the older rubies as you indicated we could drop the legacy versions in #43 \n. There is some sort of threading issue going on here. The last failing test with the Rails 5 Gemfile involves the multithreading tests not giving any logging output (it should show some output for some of them), and you're using Puma which is threaded so I suspect you're experiencing the same issue.\n\nI'll keep plugging away to get to the bottom of it\n. I've removed some of the older rubies as you indicated we could drop the legacy versions in #43 \n. There is some sort of threading issue going on here. The last failing test with the Rails 5 Gemfile involves the multithreading tests not giving any logging output (it should show some output for some of them), and you're using Puma which is threaded so I suspect you're experiencing the same issue.\n\nI'll keep plugging away to get to the bottom of it\n. ",
    "ssaunier": "Hi guys, any progress on this? Do you want some help? Thanks!\n. Hi guys, any progress on this? Do you want some help? Thanks!\n. ",
    "berfarah": "Is this still active?\n. Is this still active?\n. ",
    "nbulaj": "@route can you please give a link? Can't found it in the [Release Notes](http://guides.rubyonrails.org/5_0_release_notes.html)\n. tl;dr\n\n``` ruby\n# config/environments/development.rb\n\n# Suppress logger output for asset requests.\nconfig.assets.quiet = true\n```\n. @route can you please give a link? Can't found it in the [Release Notes](http://guides.rubyonrails.org/5_0_release_notes.html)\n. tl;dr\n\n``` ruby\n# config/environments/development.rb\n\n# Suppress logger output for asset requests.\nconfig.assets.quiet = true\n```\n. ",
    "kmcphillips": "Implemented here: https://github.com/rails/sprockets-rails/pull/355\n\nDeprecation message here: #51 \n. Implemented here: https://github.com/rails/sprockets-rails/pull/355\n\nDeprecation message here: #51 \n. ",
    "deanpcmad": "Thanks @nbulaj  \ud83d\ude04 \n. Thanks @nbulaj  \ud83d\ude04 \n. ",
    "cannikin": "Just noticed this myself. I'm not seeing any \"no content\" messages, but my log will only show the first request on a start of `bin/rails server` and nothing nothing else appears in the log after that:\n\n```\npositron:wnw rob$ bin/rails server\n=> Booting Puma\n=> Rails 5.0.0.beta1 application starting in development on http://localhost:3000\n=> Run `rails server -h` for more startup options\n=> Ctrl-C to shutdown server\nI, [2016-01-08T16:14:33.637741 #709]  INFO -- : Celluloid 0.17.2 is running in BACKPORTED mode. [ http://git.io/vJf3J ]\nPuma 2.15.3 starting...\n* Min threads: 0, max threads: 16\n* Environment: development\n* Listening on tcp://localhost:3001\n\nStarted GET \"/\" for ::1 at 2016-01-08 16:14:35 -0800\nProcessing by PagesController#index as HTML\n  Rendered pages/index.html.slim within layouts/application (12.1ms)\nCompleted 200 OK in 356ms (Views: 348.3ms | ActiveRecord: 0.0ms)\n```\n\nThe pages come up in the browser just fine, it looks like they just don't get logged any more.\n\nBut to be fair I don't see all the asset requests, so technically the gem is still working as advertised. ;)\n. @iloveitaly's solution works great! Created `app/middleware/rack_with_quiet_assets.rb` and added the config in `config/environments/development.rb` \u2014 voila!\n. @dbackeus See @iloveitaly's middleware above.\n. Just noticed this myself. I'm not seeing any \"no content\" messages, but my log will only show the first request on a start of `bin/rails server` and nothing nothing else appears in the log after that:\n\n```\npositron:wnw rob$ bin/rails server\n=> Booting Puma\n=> Rails 5.0.0.beta1 application starting in development on http://localhost:3000\n=> Run `rails server -h` for more startup options\n=> Ctrl-C to shutdown server\nI, [2016-01-08T16:14:33.637741 #709]  INFO -- : Celluloid 0.17.2 is running in BACKPORTED mode. [ http://git.io/vJf3J ]\nPuma 2.15.3 starting...\n* Min threads: 0, max threads: 16\n* Environment: development\n* Listening on tcp://localhost:3001\n\nStarted GET \"/\" for ::1 at 2016-01-08 16:14:35 -0800\nProcessing by PagesController#index as HTML\n  Rendered pages/index.html.slim within layouts/application (12.1ms)\nCompleted 200 OK in 356ms (Views: 348.3ms | ActiveRecord: 0.0ms)\n```\n\nThe pages come up in the browser just fine, it looks like they just don't get logged any more.\n\nBut to be fair I don't see all the asset requests, so technically the gem is still working as advertised. ;)\n. @iloveitaly's solution works great! Created `app/middleware/rack_with_quiet_assets.rb` and added the config in `config/environments/development.rb` \u2014 voila!\n. @dbackeus See @iloveitaly's middleware above.\n. ",
    "jtomaszewski": "Yup. The same here, even when I used [the current commit](https://github.com/marcroberts/quiet_assets/commit/2ebed8feb045c28b544ef4e45b963bbe52eb4f0b) from https://github.com/evrone/quiet_assets/pull/46 . Seems like there's still some work to be done.\n. Yup. The same here, even when I used [the current commit](https://github.com/marcroberts/quiet_assets/commit/2ebed8feb045c28b544ef4e45b963bbe52eb4f0b) from https://github.com/evrone/quiet_assets/pull/46 . Seems like there's still some work to be done.\n. ",
    "ShubhamGupta": "Not so much sure about threading. I could replicate the issue with Webrick.\n. Not so much sure about threading. I could replicate the issue with Webrick.\n. ",
    "georgemillo": "Is this fixed? I just switched from `v1.1.0` to `master` (https://github.com/evrone/quiet_assets/commit/a39a74c4cefd561a1068aecbd4ee67756cd38b98) and the error doesn't seem to be happening anymore (although of course there may be another way of triggering it that I'm missing).\n\nI'm using Ruby 2.2.4 and Rails 5.0.0.beta1.\n. Is this fixed? I just switched from `v1.1.0` to `master` (https://github.com/evrone/quiet_assets/commit/a39a74c4cefd561a1068aecbd4ee67756cd38b98) and the error doesn't seem to be happening anymore (although of course there may be another way of triggering it that I'm missing).\n\nI'm using Ruby 2.2.4 and Rails 5.0.0.beta1.\n. ",
    "bakku": "using Rails 5.0.0.beta2 and Ruby 2.3.0. Can confirm that I have the same issue. `quiet_assets` is not really usable like this for me\n. using Rails 5.0.0.beta2 and Ruby 2.3.0. Can confirm that I have the same issue. `quiet_assets` is not really usable like this for me\n. ",
    "u007": "its running on my side , but i get this warning.\nusing 5.0.0.beta2\n\nARN -- : DEPRECATION WARNING: alias_method_chain is deprecated. Please, use Module#prepend instead. From module, you can access the original method using super. (called from block (2 levels) in class:Engine at /usr/local/rvm/gems/ruby-2.2.2/bundler/gems/quiet_assets-a39a74c4cefd/lib/quiet_assets.rb:32)\n. its running on my side , but i get this warning.\nusing 5.0.0.beta2\n\nARN -- : DEPRECATION WARNING: alias_method_chain is deprecated. Please, use Module#prepend instead. From module, you can access the original method using super. (called from block (2 levels) in class:Engine at /usr/local/rvm/gems/ruby-2.2.2/bundler/gems/quiet_assets-a39a74c4cefd/lib/quiet_assets.rb:32)\n. ",
    "joshuaflanagan": "I think the best approach might be to abandon trying to manage the logger level within quiet_assets, and rely on `Rails.logger.silence` to do it. The rails team is going through the trouble of trying to make it work in a proper multithreaded way (though it isn't quite working yet https://github.com/rails/rails/issues/23609) - no need to repeat that effort here.\n\nquiet_assets becomes something like:\n\n```\n      module RackWithQuietAssets\n        def call(env)\n          if env['PATH_INFO'] =~ ASSETS_REGEX\n            Rails.logger.silence do\n              super(env)\n            end\n          else\n            super(env)\n          end\n        end\n      end\n```\n. Exact same conclusion I came to when I realized it should just use `Rails.logger.silence`. No reason for the gem to exist independently if Rails is doing all the hard work.\n. I think the best approach might be to abandon trying to manage the logger level within quiet_assets, and rely on `Rails.logger.silence` to do it. The rails team is going through the trouble of trying to make it work in a proper multithreaded way (though it isn't quite working yet https://github.com/rails/rails/issues/23609) - no need to repeat that effort here.\n\nquiet_assets becomes something like:\n\n```\n      module RackWithQuietAssets\n        def call(env)\n          if env['PATH_INFO'] =~ ASSETS_REGEX\n            Rails.logger.silence do\n              super(env)\n            end\n          else\n            super(env)\n          end\n        end\n      end\n```\n. Exact same conclusion I came to when I realized it should just use `Rails.logger.silence`. No reason for the gem to exist independently if Rails is doing all the hard work.\n. ",
    "dhh": "I'd like to see this feature moved into Rails as an option. Definitely a fan of this!\n. Wasn't. Feel free to take a stab at it!\n\n> On Mar 30, 2016, at 04:58, Connor Shea notifications@github.com wrote:\n> \n> @dhh was this ever added to Rails 5? :)\n> \n> \u2014\n> You are receiving this because you were mentioned.\n> Reply to this email directly or view it on GitHub\n. Not that I know of. Feel free to open a PR. \n\n> On Mar 30, 2016, at 20:46, Connor Shea notifications@github.com wrote:\n> \n> @dhh is there any relevant issue open in the Rails project?\n> \n> \u2014\n> You are receiving this because you were mentioned.\n> Reply to this email directly or view it on GitHub\n. I'd like to see this feature moved into Rails as an option. Definitely a fan of this!\n. Wasn't. Feel free to take a stab at it!\n\n> On Mar 30, 2016, at 04:58, Connor Shea notifications@github.com wrote:\n> \n> @dhh was this ever added to Rails 5? :)\n> \n> \u2014\n> You are receiving this because you were mentioned.\n> Reply to this email directly or view it on GitHub\n. Not that I know of. Feel free to open a PR. \n\n> On Mar 30, 2016, at 20:46, Connor Shea notifications@github.com wrote:\n> \n> @dhh is there any relevant issue open in the Rails project?\n> \n> \u2014\n> You are receiving this because you were mentioned.\n> Reply to this email directly or view it on GitHub\n. ",
    "saratovsource": ":+1: \n. :+1: \n. ",
    "stereodenis": ":+1: \n. :+1: \n. ",
    "saigemcvea": ":+1:\n. :+1:\n. ",
    "lfalcao": ":+1: \n. :+1: \n. ",
    "KODerFunk": ":+1: \n. :+1: \n. ",
    "luckylu": ":+1: \n. :+1: \n. ",
    "kle-roy": ":+1: \n. :+1: \n. ",
    "iloveitaly": "I expanded on @joshuaflanagan's work a bit. Here's a drop-in replacement for `quiet_assets`:\n\n``` ruby\nclass RackWithQuietAssets\n  def initialize(app)\n    @app = app\n\n    quiet_assets_paths = [ %r[\\A/{0,2}#{Rails.application.config.assets.prefix}] ]\n    @assets_regex = /\\A(#{quiet_assets_paths.join('|')})/\n  end\n\n  def call(env)\n    if env['PATH_INFO'] =~ @assets_regex\n      Rails.logger.silence do\n        @app.call(env)\n      end\n    else\n      @app.call(env)\n    end\n  end\nend\n\n# application.rb\n\nconfig.middleware.insert_after ActionDispatch::Static, RackWithQuietAssets\n```\n. I expanded on @joshuaflanagan's work a bit. Here's a drop-in replacement for `quiet_assets`:\n\n``` ruby\nclass RackWithQuietAssets\n  def initialize(app)\n    @app = app\n\n    quiet_assets_paths = [ %r[\\A/{0,2}#{Rails.application.config.assets.prefix}] ]\n    @assets_regex = /\\A(#{quiet_assets_paths.join('|')})/\n  end\n\n  def call(env)\n    if env['PATH_INFO'] =~ @assets_regex\n      Rails.logger.silence do\n        @app.call(env)\n      end\n    else\n      @app.call(env)\n    end\n  end\nend\n\n# application.rb\n\nconfig.middleware.insert_after ActionDispatch::Static, RackWithQuietAssets\n```\n. ",
    "connorshea": "@dhh was this ever added to Rails 5? :)\n. @dhh is there any relevant issue open in the Rails project?\n. @dbackeus This is built into sprockets-rails now: https://github.com/rails/sprockets-rails/pull/355\n\nNote that it'll only work with Rails 4.2.7/5.0.0\n. See also: https://github.com/evrone/quiet_assets#deprecation\n. @dhh was this ever added to Rails 5? :)\n. @dhh is there any relevant issue open in the Rails project?\n. @dbackeus This is built into sprockets-rails now: https://github.com/rails/sprockets-rails/pull/355\n\nNote that it'll only work with Rails 4.2.7/5.0.0\n. See also: https://github.com/evrone/quiet_assets#deprecation\n. ",
    "wenweih": "#42 \n. #42 \n. ",
    "dbackeus": "So Rails 5 is out and quiet assets still incompatible. Any progress or alternatives?\n. So Rails 5 is out and quiet assets still incompatible. Any progress or alternatives?\n. ",
    "dgynn": "@justin808 In this context, the `env` is a Rack \"environment\" and not a Ruby `ENV` to access environment variables. \nThe Rack `env` is a Hash.\nhttp://www.rubydoc.info/github/rack/rack/master/file/SPEC\n. @justin808 In this context, the `env` is a Rack \"environment\" and not a Ruby `ENV` to access environment variables. \nThe Rack `env` is a Hash.\nhttp://www.rubydoc.info/github/rack/rack/master/file/SPEC\n. ",
    "aguynamedben": "What I did for now is: according to the rack-timeout README, requests that are `timed_out` or `expired` log at the ERROR level, and all the other noise stuff logs at the DEBUG level, so I tuned down rack-timeouts logging to only show timed out or expired requests, not all requests.\n\nconfig/initializers/rack_timeout.rb\n\n``` rb\nRack::Timeout::Logger.device = $stderr\nRack::Timeout::Logger.level  = Logger::ERROR\n```\n. What I did for now is: according to the rack-timeout README, requests that are `timed_out` or `expired` log at the ERROR level, and all the other noise stuff logs at the DEBUG level, so I tuned down rack-timeouts logging to only show timed out or expired requests, not all requests.\n\nconfig/initializers/rack_timeout.rb\n\n``` rb\nRack::Timeout::Logger.device = $stderr\nRack::Timeout::Logger.level  = Logger::ERROR\n```\n. ",
    "Deekor": "Same here: \r\n\r\n```\r\nBundler could not find compatible versions for gem \"rails\":\r\n  In Gemfile:\r\n    rails (= 5.0.1)\r\n\r\n    quiet_assets was resolved to 1.0.0, which depends on\r\n      rails (~> 3.1). Same here: \r\n\r\n```\r\nBundler could not find compatible versions for gem \"rails\":\r\n  In Gemfile:\r\n    rails (= 5.0.1)\r\n\r\n    quiet_assets was resolved to 1.0.0, which depends on\r\n      rails (~> 3.1). ",
    "CloCkWeRX": "See https://rossta.net/blog/quiet-assets-in-rails-5.html. See https://rossta.net/blog/quiet-assets-in-rails-5.html. ",
    "zedtux": "Thank you @CloCkWeRX. Double checking the `README.md` file I found the same explanation. Sorry for the useless opened issue.. Thank you @CloCkWeRX. Double checking the `README.md` file I found the same explanation. Sorry for the useless opened issue.. ",
    "tonytonyjan": "https://github.com/rails/sprockets-rails/pull/355. https://github.com/rails/sprockets-rails/pull/355. "
}