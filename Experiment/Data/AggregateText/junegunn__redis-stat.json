{
    "junegunn": "Oh yes, this seems necessary. Thanks.\n. Hey, I've just released a new version with your change. Thanks again.\n. Seems nice. Thanks!\n. Works like a charm! Thanks.\nDo you think it's possible that we lock the first header column of the table so that it always appears even when scrolled to the right? Pull requests are always welcome :smile: \n. No problem! v0.3.4 is now on Rubygems. Thanks.\n. Superb! Thanks!\n. That's serious. At this moment I suspect jqplot is not releasing objects when plots are updated. I'll look into it. Thanks.\n. Hey, you were right!\nSome people have mentioned that they needed to `destory()` plots before redrawing them to workaround this memory issue. (https://bitbucket.org/cleonello/jqplot/issue/330/memory-leak-on-all-browsers)\n\nHow could I not know this? :astonished:\nI'll come up with a quick fix and release a new version shortly.\n. I've just released a new version, 0.3.7.\nTry updating the gem and see if the problem is solved. It looks good on my computer.\n. @munimkazia Great to hear that! Thanks for letting me know of the issue.\n. 0.3.9\n. Hi, thanks for the report.\n\nIt is true that the PID file is overwritten when multiple daemon processes are created, which is bad, but I'm not sure if it's the cause of the errors you encountered, as redis-stat itself doesn't do anything based on the content of the file. I think we need further investigation.\n\nRegarding the daemonize method, we can provide :multiple option.\n\n``` ruby\nDaemons.daemonize(:app_name => 'redis-stat-daemon', :multiple => true)\n```\n\nthen the names of the PID files will be `redis-stat-daemon0.pid`, `redis-stat-daemon1.pid`, and so on. I'll add the option if you think it's useful.\n\nDoes one of your Redis servers require password? There was [a bug](https://github.com/junegunn/redis-stat/issues/8) where redis-stat does not re-authenticate when the server is restarted, and it was fixed in 0.3.8.\n. It could happen either when a redis server is restarted or when redis-stat loses connection to one of them for whatever reason. Hope the new version fixes your problem. Besides, from version 0.3.9, the web page will display error message when redis-stat cannot connect to one of the monitored servers.\n. Current options:\n- Start multiple redis-stat instances :shit:\n- Send metrics to ES and use tools like Kibana\n. Now possible on web view.\n. Thanks!\nThere are a couple of things I'd like to check:\n- It seems that it creates a new instance of `Elasticsearch::Client` every time it outputs the info instead of reusing one. Is it conventional? I'm not familiar with es gem, so I'm just asking.\n- `output_es` is called by `output` method, which is [only called when the process in not daemonized](https://github.com/sent-hil/redis-stat/commit/d4bcac4bc0dd3298a8f64c4f75a5cd985a2dc72f#diff-0e09d74a33a2e175d736bb807e44a686L92). I think it makes more sense that it is not disabled when daemonized. Then again I realilzed that the same thing applies to CSV output as well, which is obviously a bug.\n\n@frhwang Thanks for the comment. Could you help testing this feature? I hear that you and your team are experts in ES. :smiley: \n. @frhwang Thanks!\n. I'm against having another command-line parameter just for elasticsearch support, and `--index` is too broad a term. Why don't we just strip out the trailing index name and pass it separately?\n. Thanks! I've merged the changes to master with some cleanup. I'll release a new version after some tests in a couple of days. One question, why did you choose `services` as the default name for the index? I'm totally new to Elasticsearch so I can't tell if it's conventional.\n. Hey guys, just pushed 0.4.0 to Rubygems. The default index name has changed to `redis-stat`. Thanks again!\n. Thanks for the report. I'm having the same issue. It looks like a bug of the new chrome, but since I can circumvent the problem by simply renaming a javascript variable, I'm releasing a new version.\n. It's up on Rubygems now, please install 0.4.3 and let me know if it works for you.\n. So, it's still not working? I can't reproduce the problem on OSX or on Windows 7. Could you check the output of the following command? I'm trying to see if Content-Type header for the jquery file is correct.\n\n```\ncurl -s -D - localhost:63790/jquery-1.8.2.min.js -o /dev/null\n\nHTTP/1.1 200 OK\nContent-Type: application/javascript;charset=utf-8\nLast-Modified: Thu, 24 Jul 2014 01:13:39 GMT\nContent-Length: 93436\nX-Content-Type-Options: nosniff\nConnection: keep-alive\nServer: thin 1.5.1 codename Straight Razor\n```\n. Hmm strange. It looks okay on Ubuntu 14.\n\n```\njg@summerhere:~> lsb_release -a\nNo LSB modules are available.\nDistributor ID: Ubuntu\nDescription:    Ubuntu 14.04 LTS\nRelease:        14.04\nCodename:       trusty\n\njg@summerhere:~> curl -s -D - localhost:63790/jquery-1.8.2.min.js -o /dev/null\nHTTP/1.1 200 OK\nContent-Type: application/javascript;charset=utf-8\nLast-Modified: Thu, 24 Jul 2014 03:39:51 GMT\nContent-Length: 93436\nX-Content-Type-Options: nosniff\nConnection: keep-alive\nServer: thin 1.5.1 codename Straight Razor\n```\n\nThe new version only changed the name of a javascript variable. So I don't understand why this is suddenly happening to you. Which version of Ruby are you running? And could you post the output of `gem list` command?\n. The list looks fine. I just tested the new version with Ruby 1.8.7 again but couldn't reproduce the problem.\n\nOne thing I've noticed from your comment is that your output of `curl` is different from mine.\n\n```\n# Yours\nHTTP/1.1 302 Moved Temporarily\nX-Cascade: pass\nX-XSS-Protection: 1; mode=block\nContent-Length: 0\nX-Frame-Options: SAMEORIGIN\n...\n\n# Mine\nHTTP/1.1 200 OK\nContent-Type: application/javascript;charset=utf-8\nLast-Modified: Thu, 24 Jul 2014 01:13:39 GMT\nContent-Length: 93436\n...\n```\n\nWhy the redirection? Do you have any idea?\n. @3Dragan Please update redis-stat gem and try again. I think you're seeing the error message from the previous version.\n. Looking again at the output (`Location: http://localhost:63790/`), you are being redirected to the `/` instead of getting the file. This happens when the resource is unavailable or invalid (see https://github.com/junegunn/redis-stat/blob/master/lib/redis-stat/server.rb#L34-L36). I just don't see why it's happening.\n\nCould you check the output of the following commands?\n- `curl -s -D - localhost:63790 -o /dev/null`\n- `curl -s -D - localhost:63790/pull`\n\nDo you see the JSON stream in the second case?\n. By the way, I released 0.4.4 in the meantime, which fixes some bugs. Although I don't think it has anything to with the problem you're having, please update.\n. @iCyLand This issue is already fixed. Please update your redis-stat gem. @ivyang187 is having a different problem.\n. @ivyang187 Okay, you basically have no access to the public directory and get redirected to `/`. Strange. I've also tested the latest version on Arch Linux, but I just couldn't reproduce the problem. Have you tried it on a different environment like VM on your laptop?\n\nThe redirection code is [here](https://github.com/junegunn/redis-stat/blob/master/lib/redis-stat/server.rb#L34-L36). If you're willing to further help me diagnose the problem, you can clone this repository, comment out those lines, start redis-stat with `test/bin_helper.rb redis-stat --server` and check the output of the curl command.\n. Glad to hear that. Thanks for letting me know!\n. Thanks for the report.\nYeah, I've finally realized that the pull request for the feature was quite incomplete. I'm working on it.\n. The new version is up on Rubygems. Please update your redis-stat to 0.4.4 and let me know if it works. Thanks!\n. No problem, thanks!\n. https://github.com/junegunn/redis-stat/commit/59ea76af4c36fcb8eaf5c6d6e50a46802b3d2086\n. Thanks for the suggestion.\n\n> From that machine issuing a CLUSTER NODES command will list all the members of the cluster. \n\nWell, it's not hard to imagine an external shell script that takes a single node in the cluster as the argument and prints out the list of all nodes in the cluster, so we can write\n\n```\nredis-stat --server $(list-nodes member1)\n```\n\nTo be more useful, I think redis-stat has to deal with dynamic changes in the number nodes in the cluster, but it can be non-trivial to implement.\n\nI love the idea of providing UI for single-instance statistics. What we can do now is either to start multiple redis-stat processes or to ship the logs to ElasticSearch, but both of which seem cumbersome. I'll see what I can do when I get time.\n. I just pushed a simple change that enables monitoring of individual instances.\nNothing fancy, you can click on the hostnames on the table in \"Instance information\" section, and it will redirect you to the page that shows the graphs and stats for the selected instance.\nCould you guys clone this repo and test if it works as expected?\n\n``` sh\nbundle install\ntest/bin_helper.rb redis-stat --server ...\n```\n. I just released 0.4.7 on Rubygems with the aforementioned change. When you start redis-stat for multiple instances, you'll be able to see the select box right next to the redis-stat logo on the navigation bar.\n. @amit-handa Sorry, no plan. I'm not actively developing redis-stat any more.. Thanks for pointing it out. I'll release a new version with the fix.\n. Should be fixed in 0.4.8.\n. I'm not sure if I follow you, could you be more specific?\n\nYou can pass the hostnames of the Redis instances to the command\n\n```\n# Localhost, port 6379\nredis-stat\n\n# Redis on the other server\nredis-stat some-other-server\n\n# Both\nredis-stat localhost some-other-server\n```\n. Thanks for the info. I'm currently not very interested or motivated in improving redis-stat as I don't use Redis as extensively as I used to, so I probably won't be working on it soon, but I'm open to pull requests.\n. I think you're confused. I have nothing to do with jedis.\n. I've given some thought about it, but I'm not really sure if it'd be really helpful. redis-stat is a tool for checking out the statistics of a redis instance during a short period of time, like a few minutes, so a trend line seems like TMI.\n. The option is `--auth` (or simply `-a`), not `--authen`. So you must have seen `invalid option: --authen=khiemnd` message. Try again with `--auth=khiemnd`.\n\nIf you're looking for an option to put a password on the web page, there isn't one.\n. Sorry, but I don't have enough experience with Capistrano to answer the question. You should ask the ones who are familiar with Capistrano instead.\n. No, currently redis-stat does not connect to Unix sockets. It's actually trivial to support it, but I don't really see the point. Do you use Unix socket exclusively?\n. Thanks for the suggestion. Maybe it's slightly beyond the scope of redis-stat as it was initially designed as a simple command-line tool like vmstat, iostat, etc. The `--server` option was obviously an afterthought. \n\nAnd by \"50 seconds\", you're refering to [the hard-coded `HISTORY_LENGTH`](https://github.com/junegunn/redis-stat/blob/master/lib/redis-stat/server.rb#L8), right? Since the default interval is 2 seconds, the total duration becomes 100 seconds, and you can increase the interval as you like.\n\nredis-stat currently does not allow you to change this `HISTORY_LENGTH`, but it has an option to send its logs to ElasticSearch, where you can inspect older log using tools like Kibana.\n. Could you be more specific?\nredis-stat does not send metrics to ES by default.\nYou have to use `--es` option and provide _any URL_ to it like follows:\n\n``` sh\nredis-stat --es=http://localhost:9200/redis-stat\n```\n. >  It just send the redis-info data to the font-end by something like websocket?\n\nCorrect, using Server-Sent Events or polling depending on the Ruby platform. ElasticSearch support was only added recently.\n. Thanks, I'll release a new version and let you know.\n. Pushed 0.4.9 to Rubygems. Thanks!\n\nhttps://rubygems.org/gems/redis-stat/versions\n. ``` sh\nredis-stat 5 --csv | pipe-logger redis-stat.log\n```\n. Hi, I can't reproduce the problem with redis-stat 0.4.10 on Ruby 2.1.2 and 2.2.0. Are you running the latest version of redis-stat?\n. Thanks for the report. Looks like Redis changed its message for requiring authentication some time ago. I'll build a new version and let you know.\n. 0.4.11 is up on Rubygems, and I uploaded the new executable jar on releases page. Thanks.\n. > when I run this command redis-stat --server, I can not monitor the remote server, just some command like redis-stat --server=106.11.188.12:6379. Am I right?\n\nNo. Please reread the README page of the project.\n\n> So I want to ask the result with colorful message shows one redis info or two redis-info?\n\nThe console log shows the aggregate metrics of the redis instances. But you can see the stats of each instance on the browser (`--server`) using the dropdown menu.\n. Hi, thanks for the suggestion.\nHowever, redis-stat has been maintained to support Ruby 1.8.7 (See `git log -i --grep 'ruby 1.8'`), but `each_with_object` is not available on that version, so I can't merge.\n\n> The select seems to be there to remove empty values\n\nBecause the line above extracts hostname and port by splitting the user-given string, port can be missing. I'm not sure if the constructor of `Redis` class allows `nil` port values, but better safe than sorry.\n\n> it's not being covered by test\n\nHonestly, the test suite of redis-stat is far from complete :smirk:\nThere are a lot of work to be done to properly test multiple redis instances of different versions and elasticsearch, etc, but I haven't really had time for all that work.\n. I think you forgot to mention how you installed redis-stat. `gem install redis-stat`?\n\nPlease provide me with the following information:\n- Your OS distro and version\n- Ruby version: `ruby -v`\n- Gem version: `gem -v`\n- `gem list | grep redis-stat`\n. > now when I gem list | grep reids-stat\uff0cnothing happend\uff0cit's blank. why\uff1f\n\nIs \"reids\" a typo?\n\nPlease post the exact output of the following commands:\n\n``` sh\ngem install redis-stat\ngem list | grep redis-stat\nwhich redis-stat\n```\n. What about `gem install redis-stat`, what does it say?\n. You mean, no message at all when you try `gem install`? Then it looks like redis-stat is not properly installed. Have you tried installing it with `sudo gem install redis-stat`?\n. Well, then I can't help you. You'll have to figure out yourself why Rubygems are not working as expected on your system. If you really can't solve the problem, you might want to consider using the JAR distribution.\n\nhttps://github.com/junegunn/redis-stat/releases\n. Thanks for the report. I'll release the next patch version and let you know.\n. Released 0.4.12 with the fix.\n. Hi, actually adding support for ElasticSearch was [not my idea](https://github.com/junegunn/redis-stat/pull/15), and due to my lack of good understanding of ES, the feature has not been systematically tested and I'm not really sure if the current implementation follows the best practice. So if you have any feedback on the part, feel free to let me know.\n\nSo anyway, looks like we have three options:\n1. Another CLI flag\n   1. We're current packing stuff into a single `--es` flag, adding another doesn't really feel nice\n   2. Short-sighted if we're going to have to add more of such flags\n2. Environment variable (e.g. `ES_CA_PATH`)\n   1. Easier to implement, and to extend in the future\n   2. It's the first env var ever used, so it's inconsistent\n3. External config file\n   1. The ultimate solution\n   2. Most likely overkill\n. I don't use redis much these days, and due to my lack of interest in it, I'm not actively maintaining this project. You can fork the repository and bend it to your needs and I'm open to pull requests.\n. You can safely ignore the message. It's the command for determining the size of the terminal screen and you're seeing the message since it's not available on Windows but redis-stat will just use the hard-coded default width and height instead.\n\nI could update redis-stat to skip the command on Windows, but I currently don't have a Windows PC to test it on.\n. Hmm, I see, but as I stated above I don't have a Windows PC. redis-stat should work even when the command failed, so something's wrong but I have no clue. Can you try using the JAR file instead? Does it work?\n\nhttps://github.com/junegunn/redis-stat/releases/\n. Sounds good, I'll try to fix the windows issue when I get a chance.\n. I'm not sure about redis cluster as I don't use it, but redis-stat can be used, and is used in production as `INFO` command has little overhead on the redis instance.\n. If `--csv` option is specified without the file name, the lines will be printed to the standard output, so you easily can write a custom filter that processes the output as you wish.\n\n```\nredis-stat --csv | your-custom-log-processing-script\n```\n\nFYI, I sometimes use [this script](https://github.com/junegunn/pipe-logger) to rotate log files. Anyway I think you got the point.\n. Thanks for the suggestion and pointers. As you can see, I'm not actively maintaining this project as my interest in Redis diminished. If anyone is interested in taking the initiative in packaging it, I'd be glad to help. Please note that I won't be available for the rest of November due to vacation.\n. It's not that we don't use Redis, it's just that I'm no longer responsible for the operation of Redis at work.\n. Please see: https://github.com/junegunn/redis-stat#usage\n\nStill can't figure it out?\n. Thanks. Can you have a look at the comments I left and update your commits accordingly? (And please squash the commits into one.)\n. Will look into it when I get some time, thanks.\n. Looks like you're stuck with a very old version of ruby. Please provide more information about the system:\n- OS\n- Ruby version\n. Ruby 1.8.7 is way too old, it was retired three years ago. Please upgrade your Ruby and see if it helps.\n. Thanks, but considering that you are going to be mainly responsible for docker releases, how about making a separate repository of your own, like `rm-hull/docker-redis-stat`? We can add a link to the repo in the README file for those who are interested but I don't think Dockerfile should reside in this repo.\n. Use `-a` option with password. See https://github.com/junegunn/redis-stat#usage\n. Thanks for the simple solution. Passing `:password` property has a side-effect of Redis with no password setup complaining if password is provided, so it kind of breaks backward compatibility but I think it's fine.\n\nUsing `:` as the delimiter requires that we specify the port even when we use the default port, so I'm going to change the format to `HOST[:PORT][/PASS]`. I'll also remove some code that is no longer necessary with the use of `:password` property.\n. Thanks, I somehow messed up.\n. How did you install Ruby? On which OS?\n. If you have trouble installing it with Ruby, consider using the executable JAR instead. You can download one here: https://github.com/junegunn/redis-stat/releases\n. @vishalsharma13 Try installing ruby-devel; i.e. `yum -y install gcc ruby-devel`. And yes, JAR file has the same feature set.\n. The error message clearly states that the package was not found and not installed. \n\nHere's a pointer you might want to take a look at:\n\nhttp://stackoverflow.com/questions/30665912/no-ruby-devel-in-rhel7\n\nIf you still can't figure out how to solve the problem, just JAR release.\n. Thanks for the heads up. Sorry that I don't have enough time to maintain this project at the moment. redis-stat web server is just a sinatra app, I don't think there's anything special about it. So you might want to test if it works well with a simple sinatra app running on thin.\n. Thanks for looking into it. Yeah, a script for setting up a testing environment would be nice.\r\n\r\nA couple questions:\r\n1. We can simply remove the leading `/`, right? (instead of prepending `.`)\r\n    - e.g. `<link href=\"bootstrap/css/bootstrap.min.css\" rel=\"stylesheet\"/>`\r\n2. If so, what should we do with line 23?\r\n    - `<a class=\"brand\" href=\"/\">redis-stat</a>`. Thanks for digging those up. Would you be interested in sending me a PR?. Thanks, but looks like there are a few more places that need to be updated. Line 28, 30, and 160. Can you update?. Merged, thanks! I'll release a new version.. I briefly mentioned it in https://github.com/junegunn/redis-stat/releases/tag/0.4.14\r\nFeel free to create a wiki page. Thanks.. Interesting, thanks for letting me know! It would be nice if you could send me a pull request updating the README page.. Does your password contain `!`? Try wrapping the argument with single quotes so that it's not expanded by the shell. `redis-stat 'localhost:6379/<password>'`. No option for that currently. You can refer to http://www.sinatrarb.com/configuration.html if you want to modify the code to your liking.. Wrong repo it seems.. You probably should use JRuby.. Oh yes, this seems necessary. Thanks.\n. Hey, I've just released a new version with your change. Thanks again.\n. Seems nice. Thanks!\n. Works like a charm! Thanks.\nDo you think it's possible that we lock the first header column of the table so that it always appears even when scrolled to the right? Pull requests are always welcome :smile: \n. No problem! v0.3.4 is now on Rubygems. Thanks.\n. Superb! Thanks!\n. That's serious. At this moment I suspect jqplot is not releasing objects when plots are updated. I'll look into it. Thanks.\n. Hey, you were right!\nSome people have mentioned that they needed to `destory()` plots before redrawing them to workaround this memory issue. (https://bitbucket.org/cleonello/jqplot/issue/330/memory-leak-on-all-browsers)\n\nHow could I not know this? :astonished:\nI'll come up with a quick fix and release a new version shortly.\n. I've just released a new version, 0.3.7.\nTry updating the gem and see if the problem is solved. It looks good on my computer.\n. @munimkazia Great to hear that! Thanks for letting me know of the issue.\n. 0.3.9\n. Hi, thanks for the report.\n\nIt is true that the PID file is overwritten when multiple daemon processes are created, which is bad, but I'm not sure if it's the cause of the errors you encountered, as redis-stat itself doesn't do anything based on the content of the file. I think we need further investigation.\n\nRegarding the daemonize method, we can provide :multiple option.\n\n``` ruby\nDaemons.daemonize(:app_name => 'redis-stat-daemon', :multiple => true)\n```\n\nthen the names of the PID files will be `redis-stat-daemon0.pid`, `redis-stat-daemon1.pid`, and so on. I'll add the option if you think it's useful.\n\nDoes one of your Redis servers require password? There was [a bug](https://github.com/junegunn/redis-stat/issues/8) where redis-stat does not re-authenticate when the server is restarted, and it was fixed in 0.3.8.\n. It could happen either when a redis server is restarted or when redis-stat loses connection to one of them for whatever reason. Hope the new version fixes your problem. Besides, from version 0.3.9, the web page will display error message when redis-stat cannot connect to one of the monitored servers.\n. Current options:\n- Start multiple redis-stat instances :shit:\n- Send metrics to ES and use tools like Kibana\n. Now possible on web view.\n. Thanks!\nThere are a couple of things I'd like to check:\n- It seems that it creates a new instance of `Elasticsearch::Client` every time it outputs the info instead of reusing one. Is it conventional? I'm not familiar with es gem, so I'm just asking.\n- `output_es` is called by `output` method, which is [only called when the process in not daemonized](https://github.com/sent-hil/redis-stat/commit/d4bcac4bc0dd3298a8f64c4f75a5cd985a2dc72f#diff-0e09d74a33a2e175d736bb807e44a686L92). I think it makes more sense that it is not disabled when daemonized. Then again I realilzed that the same thing applies to CSV output as well, which is obviously a bug.\n\n@frhwang Thanks for the comment. Could you help testing this feature? I hear that you and your team are experts in ES. :smiley: \n. @frhwang Thanks!\n. I'm against having another command-line parameter just for elasticsearch support, and `--index` is too broad a term. Why don't we just strip out the trailing index name and pass it separately?\n. Thanks! I've merged the changes to master with some cleanup. I'll release a new version after some tests in a couple of days. One question, why did you choose `services` as the default name for the index? I'm totally new to Elasticsearch so I can't tell if it's conventional.\n. Hey guys, just pushed 0.4.0 to Rubygems. The default index name has changed to `redis-stat`. Thanks again!\n. Thanks for the report. I'm having the same issue. It looks like a bug of the new chrome, but since I can circumvent the problem by simply renaming a javascript variable, I'm releasing a new version.\n. It's up on Rubygems now, please install 0.4.3 and let me know if it works for you.\n. So, it's still not working? I can't reproduce the problem on OSX or on Windows 7. Could you check the output of the following command? I'm trying to see if Content-Type header for the jquery file is correct.\n\n```\ncurl -s -D - localhost:63790/jquery-1.8.2.min.js -o /dev/null\n\nHTTP/1.1 200 OK\nContent-Type: application/javascript;charset=utf-8\nLast-Modified: Thu, 24 Jul 2014 01:13:39 GMT\nContent-Length: 93436\nX-Content-Type-Options: nosniff\nConnection: keep-alive\nServer: thin 1.5.1 codename Straight Razor\n```\n. Hmm strange. It looks okay on Ubuntu 14.\n\n```\njg@summerhere:~> lsb_release -a\nNo LSB modules are available.\nDistributor ID: Ubuntu\nDescription:    Ubuntu 14.04 LTS\nRelease:        14.04\nCodename:       trusty\n\njg@summerhere:~> curl -s -D - localhost:63790/jquery-1.8.2.min.js -o /dev/null\nHTTP/1.1 200 OK\nContent-Type: application/javascript;charset=utf-8\nLast-Modified: Thu, 24 Jul 2014 03:39:51 GMT\nContent-Length: 93436\nX-Content-Type-Options: nosniff\nConnection: keep-alive\nServer: thin 1.5.1 codename Straight Razor\n```\n\nThe new version only changed the name of a javascript variable. So I don't understand why this is suddenly happening to you. Which version of Ruby are you running? And could you post the output of `gem list` command?\n. The list looks fine. I just tested the new version with Ruby 1.8.7 again but couldn't reproduce the problem.\n\nOne thing I've noticed from your comment is that your output of `curl` is different from mine.\n\n```\n# Yours\nHTTP/1.1 302 Moved Temporarily\nX-Cascade: pass\nX-XSS-Protection: 1; mode=block\nContent-Length: 0\nX-Frame-Options: SAMEORIGIN\n...\n\n# Mine\nHTTP/1.1 200 OK\nContent-Type: application/javascript;charset=utf-8\nLast-Modified: Thu, 24 Jul 2014 01:13:39 GMT\nContent-Length: 93436\n...\n```\n\nWhy the redirection? Do you have any idea?\n. @3Dragan Please update redis-stat gem and try again. I think you're seeing the error message from the previous version.\n. Looking again at the output (`Location: http://localhost:63790/`), you are being redirected to the `/` instead of getting the file. This happens when the resource is unavailable or invalid (see https://github.com/junegunn/redis-stat/blob/master/lib/redis-stat/server.rb#L34-L36). I just don't see why it's happening.\n\nCould you check the output of the following commands?\n- `curl -s -D - localhost:63790 -o /dev/null`\n- `curl -s -D - localhost:63790/pull`\n\nDo you see the JSON stream in the second case?\n. By the way, I released 0.4.4 in the meantime, which fixes some bugs. Although I don't think it has anything to with the problem you're having, please update.\n. @iCyLand This issue is already fixed. Please update your redis-stat gem. @ivyang187 is having a different problem.\n. @ivyang187 Okay, you basically have no access to the public directory and get redirected to `/`. Strange. I've also tested the latest version on Arch Linux, but I just couldn't reproduce the problem. Have you tried it on a different environment like VM on your laptop?\n\nThe redirection code is [here](https://github.com/junegunn/redis-stat/blob/master/lib/redis-stat/server.rb#L34-L36). If you're willing to further help me diagnose the problem, you can clone this repository, comment out those lines, start redis-stat with `test/bin_helper.rb redis-stat --server` and check the output of the curl command.\n. Glad to hear that. Thanks for letting me know!\n. Thanks for the report.\nYeah, I've finally realized that the pull request for the feature was quite incomplete. I'm working on it.\n. The new version is up on Rubygems. Please update your redis-stat to 0.4.4 and let me know if it works. Thanks!\n. No problem, thanks!\n. https://github.com/junegunn/redis-stat/commit/59ea76af4c36fcb8eaf5c6d6e50a46802b3d2086\n. Thanks for the suggestion.\n\n> From that machine issuing a CLUSTER NODES command will list all the members of the cluster. \n\nWell, it's not hard to imagine an external shell script that takes a single node in the cluster as the argument and prints out the list of all nodes in the cluster, so we can write\n\n```\nredis-stat --server $(list-nodes member1)\n```\n\nTo be more useful, I think redis-stat has to deal with dynamic changes in the number nodes in the cluster, but it can be non-trivial to implement.\n\nI love the idea of providing UI for single-instance statistics. What we can do now is either to start multiple redis-stat processes or to ship the logs to ElasticSearch, but both of which seem cumbersome. I'll see what I can do when I get time.\n. I just pushed a simple change that enables monitoring of individual instances.\nNothing fancy, you can click on the hostnames on the table in \"Instance information\" section, and it will redirect you to the page that shows the graphs and stats for the selected instance.\nCould you guys clone this repo and test if it works as expected?\n\n``` sh\nbundle install\ntest/bin_helper.rb redis-stat --server ...\n```\n. I just released 0.4.7 on Rubygems with the aforementioned change. When you start redis-stat for multiple instances, you'll be able to see the select box right next to the redis-stat logo on the navigation bar.\n. @amit-handa Sorry, no plan. I'm not actively developing redis-stat any more.. Thanks for pointing it out. I'll release a new version with the fix.\n. Should be fixed in 0.4.8.\n. I'm not sure if I follow you, could you be more specific?\n\nYou can pass the hostnames of the Redis instances to the command\n\n```\n# Localhost, port 6379\nredis-stat\n\n# Redis on the other server\nredis-stat some-other-server\n\n# Both\nredis-stat localhost some-other-server\n```\n. Thanks for the info. I'm currently not very interested or motivated in improving redis-stat as I don't use Redis as extensively as I used to, so I probably won't be working on it soon, but I'm open to pull requests.\n. I think you're confused. I have nothing to do with jedis.\n. I've given some thought about it, but I'm not really sure if it'd be really helpful. redis-stat is a tool for checking out the statistics of a redis instance during a short period of time, like a few minutes, so a trend line seems like TMI.\n. The option is `--auth` (or simply `-a`), not `--authen`. So you must have seen `invalid option: --authen=khiemnd` message. Try again with `--auth=khiemnd`.\n\nIf you're looking for an option to put a password on the web page, there isn't one.\n. Sorry, but I don't have enough experience with Capistrano to answer the question. You should ask the ones who are familiar with Capistrano instead.\n. No, currently redis-stat does not connect to Unix sockets. It's actually trivial to support it, but I don't really see the point. Do you use Unix socket exclusively?\n. Thanks for the suggestion. Maybe it's slightly beyond the scope of redis-stat as it was initially designed as a simple command-line tool like vmstat, iostat, etc. The `--server` option was obviously an afterthought. \n\nAnd by \"50 seconds\", you're refering to [the hard-coded `HISTORY_LENGTH`](https://github.com/junegunn/redis-stat/blob/master/lib/redis-stat/server.rb#L8), right? Since the default interval is 2 seconds, the total duration becomes 100 seconds, and you can increase the interval as you like.\n\nredis-stat currently does not allow you to change this `HISTORY_LENGTH`, but it has an option to send its logs to ElasticSearch, where you can inspect older log using tools like Kibana.\n. Could you be more specific?\nredis-stat does not send metrics to ES by default.\nYou have to use `--es` option and provide _any URL_ to it like follows:\n\n``` sh\nredis-stat --es=http://localhost:9200/redis-stat\n```\n. >  It just send the redis-info data to the font-end by something like websocket?\n\nCorrect, using Server-Sent Events or polling depending on the Ruby platform. ElasticSearch support was only added recently.\n. Thanks, I'll release a new version and let you know.\n. Pushed 0.4.9 to Rubygems. Thanks!\n\nhttps://rubygems.org/gems/redis-stat/versions\n. ``` sh\nredis-stat 5 --csv | pipe-logger redis-stat.log\n```\n. Hi, I can't reproduce the problem with redis-stat 0.4.10 on Ruby 2.1.2 and 2.2.0. Are you running the latest version of redis-stat?\n. Thanks for the report. Looks like Redis changed its message for requiring authentication some time ago. I'll build a new version and let you know.\n. 0.4.11 is up on Rubygems, and I uploaded the new executable jar on releases page. Thanks.\n. > when I run this command redis-stat --server, I can not monitor the remote server, just some command like redis-stat --server=106.11.188.12:6379. Am I right?\n\nNo. Please reread the README page of the project.\n\n> So I want to ask the result with colorful message shows one redis info or two redis-info?\n\nThe console log shows the aggregate metrics of the redis instances. But you can see the stats of each instance on the browser (`--server`) using the dropdown menu.\n. Hi, thanks for the suggestion.\nHowever, redis-stat has been maintained to support Ruby 1.8.7 (See `git log -i --grep 'ruby 1.8'`), but `each_with_object` is not available on that version, so I can't merge.\n\n> The select seems to be there to remove empty values\n\nBecause the line above extracts hostname and port by splitting the user-given string, port can be missing. I'm not sure if the constructor of `Redis` class allows `nil` port values, but better safe than sorry.\n\n> it's not being covered by test\n\nHonestly, the test suite of redis-stat is far from complete :smirk:\nThere are a lot of work to be done to properly test multiple redis instances of different versions and elasticsearch, etc, but I haven't really had time for all that work.\n. I think you forgot to mention how you installed redis-stat. `gem install redis-stat`?\n\nPlease provide me with the following information:\n- Your OS distro and version\n- Ruby version: `ruby -v`\n- Gem version: `gem -v`\n- `gem list | grep redis-stat`\n. > now when I gem list | grep reids-stat\uff0cnothing happend\uff0cit's blank. why\uff1f\n\nIs \"reids\" a typo?\n\nPlease post the exact output of the following commands:\n\n``` sh\ngem install redis-stat\ngem list | grep redis-stat\nwhich redis-stat\n```\n. What about `gem install redis-stat`, what does it say?\n. You mean, no message at all when you try `gem install`? Then it looks like redis-stat is not properly installed. Have you tried installing it with `sudo gem install redis-stat`?\n. Well, then I can't help you. You'll have to figure out yourself why Rubygems are not working as expected on your system. If you really can't solve the problem, you might want to consider using the JAR distribution.\n\nhttps://github.com/junegunn/redis-stat/releases\n. Thanks for the report. I'll release the next patch version and let you know.\n. Released 0.4.12 with the fix.\n. Hi, actually adding support for ElasticSearch was [not my idea](https://github.com/junegunn/redis-stat/pull/15), and due to my lack of good understanding of ES, the feature has not been systematically tested and I'm not really sure if the current implementation follows the best practice. So if you have any feedback on the part, feel free to let me know.\n\nSo anyway, looks like we have three options:\n1. Another CLI flag\n   1. We're current packing stuff into a single `--es` flag, adding another doesn't really feel nice\n   2. Short-sighted if we're going to have to add more of such flags\n2. Environment variable (e.g. `ES_CA_PATH`)\n   1. Easier to implement, and to extend in the future\n   2. It's the first env var ever used, so it's inconsistent\n3. External config file\n   1. The ultimate solution\n   2. Most likely overkill\n. I don't use redis much these days, and due to my lack of interest in it, I'm not actively maintaining this project. You can fork the repository and bend it to your needs and I'm open to pull requests.\n. You can safely ignore the message. It's the command for determining the size of the terminal screen and you're seeing the message since it's not available on Windows but redis-stat will just use the hard-coded default width and height instead.\n\nI could update redis-stat to skip the command on Windows, but I currently don't have a Windows PC to test it on.\n. Hmm, I see, but as I stated above I don't have a Windows PC. redis-stat should work even when the command failed, so something's wrong but I have no clue. Can you try using the JAR file instead? Does it work?\n\nhttps://github.com/junegunn/redis-stat/releases/\n. Sounds good, I'll try to fix the windows issue when I get a chance.\n. I'm not sure about redis cluster as I don't use it, but redis-stat can be used, and is used in production as `INFO` command has little overhead on the redis instance.\n. If `--csv` option is specified without the file name, the lines will be printed to the standard output, so you easily can write a custom filter that processes the output as you wish.\n\n```\nredis-stat --csv | your-custom-log-processing-script\n```\n\nFYI, I sometimes use [this script](https://github.com/junegunn/pipe-logger) to rotate log files. Anyway I think you got the point.\n. Thanks for the suggestion and pointers. As you can see, I'm not actively maintaining this project as my interest in Redis diminished. If anyone is interested in taking the initiative in packaging it, I'd be glad to help. Please note that I won't be available for the rest of November due to vacation.\n. It's not that we don't use Redis, it's just that I'm no longer responsible for the operation of Redis at work.\n. Please see: https://github.com/junegunn/redis-stat#usage\n\nStill can't figure it out?\n. Thanks. Can you have a look at the comments I left and update your commits accordingly? (And please squash the commits into one.)\n. Will look into it when I get some time, thanks.\n. Looks like you're stuck with a very old version of ruby. Please provide more information about the system:\n- OS\n- Ruby version\n. Ruby 1.8.7 is way too old, it was retired three years ago. Please upgrade your Ruby and see if it helps.\n. Thanks, but considering that you are going to be mainly responsible for docker releases, how about making a separate repository of your own, like `rm-hull/docker-redis-stat`? We can add a link to the repo in the README file for those who are interested but I don't think Dockerfile should reside in this repo.\n. Use `-a` option with password. See https://github.com/junegunn/redis-stat#usage\n. Thanks for the simple solution. Passing `:password` property has a side-effect of Redis with no password setup complaining if password is provided, so it kind of breaks backward compatibility but I think it's fine.\n\nUsing `:` as the delimiter requires that we specify the port even when we use the default port, so I'm going to change the format to `HOST[:PORT][/PASS]`. I'll also remove some code that is no longer necessary with the use of `:password` property.\n. Thanks, I somehow messed up.\n. How did you install Ruby? On which OS?\n. If you have trouble installing it with Ruby, consider using the executable JAR instead. You can download one here: https://github.com/junegunn/redis-stat/releases\n. @vishalsharma13 Try installing ruby-devel; i.e. `yum -y install gcc ruby-devel`. And yes, JAR file has the same feature set.\n. The error message clearly states that the package was not found and not installed. \n\nHere's a pointer you might want to take a look at:\n\nhttp://stackoverflow.com/questions/30665912/no-ruby-devel-in-rhel7\n\nIf you still can't figure out how to solve the problem, just JAR release.\n. Thanks for the heads up. Sorry that I don't have enough time to maintain this project at the moment. redis-stat web server is just a sinatra app, I don't think there's anything special about it. So you might want to test if it works well with a simple sinatra app running on thin.\n. Thanks for looking into it. Yeah, a script for setting up a testing environment would be nice.\r\n\r\nA couple questions:\r\n1. We can simply remove the leading `/`, right? (instead of prepending `.`)\r\n    - e.g. `<link href=\"bootstrap/css/bootstrap.min.css\" rel=\"stylesheet\"/>`\r\n2. If so, what should we do with line 23?\r\n    - `<a class=\"brand\" href=\"/\">redis-stat</a>`. Thanks for digging those up. Would you be interested in sending me a PR?. Thanks, but looks like there are a few more places that need to be updated. Line 28, 30, and 160. Can you update?. Merged, thanks! I'll release a new version.. I briefly mentioned it in https://github.com/junegunn/redis-stat/releases/tag/0.4.14\r\nFeel free to create a wiki page. Thanks.. Interesting, thanks for letting me know! It would be nice if you could send me a pull request updating the README page.. Does your password contain `!`? Try wrapping the argument with single quotes so that it's not expanded by the shell. `redis-stat 'localhost:6379/<password>'`. No option for that currently. You can refer to http://www.sinatrarb.com/configuration.html if you want to modify the code to your liking.. Wrong repo it seems.. You probably should use JRuby.. ",
    "frhwang": "Yeah, It's possible and nice. But some challenges are expected.\nI'll try it in my spare time. Thanks for merging! :smiley:\n. @junegunn I tested this feature. It works well.\n. Suggestion: I'd like to specify an index name in elasticsearch url(e.g. http://localhost:9200/my_index). But index name is hard-coded: https://github.com/sent-hil/redis-stat/commit/d4bcac4bc0dd3298a8f64c4f75a5cd985a2dc72f#diff-63275b498229af0148081ee0dd48bac0R53\n. @sent-hil I also agree with @junegunn 's opinion. We can parse elasticsearch url & get an index name from that. Of course, A default value should be used if url contains no index name.\n. @sent-hil Good job! :+1: \n. Yeah, It's possible and nice. But some challenges are expected.\nI'll try it in my spare time. Thanks for merging! :smiley:\n. @junegunn I tested this feature. It works well.\n. Suggestion: I'd like to specify an index name in elasticsearch url(e.g. http://localhost:9200/my_index). But index name is hard-coded: https://github.com/sent-hil/redis-stat/commit/d4bcac4bc0dd3298a8f64c4f75a5cd985a2dc72f#diff-63275b498229af0148081ee0dd48bac0R53\n. @sent-hil I also agree with @junegunn 's opinion. We can parse elasticsearch url & get an index name from that. Of course, A default value should be used if url contains no index name.\n. @sent-hil Good job! :+1: \n. ",
    "munimkazia": "@junegunn wow, thanks for the quick fix! I will update the gem tomorrow morning at work and let you know if the issue persists. \n. @junegunn Hi. Just to confirm.. I have updated our redis-stat instances, and I think the issue seems to be fixed. Thanks! \n. Just had a look at the source code of the project for the first time. I am not very well acquainted with ruby, but it looks like the daemonize option in the daemon gem doesn't have the :multiple option available. I think Daemon.call could be used instead of daemonize. \n. All our redis servers use authentication, but I am not sure if the redis servers were restarted. Anyway, I will update to the latest version and give it a shot. \n\nAs for the multiple option, I guess it could be added for the sake of completion and for maintaining pidfiles if anyone needs it, but I am fine as long as the daemon works. I will update my redis-stat and get back to you. \n. @junegunn wow, thanks for the quick fix! I will update the gem tomorrow morning at work and let you know if the issue persists. \n. @junegunn Hi. Just to confirm.. I have updated our redis-stat instances, and I think the issue seems to be fixed. Thanks! \n. Just had a look at the source code of the project for the first time. I am not very well acquainted with ruby, but it looks like the daemonize option in the daemon gem doesn't have the :multiple option available. I think Daemon.call could be used instead of daemonize. \n. All our redis servers use authentication, but I am not sure if the redis servers were restarted. Anyway, I will update to the latest version and give it a shot. \n\nAs for the multiple option, I guess it could be added for the sake of completion and for maintaining pidfiles if anyone needs it, but I am fine as long as the daemon works. I will update my redis-stat and get back to you. \n. ",
    "sent-hil": "@frhwang you're right, added it to the Gemfile. Thanks!\n. @junegunn Changed to initialize es `client` just once and reusing it. Not sure if the second bug is in scope of this pr.\n\n@frhwang Changed to accept `index` as an flag and falling back to `services` if no flag is passed. I tried to index a document while pointed directly to `http://localhost:9200/my_index`, but it didn't seem to work with elasticsearch gem, so I did it this way. What do you think?\n\nThanks for your comments :)\n\nPS. we're using Kibana and this is what it ends up looking like: https://www.dropbox.com/s/8gcr9ht4m7za7zj/Screenshot%202014-06-24%2011.28.45.png I only did histograms for couple metrics for now.\n. Roger, will try to work on it this weekend. Thanks again for your comments.\n. Hello, I've updated my MR. I've tested it with the following urls:\n\n```\n  no index\n    localhost\n    localhost:9200\n    http://localhost:9200\n    https://localhost:9200\n  index\n    localhost/index\n    localhost:9200/index\n    http://localhost:9200/index\n    https://localhost:9200/index\n    https://localhost:9200/prefix/index\n```\n. `services`is the index where I'm aggregating redis and other dbs, nothing\nconventional about it. Perhaps `redis-stat` is a better name for default.\n\nOn Tue, Jul 1, 2014 at 8:37 PM, Junegunn Choi notifications@github.com\nwrote:\n\n> Thanks! I've merged the changes to master with some cleanup. I'll release\n> a new version after some tests in a couple of days. One question, why did\n> you choose services as the default name for the index? I'm totally new to\n> Elasticsearch so I can't tell if it's conventional.\n> \n> \u2014\n> Reply to this email directly or view it on GitHub\n> https://github.com/junegunn/redis-stat/pull/15#issuecomment-47734252.\n. @frhwang you're right, added it to the Gemfile. Thanks!\n. @junegunn Changed to initialize es `client` just once and reusing it. Not sure if the second bug is in scope of this pr.\n\n@frhwang Changed to accept `index` as an flag and falling back to `services` if no flag is passed. I tried to index a document while pointed directly to `http://localhost:9200/my_index`, but it didn't seem to work with elasticsearch gem, so I did it this way. What do you think?\n\nThanks for your comments :)\n\nPS. we're using Kibana and this is what it ends up looking like: https://www.dropbox.com/s/8gcr9ht4m7za7zj/Screenshot%202014-06-24%2011.28.45.png I only did histograms for couple metrics for now.\n. Roger, will try to work on it this weekend. Thanks again for your comments.\n. Hello, I've updated my MR. I've tested it with the following urls:\n\n```\n  no index\n    localhost\n    localhost:9200\n    http://localhost:9200\n    https://localhost:9200\n  index\n    localhost/index\n    localhost:9200/index\n    http://localhost:9200/index\n    https://localhost:9200/index\n    https://localhost:9200/prefix/index\n```\n. `services`is the index where I'm aggregating redis and other dbs, nothing\nconventional about it. Perhaps `redis-stat` is a better name for default.\n\nOn Tue, Jul 1, 2014 at 8:37 PM, Junegunn Choi notifications@github.com\nwrote:\n\n> Thanks! I've merged the changes to master with some cleanup. I'll release\n> a new version after some tests in a couple of days. One question, why did\n> you choose services as the default name for the index? I'm totally new to\n> Elasticsearch so I can't tell if it's conventional.\n> \n> \u2014\n> Reply to this email directly or view it on GitHub\n> https://github.com/junegunn/redis-stat/pull/15#issuecomment-47734252.\n. ",
    "ivyang187": "thanks for the quick response. looks like after update now it's complaining about mime type of the js files? get these errors for all the jquery js:\nRefused to execute script from 'jquery-1.8.2.min.js' because its MIME type ('text/html') is not executable, and strict MIME type checking is enabled. \n. mime type is returning back as text/html on ubuntu 12.04 LTS\ncurl -s -D - localhost:63790/jquery-1.8.2.min.js -o /dev/null\nHTTP/1.1 302 Moved Temporarily\nX-Cascade: pass\nX-XSS-Protection: 1; mode=block\nContent-Length: 0\nX-Frame-Options: SAMEORIGIN\nX-Content-Type-Options: nosniff\nLocation: http://localhost:63790/\nContent-Type: text/html;charset=utf-8\nConnection: keep-alive\nServer: thin 1.5.1 codename Straight Razor\n. Very odd indeed. \n\nruby 1.8.7 (2011-06-30 patchlevel 352) [x86_64-linux]\n\n**\\* LOCAL GEMS ***\n\nansi256 (0.2.5)\ndaemons (1.1.9)\nelasticsearch (1.0.4)\nelasticsearch-api (1.0.4)\nelasticsearch-transport (1.0.4)\neventmachine (1.0.3)\nfaraday (0.9.0)\ninsensitive_hash (0.3.3)\njson (1.8.1, 1.7.7)\nlps (0.2.1)\nmulti_json (1.10.1)\nmultipart-post (2.0.0)\noption_initializer (1.5.1)\nparallelize (0.4.1)\nrack (1.5.2)\nrack-protection (1.5.3)\nrdoc (4.1.1)\nredis (3.0.7)\nredis-stat (0.4.3)\nsi (0.1.4)\nsinatra (1.3.6)\ntabularize (0.2.9)\nthin (1.5.1)\ntilt (1.4.1)\nunicode-display_width (0.1.1)\n. @junegunn   hmm. i've tried on 14.04 trusty tahr as well with the same result.\nIm not sure why it's returning a 302 redirect - but doing some more research. Anyone else able to repo?\n\nNo LSB modules are available.\nDistributor ID: Ubuntu\nDescription:    Ubuntu 14.04 LTS\nRelease:        14.04\nCodename:       trusty\n\n> > gem list\n\n**\\* LOCAL GEMS ***\n\nansi256 (0.2.5)\ndaemons (1.1.9)\nelasticsearch (1.0.4)\nelasticsearch-api (1.0.4)\nelasticsearch-transport (1.0.4)\neventmachine (1.0.3)\nfaraday (0.9.0)\ninsensitive_hash (0.3.3)\njson (1.8.1, 1.7.7)\nlps (0.2.1)\nmulti_json (1.10.1)\nmultipart-post (2.0.0)\noption_initializer (1.5.1)\nparallelize (0.4.1)\nrack (1.5.2)\nrack-protection (1.5.3)\nrdoc (4.1.1)\nredis (3.0.7)\nredis-stat (0.4.3)\nsi (0.1.4)\nsinatra (1.3.6)\ntabularize (0.2.9)\nthin (1.5.1)\ntilt (1.4.1)\nunicode-display_width (0.1.1)\n\n> > curl -s -D - localhost:63790/jquery-1.8.2.min.js -o /dev/null\n> > HTTP/1.1 302 Moved Temporarily\n> > Content-Type: text/html;charset=utf-8\n> > X-Cascade: pass\n> > Location: http://localhost:63790/\n> > Content-Length: 0\n> > X-XSS-Protection: 1; mode=block\n> > X-Content-Type-Options: nosniff\n> > X-Frame-Options: SAMEORIGIN\n> > Connection: keep-alive\n> > Server: thin 1.5.1 codename Straight Razor\n. I've updated to 0.4.4 (on the ubuntu 14.04 server)\nSame, problem looks like all the files return text/html mimetype (example css, js)\n\nHere are the results of the curl statements - i do get back json for the second one.\n\ncurl -s -D - localhost:63790 -o /dev/null\nHTTP/1.1 200 OK\nContent-Type: text/html;charset=utf-8\nContent-Length: 53694\nX-XSS-Protection: 1; mode=block\nX-Content-Type-Options: nosniff\nX-Frame-Options: SAMEORIGIN\nConnection: keep-alive\nServer: thin 1.5.1 codename Straight Razor\n\ncurl -s -D - localhost:63790/pull\nHTTP/1.1 200 OK\nContent-Type: text/event-stream;charset=utf-8\nX-Content-Type-Options: nosniff\nConnection: close\nServer: thin 1.5.1 codename Straight Razor\n. Hi Junegunn - i took a step back and uninstalled the gem, uninstalled ruby. Reinstalled ruby 191, reinstalled the latest redis-stat gem 0.4.4. - rebooted, and now it is working again (no more redirect issue). Strange - but thank you for your help on this problem~!\n. In our situation we are not running clusters - but rather stand alone masters (but several of them). \nWould love to have the ability to be able to go to one UI to monitor multiple stand alone redis instances. \n. thanks for the quick response. looks like after update now it's complaining about mime type of the js files? get these errors for all the jquery js:\nRefused to execute script from 'jquery-1.8.2.min.js' because its MIME type ('text/html') is not executable, and strict MIME type checking is enabled. \n. mime type is returning back as text/html on ubuntu 12.04 LTS\ncurl -s -D - localhost:63790/jquery-1.8.2.min.js -o /dev/null\nHTTP/1.1 302 Moved Temporarily\nX-Cascade: pass\nX-XSS-Protection: 1; mode=block\nContent-Length: 0\nX-Frame-Options: SAMEORIGIN\nX-Content-Type-Options: nosniff\nLocation: http://localhost:63790/\nContent-Type: text/html;charset=utf-8\nConnection: keep-alive\nServer: thin 1.5.1 codename Straight Razor\n. Very odd indeed. \n\nruby 1.8.7 (2011-06-30 patchlevel 352) [x86_64-linux]\n\n**\\* LOCAL GEMS ***\n\nansi256 (0.2.5)\ndaemons (1.1.9)\nelasticsearch (1.0.4)\nelasticsearch-api (1.0.4)\nelasticsearch-transport (1.0.4)\neventmachine (1.0.3)\nfaraday (0.9.0)\ninsensitive_hash (0.3.3)\njson (1.8.1, 1.7.7)\nlps (0.2.1)\nmulti_json (1.10.1)\nmultipart-post (2.0.0)\noption_initializer (1.5.1)\nparallelize (0.4.1)\nrack (1.5.2)\nrack-protection (1.5.3)\nrdoc (4.1.1)\nredis (3.0.7)\nredis-stat (0.4.3)\nsi (0.1.4)\nsinatra (1.3.6)\ntabularize (0.2.9)\nthin (1.5.1)\ntilt (1.4.1)\nunicode-display_width (0.1.1)\n. @junegunn   hmm. i've tried on 14.04 trusty tahr as well with the same result.\nIm not sure why it's returning a 302 redirect - but doing some more research. Anyone else able to repo?\n\nNo LSB modules are available.\nDistributor ID: Ubuntu\nDescription:    Ubuntu 14.04 LTS\nRelease:        14.04\nCodename:       trusty\n\n> > gem list\n\n**\\* LOCAL GEMS ***\n\nansi256 (0.2.5)\ndaemons (1.1.9)\nelasticsearch (1.0.4)\nelasticsearch-api (1.0.4)\nelasticsearch-transport (1.0.4)\neventmachine (1.0.3)\nfaraday (0.9.0)\ninsensitive_hash (0.3.3)\njson (1.8.1, 1.7.7)\nlps (0.2.1)\nmulti_json (1.10.1)\nmultipart-post (2.0.0)\noption_initializer (1.5.1)\nparallelize (0.4.1)\nrack (1.5.2)\nrack-protection (1.5.3)\nrdoc (4.1.1)\nredis (3.0.7)\nredis-stat (0.4.3)\nsi (0.1.4)\nsinatra (1.3.6)\ntabularize (0.2.9)\nthin (1.5.1)\ntilt (1.4.1)\nunicode-display_width (0.1.1)\n\n> > curl -s -D - localhost:63790/jquery-1.8.2.min.js -o /dev/null\n> > HTTP/1.1 302 Moved Temporarily\n> > Content-Type: text/html;charset=utf-8\n> > X-Cascade: pass\n> > Location: http://localhost:63790/\n> > Content-Length: 0\n> > X-XSS-Protection: 1; mode=block\n> > X-Content-Type-Options: nosniff\n> > X-Frame-Options: SAMEORIGIN\n> > Connection: keep-alive\n> > Server: thin 1.5.1 codename Straight Razor\n. I've updated to 0.4.4 (on the ubuntu 14.04 server)\nSame, problem looks like all the files return text/html mimetype (example css, js)\n\nHere are the results of the curl statements - i do get back json for the second one.\n\ncurl -s -D - localhost:63790 -o /dev/null\nHTTP/1.1 200 OK\nContent-Type: text/html;charset=utf-8\nContent-Length: 53694\nX-XSS-Protection: 1; mode=block\nX-Content-Type-Options: nosniff\nX-Frame-Options: SAMEORIGIN\nConnection: keep-alive\nServer: thin 1.5.1 codename Straight Razor\n\ncurl -s -D - localhost:63790/pull\nHTTP/1.1 200 OK\nContent-Type: text/event-stream;charset=utf-8\nX-Content-Type-Options: nosniff\nConnection: close\nServer: thin 1.5.1 codename Straight Razor\n. Hi Junegunn - i took a step back and uninstalled the gem, uninstalled ruby. Reinstalled ruby 191, reinstalled the latest redis-stat gem 0.4.4. - rebooted, and now it is working again (no more redirect issue). Strange - but thank you for your help on this problem~!\n. In our situation we are not running clusters - but rather stand alone masters (but several of them). \nWould love to have the ability to be able to go to one UI to monitor multiple stand alone redis instances. \n. ",
    "dmytroDragan": "Hi guys, have the same issue in Chrome Version 36.0.1985.125 and Mozilla 31.0 \non Ubuntu 14.04 x86_64\n\nFrom Chrome console:\nUncaught TypeError: Cannot read property 'at' of undefined site.js:137\nappendToHistory site.js:137\ninitialize site.js:129\n(anonymous function) (index):369\nk jquery-1.8.2.min.js:2\nl.fireWith jquery-1.8.2.min.js:2\np.extend.ready jquery-1.8.2.min.js:2\nD jquery-1.8.2.min.js:2\n\nFrom Firefox:\nTypeError: history[(history.length - 1)] is undefined site.js:137\nUse of getPreventDefault() is deprecated.  Use defaultPrevented instead. jquery-1.8.2.min.js:2\n\ncurl -s -D - localhost:63790/jquery-1.8.2.min.js -o /dev/null\nreturn:\nHTTP/1.1 200 OK\nContent-Type: application/javascript;charset=utf-8\nLast-Modified: Wed, 09 Jul 2014 12:33:19 GMT\nContent-Length: 93436\nX-Content-Type-Options: nosniff\nConnection: keep-alive\nServer: thin 1.5.1 codename Straight Razor\n. Will wait for it. \nThank you for fast reply.\n. Hi guys, have the same issue in Chrome Version 36.0.1985.125 and Mozilla 31.0 \non Ubuntu 14.04 x86_64\n\nFrom Chrome console:\nUncaught TypeError: Cannot read property 'at' of undefined site.js:137\nappendToHistory site.js:137\ninitialize site.js:129\n(anonymous function) (index):369\nk jquery-1.8.2.min.js:2\nl.fireWith jquery-1.8.2.min.js:2\np.extend.ready jquery-1.8.2.min.js:2\nD jquery-1.8.2.min.js:2\n\nFrom Firefox:\nTypeError: history[(history.length - 1)] is undefined site.js:137\nUse of getPreventDefault() is deprecated.  Use defaultPrevented instead. jquery-1.8.2.min.js:2\n\ncurl -s -D - localhost:63790/jquery-1.8.2.min.js -o /dev/null\nreturn:\nHTTP/1.1 200 OK\nContent-Type: application/javascript;charset=utf-8\nLast-Modified: Wed, 09 Jul 2014 12:33:19 GMT\nContent-Length: 93436\nX-Content-Type-Options: nosniff\nConnection: keep-alive\nServer: thin 1.5.1 codename Straight Razor\n. Will wait for it. \nThank you for fast reply.\n. ",
    "iCyLand": "I have found this issue since in Chrome Beta and now Firefox version 31 have occur this issue too\nI think it have something wrong in JavaScript\n\n![cap-000000528](https://cloud.githubusercontent.com/assets/3841898/3697613/f3fa3f8c-13ab-11e4-8e8b-50ee83a77fc9.png)\n\nNow IE can display data correctly \n. I have found this issue since in Chrome Beta and now Firefox version 31 have occur this issue too\nI think it have something wrong in JavaScript\n\n![cap-000000528](https://cloud.githubusercontent.com/assets/3841898/3697613/f3fa3f8c-13ab-11e4-8e8b-50ee83a77fc9.png)\n\nNow IE can display data correctly \n. ",
    "groge": "It works perfectly!\nThanks a lot ^^\n. It works perfectly!\nThanks a lot ^^\n. ",
    "allanwax": "That is a nice idea.  Ad a panel corresponding to to each instance and show the same graphs in that panel for that particular machine.  You'd be able to select the machine you want to watch and also have the summary panel (for all machines) to watch.\n. Here's a very good reference on how to add a few basic stats to the chart using jqPlot.  Probably most useful on the commands per second chart.\n\nhttp://www.meccanismocomplesso.org/en/mean-mode-median-barchart/\n. Does this mean you won't be making changes/fixes to Jedis?\n. The current graphs cover about a minute or so.  That's enough to see where things are going right now so I find that useful.  It would be nice if there were a parameter to set the time length of the charts.  Or additional lines overlaid on the chart with longer periods, like the chart shows the last minute and there's a curve or line that covers trends/samples for the last 15 minutes or some such span of time.  Just an idea.\n\nThere's a second issue I've found.  If the memory graph goes above 1 gigabyte, it does not switch units to gigabytes but just keeps using megabytes.  We have one machine with 20GB of space used.  The issue is that since the charts are currently fixed size, the larger the axis numbers get, the less space there is for the chart itself.  It would be nice if the units switched over to GB to give the chart more space.\n\nAnd apologies for confusion with Jedis.\n. That is a nice idea.  Ad a panel corresponding to to each instance and show the same graphs in that panel for that particular machine.  You'd be able to select the machine you want to watch and also have the summary panel (for all machines) to watch.\n. Here's a very good reference on how to add a few basic stats to the chart using jqPlot.  Probably most useful on the commands per second chart.\n\nhttp://www.meccanismocomplesso.org/en/mean-mode-median-barchart/\n. Does this mean you won't be making changes/fixes to Jedis?\n. The current graphs cover about a minute or so.  That's enough to see where things are going right now so I find that useful.  It would be nice if there were a parameter to set the time length of the charts.  Or additional lines overlaid on the chart with longer periods, like the chart shows the last minute and there's a curve or line that covers trends/samples for the last 15 minutes or some such span of time.  Just an idea.\n\nThere's a second issue I've found.  If the memory graph goes above 1 gigabyte, it does not switch units to gigabytes but just keeps using megabytes.  We have one machine with 20GB of space used.  The issue is that since the charts are currently fixed size, the larger the axis numbers get, the less space there is for the chart itself.  It would be nice if the units switched over to GB to give the chart more space.\n\nAnd apologies for confusion with Jedis.\n. ",
    "amit-handa": "sorry to bother. But is there any plan of supporting cluster config changes in redis-stat ?. sorry to bother. But is there any plan of supporting cluster config changes in redis-stat ?. ",
    "entr": "Adding support for unix socket would be really nice. Please consider it.\n. Adding support for unix socket would be really nice. Please consider it.\n. ",
    "no13bus": "thanks. I understand. I thought redis-stat stored redis-info data by ES before. So redis-stat do not store anything in the any databases? It just send the redis-info data to the font-end by something like websocket?\n. thanks. I understand. I thought redis-stat stored redis-info data by ES before. So redis-stat do not store anything in the any databases? It just send the redis-info data to the font-end by something like websocket?\n. ",
    "flyerhzm": "thanks for quick response\n. thanks for quick response\n. ",
    "azhong": "Thank you\uff01I did really forgot install redis-stat\u3002\nnow when I gem list | grep reids-stat\uff0cnothing happend\uff0cit's blank. why\uff1f\n. add\uff1a\ngem -v \uff1a 2.0.14\nruby -v\uff1a2.0.0p598\nOS:   centos 7\n. ![1](https://cloud.githubusercontent.com/assets/1209589/7173635/60293152-e42d-11e4-9873-026c22904a2f.jpg)\n. nothing happened,like gem list  | grep redis-stat.\n. yes,no message at all.I think gem can not find package of redis-stat. \n. Thank you\uff01I did really forgot install redis-stat\u3002\nnow when I gem list | grep reids-stat\uff0cnothing happend\uff0cit's blank. why\uff1f\n. add\uff1a\ngem -v \uff1a 2.0.14\nruby -v\uff1a2.0.0p598\nOS:   centos 7\n. ![1](https://cloud.githubusercontent.com/assets/1209589/7173635/60293152-e42d-11e4-9873-026c22904a2f.jpg)\n. nothing happened,like gem list  | grep redis-stat.\n. yes,no message at all.I think gem can not find package of redis-stat. \n. ",
    "infinitesupermagic": "sorry, guess it was too low to actually show. it popped up when we started slamming it heavily. \n. sorry, guess it was too low to actually show. it popped up when we started slamming it heavily. \n. ",
    "erichs": "Of those options, an ENV var gets my vote!\n. Of those options, an ENV var gets my vote!\n. ",
    "prh7": "my problem is redis-stat is not doing the job as it is supposed to do. When I try running this command it doesn't work at all whereby throwing this error. Could you please help me out with it?\n. Again the same error on windows by doing way preferred by you.\n. It worked with executable jar and ruby gem is having problem on windows. Thanks mate for the help!!! \n. my problem is redis-stat is not doing the job as it is supposed to do. When I try running this command it doesn't work at all whereby throwing this error. Could you please help me out with it?\n. Again the same error on windows by doing way preferred by you.\n. It worked with executable jar and ruby gem is having problem on windows. Thanks mate for the help!!! \n. ",
    "spuder": "Thanks for letting me know. Can I ask what you are using instead? \n. Thanks for letting me know. Can I ask what you are using instead? \n. ",
    "arnabbiswas66": "Thanks a lot Junegunn!\n\nThanks.\nArnab\nOn 9 Jan 2016 09:20, \"Junegunn Choi\" notifications@github.com wrote:\n\n> Will look into it when I get some time, thanks.\n> \n> \u2014\n> Reply to this email directly or view it on GitHub\n> https://github.com/junegunn/redis-stat/issues/47#issuecomment-170189190.\n. Thanks a lot Junegunn!\n\nThanks.\nArnab\nOn 9 Jan 2016 09:20, \"Junegunn Choi\" notifications@github.com wrote:\n\n> Will look into it when I get some time, thanks.\n> \n> \u2014\n> Reply to this email directly or view it on GitHub\n> https://github.com/junegunn/redis-stat/issues/47#issuecomment-170189190.\n. ",
    "debbiswal": "Hi,\nI have ruby 1.8.7 version.\nWhen I gave daemon with server option .. its not working.\nI am new to ruby language. When I saw the code I did not find any code which used 'daemon'  gem.\nCould you please explain which part of the code makes the application daemon?\n\nI am not finding any code which says 'Daemons.daemonize(...)'\n. Hi,\nI have ruby 1.8.7 version.\nWhen I gave daemon with server option .. its not working.\nI am new to ruby language. When I saw the code I did not find any code which used 'daemon'  gem.\nCould you please explain which part of the code makes the application daemon?\n\nI am not finding any code which says 'Daemons.daemonize(...)'\n. ",
    "jimmyss04": "Hi,\n\nIt works with Ruby 1.8.7, but you will have to remove daemon 1.2.3, see below:\n # redis-stat \n/usr/lib/ruby/site_ruby/1.8/rubygems.rb:233:in `activate': can't activate daemons (~> 1.1.9, runtime) for [\"redis-stat-0.4.13\"], already activated daemons-1.2.3 for [\"thin-1.5.1\", \"redis-stat-0.4.13\"] (Gem::LoadError)\n    from /usr/lib/ruby/site_ruby/1.8/rubygems.rb:249:in`activate'\n    from /usr/lib/ruby/site_ruby/1.8/rubygems.rb:248:in `each'\n    from /usr/lib/ruby/site_ruby/1.8/rubygems.rb:248:in`activate'\n    from /usr/lib/ruby/site_ruby/1.8/rubygems.rb:1082:in `gem'\n    from /usr/bin/redis-stat:18\n\n # gem list|grep daemon\ndaemons (1.2.3, 1.1.9)\n\n # gem uninstall daemons --version 1.2.3\nSuccessfully uninstalled daemons-1.2.3\n # redis-stat \nFaraday: you may want to install system_timer for reliable timeouts\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                        \u2502 127.0.0.1:6379 \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502          redis_version \u2502         2.6.17 \u2502\n\u2502             redis_mode \u2502     standalone \u2502\n\u2502             process_id \u2502           2328 \u2502\n\u2502      uptime_in_seconds \u2502           1848 \u2502\n\u2502         uptime_in_days \u2502              0 \u2502\n\u2502                   role \u2502         master \u2502\n\u2502       connected_slaves \u2502              0 \u2502\n\u2502            aof_enabled \u2502              0 \u2502\n\u2502 rdb_bgsave_in_progress \u2502              0 \u2502\n\u2502     rdb_last_save_time \u2502     1467106878 \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u252c\u2500\u2500\u252c\u2500\u2500\u252c\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2510\n     time us sy cl bcl   mem    rss keys cmd/s exp/s evt/s hit%/s hit/s mis/s aofcs \n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u253c\u2500\u2500\u253c\u2500\u2500\u253c\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2524\n 03:12:06  -  -  1   0 837kB 1.59MB    0     -     -     -      -     -     -    0B \n 03:12:08  0  0  1   0 837kB 1.59MB    0  0.50     0     0      -     0     0    0B \n 03:12:10  0  0  1   0 837kB 1.60MB    0  0.50     0     0      -     0     0    0B \n\nHope this helps :)\n. Hi,\n\nIt works with Ruby 1.8.7, but you will have to remove daemon 1.2.3, see below:\n # redis-stat \n/usr/lib/ruby/site_ruby/1.8/rubygems.rb:233:in `activate': can't activate daemons (~> 1.1.9, runtime) for [\"redis-stat-0.4.13\"], already activated daemons-1.2.3 for [\"thin-1.5.1\", \"redis-stat-0.4.13\"] (Gem::LoadError)\n    from /usr/lib/ruby/site_ruby/1.8/rubygems.rb:249:in`activate'\n    from /usr/lib/ruby/site_ruby/1.8/rubygems.rb:248:in `each'\n    from /usr/lib/ruby/site_ruby/1.8/rubygems.rb:248:in`activate'\n    from /usr/lib/ruby/site_ruby/1.8/rubygems.rb:1082:in `gem'\n    from /usr/bin/redis-stat:18\n\n # gem list|grep daemon\ndaemons (1.2.3, 1.1.9)\n\n # gem uninstall daemons --version 1.2.3\nSuccessfully uninstalled daemons-1.2.3\n # redis-stat \nFaraday: you may want to install system_timer for reliable timeouts\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                        \u2502 127.0.0.1:6379 \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502          redis_version \u2502         2.6.17 \u2502\n\u2502             redis_mode \u2502     standalone \u2502\n\u2502             process_id \u2502           2328 \u2502\n\u2502      uptime_in_seconds \u2502           1848 \u2502\n\u2502         uptime_in_days \u2502              0 \u2502\n\u2502                   role \u2502         master \u2502\n\u2502       connected_slaves \u2502              0 \u2502\n\u2502            aof_enabled \u2502              0 \u2502\n\u2502 rdb_bgsave_in_progress \u2502              0 \u2502\n\u2502     rdb_last_save_time \u2502     1467106878 \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u252c\u2500\u2500\u252c\u2500\u2500\u252c\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2510\n     time us sy cl bcl   mem    rss keys cmd/s exp/s evt/s hit%/s hit/s mis/s aofcs \n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u253c\u2500\u2500\u253c\u2500\u2500\u253c\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2524\n 03:12:06  -  -  1   0 837kB 1.59MB    0     -     -     -      -     -     -    0B \n 03:12:08  0  0  1   0 837kB 1.59MB    0  0.50     0     0      -     0     0    0B \n 03:12:10  0  0  1   0 837kB 1.60MB    0  0.50     0     0      -     0     0    0B \n\nHope this helps :)\n. ",
    "rm-hull": "Ok\n. Ok\n. ",
    "skyred": "@rm-hull 's Dockerfile is really small but it throw erros that json gem couldn't be loaded. So, I went ahead to create https://hub.docker.com/r/insready/redis-stat/ @junegunn . @rm-hull 's Dockerfile is really small but it throw erros that json gem couldn't be loaded. So, I went ahead to create https://hub.docker.com/r/insready/redis-stat/ @junegunn . ",
    "svanburen": "No worries, I'm a big fan of your work. Cheers!\n. No worries, I'm a big fan of your work. Cheers!\n. ",
    "vishalsharma13": "Facing same issue while installing redis-stat on linux machine. Your support is required to resolve the issue.\n\nRequired Details :-\n\nOs :- Linux\nRH version :- Red Hat Enterprise Linux Server release 7.2\ngem version -- 2.0.3\nruby version -- ruby 2.0.0p598 (2014-11-13) [x86_64-linux]\n\nError :- \n\ngem install redis-stat\nBuilding native extensions.  This could take a while...\nERROR:  Error installing redis-stat:\n        ERROR: Failed to build gem native extension.\n\n```\n/usr/bin/ruby extconf.rb\n```\n\nmkmf.rb can't find header files for ruby at /usr/share/include/ruby.h\n\nCommand to install redis-stat :- gem install redis-stat\n\nIn alternate solution, is it possible to monitor the redis on web ui by running jar file.\n. @junegunn  \nHi,\n\nFacing same issue \n\nyum -y install gcc ruby-devel\nLoaded plugins: product-id, search-disabled-repos, subscription-manager\nThis system is not registered to Red Hat Subscription Management. You can use subscription-manager to register.\nepel/x86_64/metalink                                                                                                                             | 4.4 kB  00:00:00\nlocal                                                                                                                                            | 2.9 kB  00:00:00\nPackage gcc-4.8.5-4.el7.x86_64 already installed and latest version\nNo package ruby-devel available.\nNothing to do\n\ngem install redis-stat\nBuilding native extensions.  This could take a while...\nERROR:  Error installing redis-stat:\n        ERROR: Failed to build gem native extension.\n\n```\n/usr/bin/ruby extconf.rb\n```\n\nmkmf.rb can't find header files for ruby at /usr/share/include/ruby.h\n\nGem files will remain installed in /usr/local/share/gems/gems/json-1.8.3 for inspection.\nResults logged to /usr/local/share/gems/gems/json-1.8.3/ext/json/ext/generator/gem_make.out\n\nAlso please elaborate how to show the UI of Redis-stat in browser after running redis-stat jar. Currently i am unable beacause it use TCP protocol instead of HTTP protocol.\n\nThanks in Advance.\n. Facing same issue while installing redis-stat on linux machine. Your support is required to resolve the issue.\n\nRequired Details :-\n\nOs :- Linux\nRH version :- Red Hat Enterprise Linux Server release 7.2\ngem version -- 2.0.3\nruby version -- ruby 2.0.0p598 (2014-11-13) [x86_64-linux]\n\nError :- \n\ngem install redis-stat\nBuilding native extensions.  This could take a while...\nERROR:  Error installing redis-stat:\n        ERROR: Failed to build gem native extension.\n\n```\n/usr/bin/ruby extconf.rb\n```\n\nmkmf.rb can't find header files for ruby at /usr/share/include/ruby.h\n\nCommand to install redis-stat :- gem install redis-stat\n\nIn alternate solution, is it possible to monitor the redis on web ui by running jar file.\n. @junegunn  \nHi,\n\nFacing same issue \n\nyum -y install gcc ruby-devel\nLoaded plugins: product-id, search-disabled-repos, subscription-manager\nThis system is not registered to Red Hat Subscription Management. You can use subscription-manager to register.\nepel/x86_64/metalink                                                                                                                             | 4.4 kB  00:00:00\nlocal                                                                                                                                            | 2.9 kB  00:00:00\nPackage gcc-4.8.5-4.el7.x86_64 already installed and latest version\nNo package ruby-devel available.\nNothing to do\n\ngem install redis-stat\nBuilding native extensions.  This could take a while...\nERROR:  Error installing redis-stat:\n        ERROR: Failed to build gem native extension.\n\n```\n/usr/bin/ruby extconf.rb\n```\n\nmkmf.rb can't find header files for ruby at /usr/share/include/ruby.h\n\nGem files will remain installed in /usr/local/share/gems/gems/json-1.8.3 for inspection.\nResults logged to /usr/local/share/gems/gems/json-1.8.3/ext/json/ext/generator/gem_make.out\n\nAlso please elaborate how to show the UI of Redis-stat in browser after running redis-stat jar. Currently i am unable beacause it use TCP protocol instead of HTTP protocol.\n\nThanks in Advance.\n. ",
    "mmattel": "@junegunn \r\nI found the root cause and after changing it, it worked for both, direct web access and for proxying (valid for any webserver)!\r\n\r\nIn file: redis-stat/lib/redis-stat/server/views/index.erb\r\n\r\n**old: path is web root-relative**\r\n```\r\n...\r\n    <title>redis-stat</title>\r\n    <link href=\"/bootstrap/css/bootstrap.min.css\" rel=\"stylesheet\"/>\r\n    <link href=\"/jqplot/jquery.jqplot.min.css\" rel=\"stylesheet\"/>\r\n    <link href=\"/select2/select2.css\" rel=\"stylesheet\"/>\r\n    <link href=\"/select2/select2-bootstrap.css\" rel=\"stylesheet\"/>\r\n    <link href=\"/css/site.css\" rel=\"stylesheet\"/>\r\n    <script type=\"text/javascript\" src=\"/jquery-1.8.2.min.js\"></script>\r\n    <script type=\"text/javascript\" src=\"/jqplot/jquery.jqplot.min.js\"></script>\r\n    <script type=\"text/javascript\" src=\"/jqplot/jqplot.canvasTextRenderer.min.js\"></script>\r\n    <script type=\"text/javascript\" src=\"/jqplot/jqplot.canvasAxisLabelRenderer.min.js\"></script>\r\n    <script type=\"text/javascript\" src=\"/jqplot/jqplot.canvasAxisTickRenderer.min.js\"></script>\r\n    <script type=\"text/javascript\" src=\"/select2/select2.min.js\"></script>\r\n    <script type=\"text/javascript\" src=\"/bootstrap/js/bootstrap.min.js\"></script>\r\n    <script type=\"text/javascript\" src=\"/js/site.js\"></script>\r\n...\r\n        // TODO Check (typeof(EventSource) !== \"undefined\")\r\n\r\n        var source = new EventSource(\"/pull\")\r\n\r\n```\r\n\r\n**new: pls see the dot before the slash making the path web root-relative independent**\r\n```\r\n...\r\n    <title>redis-stat</title>\r\n    <link href=\"./bootstrap/css/bootstrap.min.css\" rel=\"stylesheet\"/>\r\n    <link href=\"./jqplot/jquery.jqplot.min.css\" rel=\"stylesheet\"/>\r\n    <link href=\"./select2/select2.css\" rel=\"stylesheet\"/>\r\n    <link href=\"./select2/select2-bootstrap.css\" rel=\"stylesheet\"/>\r\n    <link href=\"./css/site.css\" rel=\"stylesheet\"/>\r\n    <script type=\"text/javascript\" src=\"./jquery-1.8.2.min.js\"></script>\r\n    <script type=\"text/javascript\" src=\"./jqplot/jquery.jqplot.min.js\"></script>\r\n    <script type=\"text/javascript\" src=\"./jqplot/jqplot.canvasTextRenderer.min.js\"></script>\r\n    <script type=\"text/javascript\" src=\"./jqplot/jqplot.canvasAxisLabelRenderer.min.js\"></script>\r\n    <script type=\"text/javascript\" src=\"./jqplot/jqplot.canvasAxisTickRenderer.min.js\"></script>\r\n    <script type=\"text/javascript\" src=\"./select2/select2.min.js\"></script>\r\n    <script type=\"text/javascript\" src=\"./bootstrap/js/bootstrap.min.js\"></script>\r\n    <script type=\"text/javascript\" src=\"./js/site.js\"></script>\r\n...\r\n        // TODO Check (typeof(EventSource) !== \"undefined\")\r\n\r\n        var source = new EventSource(\"./pull\")\r\n\r\n```\r\n**Difference:**\r\n1. Web root-relative: *my-domain-webroot-path/redis-stuff*\r\n2. Web root-relative independent: *redis-stuff*\r\n\r\nProxying 1 can not work while 2 does.\r\n\r\nWould be great if you could incooperate and merge it.\r\n\r\nBTW:\r\nI have a sample config for nginx to proxy it,\r\nand a script example for Ubuntu to create a standard start/stop environment inclunding upstart.\r\nIf interested - where to put it to? (I could add these to this issue and you could take it and merge it in your readme). > Thanks for looking into it. Yeah, a script for setting up a testing environment would be nice.\r\n\r\n#58. **ad 1**\r\nyes, you are right, just remove ``/``\r\nhttp://webmasters.stackexchange.com/questions/56573/relative-link-to-a-subfolder\r\n```\r\nThe part ./ is removed from the start of a URL as part of URL resolution as defined in STD 66. \r\nThis has nothing to do with folders or files; it is just string manipulation dictated by generic \r\nURL specifications. Thus, for example, the URLs picture1.jpg and ./picture1.jpg have identical \r\nmeaning: they resolve to the same absolute URL.\r\n```\r\n**ad 2**\r\nhttp://stackoverflow.com/questions/9221872/link-practice-without-in-the-beginning-of-href\r\n\r\n``<a class=\"brand\" href=\"/\">redis-stat</a>`` -> ``<a class=\"brand\" href=\"./\">redis-stat</a>``\r\n```\r\nIt is not good practise to use subpage-1 urls exactly because of redirections you might \r\nimplement later on. If you insist on working in a folder, you can use ./subpage-1 and \r\n./ for the home link.\r\n```\r\nI have tested it and it works. When you proxy to access redis-stat from a subfolder, the href link resolved must be the complete url like ``domain/redis-status``. \r\nWithout ``./`` you end up in ``domain`` (without redis-status subfolder in the URI) which is a different location.. Done. When you close this, it will be hard to find (same for #58).\r\nMind to either put that to the readme.md or create a wiki with a reference from the readme.md?. @junegunn \r\nI found the root cause and after changing it, it worked for both, direct web access and for proxying (valid for any webserver)!\r\n\r\nIn file: redis-stat/lib/redis-stat/server/views/index.erb\r\n\r\n**old: path is web root-relative**\r\n```\r\n...\r\n    <title>redis-stat</title>\r\n    <link href=\"/bootstrap/css/bootstrap.min.css\" rel=\"stylesheet\"/>\r\n    <link href=\"/jqplot/jquery.jqplot.min.css\" rel=\"stylesheet\"/>\r\n    <link href=\"/select2/select2.css\" rel=\"stylesheet\"/>\r\n    <link href=\"/select2/select2-bootstrap.css\" rel=\"stylesheet\"/>\r\n    <link href=\"/css/site.css\" rel=\"stylesheet\"/>\r\n    <script type=\"text/javascript\" src=\"/jquery-1.8.2.min.js\"></script>\r\n    <script type=\"text/javascript\" src=\"/jqplot/jquery.jqplot.min.js\"></script>\r\n    <script type=\"text/javascript\" src=\"/jqplot/jqplot.canvasTextRenderer.min.js\"></script>\r\n    <script type=\"text/javascript\" src=\"/jqplot/jqplot.canvasAxisLabelRenderer.min.js\"></script>\r\n    <script type=\"text/javascript\" src=\"/jqplot/jqplot.canvasAxisTickRenderer.min.js\"></script>\r\n    <script type=\"text/javascript\" src=\"/select2/select2.min.js\"></script>\r\n    <script type=\"text/javascript\" src=\"/bootstrap/js/bootstrap.min.js\"></script>\r\n    <script type=\"text/javascript\" src=\"/js/site.js\"></script>\r\n...\r\n        // TODO Check (typeof(EventSource) !== \"undefined\")\r\n\r\n        var source = new EventSource(\"/pull\")\r\n\r\n```\r\n\r\n**new: pls see the dot before the slash making the path web root-relative independent**\r\n```\r\n...\r\n    <title>redis-stat</title>\r\n    <link href=\"./bootstrap/css/bootstrap.min.css\" rel=\"stylesheet\"/>\r\n    <link href=\"./jqplot/jquery.jqplot.min.css\" rel=\"stylesheet\"/>\r\n    <link href=\"./select2/select2.css\" rel=\"stylesheet\"/>\r\n    <link href=\"./select2/select2-bootstrap.css\" rel=\"stylesheet\"/>\r\n    <link href=\"./css/site.css\" rel=\"stylesheet\"/>\r\n    <script type=\"text/javascript\" src=\"./jquery-1.8.2.min.js\"></script>\r\n    <script type=\"text/javascript\" src=\"./jqplot/jquery.jqplot.min.js\"></script>\r\n    <script type=\"text/javascript\" src=\"./jqplot/jqplot.canvasTextRenderer.min.js\"></script>\r\n    <script type=\"text/javascript\" src=\"./jqplot/jqplot.canvasAxisLabelRenderer.min.js\"></script>\r\n    <script type=\"text/javascript\" src=\"./jqplot/jqplot.canvasAxisTickRenderer.min.js\"></script>\r\n    <script type=\"text/javascript\" src=\"./select2/select2.min.js\"></script>\r\n    <script type=\"text/javascript\" src=\"./bootstrap/js/bootstrap.min.js\"></script>\r\n    <script type=\"text/javascript\" src=\"./js/site.js\"></script>\r\n...\r\n        // TODO Check (typeof(EventSource) !== \"undefined\")\r\n\r\n        var source = new EventSource(\"./pull\")\r\n\r\n```\r\n**Difference:**\r\n1. Web root-relative: *my-domain-webroot-path/redis-stuff*\r\n2. Web root-relative independent: *redis-stuff*\r\n\r\nProxying 1 can not work while 2 does.\r\n\r\nWould be great if you could incooperate and merge it.\r\n\r\nBTW:\r\nI have a sample config for nginx to proxy it,\r\nand a script example for Ubuntu to create a standard start/stop environment inclunding upstart.\r\nIf interested - where to put it to? (I could add these to this issue and you could take it and merge it in your readme). > Thanks for looking into it. Yeah, a script for setting up a testing environment would be nice.\r\n\r\n#58. **ad 1**\r\nyes, you are right, just remove ``/``\r\nhttp://webmasters.stackexchange.com/questions/56573/relative-link-to-a-subfolder\r\n```\r\nThe part ./ is removed from the start of a URL as part of URL resolution as defined in STD 66. \r\nThis has nothing to do with folders or files; it is just string manipulation dictated by generic \r\nURL specifications. Thus, for example, the URLs picture1.jpg and ./picture1.jpg have identical \r\nmeaning: they resolve to the same absolute URL.\r\n```\r\n**ad 2**\r\nhttp://stackoverflow.com/questions/9221872/link-practice-without-in-the-beginning-of-href\r\n\r\n``<a class=\"brand\" href=\"/\">redis-stat</a>`` -> ``<a class=\"brand\" href=\"./\">redis-stat</a>``\r\n```\r\nIt is not good practise to use subpage-1 urls exactly because of redirections you might \r\nimplement later on. If you insist on working in a folder, you can use ./subpage-1 and \r\n./ for the home link.\r\n```\r\nI have tested it and it works. When you proxy to access redis-stat from a subfolder, the href link resolved must be the complete url like ``domain/redis-status``. \r\nWithout ``./`` you end up in ``domain`` (without redis-status subfolder in the URI) which is a different location.. Done. When you close this, it will be hard to find (same for #58).\r\nMind to either put that to the readme.md or create a wiki with a reference from the readme.md?. ",
    "anothermh": "\u5b89\u88c5\u5b9d\u77f3\uff1a`gem install redis-stat`\r\n\r\n\u8fd9\u4e2a\u5b9d\u77f3\u6ca1\u6709\u7f16\u8bd1\u3002 \u5982\u679c\u60a8\u9700\u8981\u4e00\u4e2a\u6587\u4ef6\uff0c\u8bf7\u4e0b\u8f7d\uff1a\r\n\r\nhttps://github.com/junegunn/redis-stat/archive/master.zip\r\n\r\n\u9605\u8bfb\u66f4\u591a\u4fe1\u606f\uff1a\r\n\r\nhttp://guides.rubygems.org/rubygems-basics/#fetching-and-unpacking-gems. \u5b89\u88c5\u5b9d\u77f3\uff1a`gem install redis-stat`\r\n\r\n\u8fd9\u4e2a\u5b9d\u77f3\u6ca1\u6709\u7f16\u8bd1\u3002 \u5982\u679c\u60a8\u9700\u8981\u4e00\u4e2a\u6587\u4ef6\uff0c\u8bf7\u4e0b\u8f7d\uff1a\r\n\r\nhttps://github.com/junegunn/redis-stat/archive/master.zip\r\n\r\n\u9605\u8bfb\u66f4\u591a\u4fe1\u606f\uff1a\r\n\r\nhttp://guides.rubygems.org/rubygems-basics/#fetching-and-unpacking-gems. ",
    "heera-jaiswal": "Thanks. It worked ! \ud83d\udc4d . Thanks. It worked ! \ud83d\udc4d . ",
    "maoxianfei": "\u7aef\u53e3\u95ee\u9898\uff0c\u5df2\u89e3\u51b3. \u7aef\u53e3\u95ee\u9898\uff0c\u5df2\u89e3\u51b3. "
}