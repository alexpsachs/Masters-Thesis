{
    "dchelimsky": "Merged: 12b172d640000b1f973f63f2ce8fd8a073f8f252\n. I merged these both in with no trouble:\n\n15a26285a1f9e8fdbbc17590ece425af02d2e112\nce44809469642ac3a8c3f975cb247fc983f8eb2e\n\nI'm not sure why I had trouble just reverting the change myself, but here we are.\n\nI'll do a 1.3.2 release in the next week or two. I want to give it a little time to see if any other bugs come up.\n. Merged: f856742eaa6905b506dfb50d248427c57ecebd36\n. The expected behaviour is that when you stub or mock a method on a real object (we call this partial stubbing/mocking), the framework takes over that method for the duration of the example. So the expectation that when the wrong args are received the call is delegated to the original object is incorrect, and making this change would introduce potential problems for other users who count on this behaviour.\n\nWhat you can do is pass a block to the stub and have a conditional in it:\n\n<pre>\n@widget = Widget.new.stub(:id => 37)\nWidget.stub(:find_by_id) do |id|\n  return @widget.new if id.to_s == \"37\"\nend\n</pre>\n\n\nThere is a request to add an explicit way to call to the original in rspec-mocks-2's issue tracker: http://github.com/rspec/rspec-mocks/issues#issue/23.\n\nHTH,\nDavid\n. Merged: c92d52b\n. Not everyone uses rubygems as their package manager, so we don't have \"require 'rubygems'\" in rspec's code.\n\nFor more background, read https://gist.github.com/54177 and google for \"require rubygems rspec\"\n. I'd consider it. What do you have in mind?\n. I like it. I reopened this and will merge it before the next release.\n\nWanna submit the same to http://github.com/rspec/rspec-core/issues?\n. @aeden - which versions of the different rspec gems are you using?\n. @aeden - is rspec configured in your Gemfile when you run `bundle exec autotest`?\n. OK - I've verified that this is happening with jruby and autotest-4.4.5 or 4.4.6, but I don't know why yet.\n\nI am able to get things to work correctly with autotest-4.4.5 and MRI, but 4.4.6 breaks compatibility with RSpec (don't know why about that yet either).\n. ZenTest-4.4.1 pulls autotest back into ZenTest, and autotest-4.4.6 is apparently a \"symbolic gem\" that doesn't actually do anything.\n\nIn a fresh gemset with only ZenTest installed and a single test class using minitest, autotest works fine in MRI 1.9.2, but fails in JRuby. Haven't pinned down why, but if anybody paying attention to this ticket wants to take up the cause and file a ticket w/ the ZenTest project, that's what needs to happen next.\n. This was closed with https://github.com/rspec/rspec-core/issues/211\n. This is the tracker for rspec-1. Please file rspec-2 issues at https://github.com/rspec/rspec-core/issues.\n\nThat said, this is as designed. It's a change to rspec-2 that makes shared groups far more powerful than in rspec-1, but obviously changes the behavior. Please see http://relishapp.com/rspec/rspec-core/v/2-0/dir/example-groups/shared-example-group and https://github.com/rspec/rspec-core/blob/master/Upgrade.markdown for more information\n. This has already been fixed in rspec-rails: https://github.com/rspec/rspec-rails/commit/2233e5af1bbc80dbf74aea5368599336ea9bb17d. Will be included in the rspec-rails-2.1 release.\n\nAlso, this repo is for rspec-1 only. RSpec 2 repos are at http://github.com/rspec.\n\nCheers,\nDavid\n. No worries - it's a bit confusing because there's nothing on the issue tracker pages that allows me to post information like this.\n. RSpec::Core::ExampleGroup is not an API and is subject to change in future releases. If you want to extend groups, the recommended approach is to use the RSpec.configure API to include modules in groups.\n\nAlso - this is the tracker for rspec-1. This issue belongs in the tracker for rspec-core-2: http://github.com/rspec/rspec-core/issues.\n. If you want to continue to discuss, btw, please open a new issue in http://github.com/rspec/rspec-core/issues. Thx.\n. This has been fixed in Ruby: http://redmine.ruby-lang.org/issues/show/4400\n. Clicking on the link to the report gets me a 404. What was the issue?\n. This has been fixed in Ruby: http://redmine.ruby-lang.org/issues/show/4400\n. Closed by c723627e245e80b552e4c9e1e47d32bc7751ee13\n. Closing this as it is due to downstream dependencies that rspec has no control over.\n\nThe simplest workaround is to use an rvm gemset per app, and make sure that only the 1.x versions of rspec are in the gemsets for rails-2 apps.\n. Do you want to submit a proper patch?\n. Closed by c723627e245e80b552e4c9e1e47d32bc7751ee13\n. Closed by c723627e245e80b552e4c9e1e47d32bc7751ee13\n. On Mar 10, 2011, at 5:27 AM, MadRabbit wrote:\n\n> Hi folks,\n> \n> I'm trying to use some shared module with RSpec custom matchers. Kinda like that\n> \n>    module MyHelper\n>      def some_method(stuff)\n>        # some stuff in here\n>      end\n>    end\n> \n>    RSpec::Matchers.define :my_matcher do |expected|\n>      include MyHelper\n> \n> ```\n>  match do |actual|\n>    actual.something == some_method(expected)\n>  end\n> \n>  # .....\n> ```\n> \n>    end\n> \n> And it doesn't quite work for me. It says that there is no method with name `'some_method'`. Am I doing something wrong or the thing is just not supported?\n\nNot supported. You _can_ get it to work by using extend instead of include:\n\n  RSpec::Matchers.define :my_matcher do |expected|\n    extend MyModule\n  ...\n\nbut that just happens to work given the current implementation. I can't imagine a change that would break this in the future, but I make no guarantees.\n\nCheers,\nDavid\n. Reopening as feature request.\n. Oh - just realized this is the wrong tracker. Would you please file a feature request in http://github.com/rspec/rspec-core? Thx.\n. This has been fixed in rspec-2 - are you using rspec-1 or 2?\n. This tracker is for rspec-1\n\nThe issue has been fixed in rspec-2 and will be part of the next release: https://github.com/rspec/rspec-core/issues/257.\n. rspec-1 means any version of rspec that starts with a 1: 1.0.0, 1.3.2, etc. rspec-2 is any version that starts with a 2: 2.5.1.\n. As I said above - it has been fixed in rspec-2 and will be part of the _next_ release: rspec-2.6.0. It is still broken in rspec-2.5.1. Make sense?\n. What rspec version?\n. This is a dup of https://github.com/rspec/rspec-core/issues/317, which has been addressed in rspec-core-2.6.0.rc4. You can either upgrade to the rc now or wait for the 2.6.0 release (within a week) if you want to fix this locally.\n. What version?\n. Also, can you post the full example so I can run it and see?\n. Cool. Thanks for tracking that down.\n. This is not going to be fixed in rspec-rails-1.x as it would require some re-architecting.\n\nSee https://github.com/rspec/rspec-rails/issues/391 for info on same issue in rspec-rails-2.\n. The block passed to `match` should return a boolean, so change `json['errors'].should include(expected)` to `json['errors'].include?(expected)`.\n\nYou _can_ delegate to most other matchers, but a) the `include` matcher is a special case because it's a Ruby keyword, and b) you should only do it when the other matcher does more than delegate to a single predicate.\n. It might be possible but I don't find it very readable. I'm going to close the issue but I'm happy to discuss alternatives with you here. I'll start:\n\nWhy not just say this?\n\n``` ruby\nit \"contains elements > 0\" do\n  list.each {|x| x.should be > 0}\nend\n```\n. I'm not adding any new features to rspec-1. Please report issues like this to the rspec-2 tracker: https://github.com/rspec/rspec-core/issues.\n\nBefore you report this one there, however, know that it will probably be rejected. I'm planning to extract `its` to a separate gem in rspec-3 and I'm not adding any new functionality to it now. If you want to get a discussion going about it, though, feel free to report it to the rspec-2 tracker listed above and we can get input from a wider group.\n. You can do it, but the syntax is different from what you're expecting:\n\n```\nrails g rspec:view admin/meals index\n```\n\nThe reason is there is no view generator in rails, so the view spec generator is designed to work with the rails scaffold generator, which passes the names of the actions to the view spec generator.\n. I added an issue for that: https://github.com/rspec/rspec-rails/issues/409 (https://github.com/rspec/rspec-rails/issues is the tracker for rspec-rails-2), and have already fixed it. Thx for pointing it out.\n. @epipheus - this tracker is for rspec-1, and what you're describing would be in rspec-core-2. Please use http://github.com/rspec/rspec-core/issues for rspec-core-2 issues going forward.\n\nThat said, this issue would only be a problem if run was returning `true` or `false`, but it delegates to the `run` method of either a `CommandLine` object or a `DrbCommandLineObject`, both of which return 0 or 1.\n\nI did find one spec in rspec-core's own suite that was stubbing `true` as a return value, but I've [updated that to return 1](https://github.com/rspec/rspec-core/commit/728814b0cb748bccbebb134f039eb6b9e1e0e59f) so it shouldn't be an issue running rspec's own specs.\n\nHow did you come across this error?\n. No worries re: the tracker - it's a confusing world and I don't have a way to put a big notice at the top of this tracker saying \"if you're looking for rspec-2, go [here](http://github.com/rspec/rspec-core/issues).\n\nYou wouldn't have had the issue w/ 2.4 because it didn't have the `to_i` yet.\n. Could be a spork issue. Try using 0.9.0.rc9.\n. @cosmolee look at my first comment above.\n. Try searching for \"to_i\"\n. Please submit this to http://github.com/rspec/rspec-mocks/issues.\n. thx\n. Please report this to http://github.com/rspec/rspec-core/issues\n. Would you do me a favor and post this to https://github.com/rspec/rspec-mocks/issues ? That's where it belongs. This tracker is for rspec-1.\n. Expected. The reason is that `NotesFile.created_last` returns a _new object_ that has all the same properties as the object created by `Factory(:notes_file, :created_at=> 13.days.ago)`, but it is not the _same object_.\n\nRails-3.1 introduced an identity-map feature that solves this problem, but it is off by default - see Rails docs for info on other implications and how to turn it on.\n. @matthauck two options: use the identity map anyway or stub new/finders:\n\n``` ruby\nnotes_file = Factory.build(:notes_file)\nNotesFile.stub(:find => notes_file)\n# etc\n```\n\nThis is an admittedly invasive and brittle approach, but given the lack of identity map and the desire to stub found objects, it's what many of us do. It's all tradeoffs :)\n. Sorry, but right now I don't know of any workaround right now. I haven't done any work with engines myself. Anybody else?\n. That looks like it's coming from ruby-debug-base19-0.11.25. Do you get the same error if you remove ruby-debug19 and it's dependencies from your Gemfile?\n. Oh - just realized this is the wrong tracker. Please report this to http://github.com/rspec/rspec-core/issues and continue the conversation there.\n. BTW - I just poked around and this is a known issue with ruby-debug19 (actually linecache19). Here are a few references:\n\nhttps://github.com/mark-moseley/linecache/issues/8\nhttp://redmine.ruby-lang.org/issues/5193\nhttps://github.com/ruby/ruby/pull/47\n. This is the tracker for rspec-1, which is only getting bug fixes at this point. Please report this to https://github.com/rspec/rspec-core issues if you'd like to discuss this in relation to rspec-2.\n. It works in concert with a `debugger` statement, which you have to add yourself. Doc would be great, though I'm not sure the best place to put it. I'll follow up on that in the next day or so.\n. Just realized this is the rspec-1 issue tracker. Would you please make the pull request at https://github.com/rspec/rspec-core/pulls instead?\n\nLet's start by getting into the relishapp docs. You don't need to make it a cuke - just a  markdown file under https://github.com/rspec/rspec-core/tree/master/features/command_line. Could also add a line to the command line help you get from `rspec --help`: https://github.com/rspec/rspec-core/blob/master/lib/rspec/core/option_parser.rb#L56-58\n. This is the tracker for rspec-1. Please report this to https://github.com/rspec/rspec-core/issues.\n. Actually I took the liberty of doing this myself: https://github.com/rspec/rspec-core/issues/554\n. Please report this to https://github.com/rspec/rspec-mocks/issues. This tracker is only for rspec-1.\n. @neerajkumar thanks for the pull request! I saw #51 and started fixing it right away (happened to be in a good place to do it), so we don't need this, but I appreciate the effort and look forward to future contributions from you.\n\nCurious though, why are you working on rspec-1?\n. I don't know when I'll have time to release it, but I'll accept a pull request for this.\n. As I said in #53, I don't know when I'll have time for this. You don't have to monkey patch if you're using bundler - just point to github.\n. The only references to rdoc in the rspec-1 codebase are in comments, so I don't think the problem is in `Spec::Rake::SpecTask`. Can you point me to the code that you think is doing this?\n. Got it. FWIW there was no cucumber when that was written (to answer the question in the subject). Also, with rspec-2 out for well over a year now I've only been doing releases for very serious bugs (I barely have time to keep up with rspec-2 maintenance). If you want to submit a pull request I'll be glad to merge it if it's sound, but I probably won't release it until such a serious bug requires a release (which may never happen at this point).\n. Much appreciated. I've got a few rails 2 apps as well, so can empathize. Cheers.\n. What version of rspec?\n. 2.9 has been out for over a month with over 150k [1] installs and this is the first I'm hearing about it :) My guess is there's an issue in your environment. What version of rubygems are you using? (gem -v)\n\n[1] http://rubygems.org/gems/rspec/versions/2.9.0\n. Please run with `--backtrace` and post the full backtrace.\n. Looks like an integration bug between rspec-rails and devise. I don't have any projects using devise right now, so can you show me some code to reproduce this, or, better yet, put together a minimal app I can clone from github, bundle, run rspec and see the failure?\n. Hey - I just realized this is in the rspec-1 repo. It belongs in https://github.com/rspec/rspec-rails (the rspec-rails-2 repo). Would you kindly report it there instead? I'd do it, but it'll be easier for you later to refer back to it if you do it.\n. Thanks!\n. Moved to https://github.com/rspec/rspec-rails/issues/534\n. Funny - you're the 2nd person to report this issue in in the wrong repo today :) Unfortunately github doesn't give me a way to put a header on the new issue page that says \"this repo is for rspec 1.\"\n\nSee #60 and https://github.com/rspec/rspec-rails/issues/534, and please feel free to add commentary on the latter.\n\nCheers,\nDavid\n. Srsly no worries - as I said, there's no good way for me to let ppl know this is the wrong place before they submit something.\n. That's by design, but you should be getting a warning saying \"Customization blocks not supported ...\". Do you think that should be an Exception instead?\n. Also - just realized this is the rspec-1 tracker so I moved it to https://github.com/rspec/rspec-core/issues/615.\n. Please send this to rspec-users:\nhttp://rubyforge.org/mailman/listinfo/rspec-users\n\nOn Tue, Jun 5, 2012 at 3:13 PM, Robbie Leib\nreply@reply.github.com\nwrote:\n\n> Rails 2.3.14 app\n> \n> rspec (1.3.2)\n> rspec-rails (1.3.4)\n> \n> When I run bundle exec rake spec, not matter what, I get:\n> \n> 0 tests, 0 assertions, 0 failures, 0 errors, 0 pendings, 0 omissions, 0 notifications\n> 0% passed\n> \n> I have one spec file, and I hit the first debug statement, and not the 2nd:\n> \n> require 'spec_helper'\n> \n> describe Api::Admin::V1::UsersController do\n> \u00a0describe \"/api/admin/v1/users\" do\n> \u00a0 \u00a0describe \"GET index\" do\n> \u00a0 \u00a0 \u00a0debugger\n> \u00a0 \u00a0 \u00a0it \"should return first 20 users\" do\n> \u00a0 \u00a0 \u00a0 \u00a0debugger\n> \u00a0 \u00a0 \u00a0 \u00a0assert_equal false, true\n> \u00a0 \u00a0 \u00a0end\n> \u00a0 \u00a0 \u00a0it \"should return page 2\" do\n> \u00a0 \u00a0 \u00a0end\n> \u00a0 \u00a0 \u00a0it \"should filter on last name\" do\n> \u00a0 \u00a0 \u00a0end\n> \u00a0 \u00a0end\n> \u00a0end\n> end\n> \n> What could be causing this?\n> \n> Thanks,\n> \n> ## \n> \n> Robbie\n> \n> ---\n> \n> Reply to this email directly or view it on GitHub:\n> https://github.com/dchelimsky/rspec/issues/63\n. This belongs in https://github.com/rspec/rspec-expectations/issues (the tracker you're looking at is for rspec-1), but ...\n\n`it { should matcher }` is still supported even with the `expect` syntax enabled.\n. If you have an idea that would read well, by all means submit an issue, but `it { expect be_success }` does not read well, and we couldn't come up with an expect-like word that worked better than `it { should be_success }`.\n. This is a problem with the implementation of `==` in time. Nothing RSpec can/should do about it IMO.\n\n```\n$ irb\n1.9.3-p194 :001 > Time.now == Time.now\n => false\n```\n. @killthekitten what does the example look like, precisely?\n. @killthekitten best guess is that _sometimes_ `Time.zone.now ~= Time.zone.now` (the second of which might have a different fractional second value). All rspec does is compare the two objects using `==`. If that returns false, there's nothing rspec can do about it.\n. @killthekitten also, note that `Time.zone.now == Time.zone.now` is not the same as `t = Time.zone.now; t == t;`.\n. @killthekitten Timecop \"freezes\" time by monkey patching creation methods like new, and now, but `message.reload.read_at` means something is pulling a serialized representation of time and building a Time object from it (not using Time.now). There are a few different ways to serialize/deserialize Time objects, but they all lose precision in the underlying value, although their string representations don't change:\n\n``` ruby\nt = Time.now\nTime.at(t.to_f) == t\n# => false\n\nTime.at(t.to_f).to_s == t.to_s\n# => true\n```\n\nTake a look at https://github.com/rspec/rspec-expectations/blob/master/lib/rspec/matchers/built_in/change.rb#L312. All rspec is doing there is comparing using `!=`.\n\nIf you're still not convinced the problem lies outside rspec, please file a new issue at https://github.com/rspec/rspec-expectations/issues and reference this issue in it so the current maintainers have the background.\n. @killthekitten glad to help.\n. Sorry - I never updated this repo to reflect this but this is not where rspec is maintained any longer. This issue should be reported to https://github.com/rspec/rspec-core or https://github.com/rspec/rspec-mocks.\n\nGood luck!\n. Merged: 12b172d640000b1f973f63f2ce8fd8a073f8f252\n. I merged these both in with no trouble:\n\n15a26285a1f9e8fdbbc17590ece425af02d2e112\nce44809469642ac3a8c3f975cb247fc983f8eb2e\n\nI'm not sure why I had trouble just reverting the change myself, but here we are.\n\nI'll do a 1.3.2 release in the next week or two. I want to give it a little time to see if any other bugs come up.\n. Merged: f856742eaa6905b506dfb50d248427c57ecebd36\n. The expected behaviour is that when you stub or mock a method on a real object (we call this partial stubbing/mocking), the framework takes over that method for the duration of the example. So the expectation that when the wrong args are received the call is delegated to the original object is incorrect, and making this change would introduce potential problems for other users who count on this behaviour.\n\nWhat you can do is pass a block to the stub and have a conditional in it:\n\n<pre>\n@widget = Widget.new.stub(:id => 37)\nWidget.stub(:find_by_id) do |id|\n  return @widget.new if id.to_s == \"37\"\nend\n</pre>\n\n\nThere is a request to add an explicit way to call to the original in rspec-mocks-2's issue tracker: http://github.com/rspec/rspec-mocks/issues#issue/23.\n\nHTH,\nDavid\n. Merged: c92d52b\n. Not everyone uses rubygems as their package manager, so we don't have \"require 'rubygems'\" in rspec's code.\n\nFor more background, read https://gist.github.com/54177 and google for \"require rubygems rspec\"\n. I'd consider it. What do you have in mind?\n. I like it. I reopened this and will merge it before the next release.\n\nWanna submit the same to http://github.com/rspec/rspec-core/issues?\n. @aeden - which versions of the different rspec gems are you using?\n. @aeden - is rspec configured in your Gemfile when you run `bundle exec autotest`?\n. OK - I've verified that this is happening with jruby and autotest-4.4.5 or 4.4.6, but I don't know why yet.\n\nI am able to get things to work correctly with autotest-4.4.5 and MRI, but 4.4.6 breaks compatibility with RSpec (don't know why about that yet either).\n. ZenTest-4.4.1 pulls autotest back into ZenTest, and autotest-4.4.6 is apparently a \"symbolic gem\" that doesn't actually do anything.\n\nIn a fresh gemset with only ZenTest installed and a single test class using minitest, autotest works fine in MRI 1.9.2, but fails in JRuby. Haven't pinned down why, but if anybody paying attention to this ticket wants to take up the cause and file a ticket w/ the ZenTest project, that's what needs to happen next.\n. This was closed with https://github.com/rspec/rspec-core/issues/211\n. This is the tracker for rspec-1. Please file rspec-2 issues at https://github.com/rspec/rspec-core/issues.\n\nThat said, this is as designed. It's a change to rspec-2 that makes shared groups far more powerful than in rspec-1, but obviously changes the behavior. Please see http://relishapp.com/rspec/rspec-core/v/2-0/dir/example-groups/shared-example-group and https://github.com/rspec/rspec-core/blob/master/Upgrade.markdown for more information\n. This has already been fixed in rspec-rails: https://github.com/rspec/rspec-rails/commit/2233e5af1bbc80dbf74aea5368599336ea9bb17d. Will be included in the rspec-rails-2.1 release.\n\nAlso, this repo is for rspec-1 only. RSpec 2 repos are at http://github.com/rspec.\n\nCheers,\nDavid\n. No worries - it's a bit confusing because there's nothing on the issue tracker pages that allows me to post information like this.\n. RSpec::Core::ExampleGroup is not an API and is subject to change in future releases. If you want to extend groups, the recommended approach is to use the RSpec.configure API to include modules in groups.\n\nAlso - this is the tracker for rspec-1. This issue belongs in the tracker for rspec-core-2: http://github.com/rspec/rspec-core/issues.\n. If you want to continue to discuss, btw, please open a new issue in http://github.com/rspec/rspec-core/issues. Thx.\n. This has been fixed in Ruby: http://redmine.ruby-lang.org/issues/show/4400\n. Clicking on the link to the report gets me a 404. What was the issue?\n. This has been fixed in Ruby: http://redmine.ruby-lang.org/issues/show/4400\n. Closed by c723627e245e80b552e4c9e1e47d32bc7751ee13\n. Closing this as it is due to downstream dependencies that rspec has no control over.\n\nThe simplest workaround is to use an rvm gemset per app, and make sure that only the 1.x versions of rspec are in the gemsets for rails-2 apps.\n. Do you want to submit a proper patch?\n. Closed by c723627e245e80b552e4c9e1e47d32bc7751ee13\n. Closed by c723627e245e80b552e4c9e1e47d32bc7751ee13\n. On Mar 10, 2011, at 5:27 AM, MadRabbit wrote:\n\n> Hi folks,\n> \n> I'm trying to use some shared module with RSpec custom matchers. Kinda like that\n> \n>    module MyHelper\n>      def some_method(stuff)\n>        # some stuff in here\n>      end\n>    end\n> \n>    RSpec::Matchers.define :my_matcher do |expected|\n>      include MyHelper\n> \n> ```\n>  match do |actual|\n>    actual.something == some_method(expected)\n>  end\n> \n>  # .....\n> ```\n> \n>    end\n> \n> And it doesn't quite work for me. It says that there is no method with name `'some_method'`. Am I doing something wrong or the thing is just not supported?\n\nNot supported. You _can_ get it to work by using extend instead of include:\n\n  RSpec::Matchers.define :my_matcher do |expected|\n    extend MyModule\n  ...\n\nbut that just happens to work given the current implementation. I can't imagine a change that would break this in the future, but I make no guarantees.\n\nCheers,\nDavid\n. Reopening as feature request.\n. Oh - just realized this is the wrong tracker. Would you please file a feature request in http://github.com/rspec/rspec-core? Thx.\n. This has been fixed in rspec-2 - are you using rspec-1 or 2?\n. This tracker is for rspec-1\n\nThe issue has been fixed in rspec-2 and will be part of the next release: https://github.com/rspec/rspec-core/issues/257.\n. rspec-1 means any version of rspec that starts with a 1: 1.0.0, 1.3.2, etc. rspec-2 is any version that starts with a 2: 2.5.1.\n. As I said above - it has been fixed in rspec-2 and will be part of the _next_ release: rspec-2.6.0. It is still broken in rspec-2.5.1. Make sense?\n. What rspec version?\n. This is a dup of https://github.com/rspec/rspec-core/issues/317, which has been addressed in rspec-core-2.6.0.rc4. You can either upgrade to the rc now or wait for the 2.6.0 release (within a week) if you want to fix this locally.\n. What version?\n. Also, can you post the full example so I can run it and see?\n. Cool. Thanks for tracking that down.\n. This is not going to be fixed in rspec-rails-1.x as it would require some re-architecting.\n\nSee https://github.com/rspec/rspec-rails/issues/391 for info on same issue in rspec-rails-2.\n. The block passed to `match` should return a boolean, so change `json['errors'].should include(expected)` to `json['errors'].include?(expected)`.\n\nYou _can_ delegate to most other matchers, but a) the `include` matcher is a special case because it's a Ruby keyword, and b) you should only do it when the other matcher does more than delegate to a single predicate.\n. It might be possible but I don't find it very readable. I'm going to close the issue but I'm happy to discuss alternatives with you here. I'll start:\n\nWhy not just say this?\n\n``` ruby\nit \"contains elements > 0\" do\n  list.each {|x| x.should be > 0}\nend\n```\n. I'm not adding any new features to rspec-1. Please report issues like this to the rspec-2 tracker: https://github.com/rspec/rspec-core/issues.\n\nBefore you report this one there, however, know that it will probably be rejected. I'm planning to extract `its` to a separate gem in rspec-3 and I'm not adding any new functionality to it now. If you want to get a discussion going about it, though, feel free to report it to the rspec-2 tracker listed above and we can get input from a wider group.\n. You can do it, but the syntax is different from what you're expecting:\n\n```\nrails g rspec:view admin/meals index\n```\n\nThe reason is there is no view generator in rails, so the view spec generator is designed to work with the rails scaffold generator, which passes the names of the actions to the view spec generator.\n. I added an issue for that: https://github.com/rspec/rspec-rails/issues/409 (https://github.com/rspec/rspec-rails/issues is the tracker for rspec-rails-2), and have already fixed it. Thx for pointing it out.\n. @epipheus - this tracker is for rspec-1, and what you're describing would be in rspec-core-2. Please use http://github.com/rspec/rspec-core/issues for rspec-core-2 issues going forward.\n\nThat said, this issue would only be a problem if run was returning `true` or `false`, but it delegates to the `run` method of either a `CommandLine` object or a `DrbCommandLineObject`, both of which return 0 or 1.\n\nI did find one spec in rspec-core's own suite that was stubbing `true` as a return value, but I've [updated that to return 1](https://github.com/rspec/rspec-core/commit/728814b0cb748bccbebb134f039eb6b9e1e0e59f) so it shouldn't be an issue running rspec's own specs.\n\nHow did you come across this error?\n. No worries re: the tracker - it's a confusing world and I don't have a way to put a big notice at the top of this tracker saying \"if you're looking for rspec-2, go [here](http://github.com/rspec/rspec-core/issues).\n\nYou wouldn't have had the issue w/ 2.4 because it didn't have the `to_i` yet.\n. Could be a spork issue. Try using 0.9.0.rc9.\n. @cosmolee look at my first comment above.\n. Try searching for \"to_i\"\n. Please submit this to http://github.com/rspec/rspec-mocks/issues.\n. thx\n. Please report this to http://github.com/rspec/rspec-core/issues\n. Would you do me a favor and post this to https://github.com/rspec/rspec-mocks/issues ? That's where it belongs. This tracker is for rspec-1.\n. Expected. The reason is that `NotesFile.created_last` returns a _new object_ that has all the same properties as the object created by `Factory(:notes_file, :created_at=> 13.days.ago)`, but it is not the _same object_.\n\nRails-3.1 introduced an identity-map feature that solves this problem, but it is off by default - see Rails docs for info on other implications and how to turn it on.\n. @matthauck two options: use the identity map anyway or stub new/finders:\n\n``` ruby\nnotes_file = Factory.build(:notes_file)\nNotesFile.stub(:find => notes_file)\n# etc\n```\n\nThis is an admittedly invasive and brittle approach, but given the lack of identity map and the desire to stub found objects, it's what many of us do. It's all tradeoffs :)\n. Sorry, but right now I don't know of any workaround right now. I haven't done any work with engines myself. Anybody else?\n. That looks like it's coming from ruby-debug-base19-0.11.25. Do you get the same error if you remove ruby-debug19 and it's dependencies from your Gemfile?\n. Oh - just realized this is the wrong tracker. Please report this to http://github.com/rspec/rspec-core/issues and continue the conversation there.\n. BTW - I just poked around and this is a known issue with ruby-debug19 (actually linecache19). Here are a few references:\n\nhttps://github.com/mark-moseley/linecache/issues/8\nhttp://redmine.ruby-lang.org/issues/5193\nhttps://github.com/ruby/ruby/pull/47\n. This is the tracker for rspec-1, which is only getting bug fixes at this point. Please report this to https://github.com/rspec/rspec-core issues if you'd like to discuss this in relation to rspec-2.\n. It works in concert with a `debugger` statement, which you have to add yourself. Doc would be great, though I'm not sure the best place to put it. I'll follow up on that in the next day or so.\n. Just realized this is the rspec-1 issue tracker. Would you please make the pull request at https://github.com/rspec/rspec-core/pulls instead?\n\nLet's start by getting into the relishapp docs. You don't need to make it a cuke - just a  markdown file under https://github.com/rspec/rspec-core/tree/master/features/command_line. Could also add a line to the command line help you get from `rspec --help`: https://github.com/rspec/rspec-core/blob/master/lib/rspec/core/option_parser.rb#L56-58\n. This is the tracker for rspec-1. Please report this to https://github.com/rspec/rspec-core/issues.\n. Actually I took the liberty of doing this myself: https://github.com/rspec/rspec-core/issues/554\n. Please report this to https://github.com/rspec/rspec-mocks/issues. This tracker is only for rspec-1.\n. @neerajkumar thanks for the pull request! I saw #51 and started fixing it right away (happened to be in a good place to do it), so we don't need this, but I appreciate the effort and look forward to future contributions from you.\n\nCurious though, why are you working on rspec-1?\n. I don't know when I'll have time to release it, but I'll accept a pull request for this.\n. As I said in #53, I don't know when I'll have time for this. You don't have to monkey patch if you're using bundler - just point to github.\n. The only references to rdoc in the rspec-1 codebase are in comments, so I don't think the problem is in `Spec::Rake::SpecTask`. Can you point me to the code that you think is doing this?\n. Got it. FWIW there was no cucumber when that was written (to answer the question in the subject). Also, with rspec-2 out for well over a year now I've only been doing releases for very serious bugs (I barely have time to keep up with rspec-2 maintenance). If you want to submit a pull request I'll be glad to merge it if it's sound, but I probably won't release it until such a serious bug requires a release (which may never happen at this point).\n. Much appreciated. I've got a few rails 2 apps as well, so can empathize. Cheers.\n. What version of rspec?\n. 2.9 has been out for over a month with over 150k [1] installs and this is the first I'm hearing about it :) My guess is there's an issue in your environment. What version of rubygems are you using? (gem -v)\n\n[1] http://rubygems.org/gems/rspec/versions/2.9.0\n. Please run with `--backtrace` and post the full backtrace.\n. Looks like an integration bug between rspec-rails and devise. I don't have any projects using devise right now, so can you show me some code to reproduce this, or, better yet, put together a minimal app I can clone from github, bundle, run rspec and see the failure?\n. Hey - I just realized this is in the rspec-1 repo. It belongs in https://github.com/rspec/rspec-rails (the rspec-rails-2 repo). Would you kindly report it there instead? I'd do it, but it'll be easier for you later to refer back to it if you do it.\n. Thanks!\n. Moved to https://github.com/rspec/rspec-rails/issues/534\n. Funny - you're the 2nd person to report this issue in in the wrong repo today :) Unfortunately github doesn't give me a way to put a header on the new issue page that says \"this repo is for rspec 1.\"\n\nSee #60 and https://github.com/rspec/rspec-rails/issues/534, and please feel free to add commentary on the latter.\n\nCheers,\nDavid\n. Srsly no worries - as I said, there's no good way for me to let ppl know this is the wrong place before they submit something.\n. That's by design, but you should be getting a warning saying \"Customization blocks not supported ...\". Do you think that should be an Exception instead?\n. Also - just realized this is the rspec-1 tracker so I moved it to https://github.com/rspec/rspec-core/issues/615.\n. Please send this to rspec-users:\nhttp://rubyforge.org/mailman/listinfo/rspec-users\n\nOn Tue, Jun 5, 2012 at 3:13 PM, Robbie Leib\nreply@reply.github.com\nwrote:\n\n> Rails 2.3.14 app\n> \n> rspec (1.3.2)\n> rspec-rails (1.3.4)\n> \n> When I run bundle exec rake spec, not matter what, I get:\n> \n> 0 tests, 0 assertions, 0 failures, 0 errors, 0 pendings, 0 omissions, 0 notifications\n> 0% passed\n> \n> I have one spec file, and I hit the first debug statement, and not the 2nd:\n> \n> require 'spec_helper'\n> \n> describe Api::Admin::V1::UsersController do\n> \u00a0describe \"/api/admin/v1/users\" do\n> \u00a0 \u00a0describe \"GET index\" do\n> \u00a0 \u00a0 \u00a0debugger\n> \u00a0 \u00a0 \u00a0it \"should return first 20 users\" do\n> \u00a0 \u00a0 \u00a0 \u00a0debugger\n> \u00a0 \u00a0 \u00a0 \u00a0assert_equal false, true\n> \u00a0 \u00a0 \u00a0end\n> \u00a0 \u00a0 \u00a0it \"should return page 2\" do\n> \u00a0 \u00a0 \u00a0end\n> \u00a0 \u00a0 \u00a0it \"should filter on last name\" do\n> \u00a0 \u00a0 \u00a0end\n> \u00a0 \u00a0end\n> \u00a0end\n> end\n> \n> What could be causing this?\n> \n> Thanks,\n> \n> ## \n> \n> Robbie\n> \n> ---\n> \n> Reply to this email directly or view it on GitHub:\n> https://github.com/dchelimsky/rspec/issues/63\n. This belongs in https://github.com/rspec/rspec-expectations/issues (the tracker you're looking at is for rspec-1), but ...\n\n`it { should matcher }` is still supported even with the `expect` syntax enabled.\n. If you have an idea that would read well, by all means submit an issue, but `it { expect be_success }` does not read well, and we couldn't come up with an expect-like word that worked better than `it { should be_success }`.\n. This is a problem with the implementation of `==` in time. Nothing RSpec can/should do about it IMO.\n\n```\n$ irb\n1.9.3-p194 :001 > Time.now == Time.now\n => false\n```\n. @killthekitten what does the example look like, precisely?\n. @killthekitten best guess is that _sometimes_ `Time.zone.now ~= Time.zone.now` (the second of which might have a different fractional second value). All rspec does is compare the two objects using `==`. If that returns false, there's nothing rspec can do about it.\n. @killthekitten also, note that `Time.zone.now == Time.zone.now` is not the same as `t = Time.zone.now; t == t;`.\n. @killthekitten Timecop \"freezes\" time by monkey patching creation methods like new, and now, but `message.reload.read_at` means something is pulling a serialized representation of time and building a Time object from it (not using Time.now). There are a few different ways to serialize/deserialize Time objects, but they all lose precision in the underlying value, although their string representations don't change:\n\n``` ruby\nt = Time.now\nTime.at(t.to_f) == t\n# => false\n\nTime.at(t.to_f).to_s == t.to_s\n# => true\n```\n\nTake a look at https://github.com/rspec/rspec-expectations/blob/master/lib/rspec/matchers/built_in/change.rb#L312. All rspec is doing there is comparing using `!=`.\n\nIf you're still not convinced the problem lies outside rspec, please file a new issue at https://github.com/rspec/rspec-expectations/issues and reference this issue in it so the current maintainers have the background.\n. @killthekitten glad to help.\n. Sorry - I never updated this repo to reflect this but this is not where rspec is maintained any longer. This issue should be reported to https://github.com/rspec/rspec-core or https://github.com/rspec/rspec-mocks.\n\nGood luck!\n. ",
    "dkubb": "Heckle requires \"self.$method_name\" for class methods\n- Closed by 40e737dac4198f2fc489656206146a5c069edfe6.\n. Heckle requires \"self.$method_name\" for class methods\n- Closed by 40e737dac4198f2fc489656206146a5c069edfe6.\n. ",
    "alexz77": "I see, thanks.\n. David, replying to you in the mailing list...\n. I see, thanks.\n. David, replying to you in the mailing list...\n. ",
    "patmaddox": "set RUBYOPT to rubygems with\nexport RUBYOPT='rubygems'\n\nor whatever format is used for your shell.  The rspec bin shouldn't be tied to rubygems - but if you use it (which many / most people do) then it's useful to automatically load it when you start up a ruby process.\n. this is fixed in rspec 2\n. set RUBYOPT to rubygems with\nexport RUBYOPT='rubygems'\n\nor whatever format is used for your shell.  The rspec bin shouldn't be tied to rubygems - but if you use it (which many / most people do) then it's useful to automatically load it when you start up a ruby process.\n. this is fixed in rspec 2\n. ",
    "slyphon": "Would you perhaps accept a patch that printed out a helpful message when this happens? I spent a couple of hours trying to figure this one out, it might be a help to someone else.\n. Here's a suggestion, you may (obviously) want to word it slightly differently. I tried to make it neutral, informational, and polite. :)\n\nhttps://github.com/slyphon/rspec-core/commit/dae888170a9078cdc84110760f8ee2c958b957c6\n. opened https://github.com/rspec/rspec-core/issues/#issue/211 as requested\n. Would you perhaps accept a patch that printed out a helpful message when this happens? I spent a couple of hours trying to figure this one out, it might be a help to someone else.\n. Here's a suggestion, you may (obviously) want to word it slightly differently. I tried to make it neutral, informational, and polite. :)\n\nhttps://github.com/slyphon/rspec-core/commit/dae888170a9078cdc84110760f8ee2c958b957c6\n. opened https://github.com/rspec/rspec-core/issues/#issue/211 as requested\n. ",
    "aeden": "I just tried to solve this issue by using export RUBYOPT='rubygems' (running in bash) under JRuby-1.5.5 installed by RVM and it doesn't fix the issue. I also tried running this under the same setup but using 'bundler exec autotest' and it also did nothing to fix the issue.\n. rspec (2.2.0)\nrspec-core (2.2.1)\nrspec-expectations (2.2.0)\nrspec-mocks (2.2.0)\nrspec-rails (2.2.1)\n. I just tried to solve this issue by using export RUBYOPT='rubygems' (running in bash) under JRuby-1.5.5 installed by RVM and it doesn't fix the issue. I also tried running this under the same setup but using 'bundler exec autotest' and it also did nothing to fix the issue.\n. rspec (2.2.0)\nrspec-core (2.2.1)\nrspec-expectations (2.2.0)\nrspec-mocks (2.2.0)\nrspec-rails (2.2.1)\n. ",
    "ckaushik": "I have a similar problem \n\ni'm using rvm and jruby-1.5.1\ni'm using bundler to vendorize my app gems in 'vendor/gems' directory\nThat is where rspec rspec-rails and all gems are installed.\nWhen i run autotest or rspec from root directory the gems are not in PATH..\nSo I had to run bundle exec rspec or autotest..\n\nNow autotest is not able to load 'rspec/autorun' because of the same issue. (not in path) \nI had to move my gems to .rvm/rubies/jruby/1.8/gems  \nand add require 'rubygems'\nfor autotest to work\n. I have a similar problem \n\ni'm using rvm and jruby-1.5.1\ni'm using bundler to vendorize my app gems in 'vendor/gems' directory\nThat is where rspec rspec-rails and all gems are installed.\nWhen i run autotest or rspec from root directory the gems are not in PATH..\nSo I had to run bundle exec rspec or autotest..\n\nNow autotest is not able to load 'rspec/autorun' because of the same issue. (not in path) \nI had to move my gems to .rvm/rubies/jruby/1.8/gems  \nand add require 'rubygems'\nfor autotest to work\n. ",
    "jpshackelford": "We see the same from our environment (rvm, jruby-1.5.5, rspec 2.4.0, ZenTest 4.4.2). It looked like the latest in Github may solve our problem as we tested by adding -rrubygems to the command line used and found that rspec ran as expected. We weren't able to reproduce the sucess using bundler pointing to git so we resorted to a monkey patch.\n\nIn .autotest:\n\n```\nclass Autotest::Rspec2 < Autotest\n  def make_test_cmd(files_to_test)\n    files_to_test.empty? ? '' :\n      \"bundle exec rspec --tty #{normalize(files_to_test).keys.flatten.map { |f| \"'#{f}'\"}.join(' ')}\"\n  end\nend\n```\n\nThis is working well for us now. Since we use RVM we like this better than being so explicit about JRuby and RSpec installations. It also means we avoid the problem with having to specifically require rubygems in the JRuby invocation.\n. We see the same from our environment (rvm, jruby-1.5.5, rspec 2.4.0, ZenTest 4.4.2). It looked like the latest in Github may solve our problem as we tested by adding -rrubygems to the command line used and found that rspec ran as expected. We weren't able to reproduce the sucess using bundler pointing to git so we resorted to a monkey patch.\n\nIn .autotest:\n\n```\nclass Autotest::Rspec2 < Autotest\n  def make_test_cmd(files_to_test)\n    files_to_test.empty? ? '' :\n      \"bundle exec rspec --tty #{normalize(files_to_test).keys.flatten.map { |f| \"'#{f}'\"}.join(' ')}\"\n  end\nend\n```\n\nThis is working well for us now. Since we use RVM we like this better than being so explicit about JRuby and RSpec installations. It also means we avoid the problem with having to specifically require rubygems in the JRuby invocation.\n. ",
    "BrandonMathis": "@jpshackelford's monkey patch got things working for me but it is running terribly slow.\n. @jpshackelford's monkey patch got things working for me but it is running terribly slow.\n. ",
    "gleenn": "Sorry, hopefully I'll be searching for issues in the right tracker next time. Thanks for making RSpec awesome.\n. Sorry, hopefully I'll be searching for issues in the right tracker next time. Thanks for making RSpec awesome.\n. ",
    "adrianpacala": "'/logout(.:format)' maybe?\n. '/logout(.:format)' maybe?\n. ",
    "raldred": "so simple, there must have been a default format param from rails 2.x i relied on previously.\nCheers\n. so simple, there must have been a default format param from rails 2.x i relied on previously.\nCheers\n. ",
    "julio": "The link Nori posted has some extra characters. This is the correct one: http://rubyforge.org/pipermail/rspec-users/2011-January/019187.html\n. The link Nori posted has some extra characters. This is the correct one: http://rubyforge.org/pipermail/rspec-users/2011-January/019187.html\n. ",
    "norisuke3": "Oops, sorry.\n\nNori\n\nOn Thu, Mar 31, 2011 at 11:56 AM, julio <\nreply@reply.github.com>wrote:\n\n> The link Nori posted has some extra characters. This is the correct one:\n> http://rubyforge.org/pipermail/rspec-users/2011-January/019187.html\n> \n> ## \n> \n> Reply to this email directly or view it on GitHub:\n> https://github.com/dchelimsky/rspec/pull/13#issuecomment-941367\n. Oops, sorry.\n\nNori\n\nOn Thu, Mar 31, 2011 at 11:56 AM, julio <\nreply@reply.github.com>wrote:\n\n> The link Nori posted has some extra characters. This is the correct one:\n> http://rubyforge.org/pipermail/rspec-users/2011-January/019187.html\n> \n> ## \n> \n> Reply to this email directly or view it on GitHub:\n> https://github.com/dchelimsky/rspec/pull/13#issuecomment-941367\n. ",
    "aselder": "The error I believe was introducted in RSpec 1.3.1 with the following two lines in proxy.rb\n\n```\n    elsif @target.is_a?(Class)\n      @target.superclass.send(sym, *args, &block)\n```\n\nSo when the proxy tries to forward it, it goes to the superclass rather than falling down to a send to method_missing.\n. A solution that seems to work for me is to change line 114 of proxy.rb to:\n\n```\nelsif @target.is_a?(Class) && @target.superclass.respond_to?(sym, true)\n```\n. I know the example above is slightly contrived, but given the amount of meta-programming in Ruby, this pattern is probably quite common.\n\nAny expectation set on a class method not explicitly defined will cause any future calls to the method to blow up. \n. A solution that seems to work for me is to change line 114 of proxy.rb to:\n\n```\nelsif @target.is_a?(Class) && @target.superclass.respond_to?(sym, true)\n```\n. Dave,\n\nWill do. I'll get to it tonight.\n\nAndrew\n. The error I believe was introducted in RSpec 1.3.1 with the following two lines in proxy.rb\n\n```\n    elsif @target.is_a?(Class)\n      @target.superclass.send(sym, *args, &block)\n```\n\nSo when the proxy tries to forward it, it goes to the superclass rather than falling down to a send to method_missing.\n. A solution that seems to work for me is to change line 114 of proxy.rb to:\n\n```\nelsif @target.is_a?(Class) && @target.superclass.respond_to?(sym, true)\n```\n. I know the example above is slightly contrived, but given the amount of meta-programming in Ruby, this pattern is probably quite common.\n\nAny expectation set on a class method not explicitly defined will cause any future calls to the method to blow up. \n. A solution that seems to work for me is to change line 114 of proxy.rb to:\n\n```\nelsif @target.is_a?(Class) && @target.superclass.respond_to?(sym, true)\n```\n. Dave,\n\nWill do. I'll get to it tonight.\n\nAndrew\n. ",
    "markthomas": "Hmm... I followed the instructions on an Ubuntu machine with the same versions of JRuby, rspec, and Rails, and I was able to run the generator.\n\nSo perhaps the issue is with Windows (XP). Or maybe rubygems? I'll make sure I have the latest rubygems version.\n. Hmm... I followed the instructions on an Ubuntu machine with the same versions of JRuby, rspec, and Rails, and I was able to run the generator.\n\nSo perhaps the issue is with Windows (XP). Or maybe rubygems? I'll make sure I have the latest rubygems version.\n. ",
    "yoon": "I've duplicated this issue on OSX snow leopard, using rvm and bundler.\n\nI ran `bundle show` =>\n- rspec (1.3.1)\n- rspec-rails (1.3.3)\n\nand `gem list` =>\n\nrspec (2.5.0, 1.3.1)\nrspec-core (2.5.1)\nrspec-expectations (2.5.0)\nrspec-mocks (2.5.0)\nrspec-rails (2.5.0, 1.3.3)\n\nEven though only the rspec-rails gem 1.3.3 was in the bundle, and even though I was running `bundle exec script/generate rspec`, I still got \"Couldn't find 'rspec' generator\" until I ran `gem uninstall rspec-rails` and removed the 2.5.0 version.\n\nNot sure if this is an rspec or bundler issue.\n. I found this workaround thanks to: http://lightyearsoftware.com/2010/11/couldnt-find-rspec-generator/\n. I've duplicated this issue on OSX snow leopard, using rvm and bundler.\n\nI ran `bundle show` =>\n- rspec (1.3.1)\n- rspec-rails (1.3.3)\n\nand `gem list` =>\n\nrspec (2.5.0, 1.3.1)\nrspec-core (2.5.1)\nrspec-expectations (2.5.0)\nrspec-mocks (2.5.0)\nrspec-rails (2.5.0, 1.3.3)\n\nEven though only the rspec-rails gem 1.3.3 was in the bundle, and even though I was running `bundle exec script/generate rspec`, I still got \"Couldn't find 'rspec' generator\" until I ran `gem uninstall rspec-rails` and removed the 2.5.0 version.\n\nNot sure if this is an rspec or bundler issue.\n. I found this workaround thanks to: http://lightyearsoftware.com/2010/11/couldnt-find-rspec-generator/\n. ",
    "MadRabbit": "Hi David,\n\nThanks for the quick tip, it helped!\n\nBut in general, maybe the feature should be supported? It's quite useful in some cases, like for example I define a simple pseudo-format to make human readable expectations and then reuse it in various matchers.\n\nI guess people would expect it to work with `include` like it does inside of the `describe` blocks.\n\nAnyhow, thanks for the excellent job on the project!\n\n## \n\nCheers,\nNik\n. done https://github.com/rspec/rspec-core/issues/334\n. Hi David,\n\nThanks for the quick tip, it helped!\n\nBut in general, maybe the feature should be supported? It's quite useful in some cases, like for example I define a simple pseudo-format to make human readable expectations and then reuse it in various matchers.\n\nI guess people would expect it to work with `include` like it does inside of the `describe` blocks.\n\nAnyhow, thanks for the excellent job on the project!\n\n## \n\nCheers,\nNik\n. done https://github.com/rspec/rspec-core/issues/334\n. ",
    "lellisga": "It should return something like this:\n\n 1) Statement - Message Expectations should now fail because the method is not called  \n     Failure/Error: custumer.should_receive(:lname).and_return('Ellis')  \n       (Double \"custumer\").lname(any args)  \n           expected: 1 time  \n           received: 0 times         \n.  rspec -v\n2.5.1\n.  rspec -v\n2.5.1\n. FYI: I'm using it under rvm and ruby-1.8.7\n. k thnks, but what rspec -v 2.5.1 suppose to mean ? that I'm using rspec-1 ?\n. sorry it doesn't answer my question because I'm actually using the 2.5.1 version and I'm still having this issue :( as you said \"This tracker is for rspec-1\"\n. sure, thks a lot.\n. It should return something like this:\n\n 1) Statement - Message Expectations should now fail because the method is not called  \n     Failure/Error: custumer.should_receive(:lname).and_return('Ellis')  \n       (Double \"custumer\").lname(any args)  \n           expected: 1 time  \n           received: 0 times         \n.  rspec -v\n2.5.1\n.  rspec -v\n2.5.1\n. FYI: I'm using it under rvm and ruby-1.8.7\n. k thnks, but what rspec -v 2.5.1 suppose to mean ? that I'm using rspec-1 ?\n. sorry it doesn't answer my question because I'm actually using the 2.5.1 version and I'm still having this issue :( as you said \"This tracker is for rspec-1\"\n. sure, thks a lot.\n. ",
    "adkron": "rspec (2.5.0)\nrspec-core (2.5.1)\nrspec-expectations (2.5.0)\nrspec-mocks (2.5.0)\nrspec-rails (2.5.0)\n. curl https://gist.github.com/raw/942752/b2ed38a341cd6e143b80539b46565458b73f6a2a/broken_spec.rb > tmp/broke_spec.rb; rspec tmp/broke_spec.rb:11\n\nThis will run the line that should fail. It wil actually run the shared_examples and pass.\n. Did you get the same error I did?\n. rspec (2.5.0)\nrspec-core (2.5.1)\nrspec-expectations (2.5.0)\nrspec-mocks (2.5.0)\nrspec-rails (2.5.0)\n. curl https://gist.github.com/raw/942752/b2ed38a341cd6e143b80539b46565458b73f6a2a/broken_spec.rb > tmp/broke_spec.rb; rspec tmp/broke_spec.rb:11\n\nThis will run the line that should fail. It wil actually run the shared_examples and pass.\n. Did you get the same error I did?\n. ",
    "freegenie": "Version is 2.5.0.  \nYou can find a copy of the spec here: https://gist.github.com/940335  I can try to setup a repo to reproduce this error if you think it would help.\n. Resolved, it was a problem with cache, it was not executing the code at all the second time since the params were the same and the request was getting cached.\n. Version is 2.5.0.  \nYou can find a copy of the spec here: https://gist.github.com/940335  I can try to setup a repo to reproduce this error if you think it would help.\n. Resolved, it was a problem with cache, it was not executing the code at all the second time since the params were the same and the request was getting cached.\n. ",
    "davidgrieser": "+1\n\nStill seems to happen in RSpec 2.5.1 as well.\n. +1\n\nStill seems to happen in RSpec 2.5.1 as well.\n. ",
    "trkoch": "+1\n\nObserved in RSpec 2.6.3\n. +1\n\nObserved in RSpec 2.6.3\n. ",
    "zealoushacker": "David, thanks for the feedback. I'll be watching the issue in rspec-rails-2 more closely. wdso thank you for re-opening this issue in the appropriate place.\n\nCheers,\nAlex\n. David, thanks for the feedback. I'll be watching the issue in rspec-rails-2 more closely. wdso thank you for re-opening this issue in the appropriate place.\n\nCheers,\nAlex\n. ",
    "Nerian": "You are right. At the end, it is just difficult to understand. I will do as you say.\n\nI posted a question in SO about how to refactor a group of tests. Maybe you can give me some insight\nhttp://stackoverflow.com/questions/6063043/rspec-how-do-i-refactor-a-group-of-tests-that-are-repeated-and-the-only-thing-th\n\nThanks a lot!\n. You are right. At the end, it is just difficult to understand. I will do as you say.\n\nI posted a question in SO about how to refactor a group of tests. Maybe you can give me some insight\nhttp://stackoverflow.com/questions/6063043/rspec-how-do-i-refactor-a-group-of-tests-that-are-repeated-and-the-only-thing-th\n\nThanks a lot!\n. ",
    "ragaskar": "Oops, that title should read p-420, but I think you saw that. \n. Oops, that title should read p-420, but I think you saw that. \n. ",
    "dmonopoly": "The index file generated by \n\n<pre>\nrails g rspec:view admin/meals index\n</pre>\n\nfails to have\n\n<pre>\ndescribe \"admin/meals/index.html.erb\" do\n</pre>\n\n\nInstead, it has\n\n<pre>\ndescribe \"meals/index.html.erb\" do\n</pre>\n. The index file generated by \n\n<pre>\nrails g rspec:view admin/meals index\n</pre>\n\nfails to have\n\n<pre>\ndescribe \"admin/meals/index.html.erb\" do\n</pre>\n\n\nInstead, it has\n\n<pre>\ndescribe \"meals/index.html.erb\" do\n</pre>\n. ",
    "epipheus": "Sorry about using the wrong issue tracker.  I just went through updating RSpec (2.4.0 to 2.6.4) and Autotest (4.4.5. to 4.4.6), but i didn't update spork (0.8.4) \n\nBut I never had this issue with RSpec 2.4.0.\n. hmm... without the to_i it complains as well.  Do you think this is a spork issue?\n. btw, just a thought about directing people to the right pages: http://pages.github.com/\n. Sorry about using the wrong issue tracker.  I just went through updating RSpec (2.4.0 to 2.6.4) and Autotest (4.4.5. to 4.4.6), but i didn't update spork (0.8.4) \n\nBut I never had this issue with RSpec 2.4.0.\n. hmm... without the to_i it complains as well.  Do you think this is a spork issue?\n. btw, just a thought about directing people to the right pages: http://pages.github.com/\n. ",
    "MikeBlyth": "I am also getting the exact same error. I have upgraded to spork 0.0.0.rc9 but that didn't help. It's doubtless some version conflict and not a bug ... where should I look? Or put this on the rspec-2 tracker?\n. I am also getting the exact same error. I have upgraded to spork 0.0.0.rc9 but that didn't help. It's doubtless some version conflict and not a bug ... where should I look? Or put this on the rspec-2 tracker?\n. ",
    "cosmolee": "I'm getting the same error.  Can anybody post a link to the right place to post for Rspec 2?  Thx.\n. Thanks, @dchelimsky.  I was hoping for a link to the specific topic thread.  My search there only turned up this:\n\n  No results for \"`block in autorun': undefined method`to_i' for true:TrueClass\".\n. I'm getting the same error.  Can anybody post a link to the right place to post for Rspec 2?  Thx.\n. Thanks, @dchelimsky.  I was hoping for a link to the specific topic thread.  My search there only turned up this:\n\n  No results for \"`block in autorun': undefined method`to_i' for true:TrueClass\".\n. ",
    "bradphelan": "I changed the code to look like\n\n```\n    def playback!(instance, method_name)\n      RSpec::Mocks::space.add(instance)\n      method_name = method_name.to_s\n      @message_chains[method_name].playback!(instance)\n      @played_methods[method_name] = instance\n      received_expected_message!(method_name) if has_expectation?(method_name)\n    end\n```\n\nand now my spec works\n. damn I just realized that :(\n. transferred\n. I changed the code to look like\n\n```\n    def playback!(instance, method_name)\n      RSpec::Mocks::space.add(instance)\n      method_name = method_name.to_s\n      @message_chains[method_name].playback!(instance)\n      @played_methods[method_name] = instance\n      received_expected_message!(method_name) if has_expectation?(method_name)\n    end\n```\n\nand now my spec works\n. damn I just realized that :(\n. transferred\n. ",
    "mbriggs": "nevermind... --tty does exactly what i need. \n. nevermind... --tty does exactly what i need. \n. ",
    "sunaku": "Reported [this issue on rspec-core](https://github.com/rspec/rspec-core/issues/445).  Thanks.\n. Looks like I already posted [this issue on rspec2](https://github.com/rspec/rspec-core/issues/445).  FYI\n. Reported [this issue on rspec-core](https://github.com/rspec/rspec-core/issues/445).  Thanks.\n. Looks like I already posted [this issue on rspec2](https://github.com/rspec/rspec-core/issues/445).  FYI\n. ",
    "routelastresort": "Both of those should have the same effect, unless your 'localhost' entry is wrongly mapped to anything other than your loopback IP (127.0.0.1) in /etc/hosts.  \n. Both of those should have the same effect, unless your 'localhost' entry is wrongly mapped to anything other than your loopback IP (127.0.0.1) in /etc/hosts.  \n. ",
    "wakiki": "p.s. this is the case with all scopes, not just my contrived example.\n. p.s. this is the case with all scopes, not just my contrived example.\n. ",
    "AgileMantis": "Wakiki\n\nI was unable to reproduce this in rspec-rails 2.8.1 w/Rails 3.1.3.  Are you still having this issue?\n\nHere's the model and spec:\n\n```\nclass Issue38 < ActiveRecord::Base\n  scope :some_scope, limit(1)\nend\n```\n\nSpec file:\n\n```\nrequire 'spec_helper'\n\ndescribe Issue38 do\n\n  it \"Should fail on some_scope.should per Issue38\" do\n    Issue38.delete_all\n    Issue38.create!\n    # I added what's below...\n    Issue38.create!\n    Issue38.count.should equal(2)\n    Issue38.some_scope.count.should equal(1)\n    # I added what's above...\n    Issue38.some_scope.should =~ [Issue38.first] # <== this fails (this does not fail for me)\n    Issue38.some_scope.all.should =~ [Issue38.first] # <== this passes   should be_invalid\n  end\n\nend\n```\n\n</code>\n. Wakiki\n\nI was unable to reproduce this in rspec-rails 2.8.1 w/Rails 3.1.3.  Are you still having this issue?\n\nHere's the model and spec:\n\n```\nclass Issue38 < ActiveRecord::Base\n  scope :some_scope, limit(1)\nend\n```\n\nSpec file:\n\n```\nrequire 'spec_helper'\n\ndescribe Issue38 do\n\n  it \"Should fail on some_scope.should per Issue38\" do\n    Issue38.delete_all\n    Issue38.create!\n    # I added what's below...\n    Issue38.create!\n    Issue38.count.should equal(2)\n    Issue38.some_scope.count.should equal(1)\n    # I added what's above...\n    Issue38.some_scope.should =~ [Issue38.first] # <== this fails (this does not fail for me)\n    Issue38.some_scope.all.should =~ [Issue38.first] # <== this passes   should be_invalid\n  end\n\nend\n```\n\n</code>\n. ",
    "matthauck": "Is there any other way around this? It appears that identity-map is not entirely stable and even comes turned off by default. \n. Okay, I am just getting into this stuff, and I found myself beginning to stub new/finders and finding it's brittleness and invasiveness a little frustrating yet seeing no real way around it. Thanks for the confirmation that I wasn't just missing something. =)\n. Is there any other way around this? It appears that identity-map is not entirely stable and even comes turned off by default. \n. Okay, I am just getting into this stuff, and I found myself beginning to stub new/finders and finding it's brittleness and invasiveness a little frustrating yet seeing no real way around it. Thanks for the confirmation that I wasn't just missing something. =)\n. ",
    "lenny": "Not sure if I understand the scenario completely but one option that I've used with Rails 3 at least is to develop the engine as a separate gem that is tested independently. To work on the gem and a client app in tandem. I temporarily edit my Gemfile to use the :path option.\n\ne.g. \n\ngem 'myengine', :path => ../myengine\n. Not sure if I understand the scenario completely but one option that I've used with Rails 3 at least is to develop the engine as a separate gem that is tested independently. To work on the gem and a client app in tandem. I temporarily edit my Gemfile to use the :path option.\n\ne.g. \n\ngem 'myengine', :path => ../myengine\n. ",
    "johncburr": "Sorry, I gave the wrong impression because I used the wrong command line.  The issue is trying to test the new \"mountable\" engines that are generated with:\n\nrails plugin new foo --mountable\n\nwhich forces unit testing.  I want to use rspec, but:\n\nrails plugin new bar --mountable -T\n\nis no help and neither one lets you easily install rspec.\n. Somebody gave the solution at http://stackoverflow.com/questions/7452037/testing-rails-3-1-mountable-engine-with-rspec/7472277#7472277\n. Sorry, I gave the wrong impression because I used the wrong command line.  The issue is trying to test the new \"mountable\" engines that are generated with:\n\nrails plugin new foo --mountable\n\nwhich forces unit testing.  I want to use rspec, but:\n\nrails plugin new bar --mountable -T\n\nis no help and neither one lets you easily install rspec.\n. Somebody gave the solution at http://stackoverflow.com/questions/7452037/testing-rails-3-1-mountable-engine-with-rspec/7472277#7472277\n. ",
    "te-chris": "Thanks for that, yeah I was poking around the error again as well.  Sorry about the non-issue!\n. Thanks for that, yeah I was poking around the error again as well.  Sorry about the non-issue!\n. ",
    "mmangino": "Changing the call to remove after to\n\n```\n          Spec::Example::ExampleGroup.after_each_parts.remove(proc)\n```\n\nseems to fix things, but it also seems like a nasty hack. \n. Changing the call to remove after to\n\n```\n          Spec::Example::ExampleGroup.after_each_parts.remove(proc)\n```\n\nseems to fix things, but it also seems like a nasty hack. \n. ",
    "hannestyden": "Using\n\n```\n  * rspec (1.3.1)\n  * rspec-rails (1.3.3)\n```\n\nI also ran into this when running a helper spec before a spec that does not require the spec environment setup helper (`spec/spec_helper.rb`).\n\nThough I \"fixed it\" by\n\n``` ruby\nSpec::Example::ExampleGroup.after_each_parts.delete(proc)\n```\n\nsince `after_each_parts` seems to be an Array in `rspec-rails (1.3.3)`.\n. Using\n\n```\n  * rspec (1.3.1)\n  * rspec-rails (1.3.3)\n```\n\nI also ran into this when running a helper spec before a spec that does not require the spec environment setup helper (`spec/spec_helper.rb`).\n\nThough I \"fixed it\" by\n\n``` ruby\nSpec::Example::ExampleGroup.after_each_parts.delete(proc)\n```\n\nsince `after_each_parts` seems to be an Array in `rspec-rails (1.3.3)`.\n. ",
    "jculvey": "Awesome...I see what your saying. Let me know at your convenience...I'd love to help out.\n. Awesome...I see what your saying. Let me know at your convenience...I'd love to help out.\n. ",
    "axsuul": "When running all specs like so:\n\n```\nrspec\n```\n\nAll my examples pass and run with no stack overflow occuring. However, it's only if I run the spec solo is this happening:\n\n```\nrspec spec/models/example_spec.rb\n```\n. Moved to https://github.com/rspec/rspec-core/issues/522\n. When running all specs like so:\n\n```\nrspec\n```\n\nAll my examples pass and run with no stack overflow occuring. However, it's only if I run the spec solo is this happening:\n\n```\nrspec spec/models/example_spec.rb\n```\n. Moved to https://github.com/rspec/rspec-core/issues/522\n. ",
    "skaufman": "Seems as if this may be an guard-rspec issue, not rspec per se. When running specs via guard, I also see that :focus isn't being used. But when running specs directly with rspec, only specs tagged with :focus run -- exactly the desired behavior.\n. Actually, it appears to be an issue with rspec 2.8.x -- not guard or spork. See this discussion:\n\nhttps://github.com/sporkrb/spork/issues/166\n\nThe simple workaround is to add `--tag focus` to your `.rspec` file, and filtering via :focus tags is restored.\n. My apologies. I'll find the correct repo next time. Many thanks for all your extraordinary work with rspec!\n. Seems as if this may be an guard-rspec issue, not rspec per se. When running specs via guard, I also see that :focus isn't being used. But when running specs directly with rspec, only specs tagged with :focus run -- exactly the desired behavior.\n. Actually, it appears to be an issue with rspec 2.8.x -- not guard or spork. See this discussion:\n\nhttps://github.com/sporkrb/spork/issues/166\n\nThe simple workaround is to add `--tag focus` to your `.rspec` file, and filtering via :focus tags is restored.\n. My apologies. I'll find the correct repo next time. Many thanks for all your extraordinary work with rspec!\n. ",
    "tbor": "Yes, seems to be a problem with guard. I have the same issue.\n. Very nice, thank you!\n. Yes, seems to be a problem with guard. I have the same issue.\n. Very nice, thank you!\n. ",
    "patrickhno": "I have also filed a bug on ruby itself, but its hard to tell if they will accept it as a actual ruby bug.\n. Link: https://bugs.ruby-lang.org/issues/5857\n. Likewise it is solved like this with rspec:\n\nInstead of:\n\n``` ruby\nMod.foo.should_receive(:some_methhod).once do\n  yield \"whatever\"\nend\n```\n\nYou can do:\n\n``` ruby\nMod.foo.should_receive(:some_methhod).once do |&prc|\n  prc.call \"whatever\"\nend\n```\n. I have also filed a bug on ruby itself, but its hard to tell if they will accept it as a actual ruby bug.\n. Link: https://bugs.ruby-lang.org/issues/5857\n. Likewise it is solved like this with rspec:\n\nInstead of:\n\n``` ruby\nMod.foo.should_receive(:some_methhod).once do\n  yield \"whatever\"\nend\n```\n\nYou can do:\n\n``` ruby\nMod.foo.should_receive(:some_methhod).once do |&prc|\n  prc.call \"whatever\"\nend\n```\n. ",
    "myronmarston": "First off, this is the issue tracker or RSpec 1, not RSpec 2.  RSpec 2 issues should be reported to the appropriate sub-project: [rspec-core](https://github.com/rspec/rspec-core), [rspec-mocks](https://github.com/rspec/rspec-mocks), [rspec-expectations](https://github.com/rspec/rspec-expectations) or [rspec-rails](https://github.com/rspec/rspec-rails).\n\nSecondly, RSpec has no integration with libnotify whatsoever.  That's a guard feature.  You should report the issue to the guard issue tracker.\n. First off, this is the issue tracker or RSpec 1, not RSpec 2.  RSpec 2 issues should be reported to the appropriate sub-project: [rspec-core](https://github.com/rspec/rspec-core), [rspec-mocks](https://github.com/rspec/rspec-mocks), [rspec-expectations](https://github.com/rspec/rspec-expectations) or [rspec-rails](https://github.com/rspec/rspec-rails).\n\nSecondly, RSpec has no integration with libnotify whatsoever.  That's a guard feature.  You should report the issue to the guard issue tracker.\n. ",
    "ngan": "I'd be happy to make a pull request for this as well.  LMK, thanks.\n. Pull request created: #54\n. @dchelimsky Any chance you'd pull this and release? We're still on rails 2.3 and rspec 1 and would be great if we didn't have to monkey patch :-)  Thanks!\n. I'd be happy to make a pull request for this as well.  LMK, thanks.\n. Pull request created: #54\n. @dchelimsky Any chance you'd pull this and release? We're still on rails 2.3 and rspec 1 and would be great if we didn't have to monkey patch :-)  Thanks!\n. ",
    "artemave": "duplicates https://github.com/rspec/rspec-expectations/issues/104\n. duplicates https://github.com/rspec/rspec-expectations/issues/104\n. ",
    "MikeEmery": "So sorry, I meant to write rcov.  That's what I get for filing a bug without coffee :( I'll edit the original report.  The code is in https://github.com/dchelimsky/rspec/blob/master/lib/spec/rake/spectask.rb\n\n```\ndef define # :nodoc:\n\n.......\n\n    if rcov\n      desc \"Remove rcov products for #{actual_name}\"\n      task paste(\"clobber_\", actual_name) do\n        rm_r rcov_dir rescue nil\n      end\n\n      clobber_task = paste(\"clobber_\", actual_name)\n      task :clobber => [clobber_task]\n\n      task actual_name => clobber_task\n    end\n    self\n  end\n```\n. Fair enough.  The app using this is stuck on Rails 2 for the foreseeable future, from what I understand it's not possible to run Rspec 2 on Rails 2.  I'll create a pull request just in case there's ever another release.\n. So sorry, I meant to write rcov.  That's what I get for filing a bug without coffee :( I'll edit the original report.  The code is in https://github.com/dchelimsky/rspec/blob/master/lib/spec/rake/spectask.rb\n\n```\ndef define # :nodoc:\n\n.......\n\n    if rcov\n      desc \"Remove rcov products for #{actual_name}\"\n      task paste(\"clobber_\", actual_name) do\n        rm_r rcov_dir rescue nil\n      end\n\n      clobber_task = paste(\"clobber_\", actual_name)\n      task :clobber => [clobber_task]\n\n      task actual_name => clobber_task\n    end\n    self\n  end\n```\n. Fair enough.  The app using this is stuck on Rails 2 for the foreseeable future, from what I understand it's not possible to run Rspec 2 on Rails 2.  I'll create a pull request just in case there's ever another release.\n. ",
    "masarakki": "rspec (2.9.0)\nrspec-core (2.9.0)\nrspec-expectations (2.9.1)\nrspec-mocks (2.9.0)\nrspec-rails (2.9.0)\n\nand ruby-1.9.3-p125\n\nnow, i create clean environment by rvm and try again, same problem occurred.\n%rvm use --create 1.9.3@rspec_test\n%gem install rspec\n%rspec foo_spec.rb --cfs\n. it works well, good! thanks.\n. rspec (2.9.0)\nrspec-core (2.9.0)\nrspec-expectations (2.9.1)\nrspec-mocks (2.9.0)\nrspec-rails (2.9.0)\n\nand ruby-1.9.3-p125\n\nnow, i create clean environment by rvm and try again, same problem occurred.\n%rvm use --create 1.9.3@rspec_test\n%gem install rspec\n%rspec foo_spec.rb --cfs\n. it works well, good! thanks.\n. ",
    "JoshCheek": "Is this fixed? [this](https://github.com/rspec/rspec-core/commit/34cb8f9d85b2d7f9f6d78c016d0f708f438bc5a3) commit looks like it might do it.\n\nIf not, I was going to relay what I found just now when I hit this issue:\n- The formatter dies when it asks the example for its description (This happens in several places, [here](https://github.com/rspec/rspec-core/blob/7db7f4bc0e26af76292c2709284e2f13f61d09ff/lib/rspec/core/formatters/documentation_formatter.rb#L41) is one)\n- The example gets its description from its metadata.  ([code](https://github.com/rspec/rspec-core/blob/13fd3efb14a210bb841bdfb547a10ee4e804297c/lib/rspec/core/example.rb#L20) -- note this has since [changed](https://github.com/rspec/rspec-core/blob/34cb8f9d85b2d7f9f6d78c016d0f708f438bc5a3/lib/rspec/core/example.rb#L27))\n- The metadata check their superclass hash for the :description key and return that if it exists. ([code](https://github.com/rspec/rspec-core/blob/107d676aba536f38ccc7317be961305c46fc0532/lib/rspec/core/metadata.rb#L44))\n- In these cases, the description has been set to nil ([code](https://github.com/rspec/rspec-core/blob/13fd3efb14a210bb841bdfb547a10ee4e804297c/lib/rspec/core/example.rb#L230) -- note this code has since [changed](https://github.com/rspec/rspec-core/blob/34cb8f9d85b2d7f9f6d78c016d0f708f438bc5a3/lib/rspec/core/example.rb#L239))\n\nThat's as far as I went since I was able to get it to not die by ensuring that description assignment had a string, and I don't really know what it ought to be (based on the values of the other descriptions I saw while troubleshooting, it seems that it was wanting to render code into text for the descriptions like \"should == [\"a\", 1]\").\n. Is this fixed? [this](https://github.com/rspec/rspec-core/commit/34cb8f9d85b2d7f9f6d78c016d0f708f438bc5a3) commit looks like it might do it.\n\nIf not, I was going to relay what I found just now when I hit this issue:\n- The formatter dies when it asks the example for its description (This happens in several places, [here](https://github.com/rspec/rspec-core/blob/7db7f4bc0e26af76292c2709284e2f13f61d09ff/lib/rspec/core/formatters/documentation_formatter.rb#L41) is one)\n- The example gets its description from its metadata.  ([code](https://github.com/rspec/rspec-core/blob/13fd3efb14a210bb841bdfb547a10ee4e804297c/lib/rspec/core/example.rb#L20) -- note this has since [changed](https://github.com/rspec/rspec-core/blob/34cb8f9d85b2d7f9f6d78c016d0f708f438bc5a3/lib/rspec/core/example.rb#L27))\n- The metadata check their superclass hash for the :description key and return that if it exists. ([code](https://github.com/rspec/rspec-core/blob/107d676aba536f38ccc7317be961305c46fc0532/lib/rspec/core/metadata.rb#L44))\n- In these cases, the description has been set to nil ([code](https://github.com/rspec/rspec-core/blob/13fd3efb14a210bb841bdfb547a10ee4e804297c/lib/rspec/core/example.rb#L230) -- note this code has since [changed](https://github.com/rspec/rspec-core/blob/34cb8f9d85b2d7f9f6d78c016d0f708f438bc5a3/lib/rspec/core/example.rb#L239))\n\nThat's as far as I went since I was able to get it to not die by ensuring that description assignment had a string, and I don't really know what it ought to be (based on the values of the other descriptions I saw while troubleshooting, it seems that it was wanting to render code into text for the descriptions like \"should == [\"a\", 1]\").\n. ",
    "gbataille": "Funny thing is that running \n`gem update rspec` afterward does install 2.9.0 and seems to work just fine.\n\nI guess the 2.9.0 gem dependencies definition has an issue\n. 1.3.5 (apt does not support the newer ones on the LTS 10.4 Ubuntu).\nYou think that might be it?\n\nIn any case, I would not be surprised at all if it was specific to my install, though I could not find what was wrong, and installing 2.8 (and then updating worked).\n\nAnyway, if it works for the community, I'm happy :)\n. Funny thing is that running \n`gem update rspec` afterward does install 2.9.0 and seems to work just fine.\n\nI guess the 2.9.0 gem dependencies definition has an issue\n. 1.3.5 (apt does not support the newer ones on the LTS 10.4 Ubuntu).\nYou think that might be it?\n\nIn any case, I would not be surprised at all if it was specific to my install, though I could not find what was wrong, and installing 2.8 (and then updating worked).\n\nAnyway, if it works for the community, I'm happy :)\n. ",
    "plribeiro3000": "Well, i do think your version is a bit older. On my debian box i got version 1.8.17. =D\n. Well, i do think your version is a bit older. On my debian box i got version 1.8.17. =D\n. ",
    "sekrett": "Nothing changed.\nMaybe you want to see this:\n\n<pre>  1) PagesController as admin user new action should render new template\n     Failure/Error: Unable to find matching line from backtrace\n     NoMethodError:\n       undefined method `env' for nil:NilClass\n     # /Users/sekrett/.rvm/gems/ruby-1.9.3-p125-perf/gems/devise-1.5.3/lib/devise/test_helpers.rb:34:in `warden'\n     # /Users/sekrett/.rvm/gems/ruby-1.9.3-p125-perf/gems/rspec-rails-2.10.0/lib/rspec/rails/adapters.rb:15:in `block (2 levels) in setup'\n     # /Users/sekrett/.rvm/gems/ruby-1.9.3-p125-perf/gems/rspec-core-2.10.0/lib/rspec/core/example.rb:178:in `instance_eval'\n     # /Users/sekrett/.rvm/gems/ruby-1.9.3-p125-perf/gems/rspec-core-2.10.0/lib/rspec/core/example.rb:178:in `instance_eval'\n     # /Users/sekrett/.rvm/gems/ruby-1.9.3-p125-perf/gems/rspec-core-2.10.0/lib/rspec/core/hooks.rb:23:in `run'\n     # /Users/sekrett/.rvm/gems/ruby-1.9.3-p125-perf/gems/rspec-core-2.10.0/lib/rspec/core/hooks.rb:63:in `block in run'\n     # /Users/sekrett/.rvm/gems/ruby-1.9.3-p125-perf/gems/rspec-core-2.10.0/lib/rspec/core/hooks.rb:63:in `each'\n     # /Users/sekrett/.rvm/gems/ruby-1.9.3-p125-perf/gems/rspec-core-2.10.0/lib/rspec/core/hooks.rb:63:in `run'\n     # /Users/sekrett/.rvm/gems/ruby-1.9.3-p125-perf/gems/rspec-core-2.10.0/lib/rspec/core/hooks.rb:400:in `run_hook'\n     # /Users/sekrett/.rvm/gems/ruby-1.9.3-p125-perf/gems/rspec-core-2.10.0/lib/rspec/core/example_group.rb:298:in `run_before_each_hooks'\n     # /Users/sekrett/.rvm/gems/ruby-1.9.3-p125-perf/gems/rspec-core-2.10.0/lib/rspec/core/example.rb:239:in `run_before_each'\n     # /Users/sekrett/.rvm/gems/ruby-1.9.3-p125-perf/gems/rspec-core-2.10.0/lib/rspec/core/example.rb:86:in `block in run'\n     # /Users/sekrett/.rvm/gems/ruby-1.9.3-p125-perf/gems/rspec-core-2.10.0/lib/rspec/core/example.rb:195:in `with_around_each_hooks'\n     # /Users/sekrett/.rvm/gems/ruby-1.9.3-p125-perf/gems/rspec-core-2.10.0/lib/rspec/core/example.rb:84:in `run'\n     # /Users/sekrett/.rvm/gems/ruby-1.9.3-p125-perf/gems/rspec-core-2.10.0/lib/rspec/core/example_group.rb:353:in `block in run_examples'\n     # /Users/sekrett/.rvm/gems/ruby-1.9.3-p125-perf/gems/rspec-core-2.10.0/lib/rspec/core/example_group.rb:349:in `map'\n     # /Users/sekrett/.rvm/gems/ruby-1.9.3-p125-perf/gems/rspec-core-2.10.0/lib/rspec/core/example_group.rb:349:in `run_examples'\n     # /Users/sekrett/.rvm/gems/ruby-1.9.3-p125-perf/gems/rspec-core-2.10.0/lib/rspec/core/example_group.rb:335:in `run'\n     # /Users/sekrett/.rvm/gems/ruby-1.9.3-p125-perf/gems/rspec-core-2.10.0/lib/rspec/core/example_group.rb:336:in `block in run'\n     # /Users/sekrett/.rvm/gems/ruby-1.9.3-p125-perf/gems/rspec-core-2.10.0/lib/rspec/core/example_group.rb:336:in `map'\n     # /Users/sekrett/.rvm/gems/ruby-1.9.3-p125-perf/gems/rspec-core-2.10.0/lib/rspec/core/example_group.rb:336:in `run'\n     # /Users/sekrett/.rvm/gems/ruby-1.9.3-p125-perf/gems/rspec-core-2.10.0/lib/rspec/core/command_line.rb:28:in `block (2 levels) in run'\n     # /Users/sekrett/.rvm/gems/ruby-1.9.3-p125-perf/gems/rspec-core-2.10.0/lib/rspec/core/command_line.rb:28:in `map'\n     # /Users/sekrett/.rvm/gems/ruby-1.9.3-p125-perf/gems/rspec-core-2.10.0/lib/rspec/core/command_line.rb:28:in `block in run'\n     # /Users/sekrett/.rvm/gems/ruby-1.9.3-p125-perf/gems/rspec-core-2.10.0/lib/rspec/core/reporter.rb:34:in `report'\n     # /Users/sekrett/.rvm/gems/ruby-1.9.3-p125-perf/gems/rspec-core-2.10.0/lib/rspec/core/command_line.rb:25:in `run'\n     # /Users/sekrett/.rvm/gems/ruby-1.9.3-p125-perf/gems/rspec-core-2.10.0/lib/rspec/core/runner.rb:69:in `run'\n     # /Users/sekrett/.rvm/gems/ruby-1.9.3-p125-perf/gems/rspec-core-2.10.0/lib/rspec/core/runner.rb:10:in `block in autorun'</pre>\n. Just in case on Devise 2.0.4 the same thing:\n\n<pre>  1) PagesController as admin user new action should render new template\n     Failure/Error: Unable to find matching line from backtrace\n     NoMethodError:\n       undefined method `env' for nil:NilClass\n     # /Users/sekrett/.rvm/gems/ruby-1.9.3-p125-perf/gems/devise-2.0.4/lib/devise/test_helpers.rb:33:in `warden'\n     # /Users/sekrett/.rvm/gems/ruby-1.9.3-p125-perf/gems/rspec-rails-2.10.0/lib/rspec/rails/adapters.rb:15:in `block (2 levels) in setup'\n     # /Users/sekrett/.rvm/gems/ruby-1.9.3-p125-perf/gems/rspec-core-2.10.0/lib/rspec/core/example.rb:178:in `instance_eval'\n     # /Users/sekrett/.rvm/gems/ruby-1.9.3-p125-perf/gems/rspec-core-2.10.0/lib/rspec/core/example.rb:178:in `instance_eval'\n     # /Users/sekrett/.rvm/gems/ruby-1.9.3-p125-perf/gems/rspec-core-2.10.0/lib/rspec/core/hooks.rb:23:in `run'\n     # /Users/sekrett/.rvm/gems/ruby-1.9.3-p125-perf/gems/rspec-core-2.10.0/lib/rspec/core/hooks.rb:63:in `block in run'\n     # /Users/sekrett/.rvm/gems/ruby-1.9.3-p125-perf/gems/rspec-core-2.10.0/lib/rspec/core/hooks.rb:63:in `each'\n     # /Users/sekrett/.rvm/gems/ruby-1.9.3-p125-perf/gems/rspec-core-2.10.0/lib/rspec/core/hooks.rb:63:in `run'\n     # /Users/sekrett/.rvm/gems/ruby-1.9.3-p125-perf/gems/rspec-core-2.10.0/lib/rspec/core/hooks.rb:400:in `run_hook'\n     # /Users/sekrett/.rvm/gems/ruby-1.9.3-p125-perf/gems/rspec-core-2.10.0/lib/rspec/core/example_group.rb:298:in `run_before_each_hooks'\n     # /Users/sekrett/.rvm/gems/ruby-1.9.3-p125-perf/gems/rspec-core-2.10.0/lib/rspec/core/example.rb:239:in `run_before_each'\n     # /Users/sekrett/.rvm/gems/ruby-1.9.3-p125-perf/gems/rspec-core-2.10.0/lib/rspec/core/example.rb:86:in `block in run'\n     # /Users/sekrett/.rvm/gems/ruby-1.9.3-p125-perf/gems/rspec-core-2.10.0/lib/rspec/core/example.rb:195:in `with_around_each_hooks'\n     # /Users/sekrett/.rvm/gems/ruby-1.9.3-p125-perf/gems/rspec-core-2.10.0/lib/rspec/core/example.rb:84:in `run'\n     # /Users/sekrett/.rvm/gems/ruby-1.9.3-p125-perf/gems/rspec-core-2.10.0/lib/rspec/core/example_group.rb:353:in `block in run_examples'\n     # /Users/sekrett/.rvm/gems/ruby-1.9.3-p125-perf/gems/rspec-core-2.10.0/lib/rspec/core/example_group.rb:349:in `map'\n     # /Users/sekrett/.rvm/gems/ruby-1.9.3-p125-perf/gems/rspec-core-2.10.0/lib/rspec/core/example_group.rb:349:in `run_examples'\n     # /Users/sekrett/.rvm/gems/ruby-1.9.3-p125-perf/gems/rspec-core-2.10.0/lib/rspec/core/example_group.rb:335:in `run'\n     # /Users/sekrett/.rvm/gems/ruby-1.9.3-p125-perf/gems/rspec-core-2.10.0/lib/rspec/core/example_group.rb:336:in `block in run'\n     # /Users/sekrett/.rvm/gems/ruby-1.9.3-p125-perf/gems/rspec-core-2.10.0/lib/rspec/core/example_group.rb:336:in `map'\n     # /Users/sekrett/.rvm/gems/ruby-1.9.3-p125-perf/gems/rspec-core-2.10.0/lib/rspec/core/example_group.rb:336:in `run'\n     # /Users/sekrett/.rvm/gems/ruby-1.9.3-p125-perf/gems/rspec-core-2.10.0/lib/rspec/core/command_line.rb:28:in `block (2 levels) in run'\n     # /Users/sekrett/.rvm/gems/ruby-1.9.3-p125-perf/gems/rspec-core-2.10.0/lib/rspec/core/command_line.rb:28:in `map'\n     # /Users/sekrett/.rvm/gems/ruby-1.9.3-p125-perf/gems/rspec-core-2.10.0/lib/rspec/core/command_line.rb:28:in `block in run'\n     # /Users/sekrett/.rvm/gems/ruby-1.9.3-p125-perf/gems/rspec-core-2.10.0/lib/rspec/core/reporter.rb:34:in `report'\n     # /Users/sekrett/.rvm/gems/ruby-1.9.3-p125-perf/gems/rspec-core-2.10.0/lib/rspec/core/command_line.rb:25:in `run'\n     # /Users/sekrett/.rvm/gems/ruby-1.9.3-p125-perf/gems/rspec-core-2.10.0/lib/rspec/core/runner.rb:69:in `run'\n     # /Users/sekrett/.rvm/gems/ruby-1.9.3-p125-perf/gems/rspec-core-2.10.0/lib/rspec/core/runner.rb:10:in `block in autorun'</pre>\n. Ok, done that. I'll write a minimal app later.\n. Nothing changed.\nMaybe you want to see this:\n\n<pre>  1) PagesController as admin user new action should render new template\n     Failure/Error: Unable to find matching line from backtrace\n     NoMethodError:\n       undefined method `env' for nil:NilClass\n     # /Users/sekrett/.rvm/gems/ruby-1.9.3-p125-perf/gems/devise-1.5.3/lib/devise/test_helpers.rb:34:in `warden'\n     # /Users/sekrett/.rvm/gems/ruby-1.9.3-p125-perf/gems/rspec-rails-2.10.0/lib/rspec/rails/adapters.rb:15:in `block (2 levels) in setup'\n     # /Users/sekrett/.rvm/gems/ruby-1.9.3-p125-perf/gems/rspec-core-2.10.0/lib/rspec/core/example.rb:178:in `instance_eval'\n     # /Users/sekrett/.rvm/gems/ruby-1.9.3-p125-perf/gems/rspec-core-2.10.0/lib/rspec/core/example.rb:178:in `instance_eval'\n     # /Users/sekrett/.rvm/gems/ruby-1.9.3-p125-perf/gems/rspec-core-2.10.0/lib/rspec/core/hooks.rb:23:in `run'\n     # /Users/sekrett/.rvm/gems/ruby-1.9.3-p125-perf/gems/rspec-core-2.10.0/lib/rspec/core/hooks.rb:63:in `block in run'\n     # /Users/sekrett/.rvm/gems/ruby-1.9.3-p125-perf/gems/rspec-core-2.10.0/lib/rspec/core/hooks.rb:63:in `each'\n     # /Users/sekrett/.rvm/gems/ruby-1.9.3-p125-perf/gems/rspec-core-2.10.0/lib/rspec/core/hooks.rb:63:in `run'\n     # /Users/sekrett/.rvm/gems/ruby-1.9.3-p125-perf/gems/rspec-core-2.10.0/lib/rspec/core/hooks.rb:400:in `run_hook'\n     # /Users/sekrett/.rvm/gems/ruby-1.9.3-p125-perf/gems/rspec-core-2.10.0/lib/rspec/core/example_group.rb:298:in `run_before_each_hooks'\n     # /Users/sekrett/.rvm/gems/ruby-1.9.3-p125-perf/gems/rspec-core-2.10.0/lib/rspec/core/example.rb:239:in `run_before_each'\n     # /Users/sekrett/.rvm/gems/ruby-1.9.3-p125-perf/gems/rspec-core-2.10.0/lib/rspec/core/example.rb:86:in `block in run'\n     # /Users/sekrett/.rvm/gems/ruby-1.9.3-p125-perf/gems/rspec-core-2.10.0/lib/rspec/core/example.rb:195:in `with_around_each_hooks'\n     # /Users/sekrett/.rvm/gems/ruby-1.9.3-p125-perf/gems/rspec-core-2.10.0/lib/rspec/core/example.rb:84:in `run'\n     # /Users/sekrett/.rvm/gems/ruby-1.9.3-p125-perf/gems/rspec-core-2.10.0/lib/rspec/core/example_group.rb:353:in `block in run_examples'\n     # /Users/sekrett/.rvm/gems/ruby-1.9.3-p125-perf/gems/rspec-core-2.10.0/lib/rspec/core/example_group.rb:349:in `map'\n     # /Users/sekrett/.rvm/gems/ruby-1.9.3-p125-perf/gems/rspec-core-2.10.0/lib/rspec/core/example_group.rb:349:in `run_examples'\n     # /Users/sekrett/.rvm/gems/ruby-1.9.3-p125-perf/gems/rspec-core-2.10.0/lib/rspec/core/example_group.rb:335:in `run'\n     # /Users/sekrett/.rvm/gems/ruby-1.9.3-p125-perf/gems/rspec-core-2.10.0/lib/rspec/core/example_group.rb:336:in `block in run'\n     # /Users/sekrett/.rvm/gems/ruby-1.9.3-p125-perf/gems/rspec-core-2.10.0/lib/rspec/core/example_group.rb:336:in `map'\n     # /Users/sekrett/.rvm/gems/ruby-1.9.3-p125-perf/gems/rspec-core-2.10.0/lib/rspec/core/example_group.rb:336:in `run'\n     # /Users/sekrett/.rvm/gems/ruby-1.9.3-p125-perf/gems/rspec-core-2.10.0/lib/rspec/core/command_line.rb:28:in `block (2 levels) in run'\n     # /Users/sekrett/.rvm/gems/ruby-1.9.3-p125-perf/gems/rspec-core-2.10.0/lib/rspec/core/command_line.rb:28:in `map'\n     # /Users/sekrett/.rvm/gems/ruby-1.9.3-p125-perf/gems/rspec-core-2.10.0/lib/rspec/core/command_line.rb:28:in `block in run'\n     # /Users/sekrett/.rvm/gems/ruby-1.9.3-p125-perf/gems/rspec-core-2.10.0/lib/rspec/core/reporter.rb:34:in `report'\n     # /Users/sekrett/.rvm/gems/ruby-1.9.3-p125-perf/gems/rspec-core-2.10.0/lib/rspec/core/command_line.rb:25:in `run'\n     # /Users/sekrett/.rvm/gems/ruby-1.9.3-p125-perf/gems/rspec-core-2.10.0/lib/rspec/core/runner.rb:69:in `run'\n     # /Users/sekrett/.rvm/gems/ruby-1.9.3-p125-perf/gems/rspec-core-2.10.0/lib/rspec/core/runner.rb:10:in `block in autorun'</pre>\n. Just in case on Devise 2.0.4 the same thing:\n\n<pre>  1) PagesController as admin user new action should render new template\n     Failure/Error: Unable to find matching line from backtrace\n     NoMethodError:\n       undefined method `env' for nil:NilClass\n     # /Users/sekrett/.rvm/gems/ruby-1.9.3-p125-perf/gems/devise-2.0.4/lib/devise/test_helpers.rb:33:in `warden'\n     # /Users/sekrett/.rvm/gems/ruby-1.9.3-p125-perf/gems/rspec-rails-2.10.0/lib/rspec/rails/adapters.rb:15:in `block (2 levels) in setup'\n     # /Users/sekrett/.rvm/gems/ruby-1.9.3-p125-perf/gems/rspec-core-2.10.0/lib/rspec/core/example.rb:178:in `instance_eval'\n     # /Users/sekrett/.rvm/gems/ruby-1.9.3-p125-perf/gems/rspec-core-2.10.0/lib/rspec/core/example.rb:178:in `instance_eval'\n     # /Users/sekrett/.rvm/gems/ruby-1.9.3-p125-perf/gems/rspec-core-2.10.0/lib/rspec/core/hooks.rb:23:in `run'\n     # /Users/sekrett/.rvm/gems/ruby-1.9.3-p125-perf/gems/rspec-core-2.10.0/lib/rspec/core/hooks.rb:63:in `block in run'\n     # /Users/sekrett/.rvm/gems/ruby-1.9.3-p125-perf/gems/rspec-core-2.10.0/lib/rspec/core/hooks.rb:63:in `each'\n     # /Users/sekrett/.rvm/gems/ruby-1.9.3-p125-perf/gems/rspec-core-2.10.0/lib/rspec/core/hooks.rb:63:in `run'\n     # /Users/sekrett/.rvm/gems/ruby-1.9.3-p125-perf/gems/rspec-core-2.10.0/lib/rspec/core/hooks.rb:400:in `run_hook'\n     # /Users/sekrett/.rvm/gems/ruby-1.9.3-p125-perf/gems/rspec-core-2.10.0/lib/rspec/core/example_group.rb:298:in `run_before_each_hooks'\n     # /Users/sekrett/.rvm/gems/ruby-1.9.3-p125-perf/gems/rspec-core-2.10.0/lib/rspec/core/example.rb:239:in `run_before_each'\n     # /Users/sekrett/.rvm/gems/ruby-1.9.3-p125-perf/gems/rspec-core-2.10.0/lib/rspec/core/example.rb:86:in `block in run'\n     # /Users/sekrett/.rvm/gems/ruby-1.9.3-p125-perf/gems/rspec-core-2.10.0/lib/rspec/core/example.rb:195:in `with_around_each_hooks'\n     # /Users/sekrett/.rvm/gems/ruby-1.9.3-p125-perf/gems/rspec-core-2.10.0/lib/rspec/core/example.rb:84:in `run'\n     # /Users/sekrett/.rvm/gems/ruby-1.9.3-p125-perf/gems/rspec-core-2.10.0/lib/rspec/core/example_group.rb:353:in `block in run_examples'\n     # /Users/sekrett/.rvm/gems/ruby-1.9.3-p125-perf/gems/rspec-core-2.10.0/lib/rspec/core/example_group.rb:349:in `map'\n     # /Users/sekrett/.rvm/gems/ruby-1.9.3-p125-perf/gems/rspec-core-2.10.0/lib/rspec/core/example_group.rb:349:in `run_examples'\n     # /Users/sekrett/.rvm/gems/ruby-1.9.3-p125-perf/gems/rspec-core-2.10.0/lib/rspec/core/example_group.rb:335:in `run'\n     # /Users/sekrett/.rvm/gems/ruby-1.9.3-p125-perf/gems/rspec-core-2.10.0/lib/rspec/core/example_group.rb:336:in `block in run'\n     # /Users/sekrett/.rvm/gems/ruby-1.9.3-p125-perf/gems/rspec-core-2.10.0/lib/rspec/core/example_group.rb:336:in `map'\n     # /Users/sekrett/.rvm/gems/ruby-1.9.3-p125-perf/gems/rspec-core-2.10.0/lib/rspec/core/example_group.rb:336:in `run'\n     # /Users/sekrett/.rvm/gems/ruby-1.9.3-p125-perf/gems/rspec-core-2.10.0/lib/rspec/core/command_line.rb:28:in `block (2 levels) in run'\n     # /Users/sekrett/.rvm/gems/ruby-1.9.3-p125-perf/gems/rspec-core-2.10.0/lib/rspec/core/command_line.rb:28:in `map'\n     # /Users/sekrett/.rvm/gems/ruby-1.9.3-p125-perf/gems/rspec-core-2.10.0/lib/rspec/core/command_line.rb:28:in `block in run'\n     # /Users/sekrett/.rvm/gems/ruby-1.9.3-p125-perf/gems/rspec-core-2.10.0/lib/rspec/core/reporter.rb:34:in `report'\n     # /Users/sekrett/.rvm/gems/ruby-1.9.3-p125-perf/gems/rspec-core-2.10.0/lib/rspec/core/command_line.rb:25:in `run'\n     # /Users/sekrett/.rvm/gems/ruby-1.9.3-p125-perf/gems/rspec-core-2.10.0/lib/rspec/core/runner.rb:69:in `run'\n     # /Users/sekrett/.rvm/gems/ruby-1.9.3-p125-perf/gems/rspec-core-2.10.0/lib/rspec/core/runner.rb:10:in `block in autorun'</pre>\n. Ok, done that. I'll write a minimal app later.\n. ",
    "robertleib": "Will do, thanks.\n. Will do, thanks.\n. ",
    "stepantubanov": "More reliable way to reproduce is to specify order in which to run the specs:\n\n```\nrspec spec/creator_spec.rb spec/join_group_spec.rb\n```\n. > This is the repository for rspec-1.x.\n\nJust noticed that, sorry.\nMoving to rspec/rspec-mocks\n. More reliable way to reproduce is to specify order in which to run the specs:\n\n```\nrspec spec/creator_spec.rb spec/join_group_spec.rb\n```\n. > This is the repository for rspec-1.x.\n\nJust noticed that, sorry.\nMoving to rspec/rspec-mocks\n. ",
    "route": "Ow sorry, I rushed to open issue, but I will not open another one, just wanna say short syntax for `expect` would be pretty good. Thanks ;)\n. Ow sorry, I rushed to open issue, but I will not open another one, just wanna say short syntax for `expect` would be pretty good. Thanks ;)\n. ",
    "killthekitten": "@dchelimsky strange thing: it fails on Travis, but not on my local machine. Both are running `ruby 2.1.1p76`; also, my specs are wrapped into a `Timecop.freeze` block, so it should work more like that\n\n```\n\u00bb  time = Time.zone.now\n=> Tue, 06 May 2014 05:49:03 MSK +04:00\n\u00bb  time == time\n=> true\n```\n. @dchelimsky \n\n```\nTimecop.freeze do\n  expect {\n    post(:read, id: message.id)\n  }.to change {\n    message.reload.read_at\n  }.from(nil).to Time.zone.now\nend\n\nFailure/Error: expect {\n       result should have been changed to Tue, 06 May 2014 05:00:31 MSK +04:00, but is now Tue, 06 May 2014 05:00:31 MSK +04:00\n```\n. @dchelimsky once again: I use Timecop, which freezes time literally, so it _should_ be equal\n. @dchelimsky that makes sense, thank you for explanation! And sorry for taking your time. I actually didn't think about deserialization of time object.\n. @dchelimsky strange thing: it fails on Travis, but not on my local machine. Both are running `ruby 2.1.1p76`; also, my specs are wrapped into a `Timecop.freeze` block, so it should work more like that\n\n```\n\u00bb  time = Time.zone.now\n=> Tue, 06 May 2014 05:49:03 MSK +04:00\n\u00bb  time == time\n=> true\n```\n. @dchelimsky \n\n```\nTimecop.freeze do\n  expect {\n    post(:read, id: message.id)\n  }.to change {\n    message.reload.read_at\n  }.from(nil).to Time.zone.now\nend\n\nFailure/Error: expect {\n       result should have been changed to Tue, 06 May 2014 05:00:31 MSK +04:00, but is now Tue, 06 May 2014 05:00:31 MSK +04:00\n```\n. @dchelimsky once again: I use Timecop, which freezes time literally, so it _should_ be equal\n. @dchelimsky that makes sense, thank you for explanation! And sorry for taking your time. I actually didn't think about deserialization of time object.\n. ",
    "dredozubov": "You see it because you have `require 'rspec/autorun` in your `spec_helper.rb`. You should delete it to supress this deprecation warning. Also i think it's rspec-rails issue, not rspec.\n. You see it because you have `require 'rspec/autorun` in your `spec_helper.rb`. You should delete it to supress this deprecation warning. Also i think it's rspec-rails issue, not rspec.\n. ",
    "stefanosc": "@dredozubov I can confirm your comment and suggestion are accurate and it does work. Thank you\n. @dredozubov I can confirm your comment and suggestion are accurate and it does work. Thank you\n. ",
    "vanboom": "Thanks!\n. Thanks!\n. ",
    "jaredbeck": "@ests it seems like this issue can be closed?  Thanks.\n. @ests it seems like this issue can be closed?  Thanks.\n. ",
    "Tibaus": "@dredozubov  Fix, Thank you!\n. @dredozubov  Fix, Thank you!\n. "
}